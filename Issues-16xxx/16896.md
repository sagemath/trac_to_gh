# Issue 16896: rework of row_reduced_form/weak_popov_form calling convention

archive/issues_016659.json:
```json
{
    "body": "The calling convention of `row_reduced_form` and `weak_popov_form` is bizarre and should be fixed.\n\n1. It takes a parameter `ascend` but this is ignored. It's original purpose was something like sorting the rows, but this is not part of weak Popov form or row reduced, and shouldn't pollute this method.\n\n2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.\n\n3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring. This is senseless and confusing.\n\nI've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...\n\n**CC:**  @johanrosenkilde dlucas\n\n**Keywords:** polynomial matrix\n\n**Branch:** [67c5636f25e30655a6cc5084f6e426fb181049ce](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)\n\n**Reviewer:** David Lucas\n\n**Author:** David M\u00f6dinger, Johan Sebastian Rosenkilde Nielsen\n\n**Dependencies:** #16888\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16896\n\n",
    "closed_at": "2015-12-24T23:46:46Z",
    "created_at": "2014-08-28T13:30:57Z",
    "labels": [
        "component: linear algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "rework of row_reduced_form/weak_popov_form calling convention",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16896",
    "user": "https://trac.sagemath.org/admin/accounts/users/ketzu"
}
```
The calling convention of `row_reduced_form` and `weak_popov_form` is bizarre and should be fixed.

1. It takes a parameter `ascend` but this is ignored. It's original purpose was something like sorting the rows, but this is not part of weak Popov form or row reduced, and shouldn't pollute this method.

2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.

3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring. This is senseless and confusing.

I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...

**CC:**  @johanrosenkilde dlucas

**Keywords:** polynomial matrix

**Branch:** [67c5636f25e30655a6cc5084f6e426fb181049ce](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)

**Reviewer:** David Lucas

**Author:** David Mödinger, Johan Sebastian Rosenkilde Nielsen

**Dependencies:** #16888

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/16896





---

archive/issue_comments_287268.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"weak-popov-form matrix\".",
    "created_at": "2014-08-28T13:34:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287268",
    "user": "https://trac.sagemath.org/admin/accounts/users/ketzu"
}
```

**Changing keywords** from "" to "weak-popov-form matrix".



---

archive/issue_comments_287269.json:
```json
{
    "body": "**Author:** David M\u00f6dinger",
    "created_at": "2014-08-28T13:34:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287269",
    "user": "https://trac.sagemath.org/admin/accounts/users/ketzu"
}
```

**Author:** David Mödinger



---

archive/issue_comments_287270.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,10 @@\n+See also #16888\n \n+While renaming I see this as a chance to correct some (in my opinion) strange behavior of the method:\n+\n+\n+1. It takes a parameter ascend but does not relay it to the function (it is entirely ignored)\n+2. It takes a parameter ascend which is not related to either weak Popov form or row reduced form\n+3. It returns a 3-touple even though it is only expected to compute the wpf/rrf\n+4. d of the 3-touple and the sorting is unnecessary computation and should probably not be part of the method.\n+5. while N is nice to check some things, in my opinion it should only be given if asked for\n``````\n",
    "created_at": "2014-08-28T13:34:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287270",
    "user": "https://trac.sagemath.org/admin/accounts/users/ketzu"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,10 @@
+See also #16888
 
+While renaming I see this as a chance to correct some (in my opinion) strange behavior of the method:
+
+
+1. It takes a parameter ascend but does not relay it to the function (it is entirely ignored)
+2. It takes a parameter ascend which is not related to either weak Popov form or row reduced form
+3. It returns a 3-touple even though it is only expected to compute the wpf/rrf
+4. d of the 3-touple and the sorting is unnecessary computation and should probably not be part of the method.
+5. while N is nice to check some things, in my opinion it should only be given if asked for
``````




---

archive/issue_comments_287271.json:
```json
{
    "body": "**Dependencies:** #16888",
    "created_at": "2014-08-28T13:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287271",
    "user": "https://trac.sagemath.org/admin/accounts/users/ketzu"
}
```

**Dependencies:** #16888



---

archive/issue_comments_287272.json:
```json
{
    "body": "**Branch:** [u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention)",
    "created_at": "2014-09-08T08:24:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287272",
    "user": "https://trac.sagemath.org/admin/accounts/users/ketzu"
}
```

**Branch:** [u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention)



---

archive/issue_comments_287273.json:
```json
{
    "body": "**Commit:** [4106d05f9df82f5292e9aacb0aa4d0f3487e54f9](https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9)",
    "created_at": "2014-09-08T08:26:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287273",
    "user": "https://trac.sagemath.org/admin/accounts/users/ketzu"
}
```

**Commit:** [4106d05f9df82f5292e9aacb0aa4d0f3487e54f9](https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9)



---

archive/issue_comments_287274.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2014-09-08T08:26:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287274",
    "user": "https://trac.sagemath.org/admin/accounts/users/ketzu"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_287275.json:
```json
{
    "body": "<a id='comment:4'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9\">4106d05</a></td><td><code>Deprecation include for keyword.</code></td></tr></table>\n",
    "created_at": "2014-09-08T08:26:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287275",
    "user": "https://trac.sagemath.org/admin/accounts/users/ketzu"
}
```

<a id='comment:4'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9">4106d05</a></td><td><code>Deprecation include for keyword.</code></td></tr></table>




---

archive/issue_comments_287276.json:
```json
{
    "body": "**Changing commit** from \"[4106d05f9df82f5292e9aacb0aa4d0f3487e54f9](https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9)\" to \"[3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65](https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65)\".",
    "created_at": "2014-10-07T10:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287276",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4106d05f9df82f5292e9aacb0aa4d0f3487e54f9](https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9)" to "[3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65](https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65)".



---

archive/issue_comments_287277.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/970fde5ed4df264be62bc54c7b09e75e56643a08\">970fde5</a></td><td><code>Rename of weak_popov_form() to row_reduced_form() added deprecation warning, rework of the use of the ascend parameter, removed sorting and returning d if ascend is not set.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12755f174d1775e53ebf719612f5e984d7120677\">12755f1</a></td><td><code>Reduced to be a renaming only.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78209179e32bead65ec5f3de09c343dc1d7ed297\">7820917</a></td><td><code>Fixed the doctest of matrix/matrix_misc.py.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65\">3b827a5</a></td><td><code>merge from dependent ticket.</code></td></tr></table>\n",
    "created_at": "2014-10-07T10:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287277",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/970fde5ed4df264be62bc54c7b09e75e56643a08">970fde5</a></td><td><code>Rename of weak_popov_form() to row_reduced_form() added deprecation warning, rework of the use of the ascend parameter, removed sorting and returning d if ascend is not set.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12755f174d1775e53ebf719612f5e984d7120677">12755f1</a></td><td><code>Reduced to be a renaming only.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78209179e32bead65ec5f3de09c343dc1d7ed297">7820917</a></td><td><code>Fixed the doctest of matrix/matrix_misc.py.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65">3b827a5</a></td><td><code>merge from dependent ticket.</code></td></tr></table>




---

archive/issue_comments_287278.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b\">79bc1dd</a></td><td><code>Fixed doctests. Probably some new should be added.</code></td></tr></table>\n",
    "created_at": "2014-10-07T13:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b">79bc1dd</a></td><td><code>Fixed doctests. Probably some new should be added.</code></td></tr></table>




---

archive/issue_comments_287279.json:
```json
{
    "body": "**Changing commit** from \"[3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65](https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65)\" to \"[79bc1dda27e09fea0fb168bd47e2805fab63e67b](https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b)\".",
    "created_at": "2014-10-07T13:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287279",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65](https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65)" to "[79bc1dda27e09fea0fb168bd47e2805fab63e67b](https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b)".



---

archive/issue_events_056127.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/dlucas",
    "created_at": "2015-05-06T12:05:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16896#event-56127"
}
```



---

archive/issue_comments_287280.json:
```json
{
    "body": "<a id='comment:7'></a>\nHello,\n\nA few comments on this ticket:\n\n1) Merge with latest beta of Sage is not possible as is, as some conflicts arise with the merge. It needs to be fixed.\n\n2) There are some trailing whitespaces in both `matrix2.pyx` and `matrix_misc.py`, it will be good to remove them.\n\n3) The documentation of `row_reduced_form` mentions weak Popov form several times, like:\n\n```\n\n OUTPUT:\n\n        `W` - a matrix over `k(x)` giving a weak the Popov form of self\n```\n\nbut as far as I understand it, `row_reduced_form` does not compute the weak Popov form, for instance:\n\n```\nsage: R.<t> = QQ['t']\nsage: M = matrix([[t,t,t^2],[0,0,t], [0, t, 0]])\nsage: M.row_reduced_form()\n[t t 0]\n[0 0 t]\n[0 t 0]\n``` \ndoes not output a matrix in wPf as leading positions are the same for the first and third third rows of `M`. In that case, change occurences of weak Popov form by row reduced form.\n\n4) It could be nice to add another example in `matrix_misc.py` to illustrate the output in the case where `transformation=True`.\n\n5) You changed the arguments of `row_reduced_form` in this ticket. But in #16742, you will get the original implementation of `row_reduced_form`, which might create a conflict between the two tickets. You need to add a dependency somewhere to be sure that the merge goes smoothly.",
    "created_at": "2015-05-06T12:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287280",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:7'></a>
Hello,

A few comments on this ticket:

1) Merge with latest beta of Sage is not possible as is, as some conflicts arise with the merge. It needs to be fixed.

2) There are some trailing whitespaces in both `matrix2.pyx` and `matrix_misc.py`, it will be good to remove them.

3) The documentation of `row_reduced_form` mentions weak Popov form several times, like:

```

 OUTPUT:

        `W` - a matrix over `k(x)` giving a weak the Popov form of self
```

but as far as I understand it, `row_reduced_form` does not compute the weak Popov form, for instance:

```
sage: R.<t> = QQ['t']
sage: M = matrix([[t,t,t^2],[0,0,t], [0, t, 0]])
sage: M.row_reduced_form()
[t t 0]
[0 0 t]
[0 t 0]
``` 
does not output a matrix in wPf as leading positions are the same for the first and third third rows of `M`. In that case, change occurences of weak Popov form by row reduced form.

4) It could be nice to add another example in `matrix_misc.py` to illustrate the output in the case where `transformation=True`.

5) You changed the arguments of `row_reduced_form` in this ticket. But in #16742, you will get the original implementation of `row_reduced_form`, which might create a conflict between the two tickets. You need to add a dependency somewhere to be sure that the merge goes smoothly.



---

archive/issue_comments_287281.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2015-05-06T12:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287281",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_287282.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/acb4f468e4e8be7cb33d9db06c9ad3f868c292ee\">acb4f46</a></td><td><code>Deprecation include for keyword.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65461d16dbc47938fbcef6aa4d8116deadd8b1d1\">65461d1</a></td><td><code>Fixed doctests. Probably some new should be added.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1\">dbcacc5</a></td><td><code>Merge error corrected.</code></td></tr></table>\n",
    "created_at": "2015-07-06T13:57:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287282",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/acb4f468e4e8be7cb33d9db06c9ad3f868c292ee">acb4f46</a></td><td><code>Deprecation include for keyword.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65461d16dbc47938fbcef6aa4d8116deadd8b1d1">65461d1</a></td><td><code>Fixed doctests. Probably some new should be added.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1">dbcacc5</a></td><td><code>Merge error corrected.</code></td></tr></table>




---

archive/issue_comments_287283.json:
```json
{
    "body": "**Changing commit** from \"[79bc1dda27e09fea0fb168bd47e2805fab63e67b](https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b)\" to \"[dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1](https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1)\".",
    "created_at": "2015-07-06T13:57:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287283",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[79bc1dda27e09fea0fb168bd47e2805fab63e67b](https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b)" to "[dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1](https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1)".



---

archive/issue_comments_287284.json:
```json
{
    "body": "<a id='comment:10'></a>\nTried to rebase the commits for 6.8beta or at least 6.7 and solve all conflicts. Rework of comments including the term \"weak Popov form\" are yet to be done and testing/doctesting of current changes.",
    "created_at": "2015-07-06T14:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287284",
    "user": "https://trac.sagemath.org/admin/accounts/users/ketzu"
}
```

<a id='comment:10'></a>
Tried to rebase the commits for 6.8beta or at least 6.7 and solve all conflicts. Rework of comments including the term "weak Popov form" are yet to be done and testing/doctesting of current changes.



---

archive/issue_comments_287285.json:
```json
{
    "body": "**Changing commit** from \"[dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1](https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1)\" to \"[b54a7329a5f0baba05d17432e38de81afd4b291a](https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a)\".",
    "created_at": "2015-07-07T09:09:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287285",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1](https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1)" to "[b54a7329a5f0baba05d17432e38de81afd4b291a](https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a)".



---

archive/issue_comments_287286.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce9c5fff2113d288893d0fac92415c8049309557\">ce9c5ff</a></td><td><code>Corrected comments to row reduced form from weak popov form, added doctest using transformation=True, added parameter forwarding of transformation parameter.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a\">b54a732</a></td><td><code>Added clarification comment.</code></td></tr></table>\n",
    "created_at": "2015-07-07T09:09:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287286",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce9c5fff2113d288893d0fac92415c8049309557">ce9c5ff</a></td><td><code>Corrected comments to row reduced form from weak popov form, added doctest using transformation=True, added parameter forwarding of transformation parameter.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a">b54a732</a></td><td><code>Added clarification comment.</code></td></tr></table>




---

archive/issue_comments_287287.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-07-07T09:11:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287287",
    "user": "https://trac.sagemath.org/admin/accounts/users/ketzu"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_287288.json:
```json
{
    "body": "<a id='comment:12'></a>\nI tried to incorporate the suggestions and create a patchable commit. Doctests and compilation/integration are working for me on sages git master branch.",
    "created_at": "2015-07-07T09:11:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287288",
    "user": "https://trac.sagemath.org/admin/accounts/users/ketzu"
}
```

<a id='comment:12'></a>
I tried to incorporate the suggestions and create a patchable commit. Doctests and compilation/integration are working for me on sages git master branch.



---

archive/issue_comments_287289.json:
```json
{
    "body": "**Changing branch** from \"[u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention)\" to \"[u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention)\".",
    "created_at": "2015-12-04T09:12:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287289",
    "user": "https://github.com/johanrosenkilde"
}
```

**Changing branch** from "[u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention)" to "[u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention)".



---

archive/issue_comments_287290.json:
```json
{
    "body": "**Changing commit** from \"[b54a7329a5f0baba05d17432e38de81afd4b291a](https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a)\" to \"[b4af64e3dca222d414c4906ce4e461a4015f4606](https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606)\".",
    "created_at": "2015-12-04T14:08:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287290",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b54a7329a5f0baba05d17432e38de81afd4b291a](https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a)" to "[b4af64e3dca222d414c4906ce4e461a4015f4606](https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606)".



---

archive/issue_comments_287291.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606\">b4af64e</a></td><td><code>Reintroduced the old keywords and old calling convention for backward compatibility, but added deprecation warning.</code></td></tr></table>\n",
    "created_at": "2015-12-04T14:08:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287291",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606">b4af64e</a></td><td><code>Reintroduced the old keywords and old calling convention for backward compatibility, but added deprecation warning.</code></td></tr></table>




---

archive/issue_comments_287292.json:
```json
{
    "body": "**Changing author** from \"David M\u00f6dinger\" to \"David M\u00f6dinger, Johan S. R. Nielsen\".",
    "created_at": "2015-12-04T14:17:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287292",
    "user": "https://github.com/johanrosenkilde"
}
```

**Changing author** from "David Mödinger" to "David Mödinger, Johan S. R. Nielsen".



---

archive/issue_comments_287293.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,10 +1,7 @@\n-See also #16888\n+The calling convention of `row_reduced_form` and `weak_popov_form` is bizarre and should be fixed.\n \n-While renaming I see this as a chance to correct some (in my opinion) strange behavior of the method:\n+1. It takes a parameter `ascend` but this is ignored. It's original purpose was something like sorting the rows, but this is not part of weak Popov form or row reduced, and shouldn't pollute this method.\n \n+2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.\n \n-1. It takes a parameter ascend but does not relay it to the function (it is entirely ignored)\n-2. It takes a parameter ascend which is not related to either weak Popov form or row reduced form\n-3. It returns a 3-touple even though it is only expected to compute the wpf/rrf\n-4. d of the 3-touple and the sorting is unnecessary computation and should probably not be part of the method.\n-5. while N is nice to check some things, in my opinion it should only be given if asked for\n+I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...\n``````\n",
    "created_at": "2015-12-04T14:17:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287293",
    "user": "https://github.com/johanrosenkilde"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,10 +1,7 @@
-See also #16888
+The calling convention of `row_reduced_form` and `weak_popov_form` is bizarre and should be fixed.
 
-While renaming I see this as a chance to correct some (in my opinion) strange behavior of the method:
+1. It takes a parameter `ascend` but this is ignored. It's original purpose was something like sorting the rows, but this is not part of weak Popov form or row reduced, and shouldn't pollute this method.
 
+2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.
 
-1. It takes a parameter ascend but does not relay it to the function (it is entirely ignored)
-2. It takes a parameter ascend which is not related to either weak Popov form or row reduced form
-3. It returns a 3-touple even though it is only expected to compute the wpf/rrf
-4. d of the 3-touple and the sorting is unnecessary computation and should probably not be part of the method.
-5. while N is nice to check some things, in my opinion it should only be given if asked for
+I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...
``````




---

archive/issue_comments_287294.json:
```json
{
    "body": "**Changing keywords** from \"weak-popov-form matrix\" to \"polynomial matrix\".",
    "created_at": "2015-12-04T14:17:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287294",
    "user": "https://github.com/johanrosenkilde"
}
```

**Changing keywords** from "weak-popov-form matrix" to "polynomial matrix".



---

archive/issue_comments_287295.json:
```json
{
    "body": "<a id='comment:15'></a>\nI rewrote the patch because it didn't really fix the calling convention, while it still broke backwards compatibility without proper deprecation warnings. Now, the patch does as the new description says.\n\nIt's again at needs review.",
    "created_at": "2015-12-04T14:17:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287295",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:15'></a>
I rewrote the patch because it didn't really fix the calling convention, while it still broke backwards compatibility without proper deprecation warnings. Now, the patch does as the new description says.

It's again at needs review.



---

archive/issue_comments_287296.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2015-12-14T09:59:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287296",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_287297.json:
```json
{
    "body": "<a id='comment:16'></a>\nI guess I'm bad news' harbinger again, as I noticed the following:\n\n```\nsage: PR.<x> = GF(7)[]\nsage: M = random_matrix(PR, 5, 5)\nsage: type(M)\n<type 'sage.rings.polynomial.polynomial_zmod_flint.Polynomial_zmod_flint'>\nsage: type(M.row_reduced_form(transformation=False, old_call=False)[0, 0])\n<type 'sage.rings.fraction_field_FpT.FpTElement'>\n```\n\nSo it seems that the actual implementation messes with the type of the elements in the matrix, which is never a good thing...\n\nDavid",
    "created_at": "2015-12-14T09:59:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287297",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:16'></a>
I guess I'm bad news' harbinger again, as I noticed the following:

```
sage: PR.<x> = GF(7)[]
sage: M = random_matrix(PR, 5, 5)
sage: type(M)
<type 'sage.rings.polynomial.polynomial_zmod_flint.Polynomial_zmod_flint'>
sage: type(M.row_reduced_form(transformation=False, old_call=False)[0, 0])
<type 'sage.rings.fraction_field_FpT.FpTElement'>
```

So it seems that the actual implementation messes with the type of the elements in the matrix, which is never a good thing...

David



---

archive/issue_comments_287298.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,4 +4,6 @@\n \n 2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.\n \n+3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring.\n+\n I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...\n``````\n",
    "created_at": "2015-12-14T16:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287298",
    "user": "https://github.com/johanrosenkilde"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,4 +4,6 @@
 
 2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.
 
+3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring.
+
 I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...
``````




---

archive/issue_comments_287299.json:
```json
{
    "body": "<a id='comment:17'></a>\nThat has been the behaviour of the function always, so it's not the \"fault\" of this patch. It is, however, rather stupid, as it is because of the division with `R.one()` (named `den`) in the return line of `row_reduced_form` in `matrix_misc.py`.\n\nSo, let's say it was broken behaviour before, so we can change it without doing the deprecation-dance...",
    "created_at": "2015-12-14T16:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287299",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:17'></a>
That has been the behaviour of the function always, so it's not the "fault" of this patch. It is, however, rather stupid, as it is because of the division with `R.one()` (named `den`) in the return line of `row_reduced_form` in `matrix_misc.py`.

So, let's say it was broken behaviour before, so we can change it without doing the deprecation-dance...



---

archive/issue_comments_287300.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/323e675c3e4c3df82a01838be3c6614e188cded2\">323e675</a></td><td><code>Fix return type when input type is a polynomial matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12b72399ad84cfcc5bb32e087c693acf8619ce73\">12b7239</a></td><td><code>Drop dedent since it didn't have the intended purpose</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc\">bf1732d</a></td><td><code>Fixed the base ring fix when input is over polynomial ring.</code></td></tr></table>\n",
    "created_at": "2015-12-14T16:48:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287300",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/323e675c3e4c3df82a01838be3c6614e188cded2">323e675</a></td><td><code>Fix return type when input type is a polynomial matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12b72399ad84cfcc5bb32e087c693acf8619ce73">12b7239</a></td><td><code>Drop dedent since it didn't have the intended purpose</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc">bf1732d</a></td><td><code>Fixed the base ring fix when input is over polynomial ring.</code></td></tr></table>




---

archive/issue_comments_287301.json:
```json
{
    "body": "**Changing commit** from \"[b4af64e3dca222d414c4906ce4e461a4015f4606](https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606)\" to \"[bf1732da8877ff2936c5fca4fe20ef7354cbd1fc](https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc)\".",
    "created_at": "2015-12-14T16:48:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287301",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b4af64e3dca222d414c4906ce4e461a4015f4606](https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606)" to "[bf1732da8877ff2936c5fca4fe20ef7354cbd1fc](https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc)".



---

archive/issue_comments_287302.json:
```json
{
    "body": "**Changing commit** from \"[bf1732da8877ff2936c5fca4fe20ef7354cbd1fc](https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc)\" to \"[67c5636f25e30655a6cc5084f6e426fb181049ce](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)\".",
    "created_at": "2015-12-14T17:01:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287302",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bf1732da8877ff2936c5fca4fe20ef7354cbd1fc](https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc)" to "[67c5636f25e30655a6cc5084f6e426fb181049ce](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)".



---

archive/issue_comments_287303.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce\">67c5636</a></td><td><code>Ok, last fix</code></td></tr></table>\n",
    "created_at": "2015-12-14T17:01:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287303",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce">67c5636</a></td><td><code>Ok, last fix</code></td></tr></table>




---

archive/issue_comments_287304.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,6 +4,6 @@\n \n 2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.\n \n-3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring.\n+3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring. This is senseless and confusing.\n \n I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...\n``````\n",
    "created_at": "2015-12-14T17:02:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287304",
    "user": "https://github.com/johanrosenkilde"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,6 +4,6 @@
 
 2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.
 
-3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring.
+3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring. This is senseless and confusing.
 
 I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...
``````




---

archive/issue_comments_287305.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-12-14T17:02:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287305",
    "user": "https://github.com/johanrosenkilde"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_287306.json:
```json
{
    "body": "<a id='comment:20'></a>\nDone!",
    "created_at": "2015-12-14T17:02:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287306",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:20'></a>
Done!



---

archive/issue_comments_287307.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-12-15T09:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287307",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_287308.json:
```json
{
    "body": "<a id='comment:21'></a>\nOk, it passes the tests and fixes the bug I noticed, to me it's good to go.",
    "created_at": "2015-12-15T09:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287308",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:21'></a>
Ok, it passes the tests and fixes the bug I noticed, to me it's good to go.



---

archive/issue_comments_287309.json:
```json
{
    "body": "<a id='comment:22'></a>\nCool, thanks!",
    "created_at": "2015-12-15T10:47:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287309",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:22'></a>
Cool, thanks!



---

archive/issue_events_056128.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/dlucas",
    "created_at": "2015-12-17T09:36:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16896#event-56128"
}
```



---

archive/issue_events_056129.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/dlucas",
    "created_at": "2015-12-17T09:36:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16896#event-56129"
}
```



---

archive/issue_comments_287310.json:
```json
{
    "body": "**Reviewer:** dlucas",
    "created_at": "2015-12-17T09:36:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287310",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

**Reviewer:** dlucas



---

archive/issue_comments_287311.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2015-12-23T11:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287311",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_287312.json:
```json
{
    "body": "<a id='comment:24'></a>\nThe reviewer name is supposed to be your real name, not trac account",
    "created_at": "2015-12-23T11:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287312",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:24'></a>
The reviewer name is supposed to be your real name, not trac account



---

archive/issue_comments_287313.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2015-12-23T11:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287313",
    "user": "https://github.com/johanrosenkilde"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_287314.json:
```json
{
    "body": "**Changing reviewer** from \"dlucas\" to \"David Lucas\".",
    "created_at": "2015-12-23T11:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287314",
    "user": "https://github.com/johanrosenkilde"
}
```

**Changing reviewer** from "dlucas" to "David Lucas".



---

archive/issue_events_056130.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-24T23:46:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16896#event-56130"
}
```



---

archive/issue_comments_287315.json:
```json
{
    "body": "**Changing branch** from \"[u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention)\" to \"[67c5636f25e30655a6cc5084f6e426fb181049ce](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)\".",
    "created_at": "2015-12-24T23:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287315",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention)" to "[67c5636f25e30655a6cc5084f6e426fb181049ce](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)".



---

archive/issue_comments_287316.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2015-12-24T23:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287316",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_287317.json:
```json
{
    "body": "**Changing commit** from \"[67c5636f25e30655a6cc5084f6e426fb181049ce](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)\" to \"\".",
    "created_at": "2016-01-20T18:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287317",
    "user": "https://github.com/kcrisman"
}
```

**Changing commit** from "[67c5636f25e30655a6cc5084f6e426fb181049ce](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)" to "".



---

archive/issue_comments_287318.json:
```json
{
    "body": "**Changing author** from \"David M\u00f6dinger, Johan S. R. Nielsen\" to \"David M\u00f6dinger, Johan Sebastian Rosenkilde Nielsen\".",
    "created_at": "2016-01-20T18:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16896#issuecomment-287318",
    "user": "https://github.com/kcrisman"
}
```

**Changing author** from "David Mödinger, Johan S. R. Nielsen" to "David Mödinger, Johan Sebastian Rosenkilde Nielsen".
