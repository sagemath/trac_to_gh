# Issue 16896: rework of row_reduced_form/weak_popov_form calling convention

archive/issues_016659.json:
```json
{
    "assignees": [],
    "body": "The calling convention of `row_reduced_form` and `weak_popov_form` is bizarre and should be fixed.\n\n1. It takes a parameter `ascend` but this is ignored. It's original purpose was something like sorting the rows, but this is not part of weak Popov form or row reduced, and shouldn't pollute this method.\n\n2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.\n\n3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring. This is senseless and confusing.\n\nI've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...\n\nDepends on #16888\n\nCC:  @johanrosenkilde @sagetrac-dlucas\n\nKeywords: **polynomial matrix**\n\nBranch: **[`67c5636`](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)**\n\nReviewer: **David Lucas**\n\nAuthor: **David M\u00f6dinger, Johan Sebastian Rosenkilde Nielsen**\n\nComponent: **linear algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16896_\n\n",
    "closed_at": "2015-12-24T23:46:46Z",
    "created_at": "2014-08-28T13:30:57Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "rework of row_reduced_form/weak_popov_form calling convention",
    "type": "issue",
    "updated_at": "2016-01-20T18:13:58Z",
    "url": "https://github.com/sagemath/sage/issues/16896",
    "user": "https://github.com/sagetrac-ketzu"
}
```
The calling convention of `row_reduced_form` and `weak_popov_form` is bizarre and should be fixed.

1. It takes a parameter `ascend` but this is ignored. It's original purpose was something like sorting the rows, but this is not part of weak Popov form or row reduced, and shouldn't pollute this method.

2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.

3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring. This is senseless and confusing.

I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...

Depends on #16888

CC:  @johanrosenkilde @sagetrac-dlucas

Keywords: **polynomial matrix**

Branch: **[`67c5636`](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)**

Reviewer: **David Lucas**

Author: **David Mödinger, Johan Sebastian Rosenkilde Nielsen**

Component: **linear algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/16896_





---

archive/issue_events_242689.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2014-08-28T13:30:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242689"
}
```



---

archive/issue_events_242690.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2014-08-28T13:30:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242690"
}
```



---

archive/issue_comments_222586.json:
```json
{
    "body": "Changed keywords from none to **weak-popov-form matrix**",
    "created_at": "2014-08-28T13:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222586",
    "user": "https://github.com/sagetrac-ketzu"
}
```

Changed keywords from none to **weak-popov-form matrix**



---

archive/issue_events_242691.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2014-08-28T13:34:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
    "label_color": "0000ff",
    "label_name": "c: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242691"
}
```



---

archive/issue_events_242692.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2014-08-28T13:34:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242692"
}
```



---

archive/issue_comments_222587.json:
```json
{
    "body": "Author: **David M\u00f6dinger**",
    "created_at": "2014-08-28T13:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222587",
    "user": "https://github.com/sagetrac-ketzu"
}
```

Author: **David Mödinger**



---

archive/issue_comments_222588.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,10 @@\n+See also #16888\n \n+While renaming I see this as a chance to correct some (in my opinion) strange behavior of the method:\n+\n+\n+1. It takes a parameter ascend but does not relay it to the function (it is entirely ignored)\n+2. It takes a parameter ascend which is not related to either weak Popov form or row reduced form\n+3. It returns a 3-touple even though it is only expected to compute the wpf/rrf\n+4. d of the 3-touple and the sorting is unnecessary computation and should probably not be part of the method.\n+5. while N is nice to check some things, in my opinion it should only be given if asked for\n``````\n",
    "created_at": "2014-08-28T13:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222588",
    "user": "https://github.com/sagetrac-ketzu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,10 @@
+See also #16888
 
+While renaming I see this as a chance to correct some (in my opinion) strange behavior of the method:
+
+
+1. It takes a parameter ascend but does not relay it to the function (it is entirely ignored)
+2. It takes a parameter ascend which is not related to either weak Popov form or row reduced form
+3. It returns a 3-touple even though it is only expected to compute the wpf/rrf
+4. d of the 3-touple and the sorting is unnecessary computation and should probably not be part of the method.
+5. while N is nice to check some things, in my opinion it should only be given if asked for
``````




---

archive/issue_comments_222589.json:
```json
{
    "body": "Dependencies: **#16888**",
    "created_at": "2014-08-28T13:34:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222589",
    "user": "https://github.com/sagetrac-ketzu"
}
```

Dependencies: **#16888**



---

archive/issue_comments_222590.json:
```json
{
    "body": "Branch: **[u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention)**",
    "created_at": "2014-09-08T08:24:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222590",
    "user": "https://github.com/sagetrac-ketzu"
}
```

Branch: **[u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention)**



---

archive/issue_comments_222591.json:
```json
{
    "body": "Commit: **[`4106d05`](https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9)**",
    "created_at": "2014-09-08T08:26:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222591",
    "user": "https://github.com/sagetrac-ketzu"
}
```

Commit: **[`4106d05`](https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9)**



---

archive/issue_events_242693.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2014-09-08T08:26:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242693"
}
```



---

archive/issue_comments_222592.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9\"><code>4106d05</code></a></td><td><code>Deprecation include for keyword.</code></td></tr></table>\n",
    "created_at": "2014-09-08T08:26:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222592",
    "user": "https://github.com/sagetrac-ketzu"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9"><code>4106d05</code></a></td><td><code>Deprecation include for keyword.</code></td></tr></table>




---

archive/issue_comments_222593.json:
```json
{
    "body": "Changed commit from **[`4106d05`](https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9)** to **[`3b827a5`](https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65)**",
    "created_at": "2014-10-07T10:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222593",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4106d05`](https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9)** to **[`3b827a5`](https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65)**



---

archive/issue_comments_222594.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/970fde5ed4df264be62bc54c7b09e75e56643a08\"><code>970fde5</code></a></td><td><code>Rename of weak_popov_form() to row_reduced_form() added deprecation warning, rework of the use of the ascend parameter, removed sorting and returning d if ascend is not set.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12755f174d1775e53ebf719612f5e984d7120677\"><code>12755f1</code></a></td><td><code>Reduced to be a renaming only.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78209179e32bead65ec5f3de09c343dc1d7ed297\"><code>7820917</code></a></td><td><code>Fixed the doctest of matrix/matrix_misc.py.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65\"><code>3b827a5</code></a></td><td><code>merge from dependent ticket.</code></td></tr></table>\n",
    "created_at": "2014-10-07T10:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222594",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/970fde5ed4df264be62bc54c7b09e75e56643a08"><code>970fde5</code></a></td><td><code>Rename of weak_popov_form() to row_reduced_form() added deprecation warning, rework of the use of the ascend parameter, removed sorting and returning d if ascend is not set.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12755f174d1775e53ebf719612f5e984d7120677"><code>12755f1</code></a></td><td><code>Reduced to be a renaming only.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78209179e32bead65ec5f3de09c343dc1d7ed297"><code>7820917</code></a></td><td><code>Fixed the doctest of matrix/matrix_misc.py.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65"><code>3b827a5</code></a></td><td><code>merge from dependent ticket.</code></td></tr></table>




---

archive/issue_comments_222595.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b\"><code>79bc1dd</code></a></td><td><code>Fixed doctests. Probably some new should be added.</code></td></tr></table>\n",
    "created_at": "2014-10-07T13:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222595",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b"><code>79bc1dd</code></a></td><td><code>Fixed doctests. Probably some new should be added.</code></td></tr></table>




---

archive/issue_comments_222596.json:
```json
{
    "body": "Changed commit from **[`3b827a5`](https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65)** to **[`79bc1dd`](https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b)**",
    "created_at": "2014-10-07T13:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222596",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3b827a5`](https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65)** to **[`79bc1dd`](https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b)**



---

archive/issue_events_242694.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-05-06T12:05:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242694"
}
```



---

archive/issue_events_242695.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-05-06T12:05:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242695"
}
```



---

archive/issue_comments_222597.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHello,\n\nA few comments on this ticket:\n\n1) Merge with latest beta of Sage is not possible as is, as some conflicts arise with the merge. It needs to be fixed.\n\n2) There are some trailing whitespaces in both `matrix2.pyx` and `matrix_misc.py`, it will be good to remove them.\n\n3) The documentation of `row_reduced_form` mentions weak Popov form several times, like:\n\n```\n\n OUTPUT:\n\n        `W` - a matrix over `k(x)` giving a weak the Popov form of self\n```\n\nbut as far as I understand it, `row_reduced_form` does not compute the weak Popov form, for instance:\n\n```\nsage: R.<t> = QQ['t']\nsage: M = matrix([[t,t,t^2],[0,0,t], [0, t, 0]])\nsage: M.row_reduced_form()\n[t t 0]\n[0 0 t]\n[0 t 0]\n``` \ndoes not output a matrix in wPf as leading positions are the same for the first and third third rows of `M`. In that case, change occurences of weak Popov form by row reduced form.\n\n4) It could be nice to add another example in `matrix_misc.py` to illustrate the output in the case where `transformation=True`.\n\n5) You changed the arguments of `row_reduced_form` in this ticket. But in #16742, you will get the original implementation of `row_reduced_form`, which might create a conflict between the two tickets. You need to add a dependency somewhere to be sure that the merge goes smoothly.",
    "created_at": "2015-05-06T12:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222597",
    "user": "https://github.com/sagetrac-dlucas"
}
```

<div id="comment:7" align="right">comment:7</div>

Hello,

A few comments on this ticket:

1) Merge with latest beta of Sage is not possible as is, as some conflicts arise with the merge. It needs to be fixed.

2) There are some trailing whitespaces in both `matrix2.pyx` and `matrix_misc.py`, it will be good to remove them.

3) The documentation of `row_reduced_form` mentions weak Popov form several times, like:

```

 OUTPUT:

        `W` - a matrix over `k(x)` giving a weak the Popov form of self
```

but as far as I understand it, `row_reduced_form` does not compute the weak Popov form, for instance:

```
sage: R.<t> = QQ['t']
sage: M = matrix([[t,t,t^2],[0,0,t], [0, t, 0]])
sage: M.row_reduced_form()
[t t 0]
[0 0 t]
[0 t 0]
``` 
does not output a matrix in wPf as leading positions are the same for the first and third third rows of `M`. In that case, change occurences of weak Popov form by row reduced form.

4) It could be nice to add another example in `matrix_misc.py` to illustrate the output in the case where `transformation=True`.

5) You changed the arguments of `row_reduced_form` in this ticket. But in #16742, you will get the original implementation of `row_reduced_form`, which might create a conflict between the two tickets. You need to add a dependency somewhere to be sure that the merge goes smoothly.



---

archive/issue_events_242696.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-05-06T12:05:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242696"
}
```



---

archive/issue_events_242697.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-05-06T12:05:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242697"
}
```



---

archive/issue_comments_222598.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/acb4f468e4e8be7cb33d9db06c9ad3f868c292ee\"><code>acb4f46</code></a></td><td><code>Deprecation include for keyword.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65461d16dbc47938fbcef6aa4d8116deadd8b1d1\"><code>65461d1</code></a></td><td><code>Fixed doctests. Probably some new should be added.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1\"><code>dbcacc5</code></a></td><td><code>Merge error corrected.</code></td></tr></table>\n",
    "created_at": "2015-07-06T13:57:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222598",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/acb4f468e4e8be7cb33d9db06c9ad3f868c292ee"><code>acb4f46</code></a></td><td><code>Deprecation include for keyword.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65461d16dbc47938fbcef6aa4d8116deadd8b1d1"><code>65461d1</code></a></td><td><code>Fixed doctests. Probably some new should be added.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1"><code>dbcacc5</code></a></td><td><code>Merge error corrected.</code></td></tr></table>




---

archive/issue_comments_222599.json:
```json
{
    "body": "Changed commit from **[`79bc1dd`](https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b)** to **[`dbcacc5`](https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1)**",
    "created_at": "2015-07-06T13:57:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222599",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`79bc1dd`](https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b)** to **[`dbcacc5`](https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1)**



---

archive/issue_comments_222600.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nTried to rebase the commits for 6.8beta or at least 6.7 and solve all conflicts. Rework of comments including the term \"weak Popov form\" are yet to be done and testing/doctesting of current changes.",
    "created_at": "2015-07-06T14:08:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222600",
    "user": "https://github.com/sagetrac-ketzu"
}
```

<div id="comment:10" align="right">comment:10</div>

Tried to rebase the commits for 6.8beta or at least 6.7 and solve all conflicts. Rework of comments including the term "weak Popov form" are yet to be done and testing/doctesting of current changes.



---

archive/issue_comments_222601.json:
```json
{
    "body": "Changed commit from **[`dbcacc5`](https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1)** to **[`b54a732`](https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a)**",
    "created_at": "2015-07-07T09:09:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222601",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dbcacc5`](https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1)** to **[`b54a732`](https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a)**



---

archive/issue_comments_222602.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce9c5fff2113d288893d0fac92415c8049309557\"><code>ce9c5ff</code></a></td><td><code>Corrected comments to row reduced form from weak popov form, added doctest using transformation=True, added parameter forwarding of transformation parameter.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a\"><code>b54a732</code></a></td><td><code>Added clarification comment.</code></td></tr></table>\n",
    "created_at": "2015-07-07T09:09:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222602",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce9c5fff2113d288893d0fac92415c8049309557"><code>ce9c5ff</code></a></td><td><code>Corrected comments to row reduced form from weak popov form, added doctest using transformation=True, added parameter forwarding of transformation parameter.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a"><code>b54a732</code></a></td><td><code>Added clarification comment.</code></td></tr></table>




---

archive/issue_events_242698.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2015-07-07T09:11:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242698"
}
```



---

archive/issue_events_242699.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2015-07-07T09:11:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242699"
}
```



---

archive/issue_comments_222603.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI tried to incorporate the suggestions and create a patchable commit. Doctests and compilation/integration are working for me on sages git master branch.",
    "created_at": "2015-07-07T09:11:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222603",
    "user": "https://github.com/sagetrac-ketzu"
}
```

<div id="comment:12" align="right">comment:12</div>

I tried to incorporate the suggestions and create a patchable commit. Doctests and compilation/integration are working for me on sages git master branch.



---

archive/issue_comments_222604.json:
```json
{
    "body": "Changed branch from **[u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention)** to **[u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention)**",
    "created_at": "2015-12-04T09:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222604",
    "user": "https://github.com/johanrosenkilde"
}
```

Changed branch from **[u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention)** to **[u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention)**



---

archive/issue_comments_222605.json:
```json
{
    "body": "Changed commit from **[`b54a732`](https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a)** to **[`b4af64e`](https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606)**",
    "created_at": "2015-12-04T14:08:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222605",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b54a732`](https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a)** to **[`b4af64e`](https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606)**



---

archive/issue_comments_222606.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606\"><code>b4af64e</code></a></td><td><code>Reintroduced the old keywords and old calling convention for backward compatibility, but added deprecation warning.</code></td></tr></table>\n",
    "created_at": "2015-12-04T14:08:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222606",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606"><code>b4af64e</code></a></td><td><code>Reintroduced the old keywords and old calling convention for backward compatibility, but added deprecation warning.</code></td></tr></table>




---

archive/issue_comments_222607.json:
```json
{
    "body": "Changed author from **David M\u00f6dinger** to **David M\u00f6dinger, Johan S. R. Nielsen**",
    "created_at": "2015-12-04T14:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222607",
    "user": "https://github.com/johanrosenkilde"
}
```

Changed author from **David Mödinger** to **David Mödinger, Johan S. R. Nielsen**



---

archive/issue_comments_222608.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,7 @@\n-See also #16888\n+The calling convention of `row_reduced_form` and `weak_popov_form` is bizarre and should be fixed.\n \n-While renaming I see this as a chance to correct some (in my opinion) strange behavior of the method:\n+1. It takes a parameter `ascend` but this is ignored. It's original purpose was something like sorting the rows, but this is not part of weak Popov form or row reduced, and shouldn't pollute this method.\n \n+2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.\n \n-1. It takes a parameter ascend but does not relay it to the function (it is entirely ignored)\n-2. It takes a parameter ascend which is not related to either weak Popov form or row reduced form\n-3. It returns a 3-touple even though it is only expected to compute the wpf/rrf\n-4. d of the 3-touple and the sorting is unnecessary computation and should probably not be part of the method.\n-5. while N is nice to check some things, in my opinion it should only be given if asked for\n+I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...\n``````\n",
    "created_at": "2015-12-04T14:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222608",
    "user": "https://github.com/johanrosenkilde"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,7 @@
-See also #16888
+The calling convention of `row_reduced_form` and `weak_popov_form` is bizarre and should be fixed.
 
-While renaming I see this as a chance to correct some (in my opinion) strange behavior of the method:
+1. It takes a parameter `ascend` but this is ignored. It's original purpose was something like sorting the rows, but this is not part of weak Popov form or row reduced, and shouldn't pollute this method.
 
+2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.
 
-1. It takes a parameter ascend but does not relay it to the function (it is entirely ignored)
-2. It takes a parameter ascend which is not related to either weak Popov form or row reduced form
-3. It returns a 3-touple even though it is only expected to compute the wpf/rrf
-4. d of the 3-touple and the sorting is unnecessary computation and should probably not be part of the method.
-5. while N is nice to check some things, in my opinion it should only be given if asked for
+I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...
``````




---

archive/issue_comments_222609.json:
```json
{
    "body": "Changed keywords from **weak-popov-form matrix** to **polynomial matrix**",
    "created_at": "2015-12-04T14:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222609",
    "user": "https://github.com/johanrosenkilde"
}
```

Changed keywords from **weak-popov-form matrix** to **polynomial matrix**



---

archive/issue_comments_222610.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI rewrote the patch because it didn't really fix the calling convention, while it still broke backwards compatibility without proper deprecation warnings. Now, the patch does as the new description says.\n\nIt's again at needs review.",
    "created_at": "2015-12-04T14:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222610",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:15" align="right">comment:15</div>

I rewrote the patch because it didn't really fix the calling convention, while it still broke backwards compatibility without proper deprecation warnings. Now, the patch does as the new description says.

It's again at needs review.



---

archive/issue_events_242700.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-12-14T09:59:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242700"
}
```



---

archive/issue_events_242701.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-12-14T09:59:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242701"
}
```



---

archive/issue_comments_222611.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI guess I'm bad news' harbinger again, as I noticed the following:\n\n```\nsage: PR.<x> = GF(7)[]\nsage: M = random_matrix(PR, 5, 5)\nsage: type(M)\n<type 'sage.rings.polynomial.polynomial_zmod_flint.Polynomial_zmod_flint'>\nsage: type(M.row_reduced_form(transformation=False, old_call=False)[0, 0])\n<type 'sage.rings.fraction_field_FpT.FpTElement'>\n```\n\nSo it seems that the actual implementation messes with the type of the elements in the matrix, which is never a good thing...\n\nDavid",
    "created_at": "2015-12-14T09:59:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222611",
    "user": "https://github.com/sagetrac-dlucas"
}
```

<div id="comment:16" align="right">comment:16</div>

I guess I'm bad news' harbinger again, as I noticed the following:

```
sage: PR.<x> = GF(7)[]
sage: M = random_matrix(PR, 5, 5)
sage: type(M)
<type 'sage.rings.polynomial.polynomial_zmod_flint.Polynomial_zmod_flint'>
sage: type(M.row_reduced_form(transformation=False, old_call=False)[0, 0])
<type 'sage.rings.fraction_field_FpT.FpTElement'>
```

So it seems that the actual implementation messes with the type of the elements in the matrix, which is never a good thing...

David



---

archive/issue_comments_222612.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,6 @@\n \n 2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.\n \n+3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring.\n+\n I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...\n``````\n",
    "created_at": "2015-12-14T16:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222612",
    "user": "https://github.com/johanrosenkilde"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,6 @@
 
 2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.
 
+3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring.
+
 I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...
``````




---

archive/issue_comments_222613.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThat has been the behaviour of the function always, so it's not the \"fault\" of this patch. It is, however, rather stupid, as it is because of the division with `R.one()` (named `den`) in the return line of `row_reduced_form` in `matrix_misc.py`.\n\nSo, let's say it was broken behaviour before, so we can change it without doing the deprecation-dance...",
    "created_at": "2015-12-14T16:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222613",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:17" align="right">comment:17</div>

That has been the behaviour of the function always, so it's not the "fault" of this patch. It is, however, rather stupid, as it is because of the division with `R.one()` (named `den`) in the return line of `row_reduced_form` in `matrix_misc.py`.

So, let's say it was broken behaviour before, so we can change it without doing the deprecation-dance...



---

archive/issue_comments_222614.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/323e675c3e4c3df82a01838be3c6614e188cded2\"><code>323e675</code></a></td><td><code>Fix return type when input type is a polynomial matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12b72399ad84cfcc5bb32e087c693acf8619ce73\"><code>12b7239</code></a></td><td><code>Drop dedent since it didn't have the intended purpose</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc\"><code>bf1732d</code></a></td><td><code>Fixed the base ring fix when input is over polynomial ring.</code></td></tr></table>\n",
    "created_at": "2015-12-14T16:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222614",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/323e675c3e4c3df82a01838be3c6614e188cded2"><code>323e675</code></a></td><td><code>Fix return type when input type is a polynomial matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12b72399ad84cfcc5bb32e087c693acf8619ce73"><code>12b7239</code></a></td><td><code>Drop dedent since it didn't have the intended purpose</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc"><code>bf1732d</code></a></td><td><code>Fixed the base ring fix when input is over polynomial ring.</code></td></tr></table>




---

archive/issue_comments_222615.json:
```json
{
    "body": "Changed commit from **[`b4af64e`](https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606)** to **[`bf1732d`](https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc)**",
    "created_at": "2015-12-14T16:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222615",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b4af64e`](https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606)** to **[`bf1732d`](https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc)**



---

archive/issue_comments_222616.json:
```json
{
    "body": "Changed commit from **[`bf1732d`](https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc)** to **[`67c5636`](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)**",
    "created_at": "2015-12-14T17:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222616",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bf1732d`](https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc)** to **[`67c5636`](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)**



---

archive/issue_comments_222617.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce\"><code>67c5636</code></a></td><td><code>Ok, last fix</code></td></tr></table>\n",
    "created_at": "2015-12-14T17:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222617",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce"><code>67c5636</code></a></td><td><code>Ok, last fix</code></td></tr></table>




---

archive/issue_comments_222618.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,6 @@\n \n 2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.\n \n-3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring.\n+3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring. This is senseless and confusing.\n \n I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...\n``````\n",
    "created_at": "2015-12-14T17:02:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222618",
    "user": "https://github.com/johanrosenkilde"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,6 @@
 
 2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.
 
-3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring.
+3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring. This is senseless and confusing.
 
 I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...
``````




---

archive/issue_events_242702.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2015-12-14T17:02:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242702"
}
```



---

archive/issue_events_242703.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2015-12-14T17:02:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242703"
}
```



---

archive/issue_comments_222619.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nDone!",
    "created_at": "2015-12-14T17:02:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222619",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:20" align="right">comment:20</div>

Done!



---

archive/issue_events_242704.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-12-15T09:49:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242704"
}
```



---

archive/issue_events_242705.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-12-15T09:49:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242705"
}
```



---

archive/issue_comments_222620.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nOk, it passes the tests and fixes the bug I noticed, to me it's good to go.",
    "created_at": "2015-12-15T09:49:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222620",
    "user": "https://github.com/sagetrac-dlucas"
}
```

<div id="comment:21" align="right">comment:21</div>

Ok, it passes the tests and fixes the bug I noticed, to me it's good to go.



---

archive/issue_comments_222621.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nCool, thanks!",
    "created_at": "2015-12-15T10:47:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222621",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:22" align="right">comment:22</div>

Cool, thanks!



---

archive/issue_events_242706.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-12-17T09:36:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242706"
}
```



---

archive/issue_events_242707.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-12-17T09:36:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242707"
}
```



---

archive/issue_comments_222622.json:
```json
{
    "body": "Reviewer: **dlucas**",
    "created_at": "2015-12-17T09:36:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222622",
    "user": "https://github.com/sagetrac-dlucas"
}
```

Reviewer: **dlucas**



---

archive/issue_events_242708.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-23T11:08:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242708"
}
```



---

archive/issue_events_242709.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-23T11:08:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242709"
}
```



---

archive/issue_comments_222623.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThe reviewer name is supposed to be your real name, not trac account",
    "created_at": "2015-12-23T11:08:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222623",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

The reviewer name is supposed to be your real name, not trac account



---

archive/issue_events_242710.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2015-12-23T11:22:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242710"
}
```



---

archive/issue_events_242711.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2015-12-23T11:22:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242711"
}
```



---

archive/issue_comments_222624.json:
```json
{
    "body": "Changed reviewer from **dlucas** to **David Lucas**",
    "created_at": "2015-12-23T11:22:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222624",
    "user": "https://github.com/johanrosenkilde"
}
```

Changed reviewer from **dlucas** to **David Lucas**



---

archive/issue_events_242712.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-24T23:46:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242712"
}
```



---

archive/issue_events_242713.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ffe2a9666bc5fce755334591816741d488bae7a2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-12-24T23:46:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-242713"
}
```



---

archive/issue_comments_222625.json:
```json
{
    "body": "Changed branch from **[u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention)** to **[`67c5636`](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)**",
    "created_at": "2015-12-24T23:46:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222625",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention)** to **[`67c5636`](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)**



---

archive/issue_comments_222626.json:
```json
{
    "body": "Changed commit from **[`67c5636`](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)** to none",
    "created_at": "2016-01-20T18:13:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222626",
    "user": "https://github.com/kcrisman"
}
```

Changed commit from **[`67c5636`](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)** to none



---

archive/issue_comments_222627.json:
```json
{
    "body": "Changed author from **David M\u00f6dinger, Johan S. R. Nielsen** to **David M\u00f6dinger, Johan Sebastian Rosenkilde Nielsen**",
    "created_at": "2016-01-20T18:13:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-222627",
    "user": "https://github.com/kcrisman"
}
```

Changed author from **David Mödinger, Johan S. R. Nielsen** to **David Mödinger, Johan Sebastian Rosenkilde Nielsen**
