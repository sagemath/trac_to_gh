# Issue 16057: Fix multiplicity of nodes in Kleber tree

archive/issues_015820.json:
```json
{
    "body": "The formula should read:\n\n```\np_i^{(a)} = ( \\alpha_a | \\lambda^{(i)} ) - \\sum_{j > i} (j - i) L_j^{(a)}.\n```\nThe old formula caused the multiplicities to become too large.\n\n**Assignee:** sage-combinat\n\n**CC:**  sage-combinat @anneschilling\n\n**Keywords:** rigged configurations\n\n**Branch/Commit:** [f86beb59566af98e13af4ee6ae032eaa68a82bc7](https://github.com/sagemath/sagetrac-mirror/commit/f86beb59566af98e13af4ee6ae032eaa68a82bc7)\n\n**Reviewer:** Anne Schilling\n\n**Author:** Travis Scrimshaw\n\nIssue created by migration from https://trac.sagemath.org/ticket/16057\n\n",
    "closed_at": "2014-04-07T19:09:02Z",
    "created_at": "2014-04-04T07:46:08Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Fix multiplicity of nodes in Kleber tree",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16057",
    "user": "https://github.com/tscrim"
}
```
The formula should read:

```
p_i^{(a)} = ( \alpha_a | \lambda^{(i)} ) - \sum_{j > i} (j - i) L_j^{(a)}.
```
The old formula caused the multiplicities to become too large.

**Assignee:** sage-combinat

**CC:**  sage-combinat @anneschilling

**Keywords:** rigged configurations

**Branch/Commit:** [f86beb59566af98e13af4ee6ae032eaa68a82bc7](https://github.com/sagemath/sagetrac-mirror/commit/f86beb59566af98e13af4ee6ae032eaa68a82bc7)

**Reviewer:** Anne Schilling

**Author:** Travis Scrimshaw

Issue created by migration from https://trac.sagemath.org/ticket/16057





---

archive/issue_comments_250738.json:
```json
{
    "body": "**Branch:** [public/combinat/fix_kleber_tree_multiplicities-16057](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_kleber_tree_multiplicities-16057)",
    "created_at": "2014-04-04T07:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250738",
    "user": "https://github.com/tscrim"
}
```

**Branch:** [public/combinat/fix_kleber_tree_multiplicities-16057](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_kleber_tree_multiplicities-16057)



---

archive/issue_comments_250739.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2014-04-04T07:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250739",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_250740.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/395a6493d10e9534f3908ef478de42a4c8260144\">395a649</a></td><td><code>Fix for the multiplicitys of the Kleber tree nodes.</code></td></tr></table>\n",
    "created_at": "2014-04-04T07:47:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250740",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/395a6493d10e9534f3908ef478de42a4c8260144">395a649</a></td><td><code>Fix for the multiplicitys of the Kleber tree nodes.</code></td></tr></table>




---

archive/issue_comments_250741.json:
```json
{
    "body": "**Changing branch** from \"[public/combinat/fix_kleber_tree_multiplicities-16057](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_kleber_tree_multiplicities-16057)\" to \"[public/combinat/fix_kleber_tree_multiplicity-16057](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_kleber_tree_multiplicity-16057)\".",
    "created_at": "2014-04-04T07:47:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250741",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[public/combinat/fix_kleber_tree_multiplicities-16057](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_kleber_tree_multiplicities-16057)" to "[public/combinat/fix_kleber_tree_multiplicity-16057](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_kleber_tree_multiplicity-16057)".



---

archive/issue_comments_250742.json:
```json
{
    "body": "**Commit:** [395a6493d10e9534f3908ef478de42a4c8260144](https://github.com/sagemath/sagetrac-mirror/commit/395a6493d10e9534f3908ef478de42a4c8260144)",
    "created_at": "2014-04-04T07:47:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250742",
    "user": "https://github.com/tscrim"
}
```

**Commit:** [395a6493d10e9534f3908ef478de42a4c8260144](https://github.com/sagemath/sagetrac-mirror/commit/395a6493d10e9534f3908ef478de42a4c8260144)



---

archive/issue_comments_250743.json:
```json
{
    "body": "**Changing commit** from \"[395a6493d10e9534f3908ef478de42a4c8260144](https://github.com/sagemath/sagetrac-mirror/commit/395a6493d10e9534f3908ef478de42a4c8260144)\" to \"[d17f2cd2a36db59af1a85f118c837dc90944d4e1](https://github.com/sagemath/sagetrac-mirror/commit/d17f2cd2a36db59af1a85f118c837dc90944d4e1)\".",
    "created_at": "2014-04-04T07:48:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250743",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[395a6493d10e9534f3908ef478de42a4c8260144](https://github.com/sagemath/sagetrac-mirror/commit/395a6493d10e9534f3908ef478de42a4c8260144)" to "[d17f2cd2a36db59af1a85f118c837dc90944d4e1](https://github.com/sagemath/sagetrac-mirror/commit/d17f2cd2a36db59af1a85f118c837dc90944d4e1)".



---

archive/issue_comments_250744.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d17f2cd2a36db59af1a85f118c837dc90944d4e1\">d17f2cd</a></td><td><code>The max is unnecessary.</code></td></tr></table>\n",
    "created_at": "2014-04-04T07:48:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250744",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d17f2cd2a36db59af1a85f118c837dc90944d4e1">d17f2cd</a></td><td><code>The max is unnecessary.</code></td></tr></table>




---

archive/issue_comments_250745.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n The formula should read:\n \n ```\n-p_i^{(a)} = ( \\alpha_a | \\lambda^{(i)} ) - \\sum_{j > i} \\max(j - i, 0) L_j^{(a)}.\n+p_i^{(a)} = ( \\alpha_a | \\lambda^{(i)} ) - \\sum_{j > i} (j - i) L_j^{(a)}.\n ```\n The old formula caused the multiplicities to become too large.\n``````\n",
    "created_at": "2014-04-04T07:49:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250745",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 The formula should read:
 
 ```
-p_i^{(a)} = ( \alpha_a | \lambda^{(i)} ) - \sum_{j > i} \max(j - i, 0) L_j^{(a)}.
+p_i^{(a)} = ( \alpha_a | \lambda^{(i)} ) - \sum_{j > i} (j - i) L_j^{(a)}.
 ```
 The old formula caused the multiplicities to become too large.
``````




---

archive/issue_comments_250746.json:
```json
{
    "body": "**Reviewer:** Anne Schilling",
    "created_at": "2014-04-04T21:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250746",
    "user": "https://github.com/anneschilling"
}
```

**Reviewer:** Anne Schilling



---

archive/issue_comments_250747.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"rigged configurations\".",
    "created_at": "2014-04-04T21:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250747",
    "user": "https://github.com/anneschilling"
}
```

**Changing keywords** from "" to "rigged configurations".



---

archive/issue_comments_250748.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2014-04-04T21:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250748",
    "user": "https://github.com/anneschilling"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_250749.json:
```json
{
    "body": "**Changing commit** from \"[d17f2cd2a36db59af1a85f118c837dc90944d4e1](https://github.com/sagemath/sagetrac-mirror/commit/d17f2cd2a36db59af1a85f118c837dc90944d4e1)\" to \"[46ea05bf9b70f66becb1f8e8b9660b9bcfeee261](https://github.com/sagemath/sagetrac-mirror/commit/46ea05bf9b70f66becb1f8e8b9660b9bcfeee261)\".",
    "created_at": "2014-04-04T21:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d17f2cd2a36db59af1a85f118c837dc90944d4e1](https://github.com/sagemath/sagetrac-mirror/commit/d17f2cd2a36db59af1a85f118c837dc90944d4e1)" to "[46ea05bf9b70f66becb1f8e8b9660b9bcfeee261](https://github.com/sagemath/sagetrac-mirror/commit/46ea05bf9b70f66becb1f8e8b9660b9bcfeee261)".



---

archive/issue_comments_250750.json:
```json
{
    "body": "**Changing status** from positive_review to needs_review.",
    "created_at": "2014-04-04T21:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250750",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing status** from positive_review to needs_review.



---

archive/issue_comments_250751.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46ea05bf9b70f66becb1f8e8b9660b9bcfeee261\">46ea05b</a></td><td><code>Minor speedup to Kleber tree.</code></td></tr></table>\n",
    "created_at": "2014-04-04T21:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250751",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46ea05bf9b70f66becb1f8e8b9660b9bcfeee261">46ea05b</a></td><td><code>Minor speedup to Kleber tree.</code></td></tr></table>




---

archive/issue_comments_250752.json:
```json
{
    "body": "<a id='comment:7'></a>\nIt's faster to do it this way:\n\n```\nsage: B = [[1,2]]*50\nsage: %timeit for (r,s) in B: r,s\n100000 loops, best of 3: 6.61 \u00b5s per loop\nsage: %timeit for b in B: b[0], b[1]\n10000 loops, best of 3: 22.4 \u00b5s per loop\n```",
    "created_at": "2014-04-04T21:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250752",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
It's faster to do it this way:

```
sage: B = [[1,2]]*50
sage: %timeit for (r,s) in B: r,s
100000 loops, best of 3: 6.61 µs per loop
sage: %timeit for b in B: b[0], b[1]
10000 loops, best of 3: 22.4 µs per loop
```



---

archive/issue_comments_250753.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2014-04-04T21:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250753",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_250754.json:
```json
{
    "body": "<a id='comment:9'></a>\nThanks for doing the review.",
    "created_at": "2014-04-04T21:58:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250754",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
Thanks for doing the review.



---

archive/issue_comments_250755.json:
```json
{
    "body": "**Changing status** from positive_review to needs_review.",
    "created_at": "2014-04-04T21:59:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250755",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing status** from positive_review to needs_review.



---

archive/issue_comments_250756.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f86beb59566af98e13af4ee6ae032eaa68a82bc7\">f86beb5</a></td><td><code>Removed extraneous comment.</code></td></tr></table>\n",
    "created_at": "2014-04-04T21:59:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250756",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f86beb59566af98e13af4ee6ae032eaa68a82bc7">f86beb5</a></td><td><code>Removed extraneous comment.</code></td></tr></table>




---

archive/issue_comments_250757.json:
```json
{
    "body": "**Changing commit** from \"[46ea05bf9b70f66becb1f8e8b9660b9bcfeee261](https://github.com/sagemath/sagetrac-mirror/commit/46ea05bf9b70f66becb1f8e8b9660b9bcfeee261)\" to \"[f86beb59566af98e13af4ee6ae032eaa68a82bc7](https://github.com/sagemath/sagetrac-mirror/commit/f86beb59566af98e13af4ee6ae032eaa68a82bc7)\".",
    "created_at": "2014-04-04T21:59:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250757",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[46ea05bf9b70f66becb1f8e8b9660b9bcfeee261](https://github.com/sagemath/sagetrac-mirror/commit/46ea05bf9b70f66becb1f8e8b9660b9bcfeee261)" to "[f86beb59566af98e13af4ee6ae032eaa68a82bc7](https://github.com/sagemath/sagetrac-mirror/commit/f86beb59566af98e13af4ee6ae032eaa68a82bc7)".



---

archive/issue_comments_250758.json:
```json
{
    "body": "<a id='comment:11'></a>\nSorry, one other micro change.",
    "created_at": "2014-04-04T21:59:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250758",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
Sorry, one other micro change.



---

archive/issue_comments_250759.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2014-04-04T21:59:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250759",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_250760.json:
```json
{
    "body": "**Changing branch** from \"[public/combinat/fix_kleber_tree_multiplicity-16057](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_kleber_tree_multiplicity-16057)\" to \"[f86beb59566af98e13af4ee6ae032eaa68a82bc7](https://github.com/sagemath/sagetrac-mirror/commit/f86beb59566af98e13af4ee6ae032eaa68a82bc7)\".",
    "created_at": "2014-04-07T19:09:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16057#issuecomment-250760",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/combinat/fix_kleber_tree_multiplicity-16057](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_kleber_tree_multiplicity-16057)" to "[f86beb59566af98e13af4ee6ae032eaa68a82bc7](https://github.com/sagemath/sagetrac-mirror/commit/f86beb59566af98e13af4ee6ae032eaa68a82bc7)".



---

archive/issue_events_053364.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-07T19:09:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16057",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16057#event-53364"
}
```
