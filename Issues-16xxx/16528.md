# Issue 16528: OA(9,120)

archive/issues_016291.json:
```json
{
    "body": "As the title says ! Another one of Julian R. Abel's tricks `;-)`\n\nThis one was... Painful to implement `:-P`\n\nNathann\n\nCC:  @videlec @KPanComputes @brettpim\n\nBranch/Commit: 2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf\n\nReviewer: Vincent Delecroix\n\nAuthor: Nathann Cohen\n\nDependencies: #16524\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16528\n\n",
    "closed_at": "2014-06-29T03:56:04Z",
    "created_at": "2014-06-24T18:07:43Z",
    "labels": [
        "component: combinatorial designs"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "OA(9,120)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16528",
    "user": "https://github.com/nathanncohen"
}
```
As the title says ! Another one of Julian R. Abel's tricks `;-)`

This one was... Painful to implement `:-P`

Nathann

CC:  @videlec @KPanComputes @brettpim

Branch/Commit: 2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf

Reviewer: Vincent Delecroix

Author: Nathann Cohen

Dependencies: #16524

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16528





---

archive/issue_comments_272892.json:
```json
{
    "body": "Changing commit from \"\" to \"a6003407cd2489f24541f418c778911b39331b9b\"",
    "created_at": "2014-06-24T18:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272892",
    "user": "https://github.com/nathanncohen"
}
```

Changing commit from "" to "a6003407cd2489f24541f418c778911b39331b9b"



---

archive/issue_comments_272893.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-24T18:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272893",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_272894.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|\n|[a600340](http://git.sagemath.org/sage.git/commit/?id=a6003407cd2489f24541f418c778911b39331b9b)|`trac #16528: OA(9,120)`|",
    "created_at": "2014-06-24T18:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272894",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                        |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
|[a600340](http://git.sagemath.org/sage.git/commit/?id=a6003407cd2489f24541f418c778911b39331b9b)|`trac #16528: OA(9,120)`|



---

archive/issue_comments_272895.json:
```json
{
    "body": "Changing branch from \"\" to \"u/ncohen/16528\"",
    "created_at": "2014-06-24T18:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272895",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "u/ncohen/16528"



---

archive/issue_comments_272896.json:
```json
{
    "body": "Changing commit from \"a6003407cd2489f24541f418c778911b39331b9b\" to \"3487f093a5c6f8ee2f5454357276125a142c95d7\"",
    "created_at": "2014-06-26T21:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272896",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a6003407cd2489f24541f418c778911b39331b9b" to "3487f093a5c6f8ee2f5454357276125a142c95d7"



---

archive/issue_comments_272897.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                          |                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[e948cf6](http://git.sagemath.org/sage.git/commit/?id=e948cf64a435f48206b3f46ff9693201c5675ed5)|`trac #16423: Aligning the alignment`|\n|[0a7d853](http://git.sagemath.org/sage.git/commit/?id=0a7d853bf758ac7abce1acfe54e18c5ea784d21f)|`trac #16423: Broken doctests`|\n|[b329351](http://git.sagemath.org/sage.git/commit/?id=b3293519d314c2bd98c8074a4bd24f1535d92247)|`trac #16499: Cheap speedup in the OA recursive constructions`|\n|[a67c04f](http://git.sagemath.org/sage.git/commit/?id=a67c04f13bd0aa2b46e6998d2b996437f342470c)|`trac #16500: New recursive constructions of Orthogonal Arrays`|\n|[41c50d5](http://git.sagemath.org/sage.git/commit/?id=41c50d5a256d9e746d8acfb33a4ff7c58e05789b)|`trac #16500: Simplified find_recursive_construction`|\n|[e1992ce](http://git.sagemath.org/sage.git/commit/?id=e1992ce4c0a145ce8fd61fae0abe0809cd6ff173)|`trac #16500: doc + speedup`|\n|[697dd0c](http://git.sagemath.org/sage.git/commit/?id=697dd0ca8284485897b051015af74b385c345fb4)|`trac #16500: Typoes in the doc`|\n|[71dad5d](http://git.sagemath.org/sage.git/commit/?id=71dad5d46b3fe7b343962974a75a9c199e0904a6)|`trac #16503: q-x construction of Orthogonal Arrays`|\n|[002ceee](http://git.sagemath.org/sage.git/commit/?id=002ceee1c2cd49be71135d710057a9dea1de81c8)|`trac #16524: OA(9,135)`|\n|[3487f09](http://git.sagemath.org/sage.git/commit/?id=3487f093a5c6f8ee2f5454357276125a142c95d7)|`trac #16528: OA(9,120)`|",
    "created_at": "2014-06-26T21:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272897",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                          |                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[e948cf6](http://git.sagemath.org/sage.git/commit/?id=e948cf64a435f48206b3f46ff9693201c5675ed5)|`trac #16423: Aligning the alignment`|
|[0a7d853](http://git.sagemath.org/sage.git/commit/?id=0a7d853bf758ac7abce1acfe54e18c5ea784d21f)|`trac #16423: Broken doctests`|
|[b329351](http://git.sagemath.org/sage.git/commit/?id=b3293519d314c2bd98c8074a4bd24f1535d92247)|`trac #16499: Cheap speedup in the OA recursive constructions`|
|[a67c04f](http://git.sagemath.org/sage.git/commit/?id=a67c04f13bd0aa2b46e6998d2b996437f342470c)|`trac #16500: New recursive constructions of Orthogonal Arrays`|
|[41c50d5](http://git.sagemath.org/sage.git/commit/?id=41c50d5a256d9e746d8acfb33a4ff7c58e05789b)|`trac #16500: Simplified find_recursive_construction`|
|[e1992ce](http://git.sagemath.org/sage.git/commit/?id=e1992ce4c0a145ce8fd61fae0abe0809cd6ff173)|`trac #16500: doc + speedup`|
|[697dd0c](http://git.sagemath.org/sage.git/commit/?id=697dd0ca8284485897b051015af74b385c345fb4)|`trac #16500: Typoes in the doc`|
|[71dad5d](http://git.sagemath.org/sage.git/commit/?id=71dad5d46b3fe7b343962974a75a9c199e0904a6)|`trac #16503: q-x construction of Orthogonal Arrays`|
|[002ceee](http://git.sagemath.org/sage.git/commit/?id=002ceee1c2cd49be71135d710057a9dea1de81c8)|`trac #16524: OA(9,135)`|
|[3487f09](http://git.sagemath.org/sage.git/commit/?id=3487f093a5c6f8ee2f5454357276125a142c95d7)|`trac #16528: OA(9,120)`|



---

archive/issue_comments_272898.json:
```json
{
    "body": "<a id='comment:3'></a>\nJust comments about my commit (at `u/vdelecroix/16528`)\n\nWhy if it is precomputed you do the extra check\n\n```\nfor B in BIBD:\n    len_trace = sum(x in hyperoval for x in B)\n    assert len_trace == 0 or len_trace == 2\n```\n(commented in my commit)\n\nI replaced the ugly `Matrix[x].dict().keys()` by `M.nonzero_positions_in_row(x)`.\n\nIn two places it is not needed to build a list, Python iterator are useful for that\n\n```\n- len_trace = len([x for x in B if x in hyperoval])\n+ len_trace = sum(x in hyperoval for x in B)\n-    r = {v:i for i,v in enumerate([x for x in range(n) if x not in hyperoval])}\n+    r = {v:i for i,v in enumerate(x for x in range(n) if x not in hyperoval)}\n```\n\nThat's all before the positive review.\n\nVincent",
    "created_at": "2014-06-28T10:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272898",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>
Just comments about my commit (at `u/vdelecroix/16528`)

Why if it is precomputed you do the extra check

```
for B in BIBD:
    len_trace = sum(x in hyperoval for x in B)
    assert len_trace == 0 or len_trace == 2
```
(commented in my commit)

I replaced the ugly `Matrix[x].dict().keys()` by `M.nonzero_positions_in_row(x)`.

In two places it is not needed to build a list, Python iterator are useful for that

```
- len_trace = len([x for x in B if x in hyperoval])
+ len_trace = sum(x in hyperoval for x in B)
-    r = {v:i for i,v in enumerate([x for x in range(n) if x not in hyperoval])}
+    r = {v:i for i,v in enumerate(x for x in range(n) if x not in hyperoval)}
```

That's all before the positive review.

Vincent



---

archive/issue_comments_272899.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2014-06-28T10:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272899",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_272900.json:
```json
{
    "body": "Changing commit from \"3487f093a5c6f8ee2f5454357276125a142c95d7\" to \"c80b7f464e197ad15ed239ef1246b197d12e4a69\"",
    "created_at": "2014-06-28T10:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272900",
    "user": "https://github.com/nathanncohen"
}
```

Changing commit from "3487f093a5c6f8ee2f5454357276125a142c95d7" to "c80b7f464e197ad15ed239ef1246b197d12e4a69"



---

archive/issue_comments_272901.json:
```json
{
    "body": "<a id='comment:4'></a>\nYo !\n\n> Why if it is precomputed you do the extra check\n> \n> ```\n> for B in BIBD:\n>     len_trace = sum(x in hyperoval for x in B)\n>     assert len_trace == 0 or len_trace == 2\n> ```\n> (commented in my commit)\n\n\nBecause it costs nothing, and because, given that the constructions are not always obvious, it is good to explain what is happening all along. It works the same way if it is commented.\n\n> I replaced the ugly `Matrix[x].dict().keys()` by `M.nonzero_positions_in_row(x)`.\n\n\nThanks ! I did not know this function before you used it in another ticket.\n\n> In two places it is not needed to build a list, Python iterator are useful for that\n\n\nIf you believe that it makes any difference ... `:-P`\n\n> That's all before the positive review.\n\n\nOkayyyyyy ! Thanks, then `:-)`\n\nNathann\n\nP.S. : Something weird is happening. That's the last construction in `needs_review` ! I will fix that as soon as I get Julian's next mail `;-)`\n\nNathann\n\n---\nNew commits:\n|                                                                                                                                          |                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------|\n|[c80b7f4](http://git.sagemath.org/sage.git/commit/?id=c80b7f464e197ad15ed239ef1246b197d12e4a69)|`trac #16528: review`|",
    "created_at": "2014-06-28T10:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272901",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>
Yo !

> Why if it is precomputed you do the extra check
> 
> ```
> for B in BIBD:
>     len_trace = sum(x in hyperoval for x in B)
>     assert len_trace == 0 or len_trace == 2
> ```
> (commented in my commit)


Because it costs nothing, and because, given that the constructions are not always obvious, it is good to explain what is happening all along. It works the same way if it is commented.

> I replaced the ugly `Matrix[x].dict().keys()` by `M.nonzero_positions_in_row(x)`.


Thanks ! I did not know this function before you used it in another ticket.

> In two places it is not needed to build a list, Python iterator are useful for that


If you believe that it makes any difference ... `:-P`

> That's all before the positive review.


Okayyyyyy ! Thanks, then `:-)`

Nathann

P.S. : Something weird is happening. That's the last construction in `needs_review` ! I will fix that as soon as I get Julian's next mail `;-)`

Nathann

---
New commits:
|                                                                                                                                          |                     |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------|
|[c80b7f4](http://git.sagemath.org/sage.git/commit/?id=c80b7f464e197ad15ed239ef1246b197d12e4a69)|`trac #16528: review`|



---

archive/issue_comments_272902.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2014-06-28T10:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272902",
    "user": "https://github.com/nathanncohen"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_272903.json:
```json
{
    "body": "Changing branch from \"u/ncohen/16528\" to \"u/vdelecroix/16528\"",
    "created_at": "2014-06-28T10:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272903",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "u/ncohen/16528" to "u/vdelecroix/16528"



---

archive/issue_comments_272904.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2014-06-28T10:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272904",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_272905.json:
```json
{
    "body": "Changing branch from \"u/vdelecroix/16528\" to \"u/ncohen/16528\"",
    "created_at": "2014-06-28T13:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272905",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "u/vdelecroix/16528" to "u/ncohen/16528"



---

archive/issue_comments_272906.json:
```json
{
    "body": "Changing commit from \"c80b7f464e197ad15ed239ef1246b197d12e4a69\" to \"2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf\"",
    "created_at": "2014-06-28T13:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272906",
    "user": "https://github.com/nathanncohen"
}
```

Changing commit from "c80b7f464e197ad15ed239ef1246b197d12e4a69" to "2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf"



---

archive/issue_comments_272907.json:
```json
{
    "body": "<a id='comment:5'></a>\nNew commits:\n|                                                                                                                                          |                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[2bd16e0](http://git.sagemath.org/sage.git/commit/?id=2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf)|`trac #16528: Broken doctest`|",
    "created_at": "2014-06-28T13:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272907",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
New commits:
|                                                                                                                                          |                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[2bd16e0](http://git.sagemath.org/sage.git/commit/?id=2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf)|`trac #16528: Broken doctest`|



---

archive/issue_events_048535.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-29T03:56:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16528#event-48535"
}
```



---

archive/issue_comments_272908.json:
```json
{
    "body": "Changing branch from \"u/ncohen/16528\" to \"2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf\"",
    "created_at": "2014-06-29T03:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272908",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/ncohen/16528" to "2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf"



---

archive/issue_comments_272909.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-06-29T03:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-272909",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
