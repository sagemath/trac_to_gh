# Issue 16528: OA(9,120)

archive/issues_016291.json:
```json
{
    "body": "As the title says ! Another one of Julian R. Abel's tricks `;-)`\n\nThis one was... Painful to implement `:-P`\n\nNathann\n\n**CC:**  @videlec @KPanComputes @brettpim\n\n**Branch/Commit:** [2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf](https://github.com/sagemath/sagetrac-mirror/commit/2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf)\n\n**Reviewer:** Vincent Delecroix\n\n**Author:** Nathann Cohen\n\n**Dependencies:** #16524\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16528\n\n",
    "closed_at": "2014-06-29T03:56:04Z",
    "created_at": "2014-06-24T18:07:43Z",
    "labels": [
        "component: combinatorial designs"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "OA(9,120)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16528",
    "user": "https://github.com/nathanncohen"
}
```
As the title says ! Another one of Julian R. Abel's tricks `;-)`

This one was... Painful to implement `:-P`

Nathann

**CC:**  @videlec @KPanComputes @brettpim

**Branch/Commit:** [2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf](https://github.com/sagemath/sagetrac-mirror/commit/2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf)

**Reviewer:** Vincent Delecroix

**Author:** Nathann Cohen

**Dependencies:** #16524

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/16528





---

archive/issue_comments_277341.json:
```json
{
    "body": "**Commit:** [a6003407cd2489f24541f418c778911b39331b9b](https://github.com/sagemath/sagetrac-mirror/commit/a6003407cd2489f24541f418c778911b39331b9b)",
    "created_at": "2014-06-24T18:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277341",
    "user": "https://github.com/nathanncohen"
}
```

**Commit:** [a6003407cd2489f24541f418c778911b39331b9b](https://github.com/sagemath/sagetrac-mirror/commit/a6003407cd2489f24541f418c778911b39331b9b)



---

archive/issue_comments_277342.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2014-06-24T18:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277342",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_277343.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6003407cd2489f24541f418c778911b39331b9b\">a600340</a></td><td><code>trac #16528: OA(9,120)</code></td></tr></table>\n",
    "created_at": "2014-06-24T18:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277343",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6003407cd2489f24541f418c778911b39331b9b">a600340</a></td><td><code>trac #16528: OA(9,120)</code></td></tr></table>




---

archive/issue_comments_277344.json:
```json
{
    "body": "**Branch:** [u/ncohen/16528](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16528)",
    "created_at": "2014-06-24T18:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277344",
    "user": "https://github.com/nathanncohen"
}
```

**Branch:** [u/ncohen/16528](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16528)



---

archive/issue_comments_277345.json:
```json
{
    "body": "**Changing commit** from \"[a6003407cd2489f24541f418c778911b39331b9b](https://github.com/sagemath/sagetrac-mirror/commit/a6003407cd2489f24541f418c778911b39331b9b)\" to \"[3487f093a5c6f8ee2f5454357276125a142c95d7](https://github.com/sagemath/sagetrac-mirror/commit/3487f093a5c6f8ee2f5454357276125a142c95d7)\".",
    "created_at": "2014-06-26T21:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a6003407cd2489f24541f418c778911b39331b9b](https://github.com/sagemath/sagetrac-mirror/commit/a6003407cd2489f24541f418c778911b39331b9b)" to "[3487f093a5c6f8ee2f5454357276125a142c95d7](https://github.com/sagemath/sagetrac-mirror/commit/3487f093a5c6f8ee2f5454357276125a142c95d7)".



---

archive/issue_comments_277346.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e948cf64a435f48206b3f46ff9693201c5675ed5\">e948cf6</a></td><td><code>trac #16423: Aligning the alignment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a7d853bf758ac7abce1acfe54e18c5ea784d21f\">0a7d853</a></td><td><code>trac #16423: Broken doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3293519d314c2bd98c8074a4bd24f1535d92247\">b329351</a></td><td><code>trac #16499: Cheap speedup in the OA recursive constructions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a67c04f13bd0aa2b46e6998d2b996437f342470c\">a67c04f</a></td><td><code>trac #16500: New recursive constructions of Orthogonal Arrays</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41c50d5a256d9e746d8acfb33a4ff7c58e05789b\">41c50d5</a></td><td><code>trac #16500: Simplified find_recursive_construction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1992ce4c0a145ce8fd61fae0abe0809cd6ff173\">e1992ce</a></td><td><code>trac #16500: doc + speedup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/697dd0ca8284485897b051015af74b385c345fb4\">697dd0c</a></td><td><code>trac #16500: Typoes in the doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71dad5d46b3fe7b343962974a75a9c199e0904a6\">71dad5d</a></td><td><code>trac #16503: q-x construction of Orthogonal Arrays</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/002ceee1c2cd49be71135d710057a9dea1de81c8\">002ceee</a></td><td><code>trac #16524: OA(9,135)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3487f093a5c6f8ee2f5454357276125a142c95d7\">3487f09</a></td><td><code>trac #16528: OA(9,120)</code></td></tr></table>\n",
    "created_at": "2014-06-26T21:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277346",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e948cf64a435f48206b3f46ff9693201c5675ed5">e948cf6</a></td><td><code>trac #16423: Aligning the alignment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a7d853bf758ac7abce1acfe54e18c5ea784d21f">0a7d853</a></td><td><code>trac #16423: Broken doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3293519d314c2bd98c8074a4bd24f1535d92247">b329351</a></td><td><code>trac #16499: Cheap speedup in the OA recursive constructions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a67c04f13bd0aa2b46e6998d2b996437f342470c">a67c04f</a></td><td><code>trac #16500: New recursive constructions of Orthogonal Arrays</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41c50d5a256d9e746d8acfb33a4ff7c58e05789b">41c50d5</a></td><td><code>trac #16500: Simplified find_recursive_construction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1992ce4c0a145ce8fd61fae0abe0809cd6ff173">e1992ce</a></td><td><code>trac #16500: doc + speedup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/697dd0ca8284485897b051015af74b385c345fb4">697dd0c</a></td><td><code>trac #16500: Typoes in the doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71dad5d46b3fe7b343962974a75a9c199e0904a6">71dad5d</a></td><td><code>trac #16503: q-x construction of Orthogonal Arrays</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/002ceee1c2cd49be71135d710057a9dea1de81c8">002ceee</a></td><td><code>trac #16524: OA(9,135)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3487f093a5c6f8ee2f5454357276125a142c95d7">3487f09</a></td><td><code>trac #16528: OA(9,120)</code></td></tr></table>




---

archive/issue_comments_277347.json:
```json
{
    "body": "<a id='comment:3'></a>\nJust comments about my commit (at `u/vdelecroix/16528`)\n\nWhy if it is precomputed you do the extra check\n\n```\nfor B in BIBD:\n    len_trace = sum(x in hyperoval for x in B)\n    assert len_trace == 0 or len_trace == 2\n```\n(commented in my commit)\n\nI replaced the ugly `Matrix[x].dict().keys()` by `M.nonzero_positions_in_row(x)`.\n\nIn two places it is not needed to build a list, Python iterator are useful for that\n\n```\n- len_trace = len([x for x in B if x in hyperoval])\n+ len_trace = sum(x in hyperoval for x in B)\n-    r = {v:i for i,v in enumerate([x for x in range(n) if x not in hyperoval])}\n+    r = {v:i for i,v in enumerate(x for x in range(n) if x not in hyperoval)}\n```\n\nThat's all before the positive review.\n\nVincent",
    "created_at": "2014-06-28T10:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277347",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>
Just comments about my commit (at `u/vdelecroix/16528`)

Why if it is precomputed you do the extra check

```
for B in BIBD:
    len_trace = sum(x in hyperoval for x in B)
    assert len_trace == 0 or len_trace == 2
```
(commented in my commit)

I replaced the ugly `Matrix[x].dict().keys()` by `M.nonzero_positions_in_row(x)`.

In two places it is not needed to build a list, Python iterator are useful for that

```
- len_trace = len([x for x in B if x in hyperoval])
+ len_trace = sum(x in hyperoval for x in B)
-    r = {v:i for i,v in enumerate([x for x in range(n) if x not in hyperoval])}
+    r = {v:i for i,v in enumerate(x for x in range(n) if x not in hyperoval)}
```

That's all before the positive review.

Vincent



---

archive/issue_comments_277348.json:
```json
{
    "body": "**Changing status** from needs_review to needs_info.",
    "created_at": "2014-06-28T10:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277348",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_review to needs_info.



---

archive/issue_comments_277349.json:
```json
{
    "body": "**Changing commit** from \"[3487f093a5c6f8ee2f5454357276125a142c95d7](https://github.com/sagemath/sagetrac-mirror/commit/3487f093a5c6f8ee2f5454357276125a142c95d7)\" to \"[c80b7f464e197ad15ed239ef1246b197d12e4a69](https://github.com/sagemath/sagetrac-mirror/commit/c80b7f464e197ad15ed239ef1246b197d12e4a69)\".",
    "created_at": "2014-06-28T10:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277349",
    "user": "https://github.com/nathanncohen"
}
```

**Changing commit** from "[3487f093a5c6f8ee2f5454357276125a142c95d7](https://github.com/sagemath/sagetrac-mirror/commit/3487f093a5c6f8ee2f5454357276125a142c95d7)" to "[c80b7f464e197ad15ed239ef1246b197d12e4a69](https://github.com/sagemath/sagetrac-mirror/commit/c80b7f464e197ad15ed239ef1246b197d12e4a69)".



---

archive/issue_comments_277350.json:
```json
{
    "body": "<a id='comment:4'></a>\nYo !\n\n> Why if it is precomputed you do the extra check\n> \n> ```\n> for B in BIBD:\n>     len_trace = sum(x in hyperoval for x in B)\n>     assert len_trace == 0 or len_trace == 2\n> ```\n> (commented in my commit)\n\n\nBecause it costs nothing, and because, given that the constructions are not always obvious, it is good to explain what is happening all along. It works the same way if it is commented.\n\n> I replaced the ugly `Matrix[x].dict().keys()` by `M.nonzero_positions_in_row(x)`.\n\n\nThanks ! I did not know this function before you used it in another ticket.\n\n> In two places it is not needed to build a list, Python iterator are useful for that\n\n\nIf you believe that it makes any difference ... `:-P`\n\n> That's all before the positive review.\n\n\nOkayyyyyy ! Thanks, then `:-)`\n\nNathann\n\nP.S. : Something weird is happening. That's the last construction in `needs_review` ! I will fix that as soon as I get Julian's next mail `;-)`\n\nNathann\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c80b7f464e197ad15ed239ef1246b197d12e4a69\">c80b7f4</a></td><td><code>trac #16528: review</code></td></tr></table>\n",
    "created_at": "2014-06-28T10:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277350",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>
Yo !

> Why if it is precomputed you do the extra check
> 
> ```
> for B in BIBD:
>     len_trace = sum(x in hyperoval for x in B)
>     assert len_trace == 0 or len_trace == 2
> ```
> (commented in my commit)


Because it costs nothing, and because, given that the constructions are not always obvious, it is good to explain what is happening all along. It works the same way if it is commented.

> I replaced the ugly `Matrix[x].dict().keys()` by `M.nonzero_positions_in_row(x)`.


Thanks ! I did not know this function before you used it in another ticket.

> In two places it is not needed to build a list, Python iterator are useful for that


If you believe that it makes any difference ... `:-P`

> That's all before the positive review.


Okayyyyyy ! Thanks, then `:-)`

Nathann

P.S. : Something weird is happening. That's the last construction in `needs_review` ! I will fix that as soon as I get Julian's next mail `;-)`

Nathann

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c80b7f464e197ad15ed239ef1246b197d12e4a69">c80b7f4</a></td><td><code>trac #16528: review</code></td></tr></table>




---

archive/issue_comments_277351.json:
```json
{
    "body": "**Reviewer:** Vincent Delecroix",
    "created_at": "2014-06-28T10:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277351",
    "user": "https://github.com/nathanncohen"
}
```

**Reviewer:** Vincent Delecroix



---

archive/issue_comments_277352.json:
```json
{
    "body": "**Changing branch** from \"[u/ncohen/16528](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16528)\" to \"[u/vdelecroix/16528](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16528)\".",
    "created_at": "2014-06-28T10:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277352",
    "user": "https://github.com/nathanncohen"
}
```

**Changing branch** from "[u/ncohen/16528](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16528)" to "[u/vdelecroix/16528](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16528)".



---

archive/issue_comments_277353.json:
```json
{
    "body": "**Changing status** from needs_info to positive_review.",
    "created_at": "2014-06-28T10:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277353",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_info to positive_review.



---

archive/issue_comments_277354.json:
```json
{
    "body": "**Changing branch** from \"[u/vdelecroix/16528](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16528)\" to \"[u/ncohen/16528](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16528)\".",
    "created_at": "2014-06-28T13:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277354",
    "user": "https://github.com/nathanncohen"
}
```

**Changing branch** from "[u/vdelecroix/16528](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16528)" to "[u/ncohen/16528](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16528)".



---

archive/issue_comments_277355.json:
```json
{
    "body": "**Changing commit** from \"[c80b7f464e197ad15ed239ef1246b197d12e4a69](https://github.com/sagemath/sagetrac-mirror/commit/c80b7f464e197ad15ed239ef1246b197d12e4a69)\" to \"[2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf](https://github.com/sagemath/sagetrac-mirror/commit/2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf)\".",
    "created_at": "2014-06-28T13:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277355",
    "user": "https://github.com/nathanncohen"
}
```

**Changing commit** from "[c80b7f464e197ad15ed239ef1246b197d12e4a69](https://github.com/sagemath/sagetrac-mirror/commit/c80b7f464e197ad15ed239ef1246b197d12e4a69)" to "[2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf](https://github.com/sagemath/sagetrac-mirror/commit/2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf)".



---

archive/issue_comments_277356.json:
```json
{
    "body": "<a id='comment:5'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf\">2bd16e0</a></td><td><code>trac #16528: Broken doctest</code></td></tr></table>\n",
    "created_at": "2014-06-28T13:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277356",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf">2bd16e0</a></td><td><code>trac #16528: Broken doctest</code></td></tr></table>




---

archive/issue_events_055205.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-29T03:56:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16528#event-55205"
}
```



---

archive/issue_comments_277357.json:
```json
{
    "body": "**Changing branch** from \"[u/ncohen/16528](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16528)\" to \"[2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf](https://github.com/sagemath/sagetrac-mirror/commit/2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf)\".",
    "created_at": "2014-06-29T03:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277357",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/ncohen/16528](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16528)" to "[2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf](https://github.com/sagemath/sagetrac-mirror/commit/2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf)".



---

archive/issue_comments_277358.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2014-06-29T03:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-277358",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed
