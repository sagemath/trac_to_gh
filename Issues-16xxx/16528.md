# Issue 16528: OA(9,120)

archive/issues_016291.json:
```json
{
    "body": "As the title says ! Another one of Julian R. Abel's tricks `;-)`\n\nThis one was... Painful to implement `:-P`\n\nNathann\n\nCC:  @videlec @KPanComputes @brettpim\n\nBranch/Commit: 2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf\n\nReviewer: Vincent Delecroix\n\nAuthor: Nathann Cohen\n\nDependencies: #16524\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16528\n\n",
    "closed_at": "2014-06-29T03:56:04Z",
    "created_at": "2014-06-24T18:07:43Z",
    "labels": [
        "component: combinatorial designs"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "OA(9,120)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16528",
    "user": "https://github.com/nathanncohen"
}
```
As the title says ! Another one of Julian R. Abel's tricks `;-)`

This one was... Painful to implement `:-P`

Nathann

CC:  @videlec @KPanComputes @brettpim

Branch/Commit: 2bd16e0fafd5bca36bc5378bf4a59d62cc79d0bf

Reviewer: Vincent Delecroix

Author: Nathann Cohen

Dependencies: #16524

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16528





---

archive/issue_comments_227065.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-24T18:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-227065",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_227066.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2014-06-24T18:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-227066",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_227067.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2014-06-26T21:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-227067",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_227068.json:
```json
{
    "body": "<a id='comment:3'></a>Just comments about my commit (at `u/vdelecroix/16528`)\n\nWhy if it is precomputed you do the extra check\n\n```\nfor B in BIBD:\n    len_trace = sum(x in hyperoval for x in B)\n    assert len_trace == 0 or len_trace == 2\n```\n(commented in my commit)\n\nI replaced the ugly `Matrix[x].dict().keys()` by `M.nonzero_positions_in_row(x)`.\n\nIn two places it is not needed to build a list, Python iterator are useful for that\n\n```\n- len_trace = len([x for x in B if x in hyperoval])\n+ len_trace = sum(x in hyperoval for x in B)\n-    r = {v:i for i,v in enumerate([x for x in range(n) if x not in hyperoval])}\n+    r = {v:i for i,v in enumerate(x for x in range(n) if x not in hyperoval)}\n```\n\nThat's all before the positive review.\n\nVincent",
    "created_at": "2014-06-28T10:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-227068",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>Just comments about my commit (at `u/vdelecroix/16528`)

Why if it is precomputed you do the extra check

```
for B in BIBD:
    len_trace = sum(x in hyperoval for x in B)
    assert len_trace == 0 or len_trace == 2
```
(commented in my commit)

I replaced the ugly `Matrix[x].dict().keys()` by `M.nonzero_positions_in_row(x)`.

In two places it is not needed to build a list, Python iterator are useful for that

```
- len_trace = len([x for x in B if x in hyperoval])
+ len_trace = sum(x in hyperoval for x in B)
-    r = {v:i for i,v in enumerate([x for x in range(n) if x not in hyperoval])}
+    r = {v:i for i,v in enumerate(x for x in range(n) if x not in hyperoval)}
```

That's all before the positive review.

Vincent



---

archive/issue_comments_227069.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2014-06-28T10:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-227069",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_227070.json:
```json
{
    "body": "<a id='comment:4'></a>Yo !\n\n> Why if it is precomputed you do the extra check\n> \n> ```\n> for B in BIBD:\n>     len_trace = sum(x in hyperoval for x in B)\n>     assert len_trace == 0 or len_trace == 2\n> ```\n> (commented in my commit)\n\n\nBecause it costs nothing, and because, given that the constructions are not always obvious, it is good to explain what is happening all along. It works the same way if it is commented.\n\n> I replaced the ugly `Matrix[x].dict().keys()` by `M.nonzero_positions_in_row(x)`.\n\n\nThanks ! I did not know this function before you used it in another ticket.\n\n> In two places it is not needed to build a list, Python iterator are useful for that\n\n\nIf you believe that it makes any difference ... `:-P`\n\n> That's all before the positive review.\n\n\nOkayyyyyy ! Thanks, then `:-)`\n\nNathann\n\nP.S. : Something weird is happening. That's the last construction in `needs_review` ! I will fix that as soon as I get Julian's next mail `;-)`\n\nNathann\n\n---\nNew commits:",
    "created_at": "2014-06-28T10:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-227070",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>Yo !

> Why if it is precomputed you do the extra check
> 
> ```
> for B in BIBD:
>     len_trace = sum(x in hyperoval for x in B)
>     assert len_trace == 0 or len_trace == 2
> ```
> (commented in my commit)


Because it costs nothing, and because, given that the constructions are not always obvious, it is good to explain what is happening all along. It works the same way if it is commented.

> I replaced the ugly `Matrix[x].dict().keys()` by `M.nonzero_positions_in_row(x)`.


Thanks ! I did not know this function before you used it in another ticket.

> In two places it is not needed to build a list, Python iterator are useful for that


If you believe that it makes any difference ... `:-P`

> That's all before the positive review.


Okayyyyyy ! Thanks, then `:-)`

Nathann

P.S. : Something weird is happening. That's the last construction in `needs_review` ! I will fix that as soon as I get Julian's next mail `;-)`

Nathann

---
New commits:



---

archive/issue_comments_227071.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2014-06-28T10:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-227071",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_227072.json:
```json
{
    "body": "<a id='comment:5'></a>New commits:",
    "created_at": "2014-06-28T13:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-227072",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>New commits:



---

archive/issue_events_048535.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-29T03:56:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16528#event-48535"
}
```



---

archive/issue_comments_227073.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-06-29T03:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16528#issuecomment-227073",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
