# Issue 16216: Improve PEP8 compliance: replace "== None" by "is None"

archive/issues_015979.json:
```json
{
    "assignees": [],
    "body": "To cite from [PEP8](http://legacy.python.org/dev/peps/pep-0008/):\n\n\nComparisons to singletons like None should always be done with is or is not, never the equality operators.\n\nThis ticket is also related to a promise in ticket:15984.\n\nCC:  @tscrim\n\nKeywords: **pep8**\n\nBranch/Commit: **[564c73c](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)**\n\nReviewer: **Ralf Stephan**\n\nAuthor: **Wilfried Luebbe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16216_\n\n",
    "closed_at": "2014-05-21T15:33:39Z",
    "created_at": "2014-04-23T12:28:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Improve PEP8 compliance: replace \"== None\" by \"is None\"",
    "type": "issue",
    "updated_at": "2014-05-21T15:33:39Z",
    "url": "https://github.com/sagemath/sage/issues/16216",
    "user": "https://github.com/wluebbe"
}
```
To cite from [PEP8](http://legacy.python.org/dev/peps/pep-0008/):


Comparisons to singletons like None should always be done with is or is not, never the equality operators.

This ticket is also related to a promise in ticket:15984.

CC:  @tscrim

Keywords: **pep8**

Branch/Commit: **[564c73c](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)**

Reviewer: **Ralf Stephan**

Author: **Wilfried Luebbe**

_Issue created by migration from https://trac.sagemath.org/ticket/16216_





---

archive/issue_events_213956.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-23T12:28:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213956"
}
```



---

archive/issue_events_213957.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-23T12:28:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213957"
}
```



---

archive/issue_events_213958.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-23T12:28:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213958"
}
```



---

archive/issue_events_213959.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-23T12:28:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213959"
}
```



---

archive/issue_comments_209754.json:
```json
{
    "body": "Commit: **[166bc6c](https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3)**",
    "created_at": "2014-04-24T05:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209754",
    "user": "https://github.com/wluebbe"
}
```

Commit: **[166bc6c](https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3)**



---

archive/issue_comments_209755.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nHi Travis, these are the changes you suggested in ticket:15984.\n\n\nWould you like to review this ticket?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83f3f2d48b14d2195d22d1a0baba74bc5aef9d0f\">83f3f2d</a></td><td><code>generated changes from \"== None\" to \"is None\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3\">166bc6c</a></td><td><code>some manual changes to further improve style</code></td></tr></table>\n",
    "created_at": "2014-04-24T05:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209755",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:1'>Comment 1:</a>
Hi Travis, these are the changes you suggested in ticket:15984.


Would you like to review this ticket?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83f3f2d48b14d2195d22d1a0baba74bc5aef9d0f">83f3f2d</a></td><td><code>generated changes from "== None" to "is None"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3">166bc6c</a></td><td><code>some manual changes to further improve style</code></td></tr></table>




---

archive/issue_comments_209756.json:
```json
{
    "body": "Branch: **[u/wluebbe/ticket/16216](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216)**",
    "created_at": "2014-04-24T05:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209756",
    "user": "https://github.com/wluebbe"
}
```

Branch: **[u/wluebbe/ticket/16216](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216)**



---

archive/issue_events_213960.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-24T05:24:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213960"
}
```



---

archive/issue_comments_209757.json:
```json
{
    "body": "Author: **Wilfried Luebbe**",
    "created_at": "2014-04-24T05:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209757",
    "user": "https://github.com/wluebbe"
}
```

Author: **Wilfried Luebbe**



---

archive/issue_comments_209758.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nWhy not provide a script here? It should be possible to apply it just before the stable release.\n\nWith a simple grep I found many more instances in\n\n- sage/coding/code_bounds.py\n- sage/schemes/toric/variety.py\n- sage/schemes/toric/chow_group.py\n- sage/schemes/projective/projective_morphism.py\n- sage/schemes/generic/divisor_group.py\n- sage/schemes/elliptic_curves/weierstrass_morphism.py\n- sage/schemes/elliptic_curves/ell_finite_field.py\n- sage/schemes/elliptic_curves/ell_generic.py\n- sage/geometry/toric_lattice.py\n- sage/geometry/triangulation/point_configuration.py\n- sage/geometry/polyhedron/misc.py\n- sage/geometry/polyhedron/cdd_file_format.py\n- sage/geometry/polyhedron/face.py\n- sage/numerical/optimize.py\n- sage/calculus/desolvers.py\n- sage/sandpiles/sandpile.py\n- sage/graphs/generic_graph.py\n- sage/graphs/graph_coloring.py\n- sage/graphs/graph.py\n- sage/modular/modform/ambient_eps.py\n- sage/categories/coxeter_groups.py\n- sage/matrix/constructor.py\n- sage/quadratic_forms/quadratic_form__ternary_Tornaria.py\n- sage/interfaces/singular.py\n- sage/combinat/root_system/root_lattice_realizations.py\n- sage/combinat/sf/ns_macdonald.py\n- sage/combinat/tableau_tuple.py\n- sage/combinat/composition_tableau.py\n- sage/combinat/k_tableau.py\n- sage/combinat/affine_permutation.py\n- sage/ext/gen_interpreters.py",
    "created_at": "2014-04-24T07:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209758",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'>Comment 2:</a>
Why not provide a script here? It should be possible to apply it just before the stable release.

With a simple grep I found many more instances in

- sage/coding/code_bounds.py
- sage/schemes/toric/variety.py
- sage/schemes/toric/chow_group.py
- sage/schemes/projective/projective_morphism.py
- sage/schemes/generic/divisor_group.py
- sage/schemes/elliptic_curves/weierstrass_morphism.py
- sage/schemes/elliptic_curves/ell_finite_field.py
- sage/schemes/elliptic_curves/ell_generic.py
- sage/geometry/toric_lattice.py
- sage/geometry/triangulation/point_configuration.py
- sage/geometry/polyhedron/misc.py
- sage/geometry/polyhedron/cdd_file_format.py
- sage/geometry/polyhedron/face.py
- sage/numerical/optimize.py
- sage/calculus/desolvers.py
- sage/sandpiles/sandpile.py
- sage/graphs/generic_graph.py
- sage/graphs/graph_coloring.py
- sage/graphs/graph.py
- sage/modular/modform/ambient_eps.py
- sage/categories/coxeter_groups.py
- sage/matrix/constructor.py
- sage/quadratic_forms/quadratic_form__ternary_Tornaria.py
- sage/interfaces/singular.py
- sage/combinat/root_system/root_lattice_realizations.py
- sage/combinat/sf/ns_macdonald.py
- sage/combinat/tableau_tuple.py
- sage/combinat/composition_tableau.py
- sage/combinat/k_tableau.py
- sage/combinat/affine_permutation.py
- sage/ext/gen_interpreters.py



---

archive/issue_comments_209759.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nI guess something like the following would do the job (trickier than what I thought... I edited twice my answer)\n\n```\n#!/usr/bin/env bash\n\nfor f in $(find . -name \"*py\");\ndo\n    echo \"processing $f\"\n    sed -i -e's/==\\ *None$/is None/g' $f\n    sed -i -e's/==\\ *None\\([ :)]\\)/is None\\1/g' $f\n    sed -i -e's/!=\\ *None$/is not None/g' $f\n    sed -i -e's/!=\\ *None\\([ :)]\\)/is not None\\1/g' $f\ndone\n```",
    "created_at": "2014-04-24T08:19:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209759",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'>Comment 3:</a>
I guess something like the following would do the job (trickier than what I thought... I edited twice my answer)

```
#!/usr/bin/env bash

for f in $(find . -name "*py");
do
    echo "processing $f"
    sed -i -e's/==\ *None$/is None/g' $f
    sed -i -e's/==\ *None\([ :)]\)/is None\1/g' $f
    sed -i -e's/!=\ *None$/is not None/g' $f
    sed -i -e's/!=\ *None\([ :)]\)/is not None\1/g' $f
done
```



---

archive/issue_comments_209760.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nI did it with a small Python script, but instead of \"\\w*\" I had \"\\w+\"  :-(\n\n\nWait a minute ... ;-)",
    "created_at": "2014-04-24T09:12:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209760",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:4'>Comment 4:</a>
I did it with a small Python script, but instead of "\w*" I had "\w+"  :-(


Wait a minute ... ;-)



---

archive/issue_comments_209761.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nIn [that thread](https://groups.google.com/forum/#!topic/sage-devel/SN93zx3YnAA) on sage-devel I asked the question of whether we can provide a script rather than a branch... it would make more sense here.\n\nVincent",
    "created_at": "2014-04-24T09:16:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209761",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'>Comment 5:</a>
In [that thread](https://groups.google.com/forum/#!topic/sage-devel/SN93zx3YnAA) on sage-devel I asked the question of whether we can provide a script rather than a branch... it would make more sense here.

Vincent



---

archive/issue_comments_209762.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nSee also [this thread](https://groups.google.com/forum/#!msg/sage-devel/r-85whQZGhY/KkUkGMzg7tgJ)",
    "created_at": "2014-04-24T09:28:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209762",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'>Comment 6:</a>
See also [this thread](https://groups.google.com/forum/#!msg/sage-devel/r-85whQZGhY/KkUkGMzg7tgJ)



---

archive/issue_comments_209763.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nSuch scripts should ideally be applied by the release manager right before doing a new stable release.  Not sure whether Volker is aware of this ticket.\n\nFor new code / changes, it's up to the reviewers to check no new instances get introduced. ;-)",
    "created_at": "2014-04-24T10:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209763",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:7'>Comment 7:</a>
Such scripts should ideally be applied by the release manager right before doing a new stable release.  Not sure whether Volker is aware of this ticket.

For new code / changes, it's up to the reviewers to check no new instances get introduced. ;-)



---

archive/issue_comments_209764.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nThanks Leif. I will ask Volker directly if he does not answer on sage-devel.\n\nThe script was not the good one (because of things like \"my_variable!=None\"), new try\n\n```\n#!/usr/bin/env bash\n\nfor f in $(find . -name \"*py\");\ndo\n    echo \"processing $f\"\n    sed -i -e's/\\ *==\\ *None$/ is None/g' $f\n    sed -i -e's/\\ *==\\ *None\\([ :)]\\)/ is None\\1/g' $f\n    sed -i -e's/\\ *!=\\ *None$/ is not None/g' $f\n    sed -i -e's/\\ *!=\\ *None\\([ :)]\\)/ is not None\\1/g' $f\ndone\n```\nI applied it to Sage source code, and obtain 505 occurrences... and Sage even starts after that!!",
    "created_at": "2014-04-24T10:42:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209764",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'>Comment 8:</a>
Thanks Leif. I will ask Volker directly if he does not answer on sage-devel.

The script was not the good one (because of things like "my_variable!=None"), new try

```
#!/usr/bin/env bash

for f in $(find . -name "*py");
do
    echo "processing $f"
    sed -i -e's/\ *==\ *None$/ is None/g' $f
    sed -i -e's/\ *==\ *None\([ :)]\)/ is None\1/g' $f
    sed -i -e's/\ *!=\ *None$/ is not None/g' $f
    sed -i -e's/\ *!=\ *None\([ :)]\)/ is not None\1/g' $f
done
```
I applied it to Sage source code, and obtain 505 occurrences... and Sage even starts after that!!



---

archive/issue_comments_209765.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nThere are several competing / overlapping tools that could support such a \"project\". \nHere are some links:\n* [Pylint](http://www.pylint.org/) and [in PIP](https://pypi.python.org/pypi/pylint/1.2.0)\n* [pep8](http://pep8.readthedocs.org/en/latest/) and [in PIP](https://pypi.python.org/pypi/pep8)\n* [flake8](https://bitbucket.org/tarek/flake8/wiki/Home) and [in PIP](https://pypi.python.org/pypi/flake8)\n* [pyflakes](https://github.com/pyflakes/pyflakes/) and [in PIP](https://pypi.python.org/pypi/pyflakes/0.8.1)\n* [frosted](https://github.com/timothycrosley/frosted) and [in PIP](https://pypi.python.org/pypi/frosted)\n\nThe cross tool mailing list is [code-quality](https://mail.python.org/mailman/listinfo/code-quality).\n\nThese are the Python guidelines:\n* [PEP8 Style Guide for Python Code](http://legacy.python.org/dev/peps/pep-0008/)\n* [PEP257 Docstring Conventions](http://legacy.python.org/dev/peps/pep-0257/)\n* [PEP7 Style Guide for C Code](http://legacy.python.org/dev/peps/pep-0007/)\n\nI had a quick look at them - there is no obvious BEST one.\nBut it would certainly be worthwhile to select / combine / customize them for use with Sage.",
    "created_at": "2014-04-24T10:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209765",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:9'>Comment 9:</a>
There are several competing / overlapping tools that could support such a "project". 
Here are some links:
* [Pylint](http://www.pylint.org/) and [in PIP](https://pypi.python.org/pypi/pylint/1.2.0)
* [pep8](http://pep8.readthedocs.org/en/latest/) and [in PIP](https://pypi.python.org/pypi/pep8)
* [flake8](https://bitbucket.org/tarek/flake8/wiki/Home) and [in PIP](https://pypi.python.org/pypi/flake8)
* [pyflakes](https://github.com/pyflakes/pyflakes/) and [in PIP](https://pypi.python.org/pypi/pyflakes/0.8.1)
* [frosted](https://github.com/timothycrosley/frosted) and [in PIP](https://pypi.python.org/pypi/frosted)

The cross tool mailing list is [code-quality](https://mail.python.org/mailman/listinfo/code-quality).

These are the Python guidelines:
* [PEP8 Style Guide for Python Code](http://legacy.python.org/dev/peps/pep-0008/)
* [PEP257 Docstring Conventions](http://legacy.python.org/dev/peps/pep-0257/)
* [PEP7 Style Guide for C Code](http://legacy.python.org/dev/peps/pep-0007/)

I had a quick look at them - there is no obvious BEST one.
But it would certainly be worthwhile to select / combine / customize them for use with Sage.



---

archive/issue_comments_209766.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71\">05ae6c0</a></td><td><code>generated patches missing from first run</code></td></tr></table>\n",
    "created_at": "2014-04-24T10:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209766",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71">05ae6c0</a></td><td><code>generated patches missing from first run</code></td></tr></table>




---

archive/issue_comments_209767.json:
```json
{
    "body": "Changed commit from **[166bc6c](https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3)** to **[05ae6c0](https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71)**",
    "created_at": "2014-04-24T10:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209767",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[166bc6c](https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3)** to **[05ae6c0](https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71)**



---

archive/issue_comments_209768.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\n1) The script can be done with only one call to sed and is much faster that way (took less than 10 secs on my computer)\n\n```\n#!/usr/bin/env bash\n\nfor f in $(find . -name \"*py\");\ndo\n    echo \"processing $f\"\n    sed -i -e's/\\ *==\\ *None$/ is None/g' \\\n           -e's/\\ *==\\ *None\\([ :)]\\)/ is None\\1/g' \\\n           -e's/\\ *!=\\ *None$/ is not None/g' \\\n           -e's/\\ *!=\\ *None\\([ :)]\\)/ is not None\\1/g' $f\ndone\n```\n\n2) There are few things to fix by hand. For example, some occurrences appear in the docstrings and the script did bad to them (src/sage/ext/gen_interpreters.py, src/sage/geometry/polyhedron/misc.py, ...)\n\nFor Wilfried:\n\n3) It is not a good idea to provide a git branch (it will certainly create plenty of conflicts). The best would be to apply the script just before the stable release.\n\n4) If you used a script different from mine, it would be nice that you provide it!",
    "created_at": "2014-04-24T10:57:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209768",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'>Comment 11:</a>
1) The script can be done with only one call to sed and is much faster that way (took less than 10 secs on my computer)

```
#!/usr/bin/env bash

for f in $(find . -name "*py");
do
    echo "processing $f"
    sed -i -e's/\ *==\ *None$/ is None/g' \
           -e's/\ *==\ *None\([ :)]\)/ is None\1/g' \
           -e's/\ *!=\ *None$/ is not None/g' \
           -e's/\ *!=\ *None\([ :)]\)/ is not None\1/g' $f
done
```

2) There are few things to fix by hand. For example, some occurrences appear in the docstrings and the script did bad to them (src/sage/ext/gen_interpreters.py, src/sage/geometry/polyhedron/misc.py, ...)

For Wilfried:

3) It is not a good idea to provide a git branch (it will certainly create plenty of conflicts). The best would be to apply the script just before the stable release.

4) If you used a script different from mine, it would be nice that you provide it!



---

archive/issue_comments_209769.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nThe update also includes some pyx modules. And a few py modules not in your list.\n\nThe regexp now looks like\n\n```\n  c_pat_1 = re.compile(r\"\"\"\\s? == \\s* None \\b\"\"\", re.VERBOSE)\n  contents_1, n1 = re.subn(c_pat_1, \" is None\", contents_0)\n  c_pat_2 = re.compile(r\"\"\"\\s? != \\s* None \\b\"\"\", re.VERBOSE)\n  new_contents, n2 = re.subn(c_pat_2, \" is not None\", contents_1)\n```",
    "created_at": "2014-04-24T10:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209769",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:12'>Comment 12:</a>
The update also includes some pyx modules. And a few py modules not in your list.

The regexp now looks like

```
  c_pat_1 = re.compile(r"""\s? == \s* None \b""", re.VERBOSE)
  contents_1, n1 = re.subn(c_pat_1, " is None", contents_0)
  c_pat_2 = re.compile(r"""\s? != \s* None \b""", re.VERBOSE)
  new_contents, n2 = re.subn(c_pat_2, " is not None", contents_1)
```



---

archive/issue_comments_209770.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [@videlec](#comment%3A11):\n> 3) It is not a good idea to provide a git branch (it will certainly create plenty of conflicts). The best would be to apply the script just before the stable release.\n\nI would agree but at least once you have to clean up the existing stuff. - And the conflicts should be manageable.\n\n\n\n\n> 4) If you used a script different from mine, it would be nice that you provide it!\n\nI am more familiar with Python than with the classic Un*x tools like grep and sed :-/\n\n\nI attached my quick and dirty Python script.",
    "created_at": "2014-04-24T11:21:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209770",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [@videlec](#comment%3A11):
> 3) It is not a good idea to provide a git branch (it will certainly create plenty of conflicts). The best would be to apply the script just before the stable release.

I would agree but at least once you have to clean up the existing stuff. - And the conflicts should be manageable.




> 4) If you used a script different from mine, it would be nice that you provide it!

I am more familiar with Python than with the classic Un*x tools like grep and sed :-/


I attached my quick and dirty Python script.



---

archive/issue_comments_209771.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nThere's also at least one occurrence in `.rst` source (as opposed to generated) files:\n\n```\nsrc/doc/en/thematic_tutorials/lie/crystals.rst:421:    sage: v.f(1).f(1) == None\n```",
    "created_at": "2014-04-24T11:38:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209771",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:14'>Comment 14:</a>
There's also at least one occurrence in `.rst` source (as opposed to generated) files:

```
src/doc/en/thematic_tutorials/lie/crystals.rst:421:    sage: v.f(1).f(1) == None
```



---

archive/issue_comments_209772.json:
```json
{
    "body": "Changed commit from **[05ae6c0](https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71)** to **[1219d56](https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d)**",
    "created_at": "2014-04-24T13:25:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209772",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[05ae6c0](https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71)** to **[1219d56](https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d)**



---

archive/issue_comments_209773.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d\">1219d56</a></td><td><code>one affected .rst file changed</code></td></tr></table>\n",
    "created_at": "2014-04-24T13:25:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209773",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'>Comment 15:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d">1219d56</a></td><td><code>one affected .rst file changed</code></td></tr></table>




---

archive/issue_comments_209774.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nThis was also the only `.rst` I could find.",
    "created_at": "2014-04-24T13:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209774",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:16'>Comment 16:</a>
This was also the only `.rst` I could find.



---

archive/issue_comments_209775.json:
```json
{
    "body": "Update for .rst and to exclude selected modules",
    "created_at": "2014-04-24T13:42:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209775",
    "user": "https://github.com/wluebbe"
}
```

Update for .rst and to exclude selected modules



---

archive/issue_comments_209776.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nAttachment: **[patch-isNone.py.gz](https://github.com/sagemath/sage/files/ticket16216/patch-isNone.py.gz)**\n\nHi,\n\nThanks Wilfried for providing your script. Your regexps look much nicer than mine!\n\nThe syntax for regexp in sed is (almost) the same as in Python! You can write what you did in sed as\n\n```\nsed -e's/\\s\\?==\\s*None\\b/ is None/g' \\\n    -e's/\\s\\?!=\\s*None\\b/ is not None/g' my_file.py\n```\n\nInstead of the for loop, it is faster and cleaner to use xargs. The following one-line command takes care of py and pyx files.\n\n```\nfind -regex \".*pyx?\" | xargs sed -i        \\\n        -e's/\\s\\?==\\s*None\\b/ is None/g'   \\\n        -e's/\\s\\?!=\\s*None\\b/ is not None/g'\n```\nWith the command above I got 637 instances on 6.2.rc0.\n\nAt the very last, there are two possibilities to avoid occurrence of \"bla == None\" in the future (see Volker's answer in [that thread](https://groups.google.com/forum/#!topic/sage-devel/SN93zx3YnAA)):\n- provide a pre-commit hook for git\n- modify the \"sage -b\" command\n\nVincent\n\nPS: sed is not Unix but [GNU](http://www.gnu.org/)!",
    "created_at": "2014-04-24T13:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209776",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'>Comment 17:</a>
Attachment: **[patch-isNone.py.gz](https://github.com/sagemath/sage/files/ticket16216/patch-isNone.py.gz)**

Hi,

Thanks Wilfried for providing your script. Your regexps look much nicer than mine!

The syntax for regexp in sed is (almost) the same as in Python! You can write what you did in sed as

```
sed -e's/\s\?==\s*None\b/ is None/g' \
    -e's/\s\?!=\s*None\b/ is not None/g' my_file.py
```

Instead of the for loop, it is faster and cleaner to use xargs. The following one-line command takes care of py and pyx files.

```
find -regex ".*pyx?" | xargs sed -i        \
        -e's/\s\?==\s*None\b/ is None/g'   \
        -e's/\s\?!=\s*None\b/ is not None/g'
```
With the command above I got 637 instances on 6.2.rc0.

At the very last, there are two possibilities to avoid occurrence of "bla == None" in the future (see Volker's answer in [that thread](https://groups.google.com/forum/#!topic/sage-devel/SN93zx3YnAA)):
- provide a pre-commit hook for git
- modify the "sage -b" command

Vincent

PS: sed is not Unix but [GNU](http://www.gnu.org/)!



---

archive/issue_comments_209777.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nThanks Vincent, I guess I have to learn these tools :-))\n\nBut I am also still learning git, vim, Linux ... and often even Python. Not to mention Sage!!",
    "created_at": "2014-04-24T14:03:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209777",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:18'>Comment 18:</a>
Thanks Vincent, I guess I have to learn these tools :-))

But I am also still learning git, vim, Linux ... and often even Python. Not to mention Sage!!



---

archive/issue_comments_209778.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nAlso there is no difference in conflicts with a branch that gets merged into develop versus a script that fixes these things right before release. However it would be nice to have such a script in order to make reviews easier (mostly for reviewers who are unaware of what we're trying to do) and so we don't (re)introduce non-conformance.\n\nLet me know if you need me to review anything (it seems both of you [Vincent and Wilfried] are taking care of it).",
    "created_at": "2014-04-24T14:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209778",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'>Comment 19:</a>
Also there is no difference in conflicts with a branch that gets merged into develop versus a script that fixes these things right before release. However it would be nice to have such a script in order to make reviews easier (mostly for reviewers who are unaware of what we're trying to do) and so we don't (re)introduce non-conformance.

Let me know if you need me to review anything (it seems both of you [Vincent and Wilfried] are taking care of it).



---

archive/issue_comments_209779.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nReplying to [@videlec](#comment%3A17):\n> Instead of the for loop, it is faster and cleaner to use xargs. The following one-line command takes care of py and pyx files.\n> \n> ```\n> find -regex \".*pyx?\" | xargs sed -i        \\\n>         -e's/\\s\\?==\\s*None\\b/ is None/g'   \\\n>         -e's/\\s\\?!=\\s*None\\b/ is not None/g'\n> ```\n\n`-regex` is not portable; one should use `-name \\*.py -o -name \\*.pyx` [`-o -name \\*.rst`] instead.  (And you can also use `sed ... $(find ...)`, or -- preferably -- `find ... -exec sed ...`, because the latter reduces the required size of the environment, i.e. `argv`.)\n\n`sed -i ...` is (unfortunately) also not portable, nor  is `\\s`, and IIRC neither `\\b` nor `\\?`.\n\n\n\n\n> PS: sed is not Unix but [GNU](http://www.gnu.org/)!\n\n`sed` is UNIX from the very beginning, while **G**NU's **N**ot **U**nix! ;-)",
    "created_at": "2014-04-24T17:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209779",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:20'>Comment 20:</a>
Replying to [@videlec](#comment%3A17):
> Instead of the for loop, it is faster and cleaner to use xargs. The following one-line command takes care of py and pyx files.
> 
> ```
> find -regex ".*pyx?" | xargs sed -i        \
>         -e's/\s\?==\s*None\b/ is None/g'   \
>         -e's/\s\?!=\s*None\b/ is not None/g'
> ```

`-regex` is not portable; one should use `-name \*.py -o -name \*.pyx` [`-o -name \*.rst`] instead.  (And you can also use `sed ... $(find ...)`, or -- preferably -- `find ... -exec sed ...`, because the latter reduces the required size of the environment, i.e. `argv`.)

`sed -i ...` is (unfortunately) also not portable, nor  is `\s`, and IIRC neither `\b` nor `\?`.




> PS: sed is not Unix but [GNU](http://www.gnu.org/)!

`sed` is UNIX from the very beginning, while **G**NU's **N**ot **U**nix! ;-)



---

archive/issue_comments_209780.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@tscrim](#comment%3A19):\n> Also there is no difference in conflicts with a branch that gets merged into develop versus a script that fixes these things right before release.\n\nWell, in application, there is.\n\nAlso, I'd apply it last before preparing a *stable* release, since developers will have to rebase their pending patches afterwards anyway.  (Of course the *number* of potential conflicts with work in progress they'll face doesn't really change though.)",
    "created_at": "2014-04-24T17:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209780",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@tscrim](#comment%3A19):
> Also there is no difference in conflicts with a branch that gets merged into develop versus a script that fixes these things right before release.

Well, in application, there is.

Also, I'd apply it last before preparing a *stable* release, since developers will have to rebase their pending patches afterwards anyway.  (Of course the *number* of potential conflicts with work in progress they'll face doesn't really change though.)



---

archive/issue_comments_209781.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nThis ticket now has \n* 177 files changed, 515 insertions, 515 deletions\nbut ticket:15990 had\n* 503 files changed, 3138 insertions, 3170 deletions\nOn the way there were some merge conflict, but nothing serious.\n\n\nTherefore I'm not afraid about conflicts (for this ticket).",
    "created_at": "2014-04-24T18:21:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209781",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:22'>Comment 22:</a>
This ticket now has 
* 177 files changed, 515 insertions, 515 deletions
but ticket:15990 had
* 503 files changed, 3138 insertions, 3170 deletions
On the way there were some merge conflict, but nothing serious.


Therefore I'm not afraid about conflicts (for this ticket).



---

archive/issue_events_213961.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-04-25T08:41:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213961"
}
```



---

archive/issue_events_213962.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-04-25T08:41:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213962"
}
```



---

archive/issue_comments_209782.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nHi,\n\n1) As I already told you, the substitutions made bad things to the documentation. Hopefully, in very few places. For examples\n- `/src/sage/ext/gen_interpreters.py`: we had \"so len==None is different than len==1\" and now it is \"so len is None is different than len==1\".  The new sentence is much harder to read.\n- `/src/sage/coding/code_bounds.py`: in a comment we had \"algorithm==None or algorithm=\"gap\"\" would be better to have \"algorithm=None or algorithm=\"gap\" (instead of the is None here).\n- etc\n\n2) You start removing unnecessary parenthesis. First of all it is not the job of that ticket. Secondly, one can arguably says that code is more readable with more parenthesis. So revert all those changes. If you want to remove parenthesis (which I think is a bad idea in general) then open a discussion on sage-devel and then a ticket if a consensus is reached.\n\nVincent",
    "created_at": "2014-04-25T08:41:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209782",
    "user": "https://github.com/videlec"
}
```

<a id='comment:23'>Comment 23:</a>
Hi,

1) As I already told you, the substitutions made bad things to the documentation. Hopefully, in very few places. For examples
- `/src/sage/ext/gen_interpreters.py`: we had "so len==None is different than len==1" and now it is "so len is None is different than len==1".  The new sentence is much harder to read.
- `/src/sage/coding/code_bounds.py`: in a comment we had "algorithm==None or algorithm="gap"" would be better to have "algorithm=None or algorithm="gap" (instead of the is None here).
- etc

2) You start removing unnecessary parenthesis. First of all it is not the job of that ticket. Secondly, one can arguably says that code is more readable with more parenthesis. So revert all those changes. If you want to remove parenthesis (which I think is a bad idea in general) then open a discussion on sage-devel and then a ticket if a consensus is reached.

Vincent



---

archive/issue_comments_209783.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nReplying to [@videlec](#comment%3A23):\n> 1) As I already told you, the substitutions made bad things to the documentation. Hopefully, in very few places.\n\nYep, at least where \"is None\" isn't typeset as code.\n\nAnd I also wouldn't touch most of the *comments*.\n\n\n\n\n> 2) You start removing unnecessary parenthesis. First of all it is not the job of that ticket. Secondly, one can arguably says that code is more readable with more parenthesis. So revert all those changes. If you want to remove parenthesis (which I think is a bad idea in general) then open a discussion on sage-devel and then a ticket if a consensus is reached.\n\nI'm in general ok with changing the \"C style\" `if (cond):` and `while (cond):` to usual Python syntax (without *outer* parentheses), but I agree that this should be done on another ticket, especially since currently only *some* instances (namely those in or near the context of other changes) get \"normalized\".\n\nThere are also a couple of conditions where I'd personally change *the order* of evaluation, of the form `if <expensive_test> <and|or> <cheap_test>:`,  but that's also out of the scope of this ticket.",
    "created_at": "2014-04-25T12:45:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209783",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:24'>Comment 24:</a>
Replying to [@videlec](#comment%3A23):
> 1) As I already told you, the substitutions made bad things to the documentation. Hopefully, in very few places.

Yep, at least where "is None" isn't typeset as code.

And I also wouldn't touch most of the *comments*.




> 2) You start removing unnecessary parenthesis. First of all it is not the job of that ticket. Secondly, one can arguably says that code is more readable with more parenthesis. So revert all those changes. If you want to remove parenthesis (which I think is a bad idea in general) then open a discussion on sage-devel and then a ticket if a consensus is reached.

I'm in general ok with changing the "C style" `if (cond):` and `while (cond):` to usual Python syntax (without *outer* parentheses), but I agree that this should be done on another ticket, especially since currently only *some* instances (namely those in or near the context of other changes) get "normalized".

There are also a couple of conditions where I'd personally change *the order* of evaluation, of the form `if <expensive_test> <and|or> <cheap_test>:`,  but that's also out of the scope of this ticket.



---

archive/issue_events_213963.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213963"
}
```



---

archive/issue_events_213964.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213964"
}
```



---

archive/issue_events_213965.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-07T09:39:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213965"
}
```



---

archive/issue_events_213966.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-07T09:39:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213966"
}
```



---

archive/issue_comments_209784.json:
```json
{
    "body": "Changed branch from **[u/wluebbe/ticket/16216](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216)** to **[u/wluebbe/ticket/16216b](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216b)**",
    "created_at": "2014-05-07T09:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209784",
    "user": "https://github.com/wluebbe"
}
```

Changed branch from **[u/wluebbe/ticket/16216](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216)** to **[u/wluebbe/ticket/16216b](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216b)**



---

archive/issue_comments_209785.json:
```json
{
    "body": "Changed commit from **[1219d56](https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d)** to **[6a2e806](https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85)**",
    "created_at": "2014-05-07T09:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209785",
    "user": "https://github.com/wluebbe"
}
```

Changed commit from **[1219d56](https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d)** to **[6a2e806](https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85)**



---

archive/issue_comments_209786.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nI pushed a fresh start based on Sage 6.2.\n\nFrom commit message of the manual changes:\n\n```\n    * changed \"not xxx is None\" to \"xxx is not None\" (where appropriate)\n    * reverted changes in docstring text\n      - usually did not revert changes to doctest *code*\n      - but reverted changes to expected results (if required)\n    * (usually) did not revert changes to *code* in comments\n    \n    Always tried to apply good judgement - but refrained from changes\n    unrelated to the subject \"is None\".\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f623de2532c3c54b97d8a3deeb26e79a7bc6d945\">f623de2</a></td><td><code>generated changes from \"== None\" to \"is None\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85\">6a2e806</a></td><td><code>manual fixup of the generated changes</code></td></tr></table>\n",
    "created_at": "2014-05-07T09:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209786",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:26'>Comment 26:</a>
I pushed a fresh start based on Sage 6.2.

From commit message of the manual changes:

```
    * changed "not xxx is None" to "xxx is not None" (where appropriate)
    * reverted changes in docstring text
      - usually did not revert changes to doctest *code*
      - but reverted changes to expected results (if required)
    * (usually) did not revert changes to *code* in comments
    
    Always tried to apply good judgement - but refrained from changes
    unrelated to the subject "is None".
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f623de2532c3c54b97d8a3deeb26e79a7bc6d945">f623de2</a></td><td><code>generated changes from "== None" to "is None"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85">6a2e806</a></td><td><code>manual fixup of the generated changes</code></td></tr></table>




---

archive/issue_comments_209787.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0\">f87a26f</a></td><td><code>Merge branch 'develop' into u/wluebbe/ticket/16216b</code></td></tr></table>\n",
    "created_at": "2014-05-16T10:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209787",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0">f87a26f</a></td><td><code>Merge branch 'develop' into u/wluebbe/ticket/16216b</code></td></tr></table>




---

archive/issue_comments_209788.json:
```json
{
    "body": "Changed commit from **[6a2e806](https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85)** to **[f87a26f](https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0)**",
    "created_at": "2014-05-16T10:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209788",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6a2e806](https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85)** to **[f87a26f](https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0)**



---

archive/issue_comments_209789.json:
```json
{
    "body": "Reviewer: **Ralf Stephan**",
    "created_at": "2014-05-20T06:44:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209789",
    "user": "https://github.com/rwst"
}
```

Reviewer: **Ralf Stephan**



---

archive/issue_comments_209790.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nI've eyeballed it all and patchbot is happy, too. So, if you remove that unrelated change in combinat/backtrack you can set positive.",
    "created_at": "2014-05-20T06:44:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209790",
    "user": "https://github.com/rwst"
}
```

<a id='comment:28'>Comment 28:</a>
I've eyeballed it all and patchbot is happy, too. So, if you remove that unrelated change in combinat/backtrack you can set positive.



---

archive/issue_comments_209791.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nThat *unrelated change in combinat/backtrack* resulted from resolving the merge conflict (comment 27). So it is not mine ;-) and I am reluctant removing it.\n\nPositive review anyway?",
    "created_at": "2014-05-20T09:12:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209791",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:29'>Comment 29:</a>
That *unrelated change in combinat/backtrack* resulted from resolving the merge conflict (comment 27). So it is not mine ;-) and I am reluctant removing it.

Positive review anyway?



---

archive/issue_comments_209792.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nBut develop doesn't have this code so you introduced (or re-introduced) it.",
    "created_at": "2014-05-20T09:39:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209792",
    "user": "https://github.com/rwst"
}
```

<a id='comment:30'>Comment 30:</a>
But develop doesn't have this code so you introduced (or re-introduced) it.



---

archive/issue_comments_209793.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nIf you don't know the best way to check it: `git diff develop` when in your up-to-date branch should show only your own changes.",
    "created_at": "2014-05-20T09:53:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209793",
    "user": "https://github.com/rwst"
}
```

<a id='comment:31'>Comment 31:</a>
If you don't know the best way to check it: `git diff develop` when in your up-to-date branch should show only your own changes.



---

archive/issue_comments_209794.json:
```json
{
    "body": "Changed commit from **[f87a26f](https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0)** to **[564c73c](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)**",
    "created_at": "2014-05-20T13:07:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209794",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f87a26f](https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0)** to **[564c73c](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)**



---

archive/issue_comments_209795.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f\">564c73c</a></td><td><code>trac #16216: undo a mistake from the last merge</code></td></tr></table>\n",
    "created_at": "2014-05-20T13:07:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209795",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'>Comment 32:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f">564c73c</a></td><td><code>trac #16216: undo a mistake from the last merge</code></td></tr></table>




---

archive/issue_events_213967.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-20T13:11:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213967"
}
```



---

archive/issue_events_213968.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-20T13:11:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213968"
}
```



---

archive/issue_comments_209796.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nThanks Ralf, for the help! The merge error is fixed.\n\nI set to positive as you suggested in comment 28.",
    "created_at": "2014-05-20T13:11:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209796",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:33'>Comment 33:</a>
Thanks Ralf, for the help! The merge error is fixed.

I set to positive as you suggested in comment 28.



---

archive/issue_events_213969.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-21T15:33:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213969"
}
```



---

archive/issue_events_213970.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "77361ccd07a5c7cbcc77fa68c747648c1b9fa94d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-05-21T15:33:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-213970"
}
```



---

archive/issue_comments_209797.json:
```json
{
    "body": "Changed branch from **[u/wluebbe/ticket/16216b](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216b)** to **[564c73c](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)**",
    "created_at": "2014-05-21T15:33:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-209797",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/wluebbe/ticket/16216b](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216b)** to **[564c73c](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)**
