# Issue 16216: Improve PEP8 compliance: replace "== None" by "is None"

archive/issues_015979.json:
```json
{
    "body": "To cite from [PEP8](http://legacy.python.org/dev/peps/pep-0008/):\n\n\nComparisons to singletons like None should always be done with is or is not, never the equality operators.\n\nThis ticket is also related to a promise in ticket:15984.\n\nCC:  @tscrim\n\nKeywords: pep8\n\nBranch/Commit: 564c73c8cab8aef1ec1c9e626a8e280ea8217c8f\n\nReviewer: Ralf Stephan\n\nAuthor: Wilfried Luebbe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16216\n\n",
    "closed_at": "2014-05-21T15:33:39Z",
    "created_at": "2014-04-23T12:28:28Z",
    "labels": [
        "component: build",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Improve PEP8 compliance: replace \"== None\" by \"is None\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16216",
    "user": "https://github.com/wluebbe"
}
```
To cite from [PEP8](http://legacy.python.org/dev/peps/pep-0008/):


Comparisons to singletons like None should always be done with is or is not, never the equality operators.

This ticket is also related to a promise in ticket:15984.

CC:  @tscrim

Keywords: pep8

Branch/Commit: 564c73c8cab8aef1ec1c9e626a8e280ea8217c8f

Reviewer: Ralf Stephan

Author: Wilfried Luebbe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16216





---

archive/issue_comments_260787.json:
```json
{
    "body": "Changing commit from \"\" to \"166bc6c497e13febf34e7f64cd947d3bd2dc99c3\"",
    "created_at": "2014-04-24T05:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260787",
    "user": "https://github.com/wluebbe"
}
```

Changing commit from "" to "166bc6c497e13febf34e7f64cd947d3bd2dc99c3"



---

archive/issue_comments_260788.json:
```json
{
    "body": "<a id='comment:1'></a>\nHi Travis, these are the changes you suggested in ticket:15984.\n\n\nWould you like to review this ticket?\n\n---\nNew commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[83f3f2d](https://github.com/sagemath/sagetrac-mirror/commit/83f3f2d48b14d2195d22d1a0baba74bc5aef9d0f)|`generated changes from \"== None\" to \"is None\"`|\n|[166bc6c](https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3)|`some manual changes to further improve style`|",
    "created_at": "2014-04-24T05:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260788",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:1'></a>
Hi Travis, these are the changes you suggested in ticket:15984.


Would you like to review this ticket?

---
New commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[83f3f2d](https://github.com/sagemath/sagetrac-mirror/commit/83f3f2d48b14d2195d22d1a0baba74bc5aef9d0f)|`generated changes from "== None" to "is None"`|
|[166bc6c](https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3)|`some manual changes to further improve style`|



---

archive/issue_comments_260789.json:
```json
{
    "body": "Changing branch from \"\" to \"u/wluebbe/ticket/16216\"",
    "created_at": "2014-04-24T05:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260789",
    "user": "https://github.com/wluebbe"
}
```

Changing branch from "" to "u/wluebbe/ticket/16216"



---

archive/issue_comments_260790.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-04-24T05:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260790",
    "user": "https://github.com/wluebbe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_260791.json:
```json
{
    "body": "Changing author from \"\" to \"Wilfried Luebbe\"",
    "created_at": "2014-04-24T05:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260791",
    "user": "https://github.com/wluebbe"
}
```

Changing author from "" to "Wilfried Luebbe"



---

archive/issue_comments_260792.json:
```json
{
    "body": "<a id='comment:2'></a>\nWhy not provide a script here? It should be possible to apply it just before the stable release.\n\nWith a simple grep I found many more instances in\n\n- sage/coding/code_bounds.py\n- sage/schemes/toric/variety.py\n- sage/schemes/toric/chow_group.py\n- sage/schemes/projective/projective_morphism.py\n- sage/schemes/generic/divisor_group.py\n- sage/schemes/elliptic_curves/weierstrass_morphism.py\n- sage/schemes/elliptic_curves/ell_finite_field.py\n- sage/schemes/elliptic_curves/ell_generic.py\n- sage/geometry/toric_lattice.py\n- sage/geometry/triangulation/point_configuration.py\n- sage/geometry/polyhedron/misc.py\n- sage/geometry/polyhedron/cdd_file_format.py\n- sage/geometry/polyhedron/face.py\n- sage/numerical/optimize.py\n- sage/calculus/desolvers.py\n- sage/sandpiles/sandpile.py\n- sage/graphs/generic_graph.py\n- sage/graphs/graph_coloring.py\n- sage/graphs/graph.py\n- sage/modular/modform/ambient_eps.py\n- sage/categories/coxeter_groups.py\n- sage/matrix/constructor.py\n- sage/quadratic_forms/quadratic_form__ternary_Tornaria.py\n- sage/interfaces/singular.py\n- sage/combinat/root_system/root_lattice_realizations.py\n- sage/combinat/sf/ns_macdonald.py\n- sage/combinat/tableau_tuple.py\n- sage/combinat/composition_tableau.py\n- sage/combinat/k_tableau.py\n- sage/combinat/affine_permutation.py\n- sage/ext/gen_interpreters.py",
    "created_at": "2014-04-24T07:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260792",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'></a>
Why not provide a script here? It should be possible to apply it just before the stable release.

With a simple grep I found many more instances in

- sage/coding/code_bounds.py
- sage/schemes/toric/variety.py
- sage/schemes/toric/chow_group.py
- sage/schemes/projective/projective_morphism.py
- sage/schemes/generic/divisor_group.py
- sage/schemes/elliptic_curves/weierstrass_morphism.py
- sage/schemes/elliptic_curves/ell_finite_field.py
- sage/schemes/elliptic_curves/ell_generic.py
- sage/geometry/toric_lattice.py
- sage/geometry/triangulation/point_configuration.py
- sage/geometry/polyhedron/misc.py
- sage/geometry/polyhedron/cdd_file_format.py
- sage/geometry/polyhedron/face.py
- sage/numerical/optimize.py
- sage/calculus/desolvers.py
- sage/sandpiles/sandpile.py
- sage/graphs/generic_graph.py
- sage/graphs/graph_coloring.py
- sage/graphs/graph.py
- sage/modular/modform/ambient_eps.py
- sage/categories/coxeter_groups.py
- sage/matrix/constructor.py
- sage/quadratic_forms/quadratic_form__ternary_Tornaria.py
- sage/interfaces/singular.py
- sage/combinat/root_system/root_lattice_realizations.py
- sage/combinat/sf/ns_macdonald.py
- sage/combinat/tableau_tuple.py
- sage/combinat/composition_tableau.py
- sage/combinat/k_tableau.py
- sage/combinat/affine_permutation.py
- sage/ext/gen_interpreters.py



---

archive/issue_comments_260793.json:
```json
{
    "body": "<a id='comment:3'></a>\nI guess something like the following would do the job (trickier than what I thought... I edited twice my answer)\n\n```/usr/bin/env bash\n\nfor f in $(find . -name \"*py\");\ndo\n    echo \"processing $f\"\n    sed -i -e's/==\\ *None$/is None/g' $f\n    sed -i -e's/==\\ *None\\([ :)]\\)/is None\\1/g' $f\n    sed -i -e's/!=\\ *None$/is not None/g' $f\n    sed -i -e's/!=\\ *None\\([ :)]\\)/is not None\\1/g' $f\ndone\n```",
    "created_at": "2014-04-24T08:19:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260793",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>
I guess something like the following would do the job (trickier than what I thought... I edited twice my answer)

```/usr/bin/env bash

for f in $(find . -name "*py");
do
    echo "processing $f"
    sed -i -e's/==\ *None$/is None/g' $f
    sed -i -e's/==\ *None\([ :)]\)/is None\1/g' $f
    sed -i -e's/!=\ *None$/is not None/g' $f
    sed -i -e's/!=\ *None\([ :)]\)/is not None\1/g' $f
done
```



---

archive/issue_comments_260794.json:
```json
{
    "body": "<a id='comment:4'></a>\nI did it with a small Python script, but instead of \"\\w*\" I had \"\\w+\"  :-(\n\n\nWait a minute ... ;-)",
    "created_at": "2014-04-24T09:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260794",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:4'></a>
I did it with a small Python script, but instead of "\w*" I had "\w+"  :-(


Wait a minute ... ;-)



---

archive/issue_comments_260795.json:
```json
{
    "body": "<a id='comment:5'></a>\nIn [that thread](https://groups.google.com/forum/#!topic/sage-devel/SN93zx3YnAA) on sage-devel I asked the question of whether we can provide a script rather than a branch... it would make more sense here.\n\nVincent",
    "created_at": "2014-04-24T09:16:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260795",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
In [that thread](https://groups.google.com/forum/#!topic/sage-devel/SN93zx3YnAA) on sage-devel I asked the question of whether we can provide a script rather than a branch... it would make more sense here.

Vincent



---

archive/issue_comments_260796.json:
```json
{
    "body": "<a id='comment:6'></a>\nSee also [this thread](https://groups.google.com/forum/#!msg/sage-devel/r-85whQZGhY/KkUkGMzg7tgJ)",
    "created_at": "2014-04-24T09:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260796",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>
See also [this thread](https://groups.google.com/forum/#!msg/sage-devel/r-85whQZGhY/KkUkGMzg7tgJ)



---

archive/issue_comments_260797.json:
```json
{
    "body": "<a id='comment:7'></a>\nSuch scripts should ideally be applied by the release manager right before doing a new stable release.  Not sure whether Volker is aware of this ticket.\n\nFor new code / changes, it's up to the reviewers to check no new instances get introduced. ;-)",
    "created_at": "2014-04-24T10:11:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260797",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:7'></a>
Such scripts should ideally be applied by the release manager right before doing a new stable release.  Not sure whether Volker is aware of this ticket.

For new code / changes, it's up to the reviewers to check no new instances get introduced. ;-)



---

archive/issue_comments_260798.json:
```json
{
    "body": "<a id='comment:8'></a>\nThanks Leif. I will ask Volker directly if he does not answer on sage-devel.\n\nThe script was not the good one (because of things like \"my_variable!=None\"), new try\n\n```/usr/bin/env bash\n\nfor f in $(find . -name \"*py\");\ndo\n    echo \"processing $f\"\n    sed -i -e's/\\ *==\\ *None$/ is None/g' $f\n    sed -i -e's/\\ *==\\ *None\\([ :)]\\)/ is None\\1/g' $f\n    sed -i -e's/\\ *!=\\ *None$/ is not None/g' $f\n    sed -i -e's/\\ *!=\\ *None\\([ :)]\\)/ is not None\\1/g' $f\ndone\n```\nI applied it to Sage source code, and obtain 505 occurrences... and Sage even starts after that!!",
    "created_at": "2014-04-24T10:42:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260798",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>
Thanks Leif. I will ask Volker directly if he does not answer on sage-devel.

The script was not the good one (because of things like "my_variable!=None"), new try

```/usr/bin/env bash

for f in $(find . -name "*py");
do
    echo "processing $f"
    sed -i -e's/\ *==\ *None$/ is None/g' $f
    sed -i -e's/\ *==\ *None\([ :)]\)/ is None\1/g' $f
    sed -i -e's/\ *!=\ *None$/ is not None/g' $f
    sed -i -e's/\ *!=\ *None\([ :)]\)/ is not None\1/g' $f
done
```
I applied it to Sage source code, and obtain 505 occurrences... and Sage even starts after that!!



---

archive/issue_comments_260799.json:
```json
{
    "body": "<a id='comment:9'></a>\nThere are several competing / overlapping tools that could support such a \"project\". \nHere are some links:\n* [Pylint](http://www.pylint.org/) and [in PIP](https://pypi.python.org/pypi/pylint/1.2.0)\n* [pep8](http://pep8.readthedocs.org/en/latest/) and [in PIP](https://pypi.python.org/pypi/pep8)\n* [flake8](https://bitbucket.org/tarek/flake8/wiki/Home) and [in PIP](https://pypi.python.org/pypi/flake8)\n* [pyflakes](https://github.com/pyflakes/pyflakes/) and [in PIP](https://pypi.python.org/pypi/pyflakes/0.8.1)\n* [frosted](https://github.com/timothycrosley/frosted) and [in PIP](https://pypi.python.org/pypi/frosted)\n\nThe cross tool mailing list is [code-quality](https://mail.python.org/mailman/listinfo/code-quality).\n\nThese are the Python guidelines:\n* [PEP8 Style Guide for Python Code](http://legacy.python.org/dev/peps/pep-0008/)\n* [PEP257 Docstring Conventions](http://legacy.python.org/dev/peps/pep-0257/)\n* [PEP7 Style Guide for C Code](http://legacy.python.org/dev/peps/pep-0007/)\n\nI had a quick look at them - there is no obvious BEST one.\nBut it would certainly be worthwhile to select / combine / customize them for use with Sage.",
    "created_at": "2014-04-24T10:47:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260799",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:9'></a>
There are several competing / overlapping tools that could support such a "project". 
Here are some links:
* [Pylint](http://www.pylint.org/) and [in PIP](https://pypi.python.org/pypi/pylint/1.2.0)
* [pep8](http://pep8.readthedocs.org/en/latest/) and [in PIP](https://pypi.python.org/pypi/pep8)
* [flake8](https://bitbucket.org/tarek/flake8/wiki/Home) and [in PIP](https://pypi.python.org/pypi/flake8)
* [pyflakes](https://github.com/pyflakes/pyflakes/) and [in PIP](https://pypi.python.org/pypi/pyflakes/0.8.1)
* [frosted](https://github.com/timothycrosley/frosted) and [in PIP](https://pypi.python.org/pypi/frosted)

The cross tool mailing list is [code-quality](https://mail.python.org/mailman/listinfo/code-quality).

These are the Python guidelines:
* [PEP8 Style Guide for Python Code](http://legacy.python.org/dev/peps/pep-0008/)
* [PEP257 Docstring Conventions](http://legacy.python.org/dev/peps/pep-0257/)
* [PEP7 Style Guide for C Code](http://legacy.python.org/dev/peps/pep-0007/)

I had a quick look at them - there is no obvious BEST one.
But it would certainly be worthwhile to select / combine / customize them for use with Sage.



---

archive/issue_comments_260800.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[05ae6c0](https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71)|`generated patches missing from first run`|",
    "created_at": "2014-04-24T10:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260800",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[05ae6c0](https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71)|`generated patches missing from first run`|



---

archive/issue_comments_260801.json:
```json
{
    "body": "Changing commit from \"166bc6c497e13febf34e7f64cd947d3bd2dc99c3\" to \"05ae6c01d83821d60b76bf5a1aa7b2bca745ad71\"",
    "created_at": "2014-04-24T10:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260801",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "166bc6c497e13febf34e7f64cd947d3bd2dc99c3" to "05ae6c01d83821d60b76bf5a1aa7b2bca745ad71"



---

archive/issue_comments_260802.json:
```json
{
    "body": "<a id='comment:11'></a>\n1) The script can be done with only one call to sed and is much faster that way (took less than 10 secs on my computer)\n\n```/usr/bin/env bash\n\nfor f in $(find . -name \"*py\");\ndo\n    echo \"processing $f\"\n    sed -i -e's/\\ *==\\ *None$/ is None/g' \\\n           -e's/\\ *==\\ *None\\([ :)]\\)/ is None\\1/g' \\\n           -e's/\\ *!=\\ *None$/ is not None/g' \\\n           -e's/\\ *!=\\ *None\\([ :)]\\)/ is not None\\1/g' $f\ndone\n```\n\n2) There are few things to fix by hand. For example, some occurrences appear in the docstrings and the script did bad to them (src/sage/ext/gen_interpreters.py, src/sage/geometry/polyhedron/misc.py, ...)\n\nFor Wilfried:\n\n3) It is not a good idea to provide a git branch (it will certainly create plenty of conflicts). The best would be to apply the script just before the stable release.\n\n4) If you used a script different from mine, it would be nice that you provide it!",
    "created_at": "2014-04-24T10:57:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260802",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
1) The script can be done with only one call to sed and is much faster that way (took less than 10 secs on my computer)

```/usr/bin/env bash

for f in $(find . -name "*py");
do
    echo "processing $f"
    sed -i -e's/\ *==\ *None$/ is None/g' \
           -e's/\ *==\ *None\([ :)]\)/ is None\1/g' \
           -e's/\ *!=\ *None$/ is not None/g' \
           -e's/\ *!=\ *None\([ :)]\)/ is not None\1/g' $f
done
```

2) There are few things to fix by hand. For example, some occurrences appear in the docstrings and the script did bad to them (src/sage/ext/gen_interpreters.py, src/sage/geometry/polyhedron/misc.py, ...)

For Wilfried:

3) It is not a good idea to provide a git branch (it will certainly create plenty of conflicts). The best would be to apply the script just before the stable release.

4) If you used a script different from mine, it would be nice that you provide it!



---

archive/issue_comments_260803.json:
```json
{
    "body": "<a id='comment:12'></a>\nThe update also includes some pyx modules. And a few py modules not in your list.\n\nThe regexp now looks like\n\n```\n  c_pat_1 = re.compile(r\"\"\"\\s? == \\s* None \\b\"\"\", re.VERBOSE)\n  contents_1, n1 = re.subn(c_pat_1, \" is None\", contents_0)\n  c_pat_2 = re.compile(r\"\"\"\\s? != \\s* None \\b\"\"\", re.VERBOSE)\n  new_contents, n2 = re.subn(c_pat_2, \" is not None\", contents_1)\n```",
    "created_at": "2014-04-24T10:59:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260803",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:12'></a>
The update also includes some pyx modules. And a few py modules not in your list.

The regexp now looks like

```
  c_pat_1 = re.compile(r"""\s? == \s* None \b""", re.VERBOSE)
  contents_1, n1 = re.subn(c_pat_1, " is None", contents_0)
  c_pat_2 = re.compile(r"""\s? != \s* None \b""", re.VERBOSE)
  new_contents, n2 = re.subn(c_pat_2, " is not None", contents_1)
```



---

archive/issue_comments_260804.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [vdelecroix](#comment%3A11):\n> 3) It is not a good idea to provide a git branch (it will certainly create plenty of conflicts). The best would be to apply the script just before the stable release.\n\nI would agree but at least once you have to clean up the existing stuff. - And the conflicts should be manageable.\n\n\n\n\n> 4) If you used a script different from mine, it would be nice that you provide it!\n\nI am more familiar with Python than with the classic Un*x tools like grep and sed :-/\n\n\nI attached my quick and dirty Python script.",
    "created_at": "2014-04-24T11:21:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260804",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:13'></a>
Replying to [vdelecroix](#comment%3A11):
> 3) It is not a good idea to provide a git branch (it will certainly create plenty of conflicts). The best would be to apply the script just before the stable release.

I would agree but at least once you have to clean up the existing stuff. - And the conflicts should be manageable.




> 4) If you used a script different from mine, it would be nice that you provide it!

I am more familiar with Python than with the classic Un*x tools like grep and sed :-/


I attached my quick and dirty Python script.



---

archive/issue_comments_260805.json:
```json
{
    "body": "<a id='comment:14'></a>\nThere's also at least one occurrence in `.rst` source (as opposed to generated) files:\n\n```\nsrc/doc/en/thematic_tutorials/lie/crystals.rst:421:    sage: v.f(1).f(1) == None\n```",
    "created_at": "2014-04-24T11:38:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260805",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:14'></a>
There's also at least one occurrence in `.rst` source (as opposed to generated) files:

```
src/doc/en/thematic_tutorials/lie/crystals.rst:421:    sage: v.f(1).f(1) == None
```



---

archive/issue_comments_260806.json:
```json
{
    "body": "Changing commit from \"05ae6c01d83821d60b76bf5a1aa7b2bca745ad71\" to \"1219d56b731119122356714ed4d26ae33c63cd5d\"",
    "created_at": "2014-04-24T13:25:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260806",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "05ae6c01d83821d60b76bf5a1aa7b2bca745ad71" to "1219d56b731119122356714ed4d26ae33c63cd5d"



---

archive/issue_comments_260807.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[1219d56](https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d)|`one affected .rst file changed`|",
    "created_at": "2014-04-24T13:25:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260807",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[1219d56](https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d)|`one affected .rst file changed`|



---

archive/issue_comments_260808.json:
```json
{
    "body": "<a id='comment:16'></a>\nThis was also the only `.rst` I could find.",
    "created_at": "2014-04-24T13:26:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260808",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:16'></a>
This was also the only `.rst` I could find.



---

archive/issue_comments_260809.json:
```json
{
    "body": "Update for .rst and to exclude selected modules",
    "created_at": "2014-04-24T13:42:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260809",
    "user": "https://github.com/wluebbe"
}
```

Update for .rst and to exclude selected modules



---

archive/issue_comments_260810.json:
```json
{
    "body": "<a id='comment:17'></a>\nAttachment [patch-isNone.py](tarball://root/attachments/some-uuid/ticket16216/patch-isNone.py) by @videlec created at 2014-04-24 13:53:19\n\nHi,\n\nThanks Wilfried for providing your script. Your regexps look much nicer than mine!\n\nThe syntax for regexp in sed is (almost) the same as in Python! You can write what you did in sed as\n\n```\nsed -e's/\\s\\?==\\s*None\\b/ is None/g' \\\n    -e's/\\s\\?!=\\s*None\\b/ is not None/g' my_file.py\n```\n\nInstead of the for loop, it is faster and cleaner to use xargs. The following one-line command takes care of py and pyx files.\n\n```\nfind -regex \".*pyx?\" | xargs sed -i        \\\n        -e's/\\s\\?==\\s*None\\b/ is None/g'   \\\n        -e's/\\s\\?!=\\s*None\\b/ is not None/g'\n```\nWith the command above I got 637 instances on 6.2.rc0.\n\nAt the very last, there are two possibilities to avoid occurrence of \"bla == None\" in the future (see Volker's answer in [that thread](https://groups.google.com/forum/#!topic/sage-devel/SN93zx3YnAA)):\n- provide a pre-commit hook for git\n- modify the \"sage -b\" command\n\nVincent\n\nPS: sed is not Unix but [GNU](http://www.gnu.org/)!",
    "created_at": "2014-04-24T13:53:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260810",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'></a>
Attachment [patch-isNone.py](tarball://root/attachments/some-uuid/ticket16216/patch-isNone.py) by @videlec created at 2014-04-24 13:53:19

Hi,

Thanks Wilfried for providing your script. Your regexps look much nicer than mine!

The syntax for regexp in sed is (almost) the same as in Python! You can write what you did in sed as

```
sed -e's/\s\?==\s*None\b/ is None/g' \
    -e's/\s\?!=\s*None\b/ is not None/g' my_file.py
```

Instead of the for loop, it is faster and cleaner to use xargs. The following one-line command takes care of py and pyx files.

```
find -regex ".*pyx?" | xargs sed -i        \
        -e's/\s\?==\s*None\b/ is None/g'   \
        -e's/\s\?!=\s*None\b/ is not None/g'
```
With the command above I got 637 instances on 6.2.rc0.

At the very last, there are two possibilities to avoid occurrence of "bla == None" in the future (see Volker's answer in [that thread](https://groups.google.com/forum/#!topic/sage-devel/SN93zx3YnAA)):
- provide a pre-commit hook for git
- modify the "sage -b" command

Vincent

PS: sed is not Unix but [GNU](http://www.gnu.org/)!



---

archive/issue_comments_260811.json:
```json
{
    "body": "<a id='comment:18'></a>\nThanks Vincent, I guess I have to learn these tools :-))\n\nBut I am also still learning git, vim, Linux ... and often even Python. Not to mention Sage!!",
    "created_at": "2014-04-24T14:03:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260811",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:18'></a>
Thanks Vincent, I guess I have to learn these tools :-))

But I am also still learning git, vim, Linux ... and often even Python. Not to mention Sage!!



---

archive/issue_comments_260812.json:
```json
{
    "body": "<a id='comment:19'></a>\nAlso there is no difference in conflicts with a branch that gets merged into develop versus a script that fixes these things right before release. However it would be nice to have such a script in order to make reviews easier (mostly for reviewers who are unaware of what we're trying to do) and so we don't (re)introduce non-conformance.\n\nLet me know if you need me to review anything (it seems both of you [Vincent and Wilfried] are taking care of it).",
    "created_at": "2014-04-24T14:08:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260812",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>
Also there is no difference in conflicts with a branch that gets merged into develop versus a script that fixes these things right before release. However it would be nice to have such a script in order to make reviews easier (mostly for reviewers who are unaware of what we're trying to do) and so we don't (re)introduce non-conformance.

Let me know if you need me to review anything (it seems both of you [Vincent and Wilfried] are taking care of it).



---

archive/issue_comments_260813.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [vdelecroix](#comment%3A17):\n> Instead of the for loop, it is faster and cleaner to use xargs. The following one-line command takes care of py and pyx files.\n> \n> ```\n> find -regex \".*pyx?\" | xargs sed -i        \\\n>         -e's/\\s\\?==\\s*None\\b/ is None/g'   \\\n>         -e's/\\s\\?!=\\s*None\\b/ is not None/g'\n> ```\n\n\n`-regex` is not portable; one should use `-name \\*.py -o -name \\*.pyx` [`-o -name \\*.rst`] instead.  (And you can also use `sed ... $(find ...)`, or -- preferably -- `find ... -exec sed ...`, because the latter reduces the required size of the environment, i.e. `argv`.)\n\n`sed -i ...` is (unfortunately) also not portable, nor  is `\\s`, and IIRC neither `\\b` nor `\\?`.\n\n\n\n\n> PS: sed is not Unix but [GNU](http://www.gnu.org/)!\n\n\n`sed` is UNIX from the very beginning, while **G**NU's **N**ot **U**nix! ;-)",
    "created_at": "2014-04-24T17:51:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260813",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:20'></a>
Replying to [vdelecroix](#comment%3A17):
> Instead of the for loop, it is faster and cleaner to use xargs. The following one-line command takes care of py and pyx files.
> 
> ```
> find -regex ".*pyx?" | xargs sed -i        \
>         -e's/\s\?==\s*None\b/ is None/g'   \
>         -e's/\s\?!=\s*None\b/ is not None/g'
> ```


`-regex` is not portable; one should use `-name \*.py -o -name \*.pyx` [`-o -name \*.rst`] instead.  (And you can also use `sed ... $(find ...)`, or -- preferably -- `find ... -exec sed ...`, because the latter reduces the required size of the environment, i.e. `argv`.)

`sed -i ...` is (unfortunately) also not portable, nor  is `\s`, and IIRC neither `\b` nor `\?`.




> PS: sed is not Unix but [GNU](http://www.gnu.org/)!


`sed` is UNIX from the very beginning, while **G**NU's **N**ot **U**nix! ;-)



---

archive/issue_comments_260814.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [tscrim](#comment%3A19):\n> Also there is no difference in conflicts with a branch that gets merged into develop versus a script that fixes these things right before release.\n\n\nWell, in application, there is.\n\nAlso, I'd apply it last before preparing a *stable* release, since developers will have to rebase their pending patches afterwards anyway.  (Of course the *number* of potential conflicts with work in progress they'll face doesn't really change though.)",
    "created_at": "2014-04-24T17:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260814",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:21'></a>
Replying to [tscrim](#comment%3A19):
> Also there is no difference in conflicts with a branch that gets merged into develop versus a script that fixes these things right before release.


Well, in application, there is.

Also, I'd apply it last before preparing a *stable* release, since developers will have to rebase their pending patches afterwards anyway.  (Of course the *number* of potential conflicts with work in progress they'll face doesn't really change though.)



---

archive/issue_comments_260815.json:
```json
{
    "body": "<a id='comment:22'></a>\nThis ticket now has \n* 177 files changed, 515 insertions, 515 deletions\nbut ticket:15990 had\n* 503 files changed, 3138 insertions, 3170 deletions\nOn the way there were some merge conflict, but nothing serious.\n\n\nTherefore I'm not afraid about conflicts (for this ticket).",
    "created_at": "2014-04-24T18:21:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260815",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:22'></a>
This ticket now has 
* 177 files changed, 515 insertions, 515 deletions
but ticket:15990 had
* 503 files changed, 3138 insertions, 3170 deletions
On the way there were some merge conflict, but nothing serious.


Therefore I'm not afraid about conflicts (for this ticket).



---

archive/issue_comments_260816.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-04-25T08:41:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260816",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_260817.json:
```json
{
    "body": "<a id='comment:23'></a>\nHi,\n\n1) As I already told you, the substitutions made bad things to the documentation. Hopefully, in very few places. For examples\n- `/src/sage/ext/gen_interpreters.py`: we had \"so len==None is different than len==1\" and now it is \"so len is None is different than len==1\".  The new sentence is much harder to read.\n- `/src/sage/coding/code_bounds.py`: in a comment we had \"algorithm==None or algorithm=\"gap\"\" would be better to have \"algorithm=None or algorithm=\"gap\" (instead of the is None here).\n- etc\n\n2) You start removing unnecessary parenthesis. First of all it is not the job of that ticket. Secondly, one can arguably says that code is more readable with more parenthesis. So revert all those changes. If you want to remove parenthesis (which I think is a bad idea in general) then open a discussion on sage-devel and then a ticket if a consensus is reached.\n\nVincent",
    "created_at": "2014-04-25T08:41:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260817",
    "user": "https://github.com/videlec"
}
```

<a id='comment:23'></a>
Hi,

1) As I already told you, the substitutions made bad things to the documentation. Hopefully, in very few places. For examples
- `/src/sage/ext/gen_interpreters.py`: we had "so len==None is different than len==1" and now it is "so len is None is different than len==1".  The new sentence is much harder to read.
- `/src/sage/coding/code_bounds.py`: in a comment we had "algorithm==None or algorithm="gap"" would be better to have "algorithm=None or algorithm="gap" (instead of the is None here).
- etc

2) You start removing unnecessary parenthesis. First of all it is not the job of that ticket. Secondly, one can arguably says that code is more readable with more parenthesis. So revert all those changes. If you want to remove parenthesis (which I think is a bad idea in general) then open a discussion on sage-devel and then a ticket if a consensus is reached.

Vincent



---

archive/issue_comments_260818.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [vdelecroix](#comment%3A23):\n> 1) As I already told you, the substitutions made bad things to the documentation. Hopefully, in very few places.\n\n\nYep, at least where \"is None\" isn't typeset as code.\n\nAnd I also wouldn't touch most of the *comments*.\n\n\n\n\n> 2) You start removing unnecessary parenthesis. First of all it is not the job of that ticket. Secondly, one can arguably says that code is more readable with more parenthesis. So revert all those changes. If you want to remove parenthesis (which I think is a bad idea in general) then open a discussion on sage-devel and then a ticket if a consensus is reached.\n\n\nI'm in general ok with changing the \"C style\" `if (cond):` and `while (cond):` to usual Python syntax (without *outer* parentheses), but I agree that this should be done on another ticket, especially since currently only *some* instances (namely those in or near the context of other changes) get \"normalized\".\n\nThere are also a couple of conditions where I'd personally change *the order* of evaluation, of the form `if <expensive_test> <and|or> <cheap_test>:`,  but that's also out of the scope of this ticket.",
    "created_at": "2014-04-25T12:45:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260818",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:24'></a>
Replying to [vdelecroix](#comment%3A23):
> 1) As I already told you, the substitutions made bad things to the documentation. Hopefully, in very few places.


Yep, at least where "is None" isn't typeset as code.

And I also wouldn't touch most of the *comments*.




> 2) You start removing unnecessary parenthesis. First of all it is not the job of that ticket. Secondly, one can arguably says that code is more readable with more parenthesis. So revert all those changes. If you want to remove parenthesis (which I think is a bad idea in general) then open a discussion on sage-devel and then a ticket if a consensus is reached.


I'm in general ok with changing the "C style" `if (cond):` and `while (cond):` to usual Python syntax (without *outer* parentheses), but I agree that this should be done on another ticket, especially since currently only *some* instances (namely those in or near the context of other changes) get "normalized".

There are also a couple of conditions where I'd personally change *the order* of evaluation, of the form `if <expensive_test> <and|or> <cheap_test>:`,  but that's also out of the scope of this ticket.



---

archive/issue_events_062145.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16216#event-62145"
}
```



---

archive/issue_comments_260819.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-07T09:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260819",
    "user": "https://github.com/wluebbe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_260820.json:
```json
{
    "body": "Changing branch from \"u/wluebbe/ticket/16216\" to \"u/wluebbe/ticket/16216b\"",
    "created_at": "2014-05-07T09:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260820",
    "user": "https://github.com/wluebbe"
}
```

Changing branch from "u/wluebbe/ticket/16216" to "u/wluebbe/ticket/16216b"



---

archive/issue_comments_260821.json:
```json
{
    "body": "Changing commit from \"1219d56b731119122356714ed4d26ae33c63cd5d\" to \"6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85\"",
    "created_at": "2014-05-07T09:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260821",
    "user": "https://github.com/wluebbe"
}
```

Changing commit from "1219d56b731119122356714ed4d26ae33c63cd5d" to "6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85"



---

archive/issue_comments_260822.json:
```json
{
    "body": "<a id='comment:26'></a>\nI pushed a fresh start based on Sage 6.2.\n\nFrom commit message of the manual changes:\n\n```\n    * changed \"not xxx is None\" to \"xxx is not None\" (where appropriate)\n    * reverted changes in docstring text\n      - usually did not revert changes to doctest *code*\n      - but reverted changes to expected results (if required)\n    * (usually) did not revert changes to *code* in comments\n    \n    Always tried to apply good judgement - but refrained from changes\n    unrelated to the subject \"is None\".\n```\n\n---\nNew commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[f623de2](https://github.com/sagemath/sagetrac-mirror/commit/f623de2532c3c54b97d8a3deeb26e79a7bc6d945)|`generated changes from \"== None\" to \"is None\"`|\n|[6a2e806](https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85)|`manual fixup of the generated changes`|",
    "created_at": "2014-05-07T09:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260822",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:26'></a>
I pushed a fresh start based on Sage 6.2.

From commit message of the manual changes:

```
    * changed "not xxx is None" to "xxx is not None" (where appropriate)
    * reverted changes in docstring text
      - usually did not revert changes to doctest *code*
      - but reverted changes to expected results (if required)
    * (usually) did not revert changes to *code* in comments
    
    Always tried to apply good judgement - but refrained from changes
    unrelated to the subject "is None".
```

---
New commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[f623de2](https://github.com/sagemath/sagetrac-mirror/commit/f623de2532c3c54b97d8a3deeb26e79a7bc6d945)|`generated changes from "== None" to "is None"`|
|[6a2e806](https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85)|`manual fixup of the generated changes`|



---

archive/issue_comments_260823.json:
```json
{
    "body": "<a id='comment:27'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[f87a26f](https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0)|`Merge branch 'develop' into u/wluebbe/ticket/16216b`|",
    "created_at": "2014-05-16T10:41:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260823",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[f87a26f](https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0)|`Merge branch 'develop' into u/wluebbe/ticket/16216b`|



---

archive/issue_comments_260824.json:
```json
{
    "body": "Changing commit from \"6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85\" to \"f87a26fcbfd492b52242c1ccddf62659332c10f0\"",
    "created_at": "2014-05-16T10:41:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260824",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85" to "f87a26fcbfd492b52242c1ccddf62659332c10f0"



---

archive/issue_comments_260825.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Ralf Stephan\"",
    "created_at": "2014-05-20T06:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260825",
    "user": "https://github.com/rwst"
}
```

Changing reviewer from "" to "Ralf Stephan"



---

archive/issue_comments_260826.json:
```json
{
    "body": "<a id='comment:28'></a>\nI've eyeballed it all and patchbot is happy, too. So, if you remove that unrelated change in combinat/backtrack you can set positive.",
    "created_at": "2014-05-20T06:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260826",
    "user": "https://github.com/rwst"
}
```

<a id='comment:28'></a>
I've eyeballed it all and patchbot is happy, too. So, if you remove that unrelated change in combinat/backtrack you can set positive.



---

archive/issue_comments_260827.json:
```json
{
    "body": "<a id='comment:29'></a>\nThat //unrelated change in combinat/backtrack// resulted from resolving the merge conflict (comment 27). So it is not mine ;-) and I am reluctant removing it.\n\nPositive review anyway?",
    "created_at": "2014-05-20T09:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260827",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:29'></a>
That //unrelated change in combinat/backtrack// resulted from resolving the merge conflict (comment 27). So it is not mine ;-) and I am reluctant removing it.

Positive review anyway?



---

archive/issue_comments_260828.json:
```json
{
    "body": "<a id='comment:30'></a>\nBut develop doesn't have this code so you introduced (or re-introduced) it.",
    "created_at": "2014-05-20T09:39:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260828",
    "user": "https://github.com/rwst"
}
```

<a id='comment:30'></a>
But develop doesn't have this code so you introduced (or re-introduced) it.



---

archive/issue_comments_260829.json:
```json
{
    "body": "<a id='comment:31'></a>\nIf you don't know the best way to check it: `git diff develop` when in your up-to-date branch should show only your own changes.",
    "created_at": "2014-05-20T09:53:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260829",
    "user": "https://github.com/rwst"
}
```

<a id='comment:31'></a>
If you don't know the best way to check it: `git diff develop` when in your up-to-date branch should show only your own changes.



---

archive/issue_comments_260830.json:
```json
{
    "body": "Changing commit from \"f87a26fcbfd492b52242c1ccddf62659332c10f0\" to \"564c73c8cab8aef1ec1c9e626a8e280ea8217c8f\"",
    "created_at": "2014-05-20T13:07:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260830",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f87a26fcbfd492b52242c1ccddf62659332c10f0" to "564c73c8cab8aef1ec1c9e626a8e280ea8217c8f"



---

archive/issue_comments_260831.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[564c73c](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)|`trac #16216: undo a mistake from the last merge`|",
    "created_at": "2014-05-20T13:07:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260831",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[564c73c](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)|`trac #16216: undo a mistake from the last merge`|



---

archive/issue_comments_260832.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-20T13:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260832",
    "user": "https://github.com/wluebbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_260833.json:
```json
{
    "body": "<a id='comment:33'></a>\nThanks Ralf, for the help! The merge error is fixed.\n\nI set to positive as you suggested in comment 28.",
    "created_at": "2014-05-20T13:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260833",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:33'></a>
Thanks Ralf, for the help! The merge error is fixed.

I set to positive as you suggested in comment 28.



---

archive/issue_events_062146.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-21T15:33:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16216#event-62146"
}
```



---

archive/issue_comments_260834.json:
```json
{
    "body": "Changing branch from \"u/wluebbe/ticket/16216b\" to \"564c73c8cab8aef1ec1c9e626a8e280ea8217c8f\"",
    "created_at": "2014-05-21T15:33:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260834",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/wluebbe/ticket/16216b" to "564c73c8cab8aef1ec1c9e626a8e280ea8217c8f"



---

archive/issue_comments_260835.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-21T15:33:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16216#issuecomment-260835",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
