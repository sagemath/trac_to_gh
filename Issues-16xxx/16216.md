# Issue 16216: Improve PEP8 compliance: replace "== None" by "is None"

archive/issues_015979.json:
```json
{
    "assignees": [],
    "body": "To cite from [PEP8](http://legacy.python.org/dev/peps/pep-0008/):\n\n\nComparisons to singletons like None should always be done with is or is not, never the equality operators.\n\nThis ticket is also related to a promise in ticket:15984.\n\nCC:  @tscrim\n\nKeywords: **pep8**\n\nBranch/Commit: **[`564c73c`](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)**\n\nReviewer: **Ralf Stephan**\n\nAuthor: **Wilfried Luebbe**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16216_\n\n",
    "closed_at": "2014-05-21T15:33:39Z",
    "created_at": "2014-04-23T12:28:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Improve PEP8 compliance: replace \"== None\" by \"is None\"",
    "type": "issue",
    "updated_at": "2014-05-21T15:33:39Z",
    "url": "https://github.com/sagemath/sage/issues/16216",
    "user": "https://github.com/wluebbe"
}
```
To cite from [PEP8](http://legacy.python.org/dev/peps/pep-0008/):


Comparisons to singletons like None should always be done with is or is not, never the equality operators.

This ticket is also related to a promise in ticket:15984.

CC:  @tscrim

Keywords: **pep8**

Branch/Commit: **[`564c73c`](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)**

Reviewer: **Ralf Stephan**

Author: **Wilfried Luebbe**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/16216_





---

archive/issue_events_231510.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-23T12:28:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231510"
}
```



---

archive/issue_events_231511.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-23T12:28:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231511"
}
```



---

archive/issue_events_231512.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-23T12:28:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231512"
}
```



---

archive/issue_events_231513.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-23T12:28:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231513"
}
```



---

archive/issue_comments_207284.json:
```json
{
    "body": "Commit: **[`166bc6c`](https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3)**",
    "created_at": "2014-04-24T05:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207284",
    "user": "https://github.com/wluebbe"
}
```

Commit: **[`166bc6c`](https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3)**



---

archive/issue_comments_207285.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nHi Travis, these are the changes you suggested in ticket:15984.\n\n\nWould you like to review this ticket?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83f3f2d48b14d2195d22d1a0baba74bc5aef9d0f\">83f3f2d</a></td><td><code>generated changes from \"== None\" to \"is None\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3\">166bc6c</a></td><td><code>some manual changes to further improve style</code></td></tr></table>\n",
    "created_at": "2014-04-24T05:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207285",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:1" align="right">comment:1</div>

Hi Travis, these are the changes you suggested in ticket:15984.


Would you like to review this ticket?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83f3f2d48b14d2195d22d1a0baba74bc5aef9d0f">83f3f2d</a></td><td><code>generated changes from "== None" to "is None"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3">166bc6c</a></td><td><code>some manual changes to further improve style</code></td></tr></table>




---

archive/issue_comments_207286.json:
```json
{
    "body": "Branch: **[u/wluebbe/ticket/16216](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216)**",
    "created_at": "2014-04-24T05:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207286",
    "user": "https://github.com/wluebbe"
}
```

Branch: **[u/wluebbe/ticket/16216](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216)**



---

archive/issue_events_231514.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-24T05:24:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231514"
}
```



---

archive/issue_comments_207287.json:
```json
{
    "body": "Author: **Wilfried Luebbe**",
    "created_at": "2014-04-24T05:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207287",
    "user": "https://github.com/wluebbe"
}
```

Author: **Wilfried Luebbe**



---

archive/issue_comments_207288.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nWhy not provide a script here? It should be possible to apply it just before the stable release.\n\nWith a simple grep I found many more instances in\n\n- sage/coding/code_bounds.py\n- sage/schemes/toric/variety.py\n- sage/schemes/toric/chow_group.py\n- sage/schemes/projective/projective_morphism.py\n- sage/schemes/generic/divisor_group.py\n- sage/schemes/elliptic_curves/weierstrass_morphism.py\n- sage/schemes/elliptic_curves/ell_finite_field.py\n- sage/schemes/elliptic_curves/ell_generic.py\n- sage/geometry/toric_lattice.py\n- sage/geometry/triangulation/point_configuration.py\n- sage/geometry/polyhedron/misc.py\n- sage/geometry/polyhedron/cdd_file_format.py\n- sage/geometry/polyhedron/face.py\n- sage/numerical/optimize.py\n- sage/calculus/desolvers.py\n- sage/sandpiles/sandpile.py\n- sage/graphs/generic_graph.py\n- sage/graphs/graph_coloring.py\n- sage/graphs/graph.py\n- sage/modular/modform/ambient_eps.py\n- sage/categories/coxeter_groups.py\n- sage/matrix/constructor.py\n- sage/quadratic_forms/quadratic_form__ternary_Tornaria.py\n- sage/interfaces/singular.py\n- sage/combinat/root_system/root_lattice_realizations.py\n- sage/combinat/sf/ns_macdonald.py\n- sage/combinat/tableau_tuple.py\n- sage/combinat/composition_tableau.py\n- sage/combinat/k_tableau.py\n- sage/combinat/affine_permutation.py\n- sage/ext/gen_interpreters.py",
    "created_at": "2014-04-24T07:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207288",
    "user": "https://github.com/videlec"
}
```

<div id="comment:2" align="right">comment:2</div>

Why not provide a script here? It should be possible to apply it just before the stable release.

With a simple grep I found many more instances in

- sage/coding/code_bounds.py
- sage/schemes/toric/variety.py
- sage/schemes/toric/chow_group.py
- sage/schemes/projective/projective_morphism.py
- sage/schemes/generic/divisor_group.py
- sage/schemes/elliptic_curves/weierstrass_morphism.py
- sage/schemes/elliptic_curves/ell_finite_field.py
- sage/schemes/elliptic_curves/ell_generic.py
- sage/geometry/toric_lattice.py
- sage/geometry/triangulation/point_configuration.py
- sage/geometry/polyhedron/misc.py
- sage/geometry/polyhedron/cdd_file_format.py
- sage/geometry/polyhedron/face.py
- sage/numerical/optimize.py
- sage/calculus/desolvers.py
- sage/sandpiles/sandpile.py
- sage/graphs/generic_graph.py
- sage/graphs/graph_coloring.py
- sage/graphs/graph.py
- sage/modular/modform/ambient_eps.py
- sage/categories/coxeter_groups.py
- sage/matrix/constructor.py
- sage/quadratic_forms/quadratic_form__ternary_Tornaria.py
- sage/interfaces/singular.py
- sage/combinat/root_system/root_lattice_realizations.py
- sage/combinat/sf/ns_macdonald.py
- sage/combinat/tableau_tuple.py
- sage/combinat/composition_tableau.py
- sage/combinat/k_tableau.py
- sage/combinat/affine_permutation.py
- sage/ext/gen_interpreters.py



---

archive/issue_comments_207289.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI guess something like the following would do the job (trickier than what I thought... I edited twice my answer)\n\n```\n#!/usr/bin/env bash\n\nfor f in $(find . -name \"*py\");\ndo\n    echo \"processing $f\"\n    sed -i -e's/==\\ *None$/is None/g' $f\n    sed -i -e's/==\\ *None\\([ :)]\\)/is None\\1/g' $f\n    sed -i -e's/!=\\ *None$/is not None/g' $f\n    sed -i -e's/!=\\ *None\\([ :)]\\)/is not None\\1/g' $f\ndone\n```",
    "created_at": "2014-04-24T08:19:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207289",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

I guess something like the following would do the job (trickier than what I thought... I edited twice my answer)

```
#!/usr/bin/env bash

for f in $(find . -name "*py");
do
    echo "processing $f"
    sed -i -e's/==\ *None$/is None/g' $f
    sed -i -e's/==\ *None\([ :)]\)/is None\1/g' $f
    sed -i -e's/!=\ *None$/is not None/g' $f
    sed -i -e's/!=\ *None\([ :)]\)/is not None\1/g' $f
done
```



---

archive/issue_comments_207290.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI did it with a small Python script, but instead of \"\\w*\" I had \"\\w+\"  :-(\n\n\nWait a minute ... ;-)",
    "created_at": "2014-04-24T09:12:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207290",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:4" align="right">comment:4</div>

I did it with a small Python script, but instead of "\w*" I had "\w+"  :-(


Wait a minute ... ;-)



---

archive/issue_comments_207291.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIn [that thread](https://groups.google.com/forum/#!topic/sage-devel/SN93zx3YnAA) on sage-devel I asked the question of whether we can provide a script rather than a branch... it would make more sense here.\n\nVincent",
    "created_at": "2014-04-24T09:16:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207291",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5" align="right">comment:5</div>

In [that thread](https://groups.google.com/forum/#!topic/sage-devel/SN93zx3YnAA) on sage-devel I asked the question of whether we can provide a script rather than a branch... it would make more sense here.

Vincent



---

archive/issue_comments_207292.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSee also [this thread](https://groups.google.com/forum/#!msg/sage-devel/r-85whQZGhY/KkUkGMzg7tgJ)",
    "created_at": "2014-04-24T09:28:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207292",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">comment:6</div>

See also [this thread](https://groups.google.com/forum/#!msg/sage-devel/r-85whQZGhY/KkUkGMzg7tgJ)



---

archive/issue_comments_207293.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nSuch scripts should ideally be applied by the release manager right before doing a new stable release.  Not sure whether Volker is aware of this ticket.\n\nFor new code / changes, it's up to the reviewers to check no new instances get introduced. ;-)",
    "created_at": "2014-04-24T10:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207293",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:7" align="right">comment:7</div>

Such scripts should ideally be applied by the release manager right before doing a new stable release.  Not sure whether Volker is aware of this ticket.

For new code / changes, it's up to the reviewers to check no new instances get introduced. ;-)



---

archive/issue_comments_207294.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThanks Leif. I will ask Volker directly if he does not answer on sage-devel.\n\nThe script was not the good one (because of things like \"my_variable!=None\"), new try\n\n```\n#!/usr/bin/env bash\n\nfor f in $(find . -name \"*py\");\ndo\n    echo \"processing $f\"\n    sed -i -e's/\\ *==\\ *None$/ is None/g' $f\n    sed -i -e's/\\ *==\\ *None\\([ :)]\\)/ is None\\1/g' $f\n    sed -i -e's/\\ *!=\\ *None$/ is not None/g' $f\n    sed -i -e's/\\ *!=\\ *None\\([ :)]\\)/ is not None\\1/g' $f\ndone\n```\nI applied it to Sage source code, and obtain 505 occurrences... and Sage even starts after that!!",
    "created_at": "2014-04-24T10:42:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207294",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">comment:8</div>

Thanks Leif. I will ask Volker directly if he does not answer on sage-devel.

The script was not the good one (because of things like "my_variable!=None"), new try

```
#!/usr/bin/env bash

for f in $(find . -name "*py");
do
    echo "processing $f"
    sed -i -e's/\ *==\ *None$/ is None/g' $f
    sed -i -e's/\ *==\ *None\([ :)]\)/ is None\1/g' $f
    sed -i -e's/\ *!=\ *None$/ is not None/g' $f
    sed -i -e's/\ *!=\ *None\([ :)]\)/ is not None\1/g' $f
done
```
I applied it to Sage source code, and obtain 505 occurrences... and Sage even starts after that!!



---

archive/issue_comments_207295.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThere are several competing / overlapping tools that could support such a \"project\". \nHere are some links:\n* [Pylint](http://www.pylint.org/) and [in PIP](https://pypi.python.org/pypi/pylint/1.2.0)\n* [pep8](http://pep8.readthedocs.org/en/latest/) and [in PIP](https://pypi.python.org/pypi/pep8)\n* [flake8](https://bitbucket.org/tarek/flake8/wiki/Home) and [in PIP](https://pypi.python.org/pypi/flake8)\n* [pyflakes](https://github.com/pyflakes/pyflakes/) and [in PIP](https://pypi.python.org/pypi/pyflakes/0.8.1)\n* [frosted](https://github.com/timothycrosley/frosted) and [in PIP](https://pypi.python.org/pypi/frosted)\n\nThe cross tool mailing list is [code-quality](https://mail.python.org/mailman/listinfo/code-quality).\n\nThese are the Python guidelines:\n* [PEP8 Style Guide for Python Code](http://legacy.python.org/dev/peps/pep-0008/)\n* [PEP257 Docstring Conventions](http://legacy.python.org/dev/peps/pep-0257/)\n* [PEP7 Style Guide for C Code](http://legacy.python.org/dev/peps/pep-0007/)\n\nI had a quick look at them - there is no obvious BEST one.\nBut it would certainly be worthwhile to select / combine / customize them for use with Sage.",
    "created_at": "2014-04-24T10:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207295",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:9" align="right">comment:9</div>

There are several competing / overlapping tools that could support such a "project". 
Here are some links:
* [Pylint](http://www.pylint.org/) and [in PIP](https://pypi.python.org/pypi/pylint/1.2.0)
* [pep8](http://pep8.readthedocs.org/en/latest/) and [in PIP](https://pypi.python.org/pypi/pep8)
* [flake8](https://bitbucket.org/tarek/flake8/wiki/Home) and [in PIP](https://pypi.python.org/pypi/flake8)
* [pyflakes](https://github.com/pyflakes/pyflakes/) and [in PIP](https://pypi.python.org/pypi/pyflakes/0.8.1)
* [frosted](https://github.com/timothycrosley/frosted) and [in PIP](https://pypi.python.org/pypi/frosted)

The cross tool mailing list is [code-quality](https://mail.python.org/mailman/listinfo/code-quality).

These are the Python guidelines:
* [PEP8 Style Guide for Python Code](http://legacy.python.org/dev/peps/pep-0008/)
* [PEP257 Docstring Conventions](http://legacy.python.org/dev/peps/pep-0257/)
* [PEP7 Style Guide for C Code](http://legacy.python.org/dev/peps/pep-0007/)

I had a quick look at them - there is no obvious BEST one.
But it would certainly be worthwhile to select / combine / customize them for use with Sage.



---

archive/issue_comments_207296.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71\">05ae6c0</a></td><td><code>generated patches missing from first run</code></td></tr></table>\n",
    "created_at": "2014-04-24T10:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207296",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71">05ae6c0</a></td><td><code>generated patches missing from first run</code></td></tr></table>




---

archive/issue_comments_207297.json:
```json
{
    "body": "Changed commit from **[`166bc6c`](https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3)** to **[`05ae6c0`](https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71)**",
    "created_at": "2014-04-24T10:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207297",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`166bc6c`](https://github.com/sagemath/sagetrac-mirror/commit/166bc6c497e13febf34e7f64cd947d3bd2dc99c3)** to **[`05ae6c0`](https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71)**



---

archive/issue_comments_207298.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n1) The script can be done with only one call to sed and is much faster that way (took less than 10 secs on my computer)\n\n```\n#!/usr/bin/env bash\n\nfor f in $(find . -name \"*py\");\ndo\n    echo \"processing $f\"\n    sed -i -e's/\\ *==\\ *None$/ is None/g' \\\n           -e's/\\ *==\\ *None\\([ :)]\\)/ is None\\1/g' \\\n           -e's/\\ *!=\\ *None$/ is not None/g' \\\n           -e's/\\ *!=\\ *None\\([ :)]\\)/ is not None\\1/g' $f\ndone\n```\n\n2) There are few things to fix by hand. For example, some occurrences appear in the docstrings and the script did bad to them (src/sage/ext/gen_interpreters.py, src/sage/geometry/polyhedron/misc.py, ...)\n\nFor Wilfried:\n\n3) It is not a good idea to provide a git branch (it will certainly create plenty of conflicts). The best would be to apply the script just before the stable release.\n\n4) If you used a script different from mine, it would be nice that you provide it!",
    "created_at": "2014-04-24T10:57:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207298",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">comment:11</div>

1) The script can be done with only one call to sed and is much faster that way (took less than 10 secs on my computer)

```
#!/usr/bin/env bash

for f in $(find . -name "*py");
do
    echo "processing $f"
    sed -i -e's/\ *==\ *None$/ is None/g' \
           -e's/\ *==\ *None\([ :)]\)/ is None\1/g' \
           -e's/\ *!=\ *None$/ is not None/g' \
           -e's/\ *!=\ *None\([ :)]\)/ is not None\1/g' $f
done
```

2) There are few things to fix by hand. For example, some occurrences appear in the docstrings and the script did bad to them (src/sage/ext/gen_interpreters.py, src/sage/geometry/polyhedron/misc.py, ...)

For Wilfried:

3) It is not a good idea to provide a git branch (it will certainly create plenty of conflicts). The best would be to apply the script just before the stable release.

4) If you used a script different from mine, it would be nice that you provide it!



---

archive/issue_comments_207299.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThe update also includes some pyx modules. And a few py modules not in your list.\n\nThe regexp now looks like\n\n```\n  c_pat_1 = re.compile(r\"\"\"\\s? == \\s* None \\b\"\"\", re.VERBOSE)\n  contents_1, n1 = re.subn(c_pat_1, \" is None\", contents_0)\n  c_pat_2 = re.compile(r\"\"\"\\s? != \\s* None \\b\"\"\", re.VERBOSE)\n  new_contents, n2 = re.subn(c_pat_2, \" is not None\", contents_1)\n```",
    "created_at": "2014-04-24T10:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207299",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:12" align="right">comment:12</div>

The update also includes some pyx modules. And a few py modules not in your list.

The regexp now looks like

```
  c_pat_1 = re.compile(r"""\s? == \s* None \b""", re.VERBOSE)
  contents_1, n1 = re.subn(c_pat_1, " is None", contents_0)
  c_pat_2 = re.compile(r"""\s? != \s* None \b""", re.VERBOSE)
  new_contents, n2 = re.subn(c_pat_2, " is not None", contents_1)
```



---

archive/issue_comments_207300.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@videlec](#comment:11):\n> 3) It is not a good idea to provide a git branch (it will certainly create plenty of conflicts). The best would be to apply the script just before the stable release.\n\nI would agree but at least once you have to clean up the existing stuff. - And the conflicts should be manageable.\n\n\n\n\n> 4) If you used a script different from mine, it would be nice that you provide it!\n\nI am more familiar with Python than with the classic Un*x tools like grep and sed :-/\n\n\nI attached my quick and dirty Python script.",
    "created_at": "2014-04-24T11:21:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207300",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@videlec](#comment:11):
> 3) It is not a good idea to provide a git branch (it will certainly create plenty of conflicts). The best would be to apply the script just before the stable release.

I would agree but at least once you have to clean up the existing stuff. - And the conflicts should be manageable.




> 4) If you used a script different from mine, it would be nice that you provide it!

I am more familiar with Python than with the classic Un*x tools like grep and sed :-/


I attached my quick and dirty Python script.



---

archive/issue_comments_207301.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThere's also at least one occurrence in `.rst` source (as opposed to generated) files:\n\n```\nsrc/doc/en/thematic_tutorials/lie/crystals.rst:421:    sage: v.f(1).f(1) == None\n```",
    "created_at": "2014-04-24T11:38:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207301",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:14" align="right">comment:14</div>

There's also at least one occurrence in `.rst` source (as opposed to generated) files:

```
src/doc/en/thematic_tutorials/lie/crystals.rst:421:    sage: v.f(1).f(1) == None
```



---

archive/issue_comments_207302.json:
```json
{
    "body": "Changed commit from **[`05ae6c0`](https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71)** to **[`1219d56`](https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d)**",
    "created_at": "2014-04-24T13:25:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207302",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`05ae6c0`](https://github.com/sagemath/sagetrac-mirror/commit/05ae6c01d83821d60b76bf5a1aa7b2bca745ad71)** to **[`1219d56`](https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d)**



---

archive/issue_comments_207303.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d\">1219d56</a></td><td><code>one affected .rst file changed</code></td></tr></table>\n",
    "created_at": "2014-04-24T13:25:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207303",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d">1219d56</a></td><td><code>one affected .rst file changed</code></td></tr></table>




---

archive/issue_comments_207304.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThis was also the only `.rst` I could find.",
    "created_at": "2014-04-24T13:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207304",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:16" align="right">comment:16</div>

This was also the only `.rst` I could find.



---

archive/issue_comments_207305.json:
```json
{
    "body": "Update for .rst and to exclude selected modules",
    "created_at": "2014-04-24T13:42:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207305",
    "user": "https://github.com/wluebbe"
}
```

Update for .rst and to exclude selected modules



---

archive/issue_comments_207306.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAttachment: **[patch-isNone.py.gz](https://github.com/sagemath/sage/files/ticket16216/patch-isNone.py.gz)**\n\nHi,\n\nThanks Wilfried for providing your script. Your regexps look much nicer than mine!\n\nThe syntax for regexp in sed is (almost) the same as in Python! You can write what you did in sed as\n\n```\nsed -e's/\\s\\?==\\s*None\\b/ is None/g' \\\n    -e's/\\s\\?!=\\s*None\\b/ is not None/g' my_file.py\n```\n\nInstead of the for loop, it is faster and cleaner to use xargs. The following one-line command takes care of py and pyx files.\n\n```\nfind -regex \".*pyx?\" | xargs sed -i        \\\n        -e's/\\s\\?==\\s*None\\b/ is None/g'   \\\n        -e's/\\s\\?!=\\s*None\\b/ is not None/g'\n```\nWith the command above I got 637 instances on 6.2.rc0.\n\nAt the very last, there are two possibilities to avoid occurrence of \"bla == None\" in the future (see Volker's answer in [that thread](https://groups.google.com/forum/#!topic/sage-devel/SN93zx3YnAA)):\n- provide a pre-commit hook for git\n- modify the \"sage -b\" command\n\nVincent\n\nPS: sed is not Unix but [GNU](http://www.gnu.org/)!",
    "created_at": "2014-04-24T13:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207306",
    "user": "https://github.com/videlec"
}
```

<div id="comment:17" align="right">comment:17</div>

Attachment: **[patch-isNone.py.gz](https://github.com/sagemath/sage/files/ticket16216/patch-isNone.py.gz)**

Hi,

Thanks Wilfried for providing your script. Your regexps look much nicer than mine!

The syntax for regexp in sed is (almost) the same as in Python! You can write what you did in sed as

```
sed -e's/\s\?==\s*None\b/ is None/g' \
    -e's/\s\?!=\s*None\b/ is not None/g' my_file.py
```

Instead of the for loop, it is faster and cleaner to use xargs. The following one-line command takes care of py and pyx files.

```
find -regex ".*pyx?" | xargs sed -i        \
        -e's/\s\?==\s*None\b/ is None/g'   \
        -e's/\s\?!=\s*None\b/ is not None/g'
```
With the command above I got 637 instances on 6.2.rc0.

At the very last, there are two possibilities to avoid occurrence of "bla == None" in the future (see Volker's answer in [that thread](https://groups.google.com/forum/#!topic/sage-devel/SN93zx3YnAA)):
- provide a pre-commit hook for git
- modify the "sage -b" command

Vincent

PS: sed is not Unix but [GNU](http://www.gnu.org/)!



---

archive/issue_comments_207307.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThanks Vincent, I guess I have to learn these tools :-))\n\nBut I am also still learning git, vim, Linux ... and often even Python. Not to mention Sage!!",
    "created_at": "2014-04-24T14:03:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207307",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:18" align="right">comment:18</div>

Thanks Vincent, I guess I have to learn these tools :-))

But I am also still learning git, vim, Linux ... and often even Python. Not to mention Sage!!



---

archive/issue_comments_207308.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAlso there is no difference in conflicts with a branch that gets merged into develop versus a script that fixes these things right before release. However it would be nice to have such a script in order to make reviews easier (mostly for reviewers who are unaware of what we're trying to do) and so we don't (re)introduce non-conformance.\n\nLet me know if you need me to review anything (it seems both of you [Vincent and Wilfried] are taking care of it).",
    "created_at": "2014-04-24T14:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207308",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:19" align="right">comment:19</div>

Also there is no difference in conflicts with a branch that gets merged into develop versus a script that fixes these things right before release. However it would be nice to have such a script in order to make reviews easier (mostly for reviewers who are unaware of what we're trying to do) and so we don't (re)introduce non-conformance.

Let me know if you need me to review anything (it seems both of you [Vincent and Wilfried] are taking care of it).



---

archive/issue_comments_207309.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@videlec](#comment:17):\n> Instead of the for loop, it is faster and cleaner to use xargs. The following one-line command takes care of py and pyx files.\n> \n> ```\n> find -regex \".*pyx?\" | xargs sed -i        \\\n>         -e's/\\s\\?==\\s*None\\b/ is None/g'   \\\n>         -e's/\\s\\?!=\\s*None\\b/ is not None/g'\n> ```\n\n`-regex` is not portable; one should use `-name \\*.py -o -name \\*.pyx` [`-o -name \\*.rst`] instead.  (And you can also use `sed ... $(find ...)`, or -- preferably -- `find ... -exec sed ...`, because the latter reduces the required size of the environment, i.e. `argv`.)\n\n`sed -i ...` is (unfortunately) also not portable, nor  is `\\s`, and IIRC neither `\\b` nor `\\?`.\n\n\n\n\n> PS: sed is not Unix but [GNU](http://www.gnu.org/)!\n\n`sed` is UNIX from the very beginning, while **G**NU's **N**ot **U**nix! ;-)",
    "created_at": "2014-04-24T17:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207309",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@videlec](#comment:17):
> Instead of the for loop, it is faster and cleaner to use xargs. The following one-line command takes care of py and pyx files.
> 
> ```
> find -regex ".*pyx?" | xargs sed -i        \
>         -e's/\s\?==\s*None\b/ is None/g'   \
>         -e's/\s\?!=\s*None\b/ is not None/g'
> ```

`-regex` is not portable; one should use `-name \*.py -o -name \*.pyx` [`-o -name \*.rst`] instead.  (And you can also use `sed ... $(find ...)`, or -- preferably -- `find ... -exec sed ...`, because the latter reduces the required size of the environment, i.e. `argv`.)

`sed -i ...` is (unfortunately) also not portable, nor  is `\s`, and IIRC neither `\b` nor `\?`.




> PS: sed is not Unix but [GNU](http://www.gnu.org/)!

`sed` is UNIX from the very beginning, while **G**NU's **N**ot **U**nix! ;-)



---

archive/issue_comments_207310.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@tscrim](#comment:19):\n> Also there is no difference in conflicts with a branch that gets merged into develop versus a script that fixes these things right before release.\n\nWell, in application, there is.\n\nAlso, I'd apply it last before preparing a *stable* release, since developers will have to rebase their pending patches afterwards anyway.  (Of course the *number* of potential conflicts with work in progress they'll face doesn't really change though.)",
    "created_at": "2014-04-24T17:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207310",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@tscrim](#comment:19):
> Also there is no difference in conflicts with a branch that gets merged into develop versus a script that fixes these things right before release.

Well, in application, there is.

Also, I'd apply it last before preparing a *stable* release, since developers will have to rebase their pending patches afterwards anyway.  (Of course the *number* of potential conflicts with work in progress they'll face doesn't really change though.)



---

archive/issue_comments_207311.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThis ticket now has \n* 177 files changed, 515 insertions, 515 deletions\nbut ticket:15990 had\n* 503 files changed, 3138 insertions, 3170 deletions\nOn the way there were some merge conflict, but nothing serious.\n\n\nTherefore I'm not afraid about conflicts (for this ticket).",
    "created_at": "2014-04-24T18:21:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207311",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:22" align="right">comment:22</div>

This ticket now has 
* 177 files changed, 515 insertions, 515 deletions
but ticket:15990 had
* 503 files changed, 3138 insertions, 3170 deletions
On the way there were some merge conflict, but nothing serious.


Therefore I'm not afraid about conflicts (for this ticket).



---

archive/issue_events_231515.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-04-25T08:41:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231515"
}
```



---

archive/issue_events_231516.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-04-25T08:41:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231516"
}
```



---

archive/issue_comments_207312.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nHi,\n\n1) As I already told you, the substitutions made bad things to the documentation. Hopefully, in very few places. For examples\n- `/src/sage/ext/gen_interpreters.py`: we had \"so len==None is different than len==1\" and now it is \"so len is None is different than len==1\".  The new sentence is much harder to read.\n- `/src/sage/coding/code_bounds.py`: in a comment we had \"algorithm==None or algorithm=\"gap\"\" would be better to have \"algorithm=None or algorithm=\"gap\" (instead of the is None here).\n- etc\n\n2) You start removing unnecessary parenthesis. First of all it is not the job of that ticket. Secondly, one can arguably says that code is more readable with more parenthesis. So revert all those changes. If you want to remove parenthesis (which I think is a bad idea in general) then open a discussion on sage-devel and then a ticket if a consensus is reached.\n\nVincent",
    "created_at": "2014-04-25T08:41:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207312",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">comment:23</div>

Hi,

1) As I already told you, the substitutions made bad things to the documentation. Hopefully, in very few places. For examples
- `/src/sage/ext/gen_interpreters.py`: we had "so len==None is different than len==1" and now it is "so len is None is different than len==1".  The new sentence is much harder to read.
- `/src/sage/coding/code_bounds.py`: in a comment we had "algorithm==None or algorithm="gap"" would be better to have "algorithm=None or algorithm="gap" (instead of the is None here).
- etc

2) You start removing unnecessary parenthesis. First of all it is not the job of that ticket. Secondly, one can arguably says that code is more readable with more parenthesis. So revert all those changes. If you want to remove parenthesis (which I think is a bad idea in general) then open a discussion on sage-devel and then a ticket if a consensus is reached.

Vincent



---

archive/issue_comments_207313.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@videlec](#comment:23):\n> 1) As I already told you, the substitutions made bad things to the documentation. Hopefully, in very few places.\n\nYep, at least where \"is None\" isn't typeset as code.\n\nAnd I also wouldn't touch most of the *comments*.\n\n\n\n\n> 2) You start removing unnecessary parenthesis. First of all it is not the job of that ticket. Secondly, one can arguably says that code is more readable with more parenthesis. So revert all those changes. If you want to remove parenthesis (which I think is a bad idea in general) then open a discussion on sage-devel and then a ticket if a consensus is reached.\n\nI'm in general ok with changing the \"C style\" `if (cond):` and `while (cond):` to usual Python syntax (without *outer* parentheses), but I agree that this should be done on another ticket, especially since currently only *some* instances (namely those in or near the context of other changes) get \"normalized\".\n\nThere are also a couple of conditions where I'd personally change *the order* of evaluation, of the form `if <expensive_test> <and|or> <cheap_test>:`,  but that's also out of the scope of this ticket.",
    "created_at": "2014-04-25T12:45:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207313",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@videlec](#comment:23):
> 1) As I already told you, the substitutions made bad things to the documentation. Hopefully, in very few places.

Yep, at least where "is None" isn't typeset as code.

And I also wouldn't touch most of the *comments*.




> 2) You start removing unnecessary parenthesis. First of all it is not the job of that ticket. Secondly, one can arguably says that code is more readable with more parenthesis. So revert all those changes. If you want to remove parenthesis (which I think is a bad idea in general) then open a discussion on sage-devel and then a ticket if a consensus is reached.

I'm in general ok with changing the "C style" `if (cond):` and `while (cond):` to usual Python syntax (without *outer* parentheses), but I agree that this should be done on another ticket, especially since currently only *some* instances (namely those in or near the context of other changes) get "normalized".

There are also a couple of conditions where I'd personally change *the order* of evaluation, of the form `if <expensive_test> <and|or> <cheap_test>:`,  but that's also out of the scope of this ticket.



---

archive/issue_events_231517.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231517"
}
```



---

archive/issue_events_231518.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231518"
}
```



---

archive/issue_events_231519.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-07T09:39:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231519"
}
```



---

archive/issue_events_231520.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-07T09:39:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231520"
}
```



---

archive/issue_comments_207314.json:
```json
{
    "body": "Changed branch from **[u/wluebbe/ticket/16216](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216)** to **[u/wluebbe/ticket/16216b](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216b)**",
    "created_at": "2014-05-07T09:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207314",
    "user": "https://github.com/wluebbe"
}
```

Changed branch from **[u/wluebbe/ticket/16216](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216)** to **[u/wluebbe/ticket/16216b](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216b)**



---

archive/issue_comments_207315.json:
```json
{
    "body": "Changed commit from **[`1219d56`](https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d)** to **[`6a2e806`](https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85)**",
    "created_at": "2014-05-07T09:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207315",
    "user": "https://github.com/wluebbe"
}
```

Changed commit from **[`1219d56`](https://github.com/sagemath/sagetrac-mirror/commit/1219d56b731119122356714ed4d26ae33c63cd5d)** to **[`6a2e806`](https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85)**



---

archive/issue_comments_207316.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI pushed a fresh start based on Sage 6.2.\n\nFrom commit message of the manual changes:\n\n```\n    * changed \"not xxx is None\" to \"xxx is not None\" (where appropriate)\n    * reverted changes in docstring text\n      - usually did not revert changes to doctest *code*\n      - but reverted changes to expected results (if required)\n    * (usually) did not revert changes to *code* in comments\n    \n    Always tried to apply good judgement - but refrained from changes\n    unrelated to the subject \"is None\".\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f623de2532c3c54b97d8a3deeb26e79a7bc6d945\">f623de2</a></td><td><code>generated changes from \"== None\" to \"is None\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85\">6a2e806</a></td><td><code>manual fixup of the generated changes</code></td></tr></table>\n",
    "created_at": "2014-05-07T09:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207316",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:26" align="right">comment:26</div>

I pushed a fresh start based on Sage 6.2.

From commit message of the manual changes:

```
    * changed "not xxx is None" to "xxx is not None" (where appropriate)
    * reverted changes in docstring text
      - usually did not revert changes to doctest *code*
      - but reverted changes to expected results (if required)
    * (usually) did not revert changes to *code* in comments
    
    Always tried to apply good judgement - but refrained from changes
    unrelated to the subject "is None".
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f623de2532c3c54b97d8a3deeb26e79a7bc6d945">f623de2</a></td><td><code>generated changes from "== None" to "is None"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85">6a2e806</a></td><td><code>manual fixup of the generated changes</code></td></tr></table>




---

archive/issue_comments_207317.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0\">f87a26f</a></td><td><code>Merge branch 'develop' into u/wluebbe/ticket/16216b</code></td></tr></table>\n",
    "created_at": "2014-05-16T10:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207317",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0">f87a26f</a></td><td><code>Merge branch 'develop' into u/wluebbe/ticket/16216b</code></td></tr></table>




---

archive/issue_comments_207318.json:
```json
{
    "body": "Changed commit from **[`6a2e806`](https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85)** to **[`f87a26f`](https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0)**",
    "created_at": "2014-05-16T10:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207318",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6a2e806`](https://github.com/sagemath/sagetrac-mirror/commit/6a2e8067c481abe8b5230dd1be3d86a9d9aa3d85)** to **[`f87a26f`](https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0)**



---

archive/issue_comments_207319.json:
```json
{
    "body": "Reviewer: **Ralf Stephan**",
    "created_at": "2014-05-20T06:44:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207319",
    "user": "https://github.com/rwst"
}
```

Reviewer: **Ralf Stephan**



---

archive/issue_comments_207320.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI've eyeballed it all and patchbot is happy, too. So, if you remove that unrelated change in combinat/backtrack you can set positive.",
    "created_at": "2014-05-20T06:44:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207320",
    "user": "https://github.com/rwst"
}
```

<div id="comment:28" align="right">comment:28</div>

I've eyeballed it all and patchbot is happy, too. So, if you remove that unrelated change in combinat/backtrack you can set positive.



---

archive/issue_comments_207321.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nThat *unrelated change in combinat/backtrack* resulted from resolving the merge conflict (comment 27). So it is not mine ;-) and I am reluctant removing it.\n\nPositive review anyway?",
    "created_at": "2014-05-20T09:12:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207321",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:29" align="right">comment:29</div>

That *unrelated change in combinat/backtrack* resulted from resolving the merge conflict (comment 27). So it is not mine ;-) and I am reluctant removing it.

Positive review anyway?



---

archive/issue_comments_207322.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nBut develop doesn't have this code so you introduced (or re-introduced) it.",
    "created_at": "2014-05-20T09:39:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207322",
    "user": "https://github.com/rwst"
}
```

<div id="comment:30" align="right">comment:30</div>

But develop doesn't have this code so you introduced (or re-introduced) it.



---

archive/issue_comments_207323.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nIf you don't know the best way to check it: `git diff develop` when in your up-to-date branch should show only your own changes.",
    "created_at": "2014-05-20T09:53:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207323",
    "user": "https://github.com/rwst"
}
```

<div id="comment:31" align="right">comment:31</div>

If you don't know the best way to check it: `git diff develop` when in your up-to-date branch should show only your own changes.



---

archive/issue_comments_207324.json:
```json
{
    "body": "Changed commit from **[`f87a26f`](https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0)** to **[`564c73c`](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)**",
    "created_at": "2014-05-20T13:07:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207324",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f87a26f`](https://github.com/sagemath/sagetrac-mirror/commit/f87a26fcbfd492b52242c1ccddf62659332c10f0)** to **[`564c73c`](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)**



---

archive/issue_comments_207325.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f\">564c73c</a></td><td><code>trac #16216: undo a mistake from the last merge</code></td></tr></table>\n",
    "created_at": "2014-05-20T13:07:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207325",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f">564c73c</a></td><td><code>trac #16216: undo a mistake from the last merge</code></td></tr></table>




---

archive/issue_events_231521.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-20T13:11:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231521"
}
```



---

archive/issue_events_231522.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-20T13:11:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231522"
}
```



---

archive/issue_comments_207326.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nThanks Ralf, for the help! The merge error is fixed.\n\nI set to positive as you suggested in comment 28.",
    "created_at": "2014-05-20T13:11:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207326",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:33" align="right">comment:33</div>

Thanks Ralf, for the help! The merge error is fixed.

I set to positive as you suggested in comment 28.



---

archive/issue_events_231523.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-21T15:33:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231523"
}
```



---

archive/issue_events_231524.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "77361ccd07a5c7cbcc77fa68c747648c1b9fa94d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-05-21T15:33:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16216#event-231524"
}
```



---

archive/issue_comments_207327.json:
```json
{
    "body": "Changed branch from **[u/wluebbe/ticket/16216b](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216b)** to **[`564c73c`](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)**",
    "created_at": "2014-05-21T15:33:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16216#issuecomment-207327",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/wluebbe/ticket/16216b](https://github.com/sagemath/sagetrac-mirror/tree/u/wluebbe/ticket/16216b)** to **[`564c73c`](https://github.com/sagemath/sagetrac-mirror/commit/564c73c8cab8aef1ec1c9e626a8e280ea8217c8f)**
