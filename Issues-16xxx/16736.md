# Issue 16736: sagenb: SandboxViolation in webassets

archive/issues_016499.json:
```json
{
    "body": "\n```\nProcessing webassets-0.9.tar.gz\nWriting /tmp/easy_install-hklIUJ/webassets-0.9/setup.cfg\nRunning webassets-0.9/setup.py -q bdist_egg --dist-dir /tmp/easy_install-hklIUJ/webassets-0.9/egg-dist-tmp-Cwkw_W\nerror: SandboxViolation: chmod('/home/buildslave-sage/slave/sage_git/dot_sage/.python-eggs/Pillow-2.2.2-py2.7-linux-x86_64.egg-tmp/PIL/tmpelb5a7.$extract', 493) {}\n```\n\n\n**CC:**  @ppurka @nexttime @rwst @kiwifb\n\n**Reviewer:** Volker Braun\n\nIssue created by migration from https://trac.sagemath.org/ticket/16736\n\n",
    "closed_at": "2016-06-12T12:02:30Z",
    "created_at": "2014-07-30T01:42:26Z",
    "labels": [
        "component: packages: standard",
        "bug",
        "invalid"
    ],
    "title": "sagenb: SandboxViolation in webassets",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/16736",
    "user": "https://github.com/vbraun"
}
```

```
Processing webassets-0.9.tar.gz
Writing /tmp/easy_install-hklIUJ/webassets-0.9/setup.cfg
Running webassets-0.9/setup.py -q bdist_egg --dist-dir /tmp/easy_install-hklIUJ/webassets-0.9/egg-dist-tmp-Cwkw_W
error: SandboxViolation: chmod('/home/buildslave-sage/slave/sage_git/dot_sage/.python-eggs/Pillow-2.2.2-py2.7-linux-x86_64.egg-tmp/PIL/tmpelb5a7.$extract', 493) {}
```


**CC:**  @ppurka @nexttime @rwst @kiwifb

**Reviewer:** Volker Braun

Issue created by migration from https://trac.sagemath.org/ticket/16736





---

archive/issue_comments_221410.json:
```json
{
    "body": "<a id='comment:1'></a>\nThe reason is that webasset setup.py imports sphinx to do some crap. Which ultimately imports PIL/Pillow which causes the egg to be unpacked, violating the sandbox.\n\nWhy does sagenb come with webassets to start with? Its not used anywhere, it seems. Some packaged js files were generated with it?",
    "created_at": "2014-07-30T02:45:14Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221410",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:1'></a>
The reason is that webasset setup.py imports sphinx to do some crap. Which ultimately imports PIL/Pillow which causes the egg to be unpacked, violating the sandbox.

Why does sagenb come with webassets to start with? Its not used anywhere, it seems. Some packaged js files were generated with it?



---

archive/issue_comments_221411.json:
```json
{
    "body": "**Branch:** [u/vbraun/sagenb__sandboxviolation_in_webassets](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sagenb__sandboxviolation_in_webassets)",
    "created_at": "2014-07-30T03:16:31Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221411",
    "user": "https://github.com/vbraun"
}
```

**Branch:** [u/vbraun/sagenb__sandboxviolation_in_webassets](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sagenb__sandboxviolation_in_webassets)



---

archive/issue_comments_221412.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,3 +6,5 @@\n error: SandboxViolation: chmod('/home/buildslave-sage/slave/sage_git/dot_sage/.python-eggs/Pillow-2.2.2-py2.7-linux-x86_64.egg-tmp/PIL/tmpelb5a7.$extract', 493) {}\n ```\n Possibly due to the newer setuptools doing a better job at checking for shenanigans... \n+\n+New tarball: http://boxen.math.washington.edu/home/vbraun/upstream/setuptools-5.4.1.tar.gz\n``````\n",
    "created_at": "2014-07-30T03:19:33Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221412",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,3 +6,5 @@
 error: SandboxViolation: chmod('/home/buildslave-sage/slave/sage_git/dot_sage/.python-eggs/Pillow-2.2.2-py2.7-linux-x86_64.egg-tmp/PIL/tmpelb5a7.$extract', 493) {}
 ```
 Possibly due to the newer setuptools doing a better job at checking for shenanigans... 
+
+New tarball: http://boxen.math.washington.edu/home/vbraun/upstream/setuptools-5.4.1.tar.gz
``````




---

archive/issue_comments_221413.json:
```json
{
    "body": "<a id='comment:3'></a>\nI guess the ideal solution would be to use distutils / pip instead of easy_install (who cares about binary eggs)? Though that would probably be a bigger task. For now, just allow chmod outside of the setuptools sandbox (and, really, fixing permissions isn't so bad).\n\nUpdating to the latest setuptools alone didn't fix it, but we should do that anyway.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/425ebcc90119344116f8d1e113410b0e57c91ec8\">425ebcc</a></td><td><code>Update to setuptools 5.4.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a487a0d673527ab9a9b57c36edf9c5ed0a7ac483\">a487a0d</a></td><td><code>Allow chmod outside of the sandbox</code></td></tr></table>\n",
    "created_at": "2014-07-30T03:19:33Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221413",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>
I guess the ideal solution would be to use distutils / pip instead of easy_install (who cares about binary eggs)? Though that would probably be a bigger task. For now, just allow chmod outside of the setuptools sandbox (and, really, fixing permissions isn't so bad).

Updating to the latest setuptools alone didn't fix it, but we should do that anyway.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/425ebcc90119344116f8d1e113410b0e57c91ec8">425ebcc</a></td><td><code>Update to setuptools 5.4.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a487a0d673527ab9a9b57c36edf9c5ed0a7ac483">a487a0d</a></td><td><code>Allow chmod outside of the sandbox</code></td></tr></table>




---

archive/issue_events_149961.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-30T03:19:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149961"
}
```



---

archive/issue_comments_221414.json:
```json
{
    "body": "**Author:** Volker Braun",
    "created_at": "2014-07-30T03:19:33Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221414",
    "user": "https://github.com/vbraun"
}
```

**Author:** Volker Braun



---

archive/issue_comments_221415.json:
```json
{
    "body": "**Commit:** [a487a0d673527ab9a9b57c36edf9c5ed0a7ac483](https://github.com/sagemath/sagetrac-mirror/commit/a487a0d673527ab9a9b57c36edf9c5ed0a7ac483)",
    "created_at": "2014-07-30T03:19:33Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221415",
    "user": "https://github.com/vbraun"
}
```

**Commit:** [a487a0d673527ab9a9b57c36edf9c5ed0a7ac483](https://github.com/sagemath/sagetrac-mirror/commit/a487a0d673527ab9a9b57c36edf9c5ed0a7ac483)



---

archive/issue_events_149962.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-30T03:20:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "label": "blocker",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149962"
}
```



---

archive/issue_comments_221416.json:
```json
{
    "body": "<a id='comment:6'></a>\nNot sure what webassets does either. Is it just me or there is a violent inflation in setuptools version numbers - worse than chrome even.",
    "created_at": "2014-07-30T03:30:00Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221416",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:6'></a>
Not sure what webassets does either. Is it just me or there is a violent inflation in setuptools version numbers - worse than chrome even.



---

archive/issue_comments_221417.json:
```json
{
    "body": "<a id='comment:7'></a>\nIn fact I hadn't noticed that webassets had been upgraded past 0.7.1.",
    "created_at": "2014-07-30T03:42:01Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221417",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'></a>
In fact I hadn't noticed that webassets had been upgraded past 0.7.1.



---

archive/issue_comments_221418.json:
```json
{
    "body": "<a id='comment:8'></a>\nThe whole packages-inside-sagenb thing needs to be fixed at one point, too. But this is also not the scope of this ticket, but make a new beta that can be installed from scratch.",
    "created_at": "2014-07-30T03:46:52Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221418",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>
The whole packages-inside-sagenb thing needs to be fixed at one point, too. But this is also not the scope of this ticket, but make a new beta that can be installed from scratch.



---

archive/issue_comments_221419.json:
```json
{
    "body": "<a id='comment:9'></a>\nThis seems to be caused by #16733, so I'll unmerge that upgrade until somebody can review this.",
    "created_at": "2014-07-30T21:13:45Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221419",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'></a>
This seems to be caused by #16733, so I'll unmerge that upgrade until somebody can review this.



---

archive/issue_events_149963.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-30T21:14:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "label": "blocker",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149963"
}
```



---

archive/issue_events_149964.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-30T21:14:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "label": "component: user interface",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149964"
}
```



---

archive/issue_events_149965.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-30T21:14:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "label": "component: packages: standard",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149965"
}
```



---

archive/issue_comments_221420.json:
```json
{
    "body": "<a id='comment:11'></a>\nI am not convinced by the solution I will try something in the next few hours before accepting this.",
    "created_at": "2014-07-31T05:24:46Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221420",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:11'></a>
I am not convinced by the solution I will try something in the next few hours before accepting this.



---

archive/issue_comments_221421.json:
```json
{
    "body": "<a id='comment:12'></a>\nSo far I haven't been able to reproduce this. I am guessing this is a from scratch install while I am working on top of beta7 which may have an impact.",
    "created_at": "2014-07-31T09:53:40Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221421",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'></a>
So far I haven't been able to reproduce this. I am guessing this is a from scratch install while I am working on top of beta7 which may have an impact.



---

archive/issue_comments_221422.json:
```json
{
    "body": "<a id='comment:13'></a>\nYou probably need to (re-)install by hand the new docutils and pillow. Or rebuild from scratch (with #16733 merged in).",
    "created_at": "2014-07-31T14:01:19Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221422",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'></a>
You probably need to (re-)install by hand the new docutils and pillow. Or rebuild from scratch (with #16733 merged in).



---

archive/issue_comments_221423.json:
```json
{
    "body": "<a id='comment:14'></a>\nThis is very curious. I merged #16733 and this ticket w/o the `sandbox.patch` (the patch was removed and the change was committed with `git commit -a`). The following sequence did not give a `SandboxViolation` in webassets:\n* ./sage -f docutils\n* ./sage -f setuptools\n* ./sage -f sagenb\nBut the following sequence did yield the violation (new docutils installed)\n* ./sage -f pillow\n* ./sage -f setuptools\n* ./sage -f sagenb\nThen adding the sandbox patch in and doing\n* ./sage -f setuptools\n* ./sage -f sagenb\nseemed to resolve things. So where is the real problem? Maybe it doesn't matter. The sandbox patch does work.",
    "created_at": "2014-08-02T19:13:51Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221423",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:14'></a>
This is very curious. I merged #16733 and this ticket w/o the `sandbox.patch` (the patch was removed and the change was committed with `git commit -a`). The following sequence did not give a `SandboxViolation` in webassets:
* ./sage -f docutils
* ./sage -f setuptools
* ./sage -f sagenb
But the following sequence did yield the violation (new docutils installed)
* ./sage -f pillow
* ./sage -f setuptools
* ./sage -f sagenb
Then adding the sandbox patch in and doing
* ./sage -f setuptools
* ./sage -f sagenb
seemed to resolve things. So where is the real problem? Maybe it doesn't matter. The sandbox patch does work.



---

archive/issue_comments_221424.json:
```json
{
    "body": "<a id='comment:15'></a>\nInteresting digging Steve. I am sure the patch works, I just think it is the wrong thing to do but I don't know any alternative, apart from trying to upgrade webassets since there is a newer release - of course it is likely it will suffer the same fate.",
    "created_at": "2014-08-02T20:06:38Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221424",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:15'></a>
Interesting digging Steve. I am sure the patch works, I just think it is the wrong thing to do but I don't know any alternative, apart from trying to upgrade webassets since there is a newer release - of course it is likely it will suffer the same fate.



---

archive/issue_comments_221425.json:
```json
{
    "body": "<a id='comment:16'></a>\nI tried upgrading webassets and it didn't work. The setup.py is till importing sphinx, so it'll die if that ends up pulling in pil(low)",
    "created_at": "2014-08-03T00:53:32Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221425",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>
I tried upgrading webassets and it didn't work. The setup.py is till importing sphinx, so it'll die if that ends up pulling in pil(low)



---

archive/issue_comments_221426.json:
```json
{
    "body": "<a id='comment:17'></a>\nOK so that potentially pushes the problem in sphinx and upgrading that brings its own problems. Or may be pillow, that would be easier to try that.",
    "created_at": "2014-08-03T03:25:37Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221426",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:17'></a>
OK so that potentially pushes the problem in sphinx and upgrading that brings its own problems. Or may be pillow, that would be easier to try that.



---

archive/issue_comments_221427.json:
```json
{
    "body": "<a id='comment:18'></a>\nI've installed sphinx-1.2.2, merged #16733 and this ticket w/o the sandbox patch and I have no `SandboxViolation`. However, #16396 can't be merged w/o some work. Is it possible that sphinx-1.2.2 doesn't import pillow? I believe what I've done is correct. But maybe the sandbox patch is the thing to do in the short-term.",
    "created_at": "2014-08-03T05:11:52Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221427",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:18'></a>
I've installed sphinx-1.2.2, merged #16733 and this ticket w/o the sandbox patch and I have no `SandboxViolation`. However, #16396 can't be merged w/o some work. Is it possible that sphinx-1.2.2 doesn't import pillow? I believe what I've done is correct. But maybe the sandbox patch is the thing to do in the short-term.



---

archive/issue_comments_221428.json:
```json
{
    "body": "<a id='comment:19'></a>\nI really think that shooting an element of the sandbox for just one package is not good. It would be better if an exception could be made until we fix the faulty package rather than sabotaging setuptools.",
    "created_at": "2014-08-03T22:49:32Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221428",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:19'></a>
I really think that shooting an element of the sandbox for just one package is not good. It would be better if an exception could be made until we fix the faulty package rather than sabotaging setuptools.



---

archive/issue_comments_221429.json:
```json
{
    "body": "<a id='comment:20'></a>\nOK the call to sphinx in webassets is really limited to\n\n```\ntry:\n    from sphinx.setup_command import BuildDoc\n    cmdclass = {'build_sphinx': BuildDoc}\nexcept ImportError:\n    cmdclass = {}\n```\nat the top of setup.py There are calls in docs/conf.py but they probably won't be called if we remove the above. I propose we have a patched webassets in sagenb rather than breaking setuptools' sandbox.",
    "created_at": "2014-08-03T22:58:51Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221429",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:20'></a>
OK the call to sphinx in webassets is really limited to

```
try:
    from sphinx.setup_command import BuildDoc
    cmdclass = {'build_sphinx': BuildDoc}
except ImportError:
    cmdclass = {}
```
at the top of setup.py There are calls in docs/conf.py but they probably won't be called if we remove the above. I propose we have a patched webassets in sagenb rather than breaking setuptools' sandbox.



---

archive/issue_comments_221430.json:
```json
{
    "body": "<a id='comment:21'></a>\nPerhaps naive but is there any undesirable side effect of adding something like\n\n`export PYTHON_EGG_CACHE=\"./.python-eggs\"` \n\nto `build/pkgs/sagenb/spkg-install`? I'm not sure where `\".\"` is during the install of sagenb but it's apparently not outside the sandbox.",
    "created_at": "2014-08-04T23:40:29Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221430",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:21'></a>
Perhaps naive but is there any undesirable side effect of adding something like

`export PYTHON_EGG_CACHE="./.python-eggs"` 

to `build/pkgs/sagenb/spkg-install`? I'm not sure where `"."` is during the install of sagenb but it's apparently not outside the sandbox.



---

archive/issue_comments_221431.json:
```json
{
    "body": "<a id='comment:22'></a>\nDoing the above, a build from scratch was successful w/o the sandbox patch.",
    "created_at": "2014-08-05T03:52:54Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221431",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:22'></a>
Doing the above, a build from scratch was successful w/o the sandbox patch.



---

archive/issue_comments_221432.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [strogdon](#comment%3A22):\n> Doing the above, a build from scratch was successful w/o the sandbox patch.\n\n\nI definitely would take that over the current patch. It is much simpler.",
    "created_at": "2014-08-05T10:48:55Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221432",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:23'></a>
Replying to [strogdon](#comment%3A22):
> Doing the above, a build from scratch was successful w/o the sandbox patch.


I definitely would take that over the current patch. It is much simpler.



---

archive/issue_comments_221433.json:
```json
{
    "body": "<a id='comment:24'></a>\nPutting the egg cache in a location that you aren't sure of is potentially a security issue.\n\nI've asked on sage-devel whether we can remove webassets: https://groups.google.com/d/msg/sage-devel/fEeGgVWuk7I/Nmc5kcVXfZYJ",
    "created_at": "2014-08-05T12:46:33Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221433",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:24'></a>
Putting the egg cache in a location that you aren't sure of is potentially a security issue.

I've asked on sage-devel whether we can remove webassets: https://groups.google.com/d/msg/sage-devel/fEeGgVWuk7I/Nmc5kcVXfZYJ



---

archive/issue_events_149966.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149966"
}
```



---

archive/issue_events_149967.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149967"
}
```



---

archive/issue_comments_221434.json:
```json
{
    "body": "<a id='comment:26'></a>\nAny news? If you want a different solution then post a branch...",
    "created_at": "2014-08-11T14:29:30Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221434",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'></a>
Any news? If you want a different solution then post a branch...



---

archive/issue_comments_221435.json:
```json
{
    "body": "<a id='comment:27'></a>\nI think the best fix is to push for #16396 to be finished.",
    "created_at": "2014-08-11T21:15:10Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221435",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:27'></a>
I think the best fix is to push for #16396 to be finished.



---

archive/issue_comments_221436.json:
```json
{
    "body": "<a id='comment:28'></a>\nJust to note that [the reason for webassets](https://groups.google.com/d/msg/sage-devel/fEeGgVWuk7I/nDOHbclqLUAJ) was discovered, though hopefully this is a moot point now that #16396 is positive review.",
    "created_at": "2014-10-21T20:22:24Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221436",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:28'></a>
Just to note that [the reason for webassets](https://groups.google.com/d/msg/sage-devel/fEeGgVWuk7I/nDOHbclqLUAJ) was discovered, though hopefully this is a moot point now that #16396 is positive review.



---

archive/issue_comments_221437.json:
```json
{
    "body": "<a id='comment:29'></a>\nI very much hope we can fix it invalid once the whole new docutils/sphinx/sagenb is in.",
    "created_at": "2014-10-21T20:51:54Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221437",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:29'></a>
I very much hope we can fix it invalid once the whole new docutils/sphinx/sagenb is in.



---

archive/issue_comments_221438.json:
```json
{
    "body": "<a id='comment:30'></a>\nIf things are fixed then there is perhaps the question of whether to upgrade setuptools anyway. But maybe another ticket.",
    "created_at": "2014-10-21T22:20:35Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221438",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:30'></a>
If things are fixed then there is perhaps the question of whether to upgrade setuptools anyway. But maybe another ticket.



---

archive/issue_comments_221439.json:
```json
{
    "body": "<a id='comment:31'></a>\nOK, I've merged #16396 and #16733 on top of 6.4.beta6 and I don't see the `SandboxViolation` when building sagenb. I would feel more comfortable if someone else would also confirm this. I also tried things with setuptool-5.4.1 and when rebuilding sphinx-1.2.2 (after a make) I get an error\n\n```\nRemoving old version of Sphinx...\nrm: cannot remove '/64bitdev/storage/sage-git_develop/sage/local/lib/python/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx': Directo\nry not empty\nError building Sphinx: 'Error deleting previous version'\n```\n\nThe only file in the subject folder is\n\n```\nls /64bitdev/storage/sage-git_develop/sage/local/lib/python/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx\n__init__.pyc\n```",
    "created_at": "2014-10-21T23:59:29Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221439",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:31'></a>
OK, I've merged #16396 and #16733 on top of 6.4.beta6 and I don't see the `SandboxViolation` when building sagenb. I would feel more comfortable if someone else would also confirm this. I also tried things with setuptool-5.4.1 and when rebuilding sphinx-1.2.2 (after a make) I get an error

```
Removing old version of Sphinx...
rm: cannot remove '/64bitdev/storage/sage-git_develop/sage/local/lib/python/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx': Directo
ry not empty
Error building Sphinx: 'Error deleting previous version'
```

The only file in the subject folder is

```
ls /64bitdev/storage/sage-git_develop/sage/local/lib/python/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx
__init__.pyc
```



---

archive/issue_comments_221440.json:
```json
{
    "body": "<a id='comment:32'></a>\nWell I'm unable to reproduce the above sphinx build error. I'm not sure what the source could have been. Also I see no `SandboxViolation` with setuptools-5.4.1 added on top of #16396 and #16733 without the `sandbox.patch`.",
    "created_at": "2014-10-22T04:20:11Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221440",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:32'></a>
Well I'm unable to reproduce the above sphinx build error. I'm not sure what the source could have been. Also I see no `SandboxViolation` with setuptools-5.4.1 added on top of #16396 and #16733 without the `sandbox.patch`.



---

archive/issue_comments_221441.json:
```json
{
    "body": "**Reviewer:** Steve Trogdon",
    "created_at": "2014-11-02T00:41:51Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221441",
    "user": "https://github.com/kiwifb"
}
```

**Reviewer:** Steve Trogdon



---

archive/issue_comments_221442.json:
```json
{
    "body": "<a id='comment:33'></a>\nA bit late. I just noticed we haven't updated docutils in 6.4.rc0/rc1 because this ticket is blocking it. This is a positive review \"works for me/invalid\" I guess.",
    "created_at": "2014-11-02T00:41:51Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221442",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:33'></a>
A bit late. I just noticed we haven't updated docutils in 6.4.rc0/rc1 because this ticket is blocking it. This is a positive review "works for me/invalid" I guess.



---

archive/issue_events_149968.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-11-02T00:41:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149968"
}
```



---

archive/issue_events_149969.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-11-02T00:41:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149969"
}
```



---

archive/issue_comments_221443.json:
```json
{
    "body": "**Changing branch** from \"[u/vbraun/sagenb__sandboxviolation_in_webassets](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sagenb__sandboxviolation_in_webassets)\" to \"\".",
    "created_at": "2014-11-02T00:41:51Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221443",
    "user": "https://github.com/kiwifb"
}
```

**Changing branch** from "[u/vbraun/sagenb__sandboxviolation_in_webassets](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sagenb__sandboxviolation_in_webassets)" to "".



---

archive/issue_comments_221444.json:
```json
{
    "body": "**Changing commit** from \"[a487a0d673527ab9a9b57c36edf9c5ed0a7ac483](https://github.com/sagemath/sagetrac-mirror/commit/a487a0d673527ab9a9b57c36edf9c5ed0a7ac483)\" to \"\".",
    "created_at": "2014-11-02T00:41:51Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221444",
    "user": "https://github.com/kiwifb"
}
```

**Changing commit** from "[a487a0d673527ab9a9b57c36edf9c5ed0a7ac483](https://github.com/sagemath/sagetrac-mirror/commit/a487a0d673527ab9a9b57c36edf9c5ed0a7ac483)" to "".



---

archive/issue_events_149970.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-15T16:25:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149970"
}
```



---

archive/issue_events_149971.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-15T16:25:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149971"
}
```



---

archive/issue_events_149972.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-15T16:25:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149972"
}
```



---

archive/issue_comments_221445.json:
```json
{
    "body": "<a id='comment:34'></a>\nYou are supposed to set the milestone to invalid...",
    "created_at": "2014-11-15T16:25:35Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221445",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:34'></a>
You are supposed to set the milestone to invalid...



---

archive/issue_comments_221446.json:
```json
{
    "body": "<a id='comment:35'></a>\nFWCW, I just triggered it again while building Sage in a subdirectory of /tmp:\n\n```\nProcessing webassets-0.10.1.tar.gz\nWriting /tmp/easy_install-OSzZkb/webassets-0.10.1/setup.cfg\nRunning webassets-0.10.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-OSzZkb/webassets-0.10.1/egg-dist-tmp-H58hNo\nerror: SandboxViolation: chmod('/home/vbraun/.sage/.python-eggs/Pillow-2.2.2-py2.7-linux-x86_64.egg-tmp/PIL/tmpMF0VYS.$extract', 493) {}\n```",
    "created_at": "2015-01-06T22:54:08Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221446",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:35'></a>
FWCW, I just triggered it again while building Sage in a subdirectory of /tmp:

```
Processing webassets-0.10.1.tar.gz
Writing /tmp/easy_install-OSzZkb/webassets-0.10.1/setup.cfg
Running webassets-0.10.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-OSzZkb/webassets-0.10.1/egg-dist-tmp-H58hNo
error: SandboxViolation: chmod('/home/vbraun/.sage/.python-eggs/Pillow-2.2.2-py2.7-linux-x86_64.egg-tmp/PIL/tmpMF0VYS.$extract', 493) {}
```



---

archive/issue_comments_221447.json:
```json
{
    "body": "<a id='comment:36'></a>\nThis is curious. I did a fresh build under /tmp after cloning from the `develop` branch and I get on my gentoo box:\n\n```\nProcessing webassets-0.10.1.tar.gz\nWriting /tmp/easy_install-KBbcXK/webassets-0.10.1/setup.cfg\nRunning webassets-0.10.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-KBbcXK/webassets-0.10.1/egg-dist-tmp-7cFRfA\nwarning: no files found matching 'run_tests.py'\nno previously-included directories found matching 'docs/_build'\nwarning: no previously-included files matching 'out.css' found under directory 'examples'\nwarning: no previously-included files matching 'out.js' found under directory 'examples'\nno previously-included directories found matching 'examples/appengine-sdk'\nwarning: no previously-included files matching '*.pyc' found anywhere in distribution\nwarning: no previously-included files matching '.gitignore' found anywhere in distribution\nwarning: no previously-included files matching '*.orig' found anywhere in distribution\nwarning: no previously-included files matching 'webassets-cache/*' found anywhere in distribution\nwarning: no previously-included files matching '.sass-cache/*' found anywhere in distribution\nzip_safe flag not set; analyzing archive contents...\nwebassets.filter.__init__: module references __file__\nAdding webassets 0.10.1 to easy-install.pth file\nInstalling webassets script to /tmp/sage_sandbox/sage/local/bin\n\nInstalled /tmp/sage_sandbox/sage/local/lib/python2.7/site-packages/webassets-0.10.1-py2.7.egg\nProcessing dependencies for webassets==0.10.1\nFinished processing dependencies for webassets==0.10.1\n```\nI wonder what's up?",
    "created_at": "2015-01-07T06:37:12Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221447",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:36'></a>
This is curious. I did a fresh build under /tmp after cloning from the `develop` branch and I get on my gentoo box:

```
Processing webassets-0.10.1.tar.gz
Writing /tmp/easy_install-KBbcXK/webassets-0.10.1/setup.cfg
Running webassets-0.10.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-KBbcXK/webassets-0.10.1/egg-dist-tmp-7cFRfA
warning: no files found matching 'run_tests.py'
no previously-included directories found matching 'docs/_build'
warning: no previously-included files matching 'out.css' found under directory 'examples'
warning: no previously-included files matching 'out.js' found under directory 'examples'
no previously-included directories found matching 'examples/appengine-sdk'
warning: no previously-included files matching '*.pyc' found anywhere in distribution
warning: no previously-included files matching '.gitignore' found anywhere in distribution
warning: no previously-included files matching '*.orig' found anywhere in distribution
warning: no previously-included files matching 'webassets-cache/*' found anywhere in distribution
warning: no previously-included files matching '.sass-cache/*' found anywhere in distribution
zip_safe flag not set; analyzing archive contents...
webassets.filter.__init__: module references __file__
Adding webassets 0.10.1 to easy-install.pth file
Installing webassets script to /tmp/sage_sandbox/sage/local/bin

Installed /tmp/sage_sandbox/sage/local/lib/python2.7/site-packages/webassets-0.10.1-py2.7.egg
Processing dependencies for webassets==0.10.1
Finished processing dependencies for webassets==0.10.1
```
I wonder what's up?



---

archive/issue_comments_221448.json:
```json
{
    "body": "<a id='comment:37'></a>\nOK guys that prompt 2 questions from me:\n\n* Is it only happening when building in /tmp ?\n* /tmp/easy_install-${random}? is it really the spkg being installed or easy_install acting on its own?",
    "created_at": "2015-01-07T07:03:22Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221448",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:37'></a>
OK guys that prompt 2 questions from me:

* Is it only happening when building in /tmp ?
* /tmp/easy_install-${random}? is it really the spkg being installed or easy_install acting on its own?



---

archive/issue_comments_221449.json:
```json
{
    "body": "<a id='comment:38'></a>\nOnly happens when building in /tmp. Seems that easy_install does something different in that case.",
    "created_at": "2015-01-07T09:21:40Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221449",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:38'></a>
Only happens when building in /tmp. Seems that easy_install does something different in that case.



---

archive/issue_events_149973.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-16T22:35:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "milestone": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149973"
}
```



---

archive/issue_comments_221450.json:
```json
{
    "body": "<a id='comment:39'></a>\nI'm getting this again with sagenb-11.4 on some but not all user accounts. No idea what the difference is. This is in my home directory, not compiling in /tmp. \n\n```\nProcessing webassets-0.10.1.tar.gz\nWriting /tmp/easy_install-AR1rXi/webassets-0.10.1/setup.cfg\nRunning webassets-0.10.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-AR1rXi/webassets-0.10.1/egg-dist-tmp-dpb_Mg\nerror: SandboxViolation: chmod('/home/vbraun/.sage/.python-eggs/Pillow-2.2.2-py2.7-linux-x86_64.egg-tmp/PIL/tmpZhc7i8.$extract', 493) {}\n```\nHow about we just get rid of the unused webassets?",
    "created_at": "2015-02-16T22:35:06Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221450",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:39'></a>
I'm getting this again with sagenb-11.4 on some but not all user accounts. No idea what the difference is. This is in my home directory, not compiling in /tmp. 

```
Processing webassets-0.10.1.tar.gz
Writing /tmp/easy_install-AR1rXi/webassets-0.10.1/setup.cfg
Running webassets-0.10.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-AR1rXi/webassets-0.10.1/egg-dist-tmp-dpb_Mg
error: SandboxViolation: chmod('/home/vbraun/.sage/.python-eggs/Pillow-2.2.2-py2.7-linux-x86_64.egg-tmp/PIL/tmpZhc7i8.$extract', 493) {}
```
How about we just get rid of the unused webassets?



---

archive/issue_comments_221451.json:
```json
{
    "body": "<a id='comment:40'></a>\nPS: the directory is created by setuptools just for webassets:\n\n```\n$ grep AR1rXi logs/pkgs/sagenb.log \nWriting /tmp/easy_install-AR1rXi/webassets-0.10.1/setup.cfg\nRunning webassets-0.10.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-AR1rXi/webassets-0.10.1/egg-dist-tmp-dpb_Mg\n```",
    "created_at": "2015-02-16T22:36:55Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221451",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:40'></a>
PS: the directory is created by setuptools just for webassets:

```
$ grep AR1rXi logs/pkgs/sagenb.log 
Writing /tmp/easy_install-AR1rXi/webassets-0.10.1/setup.cfg
Running webassets-0.10.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-AR1rXi/webassets-0.10.1/egg-dist-tmp-dpb_Mg
```



---

archive/issue_comments_221452.json:
```json
{
    "body": "<a id='comment:41'></a>\nYes get rid of it, especially if it is such a headache. Is the problem happening on some distros and not others or something more subtle?",
    "created_at": "2015-02-16T22:42:23Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221452",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:41'></a>
Yes get rid of it, especially if it is such a headache. Is the problem happening on some distros and not others or something more subtle?



---

archive/issue_comments_221453.json:
```json
{
    "body": "<a id='comment:42'></a>\nA different account can install webassets (again in its respective home directory):\n\n```\nProcessing webassets-0.10.1.tar.gz\nWriting /tmp/easy_install-Fd5CnH/webassets-0.10.1/setup.cfg\nRunning webassets-0.10.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-Fd5CnH/webassets-0.10.1/egg-dist-tmp-f2qRbU\nwarning: no files found matching 'run_tests.py'\n[...]\n```",
    "created_at": "2015-02-16T22:45:07Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221453",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:42'></a>
A different account can install webassets (again in its respective home directory):

```
Processing webassets-0.10.1.tar.gz
Writing /tmp/easy_install-Fd5CnH/webassets-0.10.1/setup.cfg
Running webassets-0.10.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-Fd5CnH/webassets-0.10.1/egg-dist-tmp-f2qRbU
warning: no files found matching 'run_tests.py'
[...]
```



---

archive/issue_comments_221454.json:
```json
{
    "body": "**Changing reviewer** from \"Steve Trogdon\" to \"\".",
    "created_at": "2015-02-16T23:04:45Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221454",
    "user": "https://github.com/vbraun"
}
```

**Changing reviewer** from "Steve Trogdon" to "".



---

archive/issue_comments_221455.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,6 +5,4 @@\n Running webassets-0.9/setup.py -q bdist_egg --dist-dir /tmp/easy_install-hklIUJ/webassets-0.9/egg-dist-tmp-Cwkw_W\n error: SandboxViolation: chmod('/home/buildslave-sage/slave/sage_git/dot_sage/.python-eggs/Pillow-2.2.2-py2.7-linux-x86_64.egg-tmp/PIL/tmpelb5a7.$extract', 493) {}\n ```\n-Possibly due to the newer setuptools doing a better job at checking for shenanigans... \n \n-New tarball: http://boxen.math.washington.edu/home/vbraun/upstream/setuptools-5.4.1.tar.gz\n``````\n",
    "created_at": "2015-02-16T23:04:45Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221455",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,6 +5,4 @@
 Running webassets-0.9/setup.py -q bdist_egg --dist-dir /tmp/easy_install-hklIUJ/webassets-0.9/egg-dist-tmp-Cwkw_W
 error: SandboxViolation: chmod('/home/buildslave-sage/slave/sage_git/dot_sage/.python-eggs/Pillow-2.2.2-py2.7-linux-x86_64.egg-tmp/PIL/tmpelb5a7.$extract', 493) {}
 ```
-Possibly due to the newer setuptools doing a better job at checking for shenanigans... 
 
-New tarball: http://boxen.math.washington.edu/home/vbraun/upstream/setuptools-5.4.1.tar.gz
``````




---

archive/issue_comments_221456.json:
```json
{
    "body": "<a id='comment:44'></a>\nAgain, webassets is there so that people can use the \"newui\" branch of sagenb, which apparently people are indeed trying out and using (based on discussions there).",
    "created_at": "2015-02-17T01:08:02Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221456",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:44'></a>
Again, webassets is there so that people can use the "newui" branch of sagenb, which apparently people are indeed trying out and using (based on discussions there).



---

archive/issue_comments_221457.json:
```json
{
    "body": "<a id='comment:45'></a>\nJust off the top of my head. Would it be possible to avoid the issue by removing webassets from sagenb and then installing it separately?",
    "created_at": "2015-02-17T03:19:31Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221457",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:45'></a>
Just off the top of my head. Would it be possible to avoid the issue by removing webassets from sagenb and then installing it separately?



---

archive/issue_comments_221458.json:
```json
{
    "body": "<a id='comment:46'></a>\nIf you need webassets you can just \"pip install webassets\". But if its not used by default then don't ship it.",
    "created_at": "2015-02-17T09:20:41Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221458",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:46'></a>
If you need webassets you can just "pip install webassets". But if its not used by default then don't ship it.



---

archive/issue_comments_221459.json:
```json
{
    "body": "<a id='comment:47'></a>\n> If you need webassets you can just \"pip install webassets\". But if its not used by default then don't ship it.\n\n\nI'd be open to a pull request, but whatever solution there is should probably have a good and easy way to tell a user to install webassets *before* they attempt to switch to that.  It's also possible migeruhito's changes with that will have removed the need for webassets, I really know nothing about it beyond why it was added (included not knowing why that was actually necessary).",
    "created_at": "2015-02-17T12:43:28Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221459",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:47'></a>
> If you need webassets you can just "pip install webassets". But if its not used by default then don't ship it.


I'd be open to a pull request, but whatever solution there is should probably have a good and easy way to tell a user to install webassets *before* they attempt to switch to that.  It's also possible migeruhito's changes with that will have removed the need for webassets, I really know nothing about it beyond why it was added (included not knowing why that was actually necessary).



---

archive/issue_comments_221460.json:
```json
{
    "body": "<a id='comment:48'></a>\nThen just add it to the instructions for trying out the newui branch, wherever those might be.",
    "created_at": "2015-02-17T13:19:57Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221460",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:48'></a>
Then just add it to the instructions for trying out the newui branch, wherever those might be.



---

archive/issue_events_149974.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-07T20:23:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "milestone": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149974"
}
```



---

archive/issue_comments_221461.json:
```json
{
    "body": "**Reviewer:** Volker Braun",
    "created_at": "2016-04-07T20:23:51Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221461",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Volker Braun



---

archive/issue_comments_221462.json:
```json
{
    "body": "<a id='comment:49'></a>\nwebassets is being removed at #14840.",
    "created_at": "2016-04-07T20:23:51Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221462",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:49'></a>
webassets is being removed at #14840.



---

archive/issue_events_149975.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-07T20:23:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149975"
}
```



---

archive/issue_comments_221463.json:
```json
{
    "body": "**Changing author** from \"Volker Braun\" to \"\".",
    "created_at": "2016-04-07T20:23:51Z",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16736#issuecomment-221463",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "Volker Braun" to "".



---

archive/issue_events_149976.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-07T20:23:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149976"
}
```



---

archive/issue_events_149977.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-07T20:23:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149977"
}
```



---

archive/issue_events_149978.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-12T12:02:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149978"
}
```



---

archive/issue_events_149979.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-12T12:02:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16736",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16736#event-149979"
}
```
