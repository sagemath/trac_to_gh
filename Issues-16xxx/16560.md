# Issue 16560: Upgrade lrcalc to 1.1.7

archive/issues_016323.json:
```json
{
    "body": "Using the upstream based off of here: http://www.math.rutgers.edu/~asbuch/lrcalc/ but use the one in the attachments as the root directory is `lrcalc-sage-1.1.7`.\n\nThis should (help) fix #14625.\n\n**Assignee:** sage-combinat\n\n**CC:**  sage-combinat @nthiery\n\n**Keywords:** lrcalc\n\n**Branch:** [b124959527d51806a30b2e44d3038547e04f2a90](https://github.com/sagemath/sagetrac-mirror/commit/b124959527d51806a30b2e44d3038547e04f2a90)\n\n**Upstream:** Reported upstream. No feedback yet.\n\n**Reviewer:** Fran\u00e7ois Bissey\n\n**Author:** Travis Scrimshaw\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16560\n\n",
    "closed_at": "2014-06-30T16:33:53Z",
    "created_at": "2014-06-27T00:47:59Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Upgrade lrcalc to 1.1.7",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16560",
    "user": "https://github.com/tscrim"
}
```
Using the upstream based off of here: http://www.math.rutgers.edu/~asbuch/lrcalc/ but use the one in the attachments as the root directory is `lrcalc-sage-1.1.7`.

This should (help) fix #14625.

**Assignee:** sage-combinat

**CC:**  sage-combinat @nthiery

**Keywords:** lrcalc

**Branch:** [b124959527d51806a30b2e44d3038547e04f2a90](https://github.com/sagemath/sagetrac-mirror/commit/b124959527d51806a30b2e44d3038547e04f2a90)

**Upstream:** Reported upstream. No feedback yet.

**Reviewer:** François Bissey

**Author:** Travis Scrimshaw

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/16560





---

archive/attachments_020565.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "lrcalc-1.1.7.tar.gz",
    "asset_url": "tarball://root/attachments/some-uuid/ticket16560/lrcalc-1.1.7.tar.gz",
    "created_at": "2014-06-27T00:48:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.gz",
    "user": "https://github.com/tscrim"
}
```



---

archive/issue_comments_278197.json:
```json
{
    "body": "",
    "created_at": "2014-06-27T00:48:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278197",
    "user": "https://github.com/tscrim"
}
```





---

archive/issue_comments_278198.json:
```json
{
    "body": "**Branch:** [public/packages/lrcalc_1_1_7-16560](https://github.com/sagemath/sagetrac-mirror/tree/public/packages/lrcalc_1_1_7-16560)",
    "created_at": "2014-06-27T00:50:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278198",
    "user": "https://github.com/tscrim"
}
```

**Branch:** [public/packages/lrcalc_1_1_7-16560](https://github.com/sagemath/sagetrac-mirror/tree/public/packages/lrcalc_1_1_7-16560)



---

archive/issue_comments_278199.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-Using the upstream based off of here: http://www.math.rutgers.edu/~asbuch/lrcalc/\n+Using the upstream based off of here: http://www.math.rutgers.edu/~asbuch/lrcalc/ but use the one in the attachments as the root directory is `lrcalc-sage-1.1.7`.\n \n This should (help) fix #14625.\n``````\n",
    "created_at": "2014-06-27T00:50:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278199",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-Using the upstream based off of here: http://www.math.rutgers.edu/~asbuch/lrcalc/
+Using the upstream based off of here: http://www.math.rutgers.edu/~asbuch/lrcalc/ but use the one in the attachments as the root directory is `lrcalc-sage-1.1.7`.
 
 This should (help) fix #14625.
``````




---

archive/issue_comments_278200.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2014-06-27T00:50:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278200",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_278201.json:
```json
{
    "body": "<a id='comment:1'></a>\nRunning tests now...",
    "created_at": "2014-06-27T00:50:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278201",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
Running tests now...



---

archive/issue_comments_278202.json:
```json
{
    "body": "<a id='comment:2'></a>\nAll (long) tests pass for me.",
    "created_at": "2014-06-27T01:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278202",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>
All (long) tests pass for me.



---

archive/issue_comments_278203.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/190501c0fc9ea9c73ad5ee3cc7bd2db90051188b\">190501c</a></td><td><code>Changed version number.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69d3573f7c56e309b357dd43e5b52b4cb60d0885\">69d3573</a></td><td><code>Update SPKG.txt and checksums.ini.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7134ee179bfa1126cde66f8fc4e1e30db5e89a4a\">7134ee1</a></td><td><code>Changed checksum.</code></td></tr></table>\n",
    "created_at": "2014-06-27T01:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278203",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/190501c0fc9ea9c73ad5ee3cc7bd2db90051188b">190501c</a></td><td><code>Changed version number.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69d3573f7c56e309b357dd43e5b52b4cb60d0885">69d3573</a></td><td><code>Update SPKG.txt and checksums.ini.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7134ee179bfa1126cde66f8fc4e1e30db5e89a4a">7134ee1</a></td><td><code>Changed checksum.</code></td></tr></table>




---

archive/issue_comments_278204.json:
```json
{
    "body": "**Commit:** [7134ee179bfa1126cde66f8fc4e1e30db5e89a4a](https://github.com/sagemath/sagetrac-mirror/commit/7134ee179bfa1126cde66f8fc4e1e30db5e89a4a)",
    "created_at": "2014-06-27T01:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278204",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [7134ee179bfa1126cde66f8fc4e1e30db5e89a4a](https://github.com/sagemath/sagetrac-mirror/commit/7134ee179bfa1126cde66f8fc4e1e30db5e89a4a)



---

archive/issue_comments_278205.json:
```json
{
    "body": "<a id='comment:4'></a>\nSo the only difference between the two upstream tarballs is that one of them is properly autool=ed and the other is not?",
    "created_at": "2014-06-27T02:35:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278205",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:4'></a>
So the only difference between the two upstream tarballs is that one of them is properly autool=ed and the other is not?



---

archive/issue_comments_278206.json:
```json
{
    "body": "**Reviewer:** Fran\u00e7ois Bissey",
    "created_at": "2014-06-27T02:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278206",
    "user": "https://github.com/kiwifb"
}
```

**Reviewer:** François Bissey



---

archive/issue_comments_278207.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2014-06-27T02:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278207",
    "user": "https://github.com/kiwifb"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_278208.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis version has otherwise been in use in sage-on-gentoo since December without any reported issue so I am putting that positive review.",
    "created_at": "2014-06-27T02:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278208",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'></a>
This version has otherwise been in use in sage-on-gentoo since December without any reported issue so I am putting that positive review.



---

archive/issue_comments_278209.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [fbissey](#comment%3A4):\n> So the only difference between the two upstream tarballs is that one of them is properly autool=ed and the other is not?\n\n\nNicolas would be the best one to answer that since he helped create it.\n\nThanks for doing the review.",
    "created_at": "2014-06-27T03:21:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278209",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
Replying to [fbissey](#comment%3A4):
> So the only difference between the two upstream tarballs is that one of them is properly autool=ed and the other is not?


Nicolas would be the best one to answer that since he helped create it.

Thanks for doing the review.



---

archive/issue_comments_278210.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [tscrim](#comment%3A6):\n> Replying to [fbissey](#comment%3A4):\n> > So the only difference between the two upstream tarballs is that one of them is properly autool=ed and the other is not?\n\n> \n> Nicolas would be the best one to answer that since he helped create it.\n\n\nAs far as I remember, yes. And this one is an official release by Anders rather than a tarball produced by myself.",
    "created_at": "2014-06-27T23:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278210",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:7'></a>
Replying to [tscrim](#comment%3A6):
> Replying to [fbissey](#comment%3A4):
> > So the only difference between the two upstream tarballs is that one of them is properly autool=ed and the other is not?

> 
> Nicolas would be the best one to answer that since he helped create it.


As far as I remember, yes. And this one is an official release by Anders rather than a tarball produced by myself.



---

archive/issue_comments_278211.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2014-06-28T12:47:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278211",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_278212.json:
```json
{
    "body": "<a id='comment:8'></a>\nFails on OSX\n\n```\nlibtool: link: gcc -dynamiclib -Wl,-undefined -Wl,dynamic_lookup -o .libs/liblrcalc.1.dylib   -Wl,-force_load,mathlib/.libs/libmath.a -Wl,-force_load,lrcoef/.libs/libsymfcn.a -Wl,-force_load,schubert/.libs/libschub.a   -O2   -install_name  /Users/buildslave-sage/slave/sage_git/build/local/lib/liblrcalc.1.dylib -compatibility_version 2 -current_version 2.0 -Wl,-single_module\nduplicate symbol `_lrcalc_panic_`frame in:\n    mathlib/.libs/libmath.a(alloc.o)\n    mathlib/.libs/libmath.a(hashtab.o)\nduplicate symbol `_lrcalc_panic_`frame in:\n    mathlib/.libs/libmath.a(alloc.o)\n    mathlib/.libs/libmath.a(list.o)\nduplicate symbol `_lrcalc_panic_`frame in:\n    mathlib/.libs/libmath.a(alloc.o)\n    mathlib/.libs/libmath.a(set.o)\nduplicate symbol `_lrcalc_panic_`frame in:\n    mathlib/.libs/libmath.a(alloc.o)\n    mathlib/.libs/libmath.a(vectarg.o)\nduplicate symbol `_lrcalc_panic_`frame in:\n    mathlib/.libs/libmath.a(alloc.o)\n    mathlib/.libs/libmath.a(vector.o)\nduplicate symbol `_lrcalc_panic_`frame in:\n    mathlib/.libs/libmath.a(alloc.o)\n    lrcoef/.libs/libsymfcn.a(symfcn.o)\nduplicate symbol `_lrcalc_panic_`frame in:\n    mathlib/.libs/libmath.a(alloc.o)\n    lrcoef/.libs/libsymfcn.a(maple.o)\nduplicate symbol `_lrcalc_panic_`frame in:\n    mathlib/.libs/libmath.a(alloc.o)\n    schubert/.libs/libschub.a(schublib.o)\nduplicate symbol `_lrcalc_panic_`frame in:\n    mathlib/.libs/libmath.a(alloc.o)\n    schubert/.libs/libschub.a(lincomb.o)\nld: 9 duplicate symbols for architecture x86_64\ncollect2: error: ld returned 1 exit status\nmake[5]: *** [liblrcalc.la] Error 1\nmake[5]: Target `all-am' not remade because of errors.\nmake[4]: *** [all-recursive] Error 1\nmake[3]: *** [all] Error 2\nError building lrcalc.\n```\nFull log: http://build.sagemath.org/sage/builders/%20%20fast%20Volker%20MiniMac%20%28OSX%2010.9%20x86_64%29%20incremental/builds/279/steps/compile/logs/stdio",
    "created_at": "2014-06-28T12:47:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278212",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>
Fails on OSX

```
libtool: link: gcc -dynamiclib -Wl,-undefined -Wl,dynamic_lookup -o .libs/liblrcalc.1.dylib   -Wl,-force_load,mathlib/.libs/libmath.a -Wl,-force_load,lrcoef/.libs/libsymfcn.a -Wl,-force_load,schubert/.libs/libschub.a   -O2   -install_name  /Users/buildslave-sage/slave/sage_git/build/local/lib/liblrcalc.1.dylib -compatibility_version 2 -current_version 2.0 -Wl,-single_module
duplicate symbol `_lrcalc_panic_`frame in:
    mathlib/.libs/libmath.a(alloc.o)
    mathlib/.libs/libmath.a(hashtab.o)
duplicate symbol `_lrcalc_panic_`frame in:
    mathlib/.libs/libmath.a(alloc.o)
    mathlib/.libs/libmath.a(list.o)
duplicate symbol `_lrcalc_panic_`frame in:
    mathlib/.libs/libmath.a(alloc.o)
    mathlib/.libs/libmath.a(set.o)
duplicate symbol `_lrcalc_panic_`frame in:
    mathlib/.libs/libmath.a(alloc.o)
    mathlib/.libs/libmath.a(vectarg.o)
duplicate symbol `_lrcalc_panic_`frame in:
    mathlib/.libs/libmath.a(alloc.o)
    mathlib/.libs/libmath.a(vector.o)
duplicate symbol `_lrcalc_panic_`frame in:
    mathlib/.libs/libmath.a(alloc.o)
    lrcoef/.libs/libsymfcn.a(symfcn.o)
duplicate symbol `_lrcalc_panic_`frame in:
    mathlib/.libs/libmath.a(alloc.o)
    lrcoef/.libs/libsymfcn.a(maple.o)
duplicate symbol `_lrcalc_panic_`frame in:
    mathlib/.libs/libmath.a(alloc.o)
    schubert/.libs/libschub.a(schublib.o)
duplicate symbol `_lrcalc_panic_`frame in:
    mathlib/.libs/libmath.a(alloc.o)
    schubert/.libs/libschub.a(lincomb.o)
ld: 9 duplicate symbols for architecture x86_64
collect2: error: ld returned 1 exit status
make[5]: *** [liblrcalc.la] Error 1
make[5]: Target `all-am' not remade because of errors.
make[4]: *** [all-recursive] Error 1
make[3]: *** [all] Error 2
Error building lrcalc.
```
Full log: http://build.sagemath.org/sage/builders/%20%20fast%20Volker%20MiniMac%20%28OSX%2010.9%20x86_64%29%20incremental/builds/279/steps/compile/logs/stdio



---

archive/issue_comments_278213.json:
```json
{
    "body": "<a id='comment:9'></a>\nHum.... it seems it cannot cop with lrcalc_panic_frame being defined in mathlib/alloc.h\n\n```\n#include <setjmp.h>\n\n/*  Programs using the lrcalc library should set lrcalc_panic_frame\n *  with setjmp(lrcalc_panic_frame).  The lrcalc library will call\n *  longjmp(lrcalc_panic_frame, 1) if an \"out of memory\" event occurs.\n */\njmp_buf lrcalc_panic_frame;\n```\nAll the files for which the linker is complaining about are inheriting the declaration through multiple include statement but are not using it. I guess the proper course of action, from a correctness point of view, would be to create a specific header for it and include it only where needed. Looking for other options....",
    "created_at": "2014-06-28T20:53:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278213",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:9'></a>
Hum.... it seems it cannot cop with lrcalc_panic_frame being defined in mathlib/alloc.h

```
#include <setjmp.h>

/*  Programs using the lrcalc library should set lrcalc_panic_frame
 *  with setjmp(lrcalc_panic_frame).  The lrcalc library will call
 *  longjmp(lrcalc_panic_frame, 1) if an "out of memory" event occurs.
 */
jmp_buf lrcalc_panic_frame;
```
All the files for which the linker is complaining about are inheriting the declaration through multiple include statement but are not using it. I guess the proper course of action, from a correctness point of view, would be to create a specific header for it and include it only where needed. Looking for other options....



---

archive/issue_comments_278214.json:
```json
{
    "body": "<a id='comment:10'></a>\n@ nthiery: in configure.ac, oops:\n\n```\nAC_PREREQ([2.67])\nAC_INIT([lrcalc],[1.1.6],[asbuch at math rutgers edu])\n```\nNot hurtful of course.",
    "created_at": "2014-06-28T21:15:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278214",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'></a>
@ nthiery: in configure.ac, oops:

```
AC_PREREQ([2.67])
AC_INIT([lrcalc],[1.1.6],[asbuch at math rutgers edu])
```
Not hurtful of course.



---

archive/attachments_020566.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "lrcalc-1.1.7-jump.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket16560/lrcalc-1.1.7-jump.patch",
    "created_at": "2014-06-28T22:47:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/kiwifb"
}
```



---

archive/issue_comments_278215.json:
```json
{
    "body": "solve the lrcalc_panic_frame definition problem",
    "created_at": "2014-06-28T22:47:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278215",
    "user": "https://github.com/kiwifb"
}
```

solve the lrcalc_panic_frame definition problem



---

archive/issue_comments_278216.json:
```json
{
    "body": "<a id='comment:11'></a>\nOK the attached patch solve the problem on OS X, it should work on linux too but I haven't tested it there so far. It is a bit invasive and should be submitted upstream for consideration.",
    "created_at": "2014-06-28T22:49:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278216",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:11'></a>
OK the attached patch solve the problem on OS X, it should work on linux too but I haven't tested it there so far. It is a bit invasive and should be submitted upstream for consideration.



---

archive/issue_comments_278217.json:
```json
{
    "body": "<a id='comment:12'></a>\nI will test it on my Ubuntu machine later tonight (if no one beats me to it).",
    "created_at": "2014-06-29T00:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278217",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
I will test it on my Ubuntu machine later tonight (if no one beats me to it).



---

archive/issue_comments_278218.json:
```json
{
    "body": "<a id='comment:13'></a>\nWell I have now checked it builds and installs in sage-on-gentoo on linux and OS X but haven't run tests.",
    "created_at": "2014-06-29T01:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278218",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:13'></a>
Well I have now checked it builds and installs in sage-on-gentoo on linux and OS X but haven't run tests.



---

archive/issue_comments_278219.json:
```json
{
    "body": "**Changing commit** from \"[7134ee179bfa1126cde66f8fc4e1e30db5e89a4a](https://github.com/sagemath/sagetrac-mirror/commit/7134ee179bfa1126cde66f8fc4e1e30db5e89a4a)\" to \"[b124959527d51806a30b2e44d3038547e04f2a90](https://github.com/sagemath/sagetrac-mirror/commit/b124959527d51806a30b2e44d3038547e04f2a90)\".",
    "created_at": "2014-06-29T13:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278219",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7134ee179bfa1126cde66f8fc4e1e30db5e89a4a](https://github.com/sagemath/sagetrac-mirror/commit/7134ee179bfa1126cde66f8fc4e1e30db5e89a4a)" to "[b124959527d51806a30b2e44d3038547e04f2a90](https://github.com/sagemath/sagetrac-mirror/commit/b124959527d51806a30b2e44d3038547e04f2a90)".



---

archive/issue_comments_278220.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b124959527d51806a30b2e44d3038547e04f2a90\">b124959</a></td><td><code>Added patch file to lrcalc.</code></td></tr></table>\n",
    "created_at": "2014-06-29T13:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278220",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b124959527d51806a30b2e44d3038547e04f2a90">b124959</a></td><td><code>Added patch file to lrcalc.</code></td></tr></table>




---

archive/issue_comments_278221.json:
```json
{
    "body": "<a id='comment:15'></a>\nGit-a-fied and the spkg and sage checks passed for me.",
    "created_at": "2014-06-29T13:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278221",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>
Git-a-fied and the spkg and sage checks passed for me.



---

archive/issue_comments_278222.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2014-06-29T13:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278222",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_278223.json:
```json
{
    "body": "<a id='comment:16'></a>\nThanks for figuring out the OSX Fran\u00e7ois (I couldn't do anything since I don't have access to one).",
    "created_at": "2014-06-29T13:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278223",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
Thanks for figuring out the OSX François (I couldn't do anything since I don't have access to one).



---

archive/issue_comments_278224.json:
```json
{
    "body": "**Changing upstream** from \"N/A\" to \"Reported upstream. No feedback yet.\".",
    "created_at": "2014-06-30T10:30:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278224",
    "user": "https://github.com/kiwifb"
}
```

**Changing upstream** from "N/A" to "Reported upstream. No feedback yet.".



---

archive/issue_comments_278225.json:
```json
{
    "body": "<a id='comment:17'></a>\nWell it is all a bit sloppy in my opinion. You have this variable that I put in separate header that needs to be global in the programs using it. Problems is it was put everywhere including the library parts. The gnu linker used in linux is infintely tolerant to some stuff and possibly has a way of dealing with it. But in this case I think the OS X linker is correct in saying \"please fix this up\". \n\nI also sent an email upstream along with the patch.",
    "created_at": "2014-06-30T10:30:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278225",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:17'></a>
Well it is all a bit sloppy in my opinion. You have this variable that I put in separate header that needs to be global in the programs using it. Problems is it was put everywhere including the library parts. The gnu linker used in linux is infintely tolerant to some stuff and possibly has a way of dealing with it. But in this case I think the OS X linker is correct in saying "please fix this up". 

I also sent an email upstream along with the patch.



---

archive/issue_comments_278226.json:
```json
{
    "body": "<a id='comment:18'></a>\nSo do you think we should hold off on merging this until we hear back?",
    "created_at": "2014-06-30T13:49:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278226",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>
So do you think we should hold off on merging this until we hear back?



---

archive/issue_comments_278227.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2014-06-30T16:33:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278227",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_055279.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-30T16:33:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16560#event-55279"
}
```



---

archive/issue_comments_278228.json:
```json
{
    "body": "**Changing branch** from \"[public/packages/lrcalc_1_1_7-16560](https://github.com/sagemath/sagetrac-mirror/tree/public/packages/lrcalc_1_1_7-16560)\" to \"[b124959527d51806a30b2e44d3038547e04f2a90](https://github.com/sagemath/sagetrac-mirror/commit/b124959527d51806a30b2e44d3038547e04f2a90)\".",
    "created_at": "2014-06-30T16:33:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278228",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/packages/lrcalc_1_1_7-16560](https://github.com/sagemath/sagetrac-mirror/tree/public/packages/lrcalc_1_1_7-16560)" to "[b124959527d51806a30b2e44d3038547e04f2a90](https://github.com/sagemath/sagetrac-mirror/commit/b124959527d51806a30b2e44d3038547e04f2a90)".



---

archive/issue_comments_278229.json:
```json
{
    "body": "**Changing commit** from \"[b124959527d51806a30b2e44d3038547e04f2a90](https://github.com/sagemath/sagetrac-mirror/commit/b124959527d51806a30b2e44d3038547e04f2a90)\" to \"\".",
    "created_at": "2014-06-30T19:26:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278229",
    "user": "https://github.com/kiwifb"
}
```

**Changing commit** from "[b124959527d51806a30b2e44d3038547e04f2a90](https://github.com/sagemath/sagetrac-mirror/commit/b124959527d51806a30b2e44d3038547e04f2a90)" to "".



---

archive/issue_comments_278230.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [tscrim](#comment%3A18):\n> So do you think we should hold off on merging this until we hear back?\n\n\nDouble dose of no. One for me and one for Volker :)",
    "created_at": "2014-06-30T19:26:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16560#issuecomment-278230",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:20'></a>
Replying to [tscrim](#comment%3A18):
> So do you think we should hold off on merging this until we hear back?


Double dose of no. One for me and one for Volker :)
