# Issue 16055: Implement Jordan algebras

archive/issues_015818.json:
```json
{
    "body": "So we have a non-associative algebra to play with (and they are connected with Lie algebras).\n\nThis currently uses a workaround for avoiding issues with unital non-associative algebras, see #16492.\n\nAssignee: @tscrim\n\nKeywords: jordan algebra\n\nBranch/Commit: 10b1863c7403f29658914fe923c87ae01bae0225\n\nReviewer: Darij Grinberg\n\nAuthor: Travis Scrimshaw\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16055\n\n",
    "closed_at": "2015-02-18T23:22:49Z",
    "created_at": "2014-04-03T19:57:18Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Implement Jordan algebras",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16055",
    "user": "https://github.com/tscrim"
}
```
So we have a non-associative algebra to play with (and they are connected with Lie algebras).

This currently uses a workaround for avoiding issues with unital non-associative algebras, see #16492.

Assignee: @tscrim

Keywords: jordan algebra

Branch/Commit: 10b1863c7403f29658914fe923c87ae01bae0225

Reviewer: Darij Grinberg

Author: Travis Scrimshaw

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16055





---

archive/issue_comments_260872.json:
```json
{
    "body": "Changing branch from \"\" to \"public/algebras/jordan-16055\"",
    "created_at": "2014-04-03T19:58:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260872",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "" to "public/algebras/jordan-16055"



---

archive/issue_comments_260873.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2014-04-03T19:58:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260873",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_260874.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-04-03T19:58:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260874",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_260875.json:
```json
{
    "body": "Changing commit from \"\" to \"7e002a7580e2de0f9bff620e652234bdd2893e2a\"",
    "created_at": "2014-04-03T19:58:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260875",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "" to "7e002a7580e2de0f9bff620e652234bdd2893e2a"



---

archive/issue_comments_260876.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-03T21:30:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260876",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_260877.json:
```json
{
    "body": "Changing commit from \"7e002a7580e2de0f9bff620e652234bdd2893e2a\" to \"a0111313bb850bf7bf9e8a1d3c6cf5138ae7b23f\"",
    "created_at": "2014-04-03T21:30:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260877",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7e002a7580e2de0f9bff620e652234bdd2893e2a" to "a0111313bb850bf7bf9e8a1d3c6cf5138ae7b23f"



---

archive/issue_events_047204.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16055#event-47204"
}
```



---

archive/issue_comments_260878.json:
```json
{
    "body": "Changing commit from \"a0111313bb850bf7bf9e8a1d3c6cf5138ae7b23f\" to \"cd1248bf099afc4b6cfa5ce940c51bcc2a2d0ef9\"",
    "created_at": "2014-06-17T22:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260878",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a0111313bb850bf7bf9e8a1d3c6cf5138ae7b23f" to "cd1248bf099afc4b6cfa5ce940c51bcc2a2d0ef9"



---

archive/issue_comments_260879.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-17T22:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260879",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_260880.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n So we have a non-associative algebra to play with (and they are connected with Lie algebras).\n \n-If by some chance #10963 gets merged before this, we should change the category to their non-associative variety.\n+This currently uses a workaround for avoiding issues with unital non-associative algebras, see #16492.\n``````\n",
    "created_at": "2014-06-17T22:30:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260880",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 So we have a non-associative algebra to play with (and they are connected with Lie algebras).
 
-If by some chance #10963 gets merged before this, we should change the category to their non-associative variety.
+This currently uses a workaround for avoiding issues with unital non-associative algebras, see #16492.
``````




---

archive/issue_events_047205.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16055#event-47205"
}
```



---

archive/issue_events_047206.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16055#event-47206"
}
```



---

archive/issue_comments_260881.json:
```json
{
    "body": "Changing commit from \"cd1248bf099afc4b6cfa5ce940c51bcc2a2d0ef9\" to \"6e76ec0b3df76d3ba3bf326b851f494e71bc58bd\"",
    "created_at": "2015-02-14T01:45:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260881",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cd1248bf099afc4b6cfa5ce940c51bcc2a2d0ef9" to "6e76ec0b3df76d3ba3bf326b851f494e71bc58bd"



---

archive/issue_comments_260882.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-14T01:45:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260882",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_260883.json:
```json
{
    "body": "Changing commit from \"6e76ec0b3df76d3ba3bf326b851f494e71bc58bd\" to \"c52895d3980b7c8d23bc7d8a5eda9f7622bd300c\"",
    "created_at": "2015-02-14T18:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260883",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6e76ec0b3df76d3ba3bf326b851f494e71bc58bd" to "c52895d3980b7c8d23bc7d8a5eda9f7622bd300c"



---

archive/issue_comments_260884.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-14T18:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260884",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_260885.json:
```json
{
    "body": "<a id='comment:9'></a>Thank you! Just to make sure, `_lmul_` only gets called when you multiply with a scalar?\n\nEDIT: Also, I don't see the `(x^m y) x^n = x^m (y x^n)` identity in McCrimmon...",
    "created_at": "2015-02-16T16:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260885",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:9'></a>Thank you! Just to make sure, `_lmul_` only gets called when you multiply with a scalar?

EDIT: Also, I don't see the `(x^m y) x^n = x^m (y x^n)` identity in McCrimmon...



---

archive/issue_comments_260886.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [darij](#comment%3A9):\n> Thank you! Just to make sure, `_lmul_` only gets called when you multiply with a scalar?'s \n\n\nCorrect. If it's an element of the Jordan algebra, then regular `_mul_` gets called.\n\n> EDIT: Also, I don't see the `(x^m y) x^n = x^m (y x^n)` identity in McCrimmon...\n\n\nIt's not. I cited Jacobson (as I believe it's in there but I don't have the book right now to check [tonight I will]), but it's on the wikipedia page (which I didn't want to explicitly cite).",
    "created_at": "2015-02-16T18:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260886",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>Replying to [darij](#comment%3A9):
> Thank you! Just to make sure, `_lmul_` only gets called when you multiply with a scalar?'s 


Correct. If it's an element of the Jordan algebra, then regular `_mul_` gets called.

> EDIT: Also, I don't see the `(x^m y) x^n = x^m (y x^n)` identity in McCrimmon...


It's not. I cited Jacobson (as I believe it's in there but I don't have the book right now to check [tonight I will]), but it's on the wikipedia page (which I didn't want to explicitly cite).



---

archive/issue_comments_260887.json:
```json
{
    "body": "<a id='comment:11'></a>Found it: equality (11) in\n\n```\nA. A. Albert, *A Structure Theory for Jordan Algebras*,\nAnnals of Mathematics, Second Series, Vol. 48, No. 3\n(Jul., 1947), pp. 546--567.\n```\nI'll put this into the doc later.",
    "created_at": "2015-02-17T21:31:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260887",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:11'></a>Found it: equality (11) in

```
A. A. Albert, *A Structure Theory for Jordan Algebras*,
Annals of Mathematics, Second Series, Vol. 48, No. 3
(Jul., 1947), pp. 546--567.
```
I'll put this into the doc later.



---

archive/issue_comments_260888.json:
```json
{
    "body": "<a id='comment:12'></a>It's not in Jacobson; I'm glad you found an explicit reference.",
    "created_at": "2015-02-17T21:59:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260888",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>It's not in Jacobson; I'm glad you found an explicit reference.



---

archive/issue_comments_260889.json:
```json
{
    "body": "Changing commit from \"c52895d3980b7c8d23bc7d8a5eda9f7622bd300c\" to \"b6480617ed2b3902edcf1497c1c9518729c40445\"",
    "created_at": "2015-02-17T22:00:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260889",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c52895d3980b7c8d23bc7d8a5eda9f7622bd300c" to "b6480617ed2b3902edcf1497c1c9518729c40445"



---

archive/issue_comments_260890.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-17T22:00:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260890",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_260891.json:
```json
{
    "body": "Changing commit from \"b6480617ed2b3902edcf1497c1c9518729c40445\" to \"021551c8d2a0d6f9d6751176a8c1fe65302ff2a0\"",
    "created_at": "2015-02-17T22:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260891",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b6480617ed2b3902edcf1497c1c9518729c40445" to "021551c8d2a0d6f9d6751176a8c1fe65302ff2a0"



---

archive/issue_comments_260892.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-17T22:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260892",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_260893.json:
```json
{
    "body": "<a id='comment:15'></a>Here's why the `~` is safer than `/`:\n\n```\nsage: R.<q,t> = LaurentPolynomialRing(QQ)\nsage: 1 / R(2)\n1/2\nsage: _.parent()\nFraction Field of Multivariate Polynomial Ring in q, t over Rational Field\nsage: ~R(2)\n1/2\nsage: _.parent()\nMultivariate Laurent Polynomial Ring in q, t over Rational Field\n```\nAlthough this might be fixed by #17740. However I think instead of `QQ`, we could just convert to (the fraction field of) the base ring. I'll test and make changes.\n\nI'm happy with setting `algebras_generators = basis`, and subclassing does not respect aliases (this has given me many headaches, but it makes sense from the python perspective). I'll do this on my next commit.",
    "created_at": "2015-02-17T22:52:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260893",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>Here's why the `~` is safer than `/`:

```
sage: R.<q,t> = LaurentPolynomialRing(QQ)
sage: 1 / R(2)
1/2
sage: _.parent()
Fraction Field of Multivariate Polynomial Ring in q, t over Rational Field
sage: ~R(2)
1/2
sage: _.parent()
Multivariate Laurent Polynomial Ring in q, t over Rational Field
```
Although this might be fixed by #17740. However I think instead of `QQ`, we could just convert to (the fraction field of) the base ring. I'll test and make changes.

I'm happy with setting `algebras_generators = basis`, and subclassing does not respect aliases (this has given me many headaches, but it makes sense from the python perspective). I'll do this on my next commit.



---

archive/issue_comments_260894.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-17T23:07:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260894",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_260895.json:
```json
{
    "body": "Changing commit from \"021551c8d2a0d6f9d6751176a8c1fe65302ff2a0\" to \"5dd9543f4c008197d78cb523f18418873c5c8ef0\"",
    "created_at": "2015-02-17T23:07:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260895",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "021551c8d2a0d6f9d6751176a8c1fe65302ff2a0" to "5dd9543f4c008197d78cb523f18418873c5c8ef0"



---

archive/issue_comments_260896.json:
```json
{
    "body": "<a id='comment:17'></a>Thanks for the explanations. I was worried that subclassing wouldn't completely ignore aliases in case of `@`cached_function usage. But experiments suggest that there is no problem with that.\n\n```\n            sage: J(2, (-2, 3)) # known bug - defaults to the base ring morphism #16054\n            2 + (-2, 3)\n            sage: J(-1, 1, 0) # known bug - defaults to the base ring morphism #16054\n            -1 + (1, 0)\n```\nBut these work!",
    "created_at": "2015-02-18T00:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260896",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:17'></a>Thanks for the explanations. I was worried that subclassing wouldn't completely ignore aliases in case of `@`cached_function usage. But experiments suggest that there is no problem with that.

```
            sage: J(2, (-2, 3)) # known bug - defaults to the base ring morphism #16054
            2 + (-2, 3)
            sage: J(-1, 1, 0) # known bug - defaults to the base ring morphism #16054
            -1 + (1, 0)
```
But these work!



---

archive/issue_comments_260897.json:
```json
{
    "body": "Changing commit from \"5dd9543f4c008197d78cb523f18418873c5c8ef0\" to \"ec86f6a3628c1dae0769dc38991735df5b5aa0c1\"",
    "created_at": "2015-02-18T01:44:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260897",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5dd9543f4c008197d78cb523f18418873c5c8ef0" to "ec86f6a3628c1dae0769dc38991735df5b5aa0c1"



---

archive/issue_comments_260898.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-18T01:44:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260898",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_260899.json:
```json
{
    "body": "<a id='comment:19'></a>I'm glad you tested that. That used to not work, but now since there is no coercion map from the base ring (when I first wrote it, there was one), it doesn't go through the coercion path noted in #16054.",
    "created_at": "2015-02-18T01:51:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260899",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>I'm glad you tested that. That used to not work, but now since there is no coercion map from the base ring (when I first wrote it, there was one), it doesn't go through the coercion path noted in #16054.



---

archive/issue_comments_260900.json:
```json
{
    "body": "Changing commit from \"ec86f6a3628c1dae0769dc38991735df5b5aa0c1\" to \"7ed54709f4644efea728050b8b7ea64cc5fd7576\"",
    "created_at": "2015-02-18T02:50:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260900",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ec86f6a3628c1dae0769dc38991735df5b5aa0c1" to "7ed54709f4644efea728050b8b7ea64cc5fd7576"



---

archive/issue_comments_260901.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-18T02:50:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260901",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_260902.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [tscrim](#comment%3A19):\n> I'm glad you tested that. That used to not work, but now since there is no coercion map from the base ring (when I first wrote it, there was one), it doesn't go through the coercion path noted in #16054.\n\n\nDoes this mean that this will break again when the base ring coercion is reintroduced?\n\nAlso, I've finished reviewing this, but there is a TODO in the latest commit.",
    "created_at": "2015-02-18T02:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260902",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:21'></a>Replying to [tscrim](#comment%3A19):
> I'm glad you tested that. That used to not work, but now since there is no coercion map from the base ring (when I first wrote it, there was one), it doesn't go through the coercion path noted in #16054.


Does this mean that this will break again when the base ring coercion is reintroduced?

Also, I've finished reviewing this, but there is a TODO in the latest commit.



---

archive/issue_comments_260903.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-18T03:24:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260903",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_260904.json:
```json
{
    "body": "Changing commit from \"7ed54709f4644efea728050b8b7ea64cc5fd7576\" to \"4404242dbb01346805cbdce258053636356f71b6\"",
    "created_at": "2015-02-18T03:24:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260904",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7ed54709f4644efea728050b8b7ea64cc5fd7576" to "4404242dbb01346805cbdce258053636356f71b6"



---

archive/issue_comments_260905.json:
```json
{
    "body": "<a id='comment:23'></a>Replying to [darij](#comment%3A21):\n> Does this mean that this will break again when the base ring coercion is reintroduced?\n\n\nThis isn't a coercion for non-commutative base rings. The commutativity of the associative algebra actually suppresses the non-associativity of the Jordan algebra since\n\n```\n(xy + yx)/2 = xy = yx\n(yz + zy)/2 = yz = zy\n(xyz + zyx)/2 = xyz = yxz = ... = zyx\n```\nPerhaps we could add extra checks for the base ring being commutative and adding such a coercion if there is a need, but for now I think we have the conversion and left/right actions.\n\n> Also, I've finished reviewing this, but there is a TODO in the latest commit.\n\n\nFixed; sign error. So can I consider this as a positive review?",
    "created_at": "2015-02-18T03:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260905",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:23'></a>Replying to [darij](#comment%3A21):
> Does this mean that this will break again when the base ring coercion is reintroduced?


This isn't a coercion for non-commutative base rings. The commutativity of the associative algebra actually suppresses the non-associativity of the Jordan algebra since

```
(xy + yx)/2 = xy = yx
(yz + zy)/2 = yz = zy
(xyz + zyx)/2 = xyz = yxz = ... = zyx
```
Perhaps we could add extra checks for the base ring being commutative and adding such a coercion if there is a need, but for now I think we have the conversion and left/right actions.

> Also, I've finished reviewing this, but there is a TODO in the latest commit.


Fixed; sign error. So can I consider this as a positive review?



---

archive/issue_comments_260906.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Darij Grinberg\"",
    "created_at": "2015-02-18T03:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260906",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Darij Grinberg"



---

archive/issue_comments_260907.json:
```json
{
    "body": "<a id='comment:24'></a>Uhm, the base ring is assumed to be commutative, right? Are you talking about a coercion from the base ring, or from the algebra which serves as a ground set? Which of these would break the element constructor?\n\nAnd yes, this is a positive review, apart from this little issue.",
    "created_at": "2015-02-18T03:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260907",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:24'></a>Uhm, the base ring is assumed to be commutative, right? Are you talking about a coercion from the base ring, or from the algebra which serves as a ground set? Which of these would break the element constructor?

And yes, this is a positive review, apart from this little issue.



---

archive/issue_comments_260908.json:
```json
{
    "body": "<a id='comment:25'></a>Right, we are... The issue is when we have a coercion from the base ring, the first input gets checked to see if there is a coercion, and if there is, then it passes all arguments via that coercion (ignoring that the combination of elements should give a different coercion/conversion). So I could one of the two:\n\n- leave it as it is,\n- add a custom coercion from the base ring and put back the known bug tag.\n\nWhich is your preference?",
    "created_at": "2015-02-18T04:05:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260908",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>Right, we are... The issue is when we have a coercion from the base ring, the first input gets checked to see if there is a coercion, and if there is, then it passes all arguments via that coercion (ignoring that the combination of elements should give a different coercion/conversion). So I could one of the two:

- leave it as it is,
- add a custom coercion from the base ring and put back the known bug tag.

Which is your preference?



---

archive/issue_comments_260909.json:
```json
{
    "body": "<a id='comment:26'></a>I'd leave it as it is -- it does make sense that a map from an associative into a non-associative ring is only a conversion. Can you add in a comment on this?",
    "created_at": "2015-02-18T04:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260909",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:26'></a>I'd leave it as it is -- it does make sense that a map from an associative into a non-associative ring is only a conversion. Can you add in a comment on this?



---

archive/issue_comments_260910.json:
```json
{
    "body": "<a id='comment:27'></a>On that those doctests will break if there is a coercion?",
    "created_at": "2015-02-18T04:13:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260910",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'></a>On that those doctests will break if there is a coercion?



---

archive/issue_comments_260911.json:
```json
{
    "body": "<a id='comment:28'></a>Well, you currently have this line:\n\n```\n+ # Remove the preceding line once :trac:`16492` is fixed\n```\nYou should say that #16492 is not the only obstruction to the coercion.\n\nOnce done, this is positive_review! I'd make the change myself, but that would add yet another merge commit.",
    "created_at": "2015-02-18T04:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260911",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:28'></a>Well, you currently have this line:

```
+ # Remove the preceding line once :trac:`16492` is fixed
```
You should say that #16492 is not the only obstruction to the coercion.

Once done, this is positive_review! I'd make the change myself, but that would add yet another merge commit.



---

archive/issue_comments_260912.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-18T04:21:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260912",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_260913.json:
```json
{
    "body": "Changing commit from \"4404242dbb01346805cbdce258053636356f71b6\" to \"10b1863c7403f29658914fe923c87ae01bae0225\"",
    "created_at": "2015-02-18T04:21:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260913",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4404242dbb01346805cbdce258053636356f71b6" to "10b1863c7403f29658914fe923c87ae01bae0225"



---

archive/issue_comments_260914.json:
```json
{
    "body": "<a id='comment:30'></a>Done. Thanks for doing the review Darij!",
    "created_at": "2015-02-18T04:22:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260914",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:30'></a>Done. Thanks for doing the review Darij!



---

archive/issue_comments_260915.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-02-18T04:22:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260915",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_260916.json:
```json
{
    "body": "<a id='comment:31'></a>No problem -- this is probably the easiest of your Lie-algebra tickets.",
    "created_at": "2015-02-18T04:34:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260916",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:31'></a>No problem -- this is probably the easiest of your Lie-algebra tickets.



---

archive/issue_events_047207.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-18T23:22:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16055#event-47207"
}
```



---

archive/issue_comments_260917.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-02-18T23:22:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260917",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_260918.json:
```json
{
    "body": "Changing branch from \"public/algebras/jordan-16055\" to \"10b1863c7403f29658914fe923c87ae01bae0225\"",
    "created_at": "2015-02-18T23:22:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16055#issuecomment-260918",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/algebras/jordan-16055" to "10b1863c7403f29658914fe923c87ae01bae0225"
