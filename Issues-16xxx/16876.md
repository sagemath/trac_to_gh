# Issue 16876: Fix cocharge on A2Dual rigged configurations and better support for D_4^(3) and relabelled types

archive/issues_016639.json:
```json
{
    "body": "Currently, cocharge is not calculated correctly for type A<sub>2n</sub><sup>(2)\\dagger</sup>. The cocharge should be half of the virtual.\n\n```\nsage: RC = RiggedConfigurations(CartanType(['A',4,2]).dual(), [[1,1],[2,2]])\nsage: for mg in RC.module_generators:\n....:     mg.cocharge()\n....:     mg.to_virtual_configuration().cocharge()\n....:     print \"\"\n0\n0\n\n1/2\n2\n\n0\n2\n\n1/2\n2\n\n1/2\n4\n\n0\n4\n\n1\n6\n```\nAlso rigged configurations for type D<sub>4</sub><sup>(3)</sup> and other relabelled types aren't well supported, but is solved with better handling of the index set.\n\n```\nsage: RC = RiggedConfigurations(['D',4,3], [[1,1]])\nsage: RC.module_generators\n(\n   \n(/)\n   \n(/)\n   \n)\n```\nThere should be another generator.\n\nThis also makes `use_half_width_boxes_type_B` into a global option (as it should've been done in #16324, but I forgot). It also makes the latex of a rigged configuration respect the French convention.\n\nAssignee: sage-combinat\n\nCC:  sage-combinat @anneschilling\n\nKeywords: rigged configurations\n\nBranch/Commit: 208ee57b45eb850917a9f55200d8d70622168117\n\nReviewer: Anne Schilling\n\nAuthor: Travis Scrimshaw\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16876\n\n",
    "closed_at": "2014-10-02T16:21:58Z",
    "created_at": "2014-08-25T09:20:57Z",
    "labels": [
        "component: combinatorics",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Fix cocharge on A2Dual rigged configurations and better support for D_4^(3) and relabelled types",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16876",
    "user": "https://github.com/tscrim"
}
```
Currently, cocharge is not calculated correctly for type A<sub>2n</sub><sup>(2)\dagger</sup>. The cocharge should be half of the virtual.

```
sage: RC = RiggedConfigurations(CartanType(['A',4,2]).dual(), [[1,1],[2,2]])
sage: for mg in RC.module_generators:
....:     mg.cocharge()
....:     mg.to_virtual_configuration().cocharge()
....:     print ""
0
0

1/2
2

0
2

1/2
2

1/2
4

0
4

1
6
```
Also rigged configurations for type D<sub>4</sub><sup>(3)</sup> and other relabelled types aren't well supported, but is solved with better handling of the index set.

```
sage: RC = RiggedConfigurations(['D',4,3], [[1,1]])
sage: RC.module_generators
(
   
(/)
   
(/)
   
)
```
There should be another generator.

This also makes `use_half_width_boxes_type_B` into a global option (as it should've been done in #16324, but I forgot). It also makes the latex of a rigged configuration respect the French convention.

Assignee: sage-combinat

CC:  sage-combinat @anneschilling

Keywords: rigged configurations

Branch/Commit: 208ee57b45eb850917a9f55200d8d70622168117

Reviewer: Anne Schilling

Author: Travis Scrimshaw

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16876





---

archive/issue_comments_282170.json:
```json
{
    "body": "Changing branch from \"\" to \"public/rigged_configurations/fixes-16876\"",
    "created_at": "2014-08-25T09:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282170",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "" to "public/rigged_configurations/fixes-16876"



---

archive/issue_comments_282171.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-08-25T09:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282171",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_282172.json:
```json
{
    "body": "Changing commit from \"\" to \"3614310c58e08b05b9e1190f69f07d7e9cf92857\"",
    "created_at": "2014-08-25T09:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282172",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "" to "3614310c58e08b05b9e1190f69f07d7e9cf92857"



---

archive/issue_comments_282173.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|\n|[3614310](http://git.sagemath.org/sage.git/commit/?id=3614310c58e08b05b9e1190f69f07d7e9cf92857)|`Fixed cocharge for A2Dual and better support for D_4^(3) and relabelled types.`|",
    "created_at": "2014-08-25T09:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282173",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|
|[3614310](http://git.sagemath.org/sage.git/commit/?id=3614310c58e08b05b9e1190f69f07d7e9cf92857)|`Fixed cocharge for A2Dual and better support for D_4^(3) and relabelled types.`|



---

archive/issue_comments_282174.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|\n|[bdd64c3](http://git.sagemath.org/sage.git/commit/?id=bdd64c38e2c6ec4565240d7796e00b6092f35185)|`Made half with type B into a global option and French convention latex fix.`|",
    "created_at": "2014-08-29T04:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282174",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|
|[bdd64c3](http://git.sagemath.org/sage.git/commit/?id=bdd64c38e2c6ec4565240d7796e00b6092f35185)|`Made half with type B into a global option and French convention latex fix.`|



---

archive/issue_comments_282175.json:
```json
{
    "body": "Changing commit from \"3614310c58e08b05b9e1190f69f07d7e9cf92857\" to \"bdd64c38e2c6ec4565240d7796e00b6092f35185\"",
    "created_at": "2014-08-29T04:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3614310c58e08b05b9e1190f69f07d7e9cf92857" to "bdd64c38e2c6ec4565240d7796e00b6092f35185"



---

archive/issue_comments_282176.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -41,3 +41,5 @@\n )\n ```\n There should be another generator.\n+\n+This also makes `use_half_width_boxes_type_B` into a global option (as it should've been done in #16324, but I forgot). It also makes the latex of a rigged configuration respect the French convention.\n``````\n",
    "created_at": "2014-08-29T04:44:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282176",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -41,3 +41,5 @@
 )
 ```
 There should be another generator.
+
+This also makes `use_half_width_boxes_type_B` into a global option (as it should've been done in #16324, but I forgot). It also makes the latex of a rigged configuration respect the French convention.
``````




---

archive/issue_comments_282177.json:
```json
{
    "body": "Changing commit from \"bdd64c38e2c6ec4565240d7796e00b6092f35185\" to \"9ead54d1287a9fa0a807471b1d06633a62b782dd\"",
    "created_at": "2014-09-15T16:10:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282177",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bdd64c38e2c6ec4565240d7796e00b6092f35185" to "9ead54d1287a9fa0a807471b1d06633a62b782dd"



---

archive/issue_comments_282178.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|\n|[e33ecf2](http://git.sagemath.org/sage.git/commit/?id=e33ecf22a67616cc4f8dedb67ba333dbe48a1446)|`Merge branch 'develop' into public/rigged_configurations/fixes-16876`|\n|[25ed446](http://git.sagemath.org/sage.git/commit/?id=25ed4465aed48070628fef56c2338d684c890e8f)|`Merge branch 'develop' into public/rigged_configurations/fixes-16876`|\n|[9ead54d](http://git.sagemath.org/sage.git/commit/?id=9ead54d1287a9fa0a807471b1d06633a62b782dd)|`Updating references.`|",
    "created_at": "2014-09-15T16:10:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282178",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
|[e33ecf2](http://git.sagemath.org/sage.git/commit/?id=e33ecf22a67616cc4f8dedb67ba333dbe48a1446)|`Merge branch 'develop' into public/rigged_configurations/fixes-16876`|
|[25ed446](http://git.sagemath.org/sage.git/commit/?id=25ed4465aed48070628fef56c2338d684c890e8f)|`Merge branch 'develop' into public/rigged_configurations/fixes-16876`|
|[9ead54d](http://git.sagemath.org/sage.git/commit/?id=9ead54d1287a9fa0a807471b1d06633a62b782dd)|`Updating references.`|



---

archive/issue_comments_282179.json:
```json
{
    "body": "<a id='comment:5'></a>\nHi Travis,\n\nHere is a first comment:\n\nPlease provide the formula you are using for cocharge in the cocharge method in\n`/src/sage/combinat/rigged_configurations/rigged_configuration_element.py` or provide a reference!\n\nAnne",
    "created_at": "2014-09-29T15:31:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282179",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:5'></a>
Hi Travis,

Here is a first comment:

Please provide the formula you are using for cocharge in the cocharge method in
`/src/sage/combinat/rigged_configurations/rigged_configuration_element.py` or provide a reference!

Anne



---

archive/issue_comments_282180.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[a0f9517](http://git.sagemath.org/sage.git/commit/?id=a0f9517360ceb18aea9dcdd6efe65e86639bed7a)|`Added some documentation to cocharge.`|",
    "created_at": "2014-09-29T16:30:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282180",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[a0f9517](http://git.sagemath.org/sage.git/commit/?id=a0f9517360ceb18aea9dcdd6efe65e86639bed7a)|`Added some documentation to cocharge.`|



---

archive/issue_comments_282181.json:
```json
{
    "body": "Changing commit from \"9ead54d1287a9fa0a807471b1d06633a62b782dd\" to \"a0f9517360ceb18aea9dcdd6efe65e86639bed7a\"",
    "created_at": "2014-09-29T16:30:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282181",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9ead54d1287a9fa0a807471b1d06633a62b782dd" to "a0f9517360ceb18aea9dcdd6efe65e86639bed7a"



---

archive/issue_comments_282182.json:
```json
{
    "body": "<a id='comment:7'></a>\nDone.",
    "created_at": "2014-09-29T16:31:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282182",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Done.



---

archive/issue_comments_282183.json:
```json
{
    "body": "Changing commit from \"a0f9517360ceb18aea9dcdd6efe65e86639bed7a\" to \"208ee57b45eb850917a9f55200d8d70622168117\"",
    "created_at": "2014-09-30T05:25:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282183",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a0f9517360ceb18aea9dcdd6efe65e86639bed7a" to "208ee57b45eb850917a9f55200d8d70622168117"



---

archive/issue_comments_282184.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|\n|[208ee57](http://git.sagemath.org/sage.git/commit/?id=208ee57b45eb850917a9f55200d8d70622168117)|`Merge branch 'public/rigged_configurations/fixes-16876' of trac.sagemath.org:sage into public/rigged_configurations/fixes-16876`|",
    "created_at": "2014-09-30T05:25:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282184",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|
|[208ee57](http://git.sagemath.org/sage.git/commit/?id=208ee57b45eb850917a9f55200d8d70622168117)|`Merge branch 'public/rigged_configurations/fixes-16876' of trac.sagemath.org:sage into public/rigged_configurations/fixes-16876`|



---

archive/issue_comments_282185.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-09-30T15:27:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282185",
    "user": "https://github.com/anneschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_282186.json:
```json
{
    "body": "Changing keywords from \"\" to \"rigged configurations\".",
    "created_at": "2014-09-30T15:27:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282186",
    "user": "https://github.com/anneschilling"
}
```

Changing keywords from "" to "rigged configurations".



---

archive/issue_comments_282187.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Anne Schilling\"",
    "created_at": "2014-09-30T15:27:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282187",
    "user": "https://github.com/anneschilling"
}
```

Changing reviewer from "" to "Anne Schilling"



---

archive/issue_events_049330.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-02T16:21:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16876#event-49330"
}
```



---

archive/issue_comments_282188.json:
```json
{
    "body": "Changing branch from \"public/rigged_configurations/fixes-16876\" to \"208ee57b45eb850917a9f55200d8d70622168117\"",
    "created_at": "2014-10-02T16:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282188",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/rigged_configurations/fixes-16876" to "208ee57b45eb850917a9f55200d8d70622168117"



---

archive/issue_comments_282189.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-10-02T16:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16876#issuecomment-282189",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
