# Issue 16746: Use the Sage displayhook in doctests

archive/issues_016509.json:
```json
{
    "body": "The doctests output should look like the Sage commandline output, which it currently does not quite. Differences include:\n* Dictionaries will be sorted by key, makes output more reproducable\n* Sets are printed as `{1,2}` instead of `set([1,2])`\n* Empty set is `set()` instead of `set([])`\n* Types are `<Foo at 0x...>` instead of `<Foo object at 0x...>`\n\nOther changes:\n* Normal tracebacks can now be distinguished from tracebacks in `__repr__` (IPython extension):\n\n```\nsage: f(*args)\n<repr(<sage.interfaces.gap.GapElement at 0x...>) failed: ValueError: The session in which this object was defined is no longer running.>\n```\n* Plots now print themselves in doctest mode:\n\n```\nsage: A.plot()\nGraphics object consisting of 1 graphics primitive\n```\n\nDepends on #16992\n\n**CC:**  @dkrenn\n\n**Branch/Commit:** [3070715a7f656326260a9ef6635884e69fa0136f](https://github.com/sagemath/sagetrac-mirror/commit/3070715a7f656326260a9ef6635884e69fa0136f)\n\n**Reviewer:** Fran\u00e7ois Bissey\n\n**Author:** Volker Braun\n\nIssue created by migration from https://trac.sagemath.org/ticket/16746\n\n",
    "closed_at": "2014-09-27T12:56:54Z",
    "created_at": "2014-07-31T15:35:58Z",
    "labels": [
        "component: doctest framework",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "title": "Use the Sage displayhook in doctests",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/16746",
    "user": "https://github.com/vbraun"
}
```
The doctests output should look like the Sage commandline output, which it currently does not quite. Differences include:
* Dictionaries will be sorted by key, makes output more reproducable
* Sets are printed as `{1,2}` instead of `set([1,2])`
* Empty set is `set()` instead of `set([])`
* Types are `<Foo at 0x...>` instead of `<Foo object at 0x...>`

Other changes:
* Normal tracebacks can now be distinguished from tracebacks in `__repr__` (IPython extension):

```
sage: f(*args)
<repr(<sage.interfaces.gap.GapElement at 0x...>) failed: ValueError: The session in which this object was defined is no longer running.>
```
* Plots now print themselves in doctest mode:

```
sage: A.plot()
Graphics object consisting of 1 graphics primitive
```

Depends on #16992

**CC:**  @dkrenn

**Branch/Commit:** [3070715a7f656326260a9ef6635884e69fa0136f](https://github.com/sagemath/sagetrac-mirror/commit/3070715a7f656326260a9ef6635884e69fa0136f)

**Reviewer:** Fran√ßois Bissey

**Author:** Volker Braun

Issue created by migration from https://trac.sagemath.org/ticket/16746





---

archive/issue_comments_221711.json:
```json
{
    "body": "**Branch:** [u/vbraun/sort_dicts_in_doctests](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sort_dicts_in_doctests)",
    "created_at": "2014-07-31T16:13:27Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221711",
    "user": "https://github.com/vbraun"
}
```

**Branch:** [u/vbraun/sort_dicts_in_doctests](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sort_dicts_in_doctests)



---

archive/issue_events_150075.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-31T16:14:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "component: doctest framework",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150075"
}
```



---

archive/issue_comments_221712.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/338c5c30ebfbd9a535cd291fc679625f4ab86164\">338c5c3</a></td><td><code>Use Sage display hook in doctests</code></td></tr></table>\n",
    "created_at": "2014-07-31T16:14:02Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221712",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/338c5c30ebfbd9a535cd291fc679625f4ab86164">338c5c3</a></td><td><code>Use Sage display hook in doctests</code></td></tr></table>




---

archive/issue_comments_221713.json:
```json
{
    "body": "**Commit:** [338c5c30ebfbd9a535cd291fc679625f4ab86164](https://github.com/sagemath/sagetrac-mirror/commit/338c5c30ebfbd9a535cd291fc679625f4ab86164)",
    "created_at": "2014-07-31T16:14:02Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221713",
    "user": "https://github.com/vbraun"
}
```

**Commit:** [338c5c30ebfbd9a535cd291fc679625f4ab86164](https://github.com/sagemath/sagetrac-mirror/commit/338c5c30ebfbd9a535cd291fc679625f4ab86164)



---

archive/issue_comments_221714.json:
```json
{
    "body": "**Author:** Volker Braun",
    "created_at": "2014-07-31T16:14:02Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221714",
    "user": "https://github.com/vbraun"
}
```

**Author:** Volker Braun



---

archive/issue_events_150076.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-31T16:14:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150076"
}
```



---

archive/issue_comments_221715.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n-\n+The doctests output should look like the Sage commandline output, which it currently does not. Differences include:\n+* Dictionaries will be sorted by key, makes output more reproducable\n+* Sets are printed as `{1,2}` instead of `set([1,2])`\n+* Types are `<Foo at 0x...>` instead of `<Foo object at 0x...>`\n``````\n",
    "created_at": "2014-07-31T16:17:11Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221715",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,4 @@
-
+The doctests output should look like the Sage commandline output, which it currently does not. Differences include:
+* Dictionaries will be sorted by key, makes output more reproducable
+* Sets are printed as `{1,2}` instead of `set([1,2])`
+* Types are `<Foo at 0x...>` instead of `<Foo object at 0x...>`
``````




---

archive/issue_events_150077.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-31T16:17:11Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "rename": {
        "from": "Sort dicts in doctests",
        "to": "Use the Sage displayhook in doctests"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150077"
}
```



---

archive/issue_comments_221716.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n-The doctests output should look like the Sage commandline output, which it currently does not. Differences include:\n+The doctests output should look like the Sage commandline output, which it currently does not quite. Differences include:\n * Dictionaries will be sorted by key, makes output more reproducable\n * Sets are printed as `{1,2}` instead of `set([1,2])`\n+* Empty set is `set()` instead of `set([])`\n * Types are `<Foo at 0x...>` instead of `<Foo object at 0x...>`\n``````\n",
    "created_at": "2014-07-31T16:17:54Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221716",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,5 @@
-The doctests output should look like the Sage commandline output, which it currently does not. Differences include:
+The doctests output should look like the Sage commandline output, which it currently does not quite. Differences include:
 * Dictionaries will be sorted by key, makes output more reproducable
 * Sets are printed as `{1,2}` instead of `set([1,2])`
+* Empty set is `set()` instead of `set([])`
 * Types are `<Foo at 0x...>` instead of `<Foo object at 0x...>`
``````




---

archive/issue_comments_221717.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe first commit changes the doctest displayhook to the one we want. This causes various doctest changes that need to be fixed.",
    "created_at": "2014-07-31T16:18:51Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221717",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'></a>
The first commit changes the doctest displayhook to the one we want. This causes various doctest changes that need to be fixed.



---

archive/issue_events_150078.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150078"
}
```



---

archive/issue_events_150079.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150079"
}
```



---

archive/issue_comments_221718.json:
```json
{
    "body": "<a id='comment:8'></a>\nI noticed that the fix for printing types \"our way\" (#14466) was incomplete, inside lists it still uses IPython style:\n\n```\nsage: type(1)\n<type 'sage.rings.integer.Integer'>\nsage: [type(1)]\n[sage.rings.integer.Integer]\n```",
    "created_at": "2014-09-17T10:57:50Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221718",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>
I noticed that the fix for printing types "our way" (#14466) was incomplete, inside lists it still uses IPython style:

```
sage: type(1)
<type 'sage.rings.integer.Integer'>
sage: [type(1)]
[sage.rings.integer.Integer]
```



---

archive/issue_comments_221719.json:
```json
{
    "body": "**Changing commit** from \"[338c5c30ebfbd9a535cd291fc679625f4ab86164](https://github.com/sagemath/sagetrac-mirror/commit/338c5c30ebfbd9a535cd291fc679625f4ab86164)\" to \"[d3635588ff9758997ddde5729bba2b3f5ce44a1b](https://github.com/sagemath/sagetrac-mirror/commit/d3635588ff9758997ddde5729bba2b3f5ce44a1b)\".",
    "created_at": "2014-09-17T23:51:08Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221719",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[338c5c30ebfbd9a535cd291fc679625f4ab86164](https://github.com/sagemath/sagetrac-mirror/commit/338c5c30ebfbd9a535cd291fc679625f4ab86164)" to "[d3635588ff9758997ddde5729bba2b3f5ce44a1b](https://github.com/sagemath/sagetrac-mirror/commit/d3635588ff9758997ddde5729bba2b3f5ce44a1b)".



---

archive/issue_comments_221720.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c5f2b0e915d525b7984b43721a869b6040ed20f\">8c5f2b0</a></td><td><code>Directly overwrite with fixed doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da59f20583c9a9aeb0ca64c9a1403da412666bd6\">da59f20</a></td><td><code>call git directly and from the right directory</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e397b3e6b1dfa0c0a7877adb89efa278495000f9\">e397b3e</a></td><td><code>Add newline at end of file and fix cmdline help</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9135b6c24d7ceaa1febb9bc0da90b4fdb035594f\">9135b6c</a></td><td><code>Merge #16992 (Directly apply --fixdoctests) branch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89945c98c64dad4a918b6a4e6e0cc576691e8d55\">89945c9</a></td><td><code>Fix printing of types</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3635588ff9758997ddde5729bba2b3f5ce44a1b\">d363558</a></td><td><code>Refactor our displayhook IPython integration</code></td></tr></table>\n",
    "created_at": "2014-09-17T23:51:08Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221720",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c5f2b0e915d525b7984b43721a869b6040ed20f">8c5f2b0</a></td><td><code>Directly overwrite with fixed doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da59f20583c9a9aeb0ca64c9a1403da412666bd6">da59f20</a></td><td><code>call git directly and from the right directory</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e397b3e6b1dfa0c0a7877adb89efa278495000f9">e397b3e</a></td><td><code>Add newline at end of file and fix cmdline help</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9135b6c24d7ceaa1febb9bc0da90b4fdb035594f">9135b6c</a></td><td><code>Merge #16992 (Directly apply --fixdoctests) branch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89945c98c64dad4a918b6a4e6e0cc576691e8d55">89945c9</a></td><td><code>Fix printing of types</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3635588ff9758997ddde5729bba2b3f5ce44a1b">d363558</a></td><td><code>Refactor our displayhook IPython integration</code></td></tr></table>




---

archive/issue_comments_221721.json:
```json
{
    "body": "**Dependencies:** #16992",
    "created_at": "2014-09-17T23:54:36Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221721",
    "user": "https://github.com/vbraun"
}
```

**Dependencies:** #16992



---

archive/issue_comments_221722.json:
```json
{
    "body": "<a id='comment:11'></a>\nI've refactored our displayhook machinery so we can pick & choose which parts we want to take from IPython. Now works ok, still have to fixup old doctests.",
    "created_at": "2014-09-18T00:14:41Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221722",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
I've refactored our displayhook machinery so we can pick & choose which parts we want to take from IPython. Now works ok, still have to fixup old doctests.



---

archive/issue_comments_221723.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b99c68fdfe02cbbbc57fe4dab882505a136d3e6\">1b99c68</a></td><td><code>Also fix the cmdline doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bdbdd5bf819f0ce1126575ea9a23adba03a89c5a\">bdbdd5b</a></td><td><code>Merge #16992 (Directly apply --fixdoctests) branch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a246e17f83b02d1ab63261032b17c81150dad6ea\">a246e17</a></td><td><code>Fix printing of types</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb6a66b689158a087979f59fa0224ac3c93d8bad\">eb6a66b</a></td><td><code>Refactor our displayhook IPython integration</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b579b925651aae99d40731436be2300f11238265\">b579b92</a></td><td><code>Update doctests that depended on the old displayhook</code></td></tr></table>\n",
    "created_at": "2014-09-18T18:21:04Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221723",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b99c68fdfe02cbbbc57fe4dab882505a136d3e6">1b99c68</a></td><td><code>Also fix the cmdline doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bdbdd5bf819f0ce1126575ea9a23adba03a89c5a">bdbdd5b</a></td><td><code>Merge #16992 (Directly apply --fixdoctests) branch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a246e17f83b02d1ab63261032b17c81150dad6ea">a246e17</a></td><td><code>Fix printing of types</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb6a66b689158a087979f59fa0224ac3c93d8bad">eb6a66b</a></td><td><code>Refactor our displayhook IPython integration</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b579b925651aae99d40731436be2300f11238265">b579b92</a></td><td><code>Update doctests that depended on the old displayhook</code></td></tr></table>




---

archive/issue_comments_221724.json:
```json
{
    "body": "**Changing commit** from \"[d3635588ff9758997ddde5729bba2b3f5ce44a1b](https://github.com/sagemath/sagetrac-mirror/commit/d3635588ff9758997ddde5729bba2b3f5ce44a1b)\" to \"[b579b925651aae99d40731436be2300f11238265](https://github.com/sagemath/sagetrac-mirror/commit/b579b925651aae99d40731436be2300f11238265)\".",
    "created_at": "2014-09-18T18:21:04Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221724",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d3635588ff9758997ddde5729bba2b3f5ce44a1b](https://github.com/sagemath/sagetrac-mirror/commit/d3635588ff9758997ddde5729bba2b3f5ce44a1b)" to "[b579b925651aae99d40731436be2300f11238265](https://github.com/sagemath/sagetrac-mirror/commit/b579b925651aae99d40731436be2300f11238265)".



---

archive/issue_events_150080.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-18T18:27:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150080"
}
```



---

archive/issue_comments_221725.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,3 +3,17 @@\n * Sets are printed as `{1,2}` instead of `set([1,2])`\n * Empty set is `set()` instead of `set([])`\n * Types are `<Foo at 0x...>` instead of `<Foo object at 0x...>`\n+\n+Other changes:\n+* Normal tracebacks can now be distinguished from tracebacks in `__repr__` (IPython extension):\n+\n+```\n+sage: f(*args)\n+<repr(<sage.interfaces.gap.GapElement at 0x...>) failed: ValueError: The session in which this object was defined is no longer running.>\n+```\n+* Plots now print themselves in doctest mode:\n+\n+```\n+sage: A.plot()\n+Graphics object consisting of 1 graphics primitive\n+```\n``````\n",
    "created_at": "2014-09-18T18:27:05Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221725",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,3 +3,17 @@
 * Sets are printed as `{1,2}` instead of `set([1,2])`
 * Empty set is `set()` instead of `set([])`
 * Types are `<Foo at 0x...>` instead of `<Foo object at 0x...>`
+
+Other changes:
+* Normal tracebacks can now be distinguished from tracebacks in `__repr__` (IPython extension):
+
+```
+sage: f(*args)
+<repr(<sage.interfaces.gap.GapElement at 0x...>) failed: ValueError: The session in which this object was defined is no longer running.>
+```
+* Plots now print themselves in doctest mode:
+
+```
+sage: A.plot()
+Graphics object consisting of 1 graphics primitive
+```
``````




---

archive/issue_events_150081.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-18T18:27:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "blocker",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150081"
}
```



---

archive/issue_comments_221726.json:
```json
{
    "body": "<a id='comment:15'></a>\nWow, that is a massive set of changes... just out of curiosity, what does the documentation now look like for graphics?  I don't know whether it is more obvious before or after this change that one needs to evaluate to get them.  One reason for the spaces before (I mean the ones after plot doctests) was to \"leave room\" in the (live) doc for evaluating these.",
    "created_at": "2014-09-18T18:49:44Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221726",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'></a>
Wow, that is a massive set of changes... just out of curiosity, what does the documentation now look like for graphics?  I don't know whether it is more obvious before or after this change that one needs to evaluate to get them.  One reason for the spaces before (I mean the ones after plot doctests) was to "leave room" in the (live) doc for evaluating these.



---

archive/issue_comments_221727.json:
```json
{
    "body": "<a id='comment:16'></a>\nI see why you needed #16992 now...",
    "created_at": "2014-09-18T19:32:39Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221727",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
I see why you needed #16992 now...



---

archive/issue_events_150082.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-18T19:45:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150082"
}
```



---

archive/issue_events_150083.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-18T19:45:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150083"
}
```



---

archive/issue_comments_221728.json:
```json
{
    "body": "<a id='comment:17'></a>\nIn `src/sage/graphs/generic_graph.py`, this was probably intended as a doctest (although certainly something went wrong around those lines):\n\n```\nsage: g.layout(layout=\"acyclic_dummy\", save_po=True)\n{('0', 0): [0.3356712660780875, 0],\n ('0', 1): [0.33563875939602245, 1],\n ('1', 0): [0.6751346747788185, 0],\n ('1', 1): [0.6715689173983604, 1]}\n```",
    "created_at": "2014-09-18T19:45:01Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221728",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
In `src/sage/graphs/generic_graph.py`, this was probably intended as a doctest (although certainly something went wrong around those lines):

```
sage: g.layout(layout="acyclic_dummy", save_po=True)
{('0', 0): [0.3356712660780875, 0],
 ('0', 1): [0.33563875939602245, 1],
 ('1', 0): [0.6751346747788185, 0],
 ('1', 1): [0.6715689173983604, 1]}
```



---

archive/issue_comments_221729.json:
```json
{
    "body": "<a id='comment:18'></a>\nHonestly, I don't know what the `g.layout(layout=\"acyclic_dummy\", save_po=True)` is supposed to do. I took out the `1+1 == 2` but kept the layout call since the latter changes the rng (so without it all following doctests change).",
    "created_at": "2014-09-18T19:50:48Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221729",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>
Honestly, I don't know what the `g.layout(layout="acyclic_dummy", save_po=True)` is supposed to do. I took out the `1+1 == 2` but kept the layout call since the latter changes the rng (so without it all following doctests change).



---

archive/issue_comments_221730.json:
```json
{
    "body": "<a id='comment:19'></a>\nThere is a problem with graphics objects: they used to be actually \"plotted\" by doctests to some random file, now this gone. To easily check this, execute\n\n```\n$ chmod 0000 local/bin/tachyon\n$ ./sage -t src/sage/plot/circle.py\n```\n\nWithout this patch, this breaks 4 doctests. With this patch, this only breaks 1 doctest (where an explicit `.show()` was given), meaning there are now 3 plots no longer tested.",
    "created_at": "2014-09-18T20:07:11Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221730",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
There is a problem with graphics objects: they used to be actually "plotted" by doctests to some random file, now this gone. To easily check this, execute

```
$ chmod 0000 local/bin/tachyon
$ ./sage -t src/sage/plot/circle.py
```

Without this patch, this breaks 4 doctests. With this patch, this only breaks 1 doctest (where an explicit `.show()` was given), meaning there are now 3 plots no longer tested.



---

archive/issue_comments_221731.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [@vbraun](#comment%3A18):\n> Honestly, I don't know what the `g.layout(layout=\"acyclic_dummy\", save_po=True)` is supposed to do. I took out the `1+1 == 2` but kept the layout call since the latter changes the rng (so without it all following doctests change). \n\nI didn't mean to remove the call, just to show the output, i.e. remove the `x =`.",
    "created_at": "2014-09-18T20:07:48Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221731",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>
Replying to [@vbraun](#comment%3A18):
> Honestly, I don't know what the `g.layout(layout="acyclic_dummy", save_po=True)` is supposed to do. I took out the `1+1 == 2` but kept the layout call since the latter changes the rng (so without it all following doctests change). 

I didn't mean to remove the call, just to show the output, i.e. remove the `x =`.



---

archive/issue_comments_221732.json:
```json
{
    "body": "<a id='comment:21'></a>\nApart from the issues in the last comments, the changes to the doctests look okay. I haven't looked at the new displayhook code though.\n\nWhat does \"repl\" stand for by the way? Perhaps a one-paragraph explanation in `src/sage/repl/all.py` would be good.",
    "created_at": "2014-09-18T20:17:37Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221732",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>
Apart from the issues in the last comments, the changes to the doctests look okay. I haven't looked at the new displayhook code though.

What does "repl" stand for by the way? Perhaps a one-paragraph explanation in `src/sage/repl/all.py` would be good.



---

archive/issue_comments_221733.json:
```json
{
    "body": "<a id='comment:22'></a>\nRead-Eval-Print-Loop.\n\nI'll also call show() on  graphics in the doctest displayhook...",
    "created_at": "2014-09-18T20:38:44Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221733",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>
Read-Eval-Print-Loop.

I'll also call show() on  graphics in the doctest displayhook...



---

archive/issue_comments_221734.json:
```json
{
    "body": "<a id='comment:23'></a>\n`make ptestlong` on my linux mint 64 bit desktop gave a few failing doctests, mostly because sorting of integers and strings is more or less random.\n\n```\nsage -t --long src/doc/de/tutorial/programming.rst\n**********************************************************************\nFile \"src/doc/de/tutorial/programming.rst\", line 503, in doc.de.tutorial.programming\nFailed example:\n    X\nExpected:\n    {1, 19, 'a'}\nGot:\n    {'a', 1, 19}\n**********************************************************************\n1 item had failures:\n   1 of 143 in doc.de.tutorial.programming\n    [113 tests, 1 failure, 1.61 s]\nsage -t --long src/doc/en/tutorial/programming.rst\n**********************************************************************\nFile \"src/doc/en/tutorial/programming.rst\", line 485, in doc.en.tutorial.programming\nFailed example:\n    X\nExpected:\n    {1, 19, 'a'}\nGot:\n    {'a', 1, 19}\n**********************************************************************\n1 item had failures:\n   1 of 144 in doc.en.tutorial.programming\n    [114 tests, 1 failure, 0.17 s]\nsage -t --long src/doc/en/thematic_tutorials/tutorial-programming-python.rst\n**********************************************************************\nFile \"src/doc/en/thematic_tutorials/tutorial-programming-python.rst\", line 707, in doc.en.thematic_tutorials.tutorial-programming-python\nFailed example:\n    d\nExpected:\n    {3/2: 17, 3: 17, 'key': [4, 1, 5, 2, 3], (3, 1, 2): 'goo'}\nGot:\n    {'key': [4, 1, 5, 2, 3], (3, 1, 2): 'goo', 3/2: 17, 3: 17}\n**********************************************************************\nFile \"src/doc/en/thematic_tutorials/tutorial-programming-python.rst\", line 734, in doc.en.thematic_tutorials.tutorial-programming-python\nFailed example:\n    d\nExpected:\n    {3/2: 17, 3: 17, 10: 'a', 'key': [4, 1, 5, 2, 3], (3, 1, 2): 'goo'}\nGot:\n    {'key': [4, 1, 5, 2, 3], (3, 1, 2): 'goo', 3/2: 17, 3: 17, 10: 'a'}\n**********************************************************************\nFile \"src/doc/en/thematic_tutorials/tutorial-programming-python.rst\", line 767, in doc.en.thematic_tutorials.tutorial-programming-python\nFailed example:\n    d\nExpected:\n    {3: 14, 10: 'newvalue', 20: 'newervalue', 'a': [1, 2, 3]}\nGot:\n    {'a': [1, 2, 3], 3: 14, 10: 'newvalue', 20: 'newervalue'}\n**********************************************************************\n1 item had failures:\n   3 of 159 in doc.en.thematic_tutorials.tutorial-programming-python\n    [158 tests, 3 failures, 0.16 s]\nsage -t --long src/doc/fr/tutorial/programming.rst\n**********************************************************************\nFile \"src/doc/fr/tutorial/programming.rst\", line 501, in doc.fr.tutorial.programming\nFailed example:\n    X\nExpected:\n    {1, 19, 'a'}\nGot:\n    {'a', 1, 19}\n**********************************************************************\n1 item had failures:\n   1 of 143 in doc.fr.tutorial.programming\n    [113 tests, 1 failure, 0.17 s]\nsage -t --long src/doc/ru/tutorial/programming.rst\n**********************************************************************\nFile \"src/doc/ru/tutorial/programming.rst\", line 469, in doc.ru.tutorial.programming\nFailed example:\n    X\nExpected:\n    {1, 19, 'a'}\nGot:\n    {'a', 1, 19}\n**********************************************************************\n1 item had failures:\n   1 of 143 in doc.ru.tutorial.programming\n    [113 tests, 1 failure, 0.17 s]\nsage -t --long local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/notebook/worksheet.py\n**********************************************************************\nFile \"local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/notebook/worksheet.py\", line 4063, in sagenb.notebook.worksheet.Worksheet.delete_all_output\nFailed example:\n    W.cell_list()\nExpected:\n    [Cell 0: in=2+3, out=\n    5, Cell 1: in=open('afile', 'w').write('some text')\n    print 'hello', out=\n    ]\nGot:\n    [Cell 0: in=2+3, out=\n     5, Cell 1: in=open('afile', 'w').write('some text')\n     print 'hello', out=]\n**********************************************************************\n1 item had failures:\n   1 of  21 in sagenb.notebook.worksheet.Worksheet.delete_all_output\n    [530 tests, 1 failure, 13.40 s]\n```",
    "created_at": "2014-09-19T05:40:17Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221734",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:23'></a>
`make ptestlong` on my linux mint 64 bit desktop gave a few failing doctests, mostly because sorting of integers and strings is more or less random.

```
sage -t --long src/doc/de/tutorial/programming.rst
**********************************************************************
File "src/doc/de/tutorial/programming.rst", line 503, in doc.de.tutorial.programming
Failed example:
    X
Expected:
    {1, 19, 'a'}
Got:
    {'a', 1, 19}
**********************************************************************
1 item had failures:
   1 of 143 in doc.de.tutorial.programming
    [113 tests, 1 failure, 1.61 s]
sage -t --long src/doc/en/tutorial/programming.rst
**********************************************************************
File "src/doc/en/tutorial/programming.rst", line 485, in doc.en.tutorial.programming
Failed example:
    X
Expected:
    {1, 19, 'a'}
Got:
    {'a', 1, 19}
**********************************************************************
1 item had failures:
   1 of 144 in doc.en.tutorial.programming
    [114 tests, 1 failure, 0.17 s]
sage -t --long src/doc/en/thematic_tutorials/tutorial-programming-python.rst
**********************************************************************
File "src/doc/en/thematic_tutorials/tutorial-programming-python.rst", line 707, in doc.en.thematic_tutorials.tutorial-programming-python
Failed example:
    d
Expected:
    {3/2: 17, 3: 17, 'key': [4, 1, 5, 2, 3], (3, 1, 2): 'goo'}
Got:
    {'key': [4, 1, 5, 2, 3], (3, 1, 2): 'goo', 3/2: 17, 3: 17}
**********************************************************************
File "src/doc/en/thematic_tutorials/tutorial-programming-python.rst", line 734, in doc.en.thematic_tutorials.tutorial-programming-python
Failed example:
    d
Expected:
    {3/2: 17, 3: 17, 10: 'a', 'key': [4, 1, 5, 2, 3], (3, 1, 2): 'goo'}
Got:
    {'key': [4, 1, 5, 2, 3], (3, 1, 2): 'goo', 3/2: 17, 3: 17, 10: 'a'}
**********************************************************************
File "src/doc/en/thematic_tutorials/tutorial-programming-python.rst", line 767, in doc.en.thematic_tutorials.tutorial-programming-python
Failed example:
    d
Expected:
    {3: 14, 10: 'newvalue', 20: 'newervalue', 'a': [1, 2, 3]}
Got:
    {'a': [1, 2, 3], 3: 14, 10: 'newvalue', 20: 'newervalue'}
**********************************************************************
1 item had failures:
   3 of 159 in doc.en.thematic_tutorials.tutorial-programming-python
    [158 tests, 3 failures, 0.16 s]
sage -t --long src/doc/fr/tutorial/programming.rst
**********************************************************************
File "src/doc/fr/tutorial/programming.rst", line 501, in doc.fr.tutorial.programming
Failed example:
    X
Expected:
    {1, 19, 'a'}
Got:
    {'a', 1, 19}
**********************************************************************
1 item had failures:
   1 of 143 in doc.fr.tutorial.programming
    [113 tests, 1 failure, 0.17 s]
sage -t --long src/doc/ru/tutorial/programming.rst
**********************************************************************
File "src/doc/ru/tutorial/programming.rst", line 469, in doc.ru.tutorial.programming
Failed example:
    X
Expected:
    {1, 19, 'a'}
Got:
    {'a', 1, 19}
**********************************************************************
1 item had failures:
   1 of 143 in doc.ru.tutorial.programming
    [113 tests, 1 failure, 0.17 s]
sage -t --long local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/notebook/worksheet.py
**********************************************************************
File "local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/notebook/worksheet.py", line 4063, in sagenb.notebook.worksheet.Worksheet.delete_all_output
Failed example:
    W.cell_list()
Expected:
    [Cell 0: in=2+3, out=
    5, Cell 1: in=open('afile', 'w').write('some text')
    print 'hello', out=
    ]
Got:
    [Cell 0: in=2+3, out=
     5, Cell 1: in=open('afile', 'w').write('some text')
     print 'hello', out=]
**********************************************************************
1 item had failures:
   1 of  21 in sagenb.notebook.worksheet.Worksheet.delete_all_output
    [530 tests, 1 failure, 13.40 s]
```



---

archive/issue_comments_221735.json:
```json
{
    "body": "**Changing commit** from \"[b579b925651aae99d40731436be2300f11238265](https://github.com/sagemath/sagetrac-mirror/commit/b579b925651aae99d40731436be2300f11238265)\" to \"[a9271f0de704f3919b58e0b22afa9d38a39c47d1](https://github.com/sagemath/sagetrac-mirror/commit/a9271f0de704f3919b58e0b22afa9d38a39c47d1)\".",
    "created_at": "2014-09-19T14:58:15Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221735",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b579b925651aae99d40731436be2300f11238265](https://github.com/sagemath/sagetrac-mirror/commit/b579b925651aae99d40731436be2300f11238265)" to "[a9271f0de704f3919b58e0b22afa9d38a39c47d1](https://github.com/sagemath/sagetrac-mirror/commit/a9271f0de704f3919b58e0b22afa9d38a39c47d1)".



---

archive/issue_comments_221736.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a2b1cf1af28d2ab5307e6bf3247756e06d65821\">1a2b1cf</a></td><td><code>Add IPython formatting to the reference manual</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48a2320912986874f4580d22fea71ab3299a9963\">48a2320</a></td><td><code>Also call graphics.show() in doctest mode</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbf83ebb7a7d32d64be6551c4d1866bb1e1dba7c\">fbf83eb</a></td><td><code>Show output of the lonely generic_graph doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9271f0de704f3919b58e0b22afa9d38a39c47d1\">a9271f0</a></td><td><code>Fix doctests that have dictionary keys without stable order</code></td></tr></table>\n",
    "created_at": "2014-09-19T14:58:15Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221736",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a2b1cf1af28d2ab5307e6bf3247756e06d65821">1a2b1cf</a></td><td><code>Add IPython formatting to the reference manual</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48a2320912986874f4580d22fea71ab3299a9963">48a2320</a></td><td><code>Also call graphics.show() in doctest mode</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbf83ebb7a7d32d64be6551c4d1866bb1e1dba7c">fbf83eb</a></td><td><code>Show output of the lonely generic_graph doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9271f0de704f3919b58e0b22afa9d38a39c47d1">a9271f0</a></td><td><code>Fix doctests that have dictionary keys without stable order</code></td></tr></table>




---

archive/issue_comments_221737.json:
```json
{
    "body": "<a id='comment:25'></a>\nI've addressed all issues so far and added more documentation (which also spells out REPL).",
    "created_at": "2014-09-19T14:58:54Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221737",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:25'></a>
I've addressed all issues so far and added more documentation (which also spells out REPL).



---

archive/issue_events_150084.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-19T14:58:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150084"
}
```



---

archive/issue_events_150085.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-19T14:58:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150085"
}
```



---

archive/issue_comments_221738.json:
```json
{
    "body": "<a id='comment:26'></a>\nFound some more random failures. Also, missed the `W.cell_list()` failure above which is caused by not preserving a trailing newline (IPython does that, too). Fix coming shortly...",
    "created_at": "2014-09-19T18:38:28Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221738",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'></a>
Found some more random failures. Also, missed the `W.cell_list()` failure above which is caused by not preserving a trailing newline (IPython does that, too). Fix coming shortly...



---

archive/issue_comments_221739.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3922ed548e74761576035cb56ef693d2f17ee3dd\">3922ed5</a></td><td><code>Reduce doctest precision</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b362aa6c4ee2db82dc49ab42d52042cf9a46074a\">b362aa6</a></td><td><code>Display trailing newline in __repr__() output</code></td></tr></table>\n",
    "created_at": "2014-09-19T19:01:57Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221739",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3922ed548e74761576035cb56ef693d2f17ee3dd">3922ed5</a></td><td><code>Reduce doctest precision</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b362aa6c4ee2db82dc49ab42d52042cf9a46074a">b362aa6</a></td><td><code>Display trailing newline in __repr__() output</code></td></tr></table>




---

archive/issue_comments_221740.json:
```json
{
    "body": "**Changing commit** from \"[a9271f0de704f3919b58e0b22afa9d38a39c47d1](https://github.com/sagemath/sagetrac-mirror/commit/a9271f0de704f3919b58e0b22afa9d38a39c47d1)\" to \"[b362aa6c4ee2db82dc49ab42d52042cf9a46074a](https://github.com/sagemath/sagetrac-mirror/commit/b362aa6c4ee2db82dc49ab42d52042cf9a46074a)\".",
    "created_at": "2014-09-19T19:01:57Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221740",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a9271f0de704f3919b58e0b22afa9d38a39c47d1](https://github.com/sagemath/sagetrac-mirror/commit/a9271f0de704f3919b58e0b22afa9d38a39c47d1)" to "[b362aa6c4ee2db82dc49ab42d52042cf9a46074a](https://github.com/sagemath/sagetrac-mirror/commit/b362aa6c4ee2db82dc49ab42d52042cf9a46074a)".



---

archive/issue_comments_221741.json:
```json
{
    "body": "**Changing commit** from \"[b362aa6c4ee2db82dc49ab42d52042cf9a46074a](https://github.com/sagemath/sagetrac-mirror/commit/b362aa6c4ee2db82dc49ab42d52042cf9a46074a)\" to \"[7de159aef22abafd93bfccd8557065c7d802031f](https://github.com/sagemath/sagetrac-mirror/commit/7de159aef22abafd93bfccd8557065c7d802031f)\".",
    "created_at": "2014-09-19T21:58:47Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221741",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b362aa6c4ee2db82dc49ab42d52042cf9a46074a](https://github.com/sagemath/sagetrac-mirror/commit/b362aa6c4ee2db82dc49ab42d52042cf9a46074a)" to "[7de159aef22abafd93bfccd8557065c7d802031f](https://github.com/sagemath/sagetrac-mirror/commit/7de159aef22abafd93bfccd8557065c7d802031f)".



---

archive/issue_comments_221742.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7de159aef22abafd93bfccd8557065c7d802031f\">7de159a</a></td><td><code>Fix more random test failures</code></td></tr></table>\n",
    "created_at": "2014-09-19T21:58:47Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221742",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7de159aef22abafd93bfccd8557065c7d802031f">7de159a</a></td><td><code>Fix more random test failures</code></td></tr></table>




---

archive/issue_comments_221743.json:
```json
{
    "body": "<a id='comment:29'></a>\nNow, all doctests pass on my linux mint 64 bit desktop.",
    "created_at": "2014-09-20T07:48:35Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221743",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:29'></a>
Now, all doctests pass on my linux mint 64 bit desktop.



---

archive/issue_comments_221744.json:
```json
{
    "body": "<a id='comment:30'></a>\nAll doctest pass on the buildbot...",
    "created_at": "2014-09-20T22:09:23Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221744",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:30'></a>
All doctest pass on the buildbot...



---

archive/issue_comments_221745.json:
```json
{
    "body": "<a id='comment:31'></a>\nDid you try this on ARM?",
    "created_at": "2014-09-26T09:31:31Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221745",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'></a>
Did you try this on ARM?



---

archive/issue_comments_221746.json:
```json
{
    "body": "<a id='comment:32'></a>\nARM is part of the buildbot now, so yes ;-)",
    "created_at": "2014-09-26T09:37:29Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221746",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'></a>
ARM is part of the buildbot now, so yes ;-)



---

archive/issue_events_150086.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-09-26T09:39:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150086"
}
```



---

archive/issue_events_150087.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-09-26T09:39:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150087"
}
```



---

archive/issue_comments_221747.json:
```json
{
    "body": "<a id='comment:33'></a>\nSince it pass on the build bot and I don;t see any obvious problem with the new code itself I will give it a positive review. I expect ARM to be irrelevant in this context as we are only talking about re-formatting current doctests.\nPlus it will fix broken doctests in sage-on-gentoo (dictionaries displayed in a different order).",
    "created_at": "2014-09-26T09:39:37Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221747",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:33'></a>
Since it pass on the build bot and I don;t see any obvious problem with the new code itself I will give it a positive review. I expect ARM to be irrelevant in this context as we are only talking about re-formatting current doctests.
Plus it will fix broken doctests in sage-on-gentoo (dictionaries displayed in a different order).



---

archive/issue_comments_221748.json:
```json
{
    "body": "**Reviewer:** Fran\u00e7ois Bissey",
    "created_at": "2014-09-26T09:40:31Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221748",
    "user": "https://github.com/kiwifb"
}
```

**Reviewer:** Fran√ßois Bissey



---

archive/issue_comments_221749.json:
```json
{
    "body": "**Changing commit** from \"[7de159aef22abafd93bfccd8557065c7d802031f](https://github.com/sagemath/sagetrac-mirror/commit/7de159aef22abafd93bfccd8557065c7d802031f)\" to \"[f9af4eed6fcf732ed815e83d9e2c8dd9cce08ca4](https://github.com/sagemath/sagetrac-mirror/commit/f9af4eed6fcf732ed815e83d9e2c8dd9cce08ca4)\".",
    "created_at": "2014-09-26T17:41:31Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7de159aef22abafd93bfccd8557065c7d802031f](https://github.com/sagemath/sagetrac-mirror/commit/7de159aef22abafd93bfccd8557065c7d802031f)" to "[f9af4eed6fcf732ed815e83d9e2c8dd9cce08ca4](https://github.com/sagemath/sagetrac-mirror/commit/f9af4eed6fcf732ed815e83d9e2c8dd9cce08ca4)".



---

archive/issue_events_150088.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/git",
    "created_at": "2014-09-26T17:41:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150088"
}
```



---

archive/issue_events_150089.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/git",
    "created_at": "2014-09-26T17:41:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150089"
}
```



---

archive/issue_comments_221750.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a25e28644286e665c2cbfea5fec1ffc50e704101\">a25e286</a></td><td><code>trac #17013: new class WordDatatype_char</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/398b33c0a6f6a96f5c301e1867edb47158703776\">398b33c</a></td><td><code>trac #17013: added is_square in WordDatatype_char</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a563343267f1690d74275ad3835cdebef8512a19\">a563343</a></td><td><code>trac #17013: doctests improvements + bug fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c00964da4655d7580277c3d4aba1e0a51b06b78e\">c00964d</a></td><td><code>trac #17013: fix Python C API declaration</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9af4eed6fcf732ed815e83d9e2c8dd9cce08ca4\">f9af4ee</a></td><td><code>Merge #17013 to resolve conflict</code></td></tr></table>\n",
    "created_at": "2014-09-26T17:41:31Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221750",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a25e28644286e665c2cbfea5fec1ffc50e704101">a25e286</a></td><td><code>trac #17013: new class WordDatatype_char</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/398b33c0a6f6a96f5c301e1867edb47158703776">398b33c</a></td><td><code>trac #17013: added is_square in WordDatatype_char</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a563343267f1690d74275ad3835cdebef8512a19">a563343</a></td><td><code>trac #17013: doctests improvements + bug fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c00964da4655d7580277c3d4aba1e0a51b06b78e">c00964d</a></td><td><code>trac #17013: fix Python C API declaration</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9af4eed6fcf732ed815e83d9e2c8dd9cce08ca4">f9af4ee</a></td><td><code>Merge #17013 to resolve conflict</code></td></tr></table>




---

archive/issue_comments_221751.json:
```json
{
    "body": "<a id='comment:36'></a>\nsurprisingly only one merge conflict ;-)",
    "created_at": "2014-09-26T17:45:27Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221751",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:36'></a>
surprisingly only one merge conflict ;-)



---

archive/issue_events_150090.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-26T17:45:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150090"
}
```



---

archive/issue_events_150091.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-26T17:45:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150091"
}
```



---

archive/issue_comments_221752.json:
```json
{
    "body": "<a id='comment:37'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3070715a7f656326260a9ef6635884e69fa0136f\">3070715</a></td><td><code>fix another doctest</code></td></tr></table>\n",
    "created_at": "2014-09-27T00:05:47Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221752",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3070715a7f656326260a9ef6635884e69fa0136f">3070715</a></td><td><code>fix another doctest</code></td></tr></table>




---

archive/issue_comments_221753.json:
```json
{
    "body": "**Changing commit** from \"[f9af4eed6fcf732ed815e83d9e2c8dd9cce08ca4](https://github.com/sagemath/sagetrac-mirror/commit/f9af4eed6fcf732ed815e83d9e2c8dd9cce08ca4)\" to \"[3070715a7f656326260a9ef6635884e69fa0136f](https://github.com/sagemath/sagetrac-mirror/commit/3070715a7f656326260a9ef6635884e69fa0136f)\".",
    "created_at": "2014-09-27T00:05:47Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221753",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f9af4eed6fcf732ed815e83d9e2c8dd9cce08ca4](https://github.com/sagemath/sagetrac-mirror/commit/f9af4eed6fcf732ed815e83d9e2c8dd9cce08ca4)" to "[3070715a7f656326260a9ef6635884e69fa0136f](https://github.com/sagemath/sagetrac-mirror/commit/3070715a7f656326260a9ef6635884e69fa0136f)".



---

archive/issue_events_150092.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/git",
    "created_at": "2014-09-27T00:05:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150092"
}
```



---

archive/issue_events_150093.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/git",
    "created_at": "2014-09-27T00:05:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150093"
}
```



---

archive/issue_comments_221754.json:
```json
{
    "body": "<a id='comment:38'></a>\nAt this stage I think you have done all the work that should be done in one ticket. I suggest we have a follow up ticket for any new discoveries.",
    "created_at": "2014-09-27T00:57:37Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221754",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:38'></a>
At this stage I think you have done all the work that should be done in one ticket. I suggest we have a follow up ticket for any new discoveries.



---

archive/issue_events_150094.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-27T07:35:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150094"
}
```



---

archive/issue_events_150095.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-27T07:35:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150095"
}
```



---

archive/issue_events_150096.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-27T12:56:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150096"
}
```



---

archive/issue_events_150097.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0a248fcdf3d736e83b5daf08709029fec31ebc3e",
    "created_at": "2014-09-27T12:56:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16746#event-150097"
}
```



---

archive/issue_comments_221755.json:
```json
{
    "body": "**Changing branch** from \"[u/vbraun/sort_dicts_in_doctests](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sort_dicts_in_doctests)\" to \"[3070715a7f656326260a9ef6635884e69fa0136f](https://github.com/sagemath/sagetrac-mirror/commit/3070715a7f656326260a9ef6635884e69fa0136f)\".",
    "created_at": "2014-09-27T12:56:54Z",
    "issue": "https://github.com/sagemath/sage/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16746#issuecomment-221755",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/vbraun/sort_dicts_in_doctests](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sort_dicts_in_doctests)" to "[3070715a7f656326260a9ef6635884e69fa0136f](https://github.com/sagemath/sagetrac-mirror/commit/3070715a7f656326260a9ef6635884e69fa0136f)".
