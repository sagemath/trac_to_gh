# Issue 16431: sync-build is broken

archive/issues_016194.json:
```json
{
    "assignees": [],
    "body": "`sage -sync-build` doesn't understand wildcards, so it deletes a bunch of correctly-installed `sage.symbolic` modules.\n\nReally, the whole concept is broken. We should at the very least record what is being installed instead of trying to guess it in sync-build. Even better, make it part of the build process.\n\nThere is quite a lot of setup code, none of which is doctested. And, therefore, broken. As this ticket shows. I've started to move setup code into a `sage_setup` package that is installed with Sage and can be doctested in the usual manner.\n\nAlso:\n* Having `SAGE_LIB` point to `SAGE_SRC` is actually never useful, removed.\n* re-enable out-of-tree cythonize\n\nCC:  @nexttime\n\nBranch/Commit: **[e9ad958](https://github.com/sagemath/sagetrac-mirror/commit/e9ad95891f2a2292f7b67bd1f3bc1fa2ceb10d3b)**\n\nReviewer: **R. Andrew Ohana**\n\nAuthor: **Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16431_\n\n",
    "closed_at": "2014-06-08T12:09:02Z",
    "created_at": "2014-06-03T11:09:57Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "sync-build is broken",
    "type": "issue",
    "updated_at": "2014-06-08T12:09:02Z",
    "url": "https://github.com/sagemath/sage/issues/16431",
    "user": "https://github.com/vbraun"
}
```
`sage -sync-build` doesn't understand wildcards, so it deletes a bunch of correctly-installed `sage.symbolic` modules.

Really, the whole concept is broken. We should at the very least record what is being installed instead of trying to guess it in sync-build. Even better, make it part of the build process.

There is quite a lot of setup code, none of which is doctested. And, therefore, broken. As this ticket shows. I've started to move setup code into a `sage_setup` package that is installed with Sage and can be doctested in the usual manner.

Also:
* Having `SAGE_LIB` point to `SAGE_SRC` is actually never useful, removed.
* re-enable out-of-tree cythonize

CC:  @nexttime

Branch/Commit: **[e9ad958](https://github.com/sagemath/sagetrac-mirror/commit/e9ad95891f2a2292f7b67bd1f3bc1fa2ceb10d3b)**

Reviewer: **R. Andrew Ohana**

Author: **Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/16431_





---

archive/issue_events_209308.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-03T11:09:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16431#event-209308"
}
```



---

archive/issue_events_209309.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-03T11:09:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16431#event-209309"
}
```



---

archive/issue_events_209310.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-03T12:49:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "title_is": "sync-build is broken",
    "title_was": "Run sync-build before docbuild",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16431#event-209310"
}
```



---

archive/issue_events_209311.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-03T12:49:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16431#event-209311"
}
```



---

archive/issue_comments_214703.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n+`sage -sync-build` doesn't understand wildcards, so it deletes a bunch of correctly-installed `sage.symbolic` modules.\n \n+Really, the whole concept is broken. We should at the very least record what is being installed instead of trying to guess it in sync-build. Even better, make it part of the build process (assuming it doesn't take much time).\n+\n+While we are at it, we should probably re-enable out of tree cythonization.\n``````\n",
    "created_at": "2014-06-03T12:49:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214703",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
+`sage -sync-build` doesn't understand wildcards, so it deletes a bunch of correctly-installed `sage.symbolic` modules.
 
+Really, the whole concept is broken. We should at the very least record what is being installed instead of trying to guess it in sync-build. Even better, make it part of the build process (assuming it doesn't take much time).
+
+While we are at it, we should probably re-enable out of tree cythonization.
``````




---

archive/issue_comments_214704.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2014-06-03T12:49:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214704",
    "user": "https://github.com/vbraun"
}
```

Author: **Volker Braun**



---

archive/issue_events_209312.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-03T12:49:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16431#event-209312"
}
```



---

archive/issue_comments_214705.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,8 @@\n \n Really, the whole concept is broken. We should at the very least record what is being installed instead of trying to guess it in sync-build. Even better, make it part of the build process (assuming it doesn't take much time).\n \n-While we are at it, we should probably re-enable out of tree cythonization.\n+There is quite a lot of setup code, none of which is doctested. And, therefore, broken. As this ticket shows. I've started to move setup code into a `sage_setup` package that is installed with Sage and can be doctested in the usual manner.\n+\n+Also:\n+* Having `SAGE_LIB` point to `SAGE_SRC` is actually never useful, removed.\n+\n``````\n",
    "created_at": "2014-06-04T10:38:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214705",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,8 @@
 
 Really, the whole concept is broken. We should at the very least record what is being installed instead of trying to guess it in sync-build. Even better, make it part of the build process (assuming it doesn't take much time).
 
-While we are at it, we should probably re-enable out of tree cythonization.
+There is quite a lot of setup code, none of which is doctested. And, therefore, broken. As this ticket shows. I've started to move setup code into a `sage_setup` package that is installed with Sage and can be doctested in the usual manner.
+
+Also:
+* Having `SAGE_LIB` point to `SAGE_SRC` is actually never useful, removed.
+
``````




---

archive/issue_comments_214706.json:
```json
{
    "body": "Branch: **[u/vbraun/remove_sync_build](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/remove_sync_build)**",
    "created_at": "2014-06-04T10:56:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214706",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/remove_sync_build](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/remove_sync_build)**



---

archive/issue_comments_214707.json:
```json
{
    "body": "Commit: **[da33134](https://github.com/sagemath/sagetrac-mirror/commit/da331348d6fc29fab2c0c8840c3248249a1a58a6)**",
    "created_at": "2014-06-04T14:04:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214707",
    "user": "https://github.com/vbraun"
}
```

Commit: **[da33134](https://github.com/sagemath/sagetrac-mirror/commit/da331348d6fc29fab2c0c8840c3248249a1a58a6)**



---

archive/issue_comments_214708.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1078bb87e84a51702a059855d0f519bf1573bab\">d1078bb</a></td><td><code>integrate sync-build into setup.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3679e54a0fede3fdae0176e748ec3dd3d06363a\">b3679e5</a></td><td><code>Having SAGE_LIB point to SAGE_SRC is actually never useful, removed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6330c183252e3218f300436fd9dcfc3cde88f5a\">d6330c1</a></td><td><code>automatically doctest sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af65bdd635b703b41f9a8819a1fbaea5143caa91\">af65bdd</a></td><td><code>make use of the new SAGE_LIB</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da331348d6fc29fab2c0c8840c3248249a1a58a6\">da33134</a></td><td><code>remove annoying warning from sage -ba</code></td></tr></table>\n",
    "created_at": "2014-06-04T14:04:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214708",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'>Comment 4:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1078bb87e84a51702a059855d0f519bf1573bab">d1078bb</a></td><td><code>integrate sync-build into setup.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3679e54a0fede3fdae0176e748ec3dd3d06363a">b3679e5</a></td><td><code>Having SAGE_LIB point to SAGE_SRC is actually never useful, removed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6330c183252e3218f300436fd9dcfc3cde88f5a">d6330c1</a></td><td><code>automatically doctest sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af65bdd635b703b41f9a8819a1fbaea5143caa91">af65bdd</a></td><td><code>make use of the new SAGE_LIB</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da331348d6fc29fab2c0c8840c3248249a1a58a6">da33134</a></td><td><code>remove annoying warning from sage -ba</code></td></tr></table>




---

archive/issue_events_209313.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-04T14:04:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16431#event-209313"
}
```



---

archive/issue_comments_214709.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n `sage -sync-build` doesn't understand wildcards, so it deletes a bunch of correctly-installed `sage.symbolic` modules.\n \n-Really, the whole concept is broken. We should at the very least record what is being installed instead of trying to guess it in sync-build. Even better, make it part of the build process (assuming it doesn't take much time).\n+Really, the whole concept is broken. We should at the very least record what is being installed instead of trying to guess it in sync-build. Even better, make it part of the build process.\n \n There is quite a lot of setup code, none of which is doctested. And, therefore, broken. As this ticket shows. I've started to move setup code into a `sage_setup` package that is installed with Sage and can be doctested in the usual manner.\n \n``````\n",
    "created_at": "2014-06-04T14:21:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214709",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 `sage -sync-build` doesn't understand wildcards, so it deletes a bunch of correctly-installed `sage.symbolic` modules.
 
-Really, the whole concept is broken. We should at the very least record what is being installed instead of trying to guess it in sync-build. Even better, make it part of the build process (assuming it doesn't take much time).
+Really, the whole concept is broken. We should at the very least record what is being installed instead of trying to guess it in sync-build. Even better, make it part of the build process.
 
 There is quite a lot of setup code, none of which is doctested. And, therefore, broken. As this ticket shows. I've started to move setup code into a `sage_setup` package that is installed with Sage and can be doctested in the usual manner.
 
``````




---

archive/issue_comments_214710.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nI'm not up to review this, but I do have two questions:\n1. Why not remove `-ba-force` if it is exactly the same as `-ba`? At least its description should be updated.\n2. In `find_python_sources` and `installed_files_by_module` the use `os.chdir` seems uneeded. Can we just use a different argument to `os.walk`?",
    "created_at": "2014-06-04T14:42:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214710",
    "user": "https://github.com/mathzeta"
}
```

<a id='comment:6'>Comment 6:</a>
I'm not up to review this, but I do have two questions:
1. Why not remove `-ba-force` if it is exactly the same as `-ba`? At least its description should be updated.
2. In `find_python_sources` and `installed_files_by_module` the use `os.chdir` seems uneeded. Can we just use a different argument to `os.walk`?



---

archive/issue_comments_214711.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\n1. removal needs deprecation etc. Really it doesn't hurt to keep that alias around.\n2. its faster to construct the right relative path from the get-go than having to strip off a leading component.",
    "created_at": "2014-06-04T15:04:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214711",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'>Comment 7:</a>
1. removal needs deprecation etc. Really it doesn't hurt to keep that alias around.
2. its faster to construct the right relative path from the get-go than having to strip off a leading component.



---

archive/issue_comments_214712.json:
```json
{
    "body": "Changed commit from **[da33134](https://github.com/sagemath/sagetrac-mirror/commit/da331348d6fc29fab2c0c8840c3248249a1a58a6)** to **[7b26839](https://github.com/sagemath/sagetrac-mirror/commit/7b26839e52667b04cc06dabbad61946dd9930f02)**",
    "created_at": "2014-06-04T15:47:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214712",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[da33134](https://github.com/sagemath/sagetrac-mirror/commit/da331348d6fc29fab2c0c8840c3248249a1a58a6)** to **[7b26839](https://github.com/sagemath/sagetrac-mirror/commit/7b26839e52667b04cc06dabbad61946dd9930f02)**



---

archive/issue_comments_214713.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b26839e52667b04cc06dabbad61946dd9930f02\">7b26839</a></td><td><code>re-enable out-of-tree cythonize</code></td></tr></table>\n",
    "created_at": "2014-06-04T15:47:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214713",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b26839e52667b04cc06dabbad61946dd9930f02">7b26839</a></td><td><code>re-enable out-of-tree cythonize</code></td></tr></table>




---

archive/issue_comments_214714.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,4 +6,4 @@\n \n Also:\n * Having `SAGE_LIB` point to `SAGE_SRC` is actually never useful, removed.\n-\n+* re-enable out-of-tree cythonize\n``````\n",
    "created_at": "2014-06-04T15:48:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214714",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,4 +6,4 @@
 
 Also:
 * Having `SAGE_LIB` point to `SAGE_SRC` is actually never useful, removed.
-
+* re-enable out-of-tree cythonize
``````




---

archive/issue_comments_214715.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nI think you can remove the `sdist` variable entirely from `setup.py`, i.e., also\n\n```python\nif len(sys.argv) > 1 and sys.argv[1] == \"sdist\":\n    sdist = True\nelse:\n    sdist = False\n```",
    "created_at": "2014-06-04T16:42:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214715",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:11'>Comment 11:</a>
I think you can remove the `sdist` variable entirely from `setup.py`, i.e., also

```python
if len(sys.argv) > 1 and sys.argv[1] == "sdist":
    sdist = True
else:
    sdist = False
```



---

archive/issue_comments_214716.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nYes, the setup.py should be broken up and doctested. And we need to decide whether we want to support sdist or not (in which case the Manifest.in can probably go, too). But thats for another ticket.",
    "created_at": "2014-06-04T17:56:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214716",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'>Comment 12:</a>
Yes, the setup.py should be broken up and doctested. And we need to decide whether we want to support sdist or not (in which case the Manifest.in can probably go, too). But thats for another ticket.



---

archive/issue_comments_214717.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [@vbraun](#comment%3A12):\n> And we need to decide whether we want to support sdist or not (in which case the Manifest.in can probably go, too).\n\nIs that (still) used anywhere in Sage?  (I mean calling *Sage's* `setup.py` with `sdist`.)",
    "created_at": "2014-06-04T18:28:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214717",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [@vbraun](#comment%3A12):
> And we need to decide whether we want to support sdist or not (in which case the Manifest.in can probably go, too).

Is that (still) used anywhere in Sage?  (I mean calling *Sage's* `setup.py` with `sdist`.)



---

archive/issue_comments_214718.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nOff-topic, but as far as I know we don't currently use distutils `sdist` anywhere.",
    "created_at": "2014-06-04T18:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214718",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'>Comment 14:</a>
Off-topic, but as far as I know we don't currently use distutils `sdist` anywhere.



---

archive/issue_comments_214719.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nJust for the record:  This doesn't fix my docbuild-broken upgraded Sage version (but I didn't really expect it to either; I think it's rather some Sphinx-brokenness w.r.t. Python's multiprocessing).",
    "created_at": "2014-06-04T18:46:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214719",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:15'>Comment 15:</a>
Just for the record:  This doesn't fix my docbuild-broken upgraded Sage version (but I didn't really expect it to either; I think it's rather some Sphinx-brokenness w.r.t. Python's multiprocessing).



---

archive/issue_comments_214720.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nNo, thats fixed in #16440",
    "created_at": "2014-06-04T19:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214720",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'>Comment 16:</a>
No, thats fixed in #16440



---

archive/issue_comments_214721.json:
```json
{
    "body": "Changed branch from **[u/vbraun/remove_sync_build](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/remove_sync_build)** to **[u/ohanar/remove_sync_build](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/remove_sync_build)**",
    "created_at": "2014-06-06T04:36:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214721",
    "user": "https://github.com/ohanar"
}
```

Changed branch from **[u/vbraun/remove_sync_build](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/remove_sync_build)** to **[u/ohanar/remove_sync_build](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/remove_sync_build)**



---

archive/issue_comments_214722.json:
```json
{
    "body": "Changed commit from **[7b26839](https://github.com/sagemath/sagetrac-mirror/commit/7b26839e52667b04cc06dabbad61946dd9930f02)** to **[e9ad958](https://github.com/sagemath/sagetrac-mirror/commit/e9ad95891f2a2292f7b67bd1f3bc1fa2ceb10d3b)**",
    "created_at": "2014-06-06T04:36:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214722",
    "user": "https://github.com/ohanar"
}
```

Changed commit from **[7b26839](https://github.com/sagemath/sagetrac-mirror/commit/7b26839e52667b04cc06dabbad61946dd9930f02)** to **[e9ad958](https://github.com/sagemath/sagetrac-mirror/commit/e9ad95891f2a2292f7b67bd1f3bc1fa2ceb10d3b)**



---

archive/issue_comments_214723.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nMostly looks good, I haven't checked cython modules, but it doesn't seem like it really handles them at the moment (which would agree with some TODO I think I read in the documentation of some function). Are you planning on adding support for them at the moment, or on a future ticket?\n\nI added a few minor reviewer changes.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9ad95891f2a2292f7b67bd1f3bc1fa2ceb10d3b\">e9ad958</a></td><td><code>small changes to initial sage_setup package</code></td></tr></table>\n",
    "created_at": "2014-06-06T04:36:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214723",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:17'>Comment 17:</a>
Mostly looks good, I haven't checked cython modules, but it doesn't seem like it really handles them at the moment (which would agree with some TODO I think I read in the documentation of some function). Are you planning on adding support for them at the moment, or on a future ticket?

I added a few minor reviewer changes.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9ad95891f2a2292f7b67bd1f3bc1fa2ceb10d3b">e9ad958</a></td><td><code>small changes to initial sage_setup package</code></td></tr></table>




---

archive/issue_comments_214724.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nJust to clarify: Building / cleaning of Cython modules works. Only the doctest that no cython files are being cleaned after a successful build needs work. In particular, the `module_list.py` would need to be importable **after** building. Could be done with a sys.path hack, but I'd rather do it properly later on.",
    "created_at": "2014-06-06T10:43:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214724",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'>Comment 18:</a>
Just to clarify: Building / cleaning of Cython modules works. Only the doctest that no cython files are being cleaned after a successful build needs work. In particular, the `module_list.py` would need to be importable **after** building. Could be done with a sys.path hack, but I'd rather do it properly later on.



---

archive/issue_comments_214725.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nPS: any further functionality should go to a future ticket.",
    "created_at": "2014-06-06T10:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214725",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:19'>Comment 19:</a>
PS: any further functionality should go to a future ticket.



---

archive/issue_comments_214726.json:
```json
{
    "body": "Reviewer: **R. Andrew Ohana**",
    "created_at": "2014-06-07T06:54:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214726",
    "user": "https://github.com/ohanar"
}
```

Reviewer: **R. Andrew Ohana**



---

archive/issue_comments_214727.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nAh, yes. Looking at it again, seems fine. Everything works as expected.",
    "created_at": "2014-06-07T06:54:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214727",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:20'>Comment 20:</a>
Ah, yes. Looking at it again, seems fine. Everything works as expected.



---

archive/issue_events_209314.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2014-06-07T06:54:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16431#event-209314"
}
```



---

archive/issue_events_209315.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2014-06-07T06:54:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16431#event-209315"
}
```



---

archive/issue_events_209316.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-08T12:09:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16431#event-209316"
}
```



---

archive/issue_events_209317.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1dd39399abea633ff2ee44c82bb67d5b8f9931ad",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-06-08T12:09:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16431#event-209317"
}
```



---

archive/issue_comments_214728.json:
```json
{
    "body": "Changed branch from **[u/ohanar/remove_sync_build](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/remove_sync_build)** to **[e9ad958](https://github.com/sagemath/sagetrac-mirror/commit/e9ad95891f2a2292f7b67bd1f3bc1fa2ceb10d3b)**",
    "created_at": "2014-06-08T12:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16431#issuecomment-214728",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/ohanar/remove_sync_build](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/remove_sync_build)** to **[e9ad958](https://github.com/sagemath/sagetrac-mirror/commit/e9ad95891f2a2292f7b67bd1f3bc1fa2ceb10d3b)**
