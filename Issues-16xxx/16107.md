# Issue 16107: Meta ticket: unified sequence/lazy list objects

archive/issues_015870.json:
```json
{
    "body": "Several (maybe specialized) implementations of lazy lists exist. This meta ticket can be considered closed when\n\n* #15852: uncouple sequence from categories (was earlier: the `class Sequence` has a parent from the category `Sets` implemented)\n* `class Sequence`: maybe renaming to `FiniteSequence`\n* #16137: extend lazy_list: lazy_list from various input data\n* #19895: extend lazy_list: various improvements and generalizations, new sublists\n* #19896: implementation of `class InfiniteSequence`\n* let both (`class Sequence`, `class InfiniteSequence`) use `sage.misc.lazy_list`\n* #18565: catalog of sequences\n* #15673: refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list`\n* if obsolete close #6800\n\n\nDepends on #15852\n\nDepends on #15673\n\nDepends on #16137\n\nDepends on #18565\n\nDepends on #19895\n\nDepends on #19896\n\n**CC:**  @MatthieuDien @videlec @nthiery @mantepse\n\n**Keywords:** days57, LazyPowerSeries\n\nIssue created by migration from https://trac.sagemath.org/ticket/16107\n\n",
    "created_at": "2014-04-09T07:07:25Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "title": "Meta ticket: unified sequence/lazy list objects",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/16107",
    "user": "https://github.com/rwst"
}
```
Several (maybe specialized) implementations of lazy lists exist. This meta ticket can be considered closed when

* #15852: uncouple sequence from categories (was earlier: the `class Sequence` has a parent from the category `Sets` implemented)
* `class Sequence`: maybe renaming to `FiniteSequence`
* #16137: extend lazy_list: lazy_list from various input data
* #19895: extend lazy_list: various improvements and generalizations, new sublists
* #19896: implementation of `class InfiniteSequence`
* let both (`class Sequence`, `class InfiniteSequence`) use `sage.misc.lazy_list`
* #18565: catalog of sequences
* #15673: refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list`
* if obsolete close #6800


Depends on #15852

Depends on #15673

Depends on #16137

Depends on #18565

Depends on #19895

Depends on #19896

**CC:**  @MatthieuDien @videlec @nthiery @mantepse

**Keywords:** days57, LazyPowerSeries

Issue created by migration from https://trac.sagemath.org/ticket/16107





---

archive/issue_comments_207821.json:
```json
{
    "body": "**Description changed:**\n``````diff\n\n``````\n",
    "created_at": "2014-04-09T10:01:56Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207821",
    "user": "https://github.com/MatthieuDien"
}
```

**Description changed:**
``````diff

``````




---

archive/issue_comments_207822.json:
```json
{
    "body": "<a id='comment:1'></a>\nFot the last point : I did a benchmark between it and the current implementation and [ticket:6800 #6800] was really slow (and have some bugs).\n\nFor now, I have to do a benchmark between [ticket:15673 #15673] and another implementation, so I willl look for look for other points",
    "created_at": "2014-04-09T10:01:56Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207822",
    "user": "https://github.com/MatthieuDien"
}
```

<a id='comment:1'></a>
Fot the last point : I did a benchmark between it and the current implementation and [ticket:6800 #6800] was really slow (and have some bugs).

For now, I have to do a benchmark between [ticket:15673 #15673] and another implementation, so I willl look for look for other points



---

archive/issue_comments_207823.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"days57\".",
    "created_at": "2014-04-09T10:02:21Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207823",
    "user": "https://github.com/MatthieuDien"
}
```

**Changing keywords** from "" to "days57".



---

archive/issue_comments_207824.json:
```json
{
    "body": "<a id='comment:5'></a>\nAfter some tests, `sage.misc.lazy_list` seems to be faster than `sage.structure.sequence` and `sage.combinat.species.*stream` because it it cythonized.\n\nWe will try to do an implementation of `sage.combinat.species.series_stream` over `sage.misc.lazy_list`",
    "created_at": "2014-04-09T22:18:30Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207824",
    "user": "https://github.com/MatthieuDien"
}
```

<a id='comment:5'></a>
After some tests, `sage.misc.lazy_list` seems to be faster than `sage.structure.sequence` and `sage.combinat.species.*stream` because it it cythonized.

We will try to do an implementation of `sage.combinat.species.series_stream` over `sage.misc.lazy_list`



---

archive/issue_comments_207825.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,8 +2,7 @@\n \n * the `class Sequence` has a parent from the category `Sets` implemented, maybe with renaming to `FiniteSequence` (#15852)\n * implementation of `class InfiniteSequence`\n-* let both use `sage.misc.lazy_list` (as default implementation? do benchmark)\n-* refactor code in `combinat.species.*stream` to use `Sequence`\n-* how does the hypothetical `combinat.species.series.LazyPowerSeries` (#6800) fit in?\n+* let both use `sage.misc.lazy_list`\n+* refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list` (#15673)\n+* if obsolete close #6800\n \n-Major improvements in `combinat.species.*stream` are planned in #15673.\n``````\n",
    "created_at": "2014-04-13T08:33:31Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207825",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,8 +2,7 @@
 
 * the `class Sequence` has a parent from the category `Sets` implemented, maybe with renaming to `FiniteSequence` (#15852)
 * implementation of `class InfiniteSequence`
-* let both use `sage.misc.lazy_list` (as default implementation? do benchmark)
-* refactor code in `combinat.species.*stream` to use `Sequence`
-* how does the hypothetical `combinat.species.series.LazyPowerSeries` (#6800) fit in?
+* let both use `sage.misc.lazy_list`
+* refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list` (#15673)
+* if obsolete close #6800
 
-Major improvements in `combinat.species.*stream` are planned in #15673.
``````




---

archive/issue_comments_207826.json:
```json
{
    "body": "**Changing dependencies** from \"#15852, #15673\" to \"#15852, #15673, #16107\".",
    "created_at": "2014-04-13T08:33:31Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207826",
    "user": "https://github.com/rwst"
}
```

**Changing dependencies** from "#15852, #15673" to "#15852, #15673, #16107".



---

archive/issue_events_143492.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16107#event-143492"
}
```



---

archive/issue_events_143493.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16107#event-143493"
}
```



---

archive/issue_comments_207827.json:
```json
{
    "body": "**Changing dependencies** from \"#15852, #15673, #16107\" to \"#15852, #15673, #16137\".",
    "created_at": "2014-06-10T11:59:58Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207827",
    "user": "https://github.com/mantepse"
}
```

**Changing dependencies** from "#15852, #15673, #16107" to "#15852, #15673, #16137".



---

archive/issue_comments_207828.json:
```json
{
    "body": "<a id='comment:8'></a>\nI think you meant to add #16137, since #16107 is this ticket.",
    "created_at": "2014-06-10T11:59:58Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207828",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:8'></a>
I think you meant to add #16137, since #16107 is this ticket.



---

archive/issue_events_143494.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16107#event-143494"
}
```



---

archive/issue_events_143495.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16107#event-143495"
}
```



---

archive/issue_comments_207829.json:
```json
{
    "body": "**Changing keywords** from \"days57\" to \"days57, LazyPowerSeries\".",
    "created_at": "2014-12-16T10:02:07Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207829",
    "user": "https://github.com/mantepse"
}
```

**Changing keywords** from "days57" to "days57, LazyPowerSeries".



---

archive/issue_comments_207830.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Several (maybe specialized) implementations of lazy lists exist. This meta ticket can be considered closed when\n \n-* the `class Sequence` has a parent from the category `Sets` implemented, maybe with renaming to `FiniteSequence` (#15852)\n+* the `class Sequence` has a parent from the category `Sets` implemented (#15852 uncouple sequence from categories), maybe with renaming to `FiniteSequence`\n * implementation of `class InfiniteSequence`\n * let both use `sage.misc.lazy_list`\n * refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list` (#15673)\n``````\n",
    "created_at": "2016-01-06T18:02:37Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207830",
    "user": "https://github.com/dkrenn"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Several (maybe specialized) implementations of lazy lists exist. This meta ticket can be considered closed when
 
-* the `class Sequence` has a parent from the category `Sets` implemented, maybe with renaming to `FiniteSequence` (#15852)
+* the `class Sequence` has a parent from the category `Sets` implemented (#15852 uncouple sequence from categories), maybe with renaming to `FiniteSequence`
 * implementation of `class InfiniteSequence`
 * let both use `sage.misc.lazy_list`
 * refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list` (#15673)
``````




---

archive/issue_events_143496.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-01-11T18:48:31Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "rename": {
        "from": "unified sequence/lazy list objects in category tree",
        "to": "unified sequence/lazy list objects"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16107#event-143496"
}
```



---

archive/issue_comments_207831.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,10 @@\n Several (maybe specialized) implementations of lazy lists exist. This meta ticket can be considered closed when\n \n-* the `class Sequence` has a parent from the category `Sets` implemented (#15852 uncouple sequence from categories), maybe with renaming to `FiniteSequence`\n+* #15852: uncouple sequence from categories (was earlier: the `class Sequence` has a parent from the category `Sets` implemented)\n+* `class Sequence`: maybe renaming to `FiniteSequence`\n+* #16137: extend lazy_list: lazy_list from various input data\n * implementation of `class InfiniteSequence`\n-* let both use `sage.misc.lazy_list`\n-* refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list` (#15673)\n+* let both (`class Sequence`, `class InfiniteSequence`) use `sage.misc.lazy_list`\n+* #15673: refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list`\n * if obsolete close #6800\n \n``````\n",
    "created_at": "2016-01-11T18:48:31Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207831",
    "user": "https://github.com/dkrenn"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,10 @@
 Several (maybe specialized) implementations of lazy lists exist. This meta ticket can be considered closed when
 
-* the `class Sequence` has a parent from the category `Sets` implemented (#15852 uncouple sequence from categories), maybe with renaming to `FiniteSequence`
+* #15852: uncouple sequence from categories (was earlier: the `class Sequence` has a parent from the category `Sets` implemented)
+* `class Sequence`: maybe renaming to `FiniteSequence`
+* #16137: extend lazy_list: lazy_list from various input data
 * implementation of `class InfiniteSequence`
-* let both use `sage.misc.lazy_list`
-* refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list` (#15673)
+* let both (`class Sequence`, `class InfiniteSequence`) use `sage.misc.lazy_list`
+* #15673: refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list`
 * if obsolete close #6800
 
``````




---

archive/issue_comments_207832.json:
```json
{
    "body": "<a id='comment:14'></a>\nI've updated the description. Please add here what else should be done; maybe something in words? ...or for lazy power series?",
    "created_at": "2016-01-11T18:49:45Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207832",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:14'></a>
I've updated the description. Please add here what else should be done; maybe something in words? ...or for lazy power series?



---

archive/issue_events_143497.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-01-11T18:50:14Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "rename": {
        "from": "unified sequence/lazy list objects",
        "to": "Meta ticket: unified sequence/lazy list objects"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16107#event-143497"
}
```



---

archive/issue_comments_207833.json:
```json
{
    "body": "<a id='comment:16'></a>\nI am thinking about implementing InfiniteSequences and have the following design issue with the two possibilites (it is not restricted to the infinite sequences, but is similar for other classes like words, stream in the species, etc., as well):\n\n1. make `lazy_list_generic` a base class of `InfiniteSequence`\n\n2. make an attribute `values` (or similar) in the class `InfiniteSequence` which will be an instance of `lazy_list_generic`\n\nBoth have advantages and disadvantages:\n\n- `Sequence` uses list as a base class, thus `InfiniteSequence` should use `lazy_list`\n- With 1. you can only use `lazy_list_generic`, but no derived class like `lazy_list_iterator` directly; you have to create a `lazy_list_generic` which tracks the other (as its `master` attribute; is already implemented since used with slices)\n- With 2. you need to write methods for all the things you like from the lazy lists (like building slices etc.). And even then, it is not a lazy list, but just behaves like one.\n\nWhat do you think?",
    "created_at": "2016-01-11T19:03:08Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207833",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:16'></a>
I am thinking about implementing InfiniteSequences and have the following design issue with the two possibilites (it is not restricted to the infinite sequences, but is similar for other classes like words, stream in the species, etc., as well):

1. make `lazy_list_generic` a base class of `InfiniteSequence`

2. make an attribute `values` (or similar) in the class `InfiniteSequence` which will be an instance of `lazy_list_generic`

Both have advantages and disadvantages:

- `Sequence` uses list as a base class, thus `InfiniteSequence` should use `lazy_list`
- With 1. you can only use `lazy_list_generic`, but no derived class like `lazy_list_iterator` directly; you have to create a `lazy_list_generic` which tracks the other (as its `master` attribute; is already implemented since used with slices)
- With 2. you need to write methods for all the things you like from the lazy lists (like building slices etc.). And even then, it is not a lazy list, but just behaves like one.

What do you think?



---

archive/issue_comments_207834.json:
```json
{
    "body": "<a id='comment:17'></a>\nI just realized that `sage.combinat.species.series_stream` actually implements streams of coefficients of lazy power series.  I'll have to experiment there, too,...\n\nShould `InfiniteSequence` be the same?  What is the algebraic structure?",
    "created_at": "2016-01-12T08:06:39Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207834",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:17'></a>
I just realized that `sage.combinat.species.series_stream` actually implements streams of coefficients of lazy power series.  I'll have to experiment there, too,...

Should `InfiniteSequence` be the same?  What is the algebraic structure?



---

archive/issue_comments_207835.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [dkrenn](#comment%3A16):\n> - With 1. you can only use `lazy_list_generic`, but no derived class like `lazy_list_iterator` directly; you have to create a `lazy_list_generic` which tracks the other (as its `master` attribute; is already implemented since used with slices)\n\nCould you explain?  What does it mean that you cannot use a derived class directly?",
    "created_at": "2016-01-12T08:09:51Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207835",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:18'></a>
Replying to [dkrenn](#comment%3A16):
> - With 1. you can only use `lazy_list_generic`, but no derived class like `lazy_list_iterator` directly; you have to create a `lazy_list_generic` which tracks the other (as its `master` attribute; is already implemented since used with slices)

Could you explain?  What does it mean that you cannot use a derived class directly?



---

archive/issue_comments_207836.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [mantepse](#comment%3A18):\n> Replying to [dkrenn](#comment%3A16):\n> > - With 1. you can only use `lazy_list_generic`, but no derived class like `lazy_list_iterator` directly; you have to create a `lazy_list_generic` which tracks the other (as its `master` attribute; is already implemented since used with slices)\n\n> \n> Could you explain?  What does it mean that you cannot use a derived class directly?\n\n```\nclass InfiniteSequence(SageObject, lazy_list_generic)\n```\nBut when using the factory `lazy_list`, I may get a `lazy_list_iterator` or similar, so AFAIK I cannot use it in `InfiniteSequence` directly. I need to do either\n- create `class InfiniteSequenceIterator(InfiniteSequence, lazy_list_iterator)` (and have to do this for all possible `lazy_list_*` or\n- create a `lazy_list_generic` (`InfiniteSequence`), which uses the data of the `lazy_list_iterator`, i.e., tracks `lazy_list_iterator`. Thus having always two `lazy_list_*` instances instantiated.",
    "created_at": "2016-01-12T08:19:31Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207836",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:19'></a>
Replying to [mantepse](#comment%3A18):
> Replying to [dkrenn](#comment%3A16):
> > - With 1. you can only use `lazy_list_generic`, but no derived class like `lazy_list_iterator` directly; you have to create a `lazy_list_generic` which tracks the other (as its `master` attribute; is already implemented since used with slices)

> 
> Could you explain?  What does it mean that you cannot use a derived class directly?

```
class InfiniteSequence(SageObject, lazy_list_generic)
```
But when using the factory `lazy_list`, I may get a `lazy_list_iterator` or similar, so AFAIK I cannot use it in `InfiniteSequence` directly. I need to do either
- create `class InfiniteSequenceIterator(InfiniteSequence, lazy_list_iterator)` (and have to do this for all possible `lazy_list_*` or
- create a `lazy_list_generic` (`InfiniteSequence`), which uses the data of the `lazy_list_iterator`, i.e., tracks `lazy_list_iterator`. Thus having always two `lazy_list_*` instances instantiated.



---

archive/issue_comments_207837.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [mantepse](#comment%3A17):\n> I just realized that `sage.combinat.species.series_stream` actually implements streams of coefficients of lazy power series.  I'll have to experiment there, too,...\n> \n> Should `InfiniteSequence` be the same?  What is the algebraic structure?\n\nNo algebraic strcture (due to the discussion on #15852 about (finite) sequences).",
    "created_at": "2016-01-12T08:20:33Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207837",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:20'></a>
Replying to [mantepse](#comment%3A17):
> I just realized that `sage.combinat.species.series_stream` actually implements streams of coefficients of lazy power series.  I'll have to experiment there, too,...
> 
> Should `InfiniteSequence` be the same?  What is the algebraic structure?

No algebraic strcture (due to the discussion on #15852 about (finite) sequences).



---

archive/issue_comments_207838.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [dkrenn](#comment%3A20):\n> Replying to [mantepse](#comment%3A17):\n\n> > Should `InfiniteSequence` be the same?  What is the algebraic structure?\n\n> \n> No algebraic strcture (due to the discussion on #15852 about (finite) sequences).\n\nAh, but then what is the difference between `lazy_list` and `InfiniteSequence`?",
    "created_at": "2016-01-12T08:26:02Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207838",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:21'></a>
Replying to [dkrenn](#comment%3A20):
> Replying to [mantepse](#comment%3A17):

> > Should `InfiniteSequence` be the same?  What is the algebraic structure?

> 
> No algebraic strcture (due to the discussion on #15852 about (finite) sequences).

Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?



---

archive/issue_comments_207839.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [mantepse](#comment%3A21):\n> Replying to [dkrenn](#comment%3A20):\n> > Replying to [mantepse](#comment%3A17):\n\n> \n> > > Should `InfiniteSequence` be the same?  What is the algebraic structure?\n\n> > \n> > No algebraic strcture (due to the discussion on #15852 about (finite) sequences).\n\n> \n> Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?\n\nSequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.",
    "created_at": "2016-01-12T08:29:49Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207839",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:22'></a>
Replying to [mantepse](#comment%3A21):
> Replying to [dkrenn](#comment%3A20):
> > Replying to [mantepse](#comment%3A17):

> 
> > > Should `InfiniteSequence` be the same?  What is the algebraic structure?

> > 
> > No algebraic strcture (due to the discussion on #15852 about (finite) sequences).

> 
> Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?

Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.



---

archive/issue_comments_207840.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [dkrenn](#comment%3A22):\n> > Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?\n\n> \n> Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.\n\nOK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)",
    "created_at": "2016-01-12T08:33:02Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207840",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:23'></a>
Replying to [dkrenn](#comment%3A22):
> > Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?

> 
> Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.

OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)



---

archive/issue_comments_207841.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [mantepse](#comment%3A23):\n> Replying to [dkrenn](#comment%3A22):\n> > > Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?\n\n> > \n> > Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.\n\n> \n> OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)\n\nSo your question back to you: What characterizes a stream on your sense?\nAnd why not using `lazy_list_generic` as base? (To point this out: It works; has advantages and disadvantages).",
    "created_at": "2016-01-12T08:38:42Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207841",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:24'></a>
Replying to [mantepse](#comment%3A23):
> Replying to [dkrenn](#comment%3A22):
> > > Ah, but then what is the difference between `lazy_list` and `InfiniteSequence`?

> > 
> > Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.

> 
> OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)

So your question back to you: What characterizes a stream on your sense?
And why not using `lazy_list_generic` as base? (To point this out: It works; has advantages and disadvantages).



---

archive/issue_comments_207842.json:
```json
{
    "body": "<a id='comment:25'></a>\n> > > Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.\n\n> > \n> > OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)\n\n> \n> So your question back to you: What characterizes a stream on your sense?\n> And why not using `lazy_list_generic` as base? (To point this out: It works; has advantages and disadvantages).\n\n(I assume you mean stream of coefficients?)\n\nI want both a common universe and an algebraic structure: all coefficients are from a ring - in particular, I absolutely need a (recognisable!) zero.",
    "created_at": "2016-01-12T08:49:51Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207842",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:25'></a>
> > > Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.

> > 
> > OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)

> 
> So your question back to you: What characterizes a stream on your sense?
> And why not using `lazy_list_generic` as base? (To point this out: It works; has advantages and disadvantages).

(I assume you mean stream of coefficients?)

I want both a common universe and an algebraic structure: all coefficients are from a ring - in particular, I absolutely need a (recognisable!) zero.



---

archive/issue_comments_207843.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [mantepse](#comment%3A25):\n> > > > Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.\n\n> > > \n> > > OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)\n\n> > \n> > So your question back to you: What characterizes a stream on your sense?\n> > And why not using `lazy_list_generic` as base? (To point this out: It works; has advantages and disadvantages).\n\n> \n> (I assume you mean stream of coefficients?)\n\nYes.\n\n> I want both a common universe and an algebraic structure: all coefficients are from a ring - in particular, I absolutely need a (recognisable!) zero.\n\nWhat operations are allowed on streams then? (I assume point-wise addition; what do you need multiplication for?)",
    "created_at": "2016-01-12T08:55:53Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207843",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:26'></a>
Replying to [mantepse](#comment%3A25):
> > > > Sequences have a common universe for all the elements of the lazy list and they are (in contrast to lazy list) a `SageObject` and not only Python's `object`.

> > > 
> > > OK, so in particular this answers my question: a stream of coefficients should not inherit from `lazy_list_generic` :-)  (and thanks for pointing out that `lazy_list` is not a class!)

> > 
> > So your question back to you: What characterizes a stream on your sense?
> > And why not using `lazy_list_generic` as base? (To point this out: It works; has advantages and disadvantages).

> 
> (I assume you mean stream of coefficients?)

Yes.

> I want both a common universe and an algebraic structure: all coefficients are from a ring - in particular, I absolutely need a (recognisable!) zero.

What operations are allowed on streams then? (I assume point-wise addition; what do you need multiplication for?)



---

archive/issue_comments_207844.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [mantepse](#comment%3A25):\n> I want both a common universe and an algebraic structure: all coefficients are from a ring - in particular, I absolutely need a (recognisable!) zero.\n\nSo your streams seem to be a more specialized than my sequences. In this way, would it be an option for you that streams have sequences as a base class?\nIs a stream of you a Sage `Element`? (I would guess so).",
    "created_at": "2016-01-12T09:02:54Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207844",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:27'></a>
Replying to [mantepse](#comment%3A25):
> I want both a common universe and an algebraic structure: all coefficients are from a ring - in particular, I absolutely need a (recognisable!) zero.

So your streams seem to be a more specialized than my sequences. In this way, would it be an option for you that streams have sequences as a base class?
Is a stream of you a Sage `Element`? (I would guess so).



---

archive/issue_comments_207845.json:
```json
{
    "body": "<a id='comment:28'></a>\n> What operations are allowed on streams then? (I assume point-wise addition; what do you need multiplication for?)\n\nWell, I really want to keep them relatively general, mainly because I won't gain anything by requiring certain operation.  I do think that it makes sense to require that the coefficients are from a (possibly noncommutative) ring.  I can't think of any applications where we do not have this.  I need the recognisable zero to be able to do the trick with recursive definition.\n\n> So your streams seem to be a more specialized than my sequences. In this way, would it be an option for you that streams have sequences as a base class?\n\nYes, certainly.\n\n> Is a stream of you a Sage `Element`? (I would guess so).\n\nYes.",
    "created_at": "2016-01-12T14:23:04Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207845",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:28'></a>
> What operations are allowed on streams then? (I assume point-wise addition; what do you need multiplication for?)

Well, I really want to keep them relatively general, mainly because I won't gain anything by requiring certain operation.  I do think that it makes sense to require that the coefficients are from a (possibly noncommutative) ring.  I can't think of any applications where we do not have this.  I need the recognisable zero to be able to do the trick with recursive definition.

> So your streams seem to be a more specialized than my sequences. In this way, would it be an option for you that streams have sequences as a base class?

Yes, certainly.

> Is a stream of you a Sage `Element`? (I would guess so).

Yes.



---

archive/issue_comments_207846.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,7 +3,8 @@\n * #15852: uncouple sequence from categories (was earlier: the `class Sequence` has a parent from the category `Sets` implemented)\n * `class Sequence`: maybe renaming to `FiniteSequence`\n * #16137: extend lazy_list: lazy_list from various input data\n-* implementation of `class InfiniteSequence`\n+* #19895: extent lazy_list: various improvements and generalizations, new sublists\n+* #19896: implementation of `class InfiniteSequence`\n * let both (`class Sequence`, `class InfiniteSequence`) use `sage.misc.lazy_list`\n * #15673: refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list`\n * if obsolete close #6800\n``````\n",
    "created_at": "2016-01-15T10:15:00Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207846",
    "user": "https://github.com/dkrenn"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,7 +3,8 @@
 * #15852: uncouple sequence from categories (was earlier: the `class Sequence` has a parent from the category `Sets` implemented)
 * `class Sequence`: maybe renaming to `FiniteSequence`
 * #16137: extend lazy_list: lazy_list from various input data
-* implementation of `class InfiniteSequence`
+* #19895: extent lazy_list: various improvements and generalizations, new sublists
+* #19896: implementation of `class InfiniteSequence`
 * let both (`class Sequence`, `class InfiniteSequence`) use `sage.misc.lazy_list`
 * #15673: refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list`
 * if obsolete close #6800
``````




---

archive/issue_comments_207847.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,7 +3,7 @@\n * #15852: uncouple sequence from categories (was earlier: the `class Sequence` has a parent from the category `Sets` implemented)\n * `class Sequence`: maybe renaming to `FiniteSequence`\n * #16137: extend lazy_list: lazy_list from various input data\n-* #19895: extent lazy_list: various improvements and generalizations, new sublists\n+* #19895: extend lazy_list: various improvements and generalizations, new sublists\n * #19896: implementation of `class InfiniteSequence`\n * let both (`class Sequence`, `class InfiniteSequence`) use `sage.misc.lazy_list`\n * #15673: refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list`\n``````\n",
    "created_at": "2016-01-15T10:15:56Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207847",
    "user": "https://github.com/dkrenn"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,7 +3,7 @@
 * #15852: uncouple sequence from categories (was earlier: the `class Sequence` has a parent from the category `Sets` implemented)
 * `class Sequence`: maybe renaming to `FiniteSequence`
 * #16137: extend lazy_list: lazy_list from various input data
-* #19895: extent lazy_list: various improvements and generalizations, new sublists
+* #19895: extend lazy_list: various improvements and generalizations, new sublists
 * #19896: implementation of `class InfiniteSequence`
 * let both (`class Sequence`, `class InfiniteSequence`) use `sage.misc.lazy_list`
 * #15673: refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list`
``````




---

archive/issue_comments_207848.json:
```json
{
    "body": "**Changing dependencies** from \"#15852, #15673, #16137\" to \"#15852, #15673, #16137, #19895, #19896\".",
    "created_at": "2016-01-15T10:16:15Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207848",
    "user": "https://github.com/dkrenn"
}
```

**Changing dependencies** from "#15852, #15673, #16137" to "#15852, #15673, #16137, #19895, #19896".



---

archive/issue_comments_207849.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,6 +6,7 @@\n * #19895: extend lazy_list: various improvements and generalizations, new sublists\n * #19896: implementation of `class InfiniteSequence`\n * let both (`class Sequence`, `class InfiniteSequence`) use `sage.misc.lazy_list`\n+* #18565: catalog of sequences\n * #15673: refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list`\n * if obsolete close #6800\n \n``````\n",
    "created_at": "2016-01-17T11:11:32Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207849",
    "user": "https://github.com/dkrenn"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,6 +6,7 @@
 * #19895: extend lazy_list: various improvements and generalizations, new sublists
 * #19896: implementation of `class InfiniteSequence`
 * let both (`class Sequence`, `class InfiniteSequence`) use `sage.misc.lazy_list`
+* #18565: catalog of sequences
 * #15673: refactor code in `combinat.species.*stream` to use `sage.misc.lazy_list`
 * if obsolete close #6800
 
``````




---

archive/issue_comments_207850.json:
```json
{
    "body": "**Changing dependencies** from \"#15852, #15673, #16137, #19895, #19896\" to \"#15852, #15673, #16137, #18565, #19895, #19896\".",
    "created_at": "2016-01-17T11:11:32Z",
    "issue": "https://github.com/sagemath/sage/issues/16107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16107#issuecomment-207850",
    "user": "https://github.com/dkrenn"
}
```

**Changing dependencies** from "#15852, #15673, #16137, #19895, #19896" to "#15852, #15673, #16137, #18565, #19895, #19896".
