# Issue 16464: cyclotomic_cosets for any finite ring

archive/issues_016227.json:
```json
{
    "assignees": [],
    "body": "In order to implement difference families (see #16461), I need a method to list multiplicative cosets of a finite field. Here it is.\n\nSee also [this thread on sage-nt](https://groups.google.com/forum/#!topic/sage-nt/BlkL5JjfXT4).\n\nThe method `cyclotomic_cosets` is implemented at the level of rings (in `sage.categories.rings`) and the corresponding global function is deprecated. The code is also adapted in `sage.coding.coding_constructions` to take care of the change.\n\nWe also correct a bug in `sage.coding.coding_constructions` where `is_a_splitting` returned a pair and hence **always** evaluated to `True` in if statements.\n\nCC:  @nathanncohen\n\nComponent: **number theory**\n\nAuthor: **Vincent Delecroix**\n\nBranch/Commit: **[`7941224`](https://github.com/sagemath/sagetrac-mirror/commit/7941224f132111e4a0a2809d9ed7052fe2d530de)**\n\nReviewer: **Nathann Cohen**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16464_\n\n",
    "closed_at": "2014-06-18T12:00:31Z",
    "created_at": "2014-06-09T22:06:05Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20number%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "cyclotomic_cosets for any finite ring",
    "type": "issue",
    "updated_at": "2014-06-18T12:00:31Z",
    "url": "https://github.com/sagemath/sage/issues/16464",
    "user": "https://github.com/videlec"
}
```
In order to implement difference families (see #16461), I need a method to list multiplicative cosets of a finite field. Here it is.

See also [this thread on sage-nt](https://groups.google.com/forum/#!topic/sage-nt/BlkL5JjfXT4).

The method `cyclotomic_cosets` is implemented at the level of rings (in `sage.categories.rings`) and the corresponding global function is deprecated. The code is also adapted in `sage.coding.coding_constructions` to take care of the change.

We also correct a bug in `sage.coding.coding_constructions` where `is_a_splitting` returned a pair and hence **always** evaluated to `True` in if statements.

CC:  @nathanncohen

Component: **number theory**

Author: **Vincent Delecroix**

Branch/Commit: **[`7941224`](https://github.com/sagemath/sagetrac-mirror/commit/7941224f132111e4a0a2809d9ed7052fe2d530de)**

Reviewer: **Nathann Cohen**

_Issue created by migration from https://trac.sagemath.org/ticket/16464_





---

archive/issue_events_233017.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-09T22:06:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233017"
}
```



---

archive/issue_events_233018.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-09T22:06:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20number%20theory",
    "label_color": "0000ff",
    "label_name": "c: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233018"
}
```



---

archive/issue_events_233019.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-09T22:06:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233019"
}
```



---

archive/issue_events_233020.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-09T22:06:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233020"
}
```



---

archive/issue_comments_212955.json:
```json
{
    "body": "Commit: **[`e77da55`](https://github.com/sagemath/sagetrac-mirror/commit/e77da55feea62fea023bb8f8760b146e38744d10)**",
    "created_at": "2014-06-09T22:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212955",
    "user": "https://github.com/videlec"
}
```

Commit: **[`e77da55`](https://github.com/sagemath/sagetrac-mirror/commit/e77da55feea62fea023bb8f8760b146e38744d10)**



---

archive/issue_comments_212956.json:
```json
{
    "body": "Branch: **[u/vdelecroix/16464](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16464)**",
    "created_at": "2014-06-09T22:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212956",
    "user": "https://github.com/videlec"
}
```

Branch: **[u/vdelecroix/16464](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16464)**



---

archive/issue_events_233021.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-09T22:07:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233021"
}
```



---

archive/issue_comments_212957.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa45dd3df9317893e1fc0a2a4c4cbe1e0314c000\"><code>fa45dd3</code></a></td><td><code>trac #16461: difference families</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/491d66957e3f92387f3db04e92914f359e2a35e2\"><code>491d669</code></a></td><td><code>trac #16461: reviewer comment 1 ++</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d91e5f398d7ddad0bfb9cb6952f3af493943b0d\"><code>5d91e5f</code></a></td><td><code>trac #16461: more doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e77da55feea62fea023bb8f8760b146e38744d10\"><code>e77da55</code></a></td><td><code>trac #16464: multiplicative cosets of finite field</code></td></tr></table>\n",
    "created_at": "2014-06-09T22:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212957",
    "user": "https://github.com/videlec"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa45dd3df9317893e1fc0a2a4c4cbe1e0314c000"><code>fa45dd3</code></a></td><td><code>trac #16461: difference families</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/491d66957e3f92387f3db04e92914f359e2a35e2"><code>491d669</code></a></td><td><code>trac #16461: reviewer comment 1 ++</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d91e5f398d7ddad0bfb9cb6952f3af493943b0d"><code>5d91e5f</code></a></td><td><code>trac #16461: more doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e77da55feea62fea023bb8f8760b146e38744d10"><code>e77da55</code></a></td><td><code>trac #16464: multiplicative cosets of finite field</code></td></tr></table>




---

archive/issue_comments_212958.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nOups... wait a minute!",
    "created_at": "2014-06-09T22:08:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212958",
    "user": "https://github.com/videlec"
}
```

<div id="comment:2" align="right">comment:2</div>

Oups... wait a minute!



---

archive/issue_comments_212959.json:
```json
{
    "body": "Changed commit from **[`e77da55`](https://github.com/sagemath/sagetrac-mirror/commit/e77da55feea62fea023bb8f8760b146e38744d10)** to **[`6afe17c`](https://github.com/sagemath/sagetrac-mirror/commit/6afe17cced6a3ad00653a9f71013b9bb5c02f71a)**",
    "created_at": "2014-06-09T22:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212959",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e77da55`](https://github.com/sagemath/sagetrac-mirror/commit/e77da55feea62fea023bb8f8760b146e38744d10)** to **[`6afe17c`](https://github.com/sagemath/sagetrac-mirror/commit/6afe17cced6a3ad00653a9f71013b9bb5c02f71a)**



---

archive/issue_comments_212960.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6afe17cced6a3ad00653a9f71013b9bb5c02f71a\"><code>6afe17c</code></a></td><td><code>trac #16464: multiplicative cosets of finite field</code></td></tr></table>\n",
    "created_at": "2014-06-09T22:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212960",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6afe17cced6a3ad00653a9f71013b9bb5c02f71a"><code>6afe17c</code></a></td><td><code>trac #16464: multiplicative cosets of finite field</code></td></tr></table>




---

archive/issue_comments_212961.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n In order to implement difference families (see #16461), I need a method to list multiplicative cosets of a finite field. Here it is.\n+\n+See also [this thread on sage-nt](https://groups.google.com/forum/#!topic/sage-nt/BlkL5JjfXT4).\n``````\n",
    "created_at": "2014-06-10T08:35:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212961",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 In order to implement difference families (see #16461), I need a method to list multiplicative cosets of a finite field. Here it is.
+
+See also [this thread on sage-nt](https://groups.google.com/forum/#!topic/sage-nt/BlkL5JjfXT4).
``````




---

archive/issue_comments_212962.json:
```json
{
    "body": "Changed commit from **[`6afe17c`](https://github.com/sagemath/sagetrac-mirror/commit/6afe17cced6a3ad00653a9f71013b9bb5c02f71a)** to **[`9b1544b`](https://github.com/sagemath/sagetrac-mirror/commit/9b1544b90970887f5e22a4aa1e93db04cd18ce90)**",
    "created_at": "2014-06-11T00:03:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212962",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6afe17c`](https://github.com/sagemath/sagetrac-mirror/commit/6afe17cced6a3ad00653a9f71013b9bb5c02f71a)** to **[`9b1544b`](https://github.com/sagemath/sagetrac-mirror/commit/9b1544b90970887f5e22a4aa1e93db04cd18ce90)**



---

archive/issue_comments_212963.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b1544b90970887f5e22a4aa1e93db04cd18ce90\"><code>9b1544b</code></a></td><td><code>trac #16464: generic implementation</code></td></tr></table>\n",
    "created_at": "2014-06-11T00:03:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212963",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b1544b90970887f5e22a4aa1e93db04cd18ce90"><code>9b1544b</code></a></td><td><code>trac #16464: generic implementation</code></td></tr></table>




---

archive/issue_events_233022.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-11T00:06:39Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "title_is": "cyclotomic_cosets for any finite ring",
    "title_was": "method to list multiplicative cosets of finite field",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233022"
}
```



---

archive/issue_comments_212964.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n In order to implement difference families (see #16461), I need a method to list multiplicative cosets of a finite field. Here it is.\n \n See also [this thread on sage-nt](https://groups.google.com/forum/#!topic/sage-nt/BlkL5JjfXT4).\n+\n+The method `cyclotomic_cosets` is implemented at the level of rings (in `sage.categories.rings`) and the corresponding global function is deprecated. The code is also adapted in `sage.coding.coding_constructions` to take care of the change.\n+\n+We also correct a bug in `sage.coding.coding_constructions` where `is_a_splitting` returned a pair and hence **always** evaluated to `True` in if statements.\n``````\n",
    "created_at": "2014-06-11T00:06:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212964",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
 In order to implement difference families (see #16461), I need a method to list multiplicative cosets of a finite field. Here it is.
 
 See also [this thread on sage-nt](https://groups.google.com/forum/#!topic/sage-nt/BlkL5JjfXT4).
+
+The method `cyclotomic_cosets` is implemented at the level of rings (in `sage.categories.rings`) and the corresponding global function is deprecated. The code is also adapted in `sage.coding.coding_constructions` to take care of the change.
+
+We also correct a bug in `sage.coding.coding_constructions` where `is_a_splitting` returned a pair and hence **always** evaluated to `True` in if statements.
``````




---

archive/issue_comments_212965.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nFor some reason the function does not appear in the doc `-_-`",
    "created_at": "2014-06-11T07:52:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212965",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

For some reason the function does not appear in the doc `-_-`



---

archive/issue_events_233023.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-11T08:17:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233023"
}
```



---

archive/issue_events_233024.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-11T08:17:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233024"
}
```



---

archive/issue_comments_212966.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHello Vincent !\n\nThere is a small commit on public/16464 for typos.\n\nI've got a question on the documentation, however : you say at the beginnig that \"the orbits of the group action of `R^*` on `R` are called the cyclotomic cosets\". From which it follows that the only two cyclotomic cosets of a finite Field are `R^*` and 0, doesn't it ?\n\nI mean : your function takes `q` as an argument, though your definition of what a cyclotomic coset is does not involve `q` in any way. Sooooo I don't get it : shouldn't they be called \"cyclotomic cosets with respect to q\" or something ?\n\nNathann",
    "created_at": "2014-06-11T08:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212966",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:8" align="right">comment:8</div>

Hello Vincent !

There is a small commit on public/16464 for typos.

I've got a question on the documentation, however : you say at the beginnig that "the orbits of the group action of `R^*` on `R` are called the cyclotomic cosets". From which it follows that the only two cyclotomic cosets of a finite Field are `R^*` and 0, doesn't it ?

I mean : your function takes `q` as an argument, though your definition of what a cyclotomic coset is does not involve `q` in any way. Sooooo I don't get it : shouldn't they be called "cyclotomic cosets with respect to q" or something ?

Nathann



---

archive/issue_comments_212967.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAbout this part of the code \n\n```\n+    try:\n+        return DuadicCodeEvenPair(F,Q,N)\n+    except TypeError:\n+        raise TypeError(\"No quadratic residue code exists for these parameters.\")\n```\n\nIs there any reason why your replaced the `if not(is_a_splitting(Q,N,n))` by this try/catch ? What worries me is that it could catch `TypeErrors` raised in `DuadicCodeEvenPair` that are real bugs and not created by this `if not(is_a_splitting(Q,N,n))`.\n\nNathann",
    "created_at": "2014-06-11T08:23:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212967",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

About this part of the code 

```
+    try:
+        return DuadicCodeEvenPair(F,Q,N)
+    except TypeError:
+        raise TypeError("No quadratic residue code exists for these parameters.")
```

Is there any reason why your replaced the `if not(is_a_splitting(Q,N,n))` by this try/catch ? What worries me is that it could catch `TypeErrors` raised in `DuadicCodeEvenPair` that are real bugs and not created by this `if not(is_a_splitting(Q,N,n))`.

Nathann



---

archive/issue_events_233025.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-11T09:35:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233025"
}
```



---

archive/issue_events_233026.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-11T09:35:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233026"
}
```



---

archive/issue_comments_212968.json:
```json
{
    "body": "Changed commit from **[`9b1544b`](https://github.com/sagemath/sagetrac-mirror/commit/9b1544b90970887f5e22a4aa1e93db04cd18ce90)** to **[`f0474bb`](https://github.com/sagemath/sagetrac-mirror/commit/f0474bb138221ffa139ede31f6e04ed47d02e6ea)**",
    "created_at": "2014-06-11T09:35:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212968",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[`9b1544b`](https://github.com/sagemath/sagetrac-mirror/commit/9b1544b90970887f5e22a4aa1e93db04cd18ce90)** to **[`f0474bb`](https://github.com/sagemath/sagetrac-mirror/commit/f0474bb138221ffa139ede31f6e04ed47d02e6ea)**



---

archive/issue_comments_212969.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@nathanncohen](#comment%3A9):\n> About this part of the code \n> \n> ```\n> +    try:\n> +        return DuadicCodeEvenPair(F,Q,N)\n> +    except TypeError:\n> +        raise TypeError(\"No quadratic residue code exists for these parameters.\")\n> ```\n> \n> Is there any reason why your replaced the `if not(is_a_splitting(Q,N,n))` by this try/catch ? What worries me is that it could catch `TypeErrors` raised in `DuadicCodeEvenPair` that are real bugs and not created by this `if not(is_a_splitting(Q,N,n))`.\n\nOk. I modified the function... the errors are clearer and there is no try/except anymore.\n  \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0a29585467f32cc4b2311944a3e1ad5a9203fe9\"><code>f0a2958</code></a></td><td><code>trac #16464: Docstring work</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0474bb138221ffa139ede31f6e04ed47d02e6ea\"><code>f0474bb</code></a></td><td><code>trac #16464: be more careful with errors</code></td></tr></table>\n",
    "created_at": "2014-06-11T09:35:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212969",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@nathanncohen](#comment%3A9):
> About this part of the code 
> 
> ```
> +    try:
> +        return DuadicCodeEvenPair(F,Q,N)
> +    except TypeError:
> +        raise TypeError("No quadratic residue code exists for these parameters.")
> ```
> 
> Is there any reason why your replaced the `if not(is_a_splitting(Q,N,n))` by this try/catch ? What worries me is that it could catch `TypeErrors` raised in `DuadicCodeEvenPair` that are real bugs and not created by this `if not(is_a_splitting(Q,N,n))`.

Ok. I modified the function... the errors are clearer and there is no try/except anymore.
  
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0a29585467f32cc4b2311944a3e1ad5a9203fe9"><code>f0a2958</code></a></td><td><code>trac #16464: Docstring work</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0474bb138221ffa139ede31f6e04ed47d02e6ea"><code>f0474bb</code></a></td><td><code>trac #16464: be more careful with errors</code></td></tr></table>




---

archive/issue_comments_212970.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/16464](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16464)** to **[public/16464](https://github.com/sagemath/sagetrac-mirror/tree/public/16464)**",
    "created_at": "2014-06-11T09:35:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212970",
    "user": "https://github.com/videlec"
}
```

Changed branch from **[u/vdelecroix/16464](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16464)** to **[public/16464](https://github.com/sagemath/sagetrac-mirror/tree/public/16464)**



---

archive/issue_comments_212971.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21cb1a83280c9a0c7ddd6c418dad4d053024b570\"><code>21cb1a8</code></a></td><td><code>trac #16464: handle correctly arguments for cyclotomic_cosets</code></td></tr></table>\n",
    "created_at": "2014-06-11T09:45:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212971",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21cb1a83280c9a0c7ddd6c418dad4d053024b570"><code>21cb1a8</code></a></td><td><code>trac #16464: handle correctly arguments for cyclotomic_cosets</code></td></tr></table>




---

archive/issue_comments_212972.json:
```json
{
    "body": "Changed commit from **[`f0474bb`](https://github.com/sagemath/sagetrac-mirror/commit/f0474bb138221ffa139ede31f6e04ed47d02e6ea)** to **[`21cb1a8`](https://github.com/sagemath/sagetrac-mirror/commit/21cb1a83280c9a0c7ddd6c418dad4d053024b570)**",
    "created_at": "2014-06-11T09:45:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212972",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f0474bb`](https://github.com/sagemath/sagetrac-mirror/commit/f0474bb138221ffa139ede31f6e04ed47d02e6ea)** to **[`21cb1a8`](https://github.com/sagemath/sagetrac-mirror/commit/21cb1a83280c9a0c7ddd6c418dad4d053024b570)**



---

archive/issue_comments_212973.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nA new commit, with two questions :\n\n1)\n\n```\n+    if n <= 2 or not n.is_prime():\n+        raise ValueError(\"the argument n must be an odd prime\")\n```\n\nWhy don't you test that `n` is odd ?\n\n2) Why would this be allowed ? It really does NOT have the same behaviour.\n\n```\n-    n = max(S1+S2)+1\n-    if not(is_a_splitting(S1,S2,n)):\n+    n = len(S1) + len(S2) + 1\n+    if not is_a_splitting(S1,S2,n):\n```\n\n\nNathann",
    "created_at": "2014-06-11T10:13:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212973",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:12" align="right">comment:12</div>

A new commit, with two questions :

1)

```
+    if n <= 2 or not n.is_prime():
+        raise ValueError("the argument n must be an odd prime")
```

Why don't you test that `n` is odd ?

2) Why would this be allowed ? It really does NOT have the same behaviour.

```
-    n = max(S1+S2)+1
-    if not(is_a_splitting(S1,S2,n)):
+    n = len(S1) + len(S2) + 1
+    if not is_a_splitting(S1,S2,n):
```


Nathann



---

archive/issue_comments_212974.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b07ad014b69fc326233a570e41fbdad93402049c\"><code>b07ad01</code></a></td><td><code>trac #16464: Second review</code></td></tr></table>\n",
    "created_at": "2014-06-11T10:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212974",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b07ad014b69fc326233a570e41fbdad93402049c"><code>b07ad01</code></a></td><td><code>trac #16464: Second review</code></td></tr></table>




---

archive/issue_comments_212975.json:
```json
{
    "body": "Changed commit from **[`21cb1a8`](https://github.com/sagemath/sagetrac-mirror/commit/21cb1a83280c9a0c7ddd6c418dad4d053024b570)** to **[`b07ad01`](https://github.com/sagemath/sagetrac-mirror/commit/b07ad014b69fc326233a570e41fbdad93402049c)**",
    "created_at": "2014-06-11T10:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212975",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`21cb1a8`](https://github.com/sagemath/sagetrac-mirror/commit/21cb1a83280c9a0c7ddd6c418dad4d053024b570)** to **[`b07ad01`](https://github.com/sagemath/sagetrac-mirror/commit/b07ad014b69fc326233a570e41fbdad93402049c)**



---

archive/issue_events_233027.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-11T10:14:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233027"
}
```



---

archive/issue_events_233028.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-11T10:14:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233028"
}
```



---

archive/issue_comments_212976.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@nathanncohen](#comment%3A12):\n> A new commit, with two questions :\n> \n> 1)\n> \n> ```\n> +    if n <= 2 or not n.is_prime():\n> +        raise ValueError(\"the argument n must be an odd prime\")\n> ```\n> \n> Why don't you test that `n` is odd ?\n\nHum. If n is prime and not 2 it is necessarily odd.\n\n> 2) Why would this be allowed ? It really does NOT have the same behaviour.\n> \n> ```\n> -    n = max(S1+S2)+1\n> -    if not(is_a_splitting(S1,S2,n)):\n> +    n = len(S1) + len(S2) + 1\n> +    if not is_a_splitting(S1,S2,n):\n> ```\n\nIt does. `is_a_splitting(S1,S2,n)` answers `True` if the input is a partition `(S1,S2)` of `{1,...,n-1}` (+ a condition on the partition). So I just changed the code to avoid the concatenation and the max.\n\nDo you agree?",
    "created_at": "2014-06-11T10:25:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212976",
    "user": "https://github.com/videlec"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@nathanncohen](#comment%3A12):
> A new commit, with two questions :
> 
> 1)
> 
> ```
> +    if n <= 2 or not n.is_prime():
> +        raise ValueError("the argument n must be an odd prime")
> ```
> 
> Why don't you test that `n` is odd ?

Hum. If n is prime and not 2 it is necessarily odd.

> 2) Why would this be allowed ? It really does NOT have the same behaviour.
> 
> ```
> -    n = max(S1+S2)+1
> -    if not(is_a_splitting(S1,S2,n)):
> +    n = len(S1) + len(S2) + 1
> +    if not is_a_splitting(S1,S2,n):
> ```

It does. `is_a_splitting(S1,S2,n)` answers `True` if the input is a partition `(S1,S2)` of `{1,...,n-1}` (+ a condition on the partition). So I just changed the code to avoid the concatenation and the max.

Do you agree?



---

archive/issue_comments_212977.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nBefore the end, I would also like to change `len(S1.union(S2)) != n-1` in `is_a_splitting` by `S1.difference(S2)`. Makes more sense.",
    "created_at": "2014-06-11T10:36:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212977",
    "user": "https://github.com/videlec"
}
```

<div id="comment:16" align="right">comment:16</div>

Before the end, I would also like to change `len(S1.union(S2)) != n-1` in `is_a_splitting` by `S1.difference(S2)`. Makes more sense.



---

archive/issue_comments_212978.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n> Do you agree?\n\nTurns out that I am an idiot.\n\nNathann",
    "created_at": "2014-06-11T10:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212978",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:17" align="right">comment:17</div>

> Do you agree?

Turns out that I am an idiot.

Nathann



---

archive/issue_comments_212979.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n1> Before the end, I would also like to change `len(S1.union(S2)) != n-1` in `is_a_splitting` by `S1.difference(S2)`. Makes more sense.\n\nOr `len(S1 & S2)`.\n\nNathann",
    "created_at": "2014-06-11T10:40:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212979",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:18" align="right">comment:18</div>

1> Before the end, I would also like to change `len(S1.union(S2)) != n-1` in `is_a_splitting` by `S1.difference(S2)`. Makes more sense.

Or `len(S1 & S2)`.

Nathann



---

archive/issue_comments_212980.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@nathanncohen](#comment%3A17):\n> > Do you agree?\n\n> \n> Turns out that I am an idiot.\n\nNope. This is very cool\n\n```\n-        if GCD(b,n) == 1 and all(b*x in S2 for x in S1)  and all(b*x in S1 for x in S2):\n+        if GCD(b,n) == 1 and all(b*x in S2 for x in S1):\n```",
    "created_at": "2014-06-11T10:41:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212980",
    "user": "https://github.com/videlec"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@nathanncohen](#comment%3A17):
> > Do you agree?

> 
> Turns out that I am an idiot.

Nope. This is very cool

```
-        if GCD(b,n) == 1 and all(b*x in S2 for x in S1)  and all(b*x in S1 for x in S2):
+        if GCD(b,n) == 1 and all(b*x in S2 for x in S1):
```



---

archive/issue_comments_212981.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@nathanncohen](#comment%3A18):\n> 1> Before the end, I would also like to change `len(S1.union(S2)) != n-1` in `is_a_splitting` by `S1.difference(S2)`. Makes more sense.\n> \n> Or `len(S1 & S2)`.\n\nor `S1 & S2`. It is faster to call `__nonzero__` rather than `__len__`.",
    "created_at": "2014-06-11T10:46:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212981",
    "user": "https://github.com/videlec"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@nathanncohen](#comment%3A18):
> 1> Before the end, I would also like to change `len(S1.union(S2)) != n-1` in `is_a_splitting` by `S1.difference(S2)`. Makes more sense.
> 
> Or `len(S1 & S2)`.

or `S1 & S2`. It is faster to call `__nonzero__` rather than `__len__`.



---

archive/issue_comments_212982.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n> or `S1 & S2`. It is faster to call `__nonzero__` rather than `__len__`.\n\nIs it ? Either way, add a commit !\n\nNathann",
    "created_at": "2014-06-11T10:51:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212982",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:21" align="right">comment:21</div>

> or `S1 & S2`. It is faster to call `__nonzero__` rather than `__len__`.

Is it ? Either way, add a commit !

Nathann



---

archive/issue_comments_212983.json:
```json
{
    "body": "Changed commit from **[`b07ad01`](https://github.com/sagemath/sagetrac-mirror/commit/b07ad014b69fc326233a570e41fbdad93402049c)** to **[`136e870`](https://github.com/sagemath/sagetrac-mirror/commit/136e870dfd215fd1b75521dafa04888f3601bf40)**",
    "created_at": "2014-06-11T10:51:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212983",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b07ad01`](https://github.com/sagemath/sagetrac-mirror/commit/b07ad014b69fc326233a570e41fbdad93402049c)** to **[`136e870`](https://github.com/sagemath/sagetrac-mirror/commit/136e870dfd215fd1b75521dafa04888f3601bf40)**



---

archive/issue_comments_212984.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/136e870dfd215fd1b75521dafa04888f3601bf40\"><code>136e870</code></a></td><td><code>trac #16464: tiny improvements for is_a_splitting</code></td></tr></table>\n",
    "created_at": "2014-06-11T10:51:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212984",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/136e870dfd215fd1b75521dafa04888f3601bf40"><code>136e870</code></a></td><td><code>trac #16464: tiny improvements for is_a_splitting</code></td></tr></table>




---

archive/issue_comments_212985.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nLooks like it is\n\n```\nsage: S1=set(range(10))\nsage: S2=set(range(10,20))\nsage: timeit(\"if S1&S2: pass\",number=1000000)\n1000000 loops, best of 3: 446 ns per loop\nsage: timeit(\"if len(S1&S2): pass\",number=1000000)\n1000000 loops, best of 3: 517 ns per loop\n```\n50ns... it will save a lot of time!",
    "created_at": "2014-06-11T10:54:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212985",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">comment:23</div>

Looks like it is

```
sage: S1=set(range(10))
sage: S2=set(range(10,20))
sage: timeit("if S1&S2: pass",number=1000000)
1000000 loops, best of 3: 446 ns per loop
sage: timeit("if len(S1&S2): pass",number=1000000)
1000000 loops, best of 3: 517 ns per loop
```
50ns... it will save a lot of time!



---

archive/issue_comments_212986.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n> 50ns... it will save a lot of time!\n\nIndeed. I have been living as a fool.\n\nNathann",
    "created_at": "2014-06-11T10:58:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212986",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:24" align="right">comment:24</div>

> 50ns... it will save a lot of time!

Indeed. I have been living as a fool.

Nathann



---

archive/issue_comments_212987.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2014-06-11T11:06:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212987",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_events_233029.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-11T11:06:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233029"
}
```



---

archive/issue_events_233030.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-11T11:06:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233030"
}
```



---

archive/issue_comments_212988.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nWell, then ...\n\nNathann",
    "created_at": "2014-06-11T11:06:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212988",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:25" align="right">comment:25</div>

Well, then ...

Nathann



---

archive/issue_comments_212989.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nCool. Thanks for the review.\n\n(Note: in the meantime I discovered that Python set have a nice method `.is_disjoint()`...)",
    "created_at": "2014-06-11T11:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212989",
    "user": "https://github.com/videlec"
}
```

<div id="comment:26" align="right">comment:26</div>

Cool. Thanks for the review.

(Note: in the meantime I discovered that Python set have a nice method `.is_disjoint()`...)



---

archive/issue_comments_212990.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nAdd it, and set the ticket back to its current state.\n\nNathann",
    "created_at": "2014-06-11T11:09:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212990",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:27" align="right">comment:27</div>

Add it, and set the ticket back to its current state.

Nathann



---

archive/issue_comments_212991.json:
```json
{
    "body": "Changed commit from **[`136e870`](https://github.com/sagemath/sagetrac-mirror/commit/136e870dfd215fd1b75521dafa04888f3601bf40)** to **[`965f550`](https://github.com/sagemath/sagetrac-mirror/commit/965f550d72c999d0cefece8cbd253a843af2528b)**",
    "created_at": "2014-06-11T11:15:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212991",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`136e870`](https://github.com/sagemath/sagetrac-mirror/commit/136e870dfd215fd1b75521dafa04888f3601bf40)** to **[`965f550`](https://github.com/sagemath/sagetrac-mirror/commit/965f550d72c999d0cefece8cbd253a843af2528b)**



---

archive/issue_comments_212992.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/965f550d72c999d0cefece8cbd253a843af2528b\"><code>965f550</code></a></td><td><code>trac #16464: replace bool(S1&S2) by S1.isdisjoint(S2)</code></td></tr></table>\n",
    "created_at": "2014-06-11T11:15:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212992",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/965f550d72c999d0cefece8cbd253a843af2528b"><code>965f550</code></a></td><td><code>trac #16464: replace bool(S1&S2) by S1.isdisjoint(S2)</code></td></tr></table>




---

archive/issue_events_233031.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-06-11T11:15:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233031"
}
```



---

archive/issue_events_233032.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-06-11T11:15:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233032"
}
```



---

archive/issue_events_233033.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-11T11:15:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233033"
}
```



---

archive/issue_events_233034.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-11T11:15:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233034"
}
```



---

archive/issue_comments_212993.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\n\n```\nsage -t src/sage/categories/category.py\n**********************************************************************\nFile \"src/sage/categories/category.py\", line 1594, in sage.categories.category.Category._with_axiom_as_tuple\nFailed example:\n    Rings().Division()._with_axiom_as_tuple('Finite')\nExpected:\n    (Category of division rings,\n     Category of finite monoids,\n     Category of commutative magmas)\nGot:\n    (Category of division rings, Category of finite rings, Category of commutative magmas)\n```\nand related failures everywhere",
    "created_at": "2014-06-14T14:22:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212993",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:30" align="right">comment:30</div>


```
sage -t src/sage/categories/category.py
**********************************************************************
File "src/sage/categories/category.py", line 1594, in sage.categories.category.Category._with_axiom_as_tuple
Failed example:
    Rings().Division()._with_axiom_as_tuple('Finite')
Expected:
    (Category of division rings,
     Category of finite monoids,
     Category of commutative magmas)
Got:
    (Category of division rings, Category of finite rings, Category of commutative magmas)
```
and related failures everywhere



---

archive/issue_events_233035.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-14T14:22:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233035"
}
```



---

archive/issue_events_233036.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-14T14:22:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233036"
}
```



---

archive/issue_comments_212994.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\n`O_o`\n\nI have no idea how it could be caused by this patch. All it does is add a function and fix some doc `O_o`\n\nNathann",
    "created_at": "2014-06-14T14:24:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212994",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:31" align="right">comment:31</div>

`O_o`

I have no idea how it could be caused by this patch. All it does is add a function and fix some doc `O_o`

Nathann



---

archive/issue_comments_212995.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nNope. I added a (nested) class `Finite` in `sage.categories.rings.Rings`... so it is likely that I would have to run all tests in `sage.categories` and see..",
    "created_at": "2014-06-14T14:26:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212995",
    "user": "https://github.com/videlec"
}
```

<div id="comment:32" align="right">comment:32</div>

Nope. I added a (nested) class `Finite` in `sage.categories.rings.Rings`... so it is likely that I would have to run all tests in `sage.categories` and see..



---

archive/issue_comments_212996.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee39f861f87799d5c880cebbce87491205f08f91\"><code>ee39f86</code></a></td><td><code>trac #16464: move code in commutative_rings and fix doctests</code></td></tr></table>\n",
    "created_at": "2014-06-14T16:18:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212996",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee39f861f87799d5c880cebbce87491205f08f91"><code>ee39f86</code></a></td><td><code>trac #16464: move code in commutative_rings and fix doctests</code></td></tr></table>




---

archive/issue_comments_212997.json:
```json
{
    "body": "Changed commit from **[`965f550`](https://github.com/sagemath/sagetrac-mirror/commit/965f550d72c999d0cefece8cbd253a843af2528b)** to **[`ee39f86`](https://github.com/sagemath/sagetrac-mirror/commit/ee39f861f87799d5c880cebbce87491205f08f91)**",
    "created_at": "2014-06-14T16:18:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212997",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`965f550`](https://github.com/sagemath/sagetrac-mirror/commit/965f550d72c999d0cefece8cbd253a843af2528b)** to **[`ee39f86`](https://github.com/sagemath/sagetrac-mirror/commit/ee39f861f87799d5c880cebbce87491205f08f91)**



---

archive/issue_comments_212998.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nHi Nathann,\n\nBecause of this error, I notice that in Sage rings are not necessarily commutative. It would hence be better have `cyclotomic_cosets` only at the level of commutative rings... (you do not want it for the set of `2x2` matrices over `GF(3)`).\n\nPlease review it again (it is only a cut and paste).\n\nVincent\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee39f861f87799d5c880cebbce87491205f08f91\"><code>ee39f86</code></a></td><td><code>trac #16464: move code in commutative_rings and fix doctests</code></td></tr></table>\n",
    "created_at": "2014-06-14T16:18:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212998",
    "user": "https://github.com/videlec"
}
```

<div id="comment:34" align="right">comment:34</div>

Hi Nathann,

Because of this error, I notice that in Sage rings are not necessarily commutative. It would hence be better have `cyclotomic_cosets` only at the level of commutative rings... (you do not want it for the set of `2x2` matrices over `GF(3)`).

Please review it again (it is only a cut and paste).

Vincent

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee39f861f87799d5c880cebbce87491205f08f91"><code>ee39f86</code></a></td><td><code>trac #16464: move code in commutative_rings and fix doctests</code></td></tr></table>




---

archive/issue_events_233037.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-14T18:18:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233037"
}
```



---

archive/issue_events_233038.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-14T18:18:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233038"
}
```



---

archive/issue_comments_212999.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n\n```\nsage -t --long rings/finite_rings/integer_mod_ring.py  # 2 doctests failed\nsage -t --long misc/c3_controlled.pyx  # 2 doctests failed\nsage -t --long rings/ring.pyx  # 1 doctest failed\n```\n\nNathann",
    "created_at": "2014-06-14T21:26:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-212999",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:36" align="right">comment:36</div>


```
sage -t --long rings/finite_rings/integer_mod_ring.py  # 2 doctests failed
sage -t --long misc/c3_controlled.pyx  # 2 doctests failed
sage -t --long rings/ring.pyx  # 1 doctest failed
```

Nathann



---

archive/issue_events_233039.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-14T21:26:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233039"
}
```



---

archive/issue_events_233040.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-14T21:26:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233040"
}
```



---

archive/issue_comments_213000.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7941224f132111e4a0a2809d9ed7052fe2d530de\"><code>7941224</code></a></td><td><code>trac #16464: fix doctests</code></td></tr></table>\n",
    "created_at": "2014-06-14T21:35:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-213000",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7941224f132111e4a0a2809d9ed7052fe2d530de"><code>7941224</code></a></td><td><code>trac #16464: fix doctests</code></td></tr></table>




---

archive/issue_comments_213001.json:
```json
{
    "body": "Changed commit from **[`ee39f86`](https://github.com/sagemath/sagetrac-mirror/commit/ee39f861f87799d5c880cebbce87491205f08f91)** to **[`7941224`](https://github.com/sagemath/sagetrac-mirror/commit/7941224f132111e4a0a2809d9ed7052fe2d530de)**",
    "created_at": "2014-06-14T21:35:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-213001",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ee39f86`](https://github.com/sagemath/sagetrac-mirror/commit/ee39f861f87799d5c880cebbce87491205f08f91)** to **[`7941224`](https://github.com/sagemath/sagetrac-mirror/commit/7941224f132111e4a0a2809d9ed7052fe2d530de)**



---

archive/issue_events_233041.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-14T21:37:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233041"
}
```



---

archive/issue_events_233042.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-14T21:37:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233042"
}
```



---

archive/issue_comments_213002.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nHi Nathann,\n\nThank you for running the long tests! I asked at my lab and will have a machine dedicated to Sage tests from tuesday... will be much better.\n\nVincent",
    "created_at": "2014-06-14T21:37:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-213002",
    "user": "https://github.com/videlec"
}
```

<div id="comment:38" align="right">comment:38</div>

Hi Nathann,

Thank you for running the long tests! I asked at my lab and will have a machine dedicated to Sage tests from tuesday... will be much better.

Vincent



---

archive/issue_events_233043.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-15T11:01:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233043"
}
```



---

archive/issue_events_233044.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-15T11:01:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233044"
}
```



---

archive/issue_comments_213003.json:
```json
{
    "body": "Changed branch from **[public/16464](https://github.com/sagemath/sagetrac-mirror/tree/public/16464)** to **[`7941224`](https://github.com/sagemath/sagetrac-mirror/commit/7941224f132111e4a0a2809d9ed7052fe2d530de)**",
    "created_at": "2014-06-18T12:00:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16464#issuecomment-213003",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/16464](https://github.com/sagemath/sagetrac-mirror/tree/public/16464)** to **[`7941224`](https://github.com/sagemath/sagetrac-mirror/commit/7941224f132111e4a0a2809d9ed7052fe2d530de)**



---

archive/issue_events_233045.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-18T12:00:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233045"
}
```



---

archive/issue_events_233046.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7b1b00e3946f459e3da88b5484b6a5da5afd725f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-06-18T12:00:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16464",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16464#event-233046"
}
```
