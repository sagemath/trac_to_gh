# Issue 16354: Let Sage use Pari implementation of Allombert algorithm to compute embeddings of finite fields

archive/issues_016117.json:
```json
{
    "body": "It's much faster theoretically and in practice than what we have (factorization of polynomials).\n\n```\nsage: p = next_prime(2**5)\nsage: n = next_prime(2**7)\nsage: K.<a> = GF(p**n, modulus='random')\nsage: L.<b> = GF(p**n, modulus='random')\nsage: H = Hom(K, L)\nsage: from sage.rings.finite_rings.hom_finite_field import FiniteFieldHomomorphism_generic as FFH\nsage: %timeit FFH(H)\n1 loops, best of 3: 6.58 s per loop\nsage: %timeit FFH(H, algorithm='allombert')\n1 loops, best of 3: 2.3 s per loop\n```\n\nCC:  @defeo @pjbruin\n\nAuthor: Jean-Pierre Flori\n\nBranch: u/jpflori/ticket/16354\n\nStatus: new\n\nCommit: 9169f8ed1da13c57244eb7c1aa94db4b40165d49\n\nIssue created by migration from https://trac.sagemath.org/ticket/16354\n\n",
    "created_at": "2014-05-14T16:05:08Z",
    "labels": [
        "component: finite rings"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Let Sage use Pari implementation of Allombert algorithm to compute embeddings of finite fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16354",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
It's much faster theoretically and in practice than what we have (factorization of polynomials).

```
sage: p = next_prime(2**5)
sage: n = next_prime(2**7)
sage: K.<a> = GF(p**n, modulus='random')
sage: L.<b> = GF(p**n, modulus='random')
sage: H = Hom(K, L)
sage: from sage.rings.finite_rings.hom_finite_field import FiniteFieldHomomorphism_generic as FFH
sage: %timeit FFH(H)
1 loops, best of 3: 6.58 s per loop
sage: %timeit FFH(H, algorithm='allombert')
1 loops, best of 3: 2.3 s per loop
```

CC:  @defeo @pjbruin

Author: Jean-Pierre Flori

Branch: u/jpflori/ticket/16354

Status: new

Commit: 9169f8ed1da13c57244eb7c1aa94db4b40165d49

Issue created by migration from https://trac.sagemath.org/ticket/16354





---

archive/issue_comments_268675.json:
```json
{
    "body": "Changing commit from \"\" to \"9169f8ed1da13c57244eb7c1aa94db4b40165d49\"",
    "created_at": "2014-05-14T16:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16354#issuecomment-268675",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing commit from "" to "9169f8ed1da13c57244eb7c1aa94db4b40165d49"



---

archive/issue_comments_268676.json:
```json
{
    "body": "<a id='comment:1'></a>Just a first draftish commit which let at least access the functionality from sage (but you have to create the `Hom` (without printing it), and then ask the `Hom` for the morphism (passing the `algorithm` keyword).\n\nStill needs:\n* documentation,\n* tests,\n* a better interface,\n* do we want an `algorithm` and/or an `implementation` keyword?\n* thoughts about what should be done in `Hom` to compute all embeddings (currently uses `factor` IIRC).\n\nIt might also be nice to fix #16162 (and enhance it to properly refactor factorization over ffs).\n\n---\nNew commits:",
    "created_at": "2014-05-14T16:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16354#issuecomment-268676",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:1'></a>Just a first draftish commit which let at least access the functionality from sage (but you have to create the `Hom` (without printing it), and then ask the `Hom` for the morphism (passing the `algorithm` keyword).

Still needs:
* documentation,
* tests,
* a better interface,
* do we want an `algorithm` and/or an `implementation` keyword?
* thoughts about what should be done in `Hom` to compute all embeddings (currently uses `factor` IIRC).

It might also be nice to fix #16162 (and enhance it to properly refactor factorization over ffs).

---
New commits:



---

archive/issue_comments_268677.json:
```json
{
    "body": "Changing author from \"\" to \"Jean-Pierre Flori\"",
    "created_at": "2014-05-14T16:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16354#issuecomment-268677",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing author from "" to "Jean-Pierre Flori"



---

archive/issue_comments_268678.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jpflori/ticket/16354\"",
    "created_at": "2014-05-14T16:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16354#issuecomment-268678",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing branch from "" to "u/jpflori/ticket/16354"



---

archive/issue_comments_268679.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n It's much faster theoretically and in practice than what we have (factorization of polynomials).\n+\n+```\n+sage: p = next_prime(2**5)\n+sage: n = next_prime(2**7)\n+sage: K.<a> = GF(p**n, modulus='random')\n+sage: L.<b> = GF(p**n, modulus='random')\n+sage: H = Hom(K, L)\n+sage: from sage.rings.finite_rings.hom_finite_field import FiniteFieldHomomorphism_generic as FFH\n+sage: %timeit FFH(H)\n+1 loops, best of 3: 6.58 s per loop\n+sage: %timeit FFH(H, algorithm='allombert')\n+1 loops, best of 3: 2.3 s per loop\n+```\n \n Comment: 1\n \n``````\n",
    "created_at": "2014-05-16T08:51:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16354#issuecomment-268679",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,17 @@
 It's much faster theoretically and in practice than what we have (factorization of polynomials).
+
+```
+sage: p = next_prime(2**5)
+sage: n = next_prime(2**7)
+sage: K.<a> = GF(p**n, modulus='random')
+sage: L.<b> = GF(p**n, modulus='random')
+sage: H = Hom(K, L)
+sage: from sage.rings.finite_rings.hom_finite_field import FiniteFieldHomomorphism_generic as FFH
+sage: %timeit FFH(H)
+1 loops, best of 3: 6.58 s per loop
+sage: %timeit FFH(H, algorithm='allombert')
+1 loops, best of 3: 2.3 s per loop
+```
 
 Comment: 1
 
``````




---

archive/issue_events_048193.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16354",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16354#event-48193"
}
```



---

archive/issue_comments_268680.json:
```json
{
    "body": "<a id='comment:4'></a>added",
    "created_at": "2015-10-21T07:36:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16354#issuecomment-268680",
    "user": "https://trac.sagemath.org/admin/accounts/users/adhalanay"
}
```

<a id='comment:4'></a>added
