# Issue 16508: Add Commutative graded differential algebras.

archive/issues_016271.json:
```json
{
    "body": "This patch adds basic CDGA's. \n\nThey work as follows, first you create the algebra:\n\n```\nsage: A.<x,y,t> = CDGAlgebra(QQ, degrees = (1, 1, 2))\nsage: A\nGraded Commutative Algebra over Rational Field with generators ('x', 'y', 't') in degrees (1, 1, 2)\n```\n\nThen define the differential on `A` to construct a differential graded algebra:\n\n```\nsage: sage: B = A.CDGAlgebra({x: x*y , y: x*y })\nsage: B\nCommutative Differential Graded Algebra over Rational Field with generators ('x', 'y', 't') in degrees (1, 1, 2), differential \n    x --> x*y\n    y --> x*y\n    t --> 0\n```\n\nNow you can compute things like a basis of each homogeneous part:\n\n```\nsage: B.basis(5)\n[y*t^2, x*t^2]\n```\n\nOr the cohomology in each degree:\n\n```\nsage: B.cohomology(4)\nFree module generated by {[t^2]} over Rational Field\nsage: B.cohomology(9)\nFree module generated by {[-x*t^4 + y*t^4]} over Rational Field\n```\n\nCC:  @vbraun simonking @saraedum @tscrim\n\nKeywords: sd58, sd59, algebras, nonconmutative, graded\n\nReviewer: Travis Scrimshaw\n\nAuthor: Miguel Marco, John Palmieri\n\nBranch: 3900c66255738ade64524eb67878dc67f8fa5c22\n\nDependencies: #17224\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16508\n\n",
    "closed_at": "2014-11-14T21:01:29Z",
    "created_at": "2014-06-21T04:07:20Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Add Commutative graded differential algebras.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16508",
    "user": "https://github.com/miguelmarco"
}
```
This patch adds basic CDGA's. 

They work as follows, first you create the algebra:

```
sage: A.<x,y,t> = CDGAlgebra(QQ, degrees = (1, 1, 2))
sage: A
Graded Commutative Algebra over Rational Field with generators ('x', 'y', 't') in degrees (1, 1, 2)
```

Then define the differential on `A` to construct a differential graded algebra:

```
sage: sage: B = A.CDGAlgebra({x: x*y , y: x*y })
sage: B
Commutative Differential Graded Algebra over Rational Field with generators ('x', 'y', 't') in degrees (1, 1, 2), differential 
    x --> x*y
    y --> x*y
    t --> 0
```

Now you can compute things like a basis of each homogeneous part:

```
sage: B.basis(5)
[y*t^2, x*t^2]
```

Or the cohomology in each degree:

```
sage: B.cohomology(4)
Free module generated by {[t^2]} over Rational Field
sage: B.cohomology(9)
Free module generated by {[-x*t^4 + y*t^4]} over Rational Field
```

CC:  @vbraun simonking @saraedum @tscrim

Keywords: sd58, sd59, algebras, nonconmutative, graded

Reviewer: Travis Scrimshaw

Author: Miguel Marco, John Palmieri

Branch: 3900c66255738ade64524eb67878dc67f8fa5c22

Dependencies: #17224

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16508





---

archive/issue_comments_226726.json:
```json
{
    "body": "<a id='comment:2'></a>One problem there is is that objects don't pickle correctly. This is an inherited problem from elements in  g-algebra quotients (which are inherited here). \n\n---\nNew commits:",
    "created_at": "2014-06-21T04:11:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226726",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:2'></a>One problem there is is that objects don't pickle correctly. This is an inherited problem from elements in  g-algebra quotients (which are inherited here). 

---
New commits:



---

archive/issue_comments_226727.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2014-06-21T04:11:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226727",
    "user": "https://github.com/miguelmarco"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_226728.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-21T04:11:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226728",
    "user": "https://github.com/miguelmarco"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_226729.json:
```json
{
    "body": "<a id='comment:3'></a>Replying to [comment:2 mmarco]:\n> One problem there is is that objects don't pickle correctly. This is an inherited problem from elements in  g-algebra quotients (which are inherited here). \n\n\nI think this should be fixed.\n\nBike-shedding: You sa \"commutative graded differential algebra\", which I believe is the correct order of adjectives. But then, the class should be called \"`CGDAlgebra`\", not \"`CDGAlgebra`\".",
    "created_at": "2014-06-21T11:00:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226729",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:3'></a>Replying to [comment:2 mmarco]:
> One problem there is is that objects don't pickle correctly. This is an inherited problem from elements in  g-algebra quotients (which are inherited here). 


I think this should be fixed.

Bike-shedding: You sa "commutative graded differential algebra", which I believe is the correct order of adjectives. But then, the class should be called "`CGDAlgebra`", not "`CDGAlgebra`".



---

archive/issue_comments_226730.json:
```json
{
    "body": "<a id='comment:4'></a>Interesting, I've been working on such a class myself. If I push my branch, it will replace the one here. Is there a way to make both branches available at the same time, for comparison?",
    "created_at": "2014-06-21T15:11:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226730",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'></a>Interesting, I've been working on such a class myself. If I push my branch, it will replace the one here. Is there a way to make both branches available at the same time, for comparison?



---

archive/issue_comments_226731.json:
```json
{
    "body": "<a id='comment:5'></a>Just state the name of your branch (and make sure it's been pushed to trac of course).",
    "created_at": "2014-06-21T15:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226731",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>Just state the name of your branch (and make sure it's been pushed to trac of course).



---

archive/issue_comments_226732.json:
```json
{
    "body": "<a id='comment:6'></a>Okay, it's here: u/jhpalmieri/DGA",
    "created_at": "2014-06-21T15:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226732",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>Okay, it's here: u/jhpalmieri/DGA



---

archive/issue_comments_226733.json:
```json
{
    "body": "<a id='comment:7'></a>I like the fact that the branch here uses `QuotientRing_nc`, which mine doesn't do. On the other hand, I think that a differential graded algebra should be endowed with a differential: the differential should not be a separate piece of structure.",
    "created_at": "2014-06-21T18:49:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226733",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:7'></a>I like the fact that the branch here uses `QuotientRing_nc`, which mine doesn't do. On the other hand, I think that a differential graded algebra should be endowed with a differential: the differential should not be a separate piece of structure.



---

archive/issue_comments_226734.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:3 SimonKing]:\n> Replying to [comment:2 mmarco]:\n> > One problem there is is that objects don't pickle correctly. This is an inherited problem from elements in  g-algebra quotients (which are inherited here). \n\n> \n> I think this should be fixed.\n> \n\nI think it is a matter for another ticket. If it is solved in the g-algebra quotents, it should also solve the issue here.\n\n> Bike-shedding: You sa \"commutative graded differential algebra\", which I believe is the correct order of adjectives. But then, the class should be called \"`CGDAlgebra`\", not \"`CDGAlgebra`\".\n\n\nI know it is a mit oa mess, but in the literature they usually appear as CDGA's",
    "created_at": "2014-06-21T19:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226734",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:8'></a>Replying to [comment:3 SimonKing]:
> Replying to [comment:2 mmarco]:
> > One problem there is is that objects don't pickle correctly. This is an inherited problem from elements in  g-algebra quotients (which are inherited here). 

> 
> I think this should be fixed.
> 

I think it is a matter for another ticket. If it is solved in the g-algebra quotents, it should also solve the issue here.

> Bike-shedding: You sa "commutative graded differential algebra", which I believe is the correct order of adjectives. But then, the class should be called "`CGDAlgebra`", not "`CDGAlgebra`".


I know it is a mit oa mess, but in the literature they usually appear as CDGA's



---

archive/issue_comments_226735.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:7 jhpalmieri]:\n> I like the fact that the branch here uses `QuotientRing_nc`, which mine doesn't do. On the other hand, I think that a differential graded algebra should be endowed with a differential: the differential should not be a separate piece of structure.\n\n\nI talked with saraedum about that. My original idea was that, but it had some problems:\n\n1) If the differential is to be defined at creation time, we can not use elements of the parent to determine it, so we should give tuples of dictionaries or something like that. Not user friendly at all.\n\n2) If we set the differential after the object creation, the parent is mutable, which is a problem for pickling, unique representation and so on.\n\nSo after considering all, i think that this approach is a decent compromise between user friendlyness  and immutability",
    "created_at": "2014-06-21T19:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226735",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:9'></a>Replying to [comment:7 jhpalmieri]:
> I like the fact that the branch here uses `QuotientRing_nc`, which mine doesn't do. On the other hand, I think that a differential graded algebra should be endowed with a differential: the differential should not be a separate piece of structure.


I talked with saraedum about that. My original idea was that, but it had some problems:

1) If the differential is to be defined at creation time, we can not use elements of the parent to determine it, so we should give tuples of dictionaries or something like that. Not user friendly at all.

2) If we set the differential after the object creation, the parent is mutable, which is a problem for pickling, unique representation and so on.

So after considering all, i think that this approach is a decent compromise between user friendlyness  and immutability



---

archive/issue_comments_226736.json:
```json
{
    "body": "<a id='comment:10'></a>In talking with Miguel, we're thinking that I write the categories (using axioms) that holds the abstract and general/common methods. Then we (you and/or Miguel) have parents for `(Free)(Commutative)GradedAlgebra`, which we create first and pass to the differential version.\n\nI would like to have these categories for #15300 (Clifford/exterior algebras) anyways, and have opened #16513 for this.",
    "created_at": "2014-06-21T20:15:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226736",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>In talking with Miguel, we're thinking that I write the categories (using axioms) that holds the abstract and general/common methods. Then we (you and/or Miguel) have parents for `(Free)(Commutative)GradedAlgebra`, which we create first and pass to the differential version.

I would like to have these categories for #15300 (Clifford/exterior algebras) anyways, and have opened #16513 for this.



---

archive/issue_comments_226737.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:9 mmarco]:\n> Replying to [comment:7 jhpalmieri]:\n> > I like the fact that the branch here uses `QuotientRing_nc`, which mine doesn't do. On the other hand, I think that a differential graded algebra should be endowed with a differential: the differential should not be a separate piece of structure.\n\n> \n> I talked with saraedum about that. My original idea was that, but it had some problems:\n> \n> 1) If the differential is to be defined at creation time, we can not use elements of the parent to determine it, so we should give tuples of dictionaries or something like that. Not user friendly at all.\n> \n> 2) If we set the differential after the object creation, the parent is mutable, which is a problem for pickling, unique representation and so on.\n> \n> So after considering all, i think that this approach is a decent compromise between user friendlyness  and immutability\n\n\nTake a look at how I did it in my branch.",
    "created_at": "2014-06-21T20:25:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226737",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>Replying to [comment:9 mmarco]:
> Replying to [comment:7 jhpalmieri]:
> > I like the fact that the branch here uses `QuotientRing_nc`, which mine doesn't do. On the other hand, I think that a differential graded algebra should be endowed with a differential: the differential should not be a separate piece of structure.

> 
> I talked with saraedum about that. My original idea was that, but it had some problems:
> 
> 1) If the differential is to be defined at creation time, we can not use elements of the parent to determine it, so we should give tuples of dictionaries or something like that. Not user friendly at all.
> 
> 2) If we set the differential after the object creation, the parent is mutable, which is a problem for pickling, unique representation and so on.
> 
> So after considering all, i think that this approach is a decent compromise between user friendlyness  and immutability


Take a look at how I did it in my branch.



---

archive/issue_comments_226738.json:
```json
{
    "body": "<a id='comment:12'></a>Two more comments: \"DGA\" and \"CDGA\" are standard in the literature, but so is \"differential graded algebra\" (as opposed to \"graded differential algebra\").\n\nSecond, it would be very nice (for possible future implementation of spectral sequences) to allow grading by `Z x Z`, or indeed any free abelian group.",
    "created_at": "2014-06-21T20:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226738",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:12'></a>Two more comments: "DGA" and "CDGA" are standard in the literature, but so is "differential graded algebra" (as opposed to "graded differential algebra").

Second, it would be very nice (for possible future implementation of spectral sequences) to allow grading by `Z x Z`, or indeed any free abelian group.



---

archive/issue_comments_226739.json:
```json
{
    "body": "<a id='comment:13'></a>A question: what about hooking this into the graded commutative algebra class `sage.rings.polynomial.plural.SCA`?",
    "created_at": "2014-06-22T00:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226739",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:13'></a>A question: what about hooking this into the graded commutative algebra class `sage.rings.polynomial.plural.SCA`?



---

archive/issue_comments_226740.json:
```json
{
    "body": "<a id='comment:14'></a>SCA is just a function that returns a certain g_algebra quotient.\n\nWe already create that kind of quotient here, but with two advantages:\n\n1) We include the degrees in the definition of the g_algebra\n2) We allow quotient by arbitrary relations (not just the squares of the odd generators).",
    "created_at": "2014-06-22T00:44:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226740",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:14'></a>SCA is just a function that returns a certain g_algebra quotient.

We already create that kind of quotient here, but with two advantages:

1) We include the degrees in the definition of the g_algebra
2) We allow quotient by arbitrary relations (not just the squares of the odd generators).



---

archive/issue_comments_226741.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:13 jhpalmieri]:\n> A question: what about hooking this into the graded commutative algebra class `sage.rings.polynomial.plural.SCA`?\n\n\nAs Miguel stated, it's just a function which creates the super commutative algebra. What we'll do is replace that method with our parent and subsume `SCA`'s construction in the `__init__` of the parent.",
    "created_at": "2014-06-22T01:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226741",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>Replying to [comment:13 jhpalmieri]:
> A question: what about hooking this into the graded commutative algebra class `sage.rings.polynomial.plural.SCA`?


As Miguel stated, it's just a function which creates the super commutative algebra. What we'll do is replace that method with our parent and subsume `SCA`'s construction in the `__init__` of the parent.



---

archive/issue_comments_226742.json:
```json
{
    "body": "<a id='comment:16'></a>I'm trying to reconcile your comments with what I see in plural.pyx; see also http://www.singular.uni-kl.de/Manual/latest/sing_532.htm. `SCA` is defined in terms of the class `NCPolynomialRing_plural`, which uses Singular's `nc_algebra` function. I don't see any references in `quotient_ring.py` to `plural.pyx` or to `nc_algebra` or related Singular machinery, so the relationship between `QuotientRing_nc` and `SCA` is not clear to me.",
    "created_at": "2014-06-22T01:24:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226742",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:16'></a>I'm trying to reconcile your comments with what I see in plural.pyx; see also http://www.singular.uni-kl.de/Manual/latest/sing_532.htm. `SCA` is defined in terms of the class `NCPolynomialRing_plural`, which uses Singular's `nc_algebra` function. I don't see any references in `quotient_ring.py` to `plural.pyx` or to `nc_algebra` or related Singular machinery, so the relationship between `QuotientRing_nc` and `SCA` is not clear to me.



---

archive/issue_comments_226743.json:
```json
{
    "body": "<a id='comment:17'></a>If you look at the code of SCA, it is just a function that:\n\n- 1. Creates a Free Algebra\n- 2. Creates a dictionary with the commutatitivty/anticommutativity relations\n- 3.Creates the corresponding g-algebra\n- 4. Creates the ideal in the g-algebra generated by the squares of the odd generators\n- 5. returns the quotient of the g-algebra by the ideal\n\nThe result of this last operation is an object of type QuoitientRing_nc_with_category, that basically wraps the corresponding plural object.\n\nLook:\n\n```\nsage: from sage.rings.polynomial.plural import SCA\nsage: A=SCA(QQ,('x','y','z'),[0,1])\nsage: type(A)\n<class 'sage.rings.quotient_ring.QuotientRing_nc_with_category'>\nsage: A.__module__\n'sage.rings.quotient_ring'\n```\n\nQuotientRing_nc has no references to plural because it is created by passing already plural objects (the g-algebra and the ideal in this case), so it relies on the functionality that they provide.",
    "created_at": "2014-06-22T02:20:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226743",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:17'></a>If you look at the code of SCA, it is just a function that:

- 1. Creates a Free Algebra
- 2. Creates a dictionary with the commutatitivty/anticommutativity relations
- 3.Creates the corresponding g-algebra
- 4. Creates the ideal in the g-algebra generated by the squares of the odd generators
- 5. returns the quotient of the g-algebra by the ideal

The result of this last operation is an object of type QuoitientRing_nc_with_category, that basically wraps the corresponding plural object.

Look:

```
sage: from sage.rings.polynomial.plural import SCA
sage: A=SCA(QQ,('x','y','z'),[0,1])
sage: type(A)
<class 'sage.rings.quotient_ring.QuotientRing_nc_with_category'>
sage: A.__module__
'sage.rings.quotient_ring'
```

QuotientRing_nc has no references to plural because it is created by passing already plural objects (the g-algebra and the ideal in this case), so it relies on the functionality that they provide.



---

archive/issue_comments_226744.json:
```json
{
    "body": "Changing keywords from \"sd58, algebras, nonconmutative, graded\" to \"sd58, sd59, algebras, nonconmutative, graded\".",
    "created_at": "2014-06-22T05:17:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226744",
    "user": "https://github.com/tscrim"
}
```

Changing keywords from "sd58, algebras, nonconmutative, graded" to "sd58, sd59, algebras, nonconmutative, graded".



---

archive/issue_comments_226745.json:
```json
{
    "body": "<a id='comment:19'></a>I think I see. It looks like `QuotientRing_nc` doesn't have anything to do with plural, but it can take plural rings as arguments, which is what happens in your case.",
    "created_at": "2014-06-22T15:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226745",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:19'></a>I think I see. It looks like `QuotientRing_nc` doesn't have anything to do with plural, but it can take plural rings as arguments, which is what happens in your case.



---

archive/issue_comments_226746.json:
```json
{
    "body": "<a id='comment:20'></a>By the way, for both this ticket and #16513, in my branch the method `homology_algebra` is incomplete. I think that everything else works and has doctests.",
    "created_at": "2014-06-23T01:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226746",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:20'></a>By the way, for both this ticket and #16513, in my branch the method `homology_algebra` is incomplete. I think that everything else works and has doctests.



---

archive/issue_comments_226747.json:
```json
{
    "body": "<a id='comment:21'></a>BTW, what's in #16513 is (currently) skeletal code and will likely need to be merged simultaneously with this in order to have reasonable doctests (as opposed to just using a toy example, which we should implement in #16513).",
    "created_at": "2014-06-23T01:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226747",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:21'></a>BTW, what's in #16513 is (currently) skeletal code and will likely need to be merged simultaneously with this in order to have reasonable doctests (as opposed to just using a toy example, which we should implement in #16513).



---

archive/issue_comments_226748.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-23T07:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226748",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_226749.json:
```json
{
    "body": "<a id='comment:24'></a>I still haven't tried to use the new category. Will try to look at it tomorrow.\n\nIn the meantime, you can check this implementation.",
    "created_at": "2014-06-23T07:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226749",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:24'></a>I still haven't tried to use the new category. Will try to look at it tomorrow.

In the meantime, you can check this implementation.



---

archive/issue_comments_226750.json:
```json
{
    "body": "<a id='comment:25'></a>Here is a new branch: u/jhpalmieri/DGA_new. (Is there some sort of markup I can give to make that an active link? Should we make it the official branch attached to this ticket?)\n\nThis is a complete rewrite based on Miguel's version, and so built on top of `QuotientRing_nc`. Changes:\n\n- I removed all of the category stuff. That can go on a separate ticket (#16513).\n\n- I added the option to multi-grade the objects, using commands like\n\n```\nA.<x,y,z> = CDGAlgebra(QQ, degrees=((1,0), (0,1), (2,0)))\n```\n\n- Tinkered with documentation. Added the main file to the reference manual.\n\n- Various code modifications and clean up. Among other things:\n\n- Sped up `GCAlgebra.homogeneous_part`. The old version was `GCAlgebra.homogeneous_part`, the new version `GCAlgebra.basis`. In my current code, there is some caching going on, but when doing these timings, I disabled the caching.\n\n```\nsage: A.<t,x,y,z> = CDGAlgebra(QQ, degrees=(1,1,2,4))\nsage: A.homogeneous_part(10)\n[y*z^2, t*x*z^2, y^3*z, t*x*y^2*z, y^5, t*x*y^4]\nsage: A.basis(10)\n[t*x*z^2, t*x*y^2*z, t*x*y^4, y*z^2, y^3*z, y^5]\nsage: sorted(A.homogeneous_part(10)) == sorted(A.basis(10))\nTrue\nsage: sorted(A.homogeneous_part(40)) == sorted(A.basis(40))\nTrue\nsage: timeit('A.homogeneous_part(40)') # original version\n5 loops, best of 3: 440 ms per loop\nsage: timeit('A.basis(40)')            # new version\n25 loops, best of 3: 12.9 ms per loop\n```\n\n- Sped up `_call_` method for `CDGA_Differential`:\n\n```\nsage: A.<t,x,y,z> = CDGAlgebra(QQ, degrees=(1,1,2,4))\nsage: B = CDGAlgebra(A, differential={t:y, x:y})\nsage: a = t*x*y**20*z**20\nsage: timeit('B.differential()._call1_(a)')   # original version\n25 loops, best of 3: 19.6 ms per loop\nsage: timeit('B.differential()._call3_(a)')   # new version\n125 loops, best of 3: 2.38 ms per loop\n```\n\n- Rewrote `is_homogeneous` based on other such methods elsewhere in Sage. It's slightly faster this way.\n\n- Should it be \"commutative graded algebra\" or \"graded commutative algebra\"? I think the second is more standard \u2013 for example, the phrase \"graded commutativity\" is commonly used \u2013 and after some thought, that's what I used in the rewrite. (\"Commutative graded algebra\" sounds like a graded algebra that happens to be commutative, implying strict commutativity. In \"graded commutative algebra\", \"graded\" modifies both \"commutative\" and the algebra, so the algebra is graded and the commutativity has a sign coming from the grading. According to Google search, there are about four times as many hits for \"graded commutative algebra\" compared to \"commutative graded algebra\". Similarly for a search on http://mathoverflow.net.)\n\n- On the other hand, \"differential graded algebra\" is completely standard, and so is \"commutative differential graded algebra\". So the adjectives are not ordered consistently in the different types of algebras.\n\n- So the main classes and functions are `GCAlgebra` and `CDGAlgebra`. The second of these is the only thing imported at the top-level.\n\nComments and questions:\n\n1. `GCAlgebra._element_constructor_` works unexpectedly: if B and C are quotients of A, then you can convert elements of B to elements of C. For example:\n\n```\nsage: A.<x,y,z> = CDGAlgebra(QQ, degrees=(1, 2, 1))\nsage: B = A.quotient(A.ideal(z))\nsage: C = A.quotient(A.ideal(x*y))\nsage: C.inject_variables()\nDefining x, y, z\nsage: x*y\n0\nsage: B(x*y)\n0\nsage: B(x)*B(y)\nx*y\n```\n However, it looks like this is just a slightly modified version of the same method from `rings/quotient_ring.py`, so maybe we should leave it as is. Maybe that method could use some documentation, though.\n\n2. When initializing a graded commutative algebra, what should we do if neither ``names`` or ``degrees`` is specified (as in `GCAlgebra(QQ)`)? Right now I'm raising an error.\n\n3. `TestSuite` fails on these algebras: \n\n```\nThe following tests failed: _test_elements, _test_pickling\n```\n Is that important?",
    "created_at": "2014-08-01T19:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226750",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:25'></a>Here is a new branch: u/jhpalmieri/DGA_new. (Is there some sort of markup I can give to make that an active link? Should we make it the official branch attached to this ticket?)

This is a complete rewrite based on Miguel's version, and so built on top of `QuotientRing_nc`. Changes:

- I removed all of the category stuff. That can go on a separate ticket (#16513).

- I added the option to multi-grade the objects, using commands like

```
A.<x,y,z> = CDGAlgebra(QQ, degrees=((1,0), (0,1), (2,0)))
```

- Tinkered with documentation. Added the main file to the reference manual.

- Various code modifications and clean up. Among other things:

- Sped up `GCAlgebra.homogeneous_part`. The old version was `GCAlgebra.homogeneous_part`, the new version `GCAlgebra.basis`. In my current code, there is some caching going on, but when doing these timings, I disabled the caching.

```
sage: A.<t,x,y,z> = CDGAlgebra(QQ, degrees=(1,1,2,4))
sage: A.homogeneous_part(10)
[y*z^2, t*x*z^2, y^3*z, t*x*y^2*z, y^5, t*x*y^4]
sage: A.basis(10)
[t*x*z^2, t*x*y^2*z, t*x*y^4, y*z^2, y^3*z, y^5]
sage: sorted(A.homogeneous_part(10)) == sorted(A.basis(10))
True
sage: sorted(A.homogeneous_part(40)) == sorted(A.basis(40))
True
sage: timeit('A.homogeneous_part(40)') # original version
5 loops, best of 3: 440 ms per loop
sage: timeit('A.basis(40)')            # new version
25 loops, best of 3: 12.9 ms per loop
```

- Sped up `_call_` method for `CDGA_Differential`:

```
sage: A.<t,x,y,z> = CDGAlgebra(QQ, degrees=(1,1,2,4))
sage: B = CDGAlgebra(A, differential={t:y, x:y})
sage: a = t*x*y**20*z**20
sage: timeit('B.differential()._call1_(a)')   # original version
25 loops, best of 3: 19.6 ms per loop
sage: timeit('B.differential()._call3_(a)')   # new version
125 loops, best of 3: 2.38 ms per loop
```

- Rewrote `is_homogeneous` based on other such methods elsewhere in Sage. It's slightly faster this way.

- Should it be "commutative graded algebra" or "graded commutative algebra"? I think the second is more standard – for example, the phrase "graded commutativity" is commonly used – and after some thought, that's what I used in the rewrite. ("Commutative graded algebra" sounds like a graded algebra that happens to be commutative, implying strict commutativity. In "graded commutative algebra", "graded" modifies both "commutative" and the algebra, so the algebra is graded and the commutativity has a sign coming from the grading. According to Google search, there are about four times as many hits for "graded commutative algebra" compared to "commutative graded algebra". Similarly for a search on http://mathoverflow.net.)

- On the other hand, "differential graded algebra" is completely standard, and so is "commutative differential graded algebra". So the adjectives are not ordered consistently in the different types of algebras.

- So the main classes and functions are `GCAlgebra` and `CDGAlgebra`. The second of these is the only thing imported at the top-level.

Comments and questions:

1. `GCAlgebra._element_constructor_` works unexpectedly: if B and C are quotients of A, then you can convert elements of B to elements of C. For example:

```
sage: A.<x,y,z> = CDGAlgebra(QQ, degrees=(1, 2, 1))
sage: B = A.quotient(A.ideal(z))
sage: C = A.quotient(A.ideal(x*y))
sage: C.inject_variables()
Defining x, y, z
sage: x*y
0
sage: B(x*y)
0
sage: B(x)*B(y)
x*y
```
 However, it looks like this is just a slightly modified version of the same method from `rings/quotient_ring.py`, so maybe we should leave it as is. Maybe that method could use some documentation, though.

2. When initializing a graded commutative algebra, what should we do if neither ``names`` or ``degrees`` is specified (as in `GCAlgebra(QQ)`)? Right now I'm raising an error.

3. `TestSuite` fails on these algebras: 

```
The following tests failed: _test_elements, _test_pickling
```
 Is that important?



---

archive/issue_comments_226751.json:
```json
{
    "body": "<a id='comment:26'></a>Thanks for the work. I will leave on holidays tomorrow, so don't know when i will have time to look at it.\n\nJust a few quick comments:\n\nAbout the names... it seems to be several choices in the literature. I am ok with any of them. \n\nAbout the filing tests, as i mentioned before, is a problem that comes inherited from g-algebra quotients. It should be fixed in a different ticket.\n\nAbout the conversion between different quotients, i think it is ok. It is a conversion, not a coercion, so we can be much less strict. I think it makes sense to convert between parents with the same kind of structure and generators with the same names.\n\nAbout initializing without names and degrees, i think raising an error is the right thing to do. It is what happens if, for instance, you try to create a polynomial ring without the names of the generators.",
    "created_at": "2014-08-01T19:53:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226751",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:26'></a>Thanks for the work. I will leave on holidays tomorrow, so don't know when i will have time to look at it.

Just a few quick comments:

About the names... it seems to be several choices in the literature. I am ok with any of them. 

About the filing tests, as i mentioned before, is a problem that comes inherited from g-algebra quotients. It should be fixed in a different ticket.

About the conversion between different quotients, i think it is ok. It is a conversion, not a coercion, so we can be much less strict. I think it makes sense to convert between parents with the same kind of structure and generators with the same names.

About initializing without names and degrees, i think raising an error is the right thing to do. It is what happens if, for instance, you try to create a polynomial ring without the names of the generators.



---

archive/issue_comments_226752.json:
```json
{
    "body": "<a id='comment:27'></a>`@`jhpalmieri Easiest thing is to just change the branch since that is the current (most?) working version. Worst case we just change the branch back.\n\nI'm fine with this not depending on #16513. When I see Nicolas in 2 weeks, we'll work more on the category side of things. Plus if there is an actual implementation, it will make doing the doctesting much easier.\n\n---\nNew commits:",
    "created_at": "2014-08-01T21:47:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226752",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'></a>`@`jhpalmieri Easiest thing is to just change the branch since that is the current (most?) working version. Worst case we just change the branch back.

I'm fine with this not depending on #16513. When I see Nicolas in 2 weeks, we'll work more on the category side of things. Plus if there is an actual implementation, it will make doing the doctesting much easier.

---
New commits:



---

archive/issue_comments_226753.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -3,48 +3,37 @@\n They work as follows, first you create the algebra:\n \n ```\n-sage: A = CDGAlgebra(QQ, 'x,y,t', degrees = (1, 1, 2))\n+sage: A.<x,y,t> = CDGAlgebra(QQ, degrees = (1, 1, 2))\n sage: A\n-Commutative Graded Differential Algebra over Rational Field with generators ('x', 'y', 't')\n-sage: A.inject_variables()\n-Defining x, y, t\n+Graded Commutative Algebra over Rational Field with generators ('x', 'y', 't') in degrees (1, 1, 2)\n ```\n \n-Then define the differential:\n+Then define the differential on `A` to construct a differential graded algebra:\n \n ```\n-sage: D = A.differential({x: x*y , y: x*y })\n-sage: D\n-Differential map in Commutative Graded Differential Algebra over Rational Field with generators ('x', 'y', 't')\n-sending:\n+sage: sage: B = A.CDGAlgebra({x: x*y , y: x*y })\n+sage: B\n+Commutative Differential Graded Algebra over Rational Field with generators ('x', 'y', 't') in degrees (1, 1, 2), differential \n     x --> x*y\n     y --> x*y\n     t --> 0\n-\n ```\n \n Now you can compute things like a basis of each homogeneous part:\n \n ```\n-sage: A.homogeneous_part(5)\n+sage: B.basis(5)\n [y*t^2, x*t^2]\n ```\n \n-Or the cohomology at each degree:\n+Or the cohomology in each degree:\n \n ```\n-sage: A.cohomology(4, D)\n-Vector space quotient V/W of dimension 1 over Rational Field where\n-V: Vector space of degree 2 and dimension 2 over Rational Field\n-Basis matrix:\n-[1 0]\n-[0 1]\n-W: Vector space of degree 2 and dimension 1 over Rational Field\n-Basis matrix:\n-[0 1]\n+sage: B.cohomology(4)\n+Free module generated by {[t^2]} over Rational Field\n+sage: B.cohomology(9)\n+Free module generated by {[-x*t^4 + y*t^4]} over Rational Field\n ```\n-\n-Keywords: sd58, algebras, nonconmutative, graded\n \n Author: mmarco\n \n```\n",
    "created_at": "2014-08-03T16:53:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226753",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
```diff
--- 
+++ 
@@ -3,48 +3,37 @@
 They work as follows, first you create the algebra:
 
 ```
-sage: A = CDGAlgebra(QQ, 'x,y,t', degrees = (1, 1, 2))
+sage: A.<x,y,t> = CDGAlgebra(QQ, degrees = (1, 1, 2))
 sage: A
-Commutative Graded Differential Algebra over Rational Field with generators ('x', 'y', 't')
-sage: A.inject_variables()
-Defining x, y, t
+Graded Commutative Algebra over Rational Field with generators ('x', 'y', 't') in degrees (1, 1, 2)
 ```
 
-Then define the differential:
+Then define the differential on `A` to construct a differential graded algebra:
 
 ```
-sage: D = A.differential({x: x*y , y: x*y })
-sage: D
-Differential map in Commutative Graded Differential Algebra over Rational Field with generators ('x', 'y', 't')
-sending:
+sage: sage: B = A.CDGAlgebra({x: x*y , y: x*y })
+sage: B
+Commutative Differential Graded Algebra over Rational Field with generators ('x', 'y', 't') in degrees (1, 1, 2), differential 
     x --> x*y
     y --> x*y
     t --> 0
-
 ```
 
 Now you can compute things like a basis of each homogeneous part:
 
 ```
-sage: A.homogeneous_part(5)
+sage: B.basis(5)
 [y*t^2, x*t^2]
 ```
 
-Or the cohomology at each degree:
+Or the cohomology in each degree:
 
 ```
-sage: A.cohomology(4, D)
-Vector space quotient V/W of dimension 1 over Rational Field where
-V: Vector space of degree 2 and dimension 2 over Rational Field
-Basis matrix:
-[1 0]
-[0 1]
-W: Vector space of degree 2 and dimension 1 over Rational Field
-Basis matrix:
-[0 1]
+sage: B.cohomology(4)
+Free module generated by {[t^2]} over Rational Field
+sage: B.cohomology(9)
+Free module generated by {[-x*t^4 + y*t^4]} over Rational Field
 ```
-
-Keywords: sd58, algebras, nonconmutative, graded
 
 Author: mmarco
 
```




---

archive/issue_events_048498.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16508#event-48498"
}
```



---

archive/issue_comments_226754.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-08-27T18:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226754",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_226755.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-03T20:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226755",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_226756.json:
```json
{
    "body": "<a id='comment:32'></a>Ping...",
    "created_at": "2014-10-03T20:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226756",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:32'></a>Ping...



---

archive/issue_comments_226757.json:
```json
{
    "body": "<a id='comment:33'></a>By the way, I found the branch here very useful in computing some examples related to http://mathoverflow.net/questions/182437/is-homology-finitely-generated-as-an-algebra.",
    "created_at": "2014-10-03T21:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226757",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:33'></a>By the way, I found the branch here very useful in computing some examples related to http://mathoverflow.net/questions/182437/is-homology-finitely-generated-as-an-algebra.



---

archive/issue_comments_226758.json:
```json
{
    "body": "<a id='comment:34'></a>Sorry, I didn't get much of a change to talk with Nicolas about the categories. However this ticket is the next on my to-do list of reviews (once I get done with math stuff).",
    "created_at": "2014-10-03T21:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226758",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:34'></a>Sorry, I didn't get much of a change to talk with Nicolas about the categories. However this ticket is the next on my to-do list of reviews (once I get done with math stuff).



---

archive/issue_comments_226759.json:
```json
{
    "body": "<a id='comment:35'></a>Replying to [comment:33 jhpalmieri]:\n> By the way, I found the branch here very useful in computing some examples related to http://mathoverflow.net/questions/182437/is-homology-finitely-generated-as-an-algebra.\n\n\nSo i guess that means that we cannot write a method to compute the cohomology algebra of a cdga. Unless there is some algorithm that can compute it in some cases. Or that we somehow implement infinitely generated cdga's.",
    "created_at": "2014-10-03T21:29:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226759",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:35'></a>Replying to [comment:33 jhpalmieri]:
> By the way, I found the branch here very useful in computing some examples related to http://mathoverflow.net/questions/182437/is-homology-finitely-generated-as-an-algebra.


So i guess that means that we cannot write a method to compute the cohomology algebra of a cdga. Unless there is some algorithm that can compute it in some cases. Or that we somehow implement infinitely generated cdga's.



---

archive/issue_comments_226760.json:
```json
{
    "body": "<a id='comment:36'></a>Replying to [comment:35 mmarco]:\n\n> So i guess that means that we cannot write a method to compute the cohomology algebra of a cdga. \n\n\nPossibly in positive characteristic, and in general, we can compute the cohomology algebra through a range of degrees. That might be worthwhile.",
    "created_at": "2014-10-03T21:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226760",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:36'></a>Replying to [comment:35 mmarco]:

> So i guess that means that we cannot write a method to compute the cohomology algebra of a cdga. 


Possibly in positive characteristic, and in general, we can compute the cohomology algebra through a range of degrees. That might be worthwhile.



---

archive/issue_comments_226761.json:
```json
{
    "body": "<a id='comment:37'></a>Replying to [comment:35 mmarco]:\n> So i guess that means that we cannot write a method to compute the cohomology algebra of a cdga. Unless there is some algorithm that can compute it in some cases. Or that we somehow implement infinitely generated cdga's.\n\n\nWe currently don't have any support for (possibly) infinite (co)chain complexes, but it should be easy enough to implement by doing something like\n\n```python\nclass InfiniteChainComplex(Parent):\n    def __init__(self, grading_group, degree, chain_map, etc):\n        # Store all of the necessary input data\n\n    def homology(self, i, R):\n        # Return the homology of a finite chain complex that\n        #   determines the i-th homology (i.e., truncate ``self``)\n```\n\nSide note - As far as I know, we don't have a way to compute the cup product in Sage (but I haven't looked very hard). I think this would be useful. I also found this on a quick web search: http://www.pawelpilarczyk.com/preprint/2013cubi.pdf.",
    "created_at": "2014-10-03T22:22:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226761",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:37'></a>Replying to [comment:35 mmarco]:
> So i guess that means that we cannot write a method to compute the cohomology algebra of a cdga. Unless there is some algorithm that can compute it in some cases. Or that we somehow implement infinitely generated cdga's.


We currently don't have any support for (possibly) infinite (co)chain complexes, but it should be easy enough to implement by doing something like

```python
class InfiniteChainComplex(Parent):
    def __init__(self, grading_group, degree, chain_map, etc):
        # Store all of the necessary input data

    def homology(self, i, R):
        # Return the homology of a finite chain complex that
        #   determines the i-th homology (i.e., truncate ``self``)
```

Side note - As far as I know, we don't have a way to compute the cup product in Sage (but I haven't looked very hard). I think this would be useful. I also found this on a quick web search: http://www.pawelpilarczyk.com/preprint/2013cubi.pdf.



---

archive/issue_comments_226762.json:
```json
{
    "body": "<a id='comment:38'></a>For cup products, no, we can't do it. I've thought about it on and off, but never enough to do anything about it. See #6102 (and also #6101). I've found some other papers which might be useful. At some point I should add some references to #6102.",
    "created_at": "2014-10-03T22:56:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226762",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:38'></a>For cup products, no, we can't do it. I've thought about it on and off, but never enough to do anything about it. See #6102 (and also #6101). I've found some other papers which might be useful. At some point I should add some references to #6102.



---

archive/issue_comments_226763.json:
```json
{
    "body": "<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-22T23:18:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226763",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_226764.json:
```json
{
    "body": "<a id='comment:40'></a>After a discussion with Travis, I changed the top-level function from `CDGAlgebra` to `GradedCommutativeAlgebra`. Its job is just to create either singly- or multi-graded commutative algebras, creating an instance of the relevant class. Users can then construct commutative DG algebras using the `CDGAlgebra` method on the graded commutative algebras.",
    "created_at": "2014-10-22T23:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226764",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:40'></a>After a discussion with Travis, I changed the top-level function from `CDGAlgebra` to `GradedCommutativeAlgebra`. Its job is just to create either singly- or multi-graded commutative algebras, creating an instance of the relevant class. Users can then construct commutative DG algebras using the `CDGAlgebra` method on the graded commutative algebras.



---

archive/issue_comments_226765.json:
```json
{
    "body": "<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-26T05:14:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226765",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_226766.json:
```json
{
    "body": "<a id='comment:42'></a>Okay here's my first big pass of review. I've reworked a bunch of things:\n\n- Differentials are linear, so they are in the category of modules morphisms.\n- Differentials now are endomorphisms of a `CGAlgebra`.\n- Implemented coercions between `GCAlgebra` and `CDGAlgebra`.\n- Added `TestSuite` checks (which led to #17224).\n- I put the `over {base_ring}` last for `CGAlgebra` to better follow the rest of Sage.\n- Cleaned up the doc.\n\nThere will be more changes and improvements coming, but I figured I should post what I have currently. In particular, I'm going to tweaks things around so that the differential specified for `CDGAlgebra` acts naturally on its elements rather than using the coercions. I'm also going to implement a method to create a differential morphism, in case someone has a use for that independently.\n\nActually, that makes me ask this question. Should we put all of the chain complex implementations in the differentials? If so, should we have (decorator) class of `CDGAlgebra` call those functions (which would mainly be a shorthand) or remove that class all together?\n\n---\nNew commits:",
    "created_at": "2014-10-26T07:07:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226766",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:42'></a>Okay here's my first big pass of review. I've reworked a bunch of things:

- Differentials are linear, so they are in the category of modules morphisms.
- Differentials now are endomorphisms of a `CGAlgebra`.
- Implemented coercions between `GCAlgebra` and `CDGAlgebra`.
- Added `TestSuite` checks (which led to #17224).
- I put the `over {base_ring}` last for `CGAlgebra` to better follow the rest of Sage.
- Cleaned up the doc.

There will be more changes and improvements coming, but I figured I should post what I have currently. In particular, I'm going to tweaks things around so that the differential specified for `CDGAlgebra` acts naturally on its elements rather than using the coercions. I'm also going to implement a method to create a differential morphism, in case someone has a use for that independently.

Actually, that makes me ask this question. Should we put all of the chain complex implementations in the differentials? If so, should we have (decorator) class of `CDGAlgebra` call those functions (which would mainly be a shorthand) or remove that class all together?

---
New commits:



---

archive/issue_comments_226767.json:
```json
{
    "body": "<a id='comment:43'></a>Replying to [comment:42 tscrim]:\n> Actually, that makes me ask this question. Should we put all of the chain complex implementations in the differentials? If so, should we have (decorator) class of `CDGAlgebra` call those functions (which would mainly be a shorthand) or remove that class all together?\n\n\nWhat syntax are you imagining? `A.differential().cohomology()`? Something like this would not be discoverable by tab completion. I think it makes a lot of sense to have a class for commutative DG algebras, and for instances of those, you should be able to call `B.cohomology()`, etc.",
    "created_at": "2014-10-26T22:51:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226767",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:43'></a>Replying to [comment:42 tscrim]:
> Actually, that makes me ask this question. Should we put all of the chain complex implementations in the differentials? If so, should we have (decorator) class of `CDGAlgebra` call those functions (which would mainly be a shorthand) or remove that class all together?


What syntax are you imagining? `A.differential().cohomology()`? Something like this would not be discoverable by tab completion. I think it makes a lot of sense to have a class for commutative DG algebras, and for instances of those, you should be able to call `B.cohomology()`, etc.



---

archive/issue_comments_226768.json:
```json
{
    "body": "<a id='comment:44'></a>Replying to [comment:43 jhpalmieri]:\n> What syntax are you imagining? `A.differential().cohomology()`? Something like this would not be discoverable by tab completion. I think it makes a lot of sense to have a class for commutative DG algebras, and for instances of those, you should be able to call `B.cohomology()`, etc.\n\n\nThat's no more tab completable than `A.CDGAlgebra().cohomology()`. The semantic would be `d = A.differential({some: data})`. However I'm not saying that removing the `CDGAlgebra` class is the best or right thing to do based on my current data/ideas. Yet I'm thinking of putting the actually implementations in the differential class and having `CDGAlgebra`'s corresponding methods call the corresponding differential's method in case we want to remove the class. IMO those methods fits naturally with the differential as well.",
    "created_at": "2014-10-27T03:11:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226768",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:44'></a>Replying to [comment:43 jhpalmieri]:
> What syntax are you imagining? `A.differential().cohomology()`? Something like this would not be discoverable by tab completion. I think it makes a lot of sense to have a class for commutative DG algebras, and for instances of those, you should be able to call `B.cohomology()`, etc.


That's no more tab completable than `A.CDGAlgebra().cohomology()`. The semantic would be `d = A.differential({some: data})`. However I'm not saying that removing the `CDGAlgebra` class is the best or right thing to do based on my current data/ideas. Yet I'm thinking of putting the actually implementations in the differential class and having `CDGAlgebra`'s corresponding methods call the corresponding differential's method in case we want to remove the class. IMO those methods fits naturally with the differential as well.



---

archive/issue_comments_226769.json:
```json
{
    "body": "<a id='comment:45'></a>From my point of view, doing `B=A.CDGAlgebra(...)` and then manipulating `B` feels like the natural thing: I view the differential graded algebra as the central object of study here. Doing instead `d=A.differential(...)` and then manipulating `d` would not be the obvious thing to do at all.\n\nSo as long as in this situation, `B.cohomology(...)` (etc.) works, I don't think I care about how it's implemented.",
    "created_at": "2014-10-27T05:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226769",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:45'></a>From my point of view, doing `B=A.CDGAlgebra(...)` and then manipulating `B` feels like the natural thing: I view the differential graded algebra as the central object of study here. Doing instead `d=A.differential(...)` and then manipulating `d` would not be the obvious thing to do at all.

So as long as in this situation, `B.cohomology(...)` (etc.) works, I don't think I care about how it's implemented.



---

archive/issue_comments_226770.json:
```json
{
    "body": "<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-02T18:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226770",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_226771.json:
```json
{
    "body": "<a id='comment:47'></a>Replying to [comment:45 jhpalmieri]:\n> From my point of view, doing `B=A.CDGAlgebra(...)` and then manipulating `B` feels like the natural thing: I view the differential graded algebra as the central object of study here. Doing instead `d=A.differential(...)` and then manipulating `d` would not be the obvious thing to do at all.\n> \n> So as long as in this situation, `B.cohomology(...)` (etc.) works, I don't think I care about how it's implemented.\n\n\nNow we can do both. I've also made the other changes I stated. There's one last thing, there is the method `CDGAlgebra` and the class `CDGAlgebra`, and if things are reordered in the module, you get failures from a name conflict. So the question is do we want to rename the method and fully spell that out to `commutative_differential_graded_algebra` and/or the shorter `cdg_algebra`, or do we leave it as it is? I'm strongly in favor of renaming the method to something else.",
    "created_at": "2014-11-02T18:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226771",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:47'></a>Replying to [comment:45 jhpalmieri]:
> From my point of view, doing `B=A.CDGAlgebra(...)` and then manipulating `B` feels like the natural thing: I view the differential graded algebra as the central object of study here. Doing instead `d=A.differential(...)` and then manipulating `d` would not be the obvious thing to do at all.
> 
> So as long as in this situation, `B.cohomology(...)` (etc.) works, I don't think I care about how it's implemented.


Now we can do both. I've also made the other changes I stated. There's one last thing, there is the method `CDGAlgebra` and the class `CDGAlgebra`, and if things are reordered in the module, you get failures from a name conflict. So the question is do we want to rename the method and fully spell that out to `commutative_differential_graded_algebra` and/or the shorter `cdg_algebra`, or do we leave it as it is? I'm strongly in favor of renaming the method to something else.



---

archive/issue_comments_226772.json:
```json
{
    "body": "<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-03T22:28:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226772",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_226773.json:
```json
{
    "body": "<a id='comment:49'></a>I've made a few changes: maybe most crucially but also most trivially, there was a missing `EXAMPLES::` that was causing docbuilding to fail. \n\nThen I renamed some classes. The one I feel most strongly about is `DifferentialCGA`: to me, this sounds like a \"differential commutative graded algebra\", not a \"differential defined on a commutative graded algebra\". So I just renamed it to `Differential`. I changed `CDGAlgebra` to `DifferentialGCAlgebra`. (I toyed with `GCAlgebraWithDifferential`, but didn't like it as much. I don't care that much, since these class names won't be that visible to most users.)\n\nI also added a bit to the docstrings for the two `CDGAlgebra` methods.",
    "created_at": "2014-11-03T22:32:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226773",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:49'></a>I've made a few changes: maybe most crucially but also most trivially, there was a missing `EXAMPLES::` that was causing docbuilding to fail. 

Then I renamed some classes. The one I feel most strongly about is `DifferentialCGA`: to me, this sounds like a "differential commutative graded algebra", not a "differential defined on a commutative graded algebra". So I just renamed it to `Differential`. I changed `CDGAlgebra` to `DifferentialGCAlgebra`. (I toyed with `GCAlgebraWithDifferential`, but didn't like it as much. I don't care that much, since these class names won't be that visible to most users.)

I also added a bit to the docstrings for the two `CDGAlgebra` methods.



---

archive/issue_comments_226774.json:
```json
{
    "body": "<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-04T18:30:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226774",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_226775.json:
```json
{
    "body": "<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-04T18:32:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226775",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_226776.json:
```json
{
    "body": "<a id='comment:52'></a>Replying to [comment:49 jhpalmieri]:\n> I've made a few changes: maybe most crucially but also most trivially, there was a missing `EXAMPLES::` that was causing docbuilding to fail. \n\n\nWhoops.\n\n> Then I renamed some classes. The one I feel most strongly about is `DifferentialCGA`: to me, this sounds like a \"differential commutative graded algebra\", not a \"differential defined on a commutative graded algebra\". So I just renamed it to `Differential`. I changed `CDGAlgebra` to `DifferentialGCAlgebra`. (I toyed with `GCAlgebraWithDifferential`, but didn't like it as much. I don't care that much, since these class names won't be that visible to most users.)\n\n\nI'm happy with this name change (it gets the association from the module name). However I've rename the method `CDGAlgebra` to `cdg_algbra` match conventions.\n\n> I also added a bit to the docstrings for the two `CDGAlgebra` methods.\n\n\nLooks good. So if you're happy with my changes, then I think we can set a positive review.",
    "created_at": "2014-11-04T18:32:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226776",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:52'></a>Replying to [comment:49 jhpalmieri]:
> I've made a few changes: maybe most crucially but also most trivially, there was a missing `EXAMPLES::` that was causing docbuilding to fail. 


Whoops.

> Then I renamed some classes. The one I feel most strongly about is `DifferentialCGA`: to me, this sounds like a "differential commutative graded algebra", not a "differential defined on a commutative graded algebra". So I just renamed it to `Differential`. I changed `CDGAlgebra` to `DifferentialGCAlgebra`. (I toyed with `GCAlgebraWithDifferential`, but didn't like it as much. I don't care that much, since these class names won't be that visible to most users.)


I'm happy with this name change (it gets the association from the module name). However I've rename the method `CDGAlgebra` to `cdg_algbra` match conventions.

> I also added a bit to the docstrings for the two `CDGAlgebra` methods.


Looks good. So if you're happy with my changes, then I think we can set a positive review.



---

archive/issue_comments_226777.json:
```json
{
    "body": "<a id='comment:53'></a>Travis, should you be listed as an author in the file `commutative_dga.py`?",
    "created_at": "2014-11-04T21:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226777",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:53'></a>Travis, should you be listed as an author in the file `commutative_dga.py`?



---

archive/issue_comments_226778.json:
```json
{
    "body": "<a id='comment:54'></a>I don't consider myself as an author since I mostly just reorganized code and did touch-ups.",
    "created_at": "2014-11-04T23:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226778",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:54'></a>I don't consider myself as an author since I mostly just reorganized code and did touch-ups.



---

archive/issue_comments_226779.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-05T06:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226779",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_048499.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-14T21:01:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16508#event-48499"
}
```



---

archive/issue_comments_226780.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-11-14T21:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226780",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_226781.json:
```json
{
    "body": "<a id='comment:57'></a>See #21845 as a followup: cohomology algebra generators.",
    "created_at": "2016-11-08T19:58:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16508#issuecomment-226781",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:57'></a>See #21845 as a followup: cohomology algebra generators.
