# Issue 16461: Difference families... and more BIBD

archive/issues_016224.json:
```json
{
    "body": "A file for difference families and the associated BIBD constructions.\n\nAlso\n- some simplifications for BIBD with k=4,5\n- some new BIBD with k=6,7,...\n\nCC:  @nathanncohen\n\nBranch/Commit: 0380ead2db09b903f25ef9204ed8b2f1f66cfd20\n\nReviewer: Nathann Cohen\n\nAuthor: Vincent Delecroix\n\nDependencies: #16464, #16391\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16461\n\n",
    "closed_at": "2014-06-18T14:11:24Z",
    "created_at": "2014-06-09T13:43:48Z",
    "labels": [
        "component: combinatorial designs"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Difference families... and more BIBD",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16461",
    "user": "https://github.com/videlec"
}
```
A file for difference families and the associated BIBD constructions.

Also
- some simplifications for BIBD with k=4,5
- some new BIBD with k=6,7,...

CC:  @nathanncohen

Branch/Commit: 0380ead2db09b903f25ef9204ed8b2f1f66cfd20

Reviewer: Nathann Cohen

Author: Vincent Delecroix

Dependencies: #16464, #16391

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16461





---

archive/issue_comments_225848.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n Also\n - some simplifications for BIBD with k=4,5\n-- some new BIBD with k=6,7 (and more)\n+- some new BIBD with k=6,7,...\n \n Author: Vincent Delecroix\n \n```\n",
    "created_at": "2014-06-09T13:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225848",
    "user": "https://github.com/videlec"
}
```

Description changed:
```diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 Also
 - some simplifications for BIBD with k=4,5
-- some new BIBD with k=6,7 (and more)
+- some new BIBD with k=6,7,...
 
 Author: Vincent Delecroix
 
```




---

archive/issue_comments_225849.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2014-06-09T13:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225849",
    "user": "https://github.com/videlec"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_225850.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-09T13:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225850",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_225851.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-06-09T14:38:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225851",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_225852.json:
```json
{
    "body": "<a id='comment:2'></a>Wow. Coool to see something happend there ! Thanks for the work ! `:-)`\n\nHere is a first-pass-review. \n\n- The new file should be added to the doc\n\n- \"Associates to n is a dictionnary\"\n\n- Could you add references for the DF ? (even if it is always \"from the handbook\")\n\n- Unless you add a definition of what a DF is at the head of `difference_family.py` I would say that your \"todo\" belongs to the constructor, after the def.\n\n- All functions need a docstring.\n\n- `zmod_or_finite_field` : why not always use a GF ? By the way the name of this function is not sufficiently descriptive. Same for `group_law`\n\n- About `group_law` : I was telling Nicolas the other day how it would be more proper to have a category `Groups()` which would be \"any kind of group\" and also have a \"MultiplicativeGroups()` category for ... well, multiplicative groups.\n\n- `quadratic_residues`, `quartic_residues` and `cyclotomic_cosets` belong to the Fields code (and probably to another patch, so that the Fields guys see that it is being added)\n\n- Could you add a SEEALSO link from is_difference_family to difference_family, as the latter contains the actual definition of a DF ?\n\n- I expect that _have_distinct_images would be faster if you added all elements to the set directly (i.e. `set(map(f,elts))` then checked that it has the right size. This way you do not 1) check that the element is in the set 2) add it, i.e. two `log(n)` computations.\n\n- `difference_family` needs an INPUT section (and could be linked toward `http://en.wikipedia.org/wiki/Difference_set`).\n\n- `have_distinct_images` too\n\n- Shouldn't  `Return a `(k,l)`-difference family` use \"lambda\" instead ? You use both `l` and `lambda` in the docstring. I think I saw `lambd` or `lam` used once.\n\n- You don't need to check that the value of 'l' is correct when you computed it yourself. It belongs to the \"else\" group above.\n\n- `such that the set of differences seen as a multi-set contains` : it does not say what the \"set of differences\" actually is, i.e. the union of the sets of differences corresponding to every set of the family... This sentence isn't very clear either, it may deserve another sentence.\n\n- `is_difference_family` -- looks like the case when one of the \"sets\" of the DF contains the same element twice is handled correctly, but maybe it should deserves an explicit error ? Especially for things like the set `[0,5,10,15]` over `GF(5**4)` which may not be obvious.\n\n- Languages should have built-in functions so that \"{} times\" becomes \"{} time\" when `{} == 1` `:-P`\n\n- why `DF_constructions[v][k,l]` instead of `DF_constructions[v,k,l]` ?\n\n- I still have not read/checked the main function, i.e. `difference_family`.\n\nNathann",
    "created_at": "2014-06-09T14:38:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225852",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:2'></a>Wow. Coool to see something happend there ! Thanks for the work ! `:-)`

Here is a first-pass-review. 

- The new file should be added to the doc

- "Associates to n is a dictionnary"

- Could you add references for the DF ? (even if it is always "from the handbook")

- Unless you add a definition of what a DF is at the head of `difference_family.py` I would say that your "todo" belongs to the constructor, after the def.

- All functions need a docstring.

- `zmod_or_finite_field` : why not always use a GF ? By the way the name of this function is not sufficiently descriptive. Same for `group_law`

- About `group_law` : I was telling Nicolas the other day how it would be more proper to have a category `Groups()` which would be "any kind of group" and also have a "MultiplicativeGroups()` category for ... well, multiplicative groups.

- `quadratic_residues`, `quartic_residues` and `cyclotomic_cosets` belong to the Fields code (and probably to another patch, so that the Fields guys see that it is being added)

- Could you add a SEEALSO link from is_difference_family to difference_family, as the latter contains the actual definition of a DF ?

- I expect that _have_distinct_images would be faster if you added all elements to the set directly (i.e. `set(map(f,elts))` then checked that it has the right size. This way you do not 1) check that the element is in the set 2) add it, i.e. two `log(n)` computations.

- `difference_family` needs an INPUT section (and could be linked toward `http://en.wikipedia.org/wiki/Difference_set`).

- `have_distinct_images` too

- Shouldn't  `Return a `(k,l)`-difference family` use "lambda" instead ? You use both `l` and `lambda` in the docstring. I think I saw `lambd` or `lam` used once.

- You don't need to check that the value of 'l' is correct when you computed it yourself. It belongs to the "else" group above.

- `such that the set of differences seen as a multi-set contains` : it does not say what the "set of differences" actually is, i.e. the union of the sets of differences corresponding to every set of the family... This sentence isn't very clear either, it may deserve another sentence.

- `is_difference_family` -- looks like the case when one of the "sets" of the DF contains the same element twice is handled correctly, but maybe it should deserves an explicit error ? Especially for things like the set `[0,5,10,15]` over `GF(5**4)` which may not be obvious.

- Languages should have built-in functions so that "{} times" becomes "{} time" when `{} == 1` `:-P`

- why `DF_constructions[v][k,l]` instead of `DF_constructions[v,k,l]` ?

- I still have not read/checked the main function, i.e. `difference_family`.

Nathann



---

archive/issue_comments_225853.json:
```json
{
    "body": "<a id='comment:3'></a>Another remark : you removed difference families from the code for `(37,4),(21,5),(41,5),(61,5),(281,5)`. Those difference families are needed for the BIBD constructions, so could you add a doctests somewhere to make sure they are always generated by your functions ? Thanks !\n\nNathann",
    "created_at": "2014-06-09T14:57:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225853",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>Another remark : you removed difference families from the code for `(37,4),(21,5),(41,5),(61,5),(281,5)`. Those difference families are needed for the BIBD constructions, so could you add a doctests somewhere to make sure they are always generated by your functions ? Thanks !

Nathann



---

archive/issue_comments_225854.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:2 ncohen comment 2]:\n> Wow. Coool to see something happend there ! Thanks for the work ! `:-)`\n> \n> Here is a first-pass-review. \n\n\nThanks. I just answer to the remarks for which it is not clear to me what to do.\n\n> - About `group_law` : I was telling Nicolas the other day how it would be more proper to have a category `Groups()` which would be \"any kind of group\" and also have a \"MultiplicativeGroups()` category for ... well, multiplicative groups.\n\n\nBut then how do you get the group law? I would be happy to see my `group_law` method as a method of any group. Tell Nicolas, that the power set of a set with the operation of symmetric difference is also a group... which is neither additive nor multiplicative ;-)\n\n> - `quadratic_residues`, `quartic_residues` and `cyclotomic_cosets` belong to the Fields code (and probably to another patch, so that the Fields guys see that it is being added)\n\n\nProblem1: `quadratic_residues` is already a function that takes an integer `n` as input and return the squares modulo `n`. The ouptut are sage `Integer`. So it does not fit very well as I need finite field which are not necessarily primes. Idem for `cyclotomic_cosets`.\n\n> - I expect that _have_distinct_images would be faster if you added all elements to the set directly (i.e. `set(map(f,elts))` then checked that it has the right size. This way you do not 1) check that the element is in the set 2) add it, i.e. two `log(n)` computations.\n\n\nAs my set are rather small, you are probably right.\n\n> - `is_difference_family` -- looks like the case when one of the \"sets\" of the DF contains the same element twice is handled correctly, but maybe it should deserves an explicit error ? Especially for things like the set `[0,5,10,15]` over `GF(5**4)` which may not be obvious.\n\n\nSuch blocks might be valid for lambda > 1. (but note that `0=5=10=15` in your `GF(5**4)`).\n\n> - I still have not read/checked the main function, i.e. `difference_family`.\n\n\nNo hurry. I have to do the changes.\n\nReplying to [comment:3 ncohen comment 3]\n> Another remark : you removed difference families from the code for (37,4),(21,5),(41,5),(61,5),(281,5). Those difference families are needed for the BIBD constructions, so could you add a doctests somewhere to make sure they are always generated by your functions ? Thanks ! \n\n\nIt is already (partly) tested in the `bibd.py` file. But I will add something more explicit.\n\nVincent",
    "created_at": "2014-06-09T15:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225854",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>Replying to [comment:2 ncohen comment 2]:
> Wow. Coool to see something happend there ! Thanks for the work ! `:-)`
> 
> Here is a first-pass-review. 


Thanks. I just answer to the remarks for which it is not clear to me what to do.

> - About `group_law` : I was telling Nicolas the other day how it would be more proper to have a category `Groups()` which would be "any kind of group" and also have a "MultiplicativeGroups()` category for ... well, multiplicative groups.


But then how do you get the group law? I would be happy to see my `group_law` method as a method of any group. Tell Nicolas, that the power set of a set with the operation of symmetric difference is also a group... which is neither additive nor multiplicative ;-)

> - `quadratic_residues`, `quartic_residues` and `cyclotomic_cosets` belong to the Fields code (and probably to another patch, so that the Fields guys see that it is being added)


Problem1: `quadratic_residues` is already a function that takes an integer `n` as input and return the squares modulo `n`. The ouptut are sage `Integer`. So it does not fit very well as I need finite field which are not necessarily primes. Idem for `cyclotomic_cosets`.

> - I expect that _have_distinct_images would be faster if you added all elements to the set directly (i.e. `set(map(f,elts))` then checked that it has the right size. This way you do not 1) check that the element is in the set 2) add it, i.e. two `log(n)` computations.


As my set are rather small, you are probably right.

> - `is_difference_family` -- looks like the case when one of the "sets" of the DF contains the same element twice is handled correctly, but maybe it should deserves an explicit error ? Especially for things like the set `[0,5,10,15]` over `GF(5**4)` which may not be obvious.


Such blocks might be valid for lambda > 1. (but note that `0=5=10=15` in your `GF(5**4)`).

> - I still have not read/checked the main function, i.e. `difference_family`.


No hurry. I have to do the changes.

Replying to [comment:3 ncohen comment 3]
> Another remark : you removed difference families from the code for (37,4),(21,5),(41,5),(61,5),(281,5). Those difference families are needed for the BIBD constructions, so could you add a doctests somewhere to make sure they are always generated by your functions ? Thanks ! 


It is already (partly) tested in the `bibd.py` file. But I will add something more explicit.

Vincent



---

archive/issue_comments_225855.json:
```json
{
    "body": "<a id='comment:5'></a>Yooooooooo !\n\n> But then how do you get the group law? \n\n\nIt's unrelated. My remark was just that this is wrong :\n\n```\nsage: groups.misc.AdditiveCyclic(4) in Groups()\nFalse\n```\n\nWhat we have now is that `MultiplicativeGroups` is improperly called \"groups\". That's just about the thing's name.\n\n> I would be happy to see my `group_law` method as a method of any group.\n\n\nWe, it could definitely be the first method of a `Groups()` category !\n\n> Tell Nicolas, that the power set of a set with the operation of symmetric difference is also a group... which is neither additive nor multiplicative ;-)\n\n\nWell, you got the email so tell him. That's actually dead right !\n\n> Problem1: `quadratic_residues` is already a function that takes an integer `n` as input and return the squares modulo `n`. The ouptut are sage `Integer`. So it does not fit very well as I need finite field which are not necessarily primes. Idem for `cyclotomic_cosets`.\n\n\nquadratic_residues is a function from the global namespace. What you are implementing is a method of Fields, isn't it ?\n\n> Such blocks might be valid for lambda > 1. (but note that `0=5=10=15` in your `GF(5**4)`).\n\n\nThat's exactly why I picked those values. Are you allowed to have the same element twice in a set of a difference family ?\n\n> It is already (partly) tested in the `bibd.py` file. But I will add something more explicit.\n\n\nYes yes, I just worried that it could only be triggered when you try to compute exhaustively all BIBD for n<500 or something.\n\nNathann",
    "created_at": "2014-06-09T15:58:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225855",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>Yooooooooo !

> But then how do you get the group law? 


It's unrelated. My remark was just that this is wrong :

```
sage: groups.misc.AdditiveCyclic(4) in Groups()
False
```

What we have now is that `MultiplicativeGroups` is improperly called "groups". That's just about the thing's name.

> I would be happy to see my `group_law` method as a method of any group.


We, it could definitely be the first method of a `Groups()` category !

> Tell Nicolas, that the power set of a set with the operation of symmetric difference is also a group... which is neither additive nor multiplicative ;-)


Well, you got the email so tell him. That's actually dead right !

> Problem1: `quadratic_residues` is already a function that takes an integer `n` as input and return the squares modulo `n`. The ouptut are sage `Integer`. So it does not fit very well as I need finite field which are not necessarily primes. Idem for `cyclotomic_cosets`.


quadratic_residues is a function from the global namespace. What you are implementing is a method of Fields, isn't it ?

> Such blocks might be valid for lambda > 1. (but note that `0=5=10=15` in your `GF(5**4)`).


That's exactly why I picked those values. Are you allowed to have the same element twice in a set of a difference family ?

> It is already (partly) tested in the `bibd.py` file. But I will add something more explicit.


Yes yes, I just worried that it could only be triggered when you try to compute exhaustively all BIBD for n<500 or something.

Nathann



---

archive/issue_comments_225856.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-09T19:00:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225856",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_225857.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-06-09T19:09:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225857",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_225858.json:
```json
{
    "body": "<a id='comment:7'></a>> > Problem1: `quadratic_residues` is already a function that takes an integer `n` as input and return the squares modulo `n`. The ouptut are sage `Integer`. So it does not fit very well as I need finite field which are not necessarily primes. Idem for `cyclotomic_cosets`.\n\n> \n> quadratic_residues is a function from the global namespace. What you are implementing is a method of Fields, isn't it ?\n\n\nI refactored `quadratic_residues`, `quartic_residues` and `cyclotomic_cosets` into a unique function named `cyclotomic_cosets` and that takes a `cosets` argument. It definitely belong to finite fields, but I am not sure this is standard terminology in algebra... I believe not... The multiplicative group of invertible elements of a finite field is always cyclic, so any coset is actually \"cyclotomic\". It might be `multiplicative_cosets`. Nevertheless, I am not sure it would be of much use as a method of finite field and I would rather let it where it is.\n\n> > Such blocks might be valid for lambda > 1. (but note that `0=5=10=15` in your `GF(5**4)`).\n\n\n> That's exactly why I picked those values. Are you allowed to have the same element twice in a set of a difference family ?\n\n\nNope: the difference must belong to `G \\ {0}` so you can not repeat an element.\n \n> > It is already (partly) tested in the `bibd.py` file. But I will add something more explicit.\n\n> \n> Yes yes, I just worried that it could only be triggered when you try to compute exhaustively all BIBD for n<500 or something.\n\n\nIt is now completely tested.\n\nVincent",
    "created_at": "2014-06-09T19:09:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225858",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>> > Problem1: `quadratic_residues` is already a function that takes an integer `n` as input and return the squares modulo `n`. The ouptut are sage `Integer`. So it does not fit very well as I need finite field which are not necessarily primes. Idem for `cyclotomic_cosets`.

> 
> quadratic_residues is a function from the global namespace. What you are implementing is a method of Fields, isn't it ?


I refactored `quadratic_residues`, `quartic_residues` and `cyclotomic_cosets` into a unique function named `cyclotomic_cosets` and that takes a `cosets` argument. It definitely belong to finite fields, but I am not sure this is standard terminology in algebra... I believe not... The multiplicative group of invertible elements of a finite field is always cyclic, so any coset is actually "cyclotomic". It might be `multiplicative_cosets`. Nevertheless, I am not sure it would be of much use as a method of finite field and I would rather let it where it is.

> > Such blocks might be valid for lambda > 1. (but note that `0=5=10=15` in your `GF(5**4)`).


> That's exactly why I picked those values. Are you allowed to have the same element twice in a set of a difference family ?


Nope: the difference must belong to `G \ {0}` so you can not repeat an element.
 
> > It is already (partly) tested in the `bibd.py` file. But I will add something more explicit.

> 
> Yes yes, I just worried that it could only be triggered when you try to compute exhaustively all BIBD for n<500 or something.


It is now completely tested.

Vincent



---

archive/issue_comments_225859.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-09T19:21:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225859",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_225860.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-06-09T22:11:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225860",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_225861.json:
```json
{
    "body": "<a id='comment:9'></a>waiting for #16464 now.",
    "created_at": "2014-06-09T22:11:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225861",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>waiting for #16464 now.



---

archive/issue_comments_225862.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2014-06-11T11:26:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225862",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_225863.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-06-11T11:26:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225863",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_225864.json:
```json
{
    "body": "<a id='comment:12'></a>I hate to see the dependencies in the tickets... `T_T`\n\nNathann",
    "created_at": "2014-06-11T11:27:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225864",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>I hate to see the dependencies in the tickets... `T_T`

Nathann



---

archive/issue_comments_225865.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-11T11:38:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225865",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_225866.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-11T12:29:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225866",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_225867.json:
```json
{
    "body": "<a id='comment:15'></a>Hello !!\n\nIs `if l == (k-1):` equivalent to `if (v-1)%k == 0` ?\n\nNathann",
    "created_at": "2014-06-11T15:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225867",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>Hello !!

Is `if l == (k-1):` equivalent to `if (v-1)%k == 0` ?

Nathann



---

archive/issue_comments_225868.json:
```json
{
    "body": "<a id='comment:16'></a>No. None of the one implies the other.\n\nAssume `l(v-1) % (k(k-1)) == 0`. Then:\n- if `l = k-1` then `v-1` is can be any multiple of `k`\n- if `v-1 = k(k-1)` then `l` is arbitrary\n\nVincent",
    "created_at": "2014-06-11T15:59:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225868",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>No. None of the one implies the other.

Assume `l(v-1) % (k(k-1)) == 0`. Then:
- if `l = k-1` then `v-1` is can be any multiple of `k`
- if `v-1 = k(k-1)` then `l` is arbitrary

Vincent



---

archive/issue_comments_225869.json:
```json
{
    "body": "<a id='comment:17'></a>Yoooooooooooo !\n\n> No. None of the one implies the other.\n> \n> Assume `l(v-1) % (k(k-1)) == 0`. Then, for example:\n> - if `l = k(k-1)` then `v` is arbitrary\n> - if `v-1 = k(k-1)` then `l` is arbitrary\n\n\nYesyesyes. I needed some time to find out why those cyclotomic cosets were cool difference families and I finally understood it to some extent `:-)`\n\nAs your function handles a lot of `l>1` already, what would you mean of changing the \"if\" into \"`(v-1)%k == 0 and l%(k-1) == 0`\" ? In which case we could return \"several times the same difference family\" if `l` is equal to `2(k-1)` ?\n\nNathann",
    "created_at": "2014-06-11T16:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225869",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:17'></a>Yoooooooooooo !

> No. None of the one implies the other.
> 
> Assume `l(v-1) % (k(k-1)) == 0`. Then, for example:
> - if `l = k(k-1)` then `v` is arbitrary
> - if `v-1 = k(k-1)` then `l` is arbitrary


Yesyesyes. I needed some time to find out why those cyclotomic cosets were cool difference families and I finally understood it to some extent `:-)`

As your function handles a lot of `l>1` already, what would you mean of changing the "if" into "`(v-1)%k == 0 and l%(k-1) == 0`" ? In which case we could return "several times the same difference family" if `l` is equal to `2(k-1)` ?

Nathann



---

archive/issue_comments_225870.json:
```json
{
    "body": "<a id='comment:18'></a>By the way I think that the best way to deal with those multiple copies is to set a \"multiplier\" variable when D is defined. And at the end of everything, if `multiplier>1`, copy the whole family several times ?...\n\nNathann",
    "created_at": "2014-06-11T16:08:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225870",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:18'></a>By the way I think that the best way to deal with those multiple copies is to set a "multiplier" variable when D is defined. And at the end of everything, if `multiplier>1`, copy the whole family several times ?...

Nathann



---

archive/issue_comments_225871.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:17 ncohen]:\n> Yoooooooooooo !\n> \n> > No. None of the one implies the other.\n> > \n> > Assume `l(v-1) % (k(k-1)) == 0`. Then, for example:\n> > - if `l = k(k-1)` then `v` is arbitrary\n> > - if `v-1 = k(k-1)` then `l` is arbitrary\n \n> \n> Yesyesyes. I needed some time to find out why those cyclotomic cosets were cool difference families and I finally understood it to some extent `:-)`\n> \n> As your function handles a lot of `l>1` already, what would you mean of changing the \"if\" into \"`(v-1)%k == 0 and l%(k-1) == 0`\" ? In which case we could return \"several times the same difference family\" if `l` is equal to `2(k-1)` ?\n\n\nActually, it is more than that. You can take the union of several families with the same `(G,k)` (the group `G` need to be fixed). If you have `(G,k,l1)`, `(G,k,l2)`, ..., `(G,k,ln)` difference families then you have a `(G,k,l1+l2+...+ln)` by taking the union. In other words, the set of `l` you can build for a fixed `(G,k)` is a semi-group of the integers... it is more than just stable under multiplication.",
    "created_at": "2014-06-11T16:14:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225871",
    "user": "https://github.com/videlec"
}
```

<a id='comment:19'></a>Replying to [comment:17 ncohen]:
> Yoooooooooooo !
> 
> > No. None of the one implies the other.
> > 
> > Assume `l(v-1) % (k(k-1)) == 0`. Then, for example:
> > - if `l = k(k-1)` then `v` is arbitrary
> > - if `v-1 = k(k-1)` then `l` is arbitrary
 
> 
> Yesyesyes. I needed some time to find out why those cyclotomic cosets were cool difference families and I finally understood it to some extent `:-)`
> 
> As your function handles a lot of `l>1` already, what would you mean of changing the "if" into "`(v-1)%k == 0 and l%(k-1) == 0`" ? In which case we could return "several times the same difference family" if `l` is equal to `2(k-1)` ?


Actually, it is more than that. You can take the union of several families with the same `(G,k)` (the group `G` need to be fixed). If you have `(G,k,l1)`, `(G,k,l2)`, ..., `(G,k,ln)` difference families then you have a `(G,k,l1+l2+...+ln)` by taking the union. In other words, the set of `l` you can build for a fixed `(G,k)` is a semi-group of the integers... it is more than just stable under multiplication.



---

archive/issue_comments_225872.json:
```json
{
    "body": "<a id='comment:20'></a>Instead of this \n\n```\n_nonzero_and_have_distinct_images((r**j-one for j in xrange(1,m+1)), to_coset)\n```\n\nCouldn't you do that ?\n\n```\nthings = [r**j-one for j in xrange(1,m+1)]\nif 0 not in things and len(K.cyclotomic_cosets(x,things)) == m):\n```\n\nOr am I doing something wrong ?\n\nNathann",
    "created_at": "2014-06-11T16:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225872",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'></a>Instead of this 

```
_nonzero_and_have_distinct_images((r**j-one for j in xrange(1,m+1)), to_coset)
```

Couldn't you do that ?

```
things = [r**j-one for j in xrange(1,m+1)]
if 0 not in things and len(K.cyclotomic_cosets(x,things)) == m):
```

Or am I doing something wrong ?

Nathann



---

archive/issue_comments_225873.json:
```json
{
    "body": "<a id='comment:21'></a>Yo !\n\n> Actually, it is more than that.\n> ...\n> it is more than just stable under multiplication.\n\n\nOh. True, true. No idea how we will deal with this, then `O_o`\n\nNathann",
    "created_at": "2014-06-11T16:15:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225873",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:21'></a>Yo !

> Actually, it is more than that.
> ...
> it is more than just stable under multiplication.


Oh. True, true. No idea how we will deal with this, then `O_o`

Nathann



---

archive/issue_comments_225874.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2014-06-11T16:20:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225874",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_225875.json:
```json
{
    "body": "<a id='comment:23'></a>Replying to [comment:21 ncohen]:\n> Yo !\n> \n> > Actually, it is more than that.\n> > ...\n> > it is more than just stable under multiplication.\n\n> \n> Oh. True, true. No idea how we will deal with this, then `O_o`\n\n\nFor this ticket, I see two solutions:\n- make a more specialized function which take as input a fixed Abelian group (given by its invariants) and not only `v`. The case of cyclic families would just be the invariant being `(v,)` itself and power of cyclic would be `(v,v,...,v)`.\n- write a TODO\n\nThe first solution is not that complicated. But then, it would make more sense to have:\n- `designs.difference_family(v,k,lambda)`: do not care about the group\n- `designs.abelian_difference_family(invariants, k, lambda)`: we care\n\nVincent",
    "created_at": "2014-06-11T16:22:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225875",
    "user": "https://github.com/videlec"
}
```

<a id='comment:23'></a>Replying to [comment:21 ncohen]:
> Yo !
> 
> > Actually, it is more than that.
> > ...
> > it is more than just stable under multiplication.

> 
> Oh. True, true. No idea how we will deal with this, then `O_o`


For this ticket, I see two solutions:
- make a more specialized function which take as input a fixed Abelian group (given by its invariants) and not only `v`. The case of cyclic families would just be the invariant being `(v,)` itself and power of cyclic would be `(v,v,...,v)`.
- write a TODO

The first solution is not that complicated. But then, it would make more sense to have:
- `designs.difference_family(v,k,lambda)`: do not care about the group
- `designs.abelian_difference_family(invariants, k, lambda)`: we care

Vincent



---

archive/issue_comments_225876.json:
```json
{
    "body": "<a id='comment:24'></a>> For this ticket, I see two solutions:\n\n\nNono, a later ticket... This one is almost reviewed (still wincing a bit but I understand more and more `:-P`)\n\n>  - make a more specialized function which take as input a fixed Abelian group (given by its invariants) and not only `v`. The case of cyclic families would just be the invariant being `(v,)` itself and power of cyclic would be `(v,v,...,v)`.\n>  - write a TODO\n \n> \n> The first solution is not that complicated. But then, it would make more sense to have:\n> - `designs.difference_family(v,k,lambda)`: do not care about the group\n> - `designs.abelian_difference_family(invariants, k, lambda)`: we care\n\n\nI don't see the relationship that you make between the group and the lambda. For me the problem is only that we need a way to detect that we can build a `(v,k,l1+l2)-DF` if we can build a `(v,k,l1)-DF` and a `(v,k,l2)-DF`. What does the group have to do with that ?\n\nNathann",
    "created_at": "2014-06-11T16:26:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225876",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>> For this ticket, I see two solutions:


Nono, a later ticket... This one is almost reviewed (still wincing a bit but I understand more and more `:-P`)

>  - make a more specialized function which take as input a fixed Abelian group (given by its invariants) and not only `v`. The case of cyclic families would just be the invariant being `(v,)` itself and power of cyclic would be `(v,v,...,v)`.
>  - write a TODO
 
> 
> The first solution is not that complicated. But then, it would make more sense to have:
> - `designs.difference_family(v,k,lambda)`: do not care about the group
> - `designs.abelian_difference_family(invariants, k, lambda)`: we care


I don't see the relationship that you make between the group and the lambda. For me the problem is only that we need a way to detect that we can build a `(v,k,l1+l2)-DF` if we can build a `(v,k,l1)-DF` and a `(v,k,l2)-DF`. What does the group have to do with that ?

Nathann



---

archive/issue_comments_225877.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:20 ncohen]:\n> Instead of this \n> \n> ```\n> _nonzero_and_have_distinct_images((r**j-one for j in xrange(1,m+1)), to_coset)\n> ```\n> \n> Couldn't you do that ?\n> \n> \n> ```\n> things = [r**j-one for j in xrange(1,m+1)]\n> if 0 not in things and len(K.cyclotomic_cosets(x,things)) == m):\n> ```\n> \n> Or am I doing something wrong ?\n\n\nYou are right. And it is true for the three constructions of Wilson, we just want to see if some elements are in distinct cosets. But on the other hand, with your solution you will build the cosets many times. It might be much longer especially in the third construction where there is an iteration over all elements of the finite field.\n\nI can build the dictionnary `to_coset` from the `K.cyclotomic_cosets` if you like ;-)",
    "created_at": "2014-06-11T16:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225877",
    "user": "https://github.com/videlec"
}
```

<a id='comment:25'></a>Replying to [comment:20 ncohen]:
> Instead of this 
> 
> ```
> _nonzero_and_have_distinct_images((r**j-one for j in xrange(1,m+1)), to_coset)
> ```
> 
> Couldn't you do that ?
> 
> 
> ```
> things = [r**j-one for j in xrange(1,m+1)]
> if 0 not in things and len(K.cyclotomic_cosets(x,things)) == m):
> ```
> 
> Or am I doing something wrong ?


You are right. And it is true for the three constructions of Wilson, we just want to see if some elements are in distinct cosets. But on the other hand, with your solution you will build the cosets many times. It might be much longer especially in the third construction where there is an iteration over all elements of the finite field.

I can build the dictionnary `to_coset` from the `K.cyclotomic_cosets` if you like ;-)



---

archive/issue_comments_225878.json:
```json
{
    "body": "<a id='comment:26'></a>Replying to [comment:24 ncohen]:\n> > For this ticket, I see two solutions:\n\n> \n> Nono, a later ticket... This one is almost reviewed (still wincing a bit but I understand more and more `:-P`)\n> \n> >  - make a more specialized function which take as input a fixed Abelian group (given by its invariants) and not only `v`. The case of cyclic families would just be the invariant being `(v,)` itself and power of cyclic would be `(v,v,...,v)`.\n> >  - write a TODO\n \n> > \n> > The first solution is not that complicated. But then, it would make more sense to have:\n> > - `designs.difference_family(v,k,lambda)`: do not care about the group\n> > - `designs.abelian_difference_family(invariants, k, lambda)`: we care\n \n> \n> I don't see the relationship that you make between the group and the lambda. For me the problem is only that we need a way to detect that we can build a `(v,k,l1+l2)-DF` if we can build a `(v,k,l1)-DF` and a `(v,k,l2)-DF`. What does the group have to do with that ?\n\n\nIf your two DF are on the same group you can take the union. Otherwise it just makes no sense!!",
    "created_at": "2014-06-11T16:28:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225878",
    "user": "https://github.com/videlec"
}
```

<a id='comment:26'></a>Replying to [comment:24 ncohen]:
> > For this ticket, I see two solutions:

> 
> Nono, a later ticket... This one is almost reviewed (still wincing a bit but I understand more and more `:-P`)
> 
> >  - make a more specialized function which take as input a fixed Abelian group (given by its invariants) and not only `v`. The case of cyclic families would just be the invariant being `(v,)` itself and power of cyclic would be `(v,v,...,v)`.
> >  - write a TODO
 
> > 
> > The first solution is not that complicated. But then, it would make more sense to have:
> > - `designs.difference_family(v,k,lambda)`: do not care about the group
> > - `designs.abelian_difference_family(invariants, k, lambda)`: we care
 
> 
> I don't see the relationship that you make between the group and the lambda. For me the problem is only that we need a way to detect that we can build a `(v,k,l1+l2)-DF` if we can build a `(v,k,l1)-DF` and a `(v,k,l2)-DF`. What does the group have to do with that ?


If your two DF are on the same group you can take the union. Otherwise it just makes no sense!!



---

archive/issue_comments_225879.json:
```json
{
    "body": "<a id='comment:27'></a>Yo !\n\n> You are right. And it is true for the three constructions of Wilson, we just want to see if some elements are in distinct cosets. But on the other hand, with your solution you will build the cosets many times. It might be much longer especially in the third construction where there is an iteration over all elements of the finite field.\n\n\nOh. I will look at that.\n\n> I can build the dictionnary `to_coset` from the `K.cyclotomic_cosets` if you like ;-)\n\n\nWhat I want to do is get rid of this `_nonzero_and_have_distinct_images` function `:-P`\n\nNathann",
    "created_at": "2014-06-11T16:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225879",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:27'></a>Yo !

> You are right. And it is true for the three constructions of Wilson, we just want to see if some elements are in distinct cosets. But on the other hand, with your solution you will build the cosets many times. It might be much longer especially in the third construction where there is an iteration over all elements of the finite field.


Oh. I will look at that.

> I can build the dictionnary `to_coset` from the `K.cyclotomic_cosets` if you like ;-)


What I want to do is get rid of this `_nonzero_and_have_distinct_images` function `:-P`

Nathann



---

archive/issue_comments_225880.json:
```json
{
    "body": "<a id='comment:28'></a>> If your two DF are on the same group you can take the union. Otherwise it just makes no sense!!\n\n\nAhahahah. True, true. I was thinking of BIBD, sorry `:-D`\n\nSoooooooooooooooo we only need to implement this l1+l2 mechanism for BIBD.. And designs in general. Hmmmmmm `:-P`\n\nNathann",
    "created_at": "2014-06-11T16:29:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225880",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'></a>> If your two DF are on the same group you can take the union. Otherwise it just makes no sense!!


Ahahahah. True, true. I was thinking of BIBD, sorry `:-D`

Soooooooooooooooo we only need to implement this l1+l2 mechanism for BIBD.. And designs in general. Hmmmmmm `:-P`

Nathann



---

archive/issue_comments_225881.json:
```json
{
    "body": "<a id='comment:29'></a>Replying to [comment:28 ncohen]:\n> > If your two DF are on the same group you can take the union. Otherwise it just makes no sense!!\n\n> \n> Ahahahah. True, true. I was thinking of BIBD, sorry `:-D`\n> \n> Soooooooooooooooo we only need to implement this l1+l2 mechanism for BIBD.. And designs in general. Hmmmmmm `:-P`\n\n\nIt can be worth it to have it at the level of the difference families to build designs with transitive symmetric groups.",
    "created_at": "2014-06-11T16:31:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225881",
    "user": "https://github.com/videlec"
}
```

<a id='comment:29'></a>Replying to [comment:28 ncohen]:
> > If your two DF are on the same group you can take the union. Otherwise it just makes no sense!!

> 
> Ahahahah. True, true. I was thinking of BIBD, sorry `:-D`
> 
> Soooooooooooooooo we only need to implement this l1+l2 mechanism for BIBD.. And designs in general. Hmmmmmm `:-P`


It can be worth it to have it at the level of the difference families to build designs with transitive symmetric groups.



---

archive/issue_comments_225882.json:
```json
{
    "body": "<a id='comment:30'></a>Replying to [comment:27 ncohen]:\n> What I want to do is get rid of this `_nonzero_and_have_distinct_images` function `:-P`\n\n\nAll right, it can be replaced by:\n\n```\n   len(set(to_coset[elt] for elt in XXX)) == len(XXX)\n```\n+ special care of the zero element.",
    "created_at": "2014-06-11T16:33:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225882",
    "user": "https://github.com/videlec"
}
```

<a id='comment:30'></a>Replying to [comment:27 ncohen]:
> What I want to do is get rid of this `_nonzero_and_have_distinct_images` function `:-P`


All right, it can be replaced by:

```
   len(set(to_coset[elt] for elt in XXX)) == len(XXX)
```
+ special care of the zero element.



---

archive/issue_comments_225883.json:
```json
{
    "body": "<a id='comment:31'></a>> It can be worth it to have it at the level of the difference families to build designs with transitive symmetric groups.\n\n\nHMmmmmm... Sorry but for the moment I am only interested by DF for as long as they generate new BIBD `:-P`\n\nNathann",
    "created_at": "2014-06-11T16:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225883",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:31'></a>> It can be worth it to have it at the level of the difference families to build designs with transitive symmetric groups.


HMmmmmm... Sorry but for the moment I am only interested by DF for as long as they generate new BIBD `:-P`

Nathann



---

archive/issue_comments_225884.json:
```json
{
    "body": "<a id='comment:32'></a>Replying to [comment:31 ncohen]:\n> > It can be worth it to have it at the level of the difference families to build designs with transitive symmetric groups.\n\n> \n> HMmmmmm... Sorry but for the moment I am only interested by DF for as long as they generate new BIBD `:-P`\n\n\nMight be. But on the other hand, it is easier to manipulate difference families rather than BIBD because they are small.",
    "created_at": "2014-06-11T16:34:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225884",
    "user": "https://github.com/videlec"
}
```

<a id='comment:32'></a>Replying to [comment:31 ncohen]:
> > It can be worth it to have it at the level of the difference families to build designs with transitive symmetric groups.

> 
> HMmmmmm... Sorry but for the moment I am only interested by DF for as long as they generate new BIBD `:-P`


Might be. But on the other hand, it is easier to manipulate difference families rather than BIBD because they are small.



---

archive/issue_comments_225885.json:
```json
{
    "body": "<a id='comment:33'></a>Ookayyyyyyyyy... It woud be cool if you could get rid of this `_nonzero_and_have_distinct_images` in a nice way. Aaaaaaaaaaaaaand if it not possible, well, you can set this ticket to `positive_review` anyway. Thanks for this patch ! `:-)`\n\nNathann",
    "created_at": "2014-06-11T16:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225885",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:33'></a>Ookayyyyyyyyy... It woud be cool if you could get rid of this `_nonzero_and_have_distinct_images` in a nice way. Aaaaaaaaaaaaaand if it not possible, well, you can set this ticket to `positive_review` anyway. Thanks for this patch ! `:-)`

Nathann



---

archive/issue_comments_225886.json:
```json
{
    "body": "<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-11T17:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225886",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_225887.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2014-06-11T17:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225887",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_225888.json:
```json
{
    "body": "<a id='comment:36'></a>Why don't you need to test equality with 0 for the first construction ?\n\nNathann",
    "created_at": "2014-06-11T18:00:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225888",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:36'></a>Why don't you need to test equality with 0 for the first construction ?

Nathann



---

archive/issue_comments_225889.json:
```json
{
    "body": "<a id='comment:37'></a>Actually, there is no need to test equality to `0` (I realized that after removing the `_nonzero...`).\n\nThe second construction is a bit different from the other two because each block of the difference family contains `0`. Somehow the coset labelled `0` (which is just `[xx*j for j in xrange((v-1)//m)]`) is automatically requested and you want that all the other differences belong to cosets distinct from it.",
    "created_at": "2014-06-11T18:05:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225889",
    "user": "https://github.com/videlec"
}
```

<a id='comment:37'></a>Actually, there is no need to test equality to `0` (I realized that after removing the `_nonzero...`).

The second construction is a bit different from the other two because each block of the difference family contains `0`. Somehow the coset labelled `0` (which is just `[xx*j for j in xrange((v-1)//m)]`) is automatically requested and you want that all the other differences belong to cosets distinct from it.



---

archive/issue_comments_225890.json:
```json
{
    "body": "<a id='comment:38'></a>Okay, I se no reason to not set this to `positive_review`. Except one thing which was bothering me : `difference_family.py` instead of `difference_families.py` ? `:-P`\n\nNathann",
    "created_at": "2014-06-11T18:08:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225890",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:38'></a>Okay, I se no reason to not set this to `positive_review`. Except one thing which was bothering me : `difference_family.py` instead of `difference_families.py` ? `:-P`

Nathann



---

archive/issue_comments_225891.json:
```json
{
    "body": "<a id='comment:39'></a>Then `bibds.py`? `covering_designs.py`? `block_designs.py`? When do we put an `s` and when we do not?",
    "created_at": "2014-06-11T18:12:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225891",
    "user": "https://github.com/videlec"
}
```

<a id='comment:39'></a>Then `bibds.py`? `covering_designs.py`? `block_designs.py`? When do we put an `s` and when we do not?



---

archive/issue_comments_225892.json:
```json
{
    "body": "<a id='comment:40'></a>> Then `bibds.py`? `covering_designs.py`? `block_designs.py`? When do we put an `s` and when we do not?\n\n\nWell, all new files have an 's'. Okay, doesn't matter.\n\nNathann",
    "created_at": "2014-06-11T19:04:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225892",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:40'></a>> Then `bibds.py`? `covering_designs.py`? `block_designs.py`? When do we put an `s` and when we do not?


Well, all new files have an 's'. Okay, doesn't matter.

Nathann



---

archive/issue_comments_225893.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-11T19:04:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225893",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_225894.json:
```json
{
    "body": "<a id='comment:44'></a>Last 10 new commits:",
    "created_at": "2014-06-12T14:32:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225894",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:44'></a>Last 10 new commits:



---

archive/issue_comments_225895.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2014-06-12T17:00:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225895",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_225896.json:
```json
{
    "body": "<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2014-06-12T17:00:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225896",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_225897.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-12T17:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225897",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_225898.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-06-18T14:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16461#issuecomment-225898",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_048399.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-18T14:11:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16461",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16461#event-48399"
}
```
