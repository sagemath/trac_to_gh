# Issue 16588: finite_state_machine.FSMState: New method fully_equal

archive/issues_016351.json:
```json
{
    "body": "`finite_state_machine.FSMState.__eq__` only compares labels of states, but not their other attributes such as `is_initial`, `is_final`, `final_word_out`, `word_out`, `color`.\n\nThe reason is that states have to be hashable and that their hash only depends on the label --- therefore, states with the same labels have to be equal.\n\nThis is no problem as long as states of the same finite state machine are compared. When comparing two finite state machines, this distinction matters.\n\nTherefore, a new method `FSMState.fully_equal` is introduced and used in `FiniteStateMachine.__eq__`.\n\n\nCC:  skropf @dkrenn\n\nKeywords: finite_state_machine\n\nBranch/Commit: 0f3a40eec3031f7175a4502591e8fedb04e99ee2\n\nReviewer: Daniel Krenn, Clemens Heuberger\n\nAuthor: Clemens Heuberger, Daniel Krenn\n\nDependencies: #16674\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16588\n\n",
    "closed_at": "2014-07-21T01:51:37Z",
    "created_at": "2014-06-29T18:20:07Z",
    "labels": [
        "component: finite state machines",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "finite_state_machine.FSMState: New method fully_equal",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16588",
    "user": "https://github.com/cheuberg"
}
```
`finite_state_machine.FSMState.__eq__` only compares labels of states, but not their other attributes such as `is_initial`, `is_final`, `final_word_out`, `word_out`, `color`.

The reason is that states have to be hashable and that their hash only depends on the label --- therefore, states with the same labels have to be equal.

This is no problem as long as states of the same finite state machine are compared. When comparing two finite state machines, this distinction matters.

Therefore, a new method `FSMState.fully_equal` is introduced and used in `FiniteStateMachine.__eq__`.


CC:  skropf @dkrenn

Keywords: finite_state_machine

Branch/Commit: 0f3a40eec3031f7175a4502591e8fedb04e99ee2

Reviewer: Daniel Krenn, Clemens Heuberger

Author: Clemens Heuberger, Daniel Krenn

Dependencies: #16674

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16588





---

archive/issue_comments_274829.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-29T18:20:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274829",
    "user": "https://github.com/cheuberg"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_274830.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#16674\"",
    "created_at": "2014-07-18T14:31:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274830",
    "user": "https://github.com/dkrenn"
}
```

Changing dependencies from "" to "#16674"



---

archive/issue_comments_274831.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/fsm/states_equality\" to \"u/dkrenn/fsm/states_equality\"",
    "created_at": "2014-07-18T14:31:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274831",
    "user": "https://github.com/dkrenn"
}
```

Changing branch from "u/cheuberg/fsm/states_equality" to "u/dkrenn/fsm/states_equality"



---

archive/issue_comments_274832.json:
```json
{
    "body": "<a id='comment:4'></a>Code didn't check attribute color. This is now done. Needs cross-review.\n\nApart from the color-issue, the code looks fine, so a positive_review as soon as the color-part is accepted.\n\n---\nLast 10 new commits:",
    "created_at": "2014-07-18T14:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274832",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:4'></a>Code didn't check attribute color. This is now done. Needs cross-review.

Apart from the color-issue, the code looks fine, so a positive_review as soon as the color-part is accepted.

---
Last 10 new commits:



---

archive/issue_comments_274833.json:
```json
{
    "body": "Changing author from \"Clemens Heuberger\" to \"Clemens Heuberger, Daniel Krenn\"",
    "created_at": "2014-07-18T14:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274833",
    "user": "https://github.com/dkrenn"
}
```

Changing author from "Clemens Heuberger" to "Clemens Heuberger, Daniel Krenn"



---

archive/issue_comments_274834.json:
```json
{
    "body": "Changing commit from \"f5b24c3d638ec739511a19c7c9b5513968e652bd\" to \"0f4cd95d215f9368d0ea9ecea8cf9fb87ee77449\"",
    "created_at": "2014-07-18T14:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274834",
    "user": "https://github.com/dkrenn"
}
```

Changing commit from "f5b24c3d638ec739511a19c7c9b5513968e652bd" to "0f4cd95d215f9368d0ea9ecea8cf9fb87ee77449"



---

archive/issue_comments_274835.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Daniel Krenn\"",
    "created_at": "2014-07-18T14:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274835",
    "user": "https://github.com/dkrenn"
}
```

Changing reviewer from "" to "Daniel Krenn"



---

archive/issue_comments_274836.json:
```json
{
    "body": "Changing branch from \"u/dkrenn/fsm/states_equality\" to \"u/cheuberg/fsm/states_equality\"",
    "created_at": "2014-07-18T15:49:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274836",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "u/dkrenn/fsm/states_equality" to "u/cheuberg/fsm/states_equality"



---

archive/issue_comments_274837.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-18T15:51:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274837",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_274838.json:
```json
{
    "body": "Changing commit from \"0f4cd95d215f9368d0ea9ecea8cf9fb87ee77449\" to \"0f3a40eec3031f7175a4502591e8fedb04e99ee2\"",
    "created_at": "2014-07-18T15:51:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274838",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0f4cd95d215f9368d0ea9ecea8cf9fb87ee77449" to "0f3a40eec3031f7175a4502591e8fedb04e99ee2"



---

archive/issue_comments_274839.json:
```json
{
    "body": "Changing reviewer from \"Daniel Krenn\" to \"Daniel Krenn, Clemens Heuberger\"",
    "created_at": "2014-07-18T15:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274839",
    "user": "https://github.com/cheuberg"
}
```

Changing reviewer from "Daniel Krenn" to "Daniel Krenn, Clemens Heuberger"



---

archive/issue_comments_274840.json:
```json
{
    "body": "<a id='comment:7'></a>Cross-reviewed the changes. Added minor correction to docstring. Merged current version of dependency #16674 in order to avoid failing of trac's automerge.",
    "created_at": "2014-07-18T15:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274840",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:7'></a>Cross-reviewed the changes. Added minor correction to docstring. Merged current version of dependency #16674 in order to avoid failing of trac's automerge.



---

archive/issue_comments_274841.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-18T15:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274841",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_274842.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-07-21T01:51:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274842",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_048669.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-21T01:51:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16588#event-48669"
}
```



---

archive/issue_comments_274843.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/fsm/states_equality\" to \"0f3a40eec3031f7175a4502591e8fedb04e99ee2\"",
    "created_at": "2014-07-21T01:51:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16588#issuecomment-274843",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/cheuberg/fsm/states_equality" to "0f3a40eec3031f7175a4502591e8fedb04e99ee2"
