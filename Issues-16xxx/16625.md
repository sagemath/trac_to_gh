# Issue 16625: Better plotting for polytopes, re-add projection_direction

archive/issues_016388.json:
```json
{
    "body": "From [this ask.sagemath question](http://ask.sagemath.org/question/23223/projection_direction-broken-for-polytopes/), the two following should be different, but aren't.\n\n```\npoly = polytopes.twenty_four_cell()\npoly.show()\n\npoly.show(projection_direction=[2,5,11,17])\n```\n\nCC:  @dimpase @vbraun @novoselt\n\nReviewer: Andrey Novoseltsev\n\nAuthor: Volker Braun\n\nBranch: bdb1803badb326172dd310a79033ecbdb49904b6\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16625\n\n",
    "closed_at": "2014-07-17T13:57:34Z",
    "created_at": "2014-07-08T13:27:57Z",
    "labels": [
        "component: geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Better plotting for polytopes, re-add projection_direction",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16625",
    "user": "https://github.com/kcrisman"
}
```
From [this ask.sagemath question](http://ask.sagemath.org/question/23223/projection_direction-broken-for-polytopes/), the two following should be different, but aren't.

```
poly = polytopes.twenty_four_cell()
poly.show()

poly.show(projection_direction=[2,5,11,17])
```

CC:  @dimpase @vbraun @novoselt

Reviewer: Andrey Novoseltsev

Author: Volker Braun

Branch: bdb1803badb326172dd310a79033ecbdb49904b6

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16625





---

archive/issue_comments_229135.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -9,7 +9,9 @@\n \n ---\n \n-On a related note, from the same question, the two following should be different, but aren't.  This is a different bug; apparently it used to work.\n+Two related things which may or may not be bugs.\n+\n+From the same question, the two following should be different, but aren't.  This is a different bug; apparently it used to work.\n \n \\`\\`\\`\n poly = polytopes.twenty_four_cell()\n@@ -18,6 +20,29 @@\n poly.show(projection_direction=[2,5,11,17])\n \\`\\`\\`\n \n+Also,\n+\n+\\`\\`\\`\n+sage: P8.base_ring?\n+Type:            instancemethod\n+String form:     <bound method Polyhedra_ZZ_ppl_with_category.element_class.base_ring of A 4-dimensional polyhedron in ZZ^4 defined as the convex hull of 16 vertices>\n+Definition:      P8.base_ring(self)\n+Docstring:\n+   Return the base ring.\n+\n+   OUTPUT:\n+\n+   Either \"QQ\" (exact arithmetic using gmp, default) or \"RDF\" (double\n+   precision floating-point arithmetic)\n+\n+   EXAMPLES:\n+\n+      sage: triangle = Polyhedron(vertices = [[1,0],[0,1],[1,1]])\n+      sage: triangle.base_ring() == ZZ\n+      True\n+\\`\\`\\`\n+I particularly like how the **example** directly contradicts the documentation ;-)\n+\n Comment: 1\n \n Summary: Schlegel doesn't work for all polytopes\n```\n",
    "created_at": "2014-07-08T13:30:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229135",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
```diff
--- 
+++ 
@@ -9,7 +9,9 @@
 
 ---
 
-On a related note, from the same question, the two following should be different, but aren't.  This is a different bug; apparently it used to work.
+Two related things which may or may not be bugs.
+
+From the same question, the two following should be different, but aren't.  This is a different bug; apparently it used to work.
 
 \`\`\`
 poly = polytopes.twenty_four_cell()
@@ -18,6 +20,29 @@
 poly.show(projection_direction=[2,5,11,17])
 \`\`\`
 
+Also,
+
+\`\`\`
+sage: P8.base_ring?
+Type:            instancemethod
+String form:     <bound method Polyhedra_ZZ_ppl_with_category.element_class.base_ring of A 4-dimensional polyhedron in ZZ^4 defined as the convex hull of 16 vertices>
+Definition:      P8.base_ring(self)
+Docstring:
+   Return the base ring.
+
+   OUTPUT:
+
+   Either "QQ" (exact arithmetic using gmp, default) or "RDF" (double
+   precision floating-point arithmetic)
+
+   EXAMPLES:
+
+      sage: triangle = Polyhedron(vertices = [[1,0],[0,1],[1,1]])
+      sage: triangle.base_ring() == ZZ
+      True
+\`\`\`
+I particularly like how the **example** directly contradicts the documentation ;-)
+
 Comment: 1
 
 Summary: Schlegel doesn't work for all polytopes
```




---

archive/issue_comments_229136.json:
```json
{
    "body": "<a id='comment:2'></a>Even `P8prime = P8.base_extend(QQ)` doesn't seem to have the `schlegel` method, which is even more perplexing.",
    "created_at": "2014-07-08T13:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229136",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'></a>Even `P8prime = P8.base_extend(QQ)` doesn't seem to have the `schlegel` method, which is even more perplexing.



---

archive/issue_comments_229137.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,11 @@\n+From [this ask.sagemath question](http://ask.sagemath.org/question/23223/projection_direction-broken-for-polytopes/), the two following should be different, but aren't.\n \n+\\`\\`\\`\n+poly = polytopes.twenty_four_cell()\n+poly.show()\n+\n+poly.show(projection_direction=[2,5,11,17])\n+\\`\\`\\`\n \n Comment: 1\n \n```\n",
    "created_at": "2014-07-08T16:22:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229137",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,11 @@
+From [this ask.sagemath question](http://ask.sagemath.org/question/23223/projection_direction-broken-for-polytopes/), the two following should be different, but aren't.
 
+\`\`\`
+poly = polytopes.twenty_four_cell()
+poly.show()
+
+poly.show(projection_direction=[2,5,11,17])
+\`\`\`
 
 Comment: 1
 
```




---

archive/issue_comments_229138.json:
```json
{
    "body": "<a id='comment:4'></a>Polyhedra have a `schlegel_projection` method, and not a `schlegel` method. The internally used `Projection` class has a `schlegel` method.",
    "created_at": "2014-07-08T16:26:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229138",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'></a>Polyhedra have a `schlegel_projection` method, and not a `schlegel` method. The internally used `Projection` class has a `schlegel` method.



---

archive/issue_comments_229139.json:
```json
{
    "body": "<a id='comment:5'></a>> Polyhedra have a `schlegel_projection` method, and not a `schlegel` method. The internally used `Projection` class has a `schlegel` method.\n\nYes, there was some confusion in my mind earlier...\n\nAs to your comment on the ask.sagemath question, unfortunately the following is still in [the documentation](http://www.sagemath.org/doc/reference/geometry/sage/geometry/polyhedron/plot.html#sage.geometry.polyhedron.plot.render_4d).\n\n```\nsage: poly = polytopes.twenty_four_cell()\nsage: poly\nA 4-dimensional polyhedron in QQ^4 defined as the convex hull of 24 vertices\nsage: poly.show()\nsage: poly.show(projection_direction=[2,5,11,17])\n```\nSo if that is not supposed to be used in that way, it was missed whenever those methods changed.  There is also no deprecation information given.",
    "created_at": "2014-07-08T16:33:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229139",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>> Polyhedra have a `schlegel_projection` method, and not a `schlegel` method. The internally used `Projection` class has a `schlegel` method.

Yes, there was some confusion in my mind earlier...

As to your comment on the ask.sagemath question, unfortunately the following is still in [the documentation](http://www.sagemath.org/doc/reference/geometry/sage/geometry/polyhedron/plot.html#sage.geometry.polyhedron.plot.render_4d).

```
sage: poly = polytopes.twenty_four_cell()
sage: poly
A 4-dimensional polyhedron in QQ^4 defined as the convex hull of 24 vertices
sage: poly.show()
sage: poly.show(projection_direction=[2,5,11,17])
```
So if that is not supposed to be used in that way, it was missed whenever those methods changed.  There is also no deprecation information given.



---

archive/issue_comments_229140.json:
```json
{
    "body": "<a id='comment:7'></a>New commits:",
    "created_at": "2014-07-09T04:05:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229140",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'></a>New commits:



---

archive/issue_comments_229141.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-07-09T04:05:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229141",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_229142.json:
```json
{
    "body": "<a id='comment:8'></a>Wow, that is a **lot** more than need to fix this :-)  It's gone beyond what I can comfortably review in a few minutes, but overall the structure, deprecations, and doc look like a big improvement.",
    "created_at": "2014-07-09T13:15:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229142",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>Wow, that is a **lot** more than need to fix this :-)  It's gone beyond what I can comfortably review in a few minutes, but overall the structure, deprecations, and doc look like a big improvement.



---

archive/issue_comments_229143.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-09T15:53:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229143",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_229144.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-09T16:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229144",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_229145.json:
```json
{
    "body": "<a id='comment:11'></a>anybody feels like reviewing this?",
    "created_at": "2014-07-16T14:52:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229145",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>anybody feels like reviewing this?



---

archive/issue_comments_229146.json:
```json
{
    "body": "<a id='comment:12'></a>Working on it.",
    "created_at": "2014-07-16T18:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229146",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:12'></a>Working on it.



---

archive/issue_comments_229147.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-16T23:08:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229147",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_229148.json:
```json
{
    "body": "<a id='comment:14'></a>lgtm and works fine!\n\n---\nNew commits:",
    "created_at": "2014-07-16T23:08:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229148",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:14'></a>lgtm and works fine!

---
New commits:



---

archive/issue_events_048759.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-17T13:57:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16625#event-48759"
}
```



---

archive/issue_comments_229149.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-07-17T13:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229149",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_229150.json:
```json
{
    "body": "<a id='comment:16'></a>Just FYI, there was no doctesting of\n\n```\n+    def show(self, *args, **kwds):\n+        from sage.misc.superseded import deprecation\n+        deprecation(16625, 'use Projection.plot instead')\n+        return self.plot(*args, **kwds)\n```\nfollowup will be part of #17247.",
    "created_at": "2014-11-04T16:50:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16625",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16625#issuecomment-229150",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'></a>Just FYI, there was no doctesting of

```
+    def show(self, *args, **kwds):
+        from sage.misc.superseded import deprecation
+        deprecation(16625, 'use Projection.plot instead')
+        return self.plot(*args, **kwds)
```
followup will be part of #17247.
