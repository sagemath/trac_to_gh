# Issue 16583: Clean up FLINT declarations

archive/issues_016346.json:
```json
{
    "body": "Update fmpz.pxi and fmpz_poly.pxi (and others) so that Cython doesn't complain about referenced before assigment any more.\n\n**Keywords:** sd59\n\n**Branch:** [20c767c6a446b441b1551a03a10fb09e1e4bb711](https://github.com/sagemath/sagetrac-mirror/commit/20c767c6a446b441b1551a03a10fb09e1e4bb711)\n\n**Reviewer:** Jeroen Demeyer, Volker Braun\n\n**Author:** Martin Albrecht\n\nIssue created by migration from https://trac.sagemath.org/ticket/16583\n\n",
    "closed_at": "2014-09-06T11:02:51Z",
    "created_at": "2014-06-28T17:14:18Z",
    "labels": [
        "component: basic arithmetic",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Clean up FLINT declarations",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16583",
    "user": "https://github.com/malb"
}
```
Update fmpz.pxi and fmpz_poly.pxi (and others) so that Cython doesn't complain about referenced before assigment any more.

**Keywords:** sd59

**Branch:** [20c767c6a446b441b1551a03a10fb09e1e4bb711](https://github.com/sagemath/sagetrac-mirror/commit/20c767c6a446b441b1551a03a10fb09e1e4bb711)

**Reviewer:** Jeroen Demeyer, Volker Braun

**Author:** Martin Albrecht

Issue created by migration from https://trac.sagemath.org/ticket/16583





---

archive/issue_comments_263157.json:
```json
{
    "body": "**Branch:** [u/malb/t16583_fmpz_poly](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t16583_fmpz_poly)",
    "created_at": "2014-06-28T17:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263157",
    "user": "https://github.com/malb"
}
```

**Branch:** [u/malb/t16583_fmpz_poly](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t16583_fmpz_poly)



---

archive/issue_comments_263158.json:
```json
{
    "body": "**Commit:** [dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79](https://github.com/sagemath/sagetrac-mirror/commit/dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79)",
    "created_at": "2014-06-28T17:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263158",
    "user": "https://github.com/malb"
}
```

**Commit:** [dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79](https://github.com/sagemath/sagetrac-mirror/commit/dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79)



---

archive/issue_comments_263159.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3bda21c2d9a39e08546e36af519e7e79b2f5c19d\">3bda21c</a></td><td><code>cleanup of fmpz_t and fmpz_poly_t to avoid Cython warnings about referencing before assignment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79\">dfc8ce1</a></td><td><code>silence Cython warning about complicated declaration</code></td></tr></table>\n",
    "created_at": "2014-06-28T17:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263159",
    "user": "https://github.com/malb"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3bda21c2d9a39e08546e36af519e7e79b2f5c19d">3bda21c</a></td><td><code>cleanup of fmpz_t and fmpz_poly_t to avoid Cython warnings about referencing before assignment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79">dfc8ce1</a></td><td><code>silence Cython warning about complicated declaration</code></td></tr></table>




---

archive/issue_comments_263160.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2014-06-28T17:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263160",
    "user": "https://github.com/malb"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_263161.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis needs to be rebased, there is a conflict..",
    "created_at": "2014-07-21T18:42:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263161",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
This needs to be rebased, there is a conflict..



---

archive/issue_comments_263162.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-07-21T18:42:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263162",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_263163.json:
```json
{
    "body": "<a id='comment:3'></a>\nand a typo in the second commit, by the way.",
    "created_at": "2014-07-21T18:42:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263163",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
and a typo in the second commit, by the way.



---

archive/issue_comments_263164.json:
```json
{
    "body": "**Changing commit** from \"[dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79](https://github.com/sagemath/sagetrac-mirror/commit/dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79)\" to \"[8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7](https://github.com/sagemath/sagetrac-mirror/commit/8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7)\".",
    "created_at": "2014-07-22T14:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263164",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79](https://github.com/sagemath/sagetrac-mirror/commit/dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79)" to "[8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7](https://github.com/sagemath/sagetrac-mirror/commit/8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7)".



---

archive/issue_comments_263165.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7\">8bb6b48</a></td><td><code>merge</code></td></tr></table>\n",
    "created_at": "2014-07-22T14:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263165",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7">8bb6b48</a></td><td><code>merge</code></td></tr></table>




---

archive/issue_comments_263166.json:
```json
{
    "body": "<a id='comment:5'></a>\nrebased & fixed typo",
    "created_at": "2014-07-22T14:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263166",
    "user": "https://github.com/malb"
}
```

<a id='comment:5'></a>
rebased & fixed typo



---

archive/issue_comments_263167.json:
```json
{
    "body": "<a id='comment:6'></a>\nIs this related to #13532 ?",
    "created_at": "2014-07-25T11:28:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263167",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
Is this related to #13532 ?



---

archive/issue_comments_263168.json:
```json
{
    "body": "<a id='comment:7'></a>\nYep, it removes some of those warnings. The big TODO is to fix mpz_t, though, which is a lot of work.",
    "created_at": "2014-07-25T15:35:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263168",
    "user": "https://github.com/malb"
}
```

<a id='comment:7'></a>
Yep, it removes some of those warnings. The big TODO is to fix mpz_t, though, which is a lot of work.



---

archive/issue_events_055588.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16583#event-55588"
}
```



---

archive/issue_comments_263169.json:
```json
{
    "body": "<a id='comment:9'></a>\nI rebased on 6.4.beta1, hopefully in a correct way\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d\">14e730e</a></td><td><code>Merge with 6.4.beta1</code></td></tr></table>\n",
    "created_at": "2014-08-26T17:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263169",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
I rebased on 6.4.beta1, hopefully in a correct way

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d">14e730e</a></td><td><code>Merge with 6.4.beta1</code></td></tr></table>




---

archive/issue_comments_263170.json:
```json
{
    "body": "**Changing commit** from \"[8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7](https://github.com/sagemath/sagetrac-mirror/commit/8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7)\" to \"[14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d](https://github.com/sagemath/sagetrac-mirror/commit/14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d)\".",
    "created_at": "2014-08-26T17:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263170",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7](https://github.com/sagemath/sagetrac-mirror/commit/8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7)" to "[14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d](https://github.com/sagemath/sagetrac-mirror/commit/14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d)".



---

archive/issue_comments_263171.json:
```json
{
    "body": "**Changing branch** from \"[u/malb/t16583_fmpz_poly](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t16583_fmpz_poly)\" to \"[public/ticket/16583](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16583)\".",
    "created_at": "2014-08-26T17:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263171",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/malb/t16583_fmpz_poly](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t16583_fmpz_poly)" to "[public/ticket/16583](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16583)".



---

archive/issue_comments_263172.json:
```json
{
    "body": "**Changing commit** from \"[14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d](https://github.com/sagemath/sagetrac-mirror/commit/14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d)\" to \"[18a48429757e11afd32818b8940114e83a511824](https://github.com/sagemath/sagetrac-mirror/commit/18a48429757e11afd32818b8940114e83a511824)\".",
    "created_at": "2014-08-26T17:12:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263172",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d](https://github.com/sagemath/sagetrac-mirror/commit/14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d)" to "[18a48429757e11afd32818b8940114e83a511824](https://github.com/sagemath/sagetrac-mirror/commit/18a48429757e11afd32818b8940114e83a511824)".



---

archive/issue_comments_263173.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18a48429757e11afd32818b8940114e83a511824\">18a4842</a></td><td><code>trac #16583, oops, correcting wrong merge</code></td></tr></table>\n",
    "created_at": "2014-08-26T17:12:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263173",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18a48429757e11afd32818b8940114e83a511824">18a4842</a></td><td><code>trac #16583, oops, correcting wrong merge</code></td></tr></table>




---

archive/issue_comments_263174.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-08-27T08:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263174",
    "user": "https://github.com/malb"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_263175.json:
```json
{
    "body": "<a id='comment:11'></a>\nI guess this should be 'needs review'. Your rebasing looks good.",
    "created_at": "2014-08-27T08:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263175",
    "user": "https://github.com/malb"
}
```

<a id='comment:11'></a>
I guess this should be 'needs review'. Your rebasing looks good.



---

archive/issue_comments_263176.json:
```json
{
    "body": "<a id='comment:12'></a>\nIn `src/sage/libs/flint/fmpz_poly.pxd`, what's the reason you remove the declaration for `fmpz_poly_reverse` but not `fmpz_poly_revert_series`? I think both can be removed.",
    "created_at": "2014-08-27T20:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263176",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
In `src/sage/libs/flint/fmpz_poly.pxd`, what's the reason you remove the declaration for `fmpz_poly_reverse` but not `fmpz_poly_revert_series`? I think both can be removed.



---

archive/issue_comments_263177.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket/16583](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16583)\" to \"[u/jdemeyer/ticket/16583](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16583)\".",
    "created_at": "2014-08-27T21:02:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263177",
    "user": "https://github.com/jdemeyer"
}
```

**Changing branch** from "[public/ticket/16583](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16583)" to "[u/jdemeyer/ticket/16583](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16583)".



---

archive/issue_comments_263178.json:
```json
{
    "body": "**Changing commit** from \"[18a48429757e11afd32818b8940114e83a511824](https://github.com/sagemath/sagetrac-mirror/commit/18a48429757e11afd32818b8940114e83a511824)\" to \"[c416fee312ff1d8ab43b3a3c650f44688a17c7b9](https://github.com/sagemath/sagetrac-mirror/commit/c416fee312ff1d8ab43b3a3c650f44688a17c7b9)\".",
    "created_at": "2014-08-27T21:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263178",
    "user": "https://github.com/jdemeyer"
}
```

**Changing commit** from "[18a48429757e11afd32818b8940114e83a511824](https://github.com/sagemath/sagetrac-mirror/commit/18a48429757e11afd32818b8940114e83a511824)" to "[c416fee312ff1d8ab43b3a3c650f44688a17c7b9](https://github.com/sagemath/sagetrac-mirror/commit/c416fee312ff1d8ab43b3a3c650f44688a17c7b9)".



---

archive/issue_comments_263179.json:
```json
{
    "body": "<a id='comment:14'></a>\nLooks good. If you agree with my reviewer patch, then it's positive_review for me.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c416fee312ff1d8ab43b3a3c650f44688a17c7b9\">c416fee</a></td><td><code>Remove stuff which is not needed</code></td></tr></table>\n",
    "created_at": "2014-08-27T21:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263179",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
Looks good. If you agree with my reviewer patch, then it's positive_review for me.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c416fee312ff1d8ab43b3a3c650f44688a17c7b9">c416fee</a></td><td><code>Remove stuff which is not needed</code></td></tr></table>




---

archive/issue_comments_263180.json:
```json
{
    "body": "<a id='comment:15'></a>\nlooks good.",
    "created_at": "2014-08-27T21:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263180",
    "user": "https://github.com/malb"
}
```

<a id='comment:15'></a>
looks good.



---

archive/issue_comments_263181.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2014-08-27T21:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263181",
    "user": "https://github.com/malb"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_263182.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2014-08-27T21:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263182",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_263183.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer",
    "created_at": "2014-08-27T21:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263183",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Jeroen Demeyer



---

archive/issue_comments_263184.json:
```json
{
    "body": "<a id='comment:16'></a>\nSorry, just found an issue. In `fmpq_poly.pxd`, there still is\n\n```\n    ctypedef void * fmpz_t\n    ctypedef void * fmpq_poly_t\n```\nI'll create a patch.",
    "created_at": "2014-08-27T21:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263184",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
Sorry, just found an issue. In `fmpq_poly.pxd`, there still is

```
    ctypedef void * fmpz_t
    ctypedef void * fmpq_poly_t
```
I'll create a patch.



---

archive/issue_comments_263185.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3d6aa2c24defa7cd22675f5540659b07a25401c\">b3d6aa2</a></td><td><code>Further cleanup</code></td></tr></table>\n",
    "created_at": "2014-08-27T21:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263185",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3d6aa2c24defa7cd22675f5540659b07a25401c">b3d6aa2</a></td><td><code>Further cleanup</code></td></tr></table>




---

archive/issue_comments_263186.json:
```json
{
    "body": "**Changing commit** from \"[c416fee312ff1d8ab43b3a3c650f44688a17c7b9](https://github.com/sagemath/sagetrac-mirror/commit/c416fee312ff1d8ab43b3a3c650f44688a17c7b9)\" to \"[b3d6aa2c24defa7cd22675f5540659b07a25401c](https://github.com/sagemath/sagetrac-mirror/commit/b3d6aa2c24defa7cd22675f5540659b07a25401c)\".",
    "created_at": "2014-08-27T21:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263186",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c416fee312ff1d8ab43b3a3c650f44688a17c7b9](https://github.com/sagemath/sagetrac-mirror/commit/c416fee312ff1d8ab43b3a3c650f44688a17c7b9)" to "[b3d6aa2c24defa7cd22675f5540659b07a25401c](https://github.com/sagemath/sagetrac-mirror/commit/b3d6aa2c24defa7cd22675f5540659b07a25401c)".



---

archive/issue_comments_263187.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-08-27T21:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263187",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_263188.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Update fmpz.pxi and fmpz_poly.pxi so that Cython doesn't complain about referenced before assigment any more.\n+Update fmpz.pxi and fmpz_poly.pxi (and others) so that Cython doesn't complain about referenced before assigment any more.\n``````\n",
    "created_at": "2014-08-28T06:28:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263188",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-Update fmpz.pxi and fmpz_poly.pxi so that Cython doesn't complain about referenced before assigment any more.
+Update fmpz.pxi and fmpz_poly.pxi (and others) so that Cython doesn't complain about referenced before assigment any more.
``````




---

archive/issue_events_055589.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "rename": {
        "from": "clean up fmpz_t and fmpz_poly_t declarations",
        "to": "Clean up FLINT declarations"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16583#event-55589"
}
```



---

archive/issue_comments_263189.json:
```json
{
    "body": "<a id='comment:20'></a>\nLooks good.",
    "created_at": "2014-08-28T08:19:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263189",
    "user": "https://github.com/malb"
}
```

<a id='comment:20'></a>
Looks good.



---

archive/issue_comments_263190.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2014-08-28T08:19:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263190",
    "user": "https://github.com/malb"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_263191.json:
```json
{
    "body": "<a id='comment:21'></a>\nSome doctests still import `fmpq_poly.pxd`:\n\n```\nsage -t --long src/sage/misc/cython.py\n**********************************************************************\nFile \"src/sage/misc/cython.py\", line 254, in sage.misc.cython.pyx_preparse\nFailed example:\n    module = sage.misc.cython.import_test(\"trac11680\")  # long time (7s on sage.math, 2012)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 843, in compile_and_execute\n        exec compiled in globs\n      File \"<doctest sage.misc.cython.pyx_preparse[9]>\", line 1, in <module>\n        module = sage.misc.cython.import_test(\"trac11680\")  # long time (7s on sage.math, 2012)\n      File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/cython.py\", line 805, in import_test\n        return compile_and_load(TESTS[name])\n      File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/cython.py\", line 757, in compile_and_load\n        return cython_import(file, create_local_c_file=False)\n      File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/server/support.py\", line 447, in cython_import\n        **kwds)\n      File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/cython.py\", line 493, in cython\n        raise RuntimeError(\"Error converting {} to C:\\n{}\\n{}\".format(filename, log, err))\n    RuntimeError: Error converting /home/buildslave-sage/slave/sage_git/dot_sage/temp/desktop/29631/tmp_i0rQYs.pyx to C:\n\n\n    Error compiling Cython file:\n    ------------------------------------------------------------\n    ...\n    #cinclude $SAGE_SRC/sage/libs/flint $SAGE_LOCAL/include/FLINT\n    #clib flint\n\n    from sage.rings.rational cimport Rational\n    from sage.rings.polynomial.polynomial_rational_flint cimport Polynomial_rational_flint\n    from sage.libs.flint.fmpq_poly cimport (fmpq_poly_get_coeff_mpq, fmpq_poly_set_coeff_mpq,\n    ^\n    ------------------------------------------------------------\n\n    _home_buildslave_sage_slave_sage_git_dot_sage_temp_desktop_29631_tmp_i0rQYs_pyx_0.pyx:13:0: 'sage.libs.flint.fmpq_poly.pxd' not found\n```",
    "created_at": "2014-08-28T15:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263191",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'></a>
Some doctests still import `fmpq_poly.pxd`:

```
sage -t --long src/sage/misc/cython.py
**********************************************************************
File "src/sage/misc/cython.py", line 254, in sage.misc.cython.pyx_preparse
Failed example:
    module = sage.misc.cython.import_test("trac11680")  # long time (7s on sage.math, 2012)
Exception raised:
    Traceback (most recent call last):
      File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 843, in compile_and_execute
        exec compiled in globs
      File "<doctest sage.misc.cython.pyx_preparse[9]>", line 1, in <module>
        module = sage.misc.cython.import_test("trac11680")  # long time (7s on sage.math, 2012)
      File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/cython.py", line 805, in import_test
        return compile_and_load(TESTS[name])
      File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/cython.py", line 757, in compile_and_load
        return cython_import(file, create_local_c_file=False)
      File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/server/support.py", line 447, in cython_import
        **kwds)
      File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/cython.py", line 493, in cython
        raise RuntimeError("Error converting {} to C:\n{}\n{}".format(filename, log, err))
    RuntimeError: Error converting /home/buildslave-sage/slave/sage_git/dot_sage/temp/desktop/29631/tmp_i0rQYs.pyx to C:


    Error compiling Cython file:
    ------------------------------------------------------------
    ...
    #cinclude $SAGE_SRC/sage/libs/flint $SAGE_LOCAL/include/FLINT
    #clib flint

    from sage.rings.rational cimport Rational
    from sage.rings.polynomial.polynomial_rational_flint cimport Polynomial_rational_flint
    from sage.libs.flint.fmpq_poly cimport (fmpq_poly_get_coeff_mpq, fmpq_poly_set_coeff_mpq,
    ^
    ------------------------------------------------------------

    _home_buildslave_sage_slave_sage_git_dot_sage_temp_desktop_29631_tmp_i0rQYs_pyx_0.pyx:13:0: 'sage.libs.flint.fmpq_poly.pxd' not found
```



---

archive/issue_comments_263192.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2014-08-28T15:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263192",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_263193.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-08-28T19:04:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263193",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_263194.json:
```json
{
    "body": "**Changing commit** from \"[b3d6aa2c24defa7cd22675f5540659b07a25401c](https://github.com/sagemath/sagetrac-mirror/commit/b3d6aa2c24defa7cd22675f5540659b07a25401c)\" to \"[20c767c6a446b441b1551a03a10fb09e1e4bb711](https://github.com/sagemath/sagetrac-mirror/commit/20c767c6a446b441b1551a03a10fb09e1e4bb711)\".",
    "created_at": "2014-08-28T19:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263194",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b3d6aa2c24defa7cd22675f5540659b07a25401c](https://github.com/sagemath/sagetrac-mirror/commit/b3d6aa2c24defa7cd22675f5540659b07a25401c)" to "[20c767c6a446b441b1551a03a10fb09e1e4bb711](https://github.com/sagemath/sagetrac-mirror/commit/20c767c6a446b441b1551a03a10fb09e1e4bb711)".



---

archive/issue_comments_263195.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20c767c6a446b441b1551a03a10fb09e1e4bb711\">20c767c</a></td><td><code>Fix include of fmpq_poly.pxi in Cython doctest</code></td></tr></table>\n",
    "created_at": "2014-08-28T19:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263195",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20c767c6a446b441b1551a03a10fb09e1e4bb711">20c767c</a></td><td><code>Fix include of fmpq_poly.pxi in Cython doctest</code></td></tr></table>




---

archive/issue_comments_263196.json:
```json
{
    "body": "**Changing reviewer** from \"Jeroen Demeyer\" to \"Jeroen Demeyer, Volker Braun\".",
    "created_at": "2014-08-28T20:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263196",
    "user": "https://github.com/vbraun"
}
```

**Changing reviewer** from "Jeroen Demeyer" to "Jeroen Demeyer, Volker Braun".



---

archive/issue_comments_263197.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2014-08-28T20:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263197",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_263198.json:
```json
{
    "body": "<a id='comment:25'></a>\nI have also done the same fixes for `mpz_t` at #16910 + #15946, it would be good if somebody could review these.",
    "created_at": "2014-09-03T08:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263198",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>
I have also done the same fixes for `mpz_t` at #16910 + #15946, it would be good if somebody could review these.



---

archive/issue_comments_263199.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/ticket/16583](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16583)\" to \"[20c767c6a446b441b1551a03a10fb09e1e4bb711](https://github.com/sagemath/sagetrac-mirror/commit/20c767c6a446b441b1551a03a10fb09e1e4bb711)\".",
    "created_at": "2014-09-06T11:02:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263199",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/ticket/16583](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16583)" to "[20c767c6a446b441b1551a03a10fb09e1e4bb711](https://github.com/sagemath/sagetrac-mirror/commit/20c767c6a446b441b1551a03a10fb09e1e4bb711)".



---

archive/issue_events_055590.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-06T11:02:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16583#event-55590"
}
```



---

archive/issue_comments_263200.json:
```json
{
    "body": "**Changing commit** from \"[20c767c6a446b441b1551a03a10fb09e1e4bb711](https://github.com/sagemath/sagetrac-mirror/commit/20c767c6a446b441b1551a03a10fb09e1e4bb711)\" to \"\".",
    "created_at": "2014-10-13T16:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263200",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing commit** from "[20c767c6a446b441b1551a03a10fb09e1e4bb711](https://github.com/sagemath/sagetrac-mirror/commit/20c767c6a446b441b1551a03a10fb09e1e4bb711)" to "".



---

archive/issue_comments_263201.json:
```json
{
    "body": "<a id='comment:27'></a>\nSorry to dig into \"old\" stuff, but I was suggested to use pxd files rather than pxi files and see the changes here went the other way around...\nAny strong reason to have done that?",
    "created_at": "2014-10-13T16:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263201",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:27'></a>
Sorry to dig into "old" stuff, but I was suggested to use pxd files rather than pxi files and see the changes here went the other way around...
Any strong reason to have done that?



---

archive/issue_comments_263202.json:
```json
{
    "body": "<a id='comment:28'></a>\nGenerally speaking, Cython got better at what can be cimported over time (pxd). So there is less reason to rely on textual inclusion (pxi). If in doubt (and if it works ;-) then use pxd.",
    "created_at": "2014-10-13T16:32:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263202",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'></a>
Generally speaking, Cython got better at what can be cimported over time (pxd). So there is less reason to rely on textual inclusion (pxi). If in doubt (and if it works ;-) then use pxd.



---

archive/issue_comments_263203.json:
```json
{
    "body": "<a id='comment:29'></a>\nOk, then I'll take the chance to open a ticket to migrate all of flint stuff to pxd files.",
    "created_at": "2014-10-13T17:17:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263203",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:29'></a>
Ok, then I'll take the chance to open a ticket to migrate all of flint stuff to pxd files.



---

archive/issue_comments_263204.json:
```json
{
    "body": "<a id='comment:30'></a>\nSee #16428.",
    "created_at": "2014-10-13T18:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-263204",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>
See #16428.
