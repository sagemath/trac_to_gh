# Issue 16583: Clean up FLINT declarations

archive/issues_016346.json:
```json
{
    "body": "Update fmpz.pxi and fmpz_poly.pxi (and others) so that Cython doesn't complain about referenced before assigment any more.\n\nKeywords: sd59\n\nReviewer: Jeroen Demeyer, Volker Braun\n\nAuthor: Martin Albrecht\n\nBranch: 20c767c6a446b441b1551a03a10fb09e1e4bb711\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16583\n\n",
    "closed_at": "2014-09-06T11:02:51Z",
    "created_at": "2014-06-28T17:14:18Z",
    "labels": [
        "component: basic arithmetic"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Clean up FLINT declarations",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16583",
    "user": "https://github.com/malb"
}
```
Update fmpz.pxi and fmpz_poly.pxi (and others) so that Cython doesn't complain about referenced before assigment any more.

Keywords: sd59

Reviewer: Jeroen Demeyer, Volker Braun

Author: Martin Albrecht

Branch: 20c767c6a446b441b1551a03a10fb09e1e4bb711

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16583





---

archive/issue_comments_274677.json:
```json
{
    "body": "Changing branch from \"\" to \"u/malb/t16583_fmpz_poly\"",
    "created_at": "2014-06-28T17:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274677",
    "user": "https://github.com/malb"
}
```

Changing branch from "" to "u/malb/t16583_fmpz_poly"



---

archive/issue_comments_274678.json:
```json
{
    "body": "Changing commit from \"\" to \"dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79\"",
    "created_at": "2014-06-28T17:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274678",
    "user": "https://github.com/malb"
}
```

Changing commit from "" to "dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79"



---

archive/issue_comments_274679.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|\n|[3bda21c](http://git.sagemath.org/sage.git/commit/?id=3bda21c2d9a39e08546e36af519e7e79b2f5c19d)|`cleanup of fmpz_t and fmpz_poly_t to avoid Cython warnings about referencing before assignment`|\n|[dfc8ce1](http://git.sagemath.org/sage.git/commit/?id=dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79)|`silence Cython warning about complicated declaration`|",
    "created_at": "2014-06-28T17:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274679",
    "user": "https://github.com/malb"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|
|[3bda21c](http://git.sagemath.org/sage.git/commit/?id=3bda21c2d9a39e08546e36af519e7e79b2f5c19d)|`cleanup of fmpz_t and fmpz_poly_t to avoid Cython warnings about referencing before assignment`|
|[dfc8ce1](http://git.sagemath.org/sage.git/commit/?id=dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79)|`silence Cython warning about complicated declaration`|



---

archive/issue_comments_274680.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-28T17:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274680",
    "user": "https://github.com/malb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_274681.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis needs to be rebased, there is a conflict..",
    "created_at": "2014-07-21T18:42:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274681",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
This needs to be rebased, there is a conflict..



---

archive/issue_comments_274682.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-07-21T18:42:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274682",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_274683.json:
```json
{
    "body": "<a id='comment:3'></a>\nand a typo in the second commit, by the way.",
    "created_at": "2014-07-21T18:42:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274683",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
and a typo in the second commit, by the way.



---

archive/issue_comments_274684.json:
```json
{
    "body": "Changing commit from \"dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79\" to \"8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7\"",
    "created_at": "2014-07-22T14:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274684",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dfc8ce1e411eee34ce50f69f37fe37c73cbe1f79" to "8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7"



---

archive/issue_comments_274685.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------|\n|[8bb6b48](http://git.sagemath.org/sage.git/commit/?id=8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7)|`merge`|",
    "created_at": "2014-07-22T14:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274685",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |       |
|------------------------------------------------------------------------------------------------------------------------------------------|-------|
|[8bb6b48](http://git.sagemath.org/sage.git/commit/?id=8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7)|`merge`|



---

archive/issue_comments_274686.json:
```json
{
    "body": "<a id='comment:5'></a>\nrebased & fixed typo",
    "created_at": "2014-07-22T14:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274686",
    "user": "https://github.com/malb"
}
```

<a id='comment:5'></a>
rebased & fixed typo



---

archive/issue_comments_274687.json:
```json
{
    "body": "<a id='comment:6'></a>\nIs this related to #13532 ?",
    "created_at": "2014-07-25T11:28:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274687",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
Is this related to #13532 ?



---

archive/issue_comments_274688.json:
```json
{
    "body": "<a id='comment:7'></a>\nYep, it removes some of those warnings. The big TODO is to fix mpz_t, though, which is a lot of work.",
    "created_at": "2014-07-25T15:35:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274688",
    "user": "https://github.com/malb"
}
```

<a id='comment:7'></a>
Yep, it removes some of those warnings. The big TODO is to fix mpz_t, though, which is a lot of work.



---

archive/issue_events_048657.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16583#event-48657"
}
```



---

archive/issue_comments_274689.json:
```json
{
    "body": "<a id='comment:9'></a>\nI rebased on 6.4.beta1, hopefully in a correct way\n\n---\nNew commits:\n|                                                                                                                                          |                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[14e730e](http://git.sagemath.org/sage.git/commit/?id=14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d)|`Merge with 6.4.beta1`|",
    "created_at": "2014-08-26T17:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274689",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
I rebased on 6.4.beta1, hopefully in a correct way

---
New commits:
|                                                                                                                                          |                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[14e730e](http://git.sagemath.org/sage.git/commit/?id=14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d)|`Merge with 6.4.beta1`|



---

archive/issue_comments_274690.json:
```json
{
    "body": "Changing commit from \"8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7\" to \"14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d\"",
    "created_at": "2014-08-26T17:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274690",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "8bb6b48617d5e8cdf2a8f50f269332d591dcd8a7" to "14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d"



---

archive/issue_comments_274691.json:
```json
{
    "body": "Changing branch from \"u/malb/t16583_fmpz_poly\" to \"public/ticket/16583\"",
    "created_at": "2014-08-26T17:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274691",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/malb/t16583_fmpz_poly" to "public/ticket/16583"



---

archive/issue_comments_274692.json:
```json
{
    "body": "Changing commit from \"14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d\" to \"18a48429757e11afd32818b8940114e83a511824\"",
    "created_at": "2014-08-26T17:12:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274692",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "14e730e84c2df7b5ccbe4aca490ae8c78d9fa43d" to "18a48429757e11afd32818b8940114e83a511824"



---

archive/issue_comments_274693.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[18a4842](http://git.sagemath.org/sage.git/commit/?id=18a48429757e11afd32818b8940114e83a511824)|`trac #16583, oops, correcting wrong merge`|",
    "created_at": "2014-08-26T17:12:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274693",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[18a4842](http://git.sagemath.org/sage.git/commit/?id=18a48429757e11afd32818b8940114e83a511824)|`trac #16583, oops, correcting wrong merge`|



---

archive/issue_comments_274694.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-08-27T08:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274694",
    "user": "https://github.com/malb"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_274695.json:
```json
{
    "body": "<a id='comment:11'></a>\nI guess this should be 'needs review'. Your rebasing looks good.",
    "created_at": "2014-08-27T08:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274695",
    "user": "https://github.com/malb"
}
```

<a id='comment:11'></a>
I guess this should be 'needs review'. Your rebasing looks good.



---

archive/issue_comments_274696.json:
```json
{
    "body": "<a id='comment:12'></a>\nIn `src/sage/libs/flint/fmpz_poly.pxd`, what's the reason you remove the declaration for `fmpz_poly_reverse` but not `fmpz_poly_revert_series`? I think both can be removed.",
    "created_at": "2014-08-27T20:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274696",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
In `src/sage/libs/flint/fmpz_poly.pxd`, what's the reason you remove the declaration for `fmpz_poly_reverse` but not `fmpz_poly_revert_series`? I think both can be removed.



---

archive/issue_comments_274697.json:
```json
{
    "body": "Changing branch from \"public/ticket/16583\" to \"u/jdemeyer/ticket/16583\"",
    "created_at": "2014-08-27T21:02:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274697",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "public/ticket/16583" to "u/jdemeyer/ticket/16583"



---

archive/issue_comments_274698.json:
```json
{
    "body": "Changing commit from \"18a48429757e11afd32818b8940114e83a511824\" to \"c416fee312ff1d8ab43b3a3c650f44688a17c7b9\"",
    "created_at": "2014-08-27T21:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274698",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "18a48429757e11afd32818b8940114e83a511824" to "c416fee312ff1d8ab43b3a3c650f44688a17c7b9"



---

archive/issue_comments_274699.json:
```json
{
    "body": "<a id='comment:14'></a>\nLooks good. If you agree with my reviewer patch, then it's positive_review for me.\n\n---\nNew commits:\n|                                                                                                                                          |                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[c416fee](http://git.sagemath.org/sage.git/commit/?id=c416fee312ff1d8ab43b3a3c650f44688a17c7b9)|`Remove stuff which is not needed`|",
    "created_at": "2014-08-27T21:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274699",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
Looks good. If you agree with my reviewer patch, then it's positive_review for me.

---
New commits:
|                                                                                                                                          |                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[c416fee](http://git.sagemath.org/sage.git/commit/?id=c416fee312ff1d8ab43b3a3c650f44688a17c7b9)|`Remove stuff which is not needed`|



---

archive/issue_comments_274700.json:
```json
{
    "body": "<a id='comment:15'></a>\nlooks good.",
    "created_at": "2014-08-27T21:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274700",
    "user": "https://github.com/malb"
}
```

<a id='comment:15'></a>
looks good.



---

archive/issue_comments_274701.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-27T21:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274701",
    "user": "https://github.com/malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_274702.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-08-27T21:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274702",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_274703.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2014-08-27T21:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274703",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_274704.json:
```json
{
    "body": "<a id='comment:16'></a>\nSorry, just found an issue. In `fmpq_poly.pxd`, there still is\n\n```\n    ctypedef void * fmpz_t\n    ctypedef void * fmpq_poly_t\n```\nI'll create a patch.",
    "created_at": "2014-08-27T21:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274704",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
Sorry, just found an issue. In `fmpq_poly.pxd`, there still is

```
    ctypedef void * fmpz_t
    ctypedef void * fmpq_poly_t
```
I'll create a patch.



---

archive/issue_comments_274705.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|\n|[b3d6aa2](http://git.sagemath.org/sage.git/commit/?id=b3d6aa2c24defa7cd22675f5540659b07a25401c)|`Further cleanup`|",
    "created_at": "2014-08-27T21:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274705",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
|[b3d6aa2](http://git.sagemath.org/sage.git/commit/?id=b3d6aa2c24defa7cd22675f5540659b07a25401c)|`Further cleanup`|



---

archive/issue_comments_274706.json:
```json
{
    "body": "Changing commit from \"c416fee312ff1d8ab43b3a3c650f44688a17c7b9\" to \"b3d6aa2c24defa7cd22675f5540659b07a25401c\"",
    "created_at": "2014-08-27T21:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274706",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c416fee312ff1d8ab43b3a3c650f44688a17c7b9" to "b3d6aa2c24defa7cd22675f5540659b07a25401c"



---

archive/issue_comments_274707.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-08-27T21:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274707",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_274708.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Update fmpz.pxi and fmpz_poly.pxi so that Cython doesn't complain about referenced before assigment any more.\n+Update fmpz.pxi and fmpz_poly.pxi (and others) so that Cython doesn't complain about referenced before assigment any more.\n``````\n",
    "created_at": "2014-08-28T06:28:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274708",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Update fmpz.pxi and fmpz_poly.pxi so that Cython doesn't complain about referenced before assigment any more.
+Update fmpz.pxi and fmpz_poly.pxi (and others) so that Cython doesn't complain about referenced before assigment any more.
``````




---

archive/issue_comments_274709.json:
```json
{
    "body": "<a id='comment:20'></a>\nLooks good.",
    "created_at": "2014-08-28T08:19:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274709",
    "user": "https://github.com/malb"
}
```

<a id='comment:20'></a>
Looks good.



---

archive/issue_comments_274710.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-28T08:19:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274710",
    "user": "https://github.com/malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_274711.json:
```json
{
    "body": "<a id='comment:21'></a>\nSome doctests still import `fmpq_poly.pxd`:\n\n```\nsage -t --long src/sage/misc/cython.py\n**********************************************************************\nFile \"src/sage/misc/cython.py\", line 254, in sage.misc.cython.pyx_preparse\nFailed example:\n    module = sage.misc.cython.import_test(\"trac11680\")  # long time (7s on sage.math, 2012)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 843, in compile_and_execute\n        exec compiled in globs\n      File \"<doctest sage.misc.cython.pyx_preparse[9]>\", line 1, in <module>\n        module = sage.misc.cython.import_test(\"trac11680\")  # long time (7s on sage.math, 2012)\n      File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/cython.py\", line 805, in import_test\n        return compile_and_load(TESTS[name])\n      File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/cython.py\", line 757, in compile_and_load\n        return cython_import(file, create_local_c_file=False)\n      File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/server/support.py\", line 447, in cython_import\n        **kwds)\n      File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/cython.py\", line 493, in cython\n        raise RuntimeError(\"Error converting {} to C:\\n{}\\n{}\".format(filename, log, err))\n    RuntimeError: Error converting /home/buildslave-sage/slave/sage_git/dot_sage/temp/desktop/29631/tmp_i0rQYs.pyx to C:\n\n\n    Error compiling Cython file:\n    ------------------------------------------------------------\n    ...\n    #cinclude $SAGE_SRC/sage/libs/flint $SAGE_LOCAL/include/FLINT\n    #clib flint\n\n    from sage.rings.rational cimport Rational\n    from sage.rings.polynomial.polynomial_rational_flint cimport Polynomial_rational_flint\n    from sage.libs.flint.fmpq_poly cimport (fmpq_poly_get_coeff_mpq, fmpq_poly_set_coeff_mpq,\n    ^\n    ------------------------------------------------------------\n\n    _home_buildslave_sage_slave_sage_git_dot_sage_temp_desktop_29631_tmp_i0rQYs_pyx_0.pyx:13:0: 'sage.libs.flint.fmpq_poly.pxd' not found\n```",
    "created_at": "2014-08-28T15:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274711",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'></a>
Some doctests still import `fmpq_poly.pxd`:

```
sage -t --long src/sage/misc/cython.py
**********************************************************************
File "src/sage/misc/cython.py", line 254, in sage.misc.cython.pyx_preparse
Failed example:
    module = sage.misc.cython.import_test("trac11680")  # long time (7s on sage.math, 2012)
Exception raised:
    Traceback (most recent call last):
      File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 843, in compile_and_execute
        exec compiled in globs
      File "<doctest sage.misc.cython.pyx_preparse[9]>", line 1, in <module>
        module = sage.misc.cython.import_test("trac11680")  # long time (7s on sage.math, 2012)
      File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/cython.py", line 805, in import_test
        return compile_and_load(TESTS[name])
      File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/cython.py", line 757, in compile_and_load
        return cython_import(file, create_local_c_file=False)
      File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/server/support.py", line 447, in cython_import
        **kwds)
      File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/cython.py", line 493, in cython
        raise RuntimeError("Error converting {} to C:\n{}\n{}".format(filename, log, err))
    RuntimeError: Error converting /home/buildslave-sage/slave/sage_git/dot_sage/temp/desktop/29631/tmp_i0rQYs.pyx to C:


    Error compiling Cython file:
    ------------------------------------------------------------
    ...
    #cinclude $SAGE_SRC/sage/libs/flint $SAGE_LOCAL/include/FLINT
    #clib flint

    from sage.rings.rational cimport Rational
    from sage.rings.polynomial.polynomial_rational_flint cimport Polynomial_rational_flint
    from sage.libs.flint.fmpq_poly cimport (fmpq_poly_get_coeff_mpq, fmpq_poly_set_coeff_mpq,
    ^
    ------------------------------------------------------------

    _home_buildslave_sage_slave_sage_git_dot_sage_temp_desktop_29631_tmp_i0rQYs_pyx_0.pyx:13:0: 'sage.libs.flint.fmpq_poly.pxd' not found
```



---

archive/issue_comments_274712.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-08-28T15:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274712",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_274713.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-08-28T19:04:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274713",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_274714.json:
```json
{
    "body": "Changing commit from \"b3d6aa2c24defa7cd22675f5540659b07a25401c\" to \"20c767c6a446b441b1551a03a10fb09e1e4bb711\"",
    "created_at": "2014-08-28T19:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274714",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b3d6aa2c24defa7cd22675f5540659b07a25401c" to "20c767c6a446b441b1551a03a10fb09e1e4bb711"



---

archive/issue_comments_274715.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[20c767c](http://git.sagemath.org/sage.git/commit/?id=20c767c6a446b441b1551a03a10fb09e1e4bb711)|`Fix include of fmpq_poly.pxi in Cython doctest`|",
    "created_at": "2014-08-28T19:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274715",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[20c767c](http://git.sagemath.org/sage.git/commit/?id=20c767c6a446b441b1551a03a10fb09e1e4bb711)|`Fix include of fmpq_poly.pxi in Cython doctest`|



---

archive/issue_comments_274716.json:
```json
{
    "body": "Changing reviewer from \"Jeroen Demeyer\" to \"Jeroen Demeyer, Volker Braun\"",
    "created_at": "2014-08-28T20:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274716",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "Jeroen Demeyer" to "Jeroen Demeyer, Volker Braun"



---

archive/issue_comments_274717.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-28T20:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274717",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_274718.json:
```json
{
    "body": "<a id='comment:25'></a>\nI have also done the same fixes for `mpz_t` at #16910 + #15946, it would be good if somebody could review these.",
    "created_at": "2014-09-03T08:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274718",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>
I have also done the same fixes for `mpz_t` at #16910 + #15946, it would be good if somebody could review these.



---

archive/issue_comments_274719.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/ticket/16583\" to \"20c767c6a446b441b1551a03a10fb09e1e4bb711\"",
    "created_at": "2014-09-06T11:02:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274719",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/ticket/16583" to "20c767c6a446b441b1551a03a10fb09e1e4bb711"



---

archive/issue_events_048658.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-06T11:02:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16583#event-48658"
}
```



---

archive/issue_comments_274720.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-09-06T11:02:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274720",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_274721.json:
```json
{
    "body": "Changing commit from \"20c767c6a446b441b1551a03a10fb09e1e4bb711\" to \"\"",
    "created_at": "2014-10-13T16:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274721",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing commit from "20c767c6a446b441b1551a03a10fb09e1e4bb711" to ""



---

archive/issue_comments_274722.json:
```json
{
    "body": "<a id='comment:27'></a>\nSorry to dig into \"old\" stuff, but I was suggested to use pxd files rather than pxi files and see the changes here went the other way around...\nAny strong reason to have done that?",
    "created_at": "2014-10-13T16:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274722",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:27'></a>
Sorry to dig into "old" stuff, but I was suggested to use pxd files rather than pxi files and see the changes here went the other way around...
Any strong reason to have done that?



---

archive/issue_comments_274723.json:
```json
{
    "body": "<a id='comment:28'></a>\nGenerally speaking, Cython got better at what can be cimported over time (pxd). So there is less reason to rely on textual inclusion (pxi). If in doubt (and if it works ;-) then use pxd.",
    "created_at": "2014-10-13T16:32:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274723",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'></a>
Generally speaking, Cython got better at what can be cimported over time (pxd). So there is less reason to rely on textual inclusion (pxi). If in doubt (and if it works ;-) then use pxd.



---

archive/issue_comments_274724.json:
```json
{
    "body": "<a id='comment:29'></a>\nOk, then I'll take the chance to open a ticket to migrate all of flint stuff to pxd files.",
    "created_at": "2014-10-13T17:17:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274724",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:29'></a>
Ok, then I'll take the chance to open a ticket to migrate all of flint stuff to pxd files.



---

archive/issue_comments_274725.json:
```json
{
    "body": "<a id='comment:30'></a>\nSee #16428.",
    "created_at": "2014-10-13T18:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16583",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16583#issuecomment-274725",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>
See #16428.
