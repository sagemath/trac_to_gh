# Issue 16397: Symbolic cmp

archive/issues_016160.json:
```json
{
    "assignees": [],
    "body": "In the symbolic ring, cmp implements the print comparison which is probably not what you envisioned:\n\n```\nsage: cmp(1, sqrt(2))     # mathematically correct, uses rich comparison\n-1\nsage: cmp(SR(1), sqrt(2)) # unexpectedly, you get the print sort order\n1\nsage: cmp(log(8), 3*log(2))\n-1\n```\nEverybody who coerces to same parents internally before comparing trips over this, for example the real lazy field:\n\n```\nsage: RLF(1) < RLF(sqrt(2))\nFalse\n```\nThis also makes `RealSet` unusable with symbolics:\n\n```\nsage: RealSet((0, pi),[pi, pi],(pi,4))\n[pi, 4)\nsage: RealSet((0, pi),[0, pi],(pi,4))\n[pi, 4)\nsage: RealSet((0, pi),[0, 3.5],(pi,4))\n(pi, 4)\n```\n\n\nCC:  @videlec @mezzarobba @jpflori\n\nBranch/Commit: **[`07f12cd`](https://github.com/sagemath/sagetrac-mirror/commit/07f12cdfd14f3a7af5445aab7419c0ddaea1074d)**\n\nReviewer: **Ralf Stephan, Volker Braun**\n\nAuthor: **Volker Braun, Ralf Stephan**\n\nComponent: **symbolics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16397_\n\n",
    "closed_at": "2016-04-16T15:35:38Z",
    "created_at": "2014-05-25T17:25:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Symbolic cmp",
    "type": "issue",
    "updated_at": "2016-04-16T15:35:38Z",
    "url": "https://github.com/sagemath/sage/issues/16397",
    "user": "https://github.com/vbraun"
}
```
In the symbolic ring, cmp implements the print comparison which is probably not what you envisioned:

```
sage: cmp(1, sqrt(2))     # mathematically correct, uses rich comparison
-1
sage: cmp(SR(1), sqrt(2)) # unexpectedly, you get the print sort order
1
sage: cmp(log(8), 3*log(2))
-1
```
Everybody who coerces to same parents internally before comparing trips over this, for example the real lazy field:

```
sage: RLF(1) < RLF(sqrt(2))
False
```
This also makes `RealSet` unusable with symbolics:

```
sage: RealSet((0, pi),[pi, pi],(pi,4))
[pi, 4)
sage: RealSet((0, pi),[0, pi],(pi,4))
[pi, 4)
sage: RealSet((0, pi),[0, 3.5],(pi,4))
(pi, 4)
```


CC:  @videlec @mezzarobba @jpflori

Branch/Commit: **[`07f12cd`](https://github.com/sagemath/sagetrac-mirror/commit/07f12cdfd14f3a7af5445aab7419c0ddaea1074d)**

Reviewer: **Ralf Stephan, Volker Braun**

Author: **Volker Braun, Ralf Stephan**

Component: **symbolics**

_Issue created by migration from https://trac.sagemath.org/ticket/16397_





---

archive/issue_events_234235.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-25T17:25:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234235"
}
```



---

archive/issue_events_234236.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-25T17:25:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234236"
}
```



---

archive/issue_events_234237.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-25T17:28:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234237"
}
```



---

archive/issue_events_234238.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-25T17:28:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234238"
}
```



---

archive/issue_comments_211716.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,8 @@\n+In the symbolic ring, cmp implements the print comparison which is probably not what you envisioned:\n \n+```\n+sage: cmp(1, sqrt(2))     # mathematically correct, uses rich comparison\n+-1\n+sage: cmp(SR(1), sqrt(2)) # unexpectedly, you get the print sort order\n+1\n+```\n``````\n",
    "created_at": "2014-05-25T17:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211716",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,8 @@
+In the symbolic ring, cmp implements the print comparison which is probably not what you envisioned:
 
+```
+sage: cmp(1, sqrt(2))     # mathematically correct, uses rich comparison
+-1
+sage: cmp(SR(1), sqrt(2)) # unexpectedly, you get the print sort order
+1
+```
``````




---

archive/issue_comments_211717.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,10 @@\n sage: cmp(SR(1), sqrt(2)) # unexpectedly, you get the print sort order\n 1\n ```\n+Everybody who coerces to same parents internally before comparing trips over this, for example the real lazy field:\n+\n+```\n+sage: RLF(1) < RLF(sqrt(2))\n+False\n+```\n+\n``````\n",
    "created_at": "2014-05-25T17:34:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211717",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,10 @@
 sage: cmp(SR(1), sqrt(2)) # unexpectedly, you get the print sort order
 1
 ```
+Everybody who coerces to same parents internally before comparing trips over this, for example the real lazy field:
+
+```
+sage: RLF(1) < RLF(sqrt(2))
+False
+```
+
``````




---

archive/issue_comments_211718.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI can see how that might be surprising. :)\n\nIIRC, that was a conscious decision to expose the print order from Pynac to !Python/Sage to be used for sorting lists, etc. where symbolic expressions occur. I guess many places in the code call `cmp()` instead of using the comparison operators.\n\nWe would need to get rid of this design for Python 3 compatibility anyway. Shall we remove support for `cmp()` and change all places where lists are returned from symbolics to explicitly call the print order?",
    "created_at": "2014-05-25T18:08:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211718",
    "user": "https://github.com/burcin"
}
```

<div id="comment:3" align="right">comment:3</div>

I can see how that might be surprising. :)

IIRC, that was a conscious decision to expose the print order from Pynac to !Python/Sage to be used for sorting lists, etc. where symbolic expressions occur. I guess many places in the code call `cmp()` instead of using the comparison operators.

We would need to get rid of this design for Python 3 compatibility anyway. Shall we remove support for `cmp()` and change all places where lists are returned from symbolics to explicitly call the print order?



---

archive/issue_comments_211719.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nYes, thats what I'm thinking as well. I'll write a `print_order` function and see if I can get rid of all cmp calls...",
    "created_at": "2014-05-25T18:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211719",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:4" align="right">comment:4</div>

Yes, thats what I'm thinking as well. I'll write a `print_order` function and see if I can get rid of all cmp calls...



---

archive/issue_comments_211720.json:
```json
{
    "body": "Branch: **[u/vbraun/symbolic_cmp](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/symbolic_cmp)**",
    "created_at": "2014-05-25T21:27:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211720",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/symbolic_cmp](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/symbolic_cmp)**



---

archive/issue_comments_211721.json:
```json
{
    "body": "Commit: **[`62be17e`](https://github.com/sagemath/sagetrac-mirror/commit/62be17eb6eccffcddcc61e4f18a2123ec0c364d8)**",
    "created_at": "2014-05-27T14:35:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211721",
    "user": "https://github.com/videlec"
}
```

Commit: **[`62be17e`](https://github.com/sagemath/sagetrac-mirror/commit/62be17eb6eccffcddcc61e4f18a2123ec0c364d8)**



---

archive/issue_comments_211722.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62be17eb6eccffcddcc61e4f18a2123ec0c364d8\"><code>62be17e</code></a></td><td><code>print_sorted and math_sorted utility functions</code></td></tr></table>\n",
    "created_at": "2014-05-27T14:35:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211722",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62be17eb6eccffcddcc61e4f18a2123ec0c364d8"><code>62be17e</code></a></td><td><code>print_sorted and math_sorted utility functions</code></td></tr></table>




---

archive/issue_events_234239.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234239"
}
```



---

archive/issue_events_234240.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234240"
}
```



---

archive/issue_comments_211723.json:
```json
{
    "body": "Changed branch from **[u/vbraun/symbolic_cmp](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/symbolic_cmp)** to **[u/rws/symbolic_cmp](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/symbolic_cmp)**",
    "created_at": "2014-09-05T16:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211723",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/vbraun/symbolic_cmp](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/symbolic_cmp)** to **[u/rws/symbolic_cmp](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/symbolic_cmp)**



---

archive/issue_comments_211724.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nTrying to push this ticket a bit. I also found this `cmp` call:\n\n```\n File \"matrix_integer_dense.pyx\", line 604, in sage.matrix.matrix_integer_dense.Matrix_integer_dense.__richcmp__ (build/cythonized/sage/matrix/matrix_integer_dense.c:9503)\n  File \"element.pyx\", line 873, in sage.structure.element.Element._richcmp (build/cythonized/sage/structure/element.c:8891)\n  File \"element.pyx\", line 855, in sage.structure.element.Element._richcmp_ (build/cythonized/sage/structure/element.c:8615)\n  File \"element.pyx\", line 902, in sage.structure.element.Element._richcmp (build/cythonized/sage/structure/element.c:9316)\n  File \"element.pyx\", line 949, in sage.structure.element.Element._richcmp_c_impl (build/cythonized/sage/structure/element.c:9645)\n  File \"matrix_dense.pyx\", line 126, in sage.matrix.matrix_dense.Matrix_dense._cmp_c_impl (build/cythonized/sage/matrix/matrix_dense.c:3092)\n  File \"expression.pyx\", line 3066, in sage.symbolic.expression.Expression.__cmp__ (build/cythonized/sage/symbolic/expression.cpp:16865)\n```\nDo I understand it right that this should call `math_sorted` instead of `cmp`?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/215cff4e33f7a63e2da4cdde45c7f491046271ac\"><code>215cff4</code></a></td><td><code>Merge branch 'develop' into t/16397/symbolic_cmp</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af5f800fdc616022d503b5e845ec81ebfef7c25e\"><code>af5f800</code></a></td><td><code>16397: use print_sorted() in two further places; fix doctest</code></td></tr></table>\n",
    "created_at": "2014-09-05T16:40:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211724",
    "user": "https://github.com/rwst"
}
```

<div id="comment:9" align="right">comment:9</div>

Trying to push this ticket a bit. I also found this `cmp` call:

```
 File "matrix_integer_dense.pyx", line 604, in sage.matrix.matrix_integer_dense.Matrix_integer_dense.__richcmp__ (build/cythonized/sage/matrix/matrix_integer_dense.c:9503)
  File "element.pyx", line 873, in sage.structure.element.Element._richcmp (build/cythonized/sage/structure/element.c:8891)
  File "element.pyx", line 855, in sage.structure.element.Element._richcmp_ (build/cythonized/sage/structure/element.c:8615)
  File "element.pyx", line 902, in sage.structure.element.Element._richcmp (build/cythonized/sage/structure/element.c:9316)
  File "element.pyx", line 949, in sage.structure.element.Element._richcmp_c_impl (build/cythonized/sage/structure/element.c:9645)
  File "matrix_dense.pyx", line 126, in sage.matrix.matrix_dense.Matrix_dense._cmp_c_impl (build/cythonized/sage/matrix/matrix_dense.c:3092)
  File "expression.pyx", line 3066, in sage.symbolic.expression.Expression.__cmp__ (build/cythonized/sage/symbolic/expression.cpp:16865)
```
Do I understand it right that this should call `math_sorted` instead of `cmp`?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/215cff4e33f7a63e2da4cdde45c7f491046271ac"><code>215cff4</code></a></td><td><code>Merge branch 'develop' into t/16397/symbolic_cmp</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af5f800fdc616022d503b5e845ec81ebfef7c25e"><code>af5f800</code></a></td><td><code>16397: use print_sorted() in two further places; fix doctest</code></td></tr></table>




---

archive/issue_comments_211725.json:
```json
{
    "body": "Changed commit from **[`62be17e`](https://github.com/sagemath/sagetrac-mirror/commit/62be17eb6eccffcddcc61e4f18a2123ec0c364d8)** to **[`af5f800`](https://github.com/sagemath/sagetrac-mirror/commit/af5f800fdc616022d503b5e845ec81ebfef7c25e)**",
    "created_at": "2014-09-05T16:40:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211725",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[`62be17e`](https://github.com/sagemath/sagetrac-mirror/commit/62be17eb6eccffcddcc61e4f18a2123ec0c364d8)** to **[`af5f800`](https://github.com/sagemath/sagetrac-mirror/commit/af5f800fdc616022d503b5e845ec81ebfef7c25e)**



---

archive/issue_comments_211726.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThe problem is IMHO what to do with Python 3. Sure we can play the two different comparisons (cmp vs. rich) in Python 2 against each other, but in Py3 there will be only one comparison. So either\n* Comparison is always symbolic, and sorting will have to call `__bool__` on the symbolic inequalities. We then need to make that a total order instead of returning `False` all the time. Slow.\n* Comparison is never symbolic, and you need to call `x.symbolic_less(y)`. Could be beautified by the preparser. The actual comparison returns the internal term order. Fast.\nThought? Maybe that topic is more fodder for sage-devel...",
    "created_at": "2014-09-05T20:02:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211726",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">comment:10</div>

The problem is IMHO what to do with Python 3. Sure we can play the two different comparisons (cmp vs. rich) in Python 2 against each other, but in Py3 there will be only one comparison. So either
* Comparison is always symbolic, and sorting will have to call `__bool__` on the symbolic inequalities. We then need to make that a total order instead of returning `False` all the time. Slow.
* Comparison is never symbolic, and you need to call `x.symbolic_less(y)`. Could be beautified by the preparser. The actual comparison returns the internal term order. Fast.
Thought? Maybe that topic is more fodder for sage-devel...



---

archive/issue_comments_211727.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nYes, it's a bit over my head.",
    "created_at": "2014-09-05T20:18:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211727",
    "user": "https://github.com/rwst"
}
```

<div id="comment:11" align="right">comment:11</div>

Yes, it's a bit over my head.



---

archive/issue_comments_211728.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nWas there ever any consensus on sage-devel on this?  I'm leaning toward the first option, but not strongly.",
    "created_at": "2015-02-03T04:10:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211728",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:12" align="right">comment:12</div>

Was there ever any consensus on sage-devel on this?  I'm leaning toward the first option, but not strongly.



---

archive/issue_comments_211729.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@kcrisman](#comment:12):\n> Was there ever any consensus on sage-devel on this?  I'm leaning toward the first option, but not strongly.\n\nYou probably mean https://groups.google.com/forum/?hl=en#!searchin/sage-devel/cmp/sage-devel/092yBmHfXQo/4qfS_JHLJdwJ and #16537, #17175. The newsgroup thread is mainly about equality/hashing and a bit of richcmp, not the two choices above. I am just starting to read about this.",
    "created_at": "2015-02-17T16:45:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211729",
    "user": "https://github.com/rwst"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@kcrisman](#comment:12):
> Was there ever any consensus on sage-devel on this?  I'm leaning toward the first option, but not strongly.

You probably mean https://groups.google.com/forum/?hl=en#!searchin/sage-devel/cmp/sage-devel/092yBmHfXQo/4qfS_JHLJdwJ and #16537, #17175. The newsgroup thread is mainly about equality/hashing and a bit of richcmp, not the two choices above. I am just starting to read about this.



---

archive/issue_events_234241.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-17T16:51:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234241"
}
```



---

archive/issue_events_234242.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-17T16:51:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234242"
}
```



---

archive/issue_events_234243.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-17T17:24:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234243"
}
```



---

archive/issue_events_234244.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-17T17:24:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234244"
}
```



---

archive/issue_comments_211730.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,4 +12,14 @@\n sage: RLF(1) < RLF(sqrt(2))\n False\n ```\n+This also makes `RealSet` unusable with symbolics:\n \n+```\n+sage: RealSet((0, pi),[pi, pi],(pi,4))\n+[pi, 4)\n+sage: RealSet((0, pi),[0, pi],(pi,4))\n+[pi, 4)\n+sage: RealSet((0, pi),[0, 3.5],(pi,4))\n+(pi, 4)\n+```\n+\n``````\n",
    "created_at": "2015-02-17T17:26:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211730",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,4 +12,14 @@
 sage: RLF(1) < RLF(sqrt(2))
 False
 ```
+This also makes `RealSet` unusable with symbolics:
 
+```
+sage: RealSet((0, pi),[pi, pi],(pi,4))
+[pi, 4)
+sage: RealSet((0, pi),[0, pi],(pi,4))
+[pi, 4)
+sage: RealSet((0, pi),[0, 3.5],(pi,4))
+(pi, 4)
+```
+
``````




---

archive/issue_comments_211731.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nWhen #19040 is done `__cmp__` could simply delegate to `__nonzero__`.",
    "created_at": "2015-10-23T06:18:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211731",
    "user": "https://github.com/rwst"
}
```

<div id="comment:19" align="right">comment:19</div>

When #19040 is done `__cmp__` could simply delegate to `__nonzero__`.



---

archive/issue_comments_211732.json:
```json
{
    "body": "Stopgaps: **#19465**",
    "created_at": "2015-10-24T09:26:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211732",
    "user": "https://github.com/rwst"
}
```

Stopgaps: **#19465**



---

archive/issue_comments_211733.json:
```json
{
    "body": "Changed branch from **[u/rws/symbolic_cmp](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/symbolic_cmp)** to none",
    "created_at": "2015-10-24T09:26:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211733",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/symbolic_cmp](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/symbolic_cmp)** to none



---

archive/issue_events_234245.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-24T09:26:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234245"
}
```



---

archive/issue_events_234246.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-24T09:26:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234246"
}
```



---

archive/issue_comments_211734.json:
```json
{
    "body": "Changed commit from **[`af5f800`](https://github.com/sagemath/sagetrac-mirror/commit/af5f800fdc616022d503b5e845ec81ebfef7c25e)** to none",
    "created_at": "2015-10-24T09:26:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211734",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[`af5f800`](https://github.com/sagemath/sagetrac-mirror/commit/af5f800fdc616022d503b5e845ec81ebfef7c25e)** to none



---

archive/issue_comments_211735.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThe newest verson of #19040 is in the `u/rws/19312-1` branch of #19312\n\nSo, the way to resolve this IMO would be to\n1. merge #19312\n2. merge #19040 using the `u/rws/19312-1` branch of #19312\n3. using `__nonzero__` to implement `__cmp__`",
    "created_at": "2015-10-24T09:26:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211735",
    "user": "https://github.com/rwst"
}
```

<div id="comment:20" align="right">comment:20</div>

The newest verson of #19040 is in the `u/rws/19312-1` branch of #19312

So, the way to resolve this IMO would be to
1. merge #19312
2. merge #19040 using the `u/rws/19312-1` branch of #19312
3. using `__nonzero__` to implement `__cmp__`



---

archive/issue_comments_211736.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThere is also a more minimal solution (part of #19040): scan the expression, if it contains variables use print order, if not use math order.",
    "created_at": "2016-03-02T07:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211736",
    "user": "https://github.com/rwst"
}
```

<div id="comment:21" align="right">comment:21</div>

There is also a more minimal solution (part of #19040): scan the expression, if it contains variables use print order, if not use math order.



---

archive/issue_comments_211737.json:
```json
{
    "body": "Branch: **[public/16397-1](https://github.com/sagemath/sagetrac-mirror/tree/public/16397-1)**",
    "created_at": "2016-03-06T16:28:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211737",
    "user": "https://github.com/rwst"
}
```

Branch: **[public/16397-1](https://github.com/sagemath/sagetrac-mirror/tree/public/16397-1)**



---

archive/issue_comments_211738.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nWith this we introduce a mixed sort key for symbolics which is numerically correct and symbolically fast. This is part of the work on #19040 and adds to/benefits from Volker's abstraction of orders of comparison.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62be17eb6eccffcddcc61e4f18a2123ec0c364d8\"><code>62be17e</code></a></td><td><code>print_sorted and math_sorted utility functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d8c7745c66e5495476cdcb05f85cbedee94739c\"><code>8d8c774</code></a></td><td><code>Merge remote-tracking branch 'trac/u/vbraun/symbolic_cmp' into symbcmp</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/215cff4e33f7a63e2da4cdde45c7f491046271ac\"><code>215cff4</code></a></td><td><code>Merge branch 'develop' into t/16397/symbolic_cmp</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af5f800fdc616022d503b5e845ec81ebfef7c25e\"><code>af5f800</code></a></td><td><code>16397: use print_sorted() in two further places; fix doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f32de003faf43f9fbbf3d0d786b004fcdab5c9bd\"><code>f32de00</code></a></td><td><code>Merge remote-tracking branch 'trac/u/rws/symbolic_cmp' into symbcmp</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/237c17e487e9e5a92f404de4c67fc9b0419d43c0\"><code>237c17e</code></a></td><td><code>mixed order comparison</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c92ffba371de028843bcbb08a7813fda95b9448a\"><code>c92ffba</code></a></td><td><code>fix wrong doctest</code></td></tr></table>\n",
    "created_at": "2016-03-06T16:32:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211738",
    "user": "https://github.com/rwst"
}
```

<div id="comment:23" align="right">comment:23</div>

With this we introduce a mixed sort key for symbolics which is numerically correct and symbolically fast. This is part of the work on #19040 and adds to/benefits from Volker's abstraction of orders of comparison.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62be17eb6eccffcddcc61e4f18a2123ec0c364d8"><code>62be17e</code></a></td><td><code>print_sorted and math_sorted utility functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d8c7745c66e5495476cdcb05f85cbedee94739c"><code>8d8c774</code></a></td><td><code>Merge remote-tracking branch 'trac/u/vbraun/symbolic_cmp' into symbcmp</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/215cff4e33f7a63e2da4cdde45c7f491046271ac"><code>215cff4</code></a></td><td><code>Merge branch 'develop' into t/16397/symbolic_cmp</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af5f800fdc616022d503b5e845ec81ebfef7c25e"><code>af5f800</code></a></td><td><code>16397: use print_sorted() in two further places; fix doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f32de003faf43f9fbbf3d0d786b004fcdab5c9bd"><code>f32de00</code></a></td><td><code>Merge remote-tracking branch 'trac/u/rws/symbolic_cmp' into symbcmp</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/237c17e487e9e5a92f404de4c67fc9b0419d43c0"><code>237c17e</code></a></td><td><code>mixed order comparison</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c92ffba371de028843bcbb08a7813fda95b9448a"><code>c92ffba</code></a></td><td><code>fix wrong doctest</code></td></tr></table>




---

archive/issue_events_234247.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-03-06T16:32:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234247"
}
```



---

archive/issue_events_234248.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-03-06T16:32:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234248"
}
```



---

archive/issue_comments_211739.json:
```json
{
    "body": "Commit: **[`c92ffba`](https://github.com/sagemath/sagetrac-mirror/commit/c92ffba371de028843bcbb08a7813fda95b9448a)**",
    "created_at": "2016-03-06T16:32:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211739",
    "user": "https://github.com/rwst"
}
```

Commit: **[`c92ffba`](https://github.com/sagemath/sagetrac-mirror/commit/c92ffba371de028843bcbb08a7813fda95b9448a)**



---

archive/issue_comments_211740.json:
```json
{
    "body": "Author: **Volker Braun, Ralf Stephan**",
    "created_at": "2016-03-06T16:32:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211740",
    "user": "https://github.com/rwst"
}
```

Author: **Volker Braun, Ralf Stephan**



---

archive/issue_events_234249.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-03-06T16:32:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234249"
}
```



---

archive/issue_comments_211741.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06ea5a9957bcfd03fa1476f7651b2d9400e9e36b\"><code>06ea5a9</code></a></td><td><code>fix doctest</code></td></tr></table>\n",
    "created_at": "2016-03-07T08:17:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211741",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06ea5a9957bcfd03fa1476f7651b2d9400e9e36b"><code>06ea5a9</code></a></td><td><code>fix doctest</code></td></tr></table>




---

archive/issue_comments_211742.json:
```json
{
    "body": "Changed commit from **[`c92ffba`](https://github.com/sagemath/sagetrac-mirror/commit/c92ffba371de028843bcbb08a7813fda95b9448a)** to **[`06ea5a9`](https://github.com/sagemath/sagetrac-mirror/commit/06ea5a9957bcfd03fa1476f7651b2d9400e9e36b)**",
    "created_at": "2016-03-07T08:17:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211742",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c92ffba`](https://github.com/sagemath/sagetrac-mirror/commit/c92ffba371de028843bcbb08a7813fda95b9448a)** to **[`06ea5a9`](https://github.com/sagemath/sagetrac-mirror/commit/06ea5a9957bcfd03fa1476f7651b2d9400e9e36b)**



---

archive/issue_comments_211743.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,8 @@\n -1\n sage: cmp(SR(1), sqrt(2)) # unexpectedly, you get the print sort order\n 1\n+sage: cmp(log(8), 3*log(2))\n+-1\n ```\n Everybody who coerces to same parents internally before comparing trips over this, for example the real lazy field:\n \n``````\n",
    "created_at": "2016-03-10T09:17:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211743",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,8 @@
 -1
 sage: cmp(SR(1), sqrt(2)) # unexpectedly, you get the print sort order
 1
+sage: cmp(log(8), 3*log(2))
+-1
 ```
 Everybody who coerces to same parents internally before comparing trips over this, for example the real lazy field:
 
``````




---

archive/issue_comments_211744.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThe results for the `RealSet` examples would be at the moment:\n\n```\nsage: RealSet((0, pi),[pi, pi],(pi,4))\n[pi, 0) + (pi, 4)\nsage: RealSet((0, pi),[0, pi],(pi,4))\n[pi, 0] + (pi, 0) + (pi, 4)\nsage: RealSet((0, pi),[0, 3.5],(pi,4))\n(pi, 4)\n```",
    "created_at": "2016-03-10T09:30:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211744",
    "user": "https://github.com/rwst"
}
```

<div id="comment:26" align="right">comment:26</div>

The results for the `RealSet` examples would be at the moment:

```
sage: RealSet((0, pi),[pi, pi],(pi,4))
[pi, 0) + (pi, 4)
sage: RealSet((0, pi),[0, pi],(pi,4))
[pi, 0] + (pi, 0) + (pi, 4)
sage: RealSet((0, pi),[0, 3.5],(pi,4))
(pi, 4)
```



---

archive/issue_comments_211745.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nSo there is still\n\n```\nsage: cmp(pi,0)\n1\nsage: cmp(pi,SR(0))\n-1\nsage: cmp(0,pi)\n-1\nsage: cmp(SR(0),pi)\n-1\n```",
    "created_at": "2016-03-10T09:37:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211745",
    "user": "https://github.com/rwst"
}
```

<div id="comment:27" align="right">comment:27</div>

So there is still

```
sage: cmp(pi,0)
1
sage: cmp(pi,SR(0))
-1
sage: cmp(0,pi)
-1
sage: cmp(SR(0),pi)
-1
```



---

archive/issue_events_234250.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-03-10T09:37:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234250"
}
```



---

archive/issue_events_234251.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-03-10T09:37:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234251"
}
```



---

archive/issue_comments_211746.json:
```json
{
    "body": "Changed commit from **[`06ea5a9`](https://github.com/sagemath/sagetrac-mirror/commit/06ea5a9957bcfd03fa1476f7651b2d9400e9e36b)** to **[`c78d151`](https://github.com/sagemath/sagetrac-mirror/commit/c78d15119bf930af733b831bc83b54c40c56f800)**",
    "created_at": "2016-03-10T13:56:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211746",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`06ea5a9`](https://github.com/sagemath/sagetrac-mirror/commit/06ea5a9957bcfd03fa1476f7651b2d9400e9e36b)** to **[`c78d151`](https://github.com/sagemath/sagetrac-mirror/commit/c78d15119bf930af733b831bc83b54c40c56f800)**



---

archive/issue_comments_211747.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c78d15119bf930af733b831bc83b54c40c56f800\"><code>c78d151</code></a></td><td><code>add Constant.__lt__</code></td></tr></table>\n",
    "created_at": "2016-03-10T13:56:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211747",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c78d15119bf930af733b831bc83b54c40c56f800"><code>c78d151</code></a></td><td><code>add Constant.__lt__</code></td></tr></table>




---

archive/issue_comments_211748.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1381a89d5e960afb76815f85e771f71f99a3d1c1\"><code>1381a89</code></a></td><td><code>16397: add tests</code></td></tr></table>\n",
    "created_at": "2016-03-10T14:05:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211748",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1381a89d5e960afb76815f85e771f71f99a3d1c1"><code>1381a89</code></a></td><td><code>16397: add tests</code></td></tr></table>




---

archive/issue_comments_211749.json:
```json
{
    "body": "Changed commit from **[`c78d151`](https://github.com/sagemath/sagetrac-mirror/commit/c78d15119bf930af733b831bc83b54c40c56f800)** to **[`1381a89`](https://github.com/sagemath/sagetrac-mirror/commit/1381a89d5e960afb76815f85e771f71f99a3d1c1)**",
    "created_at": "2016-03-10T14:05:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211749",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c78d151`](https://github.com/sagemath/sagetrac-mirror/commit/c78d15119bf930af733b831bc83b54c40c56f800)** to **[`1381a89`](https://github.com/sagemath/sagetrac-mirror/commit/1381a89d5e960afb76815f85e771f71f99a3d1c1)**



---

archive/issue_events_234252.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-03-10T14:06:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234252"
}
```



---

archive/issue_events_234253.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-03-10T14:06:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234253"
}
```



---

archive/issue_comments_211750.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/585ceb894a09284361594af5ee3f891c43052048\"><code>585ceb8</code></a></td><td><code>Merge branch 'develop' into symbcmp</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60370a98cc7b77a1c0884066dcc57d193dcf9a6c\"><code>60370a9</code></a></td><td><code>16397: fix typo</code></td></tr></table>\n",
    "created_at": "2016-03-11T07:55:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211750",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/585ceb894a09284361594af5ee3f891c43052048"><code>585ceb8</code></a></td><td><code>Merge branch 'develop' into symbcmp</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60370a98cc7b77a1c0884066dcc57d193dcf9a6c"><code>60370a9</code></a></td><td><code>16397: fix typo</code></td></tr></table>




---

archive/issue_comments_211751.json:
```json
{
    "body": "Changed commit from **[`1381a89`](https://github.com/sagemath/sagetrac-mirror/commit/1381a89d5e960afb76815f85e771f71f99a3d1c1)** to **[`60370a9`](https://github.com/sagemath/sagetrac-mirror/commit/60370a98cc7b77a1c0884066dcc57d193dcf9a6c)**",
    "created_at": "2016-03-11T07:55:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211751",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1381a89`](https://github.com/sagemath/sagetrac-mirror/commit/1381a89d5e960afb76815f85e771f71f99a3d1c1)** to **[`60370a9`](https://github.com/sagemath/sagetrac-mirror/commit/60370a98cc7b77a1c0884066dcc57d193dcf9a6c)**



---

archive/issue_comments_211752.json:
```json
{
    "body": "Changed stopgaps from **#19465** to none",
    "created_at": "2016-03-11T07:58:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211752",
    "user": "https://github.com/rwst"
}
```

Changed stopgaps from **#19465** to none



---

archive/issue_comments_211753.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nConsider the commit by Volker Braun (the first) reviewed by me. Please review everything else.",
    "created_at": "2016-03-11T07:58:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211753",
    "user": "https://github.com/rwst"
}
```

<div id="comment:33" align="right">comment:33</div>

Consider the commit by Volker Braun (the first) reviewed by me. Please review everything else.



---

archive/issue_comments_211754.json:
```json
{
    "body": "Reviewer: **Ralf Stephan**",
    "created_at": "2016-03-11T07:58:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211754",
    "user": "https://github.com/rwst"
}
```

Reviewer: **Ralf Stephan**



---

archive/issue_comments_211755.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nhmm, patchbots are still not happy...",
    "created_at": "2016-03-11T10:41:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211755",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">comment:34</div>

hmm, patchbots are still not happy...



---

archive/issue_comments_211756.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nThat was a blind merge of develop, sigh.",
    "created_at": "2016-03-11T13:53:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211756",
    "user": "https://github.com/rwst"
}
```

<div id="comment:35" align="right">comment:35</div>

That was a blind merge of develop, sigh.



---

archive/issue_comments_211757.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f78854cf315994d26d33b0bcc93c7e64bb0bd8a8\"><code>f78854c</code></a></td><td><code>fix depecrated import of python.pxi</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eab9ec2ce8ce805441543ffcbebcdf5fb527a2cb\"><code>eab9ec2</code></a></td><td><code>16397: fix doctest</code></td></tr></table>\n",
    "created_at": "2016-03-11T15:35:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211757",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f78854cf315994d26d33b0bcc93c7e64bb0bd8a8"><code>f78854c</code></a></td><td><code>fix depecrated import of python.pxi</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eab9ec2ce8ce805441543ffcbebcdf5fb527a2cb"><code>eab9ec2</code></a></td><td><code>16397: fix doctest</code></td></tr></table>




---

archive/issue_comments_211758.json:
```json
{
    "body": "Changed commit from **[`60370a9`](https://github.com/sagemath/sagetrac-mirror/commit/60370a98cc7b77a1c0884066dcc57d193dcf9a6c)** to **[`eab9ec2`](https://github.com/sagemath/sagetrac-mirror/commit/eab9ec2ce8ce805441543ffcbebcdf5fb527a2cb)**",
    "created_at": "2016-03-11T15:35:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211758",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`60370a9`](https://github.com/sagemath/sagetrac-mirror/commit/60370a98cc7b77a1c0884066dcc57d193dcf9a6c)** to **[`eab9ec2`](https://github.com/sagemath/sagetrac-mirror/commit/eab9ec2ce8ce805441543ffcbebcdf5fb527a2cb)**



---

archive/issue_comments_211759.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nIt is interesting to see from the remaining fail in `random_test` that print order itself is a buggy concept: it either makes incorrect comparisons (`e>SR(0)` False) or fail transitivity if this is fixed in mixed order (`(x>e,e>SR(0),x>SR(0)) -> (True,True,False)`). So, mixed order in the present form would be no longer transitive.",
    "created_at": "2016-03-14T09:09:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211759",
    "user": "https://github.com/rwst"
}
```

<div id="comment:37" align="right">comment:37</div>

It is interesting to see from the remaining fail in `random_test` that print order itself is a buggy concept: it either makes incorrect comparisons (`e>SR(0)` False) or fail transitivity if this is fixed in mixed order (`(x>e,e>SR(0),x>SR(0)) -> (True,True,False)`). So, mixed order in the present form would be no longer transitive.



---

archive/issue_comments_211760.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nEffectively the only way to refine comparison then is by introducing a `None` result which would exclude the above case from being flagged. Opinions would be very welcome.",
    "created_at": "2016-03-14T09:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211760",
    "user": "https://github.com/rwst"
}
```

<div id="comment:38" align="right">comment:38</div>

Effectively the only way to refine comparison then is by introducing a `None` result which would exclude the above case from being flagged. Opinions would be very welcome.



---

archive/issue_comments_211761.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nperhaps someone should have a look at interfaces/mathematica.py where one has `__cmp__` for Mathematica objects, returning -1 if it falls through. Another bug? (cf. #18888)",
    "created_at": "2016-03-14T09:59:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211761",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:39" align="right">comment:39</div>

perhaps someone should have a look at interfaces/mathematica.py where one has `__cmp__` for Mathematica objects, returning -1 if it falls through. Another bug? (cf. #18888)



---

archive/issue_comments_211762.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@dimpase](#comment:39):\n> perhaps someone should have a look at interfaces/mathematica.py where one has `__cmp__` for Mathematica objects, returning -1 if it falls through. Another bug? (cf. #18888)\n\nHas nothing to do with this ticket.",
    "created_at": "2016-03-14T13:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211762",
    "user": "https://github.com/rwst"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@dimpase](#comment:39):
> perhaps someone should have a look at interfaces/mathematica.py where one has `__cmp__` for Mathematica objects, returning -1 if it falls through. Another bug? (cf. #18888)

Has nothing to do with this ticket.



---

archive/issue_comments_211763.json:
```json
{
    "body": "Changed commit from **[`eab9ec2`](https://github.com/sagemath/sagetrac-mirror/commit/eab9ec2ce8ce805441543ffcbebcdf5fb527a2cb)** to **[`07f12cd`](https://github.com/sagemath/sagetrac-mirror/commit/07f12cdfd14f3a7af5445aab7419c0ddaea1074d)**",
    "created_at": "2016-03-18T08:05:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211763",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eab9ec2`](https://github.com/sagemath/sagetrac-mirror/commit/eab9ec2ce8ce805441543ffcbebcdf5fb527a2cb)** to **[`07f12cd`](https://github.com/sagemath/sagetrac-mirror/commit/07f12cdfd14f3a7af5445aab7419c0ddaea1074d)**



---

archive/issue_comments_211764.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24450f8d49fc69400e0ef59fea307cd2001bd63d\"><code>24450f8</code></a></td><td><code>Merge branch 'public/16397-1' of git://trac.sagemath.org/sage into tmp04</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07f12cdfd14f3a7af5445aab7419c0ddaea1074d\"><code>07f12cd</code></a></td><td><code>16397: restore transitivity</code></td></tr></table>\n",
    "created_at": "2016-03-18T08:05:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211764",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24450f8d49fc69400e0ef59fea307cd2001bd63d"><code>24450f8</code></a></td><td><code>Merge branch 'public/16397-1' of git://trac.sagemath.org/sage into tmp04</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07f12cdfd14f3a7af5445aab7419c0ddaea1074d"><code>07f12cd</code></a></td><td><code>16397: restore transitivity</code></td></tr></table>




---

archive/issue_comments_211765.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nThis restores transitivity by moving all expressions with variables to the right of all the numbers in a sorted list: `[1, sqrt(2), e, pi, sin(1/x), sqrt(x), x]`",
    "created_at": "2016-03-18T08:09:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211765",
    "user": "https://github.com/rwst"
}
```

<div id="comment:42" align="right">comment:42</div>

This restores transitivity by moving all expressions with variables to the right of all the numbers in a sorted list: `[1, sqrt(2), e, pi, sin(1/x), sqrt(x), x]`



---

archive/issue_comments_211766.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nIsn't it dangerous to compare constants by float, this will go wrong because of rounding  when you have equal or near equal numbers.",
    "created_at": "2016-03-23T19:13:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211766",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:43" align="right">comment:43</div>

Isn't it dangerous to compare constants by float, this will go wrong because of rounding  when you have equal or near equal numbers.



---

archive/issue_comments_211767.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nHow about extending constants with an `evalf` member so that in comparisons the precision can be successively increased. Reaching the prec limit before a decision will return 0, ie equal.\n\nIsn't this quite hypothetical, compared to the concretely buggy behaviour now?",
    "created_at": "2016-03-23T22:00:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211767",
    "user": "https://github.com/rwst"
}
```

<div id="comment:44" align="right">comment:44</div>

How about extending constants with an `evalf` member so that in comparisons the precision can be successively increased. Reaching the prec limit before a decision will return 0, ie equal.

Isn't this quite hypothetical, compared to the concretely buggy behaviour now?



---

archive/issue_comments_211768.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nIts perhaps not that hypothetical, the old joke (aka Heegner number)\n\n```\n$ python\n>>> from math import exp, pi, sqrt\n>>> exp(pi*sqrt(163)) == 262537412640768256\nTrue\n```\ncomes to mind. But I agree that this could be tackled on a future ticket.",
    "created_at": "2016-03-24T08:40:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211768",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:45" align="right">comment:45</div>

Its perhaps not that hypothetical, the old joke (aka Heegner number)

```
$ python
>>> from math import exp, pi, sqrt
>>> exp(pi*sqrt(163)) == 262537412640768256
True
```
comes to mind. But I agree that this could be tackled on a future ticket.



---

archive/issue_comments_211769.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nI don't understand what you are trying to do here, can someone please explain?\n\n(In my understanding, calling `cmp` means you are asking for a *total* order on the elements of the parent where the comparison ends up taking place. As most parents don't admit such an order that is compatible with their structure, it is a bug to call `cmp` and expect a mathematically meaningful answer. In contrast, it is perfectly okay for `cmp` to implement any arbitrary total order, provided that rich comparisons are implemented too. And it is acceptable, though not ideal due to the issues with Python3, to call `cmp` when you need to sort elements in an arbitrary way.)",
    "created_at": "2016-03-24T15:24:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211769",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:46" align="right">comment:46</div>

I don't understand what you are trying to do here, can someone please explain?

(In my understanding, calling `cmp` means you are asking for a *total* order on the elements of the parent where the comparison ends up taking place. As most parents don't admit such an order that is compatible with their structure, it is a bug to call `cmp` and expect a mathematically meaningful answer. In contrast, it is perfectly okay for `cmp` to implement any arbitrary total order, provided that rich comparisons are implemented too. And it is acceptable, though not ideal due to the issues with Python3, to call `cmp` when you need to sort elements in an arbitrary way.)



---

archive/issue_comments_211770.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nAt the moment there is one total order (print, mathematically wrong both in expressions with and without variables). Total math order OTOH is slow because of proving and undecidable. It is possible to have two total orders side-by-side where one half (within the set of expressions without variables) is fast, correct, and meaningful; and print order (within and with the set of expressions with variables) is fast as usual.\n\nIt is needed because `cmp` is used in Sage to sort expressions in a meaningful way, contrary to what you state.",
    "created_at": "2016-03-24T15:51:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211770",
    "user": "https://github.com/rwst"
}
```

<div id="comment:47" align="right">comment:47</div>

At the moment there is one total order (print, mathematically wrong both in expressions with and without variables). Total math order OTOH is slow because of proving and undecidable. It is possible to have two total orders side-by-side where one half (within the set of expressions without variables) is fast, correct, and meaningful; and print order (within and with the set of expressions with variables) is fast as usual.

It is needed because `cmp` is used in Sage to sort expressions in a meaningful way, contrary to what you state.



---

archive/issue_comments_211771.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@rwst](#comment:47):\n> It is needed because `cmp` is used in Sage to sort expressions in a meaningful way, contrary to what you state.\n\nI'm not saying that it is not used that way, I am saying that, as far as I understand, when it is used that way, the bug is there.",
    "created_at": "2016-03-24T15:59:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211771",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@rwst](#comment:47):
> It is needed because `cmp` is used in Sage to sort expressions in a meaningful way, contrary to what you state.

I'm not saying that it is not used that way, I am saying that, as far as I understand, when it is used that way, the bug is there.



---

archive/issue_comments_211772.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nReplying to [@rwst](#comment:47):\n> It is possible to have two total orders side-by-side where one half (within the set of expressions without variables) is fast, correct, and meaningful\n\nIt will never be *correct* in the sense that you can rely on it in mathematical algorithms, since the zero test for constant symbolic expressions is undecidable. At best it will be a nice and natural print order. Which is not a bad thing, but I don't understand if that's the goal of this ticket (and, if not, what the goal is).",
    "created_at": "2016-03-24T16:03:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211772",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:49" align="right">comment:49</div>

Replying to [@rwst](#comment:47):
> It is possible to have two total orders side-by-side where one half (within the set of expressions without variables) is fast, correct, and meaningful

It will never be *correct* in the sense that you can rely on it in mathematical algorithms, since the zero test for constant symbolic expressions is undecidable. At best it will be a nice and natural print order. Which is not a bad thing, but I don't understand if that's the goal of this ticket (and, if not, what the goal is).



---

archive/issue_comments_211773.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nLook at the ticket description. The goal is to fix those errors. If that means to remove the usage of `cmp` in those parts of Sage, then please say so. I'm not a Python guy and am not in the know what `cmp` is supposed to do. I want to fix those pesky errors that block the new piecewise functions for years now.",
    "created_at": "2016-03-24T16:18:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211773",
    "user": "https://github.com/rwst"
}
```

<div id="comment:50" align="right">comment:50</div>

Look at the ticket description. The goal is to fix those errors. If that means to remove the usage of `cmp` in those parts of Sage, then please say so. I'm not a Python guy and am not in the know what `cmp` is supposed to do. I want to fix those pesky errors that block the new piecewise functions for years now.



---

archive/issue_comments_211774.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@rwst](#comment:50):\n> Look at the ticket description. The goal is to fix those errors. If that means to remove the usage of `cmp` in those parts of Sage, then please say so.\n\nI don't know. I tried to explain what I *believe* is the convention used in sage (or perhaps the most reasonable of several incompatible conventions currently in use), but I'm genuinely interested in knowing if other people agree.",
    "created_at": "2016-03-24T16:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211774",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@rwst](#comment:50):
> Look at the ticket description. The goal is to fix those errors. If that means to remove the usage of `cmp` in those parts of Sage, then please say so.

I don't know. I tried to explain what I *believe* is the convention used in sage (or perhaps the most reasonable of several incompatible conventions currently in use), but I'm genuinely interested in knowing if other people agree.



---

archive/issue_comments_211775.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nBetter than what we currently have...",
    "created_at": "2016-04-15T22:31:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211775",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:52" align="right">comment:52</div>

Better than what we currently have...



---

archive/issue_events_234254.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-15T22:31:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234254"
}
```



---

archive/issue_events_234255.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-15T22:31:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234255"
}
```



---

archive/issue_comments_211776.json:
```json
{
    "body": "Changed reviewer from **Ralf Stephan** to **Ralf Stephan, Volker Braun**",
    "created_at": "2016-04-15T22:31:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211776",
    "user": "https://github.com/vbraun"
}
```

Changed reviewer from **Ralf Stephan** to **Ralf Stephan, Volker Braun**



---

archive/issue_events_234256.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-16T15:35:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234256"
}
```



---

archive/issue_events_234257.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f4de130b0d187cf36b60332be5f868db86c3b729",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-04-16T15:35:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16397#event-234257"
}
```



---

archive/issue_comments_211777.json:
```json
{
    "body": "Changed branch from **[public/16397-1](https://github.com/sagemath/sagetrac-mirror/tree/public/16397-1)** to **[`07f12cd`](https://github.com/sagemath/sagetrac-mirror/commit/07f12cdfd14f3a7af5445aab7419c0ddaea1074d)**",
    "created_at": "2016-04-16T15:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16397#issuecomment-211777",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/16397-1](https://github.com/sagemath/sagetrac-mirror/tree/public/16397-1)** to **[`07f12cd`](https://github.com/sagemath/sagetrac-mirror/commit/07f12cdfd14f3a7af5445aab7419c0ddaea1074d)**
