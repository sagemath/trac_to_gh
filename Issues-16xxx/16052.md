# Issue 16052: Meta-ticket for Python 3.6+ preparation (sage library) - stage 2

archive/issues_015815.json:
```json
{
    "body": "CC:  @mkoeppe @tscrim\n\nKeywords: python3\n\nFor progress on making all doctests pass, see #26212\n\nThis meta-ticket tracks those tickets for changing the Sage library that did not go into stage 1 (ticket:15980).\n\nSome reasons for assigning tasks to stage 2:\n* The code can run on Python 2 only with the support of imported \"compatibility\" libraries. [copied from description] \n  Maybe we have to check the licenses of the used compatibility libraries.\n* The tasks are usually more complicated. The approach may not be obvious or uncontroversial.\n* To make progress we need a Python 3.3 test environment for them.\n\nThis ticket is referenced by the meta-ticket ticket:15530\n\n|    |           |           |        |\n|----|-----------|-----------|--------|\n|No. |2to3 fixer |see ticket |Comment |\n|  2|basestring  |#16064 |about 27 modules|\n|  5|dict        |#15981 |about 227 py modules|\n|  7|exec        |#16065 |6 modules|\n|  8|execfile    |#16066 |2 modules|\n| 17|imports     |#16069 |about 39 modules|\n| 22|itertools_import |#16070 |about 12 modules|\n| 23|itertools   |#16071 |about 20 modules|\n| 24|long        |#16072 |about 72 modules|\n| 25|map         |#16073 |about 171 modules; (`from future_builtins import map` ?) |\n| 26|metaclass   |#16074 |about 30 modules|\n| 29|next        |#18802 |about 15 py modules|\n| 30|nonzero     |#16076 |about 25 modules|\n| 31|numliterals |#15987, #17808 |oct and long literals|\n|35b|raise traceback|#18799 |about 3 py modules|\n| 36|raw_input   |#16077 |3 modules|\n| 46|unicode     |#16079, #14153 |lots of modules? (`from __future__ import unicode_literals` ?) |\n| 47|urllib      |#16080 |about 16 modules|\n| 49|xrange      |#16081 |about 293 modules changes|\n| 51|zip         |#16082 | Fixed (kept as a watchdog ticket) |\nThe following changes do not relate to 2to3:\n\nIssue created by migration from https://trac.sagemath.org/ticket/16052\n\n",
    "closed_at": "2020-08-15T19:03:11Z",
    "created_at": "2014-04-03T13:43:05Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Meta-ticket for Python 3.6+ preparation (sage library) - stage 2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16052",
    "user": "https://github.com/wluebbe"
}
```
CC:  @mkoeppe @tscrim

Keywords: python3

For progress on making all doctests pass, see #26212

This meta-ticket tracks those tickets for changing the Sage library that did not go into stage 1 (ticket:15980).

Some reasons for assigning tasks to stage 2:
* The code can run on Python 2 only with the support of imported "compatibility" libraries. [copied from description] 
  Maybe we have to check the licenses of the used compatibility libraries.
* The tasks are usually more complicated. The approach may not be obvious or uncontroversial.
* To make progress we need a Python 3.3 test environment for them.

This ticket is referenced by the meta-ticket ticket:15530

|    |           |           |        |
|----|-----------|-----------|--------|
|No. |2to3 fixer |see ticket |Comment |
|  2|basestring  |#16064 |about 27 modules|
|  5|dict        |#15981 |about 227 py modules|
|  7|exec        |#16065 |6 modules|
|  8|execfile    |#16066 |2 modules|
| 17|imports     |#16069 |about 39 modules|
| 22|itertools_import |#16070 |about 12 modules|
| 23|itertools   |#16071 |about 20 modules|
| 24|long        |#16072 |about 72 modules|
| 25|map         |#16073 |about 171 modules; (`from future_builtins import map` ?) |
| 26|metaclass   |#16074 |about 30 modules|
| 29|next        |#18802 |about 15 py modules|
| 30|nonzero     |#16076 |about 25 modules|
| 31|numliterals |#15987, #17808 |oct and long literals|
|35b|raise traceback|#18799 |about 3 py modules|
| 36|raw_input   |#16077 |3 modules|
| 46|unicode     |#16079, #14153 |lots of modules? (`from __future__ import unicode_literals` ?) |
| 47|urllib      |#16080 |about 16 modules|
| 49|xrange      |#16081 |about 293 modules changes|
| 51|zip         |#16082 | Fixed (kept as a watchdog ticket) |
The following changes do not relate to 2to3:

Issue created by migration from https://trac.sagemath.org/ticket/16052





---

archive/issue_comments_204947.json:
```json
{
    "body": "Moved ticket:15981 (fix_dict) to stage 2.",
    "created_at": "2014-04-11T12:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16052#issuecomment-204947",
    "user": "https://github.com/wluebbe"
}
```

Moved ticket:15981 (fix_dict) to stage 2.



---

archive/issue_comments_204948.json:
```json
{
    "body": "Moved ticket:15987 (fix_literals) to stage 2.",
    "created_at": "2014-04-12T09:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16052#issuecomment-204948",
    "user": "https://github.com/wluebbe"
}
```

Moved ticket:15987 (fix_literals) to stage 2.



---

archive/issue_comments_204949.json:
```json
{
    "body": "Is it true that this stage 2 depends on the modifications already made to stage 1? Then perhaps we should put #15980 in the dependencies field of the ticket.",
    "created_at": "2014-04-13T10:14:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16052#issuecomment-204949",
    "user": "https://github.com/ppurka"
}
```

Is it true that this stage 2 depends on the modifications already made to stage 1? Then perhaps we should put #15980 in the dependencies field of the ticket.



---

archive/issue_comments_204950.json:
```json
{
    "body": "Stage 2 does not //depend// on stage 1. The tickets of stage 1 could be solved after stage 2 tickets. They are usually improvements of Py2 code (without relying on separate \"compatibility layer\").\n\nBoth stage 1 and stage 2 are tracked as dependencies of the meta-ticket ticket:15530.",
    "created_at": "2014-04-14T08:39:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16052#issuecomment-204950",
    "user": "https://github.com/wluebbe"
}
```

Stage 2 does not //depend// on stage 1. The tickets of stage 1 could be solved after stage 2 tickets. They are usually improvements of Py2 code (without relying on separate "compatibility layer").

Both stage 1 and stage 2 are tracked as dependencies of the meta-ticket ticket:15530.



---

archive/issue_events_047187.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16052#event-47187"
}
```



---

archive/issue_comments_204951.json:
```json
{
    "body": "Moved ticket:16067 and ticket:16078 to stage 1 (meta ticket:15980).",
    "created_at": "2014-05-29T12:27:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16052#issuecomment-204951",
    "user": "https://github.com/wluebbe"
}
```

Moved ticket:16067 and ticket:16078 to stage 1 (meta ticket:15980).



---

archive/issue_events_047188.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16052#event-47188"
}
```



---

archive/issue_events_047189.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16052#event-47189"
}
```



---

archive/issue_comments_204952.json:
```json
{
    "body": "Changing component from distribution to python3.",
    "created_at": "2016-05-02T13:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16052#issuecomment-204952",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from distribution to python3.



---

archive/issue_events_047190.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-11T19:37:57Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16052#event-47190"
}
```



---

archive/issue_events_047191.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-11T19:37:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16052#event-47191"
}
```



---

archive/issue_events_047192.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-23T13:20:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16052#event-47192"
}
```



---

archive/issue_events_047193.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-23T13:20:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16052#event-47193"
}
```



---

archive/issue_comments_204953.json:
```json
{
    "body": "shall we close this one also, then ?",
    "created_at": "2020-08-15T06:18:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16052#issuecomment-204953",
    "user": "https://github.com/fchapoton"
}
```

shall we close this one also, then ?



---

archive/issue_comments_204954.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-15T09:20:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16052#issuecomment-204954",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_events_047194.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-08-15T09:20:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16052#event-47194"
}
```



---

archive/issue_events_047195.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-08-15T09:20:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16052#event-47195"
}
```



---

archive/issue_comments_204955.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-15T13:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16052#issuecomment-204955",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_204956.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-08-15T19:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16052#issuecomment-204956",
    "user": "https://github.com/fchapoton"
}
```

Resolution: fixed



---

archive/issue_events_047196.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-08-15T19:03:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16052",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16052#event-47196"
}
```
