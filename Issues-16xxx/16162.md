# Issue 16162: Cantor-Zassenhaus may enter infinite loop over GF(2**k) and cannot be interrupted

archive/issues_015925.json:
```json
{
    "assignees": [],
    "body": "A solution is to use random polynomials just as for odd characteristic.\n\nThis also replaces calls to `power_mod` by calls to `pow` with three arguments which uses implementation optimized code for modular exponentiation.\n\nCC:  @defeo @pjbruin @sagetrac-sbesnier\n\nKeywords: **finite field polynomial root factor**\n\nBranch/Commit: **[`80db6aa`](https://github.com/sagemath/sagetrac-mirror/commit/80db6aa42f35fb2d6b72eab19d3842be244ceefa)**\n\nReviewer: **Peter Bruin**\n\nAuthor: **Jean-Pierre Flori**\n\nComponent: **finite rings**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16162_\n\n",
    "closed_at": "2014-05-22T21:23:06Z",
    "created_at": "2014-04-14T15:32:56Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20finite%20rings",
        "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Cantor-Zassenhaus may enter infinite loop over GF(2**k) and cannot be interrupted",
    "type": "issue",
    "updated_at": "2014-05-22T21:23:06Z",
    "url": "https://github.com/sagemath/sage/issues/16162",
    "user": "https://github.com/jpflori"
}
```
A solution is to use random polynomials just as for odd characteristic.

This also replaces calls to `power_mod` by calls to `pow` with three arguments which uses implementation optimized code for modular exponentiation.

CC:  @defeo @pjbruin @sagetrac-sbesnier

Keywords: **finite field polynomial root factor**

Branch/Commit: **[`80db6aa`](https://github.com/sagemath/sagetrac-mirror/commit/80db6aa42f35fb2d6b72eab19d3842be244ceefa)**

Reviewer: **Peter Bruin**

Author: **Jean-Pierre Flori**

Component: **finite rings**

_Issue created by migration from https://trac.sagemath.org/ticket/16162_





---

archive/issue_events_230745.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-04-14T15:32:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230745"
}
```



---

archive/issue_events_230746.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-04-14T15:32:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20finite%20rings",
    "label_color": "0000ff",
    "label_name": "c: finite rings",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230746"
}
```



---

archive/issue_events_230747.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-04-14T15:32:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230747"
}
```



---

archive/issue_events_230748.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-04-14T15:32:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230748"
}
```



---

archive/issue_comments_206526.json:
```json
{
    "body": "Commit: **[`4858154`](https://github.com/sagemath/sagetrac-mirror/commit/485815436aff2eb226271222b697f8fb7b82ae65)**",
    "created_at": "2014-04-15T13:23:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206526",
    "user": "https://github.com/jpflori"
}
```

Commit: **[`4858154`](https://github.com/sagemath/sagetrac-mirror/commit/485815436aff2eb226271222b697f8fb7b82ae65)**



---

archive/issue_comments_206527.json:
```json
{
    "body": "Author: **Jean-Pierre Flori**",
    "created_at": "2014-04-15T13:23:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206527",
    "user": "https://github.com/jpflori"
}
```

Author: **Jean-Pierre Flori**



---

archive/issue_comments_206528.json:
```json
{
    "body": "Changed keywords from none to **finite field polynomial root factor**",
    "created_at": "2014-04-15T13:23:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206528",
    "user": "https://github.com/jpflori"
}
```

Changed keywords from none to **finite field polynomial root factor**



---

archive/issue_comments_206529.json:
```json
{
    "body": "Branch: **[u/jpflori/ticket/16162](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/16162)**",
    "created_at": "2014-04-15T13:23:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206529",
    "user": "https://github.com/jpflori"
}
```

Branch: **[u/jpflori/ticket/16162](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/16162)**



---

archive/issue_comments_206530.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThe `any_root` should surely be refactored as well.\nThat will ease the implementation of special case more efficient methods.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/485815436aff2eb226271222b697f8fb7b82ae65\"><code>4858154</code></a></td><td><code>Quick fix for infinite loop and bugs in Cantor-Zassenhaus implementation.</code></td></tr></table>\n",
    "created_at": "2014-04-15T13:23:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206530",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:1" align="right">comment:1</div>

The `any_root` should surely be refactored as well.
That will ease the implementation of special case more efficient methods.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/485815436aff2eb226271222b697f8fb7b82ae65"><code>4858154</code></a></td><td><code>Quick fix for infinite loop and bugs in Cantor-Zassenhaus implementation.</code></td></tr></table>




---

archive/issue_comments_206531.json:
```json
{
    "body": "Changed commit from **[`4858154`](https://github.com/sagemath/sagetrac-mirror/commit/485815436aff2eb226271222b697f8fb7b82ae65)** to **[`a47c436`](https://github.com/sagemath/sagetrac-mirror/commit/a47c436dda5d87d1a31f5c3a7e2eda33ace7c121)**",
    "created_at": "2014-04-15T13:58:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206531",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4858154`](https://github.com/sagemath/sagetrac-mirror/commit/485815436aff2eb226271222b697f8fb7b82ae65)** to **[`a47c436`](https://github.com/sagemath/sagetrac-mirror/commit/a47c436dda5d87d1a31f5c3a7e2eda33ace7c121)**



---

archive/issue_comments_206532.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a47c436dda5d87d1a31f5c3a7e2eda33ace7c121\"><code>a47c436</code></a></td><td><code>Correction for previous commit fixing Cantor-Zassenhaus.</code></td></tr></table>\n",
    "created_at": "2014-04-15T13:58:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206532",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a47c436dda5d87d1a31f5c3a7e2eda33ace7c121"><code>a47c436</code></a></td><td><code>Correction for previous commit fixing Cantor-Zassenhaus.</code></td></tr></table>




---

archive/issue_comments_206533.json:
```json
{
    "body": "Changed commit from **[`a47c436`](https://github.com/sagemath/sagetrac-mirror/commit/a47c436dda5d87d1a31f5c3a7e2eda33ace7c121)** to **[`b3bda42`](https://github.com/sagemath/sagetrac-mirror/commit/b3bda421c87e501b6c586aa6eac63d6d665170cb)**",
    "created_at": "2014-04-15T14:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206533",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a47c436`](https://github.com/sagemath/sagetrac-mirror/commit/a47c436dda5d87d1a31f5c3a7e2eda33ace7c121)** to **[`b3bda42`](https://github.com/sagemath/sagetrac-mirror/commit/b3bda421c87e501b6c586aa6eac63d6d665170cb)**



---

archive/issue_comments_206534.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3bda421c87e501b6c586aa6eac63d6d665170cb\"><code>b3bda42</code></a></td><td><code>Further little improvements for Cantor-Zassenhaus.</code></td></tr></table>\n",
    "created_at": "2014-04-15T14:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206534",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3bda421c87e501b6c586aa6eac63d6d665170cb"><code>b3bda42</code></a></td><td><code>Further little improvements for Cantor-Zassenhaus.</code></td></tr></table>




---

archive/issue_comments_206535.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,2 @@\n-This seems to only be problematic with Artin-Schreier equations.\n-No immediate issues with degree > 2 or without x in the equation.\n+A solution is to use random polynomials just as for odd characteristic.\n \n-Note that the `factor` mtehod works correctly.\n``````\n",
    "created_at": "2014-04-16T13:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206535",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,2 @@
-This seems to only be problematic with Artin-Schreier equations.
-No immediate issues with degree > 2 or without x in the equation.
+A solution is to use random polynomials just as for odd characteristic.
 
-Note that the `factor` mtehod works correctly.
``````




---

archive/issue_events_230749.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-04-16T13:21:37Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "title_is": "Cantor-Zassenhaus may enter infinite loop over GF(2**k) and cannot be interrupted",
    "title_was": "(x**2+x+a).any_root() over GF(2**k) seemingly loops and cannot be interrupted",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230749"
}
```



---

archive/issue_events_230750.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230750"
}
```



---

archive/issue_events_230751.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230751"
}
```



---

archive/issue_events_230752.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-05-16T08:48:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230752"
}
```



---

archive/issue_comments_206536.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,3 @@\n A solution is to use random polynomials just as for odd characteristic.\n \n+This also replaces calls to `power_mod` by calls to `pow` with three arguments which uses implementation optimized code for modular exponentiation.\n``````\n",
    "created_at": "2014-05-16T08:48:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206536",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,3 @@
 A solution is to use random polynomials just as for odd characteristic.
 
+This also replaces calls to `power_mod` by calls to `pow` with three arguments which uses implementation optimized code for modular exponentiation.
``````




---

archive/issue_comments_206537.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis looks good enough for me as a first step toward better factorization over finite fields.",
    "created_at": "2014-05-16T08:48:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206537",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:7" align="right">comment:7</div>

This looks good enough for me as a first step toward better factorization over finite fields.



---

archive/issue_events_230753.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-16T11:44:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230753"
}
```



---

archive/issue_events_230754.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-16T11:44:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230754"
}
```



---

archive/issue_comments_206538.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nCould you add some doctests, e.g. an example that used to fail?",
    "created_at": "2014-05-16T11:44:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206538",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:8" align="right">comment:8</div>

Could you add some doctests, e.g. an example that used to fail?



---

archive/issue_comments_206539.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nNice... while adding tests, I found a way to trigger segfaults.",
    "created_at": "2014-05-16T13:02:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206539",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:9" align="right">comment:9</div>

Nice... while adding tests, I found a way to trigger segfaults.



---

archive/issue_comments_206540.json:
```json
{
    "body": "Changed commit from **[`b3bda42`](https://github.com/sagemath/sagetrac-mirror/commit/b3bda421c87e501b6c586aa6eac63d6d665170cb)** to **[`8c4907c`](https://github.com/sagemath/sagetrac-mirror/commit/8c4907cdf92fe61c9bce5b4cda43bbf9c1d4f06d)**",
    "created_at": "2014-05-16T13:08:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206540",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b3bda42`](https://github.com/sagemath/sagetrac-mirror/commit/b3bda421c87e501b6c586aa6eac63d6d665170cb)** to **[`8c4907c`](https://github.com/sagemath/sagetrac-mirror/commit/8c4907cdf92fe61c9bce5b4cda43bbf9c1d4f06d)**



---

archive/issue_comments_206541.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c4907cdf92fe61c9bce5b4cda43bbf9c1d4f06d\"><code>8c4907c</code></a></td><td><code>Add a few tests for Cantor-Zassenhaus fixes.</code></td></tr></table>\n",
    "created_at": "2014-05-16T13:08:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206541",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c4907cdf92fe61c9bce5b4cda43bbf9c1d4f06d"><code>8c4907c</code></a></td><td><code>Add a few tests for Cantor-Zassenhaus fixes.</code></td></tr></table>




---

archive/issue_comments_206542.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a10e7bd6c945222bbfdc028a30dfb0293b94c6c\"><code>9a10e7b</code></a></td><td><code>Fix previous doctests for Cantor-Zassenhaus.</code></td></tr></table>\n",
    "created_at": "2014-05-16T13:09:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206542",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a10e7bd6c945222bbfdc028a30dfb0293b94c6c"><code>9a10e7b</code></a></td><td><code>Fix previous doctests for Cantor-Zassenhaus.</code></td></tr></table>




---

archive/issue_comments_206543.json:
```json
{
    "body": "Changed commit from **[`8c4907c`](https://github.com/sagemath/sagetrac-mirror/commit/8c4907cdf92fe61c9bce5b4cda43bbf9c1d4f06d)** to **[`9a10e7b`](https://github.com/sagemath/sagetrac-mirror/commit/9a10e7bd6c945222bbfdc028a30dfb0293b94c6c)**",
    "created_at": "2014-05-16T13:09:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206543",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8c4907c`](https://github.com/sagemath/sagetrac-mirror/commit/8c4907cdf92fe61c9bce5b4cda43bbf9c1d4f06d)** to **[`9a10e7b`](https://github.com/sagemath/sagetrac-mirror/commit/9a10e7bd6c945222bbfdc028a30dfb0293b94c6c)**



---

archive/issue_comments_206544.json:
```json
{
    "body": "Changed commit from **[`9a10e7b`](https://github.com/sagemath/sagetrac-mirror/commit/9a10e7bd6c945222bbfdc028a30dfb0293b94c6c)** to **[`630bc0b`](https://github.com/sagemath/sagetrac-mirror/commit/630bc0b961ba2d123b1a52883d3a20dc240a506d)**",
    "created_at": "2014-05-16T13:14:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206544",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9a10e7b`](https://github.com/sagemath/sagetrac-mirror/commit/9a10e7bd6c945222bbfdc028a30dfb0293b94c6c)** to **[`630bc0b`](https://github.com/sagemath/sagetrac-mirror/commit/630bc0b961ba2d123b1a52883d3a20dc240a506d)**



---

archive/issue_comments_206545.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/630bc0b961ba2d123b1a52883d3a20dc240a506d\"><code>630bc0b</code></a></td><td><code>Better syntax for Cantor-Zassenhaus doctest.</code></td></tr></table>\n",
    "created_at": "2014-05-16T13:14:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206545",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/630bc0b961ba2d123b1a52883d3a20dc240a506d"><code>630bc0b</code></a></td><td><code>Better syntax for Cantor-Zassenhaus doctest.</code></td></tr></table>




---

archive/issue_comments_206546.json:
```json
{
    "body": "Changed commit from **[`630bc0b`](https://github.com/sagemath/sagetrac-mirror/commit/630bc0b961ba2d123b1a52883d3a20dc240a506d)** to **[`27ae9b7`](https://github.com/sagemath/sagetrac-mirror/commit/27ae9b7af575319e469a9dc5f6dadbd97daeb041)**",
    "created_at": "2014-05-16T14:12:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206546",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`630bc0b`](https://github.com/sagemath/sagetrac-mirror/commit/630bc0b961ba2d123b1a52883d3a20dc240a506d)** to **[`27ae9b7`](https://github.com/sagemath/sagetrac-mirror/commit/27ae9b7af575319e469a9dc5f6dadbd97daeb041)**



---

archive/issue_comments_206547.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27ae9b7af575319e469a9dc5f6dadbd97daeb041\"><code>27ae9b7</code></a></td><td><code>Better use of modular exponentiation in Cantor-Zassenhaus + sig_on magic.</code></td></tr></table>\n",
    "created_at": "2014-05-16T14:12:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206547",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27ae9b7af575319e469a9dc5f6dadbd97daeb041"><code>27ae9b7</code></a></td><td><code>Better use of modular exponentiation in Cantor-Zassenhaus + sig_on magic.</code></td></tr></table>




---

archive/issue_comments_206548.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nPeter, please have a look at the `sig_on/sig_off` stuff.\nI'm not sure what I've done is robust or even makes sense.",
    "created_at": "2014-05-16T14:14:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206548",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:14" align="right">comment:14</div>

Peter, please have a look at the `sig_on/sig_off` stuff.
I'm not sure what I've done is robust or even makes sense.



---

archive/issue_comments_206549.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nYou should not put anything inside a `sig_on()...sig_off()` block that can interfere with the Python interpreter.  From the code it is not clear (to me) if that can happen.\n\nIs the `sig_on()...sig_off()` to prevent segfaults, to allow the code to be interrupted, or both?  If it is to prevent segfaults, you have to find out where this occurs (this can hopefully be narrowed down to pure Cython code with no calls to the Python interpreter) and wrap this as tightly as possible in `sig_on()...sig_off()`.  If it is to allow Control-C, `alarm()` etc., you can also periodically check for interrupts (I don't remember the details right now).",
    "created_at": "2014-05-16T14:58:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206549",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:15" align="right">comment:15</div>

You should not put anything inside a `sig_on()...sig_off()` block that can interfere with the Python interpreter.  From the code it is not clear (to me) if that can happen.

Is the `sig_on()...sig_off()` to prevent segfaults, to allow the code to be interrupted, or both?  If it is to prevent segfaults, you have to find out where this occurs (this can hopefully be narrowed down to pure Cython code with no calls to the Python interpreter) and wrap this as tightly as possible in `sig_on()...sig_off()`.  If it is to allow Control-C, `alarm()` etc., you can also periodically check for interrupts (I don't remember the details right now).



---

archive/issue_comments_206550.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nNope, the segfaults were surely caused by the `x**q` computation with `q = 2**50` (some overflow in NTL I'd say, but the issue might be a real one, at least now it does not happen anymore).\n\nI added the `sig_on` magic to ensure you can interrupt the code (even in some of the  `while` loops, not only because of `x**q` with large `q` stuff).\nBut it seems to me that some `sig_on` are now useless and potentially wrong as some Python code might get called at some point (in the spirit of your Python interpreter remark I guess), even if it wasn't before, maybe because of the `pow` modifications, though it does not really make sense to me.\nMaybe some of the `sig_on` should be removed, but I'd definitely say some are needed.\n\nFeel free to have a deeper look and modify the code, I won't touch that before tuesday.",
    "created_at": "2014-05-16T15:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206550",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:16" align="right">comment:16</div>

Nope, the segfaults were surely caused by the `x**q` computation with `q = 2**50` (some overflow in NTL I'd say, but the issue might be a real one, at least now it does not happen anymore).

I added the `sig_on` magic to ensure you can interrupt the code (even in some of the  `while` loops, not only because of `x**q` with large `q` stuff).
But it seems to me that some `sig_on` are now useless and potentially wrong as some Python code might get called at some point (in the spirit of your Python interpreter remark I guess), even if it wasn't before, maybe because of the `pow` modifications, though it does not really make sense to me.
Maybe some of the `sig_on` should be removed, but I'd definitely say some are needed.

Feel free to have a deeper look and modify the code, I won't touch that before tuesday.



---

archive/issue_comments_206551.json:
```json
{
    "body": "Changed commit from **[`27ae9b7`](https://github.com/sagemath/sagetrac-mirror/commit/27ae9b7af575319e469a9dc5f6dadbd97daeb041)** to **[`fa6d509`](https://github.com/sagemath/sagetrac-mirror/commit/fa6d50945e36f4145c3d68efdc846a2f224af690)**",
    "created_at": "2014-05-19T13:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206551",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`27ae9b7`](https://github.com/sagemath/sagetrac-mirror/commit/27ae9b7af575319e469a9dc5f6dadbd97daeb041)** to **[`fa6d509`](https://github.com/sagemath/sagetrac-mirror/commit/fa6d50945e36f4145c3d68efdc846a2f224af690)**



---

archive/issue_comments_206552.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d00de845cede81803e07812e906d8b2307d61aef\"><code>d00de84</code></a></td><td><code>Add examples for Cantor-Zassenhaus.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa6d50945e36f4145c3d68efdc846a2f224af690\"><code>fa6d509</code></a></td><td><code>Another try for Cantor-Zassenhaus without si_on/off.</code></td></tr></table>\n",
    "created_at": "2014-05-19T13:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206552",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d00de845cede81803e07812e906d8b2307d61aef"><code>d00de84</code></a></td><td><code>Add examples for Cantor-Zassenhaus.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa6d50945e36f4145c3d68efdc846a2f224af690"><code>fa6d509</code></a></td><td><code>Another try for Cantor-Zassenhaus without si_on/off.</code></td></tr></table>




---

archive/issue_comments_206553.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nFYI, the segfault I got was really from:\n\n```\nsage: K.<a> = GF(2**10)\nsage: R.<x> = K[]\nsage: x**(2**33)\n```\n(Which really needs to ba allowed to be interrupted, and to be faster (for exp < `2**33`), and fixed of course (for exp >= `2**33`)...)",
    "created_at": "2014-05-19T13:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206553",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:18" align="right">comment:18</div>

FYI, the segfault I got was really from:

```
sage: K.<a> = GF(2**10)
sage: R.<x> = K[]
sage: x**(2**33)
```
(Which really needs to ba allowed to be interrupted, and to be faster (for exp < `2**33`), and fixed of course (for exp >= `2**33`)...)



---

archive/issue_comments_206554.json:
```json
{
    "body": "Changed commit from **[`fa6d509`](https://github.com/sagemath/sagetrac-mirror/commit/fa6d50945e36f4145c3d68efdc846a2f224af690)** to **[`80db6aa`](https://github.com/sagemath/sagetrac-mirror/commit/80db6aa42f35fb2d6b72eab19d3842be244ceefa)**",
    "created_at": "2014-05-19T14:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206554",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fa6d509`](https://github.com/sagemath/sagetrac-mirror/commit/fa6d50945e36f4145c3d68efdc846a2f224af690)** to **[`80db6aa`](https://github.com/sagemath/sagetrac-mirror/commit/80db6aa42f35fb2d6b72eab19d3842be244ceefa)**



---

archive/issue_comments_206555.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80db6aa42f35fb2d6b72eab19d3842be244ceefa\"><code>80db6aa</code></a></td><td><code>Add sig_on magic for NTL polynomial exponentiation.</code></td></tr></table>\n",
    "created_at": "2014-05-19T14:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206555",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80db6aa42f35fb2d6b72eab19d3842be244ceefa"><code>80db6aa</code></a></td><td><code>Add sig_on magic for NTL polynomial exponentiation.</code></td></tr></table>




---

archive/issue_events_230755.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-05-19T14:51:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230755"
}
```



---

archive/issue_events_230756.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2014-05-19T14:51:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230756"
}
```



---

archive/issue_comments_206556.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nOk, the latest commit does not seem enough to let NTL be interrupted when allocating a huge array or something like that.\nNot sure why.\n\nAnyhow, this is not necessary to fix Sage's CZ implem and can be postponed.",
    "created_at": "2014-05-19T14:51:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206556",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:20" align="right">comment:20</div>

Ok, the latest commit does not seem enough to let NTL be interrupted when allocating a huge array or something like that.
Not sure why.

Anyhow, this is not necessary to fix Sage's CZ implem and can be postponed.



---

archive/issue_comments_206557.json:
```json
{
    "body": "Reviewer: **Peter Bruin**",
    "created_at": "2014-05-21T19:44:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206557",
    "user": "https://github.com/pjbruin"
}
```

Reviewer: **Peter Bruin**



---

archive/issue_events_230757.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-21T19:44:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230757"
}
```



---

archive/issue_events_230758.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-21T19:44:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230758"
}
```



---

archive/issue_comments_206558.json:
```json
{
    "body": "Changed branch from **[u/jpflori/ticket/16162](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/16162)** to **[`80db6aa`](https://github.com/sagemath/sagetrac-mirror/commit/80db6aa42f35fb2d6b72eab19d3842be244ceefa)**",
    "created_at": "2014-05-22T21:23:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16162#issuecomment-206558",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jpflori/ticket/16162](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/16162)** to **[`80db6aa`](https://github.com/sagemath/sagetrac-mirror/commit/80db6aa42f35fb2d6b72eab19d3842be244ceefa)**



---

archive/issue_events_230759.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-22T21:23:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230759"
}
```



---

archive/issue_events_230760.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5159542028886ae66c685e54c163875d4cca3918",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-05-22T21:23:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16162",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16162#event-230760"
}
```
