# Issue 17178: Random failure in ell_rational_field.py

Issue created by migration from https://trac.sagemath.org/ticket/17415

Original creator: jdemeyer

Original creation time: 2014-11-28 14:43:38

CC:  pbruin vbraun

Keywords: random_fail

Garbage collection coming at the wrong time can cause

```
File "src/sage/schemes/elliptic_curves/ell_rational_field.py", line 590, in sage.schemes.elliptic_curves.ell_rational_field.EllipticCurve_rational_field.pari_curve
Failed example:
    _ = E.__dict__.pop('_pari_curve')  # clear cached data
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 488, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 851, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.elliptic_curves.ell_rational_field.EllipticCurve_rational_field.pari_curve[9]>", line 1, in <module>
        _ = E.__dict__.pop('_pari_curve')  # clear cached data
    KeyError: '_pari_curve'
```



---

Comment by pbruin created at 2014-11-28 15:32:42

Changing status from new to needs_review.


---

Comment by vbraun created at 2014-11-28 15:34:38

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-11-29 01:06:55

Resolution: fixed
