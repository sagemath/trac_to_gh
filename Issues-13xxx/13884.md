# Issue 13884: Fix optional internet tests.

archive/issues_013680.json:
```json
{
    "assignees": [],
    "body": "Untested = broken.\n\n```\nsage -t --only_optional=internet devel/sage/sage/symbolic/integration/integral.py # 2 doctests failed\nsage -t --only_optional=internet devel/sage/sage/combinat/words/paths.py # 1 doctests failed\nsage -t --only_optional=internet devel/sage/sage/misc/preparser.py # 1 doctests failed\nsage -t --only_optional=internet devel/sage/sage/interfaces/r.py # 1 doctests failed\nsage -t --only_optional=internet devel/sage/sage/finance/stock.py # 11 doctests failed\nsage -t --only_optional=internet devel/sage/sage/databases/sloane.py # 8 doctests failed\n```\n\n\nThe files `sage/databases/sloane.py` and `sage/combinat/words/paths.py` are really covered by #10358.\n\nThe file `sage/interfaces/r.py` is a situation needing clarification at #7771.\n\nThis ticket is to fix the minor issues in the integral, preparer, and stock files.\n\n**Apply**:\n* [attachment: trac_13884.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884.patch.gz)\n* [attachment: trac_13884_addon1.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884_addon1.patch.gz)\n\nAssignee: **@sagetrac-mvngu**\n\nBranch: **[90a4128](https://github.com/sagemath/sagetrac-mirror/commit/90a4128e8e2eebf6f79511d684b56c1c710464dd)**\n\nReviewer: **Ralf Stephan, Volker Braun**\n\nAuthor: **Karl-Dieter Crisman**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13884_\n\n",
    "closed_at": "2014-04-06T20:49:06Z",
    "created_at": "2012-12-29T23:03:34Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/doctest%20coverage",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix optional internet tests.",
    "type": "issue",
    "updated_at": "2015-09-06T13:37:27Z",
    "url": "https://github.com/sagemath/sage/issues/13884",
    "user": "https://github.com/robertwb"
}
```
Untested = broken.

```
sage -t --only_optional=internet devel/sage/sage/symbolic/integration/integral.py # 2 doctests failed
sage -t --only_optional=internet devel/sage/sage/combinat/words/paths.py # 1 doctests failed
sage -t --only_optional=internet devel/sage/sage/misc/preparser.py # 1 doctests failed
sage -t --only_optional=internet devel/sage/sage/interfaces/r.py # 1 doctests failed
sage -t --only_optional=internet devel/sage/sage/finance/stock.py # 11 doctests failed
sage -t --only_optional=internet devel/sage/sage/databases/sloane.py # 8 doctests failed
```


The files `sage/databases/sloane.py` and `sage/combinat/words/paths.py` are really covered by #10358.

The file `sage/interfaces/r.py` is a situation needing clarification at #7771.

This ticket is to fix the minor issues in the integral, preparer, and stock files.

**Apply**:
* [attachment: trac_13884.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884.patch.gz)
* [attachment: trac_13884_addon1.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884_addon1.patch.gz)

Assignee: **@sagetrac-mvngu**

Branch: **[90a4128](https://github.com/sagemath/sagetrac-mirror/commit/90a4128e8e2eebf6f79511d684b56c1c710464dd)**

Reviewer: **Ralf Stephan, Volker Braun**

Author: **Karl-Dieter Crisman**

_Issue created by migration from https://trac.sagemath.org/ticket/13884_





---

archive/issue_events_178699.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2012-12-29T23:03:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178699"
}
```



---

archive/issue_events_178700.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2012-12-29T23:03:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178700"
}
```



---

archive/issue_events_178701.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2012-12-29T23:03:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178701"
}
```



---

archive/issue_events_178702.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2012-12-29T23:03:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178702"
}
```



---

archive/issue_comments_166406.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nSo this doesn't happen again, re-enable these via #13540.",
    "created_at": "2012-12-30T00:29:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166406",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:1" align="right">Comment 1</div>

So this doesn't happen again, re-enable these via #13540.



---

archive/issue_comments_166407.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\n\n```\nsage -t --only_optional=internet devel/sage/sage/interfaces/r.py\n```\nJust for clarification, this one is broken, but not because of the internet, and has been for a while.  This was originally noticed (and fixed) by Minh while reviewing #7771 in [this patch](https://github.com/sagemath/sage/files/ticket13884/b53ec529be1af028e099af60e2b50ef4.gz).  It wasn't clear how to proceed, as you can see by reading the comments there.",
    "created_at": "2013-01-03T17:49:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166407",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">Comment 2</div>


```
sage -t --only_optional=internet devel/sage/sage/interfaces/r.py
```
Just for clarification, this one is broken, but not because of the internet, and has been for a while.  This was originally noticed (and fixed) by Minh while reviewing #7771 in [this patch](https://github.com/sagemath/sage/files/ticket13884/b53ec529be1af028e099af60e2b50ef4.gz).  It wasn't clear how to proceed, as you can see by reading the comments there.



---

archive/issue_comments_166408.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nHaha!  And the first one is not really a problem, just a logic issue.\n\n```\nsage -t --only_optional=internet devel/sage/sage/symbolic/integration/integral.py\n    sage: f.integrate(algorithm=\"mathematica_free\")       # optional -- requires internet\nExpected:\n    sqrt(pi)*sqrt(1/2)*fresnels(sqrt(2)*x/sqrt(pi)) + y^z*x\nGot:\n    doctest:674: DeprecationWarning: Variable of integration should be specified explicitly.\n    See http://trac.sagemath.org/12438 for details.\n    sqrt(pi)*sqrt(1/2)*fresnels(sqrt(2)*x/sqrt(pi)) + y^z*x\n**********************************************************************\nExpected:\n    doctest:...: DeprecationWarning:\n    Variable of integration should be specified explicitly.\n    See http://trac.sagemath.org/12438 for details.\n    1/2*x^2\nGot:\n    1/2*x^2\n```\nWhat happens is that when the test is done, the deprecation warning, which **only occurs once**, occurs with the internet test.  This is a two-character fix.  I'll try to see if I can fix any others along with it.",
    "created_at": "2013-01-03T17:54:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166408",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:3" align="right">Comment 3</div>

Haha!  And the first one is not really a problem, just a logic issue.

```
sage -t --only_optional=internet devel/sage/sage/symbolic/integration/integral.py
    sage: f.integrate(algorithm="mathematica_free")       # optional -- requires internet
Expected:
    sqrt(pi)*sqrt(1/2)*fresnels(sqrt(2)*x/sqrt(pi)) + y^z*x
Got:
    doctest:674: DeprecationWarning: Variable of integration should be specified explicitly.
    See http://trac.sagemath.org/12438 for details.
    sqrt(pi)*sqrt(1/2)*fresnels(sqrt(2)*x/sqrt(pi)) + y^z*x
**********************************************************************
Expected:
    doctest:...: DeprecationWarning:
    Variable of integration should be specified explicitly.
    See http://trac.sagemath.org/12438 for details.
    1/2*x^2
Got:
    1/2*x^2
```
What happens is that when the test is done, the deprecation warning, which **only occurs once**, occurs with the internet test.  This is a two-character fix.  I'll try to see if I can fix any others along with it.



---

archive/issue_comments_166409.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nNext:  Considering that William at some point changed the file in this test\n\n```\n    sage: sage.misc.preparser.load('http://wstein.org/loadtest.py', globals())  # optional - internet\nExpected:\n    hi from the net\nGot:\n    hi from the net\n    5\n```\nto\n\n```\nprint \"hi from the net\"\n\nprint 2+3      \n```\nI think we'll be okay just changing this one too.",
    "created_at": "2013-01-03T17:56:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166409",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:4" align="right">Comment 4</div>

Next:  Considering that William at some point changed the file in this test

```
    sage: sage.misc.preparser.load('http://wstein.org/loadtest.py', globals())  # optional - internet
Expected:
    hi from the net
Got:
    hi from the net
    5
```
to

```
print "hi from the net"

print 2+3      
```
I think we'll be okay just changing this one too.



---

archive/issue_comments_166410.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nJust for reference, in general this file (sloane.py) is almost completely undocumented and #10358 is supposed to update with respect to this.  So this is fully known.",
    "created_at": "2013-01-03T18:05:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166410",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">Comment 5</div>

Just for reference, in general this file (sloane.py) is almost completely undocumented and #10358 is supposed to update with respect to this.  So this is fully known.



---

archive/issue_comments_166411.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nThe finance errors seem mostly due to a change in how Google uses `startdate`, though at least one of them shouldn't have even worked the first time!\n\n```\n\n    sage: finance.Stock('vmw').google()[:5]   # optional -- internet\nExpected:\n    [\n     28-Nov-07 80.57 88.49 80.57 87.69    7496000,\n     29-Nov-07 90.91 93.20 89.50 90.85    5497600,\n     30-Nov-07 95.39 95.60 89.85 91.37    4750200,\n      3-Dec-07 89.87 96.00 88.70 94.97    4401100,\n      4-Dec-07 92.26 97.10 92.05 95.08    2896600\n    ]\nGot:\n    [\n      5-Jan-12 81.76 82.84 81.52 82.31    2888520,\n      6-Jan-12 82.96 84.33 82.47 83.31    1922781,\n      9-Jan-12 83.45 85.17 82.94 84.95    1841373,\n     10-Jan-12 86.01 86.80 85.10 85.30    1762911,\n     11-Jan-12 85.42 88.20 85.30 87.92    2192664\n    ]\n```\nAt least this tells us when William added the finance stuff!",
    "created_at": "2013-01-03T18:10:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166411",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:6" align="right">Comment 6</div>

The finance errors seem mostly due to a change in how Google uses `startdate`, though at least one of them shouldn't have even worked the first time!

```

    sage: finance.Stock('vmw').google()[:5]   # optional -- internet
Expected:
    [
     28-Nov-07 80.57 88.49 80.57 87.69    7496000,
     29-Nov-07 90.91 93.20 89.50 90.85    5497600,
     30-Nov-07 95.39 95.60 89.85 91.37    4750200,
      3-Dec-07 89.87 96.00 88.70 94.97    4401100,
      4-Dec-07 92.26 97.10 92.05 95.08    2896600
    ]
Got:
    [
      5-Jan-12 81.76 82.84 81.52 82.31    2888520,
      6-Jan-12 82.96 84.33 82.47 83.31    1922781,
      9-Jan-12 83.45 85.17 82.94 84.95    1841373,
     10-Jan-12 86.01 86.80 85.10 85.30    1762911,
     11-Jan-12 85.42 88.20 85.30 87.92    2192664
    ]
```
At least this tells us when William added the finance stuff!



---

archive/issue_comments_166412.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nAnd finally, the combinat error is due to the broken `sloane_find` issue.  So this ticket should be quite fixable - hope to have a patch up soon.",
    "created_at": "2013-01-03T18:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166412",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:7" align="right">Comment 7</div>

And finally, the combinat error is due to the broken `sloane_find` issue.  So this ticket should be quite fixable - hope to have a patch up soon.



---

archive/issue_comments_166413.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,5 @@\n \tsage -t --only_optional=internet devel/sage/sage/finance/stock.py # 11 doctests failed\n \tsage -t --only_optional=internet devel/sage/sage/databases/sloane.py # 8 doctests failed\n ```\n+\n+Of these, two are really covered by #10358, and another is a situation needing clarification at #7771.   This ticket is to fix the minor issues in the integral, preparer, and stock files.\n``````\n",
    "created_at": "2013-01-03T18:16:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166413",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,5 @@
 	sage -t --only_optional=internet devel/sage/sage/finance/stock.py # 11 doctests failed
 	sage -t --only_optional=internet devel/sage/sage/databases/sloane.py # 8 doctests failed
 ```
+
+Of these, two are really covered by #10358, and another is a situation needing clarification at #7771.   This ticket is to fix the minor issues in the integral, preparer, and stock files.
``````




---

archive/issue_comments_166414.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nGoogle now apparently does not return data that is more than a certain number of years old - or at least the interface must have changed?\n\n```\n\nsage: finance.Stock('F').google('Jan+3,+1978', 'Jul+7,+2008')[:1]\n[\n 20-Aug-92 0.00 2.26 2.21 2.24   19202479\n]\nsage: finance.Stock('F').google('Jan+3,+1982', 'Jul+7,+2008')[:1]\n[\n 20-Aug-92 0.00 2.26 2.21 2.24   19202479\n]\n```\n\nIn fact, according to [this blog post](http://googlecode.blogspot.com/2011/05/spring-cleaning-for-some-of-our-apis.html), \n> These APIs are now deprecated but have no scheduled shutdown date: ... Finance API ...\n\nAnd although the data is still there if one uses e.g. a URL [like this](http://www.google.com/finance/historical?q=AAPL&startdate=Jan%201%2C%201990&enddate=Jan%2003%2C%202013&histperiod=daily&start=5790&num=30&ei=Xs_lULgX56nQAe0t) downloading the CSV only gives you so much.  \n\nWhat should we do, oh many Sage devels who are Google employees?  ;-)  I can fix some stuff but don't want to fix more of this if it's going to be gone eventually anyway.",
    "created_at": "2013-01-03T18:42:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166414",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:9" align="right">Comment 9</div>

Google now apparently does not return data that is more than a certain number of years old - or at least the interface must have changed?

```

sage: finance.Stock('F').google('Jan+3,+1978', 'Jul+7,+2008')[:1]
[
 20-Aug-92 0.00 2.26 2.21 2.24   19202479
]
sage: finance.Stock('F').google('Jan+3,+1982', 'Jul+7,+2008')[:1]
[
 20-Aug-92 0.00 2.26 2.21 2.24   19202479
]
```

In fact, according to [this blog post](http://googlecode.blogspot.com/2011/05/spring-cleaning-for-some-of-our-apis.html), 
> These APIs are now deprecated but have no scheduled shutdown date: ... Finance API ...

And although the data is still there if one uses e.g. a URL [like this](http://www.google.com/finance/historical?q=AAPL&startdate=Jan%201%2C%201990&enddate=Jan%2003%2C%202013&histperiod=daily&start=5790&num=30&ei=Xs_lULgX56nQAe0t) downloading the CSV only gives you so much.  

What should we do, oh many Sage devels who are Google employees?  ;-)  I can fix some stuff but don't want to fix more of this if it's going to be gone eventually anyway.



---

archive/issue_comments_166415.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nOkay, the following patch fixes everything not from #10358, #7771, and the change in the CSV files that the Google Finance API produces.  (Note that Apple must have had a 4-1 stock split at some point as well.) In some cases I could circumvent the latter when the point wasn't testing historical data, but there are still two failures.\n\n```\n\nsage -t --only_optional=internet \"devel/sage/sage/finance/stock.py\"\n**********************************************************************\n    sage: finance.Stock('F').google('Jan+3,+1978', 'Jul+7,+2008')[:5] # optional -- internet\nExpected:\n    [\n      3-Jan-78 0.00 1.93 1.89 1.89    1618200,\n      4-Jan-78 0.00 1.89 1.87 1.88    2482700,\n      5-Jan-78 0.00 1.89 1.84 1.84    2994900,\n      6-Jan-78 0.00 1.84 1.82 1.83    3042500,\n      9-Jan-78 0.00 1.81 1.79 1.81    3916400\n    ]\nGot:\n    [\n     20-Aug-92 0.00 2.26 2.21 2.24   19202479,\n     21-Aug-92 0.00 2.27 2.19 2.20   18689616,\n     24-Aug-92 0.00 2.17 2.10 2.10   38652825,\n     25-Aug-92 0.00 2.19 2.11 2.18   31028049,\n     26-Aug-92 0.00 2.21 2.18 2.20   22539411\n    ]\n**********************************************************************\n    sage: sage.finance.stock.Stock(\"AAPL\", 22144).google(startdate='Jan+1,+1990')[:5] #optional -- internet\nExpected:\n    [\n      2-Jan-90 0.00 9.38 8.75 9.31    6542800,\n      3-Jan-90 0.00 9.50 9.38 9.38    7428400,\n      4-Jan-90 0.00 9.69 9.31 9.41    7911200,\n      5-Jan-90 0.00 9.56 9.25 9.44    4404000,\n      8-Jan-90 0.00 9.50 9.25 9.50    3627600\n    ]\nGot:\n    [\n     28-Feb-97 0.00 1.05 1.02 1.02   17411200,\n      3-Mar-97 0.00 1.03 1.00 1.01   18636800,\n      4-Mar-97 0.00 1.03 1.00 1.03   14745600,\n      5-Mar-97 0.00 1.06 1.03 1.06   13737600,\n      6-Mar-97 0.00 1.06 1.03 1.04   16612800\n    ]\n**********************************************************************\n```\nI don't know if these are fixable.",
    "created_at": "2013-01-03T19:16:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166415",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:10" align="right">Comment 10</div>

Okay, the following patch fixes everything not from #10358, #7771, and the change in the CSV files that the Google Finance API produces.  (Note that Apple must have had a 4-1 stock split at some point as well.) In some cases I could circumvent the latter when the point wasn't testing historical data, but there are still two failures.

```

sage -t --only_optional=internet "devel/sage/sage/finance/stock.py"
**********************************************************************
    sage: finance.Stock('F').google('Jan+3,+1978', 'Jul+7,+2008')[:5] # optional -- internet
Expected:
    [
      3-Jan-78 0.00 1.93 1.89 1.89    1618200,
      4-Jan-78 0.00 1.89 1.87 1.88    2482700,
      5-Jan-78 0.00 1.89 1.84 1.84    2994900,
      6-Jan-78 0.00 1.84 1.82 1.83    3042500,
      9-Jan-78 0.00 1.81 1.79 1.81    3916400
    ]
Got:
    [
     20-Aug-92 0.00 2.26 2.21 2.24   19202479,
     21-Aug-92 0.00 2.27 2.19 2.20   18689616,
     24-Aug-92 0.00 2.17 2.10 2.10   38652825,
     25-Aug-92 0.00 2.19 2.11 2.18   31028049,
     26-Aug-92 0.00 2.21 2.18 2.20   22539411
    ]
**********************************************************************
    sage: sage.finance.stock.Stock("AAPL", 22144).google(startdate='Jan+1,+1990')[:5] #optional -- internet
Expected:
    [
      2-Jan-90 0.00 9.38 8.75 9.31    6542800,
      3-Jan-90 0.00 9.50 9.38 9.38    7428400,
      4-Jan-90 0.00 9.69 9.31 9.41    7911200,
      5-Jan-90 0.00 9.56 9.25 9.44    4404000,
      8-Jan-90 0.00 9.50 9.25 9.50    3627600
    ]
Got:
    [
     28-Feb-97 0.00 1.05 1.02 1.02   17411200,
      3-Mar-97 0.00 1.03 1.00 1.01   18636800,
      4-Mar-97 0.00 1.03 1.00 1.03   14745600,
      5-Mar-97 0.00 1.06 1.03 1.06   13737600,
      6-Mar-97 0.00 1.06 1.03 1.04   16612800
    ]
**********************************************************************
```
I don't know if these are fixable.



---

archive/issue_comments_166416.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nAttachment: **[trac_13884.patch.gz](https://github.com/sagemath/sage/files/ticket13884/trac_13884.patch.gz)**\n\nPatchbot, apply trac_13884.patch\n\nI'd appreciate feedback; however, the easiest to me seems to be to review this and then open a new ticket to fix the Google finance interface csv download issue - if that is even possible.",
    "created_at": "2013-01-03T19:20:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166416",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:11" align="right">Comment 11</div>

Attachment: **[trac_13884.patch.gz](https://github.com/sagemath/sage/files/ticket13884/trac_13884.patch.gz)**

Patchbot, apply trac_13884.patch

I'd appreciate feedback; however, the easiest to me seems to be to review this and then open a new ticket to fix the Google finance interface csv download issue - if that is even possible.



---

archive/issue_events_178703.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-01-03T19:20:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178703"
}
```



---

archive/issue_comments_166417.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,3 +10,5 @@\n ```\n \n Of these, two are really covered by #10358, and another is a situation needing clarification at #7771.   This ticket is to fix the minor issues in the integral, preparer, and stock files.\n+\n+**Apply** [attachment: trac_13884.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884.patch.gz).\n``````\n",
    "created_at": "2013-01-03T19:20:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166417",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,3 +10,5 @@
 ```
 
 Of these, two are really covered by #10358, and another is a situation needing clarification at #7771.   This ticket is to fix the minor issues in the integral, preparer, and stock files.
+
+**Apply** [attachment: trac_13884.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884.patch.gz).
``````




---

archive/issue_comments_166418.json:
```json
{
    "body": "Author: **Karl-Dieter Crisman**",
    "created_at": "2013-01-03T19:20:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166418",
    "user": "https://github.com/kcrisman"
}
```

Author: **Karl-Dieter Crisman**



---

archive/issue_comments_166419.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nOkay, in the meantime the Google stuff has changed yet again (???), and we get the following bizarre error:\n\n```\nFile \"sage/symbolic/integration/integral.py\", line 466, in sage.symbolic.integration.integral.integrate\nFailed example:\n    f.integrate(algorithm=\"mathematica_free\")       # optional - internet\n    NameError: name 'f' is not defined\n**********************************************************************\n```\nThis one baffles me; even doing `f.integrate(x)` with no algorithm or anything still fails.  Doing this by hand usually works - I think there is some potential for timeouts.  But it consistently fails with this in doctesting.  So I'm giving up on this patch for now, unless someone has some other bright ideas.",
    "created_at": "2013-06-14T15:30:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166419",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:12" align="right">Comment 12</div>

Okay, in the meantime the Google stuff has changed yet again (???), and we get the following bizarre error:

```
File "sage/symbolic/integration/integral.py", line 466, in sage.symbolic.integration.integral.integrate
Failed example:
    f.integrate(algorithm="mathematica_free")       # optional - internet
    NameError: name 'f' is not defined
**********************************************************************
```
This one baffles me; even doing `f.integrate(x)` with no algorithm or anything still fails.  Doing this by hand usually works - I think there is some potential for timeouts.  But it consistently fails with this in doctesting.  So I'm giving up on this patch for now, unless someone has some other bright ideas.



---

archive/issue_events_178704.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-14T15:30:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178704"
}
```



---

archive/issue_events_178705.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-14T15:30:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178705"
}
```



---

archive/issue_events_178706.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178706"
}
```



---

archive/issue_events_178707.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178707"
}
```



---

archive/issue_comments_166420.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,13 @@\n \tsage -t --only_optional=internet devel/sage/sage/databases/sloane.py # 8 doctests failed\n ```\n \n-Of these, two are really covered by #10358, and another is a situation needing clarification at #7771.   This ticket is to fix the minor issues in the integral, preparer, and stock files.\n+\n+\n+\n+The files `sage/databases/sloane.py` and another one (?) are really covered by #10358.\n+\n+The file `sage/interfaces/r.py` is a situation needing clarification at #7771.\n+\n+This ticket is to fix the minor issues in the integral, preparer, and stock files.\n \n **Apply** [attachment: trac_13884.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884.patch.gz).\n``````\n",
    "created_at": "2013-09-01T15:32:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166420",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,13 @@
 	sage -t --only_optional=internet devel/sage/sage/databases/sloane.py # 8 doctests failed
 ```
 
-Of these, two are really covered by #10358, and another is a situation needing clarification at #7771.   This ticket is to fix the minor issues in the integral, preparer, and stock files.
+
+
+
+The files `sage/databases/sloane.py` and another one (?) are really covered by #10358.
+
+The file `sage/interfaces/r.py` is a situation needing clarification at #7771.
+
+This ticket is to fix the minor issues in the integral, preparer, and stock files.
 
 **Apply** [attachment: trac_13884.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884.patch.gz).
``````




---

archive/issue_comments_166421.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,10 +12,12 @@\n \n \n \n-The files `sage/databases/sloane.py` and another one (?) are really covered by #10358.\n+The files `sage/databases/sloane.py` and `sage/combinat/words/paths.py` are really covered by #10358.\n \n The file `sage/interfaces/r.py` is a situation needing clarification at #7771.\n \n This ticket is to fix the minor issues in the integral, preparer, and stock files.\n \n-**Apply** [attachment: trac_13884.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884.patch.gz).\n+**Apply**:\n+* [attachment: trac_13884.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884.patch.gz)\n+* [attachment: trac_13884_addon1.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884_addon1.patch.gz)\n``````\n",
    "created_at": "2013-09-01T15:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166421",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,10 +12,12 @@
 
 
 
-The files `sage/databases/sloane.py` and another one (?) are really covered by #10358.
+The files `sage/databases/sloane.py` and `sage/combinat/words/paths.py` are really covered by #10358.
 
 The file `sage/interfaces/r.py` is a situation needing clarification at #7771.
 
 This ticket is to fix the minor issues in the integral, preparer, and stock files.
 
-**Apply** [attachment: trac_13884.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884.patch.gz).
+**Apply**:
+* [attachment: trac_13884.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884.patch.gz)
+* [attachment: trac_13884_addon1.patch](https://github.com/sagemath/sage/files/ticket13884/trac_13884_addon1.patch.gz)
``````




---

archive/issue_comments_166422.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nAttachment: **[trac_13884_addon1.patch.gz](https://github.com/sagemath/sage/files/ticket13884/trac_13884_addon1.patch.gz)**\n\nI think this solves the problem in the integral file.",
    "created_at": "2013-09-01T15:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166422",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:15" align="right">Comment 15</div>

Attachment: **[trac_13884_addon1.patch.gz](https://github.com/sagemath/sage/files/ticket13884/trac_13884_addon1.patch.gz)**

I think this solves the problem in the integral file.



---

archive/issue_comments_166423.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nThe add-on patch is good. I'm not sure why that should make a difference, but it did.\n\nI'm tempted to have us just add the preparser test to the integral one and then open a new ticket for stock.py, which clearly isn't functioning properly in any case (not just a problem of changed values any more).  Frederic, do you want to create a patch like that?",
    "created_at": "2013-09-02T13:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166423",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:16" align="right">Comment 16</div>

The add-on patch is good. I'm not sure why that should make a difference, but it did.

I'm tempted to have us just add the preparser test to the integral one and then open a new ticket for stock.py, which clearly isn't functioning properly in any case (not just a problem of changed values any more).  Frederic, do you want to create a patch like that?



---

archive/issue_comments_166424.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nA partial fix is better than no fix at all, IMHO.",
    "created_at": "2014-01-04T04:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166424",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:17" align="right">Comment 17</div>

A partial fix is better than no fix at all, IMHO.



---

archive/issue_comments_166425.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nI agree, no need to fix all of them before any of them go in.",
    "created_at": "2014-01-04T05:14:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166425",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:18" align="right">Comment 18</div>

I agree, no need to fix all of them before any of them go in.



---

archive/issue_comments_166426.json:
```json
{
    "body": "Commit: **[90a4128](https://github.com/sagemath/sagetrac-mirror/commit/90a4128e8e2eebf6f79511d684b56c1c710464dd)**",
    "created_at": "2014-01-04T10:26:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166426",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[90a4128](https://github.com/sagemath/sagetrac-mirror/commit/90a4128e8e2eebf6f79511d684b56c1c710464dd)**



---

archive/issue_comments_166427.json:
```json
{
    "body": "Branch: **[u/chapoton/13884](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13884)**",
    "created_at": "2014-01-04T10:26:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166427",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/13884](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13884)**



---

archive/issue_comments_166428.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90a4128\">90a4128</a></td><td><code>Trac #13884 - fix most broken internet optional doctests</code></td></tr></table>\n",
    "created_at": "2014-01-04T10:26:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166428",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">Comment 19</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90a4128">90a4128</a></td><td><code>Trac #13884 - fix most broken internet optional doctests</code></td></tr></table>




---

archive/issue_events_178708.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-04T10:26:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178708"
}
```



---

archive/issue_events_178709.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-01-04T10:26:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178709"
}
```



---

archive/issue_events_178710.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178710"
}
```



---

archive/issue_events_178711.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178711"
}
```



---

archive/issue_comments_166429.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nWhat test command do you use? With `--optional=internet` I get:\n\n```\nsage -t src/sage/finance/stock.py  # 11 doctests failed\nsage -t src/sage/symbolic/integration/external.py  # 1 doctest failed\n```",
    "created_at": "2014-04-05T08:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166429",
    "user": "https://github.com/rwst"
}
```

<div id="comment:21" align="right">Comment 21</div>

What test command do you use? With `--optional=internet` I get:

```
sage -t src/sage/finance/stock.py  # 11 doctests failed
sage -t src/sage/symbolic/integration/external.py  # 1 doctest failed
```



---

archive/issue_comments_166430.json:
```json
{
    "body": "Reviewer: **Ralf Stephan, Volker Braun**",
    "created_at": "2014-04-05T10:47:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166430",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Ralf Stephan, Volker Braun**



---

archive/issue_comments_166431.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nSounds good to me; somebody interested in finance can take up the stock.py failures.",
    "created_at": "2014-04-05T10:47:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166431",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:22" align="right">Comment 22</div>

Sounds good to me; somebody interested in finance can take up the stock.py failures.



---

archive/issue_events_178712.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-05T10:47:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178712"
}
```



---

archive/issue_events_178713.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-05T10:47:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178713"
}
```



---

archive/issue_events_178714.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-06T20:49:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178714"
}
```



---

archive/issue_events_178715.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9c611285994982a7b53eff51d8e714a1a665aeb1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-04-06T20:49:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13884#event-178715"
}
```



---

archive/issue_comments_166432.json:
```json
{
    "body": "Changed branch from **[u/chapoton/13884](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13884)** to **[90a4128](https://github.com/sagemath/sagetrac-mirror/commit/90a4128e8e2eebf6f79511d684b56c1c710464dd)**",
    "created_at": "2014-04-06T20:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166432",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/13884](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13884)** to **[90a4128](https://github.com/sagemath/sagetrac-mirror/commit/90a4128e8e2eebf6f79511d684b56c1c710464dd)**



---

archive/issue_comments_166433.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,15 +1,13 @@\n Untested = broken.\n \n ```\n-\tsage -t --only_optional=internet devel/sage/sage/symbolic/integration/integral.py # 2 doctests failed\n-\tsage -t --only_optional=internet devel/sage/sage/combinat/words/paths.py # 1 doctests failed\n-\tsage -t --only_optional=internet devel/sage/sage/misc/preparser.py # 1 doctests failed\n-\tsage -t --only_optional=internet devel/sage/sage/interfaces/r.py # 1 doctests failed\n-\tsage -t --only_optional=internet devel/sage/sage/finance/stock.py # 11 doctests failed\n-\tsage -t --only_optional=internet devel/sage/sage/databases/sloane.py # 8 doctests failed\n+sage -t --only_optional=internet devel/sage/sage/symbolic/integration/integral.py # 2 doctests failed\n+sage -t --only_optional=internet devel/sage/sage/combinat/words/paths.py # 1 doctests failed\n+sage -t --only_optional=internet devel/sage/sage/misc/preparser.py # 1 doctests failed\n+sage -t --only_optional=internet devel/sage/sage/interfaces/r.py # 1 doctests failed\n+sage -t --only_optional=internet devel/sage/sage/finance/stock.py # 11 doctests failed\n+sage -t --only_optional=internet devel/sage/sage/databases/sloane.py # 8 doctests failed\n ```\n-\n-\n \n \n The files `sage/databases/sloane.py` and `sage/combinat/words/paths.py` are really covered by #10358.\n``````\n",
    "created_at": "2015-09-06T13:37:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166433",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,15 +1,13 @@
 Untested = broken.
 
 ```
-	sage -t --only_optional=internet devel/sage/sage/symbolic/integration/integral.py # 2 doctests failed
-	sage -t --only_optional=internet devel/sage/sage/combinat/words/paths.py # 1 doctests failed
-	sage -t --only_optional=internet devel/sage/sage/misc/preparser.py # 1 doctests failed
-	sage -t --only_optional=internet devel/sage/sage/interfaces/r.py # 1 doctests failed
-	sage -t --only_optional=internet devel/sage/sage/finance/stock.py # 11 doctests failed
-	sage -t --only_optional=internet devel/sage/sage/databases/sloane.py # 8 doctests failed
+sage -t --only_optional=internet devel/sage/sage/symbolic/integration/integral.py # 2 doctests failed
+sage -t --only_optional=internet devel/sage/sage/combinat/words/paths.py # 1 doctests failed
+sage -t --only_optional=internet devel/sage/sage/misc/preparser.py # 1 doctests failed
+sage -t --only_optional=internet devel/sage/sage/interfaces/r.py # 1 doctests failed
+sage -t --only_optional=internet devel/sage/sage/finance/stock.py # 11 doctests failed
+sage -t --only_optional=internet devel/sage/sage/databases/sloane.py # 8 doctests failed
 ```
-
-
 
 
 The files `sage/databases/sloane.py` and `sage/combinat/words/paths.py` are really covered by #10358.
``````




---

archive/issue_comments_166434.json:
```json
{
    "body": "Changed commit from **[90a4128](https://github.com/sagemath/sagetrac-mirror/commit/90a4128e8e2eebf6f79511d684b56c1c710464dd)** to none",
    "created_at": "2015-09-06T13:37:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13884#issuecomment-166434",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[90a4128](https://github.com/sagemath/sagetrac-mirror/commit/90a4128e8e2eebf6f79511d684b56c1c710464dd)** to none
