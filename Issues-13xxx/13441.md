# Issue 13441: refactor gcd

archive/issues_013269.json:
```json
{
    "assignees": [
        "https://github.com/aghitza"
    ],
    "body": "Currently, some classes define a `_gcd` method which is called by a `gcd` method of euclidean domain elements. Most elements already define `gcd` directly, and I see no real use in having this method in between.\n\nThe attached patch renames all `_gcd` methods to `gcd` and also streamlines the use of `@coerce_binop` on them.\n\nThis is similar to #13628.\n\nBranch/Commit: **[u/tscrim/ticket/13441](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/ticket/13441) @ [7cdeebb](https://github.com/sagemath/sagetrac-mirror/commit/7cdeebbb524ccfc00a9f38f3c8dcd1aa7ed901f3)**\n\nReviewer: **Niles Johnson, Travis Scrimshaw**\n\nAuthor: **Julian Rueth**\n\nComponent: **basic arithmetic**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13441_\n\n",
    "closed_at": "2014-02-02T20:33:46Z",
    "created_at": "2012-09-08T22:09:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/p%3A%205%20%E2%80%93%20trivial"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "refactor gcd",
    "type": "issue",
    "updated_at": "2014-02-02T20:33:46Z",
    "url": "https://github.com/sagemath/sage/issues/13441",
    "user": "https://github.com/saraedum"
}
```
Currently, some classes define a `_gcd` method which is called by a `gcd` method of euclidean domain elements. Most elements already define `gcd` directly, and I see no real use in having this method in between.

The attached patch renames all `_gcd` methods to `gcd` and also streamlines the use of `@coerce_binop` on them.

This is similar to #13628.

Branch/Commit: **[u/tscrim/ticket/13441](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/ticket/13441) @ [7cdeebb](https://github.com/sagemath/sagetrac-mirror/commit/7cdeebbb524ccfc00a9f38f3c8dcd1aa7ed901f3)**

Reviewer: **Niles Johnson, Travis Scrimshaw**

Author: **Julian Rueth**

Component: **basic arithmetic**

_Issue created by migration from https://trac.sagemath.org/ticket/13441_





---

archive/issue_events_187860.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-09-08T22:09:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187860"
}
```



---

archive/issue_events_187861.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-09-08T22:09:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
    "label_color": "0000ff",
    "label_name": "c: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187861"
}
```



---

archive/issue_events_187862.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-09-08T22:09:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/p%3A%205%20%E2%80%93%20trivial",
    "label_color": "fff9e5",
    "label_name": "p: 5 \u2013 trivial",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187862"
}
```



---

archive/issue_events_187863.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2012-09-08T22:09:15Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "subject": "https://github.com/saraedum",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187863"
}
```



---

archive/issue_comments_156931.json:
```json
{
    "body": "Dependencies: **#13439**",
    "created_at": "2012-09-08T22:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156931",
    "user": "https://github.com/saraedum"
}
```

Dependencies: **#13439**



---

archive/issue_comments_156932.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI also removed `Polynomial_dense_mod_p`'s gcd since it cannot be called at all. (I'm running doctests now to verify this.)",
    "created_at": "2012-09-08T22:11:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156932",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:2" align="right">comment:2</div>

I also removed `Polynomial_dense_mod_p`'s gcd since it cannot be called at all. (I'm running doctests now to verify this.)



---

archive/issue_comments_156933.json:
```json
{
    "body": "Changed dependencies from **#13439** to **#13439, #13438**",
    "created_at": "2012-09-08T22:34:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156933",
    "user": "https://github.com/saraedum"
}
```

Changed dependencies from **#13439** to **#13439, #13438**



---

archive/issue_comments_156934.json:
```json
{
    "body": "Changed dependencies from **#13439, #13438** to **#13438**",
    "created_at": "2012-09-26T15:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156934",
    "user": "https://github.com/saraedum"
}
```

Changed dependencies from **#13439, #13438** to **#13438**



---

archive/issue_comments_156935.json:
```json
{
    "body": "Changed dependencies from **#13438** to none",
    "created_at": "2012-09-26T15:16:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156935",
    "user": "https://github.com/saraedum"
}
```

Changed dependencies from **#13438** to none



---

archive/issue_comments_156936.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Currently, some classes define a `_gcd` method which is called by a `gcd` method of euclidean domain elements. Most elements already define `gcd` directly, and I see no real use in having this method in between.\n \n The attached patch renames all `_gcd` methods to `gcd` and also streamlines the use of `@coerce_binop` on them.\n+\n+This is similar to #13628.\n``````\n",
    "created_at": "2012-10-19T15:54:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156936",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Currently, some classes define a `_gcd` method which is called by a `gcd` method of euclidean domain elements. Most elements already define `gcd` directly, and I see no real use in having this method in between.
 
 The attached patch renames all `_gcd` methods to `gcd` and also streamlines the use of `@coerce_binop` on them.
+
+This is similar to #13628.
``````




---

archive/issue_comments_156937.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nRemoved Rational's gcd since it was not used anymore (rational numbers rely on `QuotientFields.ElementMethods.gcd`).",
    "created_at": "2012-10-20T19:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156937",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:7" align="right">comment:7</div>

Removed Rational's gcd since it was not used anymore (rational numbers rely on `QuotientFields.ElementMethods.gcd`).



---

archive/issue_events_187864.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-10-20T23:42:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187864"
}
```



---

archive/issue_events_187865.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2012-10-24T09:01:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187865"
}
```



---

archive/issue_events_187866.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2012-10-24T09:01:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187866"
}
```



---

archive/issue_comments_156938.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nMy main concern is with a speed penalty in doing gcds for rationals, polynomial_integer_dense_ntl, etc.  Have you compared the runtime of the gcds before and after your changes?\n\nI agree that it's conceptually nicer.",
    "created_at": "2012-10-24T09:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156938",
    "user": "https://github.com/roed314"
}
```

<div id="comment:9" align="right">comment:9</div>

My main concern is with a speed penalty in doing gcds for rationals, polynomial_integer_dense_ntl, etc.  Have you compared the runtime of the gcds before and after your changes?

I agree that it's conceptually nicer.



---

archive/issue_comments_156939.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWithout the patch I get:\n\n```\nsage: x,y=34912364,123324234\nsage: timeit('x.gcd(y)')\n625 loops, best of 3: 430 ns per loop\nsage: x,y=234/234525,4324525/12351\nsage: timeit('x.gcd(y)')\n625 loops, best of 3: 11.5 \u00b5s per loop\nsage: R.<T>=ZZ[]\nsage: x,y=123*T^2+23424*T+1231,1231451*T^3+65*T^2+352*T+234251\nsage: timeit('x.gcd(y)')\n625 loops, best of 3: 6.06 \u00b5s per loop\n```\n\nWith the patch:\n\n```\nsage: x,y=34912364,123324234\nsage: timeit('x.gcd(y)')\n625 loops, best of 3: 1.13 \u00b5s per loop\nsage: x,y=234/234525,4324525/12351\nsage: timeit('x.gcd(y)')\n625 loops, best of 3: 14.1 \u00b5s per loop\nsage: R.<T>=ZZ[]\nsage: x,y=123*T^2+23424*T+1231,1231451*T^3+65*T^2+352*T+234251\nsage: timeit('x.gcd(y)')\n625 loops, best of 3: 6.21 \u00b5s per loop\n```\n\nSo there is actually a speed penalty. This seems to be caused by a bug in `coerce_binop`:\n\n```\nsage: x.gcd\n<sage.structure.element.NamedBinopMethod object at 0x1bc255f0>\nsage: x.gcd\n<sage.structure.element.NamedBinopMethod object at 0x1bc27290>\n```\n\nI'm looking into this.",
    "created_at": "2012-11-14T18:13:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156939",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:10" align="right">comment:10</div>

Without the patch I get:

```
sage: x,y=34912364,123324234
sage: timeit('x.gcd(y)')
625 loops, best of 3: 430 ns per loop
sage: x,y=234/234525,4324525/12351
sage: timeit('x.gcd(y)')
625 loops, best of 3: 11.5 µs per loop
sage: R.<T>=ZZ[]
sage: x,y=123*T^2+23424*T+1231,1231451*T^3+65*T^2+352*T+234251
sage: timeit('x.gcd(y)')
625 loops, best of 3: 6.06 µs per loop
```

With the patch:

```
sage: x,y=34912364,123324234
sage: timeit('x.gcd(y)')
625 loops, best of 3: 1.13 µs per loop
sage: x,y=234/234525,4324525/12351
sage: timeit('x.gcd(y)')
625 loops, best of 3: 14.1 µs per loop
sage: R.<T>=ZZ[]
sage: x,y=123*T^2+23424*T+1231,1231451*T^3+65*T^2+352*T+234251
sage: timeit('x.gcd(y)')
625 loops, best of 3: 6.21 µs per loop
```

So there is actually a speed penalty. This seems to be caused by a bug in `coerce_binop`:

```
sage: x.gcd
<sage.structure.element.NamedBinopMethod object at 0x1bc255f0>
sage: x.gcd
<sage.structure.element.NamedBinopMethod object at 0x1bc27290>
```

I'm looking into this.



---

archive/issue_events_187867.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-11-14T18:13:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187867"
}
```



---

archive/issue_events_187868.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-11-14T18:13:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187868"
}
```



---

archive/issue_events_187869.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-11-14T18:13:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187869"
}
```



---

archive/issue_events_187870.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-11-14T18:13:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187870"
}
```



---

archive/issue_comments_156940.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@saraedum](#comment:10):\n> So there is actually a speed penalty. This seems to be caused by a bug in `coerce_binop`:\n> \n> ```\n> sage: x.gcd\n> <sage.structure.element.NamedBinopMethod object at 0x1bc255f0>\n> sage: x.gcd\n> <sage.structure.element.NamedBinopMethod object at 0x1bc27290>\n> ```\n\nThis is just how decorators work on methods (if they don't do tricks like cached_method) - the `__get__` has to create a new instance on every call.",
    "created_at": "2012-11-15T13:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156940",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@saraedum](#comment:10):
> So there is actually a speed penalty. This seems to be caused by a bug in `coerce_binop`:
> 
> ```
> sage: x.gcd
> <sage.structure.element.NamedBinopMethod object at 0x1bc255f0>
> sage: x.gcd
> <sage.structure.element.NamedBinopMethod object at 0x1bc27290>
> ```

This is just how decorators work on methods (if they don't do tricks like cached_method) - the `__get__` has to create a new instance on every call.



---

archive/issue_comments_156941.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe speed problems seem to be resolved with the new patch:\n\nWithout the patch:\n\n```\nsage: x,y=34912364,123324234\nsage: sage: sage: timeit('x.gcd(y)')\n625 loops, best of 3: 427 ns per loop\nsage: sage: R.<t>=PolynomialRing(GF(3),implementation=\"NTL\")\nsage: sage: x,y=t^2-1,t-1\nsage: sage: sage: timeit('x.gcd(y)')\n625 loops, best of 3: 35.5 \u00b5s per loop\nage: sage: x,y=234/234525,4324525/12351\nsage: sage: sage: timeit('x.gcd(y)')\n625 loops, best of 3: 11.4 \u00b5s per loop\nage: sage: R.<t> = PolynomialRing(ZZ,implementation=\"NTL\")\nsage: sage: x,y=t^2-1,t-1\nsage: sage: sage: timeit('x.gcd(y)')\n625 loops, best of 3: 17.8 \u00b5s per loop\n```\n\nWith the patch:\n\n```\nsage: x,y=34912364,123324234\nsage: sage: sage: timeit('x.gcd(y)')\n625 loops, best of 3: 421 ns per loop\nsage: R.<t>=PolynomialRing(GF(3),implementation=\"NTL\")\nsage: x,y=t^2-1,t-1\nsage: sage: timeit('x.gcd(y)')\n625 loops, best of 3: 32.7 \u00b5s per loop\nsage: x,y=234/234525,4324525/12351\nsage: sage: timeit('x.gcd(y)')\n625 loops, best of 3: 11.5 \u00b5s per loop\nsage: R.<t> = PolynomialRing(ZZ,implementation=\"NTL\")\nsage: x,y=t^2-1,t-1\nsage: sage: timeit('x.gcd(y)')\n625 loops, best of 3: 17.3 \u00b5s per loop\n```\n\nLet's see what the patchbot thinks about it\u2026",
    "created_at": "2012-11-15T14:50:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156941",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:13" align="right">comment:13</div>

The speed problems seem to be resolved with the new patch:

Without the patch:

```
sage: x,y=34912364,123324234
sage: sage: sage: timeit('x.gcd(y)')
625 loops, best of 3: 427 ns per loop
sage: sage: R.<t>=PolynomialRing(GF(3),implementation="NTL")
sage: sage: x,y=t^2-1,t-1
sage: sage: sage: timeit('x.gcd(y)')
625 loops, best of 3: 35.5 µs per loop
age: sage: x,y=234/234525,4324525/12351
sage: sage: sage: timeit('x.gcd(y)')
625 loops, best of 3: 11.4 µs per loop
age: sage: R.<t> = PolynomialRing(ZZ,implementation="NTL")
sage: sage: x,y=t^2-1,t-1
sage: sage: sage: timeit('x.gcd(y)')
625 loops, best of 3: 17.8 µs per loop
```

With the patch:

```
sage: x,y=34912364,123324234
sage: sage: sage: timeit('x.gcd(y)')
625 loops, best of 3: 421 ns per loop
sage: R.<t>=PolynomialRing(GF(3),implementation="NTL")
sage: x,y=t^2-1,t-1
sage: sage: timeit('x.gcd(y)')
625 loops, best of 3: 32.7 µs per loop
sage: x,y=234/234525,4324525/12351
sage: sage: timeit('x.gcd(y)')
625 loops, best of 3: 11.5 µs per loop
sage: R.<t> = PolynomialRing(ZZ,implementation="NTL")
sage: x,y=t^2-1,t-1
sage: sage: timeit('x.gcd(y)')
625 loops, best of 3: 17.3 µs per loop
```

Let's see what the patchbot thinks about it…



---

archive/issue_events_187871.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-11-15T14:50:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187871"
}
```



---

archive/issue_events_187872.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-11-15T14:50:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187872"
}
```



---

archive/issue_events_187873.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-11-18T20:44:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187873"
}
```



---

archive/issue_events_187874.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-11-18T20:44:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187874"
}
```



---

archive/issue_events_187875.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-11-18T21:15:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187875"
}
```



---

archive/issue_events_187876.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-11-18T21:15:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187876"
}
```



---

archive/issue_comments_156942.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAttachment: **[trac_13441.patch.gz](https://github.com/sagemath/sage/files/ticket13441/trac_13441.patch.gz)**",
    "created_at": "2012-11-18T21:15:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156942",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:16" align="right">comment:16</div>

Attachment: **[trac_13441.patch.gz](https://github.com/sagemath/sage/files/ticket13441/trac_13441.patch.gz)**



---

archive/issue_comments_156943.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThe patchbot reported some problems with rational numbers. These should be fixed now.",
    "created_at": "2012-11-18T21:16:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156943",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:17" align="right">comment:17</div>

The patchbot reported some problems with rational numbers. These should be fixed now.



---

archive/issue_comments_156944.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nMinor issue: the `INPUT:` bullets are indented one to many times (they should be level with the triple quotes and `INPUT:`). Thanks.",
    "created_at": "2012-11-25T08:03:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156944",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">comment:18</div>

Minor issue: the `INPUT:` bullets are indented one to many times (they should be level with the triple quotes and `INPUT:`). Thanks.



---

archive/issue_events_187877.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187877"
}
```



---

archive/issue_events_187878.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187878"
}
```



---

archive/issue_comments_156945.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nA question: is there a good technical reason to make `gcd()` a method of `EuclideanDomains.ElementMethods` instead of `EuclideanDomainElement`?  To me it seems conceptually preferable to keep it a method of `EuclideanDomainElement`.\n\nTo be honest, I don't really see the (mathematical) point of having a category of Euclidean domains, at least not in its current form.  There would presumably need to be some condition requiring the \"quotient and remainder\" function to be compatible with morphisms in this category, and even then I wonder how useful it would be.  Again, maybe there is a good technical reason to have such a category?",
    "created_at": "2013-08-13T19:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156945",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:20" align="right">comment:20</div>

A question: is there a good technical reason to make `gcd()` a method of `EuclideanDomains.ElementMethods` instead of `EuclideanDomainElement`?  To me it seems conceptually preferable to keep it a method of `EuclideanDomainElement`.

To be honest, I don't really see the (mathematical) point of having a category of Euclidean domains, at least not in its current form.  There would presumably need to be some condition requiring the "quotient and remainder" function to be compatible with morphisms in this category, and even then I wonder how useful it would be.  Again, maybe there is a good technical reason to have such a category?



---

archive/issue_comments_156946.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nIMHO this is precisely what the category framework is about. We aren't talking about mathematical categories, but at non-inheritance framework to ensure consistency. There isn't much use in a stand-alone EuclideanDomains category, but it is definitely useful as a subcategory that you can slap on whenever you have a euclidean domain.\n\nAlas, the patch does not apply to Sage 6. Please rebase.",
    "created_at": "2013-12-23T13:22:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156946",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">comment:21</div>

IMHO this is precisely what the category framework is about. We aren't talking about mathematical categories, but at non-inheritance framework to ensure consistency. There isn't much use in a stand-alone EuclideanDomains category, but it is definitely useful as a subcategory that you can slap on whenever you have a euclidean domain.

Alas, the patch does not apply to Sage 6. Please rebase.



---

archive/issue_comments_156947.json:
```json
{
    "body": "Branch: **[u/niles/ticket/13441](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/ticket/13441)**",
    "created_at": "2014-01-27T21:25:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156947",
    "user": "https://github.com/nilesjohnson"
}
```

Branch: **[u/niles/ticket/13441](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/ticket/13441)**



---

archive/issue_comments_156948.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nrebased and converted to git branch; no other changes\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3df98176643734dc7bdc95cc077ef02af274d3b\">c3df981</a></td><td><code>Trac #13441: refactored gcd to not use _gcd calls anymore</code></td></tr></table>\n",
    "created_at": "2014-01-27T21:26:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156948",
    "user": "https://github.com/nilesjohnson"
}
```

<div id="comment:23" align="right">comment:23</div>

rebased and converted to git branch; no other changes

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3df98176643734dc7bdc95cc077ef02af274d3b">c3df981</a></td><td><code>Trac #13441: refactored gcd to not use _gcd calls anymore</code></td></tr></table>




---

archive/issue_comments_156949.json:
```json
{
    "body": "Commit: **[c3df981](https://github.com/sagemath/sagetrac-mirror/commit/c3df98176643734dc7bdc95cc077ef02af274d3b)**",
    "created_at": "2014-01-27T21:26:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156949",
    "user": "https://github.com/nilesjohnson"
}
```

Commit: **[c3df981](https://github.com/sagemath/sagetrac-mirror/commit/c3df98176643734dc7bdc95cc077ef02af274d3b)**



---

archive/issue_comments_156950.json:
```json
{
    "body": "Changed branch from **[u/niles/ticket/13441](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/ticket/13441)** to **[u/tscrim/ticket/13441](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/ticket/13441)**",
    "created_at": "2014-01-30T16:44:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156950",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/niles/ticket/13441](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/ticket/13441)** to **[u/tscrim/ticket/13441](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/ticket/13441)**



---

archive/issue_comments_156951.json:
```json
{
    "body": "Changed commit from **[c3df981](https://github.com/sagemath/sagetrac-mirror/commit/c3df98176643734dc7bdc95cc077ef02af274d3b)** to **[7cdeebb](https://github.com/sagemath/sagetrac-mirror/commit/7cdeebbb524ccfc00a9f38f3c8dcd1aa7ed901f3)**",
    "created_at": "2014-01-30T16:44:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156951",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[c3df981](https://github.com/sagemath/sagetrac-mirror/commit/c3df98176643734dc7bdc95cc077ef02af274d3b)** to **[7cdeebb](https://github.com/sagemath/sagetrac-mirror/commit/7cdeebbb524ccfc00a9f38f3c8dcd1aa7ed901f3)**



---

archive/issue_comments_156952.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc7f18794477deba0f58b89b8df7700cc5e932a4\">dc7f187</a></td><td><code>Merge branch 'u/niles/ticket/13441' of trac.sagemath.org:sage into u/tscrim/ticket/13441</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7cdeebbb524ccfc00a9f38f3c8dcd1aa7ed901f3\">7cdeebb</a></td><td><code>Removed tab characters and some very minor review tweaks.</code></td></tr></table>\n",
    "created_at": "2014-01-30T16:44:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156952",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:24"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc7f18794477deba0f58b89b8df7700cc5e932a4">dc7f187</a></td><td><code>Merge branch 'u/niles/ticket/13441' of trac.sagemath.org:sage into u/tscrim/ticket/13441</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7cdeebbb524ccfc00a9f38f3c8dcd1aa7ed901f3">7cdeebb</a></td><td><code>Removed tab characters and some very minor review tweaks.</code></td></tr></table>




---

archive/issue_comments_156953.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI made some review tweaks to the documentation (and it's now based off `develop`), so if you're happy with my changes, then go ahead and set this to positive review.",
    "created_at": "2014-01-30T16:45:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156953",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">comment:25</div>

I made some review tweaks to the documentation (and it's now based off `develop`), so if you're happy with my changes, then go ahead and set this to positive review.



---

archive/issue_comments_156954.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@tscrim](#comment:25):\n> I made some review tweaks to the documentation (and it's now based off `develop`)\n\nthanks!  \n\n> if you're happy with my changes, then go ahead and set this to positive review.\n\nI haven't reviewed this patch, just converted it to a git branch so I can work with it.  I can see that it seems to work, and that the documentation builds correctly and looks good.  But I haven't looked more closely at it; in particular I haven't verified the timing results.  I do give a positive review to your changes -- are you giving positive review to the earlier parts of the patch/branch?",
    "created_at": "2014-01-30T18:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156954",
    "user": "https://github.com/nilesjohnson"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@tscrim](#comment:25):
> I made some review tweaks to the documentation (and it's now based off `develop`)

thanks!  

> if you're happy with my changes, then go ahead and set this to positive review.

I haven't reviewed this patch, just converted it to a git branch so I can work with it.  I can see that it seems to work, and that the documentation builds correctly and looks good.  But I haven't looked more closely at it; in particular I haven't verified the timing results.  I do give a positive review to your changes -- are you giving positive review to the earlier parts of the patch/branch?



---

archive/issue_comments_156955.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI double-checked and I am getting the same times (up to noise), so then it's positive review all around.",
    "created_at": "2014-01-30T20:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156955",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">comment:27</div>

I double-checked and I am getting the same times (up to noise), so then it's positive review all around.



---

archive/issue_events_187879.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-01-30T20:18:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187879"
}
```



---

archive/issue_events_187880.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-01-30T20:18:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187880"
}
```



---

archive/issue_comments_156956.json:
```json
{
    "body": "Reviewer: **Niles Johnson, Travis Scrimshaw**",
    "created_at": "2014-01-30T20:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13441#issuecomment-156956",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Niles Johnson, Travis Scrimshaw**



---

archive/issue_events_187881.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187881"
}
```



---

archive/issue_events_187882.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187882"
}
```



---

archive/issue_events_187883.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-02T20:33:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187883"
}
```



---

archive/issue_events_187884.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a5e974f0c689e818005fdcdfe5b52886e148e9aa",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-02-02T20:33:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13441",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13441#event-187884"
}
```
