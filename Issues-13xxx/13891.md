# Issue 13891: Default parameters for Graph.plot() and Graph.show()

archive/issues_013687.json:
```json
{
    "body": "Some cleaning there, and some doc, ... and a way for me to define a default size for Graph plots, even if I am not allowed to hardcode it in Sage because of the notebook.\n\nHere are the new lines in my init.sage file :\n\n```\nimport sage.graphs.graph_plot\nsage.graphs.graph_plot.default_show_options['figsize'] = 15\n```\n\nHell Yeahhhhhhhhhhhhhhhhhhh !! `:-P`\n\nNathann\n\n---\nApply to devel/sage\n1. [attachment:trac_13891-all_in_one.patch]\n\nAssignee: jason, ncohen, rlm\n\nCC:  @dcoudert @nthiery @hivert @videlec\n\nReviewer: Punarbasu Purkayastha, S\u00e9bastien Labb\u00e9\n\nAuthor: Nathann Cohen\n\nMerged: sage-5.7.beta3\n\nDependencies: #13862\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13891\n\n",
    "closed_at": "2013-02-05T08:20:28Z",
    "created_at": "2012-12-30T23:16:13Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.7",
    "title": "Default parameters for Graph.plot() and Graph.show()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13891",
    "user": "https://github.com/nathanncohen"
}
```
Some cleaning there, and some doc, ... and a way for me to define a default size for Graph plots, even if I am not allowed to hardcode it in Sage because of the notebook.

Here are the new lines in my init.sage file :

```
import sage.graphs.graph_plot
sage.graphs.graph_plot.default_show_options['figsize'] = 15
```

Hell Yeahhhhhhhhhhhhhhhhhhh !! `:-P`

Nathann

---
Apply to devel/sage
1. [attachment:trac_13891-all_in_one.patch]

Assignee: jason, ncohen, rlm

CC:  @dcoudert @nthiery @hivert @videlec

Reviewer: Punarbasu Purkayastha, Sébastien Labbé

Author: Nathann Cohen

Merged: sage-5.7.beta3

Dependencies: #13862

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/13891





---

archive/issue_comments_216669.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-12-30T23:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216669",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_216670.json:
```json
{
    "body": "<a id='comment:2'></a>\nI think the option could be termed as `SHOW_OPTIONS` to keep the terminology compatible/similar with what is there in `sage.plot.graphics`.\n\nAlso, why did you decide to create another dictionary, when there is already `graphplot_options` available?",
    "created_at": "2012-12-31T10:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216670",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:2'></a>
I think the option could be termed as `SHOW_OPTIONS` to keep the terminology compatible/similar with what is there in `sage.plot.graphics`.

Also, why did you decide to create another dictionary, when there is already `graphplot_options` available?



---

archive/issue_comments_216671.json:
```json
{
    "body": "<a id='comment:3'></a>\n> I think the option could be termed as `SHOW_OPTIONS` to keep the terminology compatible/similar with what is there in `sage.plot.graphics`.\n\n\nReally ? `O_o`\nUpper case variables are so ugly...\n\n> Also, why did you decide to create another dictionary, when there is already `graphplot_options` available?\n\n\nWell, because the `graphplot_options` dictionary seems to associate text descriptions to keywords, while I want to associate actual values.\n\nBtw, I will try to deal with the pictures of our Belgian evening in Singapour sooner or later `:-)`\n\nHave fuuuuuuuuuuuuuuuuuunn !\n\nNathann",
    "created_at": "2012-12-31T12:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216671",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>
> I think the option could be termed as `SHOW_OPTIONS` to keep the terminology compatible/similar with what is there in `sage.plot.graphics`.


Really ? `O_o`
Upper case variables are so ugly...

> Also, why did you decide to create another dictionary, when there is already `graphplot_options` available?


Well, because the `graphplot_options` dictionary seems to associate text descriptions to keywords, while I want to associate actual values.

Btw, I will try to deal with the pictures of our Belgian evening in Singapour sooner or later `:-)`

Have fuuuuuuuuuuuuuuuuuunn !

Nathann



---

archive/issue_comments_216672.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [ncohen](#comment%3A3):\n> > I think the option could be termed as `SHOW_OPTIONS` to keep the terminology compatible/similar with what is there in `sage.plot.graphics`.\n\n> \n> Really ? `O_o`\n> Upper case variables are so ugly...\n\n\nYes, they are ugly. But this acts like a global variable in the file. Also *if* (and that's a big *if*, looking at my near future) I get time, I will try to clean up some of the options in plots (#13828), so I would prefer there are less inconsistencies introduced in new patches! :)\n\n> \n> > Also, why did you decide to create another dictionary, when there is already `graphplot_options` available?\n\n> \n> Well, because the `graphplot_options` dictionary seems to associate text descriptions to keywords, while I want to associate actual values.\n\n\nWhoops! Of course! That was so silly of me.\n\n> \n> Btw, I will try to deal with the pictures of our Belgian evening in Singapour sooner or later `:-)`\n\n\nGreat! By the way that's a nice way to mention Singapore - it is really pouring all day long here!\n\n> \n> Have fuuuuuuuuuuuuuuuuuunn !\n\n\nYou too! Wish you a happy new year!\n\n> \n> Nathann",
    "created_at": "2012-12-31T13:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216672",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:4'></a>
Replying to [ncohen](#comment%3A3):
> > I think the option could be termed as `SHOW_OPTIONS` to keep the terminology compatible/similar with what is there in `sage.plot.graphics`.

> 
> Really ? `O_o`
> Upper case variables are so ugly...


Yes, they are ugly. But this acts like a global variable in the file. Also *if* (and that's a big *if*, looking at my near future) I get time, I will try to clean up some of the options in plots (#13828), so I would prefer there are less inconsistencies introduced in new patches! :)

> 
> > Also, why did you decide to create another dictionary, when there is already `graphplot_options` available?

> 
> Well, because the `graphplot_options` dictionary seems to associate text descriptions to keywords, while I want to associate actual values.


Whoops! Of course! That was so silly of me.

> 
> Btw, I will try to deal with the pictures of our Belgian evening in Singapour sooner or later `:-)`


Great! By the way that's a nice way to mention Singapore - it is really pouring all day long here!

> 
> Have fuuuuuuuuuuuuuuuuuunn !


You too! Wish you a happy new year!

> 
> Nathann



---

archive/issue_comments_216673.json:
```json
{
    "body": "<a id='comment:5'></a>\nHelloooooooo !!\n\n> Yes, they are ugly. \n\n\nI am glad we agree on that. Patch updated, ugliness included.\nGod I hate upper case variables.\nAnd I hate standards even more.\n\n> Great! By the way that's a nice way to mention Singapore - it is really pouring all day long here!\n\n\nOops sorry ! French spelling `:-)`\n\nHave fuuuuuuuuuuuuuuuuuuuuuunnn !!\n\nNathann",
    "created_at": "2012-12-31T15:35:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216673",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
Helloooooooo !!

> Yes, they are ugly. 


I am glad we agree on that. Patch updated, ugliness included.
God I hate upper case variables.
And I hate standards even more.

> Great! By the way that's a nice way to mention Singapore - it is really pouring all day long here!


Oops sorry ! French spelling `:-)`

Have fuuuuuuuuuuuuuuuuuuuuuunnn !!

Nathann



---

archive/issue_comments_216674.json:
```json
{
    "body": "Replying to [ticket:13891 ncohen]:\n> {{{\n> import sage.graphs.graph_plot\n> sage.graphs.graph_plot.default_show_options['figsize'] = 15\n> }}}\n\n\nGosh, I love that feature!\n\nActually, I would love it even more if it could be set for all plots at once.\n\nHappy new year!",
    "created_at": "2013-01-01T22:10:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216674",
    "user": "https://github.com/nthiery"
}
```

Replying to [ticket:13891 ncohen]:
> {{{
> import sage.graphs.graph_plot
> sage.graphs.graph_plot.default_show_options['figsize'] = 15
> }}}


Gosh, I love that feature!

Actually, I would love it even more if it could be set for all plots at once.

Happy new year!



---

archive/issue_comments_216675.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [nthiery](#comment%3A6):\n> Actually, I would love it even more if it could be set for all plots at once.\n\nHere's a (the?) way\n\n```\nsage.plot.graphics.Graphics.SHOW_OPTIONS['figsize'] = 15\n```",
    "created_at": "2013-01-02T10:38:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216675",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:7'></a>
Replying to [nthiery](#comment%3A6):
> Actually, I would love it even more if it could be set for all plots at once.

Here's a (the?) way

```
sage.plot.graphics.Graphics.SHOW_OPTIONS['figsize'] = 15
```



---

archive/issue_comments_216676.json:
```json
{
    "body": "<a id='comment:8'></a>\n> Here's a (the?) way\n> \n> ```\n> sage.plot.graphics.Graphics.SHOW_OPTIONS['figsize'] = 15\n> ```\n\n\n`>_<`\n\nOk... Perhaps this should be written in the doc somewhere ? `:-P`\n\nNathann",
    "created_at": "2013-01-02T10:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216676",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>
> Here's a (the?) way
> 
> ```
> sage.plot.graphics.Graphics.SHOW_OPTIONS['figsize'] = 15
> ```


`>_<`

Ok... Perhaps this should be written in the doc somewhere ? `:-P`

Nathann



---

archive/issue_comments_216677.json:
```json
{
    "body": "<a id='comment:9'></a>\nBy the way, even though this patch lost 100% of its interest for me, I guess it can still be useful at some point for somebody who would like larger nodes or something. So if somebody feels like giving it a review `:-P`\n\nNathann\n\nP.S. I will update it in a couple of seconds to include Punarbasu's (very sensible) remark `:-P`",
    "created_at": "2013-01-02T10:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216677",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>
By the way, even though this patch lost 100% of its interest for me, I guess it can still be useful at some point for somebody who would like larger nodes or something. So if somebody feels like giving it a review `:-P`

Nathann

P.S. I will update it in a couple of seconds to include Punarbasu's (very sensible) remark `:-P`



---

archive/issue_comments_216678.json:
```json
{
    "body": "<a id='comment:10'></a>\n`@`ncohen: First of call, thanks for this cleanup! Now, here are some comments:\n1. there seems to be a doctest failure according to the patchbot.\n3. Just a small typo here (dictionary):\n\n```\n+        # This dictinary only contains the options that graphplot\n```\n4. Some more typos.. `s/explicitely/explicitly`\n4. About your major change - I will need to look at it more carefully. It seems strange to me that `GraphPlot` imports `Graphics` from `sage.plot` and doesn't make use of the `figsize` parameter from there. I don't understand why it behaves so.",
    "created_at": "2013-01-02T10:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216678",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:10'></a>
`@`ncohen: First of call, thanks for this cleanup! Now, here are some comments:
1. there seems to be a doctest failure according to the patchbot.
3. Just a small typo here (dictionary):

```
+        # This dictinary only contains the options that graphplot
```
4. Some more typos.. `s/explicitely/explicitly`
4. About your major change - I will need to look at it more carefully. It seems strange to me that `GraphPlot` imports `Graphics` from `sage.plot` and doesn't make use of the `figsize` parameter from there. I don't understand why it behaves so.



---

archive/issue_comments_216679.json:
```json
{
    "body": "<a id='comment:11'></a>\nPatch updated ! As for the bug, it's yet another combinat side-effect `>_<`\n\nThe decorator added a dictionary of default options to all graphs, and some code in this file modifies the dictionary so that *THIS* graph will be well displayed.\n\nVincent : it seems to come from your patch #11422. How do you propose that we fix this ?\n\nNathann",
    "created_at": "2013-01-02T14:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216679",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>
Patch updated ! As for the bug, it's yet another combinat side-effect `>_<`

The decorator added a dictionary of default options to all graphs, and some code in this file modifies the dictionary so that *THIS* graph will be well displayed.

Vincent : it seems to come from your patch #11422. How do you propose that we fix this ?

Nathann



---

archive/issue_comments_216680.json:
```json
{
    "body": "<a id='comment:12'></a>\nOh, and there's something else that I would like to know. Does this decorator mean that in order to define a default option for two graphs, you made all Graph objects carry an additional dictionary ?\n\nNathann",
    "created_at": "2013-01-02T14:14:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216680",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>
Oh, and there's something else that I would like to know. Does this decorator mean that in order to define a default option for two graphs, you made all Graph objects carry an additional dictionary ?

Nathann



---

archive/issue_comments_216681.json:
```json
{
    "body": "<a id='comment:13'></a>\nHi Nathann,\n\n> Vincent : it seems to come from your patch #11422. How do you propose that we fix this ?\n\n\nIn the method in Arithgroup.coset_graph() I create a graph and modify the option dictionnary in order that color_by_label is True by default. The reason is that I want a nice picture with\n\n```\nsage: G = ArithmeticSubgroup_Permutation(S2=\"(1,2)(3,4)\",S3=\"(1,2,3)\")                \nsage: G.coset_graph().show()\n```\n\nIf you provide another way to initialize the default options to plot/show, just tell me and I can do it or do it yourself. Otherwise, remove the annoying line in ArithmeticSubgroup_Permutation.\n\nCheers,\nVincent",
    "created_at": "2013-01-02T16:00:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216681",
    "user": "https://github.com/videlec"
}
```

<a id='comment:13'></a>
Hi Nathann,

> Vincent : it seems to come from your patch #11422. How do you propose that we fix this ?


In the method in Arithgroup.coset_graph() I create a graph and modify the option dictionnary in order that color_by_label is True by default. The reason is that I want a nice picture with

```
sage: G = ArithmeticSubgroup_Permutation(S2="(1,2)(3,4)",S3="(1,2,3)")                
sage: G.coset_graph().show()
```

If you provide another way to initialize the default options to plot/show, just tell me and I can do it or do it yourself. Otherwise, remove the annoying line in ArithmeticSubgroup_Permutation.

Cheers,
Vincent



---

archive/issue_comments_216682.json:
```json
{
    "body": "<a id='comment:14'></a>\nWell, I guess that can be easily solved this way : would the \"options\" decorator work if you used it with empty parameters ? Something like that :\n\n```\n@options()\ndef plot ....\n```\n\nThis way the dictionary of default arguments would be empty unless you fill it manually, and as a result the general default options from this patch would be used.\n\nThis being said, this `@`options decorator has to be mentionned in the documentation of every function to which it is applied. Could you write an explanation of what it does and how it is to be used ? This doc should appear in sage/misc/decorators, toward which the doc of all functions using `@`option should point so that users know that this feature exists, and how it is to be used.\n\nNathann",
    "created_at": "2013-01-03T15:33:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216682",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'></a>
Well, I guess that can be easily solved this way : would the "options" decorator work if you used it with empty parameters ? Something like that :

```
@options()
def plot ....
```

This way the dictionary of default arguments would be empty unless you fill it manually, and as a result the general default options from this patch would be used.

This being said, this `@`options decorator has to be mentionned in the documentation of every function to which it is applied. Could you write an explanation of what it does and how it is to be used ? This doc should appear in sage/misc/decorators, toward which the doc of all functions using `@`option should point so that users know that this feature exists, and how it is to be used.

Nathann



---

archive/issue_comments_216683.json:
```json
{
    "body": "<a id='comment:15'></a>\nHere it is, with the solution given above. This patch is waiting for a review again `:-P`\n\nNathann",
    "created_at": "2013-01-07T12:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216683",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>
Here it is, with the solution given above. This patch is waiting for a review again `:-P`

Nathann



---

archive/issue_comments_216684.json:
```json
{
    "body": "<a id='comment:16'></a>\nAttachment [trac_13891.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891.patch) by @seblabbe created at 2013-01-24 12:11:37\n\nI tested the patch. All tests passed. Documentation builds fine. The intended behavior works well for me. Although, here are some remarks below. Mainly, I believe it should be better documented in the doc string of plot and show methods. I also added some questions...\n\n1. In the documentation of `plot` method, I do not understand this:\n\n```\n- Default parameters for this method can also be set through the \n  :class:`~sage.misc.decorators.options` mechanism. \n```\n\nCan you provide an example instead? like:\n\n```\n  \n  EXAMPLE:\n\n  Default parameters for this method can also be set through the \n  :class:`~sage.misc.decorators.options` mechanism::\n\n      sage: how_should_I_use_the_decoration_mechanism() \n```\n\n2. Same comment for `show` method. I prefer to see an example in the doc which illustrates the utilisation of this default parameters.\n\n3. Add example in both `plot` and `show` like this one:\n\n```\n\nCreate a graph and show it::\n\n    sage: g = graphs.PetersenGraph()\n    sage: g.show()\n\nChange default options for all graphs::\n\n    sage: sage.graphs.graph_plot.DEFAULT_PLOT_OPTIONS['edge_color']='red'\n\nNow edges of all graphs are red::\n\n    sage: g.show()\n    sage: g = Graph({3:[4,5]})\n    sage: g.show()\n\n```\n\n4. `dictinary` still appears\n\n**The following point are just questions...**\n\nA. Somebody can explain me what is the specification differences between `show` and `plot`?\n\nB. Why do you remove the element from the kwds? Is there some efficiency gain?\n\n```\n14511\t        # This dictinary only contains the options that graphplot \n14512\t        # understands. These options are removed from kwds at the same \n14513\t        # time. \n14514\t        plot_kwds = {k:kwds.pop(k) for k in graphplot_options if k in kwds} \n```\n\nC. Should not `{}` be the default ? In genereal, this should be a dict. I guess None is fine.\n\n```\n\"edge_colors\"         : None, \n```\n\nD. What is this?\n\n```\n \t69\tMethods and classes \n \t70\t------------------- \n \t71\t.. autofunction:: _circle_embedding \n \t72\t.. autofunction:: _line_embedding \n```",
    "created_at": "2013-01-24T12:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216684",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:16'></a>
Attachment [trac_13891.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891.patch) by @seblabbe created at 2013-01-24 12:11:37

I tested the patch. All tests passed. Documentation builds fine. The intended behavior works well for me. Although, here are some remarks below. Mainly, I believe it should be better documented in the doc string of plot and show methods. I also added some questions...

1. In the documentation of `plot` method, I do not understand this:

```
- Default parameters for this method can also be set through the 
  :class:`~sage.misc.decorators.options` mechanism. 
```

Can you provide an example instead? like:

```
  
  EXAMPLE:

  Default parameters for this method can also be set through the 
  :class:`~sage.misc.decorators.options` mechanism::

      sage: how_should_I_use_the_decoration_mechanism() 
```

2. Same comment for `show` method. I prefer to see an example in the doc which illustrates the utilisation of this default parameters.

3. Add example in both `plot` and `show` like this one:

```

Create a graph and show it::

    sage: g = graphs.PetersenGraph()
    sage: g.show()

Change default options for all graphs::

    sage: sage.graphs.graph_plot.DEFAULT_PLOT_OPTIONS['edge_color']='red'

Now edges of all graphs are red::

    sage: g.show()
    sage: g = Graph({3:[4,5]})
    sage: g.show()

```

4. `dictinary` still appears

**The following point are just questions...**

A. Somebody can explain me what is the specification differences between `show` and `plot`?

B. Why do you remove the element from the kwds? Is there some efficiency gain?

```
14511	        # This dictinary only contains the options that graphplot 
14512	        # understands. These options are removed from kwds at the same 
14513	        # time. 
14514	        plot_kwds = {k:kwds.pop(k) for k in graphplot_options if k in kwds} 
```

C. Should not `{}` be the default ? In genereal, this should be a dict. I guess None is fine.

```
"edge_colors"         : None, 
```

D. What is this?

```
 	69	Methods and classes 
 	70	------------------- 
 	71	.. autofunction:: _circle_embedding 
 	72	.. autofunction:: _line_embedding 
```



---

archive/issue_comments_216685.json:
```json
{
    "body": "Reviewer: Punarbasu Purkayastha, S\u00e9bastien Labb\u00e9",
    "created_at": "2013-01-24T12:28:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216685",
    "user": "https://github.com/seblabbe"
}
```

Reviewer: Punarbasu Purkayastha, Sébastien Labbé



---

archive/issue_comments_216686.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [slabbe](#comment%3A16):\n> A. Somebody can explain me what is the specification differences between `show` and `plot`?\n\n\n`plot` returns an object of class `Graphics`. `show` actually calls matplotlib, renders the `Graphics` object, and then displays the result. This separation is used when you want to combine one or more graphics on the same figure. You can do the following now\n\n```\n(graphs.CycleGraph(3).plot() + graphs.CycleGraph(5).plot()).show()\n```\n> B. Why do you remove the element from the kwds? Is there some efficiency gain?\n  \nThis is fine. It is not for efficiency, but to remove the kwds which are not handled by the `GraphPlot` class.\n> C. Should not `{}` be the default ? In genereal, this should be a dict. I guess None is fine.\n> \n> \n> ```\n> \"edge_colors\"         : None, \n> ```\n\n\nI have no opinion on this. As long as it works, I am fine with either of None or {}. :)\n\nI have been quite tied up with deadlines lately, so sorry for the delay in reviewing this. Currently, this doesn't apply to 5.6.beta0. I will see if I have an older compiled version that I can use. What I wanted to test and check was whether it is possible to set some value in `SHOW_OPTIONS` from `sage/plot/graphics.py` (by using the method I mentioned in[comment:7](#comment%3A7)) and have the same value reflected in the `GraphPlot` code. The last time I had checked this, it didn't work.",
    "created_at": "2013-01-24T12:30:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216686",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:18'></a>
Replying to [slabbe](#comment%3A16):
> A. Somebody can explain me what is the specification differences between `show` and `plot`?


`plot` returns an object of class `Graphics`. `show` actually calls matplotlib, renders the `Graphics` object, and then displays the result. This separation is used when you want to combine one or more graphics on the same figure. You can do the following now

```
(graphs.CycleGraph(3).plot() + graphs.CycleGraph(5).plot()).show()
```
> B. Why do you remove the element from the kwds? Is there some efficiency gain?
  
This is fine. It is not for efficiency, but to remove the kwds which are not handled by the `GraphPlot` class.
> C. Should not `{}` be the default ? In genereal, this should be a dict. I guess None is fine.
> 
> 
> ```
> "edge_colors"         : None, 
> ```


I have no opinion on this. As long as it works, I am fine with either of None or {}. :)

I have been quite tied up with deadlines lately, so sorry for the delay in reviewing this. Currently, this doesn't apply to 5.6.beta0. I will see if I have an older compiled version that I can use. What I wanted to test and check was whether it is possible to set some value in `SHOW_OPTIONS` from `sage/plot/graphics.py` (by using the method I mentioned in[comment:7](#comment%3A7)) and have the same value reflected in the `GraphPlot` code. The last time I had checked this, it didn't work.



---

archive/issue_comments_216687.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [ppurka](#comment%3A18):\n> Replying to [slabbe](#comment%3A16):\n> > A. Somebody can explain me what is the specification differences between `show` and `plot`?\n  \n> \n> `plot` returns an object of class `Graphics`. `show` actually calls matplotlib, renders the `Graphics` object, and then displays the result.\n\n\nFor me, I think the confusion comes from the fact that using plot actually opens the png. I like it if plot returns the Graphics object without opening any png and show returning None and openning the png.\n\nThanks for your answers!\n\nI will continue my review (on sage-5.6.rc0 the patch applies fine) and let you check the other SHOW_OPTIONS thing.\n\nS\u00e9bastien",
    "created_at": "2013-01-24T14:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216687",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:19'></a>
Replying to [ppurka](#comment%3A18):
> Replying to [slabbe](#comment%3A16):
> > A. Somebody can explain me what is the specification differences between `show` and `plot`?
  
> 
> `plot` returns an object of class `Graphics`. `show` actually calls matplotlib, renders the `Graphics` object, and then displays the result.


For me, I think the confusion comes from the fact that using plot actually opens the png. I like it if plot returns the Graphics object without opening any png and show returning None and openning the png.

Thanks for your answers!

I will continue my review (on sage-5.6.rc0 the patch applies fine) and let you check the other SHOW_OPTIONS thing.

Sébastien



---

archive/issue_comments_216688.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [slabbe](#comment%3A19):\n> For me, I think the confusion comes from the fact that using plot actually opens the png. I like it if plot returns the Graphics object without opening any png and show returning None and openning the png.\n\nActually, plot never returns the rendered graphics object. What happens when you *don't* assign any variable to plot like\n\n```\na = plot(...) # assigning the output of plot to variable a\n```\nthen the `_repr_()` method of the `Graphics` class is called. This is similar to the way the `print` function in Sage works. The `_repr_` method then implicitly calls show and your graph gets rendered and displayed.",
    "created_at": "2013-01-24T14:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216688",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:20'></a>
Replying to [slabbe](#comment%3A19):
> For me, I think the confusion comes from the fact that using plot actually opens the png. I like it if plot returns the Graphics object without opening any png and show returning None and openning the png.

Actually, plot never returns the rendered graphics object. What happens when you *don't* assign any variable to plot like

```
a = plot(...) # assigning the output of plot to variable a
```
then the `_repr_()` method of the `Graphics` class is called. This is similar to the way the `print` function in Sage works. The `_repr_` method then implicitly calls show and your graph gets rendered and displayed.



---

archive/issue_comments_216689.json:
```json
{
    "body": "<a id='comment:21'></a>\nOne more point. This does not affect the result of plot:\n\n```\nsage: import sage.graphs.graph_plot\nsage: g = graphs.PetersenGraph()\nsage: sage.graphs.graph_plot.DEFAULT_SHOW_OPTIONS['figsize'] = 20\nsage: g.plot()\nsage: sage.graphs.graph_plot.DEFAULT_SHOW_OPTIONS['figsize'] = 2\nsage: g.plot()\n```\n\nOne may say it is because I should use `DEFAULT_PLOT_OPTIONS` instead. But it is not the case. As the following is not affected by changing `DEFAULT_PLOT_OPTIONS` :\n\n```\nsage: import sage.graphs.graph_plot\nsage: g = graphs.PetersenGraph()\nsage: sage.graphs.graph_plot.DEFAULT_PLOT_OPTIONS['figsize'] = 2\nsage: g.plot()\nsage: sage.graphs.graph_plot.DEFAULT_PLOT_OPTIONS['figsize'] = 20\nsage: g.plot()\n```\n\nHence, I believe the documentation at the start of the file `graph_plot.py` should contain at least one example using `DEFAULT_PLOT_OPTIONS` and one example using `DEFAULT_SHOW_OPTIONS`. As a user I want to understand why there are two such dict and which one I should use.",
    "created_at": "2013-01-24T14:38:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216689",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:21'></a>
One more point. This does not affect the result of plot:

```
sage: import sage.graphs.graph_plot
sage: g = graphs.PetersenGraph()
sage: sage.graphs.graph_plot.DEFAULT_SHOW_OPTIONS['figsize'] = 20
sage: g.plot()
sage: sage.graphs.graph_plot.DEFAULT_SHOW_OPTIONS['figsize'] = 2
sage: g.plot()
```

One may say it is because I should use `DEFAULT_PLOT_OPTIONS` instead. But it is not the case. As the following is not affected by changing `DEFAULT_PLOT_OPTIONS` :

```
sage: import sage.graphs.graph_plot
sage: g = graphs.PetersenGraph()
sage: sage.graphs.graph_plot.DEFAULT_PLOT_OPTIONS['figsize'] = 2
sage: g.plot()
sage: sage.graphs.graph_plot.DEFAULT_PLOT_OPTIONS['figsize'] = 20
sage: g.plot()
```

Hence, I believe the documentation at the start of the file `graph_plot.py` should contain at least one example using `DEFAULT_PLOT_OPTIONS` and one example using `DEFAULT_SHOW_OPTIONS`. As a user I want to understand why there are two such dict and which one I should use.



---

archive/issue_comments_216690.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [ppurka](#comment%3A20):\n> The `_repr_` method then implicitly calls show and your graph gets rendered and displayed.\n\n\nSo, I believe this is the reason of my confusion. Do we really want a string representation function like `_repr_` to display a png? If I think about it, I don't like it! I prefer the string representation to tell me that the `GraphicObject` is made of 345 primitive graphics objects. And then, I decide whether I show it or not...",
    "created_at": "2013-01-24T14:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216690",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:22'></a>
Replying to [ppurka](#comment%3A20):
> The `_repr_` method then implicitly calls show and your graph gets rendered and displayed.


So, I believe this is the reason of my confusion. Do we really want a string representation function like `_repr_` to display a png? If I think about it, I don't like it! I prefer the string representation to tell me that the `GraphicObject` is made of 345 primitive graphics objects. And then, I decide whether I show it or not...



---

archive/issue_comments_216691.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [slabbe](#comment%3A22):\n> So, I believe this is the reason of my confusion. Do we really want a string representation function like `_repr_` to display a png? If I think about it, I don't like it! **I prefer the string representation** to tell me that the `GraphicObject` is made of 345 primitive graphics objects. And then, I decide whether I show it or not...\n\nYou can do so too :) Just run `show_default(False)` and you won't get those rendered plots.",
    "created_at": "2013-01-24T15:21:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216691",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:23'></a>
Replying to [slabbe](#comment%3A22):
> So, I believe this is the reason of my confusion. Do we really want a string representation function like `_repr_` to display a png? If I think about it, I don't like it! **I prefer the string representation** to tell me that the `GraphicObject` is made of 345 primitive graphics objects. And then, I decide whether I show it or not...

You can do so too :) Just run `show_default(False)` and you won't get those rendered plots.



---

archive/issue_comments_216692.json:
```json
{
    "body": "<a id='comment:24'></a>\nHellooooooooo Sebastien !\n\nI can now answer your many comments, and write down what we said orally across the table `:-)`\n\n1/2) I fixed this doc, but only where it is related to what this ticket implements, and not related to the `\"`@`options\"` decorator. This has to be documented where the decorator is defined, not in these files.\n\n3) There is a link from the documentation of show toward graph_plot \n\n4) Fixed\n\nD) Because I want those two methods to appear in the doc, even if they begin with a `_`\n\nWhat this new patch does :\n\n1) It changes the documentation of GraphPlot so that the list of admissible keywords appear only once, and in the documentation.\n2) The GraphPlot.plot() method accepts any options, and ignores them. I remove the `**kwds` in its definition, and remove the long description of its possible parameters\n3) I remove two default arguments of Poset.plot() which were ignored\n4) There's a dprecation warning when a wrong keyword is used\n\nTell me what you think of it !\n\nNathann",
    "created_at": "2013-01-24T17:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216692",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>
Hellooooooooo Sebastien !

I can now answer your many comments, and write down what we said orally across the table `:-)`

1/2) I fixed this doc, but only where it is related to what this ticket implements, and not related to the `"`@`options"` decorator. This has to be documented where the decorator is defined, not in these files.

3) There is a link from the documentation of show toward graph_plot 

4) Fixed

D) Because I want those two methods to appear in the doc, even if they begin with a `_`

What this new patch does :

1) It changes the documentation of GraphPlot so that the list of admissible keywords appear only once, and in the documentation.
2) The GraphPlot.plot() method accepts any options, and ignores them. I remove the `**kwds` in its definition, and remove the long description of its possible parameters
3) I remove two default arguments of Poset.plot() which were ignored
4) There's a dprecation warning when a wrong keyword is used

Tell me what you think of it !

Nathann



---

archive/issue_comments_216693.json:
```json
{
    "body": "<a id='comment:25'></a>\nAttachment [trac_13891-second_pass.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-second_pass.patch) by @seblabbe created at 2013-01-24 18:51:41\n\nReplying to [ppurka](#comment%3A23):\n> You can do so too :) Just run `show_default(False)` and you won't get those rendered plots.\n\n\nGreat!!! Thanks a lot for this trick!",
    "created_at": "2013-01-24T18:51:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216693",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:25'></a>
Attachment [trac_13891-second_pass.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-second_pass.patch) by @seblabbe created at 2013-01-24 18:51:41

Replying to [ppurka](#comment%3A23):
> You can do so too :) Just run `show_default(False)` and you won't get those rendered plots.


Great!!! Thanks a lot for this trick!



---

archive/issue_comments_216694.json:
```json
{
    "body": "<a id='comment:26'></a>\nGreat for the second patch. I like the improvements in the documentation. However, here are some issues:\n\n1. The following used to work, but is broken by the actual patches. A deprecation warning is needed :\n\n```\nsage: g = graphs.PetersenGraph()\nsage: p = g.graphplot()\nsage: p.plot(my_favorite_useless_option_I_always_used_in_my_code=45)\nTraceback (most recent call last):\n...\nTypeError: plot() got an unexpected keyword argument 'my_favorite_useless_option_I_have_used_in_my_code'\n```\n\n2. (Suggestion) I don't know of another way of sending warning to the user, but in our case it is not really a deprecation warning. Because for instance `'scaling_term'` was used as an argument by some code and was not used if I understand correctly. Hence, there will be no deprecation as it was not used and will still be unused. Therefore, I suggest to improve the message like this:\n\n```diff\n from sage.misc.superseded import deprecation \n-deprecation(13891, (str(opt)+\" is not a registered argument for\"+ \n-   \t                     \"GraphPlot ! Please tell us that if it \"+ \n-    \t                     \"should be by writing to sage-devel !\")) \n+deprecation(13891, (str(opt)+\" is not a registered argument for \"\n+   \t                     \"GraphPlot and never was! Please tell us that if it \"\n+    \t                     \"should be by writing to sage-devel ! \"\n+                            \"In a future version of Sage, it might raise \"\n+                            \"an error instead so you should fix it.\"))\n```\n\n3. (Remark) BTW, the `+` are not necessary above. For instance:\n\n```\nsage: ('first  line'\n....:      'second line\\n'\n....:    'third line')\n'first  linesecond line\\nthird line'\n```\n\n4. There are some errors reported by the buildbot:\n\n```\n\tsage -t  -force_lib devel/sage-13891/sage/graphs/generic_graph.py # 1 doctests failed\n\tsage -t  -force_lib devel/sage-13891/sage/combinat/posets/posets.py # 2 doctests failed\n\tsage -t  -force_lib devel/sage-13891/sage/combinat/cluster_algebra_quiver/quiver.py # 1 doctests failed\n\tsage -t  -force_lib devel/sage-13891/sage/combinat/cluster_algebra_quiver/quiver_mutation_type.py # 1 doctests failed\n\tsage -t  -force_lib devel/sage-13891/sage/rings/semirings/non_negative_integer_semiring.py # 1 doctests failed\n\tsage -t  -force_lib devel/sage-13891/sage/categories/coxeter_groups.py # 1 doctests failed\n\tsage -t  -force_lib devel/sage-13891/sage/categories/finite_coxeter_groups.py # 3 doctests failed\n```",
    "created_at": "2013-01-24T23:55:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216694",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:26'></a>
Great for the second patch. I like the improvements in the documentation. However, here are some issues:

1. The following used to work, but is broken by the actual patches. A deprecation warning is needed :

```
sage: g = graphs.PetersenGraph()
sage: p = g.graphplot()
sage: p.plot(my_favorite_useless_option_I_always_used_in_my_code=45)
Traceback (most recent call last):
...
TypeError: plot() got an unexpected keyword argument 'my_favorite_useless_option_I_have_used_in_my_code'
```

2. (Suggestion) I don't know of another way of sending warning to the user, but in our case it is not really a deprecation warning. Because for instance `'scaling_term'` was used as an argument by some code and was not used if I understand correctly. Hence, there will be no deprecation as it was not used and will still be unused. Therefore, I suggest to improve the message like this:

```diff
 from sage.misc.superseded import deprecation 
-deprecation(13891, (str(opt)+" is not a registered argument for"+ 
-   	                     "GraphPlot ! Please tell us that if it "+ 
-    	                     "should be by writing to sage-devel !")) 
+deprecation(13891, (str(opt)+" is not a registered argument for "
+   	                     "GraphPlot and never was! Please tell us that if it "
+    	                     "should be by writing to sage-devel ! "
+                            "In a future version of Sage, it might raise "
+                            "an error instead so you should fix it."))
```

3. (Remark) BTW, the `+` are not necessary above. For instance:

```
sage: ('first  line'
....:      'second line\n'
....:    'third line')
'first  linesecond line\nthird line'
```

4. There are some errors reported by the buildbot:

```
	sage -t  -force_lib devel/sage-13891/sage/graphs/generic_graph.py # 1 doctests failed
	sage -t  -force_lib devel/sage-13891/sage/combinat/posets/posets.py # 2 doctests failed
	sage -t  -force_lib devel/sage-13891/sage/combinat/cluster_algebra_quiver/quiver.py # 1 doctests failed
	sage -t  -force_lib devel/sage-13891/sage/combinat/cluster_algebra_quiver/quiver_mutation_type.py # 1 doctests failed
	sage -t  -force_lib devel/sage-13891/sage/rings/semirings/non_negative_integer_semiring.py # 1 doctests failed
	sage -t  -force_lib devel/sage-13891/sage/categories/coxeter_groups.py # 1 doctests failed
	sage -t  -force_lib devel/sage-13891/sage/categories/finite_coxeter_groups.py # 3 doctests failed
```



---

archive/issue_comments_216695.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-01-24T23:56:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216695",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_216696.json:
```json
{
    "body": "<a id='comment:28'></a>\nUpdaaaaaaaaaated ! `:-P`\n\nNathann",
    "created_at": "2013-01-25T10:22:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216696",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'></a>
Updaaaaaaaaaated ! `:-P`

Nathann



---

archive/issue_comments_216697.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-01-25T10:22:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216697",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_216698.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,3 +10,9 @@\n Hell Yeahhhhhhhhhhhhhhhhhhh !! `:-P`\n \n Nathann\n+\n+---\n+Apply to devel/sage\n+1. [attachment:trac_13891.patch]\n+2. [attachment:trac_13891-second_pass.patch]\n+3. [attachment:trac_13891-third_pass.patch]\n``````\n",
    "created_at": "2013-01-27T12:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216698",
    "user": "https://github.com/ppurka"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,3 +10,9 @@
 Hell Yeahhhhhhhhhhhhhhhhhhh !! `:-P`
 
 Nathann
+
+---
+Apply to devel/sage
+1. [attachment:trac_13891.patch]
+2. [attachment:trac_13891-second_pass.patch]
+3. [attachment:trac_13891-third_pass.patch]
``````




---

archive/issue_comments_216699.json:
```json
{
    "body": "<a id='comment:29'></a>\nThis started out as a small patch, but it became quite big already! Anyway, my original fears are all gone. Things seem to work just fine :) I have just a bunch of minor comments now (waiting for the documentation to build):\n1. There is a doctest error\n\n```\nFile \"/home/punarbasu/Installations/sage-5.7.beta0/devel/sage-main/sage/graphs/generic_graph.py\", line 13803:\n    sage: list(sorted(layout_options.iteritems()))\nExpected:\n    [('by_component', 'Whether to do the spring layout by connected component -- a boolean.'),\n     ('dim', 'The dimension of the layout -- 2 or 3.'),\n     ('heights', 'A dictionary mapping heights to the list of vertices at this height.'),\n     ('iterations', 'The number of times to execute the spring layout algorithm.'),\n     ('layout', 'A layout algorithm -- one of \"acyclic\", \"circular\", \"ranked\", \"graphviz\", \"planar\", \"spring\", or \"tree\".'),\n     ('prog', 'Which graphviz layout program to use -- one of \"circo\", \"dot\", \"fdp\", \"neato\", or \"twopi\".'),\n     ('save_pos', 'Whether or not to save the computed position for the graph.'),\n     ('spring', 'Use spring layout to finalize the current layout.'),\n     ('tree_orientation', 'The direction of tree branches -- \"up\" or \"down\".'),\n     ('tree_root', 'A vertex designation for drawing trees.')]\nGot:\n    [('by_component', 'Whether to do the spring layout by connected component -- a boolean.'), ('dim', 'The dimension of the layout -- 2 or 3.'), ('heights', 'A dictionary mapping heights to the list of vertices at this height.'), ('iterations', 'The number of times to execute the spring layout algorithm.'), ('layout', 'A layout algorithm -- one of : \"acyclic\", \"circular\" (plots the graph with vertices evenly distributed on a circle), \"ranked\", \"graphviz\", \"planar\", \"spring\"\n(traditional spring layout, using the graph\\'s current positions as initial positions), or \"tree\" (the tree will be plotted in levels, depending on minimum distance for the root).'), ('prog', 'Which graphviz layout program to use -- one of\n\"circo\", \"dot\", \"fdp\", \"neato\", or \"twopi\".'), ('save_pos', 'Whether or not to save the computed position for the graph.'), ('spring', 'Use spring layout to finalize the current layout.'), ('tree_orientation', 'The direction of tree branches -- \"up\" or \"down\".'), ('tree_root', 'A vertex designation for drawing trees. a vertex of the tree to be used as the root for the ``layout=\"tree\"`` option. If\nno root is specified, then one is chosen at random. Ignored unless ``layout=\\'tree\\'``')]\n```\n2. I think the following should mention something like \"`You may want to give it as an argument to graphplot() instead`\" (i.e. the `GraphPlot` should be all lower case)\n\n```\n865\t            deprecation(13891, \"This method takes no argument ! You may want \" \n866\t                               \"to give it to GraphPlot instead.\")\n```",
    "created_at": "2013-01-27T12:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216699",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:29'></a>
This started out as a small patch, but it became quite big already! Anyway, my original fears are all gone. Things seem to work just fine :) I have just a bunch of minor comments now (waiting for the documentation to build):
1. There is a doctest error

```
File "/home/punarbasu/Installations/sage-5.7.beta0/devel/sage-main/sage/graphs/generic_graph.py", line 13803:
    sage: list(sorted(layout_options.iteritems()))
Expected:
    [('by_component', 'Whether to do the spring layout by connected component -- a boolean.'),
     ('dim', 'The dimension of the layout -- 2 or 3.'),
     ('heights', 'A dictionary mapping heights to the list of vertices at this height.'),
     ('iterations', 'The number of times to execute the spring layout algorithm.'),
     ('layout', 'A layout algorithm -- one of "acyclic", "circular", "ranked", "graphviz", "planar", "spring", or "tree".'),
     ('prog', 'Which graphviz layout program to use -- one of "circo", "dot", "fdp", "neato", or "twopi".'),
     ('save_pos', 'Whether or not to save the computed position for the graph.'),
     ('spring', 'Use spring layout to finalize the current layout.'),
     ('tree_orientation', 'The direction of tree branches -- "up" or "down".'),
     ('tree_root', 'A vertex designation for drawing trees.')]
Got:
    [('by_component', 'Whether to do the spring layout by connected component -- a boolean.'), ('dim', 'The dimension of the layout -- 2 or 3.'), ('heights', 'A dictionary mapping heights to the list of vertices at this height.'), ('iterations', 'The number of times to execute the spring layout algorithm.'), ('layout', 'A layout algorithm -- one of : "acyclic", "circular" (plots the graph with vertices evenly distributed on a circle), "ranked", "graphviz", "planar", "spring"
(traditional spring layout, using the graph\'s current positions as initial positions), or "tree" (the tree will be plotted in levels, depending on minimum distance for the root).'), ('prog', 'Which graphviz layout program to use -- one of
"circo", "dot", "fdp", "neato", or "twopi".'), ('save_pos', 'Whether or not to save the computed position for the graph.'), ('spring', 'Use spring layout to finalize the current layout.'), ('tree_orientation', 'The direction of tree branches -- "up" or "down".'), ('tree_root', 'A vertex designation for drawing trees. a vertex of the tree to be used as the root for the ``layout="tree"`` option. If
no root is specified, then one is chosen at random. Ignored unless ``layout=\'tree\'``')]
```
2. I think the following should mention something like "`You may want to give it as an argument to graphplot() instead`" (i.e. the `GraphPlot` should be all lower case)

```
865	            deprecation(13891, "This method takes no argument ! You may want " 
866	                               "to give it to GraphPlot instead.")
```



---

archive/issue_comments_216700.json:
```json
{
    "body": "<a id='comment:30'></a>\nPatch updated `:-)`\n\nNathann",
    "created_at": "2013-01-28T14:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216700",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:30'></a>
Patch updated `:-)`

Nathann



---

archive/issue_comments_216701.json:
```json
{
    "body": "<a id='comment:31'></a>\nAttachment [trac_13891-third_pass.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-third_pass.patch) by @ppurka created at 2013-01-28 16:33:19\n\nI saw a few more documentation problems that are a leftover from your earlier patches. Noticing this only now - sorry `:-/`\nThe following should be `GenericGraph.graphplot` since plot doesn't take any options now.\n\n```\n29\tHere is the list of options accepted by :meth:`GraphPlot.plot` and the\n\n79\tThis module defines two dictionaries containing default options for the\n80\t:meth:`~GraphPlot.plot` and :meth:`~GraphPlot.show` methods. These two \n\n29\tThis module defines two dictionaries containing default options for the \n30\t:meth:`~GraphPlot.plot` and :meth:`~GraphPlot.show` methods. Obviously, these \n```\n\nShouldn't this be changed now? Now, graph.plot() doesn't take anything.\n\n```\n    def graphplot(self, **options):\n        \"\"\"\n        Returns a GraphPlot object.\n\n        EXAMPLES:\n\n        Creating a graphplot object uses the same options as graph.plot()::\n```\nMaybe write it like this?\n\n```\n    def graphplot(self, **options):\n        \"\"\"\n        Returns a GraphPlot object.\n\n        See :mod:`the documentation of the graph_plot module<sage.graphs.graph_plot>` for\n        information on default values of this method.\n\n        EXAMPLES::\n```",
    "created_at": "2013-01-28T16:33:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216701",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:31'></a>
Attachment [trac_13891-third_pass.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-third_pass.patch) by @ppurka created at 2013-01-28 16:33:19

I saw a few more documentation problems that are a leftover from your earlier patches. Noticing this only now - sorry `:-/`
The following should be `GenericGraph.graphplot` since plot doesn't take any options now.

```
29	Here is the list of options accepted by :meth:`GraphPlot.plot` and the

79	This module defines two dictionaries containing default options for the
80	:meth:`~GraphPlot.plot` and :meth:`~GraphPlot.show` methods. These two 

29	This module defines two dictionaries containing default options for the 
30	:meth:`~GraphPlot.plot` and :meth:`~GraphPlot.show` methods. Obviously, these 
```

Shouldn't this be changed now? Now, graph.plot() doesn't take anything.

```
    def graphplot(self, **options):
        """
        Returns a GraphPlot object.

        EXAMPLES:

        Creating a graphplot object uses the same options as graph.plot()::
```
Maybe write it like this?

```
    def graphplot(self, **options):
        """
        Returns a GraphPlot object.

        See :mod:`the documentation of the graph_plot module<sage.graphs.graph_plot>` for
        information on default values of this method.

        EXAMPLES::
```



---

archive/issue_comments_216702.json:
```json
{
    "body": "<a id='comment:32'></a>\nHellooooooooooo !!!\n\nWell, why is there a graphplot() method in graphs anyway ? .graphplot and .plot seem to do the same. Shouldn't we remove one of them ?\n\nNathann",
    "created_at": "2013-01-29T10:56:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216702",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:32'></a>
Hellooooooooooo !!!

Well, why is there a graphplot() method in graphs anyway ? .graphplot and .plot seem to do the same. Shouldn't we remove one of them ?

Nathann



---

archive/issue_comments_216703.json:
```json
{
    "body": "<a id='comment:33'></a>\n\n```\ngraphplot = deprecated_function_alias(13891, plot)\n```\n\nor just\n\n```\ngraphplot = plot\n```",
    "created_at": "2013-01-29T11:03:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216703",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:33'></a>

```
graphplot = deprecated_function_alias(13891, plot)
```

or just

```
graphplot = plot
```



---

archive/issue_comments_216704.json:
```json
{
    "body": "<a id='comment:34'></a>\nCouldn't we just remove useless stuff and stop spending a lifetime deprecating it ? ...`-_-`\n\nNathann",
    "created_at": "2013-01-29T11:05:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216704",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:34'></a>
Couldn't we just remove useless stuff and stop spending a lifetime deprecating it ? ...`-_-`

Nathann



---

archive/issue_comments_216705.json:
```json
{
    "body": "<a id='comment:35'></a>\nOne of the main reason why people at LaCIM in Montreal were hating Maple before Sage existed was the fact that their code working in Maple 5 was not working anymore with future releases of Maple...\n\nWe should try to avoid this with Sage.",
    "created_at": "2013-01-29T11:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216705",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:35'></a>
One of the main reason why people at LaCIM in Montreal were hating Maple before Sage existed was the fact that their code working in Maple 5 was not working anymore with future releases of Maple...

We should try to avoid this with Sage.



---

archive/issue_comments_216706.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [slabbe](#comment%3A33):\n> {{{\n> graphplot = plot\n> }}}\n\n\nI am actually in favor of this (actually `plot = graphplot`). Just make this alias so that current stuff doesn't break. Moreover, it will still remain consistent with the other commands and with the `plot` command from `sage.plot`.\n\nIf you remove graphplot, you should revert all the warnings and deprecation that was introduced in plot. As of now, I would say, keep both and make `plot = graphplot`.",
    "created_at": "2013-01-29T11:27:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216706",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:36'></a>
Replying to [slabbe](#comment%3A33):
> {{{
> graphplot = plot
> }}}


I am actually in favor of this (actually `plot = graphplot`). Just make this alias so that current stuff doesn't break. Moreover, it will still remain consistent with the other commands and with the `plot` command from `sage.plot`.

If you remove graphplot, you should revert all the warnings and deprecation that was introduced in plot. As of now, I would say, keep both and make `plot = graphplot`.



---

archive/issue_comments_216707.json:
```json
{
    "body": "<a id='comment:37'></a>\n> One of the main reason why people at LaCIM in Montreal were hating Maple before Sage existed was the fact that their code working in Maple 5 was not working anymore with future releases of Maple...\n> \n> We should try to avoid this with Sage.\n\n\nI hate having the graph files stuffed with useless stuff that we keep to prevent two guys in the world from having to do a google search.\n\nI'm updating the patch with a deprecation warning.\n\nNathann",
    "created_at": "2013-01-29T12:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216707",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:37'></a>
> One of the main reason why people at LaCIM in Montreal were hating Maple before Sage existed was the fact that their code working in Maple 5 was not working anymore with future releases of Maple...
> 
> We should try to avoid this with Sage.


I hate having the graph files stuffed with useless stuff that we keep to prevent two guys in the world from having to do a google search.

I'm updating the patch with a deprecation warning.

Nathann



---

archive/issue_comments_216708.json:
```json
{
    "body": "<a id='comment:38'></a>\n> I am actually in favor of this (actually `plot = graphplot`).\n\n\nWhy would we keep graphplot and throw plot away ? plot seems much more natural than graphplot...\n\n> Just make this alias so that current stuff doesn't break. \n\n\nI will just have to change the calls to graphplot to plot.\n\nTell me if there is anything wrong with that. If you think that it is fine I will begin fixing the doctests.\n\n> Moreover, it will still remain consistent with the other commands and with the `plot` command from `sage.plot`.\n\n\nWhat do you mean ? \n\n> If you remove graphplot, you should revert all the warnings and deprecation that was introduced in plot. \n\n\nWhy ? plot does not call graphplot !\n\n> As of now, I would say, keep both and make `plot = graphplot`.\n\n\nWhyyyyyyyyyyyyyyyyyyy ? Why should we keep two functions that do the same thing ? `O_o`\n\nNathann",
    "created_at": "2013-01-29T12:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216708",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:38'></a>
> I am actually in favor of this (actually `plot = graphplot`).


Why would we keep graphplot and throw plot away ? plot seems much more natural than graphplot...

> Just make this alias so that current stuff doesn't break. 


I will just have to change the calls to graphplot to plot.

Tell me if there is anything wrong with that. If you think that it is fine I will begin fixing the doctests.

> Moreover, it will still remain consistent with the other commands and with the `plot` command from `sage.plot`.


What do you mean ? 

> If you remove graphplot, you should revert all the warnings and deprecation that was introduced in plot. 


Why ? plot does not call graphplot !

> As of now, I would say, keep both and make `plot = graphplot`.


Whyyyyyyyyyyyyyyyyyyy ? Why should we keep two functions that do the same thing ? `O_o`

Nathann



---

archive/issue_comments_216709.json:
```json
{
    "body": "<a id='comment:39'></a>\nHey, I just noticed that .graphplot and .plot just do not do the same thing.\n\ngraphplot :\n\n```\nreturn GraphPlot(graph=self, options=options)\n```\n\nplot :\n\n```\nreturn GraphPlot(graph=self, options=options).plot()\n```\n\nSo it does not really make sense to deprecate one by making it an alias to the other one !\n\nThe question is : do we need a graphplot method, and what for (knowing that it takes two lines to create the graphplot object from the graph) ? If we do then it stays, if we don't we remove it, or add whatever deprecation warning you may want, but we can't make it an alias of anything.\n\nNathann",
    "created_at": "2013-01-29T12:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216709",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:39'></a>
Hey, I just noticed that .graphplot and .plot just do not do the same thing.

graphplot :

```
return GraphPlot(graph=self, options=options)
```

plot :

```
return GraphPlot(graph=self, options=options).plot()
```

So it does not really make sense to deprecate one by making it an alias to the other one !

The question is : do we need a graphplot method, and what for (knowing that it takes two lines to create the graphplot object from the graph) ? If we do then it stays, if we don't we remove it, or add whatever deprecation warning you may want, but we can't make it an alias of anything.

Nathann



---

archive/issue_comments_216710.json:
```json
{
    "body": "<a id='comment:40'></a>\nAttachment [trac_13891-fourth_pass.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-fourth_pass.patch) by @nathanncohen created at 2013-01-29 13:21:05\n\n(I just updated the patch so that graphplot stays as it was, along with plot. The references to `GraphPlot.plot` have been replaced by `GenericGraph.plot`, which takes all kind of arguments.)\n\nNathann",
    "created_at": "2013-01-29T13:21:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216710",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:40'></a>
Attachment [trac_13891-fourth_pass.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-fourth_pass.patch) by @nathanncohen created at 2013-01-29 13:21:05

(I just updated the patch so that graphplot stays as it was, along with plot. The references to `GraphPlot.plot` have been replaced by `GenericGraph.plot`, which takes all kind of arguments.)

Nathann



---

archive/issue_comments_216711.json:
```json
{
    "body": "<a id='comment:41'></a>\nIf we keep both (I believe it is good to keep both), I suggest to write the code of the plot method like this, so that it is clear what is the difference and relation between the two :\n\n```diff\n- return GraphPlot(graph=self, options=options).plot()\n+ return self.graphplot(options=options).plot()\n```",
    "created_at": "2013-01-29T20:27:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216711",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:41'></a>
If we keep both (I believe it is good to keep both), I suggest to write the code of the plot method like this, so that it is clear what is the difference and relation between the two :

```diff
- return GraphPlot(graph=self, options=options).plot()
+ return self.graphplot(options=options).plot()
```



---

archive/issue_comments_216712.json:
```json
{
    "body": "<a id='comment:42'></a>\nThere are still two failling tests in the recent buildbot:\n\n```\nsage -t  -force_lib devel/sage-13891/sage/combinat/cluster_algebra_quiver/quiver.py # 1 doctests failed\nsage -t  -force_lib devel/sage-13891/sage/combinat/cluster_algebra_quiver/quiver_mutation_type.py # 1 doctests failed\n```",
    "created_at": "2013-01-29T20:31:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216712",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:42'></a>
There are still two failling tests in the recent buildbot:

```
sage -t  -force_lib devel/sage-13891/sage/combinat/cluster_algebra_quiver/quiver.py # 1 doctests failed
sage -t  -force_lib devel/sage-13891/sage/combinat/cluster_algebra_quiver/quiver_mutation_type.py # 1 doctests failed
```



---

archive/issue_comments_216713.json:
```json
{
    "body": "<a id='comment:43'></a>\nReplying to [ncohen](#comment%3A40):\n> (I just updated the patch so that graphplot stays as it was, along with plot. The references to `GraphPlot.plot` have been replaced by `GenericGraph.plot`, which takes all kind of arguments.)\n> \n> Nathann\nThanks. This is a huge mess.\n\nI understand why the plot method is needed. If you look at the code for `plot(f)` (the generic plot function) then, it returns the output `f.plot()` method if it is present. I think the current patch is OK. I also think slabbe is right in[comment:41](#comment%3A41).\n\nI have combined all the patches and made the [2-line change](https://github.com/ppurka/sage-patches/commit/a085570087caed97ee8cc9a2123438f1d6f0e34b) to `GenericGraph.plot`.\n\n`@`slabbe - if you have no other problems with this patch, then you can set it to positive review.",
    "created_at": "2013-01-30T07:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216713",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:43'></a>
Replying to [ncohen](#comment%3A40):
> (I just updated the patch so that graphplot stays as it was, along with plot. The references to `GraphPlot.plot` have been replaced by `GenericGraph.plot`, which takes all kind of arguments.)
> 
> Nathann
Thanks. This is a huge mess.

I understand why the plot method is needed. If you look at the code for `plot(f)` (the generic plot function) then, it returns the output `f.plot()` method if it is present. I think the current patch is OK. I also think slabbe is right in[comment:41](#comment%3A41).

I have combined all the patches and made the [2-line change](https://github.com/ppurka/sage-patches/commit/a085570087caed97ee8cc9a2123438f1d6f0e34b) to `GenericGraph.plot`.

`@`slabbe - if you have no other problems with this patch, then you can set it to positive review.



---

archive/issue_comments_216714.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,6 +13,4 @@\n \n ---\n Apply to devel/sage\n-1. [attachment:trac_13891.patch]\n-2. [attachment:trac_13891-second_pass.patch]\n-3. [attachment:trac_13891-third_pass.patch]\n+1. [attachment:trac_13891-all_in_one.patch]\n``````\n",
    "created_at": "2013-01-30T07:59:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216714",
    "user": "https://github.com/ppurka"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,6 +13,4 @@
 
 ---
 Apply to devel/sage
-1. [attachment:trac_13891.patch]
-2. [attachment:trac_13891-second_pass.patch]
-3. [attachment:trac_13891-third_pass.patch]
+1. [attachment:trac_13891-all_in_one.patch]
``````




---

archive/issue_comments_216715.json:
```json
{
    "body": "<a id='comment:44'></a>\nPatchbot apply trac_13891-all_in_one.patch",
    "created_at": "2013-01-30T07:59:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216715",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:44'></a>
Patchbot apply trac_13891-all_in_one.patch



---

archive/issue_comments_216716.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-01-30T11:33:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216716",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_216717.json:
```json
{
    "body": "<a id='comment:45'></a>\n1. show method of a graph doesn't do anything now. There is a line missing in the code.\n\n2. 2 doctests are still failing (see [Comment 42](#comment%3A42))\n\n**Questions.**\n\nA. Sorry to ask this question, but why is figsize not an option for `plot` again?\n\nB. If I understand correctly,\n\n   - `DEFAULT_SHOW_OPTIONS` will affect `g.show()`.\n   - `DEFAULT_PLOT_OPTIONS` will affect `g.plot()`.\n\n   but\n\n   - `DEFAULT_SHOW_OPTIONS` will not affect `g.plot()`.\n   - `DEFAULT_PLOT_OPTIONS` will affect `g.show()`.\n\n   Right?\n\n**Comments.**\n\nC. This works:\n\n```\n    sage: sage.graphs.graph_plot.DEFAULT_PLOT_OPTIONS['edge_color']='red'\n    sage: g = graphs.PetersenGraph()\n    sage: g.plot()  # red edges\n    sage: g.show()  # does not show anything\n    sage: g = Graph({3:[4,5]})\n    sage: g.plot()  # red edges\n    sage: g.show()  # does not show anything\n```\n\nD. This is now ok:\n\n```\n   sage: g = graphs.PetersenGraph()\n   sage: p = g.graphplot()\n   sage: p.plot(my_favorite_useless_option_I_always_used_in_my_code=45)\n   /Users/slabbe/Applications/sage-5.6.rc0/local/bin/sage-ipython:1: DeprecationWarning: This method takes no argument ! You may want to give it as an argument to graphplot instead.\n   See http://trac.sagemath.org/13891 for details.\n     #!/usr/bin/env python\n```",
    "created_at": "2013-01-30T11:33:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216717",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:45'></a>
1. show method of a graph doesn't do anything now. There is a line missing in the code.

2. 2 doctests are still failing (see [Comment 42](#comment%3A42))

**Questions.**

A. Sorry to ask this question, but why is figsize not an option for `plot` again?

B. If I understand correctly,

   - `DEFAULT_SHOW_OPTIONS` will affect `g.show()`.
   - `DEFAULT_PLOT_OPTIONS` will affect `g.plot()`.

   but

   - `DEFAULT_SHOW_OPTIONS` will not affect `g.plot()`.
   - `DEFAULT_PLOT_OPTIONS` will affect `g.show()`.

   Right?

**Comments.**

C. This works:

```
    sage: sage.graphs.graph_plot.DEFAULT_PLOT_OPTIONS['edge_color']='red'
    sage: g = graphs.PetersenGraph()
    sage: g.plot()  # red edges
    sage: g.show()  # does not show anything
    sage: g = Graph({3:[4,5]})
    sage: g.plot()  # red edges
    sage: g.show()  # does not show anything
```

D. This is now ok:

```
   sage: g = graphs.PetersenGraph()
   sage: p = g.graphplot()
   sage: p.plot(my_favorite_useless_option_I_always_used_in_my_code=45)
   /Users/slabbe/Applications/sage-5.6.rc0/local/bin/sage-ipython:1: DeprecationWarning: This method takes no argument ! You may want to give it as an argument to graphplot instead.
   See http://trac.sagemath.org/13891 for details.
     #!/usr/bin/env python
```



---

archive/issue_comments_216718.json:
```json
{
    "body": "Attachment [trac_13891-fifth_pass.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-fifth_pass.patch) by @nathanncohen created at 2013-01-30 13:14:21",
    "created_at": "2013-01-30T13:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216718",
    "user": "https://github.com/nathanncohen"
}
```

Attachment [trac_13891-fifth_pass.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-fifth_pass.patch) by @nathanncohen created at 2013-01-30 13:14:21



---

archive/issue_comments_216719.json:
```json
{
    "body": "<a id='comment:46'></a>\nAttachment [trac_13891-bugfix.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-bugfix.patch) by @nathanncohen created at 2013-01-30 13:23:15\n\nSoooooooooooo !\n\nI just refolded them all to check where the missing line in `G.show()` was coming from, to notice that I stupidly removed it myself in the \"fourth pass\". Well.\n\n* [attachment:trac_13891-fourth_pass.patch] is left unchanged, even if what it does is stupid\n* [attachment:trac_13891-fifth_pass.patch] fixes it, and also applies Punarbasu's modification\n* [attachment:trac_13891-bugfix.patch] removes the useless option in the combinat/ directory.\n\nAnd of course [attachment:trac_13891-all_in_one.patch] applies all that. Now, to answer Sebastian's questions :\n\n1) Fixed in [attachment:trac_13891-fifth_pass.patch], sorry for that, good job noticing it as no doctest checks that `:-P`\n2) Fixed in [attachment:trac_13891-bugfix.patch]\nA) Noooooo idea on earth.\nB) Yep. Because basically, `show` calls `plot`.\n\nWell, if you like it, this \"small patch that defines new default options\" can go `:-P`\n\nThanks for your help !!!\n\nNathann\n\nApply trac_13891-all_in_one.patch",
    "created_at": "2013-01-30T13:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216719",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:46'></a>
Attachment [trac_13891-bugfix.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-bugfix.patch) by @nathanncohen created at 2013-01-30 13:23:15

Soooooooooooo !

I just refolded them all to check where the missing line in `G.show()` was coming from, to notice that I stupidly removed it myself in the "fourth pass". Well.

* [attachment:trac_13891-fourth_pass.patch] is left unchanged, even if what it does is stupid
* [attachment:trac_13891-fifth_pass.patch] fixes it, and also applies Punarbasu's modification
* [attachment:trac_13891-bugfix.patch] removes the useless option in the combinat/ directory.

And of course [attachment:trac_13891-all_in_one.patch] applies all that. Now, to answer Sebastian's questions :

1) Fixed in [attachment:trac_13891-fifth_pass.patch], sorry for that, good job noticing it as no doctest checks that `:-P`
2) Fixed in [attachment:trac_13891-bugfix.patch]
A) Noooooo idea on earth.
B) Yep. Because basically, `show` calls `plot`.

Well, if you like it, this "small patch that defines new default options" can go `:-P`

Thanks for your help !!!

Nathann

Apply trac_13891-all_in_one.patch



---

archive/issue_comments_216720.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-01-30T13:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216720",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_216721.json:
```json
{
    "body": "<a id='comment:47'></a>\nAbout A - the reason is that figsize is a property that is handled by matplotlib. \nIt is only the show method that actually calls matplotlib.\nThe plot method just prepares the set of points that are going to be on the figure and that will eventually be passed on to matplotlib.",
    "created_at": "2013-01-30T13:48:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216721",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:47'></a>
About A - the reason is that figsize is a property that is handled by matplotlib. 
It is only the show method that actually calls matplotlib.
The plot method just prepares the set of points that are going to be on the figure and that will eventually be passed on to matplotlib.



---

archive/issue_comments_216722.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [ppurka](#comment%3A47):\n> About A - the reason is that figsize is a property that is handled by matplotlib. \n\n\nSo if somebody uses `show_default(True)` which is the actual default, then `show` is automatically called (with no option) when `plot` is called, and there is no way of changing the `figsize` through the `plot` method. Right? This is the kind of thing that made plot and show mysterious to me when I started using sage. Now, I am starting to understand!",
    "created_at": "2013-01-30T14:58:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216722",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:48'></a>
Replying to [ppurka](#comment%3A47):
> About A - the reason is that figsize is a property that is handled by matplotlib. 


So if somebody uses `show_default(True)` which is the actual default, then `show` is automatically called (with no option) when `plot` is called, and there is no way of changing the `figsize` through the `plot` method. Right? This is the kind of thing that made plot and show mysterious to me when I started using sage. Now, I am starting to understand!



---

archive/issue_comments_216723.json:
```json
{
    "body": "<a id='comment:49'></a>\nAttachment [trac_13891_note-sl.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891_note-sl.patch) by @seblabbe created at 2013-01-30 15:41:32\n\n1. I just added a patch which adds the notes about what dict affect what function. Do you agree to fold it into yours?\n\n2. Another question (it should be my last now!!): What are the available options for `show` or for `DEFAULT_SHOW_OPTIONS` ?\n\nTo know available options for `plot`, I may look at the keywords of the default dict. I think they are complete right?\n\n```\nsage: sage.graphs.graph_plot.DEFAULT_PLOT_OPTIONS.keys()\n['edge_color', 'tree_orientation', 'layout', 'vertex_labels', 'max_dist', \n'partition', 'loop_size', 'heights', 'color_by_label', 'dist', 'graph_border', \n'iterations', 'edge_colors', 'edge_style', 'edge_labels', 'vertex_size','talk']\n```\n\nor at the following docstring :\n\n```\nsage: g.plot?  # they do not corresponds exactly with the defaut dict, but it is not too bad\n```\n\nBut, for show, it seems more difficult to know the possible options. The keywords of the default dict contain only one :\n\n```\nsage: sage.graphs.graph_plot.DEFAULT_SHOW_OPTIONS.keys()\n['figsize']\n```\n\nand the docstring of `show` does not say much about those options \"not used by plot\" :\n\n```\nsage: g = graphs.PetersenGraph()   \nsage: g.show?\nDocstring:                                                                        \n       Shows the (di)graph.                                                       \n                                                                                  \n       For syntax and lengthy documentation, see G.plot?. Any options not         \n       used by plot will be passed on to the Graphics.show method.                \n                                                                                  \n       Note: See the documentation of the \"sage.graphs.graph_plot\" module for     \n         information on default arguments of this method.                         \n                                                                                  \n       EXAMPLES:                                                                  \n                                                                                  \n          sage: C = graphs.CubeGraph(8)                                           \n          sage: P = C.plot(vertex_labels=False, vertex_size=0, graph_border=True) \n          sage: P.show()  # long time (3s on sage.math, 2011)\n```\n\nCould we add a sentence in the above show docstring explaining where we can find what are the possible options for show accepted by matplotlib?",
    "created_at": "2013-01-30T15:41:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216723",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:49'></a>
Attachment [trac_13891_note-sl.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891_note-sl.patch) by @seblabbe created at 2013-01-30 15:41:32

1. I just added a patch which adds the notes about what dict affect what function. Do you agree to fold it into yours?

2. Another question (it should be my last now!!): What are the available options for `show` or for `DEFAULT_SHOW_OPTIONS` ?

To know available options for `plot`, I may look at the keywords of the default dict. I think they are complete right?

```
sage: sage.graphs.graph_plot.DEFAULT_PLOT_OPTIONS.keys()
['edge_color', 'tree_orientation', 'layout', 'vertex_labels', 'max_dist', 
'partition', 'loop_size', 'heights', 'color_by_label', 'dist', 'graph_border', 
'iterations', 'edge_colors', 'edge_style', 'edge_labels', 'vertex_size','talk']
```

or at the following docstring :

```
sage: g.plot?  # they do not corresponds exactly with the defaut dict, but it is not too bad
```

But, for show, it seems more difficult to know the possible options. The keywords of the default dict contain only one :

```
sage: sage.graphs.graph_plot.DEFAULT_SHOW_OPTIONS.keys()
['figsize']
```

and the docstring of `show` does not say much about those options "not used by plot" :

```
sage: g = graphs.PetersenGraph()   
sage: g.show?
Docstring:                                                                        
       Shows the (di)graph.                                                       
                                                                                  
       For syntax and lengthy documentation, see G.plot?. Any options not         
       used by plot will be passed on to the Graphics.show method.                
                                                                                  
       Note: See the documentation of the "sage.graphs.graph_plot" module for     
         information on default arguments of this method.                         
                                                                                  
       EXAMPLES:                                                                  
                                                                                  
          sage: C = graphs.CubeGraph(8)                                           
          sage: P = C.plot(vertex_labels=False, vertex_size=0, graph_border=True) 
          sage: P.show()  # long time (3s on sage.math, 2011)
```

Could we add a sentence in the above show docstring explaining where we can find what are the possible options for show accepted by matplotlib?



---

archive/issue_comments_216724.json:
```json
{
    "body": "Attachment [trac_13891-otherfixes.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-otherfixes.patch) by @nathanncohen created at 2013-01-30 18:35:29",
    "created_at": "2013-01-30T18:35:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216724",
    "user": "https://github.com/nathanncohen"
}
```

Attachment [trac_13891-otherfixes.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-otherfixes.patch) by @nathanncohen created at 2013-01-30 18:35:29



---

archive/issue_comments_216725.json:
```json
{
    "body": "Attachment [trac_13891-all_in_one.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-all_in_one.patch) by @nathanncohen created at 2013-01-30 18:36:03\n\nApply only this.",
    "created_at": "2013-01-30T18:36:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216725",
    "user": "https://github.com/nathanncohen"
}
```

Attachment [trac_13891-all_in_one.patch](tarball://root/attachments/some-uuid/ticket13891/trac_13891-all_in_one.patch) by @nathanncohen created at 2013-01-30 18:36:03

Apply only this.



---

archive/issue_comments_216726.json:
```json
{
    "body": "<a id='comment:50'></a>\nAdded [attachment:trac_13891-docagain.patch] and [attachment:trac_13891-otherfixes.patch]. They're folded inside of [attachment:trac_13891-all_in_one.patch].\n\nNathann\n\nApply trac_13891-all_in_one.patch",
    "created_at": "2013-01-30T18:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216726",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:50'></a>
Added [attachment:trac_13891-docagain.patch] and [attachment:trac_13891-otherfixes.patch]. They're folded inside of [attachment:trac_13891-all_in_one.patch].

Nathann

Apply trac_13891-all_in_one.patch



---

archive/issue_comments_216727.json:
```json
{
    "body": "<a id='comment:51'></a>\nThe options for show can be obtained directly from the top level function `show`. It is defined in safe.plot.graphics.show",
    "created_at": "2013-01-31T04:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216727",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:51'></a>
The options for show can be obtained directly from the top level function `show`. It is defined in safe.plot.graphics.show



---

archive/issue_comments_216728.json:
```json
{
    "body": "<a id='comment:52'></a>\nReplying to [ppurka](#comment%3A43):\n> `@`slabbe - if you have no other problems with this patch, then you can set it to positive review.\n\n\nThanks Nathann for your quick patch fixes and Punarbasu for your quick responses to my too many questions. Like you said, the patch now makes much more than the initial goal, but I think it is a good thing.\n\nS\u00e9bastien",
    "created_at": "2013-01-31T19:24:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216728",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:52'></a>
Replying to [ppurka](#comment%3A43):
> `@`slabbe - if you have no other problems with this patch, then you can set it to positive review.


Thanks Nathann for your quick patch fixes and Punarbasu for your quick responses to my too many questions. Like you said, the patch now makes much more than the initial goal, but I think it is a good thing.

Sébastien



---

archive/issue_comments_216729.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-01-31T19:24:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216729",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_216730.json:
```json
{
    "body": "<a id='comment:53'></a>\n> Thanks Nathann for your quick patch fixes and Punarbasu for your quick responses to my too many questions. Like you said, the patch now makes much more than the initial goal, but I think it is a good thing.\n\n\nWouhouuuuuuuuuuuuuuuuuuuuuu !! Thaaaaaaaaaaaaanks ! `:-)`\n\nNathann",
    "created_at": "2013-01-31T20:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216730",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:53'></a>
> Thanks Nathann for your quick patch fixes and Punarbasu for your quick responses to my too many questions. Like you said, the patch now makes much more than the initial goal, but I think it is a good thing.


Wouhouuuuuuuuuuuuuuuuuuuuuu !! Thaaaaaaaaaaaaanks ! `:-)`

Nathann



---

archive/issue_comments_216731.json:
```json
{
    "body": "<a id='comment:54'></a>\nThanks Sebastien for pushing both of us - me to have a look at this again, and Nathann for doing all the grunt work ;)",
    "created_at": "2013-02-01T02:56:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216731",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:54'></a>
Thanks Sebastien for pushing both of us - me to have a look at this again, and Nathann for doing all the grunt work ;)



---

archive/issue_events_045156.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-05T08:20:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13891#event-45156"
}
```



---

archive/issue_comments_216732.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-02-05T08:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216732",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_216733.json:
```json
{
    "body": "Merged: sage-5.7.beta3",
    "created_at": "2013-02-05T08:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216733",
    "user": "https://github.com/jdemeyer"
}
```

Merged: sage-5.7.beta3



---

archive/issue_comments_216734.json:
```json
{
    "body": "<a id='comment:56'></a>\nThis has annoyed the hell out of me about 100 times in the last month:\n\n```\ng.plot(svg=True)\n127\nTrue\n/usr/local/sage/sage-5.10.beta3/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py:14263: DeprecationWarning: You provided svg as an argument to a function which has always silently ignored its inputs. This method may soon be updated so that the method raises an exception instead of this warning, which will break your code : to be on the safe side, update it !\nSee http://trac.sagemath.org/13891 for details.\n  return GraphPlot(graph=self, options=options)\n```\n\nI strongly disagree with this deprecation.  It is an extremely useful feature that the plotting functions hold their arguments, then pass the unused arguments on to show, just like the do (by design!) in 3d graphics, and did do (by design!) for many years in 2d graphics.",
    "created_at": "2013-05-22T17:02:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216734",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:56'></a>
This has annoyed the hell out of me about 100 times in the last month:

```
g.plot(svg=True)
127
True
/usr/local/sage/sage-5.10.beta3/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py:14263: DeprecationWarning: You provided svg as an argument to a function which has always silently ignored its inputs. This method may soon be updated so that the method raises an exception instead of this warning, which will break your code : to be on the safe side, update it !
See http://trac.sagemath.org/13891 for details.
  return GraphPlot(graph=self, options=options)
```

I strongly disagree with this deprecation.  It is an extremely useful feature that the plotting functions hold their arguments, then pass the unused arguments on to show, just like the do (by design!) in 3d graphics, and did do (by design!) for many years in 2d graphics.



---

archive/issue_comments_216735.json:
```json
{
    "body": "<a id='comment:57'></a>\n> This has annoyed the hell out of me about 100 times in the last month:\n\n\nYour turn. Silently ignored arguments annoyed the hell out of me for a while too. I had no idea why nothing happened.\n\n> I strongly disagree with this deprecation.  It is an extremely useful feature that the plotting functions hold their arguments, then pass the unused arguments on to show, just like the do (by design!) in 3d graphics, and did do (by design!) for many years in 2d graphics. \n\n\nI have nothing against passing arguments from a function to another. I have something against failing silently. Now we have a list of arguments which are understood and used by show/plot, and you can use that to check that what you forward to another function will actually be used. You can also do the same everywhere else, and add these flags to the the documentation, which is far from being a rule everywhere else.\n\nhttp://www.sagemath.org/doc/reference/plotting/sage/graphs/graph_plot.html\n\nNathann",
    "created_at": "2013-05-22T19:26:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216735",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:57'></a>
> This has annoyed the hell out of me about 100 times in the last month:


Your turn. Silently ignored arguments annoyed the hell out of me for a while too. I had no idea why nothing happened.

> I strongly disagree with this deprecation.  It is an extremely useful feature that the plotting functions hold their arguments, then pass the unused arguments on to show, just like the do (by design!) in 3d graphics, and did do (by design!) for many years in 2d graphics. 


I have nothing against passing arguments from a function to another. I have something against failing silently. Now we have a list of arguments which are understood and used by show/plot, and you can use that to check that what you forward to another function will actually be used. You can also do the same everywhere else, and add these flags to the the documentation, which is far from being a rule everywhere else.

http://www.sagemath.org/doc/reference/plotting/sage/graphs/graph_plot.html

Nathann



---

archive/issue_comments_216736.json:
```json
{
    "body": "<a id='comment:58'></a>\n> I strongly disagree with this deprecation.\n\n\nI agree we should never deprecate it as I guess so much code are using useless arguments out there. Maybe the \"DeprecationWarning\" was not well chosen, just a \"Warning\" would have been ok without mentionning any future deprecation. So, what annoyed you in fact? The deprecation? or the warning that was printed 100 times?\n\nOn my side, I would be happy to learn that the input I am giving to a function is just totally ignored. Why? Because this is just normal Python I am used to (we can also think of a mispell argument written by dyslexicy) :\n\n```\nsage: def f(a,b): return a+b\nsage: f(4,5)\n9\nsage: f(4,5,color='blue')\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-15-d3f7a3aa970a> in <module>()\n----> 1 f(Integer(4),Integer(5),color='blue')\n\nTypeError: f() got an unexpected keyword argument 'color'\n```",
    "created_at": "2013-05-23T09:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216736",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:58'></a>
> I strongly disagree with this deprecation.


I agree we should never deprecate it as I guess so much code are using useless arguments out there. Maybe the "DeprecationWarning" was not well chosen, just a "Warning" would have been ok without mentionning any future deprecation. So, what annoyed you in fact? The deprecation? or the warning that was printed 100 times?

On my side, I would be happy to learn that the input I am giving to a function is just totally ignored. Why? Because this is just normal Python I am used to (we can also think of a mispell argument written by dyslexicy) :

```
sage: def f(a,b): return a+b
sage: f(4,5)
9
sage: f(4,5,color='blue')
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-15-d3f7a3aa970a> in <module>()
----> 1 f(Integer(4),Integer(5),color='blue')

TypeError: f() got an unexpected keyword argument 'color'
```



---

archive/issue_comments_216737.json:
```json
{
    "body": "<a id='comment:59'></a>\nI agree that options should not be ignored silently - so in that sense I agree with Nathann.\n\nOn the other hand, it seems that some other plot functions silently pass on their options to the show() method. I think something similar should be done here. I have opened #14632 to track this.",
    "created_at": "2013-05-23T11:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216737",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:59'></a>
I agree that options should not be ignored silently - so in that sense I agree with Nathann.

On the other hand, it seems that some other plot functions silently pass on their options to the show() method. I think something similar should be done here. I have opened #14632 to track this.



---

archive/issue_comments_216738.json:
```json
{
    "body": "<a id='comment:60'></a>\nReplying to [ppurka](#comment%3A59):\n> I agree that options should not be ignored silently - so in that sense \n> I agree with Nathann.\n\n\nI also agree that options should not be completely ignored silently.  I want them to be passed on to the show command, which would then complain if the options are invalid.  \n\n> On the other hand, it seems that some other plot functions silently pass \n> on their options to the show() method. I think something similar should \n> be done here. I have opened #14632 to track this.\n\n\nLooking now, I see that I agree with what you propose there.",
    "created_at": "2013-05-23T20:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13891#issuecomment-216738",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:60'></a>
Replying to [ppurka](#comment%3A59):
> I agree that options should not be ignored silently - so in that sense 
> I agree with Nathann.


I also agree that options should not be completely ignored silently.  I want them to be passed on to the show command, which would then complain if the options are invalid.  

> On the other hand, it seems that some other plot functions silently pass 
> on their options to the show() method. I think something similar should 
> be done here. I have opened #14632 to track this.


Looking now, I see that I agree with what you propose there.
