# Issue 13802: Extra includes needed for letterplace for Cygwin on XP

archive/issues_013598.json:
```json
{
    "body": "\n```\nExecuting 327 commands (using 1 thread) \ngcc -I/usr/include/ncurses -fno-strict-aliasing -fwrapv -DNDEBUG -g - \nfwrapv -O3 -Wall -Wstrict-prototypes -I/home/newsagetest/sage-5.5.rc0/ \nlocal/include/singular/ -I/home/newsagetest/sage-5.5.rc0/local/include \n-I/home/newsagetest/sage-5.5.rc0/local/include/csage -I/home/ \nnewsagetest/sage-5.5.rc0/devel/sage/sage/ext -I/home/newsagetest/ \nsage-5.5.rc0/local/include/python2.7 -c sage/algebras/letterplace/ \nfree_algebra_letterplace.cpp -o build/temp.cygwin-1.7.9-i686-2.7/sage/ \nalgebras/letterplace/free_algebra_letterplace.o -w \ncc1plus: warning: command line option \"-Wstrict-prototypes\" is valid \nfor Ada/C/ObjC but not for C++ \ng++ -shared -Wl,--enable-auto-image-base -L/home/newsagetest/ \nsage-5.5.rc0/local/lib build/temp.cygwin-1.7.9-i686-2.7/sage/algebras/ \nletterplace/free_algebra_letterplace.o -L/home/newsagetest/ \nsage-5.5.rc0/local/lib -L/home/newsagetest/sage-5.5.rc0/local/lib/ \npython2.7/config -lcsage -lstdc++ -lntl -lpython2.7 -o build/ \nlib.cygwin-1.7.9-i686-2.7/sage/algebras/letterplace/ \nfree_algebra_letterplace.dll \nbuild/temp.cygwin-1.7.9-i686-2.7/sage/algebras/letterplace/ \nfree_algebra_letterplace.o: In function \n`__static_initialization_and_destruction_0': \n/home/newsagetest/sage-5.5.rc0/local/include/factory/factory.h:199: \nundefined reference to `initCanonicalForm()' \ncollect2: ld returned 1 exit status \nerror: command 'g++' failed with exit status 1 \ngcc -I/usr/include/ncurses -fno-strict-aliasing -fwrapv -DNDEBUG -g - \nfwrapv -O3 -Wall -Wstrict-prototypes -I/home/newsagetest/sage-5.5.rc0/ \nlocal/include/singular/ -I/home/newsagetest/sage-5.5.rc0/local/include \n-I/home/newsagetest/sage-5.5.rc0/local/include/csage -I/home/ \nnewsagetest/sage-5.5.rc0/devel/sage/sage/ext -I/home/newsagetest/ \nsage-5.5.rc0/local/include/python2.7 -c sage/algebras/letterplace/ \nfree_algebra_element_letterplace.cpp -o build/temp.cygwin-1.7.9- \ni686-2.7/sage/algebras/letterplace/free_algebra_element_letterplace.o - \nw \nError installing modified sage library code. \n```\n\n**Apply** [attachment:trac_13802-cygwin.patch].\n\n**Assignee:** tbd\n\n**CC:**  jpflori alexanderdreyer\n\n**Upstream:** None of the above - read trac for reasoning.\n\n**Reviewer:** Alexander Dreyer\n\n**Author:** Karl-Dieter Crisman\n\n**Merged:** sage-5.6.beta0\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13802\n\n",
    "closed_at": "2012-12-18T11:18:10Z",
    "created_at": "2012-12-05T19:35:44Z",
    "labels": [
        "component: porting: cygwin",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.6",
    "title": "Extra includes needed for letterplace for Cygwin on XP",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13802",
    "user": "https://github.com/kcrisman"
}
```

```
Executing 327 commands (using 1 thread) 
gcc -I/usr/include/ncurses -fno-strict-aliasing -fwrapv -DNDEBUG -g - 
fwrapv -O3 -Wall -Wstrict-prototypes -I/home/newsagetest/sage-5.5.rc0/ 
local/include/singular/ -I/home/newsagetest/sage-5.5.rc0/local/include 
-I/home/newsagetest/sage-5.5.rc0/local/include/csage -I/home/ 
newsagetest/sage-5.5.rc0/devel/sage/sage/ext -I/home/newsagetest/ 
sage-5.5.rc0/local/include/python2.7 -c sage/algebras/letterplace/ 
free_algebra_letterplace.cpp -o build/temp.cygwin-1.7.9-i686-2.7/sage/ 
algebras/letterplace/free_algebra_letterplace.o -w 
cc1plus: warning: command line option "-Wstrict-prototypes" is valid 
for Ada/C/ObjC but not for C++ 
g++ -shared -Wl,--enable-auto-image-base -L/home/newsagetest/ 
sage-5.5.rc0/local/lib build/temp.cygwin-1.7.9-i686-2.7/sage/algebras/ 
letterplace/free_algebra_letterplace.o -L/home/newsagetest/ 
sage-5.5.rc0/local/lib -L/home/newsagetest/sage-5.5.rc0/local/lib/ 
python2.7/config -lcsage -lstdc++ -lntl -lpython2.7 -o build/ 
lib.cygwin-1.7.9-i686-2.7/sage/algebras/letterplace/ 
free_algebra_letterplace.dll 
build/temp.cygwin-1.7.9-i686-2.7/sage/algebras/letterplace/ 
free_algebra_letterplace.o: In function 
`__static_initialization_and_destruction_0': 
/home/newsagetest/sage-5.5.rc0/local/include/factory/factory.h:199: 
undefined reference to `initCanonicalForm()' 
collect2: ld returned 1 exit status 
error: command 'g++' failed with exit status 1 
gcc -I/usr/include/ncurses -fno-strict-aliasing -fwrapv -DNDEBUG -g - 
fwrapv -O3 -Wall -Wstrict-prototypes -I/home/newsagetest/sage-5.5.rc0/ 
local/include/singular/ -I/home/newsagetest/sage-5.5.rc0/local/include 
-I/home/newsagetest/sage-5.5.rc0/local/include/csage -I/home/ 
newsagetest/sage-5.5.rc0/devel/sage/sage/ext -I/home/newsagetest/ 
sage-5.5.rc0/local/include/python2.7 -c sage/algebras/letterplace/ 
free_algebra_element_letterplace.cpp -o build/temp.cygwin-1.7.9- 
i686-2.7/sage/algebras/letterplace/free_algebra_element_letterplace.o - 
w 
Error installing modified sage library code. 
```

**Apply** [attachment:trac_13802-cygwin.patch].

**Assignee:** tbd

**CC:**  jpflori alexanderdreyer

**Upstream:** None of the above - read trac for reasoning.

**Reviewer:** Alexander Dreyer

**Author:** Karl-Dieter Crisman

**Merged:** sage-5.6.beta0

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/13802





---

archive/issue_comments_214721.json:
```json
{
    "body": "<a id='comment:1'></a>\nPresumably the fix is to add `SAGE_INC + 'factory' ` to `module_list.py`, maybe also the libraries.  Sloppy work at #7797, perhaps?",
    "created_at": "2012-12-05T19:36:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214721",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'></a>
Presumably the fix is to add `SAGE_INC + 'factory' ` to `module_list.py`, maybe also the libraries.  Sloppy work at #7797, perhaps?



---

archive/issue_comments_214722.json:
```json
{
    "body": "<a id='comment:2'></a>\nOkay, I added that and the `singular_libs`, and it seems to be working.",
    "created_at": "2012-12-05T19:41:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214722",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'></a>
Okay, I added that and the `singular_libs`, and it seems to be working.



---

archive/issue_comments_214723.json:
```json
{
    "body": "Apply to Sage library",
    "created_at": "2012-12-05T22:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214723",
    "user": "https://github.com/kcrisman"
}
```

Apply to Sage library



---

archive/issue_comments_214724.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -33,3 +33,5 @@\n i686-2.7/sage/algebras/letterplace/free_algebra_element_letterplace.o - \n w \n Error installing modified sage library code. \n+\n+**Apply** [attachment:trac_13802-cygwin.patch].\n``````\n",
    "created_at": "2012-12-05T22:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214724",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -33,3 +33,5 @@
 i686-2.7/sage/algebras/letterplace/free_algebra_element_letterplace.o - 
 w 
 Error installing modified sage library code. 
+
+**Apply** [attachment:trac_13802-cygwin.patch].
``````




---

archive/issue_comments_214725.json:
```json
{
    "body": "**Author:** Karl-Dieter Crisman",
    "created_at": "2012-12-05T22:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214725",
    "user": "https://github.com/kcrisman"
}
```

**Author:** Karl-Dieter Crisman



---

archive/issue_comments_214726.json:
```json
{
    "body": "<a id='comment:3'></a>\nAttachment [trac_13802-cygwin.patch](tarball://root/attachments/some-uuid/ticket13802/trac_13802-cygwin.patch) by @kcrisman created at 2012-12-05 22:03:08\n\nApply trac_13802-cygwin.patch \n\nI don't know how to have anyone review this beyond someone with Cygwin on XP.  Maybe someone from #7797 can at least verify it's not *bad*?",
    "created_at": "2012-12-05T22:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214726",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'></a>
Attachment [trac_13802-cygwin.patch](tarball://root/attachments/some-uuid/ticket13802/trac_13802-cygwin.patch) by @kcrisman created at 2012-12-05 22:03:08

Apply trac_13802-cygwin.patch 

I don't know how to have anyone review this beyond someone with Cygwin on XP.  Maybe someone from #7797 can at least verify it's not *bad*?



---

archive/issue_comments_214727.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2012-12-05T22:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214727",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_214728.json:
```json
{
    "body": "<a id='comment:4'></a>\nThis *does* work on Mac 10.7 and sage.math, so hopefully someone can independently confirm that and check that the patch makes sense.",
    "created_at": "2012-12-05T22:14:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214728",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>
This *does* work on Mac 10.7 and sage.math, so hopefully someone can independently confirm that and check that the patch makes sense.



---

archive/issue_comments_214729.json:
```json
{
    "body": "**Reviewer:** Alexander Dreyer",
    "created_at": "2012-12-06T08:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214729",
    "user": "https://github.com/alexanderdreyer"
}
```

**Reviewer:** Alexander Dreyer



---

archive/issue_comments_214730.json:
```json
{
    "body": "**Changing upstream** from \"N/A\" to \"None of the above - read trac for reasoning.\".",
    "created_at": "2012-12-06T08:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214730",
    "user": "https://github.com/alexanderdreyer"
}
```

**Changing upstream** from "N/A" to "None of the above - read trac for reasoning.".



---

archive/issue_comments_214731.json:
```json
{
    "body": "<a id='comment:5'></a>\nI can confirm, that the patch makes sense, it is consistent with the other Singular-based modules, and it does not harm anything on other platforms.\n\nSo positive review!",
    "created_at": "2012-12-06T08:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214731",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:5'></a>
I can confirm, that the patch makes sense, it is consistent with the other Singular-based modules, and it does not harm anything on other platforms.

So positive review!



---

archive/issue_comments_214732.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2012-12-06T08:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214732",
    "user": "https://github.com/alexanderdreyer"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_214733.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks!",
    "created_at": "2012-12-06T15:14:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214733",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>
Thanks!



---

archive/issue_comments_214734.json:
```json
{
    "body": "<a id='comment:7'></a>\nI can confirm this is also needed and working on 64 bits Windows 7.",
    "created_at": "2012-12-06T15:23:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214734",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:7'></a>
I can confirm this is also needed and working on 64 bits Windows 7.



---

archive/issue_comments_214735.json:
```json
{
    "body": "**Merged:** sage-5.6.beta0",
    "created_at": "2012-12-18T11:18:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214735",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.6.beta0



---

archive/issue_comments_214736.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2012-12-18T11:18:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214736",
    "user": "https://github.com/jdemeyer"
}
```

**Resolution:** fixed



---

archive/issue_events_044828.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-18T11:18:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13802#event-44828"
}
```



---

archive/issue_comments_214737.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+\n+```\n Executing 327 commands (using 1 thread) \n gcc -I/usr/include/ncurses -fno-strict-aliasing -fwrapv -DNDEBUG -g - \n fwrapv -O3 -Wall -Wstrict-prototypes -I/home/newsagetest/sage-5.5.rc0/ \n@@ -33,5 +35,6 @@\n i686-2.7/sage/algebras/letterplace/free_algebra_element_letterplace.o - \n w \n Error installing modified sage library code. \n+```\n \n **Apply** [attachment:trac_13802-cygwin.patch].\n``````\n",
    "created_at": "2013-01-01T13:40:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13802#issuecomment-214737",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+
+```
 Executing 327 commands (using 1 thread) 
 gcc -I/usr/include/ncurses -fno-strict-aliasing -fwrapv -DNDEBUG -g - 
 fwrapv -O3 -Wall -Wstrict-prototypes -I/home/newsagetest/sage-5.5.rc0/ 
@@ -33,5 +35,6 @@
 i686-2.7/sage/algebras/letterplace/free_algebra_element_letterplace.o - 
 w 
 Error installing modified sage library code. 
+```
 
 **Apply** [attachment:trac_13802-cygwin.patch].
``````

