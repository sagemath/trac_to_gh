# Issue 13871: Folded Cartan types

archive/issues_013667.json:
```json
{
    "assignees": [
        "https://github.com/tscrim"
    ],
    "body": "This implements a new class `CartanTypeFolded` which takes a Cartan type and considers the diagram folding and stores the associated data.\n\nThis also cleans up the references in `kirillov_reshetikhin.py`.\n\n---\n\nApply: [attachment: trac_13871-virtual_cartan_type-ts.patch](https://github.com/sagemath/sage/files/ticket13871/trac_13871-virtual_cartan_type-ts.patch.gz)\n\nCC:  @sagetrac-sage-combinat @anneschilling @nthiery\n\nKeywords: **Cartan, root systems**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton, Anne Schilling, Nicolas M. Thi\u00e9ry**\n\nAuthor: **Travis Scrimshaw**\n\nMerged: **sage-5.12.beta5**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13871_\n\n",
    "closed_at": "2013-09-04T08:05:57Z",
    "created_at": "2012-12-28T04:46:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.12",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Folded Cartan types",
    "type": "issue",
    "updated_at": "2013-09-04T08:05:57Z",
    "url": "https://github.com/sagemath/sage/issues/13871",
    "user": "https://github.com/tscrim"
}
```
This implements a new class `CartanTypeFolded` which takes a Cartan type and considers the diagram folding and stores the associated data.

This also cleans up the references in `kirillov_reshetikhin.py`.

---

Apply: [attachment: trac_13871-virtual_cartan_type-ts.patch](https://github.com/sagemath/sage/files/ticket13871/trac_13871-virtual_cartan_type-ts.patch.gz)

CC:  @sagetrac-sage-combinat @anneschilling @nthiery

Keywords: **Cartan, root systems**

Reviewer: **Frédéric Chapoton, Anne Schilling, Nicolas M. Thiéry**

Author: **Travis Scrimshaw**

Merged: **sage-5.12.beta5**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/13871_





---

archive/issue_events_192826.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-12-28T04:46:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192826"
}
```



---

archive/issue_events_192827.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-12-28T04:46:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192827"
}
```



---

archive/issue_events_192828.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-12-28T04:46:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192828"
}
```



---

archive/issue_events_192829.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-12-28T04:46:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192829"
}
```



---

archive/issue_events_192830.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-12-28T04:46:08Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "subject": "https://github.com/tscrim",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192830"
}
```



---

archive/issue_events_192831.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-02-13T21:34:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192831"
}
```



---

archive/issue_comments_163729.json:
```json
{
    "body": "Fixed doctests",
    "created_at": "2013-02-14T04:48:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163729",
    "user": "https://github.com/tscrim"
}
```

Fixed doctests



---

archive/issue_comments_163730.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAttachment: **[trac_13838-virtual_kleber_alg-ts.patch.gz](https://github.com/sagemath/sage/files/ticket13871/trac_13838-virtual_kleber_alg-ts.patch.gz)**\n\nUploaded wrong file...\n\nFor patchbot:\n\nApply: trac_13871-virtual_cartan_type-ts.patch",
    "created_at": "2013-02-14T04:50:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163730",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:3" align="right">comment:3</div>

Attachment: **[trac_13838-virtual_kleber_alg-ts.patch.gz](https://github.com/sagemath/sage/files/ticket13871/trac_13838-virtual_kleber_alg-ts.patch.gz)**

Uploaded wrong file...

For patchbot:

Apply: trac_13871-virtual_cartan_type-ts.patch



---

archive/issue_comments_163731.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n This implements a new class `VirtualCartanType` which takes an affine Cartan type and considers the (affine) diagram folding and stores the associated data.\n+\n+---\n+\n+Apply: [attachment: trac_13871-virtual_cartan_type-ts.patch]\n``````\n",
    "created_at": "2013-02-14T04:50:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163731",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 This implements a new class `VirtualCartanType` which takes an affine Cartan type and considers the (affine) diagram folding and stores the associated data.
+
+---
+
+Apply: [attachment: trac_13871-virtual_cartan_type-ts.patch]
``````




---

archive/issue_comments_163732.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nFor patchbot:\n\nApply: trac_13871-virtual_cartan_type-ts.patch",
    "created_at": "2013-03-11T18:35:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163732",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

For patchbot:

Apply: trac_13871-virtual_cartan_type-ts.patch



---

archive/issue_comments_163733.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nfound a typo here :\n\n```\nthere exists am affine\n```",
    "created_at": "2013-04-18T19:06:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163733",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

found a typo here :

```
there exists am affine
```



---

archive/issue_comments_163734.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n ---\n \n-Apply: [attachment: trac_13871-virtual_cartan_type-ts.patch]\n+Apply: [attachment: trac_13871-virtual_cartan_type-ts.patch](https://github.com/sagemath/sage/files/ticket13871/trac_13871-virtual_cartan_type-ts.patch.gz)\n``````\n",
    "created_at": "2013-04-18T19:06:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163734",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 ---
 
-Apply: [attachment: trac_13871-virtual_cartan_type-ts.patch]
+Apply: [attachment: trac_13871-virtual_cartan_type-ts.patch](https://github.com/sagemath/sage/files/ticket13871/trac_13871-virtual_cartan_type-ts.patch.gz)
``````




---

archive/issue_comments_163735.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@fchapoton](#comment%3A5):\n> found a typo here :\n> \n> ```\n> there exists am affine\n> ```\n\nThanks for catching that Frederic.",
    "created_at": "2013-04-19T19:37:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163735",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@fchapoton](#comment%3A5):
> found a typo here :
> 
> ```
> there exists am affine
> ```

Thanks for catching that Frederic.



---

archive/issue_events_192832.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-04-27T06:42:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192832"
}
```



---

archive/issue_events_192833.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-04-27T06:42:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192833"
}
```



---

archive/issue_comments_163736.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\none doctest is failing (concerning latex representation)",
    "created_at": "2013-04-27T06:42:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163736",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

one doctest is failing (concerning latex representation)



---

archive/issue_comments_163737.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nNew version of the patch which does the changes that Nicolas and I discussed. Ready for another look.\n\nFor patchbot:\n\nApply: trac_13871-virtual_cartan_type-ts.patch",
    "created_at": "2013-07-09T09:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163737",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:8" align="right">comment:8</div>

New version of the patch which does the changes that Nicolas and I discussed. Ready for another look.

For patchbot:

Apply: trac_13871-virtual_cartan_type-ts.patch



---

archive/issue_events_192834.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-07-09T09:46:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192834"
}
```



---

archive/issue_events_192835.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-07-09T09:46:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192835"
}
```



---

archive/issue_comments_163738.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nExplicitly cast the elements of `scaling_factors()` to python `int`s to simplify #13838 and #13872.\n\nFor patchbot:\n\nApply: trac_13871-virtual_cartan_type-ts.patch",
    "created_at": "2013-07-09T10:59:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163738",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">comment:9</div>

Explicitly cast the elements of `scaling_factors()` to python `int`s to simplify #13838 and #13872.

For patchbot:

Apply: trac_13871-virtual_cartan_type-ts.patch



---

archive/issue_comments_163739.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nFixed typo in doctest.\n\nFor patchbot:\n\nApply: trac_13871-virtual_cartan_type-ts.patch",
    "created_at": "2013-07-12T09:51:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163739",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

Fixed typo in doctest.

For patchbot:

Apply: trac_13871-virtual_cartan_type-ts.patch



---

archive/issue_events_192836.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192836"
}
```



---

archive/issue_events_192837.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192837"
}
```



---

archive/issue_comments_163740.json:
```json
{
    "body": "Attachment: **[trac_13871_review.patch.gz](https://github.com/sagemath/sage/files/ticket13871/trac_13871_review.patch.gz)**",
    "created_at": "2013-08-20T20:07:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163740",
    "user": "https://github.com/fchapoton"
}
```

Attachment: **[trac_13871_review.patch.gz](https://github.com/sagemath/sage/files/ticket13871/trac_13871_review.patch.gz)**



---

archive/issue_comments_163741.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nhere is a review patch, just cleaning up and putting things into pep8 shape.\n\nOnce the bot has turned green again, and if you agree with my review patch, I will give a positive review, but there is a point that bothers me :\n\nI have never heard the words \"virtual cartan type\" before. Could you give a reference to an article where this terminology is used ?",
    "created_at": "2013-08-20T20:10:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163741",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:12" align="right">comment:12</div>

here is a review patch, just cleaning up and putting things into pep8 shape.

Once the bot has turned green again, and if you agree with my review patch, I will give a positive review, but there is a point that bothers me :

I have never heard the words "virtual cartan type" before. Could you give a reference to an article where this terminology is used ?



---

archive/issue_comments_163742.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@fchapoton](#comment%3A12):\n> here is a review patch, just cleaning up and putting things into pep8 shape.\n> \n> Once the bot has turned green again, and if you agree with my review patch, I will give a positive review, but there is a point that bothers me :\n> \n> I have never heard the words \"virtual cartan type\" before. Could you give a reference to an article where this terminology is used ?\n\nNicolas and I are going to look at the patch this week since we had some specific comments about the implementation. So please wait until we have looked at it!\n\nThank you,\n\nAnne",
    "created_at": "2013-08-20T20:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163742",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@fchapoton](#comment%3A12):
> here is a review patch, just cleaning up and putting things into pep8 shape.
> 
> Once the bot has turned green again, and if you agree with my review patch, I will give a positive review, but there is a point that bothers me :
> 
> I have never heard the words "virtual cartan type" before. Could you give a reference to an article where this terminology is used ?

Nicolas and I are going to look at the patch this week since we had some specific comments about the implementation. So please wait until we have looked at it!

Thank you,

Anne



---

archive/issue_comments_163743.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nHi Travis!\n\nWe finally had a brainstorm with Anne about this ticket. Sorry that\nthey come so late in the process, but we have some suggestions on how\nto improve the user interface and so.\n\n- Documentation improvements for the main class:\n\n   Start from the definition of `folding` of a simply laced Dynkin\n   diagram from :wikipedia:`Dynkin_diagram` (note that, unlike the\n   current documentation suggests it's not specific to affine).\n\n   Say that the object in Sage models the Cartan type `X`, endowed\n   with the folding from `\\hat(X)`.\n\n   Mention that, in the affine case, the code makes the assumption\n   that the special node is fixed.\n\n   Mention applications to crystals, with refs.\n\n   For the scaling factors, start from a conceptual type free\n   definition. Maybe, following [Schilling FPSAC 2006 p.4] something\n   like: the \\gamma_i are (up to overall factor?) the unique numbers\n   so that:\n\n        \\Lambda_i   ->    \\gamma_i \\sum_j \\Lambda_{j\\in\\orbit(i)}\n\n   is a proper embedding from the weight lattice of X to that of\n   \\hat{X}?\n\n   Then give the combinatorial description in term of the Dynkin\n   diagram and the type-free formula in affine type.\n\n- Suggestions for the user interface:\n\n  ```\n  sage: ct = CartanType([\"G\",2]); ct\n  ['G',2]\n  sage: vct = ct.as_folding(); vct\n  ['G', 2] as folding of ['D', 4]\n  sage: type(vct)\n  <class '....type_folded.CartanType'>\n  sage: vct.folding_of()                 # replaces virtual\n  ['D', 4]\n  sage: sigma = vct.folding_automorphism()       # replaces sigma\n  ```\n\n- Put the implementation accordingly in .../root_system/type_folded.py\n\n- Does scaling_factors work for type BC relabelled?\n\n- Does the type free formula for the scaling factors work for type\n  BC/dual? If not, the doc needs to be updated.\n\nThanks for this useful addition!\n\nCheers,\n                    Anne and Nicolas",
    "created_at": "2013-08-21T20:04:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163743",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:14" align="right">comment:14</div>

Hi Travis!

We finally had a brainstorm with Anne about this ticket. Sorry that
they come so late in the process, but we have some suggestions on how
to improve the user interface and so.

- Documentation improvements for the main class:

   Start from the definition of `folding` of a simply laced Dynkin
   diagram from :wikipedia:`Dynkin_diagram` (note that, unlike the
   current documentation suggests it's not specific to affine).

   Say that the object in Sage models the Cartan type `X`, endowed
   with the folding from `\hat(X)`.

   Mention that, in the affine case, the code makes the assumption
   that the special node is fixed.

   Mention applications to crystals, with refs.

   For the scaling factors, start from a conceptual type free
   definition. Maybe, following [Schilling FPSAC 2006 p.4] something
   like: the \gamma_i are (up to overall factor?) the unique numbers
   so that:

        \Lambda_i   ->    \gamma_i \sum_j \Lambda_{j\in\orbit(i)}

   is a proper embedding from the weight lattice of X to that of
   \hat{X}?

   Then give the combinatorial description in term of the Dynkin
   diagram and the type-free formula in affine type.

- Suggestions for the user interface:

  ```
  sage: ct = CartanType(["G",2]); ct
  ['G',2]
  sage: vct = ct.as_folding(); vct
  ['G', 2] as folding of ['D', 4]
  sage: type(vct)
  <class '....type_folded.CartanType'>
  sage: vct.folding_of()                 # replaces virtual
  ['D', 4]
  sage: sigma = vct.folding_automorphism()       # replaces sigma
  ```

- Put the implementation accordingly in .../root_system/type_folded.py

- Does scaling_factors work for type BC relabelled?

- Does the type free formula for the scaling factors work for type
  BC/dual? If not, the doc needs to be updated.

Thanks for this useful addition!

Cheers,
                    Anne and Nicolas



---

archive/issue_comments_163744.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nHi Travis,\n\nWe forgot a few more things:\n\n- You seem to only work with the orbit of the Dynkin diagram automorphism. Hence the name\n\n```\n    sage: sigma = vct.folding_orbit()       # replaces sigma\n```\nmight actually be more appropriate.\n\n- The output of the orbit is a dictionary. Hence it would make more sense to also take as an input a dictionary with keys the Dynkin labels. In a list it is not completely clear which label go to which (since for example in the finite case the Dynkin nodes are labeled from 1 to `n` rather than 0 to `n`). The output could actually be a family instead of a dictionary.\n\nThanks for your work on this!\n\nNicolas and Anne",
    "created_at": "2013-08-21T20:39:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163744",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:15" align="right">comment:15</div>

Hi Travis,

We forgot a few more things:

- You seem to only work with the orbit of the Dynkin diagram automorphism. Hence the name

```
    sage: sigma = vct.folding_orbit()       # replaces sigma
```
might actually be more appropriate.

- The output of the orbit is a dictionary. Hence it would make more sense to also take as an input a dictionary with keys the Dynkin labels. In a list it is not completely clear which label go to which (since for example in the finite case the Dynkin nodes are labeled from 1 to `n` rather than 0 to `n`). The output could actually be a family instead of a dictionary.

Thanks for your work on this!

Nicolas and Anne



---

archive/issue_comments_163745.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nHere's the new version of the patch with your suggested changes. Thanks all for reviewing this.\n\nBest,\n\nTravis\n\nFor patchbot:\n\nApply: trac_13871-virtual_cartan_type-ts.patch\u200b",
    "created_at": "2013-08-22T02:38:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163745",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:16" align="right">comment:16</div>

Here's the new version of the patch with your suggested changes. Thanks all for reviewing this.

Best,

Travis

For patchbot:

Apply: trac_13871-virtual_cartan_type-ts.patch​



---

archive/issue_comments_163746.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nHi Travis,\n\nThanks for the update. Here are a couple more comments:\n\n- Do you really want to keep ``sigma`` as a variable or rather change it to ``orbit`` since this is what the input is? Also, when you describe what the INPUT is, please be more specific that you are inputting the orbit of a Dynkin diagram automorphism and not the automorphism itself. This is currently confusing in the documentation. Specify that this should be inputted as a dictionary.\n\n- Please add explanations that this is used for crystals (which results into virtual crystals) and give the appropriate references.\n\nThanks!\n\nAnne",
    "created_at": "2013-08-22T07:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163746",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:17" align="right">comment:17</div>

Hi Travis,

Thanks for the update. Here are a couple more comments:

- Do you really want to keep ``sigma`` as a variable or rather change it to ``orbit`` since this is what the input is? Also, when you describe what the INPUT is, please be more specific that you are inputting the orbit of a Dynkin diagram automorphism and not the automorphism itself. This is currently confusing in the documentation. Specify that this should be inputted as a dictionary.

- Please add explanations that this is used for crystals (which results into virtual crystals) and give the appropriate references.

Thanks!

Anne



---

archive/issue_comments_163747.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nHey Anne and Nicolas,\n\nChanged the input to `orbit` and added some more references and updated those for Kirillov-Reshetikhin crystals since I wanted to use one.\n\nBest,\n\nTravis\n\n\nFor patchbot:\n\nApply: trac_13871-virtual_cartan_type-ts.patch\u200b",
    "created_at": "2013-08-22T17:32:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163747",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">comment:18</div>

Hey Anne and Nicolas,

Changed the input to `orbit` and added some more references and updated those for Kirillov-Reshetikhin crystals since I wanted to use one.

Best,

Travis


For patchbot:

Apply: trac_13871-virtual_cartan_type-ts.patch​



---

archive/issue_comments_163748.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nHi Travis,\n\nThank you for making the changes. Could you please also add in INPUT that the orbit is a dictionary to be clear!? \n\nDid you investigate the questions regarding relabelings that we posed?\n\nI get doctest failures\n\n```\nsage -t pieri_factors.py\n**********************************************************************\nFile \"pieri_factors.py\", line 352, in sage.combinat.root_system.pieri_factors.PieriFactors_affine_type.maximal_elements\nFailed example:\n    [w.reduced_word() for w in PF.maximal_elements()]\nExpected:\n    [[0, 2, 3, 2, 0], [1, 0, 2, 3, 2], [2, 3, 2, 1, 0], [3, 2, 1, 0, 2], [1, 2, 3, 2, 1], [2, 1, 0, 2, 3]]\nGot:\n    [[0, 2, 3, 2, 0], [1, 0, 2, 3, 2], [2, 3, 2, 1, 0], [1, 2, 3, 2, 1], [3, 2, 1, 0, 2], [2, 1, 0, 2, 3]]\n**********************************************************************\nFile \"pieri_factors.py\", line 987, in sage.combinat.root_system.pieri_factors.PieriFactors_type_D_affine\nFailed example:\n    [u.reduced_word() for u in PF.maximal_elements()]\nExpected:\n    [[0, 2, 3, 5, 4, 3, 2, 0], [1, 0, 2, 3, 5, 4, 3, 2], [2, 3, 5, 4, 3, 2, 1, 0], [2, 1, 0, 2, 3, 5, 4, 3], [1, 2, 3, 5, 4, 3, 2, 1], [3, 5, 4, 3, 2, 1, 0, 2], [3, 2, 1, 0, 2, 3, 5, 4], [5, 4, 3, 2, 1, 0, 2, 3], [5, 3, 2, 1, 0, 2, 3, 5], [4, 3, 2, 1, 0, 2, 3, 4]]\nGot:\n    [[0, 2, 3, 5, 4, 3, 2, 0], [1, 0, 2, 3, 5, 4, 3, 2], [2, 3, 5, 4, 3, 2, 1, 0], [3, 5, 4, 3, 2, 1, 0, 2], [1, 2, 3, 5, 4, 3, 2, 1], [2, 1, 0, 2, 3, 5, 4, 3], [5, 4, 3, 2, 1, 0, 2, 3], [3, 2, 1, 0, 2, 3, 5, 4], [5, 3, 2, 1, 0, 2, 3, 5], [4, 3, 2, 1, 0, 2, 3, 4]]\n**********************************************************************\n```\nthough I am not sure this is caused by this patch.\n\nAfter compiling the documentation the link to [FOS09] does not seem to work.\n\nBest,\n\nAnne",
    "created_at": "2013-08-22T21:07:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163748",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:19" align="right">comment:19</div>

Hi Travis,

Thank you for making the changes. Could you please also add in INPUT that the orbit is a dictionary to be clear!? 

Did you investigate the questions regarding relabelings that we posed?

I get doctest failures

```
sage -t pieri_factors.py
**********************************************************************
File "pieri_factors.py", line 352, in sage.combinat.root_system.pieri_factors.PieriFactors_affine_type.maximal_elements
Failed example:
    [w.reduced_word() for w in PF.maximal_elements()]
Expected:
    [[0, 2, 3, 2, 0], [1, 0, 2, 3, 2], [2, 3, 2, 1, 0], [3, 2, 1, 0, 2], [1, 2, 3, 2, 1], [2, 1, 0, 2, 3]]
Got:
    [[0, 2, 3, 2, 0], [1, 0, 2, 3, 2], [2, 3, 2, 1, 0], [1, 2, 3, 2, 1], [3, 2, 1, 0, 2], [2, 1, 0, 2, 3]]
**********************************************************************
File "pieri_factors.py", line 987, in sage.combinat.root_system.pieri_factors.PieriFactors_type_D_affine
Failed example:
    [u.reduced_word() for u in PF.maximal_elements()]
Expected:
    [[0, 2, 3, 5, 4, 3, 2, 0], [1, 0, 2, 3, 5, 4, 3, 2], [2, 3, 5, 4, 3, 2, 1, 0], [2, 1, 0, 2, 3, 5, 4, 3], [1, 2, 3, 5, 4, 3, 2, 1], [3, 5, 4, 3, 2, 1, 0, 2], [3, 2, 1, 0, 2, 3, 5, 4], [5, 4, 3, 2, 1, 0, 2, 3], [5, 3, 2, 1, 0, 2, 3, 5], [4, 3, 2, 1, 0, 2, 3, 4]]
Got:
    [[0, 2, 3, 5, 4, 3, 2, 0], [1, 0, 2, 3, 5, 4, 3, 2], [2, 3, 5, 4, 3, 2, 1, 0], [3, 5, 4, 3, 2, 1, 0, 2], [1, 2, 3, 5, 4, 3, 2, 1], [2, 1, 0, 2, 3, 5, 4, 3], [5, 4, 3, 2, 1, 0, 2, 3], [3, 2, 1, 0, 2, 3, 5, 4], [5, 3, 2, 1, 0, 2, 3, 5], [4, 3, 2, 1, 0, 2, 3, 4]]
**********************************************************************
```
though I am not sure this is caused by this patch.

After compiling the documentation the link to [FOS09] does not seem to work.

Best,

Anne



---

archive/issue_comments_163749.json:
```json
{
    "body": "Reviewer: **Federic Chapoton, Anne Schilling, Nicolas Thiery**",
    "created_at": "2013-08-22T21:07:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163749",
    "user": "https://github.com/anneschilling"
}
```

Reviewer: **Federic Chapoton, Anne Schilling, Nicolas Thiery**



---

archive/issue_comments_163750.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nHey Anne,\n\nI expanded on the doc for the `INPUT:` block. The Pieri factors errors occur both with and without my patch applied, so it doesn't seem to be this patch. The link to `[FOS09]` in both `kirillov_reshetikhin.py` and `type_folded.py` work for me. For the type BC scaling factors, I added a doctest showing it works under relabelling.\n\nBest,\n\nTravis",
    "created_at": "2013-08-23T04:32:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163750",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:21" align="right">comment:21</div>

Hey Anne,

I expanded on the doc for the `INPUT:` block. The Pieri factors errors occur both with and without my patch applied, so it doesn't seem to be this patch. The link to `[FOS09]` in both `kirillov_reshetikhin.py` and `type_folded.py` work for me. For the type BC scaling factors, I added a doctest showing it works under relabelling.

Best,

Travis



---

archive/issue_comments_163751.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nFor patchbot:\n\nApply: trac_13871-virtual_cartan_type-ts.patch",
    "created_at": "2013-08-23T04:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163751",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">comment:22</div>

For patchbot:

Apply: trac_13871-virtual_cartan_type-ts.patch



---

archive/issue_comments_163752.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nHi Travis,\n\nOk, looks good now. I let Frederic finish the technical review that he started!\n\nBest,\n\nAnne",
    "created_at": "2013-08-23T07:23:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163752",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:23" align="right">comment:23</div>

Hi Travis,

Ok, looks good now. I let Frederic finish the technical review that he started!

Best,

Anne



---

archive/issue_comments_163753.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nHere's the patch with Frederic's review patch changes as well. I forgot to fold in the review patch before making Anne and Nicolas' changes.\n\nFor patchbot:\n\nApply: trac_13871-virtual_cartan_type-ts.patch",
    "created_at": "2013-08-23T16:09:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163753",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:24" align="right">comment:24</div>

Here's the patch with Frederic's review patch changes as well. I forgot to fold in the review patch before making Anne and Nicolas' changes.

For patchbot:

Apply: trac_13871-virtual_cartan_type-ts.patch



---

archive/issue_comments_163754.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\napply only trac_13871-virtual_cartan_type-ts.patch",
    "created_at": "2013-08-24T19:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163754",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:25" align="right">comment:25</div>

apply only trac_13871-virtual_cartan_type-ts.patch



---

archive/issue_comments_163755.json:
```json
{
    "body": "Changed reviewer from **Federic Chapoton, Anne Schilling, Nicolas Thiery** to **Fr\u00e9d\u00e9ric Chapoton, Anne Schilling, Nicolas Thiery**",
    "created_at": "2013-08-24T19:27:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163755",
    "user": "https://github.com/fchapoton"
}
```

Changed reviewer from **Federic Chapoton, Anne Schilling, Nicolas Thiery** to **Frédéric Chapoton, Anne Schilling, Nicolas Thiery**



---

archive/issue_comments_163756.json:
```json
{
    "body": "Changed reviewer from **Fr\u00e9d\u00e9ric Chapoton, Anne Schilling, Nicolas Thiery** to **Fr\u00e9d\u00e9ric Chapoton, Anne Schilling, Nicolas M. Thi\u00e9ry**",
    "created_at": "2013-08-24T20:54:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163756",
    "user": "https://github.com/nthiery"
}
```

Changed reviewer from **Frédéric Chapoton, Anne Schilling, Nicolas Thiery** to **Frédéric Chapoton, Anne Schilling, Nicolas M. Thiéry**



---

archive/issue_comments_163757.json:
```json
{
    "body": "Work Issues: **doctest**",
    "created_at": "2013-08-25T13:51:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163757",
    "user": "https://github.com/fchapoton"
}
```

Work Issues: **doctest**



---

archive/issue_comments_163758.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nthere is a failing doctest that needs to be corrected",
    "created_at": "2013-08-25T13:51:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163758",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:28" align="right">comment:28</div>

there is a failing doctest that needs to be corrected



---

archive/issue_events_192838.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-08-25T13:51:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192838"
}
```



---

archive/issue_events_192839.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-08-25T13:51:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192839"
}
```



---

archive/issue_comments_163759.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nHere's with the fixed doctest in `type_relabel.py`. IDK about the one in `weierstrass.py`, seems completely unrelated to this patch, and it passed for me:\n\n```\nsage -t --long ../../schemes/toric/weierstrass.py\n    [134 tests, 7.30 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 7.5 seconds\n    cpu time: 6.0 seconds\n    cumulative wall time: 7.3 seconds\n```\n\nFor patchbot:\n\nApply: trac_13871-virtual_cartan_type-ts.patch",
    "created_at": "2013-08-25T17:00:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163759",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">comment:29</div>

Here's with the fixed doctest in `type_relabel.py`. IDK about the one in `weierstrass.py`, seems completely unrelated to this patch, and it passed for me:

```
sage -t --long ../../schemes/toric/weierstrass.py
    [134 tests, 7.30 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 7.5 seconds
    cpu time: 6.0 seconds
    cumulative wall time: 7.3 seconds
```

For patchbot:

Apply: trac_13871-virtual_cartan_type-ts.patch



---

archive/issue_comments_163760.json:
```json
{
    "body": "Changed work issues from **doctest** to none",
    "created_at": "2013-08-25T17:00:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163760",
    "user": "https://github.com/tscrim"
}
```

Changed work issues from **doctest** to none



---

archive/issue_events_192840.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-08-25T17:00:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192840"
}
```



---

archive/issue_events_192841.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-08-25T17:00:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192841"
}
```



---

archive/issue_comments_163761.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nthe role for arxiv is `:arxiv:` and not `:arXiv:`\n\notherwise, everything looks good to me",
    "created_at": "2013-08-25T20:00:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163761",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:30" align="right">comment:30</div>

the role for arxiv is `:arxiv:` and not `:arXiv:`

otherwise, everything looks good to me



---

archive/issue_comments_163762.json:
```json
{
    "body": "Fixed doctests",
    "created_at": "2013-08-25T23:37:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163762",
    "user": "https://github.com/tscrim"
}
```

Fixed doctests



---

archive/issue_comments_163763.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAttachment: **[trac_13871-virtual_cartan_type-ts.patch.gz](https://github.com/sagemath/sage/files/ticket13871/trac_13871-virtual_cartan_type-ts.patch.gz)**\n\nFixed.\n\nFor patchbot:\n\nApply: trac_13871-virtual_cartan_type-ts.patch",
    "created_at": "2013-08-25T23:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163763",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:31" align="right">comment:31</div>

Attachment: **[trac_13871-virtual_cartan_type-ts.patch.gz](https://github.com/sagemath/sage/files/ticket13871/trac_13871-virtual_cartan_type-ts.patch.gz)**

Fixed.

For patchbot:

Apply: trac_13871-virtual_cartan_type-ts.patch



---

archive/issue_events_192842.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-08-29T07:08:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192842"
}
```



---

archive/issue_events_192843.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-08-29T07:08:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192843"
}
```



---

archive/issue_comments_163764.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nok, positive review\n\ncould you please update the description of the ticket ?",
    "created_at": "2013-08-29T07:08:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163764",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:32" align="right">comment:32</div>

ok, positive review

could you please update the description of the ticket ?



---

archive/issue_events_192844.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-08-29T16:43:31Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "title_is": "Folded Cartan types",
    "title_was": "Virtual Cartan types",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192844"
}
```



---

archive/issue_comments_163765.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n-This implements a new class `VirtualCartanType` which takes an affine Cartan type and considers the (affine) diagram folding and stores the associated data.\n+This implements a new class `CartanTypeFolded` which takes a Cartan type and considers the diagram folding and stores the associated data.\n+\n+This also cleans up the references in `kirillov_reshetikhin.py`.\n \n ---\n \n``````\n",
    "created_at": "2013-08-29T16:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163765",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
-This implements a new class `VirtualCartanType` which takes an affine Cartan type and considers the (affine) diagram folding and stores the associated data.
+This implements a new class `CartanTypeFolded` which takes a Cartan type and considers the diagram folding and stores the associated data.
+
+This also cleans up the references in `kirillov_reshetikhin.py`.
 
 ---
 
``````




---

archive/issue_comments_163766.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThank you all for doing the review.",
    "created_at": "2013-08-29T16:43:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163766",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:34" align="right">comment:34</div>

Thank you all for doing the review.



---

archive/issue_comments_163767.json:
```json
{
    "body": "Merged: **sage-5.12.beta5**",
    "created_at": "2013-09-04T08:05:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13871#issuecomment-163767",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.12.beta5**



---

archive/issue_events_192845.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-09-04T08:05:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192845"
}
```



---

archive/issue_events_192846.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-09-04T08:05:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13871",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13871#event-192846"
}
```
