# Issue 13629: provide xgcd for new polynomial rings through _xgcd_univariate_polynomial

archive/issues_013425.json:
```json
{
    "assignees": [
        "https://github.com/aghitza"
    ],
    "body": "Currently, to add xgcd functionality for a new polynomial ring, one needs to add a specialized subclass of PolynomialElement.\n\nThe attached patch allows rings to provide a `_xgcd_univariate_polynomial` method which will be called by PolynomialElement to compute xgcds.\n\nThis is similar to #10635, #13442.\n\nDepends on #13628\nDepends on #18461\nDepends on #18467\n\nCC:  @sagetrac-boerner\n\nKeywords: **sd59**\n\nBranch/Commit: **[`828b5fc`](https://github.com/sagemath/sagetrac-mirror/commit/828b5fc1a62567b98e35167cf686c59340b521f6)**\n\nReviewer: **Peter Bruin, Bruno Grenet**\n\nAuthor: **Julian Rueth**\n\nComponent: **basic arithmetic**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13629_\n\n",
    "closed_at": "2015-05-29T12:22:05Z",
    "created_at": "2012-10-19T20:27:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "provide xgcd for new polynomial rings through _xgcd_univariate_polynomial",
    "type": "issue",
    "updated_at": "2015-05-29T12:22:05Z",
    "url": "https://github.com/sagemath/sage/issues/13629",
    "user": "https://github.com/saraedum"
}
```
Currently, to add xgcd functionality for a new polynomial ring, one needs to add a specialized subclass of PolynomialElement.

The attached patch allows rings to provide a `_xgcd_univariate_polynomial` method which will be called by PolynomialElement to compute xgcds.

This is similar to #10635, #13442.

Depends on #13628
Depends on #18461
Depends on #18467

CC:  @sagetrac-boerner

Keywords: **sd59**

Branch/Commit: **[`828b5fc`](https://github.com/sagemath/sagetrac-mirror/commit/828b5fc1a62567b98e35167cf686c59340b521f6)**

Reviewer: **Peter Bruin, Bruno Grenet**

Author: **Julian Rueth**

Component: **basic arithmetic**

_Issue created by migration from https://trac.sagemath.org/ticket/13629_





---

archive/issue_events_188800.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-10-19T20:27:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188800"
}
```



---

archive/issue_events_188801.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-10-19T20:27:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
    "label_color": "0000ff",
    "label_name": "c: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188801"
}
```



---

archive/issue_events_188802.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-10-19T20:27:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188802"
}
```



---

archive/issue_events_188803.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2012-10-19T20:27:51Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "subject": "https://github.com/saraedum",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188803"
}
```



---

archive/issue_comments_159828.json:
```json
{
    "body": "Changed dependencies from **#13628** to **#13628, #13442**",
    "created_at": "2012-10-19T20:32:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159828",
    "user": "https://github.com/saraedum"
}
```

Changed dependencies from **#13628** to **#13628, #13442**



---

archive/issue_comments_159829.json:
```json
{
    "body": "Changed dependencies from **#13628, #13442** to **#13628**",
    "created_at": "2012-10-19T20:42:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159829",
    "user": "https://github.com/saraedum"
}
```

Changed dependencies from **#13628, #13442** to **#13628**



---

archive/issue_comments_159830.json:
```json
{
    "body": "Attachment: **[trac_13629.patch.gz](https://github.com/sagemath/sage/files/ticket13629/trac_13629.patch.gz)**",
    "created_at": "2012-10-22T02:09:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159830",
    "user": "https://github.com/saraedum"
}
```

Attachment: **[trac_13629.patch.gz](https://github.com/sagemath/sage/files/ticket13629/trac_13629.patch.gz)**



---

archive/issue_events_188804.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-10-22T10:32:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188804"
}
```



---

archive/issue_events_188805.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-10-27T15:06:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188805"
}
```



---

archive/issue_events_188806.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2012-10-27T15:06:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188806"
}
```



---

archive/issue_comments_159831.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI want to remove {{self}} from the docstrings.",
    "created_at": "2012-10-27T15:06:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159831",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:4" align="right">comment:4</div>

I want to remove {{self}} from the docstrings.



---

archive/issue_events_188807.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188807"
}
```



---

archive/issue_events_188808.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188808"
}
```



---

archive/issue_comments_159832.json:
```json
{
    "body": "Branch: **[u/niles/ticket/13629](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/ticket/13629)**",
    "created_at": "2014-01-28T15:34:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159832",
    "user": "https://github.com/nilesjohnson"
}
```

Branch: **[u/niles/ticket/13629](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/ticket/13629)**



---

archive/issue_comments_159833.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nrebased to sage 6.0 and converted to git branch; no other changes\n\nmerges cleanly in local repository in spite of what trac says\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3df98176643734dc7bdc95cc077ef02af274d3b\"><code>c3df981</code></a></td><td><code>Trac #13441: refactored gcd to not use _gcd calls anymore</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b6e9c677f7fe5b4e6a484953b8f8ce1b2ec16d0\"><code>5b6e9c6</code></a></td><td><code>Trac #13628: refactored xgcd to not use _xgcd calls anymore.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/861d6989775ca4d9c9c81fd1cff998d8dd042751\"><code>861d698</code></a></td><td><code>Trac #13629: rings can provide _xgcd_univariate_polynomial for xgcd computations</code></td></tr></table>\n",
    "created_at": "2014-01-28T15:35:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159833",
    "user": "https://github.com/nilesjohnson"
}
```

<div id="comment:7" align="right">comment:7</div>

rebased to sage 6.0 and converted to git branch; no other changes

merges cleanly in local repository in spite of what trac says

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3df98176643734dc7bdc95cc077ef02af274d3b"><code>c3df981</code></a></td><td><code>Trac #13441: refactored gcd to not use _gcd calls anymore</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b6e9c677f7fe5b4e6a484953b8f8ce1b2ec16d0"><code>5b6e9c6</code></a></td><td><code>Trac #13628: refactored xgcd to not use _xgcd calls anymore.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/861d6989775ca4d9c9c81fd1cff998d8dd042751"><code>861d698</code></a></td><td><code>Trac #13629: rings can provide _xgcd_univariate_polynomial for xgcd computations</code></td></tr></table>




---

archive/issue_comments_159834.json:
```json
{
    "body": "Commit: **[`861d698`](https://github.com/sagemath/sagetrac-mirror/commit/861d6989775ca4d9c9c81fd1cff998d8dd042751)**",
    "created_at": "2014-01-28T15:35:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159834",
    "user": "https://github.com/nilesjohnson"
}
```

Commit: **[`861d698`](https://github.com/sagemath/sagetrac-mirror/commit/861d6989775ca4d9c9c81fd1cff998d8dd042751)**



---

archive/issue_comments_159835.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0570335d9d4a84c27c70d259da4a41b75493cd1b\"><code>0570335</code></a></td><td><code>fix arguments for sage.categories.fields._xgcd_univariate_polynomial</code></td></tr></table>\n",
    "created_at": "2014-01-29T19:24:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159835",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0570335d9d4a84c27c70d259da4a41b75493cd1b"><code>0570335</code></a></td><td><code>fix arguments for sage.categories.fields._xgcd_univariate_polynomial</code></td></tr></table>




---

archive/issue_comments_159836.json:
```json
{
    "body": "Changed commit from **[`861d698`](https://github.com/sagemath/sagetrac-mirror/commit/861d6989775ca4d9c9c81fd1cff998d8dd042751)** to **[`0570335`](https://github.com/sagemath/sagetrac-mirror/commit/0570335d9d4a84c27c70d259da4a41b75493cd1b)**",
    "created_at": "2014-01-29T19:24:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159836",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`861d698`](https://github.com/sagemath/sagetrac-mirror/commit/861d6989775ca4d9c9c81fd1cff998d8dd042751)** to **[`0570335`](https://github.com/sagemath/sagetrac-mirror/commit/0570335d9d4a84c27c70d259da4a41b75493cd1b)**



---

archive/issue_comments_159837.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nthe arguments for `sage.categories.fields._xgcd_univariate_polynomial` were incompatible with the way it is used; I've changed them in a way that seems to be working",
    "created_at": "2014-01-29T19:26:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159837",
    "user": "https://github.com/nilesjohnson"
}
```

<div id="comment:9" align="right">comment:9</div>

the arguments for `sage.categories.fields._xgcd_univariate_polynomial` were incompatible with the way it is used; I've changed them in a way that seems to be working



---

archive/issue_events_188809.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188809"
}
```



---

archive/issue_events_188810.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188810"
}
```



---

archive/issue_events_188811.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188811"
}
```



---

archive/issue_events_188812.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188812"
}
```



---

archive/issue_comments_159838.json:
```json
{
    "body": "Changed branch from **[u/niles/ticket/13629](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/ticket/13629)** to **[u/saraedum/ticket/13629](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/13629)**",
    "created_at": "2014-06-25T20:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159838",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/niles/ticket/13629](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/ticket/13629)** to **[u/saraedum/ticket/13629](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/13629)**



---

archive/issue_comments_159839.json:
```json
{
    "body": "Changed keywords from none to **sd59**",
    "created_at": "2014-06-25T20:14:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159839",
    "user": "https://github.com/saraedum"
}
```

Changed keywords from none to **sd59**



---

archive/issue_events_188813.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-06-25T20:14:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188813"
}
```



---

archive/issue_events_188814.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-06-25T20:14:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188814"
}
```



---

archive/issue_comments_159840.json:
```json
{
    "body": "Changed commit from **[`0570335`](https://github.com/sagemath/sagetrac-mirror/commit/0570335d9d4a84c27c70d259da4a41b75493cd1b)** to **[`a5496db`](https://github.com/sagemath/sagetrac-mirror/commit/a5496dbd515728badf46890e8da171ef7eba61ef)**",
    "created_at": "2014-06-28T21:50:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159840",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0570335`](https://github.com/sagemath/sagetrac-mirror/commit/0570335d9d4a84c27c70d259da4a41b75493cd1b)** to **[`a5496db`](https://github.com/sagemath/sagetrac-mirror/commit/a5496dbd515728badf46890e8da171ef7eba61ef)**



---

archive/issue_comments_159841.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5496dbd515728badf46890e8da171ef7eba61ef\"><code>a5496db</code></a></td><td><code>fixed incorrect doctest format</code></td></tr></table>\n",
    "created_at": "2014-06-28T21:50:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159841",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5496dbd515728badf46890e8da171ef7eba61ef"><code>a5496db</code></a></td><td><code>fixed incorrect doctest format</code></td></tr></table>




---

archive/issue_events_188815.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188815"
}
```



---

archive/issue_events_188816.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188816"
}
```



---

archive/issue_comments_159842.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThere's a typo in the documentation of `src/sage/rings/polynomial/polynomial_element.pyx`: \n\n```diff\n+ Compute an extended gcd of this polynomialn and ``other``.\n```\n\nOtherwise, I've the same comment as for [#13442](https://github.com/sagemath/sage/issues/13442#comment:15) on `self` versus `this polynomial`.",
    "created_at": "2014-12-17T18:04:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159842",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:16" align="right">comment:16</div>

There's a typo in the documentation of `src/sage/rings/polynomial/polynomial_element.pyx`: 

```diff
+ Compute an extended gcd of this polynomialn and ``other``.
```

Otherwise, I've the same comment as for [#13442](https://github.com/sagemath/sage/issues/13442#comment:15) on `self` versus `this polynomial`.



---

archive/issue_comments_159843.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAlso, the `INPUT` and `OUTPUT` blocks should not be indented (cf. [#13442 comment:12](https://github.com/sagemath/sage/issues/13442#comment:12)).",
    "created_at": "2014-12-17T19:13:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159843",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:17" align="right">comment:17</div>

Also, the `INPUT` and `OUTPUT` blocks should not be indented (cf. [#13442 comment:12](https://github.com/sagemath/sage/issues/13442#comment:12)).



---

archive/issue_comments_159844.json:
```json
{
    "body": "Changed commit from **[`a5496db`](https://github.com/sagemath/sagetrac-mirror/commit/a5496dbd515728badf46890e8da171ef7eba61ef)** to **[`c6e9746`](https://github.com/sagemath/sagetrac-mirror/commit/c6e9746a135a3169b0d58ccb34bd76a9d22f3a80)**",
    "created_at": "2015-02-02T22:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159844",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a5496db`](https://github.com/sagemath/sagetrac-mirror/commit/a5496dbd515728badf46890e8da171ef7eba61ef)** to **[`c6e9746`](https://github.com/sagemath/sagetrac-mirror/commit/c6e9746a135a3169b0d58ccb34bd76a9d22f3a80)**



---

archive/issue_comments_159845.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6e9746a135a3169b0d58ccb34bd76a9d22f3a80\"><code>c6e9746</code></a></td><td><code>Merge branch 'develop' into t/13629/ticket/13629</code></td></tr></table>\n",
    "created_at": "2015-02-02T22:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159845",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6e9746a135a3169b0d58ccb34bd76a9d22f3a80"><code>c6e9746</code></a></td><td><code>Merge branch 'develop' into t/13629/ticket/13629</code></td></tr></table>




---

archive/issue_comments_159846.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3d778fd433b34edd55e4ccd87400969652830b2\"><code>a3d778f</code></a></td><td><code>Merge branch 'develop' into t/13629/ticket/13629</code></td></tr></table>\n",
    "created_at": "2015-02-02T22:59:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159846",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3d778fd433b34edd55e4ccd87400969652830b2"><code>a3d778f</code></a></td><td><code>Merge branch 'develop' into t/13629/ticket/13629</code></td></tr></table>




---

archive/issue_comments_159847.json:
```json
{
    "body": "Changed commit from **[`c6e9746`](https://github.com/sagemath/sagetrac-mirror/commit/c6e9746a135a3169b0d58ccb34bd76a9d22f3a80)** to **[`a3d778f`](https://github.com/sagemath/sagetrac-mirror/commit/a3d778fd433b34edd55e4ccd87400969652830b2)**",
    "created_at": "2015-02-02T22:59:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159847",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c6e9746`](https://github.com/sagemath/sagetrac-mirror/commit/c6e9746a135a3169b0d58ccb34bd76a9d22f3a80)** to **[`a3d778f`](https://github.com/sagemath/sagetrac-mirror/commit/a3d778fd433b34edd55e4ccd87400969652830b2)**



---

archive/issue_events_188817.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-05-20T16:34:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188817"
}
```



---

archive/issue_events_188818.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-05-20T16:34:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188818"
}
```



---

archive/issue_comments_159848.json:
```json
{
    "body": "Changed dependencies from **#13628** to **#13628, #18461**",
    "created_at": "2015-05-20T16:34:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159848",
    "user": "https://github.com/pjbruin"
}
```

Changed dependencies from **#13628** to **#13628, #18461**



---

archive/issue_comments_159849.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nAfter resolving merge conflicts, one doctest fails due to the bug mentioned in #18461.",
    "created_at": "2015-05-20T16:34:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159849",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:21" align="right">comment:21</div>

After resolving merge conflicts, one doctest fails due to the bug mentioned in #18461.



---

archive/issue_comments_159850.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThe current branch passes all tests.  However, I'm wondering whether `Field._xgcd_univariate_polynomial` shouldn't be implemented as well (cf. #18461) for performance reasons.",
    "created_at": "2015-05-20T19:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159850",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:22" align="right">comment:22</div>

The current branch passes all tests.  However, I'm wondering whether `Field._xgcd_univariate_polynomial` shouldn't be implemented as well (cf. #18461) for performance reasons.



---

archive/issue_comments_159851.json:
```json
{
    "body": "Changed commit from **[`a3d778f`](https://github.com/sagemath/sagetrac-mirror/commit/a3d778fd433b34edd55e4ccd87400969652830b2)** to **[`011592e`](https://github.com/sagemath/sagetrac-mirror/commit/011592eac5427af20416fc5eb8c424d9723f5876)**",
    "created_at": "2015-05-20T19:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159851",
    "user": "https://github.com/pjbruin"
}
```

Changed commit from **[`a3d778f`](https://github.com/sagemath/sagetrac-mirror/commit/a3d778fd433b34edd55e4ccd87400969652830b2)** to **[`011592e`](https://github.com/sagemath/sagetrac-mirror/commit/011592eac5427af20416fc5eb8c424d9723f5876)**



---

archive/issue_comments_159852.json:
```json
{
    "body": "Changed branch from **[u/saraedum/ticket/13629](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/13629)** to **[u/pbruin/13629-xgcd_univariate_polynomial](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/13629-xgcd_univariate_polynomial)**",
    "created_at": "2015-05-20T19:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159852",
    "user": "https://github.com/pjbruin"
}
```

Changed branch from **[u/saraedum/ticket/13629](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/13629)** to **[u/pbruin/13629-xgcd_univariate_polynomial](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/13629-xgcd_univariate_polynomial)**



---

archive/issue_comments_159853.json:
```json
{
    "body": "Reviewer: **Peter Bruin**",
    "created_at": "2015-05-20T19:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159853",
    "user": "https://github.com/pjbruin"
}
```

Reviewer: **Peter Bruin**



---

archive/issue_comments_159854.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI implemented `Field._xgcd_univariate_polynomial` and got a noticeable speed increase.  However, while writing doctests I ran into #18467.",
    "created_at": "2015-05-21T12:19:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159854",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:24" align="right">comment:24</div>

I implemented `Field._xgcd_univariate_polynomial` and got a noticeable speed increase.  However, while writing doctests I ran into #18467.



---

archive/issue_comments_159855.json:
```json
{
    "body": "Changed commit from **[`011592e`](https://github.com/sagemath/sagetrac-mirror/commit/011592eac5427af20416fc5eb8c424d9723f5876)** to **[`828b5fc`](https://github.com/sagemath/sagetrac-mirror/commit/828b5fc1a62567b98e35167cf686c59340b521f6)**",
    "created_at": "2015-05-27T14:17:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159855",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`011592e`](https://github.com/sagemath/sagetrac-mirror/commit/011592eac5427af20416fc5eb8c424d9723f5876)** to **[`828b5fc`](https://github.com/sagemath/sagetrac-mirror/commit/828b5fc1a62567b98e35167cf686c59340b521f6)**



---

archive/issue_comments_159856.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/828b5fc1a62567b98e35167cf686c59340b521f6\"><code>828b5fc</code></a></td><td><code>Trac 13629: implement Field._xgcd_univariate_polynomial</code></td></tr></table>\n",
    "created_at": "2015-05-27T14:17:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159856",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/828b5fc1a62567b98e35167cf686c59340b521f6"><code>828b5fc</code></a></td><td><code>Trac 13629: implement Field._xgcd_univariate_polynomial</code></td></tr></table>




---

archive/issue_comments_159857.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI'm happy with the current state of the ticket, but it is probably good if someone checks my last two commits before this can get a positive review.",
    "created_at": "2015-05-27T14:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159857",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:26" align="right">comment:26</div>

I'm happy with the current state of the ticket, but it is probably good if someone checks my last two commits before this can get a positive review.



---

archive/issue_comments_159858.json:
```json
{
    "body": "Changed dependencies from **#13628, #18461** to **#13628, #18461, #18467**",
    "created_at": "2015-05-27T14:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159858",
    "user": "https://github.com/pjbruin"
}
```

Changed dependencies from **#13628, #18461** to **#13628, #18461, #18467**



---

archive/issue_events_188819.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-05-27T14:21:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188819"
}
```



---

archive/issue_events_188820.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-05-27T14:21:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188820"
}
```



---

archive/issue_comments_159859.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nWith the current state of this ticket, there are two implementations of `_xgcd_univariate_polynomial`, one in the class `Field` (in `src/sage/rings/rings.pyx`) and one in the class `ParentMethods` of the class `Fields` (in `src/sage/categories/fields.py`). \n\n1. In which case(s) will each of these implementations be used?\n2. Is the implementation in `Fields` really needed?\n\nI note that the exact same questions are equally relevant for the positive-reviewed (by myself!) ticket #18461. I simply did not think of that issue before.",
    "created_at": "2015-05-27T15:36:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159859",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:27" align="right">comment:27</div>

With the current state of this ticket, there are two implementations of `_xgcd_univariate_polynomial`, one in the class `Field` (in `src/sage/rings/rings.pyx`) and one in the class `ParentMethods` of the class `Fields` (in `src/sage/categories/fields.py`). 

1. In which case(s) will each of these implementations be used?
2. Is the implementation in `Fields` really needed?

I note that the exact same questions are equally relevant for the positive-reviewed (by myself!) ticket #18461. I simply did not think of that issue before.



---

archive/issue_comments_159860.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@bgrenet](#comment%3A27):\n> With the current state of this ticket, there are two implementations of `_xgcd_univariate_polynomial`, one in the class `Field` (in `src/sage/rings/rings.pyx`) and one in the class `ParentMethods` of the class `Fields` (in `src/sage/categories/fields.py`). \n> \n> 1. In which case(s) will each of these implementations be used?\n\nThe implementation in `sage.rings.ring.Field` is used if the base ring inherits from `Field`.\nThe implementation in `sage.categories.fields.Fields.ParentMethods` is used if the base ring is a field but does not inherit from `Field`; the method is then looked up by the category framework.\n\nThe latter situation is sometimes detected only at runtime:\n\n```\nsage: R = Zmod(7)\nsage: R._xgcd_univariate_polynomial\nTraceback (most recent call last):\n...\nAttributeError: 'IntegerModRing_generic_with_category' object has no attribute '_xgcd_univariate_polynomial'\nsage: R in Fields()\nTrue\nsage: R._xgcd_univariate_polynomial\n<bound method IntegerModRing_generic_with_category._xgcd_univariate_polynomial of Ring of integers modulo 7>\n```\nI suspect it is a feature (to avoid a potentially costly primality test) and not a bug that the method only appears after we have forced `R` to refine its category...\n> 2. Is the implementation in `Fields` really needed?\n\nI think it is, as the above example shows.\n> I note that the exact same questions are equally relevant for the positive-reviewed (by myself!) ticket #18461. I simply did not think of that issue before.\n\nI did have the above picture in mind when working on both tickets, and I am afraid the situation is unavoidable without lots of refactoring.\n\nOne thing that could be done to reduce duplication is making `quo_rem` the primitive operation that base rings of polynomial rings should implement, instead of the two operations `_[x]gcd_univariate_polynomial`.  That would be something for a follow-up ticket, though.",
    "created_at": "2015-05-27T16:41:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159860",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@bgrenet](#comment%3A27):
> With the current state of this ticket, there are two implementations of `_xgcd_univariate_polynomial`, one in the class `Field` (in `src/sage/rings/rings.pyx`) and one in the class `ParentMethods` of the class `Fields` (in `src/sage/categories/fields.py`). 
> 
> 1. In which case(s) will each of these implementations be used?

The implementation in `sage.rings.ring.Field` is used if the base ring inherits from `Field`.
The implementation in `sage.categories.fields.Fields.ParentMethods` is used if the base ring is a field but does not inherit from `Field`; the method is then looked up by the category framework.

The latter situation is sometimes detected only at runtime:

```
sage: R = Zmod(7)
sage: R._xgcd_univariate_polynomial
Traceback (most recent call last):
...
AttributeError: 'IntegerModRing_generic_with_category' object has no attribute '_xgcd_univariate_polynomial'
sage: R in Fields()
True
sage: R._xgcd_univariate_polynomial
<bound method IntegerModRing_generic_with_category._xgcd_univariate_polynomial of Ring of integers modulo 7>
```
I suspect it is a feature (to avoid a potentially costly primality test) and not a bug that the method only appears after we have forced `R` to refine its category...
> 2. Is the implementation in `Fields` really needed?

I think it is, as the above example shows.
> I note that the exact same questions are equally relevant for the positive-reviewed (by myself!) ticket #18461. I simply did not think of that issue before.

I did have the above picture in mind when working on both tickets, and I am afraid the situation is unavoidable without lots of refactoring.

One thing that could be done to reduce duplication is making `quo_rem` the primitive operation that base rings of polynomial rings should implement, instead of the two operations `_[x]gcd_univariate_polynomial`.  That would be something for a follow-up ticket, though.



---

archive/issue_comments_159861.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@pjbruin](#comment%3A28):\n> I suspect it is a feature (to avoid a potentially costly primality test) and not a bug that the method only appears after we have forced `R` to refine its category...\n\nOK, thank you for the explanation.\n\n> > I note that the exact same questions are equally relevant for the positive-reviewed (by myself!) ticket #18461. I simply did not think of that issue before.\n\n> I did have the above picture in mind when working on both tickets, and I am afraid the situation is unavoidable without lots of refactoring.\n> \n> One thing that could be done to reduce duplication is making `quo_rem` the primitive operation that base rings of polynomial rings should implement, instead of the two operations `_[x]gcd_univariate_polynomial`.  That would be something for a follow-up ticket, though.\n\nI am not sure what would be the best solution to avoid code duplication in such cases, though I totally agree that it does not belong to this ticket! \n\nI'm running tests to check everything is OK.",
    "created_at": "2015-05-28T08:12:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159861",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@pjbruin](#comment%3A28):
> I suspect it is a feature (to avoid a potentially costly primality test) and not a bug that the method only appears after we have forced `R` to refine its category...

OK, thank you for the explanation.

> > I note that the exact same questions are equally relevant for the positive-reviewed (by myself!) ticket #18461. I simply did not think of that issue before.

> I did have the above picture in mind when working on both tickets, and I am afraid the situation is unavoidable without lots of refactoring.
> 
> One thing that could be done to reduce duplication is making `quo_rem` the primitive operation that base rings of polynomial rings should implement, instead of the two operations `_[x]gcd_univariate_polynomial`.  That would be something for a follow-up ticket, though.

I am not sure what would be the best solution to avoid code duplication in such cases, though I totally agree that it does not belong to this ticket! 

I'm running tests to check everything is OK.



---

archive/issue_comments_159862.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThe current branch does not pass the tests. The failed test is in `src/sage/rings/ring.pyx`, lines 2196-2203:\n\n```python\nsage: for A in (RR, CC, QQbar):\n....:     g = A._gcd_univariate_polynomial\n....:     R.<x> = A[]\n....:     z = R.zero()\n....:     assert(g(2*x, 2*x^2) == x and\n....:            g(z, 2*x) == x and\n....:            g(2*x, z) == x and\n....:            g(z, z) == z)\n```\n\nMore precisely, I've got the following severe bug:\n\n```python\nsage: R.<x> = RR[]\nsage: z, h = R(0), R(1/2)\nsage: (xx, hh, zz) = RR._xgcd_univariate_polynomial(2*x, 2*x^2)\nsage: zz == z\nFalse\nsage: zz-z\nBOOOM! (SegFault)\n```\n\nThe crash log is empty.",
    "created_at": "2015-05-28T08:54:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159862",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:30" align="right">comment:30</div>

The current branch does not pass the tests. The failed test is in `src/sage/rings/ring.pyx`, lines 2196-2203:

```python
sage: for A in (RR, CC, QQbar):
....:     g = A._gcd_univariate_polynomial
....:     R.<x> = A[]
....:     z = R.zero()
....:     assert(g(2*x, 2*x^2) == x and
....:            g(z, 2*x) == x and
....:            g(2*x, z) == x and
....:            g(z, z) == z)
```

More precisely, I've got the following severe bug:

```python
sage: R.<x> = RR[]
sage: z, h = R(0), R(1/2)
sage: (xx, hh, zz) = RR._xgcd_univariate_polynomial(2*x, 2*x^2)
sage: zz == z
False
sage: zz-z
BOOOM! (SegFault)
```

The crash log is empty.



---

archive/issue_events_188821.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-05-28T08:54:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188821"
}
```



---

archive/issue_events_188822.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-05-28T08:54:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188822"
}
```



---

archive/issue_comments_159863.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@bgrenet](#comment%3A30):\n> The current branch does not pass the tests.\n\nYou have to merge #18467 (which is also in 6.8.beta1)...",
    "created_at": "2015-05-28T09:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159863",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@bgrenet](#comment%3A30):
> The current branch does not pass the tests.

You have to merge #18467 (which is also in 6.8.beta1)...



---

archive/issue_comments_159864.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@pjbruin](#comment%3A31):\n> Replying to [@bgrenet](#comment%3A30):\n> > The current branch does not pass the tests.\n\n> You have to merge #18467 (which is also in 6.8.beta1)...\n\nHmmm, there my git knowledge is not sufficient I guess. So let me take the opportunity to ask a few questions:\n\n1. My `develop` branch is up-to-date (6.8.beta1). When I switch to this branch (`git checkout t/13629/...`) I need to recompile a lot. I there a way to decrease the compilation needed to work on such tickets?\n2. Since the ticket depends on #18467, shouldn't you add a commit to merge #18467?\n3. What is the correct (or the best one if there are several) way to merge #18467, so that I can correctly test this branch?\n\nThanks in advance!",
    "created_at": "2015-05-28T09:39:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159864",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@pjbruin](#comment%3A31):
> Replying to [@bgrenet](#comment%3A30):
> > The current branch does not pass the tests.

> You have to merge #18467 (which is also in 6.8.beta1)...

Hmmm, there my git knowledge is not sufficient I guess. So let me take the opportunity to ask a few questions:

1. My `develop` branch is up-to-date (6.8.beta1). When I switch to this branch (`git checkout t/13629/...`) I need to recompile a lot. I there a way to decrease the compilation needed to work on such tickets?
2. Since the ticket depends on #18467, shouldn't you add a commit to merge #18467?
3. What is the correct (or the best one if there are several) way to merge #18467, so that I can correctly test this branch?

Thanks in advance!



---

archive/issue_events_188823.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-05-28T11:19:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188823"
}
```



---

archive/issue_events_188824.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-05-28T11:19:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188824"
}
```



---

archive/issue_comments_159865.json:
```json
{
    "body": "Changed reviewer from **Peter Bruin** to **Peter Bruin, Bruno Grenet**",
    "created_at": "2015-05-28T11:19:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159865",
    "user": "https://github.com/bgrenet"
}
```

Changed reviewer from **Peter Bruin** to **Peter Bruin, Bruno Grenet**



---

archive/issue_comments_159866.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nOK, I've been able to test the ticket with #18467 merged and all tests pass. This is fine to me!",
    "created_at": "2015-05-28T11:19:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159866",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:33" align="right">comment:33</div>

OK, I've been able to test the ticket with #18467 merged and all tests pass. This is fine to me!



---

archive/issue_comments_159867.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@bgrenet](#comment%3A32):\n> 1. My `develop` branch is up-to-date (6.8.beta1). When I switch to this branch (`git checkout t/13629/...`) I need to recompile a lot. I there a way to decrease the compilation needed to work on such tickets?\n\n`git pull trac u/pbruin/13629-xgcd_univariate_polynomial`; this merges with the branch that you have currently checked out (`develop` in this case)\n> 2. Since the ticket depends on #18467, shouldn't you add a commit to merge #18467?\n\nPeople have differing opinions about this; I prefer to avoid unnecessary merge commits.\n> 3. What is the correct (or the best one if there are several) way to merge #18467, so that I can correctly test this branch?\n\nIf you used the command as in (1) this should not be necessary, but in general you can do `git pull trac BRANCH` where `BRANCH` is the name of the branch on Trac that you want to merge.  (If you want to merge a local branch, the analogous command is `git merge BRANCH`.)",
    "created_at": "2015-05-28T11:59:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159867",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@bgrenet](#comment%3A32):
> 1. My `develop` branch is up-to-date (6.8.beta1). When I switch to this branch (`git checkout t/13629/...`) I need to recompile a lot. I there a way to decrease the compilation needed to work on such tickets?

`git pull trac u/pbruin/13629-xgcd_univariate_polynomial`; this merges with the branch that you have currently checked out (`develop` in this case)
> 2. Since the ticket depends on #18467, shouldn't you add a commit to merge #18467?

People have differing opinions about this; I prefer to avoid unnecessary merge commits.
> 3. What is the correct (or the best one if there are several) way to merge #18467, so that I can correctly test this branch?

If you used the command as in (1) this should not be necessary, but in general you can do `git pull trac BRANCH` where `BRANCH` is the name of the branch on Trac that you want to merge.  (If you want to merge a local branch, the analogous command is `git merge BRANCH`.)



---

archive/issue_comments_159868.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nThank you for the clarifications. One point still:\n\nReplying to [@pjbruin](#comment%3A34):\n> Replying to [@bgrenet](#comment%3A32):\n> > 1. My `develop` branch is up-to-date (6.8.beta1). When I switch to this branch (`git checkout t/13629/...`) I need to recompile a lot. I there a way to decrease the compilation needed to work on such tickets?\n\n> `git pull trac u/pbruin/13629-xgcd_univariate_polynomial`; this merges with the branch that you have currently checked out (`develop` in this case)\n\nDoesn't this modify my *local* `develop` branch? What I did finally to review the ticket is to create a new branch (`git branch ticket/13629`), then pull your branch (`git trac pull 13629`, which I guess does the same as what you propose). So finally this is close to what you mention. \n\nMy question though: Isn't it *dangerous* to modify the local `develop` branch? (I wouldn't like to take the risk to mess up some things I do not understand ;-).)\n\nThanks again!",
    "created_at": "2015-05-28T12:06:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159868",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:35" align="right">comment:35</div>

Thank you for the clarifications. One point still:

Replying to [@pjbruin](#comment%3A34):
> Replying to [@bgrenet](#comment%3A32):
> > 1. My `develop` branch is up-to-date (6.8.beta1). When I switch to this branch (`git checkout t/13629/...`) I need to recompile a lot. I there a way to decrease the compilation needed to work on such tickets?

> `git pull trac u/pbruin/13629-xgcd_univariate_polynomial`; this merges with the branch that you have currently checked out (`develop` in this case)

Doesn't this modify my *local* `develop` branch? What I did finally to review the ticket is to create a new branch (`git branch ticket/13629`), then pull your branch (`git trac pull 13629`, which I guess does the same as what you propose). So finally this is close to what you mention. 

My question though: Isn't it *dangerous* to modify the local `develop` branch? (I wouldn't like to take the risk to mess up some things I do not understand ;-).)

Thanks again!



---

archive/issue_comments_159869.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@bgrenet](#comment%3A35):\n> Doesn't this modify my *local* `develop` branch? What I did finally to review the ticket is to create a new branch (`git branch ticket/13629`), then pull your branch (`git trac pull 13629`, which I guess does the same as what you propose). So finally this is close to what you mention. \n> \n> My question though: Isn't it *dangerous* to modify the local `develop` branch? (I wouldn't like to take the risk to mess up some things I do not understand ;-).)\n\nYes, I should have said that you should create a new branch first, which seems to be what you did (but be careful to check out the branch first with `git checkout ticket/13629`; you can actually create the new branch at the same time with `git checkout -b 13629`).",
    "created_at": "2015-05-28T12:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159869",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@bgrenet](#comment%3A35):
> Doesn't this modify my *local* `develop` branch? What I did finally to review the ticket is to create a new branch (`git branch ticket/13629`), then pull your branch (`git trac pull 13629`, which I guess does the same as what you propose). So finally this is close to what you mention. 
> 
> My question though: Isn't it *dangerous* to modify the local `develop` branch? (I wouldn't like to take the risk to mess up some things I do not understand ;-).)

Yes, I should have said that you should create a new branch first, which seems to be what you did (but be careful to check out the branch first with `git checkout ticket/13629`; you can actually create the new branch at the same time with `git checkout -b 13629`).



---

archive/issue_comments_159870.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@pjbruin](#comment%3A36):\n> Replying to [@bgrenet](#comment%3A35):\n> > Doesn't this modify my *local* `develop` branch? What I did finally to review the ticket is to create a new branch (`git branch ticket/13629`), then pull your branch (`git trac pull 13629`, which I guess does the same as what you propose). So finally this is close to what you mention. \n> > \n> > My question though: Isn't it *dangerous* to modify the local `develop` branch? (I wouldn't like to take the risk to mess up some things I do not understand ;-).)\n\n> Yes, I should have said that you should create a new branch first, which seems to be what you did (but be careful to check out the branch first with `git checkout ticket/13629`; you can actually create the new branch at the same time with `git checkout -b 13629`).\n\nRight, I did not mention the `git checkout ticket/13629` that I indeed did. Thanks again, and thank you for the shortcut! The way it works is now clearer.",
    "created_at": "2015-05-28T12:35:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159870",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@pjbruin](#comment%3A36):
> Replying to [@bgrenet](#comment%3A35):
> > Doesn't this modify my *local* `develop` branch? What I did finally to review the ticket is to create a new branch (`git branch ticket/13629`), then pull your branch (`git trac pull 13629`, which I guess does the same as what you propose). So finally this is close to what you mention. 
> > 
> > My question though: Isn't it *dangerous* to modify the local `develop` branch? (I wouldn't like to take the risk to mess up some things I do not understand ;-).)

> Yes, I should have said that you should create a new branch first, which seems to be what you did (but be careful to check out the branch first with `git checkout ticket/13629`; you can actually create the new branch at the same time with `git checkout -b 13629`).

Right, I did not mention the `git checkout ticket/13629` that I indeed did. Thanks again, and thank you for the shortcut! The way it works is now clearer.



---

archive/issue_comments_159871.json:
```json
{
    "body": "Changed branch from **[u/pbruin/13629-xgcd_univariate_polynomial](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/13629-xgcd_univariate_polynomial)** to **[`828b5fc`](https://github.com/sagemath/sagetrac-mirror/commit/828b5fc1a62567b98e35167cf686c59340b521f6)**",
    "created_at": "2015-05-29T12:22:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13629#issuecomment-159871",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/pbruin/13629-xgcd_univariate_polynomial](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/13629-xgcd_univariate_polynomial)** to **[`828b5fc`](https://github.com/sagemath/sagetrac-mirror/commit/828b5fc1a62567b98e35167cf686c59340b521f6)**



---

archive/issue_events_188825.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-29T12:22:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188825"
}
```



---

archive/issue_events_188826.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "150e48f4cff7f5f26fb409d09fc9ce63f1b2cda5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-05-29T12:22:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13629",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13629#event-188826"
}
```
