# Issue 13440: Adding reverse_edge() function to DiGraph

archive/issues_013268.json:
```json
{
    "body": "Adding reverse_edge() function to DiGraph\n\nApply:\n\n*  [attachment:trac_13440-reverse-edge.patch]\n*  [attachment:trac_13440-review.patch]\n*  [attachment:trac_13440-second-review.patch]\n\n**Assignee:** @jasongrout, @nathanncohen, @rlmill\n\n**CC:**  gmoose05 @dcoudert @nathanncohen\n\n**Keywords:** digraph, sd40\n\n**Reviewer:** Gregg Musiker, Nathann Cohen\n\n**Author:** Emily Gunawan\n\n**Merged:** sage-5.8.beta0\n\nIssue created by migration from https://trac.sagemath.org/ticket/13440\n\n",
    "closed_at": "2013-02-17T22:42:38Z",
    "created_at": "2012-09-08T00:15:09Z",
    "labels": [
        "component: graph theory",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.8",
    "title": "Adding reverse_edge() function to DiGraph",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/13440",
    "user": "https://github.com/egunawan"
}
```
Adding reverse_edge() function to DiGraph

Apply:

*  [attachment:trac_13440-reverse-edge.patch]
*  [attachment:trac_13440-review.patch]
*  [attachment:trac_13440-second-review.patch]

**Assignee:** @jasongrout, @nathanncohen, @rlmill

**CC:**  gmoose05 @dcoudert @nathanncohen

**Keywords:** digraph, sd40

**Reviewer:** Gregg Musiker, Nathann Cohen

**Author:** Emily Gunawan

**Merged:** sage-5.8.beta0

Issue created by migration from https://trac.sagemath.org/ticket/13440





---

archive/issue_comments_159135.json:
```json
{
    "body": "**Reviewer:** gmoose05",
    "created_at": "2012-09-08T00:16:42Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159135",
    "user": "https://github.com/egunawan"
}
```

**Reviewer:** gmoose05



---

archive/attachments_018245.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac13440-reverse-edge.patch",
    "asset_url": "tarball://root/attachments/ticket13440/trac13440-reverse-edge.patch",
    "created_at": "2012-11-29T03:37:34Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket13440/trac13440-reverse-edge.patch",
    "user": "https://github.com/egunawan"
}
```



---

archive/issue_comments_159136.json:
```json
{
    "body": "Attachment [trac13440-reverse-edge.patch](https://github.com/sagemath/sage/files/ticket13440/trac13440-reverse-edge.patch) by @egunawan created at 2012-11-29 03:37:34",
    "created_at": "2012-11-29T03:37:34Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159136",
    "user": "https://github.com/egunawan"
}
```

Attachment [trac13440-reverse-edge.patch](https://github.com/sagemath/sage/files/ticket13440/trac13440-reverse-edge.patch) by @egunawan created at 2012-11-29 03:37:34



---

archive/issue_comments_159137.json:
```json
{
    "body": "<a id='comment:2'></a>\nRegarding  trac13440-reverse-edge.patch (the second patch attached on Nov 28):\nEmily: edge_label() takes two parameters only, the in-edge and out-vertex, but it returns a list if the digraph allows multiedges and returns a single value if the digraph does not allow multiedges, so I put two separate cases for multiedge digraph and single-edge digraph.\n\nGregg: - One other small comment: I would add one or two more examples to include other cases such as weighted graphs, with parallel edges, with examples where the input is a 3-tuple rather than a 2-tuple, just to cover the cases the method can handle.\n\nEmily: What does it mean when weighted = True? I think it means something other than allowing edges to have labels? I  added some examples/ tests for digraph where weighted = True anyway in this patch.",
    "created_at": "2012-11-29T03:40:20Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159137",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:2'></a>
Regarding  trac13440-reverse-edge.patch (the second patch attached on Nov 28):
Emily: edge_label() takes two parameters only, the in-edge and out-vertex, but it returns a list if the digraph allows multiedges and returns a single value if the digraph does not allow multiedges, so I put two separate cases for multiedge digraph and single-edge digraph.

Gregg: - One other small comment: I would add one or two more examples to include other cases such as weighted graphs, with parallel edges, with examples where the input is a 3-tuple rather than a 2-tuple, just to cover the cases the method can handle.

Emily: What does it mean when weighted = True? I think it means something other than allowing edges to have labels? I  added some examples/ tests for digraph where weighted = True anyway in this patch.



---

archive/issue_events_114421.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/gmoose05",
    "created_at": "2012-11-29T04:52:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114421"
}
```



---

archive/issue_comments_159138.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n Adding reverse_edge() function to DiGraph (related to #7720)\n+\n+Apply second patch only.\n``````\n",
    "created_at": "2012-11-29T04:52:08Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159138",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 Adding reverse_edge() function to DiGraph (related to #7720)
+
+Apply second patch only.
``````




---

archive/issue_comments_159139.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Adding reverse_edge() function to DiGraph (related to #7720)\n \n-Apply second patch only.\n+Apply third patch only.\n``````\n",
    "created_at": "2012-11-29T18:30:25Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159139",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Adding reverse_edge() function to DiGraph (related to #7720)
 
-Apply second patch only.
+Apply third patch only.
``````




---

archive/issue_comments_159140.json:
```json
{
    "body": "<a id='comment:5'></a>\nNew patch added (supersedes old patches).  Some syntax issues with EXAMPLES and other tiny changes.  Thanks to Hugh Thomas for catching some of these.",
    "created_at": "2012-11-29T18:32:30Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159140",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

<a id='comment:5'></a>
New patch added (supersedes old patches).  Some syntax issues with EXAMPLES and other tiny changes.  Thanks to Hugh Thomas for catching some of these.



---

archive/attachments_018246.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_13440-rev_edge-gm.patch",
    "asset_url": "tarball://root/attachments/ticket13440/trac_13440-rev_edge-gm.patch",
    "created_at": "2012-11-30T05:32:31Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket13440/trac_13440-rev_edge-gm.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```



---

archive/issue_comments_159141.json:
```json
{
    "body": "Attachment [trac_13440-rev_edge-gm.patch](https://github.com/sagemath/sage/files/ticket13440/trac_13440-rev_edge-gm.patch) by gmoose05 created at 2012-11-30 05:32:31",
    "created_at": "2012-11-30T05:32:31Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159141",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

Attachment [trac_13440-rev_edge-gm.patch](https://github.com/sagemath/sage/files/ticket13440/trac_13440-rev_edge-gm.patch) by gmoose05 created at 2012-11-30 05:32:31



---

archive/issue_events_114422.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/gmoose05",
    "created_at": "2012-11-30T19:30:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114422"
}
```



---

archive/issue_events_114423.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/gmoose05",
    "created_at": "2012-11-30T19:30:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114423"
}
```



---

archive/issue_events_114424.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2012-12-01T16:44:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114424"
}
```



---

archive/issue_events_114425.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2012-12-01T16:44:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114425"
}
```



---

archive/issue_comments_159142.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Adding reverse_edge() function to DiGraph (related to #7720)\n \n-Apply third patch only.\n+Apply:\n+\n+*  [attachment:trac_13440-rev_edge-gm.patch]\n``````\n",
    "created_at": "2012-12-01T16:44:48Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159142",
    "user": "https://github.com/dcoudert"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Adding reverse_edge() function to DiGraph (related to #7720)
 
-Apply third patch only.
+Apply:
+
+*  [attachment:trac_13440-rev_edge-gm.patch]
``````




---

archive/issue_comments_159143.json:
```json
{
    "body": "<a id='comment:7'></a>\nHello,\n\nthis patch is interesting, but further improvements are needed:\n1. Use self.copy() instead of copy(self), and don't import copy.\n2. You must add optional parameter `inplace=False` allowing to perform changes inside the input digraph. This is particularly important for `reverse_edges` since the current implementation performs as many digraph copies as the number of edges to reverse. This is not good at all. So the `reverse_edge ` function should start with: `tempG = self if inplace else self.copy()` And the `reverse_edges` function must always called the `reverse_edge` with `inplace=True`.\n3. The documentation must be improved. Take a look at the `add_edge` method for instance. And also check the final layout.\n\nAlso, concerning trac:\n* You must put full names and not login for Author and Reviewer.\n* I have change the ticket to clarify the file to use\n* you should not add new files but overwrite old version if it is an improved version",
    "created_at": "2012-12-01T16:44:48Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159143",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>
Hello,

this patch is interesting, but further improvements are needed:
1. Use self.copy() instead of copy(self), and don't import copy.
2. You must add optional parameter `inplace=False` allowing to perform changes inside the input digraph. This is particularly important for `reverse_edges` since the current implementation performs as many digraph copies as the number of edges to reverse. This is not good at all. So the `reverse_edge ` function should start with: `tempG = self if inplace else self.copy()` And the `reverse_edges` function must always called the `reverse_edge` with `inplace=True`.
3. The documentation must be improved. Take a look at the `add_edge` method for instance. And also check the final layout.

Also, concerning trac:
* You must put full names and not login for Author and Reviewer.
* I have change the ticket to clarify the file to use
* you should not add new files but overwrite old version if it is an improved version



---

archive/issue_comments_159144.json:
```json
{
    "body": "<a id='comment:8'></a>\nDear David, Thank you for your feedback, and for editing the description to make it clearer which patch file to use.  I have updated the author and reviewer names accordingly.\n\nAs for you point about overwriting old versions,  for the most part we have been doing that, but for one such replacement, there was a small typo in the patch name that wasn't noticed until after the upload.  Is there a mechanism to delete a patch off of trac or to still do a replacement after this?  Thanks, Gregg",
    "created_at": "2012-12-01T18:07:32Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159144",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

<a id='comment:8'></a>
Dear David, Thank you for your feedback, and for editing the description to make it clearer which patch file to use.  I have updated the author and reviewer names accordingly.

As for you point about overwriting old versions,  for the most part we have been doing that, but for one such replacement, there was a small typo in the patch name that wasn't noticed until after the upload.  Is there a mechanism to delete a patch off of trac or to still do a replacement after this?  Thanks, Gregg



---

archive/issue_comments_159145.json:
```json
{
    "body": "**Changing reviewer** from \"gmoose05\" to \"Gregg Musiker\".",
    "created_at": "2012-12-01T18:07:32Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159145",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

**Changing reviewer** from "gmoose05" to "Gregg Musiker".



---

archive/issue_comments_159146.json:
```json
{
    "body": "**Changing author** from \"egunawan\" to \"Emily Gunawan\".",
    "created_at": "2012-12-01T18:07:32Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159146",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

**Changing author** from "egunawan" to "Emily Gunawan".



---

archive/issue_comments_159147.json:
```json
{
    "body": "<a id='comment:9'></a>\nSomeone with admin rights can certainly do that (so not me). However, it is not a big issue.\nThe most important is to ensure one can easily understand which file(s) to apply and in which order.",
    "created_at": "2012-12-01T18:13:14Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159147",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:9'></a>
Someone with admin rights can certainly do that (so not me). However, it is not a big issue.
The most important is to ensure one can easily understand which file(s) to apply and in which order.



---

archive/issue_comments_159148.json:
```json
{
    "body": "<a id='comment:11'></a>\nIf I may express a personal opinion, I really think that adding methods that replace the two lines of code you have to write -- when you know the digraph you deal with -- is not really what we need right now, considering the length of the list of DiGraph's functions.... These methods spend more time checking the input (labelled ? Multigraph ?) than actually doing what they are asked to do, even do unnecessary operations (your code begins by checking that the edge given as an argument actually exists in the graph....).\n\nAnd as usual when dealing with this mess of options, you have the usual corner-cases which have no good solution in general\n\nExample : \n\n```\nsage: d = DiGraph()\nsage: d.add_edge(1,2)\nsage: d.add_edge(2,1)\nsage: d.edges()\n[(1, 2, None), (2, 1, None)]\nsage: dd= d.reverse_edge((1,2)) \nsage: dd.edges()\n[(2, 1, None)]\n```\n\nAs there is no good way to fix this, it makes the function unreliable (you have no idea what the output could be unless you read the code) --> it is better (and faster) to rewrite your own than to use a method whose behaviour could be unexpected (also called : wrong). Like with the merge_* methods, and many others ....\n\nOf course, it is just my personal opinion... \n\nNathann",
    "created_at": "2012-12-02T18:36:53Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159148",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>
If I may express a personal opinion, I really think that adding methods that replace the two lines of code you have to write -- when you know the digraph you deal with -- is not really what we need right now, considering the length of the list of DiGraph's functions.... These methods spend more time checking the input (labelled ? Multigraph ?) than actually doing what they are asked to do, even do unnecessary operations (your code begins by checking that the edge given as an argument actually exists in the graph....).

And as usual when dealing with this mess of options, you have the usual corner-cases which have no good solution in general

Example : 

```
sage: d = DiGraph()
sage: d.add_edge(1,2)
sage: d.add_edge(2,1)
sage: d.edges()
[(1, 2, None), (2, 1, None)]
sage: dd= d.reverse_edge((1,2)) 
sage: dd.edges()
[(2, 1, None)]
```

As there is no good way to fix this, it makes the function unreliable (you have no idea what the output could be unless you read the code) --> it is better (and faster) to rewrite your own than to use a method whose behaviour could be unexpected (also called : wrong). Like with the merge_* methods, and many others ....

Of course, it is just my personal opinion... 

Nathann



---

archive/issue_comments_159149.json:
```json
{
    "body": "Ignore other attachments",
    "created_at": "2013-01-17T03:32:32Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159149",
    "user": "https://github.com/egunawan"
}
```

Ignore other attachments



---

archive/attachments_018247.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_13440-rev_edge-gm",
    "asset_url": "tarball://root/attachments/ticket13440/trac_13440-rev_edge-gm",
    "created_at": "2013-01-17T03:37:45Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket13440/trac_13440-rev_edge-gm",
    "user": "https://github.com/egunawan"
}
```



---

archive/issue_comments_159150.json:
```json
{
    "body": "<a id='comment:12'></a>\nAttachment [trac_13440-rev_edge-gm](https://github.com/sagemath/sage/files/ticket13440/trac_13440-rev_edge-gm) by @egunawan created at 2013-01-17 03:37:45",
    "created_at": "2013-01-17T03:37:45Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159150",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:12'></a>
Attachment [trac_13440-rev_edge-gm](https://github.com/sagemath/sage/files/ticket13440/trac_13440-rev_edge-gm) by @egunawan created at 2013-01-17 03:37:45



---

archive/issue_comments_159151.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n Apply:\n \n-*  [attachment:trac_13440-rev_edge-gm.patch]\n+*  [attachment:trac_13440-reverse-edge.patch]\n``````\n",
    "created_at": "2013-01-17T03:37:45Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159151",
    "user": "https://github.com/egunawan"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 Apply:
 
-*  [attachment:trac_13440-rev_edge-gm.patch]
+*  [attachment:trac_13440-reverse-edge.patch]
``````




---

archive/issue_events_114426.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2013-01-17T03:37:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114426"
}
```



---

archive/issue_events_114427.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2013-01-17T03:37:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114427"
}
```



---

archive/issue_comments_159152.json:
```json
{
    "body": "<a id='comment:13'></a>\nFollowing David Coudert's comment,\n1. I replaced copy(self) with self.copy()\n2. I added optional parameter inplace=False\n3. I haven't changed the style of previous documentation to one that is similar to add_edge documentation. I will discuss with Gregg Musiker.",
    "created_at": "2013-01-17T03:43:31Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159152",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:13'></a>
Following David Coudert's comment,
1. I replaced copy(self) with self.copy()
2. I added optional parameter inplace=False
3. I haven't changed the style of previous documentation to one that is similar to add_edge documentation. I will discuss with Gregg Musiker.



---

archive/issue_comments_159153.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [egunawan](#comment%3A13):\n> Following David Coudert's comment,\n> 1. I replaced copy(self) with self.copy()\n> 2. I added optional parameter inplace=False\n> 3. I haven't changed the style of previous documentation to one that is similar to add_edge documentation. I will discuss with Gregg Musiker.\n\n\nThe new documentation looks good to me.  David, if you have further suggestions, we are all ears.\n\nGregg",
    "created_at": "2013-01-29T16:34:26Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159153",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

<a id='comment:14'></a>
Replying to [egunawan](#comment%3A13):
> Following David Coudert's comment,
> 1. I replaced copy(self) with self.copy()
> 2. I added optional parameter inplace=False
> 3. I haven't changed the style of previous documentation to one that is similar to add_edge documentation. I will discuss with Gregg Musiker.


The new documentation looks good to me.  David, if you have further suggestions, we are all ears.

Gregg



---

archive/issue_comments_159154.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [ncohen](#comment%3A11):\n> If I may express a personal opinion, I really think that adding methods that replace the two lines of code you have to write -- when you know the digraph you deal with -- is not really what we need right now, considering the length of the list of DiGraph's functions.... These methods spend more time checking the input (labelled ? Multigraph ?) than actually doing what they are asked to do, even do unnecessary operations (your code begins by checking that the edge given as an argument actually exists in the graph....).\n> \n> And as usual when dealing with this mess of options, you have the usual corner-cases which have no good solution in general\n> \n> Example : \n> \n> ```\n> sage: d = DiGraph()\n> sage: d.add_edge(1,2)\n> sage: d.add_edge(2,1)\n> sage: d.edges()\n> [(1, 2, None), (2, 1, None)]\n> sage: dd= d.reverse_edge((1,2)) \n> sage: dd.edges()\n> [(2, 1, None)]\n> ```\n> \n> As there is no good way to fix this, it makes the function unreliable (you have no idea what the output could be unless you read the code) --> it is better (and faster) to rewrite your own than to use a method whose behaviour could be unexpected (also called : wrong). Like with the merge_* methods, and many others ....\n> \n> Of course, it is just my personal opinion... \n> \n> Nathann\n\n\nI see some of your points Nathann regarding this ticket, however some users might still find it useful.  I should mention that the main reason we decided to write this ticket was that reversal of a single edge or group of edges is a function that we will need to use over and over again in a future patch for the Cluster Algebra and Quiver package.  We discussed this at Sage Days 40 and it appeared that other users present would also utilize this command, although I am not sure how many avid graphs sage developers were at this meeting.  Also Ticket #7720 seemed to request a command for reversing an edge in place as well.    \n\nThere are indeed a few more cases to deal with than we first anticipated, given the flexibility of inputs for digraphs, which made the code longer than we first thought it would be, but if the reverse_edge() method is called within another subroutine, breaking into such cases appear unavoidable anyway.  Although we are open to suggestion.  \n\nAs far as the issue \"it makes the function unreliable\" goes, the example you wrote out is not an issue with the reverse_edge() code but just a manifestation of the fact that the DiGraph d being used does not allow multiple edges.  For instance, d.add_edge(1,2); d.add_edge(1,2) would cause the same behavior.  We now have an example in the documentation clarifying the expected output for the user.\n\nIn summary, given that this method will be needed for other sage code anyway, we were interested in getting the opinions from those developing the graphs code.  Is it better to have reverse_edge() and reverse_edges() in digraph where they are methods for the digraph class, or as _reverse_edge() and _reverse_edges() as auxiliary commands in separate sage code?\n\nThanks,\nGregg",
    "created_at": "2013-01-29T16:45:03Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159154",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

<a id='comment:15'></a>
Replying to [ncohen](#comment%3A11):
> If I may express a personal opinion, I really think that adding methods that replace the two lines of code you have to write -- when you know the digraph you deal with -- is not really what we need right now, considering the length of the list of DiGraph's functions.... These methods spend more time checking the input (labelled ? Multigraph ?) than actually doing what they are asked to do, even do unnecessary operations (your code begins by checking that the edge given as an argument actually exists in the graph....).
> 
> And as usual when dealing with this mess of options, you have the usual corner-cases which have no good solution in general
> 
> Example : 
> 
> ```
> sage: d = DiGraph()
> sage: d.add_edge(1,2)
> sage: d.add_edge(2,1)
> sage: d.edges()
> [(1, 2, None), (2, 1, None)]
> sage: dd= d.reverse_edge((1,2)) 
> sage: dd.edges()
> [(2, 1, None)]
> ```
> 
> As there is no good way to fix this, it makes the function unreliable (you have no idea what the output could be unless you read the code) --> it is better (and faster) to rewrite your own than to use a method whose behaviour could be unexpected (also called : wrong). Like with the merge_* methods, and many others ....
> 
> Of course, it is just my personal opinion... 
> 
> Nathann


I see some of your points Nathann regarding this ticket, however some users might still find it useful.  I should mention that the main reason we decided to write this ticket was that reversal of a single edge or group of edges is a function that we will need to use over and over again in a future patch for the Cluster Algebra and Quiver package.  We discussed this at Sage Days 40 and it appeared that other users present would also utilize this command, although I am not sure how many avid graphs sage developers were at this meeting.  Also Ticket #7720 seemed to request a command for reversing an edge in place as well.    

There are indeed a few more cases to deal with than we first anticipated, given the flexibility of inputs for digraphs, which made the code longer than we first thought it would be, but if the reverse_edge() method is called within another subroutine, breaking into such cases appear unavoidable anyway.  Although we are open to suggestion.  

As far as the issue "it makes the function unreliable" goes, the example you wrote out is not an issue with the reverse_edge() code but just a manifestation of the fact that the DiGraph d being used does not allow multiple edges.  For instance, d.add_edge(1,2); d.add_edge(1,2) would cause the same behavior.  We now have an example in the documentation clarifying the expected output for the user.

In summary, given that this method will be needed for other sage code anyway, we were interested in getting the opinions from those developing the graphs code.  Is it better to have reverse_edge() and reverse_edges() in digraph where they are methods for the digraph class, or as _reverse_edge() and _reverse_edges() as auxiliary commands in separate sage code?

Thanks,
Gregg



---

archive/issue_comments_159155.json:
```json
{
    "body": "<a id='comment:16'></a>\nThe reverse edge function should raise an error if one tries to reverse an edge that is not in the graph. The tempG line should be moved after the if.\n\nAlso, it would be convenient to accept ` G.reverse_edge(u,v,some_label,inplace=True) `.\nSee the `G.add_edge` function for more details on how to do this.\n\nThen the `reverse_edges` should be like:\n\n```\ntempG = self if inplace else self.copy() \nfor e in edges: \n    tempG.reverse_edge(e,inplace=True) \nif not inplace: \n    return tempG \n```\n\nI think these methods are useful, although the behavior is not perfect. But as long as the documentation is clear...\n\nI let Nathann answered other comments.",
    "created_at": "2013-01-29T16:56:41Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159155",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:16'></a>
The reverse edge function should raise an error if one tries to reverse an edge that is not in the graph. The tempG line should be moved after the if.

Also, it would be convenient to accept ` G.reverse_edge(u,v,some_label,inplace=True) `.
See the `G.add_edge` function for more details on how to do this.

Then the `reverse_edges` should be like:

```
tempG = self if inplace else self.copy() 
for e in edges: 
    tempG.reverse_edge(e,inplace=True) 
if not inplace: 
    return tempG 
```

I think these methods are useful, although the behavior is not perfect. But as long as the documentation is clear...

I let Nathann answered other comments.



---

archive/issue_events_114428.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2013-01-29T16:56:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114428"
}
```



---

archive/issue_events_114429.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2013-01-29T16:56:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114429"
}
```



---

archive/issue_comments_159156.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [dcoudert](#comment%3A17):\n1. reverse_edge now takes input parameters the way add_edge does (with optional inplace parameter, but 'inplace=True' or 'inplace=False' has to be specified)\n2. reverse_edge raises an error if input edge u,v doesn't exist.\n3. the last comment about reverse_edges.",
    "created_at": "2013-02-03T00:05:35Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159156",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:18'></a>
Replying to [dcoudert](#comment%3A17):
1. reverse_edge now takes input parameters the way add_edge does (with optional inplace parameter, but 'inplace=True' or 'inplace=False' has to be specified)
2. reverse_edge raises an error if input edge u,v doesn't exist.
3. the last comment about reverse_edges.



---

archive/issue_events_114430.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2013-02-03T00:06:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114430"
}
```



---

archive/issue_events_114431.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2013-02-03T00:06:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114431"
}
```



---

archive/issue_comments_159157.json:
```json
{
    "body": "<a id='comment:20'></a>\nNot working for digraphs with labels on edges\n\n```\nsage: d = digraphs.Circuit(6)\nsage: d.reverse_edges(d.edges()).edges()\n[(0, 5, None),\n (1, 0, None),\n (2, 1, None),\n (3, 2, None),\n (4, 3, None),\n (5, 4, None)]\nsage: d = digraphs.Kautz(2,3)\nsage: d.reverse_edges(d.edges()).edges()\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-15-99c7e6f964ef> in <module>()\n----> 1 d.reverse_edges(d.edges()).edges()\n\n/home/dcoudert/Soft/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.pyc in reverse_edges(self, edges, inplace)\n   1997         tempG = self if inplace else self.copy()\n   1998         for e in edges:\n-> 1999             tempG.reverse_edge(e,inplace=True)\n   2000         if not inplace:\n   2001             return tempG\n\n/home/dcoudert/Soft/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.pyc in reverse_edge(self, u, v, label, inplace)\n   1943         \n   1944         if not self.has_edge(u,v,label):\n-> 1945             raise ValueError, \"Input edge must exist in the digraph.\"\n   1946            \n   1947         tempG = self if inplace else self.copy() \n\nValueError: Input edge must exist in the digraph.\n```",
    "created_at": "2013-02-03T22:29:50Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159157",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:20'></a>
Not working for digraphs with labels on edges

```
sage: d = digraphs.Circuit(6)
sage: d.reverse_edges(d.edges()).edges()
[(0, 5, None),
 (1, 0, None),
 (2, 1, None),
 (3, 2, None),
 (4, 3, None),
 (5, 4, None)]
sage: d = digraphs.Kautz(2,3)
sage: d.reverse_edges(d.edges()).edges()
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-15-99c7e6f964ef> in <module>()
----> 1 d.reverse_edges(d.edges()).edges()

/home/dcoudert/Soft/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.pyc in reverse_edges(self, edges, inplace)
   1997         tempG = self if inplace else self.copy()
   1998         for e in edges:
-> 1999             tempG.reverse_edge(e,inplace=True)
   2000         if not inplace:
   2001             return tempG

/home/dcoudert/Soft/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.pyc in reverse_edge(self, u, v, label, inplace)
   1943         
   1944         if not self.has_edge(u,v,label):
-> 1945             raise ValueError, "Input edge must exist in the digraph."
   1946            
   1947         tempG = self if inplace else self.copy() 

ValueError: Input edge must exist in the digraph.
```



---

archive/issue_events_114432.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2013-02-03T22:29:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114432"
}
```



---

archive/issue_events_114433.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2013-02-03T22:29:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114433"
}
```



---

archive/issue_comments_159158.json:
```json
{
    "body": "<a id='comment:21'></a>\nIn Kautz digraph example, one of the edges, ('101', '010', '0'), was deleted by reverse_edge because Kautz does not allow parallel edges:\n\nsage: d = digraphs.Kautz(2,3)\nsage: d.allows_multiple_edges()\nFalse\nsage: d.has_edge('101', '010', '0')\nTrue\nsage: d.has_edge('010', '101', '1')\nTrue\nsage: d.reverse_edge('010', '101', '1', inplace=True)\nsage: d.has_edge('101', '010', '0')\nFalse\nsage: d.has_edge('101', '010', '1')\nTrue\n\n\nReplying to ![dcoudert](#comment%3A20):\n> Not working for digraphs with labels on edges\n",
    "created_at": "2013-02-04T19:26:57Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159158",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:21'></a>
In Kautz digraph example, one of the edges, ('101', '010', '0'), was deleted by reverse_edge because Kautz does not allow parallel edges:

sage: d = digraphs.Kautz(2,3)
sage: d.allows_multiple_edges()
False
sage: d.has_edge('101', '010', '0')
True
sage: d.has_edge('010', '101', '1')
True
sage: d.reverse_edge('010', '101', '1', inplace=True)
sage: d.has_edge('101', '010', '0')
False
sage: d.has_edge('101', '010', '1')
True


Replying to ![dcoudert](#comment%3A20):
> Not working for digraphs with labels on edges




---

archive/issue_comments_159159.json:
```json
{
    "body": "<a id='comment:22'></a>\nShould I change the code to change digraph self to allow parallel edges? Thank you.\n\nWhen the Kautz digraph is defined to allow parallel edges, reverse_edges() and reverse() both return a digraph with the same edges: \n\nsage: d = digraphs.Kautz(2,3)\nsage: d1 = DiGraph({}, multiedges=True)\nsage: d1.add_edges(d.edges())\nsage: d1r = d1.reverse_edges(d1.edges())\nsage: d.reverse().edges() == d1r.edges()\nTrue",
    "created_at": "2013-02-04T19:34:00Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159159",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:22'></a>
Should I change the code to change digraph self to allow parallel edges? Thank you.

When the Kautz digraph is defined to allow parallel edges, reverse_edges() and reverse() both return a digraph with the same edges: 

sage: d = digraphs.Kautz(2,3)
sage: d1 = DiGraph({}, multiedges=True)
sage: d1.add_edges(d.edges())
sage: d1r = d1.reverse_edges(d1.edges())
sage: d.reverse().edges() == d1r.edges()
True



---

archive/issue_comments_159160.json:
```json
{
    "body": "<a id='comment:23'></a>\nThat's right!\n\nCould you check the documentation (sage -docbuild reference html)\n\n```\n/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edge:26: WARNING: Literal block expected; none found.\n/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edge:36: WARNING: Literal block expected; none found.\n/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edge:50: WARNING: Literal block expected; none found.\n/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edge:70: WARNING: Literal block expected; none found.\n/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edge:82: WARNING: Literal block expected; none found.\n/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edges:14: WARNING: Literal block expected; none found.\n/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edges:25: WARNING: Literal block expected; none found.\n```\n\nYou should also make the first line of comments of the methods looks like other sage methods (I know it's boring).",
    "created_at": "2013-02-04T20:45:53Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159160",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:23'></a>
That's right!

Could you check the documentation (sage -docbuild reference html)

```
/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edge:26: WARNING: Literal block expected; none found.
/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edge:36: WARNING: Literal block expected; none found.
/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edge:50: WARNING: Literal block expected; none found.
/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edge:70: WARNING: Literal block expected; none found.
/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edge:82: WARNING: Literal block expected; none found.
/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edges:14: WARNING: Literal block expected; none found.
/pathtosage/sage-5.7.beta2/local/lib/python2.7/site-packages/sage/graphs/digraph.py:docstring of sage.graphs.digraph.DiGraph.reverse_edges:25: WARNING: Literal block expected; none found.
```

You should also make the first line of comments of the methods looks like other sage methods (I know it's boring).



---

archive/issue_comments_159161.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [dcoudert](#comment%3A23):\n\nThank you for the reply. For reverse_edge (not reverse_edges), is the following behavior OK?\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 If !``self!`` does not allow multiple edges (such as the following example),\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 then function may delete the input edge::\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 sage: D = DiGraph( [(1,2), (2,1)] )\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 sage: D.edges()\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 [(1, 2, None), (2, 1, None)]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 sage: re = D.reverse_edge(1,2) \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 sage: re.edges()\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 [(2, 1, None)]",
    "created_at": "2013-02-04T21:14:48Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159161",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:24'></a>
Replying to [dcoudert](#comment%3A23):

Thank you for the reply. For reverse_edge (not reverse_edges), is the following behavior OK?

        If !``self!`` does not allow multiple edges (such as the following example),
        then function may delete the input edge::
        
            sage: D = DiGraph( [(1,2), (2,1)] )
            sage: D.edges()
            [(1, 2, None), (2, 1, None)]
            sage: re = D.reverse_edge(1,2) 
            sage: re.edges()
            [(2, 1, None)]



---

archive/issue_comments_159162.json:
```json
{
    "body": "<a id='comment:25'></a>\nHi David,\n\nTo clarify my questions:\n1. Inside reverse_edge() and reverse_edges() methods, should the input digraph be set to multiedges=true by default?\n2. Should there be an optional parameter for whether these methods will set the input digraph to allow multiple edges? So maybe it would look like reverse_edge(self, u, v=None, label=None, inplace=False, change_to_allow_multiedges=False)\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 If !``self!`` does not allow multiple edges (such as the following example),\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 then function currently will delete the input edge::\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u00a0\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 sage: D = DiGraph( [(1,2), (2,1)] )\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 sage: D.edges()\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 [(1, 2, None), (2, 1, None)]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 sage: re = D.reverse_edge(1,2) \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 sage: re.edges()\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 [(2, 1, None)]\n\nThank you",
    "created_at": "2013-02-05T02:05:33Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159162",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:25'></a>
Hi David,

To clarify my questions:
1. Inside reverse_edge() and reverse_edges() methods, should the input digraph be set to multiedges=true by default?
2. Should there be an optional parameter for whether these methods will set the input digraph to allow multiple edges? So maybe it would look like reverse_edge(self, u, v=None, label=None, inplace=False, change_to_allow_multiedges=False)

        If !``self!`` does not allow multiple edges (such as the following example),
        then function currently will delete the input edge::
        
            sage: D = DiGraph( [(1,2), (2,1)] )
            sage: D.edges()
            [(1, 2, None), (2, 1, None)]
            sage: re = D.reverse_edge(1,2) 
            sage: re.edges()
            [(2, 1, None)]

Thank you



---

archive/issue_comments_159163.json:
```json
{
    "body": "<a id='comment:26'></a>\nWell, I'm not sure which is the best behavior but I don't like the idea of deleting an edge. So it could be better to set the flag to True when a multiedge is created.\n\nNathann is right when he said that the method cannot answer all expected behaviors. It will be different for flow problems than for orientation problems.",
    "created_at": "2013-02-05T08:26:20Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159163",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:26'></a>
Well, I'm not sure which is the best behavior but I don't like the idea of deleting an edge. So it could be better to set the flag to True when a multiedge is created.

Nathann is right when he said that the method cannot answer all expected behaviors. It will be different for flow problems than for orientation problems.



---

archive/issue_comments_159164.json:
```json
{
    "body": "<a id='comment:27'></a>\nMethods now force digraph to allow parallel edges, unless you specify in parameter multiedges = False.\nI also fixed the formatting issue in documentation, and I think I made the first line of comments of the methods looks like other sage methods.\nThanks",
    "created_at": "2013-02-06T20:25:40Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159164",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:27'></a>
Methods now force digraph to allow parallel edges, unless you specify in parameter multiedges = False.
I also fixed the formatting issue in documentation, and I think I made the first line of comments of the methods looks like other sage methods.
Thanks



---

archive/issue_events_114434.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2013-02-06T20:26:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114434"
}
```



---

archive/issue_events_114435.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2013-02-06T20:26:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114435"
}
```



---

archive/issue_events_114436.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-08T11:30:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114436"
}
```



---

archive/issue_events_114437.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-08T11:30:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114437"
}
```



---

archive/issue_comments_159165.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Adding reverse_edge() function to DiGraph (related to #7720)\n+Adding reverse_edge() function to DiGraph\n \n Apply:\n \n``````\n",
    "created_at": "2013-02-08T11:30:48Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159165",
    "user": "https://github.com/nathanncohen"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Adding reverse_edge() function to DiGraph (related to #7720)
+Adding reverse_edge() function to DiGraph
 
 Apply:
 
``````




---

archive/issue_comments_159166.json:
```json
{
    "body": "<a id='comment:29'></a>\nHellooooooooo !\n\nSeveral remarks :\n\n- By default we should have ``inplace = False``, as this is how all graph methods (add_vertices, add_edges,delete_vertices/edges) currently behave.\n\n- The default ``multiedges = True`` is not a good behaviour. Just picture somebody reversing the edges of an oriented graph (i.e. a graph without 2-cycles). All these operations are totally neutral with respect to multiple edges, and meanwhile the graph would be set to allow multiple edges for no reason at all. I think that the default should be ``multiedges = False``, but that is not a good idea either. I think that the best behaviour is to say \"unless the user explicitely told me what he wants to do let's not do things he may not want to see happen\". Here's how it can be implemented.\n\n  - By default, ``multiedges = None``.\n\n    If `(2,1)` is to be reversed and `(1,2)` exists with `multiedges = None`, then an exception is raised \"You have a choice to make there !\". This can only be done if `multiedges = True` (in which case there will be two edges `(2,1)`) or `multiedges = False` (in which case the edge `(1,2)` will be removed).\n\n    Note that there is another problem with that :\n\n    ```\n    sage: D = DiGraph( [(1,2,None), (2,1,\"label\")] )\n    sage: D.edges()\n    [(1, 2, None), (2, 1, 'label')]\n    sage: D.reverse_edge(2, 1, 'label', multiedges = False)\n    ```\n\n    This should not be possible because *even though there is no edge `(1,2,label)`* it is impossible to reverse edge `(2,1)` without destroying some information :\n\n    ```\n    sage: D = DiGraph( [(1,2,None), (2,1,\"label\")] )\n    sage: D.edges()\n    [(1, 2, None), (2, 1, 'label')]\n    sage: D.add_edge(1,2,'hey')\n    sage: D.edges()\n    [(1, 2, 'hey'), (2, 1, 'label')]\n    ```\n\n    So this should also raise an exception unless the graph allows multiple edges already, or unless the user explicely said `multiedges = True` (in which case the graph will be set to allow multiple edges anyway)\n\n- In the documentation, `edge` is not an input of the methods, so it is a bit weird to see it appear in the list. The list of \"accepted forms\" is sufficient, so I guess that the `edge` entry can be removed, as it's rather confusing.\n\n- The output of these methods is not always a digraph, but that's what the OUTPUT section says.\n\nNathann",
    "created_at": "2013-02-08T11:30:48Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159166",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:29'></a>
Hellooooooooo !

Several remarks :

- By default we should have ``inplace = False``, as this is how all graph methods (add_vertices, add_edges,delete_vertices/edges) currently behave.

- The default ``multiedges = True`` is not a good behaviour. Just picture somebody reversing the edges of an oriented graph (i.e. a graph without 2-cycles). All these operations are totally neutral with respect to multiple edges, and meanwhile the graph would be set to allow multiple edges for no reason at all. I think that the default should be ``multiedges = False``, but that is not a good idea either. I think that the best behaviour is to say "unless the user explicitely told me what he wants to do let's not do things he may not want to see happen". Here's how it can be implemented.

  - By default, ``multiedges = None``.

    If `(2,1)` is to be reversed and `(1,2)` exists with `multiedges = None`, then an exception is raised "You have a choice to make there !". This can only be done if `multiedges = True` (in which case there will be two edges `(2,1)`) or `multiedges = False` (in which case the edge `(1,2)` will be removed).

    Note that there is another problem with that :

    ```
    sage: D = DiGraph( [(1,2,None), (2,1,"label")] )
    sage: D.edges()
    [(1, 2, None), (2, 1, 'label')]
    sage: D.reverse_edge(2, 1, 'label', multiedges = False)
    ```

    This should not be possible because *even though there is no edge `(1,2,label)`* it is impossible to reverse edge `(2,1)` without destroying some information :

    ```
    sage: D = DiGraph( [(1,2,None), (2,1,"label")] )
    sage: D.edges()
    [(1, 2, None), (2, 1, 'label')]
    sage: D.add_edge(1,2,'hey')
    sage: D.edges()
    [(1, 2, 'hey'), (2, 1, 'label')]
    ```

    So this should also raise an exception unless the graph allows multiple edges already, or unless the user explicely said `multiedges = True` (in which case the graph will be set to allow multiple edges anyway)

- In the documentation, `edge` is not an input of the methods, so it is a bit weird to see it appear in the list. The list of "accepted forms" is sufficient, so I guess that the `edge` entry can be removed, as it's rather confusing.

- The output of these methods is not always a digraph, but that's what the OUTPUT section says.

Nathann



---

archive/issue_comments_159167.json:
```json
{
    "body": "Modified reverse_edge and reverse_edges methods per Nathann's comments",
    "created_at": "2013-02-11T06:03:55Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159167",
    "user": "https://github.com/egunawan"
}
```

Modified reverse_edge and reverse_edges methods per Nathann's comments



---

archive/attachments_018248.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_13440-reverse-edge.patch",
    "asset_url": "tarball://root/attachments/ticket13440/trac_13440-reverse-edge.patch",
    "created_at": "2013-02-11T06:08:23Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket13440/trac_13440-reverse-edge.patch",
    "user": "https://github.com/egunawan"
}
```



---

archive/issue_comments_159168.json:
```json
{
    "body": "<a id='comment:30'></a>\nAttachment [trac_13440-reverse-edge.patch](https://github.com/sagemath/sage/files/ticket13440/trac_13440-reverse-edge.patch) by @egunawan created at 2013-02-11 06:08:23\n\nModified reverse_edge and reverse_edges methods per Nathann's comments \nhttp://trac.sagemath.org/sage_trac/ticket/13440#comment:29",
    "created_at": "2013-02-11T06:08:23Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159168",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:30'></a>
Attachment [trac_13440-reverse-edge.patch](https://github.com/sagemath/sage/files/ticket13440/trac_13440-reverse-edge.patch) by @egunawan created at 2013-02-11 06:08:23

Modified reverse_edge and reverse_edges methods per Nathann's comments 
http://trac.sagemath.org/sage_trac/ticket/13440#comment:29



---

archive/issue_events_114438.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2013-02-11T06:08:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114438"
}
```



---

archive/issue_events_114439.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2013-02-11T06:08:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114439"
}
```



---

archive/issue_comments_159169.json:
```json
{
    "body": "<a id='comment:31'></a>\nThank you for the comments. I modified the methods accordingly in the latest patch that I've attached.\n\nI assumed that you meant to write that we should have ``inplace = True`` (not ``inplace = False`` as you wrote above) as this is how all graph methods (add_vertices, add_edges,delete_vertices/edges) currently behave. Is that true? Please correct me if that was not a typo. Thank you.\n\nReplying to [ncohen](#comment%3A29):\n> - By default we should have ``inplace = False``, as this is how all graph methods (add_vertices, add_edges,delete_vertices/edges) currently behave.\n",
    "created_at": "2013-02-11T20:55:19Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159169",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:31'></a>
Thank you for the comments. I modified the methods accordingly in the latest patch that I've attached.

I assumed that you meant to write that we should have ``inplace = True`` (not ``inplace = False`` as you wrote above) as this is how all graph methods (add_vertices, add_edges,delete_vertices/edges) currently behave. Is that true? Please correct me if that was not a typo. Thank you.

Replying to [ncohen](#comment%3A29):
> - By default we should have ``inplace = False``, as this is how all graph methods (add_vertices, add_edges,delete_vertices/edges) currently behave.




---

archive/issue_comments_159170.json:
```json
{
    "body": "<a id='comment:32'></a>\nApply trac_13440-reverse-edge.patch",
    "created_at": "2013-02-12T10:57:39Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159170",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:32'></a>
Apply trac_13440-reverse-edge.patch



---

archive/issue_comments_159171.json:
```json
{
    "body": "**Changing reviewer** from \"Gregg Musiker\" to \"Gregg Musiker, Nathann Cohen\".",
    "created_at": "2013-02-12T12:39:47Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159171",
    "user": "https://github.com/nathanncohen"
}
```

**Changing reviewer** from "Gregg Musiker" to "Gregg Musiker, Nathann Cohen".



---

archive/issue_comments_159172.json:
```json
{
    "body": "<a id='comment:33'></a>\nHellooooooooooooooooooooooooooooooooooooo !!\n\nWell... Here is a patch (to be added on top of yours) that does several modifications:\n\n* When it does not make code harder to read, we try to keep lines of code and documentation to a maximum length of 80 characters. I have no idea why and I find that stupid, but people throw stones at you otherwise.\n\n* Added some backticks around python keywords.\n\n* Changed some explanations in the documentation\n\n* Removed trailing whitespaces (we don't like that. At least that's what I've been told.\n\nI also changed some part of the method's behaviour, so tell me what you think of it : my understanding is that setting \"multiedges\" to `False` means \"I'm ok with loss of information\". Besides, here's the current behaviour of `add_edge` in a graph with labels on the edges :\n\n```\nsage: g = Graph()           \nsage: g.add_edge(1,2,'label')\nsage: g.edges()\n[(1, 2, 'label')]\nsage: g.add_edge(1,2,'labelllllll')\nsage: g.edges()                    \n[(1, 2, 'labelllllll')]\n```\nSo I thought that it would make more sense, when `multiedges = False`, to overwrite the label of edge `(1,2)` when `(2,1)` is to be reversed. Here's an example I added in the docstring :\n\n```\nNote that in the following graph, specifying ``multiedges = False`` will                                                                                                               \nresult in overwriting the label of `(1,2)` with the label of `(2,1)`::                                                                                                                 \n                                                                                                                                                                                               \n    sage: D = DiGraph( [(1, 2, 'B'), (2, 1,'A'), (2, 3, None)] )                                                                                                                       \n    sage: D.edges()                                                                                                                                                                    \n    [(1, 2, 'B'), (2, 1, 'A'), (2, 3, None)]                                                                                                                                           \n    sage: D.reverse_edge(2,1, multiedges=False)                                                                                                                                        \n    sage: D.edges()                                                                                                                                                                    \n    [(1, 2, 'B'), (2, 3, None)]    \n```\n\nWhat do you think of it ?\n\nIf you agree with this second patch (and as I agree with yours), you can set this ticket to `positive_review` `:-)`\n\nAnd thank you for this patch... Even if I first complained about it. It's good that it made me think a bit about the kind of functions a software like Sage should contain `:-)`\n\nNathann",
    "created_at": "2013-02-12T12:39:47Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159172",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:33'></a>
Hellooooooooooooooooooooooooooooooooooooo !!

Well... Here is a patch (to be added on top of yours) that does several modifications:

* When it does not make code harder to read, we try to keep lines of code and documentation to a maximum length of 80 characters. I have no idea why and I find that stupid, but people throw stones at you otherwise.

* Added some backticks around python keywords.

* Changed some explanations in the documentation

* Removed trailing whitespaces (we don't like that. At least that's what I've been told.

I also changed some part of the method's behaviour, so tell me what you think of it : my understanding is that setting "multiedges" to `False` means "I'm ok with loss of information". Besides, here's the current behaviour of `add_edge` in a graph with labels on the edges :

```
sage: g = Graph()           
sage: g.add_edge(1,2,'label')
sage: g.edges()
[(1, 2, 'label')]
sage: g.add_edge(1,2,'labelllllll')
sage: g.edges()                    
[(1, 2, 'labelllllll')]
```
So I thought that it would make more sense, when `multiedges = False`, to overwrite the label of edge `(1,2)` when `(2,1)` is to be reversed. Here's an example I added in the docstring :

```
Note that in the following graph, specifying ``multiedges = False`` will                                                                                                               
result in overwriting the label of `(1,2)` with the label of `(2,1)`::                                                                                                                 
                                                                                                                                                                                               
    sage: D = DiGraph( [(1, 2, 'B'), (2, 1,'A'), (2, 3, None)] )                                                                                                                       
    sage: D.edges()                                                                                                                                                                    
    [(1, 2, 'B'), (2, 1, 'A'), (2, 3, None)]                                                                                                                                           
    sage: D.reverse_edge(2,1, multiedges=False)                                                                                                                                        
    sage: D.edges()                                                                                                                                                                    
    [(1, 2, 'B'), (2, 3, None)]    
```

What do you think of it ?

If you agree with this second patch (and as I agree with yours), you can set this ticket to `positive_review` `:-)`

And thank you for this patch... Even if I first complained about it. It's good that it made me think a bit about the kind of functions a software like Sage should contain `:-)`

Nathann



---

archive/issue_comments_159173.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,3 +3,4 @@\n Apply:\n \n *  [attachment:trac_13440-reverse-edge.patch]\n+*  [attachment:trac_13440-review.patch]\n``````\n",
    "created_at": "2013-02-12T12:39:47Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159173",
    "user": "https://github.com/nathanncohen"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,3 +3,4 @@
 Apply:
 
 *  [attachment:trac_13440-reverse-edge.patch]
+*  [attachment:trac_13440-review.patch]
``````




---

archive/attachments_018249.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_13440-review.patch",
    "asset_url": "tarball://root/attachments/ticket13440/trac_13440-review.patch",
    "created_at": "2013-02-13T05:43:08Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket13440/trac_13440-review.patch",
    "user": "https://github.com/egunawan"
}
```



---

archive/issue_comments_159174.json:
```json
{
    "body": "<a id='comment:34'></a>\nAttachment [trac_13440-review.patch](https://github.com/sagemath/sage/files/ticket13440/trac_13440-review.patch) by @egunawan created at 2013-02-13 05:43:08\n\nThank you very much for the modifications. I agree with this second patch. After Gregg looks at it, if he doesn't have more comments he can set this ticket to positive review.",
    "created_at": "2013-02-13T05:43:08Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159174",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:34'></a>
Attachment [trac_13440-review.patch](https://github.com/sagemath/sage/files/ticket13440/trac_13440-review.patch) by @egunawan created at 2013-02-13 05:43:08

Thank you very much for the modifications. I agree with this second patch. After Gregg looks at it, if he doesn't have more comments he can set this ticket to positive review.



---

archive/attachments_018250.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_13440-second-review.patch",
    "asset_url": "tarball://root/attachments/ticket13440/trac_13440-second-review.patch",
    "created_at": "2013-02-14T03:07:29Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket13440/trac_13440-second-review.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```



---

archive/issue_comments_159175.json:
```json
{
    "body": "Attachment [trac_13440-second-review.patch](https://github.com/sagemath/sage/files/ticket13440/trac_13440-second-review.patch) by gmoose05 created at 2013-02-14 03:07:29",
    "created_at": "2013-02-14T03:07:29Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159175",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

Attachment [trac_13440-second-review.patch](https://github.com/sagemath/sage/files/ticket13440/trac_13440-second-review.patch) by gmoose05 created at 2013-02-14 03:07:29



---

archive/issue_comments_159176.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,3 +4,4 @@\n \n *  [attachment:trac_13440-reverse-edge.patch]\n *  [attachment:trac_13440-review.patch]\n+*  [attachment:trac_13440-second-review.patch]\n``````\n",
    "created_at": "2013-02-14T03:08:25Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159176",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,3 +4,4 @@
 
 *  [attachment:trac_13440-reverse-edge.patch]
 *  [attachment:trac_13440-review.patch]
+*  [attachment:trac_13440-second-review.patch]
``````




---

archive/issue_comments_159177.json:
```json
{
    "body": "<a id='comment:36'></a>\nDear Nathann, Emily, and David,\n\nGreetings from Sage Days 45.  Thank you again Nathann for the review patch, these modifications looked great to me!  Looking over it this evening, I found a few small issues, but I fixed them and uploaded them as a second review patch.  I'll wait for you to get a chance to take a look but barring any further issues, I am also ready for a positive review.\n\nJust to summarize my changes:\n\ni) inplace=True is the default so Fixed this typo in the Examples,\n\nii) In the example\n\n            ```\n            Note that in the following graph, specifying ``multiedges = False`` will\n            result in overwriting the label of `(1,2)` with the label of `(2,1)`::\n           \n                  sage: D = DiGraph( [(1, 2, 'B'), (2, 1,'A'), (2, 3, None)] )\n                  sage: D.edges()\n                  [(1, 2, 'B'), (2, 1, 'A'), (2, 3, None)]\n                  sage: D.reverse_edge(2,1, multiedges=False)\n                  sage: D.edges()\n                  [(1, 2, 'B'), (2, 3, None)]\n       ```\nthe computational behavior differed from the description.  (By the way, I also like the choice to overwrite the label.)  This alerted me to small typo in the code (in the multiedges=False) case.  This code and the example are now fixed.\n\nGregg",
    "created_at": "2013-02-14T03:21:04Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159177",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

<a id='comment:36'></a>
Dear Nathann, Emily, and David,

Greetings from Sage Days 45.  Thank you again Nathann for the review patch, these modifications looked great to me!  Looking over it this evening, I found a few small issues, but I fixed them and uploaded them as a second review patch.  I'll wait for you to get a chance to take a look but barring any further issues, I am also ready for a positive review.

Just to summarize my changes:

i) inplace=True is the default so Fixed this typo in the Examples,

ii) In the example

            ```
            Note that in the following graph, specifying ``multiedges = False`` will
            result in overwriting the label of `(1,2)` with the label of `(2,1)`::
           
                  sage: D = DiGraph( [(1, 2, 'B'), (2, 1,'A'), (2, 3, None)] )
                  sage: D.edges()
                  [(1, 2, 'B'), (2, 1, 'A'), (2, 3, None)]
                  sage: D.reverse_edge(2,1, multiedges=False)
                  sage: D.edges()
                  [(1, 2, 'B'), (2, 3, None)]
       ```
the computational behavior differed from the description.  (By the way, I also like the choice to overwrite the label.)  This alerted me to small typo in the code (in the multiedges=False) case.  This code and the example are now fixed.

Gregg



---

archive/issue_comments_159178.json:
```json
{
    "body": "<a id='comment:37'></a>\nGLoooooooooooppppsss. You are totally right !\n\nWell, if everybody agrees with this we can set the ticket to `positive_review` ? I'm all for it `:-)`\n\nNathann",
    "created_at": "2013-02-14T22:06:26Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159178",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:37'></a>
GLoooooooooooppppsss. You are totally right !

Well, if everybody agrees with this we can set the ticket to `positive_review` ? I'm all for it `:-)`

Nathann



---

archive/issue_events_114440.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/gmoose05",
    "created_at": "2013-02-14T22:24:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114440"
}
```



---

archive/issue_events_114441.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/gmoose05",
    "created_at": "2013-02-14T22:24:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114441"
}
```



---

archive/issue_comments_159179.json:
```json
{
    "body": "<a id='comment:39'></a>\nGreat!  Thanks again for all your help.\n\nBest wishes,\nGregg",
    "created_at": "2013-02-14T22:25:08Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159179",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

<a id='comment:39'></a>
Great!  Thanks again for all your help.

Best wishes,
Gregg



---

archive/issue_comments_159180.json:
```json
{
    "body": "<a id='comment:40'></a>\nYeahhhhhhhhhhhhhhhhhh !\n\nNathann",
    "created_at": "2013-02-14T22:27:47Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159180",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:40'></a>
Yeahhhhhhhhhhhhhhhhhh !

Nathann



---

archive/issue_events_114442.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-15T08:01:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "milestone": "sage-5.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114442"
}
```



---

archive/issue_events_114443.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-15T08:01:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "milestone": "sage-5.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114443"
}
```



---

archive/issue_comments_159181.json:
```json
{
    "body": "**Merged:** sage-5.8.beta0",
    "created_at": "2013-02-17T22:42:38Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159181",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.8.beta0



---

archive/issue_events_114444.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-17T22:42:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114444"
}
```



---

archive/issue_events_114445.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-17T22:42:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13440#event-114445"
}
```



---

archive/issue_comments_159182.json:
```json
{
    "body": "**Changing keywords** from \"digraph\" to \"digraph, sd40\".",
    "created_at": "2013-06-01T20:46:40Z",
    "issue": "https://github.com/sagemath/sage/issues/13440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13440#issuecomment-159182",
    "user": "https://trac.sagemath.org/admin/accounts/users/gmoose05"
}
```

**Changing keywords** from "digraph" to "digraph, sd40".
