# Issue 13768: upgrade polymake to version 2.12-rc3

archive/issues_013564.json:
```json
{
    "body": "Here's an updated package for Polymake. The new package is a lot simpler than the old one, because this upstream version comes with a sane configure script and installs everything in standard locations.\n\nThis depends on the `boost-cropped` spkg >= 1.52.0\n\nThis is a very long compilation. That's partly due to the fact that the `spkg-install` disables parallel build, because apparently that used to be buggy. I've been cautious and left that disabled, but I wouldn't be surprised if we could enable it again -- if the configure script has had an overhaul, then maybe so has the makefile.\n\nI'm working on a new Python interface that takes advantage of the new C++ api (via Cython) instead of writing data to a file and using `pexpect` (yuck). That'll take a while and be a different ticket.\n\nHere's the link to the new package:\n\nhttp://www.infty.nl/misc/polymake-2.12.spkg\n\nAssignee: tbd\n\nReviewer: Matthias Koeppe, Karl-Dieter Crisman\n\nResolution: wontfix\n\nIssue created by migration from https://trac.sagemath.org/ticket/13768\n\n",
    "closed_at": "2016-08-30T13:32:25Z",
    "created_at": "2012-11-28T02:13:22Z",
    "labels": [
        "component: packages: experimental"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "upgrade polymake to version 2.12-rc3",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13768",
    "user": "https://github.com/tkluck"
}
```
Here's an updated package for Polymake. The new package is a lot simpler than the old one, because this upstream version comes with a sane configure script and installs everything in standard locations.

This depends on the `boost-cropped` spkg >= 1.52.0

This is a very long compilation. That's partly due to the fact that the `spkg-install` disables parallel build, because apparently that used to be buggy. I've been cautious and left that disabled, but I wouldn't be surprised if we could enable it again -- if the configure script has had an overhaul, then maybe so has the makefile.

I'm working on a new Python interface that takes advantage of the new C++ api (via Cython) instead of writing data to a file and using `pexpect` (yuck). That'll take a while and be a different ticket.

Here's the link to the new package:

http://www.infty.nl/misc/polymake-2.12.spkg

Assignee: tbd

Reviewer: Matthias Koeppe, Karl-Dieter Crisman

Resolution: wontfix

Issue created by migration from https://trac.sagemath.org/ticket/13768





---

archive/issue_comments_167519.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-11-28T02:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167519",
    "user": "https://github.com/tkluck"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_167520.json:
```json
{
    "body": "<a id='comment:3'></a>Does this fix #5488 as well?",
    "created_at": "2013-02-14T02:05:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167520",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'></a>Does this fix #5488 as well?



---

archive/issue_comments_167521.json:
```json
{
    "body": "<a id='comment:4'></a>Yes it does.",
    "created_at": "2013-02-14T11:06:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167521",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:4'></a>Yes it does.



---

archive/issue_comments_167522.json:
```json
{
    "body": "<a id='comment:5'></a>I updated this to polymake-2.12 (which is bit-for-bit identical to polymake-2.12-rc3). I fixed a version number typo in SPKG.txt and updated it to reflect the rename boost-cropped -> boost_cropped.\n\nI also removed the disabling of parallel build. The polymake documentation now recommends using parallel build, so there shouldn't be any need for that anymore:\nhttp://www.polymake.org/doku.php/howto/install\n\nThe current package has md5sum 51d3b6da0ae60ac417e418bc89da1189.",
    "created_at": "2013-02-28T15:02:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167522",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:5'></a>I updated this to polymake-2.12 (which is bit-for-bit identical to polymake-2.12-rc3). I fixed a version number typo in SPKG.txt and updated it to reflect the rename boost-cropped -> boost_cropped.

I also removed the disabling of parallel build. The polymake documentation now recommends using parallel build, so there shouldn't be any need for that anymore:
http://www.polymake.org/doku.php/howto/install

The current package has md5sum 51d3b6da0ae60ac417e418bc89da1189.



---

archive/issue_comments_167523.json:
```json
{
    "body": "<a id='comment:6'></a>I guess it stays experimental for now - here's the message on a Mac OS X 10.7.  We explicitly do NOT want Fink as a prereq.  Does anybody even still use Fink? ;-)\n\n```\ngcc version 4.6.3 (GCC) \n****************************************************\nThe Fink package system is a mandatory prerequisite to build and use polymake under MacOS.\nPlease refer to http://polymake.mathematik.tu-darmstadt.de/doku.php/mac for details and installation instructions.\nIf you already have Fink installed at a non-standard location, please specify it using option --with-fink\nFailed to configure.\n\nreal\t0m0.792s\nuser\t0m0.042s\nsys\t0m0.024s\n************************************************************************\nError installing package polymake-2.12\n************************************************************************\n```\nThat said, we could probably get around that by hacking their installation procedure, especially since [http://polymake.mathematik.tu-darmstadt.de/doku.php/mac](http://polymake.mathematik.tu-darmstadt.de/doku.php/mac) apparently doesn't exist.\n\n---\n\nIn fact, [http://polymake.mathematik.tu-darmstadt.de/doku.php/howto/mac](http://polymake.mathematik.tu-darmstadt.de/doku.php/howto/mac) (do you want to report that upstream?) says that\n\n```\ncompiling sources from scratch without Fink (polymake 2.10 or later)\n```\nis supported, if you have java (?!?!?!)\n\nAnyway, I don't care about this for experimental, but at least one person I know who was VERY interested in using polymake through Sage uses Mac.  Reading through their stuff, they just need a real gcc (not the Apple compiler on modern ones), which we provide, and perl, which is a prereq for Sage.  See [without fink](http://polymake.mathematik.tu-darmstadt.de/doku.php/howto/mac#without_fink) for a full list of prereqs, which I think we include - including, soon, the full Boost headers - and some compiling options.\n\nTimo, if you aren't interested in doing this :-) then perhaps you can open a ticket with some of this information for moving polymake to an optional spkg.",
    "created_at": "2013-02-28T15:34:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167523",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>I guess it stays experimental for now - here's the message on a Mac OS X 10.7.  We explicitly do NOT want Fink as a prereq.  Does anybody even still use Fink? ;-)

```
gcc version 4.6.3 (GCC) 
****************************************************
The Fink package system is a mandatory prerequisite to build and use polymake under MacOS.
Please refer to http://polymake.mathematik.tu-darmstadt.de/doku.php/mac for details and installation instructions.
If you already have Fink installed at a non-standard location, please specify it using option --with-fink
Failed to configure.

real	0m0.792s
user	0m0.042s
sys	0m0.024s
************************************************************************
Error installing package polymake-2.12
************************************************************************
```
That said, we could probably get around that by hacking their installation procedure, especially since [http://polymake.mathematik.tu-darmstadt.de/doku.php/mac](http://polymake.mathematik.tu-darmstadt.de/doku.php/mac) apparently doesn't exist.

---

In fact, [http://polymake.mathematik.tu-darmstadt.de/doku.php/howto/mac](http://polymake.mathematik.tu-darmstadt.de/doku.php/howto/mac) (do you want to report that upstream?) says that

```
compiling sources from scratch without Fink (polymake 2.10 or later)
```
is supported, if you have java (?!?!?!)

Anyway, I don't care about this for experimental, but at least one person I know who was VERY interested in using polymake through Sage uses Mac.  Reading through their stuff, they just need a real gcc (not the Apple compiler on modern ones), which we provide, and perl, which is a prereq for Sage.  See [without fink](http://polymake.mathematik.tu-darmstadt.de/doku.php/howto/mac#without_fink) for a full list of prereqs, which I think we include - including, soon, the full Boost headers - and some compiling options.

Timo, if you aren't interested in doing this :-) then perhaps you can open a ticket with some of this information for moving polymake to an optional spkg.



---

archive/issue_comments_167524.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 kcrisman]:\n> That said, we could probably get around that by hacking their installation procedure, especially since [http://polymake.mathematik.tu-darmstadt.de/doku.php/mac](http://polymake.mathematik.tu-darmstadt.de/doku.php/mac) apparently doesn't exist.\n\n\nFrom quickly browsing the sources, it seems possible that this would compile without issue if we call\n\n```\n./configure --without-java --with-fink=no\nmake -j4\n```\nCould you try this in a sage shell:\n\n```\nsage -sh\n```\nin a sage installation containing the boost_cropped package from #13767?\n\n> Timo, if you aren't interested in doing this :-) then perhaps you can open a ticket with some of this information for moving polymake to an optional spkg. \n\n\nI don't have access to a Mac, but if the above naive attempt works, I'll update the spkg. (I would be willing to do some more investigation if someone could give me ssh access to OSX.)",
    "created_at": "2013-02-28T16:20:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167524",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:7'></a>Replying to [comment:6 kcrisman]:
> That said, we could probably get around that by hacking their installation procedure, especially since [http://polymake.mathematik.tu-darmstadt.de/doku.php/mac](http://polymake.mathematik.tu-darmstadt.de/doku.php/mac) apparently doesn't exist.


From quickly browsing the sources, it seems possible that this would compile without issue if we call

```
./configure --without-java --with-fink=no
make -j4
```
Could you try this in a sage shell:

```
sage -sh
```
in a sage installation containing the boost_cropped package from #13767?

> Timo, if you aren't interested in doing this :-) then perhaps you can open a ticket with some of this information for moving polymake to an optional spkg. 


I don't have access to a Mac, but if the above naive attempt works, I'll update the spkg. (I would be willing to do some more investigation if someone could give me ssh access to OSX.)



---

archive/issue_comments_167525.json:
```json
{
    "body": "<a id='comment:8'></a>> From quickly browsing the sources, it seems possible that this would compile without issue if we call\n> \n> ```\n> ./configure --without-java --with-fink=no\n> make -j4\n> ```\n> Could you try this in a sage shell:\n> \n> ```\n> sage -sh\n> ```\n> in a sage installation containing the boost_cropped package from #13767?\n\nYou mean inside of a source folder for polymake, or with respect to this spkg?  Let me know and I'll try it.\n> I don't have access to a Mac, but if the above naive attempt works, I'll update the spkg. (I would be willing to do some more investigation if someone could give me ssh access to OSX.)\n\nI can't do that, but if you have access to the sage.math cluster, someone might be able to do so.",
    "created_at": "2013-02-28T17:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167525",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>> From quickly browsing the sources, it seems possible that this would compile without issue if we call
> 
> ```
> ./configure --without-java --with-fink=no
> make -j4
> ```
> Could you try this in a sage shell:
> 
> ```
> sage -sh
> ```
> in a sage installation containing the boost_cropped package from #13767?

You mean inside of a source folder for polymake, or with respect to this spkg?  Let me know and I'll try it.
> I don't have access to a Mac, but if the above naive attempt works, I'll update the spkg. (I would be willing to do some more investigation if someone could give me ssh access to OSX.)

I can't do that, but if you have access to the sage.math cluster, someone might be able to do so.



---

archive/issue_comments_167526.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 kcrisman]:\n> You mean inside of a source folder for polymake, or with respect to this spkg?  Let me know and I'll try it.\n\n\nEither in a source folder for polymake, or in the `./src` directory of this spkg. Both should be equivalent.",
    "created_at": "2013-02-28T17:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167526",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:9'></a>Replying to [comment:8 kcrisman]:
> You mean inside of a source folder for polymake, or with respect to this spkg?  Let me know and I'll try it.


Either in a source folder for polymake, or in the `./src` directory of this spkg. Both should be equivalent.



---

archive/issue_comments_167527.json:
```json
{
    "body": "<a id='comment:10'></a>```\n$ ./configure --without-java --with-fink=no\nWARNING: perl module Term::ReadLine::Gnu required for polymake not found on your machine.\n         Please be sure to install it prior to starting to use polymake. \n         If you have installed them in a non-standard location \n         please add the path to the environment variable PERL5LIB\n\nConfiguration goes on, nevertheless.\n```\nAfter then doing `make install` and running it, I get\n\n```\npolymake:  WARNING: created private directory /Users/.../.polymake\nWelcome to polymake version 2.12, released on March 19, 2012\nCopyright (c) 1997-2012\nEwgenij Gawrilow, Michael Joswig (TU Darmstadt)\nhttp://www.polymake.org\n\nThis is free software licensed under GPL; see the source for copying conditions.\nThere is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\nLoading applications now...polymake: Creating tree /Users/.../.polymake/wrappers/core for automatically generated private C++/perl wrappers\npolymake:  ERROR: \"/usr/local/share/polymake/apps/graph/rules/postscript.rules\", line 37: unknown label 'postscript'\n```\nBut I have a feeling that all this is actually not that hard to fix.",
    "created_at": "2013-02-28T18:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167527",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>```
$ ./configure --without-java --with-fink=no
WARNING: perl module Term::ReadLine::Gnu required for polymake not found on your machine.
         Please be sure to install it prior to starting to use polymake. 
         If you have installed them in a non-standard location 
         please add the path to the environment variable PERL5LIB

Configuration goes on, nevertheless.
```
After then doing `make install` and running it, I get

```
polymake:  WARNING: created private directory /Users/.../.polymake
Welcome to polymake version 2.12, released on March 19, 2012
Copyright (c) 1997-2012
Ewgenij Gawrilow, Michael Joswig (TU Darmstadt)
http://www.polymake.org

This is free software licensed under GPL; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

Loading applications now...polymake: Creating tree /Users/.../.polymake/wrappers/core for automatically generated private C++/perl wrappers
polymake:  ERROR: "/usr/local/share/polymake/apps/graph/rules/postscript.rules", line 37: unknown label 'postscript'
```
But I have a feeling that all this is actually not that hard to fix.



---

archive/issue_comments_167528.json:
```json
{
    "body": "<a id='comment:11'></a>> {{{\n> polymake:  WARNING: created private directory /Users/.../.polymake\n> Welcome to polymake version 2.12, released on March 19, 2012\n> Copyright (c) 1997-2012\n> Ewgenij Gawrilow, Michael Joswig (TU Darmstadt)\n> http://www.polymake.org\n> \n> This is free software licensed under GPL; see the source for copying conditions.\n> There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n> \n> Loading applications now...polymake: Creating tree /Users/.../.polymake/wrappers/core for automatically generated private C++/perl wrappers\n> polymake:  ERROR: \"/usr/local/share/polymake/apps/graph/rules/postscript.rules\", line 37: unknown label 'postscript'\n> }}}\n> But I have a feeling that all this is actually not that hard to fix.\n\nSee for instance [here](http://forum.polymake.org/viewtopic.php?f=8&t=171), though I couldn't actually apply the patch, so maybe it's been incorporated already... which means I have a different problem?  Or is it the whole missing the perl module thing?",
    "created_at": "2013-02-28T19:08:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167528",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:11'></a>> {{{
> polymake:  WARNING: created private directory /Users/.../.polymake
> Welcome to polymake version 2.12, released on March 19, 2012
> Copyright (c) 1997-2012
> Ewgenij Gawrilow, Michael Joswig (TU Darmstadt)
> http://www.polymake.org
> 
> This is free software licensed under GPL; see the source for copying conditions.
> There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
> 
> Loading applications now...polymake: Creating tree /Users/.../.polymake/wrappers/core for automatically generated private C++/perl wrappers
> polymake:  ERROR: "/usr/local/share/polymake/apps/graph/rules/postscript.rules", line 37: unknown label 'postscript'
> }}}
> But I have a feeling that all this is actually not that hard to fix.

See for instance [here](http://forum.polymake.org/viewtopic.php?f=8&t=171), though I couldn't actually apply the patch, so maybe it's been incorporated already... which means I have a different problem?  Or is it the whole missing the perl module thing?



---

archive/issue_comments_167529.json:
```json
{
    "body": "<a id='comment:12'></a>I'm wondering also about this in spkg-install\n\n```\n./configure --prefix=\"$SAGE_LOCAL\" --with-boost=\"$SAGE_LOCAL\" --with-gmp=\"$SAGE_LOCAL\"\n```\nshould we add `--with-readline` and `--with-mpfr` to be `$SAGE_LOCAL` as well?\n\nI tried to add the appropriate Perl modules for this but found some trouble - as well as noted that the specific versions of the xml thing mentioned aren't even available at CPAN...",
    "created_at": "2013-03-01T02:50:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167529",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>I'm wondering also about this in spkg-install

```
./configure --prefix="$SAGE_LOCAL" --with-boost="$SAGE_LOCAL" --with-gmp="$SAGE_LOCAL"
```
should we add `--with-readline` and `--with-mpfr` to be `$SAGE_LOCAL` as well?

I tried to add the appropriate Perl modules for this but found some trouble - as well as noted that the specific versions of the xml thing mentioned aren't even available at CPAN...



---

archive/issue_comments_167530.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 kcrisman]:\n> I'm wondering also about this in spkg-install\n> \n> ```\n> ./configure --prefix=\"$SAGE_LOCAL\" --with-boost=\"$SAGE_LOCAL\" --with-gmp=\"$SAGE_LOCAL\"\n> ```\n> should we add `--with-readline` and `--with-mpfr` to be `$SAGE_LOCAL` as well?\n\nThat probably makes sense.\n\n> \n> I tried to add the appropriate Perl modules for this but found some trouble - as well as noted that the specific versions of the xml thing mentioned aren't even available at CPAN...\n\nThis sounds like something that upstream could be contacted about.\n\nLooking back at:\n> `polymake:  ERROR: \"/usr/local/share/polymake/apps/graph/rules/postscript.rules\", line 37: unknown label 'postscript'`\n\nThis bothers me. Why does it use a system-wide install in `/usr/local/share` instead of something in `$SAGE_LOCAL`?\n\nI have a hunch that the root of the trouble on OSX may be that the configure script uses the perl variable  `$^O` to check what operating system Perl was compiled for. It then uses that to make assumptions about which libraries are available, and where to find them. I wonder what would happen if only we could just override this `$^O` variable from the command line (which seems impossible) or when we just patch the `configure.pl` script to start with setting `$^O` to `linux`.",
    "created_at": "2013-03-01T10:39:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167530",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:13'></a>Replying to [comment:12 kcrisman]:
> I'm wondering also about this in spkg-install
> 
> ```
> ./configure --prefix="$SAGE_LOCAL" --with-boost="$SAGE_LOCAL" --with-gmp="$SAGE_LOCAL"
> ```
> should we add `--with-readline` and `--with-mpfr` to be `$SAGE_LOCAL` as well?

That probably makes sense.

> 
> I tried to add the appropriate Perl modules for this but found some trouble - as well as noted that the specific versions of the xml thing mentioned aren't even available at CPAN...

This sounds like something that upstream could be contacted about.

Looking back at:
> `polymake:  ERROR: "/usr/local/share/polymake/apps/graph/rules/postscript.rules", line 37: unknown label 'postscript'`

This bothers me. Why does it use a system-wide install in `/usr/local/share` instead of something in `$SAGE_LOCAL`?

I have a hunch that the root of the trouble on OSX may be that the configure script uses the perl variable  `$^O` to check what operating system Perl was compiled for. It then uses that to make assumptions about which libraries are available, and where to find them. I wonder what would happen if only we could just override this `$^O` variable from the command line (which seems impossible) or when we just patch the `configure.pl` script to start with setting `$^O` to `linux`.



---

archive/issue_comments_167531.json:
```json
{
    "body": "<a id='comment:14'></a>> > I'm wondering also about this in spkg-install\n> > \n> > ```\n> > ./configure --prefix=\"$SAGE_LOCAL\" --with-boost=\"$SAGE_LOCAL\" --with-gmp=\"$SAGE_LOCAL\"\n> > ```\n> > should we add `--with-readline` and `--with-mpfr` to be `$SAGE_LOCAL` as well?\n\n> That probably makes sense.\nOk.\n> > \n> > I tried to add the appropriate Perl modules for this but found some trouble - as well as noted that the specific versions of the xml thing mentioned aren't even available at CPAN...\n\n> This sounds like something that upstream could be contacted about.\nYes, and the bad error message about the Mac page.\n> Looking back at:\n> > `polymake:  ERROR: \"/usr/local/share/polymake/apps/graph/rules/postscript.rules\", line 37: unknown label 'postscript'`\n\n> This bothers me. Why does it use a system-wide install in `/usr/local/share` instead of something in `$SAGE_LOCAL`?\nThat's because I just did `make install` because I couldn't use the spkg-install.\n> I have a hunch that the root of the trouble on OSX may be that the configure script uses the perl variable  `$^O` to check what operating system Perl was compiled for. It then uses that to make assumptions about which libraries are available, and where to find them. I wonder what would happen if only we could just override this `$^O` variable from the command line (which seems impossible) or when we just patch the `configure.pl` script to start with setting `$^O` to `linux`.\n\nI have no idea, but you may be right.",
    "created_at": "2013-03-01T18:14:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167531",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'></a>> > I'm wondering also about this in spkg-install
> > 
> > ```
> > ./configure --prefix="$SAGE_LOCAL" --with-boost="$SAGE_LOCAL" --with-gmp="$SAGE_LOCAL"
> > ```
> > should we add `--with-readline` and `--with-mpfr` to be `$SAGE_LOCAL` as well?

> That probably makes sense.
Ok.
> > 
> > I tried to add the appropriate Perl modules for this but found some trouble - as well as noted that the specific versions of the xml thing mentioned aren't even available at CPAN...

> This sounds like something that upstream could be contacted about.
Yes, and the bad error message about the Mac page.
> Looking back at:
> > `polymake:  ERROR: "/usr/local/share/polymake/apps/graph/rules/postscript.rules", line 37: unknown label 'postscript'`

> This bothers me. Why does it use a system-wide install in `/usr/local/share` instead of something in `$SAGE_LOCAL`?
That's because I just did `make install` because I couldn't use the spkg-install.
> I have a hunch that the root of the trouble on OSX may be that the configure script uses the perl variable  `$^O` to check what operating system Perl was compiled for. It then uses that to make assumptions about which libraries are available, and where to find them. I wonder what would happen if only we could just override this `$^O` variable from the command line (which seems impossible) or when we just patch the `configure.pl` script to start with setting `$^O` to `linux`.

I have no idea, but you may be right.



---

archive/issue_comments_167532.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:14 kcrisman]:\n> > Looking back at:\n> > > `polymake:  ERROR: \"/usr/local/share/polymake/apps/graph/rules/postscript.rules\", line 37: unknown label 'postscript'`\n\n> > This bothers me. Why does it use a system-wide install in `/usr/local/share` instead of something in `$SAGE_LOCAL`?\n> That's because I just did `make install` because I couldn't use the spkg-install.\n\nI see. Could you test the following in a sage shell (`sage -sh`) inside the polymake source directory:\n\n```\n./configure --prefix=\"$SAGE_LOCAL\" --with-boost=\"$SAGE_LOCAL\" --with-gmp=\"$SAGE_LOCAL\" --without-java --with-fink=no\nmake -j4\nmake install\n```\nand see whether it works? Because it sounds like the prefix wasn't set correctly, and I'm not sure whether that could give problems. There should be no need to use `sudo`. Maybe try your `--with-readline` and `--with-mpfr` suggestions, too.",
    "created_at": "2013-03-01T18:27:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167532",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:15'></a>Replying to [comment:14 kcrisman]:
> > Looking back at:
> > > `polymake:  ERROR: "/usr/local/share/polymake/apps/graph/rules/postscript.rules", line 37: unknown label 'postscript'`

> > This bothers me. Why does it use a system-wide install in `/usr/local/share` instead of something in `$SAGE_LOCAL`?
> That's because I just did `make install` because I couldn't use the spkg-install.

I see. Could you test the following in a sage shell (`sage -sh`) inside the polymake source directory:

```
./configure --prefix="$SAGE_LOCAL" --with-boost="$SAGE_LOCAL" --with-gmp="$SAGE_LOCAL" --without-java --with-fink=no
make -j4
make install
```
and see whether it works? Because it sounds like the prefix wasn't set correctly, and I'm not sure whether that could give problems. There should be no need to use `sudo`. Maybe try your `--with-readline` and `--with-mpfr` suggestions, too.



---

archive/issue_comments_167533.json:
```json
{
    "body": "<a id='comment:16'></a>Well, everything is fine except\n\n```\n$ ../../../../local/bin/polymake\nWelcome to polymake version 2.12, released on March 19, 2012\nCopyright (c) 1997-2012\nEwgenij Gawrilow, Michael Joswig (TU Darmstadt)\nhttp://www.polymake.org\n\nThis is free software licensed under GPL; see the source for copying conditions.\nThere is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\nLoading applications now...Can't locate object method \"new\" via package \"Term::ReadLine::Gnu\" at (eval 358) line 4, <GEN7> line 143.\n```\nSo we definitely need this Perl package.  And I'm having trouble installing it, I think because of it downloading a version for Mac but needing a linux one or something, as you suggest.\n\n```\n$ perl -MCPAN -e 'install Term::ReadLine::Gnu'\nGoing to read '/Users/.../.cpan/Metadata'  Database was generated on Thu, 28 Feb 2013 03:07:45 GMT\nRunning install for module 'Term::ReadLine::Gnu'\nRunning make for H/HA/HAYASHI/Term-ReadLine-Gnu-1.20.tar.gz\nChecksum for /Users/.../.cpan/sources/authors/id/H/HA/HAYASHI/Term-ReadLine-Gnu-1.20.tar.gz ok\n\n  CPAN.pm: Going to build H/HA/HAYASHI/Term-ReadLine-Gnu-1.20.tar.gz\n\nFound `/usr/lib/libtermcap.dylib'.\nllvm-gcc-4.2  -arch x86_64 -arch i386 -g -pipe -fno-common -DPERL_DARWIN -fno-strict-aliasing -fstack-protector -I/usr/local/include -DHAVE_STRING_H rlver.c -o rlver   -arch x86_64 -arch i386 -fstack-protector -L/usr/local/lib -lreadline -ltermcap\nld: warning: ld: warning: ignoring file /Users/.../sage-5.8.beta1/local/lib/libtermcap.a, file was built for archive which is not the architecture being linked (i386): /Users/.../sage-5.8.beta1/local/lib/libtermcap.aignoring file /Users/.../sage-5.8.beta1/local/lib/libreadline.dylib, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0x 7 0x 0 0x 0 0x 1 0x 3 0x 0 0x 0 0x 0 0x 6 0x 0 0x 0 0x 0 ) which is not the architecture being linked (i386): /Users/.../sage-5.8.beta1/local/lib/libreadline.dylib\n\nUndefined symbols for architecture i386:\n  \"_rl_library_version\", referenced from:\n      _main in cckKsg6f.o\nld: symbol(s) not found for architecture i386\ncollect2: ld returned 1 exit status\nlipo: can't open input file: /var/folders/k8/nj0z1bkd11dcs1v5hbh_tknc92p43w/T//cc1NJ0c0.out (No such file or directory)\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nCould not compile rlver.c.\n\nIf you have installed the GNU Readline Library (libreadline.{a,so} and\nreadline/readline.h, etc.) on directories for which your perl is not\nconfigured to search (refer the value of `ccflags' and `libpath' in\nthe output of `perl -V'), specify the paths as follows;\n\n\tperl Makefile.PL --includedir=/yourdir/include --libdir=/yourdir/lib\nor\n\tperl Makefile.PL --prefix=/yourdir\n\nNote that the GNU Readline Library version 2.0 and earlier causes error\nhere.  Update it to version 2.1 and/or later.\n\nRead INSTALL for more details.\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nWarning: No success on command[/usr/bin/perl Makefile.PL]\n'YAML' not installed, will not store persistent state\n  HAYASHI/Term-ReadLine-Gnu-1.20.tar.gz\n  /usr/bin/perl Makefile.PL -- NOT OK\nRunning make test\n  Make had some problems, won't test\nRunning make install\n  Make had some problems, won't install\n```\nI think we need to pass the Sage gcc to this.  But it's not clear to me from reading some stuff online whether one would even be able to use the Sage gcc with the local perl (compiled, perhaps, by llvm-gcc...).  I tried a lot of stuff but I have a feeling that there is no real solution to this.",
    "created_at": "2013-03-02T02:30:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167533",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'></a>Well, everything is fine except

```
$ ../../../../local/bin/polymake
Welcome to polymake version 2.12, released on March 19, 2012
Copyright (c) 1997-2012
Ewgenij Gawrilow, Michael Joswig (TU Darmstadt)
http://www.polymake.org

This is free software licensed under GPL; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

Loading applications now...Can't locate object method "new" via package "Term::ReadLine::Gnu" at (eval 358) line 4, <GEN7> line 143.
```
So we definitely need this Perl package.  And I'm having trouble installing it, I think because of it downloading a version for Mac but needing a linux one or something, as you suggest.

```
$ perl -MCPAN -e 'install Term::ReadLine::Gnu'
Going to read '/Users/.../.cpan/Metadata'  Database was generated on Thu, 28 Feb 2013 03:07:45 GMT
Running install for module 'Term::ReadLine::Gnu'
Running make for H/HA/HAYASHI/Term-ReadLine-Gnu-1.20.tar.gz
Checksum for /Users/.../.cpan/sources/authors/id/H/HA/HAYASHI/Term-ReadLine-Gnu-1.20.tar.gz ok

  CPAN.pm: Going to build H/HA/HAYASHI/Term-ReadLine-Gnu-1.20.tar.gz

Found `/usr/lib/libtermcap.dylib'.
llvm-gcc-4.2  -arch x86_64 -arch i386 -g -pipe -fno-common -DPERL_DARWIN -fno-strict-aliasing -fstack-protector -I/usr/local/include -DHAVE_STRING_H rlver.c -o rlver   -arch x86_64 -arch i386 -fstack-protector -L/usr/local/lib -lreadline -ltermcap
ld: warning: ld: warning: ignoring file /Users/.../sage-5.8.beta1/local/lib/libtermcap.a, file was built for archive which is not the architecture being linked (i386): /Users/.../sage-5.8.beta1/local/lib/libtermcap.aignoring file /Users/.../sage-5.8.beta1/local/lib/libreadline.dylib, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0x 7 0x 0 0x 0 0x 1 0x 3 0x 0 0x 0 0x 0 0x 6 0x 0 0x 0 0x 0 ) which is not the architecture being linked (i386): /Users/.../sage-5.8.beta1/local/lib/libreadline.dylib

Undefined symbols for architecture i386:
  "_rl_library_version", referenced from:
      _main in cckKsg6f.o
ld: symbol(s) not found for architecture i386
collect2: ld returned 1 exit status
lipo: can't open input file: /var/folders/k8/nj0z1bkd11dcs1v5hbh_tknc92p43w/T//cc1NJ0c0.out (No such file or directory)
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Could not compile rlver.c.

If you have installed the GNU Readline Library (libreadline.{a,so} and
readline/readline.h, etc.) on directories for which your perl is not
configured to search (refer the value of `ccflags' and `libpath' in
the output of `perl -V'), specify the paths as follows;

	perl Makefile.PL --includedir=/yourdir/include --libdir=/yourdir/lib
or
	perl Makefile.PL --prefix=/yourdir

Note that the GNU Readline Library version 2.0 and earlier causes error
here.  Update it to version 2.1 and/or later.

Read INSTALL for more details.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Warning: No success on command[/usr/bin/perl Makefile.PL]
'YAML' not installed, will not store persistent state
  HAYASHI/Term-ReadLine-Gnu-1.20.tar.gz
  /usr/bin/perl Makefile.PL -- NOT OK
Running make test
  Make had some problems, won't test
Running make install
  Make had some problems, won't install
```
I think we need to pass the Sage gcc to this.  But it's not clear to me from reading some stuff online whether one would even be able to use the Sage gcc with the local perl (compiled, perhaps, by llvm-gcc...).  I tried a lot of stuff but I have a feeling that there is no real solution to this.



---

archive/issue_comments_167534.json:
```json
{
    "body": "<a id='comment:17'></a>Have you tried installing that package from CPAN but from outside of the sage shell? Since we use the system's perl, we should probably also install the packages system-wide. On my Ubuntu machine, the configure script complains about the following missing perl modules:\n\n```\n    XML::Writer  XML::LibXML  XML::LibXSLT Term::ReadLine::Gnu\n```\n\nSince polymake remains an optional package, maybe we can just require users to install these from CPAN themselves? I don't feel like adding sage's own personal perl package manager to the spkg system...\n\nAs for the `ReadLine` package, we may not need it if Sage is going to use polymake through its shared library interface, like what I'm trying to do in #14116. My guess is that polymake only uses `ReadLine` for its command line interface.",
    "created_at": "2013-06-14T11:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167534",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:17'></a>Have you tried installing that package from CPAN but from outside of the sage shell? Since we use the system's perl, we should probably also install the packages system-wide. On my Ubuntu machine, the configure script complains about the following missing perl modules:

```
    XML::Writer  XML::LibXML  XML::LibXSLT Term::ReadLine::Gnu
```

Since polymake remains an optional package, maybe we can just require users to install these from CPAN themselves? I don't feel like adding sage's own personal perl package manager to the spkg system...

As for the `ReadLine` package, we may not need it if Sage is going to use polymake through its shared library interface, like what I'm trying to do in #14116. My guess is that polymake only uses `ReadLine` for its command line interface.



---

archive/issue_comments_167535.json:
```json
{
    "body": "<a id='comment:18'></a>> Have you tried installing that package from CPAN but from outside of the sage shell? \nYes.  That's the error message.  But that's not the issue.\n> Since polymake remains an optional package, maybe we can just require users to install these from CPAN themselves? I don't feel like adding sage's own personal perl package manager to the spkg system...\n\nThe problem is that the default libreadline on Mac is not GNU readline. See [here](https://pypi.python.org/pypi/readline), for example.  I'm just wondering what the \"right\" solution is; ideally, we would use Sage's libreadline (if it were possible to pass this to the Perl package) but we need to install the Perl module before we do the Sage package compilation... chicken and the egg.  I'm trying some stuff and will report back.\n> As for the `ReadLine` package, we may not need it if Sage is going to use polymake through its shared library interface, like what I'm trying to do in #14116. My guess is that polymake only uses `ReadLine` for its command line interface.\n\nProbably true.  But how do we disable it needing that - is there yet *another* configure option that would disable it?  Anyway, for this ticket it would be helpful to find a way to do it *with* readline.",
    "created_at": "2013-06-14T12:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167535",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:18'></a>> Have you tried installing that package from CPAN but from outside of the sage shell? 
Yes.  That's the error message.  But that's not the issue.
> Since polymake remains an optional package, maybe we can just require users to install these from CPAN themselves? I don't feel like adding sage's own personal perl package manager to the spkg system...

The problem is that the default libreadline on Mac is not GNU readline. See [here](https://pypi.python.org/pypi/readline), for example.  I'm just wondering what the "right" solution is; ideally, we would use Sage's libreadline (if it were possible to pass this to the Perl package) but we need to install the Perl module before we do the Sage package compilation... chicken and the egg.  I'm trying some stuff and will report back.
> As for the `ReadLine` package, we may not need it if Sage is going to use polymake through its shared library interface, like what I'm trying to do in #14116. My guess is that polymake only uses `ReadLine` for its command line interface.

Probably true.  But how do we disable it needing that - is there yet *another* configure option that would disable it?  Anyway, for this ticket it would be helpful to find a way to do it *with* readline.



---

archive/issue_comments_167536.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:18 kcrisman]:\n> Anyway, for this ticket it would be helpful to find a way to do it *with* readline.\n\n\nI think that Sage's polymake interface through pexpect (on the sage side) and readline (on the polymake side) is currently broken anyway, independent of this upgrade. IIRC, the current polymake package fails to install in recent versions of sage. And on the other hand, the new version of polymake from this ticket doesn't work with the current library code: it outputs copyright info to stderr, which sage interprets as an error having occurred.\n\nSo in fact, I'm not sure if we really need to try to make the pexpect/readline interface work, when there's already efforts underway for replacing it by the shared library interface from the new version of polymake. That is to say, I'm not inclined to spend much time on that.\n\n(This is an example of a ticket needing a simultaneous change in a package and in the sage library code. For these tickets, the transition to a unified repository is very useful.)\n\n> But how do we disable it needing that - is there yet *another* configure option that would disable it?  \n\nThe polymake configure script will only *warn* about cpan packages not being available, and it will still install without them. As long as we don't use the readline features, and as long as we ask the user to install those other packages from cpan, there is no problem. That is, if those other packages install correctly on MacOS. Do they?",
    "created_at": "2013-06-14T13:21:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167536",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:19'></a>Replying to [comment:18 kcrisman]:
> Anyway, for this ticket it would be helpful to find a way to do it *with* readline.


I think that Sage's polymake interface through pexpect (on the sage side) and readline (on the polymake side) is currently broken anyway, independent of this upgrade. IIRC, the current polymake package fails to install in recent versions of sage. And on the other hand, the new version of polymake from this ticket doesn't work with the current library code: it outputs copyright info to stderr, which sage interprets as an error having occurred.

So in fact, I'm not sure if we really need to try to make the pexpect/readline interface work, when there's already efforts underway for replacing it by the shared library interface from the new version of polymake. That is to say, I'm not inclined to spend much time on that.

(This is an example of a ticket needing a simultaneous change in a package and in the sage library code. For these tickets, the transition to a unified repository is very useful.)

> But how do we disable it needing that - is there yet *another* configure option that would disable it?  

The polymake configure script will only *warn* about cpan packages not being available, and it will still install without them. As long as we don't use the readline features, and as long as we ask the user to install those other packages from cpan, there is no problem. That is, if those other packages install correctly on MacOS. Do they?



---

archive/issue_comments_167537.json:
```json
{
    "body": "<a id='comment:20'></a>> So in fact, I'm not sure if we really need to try to make the pexpect/readline interface work, when there's already efforts underway for replacing it by the shared library interface from the new version of polymake. That is to say, I'm not inclined to spend much time on that.\n\nThat's fine with me, but it looked like you didn't have #14116 ready to test yet (as in having an spkg).  And I'm not sure it's possible to *build* polymake without the readline.  I couldn't find anything about that, anyway; they do have options for building without the Java viewers, but not without the command line at all.\n\nWait, I now understand what you are saying - there will be an error and the command line version won't run (see, in fact, my comment:16) but maybe the library interface *will* still work.  Intriguing idea.  I'll check it out.\n> > But how do we disable it needing that - is there yet *another* configure option that would disable it?  \n\n> The polymake configure script will only *warn* about cpan packages not being available, and it will still install without them. As long as we don't use the readline features, and as long as we ask the user to install those other packages from cpan, there is no problem. That is, if those other packages install correctly on MacOS. Do they?\nThere was only one other Perl package I had to install, and\n\n```\nsudo perl -MCPAN -e 'install XML::LibXSLT'\n```\nwent fine (the `sudo` was necessary, though).",
    "created_at": "2013-06-14T13:47:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167537",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:20'></a>> So in fact, I'm not sure if we really need to try to make the pexpect/readline interface work, when there's already efforts underway for replacing it by the shared library interface from the new version of polymake. That is to say, I'm not inclined to spend much time on that.

That's fine with me, but it looked like you didn't have #14116 ready to test yet (as in having an spkg).  And I'm not sure it's possible to *build* polymake without the readline.  I couldn't find anything about that, anyway; they do have options for building without the Java viewers, but not without the command line at all.

Wait, I now understand what you are saying - there will be an error and the command line version won't run (see, in fact, my comment:16) but maybe the library interface *will* still work.  Intriguing idea.  I'll check it out.
> > But how do we disable it needing that - is there yet *another* configure option that would disable it?  

> The polymake configure script will only *warn* about cpan packages not being available, and it will still install without them. As long as we don't use the readline features, and as long as we ask the user to install those other packages from cpan, there is no problem. That is, if those other packages install correctly on MacOS. Do they?
There was only one other Perl package I had to install, and

```
sudo perl -MCPAN -e 'install XML::LibXSLT'
```
went fine (the `sudo` was necessary, though).



---

archive/issue_comments_167538.json:
```json
{
    "body": "<a id='comment:21'></a>Don't forget that whatever you do here will require a slight change in spkg-install\n\n```\n./configure --without-java --with-fink=no --prefix=\"$SAGE_LOCAL\" --with-boost=\"$SAGE_LOCAL\" --with-gmp=\"$SAGE_LOCAL\" --with-readline=\"$SAGE_LOCAL\" --with-mpfr=\"$SAGE_LOCAL\"\n```\nI'm going to look at #14116 now, I'm done with this ticket for today :)",
    "created_at": "2013-06-14T14:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167538",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:21'></a>Don't forget that whatever you do here will require a slight change in spkg-install

```
./configure --without-java --with-fink=no --prefix="$SAGE_LOCAL" --with-boost="$SAGE_LOCAL" --with-gmp="$SAGE_LOCAL" --with-readline="$SAGE_LOCAL" --with-mpfr="$SAGE_LOCAL"
```
I'm going to look at #14116 now, I'm done with this ticket for today :)



---

archive/issue_events_038587.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13768#event-38587"
}
```



---

archive/issue_events_038588.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13768#event-38588"
}
```



---

archive/issue_events_038589.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13768#event-38589"
}
```



---

archive/issue_events_038590.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13768#event-38590"
}
```



---

archive/issue_events_038591.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13768#event-38591"
}
```



---

archive/issue_events_038592.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13768#event-38592"
}
```



---

archive/issue_events_038593.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13768#event-38593"
}
```



---

archive/issue_comments_167539.json:
```json
{
    "body": "Changing component from packages: standard to packages: experimental.",
    "created_at": "2014-11-13T13:59:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167539",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from packages: standard to packages: experimental.



---

archive/issue_comments_167540.json:
```json
{
    "body": "<a id='comment:27'></a>D'oh!  The package link is broken!  Timo, if you see this, please let us know where we can find it, there are a few places online we can host such things.",
    "created_at": "2014-11-20T14:18:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167540",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:27'></a>D'oh!  The package link is broken!  Timo, if you see this, please let us know where we can find it, there are a few places online we can host such things.



---

archive/issue_comments_167541.json:
```json
{
    "body": "<a id='comment:29'></a>Sorry! The link works when replacing http://infty.nl by http://www.infty.nl. I updated the description.\n\nThe package can be found at:\nhttp://www.infty.nl/misc/polymake-2.12.spkg",
    "created_at": "2014-11-20T17:07:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167541",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:29'></a>Sorry! The link works when replacing http://infty.nl by http://www.infty.nl. I updated the description.

The package can be found at:
http://www.infty.nl/misc/polymake-2.12.spkg



---

archive/issue_comments_167542.json:
```json
{
    "body": "<a id='comment:30'></a>Trying on Mac again.  First, same problem, so let's definitely change to\n\n```\n./configure --prefix=\"$SAGE_LOCAL\" --with-boost=\"$SAGE_LOCAL\" --with-gmp=\"$SAGE_LOCAL\" --without-java --with-fink=no\n```\nProbably at least `sudo perl -MCPAN -e 'install XML::LibXSLT'` is still necessary, though this is the same computer I used before so I don't think it will complain yet.\n\nOther comments:\n* polymake is now at version 2.13\n* For OS X 10.8 and 10.9 (newer than mine) claims to have perl bundles to solve some of these problems, though I'm not precisely sure what they entail.  They have something for 10.7 for polymake 2.12 as well.\n\nHowever, perhaps all of this is superseded by the branch and new-style spkg at #14116?",
    "created_at": "2014-11-20T19:47:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167542",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:30'></a>Trying on Mac again.  First, same problem, so let's definitely change to

```
./configure --prefix="$SAGE_LOCAL" --with-boost="$SAGE_LOCAL" --with-gmp="$SAGE_LOCAL" --without-java --with-fink=no
```
Probably at least `sudo perl -MCPAN -e 'install XML::LibXSLT'` is still necessary, though this is the same computer I used before so I don't think it will complain yet.

Other comments:
* polymake is now at version 2.13
* For OS X 10.8 and 10.9 (newer than mine) claims to have perl bundles to solve some of these problems, though I'm not precisely sure what they entail.  They have something for 10.7 for polymake 2.12 as well.

However, perhaps all of this is superseded by the branch and new-style spkg at #14116?



---

archive/issue_comments_167543.json:
```json
{
    "body": "<a id='comment:31'></a>Having had some success with #14116, I'm very much thinking this is a duplicate.",
    "created_at": "2014-11-20T20:08:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167543",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:31'></a>Having had some success with #14116, I'm very much thinking this is a duplicate.



---

archive/issue_events_038594.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-20T21:01:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13768#event-38594"
}
```



---

archive/issue_events_038595.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-20T21:01:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13768#event-38595"
}
```



---

archive/issue_comments_167544.json:
```json
{
    "body": "<a id='comment:32'></a>Yes, but setting to sage-pending in case this old-style spkg is updated with the right config.  The one at #5488 is definitely superseded by this, anyway.",
    "created_at": "2014-11-20T21:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167544",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:32'></a>Yes, but setting to sage-pending in case this old-style spkg is updated with the right config.  The one at #5488 is definitely superseded by this, anyway.



---

archive/issue_comments_167545.json:
```json
{
    "body": "<a id='comment:33'></a>Things are looking good at #14116, so *likely* this will indeed end up closed - stay tuned.",
    "created_at": "2014-12-02T16:25:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167545",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:33'></a>Things are looking good at #14116, so *likely* this will indeed end up closed - stay tuned.



---

archive/issue_comments_167546.json:
```json
{
    "body": "Attachment [VDelecroix-polymake-2.12.log](tarball://root/attachments/some-uuid/ticket13768/VDelecroix-polymake-2.12.log) by @videlec created at 2014-12-07 19:45:32\n\nlog file of a failed installation (Linux 3.16.0-4-amd64 Debian 3.16.7-2 x86_64)",
    "created_at": "2014-12-07T19:45:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167546",
    "user": "https://github.com/videlec"
}
```

Attachment [VDelecroix-polymake-2.12.log](tarball://root/attachments/some-uuid/ticket13768/VDelecroix-polymake-2.12.log) by @videlec created at 2014-12-07 19:45:32

log file of a failed installation (Linux 3.16.0-4-amd64 Debian 3.16.7-2 x86_64)



---

archive/issue_comments_167547.json:
```json
{
    "body": "<a id='comment:34'></a>Moving status since nothing has happened yet.",
    "created_at": "2015-05-21T20:13:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167547",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:34'></a>Moving status since nothing has happened yet.



---

archive/issue_comments_167548.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-21T20:13:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167548",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_167549.json:
```json
{
    "body": "<a id='comment:35'></a>New tentative at #20892 for polymake-3.0",
    "created_at": "2016-06-27T21:51:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167549",
    "user": "https://github.com/videlec"
}
```

<a id='comment:35'></a>New tentative at #20892 for polymake-3.0



---

archive/issue_comments_167550.json:
```json
{
    "body": "<a id='comment:36'></a>I propose to close this ticket because of #20892",
    "created_at": "2016-06-28T23:59:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167550",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>I propose to close this ticket because of #20892



---

archive/issue_comments_167551.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-06-28T23:59:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167551",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_events_038596.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-28T23:59:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13768#event-38596"
}
```



---

archive/issue_events_038597.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-28T23:59:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13768#event-38597"
}
```



---

archive/issue_comments_167552.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-06-29T00:14:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167552",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_038598.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13768#event-38598"
}
```



---

archive/issue_comments_167553.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2016-08-30T13:32:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167553",
    "user": "https://github.com/embray"
}
```

Resolution: wontfix



---

archive/issue_comments_167554.json:
```json
{
    "body": "<a id='comment:38'></a>Determined to be invalid/duplicate/wontfix (closing as \"wontfix\" as a catch-all resolution).",
    "created_at": "2016-08-30T13:32:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13768#issuecomment-167554",
    "user": "https://github.com/embray"
}
```

<a id='comment:38'></a>Determined to be invalid/duplicate/wontfix (closing as "wontfix" as a catch-all resolution).
