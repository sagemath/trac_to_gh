# Issue 13268: Proposal of a DifferentialAlgebra package, relying on the C BLAD libraries

archive/issues_013096.json:
```json
{
    "assignees": [],
    "body": "This ticket proposes the inclusion in SAGE of a new package, dedicated to differential algebra.\n\n**Introduction**\n\nThe `DifferentialAlgebra` Sage package is an analogue of the MAPLE 14 `DifferentialAlgebra` package.\nThe underlying theory is the differential algebra of Ritt and Kolchin.\nIts main tool is a simplifier for systems of polynomial differential equations, ordinary or with partial derivatives, called `RosenfeldGroebner`. It is related to the differential elimination theory. This simplifier decomposes the radical differential ideal I generated by an input system, as an intersection of radical differential ideals presented by regular differential chains (a slight generalization of Ritt characteristic sets). The output permits to test membership in the differential ideal I.\n\n**Further developments**\n\n* The package should be developed to enhance numerical solvers of DAE (computation of the underlying ODE and of the equations which give the constraints on the initial values).\n* The package provides an implementation of differential fields, which could be very important for many developments (Ore algebra, differential modules, K\u00e4hler differentials, ...).\n* The package involves an implementation of Ritt's Low Power Theorem, for analysing the solutions of a single polynomial differential equation (general, particular, singular solution).\n* The development of the package was undertaken as first step, towards a control theory package. \n\n**Software**\n\nThe package is written in Cython.\nThe computations are performed by the BLAD libraries (C libraries, 60000 lines, LGPL license).\nThe interface between Sage and BLAD is handled by the BMI library (C library, 10000 lines, LGPL license).\n\nUpstream: [BLAD](http://www.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BLAD) [BMI](http://www2.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BMI)\n\n**Installation**\n\nAfter building Sage, install the experimental packages `blad` and `bmi`, then run `make` or `make build` again, i.e:\n\n```\nmake build\nSAGE_ROOT=$(pwd) ./local/bin/sage -i blad\nSAGE_ROOT=$(pwd) ./local/bin/sage -i bmi\nmake build\n```\n\n**An example**\n\nBorrowed from `DifferentialAlgebra.pyx`, to motivate (hopefully) reviewers.\n\n\n```\nsage: from sage.libs.blad.DifferentialAlgebra import DifferentialRing, RegularDifferentialChain, BaseFieldExtension\nsage: leader,order,rank = var ('leader,order,rank')\nsage: derivative = function ('derivative')\n```\n\nThis example shows how to build the Henri Michaelis Menten formula by differential elimination. One considers a chemical reaction system describing the enzymatic reaction:\n\n```\n                   k(1)\n        E + S  -----------> ES\n                   k(-1)\n        ES     -----------> E + S\n                   k(2)\n        ES     -----------> E + P\n```\n\nA substrate S is transformed into a product P, in the presence of an enzyme E. An intermediate complex ES is formed.\n\n```\nsage: t = var('t')\nsage: k,F_1,E,S,ES,P = function('k,F_1,E,S,ES,P')\nsage: params = [k(-1),k(1),k(2)]\nsage: params\n[k(-1), k(1), k(2)]\n```\n\nThe main assumption is that k(1), k(-1) >> k(2) i.e. that the revertible reaction is much faster than the last one. One performs a quasi-steady state approximation by considering the following differential-algebraic system (it comes from the mass-action law kinetics, replacing the contribution of the fast reactions by an unknown function F_1(t), on the algebraic variety where the fast reaction would equilibrate if they were alone).\n\n```\nsage: syst = [diff(E(t),t) == - F_1(t) + k(2)*ES(t), diff(S(t),t) == - F_1(t), diff (ES(t),t) == - k(2)*ES(t) + F_1(t), diff (P(t),t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t) ]\nsage: syst\n[D[0](E)(t) == k(2)*ES(t) - F_1(t), D[0](S)(t) == -F_1(t), D[0](ES)(t) == -k(2)*ES(t) + F_1(t), D[0](P)(t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t)]\n```\n\nDifferential elimination permits to simplify this DAE. To avoid discussing the possible vanishing of ``params``, one moves them to the base field of the equations.\n\n```\nsage: Field = BaseFieldExtension (generators = params)\nsage: Field\ndifferential_field\n\nsage: R = DifferentialRing (derivations = [t], blocks = [F_1, [E,ES,P,S], params], parameters = params)\nsage: R\ndifferential_ring\n```\n\nThe Rosenfeld-Groebner algorithm considers three cases. The two last ones are degenerate cases.\n\n```\nsage: ideal = R.RosenfeldGroebner (syst, basefield = Field)\nsage: ideal\n[regular_differential_chain, regular_differential_chain, regular_differential_chain]\nsage: [ C.equations (solved = true) for C in ideal ]\n[[E(t) == k(1)*ES(t)/(k(-1)*S(t)), D[0](S)(t) == -(k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t)), D[0](P)(t) == k(2)*ES(t), D[0](ES)(t) == -k(1)*k(2)*ES(t)^2/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t)), F_1(t) == (k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t))], [S(t) == -k(1)/k(-1), ES(t) == 0, E(t) == 0, D[0](P)(t) == 0, F_1(t) == 0], [S(t) == 0, ES(t) == 0, D[0](P)(t) == 0, D[0](E)(t) == 0, F_1(t) == 0]]\n```\n\nThe sought equation, below, is not yet the Henri-Michaelis-Menten formula. This is expected, since some minor hypotheses have not yet been taken into account\n\n```\nsage: ideal [0].equations (solved = true, selection = leader == derivative (S(t)))\n[D[0](S)(t) == -(k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t))]\n```\n\nLet us take them into account. First create two new constants. Put them among ``params``, together with initial values.\n\n```\nsage: K,V_max = var ('K,V_max')\nsage: params = [k(-1),k(1),k(2),E(0),ES(0),P(0),S(0),K,V_max]\nsage: params\n[k(-1), k(1), k(2), E(0), ES(0), P(0), S(0), K, V_max]\n\nsage: R = DifferentialRing (blocks = [F_1, [ES,E,P,S], params], parameters = params, derivations = [t])\nsage: R\ndifferential_ring\n```\n\nThere are relations among the parameters: initial values supposed to be zero, and equations meant to rename constants.\n\n```\nsage: relations_among_params = RegularDifferentialChain ([P(0) == 0, ES(0) == 0, K == k(1)/k(-1), V_max == k(2)*E(0)], R)\nsage: relations_among_params\nregular_differential_chain\n```\n\nComing computations will be performed over a base field defined by generators and relations\n\n```\nsage: Field = BaseFieldExtension (generators = params, relations = relations_among_params)\nsage: Field\ndifferential_field\n```\n   \nExtend the DAE with linear conservation laws. They could have been computed from the stoichimetry matrix of the chemical system.\n\n```\nsage: newsyst = syst\nsage: newsyst.append (E(t) + ES(t) == E(0) + ES(0))\nsage: newsyst.append (S(t) + ES(t) + P(t) == S(0) + ES(0) + P(0))\nsage: newsyst\n[D[0](E)(t) == k(2)*ES(t) - F_1(t), D[0](S)(t) == -F_1(t), D[0](ES)(t) == -k(2)*ES(t) + F_1(t), D[0](P)(t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t), E(t) + ES(t) == E(0) + ES(0), S(t) + ES(t) + P(t) == S(0) + ES(0) + P(0)]\n```\n\nSimplify again. Only one case is left.\n\n```\nsage: ideal = R.RosenfeldGroebner (newsyst, basefield = Field)\nsage: ideal\n[regular_differential_chain]\n```\n\nTo get the traditional Henri-Michaelis-Menten formula, one still needs to neglect the term K*E(0)\n\n```\nsage: ideal[0].equations (solved = true, selection = leader == derivative (S(t)))\n[D[0](S)(t) == -(K*V_max*S(t) + V_max*S(t)^2)/(K^2 + K*E(0) + 2*K*S(t) + S(t)^2)]\n```\n\nOne can also get it by computing the right hand side of the equation which gives the evolution of the product P\n\n```\nsage: ideal[0].normal_form (diff(P(t),t))\nV_max*S(t)/(K + S(t))\n```\n\nCC:  @sagetrac-sage-combinat @sagetrac-boulier @burcin @kcrisman @BrentBaccala\n\nKeywords: **package, differential algebra, elimination theory**\n\nBranch/Commit: **[public/optional_spkg/differential_algebra-13268](https://github.com/sagemath/sagetrac-mirror/tree/public/optional_spkg/differential_algebra-13268) @ [81aef63](https://github.com/sagemath/sagetrac-mirror/commit/81aef63dc5e33948f1f37a995ac09189d0a99eda)**\n\nReviewer: **Charles Bouillaguet, Karl-Dieter Crisman**\n\nAuthor: **Nicolas M. Thi\u00e9ry, Fran\u00e7ois Boulier, Charles Bouillaguet**\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13268_\n\n",
    "created_at": "2012-07-18T13:23:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/wishlist%20item",
        "https://github.com/sagemath/sage/labels/needs%20info"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Proposal of a DifferentialAlgebra package, relying on the C BLAD libraries",
    "type": "issue",
    "updated_at": "2022-07-02T00:07:36Z",
    "url": "https://github.com/sagemath/sage/issues/13268",
    "user": "https://github.com/sagetrac-boulier"
}
```
This ticket proposes the inclusion in SAGE of a new package, dedicated to differential algebra.

**Introduction**

The `DifferentialAlgebra` Sage package is an analogue of the MAPLE 14 `DifferentialAlgebra` package.
The underlying theory is the differential algebra of Ritt and Kolchin.
Its main tool is a simplifier for systems of polynomial differential equations, ordinary or with partial derivatives, called `RosenfeldGroebner`. It is related to the differential elimination theory. This simplifier decomposes the radical differential ideal I generated by an input system, as an intersection of radical differential ideals presented by regular differential chains (a slight generalization of Ritt characteristic sets). The output permits to test membership in the differential ideal I.

**Further developments**

* The package should be developed to enhance numerical solvers of DAE (computation of the underlying ODE and of the equations which give the constraints on the initial values).
* The package provides an implementation of differential fields, which could be very important for many developments (Ore algebra, differential modules, Kähler differentials, ...).
* The package involves an implementation of Ritt's Low Power Theorem, for analysing the solutions of a single polynomial differential equation (general, particular, singular solution).
* The development of the package was undertaken as first step, towards a control theory package. 

**Software**

The package is written in Cython.
The computations are performed by the BLAD libraries (C libraries, 60000 lines, LGPL license).
The interface between Sage and BLAD is handled by the BMI library (C library, 10000 lines, LGPL license).

Upstream: [BLAD](http://www.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BLAD) [BMI](http://www2.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BMI)

**Installation**

After building Sage, install the experimental packages `blad` and `bmi`, then run `make` or `make build` again, i.e:

```
make build
SAGE_ROOT=$(pwd) ./local/bin/sage -i blad
SAGE_ROOT=$(pwd) ./local/bin/sage -i bmi
make build
```

**An example**

Borrowed from `DifferentialAlgebra.pyx`, to motivate (hopefully) reviewers.


```
sage: from sage.libs.blad.DifferentialAlgebra import DifferentialRing, RegularDifferentialChain, BaseFieldExtension
sage: leader,order,rank = var ('leader,order,rank')
sage: derivative = function ('derivative')
```

This example shows how to build the Henri Michaelis Menten formula by differential elimination. One considers a chemical reaction system describing the enzymatic reaction:

```
                   k(1)
        E + S  -----------> ES
                   k(-1)
        ES     -----------> E + S
                   k(2)
        ES     -----------> E + P
```

A substrate S is transformed into a product P, in the presence of an enzyme E. An intermediate complex ES is formed.

```
sage: t = var('t')
sage: k,F_1,E,S,ES,P = function('k,F_1,E,S,ES,P')
sage: params = [k(-1),k(1),k(2)]
sage: params
[k(-1), k(1), k(2)]
```

The main assumption is that k(1), k(-1) >> k(2) i.e. that the revertible reaction is much faster than the last one. One performs a quasi-steady state approximation by considering the following differential-algebraic system (it comes from the mass-action law kinetics, replacing the contribution of the fast reactions by an unknown function F_1(t), on the algebraic variety where the fast reaction would equilibrate if they were alone).

```
sage: syst = [diff(E(t),t) == - F_1(t) + k(2)*ES(t), diff(S(t),t) == - F_1(t), diff (ES(t),t) == - k(2)*ES(t) + F_1(t), diff (P(t),t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t) ]
sage: syst
[D[0](E)(t) == k(2)*ES(t) - F_1(t), D[0](S)(t) == -F_1(t), D[0](ES)(t) == -k(2)*ES(t) + F_1(t), D[0](P)(t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t)]
```

Differential elimination permits to simplify this DAE. To avoid discussing the possible vanishing of ``params``, one moves them to the base field of the equations.

```
sage: Field = BaseFieldExtension (generators = params)
sage: Field
differential_field

sage: R = DifferentialRing (derivations = [t], blocks = [F_1, [E,ES,P,S], params], parameters = params)
sage: R
differential_ring
```

The Rosenfeld-Groebner algorithm considers three cases. The two last ones are degenerate cases.

```
sage: ideal = R.RosenfeldGroebner (syst, basefield = Field)
sage: ideal
[regular_differential_chain, regular_differential_chain, regular_differential_chain]
sage: [ C.equations (solved = true) for C in ideal ]
[[E(t) == k(1)*ES(t)/(k(-1)*S(t)), D[0](S)(t) == -(k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t)), D[0](P)(t) == k(2)*ES(t), D[0](ES)(t) == -k(1)*k(2)*ES(t)^2/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t)), F_1(t) == (k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t))], [S(t) == -k(1)/k(-1), ES(t) == 0, E(t) == 0, D[0](P)(t) == 0, F_1(t) == 0], [S(t) == 0, ES(t) == 0, D[0](P)(t) == 0, D[0](E)(t) == 0, F_1(t) == 0]]
```

The sought equation, below, is not yet the Henri-Michaelis-Menten formula. This is expected, since some minor hypotheses have not yet been taken into account

```
sage: ideal [0].equations (solved = true, selection = leader == derivative (S(t)))
[D[0](S)(t) == -(k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t))]
```

Let us take them into account. First create two new constants. Put them among ``params``, together with initial values.

```
sage: K,V_max = var ('K,V_max')
sage: params = [k(-1),k(1),k(2),E(0),ES(0),P(0),S(0),K,V_max]
sage: params
[k(-1), k(1), k(2), E(0), ES(0), P(0), S(0), K, V_max]

sage: R = DifferentialRing (blocks = [F_1, [ES,E,P,S], params], parameters = params, derivations = [t])
sage: R
differential_ring
```

There are relations among the parameters: initial values supposed to be zero, and equations meant to rename constants.

```
sage: relations_among_params = RegularDifferentialChain ([P(0) == 0, ES(0) == 0, K == k(1)/k(-1), V_max == k(2)*E(0)], R)
sage: relations_among_params
regular_differential_chain
```

Coming computations will be performed over a base field defined by generators and relations

```
sage: Field = BaseFieldExtension (generators = params, relations = relations_among_params)
sage: Field
differential_field
```
   
Extend the DAE with linear conservation laws. They could have been computed from the stoichimetry matrix of the chemical system.

```
sage: newsyst = syst
sage: newsyst.append (E(t) + ES(t) == E(0) + ES(0))
sage: newsyst.append (S(t) + ES(t) + P(t) == S(0) + ES(0) + P(0))
sage: newsyst
[D[0](E)(t) == k(2)*ES(t) - F_1(t), D[0](S)(t) == -F_1(t), D[0](ES)(t) == -k(2)*ES(t) + F_1(t), D[0](P)(t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t), E(t) + ES(t) == E(0) + ES(0), S(t) + ES(t) + P(t) == S(0) + ES(0) + P(0)]
```

Simplify again. Only one case is left.

```
sage: ideal = R.RosenfeldGroebner (newsyst, basefield = Field)
sage: ideal
[regular_differential_chain]
```

To get the traditional Henri-Michaelis-Menten formula, one still needs to neglect the term K*E(0)

```
sage: ideal[0].equations (solved = true, selection = leader == derivative (S(t)))
[D[0](S)(t) == -(K*V_max*S(t) + V_max*S(t)^2)/(K^2 + K*E(0) + 2*K*S(t) + S(t)^2)]
```

One can also get it by computing the right hand side of the equation which gives the evolution of the product P

```
sage: ideal[0].normal_form (diff(P(t),t))
V_max*S(t)/(K + S(t))
```

CC:  @sagetrac-sage-combinat @sagetrac-boulier @burcin @kcrisman @BrentBaccala

Keywords: **package, differential algebra, elimination theory**

Branch/Commit: **[public/optional_spkg/differential_algebra-13268](https://github.com/sagemath/sagetrac-mirror/tree/public/optional_spkg/differential_algebra-13268) @ [81aef63](https://github.com/sagemath/sagetrac-mirror/commit/81aef63dc5e33948f1f37a995ac09189d0a99eda)**

Reviewer: **Charles Bouillaguet, Karl-Dieter Crisman**

Author: **Nicolas M. Thiéry, François Boulier, Charles Bouillaguet**

Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/13268_





---

archive/issue_events_184910.json:
```json
{
    "actor": "https://github.com/sagetrac-boulier",
    "created_at": "2012-07-18T13:23:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184910"
}
```



---

archive/issue_events_184911.json:
```json
{
    "actor": "https://github.com/sagetrac-boulier",
    "created_at": "2012-07-18T13:23:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184911"
}
```



---

archive/issue_events_184912.json:
```json
{
    "actor": "https://github.com/sagetrac-boulier",
    "created_at": "2012-07-18T13:23:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184912"
}
```



---

archive/issue_comments_153235.json:
```json
{
    "body": "Attachment: **[rebuild.gz](https://github.com/sagemath/sage/files/ticket13268/rebuild.gz)**\n\nshell script to help building the package",
    "created_at": "2012-07-18T13:24:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153235",
    "user": "https://github.com/sagetrac-boulier"
}
```

Attachment: **[rebuild.gz](https://github.com/sagemath/sage/files/ticket13268/rebuild.gz)**

shell script to help building the package



---

archive/issue_comments_153236.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI assume that this is somewhere in the sage-combinat queue, but just for completeness, if you could put links to an spkg, the other Sage library files needed, etc., that would be great.  I'm constantly amazed at what you guys come up with!",
    "created_at": "2012-07-20T15:27:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153236",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:1" align="right">comment:1</div>

I assume that this is somewhere in the sage-combinat queue, but just for completeness, if you could put links to an spkg, the other Sage library files needed, etc., that would be great.  I'm constantly amazed at what you guys come up with!



---

archive/issue_comments_153237.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nReplying to [@kcrisman](#comment:1):\n> I assume that this is somewhere in the sage-combinat queue, but just for completeness, if you could put links to an spkg, the other Sage library files needed, etc., that would be great.  I'm constantly amazed at what you guys come up with!\n\nThe shell script (rebuild) builds two spkg. I thought it was simpler that way.",
    "created_at": "2012-07-21T22:00:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153237",
    "user": "https://github.com/sagetrac-boulier"
}
```

<div id="comment:2" align="right">comment:2</div>

Replying to [@kcrisman](#comment:1):
> I assume that this is somewhere in the sage-combinat queue, but just for completeness, if you could put links to an spkg, the other Sage library files needed, etc., that would be great.  I'm constantly amazed at what you guys come up with!

The shell script (rebuild) builds two spkg. I thought it was simpler that way.



---

archive/issue_comments_153238.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n> > I assume that this is somewhere in the sage-combinat queue, but just for completeness, if you could put links to an spkg, the other Sage library files needed, etc., that would be great.  I'm constantly amazed at what you guys come up with!\n\n> \n> The shell script (rebuild) builds two spkg. I thought it was simpler that way.\n\nFair enough for those testing, but in the end I think that the release manager is likely (?) to want an actual spkg.  For instance, Sage should be buildable without the internet (that is, once it is downloaded or the tarball is otherwise acquired, the internet should not be a dependency).\n\nAlso, is this a proposal for an optional spkg?\n\nFinally, you'll almost certainly need to provide the DifferentialAlgebra.pyx file and the changes to setup.py and the module list as a patch.\n\nBut you are right that this script would be very convenient for testing, which hopefully some experts in differential algebra will do!",
    "created_at": "2012-07-23T12:21:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153238",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:3" align="right">comment:3</div>

> > I assume that this is somewhere in the sage-combinat queue, but just for completeness, if you could put links to an spkg, the other Sage library files needed, etc., that would be great.  I'm constantly amazed at what you guys come up with!

> 
> The shell script (rebuild) builds two spkg. I thought it was simpler that way.

Fair enough for those testing, but in the end I think that the release manager is likely (?) to want an actual spkg.  For instance, Sage should be buildable without the internet (that is, once it is downloaded or the tarball is otherwise acquired, the internet should not be a dependency).

Also, is this a proposal for an optional spkg?

Finally, you'll almost certainly need to provide the DifferentialAlgebra.pyx file and the changes to setup.py and the module list as a patch.

But you are right that this script would be very convenient for testing, which hopefully some experts in differential algebra will do!



---

archive/issue_comments_153239.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nInteresting!  I'll take a careful look at this in the coming weeks as a possible base for a moving-frames/exterior differential geometry package.",
    "created_at": "2012-07-23T19:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153239",
    "user": "https://github.com/sagetrac-adsmith"
}
```

<div id="comment:4" align="right">comment:4</div>

Interesting!  I'll take a careful look at this in the coming weeks as a possible base for a moving-frames/exterior differential geometry package.



---

archive/issue_comments_153240.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI have tried to repackage F. Boulier's code in (what I understand is) the Right Way.\n\nIf you want to enjoy the power of the DifferentialAlgebra package, which is yet not-even-optionnal, you have to download the two spkg's, and apply the patch\n\n* Download [http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg](http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg)\n* Download [http://www.lifl.fr/~bouillaguet/download/bmi-3.2.spkg](http://www.lifl.fr/~bouillaguet/download/bmi-3.2.spkg)\n* Apply [attachment: 13268_differential_algebra.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra.patch.gz)\n\n\n**Note to release manager:** \n\nThe SPKGs are optional/experimental/whatever but the patch for the Sage library should be merged so that the packages can be used later on",
    "created_at": "2012-07-26T18:06:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153240",
    "user": "https://github.com/sagetrac-Bouillaguet"
}
```

<div id="comment:5" align="right">comment:5</div>

I have tried to repackage F. Boulier's code in (what I understand is) the Right Way.

If you want to enjoy the power of the DifferentialAlgebra package, which is yet not-even-optionnal, you have to download the two spkg's, and apply the patch

* Download [http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg](http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg)
* Download [http://www.lifl.fr/~bouillaguet/download/bmi-3.2.spkg](http://www.lifl.fr/~bouillaguet/download/bmi-3.2.spkg)
* Apply [attachment: 13268_differential_algebra.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra.patch.gz)


**Note to release manager:** 

The SPKGs are optional/experimental/whatever but the patch for the Sage library should be merged so that the packages can be used later on



---

archive/issue_comments_153241.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nPretty minor points, though worth thinking about:\n* For helping reviewers, you might want to separate the header file and the changes in `module_list.py` in a separate patch; I *think* that might make them \"viewable\" in Trac, given its MB limits for viewing.\n* You have a lot of things like `R.sort (L)` which I presume is valid Python syntax, but very different from the rest of the documentation, where we would have `R.sort(L)`.  I don't know how important this is, but it was a little jarring to me, at least.\n* I wonder if maybe it wouldn't be better somewhere (sage/combinat? sage/rings? I'm not sure where) to put the \"main interface\", so that the sage/libs piece is really just for headers and wrapping.  You can see that the files and folders there are really even named after the things, so that having sage/libs/blad or sage/libs/bmi and then having differential algebra basic commands elsewhere would be good.  You might want to ask some people who have done these other packages, or poke around the code.\n\nLess minor, I think:\n* How many of these doctests would actually work without both of those packages installed?  So most would have to be marked optional with the correct keyword.  It might be worth looking at the way other optional spkgs handle this maybe the Lie package or the p-group-cohomology one?\n* I think we no longer have any double-underscore methods - I can't remember exactly when this was done, but there was a discussion about this at Sage Days 40.5, at least.  E.g. your `__ranking`.\n\nGood luck!  Looks cool.",
    "created_at": "2012-07-27T14:07:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153241",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:6" align="right">comment:6</div>

Pretty minor points, though worth thinking about:
* For helping reviewers, you might want to separate the header file and the changes in `module_list.py` in a separate patch; I *think* that might make them "viewable" in Trac, given its MB limits for viewing.
* You have a lot of things like `R.sort (L)` which I presume is valid Python syntax, but very different from the rest of the documentation, where we would have `R.sort(L)`.  I don't know how important this is, but it was a little jarring to me, at least.
* I wonder if maybe it wouldn't be better somewhere (sage/combinat? sage/rings? I'm not sure where) to put the "main interface", so that the sage/libs piece is really just for headers and wrapping.  You can see that the files and folders there are really even named after the things, so that having sage/libs/blad or sage/libs/bmi and then having differential algebra basic commands elsewhere would be good.  You might want to ask some people who have done these other packages, or poke around the code.

Less minor, I think:
* How many of these doctests would actually work without both of those packages installed?  So most would have to be marked optional with the correct keyword.  It might be worth looking at the way other optional spkgs handle this maybe the Lie package or the p-group-cohomology one?
* I think we no longer have any double-underscore methods - I can't remember exactly when this was done, but there was a discussion about this at Sage Days 40.5, at least.  E.g. your `__ranking`.

Good luck!  Looks cool.



---

archive/issue_events_184913.json:
```json
{
    "actor": "https://github.com/sagetrac-boulier",
    "created_at": "2012-07-27T14:07:28Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "subject": "https://github.com/kcrisman",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184913"
}
```



---

archive/issue_comments_153242.json:
```json
{
    "body": "Reviewer: **Charles Bouillaguet, Karl-Dieter Crisman**",
    "created_at": "2012-07-27T14:07:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153242",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Charles Bouillaguet, Karl-Dieter Crisman**



---

archive/issue_comments_153243.json:
```json
{
    "body": "Author: **Nicolas M. Thi\u00e9ry, Fran\u00e7ois Boulier**",
    "created_at": "2012-07-27T14:07:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153243",
    "user": "https://github.com/kcrisman"
}
```

Author: **Nicolas M. Thiéry, François Boulier**



---

archive/issue_comments_153244.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nPatch and spkg's updated. The package was broken since 5.1, but is now fixed.",
    "created_at": "2012-09-24T17:27:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153244",
    "user": "https://github.com/sagetrac-Bouillaguet"
}
```

<div id="comment:8" align="right">comment:8</div>

Patch and spkg's updated. The package was broken since 5.1, but is now fixed.



---

archive/issue_events_184914.json:
```json
{
    "actor": "https://github.com/sagetrac-Bouillaguet",
    "created_at": "2012-11-26T08:10:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184914"
}
```



---

archive/issue_events_184915.json:
```json
{
    "actor": "https://github.com/sagetrac-Bouillaguet",
    "created_at": "2012-11-26T08:10:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184915"
}
```



---

archive/issue_comments_153245.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+This ticket proposes the inclusion in SAGE of a new package, dedicated to differential algebra.\n+\n **Introduction**\n \n The `DifferentialAlgebra` Sage package is an analogue of the MAPLE 14 `DifferentialAlgebra` package.\n@@ -17,10 +19,11 @@\n The computations are performed by the BLAD libraries (C libraries, 60000 lines, LGPL license).\n The interface between Sage and BLAD is handled by the BMI library (C library, 10000 lines, LGPL license).\n \n-**Getting started**\n \n-The attached `rebuild` file is a shell command file which should help to build the whole stuff.\n-This file was tested on Linux architectures.\n+**Release manager : **\n+\n+* Make [http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg](http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg) an experimental/optional package\n+* Apply [attachment: 13268_differential_algebra.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra.patch.gz)\n \n **An example**\n \n@@ -28,102 +31,126 @@\n \n \n ```\n-        sage: from sage.libs.blad.DifferentialAlgebra import DifferentialRing, RegularDifferentialChain, BaseFieldExtension\n-        sage: leader,order,rank = var ('leader,order,rank')\n-        sage: derivative = function ('derivative')\n+sage: from sage.libs.blad.DifferentialAlgebra import DifferentialRing, RegularDifferentialChain, BaseFieldExtension\n+sage: leader,order,rank = var ('leader,order,rank')\n+sage: derivative = function ('derivative')\n+```\n \n-    This example shows how to build the Henri Michaelis Menten formula by differential elimination. One considers a chemical reaction system describing the enzymatic reaction:\n+This example shows how to build the Henri Michaelis Menten formula by differential elimination. One considers a chemical reaction system describing the enzymatic reaction:\n \n+```\n                    k(1)\n         E + S  -----------> ES\n                    k(-1)\n         ES     -----------> E + S\n                    k(2)\n         ES     -----------> E + P\n-\n-    A substrate S is transformed into a product P, in the presence of an enzyme E. An intermediate complex ES is formed.\n-\n-        sage: t = var('t')\n-        sage: k,F_1,E,S,ES,P = function('k,F_1,E,S,ES,P')\n-        sage: params = [k(-1),k(1),k(2)]\n-        sage: params\n-        [k(-1), k(1), k(2)]\n-\n-    The main assumption is that k(1), k(-1) >> k(2) i.e. that the revertible reaction is much faster than the last one. One performs a quasi-steady state approximation by considering the following differential-algebraic system (it comes from the mass-action law kinetics, replacing the contribution of the fast reactions by an unknown function F_1(t), on the algebraic variety where the fast reaction would equilibrate if they were alone).\n-\n-        sage: syst = [diff(E(t),t) == - F_1(t) + k(2)*ES(t), diff(S(t),t) == - F_1(t), diff (ES(t),t) == - k(2)*ES(t) + F_1(t), diff (P(t),t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t) ]\n-        sage: syst\n-        [D[0](E)(t) == k(2)*ES(t) - F_1(t), D[0](S)(t) == -F_1(t), D[0](ES)(t) == -k(2)*ES(t) + F_1(t), D[0](P)(t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t)]\n-\n-    Differential elimination permits to simplify this DAE. To avoid discussing the possible vanishing of ``params``, one moves them to the base field of the equations.\n-\n-        sage: Field = BaseFieldExtension (generators = params)\n-        sage: Field\n-        differential_field\n-\n-        sage: R = DifferentialRing (derivations = [t], blocks = [F_1, [E,ES,P,S], params], parameters = params)\n-        sage: R\n-        differential_ring\n-\n-    The RosenfeldGroebner considers three cases. The two last ones are degenerate cases.\n-\n-        sage: ideal = R.RosenfeldGroebner (syst, basefield = Field)\n-        sage: ideal\n-        [regular_differential_chain, regular_differential_chain, regular_differential_chain]\n-        sage: [ C.equations (solved = true) for C in ideal ]\n-        [[E(t) == k(1)*ES(t)/(k(-1)*S(t)), D[0](S)(t) == -(k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t)), D[0](P)(t) == k(2)*ES(t), D[0](ES)(t) == -k(1)*k(2)*ES(t)^2/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t)), F_1(t) == (k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t))], [S(t) == -k(1)/k(-1), ES(t) == 0, E(t) == 0, D[0](P)(t) == 0, F_1(t) == 0], [S(t) == 0, ES(t) == 0, D[0](P)(t) == 0, D[0](E)(t) == 0, F_1(t) == 0]]\n-\n-    The sought equation, below, is not yet the Henri-Michaelis-Menten formula. This is expected, since some minor hypotheses have not yet been taken into account\n-\n-        sage: ideal [0].equations (solved = true, selection = leader == derivative (S(t)))\n-        [D[0](S)(t) == -(k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t))]\n-\n-    Let us take them into account. First create two new constants. Put them among ``params``, together with initial values.\n-\n-        sage: K,V_max = var ('K,V_max')\n-        sage: params = [k(-1),k(1),k(2),E(0),ES(0),P(0),S(0),K,V_max]\n-        sage: params\n-        [k(-1), k(1), k(2), E(0), ES(0), P(0), S(0), K, V_max]\n-\n-        sage: R = DifferentialRing (blocks = [F_1, [ES,E,P,S], params], parameters = params, derivations = [t])\n-        sage: R\n-        differential_ring\n-\n-    There are relations among the parameters: initial values supposed to be zero, and equations meant to rename constants.\n-\n-        sage: relations_among_params = RegularDifferentialChain ([P(0) == 0, ES(0) == 0, K == k(1)/k(-1), V_max == k(2)*E(0)], R)\n-        sage: relations_among_params\n-        regular_differential_chain\n-\n-    Coming computations will be performed over a base field defined by generators and relations\n-\n-        sage: Field = BaseFieldExtension (generators = params, relations = relations_among_params)\n-        sage: Field\n-        differential_field\n-\n-    Extend the DAE with linear conservation laws. They could have been computed from the stoichimetry matrix of the chemical system.\n-\n-        sage: newsyst = syst\n-        sage: newsyst.append (E(t) + ES(t) == E(0) + ES(0))\n-        sage: newsyst.append (S(t) + ES(t) + P(t) == S(0) + ES(0) + P(0))\n-        sage: newsyst\n-        [D[0](E)(t) == k(2)*ES(t) - F_1(t), D[0](S)(t) == -F_1(t), D[0](ES)(t) == -k(2)*ES(t) + F_1(t), D[0](P)(t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t), E(t) + ES(t) == E(0) + ES(0), S(t) + ES(t) + P(t) == S(0) + ES(0) + P(0)]\n-\n-    Simplify again. Only one case is left.\n-\n-        sage: ideal = R.RosenfeldGroebner (newsyst, basefield = Field)\n-        sage: ideal\n-        [regular_differential_chain]\n-\n-    To get the traditional Henri-Michaelis-Menten formula, one still needs to neglect the term K*E(0)\n-\n-        sage: ideal[0].equations (solved = true, selection = leader == derivative (S(t)))\n-        [D[0](S)(t) == -(K*V_max*S(t) + V_max*S(t)^2)/(K^2 + K*E(0) + 2*K*S(t) + S(t)^2)]\n-\n-    One can also get it by computing the right hand side of the equation which gives the evolution of the product P\n-\n-        sage: ideal[0].normal_form (diff(P(t),t))\n-        V_max*S(t)/(K + S(t))\n ```\n \n+A substrate S is transformed into a product P, in the presence of an enzyme E. An intermediate complex ES is formed.\n \n+```\n+sage: t = var('t')\n+sage: k,F_1,E,S,ES,P = function('k,F_1,E,S,ES,P')\n+sage: params = [k(-1),k(1),k(2)]\n+sage: params\n+[k(-1), k(1), k(2)]\n+```\n+\n+The main assumption is that k(1), k(-1) >> k(2) i.e. that the revertible reaction is much faster than the last one. One performs a quasi-steady state approximation by considering the following differential-algebraic system (it comes from the mass-action law kinetics, replacing the contribution of the fast reactions by an unknown function F_1(t), on the algebraic variety where the fast reaction would equilibrate if they were alone).\n+\n+```\n+sage: syst = [diff(E(t),t) == - F_1(t) + k(2)*ES(t), diff(S(t),t) == - F_1(t), diff (ES(t),t) == - k(2)*ES(t) + F_1(t), diff (P(t),t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t) ]\n+sage: syst\n+[D[0](E)(t) == k(2)*ES(t) - F_1(t), D[0](S)(t) == -F_1(t), D[0](ES)(t) == -k(2)*ES(t) + F_1(t), D[0](P)(t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t)]\n+```\n+\n+Differential elimination permits to simplify this DAE. To avoid discussing the possible vanishing of ``params``, one moves them to the base field of the equations.\n+\n+```\n+sage: Field = BaseFieldExtension (generators = params)\n+sage: Field\n+differential_field\n+\n+sage: R = DifferentialRing (derivations = [t], blocks = [F_1, [E,ES,P,S], params], parameters = params)\n+sage: R\n+differential_ring\n+```\n+\n+The Rosenfeld-Groebner algorithm considers three cases. The two last ones are degenerate cases.\n+\n+```\n+sage: ideal = R.RosenfeldGroebner (syst, basefield = Field)\n+sage: ideal\n+[regular_differential_chain, regular_differential_chain, regular_differential_chain]\n+sage: [ C.equations (solved = true) for C in ideal ]\n+[[E(t) == k(1)*ES(t)/(k(-1)*S(t)), D[0](S)(t) == -(k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t)), D[0](P)(t) == k(2)*ES(t), D[0](ES)(t) == -k(1)*k(2)*ES(t)^2/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t)), F_1(t) == (k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t))], [S(t) == -k(1)/k(-1), ES(t) == 0, E(t) == 0, D[0](P)(t) == 0, F_1(t) == 0], [S(t) == 0, ES(t) == 0, D[0](P)(t) == 0, D[0](E)(t) == 0, F_1(t) == 0]]\n+```\n+\n+The sought equation, below, is not yet the Henri-Michaelis-Menten formula. This is expected, since some minor hypotheses have not yet been taken into account\n+\n+```\n+sage: ideal [0].equations (solved = true, selection = leader == derivative (S(t)))\n+[D[0](S)(t) == -(k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t))]\n+```\n+\n+Let us take them into account. First create two new constants. Put them among ``params``, together with initial values.\n+\n+```\n+sage: K,V_max = var ('K,V_max')\n+sage: params = [k(-1),k(1),k(2),E(0),ES(0),P(0),S(0),K,V_max]\n+sage: params\n+[k(-1), k(1), k(2), E(0), ES(0), P(0), S(0), K, V_max]\n+\n+sage: R = DifferentialRing (blocks = [F_1, [ES,E,P,S], params], parameters = params, derivations = [t])\n+sage: R\n+differential_ring\n+```\n+\n+There are relations among the parameters: initial values supposed to be zero, and equations meant to rename constants.\n+\n+```\n+sage: relations_among_params = RegularDifferentialChain ([P(0) == 0, ES(0) == 0, K == k(1)/k(-1), V_max == k(2)*E(0)], R)\n+sage: relations_among_params\n+regular_differential_chain\n+```\n+\n+Coming computations will be performed over a base field defined by generators and relations\n+\n+```\n+sage: Field = BaseFieldExtension (generators = params, relations = relations_among_params)\n+sage: Field\n+differential_field\n+```\n+   \n+Extend the DAE with linear conservation laws. They could have been computed from the stoichimetry matrix of the chemical system.\n+\n+```\n+sage: newsyst = syst\n+sage: newsyst.append (E(t) + ES(t) == E(0) + ES(0))\n+sage: newsyst.append (S(t) + ES(t) + P(t) == S(0) + ES(0) + P(0))\n+sage: newsyst\n+[D[0](E)(t) == k(2)*ES(t) - F_1(t), D[0](S)(t) == -F_1(t), D[0](ES)(t) == -k(2)*ES(t) + F_1(t), D[0](P)(t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t), E(t) + ES(t) == E(0) + ES(0), S(t) + ES(t) + P(t) == S(0) + ES(0) + P(0)]\n+```\n+\n+Simplify again. Only one case is left.\n+\n+```\n+sage: ideal = R.RosenfeldGroebner (newsyst, basefield = Field)\n+sage: ideal\n+[regular_differential_chain]\n+```\n+\n+To get the traditional Henri-Michaelis-Menten formula, one still needs to neglect the term K*E(0)\n+\n+```\n+sage: ideal[0].equations (solved = true, selection = leader == derivative (S(t)))\n+[D[0](S)(t) == -(K*V_max*S(t) + V_max*S(t)^2)/(K^2 + K*E(0) + 2*K*S(t) + S(t)^2)]\n+```\n+\n+One can also get it by computing the right hand side of the equation which gives the evolution of the product P\n+\n+```\n+sage: ideal[0].normal_form (diff(P(t),t))\n+V_max*S(t)/(K + S(t))\n+```\n``````\n",
    "created_at": "2012-11-26T08:10:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153245",
    "user": "https://github.com/sagetrac-Bouillaguet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+This ticket proposes the inclusion in SAGE of a new package, dedicated to differential algebra.
+
 **Introduction**
 
 The `DifferentialAlgebra` Sage package is an analogue of the MAPLE 14 `DifferentialAlgebra` package.
@@ -17,10 +19,11 @@
 The computations are performed by the BLAD libraries (C libraries, 60000 lines, LGPL license).
 The interface between Sage and BLAD is handled by the BMI library (C library, 10000 lines, LGPL license).
 
-**Getting started**
 
-The attached `rebuild` file is a shell command file which should help to build the whole stuff.
-This file was tested on Linux architectures.
+**Release manager : **
+
+* Make [http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg](http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg) an experimental/optional package
+* Apply [attachment: 13268_differential_algebra.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra.patch.gz)
 
 **An example**
 
@@ -28,102 +31,126 @@
 
 
 ```
-        sage: from sage.libs.blad.DifferentialAlgebra import DifferentialRing, RegularDifferentialChain, BaseFieldExtension
-        sage: leader,order,rank = var ('leader,order,rank')
-        sage: derivative = function ('derivative')
+sage: from sage.libs.blad.DifferentialAlgebra import DifferentialRing, RegularDifferentialChain, BaseFieldExtension
+sage: leader,order,rank = var ('leader,order,rank')
+sage: derivative = function ('derivative')
+```
 
-    This example shows how to build the Henri Michaelis Menten formula by differential elimination. One considers a chemical reaction system describing the enzymatic reaction:
+This example shows how to build the Henri Michaelis Menten formula by differential elimination. One considers a chemical reaction system describing the enzymatic reaction:
 
+```
                    k(1)
         E + S  -----------> ES
                    k(-1)
         ES     -----------> E + S
                    k(2)
         ES     -----------> E + P
-
-    A substrate S is transformed into a product P, in the presence of an enzyme E. An intermediate complex ES is formed.
-
-        sage: t = var('t')
-        sage: k,F_1,E,S,ES,P = function('k,F_1,E,S,ES,P')
-        sage: params = [k(-1),k(1),k(2)]
-        sage: params
-        [k(-1), k(1), k(2)]
-
-    The main assumption is that k(1), k(-1) >> k(2) i.e. that the revertible reaction is much faster than the last one. One performs a quasi-steady state approximation by considering the following differential-algebraic system (it comes from the mass-action law kinetics, replacing the contribution of the fast reactions by an unknown function F_1(t), on the algebraic variety where the fast reaction would equilibrate if they were alone).
-
-        sage: syst = [diff(E(t),t) == - F_1(t) + k(2)*ES(t), diff(S(t),t) == - F_1(t), diff (ES(t),t) == - k(2)*ES(t) + F_1(t), diff (P(t),t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t) ]
-        sage: syst
-        [D[0](E)(t) == k(2)*ES(t) - F_1(t), D[0](S)(t) == -F_1(t), D[0](ES)(t) == -k(2)*ES(t) + F_1(t), D[0](P)(t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t)]
-
-    Differential elimination permits to simplify this DAE. To avoid discussing the possible vanishing of ``params``, one moves them to the base field of the equations.
-
-        sage: Field = BaseFieldExtension (generators = params)
-        sage: Field
-        differential_field
-
-        sage: R = DifferentialRing (derivations = [t], blocks = [F_1, [E,ES,P,S], params], parameters = params)
-        sage: R
-        differential_ring
-
-    The RosenfeldGroebner considers three cases. The two last ones are degenerate cases.
-
-        sage: ideal = R.RosenfeldGroebner (syst, basefield = Field)
-        sage: ideal
-        [regular_differential_chain, regular_differential_chain, regular_differential_chain]
-        sage: [ C.equations (solved = true) for C in ideal ]
-        [[E(t) == k(1)*ES(t)/(k(-1)*S(t)), D[0](S)(t) == -(k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t)), D[0](P)(t) == k(2)*ES(t), D[0](ES)(t) == -k(1)*k(2)*ES(t)^2/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t)), F_1(t) == (k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t))], [S(t) == -k(1)/k(-1), ES(t) == 0, E(t) == 0, D[0](P)(t) == 0, F_1(t) == 0], [S(t) == 0, ES(t) == 0, D[0](P)(t) == 0, D[0](E)(t) == 0, F_1(t) == 0]]
-
-    The sought equation, below, is not yet the Henri-Michaelis-Menten formula. This is expected, since some minor hypotheses have not yet been taken into account
-
-        sage: ideal [0].equations (solved = true, selection = leader == derivative (S(t)))
-        [D[0](S)(t) == -(k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t))]
-
-    Let us take them into account. First create two new constants. Put them among ``params``, together with initial values.
-
-        sage: K,V_max = var ('K,V_max')
-        sage: params = [k(-1),k(1),k(2),E(0),ES(0),P(0),S(0),K,V_max]
-        sage: params
-        [k(-1), k(1), k(2), E(0), ES(0), P(0), S(0), K, V_max]
-
-        sage: R = DifferentialRing (blocks = [F_1, [ES,E,P,S], params], parameters = params, derivations = [t])
-        sage: R
-        differential_ring
-
-    There are relations among the parameters: initial values supposed to be zero, and equations meant to rename constants.
-
-        sage: relations_among_params = RegularDifferentialChain ([P(0) == 0, ES(0) == 0, K == k(1)/k(-1), V_max == k(2)*E(0)], R)
-        sage: relations_among_params
-        regular_differential_chain
-
-    Coming computations will be performed over a base field defined by generators and relations
-
-        sage: Field = BaseFieldExtension (generators = params, relations = relations_among_params)
-        sage: Field
-        differential_field
-
-    Extend the DAE with linear conservation laws. They could have been computed from the stoichimetry matrix of the chemical system.
-
-        sage: newsyst = syst
-        sage: newsyst.append (E(t) + ES(t) == E(0) + ES(0))
-        sage: newsyst.append (S(t) + ES(t) + P(t) == S(0) + ES(0) + P(0))
-        sage: newsyst
-        [D[0](E)(t) == k(2)*ES(t) - F_1(t), D[0](S)(t) == -F_1(t), D[0](ES)(t) == -k(2)*ES(t) + F_1(t), D[0](P)(t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t), E(t) + ES(t) == E(0) + ES(0), S(t) + ES(t) + P(t) == S(0) + ES(0) + P(0)]
-
-    Simplify again. Only one case is left.
-
-        sage: ideal = R.RosenfeldGroebner (newsyst, basefield = Field)
-        sage: ideal
-        [regular_differential_chain]
-
-    To get the traditional Henri-Michaelis-Menten formula, one still needs to neglect the term K*E(0)
-
-        sage: ideal[0].equations (solved = true, selection = leader == derivative (S(t)))
-        [D[0](S)(t) == -(K*V_max*S(t) + V_max*S(t)^2)/(K^2 + K*E(0) + 2*K*S(t) + S(t)^2)]
-
-    One can also get it by computing the right hand side of the equation which gives the evolution of the product P
-
-        sage: ideal[0].normal_form (diff(P(t),t))
-        V_max*S(t)/(K + S(t))
 ```
 
+A substrate S is transformed into a product P, in the presence of an enzyme E. An intermediate complex ES is formed.
 
+```
+sage: t = var('t')
+sage: k,F_1,E,S,ES,P = function('k,F_1,E,S,ES,P')
+sage: params = [k(-1),k(1),k(2)]
+sage: params
+[k(-1), k(1), k(2)]
+```
+
+The main assumption is that k(1), k(-1) >> k(2) i.e. that the revertible reaction is much faster than the last one. One performs a quasi-steady state approximation by considering the following differential-algebraic system (it comes from the mass-action law kinetics, replacing the contribution of the fast reactions by an unknown function F_1(t), on the algebraic variety where the fast reaction would equilibrate if they were alone).
+
+```
+sage: syst = [diff(E(t),t) == - F_1(t) + k(2)*ES(t), diff(S(t),t) == - F_1(t), diff (ES(t),t) == - k(2)*ES(t) + F_1(t), diff (P(t),t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t) ]
+sage: syst
+[D[0](E)(t) == k(2)*ES(t) - F_1(t), D[0](S)(t) == -F_1(t), D[0](ES)(t) == -k(2)*ES(t) + F_1(t), D[0](P)(t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t)]
+```
+
+Differential elimination permits to simplify this DAE. To avoid discussing the possible vanishing of ``params``, one moves them to the base field of the equations.
+
+```
+sage: Field = BaseFieldExtension (generators = params)
+sage: Field
+differential_field
+
+sage: R = DifferentialRing (derivations = [t], blocks = [F_1, [E,ES,P,S], params], parameters = params)
+sage: R
+differential_ring
+```
+
+The Rosenfeld-Groebner algorithm considers three cases. The two last ones are degenerate cases.
+
+```
+sage: ideal = R.RosenfeldGroebner (syst, basefield = Field)
+sage: ideal
+[regular_differential_chain, regular_differential_chain, regular_differential_chain]
+sage: [ C.equations (solved = true) for C in ideal ]
+[[E(t) == k(1)*ES(t)/(k(-1)*S(t)), D[0](S)(t) == -(k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t)), D[0](P)(t) == k(2)*ES(t), D[0](ES)(t) == -k(1)*k(2)*ES(t)^2/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t)), F_1(t) == (k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t))], [S(t) == -k(1)/k(-1), ES(t) == 0, E(t) == 0, D[0](P)(t) == 0, F_1(t) == 0], [S(t) == 0, ES(t) == 0, D[0](P)(t) == 0, D[0](E)(t) == 0, F_1(t) == 0]]
+```
+
+The sought equation, below, is not yet the Henri-Michaelis-Menten formula. This is expected, since some minor hypotheses have not yet been taken into account
+
+```
+sage: ideal [0].equations (solved = true, selection = leader == derivative (S(t)))
+[D[0](S)(t) == -(k(-1)*k(2)*S(t)^2*ES(t) + k(1)*k(2)*S(t)*ES(t))/(k(-1)*S(t)^2 + k(1)*S(t) + k(1)*ES(t))]
+```
+
+Let us take them into account. First create two new constants. Put them among ``params``, together with initial values.
+
+```
+sage: K,V_max = var ('K,V_max')
+sage: params = [k(-1),k(1),k(2),E(0),ES(0),P(0),S(0),K,V_max]
+sage: params
+[k(-1), k(1), k(2), E(0), ES(0), P(0), S(0), K, V_max]
+
+sage: R = DifferentialRing (blocks = [F_1, [ES,E,P,S], params], parameters = params, derivations = [t])
+sage: R
+differential_ring
+```
+
+There are relations among the parameters: initial values supposed to be zero, and equations meant to rename constants.
+
+```
+sage: relations_among_params = RegularDifferentialChain ([P(0) == 0, ES(0) == 0, K == k(1)/k(-1), V_max == k(2)*E(0)], R)
+sage: relations_among_params
+regular_differential_chain
+```
+
+Coming computations will be performed over a base field defined by generators and relations
+
+```
+sage: Field = BaseFieldExtension (generators = params, relations = relations_among_params)
+sage: Field
+differential_field
+```
+   
+Extend the DAE with linear conservation laws. They could have been computed from the stoichimetry matrix of the chemical system.
+
+```
+sage: newsyst = syst
+sage: newsyst.append (E(t) + ES(t) == E(0) + ES(0))
+sage: newsyst.append (S(t) + ES(t) + P(t) == S(0) + ES(0) + P(0))
+sage: newsyst
+[D[0](E)(t) == k(2)*ES(t) - F_1(t), D[0](S)(t) == -F_1(t), D[0](ES)(t) == -k(2)*ES(t) + F_1(t), D[0](P)(t) == k(2)*ES(t), 0 == k(-1)*E(t)*S(t) - k(1)*ES(t), E(t) + ES(t) == E(0) + ES(0), S(t) + ES(t) + P(t) == S(0) + ES(0) + P(0)]
+```
+
+Simplify again. Only one case is left.
+
+```
+sage: ideal = R.RosenfeldGroebner (newsyst, basefield = Field)
+sage: ideal
+[regular_differential_chain]
+```
+
+To get the traditional Henri-Michaelis-Menten formula, one still needs to neglect the term K*E(0)
+
+```
+sage: ideal[0].equations (solved = true, selection = leader == derivative (S(t)))
+[D[0](S)(t) == -(K*V_max*S(t) + V_max*S(t)^2)/(K^2 + K*E(0) + 2*K*S(t) + S(t)^2)]
+```
+
+One can also get it by computing the right hand side of the equation which gives the evolution of the product P
+
+```
+sage: ideal[0].normal_form (diff(P(t),t))
+V_max*S(t)/(K + S(t))
+```
``````




---

archive/issue_comments_153246.json:
```json
{
    "body": "Attachment: **[13268_differential_algebra_support_files.patch.gz](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_support_files.patch.gz)**\n\nCython library headers for BLAD/BMI",
    "created_at": "2012-11-26T08:29:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153246",
    "user": "https://github.com/sagetrac-Bouillaguet"
}
```

Attachment: **[13268_differential_algebra_support_files.patch.gz](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_support_files.patch.gz)**

Cython library headers for BLAD/BMI



---

archive/issue_events_184916.json:
```json
{
    "actor": "https://github.com/sagetrac-Bouillaguet",
    "created_at": "2012-11-26T08:36:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184916"
}
```



---

archive/issue_comments_153247.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -24,6 +24,9 @@\n \n * Make [http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg](http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg) an experimental/optional package\n * Apply [attachment: 13268_differential_algebra.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra.patch.gz)\n+* Apply [attachment: 13268_differential_algebra_support_files.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_support_files.patch.gz)\n+* Apply [attachment: 13268_module_list.patch](https://github.com/sagemath/sage/files/ticket13268/13268_module_list.patch.gz)\n+\n \n **An example**\n \n``````\n",
    "created_at": "2012-11-26T08:36:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153247",
    "user": "https://github.com/sagetrac-Bouillaguet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -24,6 +24,9 @@
 
 * Make [http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg](http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg) an experimental/optional package
 * Apply [attachment: 13268_differential_algebra.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra.patch.gz)
+* Apply [attachment: 13268_differential_algebra_support_files.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_support_files.patch.gz)
+* Apply [attachment: 13268_module_list.patch](https://github.com/sagemath/sage/files/ticket13268/13268_module_list.patch.gz)
+
 
 **An example**
 
``````




---

archive/issue_comments_153248.json:
```json
{
    "body": "tell SAGE about the optional package",
    "created_at": "2012-11-26T08:44:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153248",
    "user": "https://github.com/sagetrac-Bouillaguet"
}
```

tell SAGE about the optional package



---

archive/issue_comments_153249.json:
```json
{
    "body": "Attachment: **[13268_module_list.patch.gz](https://github.com/sagemath/sage/files/ticket13268/13268_module_list.patch.gz)**\n\nAttachment: **[13268_differential_algebra_reference_manual_update.patch.gz](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_reference_manual_update.patch.gz)**\n\nupdates the reference manual",
    "created_at": "2012-11-26T11:26:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153249",
    "user": "https://github.com/sagetrac-Bouillaguet"
}
```

Attachment: **[13268_module_list.patch.gz](https://github.com/sagemath/sage/files/ticket13268/13268_module_list.patch.gz)**

Attachment: **[13268_differential_algebra_reference_manual_update.patch.gz](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_reference_manual_update.patch.gz)**

updates the reference manual



---

archive/issue_comments_153250.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -26,6 +26,7 @@\n * Apply [attachment: 13268_differential_algebra.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra.patch.gz)\n * Apply [attachment: 13268_differential_algebra_support_files.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_support_files.patch.gz)\n * Apply [attachment: 13268_module_list.patch](https://github.com/sagemath/sage/files/ticket13268/13268_module_list.patch.gz)\n+* Apply [attachment: 13268_differential_algebra_reference_manual_update.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_reference_manual_update.patch.gz)\n \n \n **An example**\n``````\n",
    "created_at": "2012-11-26T11:28:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153250",
    "user": "https://github.com/sagetrac-Bouillaguet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -26,6 +26,7 @@
 * Apply [attachment: 13268_differential_algebra.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra.patch.gz)
 * Apply [attachment: 13268_differential_algebra_support_files.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_support_files.patch.gz)
 * Apply [attachment: 13268_module_list.patch](https://github.com/sagemath/sage/files/ticket13268/13268_module_list.patch.gz)
+* Apply [attachment: 13268_differential_algebra_reference_manual_update.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_reference_manual_update.patch.gz)
 
 
 **An example**
``````




---

archive/issue_comments_153251.json:
```json
{
    "body": "Changed author from **Nicolas M. Thi\u00e9ry, Fran\u00e7ois Boulier** to **Nicolas M. Thi\u00e9ry, Fran\u00e7ois Boulier, Charles Bouillaguet**",
    "created_at": "2012-11-26T11:28:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153251",
    "user": "https://github.com/sagetrac-Bouillaguet"
}
```

Changed author from **Nicolas M. Thiéry, François Boulier** to **Nicolas M. Thiéry, François Boulier, Charles Bouillaguet**



---

archive/issue_events_184917.json:
```json
{
    "actor": "https://github.com/sagetrac-Bouillaguet",
    "created_at": "2012-11-26T11:28:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184917"
}
```



---

archive/issue_comments_153252.json:
```json
{
    "body": "Attachment: **[13268_differential_algebra.patch.gz](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra.patch.gz)**\n\nActual DifferentialAlgebra Class",
    "created_at": "2012-11-26T14:47:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153252",
    "user": "https://github.com/sagetrac-Bouillaguet"
}
```

Attachment: **[13268_differential_algebra.patch.gz](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra.patch.gz)**

Actual DifferentialAlgebra Class



---

archive/issue_events_184918.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184918"
}
```



---

archive/issue_events_184919.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184919"
}
```



---

archive/issue_comments_153253.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe ticket description doesn't have a link to the bmi spkg, is it still needed? Also, has anybody considered reviewing this ticket?",
    "created_at": "2013-09-11T13:50:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153253",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:13" align="right">comment:13</div>

The ticket description doesn't have a link to the bmi spkg, is it still needed? Also, has anybody considered reviewing this ticket?



---

archive/issue_comments_153254.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@vbraun](#comment:13):\n> The ticket description doesn't have a link to the bmi spkg, is it still needed? \n\nI don't think so. I think I updated the spkg to contain both, because it would not make much sense to have both separated.\n\n> Also, has anybody considered reviewing this ticket? \n\nI did ask for this several times on the mailing list....",
    "created_at": "2013-09-11T14:03:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153254",
    "user": "https://github.com/sagetrac-Bouillaguet"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@vbraun](#comment:13):
> The ticket description doesn't have a link to the bmi spkg, is it still needed? 

I don't think so. I think I updated the spkg to contain both, because it would not make much sense to have both separated.

> Also, has anybody considered reviewing this ticket? 

I did ask for this several times on the mailing list....



---

archive/issue_comments_153255.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nWith the switch to git we are really aiming to distribute one upstream tarball for each \"spkg\" install script if possible. Since the two libraries are distributed separately they should be separate spkgs.\n\nAll patches need a commit message, only the first one has one right now.",
    "created_at": "2013-09-11T14:12:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153255",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:15" align="right">comment:15</div>

With the switch to git we are really aiming to distribute one upstream tarball for each "spkg" install script if possible. Since the two libraries are distributed separately they should be separate spkgs.

All patches need a commit message, only the first one has one right now.



---

archive/issue_comments_153256.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI'm a bit confused by the code... the DifferentialRing isn't really a ring in the Sage sense (with elements that have ring operations). Am I missing something? The starting point should be a proper differential algebra ring, e.g.\n\n```\nsage: R = DifferentialRing(vars=['x'], functions=['f'])\nsage: x = R.var(0)\nsage: f = R.function(0)\nsage: (2*x*f).parent() is R\nTrue\n```\nand perhaps slightly extend the preparser to allow\n\n```\nsage: R.<f(x)> = DifferentialRing()\n```",
    "created_at": "2013-09-11T14:36:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153256",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:16" align="right">comment:16</div>

I'm a bit confused by the code... the DifferentialRing isn't really a ring in the Sage sense (with elements that have ring operations). Am I missing something? The starting point should be a proper differential algebra ring, e.g.

```
sage: R = DifferentialRing(vars=['x'], functions=['f'])
sage: x = R.var(0)
sage: f = R.function(0)
sage: (2*x*f).parent() is R
True
```
and perhaps slightly extend the preparser to allow

```
sage: R.<f(x)> = DifferentialRing()
```



---

archive/issue_comments_153257.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nDear vbraun,\n\nThank you for your feedback. I really appreciate it.\n\nThere are two ways to \"view\" differential algebra. Either you view it as an algebraic theory and then, you are right, the starting point should be a differential ring (that's the way Ritt and Kolchin books are written). Or you take a more engineering point of view: the starting point is the system of equations to be solved and differential algebra is one tool among others (such as numerical integration, bifurcation theory, ...) to investigate them. It is the point of view which was chosen for the design. Indeed, I believe this point of view is likely to be the most appealing for many scientists.\n\nThe ideal scenario could look like this: A Sage user first enters the differential equations he/she wants to study. After many computations, he/she decides that differential algebra might be useful. He/she loads the package and applies its methods over the equations. He/she is very happy not to have convert all the time objects from one data type to another one.\n\nI hope my explanations make sense :-)\n\nAll the best,\nFran\u00e7ois",
    "created_at": "2013-09-13T11:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153257",
    "user": "https://github.com/sagetrac-boulier"
}
```

<div id="comment:17" align="right">comment:17</div>

Dear vbraun,

Thank you for your feedback. I really appreciate it.

There are two ways to "view" differential algebra. Either you view it as an algebraic theory and then, you are right, the starting point should be a differential ring (that's the way Ritt and Kolchin books are written). Or you take a more engineering point of view: the starting point is the system of equations to be solved and differential algebra is one tool among others (such as numerical integration, bifurcation theory, ...) to investigate them. It is the point of view which was chosen for the design. Indeed, I believe this point of view is likely to be the most appealing for many scientists.

The ideal scenario could look like this: A Sage user first enters the differential equations he/she wants to study. After many computations, he/she decides that differential algebra might be useful. He/she loads the package and applies its methods over the equations. He/she is very happy not to have convert all the time objects from one data type to another one.

I hope my explanations make sense :-)

All the best,
François



---

archive/issue_comments_153258.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nOK, fair enough. I'm happy with thinking of it as a tool to simplify differential equations. But then you shouldn't introduce global names like DifferentialRing that are likely to be used at one point for the more abstract ring of differential operators.\n\nIn that spirit, it would be nice if the code were organized in the way you describe it verbally. The starting point should be an object that encapsulates the differential system, e.g.\n\n```\nsage: syst = DifferentialAlgebraicSystem(vars=[t], functions=[f,g], parameters=[phi])\n```\nAnd then everything is a method of that object. There you need to decide whether you want DifferentialAlgebraicSystem to be mutable or immutable; In the immutable case the user interface would be\n\n```\nsage: sys_extd = syst.extend_base_field(phi)\nsage: sys_reln = sys_extd.add_relation(f(0) == 0)\nsage: sys_reln\nDifferential algebraic system ... over base field RR(phi) with relation f(0) == 0\nsage: ideal = sys_reln.Rosenfeld_Groebner()\n```\nand if it is mutable you'd have\n\n```\nsage: syst.extend_base_field(phi)\nsage: syst.add_relation(f(0) == 0)\nsage: syst\nDifferential algebraic system ... over base field RR(phi) with relation f(0) == 0\n```\nMutable is slightly simpler but also means that you can't cache intermediate results.\n\nIn general, your objects should print something more informative than `regular_differential_chain`. It doesn't necessarily have to print all equations, but enough to see if its trivial or not would be nice.",
    "created_at": "2013-09-13T12:18:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153258",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">comment:18</div>

OK, fair enough. I'm happy with thinking of it as a tool to simplify differential equations. But then you shouldn't introduce global names like DifferentialRing that are likely to be used at one point for the more abstract ring of differential operators.

In that spirit, it would be nice if the code were organized in the way you describe it verbally. The starting point should be an object that encapsulates the differential system, e.g.

```
sage: syst = DifferentialAlgebraicSystem(vars=[t], functions=[f,g], parameters=[phi])
```
And then everything is a method of that object. There you need to decide whether you want DifferentialAlgebraicSystem to be mutable or immutable; In the immutable case the user interface would be

```
sage: sys_extd = syst.extend_base_field(phi)
sage: sys_reln = sys_extd.add_relation(f(0) == 0)
sage: sys_reln
Differential algebraic system ... over base field RR(phi) with relation f(0) == 0
sage: ideal = sys_reln.Rosenfeld_Groebner()
```
and if it is mutable you'd have

```
sage: syst.extend_base_field(phi)
sage: syst.add_relation(f(0) == 0)
sage: syst
Differential algebraic system ... over base field RR(phi) with relation f(0) == 0
```
Mutable is slightly simpler but also means that you can't cache intermediate results.

In general, your objects should print something more informative than `regular_differential_chain`. It doesn't necessarily have to print all equations, but enough to see if its trivial or not would be nice.



---

archive/issue_events_184920.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184920"
}
```



---

archive/issue_events_184921.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184921"
}
```



---

archive/issue_events_184922.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184922"
}
```



---

archive/issue_events_184923.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184923"
}
```



---

archive/issue_events_184924.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184924"
}
```



---

archive/issue_events_184925.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184925"
}
```



---

archive/issue_comments_153259.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,14 +19,7 @@\n The computations are performed by the BLAD libraries (C libraries, 60000 lines, LGPL license).\n The interface between Sage and BLAD is handled by the BMI library (C library, 10000 lines, LGPL license).\n \n-\n-**Release manager : **\n-\n-* Make [http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg](http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg) an experimental/optional package\n-* Apply [attachment: 13268_differential_algebra.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra.patch.gz)\n-* Apply [attachment: 13268_differential_algebra_support_files.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_support_files.patch.gz)\n-* Apply [attachment: 13268_module_list.patch](https://github.com/sagemath/sage/files/ticket13268/13268_module_list.patch.gz)\n-* Apply [attachment: 13268_differential_algebra_reference_manual_update.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_reference_manual_update.patch.gz)\n+Upstream: [BLAD](http://www.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BLAD) [BMI](http://www2.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BMI)\n \n \n **An example**\n``````\n",
    "created_at": "2014-11-17T07:48:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153259",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,14 +19,7 @@
 The computations are performed by the BLAD libraries (C libraries, 60000 lines, LGPL license).
 The interface between Sage and BLAD is handled by the BMI library (C library, 10000 lines, LGPL license).
 
-
-**Release manager : **
-
-* Make [http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg](http://www.lifl.fr/~bouillaguet/download/blad-3.9.spkg) an experimental/optional package
-* Apply [attachment: 13268_differential_algebra.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra.patch.gz)
-* Apply [attachment: 13268_differential_algebra_support_files.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_support_files.patch.gz)
-* Apply [attachment: 13268_module_list.patch](https://github.com/sagemath/sage/files/ticket13268/13268_module_list.patch.gz)
-* Apply [attachment: 13268_differential_algebra_reference_manual_update.patch](https://github.com/sagemath/sage/files/ticket13268/13268_differential_algebra_reference_manual_update.patch.gz)
+Upstream: [BLAD](http://www.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BLAD) [BMI](http://www2.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BMI)
 
 
 **An example**
``````




---

archive/issue_comments_153260.json:
```json
{
    "body": "Branch: **[public/optional_spkg/differential_algebra-13268](https://github.com/sagemath/sagetrac-mirror/tree/public/optional_spkg/differential_algebra-13268)**",
    "created_at": "2014-11-17T07:48:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153260",
    "user": "https://github.com/tscrim"
}
```

Branch: **[public/optional_spkg/differential_algebra-13268](https://github.com/sagemath/sagetrac-mirror/tree/public/optional_spkg/differential_algebra-13268)**



---

archive/issue_comments_153261.json:
```json
{
    "body": "Commit: **[1355811](https://github.com/sagemath/sagetrac-mirror/commit/1355811b7a4eccba5356c48190562691d72e66ff)**",
    "created_at": "2014-11-17T07:48:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153261",
    "user": "https://github.com/tscrim"
}
```

Commit: **[1355811](https://github.com/sagemath/sagetrac-mirror/commit/1355811b7a4eccba5356c48190562691d72e66ff)**



---

archive/issue_comments_153262.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nHere's my (first) attempt at a git version. I downloaded the BLAD and BMI tarballs from [upstream](http://www.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BLAD), renamed them `*.tgz` -> `*.tar.gz`, and I was able to install them. However there was no `$SAGE_LOCAL/include/bmi.h` created, and so either my build or the `module_list.py` isn't correct. So that's where I'm stuck at right now and I don't know how to proceed.\n\nI agree with Volker in that they should remain as separate patches as it makes our lives easier for inclusion in Sage as the upstream packages are updated. I also am against the global name `DifferentialRing` as this is ambiguous, so this will need a name change.\n\nI'd love to see this get into Sage as this looks like some cool functionality.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/545837f0b4af926593dfd755fd9da239d9889f56\">545837f</a></td><td><code>Trac ticket 13268: includes the DifferentialAlgebra optional package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d4f14aa4c3f63a5ecfe9cd1e1e2c269986d4677\">5d4f14a</a></td><td><code>13268_differential_algebra_support_files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1355811b7a4eccba5356c48190562691d72e66ff\">1355811</a></td><td><code>Initial attempt at adding and linking the spkgs.</code></td></tr></table>\n",
    "created_at": "2014-11-17T07:48:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153262",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">comment:22</div>

Here's my (first) attempt at a git version. I downloaded the BLAD and BMI tarballs from [upstream](http://www.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BLAD), renamed them `*.tgz` -> `*.tar.gz`, and I was able to install them. However there was no `$SAGE_LOCAL/include/bmi.h` created, and so either my build or the `module_list.py` isn't correct. So that's where I'm stuck at right now and I don't know how to proceed.

I agree with Volker in that they should remain as separate patches as it makes our lives easier for inclusion in Sage as the upstream packages are updated. I also am against the global name `DifferentialRing` as this is ambiguous, so this will need a name change.

I'd love to see this get into Sage as this looks like some cool functionality.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/545837f0b4af926593dfd755fd9da239d9889f56">545837f</a></td><td><code>Trac ticket 13268: includes the DifferentialAlgebra optional package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d4f14aa4c3f63a5ecfe9cd1e1e2c269986d4677">5d4f14a</a></td><td><code>13268_differential_algebra_support_files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1355811b7a4eccba5356c48190562691d72e66ff">1355811</a></td><td><code>Initial attempt at adding and linking the spkgs.</code></td></tr></table>




---

archive/issue_events_184926.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-11-17T07:48:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184926"
}
```



---

archive/issue_events_184927.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-11-17T07:48:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184927"
}
```



---

archive/issue_comments_153263.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffb4a2bf8c727058c3c660464664cfdc93795c21\">ffb4a2b</a></td><td><code>DifferentialAlgebra: basic changes to make blad/bmi packages build</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c0a9e175ac7af1d4b4654f9d2c418c3730585ae\">6c0a9e1</a></td><td><code>DifferentialAlgebra: make DifferentialAlgebra.pyx compile</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a610ed82ea01edcecfc5ea1fbb03feb73890e02\">8a610ed</a></td><td><code>Merge tag '8.2' into differential_algebra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cec9c0b0d9d118136ab1b76633b13bf4d8b65104\">cec9c0b</a></td><td><code>DifferentialAlgebra: make DifferentialAlgebra.pyx run without exceptions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73c96aace417db2677d6a9b3e3b607fe307132f9\">73c96aa</a></td><td><code>DifferentialAlgebra: all doctests pass</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a18e3c072eddbf0d6ecc7ae395a3c0a04ee417ad\">a18e3c0</a></td><td><code>DifferentialAlgebra: remove old include statements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05e8e5bfd365cf026dfcf905995b6280fbdcba78\">05e8e5b</a></td><td><code>DifferentialAlgebra: fix bmi's spkg-install</code></td></tr></table>\n",
    "created_at": "2018-05-27T03:52:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153263",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffb4a2bf8c727058c3c660464664cfdc93795c21">ffb4a2b</a></td><td><code>DifferentialAlgebra: basic changes to make blad/bmi packages build</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c0a9e175ac7af1d4b4654f9d2c418c3730585ae">6c0a9e1</a></td><td><code>DifferentialAlgebra: make DifferentialAlgebra.pyx compile</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a610ed82ea01edcecfc5ea1fbb03feb73890e02">8a610ed</a></td><td><code>Merge tag '8.2' into differential_algebra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cec9c0b0d9d118136ab1b76633b13bf4d8b65104">cec9c0b</a></td><td><code>DifferentialAlgebra: make DifferentialAlgebra.pyx run without exceptions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73c96aace417db2677d6a9b3e3b607fe307132f9">73c96aa</a></td><td><code>DifferentialAlgebra: all doctests pass</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a18e3c072eddbf0d6ecc7ae395a3c0a04ee417ad">a18e3c0</a></td><td><code>DifferentialAlgebra: remove old include statements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05e8e5bfd365cf026dfcf905995b6280fbdcba78">05e8e5b</a></td><td><code>DifferentialAlgebra: fix bmi's spkg-install</code></td></tr></table>




---

archive/issue_comments_153264.json:
```json
{
    "body": "Changed commit from **[1355811](https://github.com/sagemath/sagetrac-mirror/commit/1355811b7a4eccba5356c48190562691d72e66ff)** to **[05e8e5b](https://github.com/sagemath/sagetrac-mirror/commit/05e8e5bfd365cf026dfcf905995b6280fbdcba78)**",
    "created_at": "2018-05-27T03:52:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153264",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1355811](https://github.com/sagemath/sagetrac-mirror/commit/1355811b7a4eccba5356c48190562691d72e66ff)** to **[05e8e5b](https://github.com/sagemath/sagetrac-mirror/commit/05e8e5bfd365cf026dfcf905995b6280fbdcba78)**



---

archive/issue_comments_153265.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,6 +21,16 @@\n \n Upstream: [BLAD](http://www.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BLAD) [BMI](http://www2.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BMI)\n \n+**Installation**\n+\n+After building Sage, install the experimental packages `blad` and `bmi`, then run `make` or `make build` again, i.e:\n+\n+```\n+make build\n+SAGE_ROOT=$(pwd) ./local/bin/sage -i blad\n+SAGE_ROOT=$(pwd) ./local/bin/sage -i bmi\n+make build\n+```\n \n **An example**\n \n``````\n",
    "created_at": "2018-05-27T04:40:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153265",
    "user": "https://github.com/BrentBaccala"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,6 +21,16 @@
 
 Upstream: [BLAD](http://www.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BLAD) [BMI](http://www2.lifl.fr/~boulier/pmwiki/pmwiki.php?n=Main.BMI)
 
+**Installation**
+
+After building Sage, install the experimental packages `blad` and `bmi`, then run `make` or `make build` again, i.e:
+
+```
+make build
+SAGE_ROOT=$(pwd) ./local/bin/sage -i blad
+SAGE_ROOT=$(pwd) ./local/bin/sage -i bmi
+make build
+```
 
 **An example**
 
``````




---

archive/issue_comments_153266.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nUpdated to Sage 8.2\n\nI added an **Installation** section to the ticket description.  I think it should be fairly simple now to work with this code, if not, let me know.\n\nI'd also like to see this code in Sage.  Fran\u00e7ois Boulier has done a fantastic job with the blad library.  I've tried to implement Rosenfeld-Gr\u00f6bner from scratch, and believe me, Fran\u00e7ois's library is the way to go.\n\nWith that said, I do think that this code belongs in `sage.rings` and not `sage.calculus`.  Regarding the discussion between `vbraun` and `boulier`, I come at it from the opposite angle - I'm working in polynomial rings all the time, and find it annoying to have to constantly convert back and forth to the symbolic ring.\n\nSo I'm thinking that `DifferentialRing` should behave a lot like `PolynomialRing` - it should take a first argument to specify the coefficient field, and implement `DifferentialRingElement` and probably `DifferentialIdeal`.  We should deal with the situation that Fran\u00e7ois described (the user has created a bunch of equations in the symbolic ring and now wants to use differential algebra tools) by making it easier to move from the symbolic ring to polynomial / differential rings, not by basing `DifferentialRing` on the symbolic ring (like is done currently).\n\nThe code still needs a good bit of work before we mainline it, so I'll try to keep some patches coming on this ticket...",
    "created_at": "2018-05-27T04:40:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153266",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:25" align="right">comment:25</div>

Updated to Sage 8.2

I added an **Installation** section to the ticket description.  I think it should be fairly simple now to work with this code, if not, let me know.

I'd also like to see this code in Sage.  François Boulier has done a fantastic job with the blad library.  I've tried to implement Rosenfeld-Gröbner from scratch, and believe me, François's library is the way to go.

With that said, I do think that this code belongs in `sage.rings` and not `sage.calculus`.  Regarding the discussion between `vbraun` and `boulier`, I come at it from the opposite angle - I'm working in polynomial rings all the time, and find it annoying to have to constantly convert back and forth to the symbolic ring.

So I'm thinking that `DifferentialRing` should behave a lot like `PolynomialRing` - it should take a first argument to specify the coefficient field, and implement `DifferentialRingElement` and probably `DifferentialIdeal`.  We should deal with the situation that François described (the user has created a bunch of equations in the symbolic ring and now wants to use differential algebra tools) by making it easier to move from the symbolic ring to polynomial / differential rings, not by basing `DifferentialRing` on the symbolic ring (like is done currently).

The code still needs a good bit of work before we mainline it, so I'll try to keep some patches coming on this ticket...



---

archive/issue_comments_153267.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d4f14aa4c3f63a5ecfe9cd1e1e2c269986d4677\">5d4f14a</a></td><td><code>13268_differential_algebra_support_files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1355811b7a4eccba5356c48190562691d72e66ff\">1355811</a></td><td><code>Initial attempt at adding and linking the spkgs.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffb4a2bf8c727058c3c660464664cfdc93795c21\">ffb4a2b</a></td><td><code>DifferentialAlgebra: basic changes to make blad/bmi packages build</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c0a9e175ac7af1d4b4654f9d2c418c3730585ae\">6c0a9e1</a></td><td><code>DifferentialAlgebra: make DifferentialAlgebra.pyx compile</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a610ed82ea01edcecfc5ea1fbb03feb73890e02\">8a610ed</a></td><td><code>Merge tag '8.2' into differential_algebra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cec9c0b0d9d118136ab1b76633b13bf4d8b65104\">cec9c0b</a></td><td><code>DifferentialAlgebra: make DifferentialAlgebra.pyx run without exceptions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73c96aace417db2677d6a9b3e3b607fe307132f9\">73c96aa</a></td><td><code>DifferentialAlgebra: all doctests pass</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a18e3c072eddbf0d6ecc7ae395a3c0a04ee417ad\">a18e3c0</a></td><td><code>DifferentialAlgebra: remove old include statements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05e8e5bfd365cf026dfcf905995b6280fbdcba78\">05e8e5b</a></td><td><code>DifferentialAlgebra: fix bmi's spkg-install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b65be15dbed69a3eacab51e2400995003f770ca6\">b65be15</a></td><td><code>Trac #13268: clean up docstrings</code></td></tr></table>\n",
    "created_at": "2018-05-28T05:03:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153267",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d4f14aa4c3f63a5ecfe9cd1e1e2c269986d4677">5d4f14a</a></td><td><code>13268_differential_algebra_support_files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1355811b7a4eccba5356c48190562691d72e66ff">1355811</a></td><td><code>Initial attempt at adding and linking the spkgs.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffb4a2bf8c727058c3c660464664cfdc93795c21">ffb4a2b</a></td><td><code>DifferentialAlgebra: basic changes to make blad/bmi packages build</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c0a9e175ac7af1d4b4654f9d2c418c3730585ae">6c0a9e1</a></td><td><code>DifferentialAlgebra: make DifferentialAlgebra.pyx compile</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a610ed82ea01edcecfc5ea1fbb03feb73890e02">8a610ed</a></td><td><code>Merge tag '8.2' into differential_algebra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cec9c0b0d9d118136ab1b76633b13bf4d8b65104">cec9c0b</a></td><td><code>DifferentialAlgebra: make DifferentialAlgebra.pyx run without exceptions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73c96aace417db2677d6a9b3e3b607fe307132f9">73c96aa</a></td><td><code>DifferentialAlgebra: all doctests pass</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a18e3c072eddbf0d6ecc7ae395a3c0a04ee417ad">a18e3c0</a></td><td><code>DifferentialAlgebra: remove old include statements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05e8e5bfd365cf026dfcf905995b6280fbdcba78">05e8e5b</a></td><td><code>DifferentialAlgebra: fix bmi's spkg-install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b65be15dbed69a3eacab51e2400995003f770ca6">b65be15</a></td><td><code>Trac #13268: clean up docstrings</code></td></tr></table>




---

archive/issue_comments_153268.json:
```json
{
    "body": "Changed commit from **[05e8e5b](https://github.com/sagemath/sagetrac-mirror/commit/05e8e5bfd365cf026dfcf905995b6280fbdcba78)** to **[b65be15](https://github.com/sagemath/sagetrac-mirror/commit/b65be15dbed69a3eacab51e2400995003f770ca6)**",
    "created_at": "2018-05-28T05:03:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153268",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[05e8e5b](https://github.com/sagemath/sagetrac-mirror/commit/05e8e5bfd365cf026dfcf905995b6280fbdcba78)** to **[b65be15](https://github.com/sagemath/sagetrac-mirror/commit/b65be15dbed69a3eacab51e2400995003f770ca6)**



---

archive/issue_comments_153269.json:
```json
{
    "body": "Changed commit from **[b65be15](https://github.com/sagemath/sagetrac-mirror/commit/b65be15dbed69a3eacab51e2400995003f770ca6)** to **[5cf3d5f](https://github.com/sagemath/sagetrac-mirror/commit/5cf3d5f45c3f6a63244a248931fd35798609cf46)**",
    "created_at": "2018-05-29T05:26:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153269",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b65be15](https://github.com/sagemath/sagetrac-mirror/commit/b65be15dbed69a3eacab51e2400995003f770ca6)** to **[5cf3d5f](https://github.com/sagemath/sagetrac-mirror/commit/5cf3d5f45c3f6a63244a248931fd35798609cf46)**



---

archive/issue_comments_153270.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/569f60b590fbca1d5cef378da3239ad406e3ac0c\">569f60b</a></td><td><code>Trac #13268: improve printed descriptions of DifferentialRing objects</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/016abbdfa1ac4b9546d5078dceca27b8f94f1b5a\">016abbd</a></td><td><code>Trac #13268: use local name dictionary for parsing BMI expressions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5cf3d5f45c3f6a63244a248931fd35798609cf46\">5cf3d5f</a></td><td><code>Trac #13268: improve printed descriptions of RegularDifferentialChain objects</code></td></tr></table>\n",
    "created_at": "2018-05-29T05:26:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153270",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/569f60b590fbca1d5cef378da3239ad406e3ac0c">569f60b</a></td><td><code>Trac #13268: improve printed descriptions of DifferentialRing objects</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/016abbdfa1ac4b9546d5078dceca27b8f94f1b5a">016abbd</a></td><td><code>Trac #13268: use local name dictionary for parsing BMI expressions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5cf3d5f45c3f6a63244a248931fd35798609cf46">5cf3d5f</a></td><td><code>Trac #13268: improve printed descriptions of RegularDifferentialChain objects</code></td></tr></table>




---

archive/issue_events_184928.json:
```json
{
    "actor": "https://github.com/sagetrac-boulier",
    "created_at": "2018-05-29T05:28:24Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "subject": "https://github.com/BrentBaccala",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184928"
}
```



---

archive/issue_comments_153271.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI disowned this ticket, since Fran\u00e7ois Boulier indicated to me via email that he's not working on the Sage package anymore.",
    "created_at": "2018-05-29T05:28:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153271",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:28" align="right">comment:28</div>

I disowned this ticket, since François Boulier indicated to me via email that he's not working on the Sage package anymore.



---

archive/issue_comments_153272.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcb261f0e0e825f9b890cbabae6bed724b1608bf\">dcb261f</a></td><td><code>Trac #13268: fix docstrings</code></td></tr></table>\n",
    "created_at": "2018-06-25T04:13:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153272",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcb261f0e0e825f9b890cbabae6bed724b1608bf">dcb261f</a></td><td><code>Trac #13268: fix docstrings</code></td></tr></table>




---

archive/issue_comments_153273.json:
```json
{
    "body": "Changed commit from **[5cf3d5f](https://github.com/sagemath/sagetrac-mirror/commit/5cf3d5f45c3f6a63244a248931fd35798609cf46)** to **[dcb261f](https://github.com/sagemath/sagetrac-mirror/commit/dcb261f0e0e825f9b890cbabae6bed724b1608bf)**",
    "created_at": "2018-06-25T04:13:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153273",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5cf3d5f](https://github.com/sagemath/sagetrac-mirror/commit/5cf3d5f45c3f6a63244a248931fd35798609cf46)** to **[dcb261f](https://github.com/sagemath/sagetrac-mirror/commit/dcb261f0e0e825f9b890cbabae6bed724b1608bf)**



---

archive/issue_comments_153274.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1b8412b7a98094d3c081f6e940fb200828d05b8\">b1b8412</a></td><td><code>Trac #13268: move translate_str inside DifferentialRing</code></td></tr></table>\n",
    "created_at": "2019-03-22T20:48:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153274",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1b8412b7a98094d3c081f6e940fb200828d05b8">b1b8412</a></td><td><code>Trac #13268: move translate_str inside DifferentialRing</code></td></tr></table>




---

archive/issue_comments_153275.json:
```json
{
    "body": "Changed commit from **[dcb261f](https://github.com/sagemath/sagetrac-mirror/commit/dcb261f0e0e825f9b890cbabae6bed724b1608bf)** to **[b1b8412](https://github.com/sagemath/sagetrac-mirror/commit/b1b8412b7a98094d3c081f6e940fb200828d05b8)**",
    "created_at": "2019-03-22T20:48:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153275",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dcb261f](https://github.com/sagemath/sagetrac-mirror/commit/dcb261f0e0e825f9b890cbabae6bed724b1608bf)** to **[b1b8412](https://github.com/sagemath/sagetrac-mirror/commit/b1b8412b7a98094d3c081f6e940fb200828d05b8)**



---

archive/issue_comments_153276.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8c7f21201079d847764ebb17c154d09a0736b4f\">f8c7f21</a></td><td><code>Merge tag '8.7.rc0' into public/optional_spkg/differential_algebra-13268</code></td></tr></table>\n",
    "created_at": "2019-03-22T21:11:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153276",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8c7f21201079d847764ebb17c154d09a0736b4f">f8c7f21</a></td><td><code>Merge tag '8.7.rc0' into public/optional_spkg/differential_algebra-13268</code></td></tr></table>




---

archive/issue_comments_153277.json:
```json
{
    "body": "Changed commit from **[b1b8412](https://github.com/sagemath/sagetrac-mirror/commit/b1b8412b7a98094d3c081f6e940fb200828d05b8)** to **[f8c7f21](https://github.com/sagemath/sagetrac-mirror/commit/f8c7f21201079d847764ebb17c154d09a0736b4f)**",
    "created_at": "2019-03-22T21:11:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153277",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b1b8412](https://github.com/sagemath/sagetrac-mirror/commit/b1b8412b7a98094d3c081f6e940fb200828d05b8)** to **[f8c7f21](https://github.com/sagemath/sagetrac-mirror/commit/f8c7f21201079d847764ebb17c154d09a0736b4f)**



---

archive/issue_comments_153278.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nSome quick comments about technicalities:\n\n1. Why do you want these to be experimental packages, as opposed to optional?\n\n2. To avoid confusion, there should be a direct link to the upstream tarballs easily visible in the ticket description.\n\n3. You mention dependencies in `SPKG.txt` while the `dependencies` files have `# no dependencies`\n\n4. The `spkg-install` files should use the more modern sdh helpers. Look at some other `spkg-install` files if you don't know what I mean.\n\n5. Compiling with `-Werror` is a bad idea: it's likely to break stuff for no good reason.\n\n6. `# This file is automatically generated from the blad header files`: if that's true, include the script to autogenerate those files instead of the output of that script.\n\n7. In a lot of places, you use `bytes` or `char*` where you really mean a string. That will break badly on Python 3.\n\n8. Don't overdo Cython typing: for example, I would write\n\n```\ndef __init__(self, derivations=[], blocks=[], parameters=[], notation=\"D\")\n```\ninstead of\n\n```\ndef __init__ (\n                self,\n                list derivations = [],\n                list blocks = [],\n                list parameters = [],\n                char* notation = BMI_IX_D)\n```\n\n9. Remove pointless comments or docstrings like `# __init__` and `\"\"\" The destructor \"\"\"`\n\n10. Use `is None` instead of `== None`.\n\n21. Try to follow PEP 8 style, I find the extra spaces quite annoying: `DifferentialRing (derivations = [t], blocks = [u,v])` should be `DifferentialRing(derivations=[t], blocks=[u, v])`.\n\n32. `raise Exception, message` should be `raise Exception(message)`.\n\n43. What's up with `bmi_strings.pyx`? Why do you write `BMI_IX_undefined` instead of just `\"undefined\"`?\n\n54. There shouldn't be indentation here:\n\n```\nEXAMPLES:\n\n    This example shows how to build the Henri Michaelis Menten formula\n    by differential elimination. One considers a chemical reaction\n    system describing the enzymatic reaction::\n```\nSame problem here:\n\n```\nEXAMPLE:\n\n    This example shows how to compute an input/output relation, having\n    a nice form, for a compartmental model...\n```\nand here:\n\n```\n    The class DifferentialRing implements differential polynomial rings\n\n        Differential rings can be endowed with zero, one or many different\n        derivations.\n```\n\n15. Please use the standard copyright notice.\n\n26. It's preferred to use `# distutils: libraries` declarations in Cython files instead of `libraries = [\"blad\", \"bmi\"]` in `module_list.py`. And the `language` and `depends` in `module_list.py` are not needed as far as I can tell.\n\n37. `from cpython cimport bool` is probably not what you want: it refers to the Python `bool` class. What you probably want to use is `bint`, which is more like a C boolean (using the C `int` type).",
    "created_at": "2019-03-23T22:19:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153278",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:33" align="right">comment:33</div>

Some quick comments about technicalities:

1. Why do you want these to be experimental packages, as opposed to optional?

2. To avoid confusion, there should be a direct link to the upstream tarballs easily visible in the ticket description.

3. You mention dependencies in `SPKG.txt` while the `dependencies` files have `# no dependencies`

4. The `spkg-install` files should use the more modern sdh helpers. Look at some other `spkg-install` files if you don't know what I mean.

5. Compiling with `-Werror` is a bad idea: it's likely to break stuff for no good reason.

6. `# This file is automatically generated from the blad header files`: if that's true, include the script to autogenerate those files instead of the output of that script.

7. In a lot of places, you use `bytes` or `char*` where you really mean a string. That will break badly on Python 3.

8. Don't overdo Cython typing: for example, I would write

```
def __init__(self, derivations=[], blocks=[], parameters=[], notation="D")
```
instead of

```
def __init__ (
                self,
                list derivations = [],
                list blocks = [],
                list parameters = [],
                char* notation = BMI_IX_D)
```

9. Remove pointless comments or docstrings like `# __init__` and `""" The destructor """`

10. Use `is None` instead of `== None`.

21. Try to follow PEP 8 style, I find the extra spaces quite annoying: `DifferentialRing (derivations = [t], blocks = [u,v])` should be `DifferentialRing(derivations=[t], blocks=[u, v])`.

32. `raise Exception, message` should be `raise Exception(message)`.

43. What's up with `bmi_strings.pyx`? Why do you write `BMI_IX_undefined` instead of just `"undefined"`?

54. There shouldn't be indentation here:

```
EXAMPLES:

    This example shows how to build the Henri Michaelis Menten formula
    by differential elimination. One considers a chemical reaction
    system describing the enzymatic reaction::
```
Same problem here:

```
EXAMPLE:

    This example shows how to compute an input/output relation, having
    a nice form, for a compartmental model...
```
and here:

```
    The class DifferentialRing implements differential polynomial rings

        Differential rings can be endowed with zero, one or many different
        derivations.
```

15. Please use the standard copyright notice.

26. It's preferred to use `# distutils: libraries` declarations in Cython files instead of `libraries = ["blad", "bmi"]` in `module_list.py`. And the `language` and `depends` in `module_list.py` are not needed as far as I can tell.

37. `from cpython cimport bool` is probably not what you want: it refers to the Python `bool` class. What you probably want to use is `bint`, which is more like a C boolean (using the C `int` type).



---

archive/issue_comments_153279.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3871c6ad98ce923df8d7aaa26a8dfa164bc5d7a6\">3871c6a</a></td><td><code>Merge tag '8.7' into public/optional_spkg/differential_algebra-13268</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81aef63dc5e33948f1f37a995ac09189d0a99eda\">81aef63</a></td><td><code>Merge tag '9.0.beta4' into public/optional_spkg/differential_algebra-13268</code></td></tr></table>\n",
    "created_at": "2019-11-30T00:14:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153279",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3871c6ad98ce923df8d7aaa26a8dfa164bc5d7a6">3871c6a</a></td><td><code>Merge tag '8.7' into public/optional_spkg/differential_algebra-13268</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81aef63dc5e33948f1f37a995ac09189d0a99eda">81aef63</a></td><td><code>Merge tag '9.0.beta4' into public/optional_spkg/differential_algebra-13268</code></td></tr></table>




---

archive/issue_comments_153280.json:
```json
{
    "body": "Changed commit from **[f8c7f21](https://github.com/sagemath/sagetrac-mirror/commit/f8c7f21201079d847764ebb17c154d09a0736b4f)** to **[81aef63](https://github.com/sagemath/sagetrac-mirror/commit/81aef63dc5e33948f1f37a995ac09189d0a99eda)**",
    "created_at": "2019-11-30T00:14:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153280",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f8c7f21](https://github.com/sagemath/sagetrac-mirror/commit/f8c7f21201079d847764ebb17c154d09a0736b4f)** to **[81aef63](https://github.com/sagemath/sagetrac-mirror/commit/81aef63dc5e33948f1f37a995ac09189d0a99eda)**



---

archive/issue_comments_153281.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nDo we have a TODO list here? I'm debating working on this.\n\nReplying to [@BrentBaccala](#comment:25):\n> Updated to Sage 8.2\n> \n> I added an **Installation** section to the ticket description.  I think it should be fairly simple now to work with this code, if not, let me know.\n> \n> I'd also like to see this code in Sage.  Fran\u00e7ois Boulier has done a fantastic job with the blad library.  I've tried to implement Rosenfeld-Gr\u00f6bner from scratch, and believe me, Fran\u00e7ois's library is the way to go.\n> \n> With that said, I do think that this code belongs in `sage.rings` and not `sage.calculus`.  Regarding the discussion between `vbraun` and `boulier`, I come at it from the opposite angle - I'm working in polynomial rings all the time, and find it annoying to have to constantly convert back and forth to the symbolic ring.\n> \n> So I'm thinking that `DifferentialRing` should behave a lot like `PolynomialRing` - it should take a first argument to specify the coefficient field, and implement `DifferentialRingElement` and probably `DifferentialIdeal`.  We should deal with the situation that Fran\u00e7ois described (the user has created a bunch of equations in the symbolic ring and now wants to use differential algebra tools) by making it easier to move from the symbolic ring to polynomial / differential rings, not by basing `DifferentialRing` on the symbolic ring (like is done currently).\n> \n> The code still needs a good bit of work before we mainline it, so I'll try to keep some patches coming on this ticket...",
    "created_at": "2020-02-24T21:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153281",
    "user": "https://github.com/tdupu"
}
```

<div id="comment:35" align="right">comment:35</div>

Do we have a TODO list here? I'm debating working on this.

Replying to [@BrentBaccala](#comment:25):
> Updated to Sage 8.2
> 
> I added an **Installation** section to the ticket description.  I think it should be fairly simple now to work with this code, if not, let me know.
> 
> I'd also like to see this code in Sage.  François Boulier has done a fantastic job with the blad library.  I've tried to implement Rosenfeld-Gröbner from scratch, and believe me, François's library is the way to go.
> 
> With that said, I do think that this code belongs in `sage.rings` and not `sage.calculus`.  Regarding the discussion between `vbraun` and `boulier`, I come at it from the opposite angle - I'm working in polynomial rings all the time, and find it annoying to have to constantly convert back and forth to the symbolic ring.
> 
> So I'm thinking that `DifferentialRing` should behave a lot like `PolynomialRing` - it should take a first argument to specify the coefficient field, and implement `DifferentialRingElement` and probably `DifferentialIdeal`.  We should deal with the situation that François described (the user has created a bunch of equations in the symbolic ring and now wants to use differential algebra tools) by making it easier to move from the symbolic ring to polynomial / differential rings, not by basing `DifferentialRing` on the symbolic ring (like is done currently).
> 
> The code still needs a good bit of work before we mainline it, so I'll try to keep some patches coming on this ticket...



---

archive/issue_comments_153282.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@tdupu](#comment:35):\n> Do we have a TODO list here? I'm debating working on this.\n\nI'd think, first, get it running on the newest Sage release, then hit the issues jdemeyer listed a year ago, then look at implementing a `DifferentialRing` class.\n\nWe're both on the U.S. East Coast (I'm in the Washington, DC area), so maybe I'll give you a call at your office and we can talk more about it.",
    "created_at": "2020-02-25T04:06:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153282",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@tdupu](#comment:35):
> Do we have a TODO list here? I'm debating working on this.

I'd think, first, get it running on the newest Sage release, then hit the issues jdemeyer listed a year ago, then look at implementing a `DifferentialRing` class.

We're both on the U.S. East Coast (I'm in the Washington, DC area), so maybe I'll give you a call at your office and we can talk more about it.



---

archive/issue_events_184929.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-19T18:16:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184929"
}
```



---

archive/issue_events_184930.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-19T18:16:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184930"
}
```



---

archive/issue_comments_153283.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nSetting spkg proposals that have not seen recent activity to \"sage-wishlist\".",
    "created_at": "2020-06-19T18:16:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153283",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:37" align="right">comment:37</div>

Setting spkg proposals that have not seen recent activity to "sage-wishlist".



---

archive/issue_events_184931.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-19T18:16:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184931"
}
```



---

archive/issue_events_184932.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-19T18:16:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13268#event-184932"
}
```



---

archive/issue_comments_153284.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nAre BLAD/BMI still maintained upstream?",
    "created_at": "2020-08-18T15:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153284",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38" align="right">comment:38</div>

Are BLAD/BMI still maintained upstream?



---

archive/issue_comments_153285.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nIn the above example there is supposed to be a DifferentialAlgebra.pyx in this branch of sage: \n\nhttps://github.com/sagemath/sagetrac-mirror/tree/public/optional_spkg/differential_algebra-13268/src/sage\n\nsee the examples at the very beginning which has the line:\n\n```\nfrom sage.libs.blad.DifferentialAlgebra import DifferentialRing, RegularDifferentialChain, BaseFieldExtension\n```\n\nWhere is this now?",
    "created_at": "2022-06-30T18:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153285",
    "user": "https://github.com/tdupu"
}
```

<div id="comment:39" align="right">comment:39</div>

In the above example there is supposed to be a DifferentialAlgebra.pyx in this branch of sage: 

https://github.com/sagemath/sagetrac-mirror/tree/public/optional_spkg/differential_algebra-13268/src/sage

see the examples at the very beginning which has the line:

```
from sage.libs.blad.DifferentialAlgebra import DifferentialRing, RegularDifferentialChain, BaseFieldExtension
```

Where is this now?



---

archive/issue_comments_153286.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@tdupu](#comment:39):\n> In the above example there is supposed to be a DifferentialAlgebra.pyx in this branch of sage: \n> \n> https://github.com/sagemath/sagetrac-mirror/tree/public/optional_spkg/differential_algebra-13268/src/sage\n> \n> see the examples at the very beginning which has the line:\n> \n> ```\n> from sage.libs.blad.DifferentialAlgebra import DifferentialRing, RegularDifferentialChain, BaseFieldExtension\n> ```\n> \n> Where is this now?\n\n`DifferentialRing` is defined in `src/sage/calculus/DifferentialAlgebra.pyx`\n\nYou also need to install the BLAD and BMI libraries.\n\nIf you checkout the `public/optional_spkg/differential_algebra-13268` branch and run `git diff 9.0.beta4 --stat`, that should give you a good idea of where things are in this branch.",
    "created_at": "2022-07-02T00:07:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13268#issuecomment-153286",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@tdupu](#comment:39):
> In the above example there is supposed to be a DifferentialAlgebra.pyx in this branch of sage: 
> 
> https://github.com/sagemath/sagetrac-mirror/tree/public/optional_spkg/differential_algebra-13268/src/sage
> 
> see the examples at the very beginning which has the line:
> 
> ```
> from sage.libs.blad.DifferentialAlgebra import DifferentialRing, RegularDifferentialChain, BaseFieldExtension
> ```
> 
> Where is this now?

`DifferentialRing` is defined in `src/sage/calculus/DifferentialAlgebra.pyx`

You also need to install the BLAD and BMI libraries.

If you checkout the `public/optional_spkg/differential_algebra-13268` branch and run `git diff 9.0.beta4 --stat`, that should give you a good idea of where things are in this branch.
