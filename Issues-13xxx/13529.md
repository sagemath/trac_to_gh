# Issue 13529: ./sage -b should fail gracefully when no C compiler available

archive/issues_013325.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-GeorgSWeber"
    ],
    "body": "Hello, I am just getting started developing in Sage.  I followed the directions here on my Linux Machine:\n\nhttp://www.sagemath.org/doc/developer/coding_in_python.html#creating-a-new-directory\n\nbut the sage command prompt wasn't recognizing the **from sage.<package-name>.all import *** command.\n\nAfter restarting, the issue wasn't fixed.  So I ran **./sage -b **based on the preceding subsection of the link above.\n\nNow I can't even run sage.\n\nWhy would this occur?  What can be done to fix this problem?\n\nAttached is the output from the **./sage -b **DIRECTLY FOLLOWED by output when I try to run **./sage** now.\n\nThis is my first programming experience.  Thank you.\n\nKeywords: **sage -b**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13529_\n\n",
    "created_at": "2012-09-25T06:25:55Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "./sage -b should fail gracefully when no C compiler available",
    "type": "issue",
    "updated_at": "2014-03-15T19:04:56Z",
    "url": "https://github.com/sagemath/sage/issues/13529",
    "user": "https://github.com/sagetrac-startakovsky"
}
```
Hello, I am just getting started developing in Sage.  I followed the directions here on my Linux Machine:

http://www.sagemath.org/doc/developer/coding_in_python.html#creating-a-new-directory

but the sage command prompt wasn't recognizing the **from sage.<package-name>.all import *** command.

After restarting, the issue wasn't fixed.  So I ran **./sage -b **based on the preceding subsection of the link above.

Now I can't even run sage.

Why would this occur?  What can be done to fix this problem?

Attached is the output from the **./sage -b **DIRECTLY FOLLOWED by output when I try to run **./sage** now.

This is my first programming experience.  Thank you.

Keywords: **sage -b**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/13529_





---

archive/issue_events_188831.json:
```json
{
    "actor": "https://github.com/sagetrac-startakovsky",
    "created_at": "2012-09-25T06:25:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13529",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13529#event-188831"
}
```



---

archive/issue_events_188832.json:
```json
{
    "actor": "https://github.com/sagetrac-startakovsky",
    "created_at": "2012-09-25T06:25:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13529",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13529#event-188832"
}
```



---

archive/issue_comments_157945.json:
```json
{
    "body": "Attachment: **[errors sage -b.txt](https://github.com/sagemath/sage/files/ticket13529/e758cc7302f1f868405fc4290f3c829f.txt)**",
    "created_at": "2012-09-25T06:26:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13529#issuecomment-157945",
    "user": "https://github.com/sagetrac-startakovsky"
}
```

Attachment: **[errors sage -b.txt](https://github.com/sagemath/sage/files/ticket13529/e758cc7302f1f868405fc4290f3c829f.txt)**



---

archive/issue_comments_157946.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nWhat happens if you download Sage, **don't run ./sage -b** and simply run **./sage**?",
    "created_at": "2012-09-27T18:12:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13529#issuecomment-157946",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:1" align="right">comment:1</div>

What happens if you download Sage, **don't run ./sage -b** and simply run **./sage**?



---

archive/issue_comments_157947.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nDo you have a C compiler?  If you want to develop Sage, you need to install `gcc`.",
    "created_at": "2012-09-27T18:13:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13529#issuecomment-157947",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">comment:2</div>

Do you have a C compiler?  If you want to develop Sage, you need to install `gcc`.



---

archive/issue_comments_157948.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nHi, I don't know whether I had a C compiler, and if I didn't and it's a prerequisite, then maybe that should be noted?\n\nTo answer the other question, Sage worked perfectly as a prebuilt binary.  Then I tried to add a package and rebuild and got the error mentioned here.  After building from source however, I no longer have this problem and sage builds perfectly and quickly with any modification I have been making to the source.  So this ticket is more around the binary than anything else.",
    "created_at": "2012-09-27T18:19:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13529#issuecomment-157948",
    "user": "https://github.com/sagetrac-startakovsky"
}
```

<div id="comment:3" align="right">comment:3</div>

Hi, I don't know whether I had a C compiler, and if I didn't and it's a prerequisite, then maybe that should be noted?

To answer the other question, Sage worked perfectly as a prebuilt binary.  Then I tried to add a package and rebuild and got the error mentioned here.  After building from source however, I no longer have this problem and sage builds perfectly and quickly with any modification I have been making to the source.  So this ticket is more around the binary than anything else.



---

archive/issue_comments_157949.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@sagetrac-startakovsky](#comment:3):\n> Hi, I don't know whether I had a C compiler, and if I didn't and it's a prerequisite, then maybe that should be noted?\n\nIt is indeed a prerequisite for *developing* Sage.",
    "created_at": "2012-09-27T18:28:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13529#issuecomment-157949",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@sagetrac-startakovsky](#comment:3):
> Hi, I don't know whether I had a C compiler, and if I didn't and it's a prerequisite, then maybe that should be noted?

It is indeed a prerequisite for *developing* Sage.



---

archive/issue_comments_157950.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nSo it is a prerequisite for developing Sage, but not a prerequisite for running Sage and therefore is not and should not come with the Sage Binary.  Is that correct and should we then close this ticket?",
    "created_at": "2012-09-27T18:32:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13529#issuecomment-157950",
    "user": "https://github.com/sagetrac-startakovsky"
}
```

<div id="comment:5" align="right">comment:5</div>

So it is a prerequisite for developing Sage, but not a prerequisite for running Sage and therefore is not and should not come with the Sage Binary.  Is that correct and should we then close this ticket?



---

archive/issue_comments_157951.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nIn any case, it is sort-of duplicate of #11162.\n\nBut even *without* a C compiler, running `./sage -b` should not destroy Sage.  So I think that's still a bug.",
    "created_at": "2012-09-27T18:36:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13529#issuecomment-157951",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

In any case, it is sort-of duplicate of #11162.

But even *without* a C compiler, running `./sage -b` should not destroy Sage.  So I think that's still a bug.



---

archive/issue_events_188833.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2013-02-24T02:12:25Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/13529",
    "subject": "https://github.com/kcrisman",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13529#event-188833"
}
```



---

archive/issue_events_188834.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-02-24T02:12:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13529",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13529#event-188834"
}
```



---

archive/issue_events_188835.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2014-03-15T19:04:56Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/13529",
    "title_is": "./sage -b should fail gracefully when no C compiler available",
    "title_was": "Sage 5.3 Binary not working after ./sage -b",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13529#event-188835"
}
```
