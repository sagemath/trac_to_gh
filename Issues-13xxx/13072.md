# Issue 13072: Implementation of PartitionTuple + some minor fixes to partition.py

archive/issues_012900.json:
```json
{
    "body": "Assignee: Andrew Mathas\n\nCC:  sage-combinat\n\nKeywords: tuples of partitions\n\nThis patch implements the following classes:\n\n* PartitionTuple          - returns a tuple of partitions\n* PartitionTuples         - factory class for all tuples of partitions\n* PartitionTuples_level   - class of all tuples of partition of a fixed level\n* PartitionTuples_size       - class of all tuples of partition of a fixed size\n* PartitionTuples_level_size - class of all tuples of partition of a fixed level and size. The first three of these are infinite enumerated classes whereas the last is finite. They all have iterators.\n\nThe idea is to implement a fully function class for PartitionTuples as I currently need this together with a class for tuples of (standard) tableaux (coming soon).\n\nPartitionTuples of level 1 are in natural bijection with Partitions so  when given a 1-tuple of partitions, or a partition, PartitionTuples() returns the corresponding Partition. This works almost seamlessly, making it possible to almost ignore the distinction between Partitions() and PartitionTuples(). One exception is that the expected behaviour of\n\n```\n     for component in mu: \n          do X\n```\n\nis different for partitions and partition tuples (in the first case, you expect to loop over the parts of the partition and in the second over the components of the tuple). To get around this both classes now have a components() method so that you can uniformly write\n\n```\nfor nu in mu.components():\n      do X\n```\nImprovements welcome!\n\nIn terms of implementation, for my use of these objects the `level` is more intrinsic than the size so I have set the syntax for the PartitionTuples classes as\n\n```\nPartitionTuples(level=l, n=n)\n```\n\nwhere `level` and `n` are both optional named arguments BUT level is specified first. Previously, `n` was given first and `level` second. I think that it makes much more sense this way around, but if people feel really strongly about this I will change it back. Previously, `level` was just called `k`, which is a fairly random variable whereas `level` makes sense in terms of categorification and higher level Fock spaces. (Replacing `n` with `size` would also be sensible but I didn't go there.)\n\n\n**Deprecations of old functions**:\nFinally, in addition to these new classes I have removed a bunch functions which were depreciated years ago and depreciated some more functions, as discussed on sage-combinat. I also reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).\n\nFor discussion about the functions being deprecated please see the following two discussions on sage-combinat:\n* [Implementation of partition tuples](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/NFNRYjqoouM)\n* [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) and [number_of_partitions](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/-8yTNjkCuW0)\n\nBelow is a summary of the above listed in order of what I think is decreasing controversy.\n\n1. A=sage.combinat.partition.number_of_partitions() is marked for deprecation in favour of B=sage.combinat.partitions.number_of_partitions(), which is what function A() calls most of the time. As agreed above, number_of_partitions() will stay in the global name space, but this made the deprecation somewhat fiddly as I did not want to deprecate number_of_partitions() for \"normal use\" because from the user perspective this function will not change. Instead, I have deprecated the individual options of number_of_partitions() so deprecation warnings are only generated when A() does NOT call B(). In the global namespace, number_of_partitions still points to A(). When the functions which are marked for deprecation below are removed, number_of_partitions() should be changed to point to B() and A() should be changed into a deprecated_function_alias to B(). See the patch for more details.\n\n2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to use a cached version of number_of_partitions() inside partition.py always. *As shown in the comments below, this leads to a dramatic speed-up.* \n\n    This probably should be **revisited** when Fredrik Johansson's patch #13199, which uses FLINT to implement a faster version of number_of_partitions, is merged into sage.\n\n3. The two functions\n    * cyclic_permutations_of_partition\n    * cyclic_permutations_of_partition_iterator\n    are deprecated in sage.combinat.partition and they have been moved to sage.combinat.set_partition and renamed ...._of_set_partition... As far as I can tell these functions are never used but, in any case, they are methods on set partitions rather than partitions. Nonetheless, they need to be deprecated from the global name space.\n\n4. The following functions were marked for deprecation several years ago so they have been removed from sage.combinat.partition.py:\n    * partitions_list\n    * number_of_partitions_list\n    * partitions_restricted\n    * number_of_partitions_restricted\n\n5. For the reasons given in #5478, RestrictedPartitions was also slated for removal but it was decided not to deprecate this class until Partitions() is able to process the appropriate combinations of keyword arguments. See #12278 and the comment by John Palmieri below for more details. Nicolas has suggested that one way of addressing this may be to refactor the partitions code so that it uses Florent's enumerated sets factories #10194.\n\n6. The following functions now give deprecation warnings and they are marked for removal from the global name space:\n    * partitions_set\n    * number_of_partitions_set\n    * ordered_partitions\n    * number_of_ordered_partitions\n    * partitions,\n    * ferrers_diagram\n    * partitions_greatest\n    * partitions_greatest_eq\n    * partitions_tuples\n    * number_of_partitions_tuples\n    * partition_power\n    \nIn all cases, these function are deprecated in favour of (methods in) parent classes.\n\n**Apply:** [attachment:trac_13072-tuples-of-partitions_am.patch]\n\nIssue created by migration from https://trac.sagemath.org/ticket/13072\n\n",
    "closed_at": "2012-11-01T12:04:22Z",
    "created_at": "2012-06-01T06:35:03Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.5",
    "title": "Implementation of PartitionTuple + some minor fixes to partition.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13072",
    "user": "https://github.com/AndrewAtLarge"
}
```
Assignee: Andrew Mathas

CC:  sage-combinat

Keywords: tuples of partitions

This patch implements the following classes:

* PartitionTuple          - returns a tuple of partitions
* PartitionTuples         - factory class for all tuples of partitions
* PartitionTuples_level   - class of all tuples of partition of a fixed level
* PartitionTuples_size       - class of all tuples of partition of a fixed size
* PartitionTuples_level_size - class of all tuples of partition of a fixed level and size. The first three of these are infinite enumerated classes whereas the last is finite. They all have iterators.

The idea is to implement a fully function class for PartitionTuples as I currently need this together with a class for tuples of (standard) tableaux (coming soon).

PartitionTuples of level 1 are in natural bijection with Partitions so  when given a 1-tuple of partitions, or a partition, PartitionTuples() returns the corresponding Partition. This works almost seamlessly, making it possible to almost ignore the distinction between Partitions() and PartitionTuples(). One exception is that the expected behaviour of

```
     for component in mu: 
          do X
```

is different for partitions and partition tuples (in the first case, you expect to loop over the parts of the partition and in the second over the components of the tuple). To get around this both classes now have a components() method so that you can uniformly write

```
for nu in mu.components():
      do X
```
Improvements welcome!

In terms of implementation, for my use of these objects the `level` is more intrinsic than the size so I have set the syntax for the PartitionTuples classes as

```
PartitionTuples(level=l, n=n)
```

where `level` and `n` are both optional named arguments BUT level is specified first. Previously, `n` was given first and `level` second. I think that it makes much more sense this way around, but if people feel really strongly about this I will change it back. Previously, `level` was just called `k`, which is a fairly random variable whereas `level` makes sense in terms of categorification and higher level Fock spaces. (Replacing `n` with `size` would also be sensible but I didn't go there.)


**Deprecations of old functions**:
Finally, in addition to these new classes I have removed a bunch functions which were depreciated years ago and depreciated some more functions, as discussed on sage-combinat. I also reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).

For discussion about the functions being deprecated please see the following two discussions on sage-combinat:
* [Implementation of partition tuples](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/NFNRYjqoouM)
* [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) and [number_of_partitions](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/-8yTNjkCuW0)

Below is a summary of the above listed in order of what I think is decreasing controversy.

1. A=sage.combinat.partition.number_of_partitions() is marked for deprecation in favour of B=sage.combinat.partitions.number_of_partitions(), which is what function A() calls most of the time. As agreed above, number_of_partitions() will stay in the global name space, but this made the deprecation somewhat fiddly as I did not want to deprecate number_of_partitions() for "normal use" because from the user perspective this function will not change. Instead, I have deprecated the individual options of number_of_partitions() so deprecation warnings are only generated when A() does NOT call B(). In the global namespace, number_of_partitions still points to A(). When the functions which are marked for deprecation below are removed, number_of_partitions() should be changed to point to B() and A() should be changed into a deprecated_function_alias to B(). See the patch for more details.

2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to use a cached version of number_of_partitions() inside partition.py always. *As shown in the comments below, this leads to a dramatic speed-up.* 

    This probably should be **revisited** when Fredrik Johansson's patch #13199, which uses FLINT to implement a faster version of number_of_partitions, is merged into sage.

3. The two functions
    * cyclic_permutations_of_partition
    * cyclic_permutations_of_partition_iterator
    are deprecated in sage.combinat.partition and they have been moved to sage.combinat.set_partition and renamed ...._of_set_partition... As far as I can tell these functions are never used but, in any case, they are methods on set partitions rather than partitions. Nonetheless, they need to be deprecated from the global name space.

4. The following functions were marked for deprecation several years ago so they have been removed from sage.combinat.partition.py:
    * partitions_list
    * number_of_partitions_list
    * partitions_restricted
    * number_of_partitions_restricted

5. For the reasons given in #5478, RestrictedPartitions was also slated for removal but it was decided not to deprecate this class until Partitions() is able to process the appropriate combinations of keyword arguments. See #12278 and the comment by John Palmieri below for more details. Nicolas has suggested that one way of addressing this may be to refactor the partitions code so that it uses Florent's enumerated sets factories #10194.

6. The following functions now give deprecation warnings and they are marked for removal from the global name space:
    * partitions_set
    * number_of_partitions_set
    * ordered_partitions
    * number_of_ordered_partitions
    * partitions,
    * ferrers_diagram
    * partitions_greatest
    * partitions_greatest_eq
    * partitions_tuples
    * number_of_partitions_tuples
    * partition_power
    
In all cases, these function are deprecated in favour of (methods in) parent classes.

**Apply:** [attachment:trac_13072-tuples-of-partitions_am.patch]

Issue created by migration from https://trac.sagemath.org/ticket/13072





---

archive/issue_comments_155011.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-07-06T16:00:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155011",
    "user": "https://github.com/AndrewAtLarge"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_155012.json:
```json
{
    "body": "Should now apply cleanly to sage 5.2",
    "created_at": "2012-07-31T00:08:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155012",
    "user": "https://github.com/AndrewAtLarge"
}
```

Should now apply cleanly to sage 5.2



---

archive/issue_comments_155013.json:
```json
{
    "body": "Apply trac_13072-tuples-of-partitions_am.patch",
    "created_at": "2012-08-01T03:22:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155013",
    "user": "https://github.com/AndrewAtLarge"
}
```

Apply trac_13072-tuples-of-partitions_am.patch



---

archive/issue_comments_155014.json:
```json
{
    "body": "New version of patch which creates a new file partition_tuple.py which contains all of the partition_tuple code.",
    "created_at": "2012-08-03T10:34:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155014",
    "user": "https://github.com/AndrewAtLarge"
}
```

New version of patch which creates a new file partition_tuple.py which contains all of the partition_tuple code.



---

archive/issue_comments_155015.json:
```json
{
    "body": "For the patchbot:\n\nApply  trac_13072-tuples-of-partitions_am.patch",
    "created_at": "2012-08-14T13:05:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155015",
    "user": "https://github.com/AndrewAtLarge"
}
```

For the patchbot:

Apply  trac_13072-tuples-of-partitions_am.patch



---

archive/issue_comments_155016.json:
```json
{
    "body": "For the patchbot:\n\nApply trac_13072-tuples-of-partitions_am.patch",
    "created_at": "2012-08-29T04:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155016",
    "user": "https://github.com/AndrewAtLarge"
}
```

For the patchbot:

Apply trac_13072-tuples-of-partitions_am.patch



---

archive/issue_comments_155017.json:
```json
{
    "body": "The following timings show that there is a dramatic speed-up when number_of_partitions is cached:\n\n**With caching**:\n\n```\nsage: %timeit [Partitions(n).random_element() for n in range(100)]\n25 loops, best of 3: 25 ms per loop\nsage: %timeit [Partitions(n).random_element() for n in range(100)]\n25 loops, best of 3: 24.6 ms per loop\nsage: %timeit [Partitions(n).random_element() for n in range(100)]\n25 loops, best of 3: 25.4 ms per loop\n```\n\n**Without caching**:\n\n```\nsage: %timeit [Partitions(n).random_element() for n in range(100)]\n5 loops, best of 3: 1.23 s per loop\nsage: %timeit [Partitions(n).random_element() for n in range(100)]\n5 loops, best of 3: 1.23 s per loop\nsage: %timeit [Partitions(n).random_element() for n in range(100)]\n5 loops, best of 3: 1.26 s per loop\n```",
    "created_at": "2012-08-29T12:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155017",
    "user": "https://github.com/AndrewAtLarge"
}
```

The following timings show that there is a dramatic speed-up when number_of_partitions is cached:

**With caching**:

```
sage: %timeit [Partitions(n).random_element() for n in range(100)]
25 loops, best of 3: 25 ms per loop
sage: %timeit [Partitions(n).random_element() for n in range(100)]
25 loops, best of 3: 24.6 ms per loop
sage: %timeit [Partitions(n).random_element() for n in range(100)]
25 loops, best of 3: 25.4 ms per loop
```

**Without caching**:

```
sage: %timeit [Partitions(n).random_element() for n in range(100)]
5 loops, best of 3: 1.23 s per loop
sage: %timeit [Partitions(n).random_element() for n in range(100)]
5 loops, best of 3: 1.23 s per loop
sage: %timeit [Partitions(n).random_element() for n in range(100)]
5 loops, best of 3: 1.26 s per loop
```



---

archive/issue_comments_155018.json:
```json
{
    "body": "Regarding `RestrictedPartitions`: see #12278. Should it be deprecated at all? In particular, what's the replacement for something like `RestrictedPartitions(5,[3,2,1], 3)`? The best I can come up with is\n\n```\n[p for p in Partitions(5, parts_in=[3,2,1]) if len(p) == 3]\n```\nbut surely this isn't ideal.",
    "created_at": "2012-08-29T19:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155018",
    "user": "https://github.com/jhpalmieri"
}
```

Regarding `RestrictedPartitions`: see #12278. Should it be deprecated at all? In particular, what's the replacement for something like `RestrictedPartitions(5,[3,2,1], 3)`? The best I can come up with is

```
[p for p in Partitions(5, parts_in=[3,2,1]) if len(p) == 3]
```
but surely this isn't ideal.



---

archive/issue_comments_155019.json:
```json
{
    "body": "For the patchbot:\n\nApply trac_13072-tuples-of-partitions_am.patch",
    "created_at": "2012-08-31T05:26:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155019",
    "user": "https://github.com/AndrewAtLarge"
}
```

For the patchbot:

Apply trac_13072-tuples-of-partitions_am.patch



---

archive/issue_comments_155020.json:
```json
{
    "body": "For the patchbot:\n\nApply trac_13072-tuples-of-partitions_am.patch",
    "created_at": "2012-10-08T03:34:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155020",
    "user": "https://github.com/AndrewAtLarge"
}
```

For the patchbot:

Apply trac_13072-tuples-of-partitions_am.patch



---

archive/issue_comments_155021.json:
```json
{
    "body": "Replying to [comment:16 jhpalmieri]:\n> Regarding `RestrictedPartitions`: see #12278. Should it be deprecated at all? In particular, what's the replacement for something like `RestrictedPartitions(5,[3,2,1], 3)`? The best I can come up with is\n> \n> ```\n> [p for p in Partitions(5, parts_in=[3,2,1]) if len(p) == 3]\n> ```\n> but surely this isn't ideal.\n\nThis was discussed in detail on sage-combinat, eventually leading to point #5 in the blurb for this ticket.",
    "created_at": "2012-10-08T12:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155021",
    "user": "https://github.com/AndrewAtLarge"
}
```

Replying to [comment:16 jhpalmieri]:
> Regarding `RestrictedPartitions`: see #12278. Should it be deprecated at all? In particular, what's the replacement for something like `RestrictedPartitions(5,[3,2,1], 3)`? The best I can come up with is
> 
> ```
> [p for p in Partitions(5, parts_in=[3,2,1]) if len(p) == 3]
> ```
> but surely this isn't ideal.

This was discussed in detail on sage-combinat, eventually leading to point #5 in the blurb for this ticket.



---

archive/issue_comments_155022.json:
```json
{
    "body": "Looks good. I've added #11446 as a dependency since this is based respect to #11446 and it's dependency #11442 (both slightly modify `partition.py` as well).",
    "created_at": "2012-10-08T21:55:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155022",
    "user": "https://github.com/tscrim"
}
```

Looks good. I've added #11446 as a dependency since this is based respect to #11446 and it's dependency #11442 (both slightly modify `partition.py` as well).



---

archive/issue_comments_155023.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-10-08T21:55:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155023",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_155024.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-10-08T22:30:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155024",
    "user": "https://github.com/hivert"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_155025.json:
```json
{
    "body": "Hi Andrew and Travis,\n\nThanks both for your work. I'm hate to switch back to needs works but looking at the compiled doc, I see various small problems which should be fixed. Here are some of them:\n\n- Don't indent bulleted list. It adds an extra uneeded indentation (see e.g. REFERENCE vs AUTHORS in the module class;\n\n- There is a proper markup for references (see developper guide);\n\n- In the doc of the class `PartitionTuple`, there is a miss indentation between `INPUT` and `EXAMPLES:`\n\n- in the doc of `Garnir_tableau` please write ```self``` ```cell```, ```FALSE``` ... (verbatim set-up) but don't forget single back-quote for ``(k,a+1,c)`` (latex set-up) and similar. The hyperlink in SEE ALSO are missing\n\n- There is a proper markup for linking to trac ticket eg: `:trac:`13123``\n\n- There is a typo in \"The Garnir tableau are the \u201cfirst\u201d non-standard tableaux which arise when you at by simple transpositions.\"\n\nSorry for being picky for the doc. If it wasn't so late et France, I would have written a review patch. \n\nFor Travis: please check the compiled doc when your are reviewing a patch. You can refer to `http://wiki.sagemath.org/ReviewChecklist`.\n\nCheers,\n\nFlorent",
    "created_at": "2012-10-08T22:30:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155025",
    "user": "https://github.com/hivert"
}
```

Hi Andrew and Travis,

Thanks both for your work. I'm hate to switch back to needs works but looking at the compiled doc, I see various small problems which should be fixed. Here are some of them:

- Don't indent bulleted list. It adds an extra uneeded indentation (see e.g. REFERENCE vs AUTHORS in the module class;

- There is a proper markup for references (see developper guide);

- In the doc of the class `PartitionTuple`, there is a miss indentation between `INPUT` and `EXAMPLES:`

- in the doc of `Garnir_tableau` please write ```self``` ```cell```, ```FALSE``` ... (verbatim set-up) but don't forget single back-quote for ``(k,a+1,c)`` (latex set-up) and similar. The hyperlink in SEE ALSO are missing

- There is a proper markup for linking to trac ticket eg: `:trac:`13123``

- There is a typo in "The Garnir tableau are the “first” non-standard tableaux which arise when you at by simple transpositions."

Sorry for being picky for the doc. If it wasn't so late et France, I would have written a review patch. 

For Travis: please check the compiled doc when your are reviewing a patch. You can refer to `http://wiki.sagemath.org/ReviewChecklist`.

Cheers,

Florent



---

archive/issue_comments_155026.json:
```json
{
    "body": "Hi Florent,\n\nThanks for the specific comments about what needs to be fixed. I'll go through and fix these.\n\n> For Travis: please check the compiled doc when your are reviewing a patch. You can refer to `http://wiki.sagemath.org/ReviewChecklist`.\n\n\nActually, Travis has already spent a large amount of time fixing my doc strings, so there would be many more problems without the large amount of time that he has already spent on this.\n\nAndrew",
    "created_at": "2012-10-08T22:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155026",
    "user": "https://github.com/AndrewAtLarge"
}
```

Hi Florent,

Thanks for the specific comments about what needs to be fixed. I'll go through and fix these.

> For Travis: please check the compiled doc when your are reviewing a patch. You can refer to `http://wiki.sagemath.org/ReviewChecklist`.


Actually, Travis has already spent a large amount of time fixing my doc strings, so there would be many more problems without the large amount of time that he has already spent on this.

Andrew



---

archive/issue_comments_155027.json:
```json
{
    "body": "Hi Florent,\n\nI think that the revised patch fixes all of the problems that you highlighted -- well, except for the Garnir tableaux issues which are in #13074.\n\nCheers,\nAndrew",
    "created_at": "2012-10-08T23:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155027",
    "user": "https://github.com/AndrewAtLarge"
}
```

Hi Florent,

I think that the revised patch fixes all of the problems that you highlighted -- well, except for the Garnir tableaux issues which are in #13074.

Cheers,
Andrew



---

archive/issue_comments_155028.json:
```json
{
    "body": "Hi Andrew,\n\nReplying to [comment:27 andrew.mathas]:\n> Actually, Travis has already spent a large amount of time fixing my doc strings, so there would be many more problems without the large amount of time that he has already spent on this.\n\n\nSorry, I you feel I'm being rude. It wasn't my intend. However, I've no chance to know that since there is no record of his work on this ticket. Even when the review is done offline, it is good to keep a (not necessarily detailed) trace of what has been done on the ticket, if only to give proper credit.\n\nCheers,\n\nFlorent\n\nPS: Unfortunately, I've no time to answer your comment on #13074, right now (run to catch a train + teaching).",
    "created_at": "2012-10-09T05:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155028",
    "user": "https://github.com/hivert"
}
```

Hi Andrew,

Replying to [comment:27 andrew.mathas]:
> Actually, Travis has already spent a large amount of time fixing my doc strings, so there would be many more problems without the large amount of time that he has already spent on this.


Sorry, I you feel I'm being rude. It wasn't my intend. However, I've no chance to know that since there is no record of his work on this ticket. Even when the review is done offline, it is good to keep a (not necessarily detailed) trace of what has been done on the ticket, if only to give proper credit.

Cheers,

Florent

PS: Unfortunately, I've no time to answer your comment on #13074, right now (run to catch a train + teaching).



---

archive/issue_comments_155029.json:
```json
{
    "body": "Hi Florent,\n\nNo, no, that's OK. I just wanted to acknowledge that Travis has done a lot of work on the documentation and that any errors that remained were mine and mine alone. I appreciate your looking at the patch and trying to improve it. \n\nI have mostly sorted out the doc string problems in these two patches but there are till one or two that remain. If there is any trick to working out where the errors appear in the code from the rest errors messages please let me know when you have the time as currently I am doing pseudo random searches.\n\nThanks again,\nAndrew",
    "created_at": "2012-10-09T08:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155029",
    "user": "https://github.com/AndrewAtLarge"
}
```

Hi Florent,

No, no, that's OK. I just wanted to acknowledge that Travis has done a lot of work on the documentation and that any errors that remained were mine and mine alone. I appreciate your looking at the patch and trying to improve it. 

I have mostly sorted out the doc string problems in these two patches but there are till one or two that remain. If there is any trick to working out where the errors appear in the code from the rest errors messages please let me know when you have the time as currently I am doing pseudo random searches.

Thanks again,
Andrew



---

archive/issue_comments_155030.json:
```json
{
    "body": "I think that all of the doc string issues really are fixed now.",
    "created_at": "2012-10-09T13:18:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155030",
    "user": "https://github.com/AndrewAtLarge"
}
```

I think that all of the doc string issues really are fixed now.



---

archive/issue_comments_155031.json:
```json
{
    "body": "Florent,\n\nThank you for catching these docstring problems. I appreciate you begin picky about the docs. I didn't know about the indentation of the bullet lists, and I did miss that indentation of EXAMPLES:: block in the compiled doc.\n\nAndrew,\n\nA few more minor issues.\n- I believe this line (line 263 in `partition_tuple.py`) has a comma misplaced:\n\n```\nWhen these algebras are not semisimple partition, tuples index...\n```\n- In `partition_tuple.hook_length()` it should be `coordinates of the form `(k,r,c)``\n- In `partition.random_element()`, the inputs `uniform` and `Plancherel` should be indented one more since they are the types of inputs for `measure`.",
    "created_at": "2012-10-09T15:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155031",
    "user": "https://github.com/tscrim"
}
```

Florent,

Thank you for catching these docstring problems. I appreciate you begin picky about the docs. I didn't know about the indentation of the bullet lists, and I did miss that indentation of EXAMPLES:: block in the compiled doc.

Andrew,

A few more minor issues.
- I believe this line (line 263 in `partition_tuple.py`) has a comma misplaced:

```
When these algebras are not semisimple partition, tuples index...
```
- In `partition_tuple.hook_length()` it should be `coordinates of the form `(k,r,c)``
- In `partition.random_element()`, the inputs `uniform` and `Plancherel` should be indented one more since they are the types of inputs for `measure`.



---

archive/issue_comments_155032.json:
```json
{
    "body": "Hi Travis,\n\nI have uploaded a new version of the patch which fixes the errant comma and the indentation in random_element but I think that the ```(k,r,c)``` in the hook_length function is correct because k,r and c are arguments to this function. Of course, it would be more correct to write `(``k``,``r``,``c``)` but ReST complains about this. I guess that `(``k``, ``r``, ``c``)` might be OK, although I suspect that it will want a few more spaces like `( ``k`` , ``r`` , ``c`` )` to be legal syntax. I prefer using ```(k,r,c)``` as these three integers together comprise a cell which is really a \"single\" variable... Let me know if you disagree.\n\nCheers,\nAndrew",
    "created_at": "2012-10-10T03:23:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155032",
    "user": "https://github.com/AndrewAtLarge"
}
```

Hi Travis,

I have uploaded a new version of the patch which fixes the errant comma and the indentation in random_element but I think that the ```(k,r,c)``` in the hook_length function is correct because k,r and c are arguments to this function. Of course, it would be more correct to write `(``k``,``r``,``c``)` but ReST complains about this. I guess that `(``k``, ``r``, ``c``)` might be OK, although I suspect that it will want a few more spaces like `( ``k`` , ``r`` , ``c`` )` to be legal syntax. I prefer using ```(k,r,c)``` as these three integers together comprise a cell which is really a "single" variable... Let me know if you disagree.

Cheers,
Andrew



---

archive/issue_comments_155033.json:
```json
{
    "body": "Hey Andrew,\n\nYes, it should be ```(k,r,c)``` but right now it is ```(r,c)```. Although on further thought, it might be better to move the note about 0-based (and adding ```k```) and the python *-operator to the header. That way it covers all of the similar functions.\n\nThanks,\nTravis",
    "created_at": "2012-10-10T15:15:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155033",
    "user": "https://github.com/tscrim"
}
```

Hey Andrew,

Yes, it should be ```(k,r,c)``` but right now it is ```(r,c)```. Although on further thought, it might be better to move the note about 0-based (and adding ```k```) and the python *-operator to the header. That way it covers all of the similar functions.

Thanks,
Travis



---

archive/issue_comments_155034.json:
```json
{
    "body": "Thanks Travis, you are right of course. I've updated the patch.\n\nAndrew\n\n--\n\nFor the patchbot:\n\nApply trac_13072-tuples-of-partitions_am.patch",
    "created_at": "2012-10-12T03:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155034",
    "user": "https://github.com/AndrewAtLarge"
}
```

Thanks Travis, you are right of course. I've updated the patch.

Andrew

--

For the patchbot:

Apply trac_13072-tuples-of-partitions_am.patch



---

archive/issue_comments_155035.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-10-12T04:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155035",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_155036.json:
```json
{
    "body": "Thanks Andrew! Looks good. I like the notes.",
    "created_at": "2012-10-12T04:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155036",
    "user": "https://github.com/tscrim"
}
```

Thanks Andrew! Looks good. I like the notes.



---

archive/issue_events_035901.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-12T14:10:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "milestone": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13072#event-35901"
}
```



---

archive/issue_comments_155037.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-10-13T21:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155037",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_155038.json:
```json
{
    "body": "```\nsage -t  -force_lib devel/sage/sage/structure/sage_object.pyx\n**********************************************************************\nFile \"/release/merger/sage-5.5.beta0/devel/sage-main/sage/structure/sage_object.pyx\", line 1114:\n    sage: sage.structure.sage_object.unpickle_all()  # (4s on sage.math, 2011)\nExpected:\n    doctest:... DeprecationWarning: This class is replaced by Matrix_modn_dense_float/Matrix_modn_dense_double.\n    See http://trac.sagemath.org/4260 for details.\n    Successfully unpickled ... objects.\n    Failed to unpickle 0 objects.\nGot:\n     * unpickle failure: load('/release/merger/sage-5.5.beta0/home/.sage/tmp/sage.math.washington.edu/5737/dir_i3wI40//pickle_jar/_class__sage_combinat_partition_PartitionTuples_nk__.sobj')\n    doctest:1172: DeprecationWarning: This class is replaced by Matrix_modn_dense_float/Matrix_modn_dense_double.\n    See http://trac.sagemath.org/4260 for details.\n    Failed:\n    _class__sage_combinat_partition_PartitionTuples_nk__.sobj\n    Successfully unpickled 593 objects.\n    Failed to unpickle 1 objects.\n**********************************************************************\n```",
    "created_at": "2012-10-13T21:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155038",
    "user": "https://github.com/jdemeyer"
}
```

```
sage -t  -force_lib devel/sage/sage/structure/sage_object.pyx
**********************************************************************
File "/release/merger/sage-5.5.beta0/devel/sage-main/sage/structure/sage_object.pyx", line 1114:
    sage: sage.structure.sage_object.unpickle_all()  # (4s on sage.math, 2011)
Expected:
    doctest:... DeprecationWarning: This class is replaced by Matrix_modn_dense_float/Matrix_modn_dense_double.
    See http://trac.sagemath.org/4260 for details.
    Successfully unpickled ... objects.
    Failed to unpickle 0 objects.
Got:
     * unpickle failure: load('/release/merger/sage-5.5.beta0/home/.sage/tmp/sage.math.washington.edu/5737/dir_i3wI40//pickle_jar/_class__sage_combinat_partition_PartitionTuples_nk__.sobj')
    doctest:1172: DeprecationWarning: This class is replaced by Matrix_modn_dense_float/Matrix_modn_dense_double.
    See http://trac.sagemath.org/4260 for details.
    Failed:
    _class__sage_combinat_partition_PartitionTuples_nk__.sobj
    Successfully unpickled 593 objects.
    Failed to unpickle 1 objects.
**********************************************************************
```



---

archive/issue_comments_155039.json:
```json
{
    "body": "```\nsage -t  --long -force_lib devel/sage/sage/combinat/partition.py\n**********************************************************************\nFile \"/release/merger/sage-5.5.beta0/devel/sage-main/sage/combinat/partition.py\", line 434:\n    sage: all(test2(core,tuple(mus))  # long time (5s on sage.math, 2011)\n          for k in range(Integer(1),Integer(10))\n          for n_core in range(Integer(10)-k)\n          for core in Partitions(n_core)\n          if core.core(k) == core\n          for n_mus in range(Integer(10)-k)\n          for mus in PartitionTuples(n_mus,k))\nException raised:\n    Traceback (most recent call last):\n      File \"/release/merger/sage-5.5.beta0/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/release/merger/sage-5.5.beta0/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/release/merger/sage-5.5.beta0/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_5[6]>\", line 2, in <module>\n        for k in range(Integer(1),Integer(10))\n      File \"<doctest __main__.example_5[6]>\", line 7, in <genexpr>\n        for mus in PartitionTuples(n_mus,k))\n      File \"classcall_metaclass.pyx\", line 279, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclas\ns.c:946)\n      File \"/release/merger/sage-5.5.beta0/local/lib/python/site-packages/sage/combinat/partition_tuple.py\", line 1059, in __classcall_pri\nvate__\n        raise ValueError, 'the level must be a positive integer'\n    ValueError: the level must be a positive integer\n**********************************************************************\n```",
    "created_at": "2012-10-13T21:38:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155039",
    "user": "https://github.com/jdemeyer"
}
```

```
sage -t  --long -force_lib devel/sage/sage/combinat/partition.py
**********************************************************************
File "/release/merger/sage-5.5.beta0/devel/sage-main/sage/combinat/partition.py", line 434:
    sage: all(test2(core,tuple(mus))  # long time (5s on sage.math, 2011)
          for k in range(Integer(1),Integer(10))
          for n_core in range(Integer(10)-k)
          for core in Partitions(n_core)
          if core.core(k) == core
          for n_mus in range(Integer(10)-k)
          for mus in PartitionTuples(n_mus,k))
Exception raised:
    Traceback (most recent call last):
      File "/release/merger/sage-5.5.beta0/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/release/merger/sage-5.5.beta0/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/release/merger/sage-5.5.beta0/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_5[6]>", line 2, in <module>
        for k in range(Integer(1),Integer(10))
      File "<doctest __main__.example_5[6]>", line 7, in <genexpr>
        for mus in PartitionTuples(n_mus,k))
      File "classcall_metaclass.pyx", line 279, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclas
s.c:946)
      File "/release/merger/sage-5.5.beta0/local/lib/python/site-packages/sage/combinat/partition_tuple.py", line 1059, in __classcall_pri
vate__
        raise ValueError, 'the level must be a positive integer'
    ValueError: the level must be a positive integer
**********************************************************************
```



---

archive/issue_comments_155040.json:
```json
{
    "body": "Hi Jeroen,\n\nPerhaps I am confused, but most of these pickles shouldn't exist any more as they should have been removed by the new pickle jar attached to #9265. Specifically, the pickles\n\n  _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_n!__   .sobj')\n   _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_nmu!__   .sobj')\n   _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_p!__   .sobj')\n   _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_pmu!__   .sobj')\n   _class!__   sage_combinat_skew_tableau_StandardSkewTableaux_n!__   .sobj')\n   _class!__   sage_combinat_tableau_SemistandardTableaux_n!__   .sobj')\n   _class!__   sage_combinat_tableau_SemistandardTableaux_nmu!__   .sobj')\n   _class!__   sage_combinat_tableau_SemistandardTableaux_p!__   .sobj')\n   _class!__   sage_combinat_tableau_SemistandardTableaux_pmu!__   .sobj')\n   _class!__   sage_combinat_tableau_StandardTableaux_n!__   .sobj')\n   _class!__   sage_combinat_tableau_StandardTableaux_partition!__   .sobj')\n   _class!__   sage_combinat_tableau_Tableau_class!__   .sobj')\n   _class!__   sage_combinat_tableau_Tableaux_n!__   .sobj')\n\nshouldn't be there having been replaced with new improved pickles with slightly more informative names (for example, _n_ -->  _size_, _p_ --> _shape_ etc.).  The pickle\n\n  _class!__  sage_combinat_partition_PartitionTuples_nk!__  .sobj\n\nI agree is mine to fix but I am also not entirely convinced that the first three pickles are caused by this patch, that is the following pickles:\n\n  class!__  sage_combinat_crystals_affine_AffineCrystalFromClassicalAndPromotion_with_category_element_class!__  .sobj')\n  class!__  sage_combinat_crystals_tensor_product_CrystalOfTableaux_with_category_element_class!__  .sobj')\n  class!__  sage_combinat_crystals_tensor_product_TensorProductOfCrystalsWithGenerators_with_category!__  .sobj')\n\nas I think that I might have also created new pickles for these in #9265. I am, of course, happy to rebuild them just in case.\n\nCan you please confirm that the pickle_jar was updated as per the attachment for #9265. The mistake is quite probably mine as I assumed that the whole pickle jar would be replaced whereas if you just added in the new pickles then you would not have been aware that some of the old pickles needed to be deleted (although presumably it would not have been possible to unpickle them...??). If there is any documentation on updating the pickle jar please let me know.\n\nPlease advise.\n\nCheers,\n\nAndrew\n",
    "created_at": "2012-10-14T13:44:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155040",
    "user": "https://github.com/AndrewAtLarge"
}
```

Hi Jeroen,

Perhaps I am confused, but most of these pickles shouldn't exist any more as they should have been removed by the new pickle jar attached to #9265. Specifically, the pickles

  _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_n!__   .sobj')
   _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_nmu!__   .sobj')
   _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_p!__   .sobj')
   _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_pmu!__   .sobj')
   _class!__   sage_combinat_skew_tableau_StandardSkewTableaux_n!__   .sobj')
   _class!__   sage_combinat_tableau_SemistandardTableaux_n!__   .sobj')
   _class!__   sage_combinat_tableau_SemistandardTableaux_nmu!__   .sobj')
   _class!__   sage_combinat_tableau_SemistandardTableaux_p!__   .sobj')
   _class!__   sage_combinat_tableau_SemistandardTableaux_pmu!__   .sobj')
   _class!__   sage_combinat_tableau_StandardTableaux_n!__   .sobj')
   _class!__   sage_combinat_tableau_StandardTableaux_partition!__   .sobj')
   _class!__   sage_combinat_tableau_Tableau_class!__   .sobj')
   _class!__   sage_combinat_tableau_Tableaux_n!__   .sobj')

shouldn't be there having been replaced with new improved pickles with slightly more informative names (for example, _n_ -->  _size_, _p_ --> _shape_ etc.).  The pickle

  _class!__  sage_combinat_partition_PartitionTuples_nk!__  .sobj

I agree is mine to fix but I am also not entirely convinced that the first three pickles are caused by this patch, that is the following pickles:

  class!__  sage_combinat_crystals_affine_AffineCrystalFromClassicalAndPromotion_with_category_element_class!__  .sobj')
  class!__  sage_combinat_crystals_tensor_product_CrystalOfTableaux_with_category_element_class!__  .sobj')
  class!__  sage_combinat_crystals_tensor_product_TensorProductOfCrystalsWithGenerators_with_category!__  .sobj')

as I think that I might have also created new pickles for these in #9265. I am, of course, happy to rebuild them just in case.

Can you please confirm that the pickle_jar was updated as per the attachment for #9265. The mistake is quite probably mine as I assumed that the whole pickle jar would be replaced whereas if you just added in the new pickles then you would not have been aware that some of the old pickles needed to be deleted (although presumably it would not have been possible to unpickle them...??). If there is any documentation on updating the pickle jar please let me know.

Please advise.

Cheers,

Andrew




---

archive/issue_comments_155041.json:
```json
{
    "body": "Replying to [comment:41 andrew.mathas]:\n> Can you please confirm that the pickle_jar was updated as per the attachment for #9265.\n\nYes, certainly it was updated.",
    "created_at": "2012-10-15T08:03:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155041",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:41 andrew.mathas]:
> Can you please confirm that the pickle_jar was updated as per the attachment for #9265.

Yes, certainly it was updated.



---

archive/issue_comments_155042.json:
```json
{
    "body": "I don't quite understand what you're saying, since my failed test is only complaining about **one pickle**, namely\n\n```\n_class__sage_combinat_partition_PartitionTuples_nk__.sobj\n```",
    "created_at": "2012-10-15T08:05:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155042",
    "user": "https://github.com/jdemeyer"
}
```

I don't quite understand what you're saying, since my failed test is only complaining about **one pickle**, namely

```
_class__sage_combinat_partition_PartitionTuples_nk__.sobj
```



---

archive/issue_comments_155043.json:
```json
{
    "body": "Sorry, my mistake: I was testing on 5.3.\n\nA.",
    "created_at": "2012-10-15T09:08:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155043",
    "user": "https://github.com/AndrewAtLarge"
}
```

Sorry, my mistake: I was testing on 5.3.

A.



---

archive/issue_comments_155044.json:
```json
{
    "body": "OK, I have fixed the long-test problem. With the pickle it seems to me that the only way to fix the problem is to replace the bad\n\n```\nPartitionTuples_nk\n```\npickle in the pickle jar with a good one (and leave the other pickles untouched) as the underlying class has changed too much (vbraun posted a comment on #9265 suggesting that I should use `register_unpickle_override instead but I tried experimenting with this and it doesn't seem to work).`\n\n\nJeroen can you please confirm that you are are happy for me to do this.\n\n",
    "created_at": "2012-10-15T13:29:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155044",
    "user": "https://github.com/AndrewAtLarge"
}
```

OK, I have fixed the long-test problem. With the pickle it seems to me that the only way to fix the problem is to replace the bad

```
PartitionTuples_nk
```
pickle in the pickle jar with a good one (and leave the other pickles untouched) as the underlying class has changed too much (vbraun posted a comment on #9265 suggesting that I should use `register_unpickle_override instead but I tried experimenting with this and it doesn't seem to work).`


Jeroen can you please confirm that you are are happy for me to do this.





---

archive/issue_comments_155045.json:
```json
{
    "body": "Replying to [comment:45 andrew.mathas]:\n> Jeroen can you please confirm that you are are happy for me to do this.\n\nGiven the comments of Volker Braun and Simon King, I cannot be happy with this.  No objects should be removed from the pickle jar.",
    "created_at": "2012-10-15T13:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155045",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:45 andrew.mathas]:
> Jeroen can you please confirm that you are are happy for me to do this.

Given the comments of Volker Braun and Simon King, I cannot be happy with this.  No objects should be removed from the pickle jar.



---

archive/issue_comments_155046.json:
```json
{
    "body": "Replying to [comment:46 jdemeyer]:\n> Replying to [comment:45 andrew.mathas]:\n> > Jeroen can you please confirm that you are are happy for me to do this.\n\n> Given the comments of Volker Braun and Simon King, I cannot be happy with this.  No objects should be removed from the pickle jar.\n\nJust my 2 cents: at this point, partition tuples are a rather peripheral feature. If anyone has saved some pickle containing one, most likely he is in the Sage-Combinat group. Well most likely it's Andrew actually. So I vote for not wasting Andrew's time and simply dropping backward compatibility in that particular situation. I am not taking much risk by volunteering to help whoever might have trouble with such an old pickle :-)\n\nOf course, the official procedure would be to run a poll; if you insist, we can do that on Sage-Combinat devel.",
    "created_at": "2012-10-15T13:53:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155046",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:46 jdemeyer]:
> Replying to [comment:45 andrew.mathas]:
> > Jeroen can you please confirm that you are are happy for me to do this.

> Given the comments of Volker Braun and Simon King, I cannot be happy with this.  No objects should be removed from the pickle jar.

Just my 2 cents: at this point, partition tuples are a rather peripheral feature. If anyone has saved some pickle containing one, most likely he is in the Sage-Combinat group. Well most likely it's Andrew actually. So I vote for not wasting Andrew's time and simply dropping backward compatibility in that particular situation. I am not taking much risk by volunteering to help whoever might have trouble with such an old pickle :-)

Of course, the official procedure would be to run a poll; if you insist, we can do that on Sage-Combinat devel.



---

archive/issue_comments_155047.json:
```json
{
    "body": "Nicolas, I started a thread on sage-devel about the pickle jar.",
    "created_at": "2012-10-15T14:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155047",
    "user": "https://github.com/jdemeyer"
}
```

Nicolas, I started a thread on sage-devel about the pickle jar.



---

archive/issue_comments_155048.json:
```json
{
    "body": "Unpickling works now.",
    "created_at": "2012-10-17T12:21:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155048",
    "user": "https://github.com/AndrewAtLarge"
}
```

Unpickling works now.



---

archive/issue_comments_155049.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-10-17T12:21:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155049",
    "user": "https://github.com/AndrewAtLarge"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_155050.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-10-19T22:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155050",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_155051.json:
```json
{
    "body": "Everything looks good to me (double checked the pickle jar and `sage_object.pyx`).",
    "created_at": "2012-10-19T22:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155051",
    "user": "https://github.com/tscrim"
}
```

Everything looks good to me (double checked the pickle jar and `sage_object.pyx`).



---

archive/issue_comments_155052.json:
```json
{
    "body": "Removing all whitespace everywhere is a bad idea, don't do it as it will lead to merge conflicts (unless it was approved by the sage-combinat group, then I take back my words).",
    "created_at": "2012-11-01T10:19:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155052",
    "user": "https://github.com/jdemeyer"
}
```

Removing all whitespace everywhere is a bad idea, don't do it as it will lead to merge conflicts (unless it was approved by the sage-combinat group, then I take back my words).



---

archive/issue_comments_155053.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-11-01T10:19:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155053",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_155054.json:
```json
{
    "body": "Replying to [comment:51 jdemeyer]:\n> Removing all whitespace everywhere is a bad idea, don't do it as it will lead to merge conflicts (unless it was approved by the sage-combinat group, then I take back my words).\n\n\nJeroen, I removed whitespaces added by the patch and then checked that the sage-combiat queue applied cleanly before pushing the patch both to the sage-combinat queue and back to trac. I did not remove all white space from the source files affected by this patch as, I agree, this would probably cause havoc with the queue. As all of the patches in the sage-combinat queue still apply cleanly I am putting this back to a positive review.",
    "created_at": "2012-11-01T11:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155054",
    "user": "https://github.com/AndrewAtLarge"
}
```

Replying to [comment:51 jdemeyer]:
> Removing all whitespace everywhere is a bad idea, don't do it as it will lead to merge conflicts (unless it was approved by the sage-combinat group, then I take back my words).


Jeroen, I removed whitespaces added by the patch and then checked that the sage-combiat queue applied cleanly before pushing the patch both to the sage-combinat queue and back to trac. I did not remove all white space from the source files affected by this patch as, I agree, this would probably cause havoc with the queue. As all of the patches in the sage-combinat queue still apply cleanly I am putting this back to a positive review.



---

archive/issue_comments_155055.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-11-01T11:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155055",
    "user": "https://github.com/AndrewAtLarge"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_155056.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-11-01T12:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155056",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_035902.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-01T12:04:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13072#event-35902"
}
```



---

archive/issue_comments_155057.json:
```json
{
    "body": "The new patch needs a proper commit message.",
    "created_at": "2012-11-01T12:08:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155057",
    "user": "https://github.com/jdemeyer"
}
```

The new patch needs a proper commit message.



---

archive/issue_comments_155058.json:
```json
{
    "body": "Adding proper commit message",
    "created_at": "2012-11-01T12:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13072#issuecomment-155058",
    "user": "https://github.com/AndrewAtLarge"
}
```

Adding proper commit message
