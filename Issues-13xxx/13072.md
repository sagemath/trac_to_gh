# Issue 13072: Implementation of PartitionTuple + some minor fixes to partition.py

archive/issues_012900.json:
```json
{
    "body": "This patch implements the following classes:\n\n* PartitionTuple          - returns a tuple of partitions\n* PartitionTuples         - factory class for all tuples of partitions\n* PartitionTuples_level   - class of all tuples of partition of a fixed level\n* PartitionTuples_size       - class of all tuples of partition of a fixed size\n* PartitionTuples_level_size - class of all tuples of partition of a fixed level and size. The first three of these are infinite enumerated classes whereas the last is finite. They all have iterators.\n\nThe idea is to implement a fully function class for PartitionTuples as I currently need this together with a class for tuples of (standard) tableaux (coming soon).\n\nPartitionTuples of level 1 are in natural bijection with Partitions so  when given a 1-tuple of partitions, or a partition, PartitionTuples() returns the corresponding Partition. This works almost seamlessly, making it possible to almost ignore the distinction between Partitions() and PartitionTuples(). One exception is that the expected behaviour of\n\n```\n     for component in mu: \n          do X\n```\n\nis different for partitions and partition tuples (in the first case, you expect to loop over the parts of the partition and in the second over the components of the tuple). To get around this both classes now have a components() method so that you can uniformly write\n\n```\nfor nu in mu.components():\n      do X\n```\nImprovements welcome!\n\nIn terms of implementation, for my use of these objects the `level` is more intrinsic than the size so I have set the syntax for the PartitionTuples classes as\n\n```\nPartitionTuples(level=l, n=n)\n```\n\nwhere `level` and `n` are both optional named arguments BUT level is specified first. Previously, `n` was given first and `level` second. I think that it makes much more sense this way around, but if people feel really strongly about this I will change it back. Previously, `level` was just called `k`, which is a fairly random variable whereas `level` makes sense in terms of categorification and higher level Fock spaces. (Replacing `n` with `size` would also be sensible but I didn't go there.)\n\n\n**Deprecations of old functions**:\nFinally, in addition to these new classes I have removed a bunch functions which were depreciated years ago and depreciated some more functions, as discussed on sage-combinat. I also reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).\n\nFor discussion about the functions being deprecated please see the following two discussions on sage-combinat:\n* [Implementation of partition tuples](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/NFNRYjqoouM)\n* [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) and [number_of_partitions](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/-8yTNjkCuW0)\n\nBelow is a summary of the above listed in order of what I think is decreasing controversy.\n\n1. A=sage.combinat.partition.number_of_partitions() is marked for deprecation in favour of B=sage.combinat.partitions.number_of_partitions(), which is what function A() calls most of the time. As agreed above, number_of_partitions() will stay in the global name space, but this made the deprecation somewhat fiddly as I did not want to deprecate number_of_partitions() for \"normal use\" because from the user perspective this function will not change. Instead, I have deprecated the individual options of number_of_partitions() so deprecation warnings are only generated when A() does NOT call B(). In the global namespace, number_of_partitions still points to A(). When the functions which are marked for deprecation below are removed, number_of_partitions() should be changed to point to B() and A() should be changed into a deprecated_function_alias to B(). See the patch for more details.\n\n2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to use a cached version of number_of_partitions() inside partition.py always. *As shown in the comments below, this leads to a dramatic speed-up.* \n\n    This probably should be **revisited** when Fredrik Johansson's patch #13199, which uses FLINT to implement a faster version of number_of_partitions, is merged into sage.\n\n3. The two functions\n    * cyclic_permutations_of_partition\n    * cyclic_permutations_of_partition_iterator\n    are deprecated in sage.combinat.partition and they have been moved to sage.combinat.set_partition and renamed ...._of_set_partition... As far as I can tell these functions are never used but, in any case, they are methods on set partitions rather than partitions. Nonetheless, they need to be deprecated from the global name space.\n\n4. The following functions were marked for deprecation several years ago so they have been removed from sage.combinat.partition.py:\n    * partitions_list\n    * number_of_partitions_list\n    * partitions_restricted\n    * number_of_partitions_restricted\n\n5. For the reasons given in #5478, RestrictedPartitions was also slated for removal but it was decided not to deprecate this class until Partitions() is able to process the appropriate combinations of keyword arguments. See #12278 and the comment by John Palmieri below for more details. Nicolas has suggested that one way of addressing this may be to refactor the partitions code so that it uses Florent's enumerated sets factories #10194.\n\n6. The following functions now give deprecation warnings and they are marked for removal from the global name space:\n    * partitions_set\n    * number_of_partitions_set\n    * ordered_partitions\n    * number_of_ordered_partitions\n    * partitions,\n    * ferrers_diagram\n    * partitions_greatest\n    * partitions_greatest_eq\n    * partitions_tuples\n    * number_of_partitions_tuples\n    * partition_power\n    \nIn all cases, these function are deprecated in favour of (methods in) parent classes.\n\n**Apply:** [attachment:trac_13072-tuples-of-partitions_am.patch]\n\nDepends on #9265\n\nDepends on #11446\n\n**Assignee:** Andrew Mathas\n\n**CC:**  sage-combinat\n\n**Keywords:** tuples of partitions\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Andrew Mathas\n\n**Merged:** sage-5.5.beta1\n\nIssue created by migration from https://trac.sagemath.org/ticket/13072\n\n",
    "closed_at": "2012-11-01T12:04:22Z",
    "created_at": "2012-06-01T06:35:03Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.5",
    "title": "Implementation of PartitionTuple + some minor fixes to partition.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/13072",
    "user": "https://github.com/AndrewAtLarge"
}
```
This patch implements the following classes:

* PartitionTuple          - returns a tuple of partitions
* PartitionTuples         - factory class for all tuples of partitions
* PartitionTuples_level   - class of all tuples of partition of a fixed level
* PartitionTuples_size       - class of all tuples of partition of a fixed size
* PartitionTuples_level_size - class of all tuples of partition of a fixed level and size. The first three of these are infinite enumerated classes whereas the last is finite. They all have iterators.

The idea is to implement a fully function class for PartitionTuples as I currently need this together with a class for tuples of (standard) tableaux (coming soon).

PartitionTuples of level 1 are in natural bijection with Partitions so  when given a 1-tuple of partitions, or a partition, PartitionTuples() returns the corresponding Partition. This works almost seamlessly, making it possible to almost ignore the distinction between Partitions() and PartitionTuples(). One exception is that the expected behaviour of

```
     for component in mu: 
          do X
```

is different for partitions and partition tuples (in the first case, you expect to loop over the parts of the partition and in the second over the components of the tuple). To get around this both classes now have a components() method so that you can uniformly write

```
for nu in mu.components():
      do X
```
Improvements welcome!

In terms of implementation, for my use of these objects the `level` is more intrinsic than the size so I have set the syntax for the PartitionTuples classes as

```
PartitionTuples(level=l, n=n)
```

where `level` and `n` are both optional named arguments BUT level is specified first. Previously, `n` was given first and `level` second. I think that it makes much more sense this way around, but if people feel really strongly about this I will change it back. Previously, `level` was just called `k`, which is a fairly random variable whereas `level` makes sense in terms of categorification and higher level Fock spaces. (Replacing `n` with `size` would also be sensible but I didn't go there.)


**Deprecations of old functions**:
Finally, in addition to these new classes I have removed a bunch functions which were depreciated years ago and depreciated some more functions, as discussed on sage-combinat. I also reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).

For discussion about the functions being deprecated please see the following two discussions on sage-combinat:
* [Implementation of partition tuples](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/NFNRYjqoouM)
* [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) and [number_of_partitions](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/-8yTNjkCuW0)

Below is a summary of the above listed in order of what I think is decreasing controversy.

1. A=sage.combinat.partition.number_of_partitions() is marked for deprecation in favour of B=sage.combinat.partitions.number_of_partitions(), which is what function A() calls most of the time. As agreed above, number_of_partitions() will stay in the global name space, but this made the deprecation somewhat fiddly as I did not want to deprecate number_of_partitions() for "normal use" because from the user perspective this function will not change. Instead, I have deprecated the individual options of number_of_partitions() so deprecation warnings are only generated when A() does NOT call B(). In the global namespace, number_of_partitions still points to A(). When the functions which are marked for deprecation below are removed, number_of_partitions() should be changed to point to B() and A() should be changed into a deprecated_function_alias to B(). See the patch for more details.

2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to use a cached version of number_of_partitions() inside partition.py always. *As shown in the comments below, this leads to a dramatic speed-up.* 

    This probably should be **revisited** when Fredrik Johansson's patch #13199, which uses FLINT to implement a faster version of number_of_partitions, is merged into sage.

3. The two functions
    * cyclic_permutations_of_partition
    * cyclic_permutations_of_partition_iterator
    are deprecated in sage.combinat.partition and they have been moved to sage.combinat.set_partition and renamed ...._of_set_partition... As far as I can tell these functions are never used but, in any case, they are methods on set partitions rather than partitions. Nonetheless, they need to be deprecated from the global name space.

4. The following functions were marked for deprecation several years ago so they have been removed from sage.combinat.partition.py:
    * partitions_list
    * number_of_partitions_list
    * partitions_restricted
    * number_of_partitions_restricted

5. For the reasons given in #5478, RestrictedPartitions was also slated for removal but it was decided not to deprecate this class until Partitions() is able to process the appropriate combinations of keyword arguments. See #12278 and the comment by John Palmieri below for more details. Nicolas has suggested that one way of addressing this may be to refactor the partitions code so that it uses Florent's enumerated sets factories #10194.

6. The following functions now give deprecation warnings and they are marked for removal from the global name space:
    * partitions_set
    * number_of_partitions_set
    * ordered_partitions
    * number_of_ordered_partitions
    * partitions,
    * ferrers_diagram
    * partitions_greatest
    * partitions_greatest_eq
    * partitions_tuples
    * number_of_partitions_tuples
    * partition_power
    
In all cases, these function are deprecated in favour of (methods in) parent classes.

**Apply:** [attachment:trac_13072-tuples-of-partitions_am.patch]

Depends on #9265

Depends on #11446

**Assignee:** Andrew Mathas

**CC:**  sage-combinat

**Keywords:** tuples of partitions

**Reviewer:** Travis Scrimshaw

**Author:** Andrew Mathas

**Merged:** sage-5.5.beta1

Issue created by migration from https://trac.sagemath.org/ticket/13072





---

archive/issue_events_109864.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2012-07-06T16:00:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109864"
}
```



---

archive/issue_comments_151219.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,23 +1,27 @@\n This patch implements the following classes:\n+\n * PartitionTuple          - returns a tuple of partitions\n * PartitionTuples         - factory class for all tuples of partitions\n * PartitionTuples_level   - class of all tuples of partition of a fixed level\n-* PartitionTuples_n       - class of all tuples of partition of a fixed size \n-* PartitionTuples_level_n - class of all tuples of partition of a fixed level and size. The first three of these are infinite enumerated classes whereas the last is finite. They all have iterators.\n+* PartitionTuples_size       - class of all tuples of partition of a fixed size\n+* PartitionTuples_level_size - class of all tuples of partition of a fixed level and size. The first three of these are infinite enumerated classes whereas the last is finite. They all have iterators.\n \n The idea is to implement a fully function class for PartitionTuples as I currently need this together with a class for tuples of (standard) tableaux (coming soon).\n \n-My initial intention was to consider Partitions() as PartitionTuples(), however, I found that this caused some minor issues because constructions like\n+PartitionTuples of level 1 are in natural bijection with Partitions so  when given a 1-tuple of partitions or a partition PartitionTuples() returns the corresponding Partition. This works almost seamlessly, making it possible to almost ignore the distinction between Partitions() and PartitionTuples(). One exception is that the expected behaviour of\n \n ```\n      for component in mu: \n           do X\n+\n ```\n-work differently for l-tuples of partitions when l=1 (partitions) and when l>1. If some one can see a nice way around this please let me know.\n+is different for partitions and partition tuples (in the first case, you expect to loop over the pars of the partition and in the second over the component of the tuple). To get around this both classes now have a components() method so that you can uniformly write\n \n-The patch currently fails some of the category tests called from TestSuite. I think that these failures are all caused by the fact the category is always set to \n-`Category of elements of Tuple of Partitions`\n-whereas the tests expect it to be set to category of the subclasses. There ought to be a simple fix to this but I have found it yet. Improvements welcome!\n+```\n+for nu in mu.components():\n+      do X\n+```\n+mprovements welcome!\n \n In terms of implementation, for my use of these objects the `level` is more intrinsic than the size so I have set the syntax for the PartitionTuples classes as\n \n@@ -26,7 +30,4 @@\n ```\n where `level` and `n` are both optional named arguments BUT level is specified first. Previously, `n` was given first and `level` second. I think that it makes much more sense this way around, but if people feel really strongly about this I will change it back. Previously, `level` was just called `k`, which is a fairly random variable whereas `level` makes sense in terms of categorification and higher level Fock spaces. (Replacing `n` with `size` would also be sensible but I didn't go there.)\n \n-Finally, in addition to these new classes I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).\n-\n-\n-\n+Finally, in addition to these new classes as discussed previously on sage-combinat I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).\n``````\n",
    "created_at": "2012-07-06T16:00:45Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151219",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,23 +1,27 @@
 This patch implements the following classes:
+
 * PartitionTuple          - returns a tuple of partitions
 * PartitionTuples         - factory class for all tuples of partitions
 * PartitionTuples_level   - class of all tuples of partition of a fixed level
-* PartitionTuples_n       - class of all tuples of partition of a fixed size 
-* PartitionTuples_level_n - class of all tuples of partition of a fixed level and size. The first three of these are infinite enumerated classes whereas the last is finite. They all have iterators.
+* PartitionTuples_size       - class of all tuples of partition of a fixed size
+* PartitionTuples_level_size - class of all tuples of partition of a fixed level and size. The first three of these are infinite enumerated classes whereas the last is finite. They all have iterators.
 
 The idea is to implement a fully function class for PartitionTuples as I currently need this together with a class for tuples of (standard) tableaux (coming soon).
 
-My initial intention was to consider Partitions() as PartitionTuples(), however, I found that this caused some minor issues because constructions like
+PartitionTuples of level 1 are in natural bijection with Partitions so  when given a 1-tuple of partitions or a partition PartitionTuples() returns the corresponding Partition. This works almost seamlessly, making it possible to almost ignore the distinction between Partitions() and PartitionTuples(). One exception is that the expected behaviour of
 
 ```
      for component in mu: 
           do X
+
 ```
-work differently for l-tuples of partitions when l=1 (partitions) and when l>1. If some one can see a nice way around this please let me know.
+is different for partitions and partition tuples (in the first case, you expect to loop over the pars of the partition and in the second over the component of the tuple). To get around this both classes now have a components() method so that you can uniformly write
 
-The patch currently fails some of the category tests called from TestSuite. I think that these failures are all caused by the fact the category is always set to 
-`Category of elements of Tuple of Partitions`
-whereas the tests expect it to be set to category of the subclasses. There ought to be a simple fix to this but I have found it yet. Improvements welcome!
+```
+for nu in mu.components():
+      do X
+```
+mprovements welcome!
 
 In terms of implementation, for my use of these objects the `level` is more intrinsic than the size so I have set the syntax for the PartitionTuples classes as
 
@@ -26,7 +30,4 @@
 ```
 where `level` and `n` are both optional named arguments BUT level is specified first. Previously, `n` was given first and `level` second. I think that it makes much more sense this way around, but if people feel really strongly about this I will change it back. Previously, `level` was just called `k`, which is a fairly random variable whereas `level` makes sense in terms of categorification and higher level Fock spaces. (Replacing `n` with `size` would also be sensible but I didn't go there.)
 
-Finally, in addition to these new classes I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).
-
-
-
+Finally, in addition to these new classes as discussed previously on sage-combinat I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).
``````




---

archive/issue_comments_151220.json:
```json
{
    "body": "**Changing work_issues** from \"Some category tests currently fails.\" to \"\".",
    "created_at": "2012-07-16T02:32:02Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151220",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Changing work_issues** from "Some category tests currently fails." to "".



---

archive/issue_comments_151221.json:
```json
{
    "body": "**Changing dependencies** from \"NA\" to \"#9265\".",
    "created_at": "2012-07-31T00:08:04Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151221",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Changing dependencies** from "NA" to "#9265".



---

archive/issue_events_109865.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2012-07-31T00:08:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "minor",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109865"
}
```



---

archive/issue_comments_151222.json:
```json
{
    "body": "<a id='comment:3'></a>\nShould now apply cleanly to sage 5.2",
    "created_at": "2012-07-31T00:08:04Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151222",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:3'></a>
Should now apply cleanly to sage 5.2



---

archive/issue_comments_151223.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -31,3 +31,6 @@\n where `level` and `n` are both optional named arguments BUT level is specified first. Previously, `n` was given first and `level` second. I think that it makes much more sense this way around, but if people feel really strongly about this I will change it back. Previously, `level` was just called `k`, which is a fairly random variable whereas `level` makes sense in terms of categorification and higher level Fock spaces. (Replacing `n` with `size` would also be sensible but I didn't go there.)\n \n Finally, in addition to these new classes as discussed previously on sage-combinat I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).\n+\n+\n+**Apply:** [attachment:trac_13072-tuples-of-partitions_am.patch]\n``````\n",
    "created_at": "2012-07-31T00:08:04Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151223",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -31,3 +31,6 @@
 where `level` and `n` are both optional named arguments BUT level is specified first. Previously, `n` was given first and `level` second. I think that it makes much more sense this way around, but if people feel really strongly about this I will change it back. Previously, `level` was just called `k`, which is a fairly random variable whereas `level` makes sense in terms of categorification and higher level Fock spaces. (Replacing `n` with `size` would also be sensible but I didn't go there.)
 
 Finally, in addition to these new classes as discussed previously on sage-combinat I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).
+
+
+**Apply:** [attachment:trac_13072-tuples-of-partitions_am.patch]
``````




---

archive/issue_comments_151224.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -33,4 +33,4 @@\n Finally, in addition to these new classes as discussed previously on sage-combinat I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).\n \n \n-**Apply:** [attachment:trac_13072-tuples-of-partitions_am.patch]\n+Apply: trac_13072-tuples-of-partitions_am.patch\n``````\n",
    "created_at": "2012-08-01T03:03:54Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151224",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -33,4 +33,4 @@
 Finally, in addition to these new classes as discussed previously on sage-combinat I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).
 
 
-**Apply:** [attachment:trac_13072-tuples-of-partitions_am.patch]
+Apply: trac_13072-tuples-of-partitions_am.patch
``````




---

archive/issue_comments_151225.json:
```json
{
    "body": "<a id='comment:5'></a>\nApply trac_13072-tuples-of-partitions_am.patch",
    "created_at": "2012-08-01T03:22:33Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151225",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:5'></a>
Apply trac_13072-tuples-of-partitions_am.patch



---

archive/issue_comments_151226.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -33,4 +33,5 @@\n Finally, in addition to these new classes as discussed previously on sage-combinat I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).\n \n \n-Apply: trac_13072-tuples-of-partitions_am.patch\n+\n+**Apply:** [attachment:trac_13072-tuples-of-tableaux-am.patch]\n``````\n",
    "created_at": "2012-08-01T03:25:28Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151226",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -33,4 +33,5 @@
 Finally, in addition to these new classes as discussed previously on sage-combinat I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).
 
 
-Apply: trac_13072-tuples-of-partitions_am.patch
+
+**Apply:** [attachment:trac_13072-tuples-of-tableaux-am.patch]
``````




---

archive/issue_comments_151227.json:
```json
{
    "body": "<a id='comment:7'></a>\nNew version of patch which creates a new file partition_tuple.py which contains all of the partition_tuple code.",
    "created_at": "2012-08-03T10:34:50Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151227",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:7'></a>
New version of patch which creates a new file partition_tuple.py which contains all of the partition_tuple code.



---

archive/issue_comments_151228.json:
```json
{
    "body": "<a id='comment:8'></a>\nFor the patchbot:\n\nApply  trac_13072-tuples-of-partitions_am.patch",
    "created_at": "2012-08-14T13:05:30Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151228",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:8'></a>
For the patchbot:

Apply  trac_13072-tuples-of-partitions_am.patch



---

archive/issue_comments_151229.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2012-08-24T19:36:47Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151229",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_151230.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -32,6 +32,10 @@\n \n Finally, in addition to these new classes as discussed previously on sage-combinat I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).\n \n+For discussion about the functions being deprecated please see the following two discssions on sage-combinat:\n+* [Implementation of partition tuples](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/NFNRYjqoouM)\n+* [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) \n+\n \n \n **Apply:** [attachment:trac_13072-tuples-of-tableaux-am.patch]\n``````\n",
    "created_at": "2012-08-29T04:51:26Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151230",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -32,6 +32,10 @@
 
 Finally, in addition to these new classes as discussed previously on sage-combinat I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).
 
+For discussion about the functions being deprecated please see the following two discssions on sage-combinat:
+* [Implementation of partition tuples](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/NFNRYjqoouM)
+* [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) 
+
 
 
 **Apply:** [attachment:trac_13072-tuples-of-tableaux-am.patch]
``````




---

archive/issue_comments_151231.json:
```json
{
    "body": "<a id='comment:11'></a>\nFor the patchbot:\n\nApply trac_13072-tuples-of-partitions_am.patch",
    "created_at": "2012-08-29T04:54:06Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151231",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:11'></a>
For the patchbot:

Apply trac_13072-tuples-of-partitions_am.patch



---

archive/issue_comments_151232.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,14 +8,14 @@\n \n The idea is to implement a fully function class for PartitionTuples as I currently need this together with a class for tuples of (standard) tableaux (coming soon).\n \n-PartitionTuples of level 1 are in natural bijection with Partitions so  when given a 1-tuple of partitions or a partition PartitionTuples() returns the corresponding Partition. This works almost seamlessly, making it possible to almost ignore the distinction between Partitions() and PartitionTuples(). One exception is that the expected behaviour of\n+PartitionTuples of level 1 are in natural bijection with Partitions so  when given a 1-tuple of partitions, or a partition, PartitionTuples() returns the corresponding Partition. This works almost seamlessly, making it possible to almost ignore the distinction between Partitions() and PartitionTuples(). One exception is that the expected behaviour of\n \n ```\n      for component in mu: \n           do X\n+```\n \n-```\n-is different for partitions and partition tuples (in the first case, you expect to loop over the pars of the partition and in the second over the component of the tuple). To get around this both classes now have a components() method so that you can uniformly write\n+is different for partitions and partition tuples (in the first case, you expect to loop over the parts of the partition and in the second over the components of the tuple). To get around this both classes now have a components() method so that you can uniformly write\n \n ```\n for nu in mu.components():\n@@ -28,11 +28,12 @@\n ```\n PartitionTuples(level=l, n=n)\n ```\n+\n where `level` and `n` are both optional named arguments BUT level is specified first. Previously, `n` was given first and `level` second. I think that it makes much more sense this way around, but if people feel really strongly about this I will change it back. Previously, `level` was just called `k`, which is a fairly random variable whereas `level` makes sense in terms of categorification and higher level Fock spaces. (Replacing `n` with `size` would also be sensible but I didn't go there.)\n \n-Finally, in addition to these new classes as discussed previously on sage-combinat I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).\n+Finally, in addition to these new classes I have removed a bunch functions which were depreciated years ago and depreciated some more functions, as discussed on sage-combinat. I also reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).\n \n-For discussion about the functions being deprecated please see the following two discssions on sage-combinat:\n+For discussion about the functions being deprecated please see the following two discussions on sage-combinat:\n * [Implementation of partition tuples](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/NFNRYjqoouM)\n * [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) \n \n``````\n",
    "created_at": "2012-08-29T04:57:15Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151232",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,14 +8,14 @@
 
 The idea is to implement a fully function class for PartitionTuples as I currently need this together with a class for tuples of (standard) tableaux (coming soon).
 
-PartitionTuples of level 1 are in natural bijection with Partitions so  when given a 1-tuple of partitions or a partition PartitionTuples() returns the corresponding Partition. This works almost seamlessly, making it possible to almost ignore the distinction between Partitions() and PartitionTuples(). One exception is that the expected behaviour of
+PartitionTuples of level 1 are in natural bijection with Partitions so  when given a 1-tuple of partitions, or a partition, PartitionTuples() returns the corresponding Partition. This works almost seamlessly, making it possible to almost ignore the distinction between Partitions() and PartitionTuples(). One exception is that the expected behaviour of
 
 ```
      for component in mu: 
           do X
+```
 
-```
-is different for partitions and partition tuples (in the first case, you expect to loop over the pars of the partition and in the second over the component of the tuple). To get around this both classes now have a components() method so that you can uniformly write
+is different for partitions and partition tuples (in the first case, you expect to loop over the parts of the partition and in the second over the components of the tuple). To get around this both classes now have a components() method so that you can uniformly write
 
 ```
 for nu in mu.components():
@@ -28,11 +28,12 @@
 ```
 PartitionTuples(level=l, n=n)
 ```
+
 where `level` and `n` are both optional named arguments BUT level is specified first. Previously, `n` was given first and `level` second. I think that it makes much more sense this way around, but if people feel really strongly about this I will change it back. Previously, `level` was just called `k`, which is a fairly random variable whereas `level` makes sense in terms of categorification and higher level Fock spaces. (Replacing `n` with `size` would also be sensible but I didn't go there.)
 
-Finally, in addition to these new classes as discussed previously on sage-combinat I have removed a bunch functions which were depreciated years ago. I also added normal_nodes() and good_nodes methods to Partition_class and reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).
+Finally, in addition to these new classes I have removed a bunch functions which were depreciated years ago and depreciated some more functions, as discussed on sage-combinat. I also reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).
 
-For discussion about the functions being deprecated please see the following two discssions on sage-combinat:
+For discussion about the functions being deprecated please see the following two discussions on sage-combinat:
 * [Implementation of partition tuples](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/NFNRYjqoouM)
 * [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) 
 
``````




---

archive/issue_comments_151233.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -37,6 +37,37 @@\n * [Implementation of partition tuples](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/NFNRYjqoouM)\n * [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) \n \n+Below is a summary of the above listed in order of what I think is decreasing controversy.\n \n+1. A=sage.combinat.partition.number_of_partitions() is marked for deprecation in favour of B=sage.combinat.partitions.number_of_partitions(), which is what function A() calls most of the time. As agreed above, number_of_partitions() will stay in the global name space, but this made the deprecation somewhat fiddly as I did not want to deprecate number_of_partitions() for \"normal use\" because from the user perspective this function will not change. Instead, I have deprecated the individual options of number_of_partitions() so deprecation warnings are only generated when A() does NOT call B(). In the global namespace, number_of_partitions still points to A(). When the functions which are marked for deprecation below are removed, number_of_partitions() should be changed to point to B() and A() should be changed into a deprecated_function_alias to B(). See the patch for more details.\n+\n+2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to cache sage.combinat.partitions.number_of_partitions() always. Please let me know if this is a bad idea.\n+\n+3. The two functions\n+    * cyclic_permutations_of_partition\n+    * cyclic_permutations_of_partition_iterator\n+    are deprecated in sage.combinat.partition and they have been moved to sage.combinat.set_partition and renamed ...._of_set_partition... As far as I can tell these functions are never used but, in any case, they are methods on set partitions rather than partitions. Nonetheless, they need to be deprecated from the global name space.\n+\n+4. The following functions were marked for deprecation several years ago so they have been removed from sage.combinat.partition.py:\n+    * RestrictedPartitions\n+    * partitions_list\n+    * number_of_partitions_list\n+    * partitions_restricted\n+    * number_of_partitions_restricted\n+\n+5. The following functions now give deprecation warnings and are marked for removal from the global name space:\n+    * partitions_set\n+    * number_of_partitions_set\n+    * ordered_partitions\n+    * number_of_ordered_partitions\n+    * partitions,\n+    * ferrers_diagram\n+    * partitions_greatest\n+    * partitions_greatest_eq\n+    * partitions_tuples\n+    * number_of_partitions_tuples\n+    * partition_power\n+    \n+In all cases, these function are deprecated in favour of (methods in) parent classes.\n \n **Apply:** [attachment:trac_13072-tuples-of-tableaux-am.patch]\n``````\n",
    "created_at": "2012-08-29T09:26:16Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151233",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -37,6 +37,37 @@
 * [Implementation of partition tuples](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/NFNRYjqoouM)
 * [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) 
 
+Below is a summary of the above listed in order of what I think is decreasing controversy.
 
+1. A=sage.combinat.partition.number_of_partitions() is marked for deprecation in favour of B=sage.combinat.partitions.number_of_partitions(), which is what function A() calls most of the time. As agreed above, number_of_partitions() will stay in the global name space, but this made the deprecation somewhat fiddly as I did not want to deprecate number_of_partitions() for "normal use" because from the user perspective this function will not change. Instead, I have deprecated the individual options of number_of_partitions() so deprecation warnings are only generated when A() does NOT call B(). In the global namespace, number_of_partitions still points to A(). When the functions which are marked for deprecation below are removed, number_of_partitions() should be changed to point to B() and A() should be changed into a deprecated_function_alias to B(). See the patch for more details.
+
+2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to cache sage.combinat.partitions.number_of_partitions() always. Please let me know if this is a bad idea.
+
+3. The two functions
+    * cyclic_permutations_of_partition
+    * cyclic_permutations_of_partition_iterator
+    are deprecated in sage.combinat.partition and they have been moved to sage.combinat.set_partition and renamed ...._of_set_partition... As far as I can tell these functions are never used but, in any case, they are methods on set partitions rather than partitions. Nonetheless, they need to be deprecated from the global name space.
+
+4. The following functions were marked for deprecation several years ago so they have been removed from sage.combinat.partition.py:
+    * RestrictedPartitions
+    * partitions_list
+    * number_of_partitions_list
+    * partitions_restricted
+    * number_of_partitions_restricted
+
+5. The following functions now give deprecation warnings and are marked for removal from the global name space:
+    * partitions_set
+    * number_of_partitions_set
+    * ordered_partitions
+    * number_of_ordered_partitions
+    * partitions,
+    * ferrers_diagram
+    * partitions_greatest
+    * partitions_greatest_eq
+    * partitions_tuples
+    * number_of_partitions_tuples
+    * partition_power
+    
+In all cases, these function are deprecated in favour of (methods in) parent classes.
 
 **Apply:** [attachment:trac_13072-tuples-of-tableaux-am.patch]
``````




---

archive/issue_comments_151234.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -41,7 +41,7 @@\n \n 1. A=sage.combinat.partition.number_of_partitions() is marked for deprecation in favour of B=sage.combinat.partitions.number_of_partitions(), which is what function A() calls most of the time. As agreed above, number_of_partitions() will stay in the global name space, but this made the deprecation somewhat fiddly as I did not want to deprecate number_of_partitions() for \"normal use\" because from the user perspective this function will not change. Instead, I have deprecated the individual options of number_of_partitions() so deprecation warnings are only generated when A() does NOT call B(). In the global namespace, number_of_partitions still points to A(). When the functions which are marked for deprecation below are removed, number_of_partitions() should be changed to point to B() and A() should be changed into a deprecated_function_alias to B(). See the patch for more details.\n \n-2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to cache sage.combinat.partitions.number_of_partitions() always. Please let me know if this is a bad idea.\n+2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to cache sage.combinat.partitions.number_of_partitions() always. Please let me know if this is a bad idea. *In fact, this leads to a dramatic speed-up. See the timings below*.\n \n 3. The two functions\n     * cyclic_permutations_of_partition\n``````\n",
    "created_at": "2012-08-29T12:27:43Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151234",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -41,7 +41,7 @@
 
 1. A=sage.combinat.partition.number_of_partitions() is marked for deprecation in favour of B=sage.combinat.partitions.number_of_partitions(), which is what function A() calls most of the time. As agreed above, number_of_partitions() will stay in the global name space, but this made the deprecation somewhat fiddly as I did not want to deprecate number_of_partitions() for "normal use" because from the user perspective this function will not change. Instead, I have deprecated the individual options of number_of_partitions() so deprecation warnings are only generated when A() does NOT call B(). In the global namespace, number_of_partitions still points to A(). When the functions which are marked for deprecation below are removed, number_of_partitions() should be changed to point to B() and A() should be changed into a deprecated_function_alias to B(). See the patch for more details.
 
-2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to cache sage.combinat.partitions.number_of_partitions() always. Please let me know if this is a bad idea.
+2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to cache sage.combinat.partitions.number_of_partitions() always. Please let me know if this is a bad idea. *In fact, this leads to a dramatic speed-up. See the timings below*.
 
 3. The two functions
     * cyclic_permutations_of_partition
``````




---

archive/issue_comments_151235.json:
```json
{
    "body": "<a id='comment:14'></a>\nThe following timings show that there is a dramatic speed-up when number_of_partitions is cached:\n\n**With caching**:\n\n```\nsage: %timeit [Partitions(n).random_element() for n in range(100)]\n25 loops, best of 3: 25 ms per loop\nsage: %timeit [Partitions(n).random_element() for n in range(100)]\n25 loops, best of 3: 24.6 ms per loop\nsage: %timeit [Partitions(n).random_element() for n in range(100)]\n25 loops, best of 3: 25.4 ms per loop\n```\n\n**Without caching**:\n\n```\nsage: %timeit [Partitions(n).random_element() for n in range(100)]\n5 loops, best of 3: 1.23 s per loop\nsage: %timeit [Partitions(n).random_element() for n in range(100)]\n5 loops, best of 3: 1.23 s per loop\nsage: %timeit [Partitions(n).random_element() for n in range(100)]\n5 loops, best of 3: 1.26 s per loop\n```",
    "created_at": "2012-08-29T12:27:43Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151235",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:14'></a>
The following timings show that there is a dramatic speed-up when number_of_partitions is cached:

**With caching**:

```
sage: %timeit [Partitions(n).random_element() for n in range(100)]
25 loops, best of 3: 25 ms per loop
sage: %timeit [Partitions(n).random_element() for n in range(100)]
25 loops, best of 3: 24.6 ms per loop
sage: %timeit [Partitions(n).random_element() for n in range(100)]
25 loops, best of 3: 25.4 ms per loop
```

**Without caching**:

```
sage: %timeit [Partitions(n).random_element() for n in range(100)]
5 loops, best of 3: 1.23 s per loop
sage: %timeit [Partitions(n).random_element() for n in range(100)]
5 loops, best of 3: 1.23 s per loop
sage: %timeit [Partitions(n).random_element() for n in range(100)]
5 loops, best of 3: 1.26 s per loop
```



---

archive/issue_comments_151236.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -31,6 +31,8 @@\n \n where `level` and `n` are both optional named arguments BUT level is specified first. Previously, `n` was given first and `level` second. I think that it makes much more sense this way around, but if people feel really strongly about this I will change it back. Previously, `level` was just called `k`, which is a fairly random variable whereas `level` makes sense in terms of categorification and higher level Fock spaces. (Replacing `n` with `size` would also be sensible but I didn't go there.)\n \n+\n+**Deprecations of old functions**:\n Finally, in addition to these new classes I have removed a bunch functions which were depreciated years ago and depreciated some more functions, as discussed on sage-combinat. I also reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).\n \n For discussion about the functions being deprecated please see the following two discussions on sage-combinat:\n``````\n",
    "created_at": "2012-08-29T12:37:40Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151236",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -31,6 +31,8 @@
 
 where `level` and `n` are both optional named arguments BUT level is specified first. Previously, `n` was given first and `level` second. I think that it makes much more sense this way around, but if people feel really strongly about this I will change it back. Previously, `level` was just called `k`, which is a fairly random variable whereas `level` makes sense in terms of categorification and higher level Fock spaces. (Replacing `n` with `size` would also be sensible but I didn't go there.)
 
+
+**Deprecations of old functions**:
 Finally, in addition to these new classes I have removed a bunch functions which were depreciated years ago and depreciated some more functions, as discussed on sage-combinat. I also reinstated the beta_numbers() methods which were removed in the last patch to partition.py (this patch said that beta_numbers and frobenius_coordinates are identical objects, but they are actually different).
 
 For discussion about the functions being deprecated please see the following two discussions on sage-combinat:
``````




---

archive/issue_comments_151237.json:
```json
{
    "body": "<a id='comment:16'></a>\nRegarding `RestrictedPartitions`: see #12278. Should it be deprecated at all? In particular, what's the replacement for something like `RestrictedPartitions(5,[3,2,1], 3)`? The best I can come up with is\n\n```\n[p for p in Partitions(5, parts_in=[3,2,1]) if len(p) == 3]\n```\nbut surely this isn't ideal.",
    "created_at": "2012-08-29T19:49:27Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151237",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:16'></a>
Regarding `RestrictedPartitions`: see #12278. Should it be deprecated at all? In particular, what's the replacement for something like `RestrictedPartitions(5,[3,2,1], 3)`? The best I can come up with is

```
[p for p in Partitions(5, parts_in=[3,2,1]) if len(p) == 3]
```
but surely this isn't ideal.



---

archive/issue_comments_151238.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -21,7 +21,7 @@\n for nu in mu.components():\n       do X\n ```\n-mprovements welcome!\n+Improvements welcome!\n \n In terms of implementation, for my use of these objects the `level` is more intrinsic than the size so I have set the syntax for the PartitionTuples classes as\n \n@@ -51,11 +51,11 @@\n     are deprecated in sage.combinat.partition and they have been moved to sage.combinat.set_partition and renamed ...._of_set_partition... As far as I can tell these functions are never used but, in any case, they are methods on set partitions rather than partitions. Nonetheless, they need to be deprecated from the global name space.\n \n 4. The following functions were marked for deprecation several years ago so they have been removed from sage.combinat.partition.py:\n-    * RestrictedPartitions\n     * partitions_list\n     * number_of_partitions_list\n     * partitions_restricted\n     * number_of_partitions_restricted\n+    RestrictedPartitions was also slated for removal but it was decided not to deprecate this class until Partitions() is able to process the appropriate combinations of keyword agruments. See #12278 for more details.\n \n 5. The following functions now give deprecation warnings and are marked for removal from the global name space:\n     * partitions_set\n``````\n",
    "created_at": "2012-08-30T07:34:38Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151238",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -21,7 +21,7 @@
 for nu in mu.components():
       do X
 ```
-mprovements welcome!
+Improvements welcome!
 
 In terms of implementation, for my use of these objects the `level` is more intrinsic than the size so I have set the syntax for the PartitionTuples classes as
 
@@ -51,11 +51,11 @@
     are deprecated in sage.combinat.partition and they have been moved to sage.combinat.set_partition and renamed ...._of_set_partition... As far as I can tell these functions are never used but, in any case, they are methods on set partitions rather than partitions. Nonetheless, they need to be deprecated from the global name space.
 
 4. The following functions were marked for deprecation several years ago so they have been removed from sage.combinat.partition.py:
-    * RestrictedPartitions
     * partitions_list
     * number_of_partitions_list
     * partitions_restricted
     * number_of_partitions_restricted
+    RestrictedPartitions was also slated for removal but it was decided not to deprecate this class until Partitions() is able to process the appropriate combinations of keyword agruments. See #12278 for more details.
 
 5. The following functions now give deprecation warnings and are marked for removal from the global name space:
     * partitions_set
``````




---

archive/issue_comments_151239.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -43,7 +43,7 @@\n \n 1. A=sage.combinat.partition.number_of_partitions() is marked for deprecation in favour of B=sage.combinat.partitions.number_of_partitions(), which is what function A() calls most of the time. As agreed above, number_of_partitions() will stay in the global name space, but this made the deprecation somewhat fiddly as I did not want to deprecate number_of_partitions() for \"normal use\" because from the user perspective this function will not change. Instead, I have deprecated the individual options of number_of_partitions() so deprecation warnings are only generated when A() does NOT call B(). In the global namespace, number_of_partitions still points to A(). When the functions which are marked for deprecation below are removed, number_of_partitions() should be changed to point to B() and A() should be changed into a deprecated_function_alias to B(). See the patch for more details.\n \n-2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to cache sage.combinat.partitions.number_of_partitions() always. Please let me know if this is a bad idea. *In fact, this leads to a dramatic speed-up. See the timings below*.\n+2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to cache sage.combinat.partitions.number_of_partitions() always. Please let me know if this is a bad idea. *In fact, this leads to a dramatic speed-up. See the timings below* --- although, this should be looked at again when Fredrik Johansson's patch #13199, which uses FLINT to implement a faster version of number_of_partitions, is merged into sage.\n \n 3. The two functions\n     * cyclic_permutations_of_partition\n@@ -55,9 +55,10 @@\n     * number_of_partitions_list\n     * partitions_restricted\n     * number_of_partitions_restricted\n-    RestrictedPartitions was also slated for removal but it was decided not to deprecate this class until Partitions() is able to process the appropriate combinations of keyword agruments. See #12278 for more details.\n \n-5. The following functions now give deprecation warnings and are marked for removal from the global name space:\n+5. For the reasons given in #5478, RestrictedPartitions was also slated for removal but it was decided not to deprecate this class until Partitions() is able to process the appropriate combinations of keyword arguments. See #12278 and the comment by John Palmieri below for more details. Nicolas has suggested that one way of addressing this may be to refactor the partitions code so that it uses Florent's enumerated sets factories #10194.\n+\n+6. The following functions now give deprecation warnings and they are marked for removal from the global name space:\n     * partitions_set\n     * number_of_partitions_set\n     * ordered_partitions\n``````\n",
    "created_at": "2012-08-31T00:38:54Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151239",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -43,7 +43,7 @@
 
 1. A=sage.combinat.partition.number_of_partitions() is marked for deprecation in favour of B=sage.combinat.partitions.number_of_partitions(), which is what function A() calls most of the time. As agreed above, number_of_partitions() will stay in the global name space, but this made the deprecation somewhat fiddly as I did not want to deprecate number_of_partitions() for "normal use" because from the user perspective this function will not change. Instead, I have deprecated the individual options of number_of_partitions() so deprecation warnings are only generated when A() does NOT call B(). In the global namespace, number_of_partitions still points to A(). When the functions which are marked for deprecation below are removed, number_of_partitions() should be changed to point to B() and A() should be changed into a deprecated_function_alias to B(). See the patch for more details.
 
-2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to cache sage.combinat.partitions.number_of_partitions() always. Please let me know if this is a bad idea. *In fact, this leads to a dramatic speed-up. See the timings below*.
+2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to cache sage.combinat.partitions.number_of_partitions() always. Please let me know if this is a bad idea. *In fact, this leads to a dramatic speed-up. See the timings below* --- although, this should be looked at again when Fredrik Johansson's patch #13199, which uses FLINT to implement a faster version of number_of_partitions, is merged into sage.
 
 3. The two functions
     * cyclic_permutations_of_partition
@@ -55,9 +55,10 @@
     * number_of_partitions_list
     * partitions_restricted
     * number_of_partitions_restricted
-    RestrictedPartitions was also slated for removal but it was decided not to deprecate this class until Partitions() is able to process the appropriate combinations of keyword agruments. See #12278 for more details.
 
-5. The following functions now give deprecation warnings and are marked for removal from the global name space:
+5. For the reasons given in #5478, RestrictedPartitions was also slated for removal but it was decided not to deprecate this class until Partitions() is able to process the appropriate combinations of keyword arguments. See #12278 and the comment by John Palmieri below for more details. Nicolas has suggested that one way of addressing this may be to refactor the partitions code so that it uses Florent's enumerated sets factories #10194.
+
+6. The following functions now give deprecation warnings and they are marked for removal from the global name space:
     * partitions_set
     * number_of_partitions_set
     * ordered_partitions
``````




---

archive/issue_comments_151240.json:
```json
{
    "body": "<a id='comment:19'></a>\nFor the patchbot:\n\nApply trac_13072-tuples-of-partitions_am.patch",
    "created_at": "2012-08-31T05:26:58Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151240",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:19'></a>
For the patchbot:

Apply trac_13072-tuples-of-partitions_am.patch



---

archive/issue_comments_151241.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -43,7 +43,9 @@\n \n 1. A=sage.combinat.partition.number_of_partitions() is marked for deprecation in favour of B=sage.combinat.partitions.number_of_partitions(), which is what function A() calls most of the time. As agreed above, number_of_partitions() will stay in the global name space, but this made the deprecation somewhat fiddly as I did not want to deprecate number_of_partitions() for \"normal use\" because from the user perspective this function will not change. Instead, I have deprecated the individual options of number_of_partitions() so deprecation warnings are only generated when A() does NOT call B(). In the global namespace, number_of_partitions still points to A(). When the functions which are marked for deprecation below are removed, number_of_partitions() should be changed to point to B() and A() should be changed into a deprecated_function_alias to B(). See the patch for more details.\n \n-2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to cache sage.combinat.partitions.number_of_partitions() always. Please let me know if this is a bad idea. *In fact, this leads to a dramatic speed-up. See the timings below* --- although, this should be looked at again when Fredrik Johansson's patch #13199, which uses FLINT to implement a faster version of number_of_partitions, is merged into sage.\n+2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to use a cached version of number_of_partitions() inside partition.py always. *As shown in the comments below, this leads to a dramatic speed-up.* \n+\n+    This probably should be **revisited** when Fredrik Johansson's patch #13199, which uses FLINT to implement a faster version of number_of_partitions, is merged into sage.\n \n 3. The two functions\n     * cyclic_permutations_of_partition\n``````\n",
    "created_at": "2012-08-31T08:24:05Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151241",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -43,7 +43,9 @@
 
 1. A=sage.combinat.partition.number_of_partitions() is marked for deprecation in favour of B=sage.combinat.partitions.number_of_partitions(), which is what function A() calls most of the time. As agreed above, number_of_partitions() will stay in the global name space, but this made the deprecation somewhat fiddly as I did not want to deprecate number_of_partitions() for "normal use" because from the user perspective this function will not change. Instead, I have deprecated the individual options of number_of_partitions() so deprecation warnings are only generated when A() does NOT call B(). In the global namespace, number_of_partitions still points to A(). When the functions which are marked for deprecation below are removed, number_of_partitions() should be changed to point to B() and A() should be changed into a deprecated_function_alias to B(). See the patch for more details.
 
-2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to cache sage.combinat.partitions.number_of_partitions() always. Please let me know if this is a bad idea. *In fact, this leads to a dramatic speed-up. See the timings below* --- although, this should be looked at again when Fredrik Johansson's patch #13199, which uses FLINT to implement a faster version of number_of_partitions, is merged into sage.
+2. For use in Partitions().random_element() the function number_of_partitions() was cached. This cached function was almost never used so, assuming that caching this function is a good idea, I decided to use a cached version of number_of_partitions() inside partition.py always. *As shown in the comments below, this leads to a dramatic speed-up.* 
+
+    This probably should be **revisited** when Fredrik Johansson's patch #13199, which uses FLINT to implement a faster version of number_of_partitions, is merged into sage.
 
 3. The two functions
     * cyclic_permutations_of_partition
``````




---

archive/issue_comments_151242.json:
```json
{
    "body": "**Description changed:**\n``````diff\n\n``````\n",
    "created_at": "2012-09-12T01:00:49Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151242",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff

``````




---

archive/issue_comments_151243.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -37,7 +37,7 @@\n \n For discussion about the functions being deprecated please see the following two discussions on sage-combinat:\n * [Implementation of partition tuples](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/NFNRYjqoouM)\n-* [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) \n+* [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) and [number_of_partitions](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/-8yTNjkCuW0)\n \n Below is a summary of the above listed in order of what I think is decreasing controversy.\n \n``````\n",
    "created_at": "2012-10-08T03:34:04Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151243",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -37,7 +37,7 @@
 
 For discussion about the functions being deprecated please see the following two discussions on sage-combinat:
 * [Implementation of partition tuples](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/NFNRYjqoouM)
-* [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) 
+* [number_of_partitions and friends](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/utAsQzZQKLo) and [number_of_partitions](https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/-8yTNjkCuW0)
 
 Below is a summary of the above listed in order of what I think is decreasing controversy.
 
``````




---

archive/issue_comments_151244.json:
```json
{
    "body": "<a id='comment:23'></a>\nFor the patchbot:\n\nApply trac_13072-tuples-of-partitions_am.patch",
    "created_at": "2012-10-08T03:34:55Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151244",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:23'></a>
For the patchbot:

Apply trac_13072-tuples-of-partitions_am.patch



---

archive/issue_comments_151245.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [jhpalmieri](#comment%3A16):\n> Regarding `RestrictedPartitions`: see #12278. Should it be deprecated at all? In particular, what's the replacement for something like `RestrictedPartitions(5,[3,2,1], 3)`? The best I can come up with is\n> \n> ```\n> [p for p in Partitions(5, parts_in=[3,2,1]) if len(p) == 3]\n> ```\n> but surely this isn't ideal.\n\nThis was discussed in detail on sage-combinat, eventually leading to point #5 in the blurb for this ticket.",
    "created_at": "2012-10-08T12:08:39Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151245",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:24'></a>
Replying to [jhpalmieri](#comment%3A16):
> Regarding `RestrictedPartitions`: see #12278. Should it be deprecated at all? In particular, what's the replacement for something like `RestrictedPartitions(5,[3,2,1], 3)`? The best I can come up with is
> 
> ```
> [p for p in Partitions(5, parts_in=[3,2,1]) if len(p) == 3]
> ```
> but surely this isn't ideal.

This was discussed in detail on sage-combinat, eventually leading to point #5 in the blurb for this ticket.



---

archive/issue_comments_151246.json:
```json
{
    "body": "<a id='comment:25'></a>\nLooks good. I've added #11446 as a dependency since this is based respect to #11446 and it's dependency #11442 (both slightly modify `partition.py` as well).",
    "created_at": "2012-10-08T21:55:45Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151246",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>
Looks good. I've added #11446 as a dependency since this is based respect to #11446 and it's dependency #11442 (both slightly modify `partition.py` as well).



---

archive/issue_comments_151247.json:
```json
{
    "body": "**Changing dependencies** from \"#9265\" to \"#9265, #11446\".",
    "created_at": "2012-10-08T21:55:45Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151247",
    "user": "https://github.com/tscrim"
}
```

**Changing dependencies** from "#9265" to "#9265, #11446".



---

archive/issue_events_109866.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-10-08T21:55:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109866"
}
```



---

archive/issue_events_109867.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-10-08T21:55:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109867"
}
```



---

archive/issue_events_109868.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2012-10-08T22:30:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109868"
}
```



---

archive/issue_events_109869.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2012-10-08T22:30:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109869"
}
```



---

archive/issue_comments_151248.json:
```json
{
    "body": "<a id='comment:26'></a>\nHi Andrew and Travis,\n\nThanks both for your work. I'm hate to switch back to needs works but looking at the compiled doc, I see various small problems which should be fixed. Here are some of them:\n\n- Don't indent bulleted list. It adds an extra uneeded indentation (see e.g. REFERENCE vs AUTHORS in the module class;\n\n- There is a proper markup for references (see developper guide);\n\n- In the doc of the class `PartitionTuple`, there is a miss indentation between `INPUT` and `EXAMPLES:`\n\n- in the doc of `Garnir_tableau` please write <code>\\`\\`self\\`\\`</code> <code>\\`\\`cell\\`\\`</code>, <code>\\`\\`FALSE\\`\\`</code> ... (verbatim set-up) but don't forget single back-quote for <code>\\`(k,a+1,c)\\`</code> (latex set-up) and similar. The hyperlink in SEE ALSO are missing\n\n- There is a proper markup for linking to trac ticket eg: <code>:trac:\\`13123\\`</code>\n\n- There is a typo in \"The Garnir tableau are the \u201cfirst\u201d non-standard tableaux which arise when you at by simple transpositions.\"\n\nSorry for being picky for the doc. If it wasn't so late et France, I would have written a review patch. \n\nFor Travis: please check the compiled doc when your are reviewing a patch. You can refer to `http://wiki.sagemath.org/ReviewChecklist`.\n\nCheers,\n\nFlorent",
    "created_at": "2012-10-08T22:30:47Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151248",
    "user": "https://github.com/hivert"
}
```

<a id='comment:26'></a>
Hi Andrew and Travis,

Thanks both for your work. I'm hate to switch back to needs works but looking at the compiled doc, I see various small problems which should be fixed. Here are some of them:

- Don't indent bulleted list. It adds an extra uneeded indentation (see e.g. REFERENCE vs AUTHORS in the module class;

- There is a proper markup for references (see developper guide);

- In the doc of the class `PartitionTuple`, there is a miss indentation between `INPUT` and `EXAMPLES:`

- in the doc of `Garnir_tableau` please write <code>\`\`self\`\`</code> <code>\`\`cell\`\`</code>, <code>\`\`FALSE\`\`</code> ... (verbatim set-up) but don't forget single back-quote for <code>\`(k,a+1,c)\`</code> (latex set-up) and similar. The hyperlink in SEE ALSO are missing

- There is a proper markup for linking to trac ticket eg: <code>:trac:\`13123\`</code>

- There is a typo in "The Garnir tableau are the first non-standard tableaux which arise when you at by simple transpositions."

Sorry for being picky for the doc. If it wasn't so late et France, I would have written a review patch. 

For Travis: please check the compiled doc when your are reviewing a patch. You can refer to `http://wiki.sagemath.org/ReviewChecklist`.

Cheers,

Florent



---

archive/issue_comments_151249.json:
```json
{
    "body": "<a id='comment:27'></a>\nHi Florent,\n\nThanks for the specific comments about what needs to be fixed. I'll go through and fix these.\n\n> For Travis: please check the compiled doc when your are reviewing a patch. You can refer to `http://wiki.sagemath.org/ReviewChecklist`.\n\n\nActually, Travis has already spent a large amount of time fixing my doc strings, so there would be many more problems without the large amount of time that he has already spent on this.\n\nAndrew",
    "created_at": "2012-10-08T22:51:01Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151249",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:27'></a>
Hi Florent,

Thanks for the specific comments about what needs to be fixed. I'll go through and fix these.

> For Travis: please check the compiled doc when your are reviewing a patch. You can refer to `http://wiki.sagemath.org/ReviewChecklist`.


Actually, Travis has already spent a large amount of time fixing my doc strings, so there would be many more problems without the large amount of time that he has already spent on this.

Andrew



---

archive/issue_comments_151250.json:
```json
{
    "body": "<a id='comment:28'></a>\nHi Florent,\n\nI think that the revised patch fixes all of the problems that you highlighted -- well, except for the Garnir tableaux issues which are in #13074.\n\nCheers,\nAndrew",
    "created_at": "2012-10-08T23:33:02Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151250",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:28'></a>
Hi Florent,

I think that the revised patch fixes all of the problems that you highlighted -- well, except for the Garnir tableaux issues which are in #13074.

Cheers,
Andrew



---

archive/issue_comments_151251.json:
```json
{
    "body": "<a id='comment:29'></a>\nHi Andrew,\n\nReplying to [andrew.mathas](#comment%3A27):\n> Actually, Travis has already spent a large amount of time fixing my doc strings, so there would be many more problems without the large amount of time that he has already spent on this.\n\n\nSorry, I you feel I'm being rude. It wasn't my intend. However, I've no chance to know that since there is no record of his work on this ticket. Even when the review is done offline, it is good to keep a (not necessarily detailed) trace of what has been done on the ticket, if only to give proper credit.\n\nCheers,\n\nFlorent\n\nPS: Unfortunately, I've no time to answer your comment on #13074, right now (run to catch a train + teaching).",
    "created_at": "2012-10-09T05:50:55Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151251",
    "user": "https://github.com/hivert"
}
```

<a id='comment:29'></a>
Hi Andrew,

Replying to [andrew.mathas](#comment%3A27):
> Actually, Travis has already spent a large amount of time fixing my doc strings, so there would be many more problems without the large amount of time that he has already spent on this.


Sorry, I you feel I'm being rude. It wasn't my intend. However, I've no chance to know that since there is no record of his work on this ticket. Even when the review is done offline, it is good to keep a (not necessarily detailed) trace of what has been done on the ticket, if only to give proper credit.

Cheers,

Florent

PS: Unfortunately, I've no time to answer your comment on #13074, right now (run to catch a train + teaching).



---

archive/issue_comments_151252.json:
```json
{
    "body": "<a id='comment:30'></a>\nHi Florent,\n\nNo, no, that's OK. I just wanted to acknowledge that Travis has done a lot of work on the documentation and that any errors that remained were mine and mine alone. I appreciate your looking at the patch and trying to improve it. \n\nI have mostly sorted out the doc string problems in these two patches but there are till one or two that remain. If there is any trick to working out where the errors appear in the code from the rest errors messages please let me know when you have the time as currently I am doing pseudo random searches.\n\nThanks again,\nAndrew",
    "created_at": "2012-10-09T08:02:54Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151252",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:30'></a>
Hi Florent,

No, no, that's OK. I just wanted to acknowledge that Travis has done a lot of work on the documentation and that any errors that remained were mine and mine alone. I appreciate your looking at the patch and trying to improve it. 

I have mostly sorted out the doc string problems in these two patches but there are till one or two that remain. If there is any trick to working out where the errors appear in the code from the rest errors messages please let me know when you have the time as currently I am doing pseudo random searches.

Thanks again,
Andrew



---

archive/issue_comments_151253.json:
```json
{
    "body": "<a id='comment:31'></a>\nI think that all of the doc string issues really are fixed now.",
    "created_at": "2012-10-09T13:18:28Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151253",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:31'></a>
I think that all of the doc string issues really are fixed now.



---

archive/issue_comments_151254.json:
```json
{
    "body": "<a id='comment:32'></a>\nFlorent,\n\nThank you for catching these docstring problems. I appreciate you begin picky about the docs. I didn't know about the indentation of the bullet lists, and I did miss that indentation of EXAMPLES:: block in the compiled doc.\n\nAndrew,\n\nA few more minor issues.\n- I believe this line (line 263 in `partition_tuple.py`) has a comma misplaced:\n\n```\nWhen these algebras are not semisimple partition, tuples index...\n```\n- In `partition_tuple.hook_length()` it should be <code>coordinates of the form \\`(k,r,c)\\`</code>\n- In `partition.random_element()`, the inputs `uniform` and `Plancherel` should be indented one more since they are the types of inputs for `measure`.",
    "created_at": "2012-10-09T15:34:51Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151254",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:32'></a>
Florent,

Thank you for catching these docstring problems. I appreciate you begin picky about the docs. I didn't know about the indentation of the bullet lists, and I did miss that indentation of EXAMPLES:: block in the compiled doc.

Andrew,

A few more minor issues.
- I believe this line (line 263 in `partition_tuple.py`) has a comma misplaced:

```
When these algebras are not semisimple partition, tuples index...
```
- In `partition_tuple.hook_length()` it should be <code>coordinates of the form \`(k,r,c)\`</code>
- In `partition.random_element()`, the inputs `uniform` and `Plancherel` should be indented one more since they are the types of inputs for `measure`.



---

archive/issue_comments_151255.json:
```json
{
    "body": "<a id='comment:33'></a>\nHi Travis,\n\nI have uploaded a new version of the patch which fixes the errant comma and the indentation in random_element but I think that the <code>\\`\\`(k,r,c)\\`\\`</code> in the hook_length function is correct because k,r and c are arguments to this function. Of course, it would be more correct to write <code>(\\`\\`k\\`\\`,\\`\\`r\\`\\`,\\`\\`c\\`\\`)</code> but ReST complains about this. I guess that <code>(\\`\\`k\\`\\`, \\`\\`r\\`\\`, \\`\\`c\\`\\`)</code> might be OK, although I suspect that it will want a few more spaces like <code>( \\`\\`k\\`\\` , \\`\\`r\\`\\` , \\`\\`c\\`\\` )</code> to be legal syntax. I prefer using <code>\\`\\`(k,r,c)\\`\\`</code> as these three integers together comprise a cell which is really a \"single\" variable... Let me know if you disagree.\n\nCheers,\nAndrew",
    "created_at": "2012-10-10T03:23:41Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151255",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:33'></a>
Hi Travis,

I have uploaded a new version of the patch which fixes the errant comma and the indentation in random_element but I think that the <code>\`\`(k,r,c)\`\`</code> in the hook_length function is correct because k,r and c are arguments to this function. Of course, it would be more correct to write <code>(\`\`k\`\`,\`\`r\`\`,\`\`c\`\`)</code> but ReST complains about this. I guess that <code>(\`\`k\`\`, \`\`r\`\`, \`\`c\`\`)</code> might be OK, although I suspect that it will want a few more spaces like <code>( \`\`k\`\` , \`\`r\`\` , \`\`c\`\` )</code> to be legal syntax. I prefer using <code>\`\`(k,r,c)\`\`</code> as these three integers together comprise a cell which is really a "single" variable... Let me know if you disagree.

Cheers,
Andrew



---

archive/issue_comments_151256.json:
```json
{
    "body": "<a id='comment:34'></a>\nHey Andrew,\n\nYes, it should be <code>\\`\\`(k,r,c)\\`\\`</code> but right now it is <code>\\`\\`(r,c)\\`\\`</code>. Although on further thought, it might be better to move the note about 0-based (and adding <code>\\`\\`k\\`\\`</code>) and the python *-operator to the header. That way it covers all of the similar functions.\n\nThanks,\nTravis",
    "created_at": "2012-10-10T15:15:03Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151256",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:34'></a>
Hey Andrew,

Yes, it should be <code>\`\`(k,r,c)\`\`</code> but right now it is <code>\`\`(r,c)\`\`</code>. Although on further thought, it might be better to move the note about 0-based (and adding <code>\`\`k\`\`</code>) and the python *-operator to the header. That way it covers all of the similar functions.

Thanks,
Travis



---

archive/issue_comments_151257.json:
```json
{
    "body": "<a id='comment:35'></a>\nThanks Travis, you are right of course. I've updated the patch.\n\nAndrew\n\n--\n\nFor the patchbot:\n\nApply trac_13072-tuples-of-partitions_am.patch",
    "created_at": "2012-10-12T03:45:06Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151257",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:35'></a>
Thanks Travis, you are right of course. I've updated the patch.

Andrew

--

For the patchbot:

Apply trac_13072-tuples-of-partitions_am.patch



---

archive/issue_events_109870.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-10-12T04:00:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109870"
}
```



---

archive/issue_events_109871.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-10-12T04:00:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109871"
}
```



---

archive/issue_comments_151258.json:
```json
{
    "body": "<a id='comment:36'></a>\nThanks Andrew! Looks good. I like the notes.",
    "created_at": "2012-10-12T04:00:59Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151258",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:36'></a>
Thanks Andrew! Looks good. I like the notes.



---

archive/issue_events_109872.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-12T14:10:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "milestone": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109872"
}
```



---

archive/issue_events_109873.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-12T14:10:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "milestone": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109873"
}
```



---

archive/issue_comments_151259.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -75,4 +75,4 @@\n     \n In all cases, these function are deprecated in favour of (methods in) parent classes.\n \n-**Apply:** [attachment:trac_13072-tuples-of-tableaux-am.patch]\n+**Apply:** [attachment:trac_13072-tuples-of-partitions_am.patch]\n``````\n",
    "created_at": "2012-10-13T10:14:34Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151259",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -75,4 +75,4 @@
     
 In all cases, these function are deprecated in favour of (methods in) parent classes.
 
-**Apply:** [attachment:trac_13072-tuples-of-tableaux-am.patch]
+**Apply:** [attachment:trac_13072-tuples-of-partitions_am.patch]
``````




---

archive/issue_events_109874.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-13T21:37:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109874"
}
```



---

archive/issue_events_109875.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-13T21:37:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109875"
}
```



---

archive/issue_comments_151260.json:
```json
{
    "body": "<a id='comment:39'></a>\n\n```\nsage -t  -force_lib devel/sage/sage/structure/sage_object.pyx\n**********************************************************************\nFile \"/release/merger/sage-5.5.beta0/devel/sage-main/sage/structure/sage_object.pyx\", line 1114:\n    sage: sage.structure.sage_object.unpickle_all()  # (4s on sage.math, 2011)\nExpected:\n    doctest:... DeprecationWarning: This class is replaced by Matrix_modn_dense_float/Matrix_modn_dense_double.\n    See http://trac.sagemath.org/4260 for details.\n    Successfully unpickled ... objects.\n    Failed to unpickle 0 objects.\nGot:\n     * unpickle failure: load('/release/merger/sage-5.5.beta0/home/.sage/tmp/sage.math.washington.edu/5737/dir_i3wI40//pickle_jar/_class__sage_combinat_partition_PartitionTuples_nk__.sobj')\n    doctest:1172: DeprecationWarning: This class is replaced by Matrix_modn_dense_float/Matrix_modn_dense_double.\n    See http://trac.sagemath.org/4260 for details.\n    Failed:\n    _class__sage_combinat_partition_PartitionTuples_nk__.sobj\n    Successfully unpickled 593 objects.\n    Failed to unpickle 1 objects.\n**********************************************************************\n```",
    "created_at": "2012-10-13T21:37:18Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151260",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:39'></a>

```
sage -t  -force_lib devel/sage/sage/structure/sage_object.pyx
**********************************************************************
File "/release/merger/sage-5.5.beta0/devel/sage-main/sage/structure/sage_object.pyx", line 1114:
    sage: sage.structure.sage_object.unpickle_all()  # (4s on sage.math, 2011)
Expected:
    doctest:... DeprecationWarning: This class is replaced by Matrix_modn_dense_float/Matrix_modn_dense_double.
    See http://trac.sagemath.org/4260 for details.
    Successfully unpickled ... objects.
    Failed to unpickle 0 objects.
Got:
     * unpickle failure: load('/release/merger/sage-5.5.beta0/home/.sage/tmp/sage.math.washington.edu/5737/dir_i3wI40//pickle_jar/_class__sage_combinat_partition_PartitionTuples_nk__.sobj')
    doctest:1172: DeprecationWarning: This class is replaced by Matrix_modn_dense_float/Matrix_modn_dense_double.
    See http://trac.sagemath.org/4260 for details.
    Failed:
    _class__sage_combinat_partition_PartitionTuples_nk__.sobj
    Successfully unpickled 593 objects.
    Failed to unpickle 1 objects.
**********************************************************************
```



---

archive/issue_comments_151261.json:
```json
{
    "body": "<a id='comment:40'></a>\n\n```\nsage -t  --long -force_lib devel/sage/sage/combinat/partition.py\n**********************************************************************\nFile \"/release/merger/sage-5.5.beta0/devel/sage-main/sage/combinat/partition.py\", line 434:\n    sage: all(test2(core,tuple(mus))  # long time (5s on sage.math, 2011)\n          for k in range(Integer(1),Integer(10))\n          for n_core in range(Integer(10)-k)\n          for core in Partitions(n_core)\n          if core.core(k) == core\n          for n_mus in range(Integer(10)-k)\n          for mus in PartitionTuples(n_mus,k))\nException raised:\n    Traceback (most recent call last):\n      File \"/release/merger/sage-5.5.beta0/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/release/merger/sage-5.5.beta0/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/release/merger/sage-5.5.beta0/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_5[6]>\", line 2, in <module>\n        for k in range(Integer(1),Integer(10))\n      File \"<doctest __main__.example_5[6]>\", line 7, in <genexpr>\n        for mus in PartitionTuples(n_mus,k))\n      File \"classcall_metaclass.pyx\", line 279, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclas\ns.c:946)\n      File \"/release/merger/sage-5.5.beta0/local/lib/python/site-packages/sage/combinat/partition_tuple.py\", line 1059, in __classcall_pri\nvate__\n        raise ValueError, 'the level must be a positive integer'\n    ValueError: the level must be a positive integer\n**********************************************************************\n```",
    "created_at": "2012-10-13T21:38:00Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151261",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:40'></a>

```
sage -t  --long -force_lib devel/sage/sage/combinat/partition.py
**********************************************************************
File "/release/merger/sage-5.5.beta0/devel/sage-main/sage/combinat/partition.py", line 434:
    sage: all(test2(core,tuple(mus))  # long time (5s on sage.math, 2011)
          for k in range(Integer(1),Integer(10))
          for n_core in range(Integer(10)-k)
          for core in Partitions(n_core)
          if core.core(k) == core
          for n_mus in range(Integer(10)-k)
          for mus in PartitionTuples(n_mus,k))
Exception raised:
    Traceback (most recent call last):
      File "/release/merger/sage-5.5.beta0/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/release/merger/sage-5.5.beta0/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/release/merger/sage-5.5.beta0/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_5[6]>", line 2, in <module>
        for k in range(Integer(1),Integer(10))
      File "<doctest __main__.example_5[6]>", line 7, in <genexpr>
        for mus in PartitionTuples(n_mus,k))
      File "classcall_metaclass.pyx", line 279, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclas
s.c:946)
      File "/release/merger/sage-5.5.beta0/local/lib/python/site-packages/sage/combinat/partition_tuple.py", line 1059, in __classcall_pri
vate__
        raise ValueError, 'the level must be a positive integer'
    ValueError: the level must be a positive integer
**********************************************************************
```



---

archive/issue_comments_151262.json:
```json
{
    "body": "<a id='comment:41'></a>\nHi Jeroen,\n\nPerhaps I am confused, but most of these pickles shouldn't exist any more as they should have been removed by the new pickle jar attached to #9265. Specifically, the pickles\n\n  _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_n!__   .sobj')\n   _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_nmu!__   .sobj')\n   _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_p!__   .sobj')\n   _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_pmu!__   .sobj')\n   _class!__   sage_combinat_skew_tableau_StandardSkewTableaux_n!__   .sobj')\n   _class!__   sage_combinat_tableau_SemistandardTableaux_n!__   .sobj')\n   _class!__   sage_combinat_tableau_SemistandardTableaux_nmu!__   .sobj')\n   _class!__   sage_combinat_tableau_SemistandardTableaux_p!__   .sobj')\n   _class!__   sage_combinat_tableau_SemistandardTableaux_pmu!__   .sobj')\n   _class!__   sage_combinat_tableau_StandardTableaux_n!__   .sobj')\n   _class!__   sage_combinat_tableau_StandardTableaux_partition!__   .sobj')\n   _class!__   sage_combinat_tableau_Tableau_class!__   .sobj')\n   _class!__   sage_combinat_tableau_Tableaux_n!__   .sobj')\n\nshouldn't be there having been replaced with new improved pickles with slightly more informative names (for example, `_n_` -->  `_size_`, `_p_` --> `_shape_` etc.).  The pickle\n\n  _class!__  sage_combinat_partition_PartitionTuples_nk!__  .sobj\n\nI agree is mine to fix but I am also not entirely convinced that the first three pickles are caused by this patch, that is the following pickles:\n\n  class!__  sage_combinat_crystals_affine_AffineCrystalFromClassicalAndPromotion_with_category_element_class!__  .sobj')\n  class!__  sage_combinat_crystals_tensor_product_CrystalOfTableaux_with_category_element_class!__  .sobj')\n  class!__  sage_combinat_crystals_tensor_product_TensorProductOfCrystalsWithGenerators_with_category!__  .sobj')\n\nas I think that I might have also created new pickles for these in #9265. I am, of course, happy to rebuild them just in case.\n\nCan you please confirm that the pickle_jar was updated as per the attachment for #9265. The mistake is quite probably mine as I assumed that the whole pickle jar would be replaced whereas if you just added in the new pickles then you would not have been aware that some of the old pickles needed to be deleted (although presumably it would not have been possible to unpickle them...??). If there is any documentation on updating the pickle jar please let me know.\n\nPlease advise.\n\nCheers,\n\nAndrew\n",
    "created_at": "2012-10-14T13:44:15Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151262",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:41'></a>
Hi Jeroen,

Perhaps I am confused, but most of these pickles shouldn't exist any more as they should have been removed by the new pickle jar attached to #9265. Specifically, the pickles

  _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_n!__   .sobj')
   _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_nmu!__   .sobj')
   _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_p!__   .sobj')
   _class!__   sage_combinat_skew_tableau_SemistandardSkewTableaux_pmu!__   .sobj')
   _class!__   sage_combinat_skew_tableau_StandardSkewTableaux_n!__   .sobj')
   _class!__   sage_combinat_tableau_SemistandardTableaux_n!__   .sobj')
   _class!__   sage_combinat_tableau_SemistandardTableaux_nmu!__   .sobj')
   _class!__   sage_combinat_tableau_SemistandardTableaux_p!__   .sobj')
   _class!__   sage_combinat_tableau_SemistandardTableaux_pmu!__   .sobj')
   _class!__   sage_combinat_tableau_StandardTableaux_n!__   .sobj')
   _class!__   sage_combinat_tableau_StandardTableaux_partition!__   .sobj')
   _class!__   sage_combinat_tableau_Tableau_class!__   .sobj')
   _class!__   sage_combinat_tableau_Tableaux_n!__   .sobj')

shouldn't be there having been replaced with new improved pickles with slightly more informative names (for example, `_n_` -->  `_size_`, `_p_` --> `_shape_` etc.).  The pickle

  _class!__  sage_combinat_partition_PartitionTuples_nk!__  .sobj

I agree is mine to fix but I am also not entirely convinced that the first three pickles are caused by this patch, that is the following pickles:

  class!__  sage_combinat_crystals_affine_AffineCrystalFromClassicalAndPromotion_with_category_element_class!__  .sobj')
  class!__  sage_combinat_crystals_tensor_product_CrystalOfTableaux_with_category_element_class!__  .sobj')
  class!__  sage_combinat_crystals_tensor_product_TensorProductOfCrystalsWithGenerators_with_category!__  .sobj')

as I think that I might have also created new pickles for these in #9265. I am, of course, happy to rebuild them just in case.

Can you please confirm that the pickle_jar was updated as per the attachment for #9265. The mistake is quite probably mine as I assumed that the whole pickle jar would be replaced whereas if you just added in the new pickles then you would not have been aware that some of the old pickles needed to be deleted (although presumably it would not have been possible to unpickle them...??). If there is any documentation on updating the pickle jar please let me know.

Please advise.

Cheers,

Andrew




---

archive/issue_comments_151263.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [andrew.mathas](#comment%3A41):\n> Can you please confirm that the pickle_jar was updated as per the attachment for #9265.\n\nYes, certainly it was updated.",
    "created_at": "2012-10-15T08:03:29Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151263",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:42'></a>
Replying to [andrew.mathas](#comment%3A41):
> Can you please confirm that the pickle_jar was updated as per the attachment for #9265.

Yes, certainly it was updated.



---

archive/issue_comments_151264.json:
```json
{
    "body": "<a id='comment:43'></a>\nI don't quite understand what you're saying, since my failed test is only complaining about **one pickle**, namely\n\n```\n_class__sage_combinat_partition_PartitionTuples_nk__.sobj\n```",
    "created_at": "2012-10-15T08:05:21Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151264",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:43'></a>
I don't quite understand what you're saying, since my failed test is only complaining about **one pickle**, namely

```
_class__sage_combinat_partition_PartitionTuples_nk__.sobj
```



---

archive/issue_comments_151265.json:
```json
{
    "body": "<a id='comment:44'></a>\nSorry, my mistake: I was testing on 5.3.\n\nA.",
    "created_at": "2012-10-15T09:08:19Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151265",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:44'></a>
Sorry, my mistake: I was testing on 5.3.

A.



---

archive/issue_comments_151266.json:
```json
{
    "body": "<a id='comment:45'></a>\nOK, I have fixed the long-test problem. With the pickle it seems to me that the only way to fix the problem is to replace the bad\n\n```\nPartitionTuples_nk\n```\npickle in the pickle jar with a good one (and leave the other pickles untouched) as the underlying class has changed too much (vbraun posted a comment on #9265 suggesting that I should use `register_unpickle_override instead but I tried experimenting with this and it doesn't seem to work).`\n\n\nJeroen can you please confirm that you are are happy for me to do this.\n\n",
    "created_at": "2012-10-15T13:29:53Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151266",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:45'></a>
OK, I have fixed the long-test problem. With the pickle it seems to me that the only way to fix the problem is to replace the bad

```
PartitionTuples_nk
```
pickle in the pickle jar with a good one (and leave the other pickles untouched) as the underlying class has changed too much (vbraun posted a comment on #9265 suggesting that I should use `register_unpickle_override instead but I tried experimenting with this and it doesn't seem to work).`


Jeroen can you please confirm that you are are happy for me to do this.





---

archive/issue_comments_151267.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [andrew.mathas](#comment%3A45):\n> Jeroen can you please confirm that you are are happy for me to do this.\n\nGiven the comments of Volker Braun and Simon King, I cannot be happy with this.  No objects should be removed from the pickle jar.",
    "created_at": "2012-10-15T13:40:52Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151267",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:46'></a>
Replying to [andrew.mathas](#comment%3A45):
> Jeroen can you please confirm that you are are happy for me to do this.

Given the comments of Volker Braun and Simon King, I cannot be happy with this.  No objects should be removed from the pickle jar.



---

archive/issue_comments_151268.json:
```json
{
    "body": "<a id='comment:47'></a>\nReplying to [jdemeyer](#comment%3A46):\n> Replying to [andrew.mathas](#comment%3A45):\n> > Jeroen can you please confirm that you are are happy for me to do this.\n\n> Given the comments of Volker Braun and Simon King, I cannot be happy with this.  No objects should be removed from the pickle jar.\n\nJust my 2 cents: at this point, partition tuples are a rather peripheral feature. If anyone has saved some pickle containing one, most likely he is in the Sage-Combinat group. Well most likely it's Andrew actually. So I vote for not wasting Andrew's time and simply dropping backward compatibility in that particular situation. I am not taking much risk by volunteering to help whoever might have trouble with such an old pickle :-)\n\nOf course, the official procedure would be to run a poll; if you insist, we can do that on Sage-Combinat devel.",
    "created_at": "2012-10-15T13:53:15Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151268",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:47'></a>
Replying to [jdemeyer](#comment%3A46):
> Replying to [andrew.mathas](#comment%3A45):
> > Jeroen can you please confirm that you are are happy for me to do this.

> Given the comments of Volker Braun and Simon King, I cannot be happy with this.  No objects should be removed from the pickle jar.

Just my 2 cents: at this point, partition tuples are a rather peripheral feature. If anyone has saved some pickle containing one, most likely he is in the Sage-Combinat group. Well most likely it's Andrew actually. So I vote for not wasting Andrew's time and simply dropping backward compatibility in that particular situation. I am not taking much risk by volunteering to help whoever might have trouble with such an old pickle :-)

Of course, the official procedure would be to run a poll; if you insist, we can do that on Sage-Combinat devel.



---

archive/issue_comments_151269.json:
```json
{
    "body": "<a id='comment:48'></a>\nNicolas, I started a thread on sage-devel about the pickle jar.",
    "created_at": "2012-10-15T14:47:03Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151269",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:48'></a>
Nicolas, I started a thread on sage-devel about the pickle jar.



---

archive/issue_comments_151270.json:
```json
{
    "body": "<a id='comment:49'></a>\nUnpickling works now.",
    "created_at": "2012-10-17T12:21:28Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151270",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:49'></a>
Unpickling works now.



---

archive/issue_events_109876.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2012-10-17T12:21:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109876"
}
```



---

archive/issue_events_109877.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2012-10-17T12:21:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109877"
}
```



---

archive/issue_events_109878.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-10-19T22:30:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109878"
}
```



---

archive/issue_events_109879.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-10-19T22:30:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109879"
}
```



---

archive/issue_comments_151271.json:
```json
{
    "body": "<a id='comment:50'></a>\nEverything looks good to me (double checked the pickle jar and `sage_object.pyx`).",
    "created_at": "2012-10-19T22:30:06Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151271",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:50'></a>
Everything looks good to me (double checked the pickle jar and `sage_object.pyx`).



---

archive/issue_comments_151272.json:
```json
{
    "body": "<a id='comment:51'></a>\nRemoving all whitespace everywhere is a bad idea, don't do it as it will lead to merge conflicts (unless it was approved by the sage-combinat group, then I take back my words).",
    "created_at": "2012-11-01T10:19:27Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151272",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:51'></a>
Removing all whitespace everywhere is a bad idea, don't do it as it will lead to merge conflicts (unless it was approved by the sage-combinat group, then I take back my words).



---

archive/issue_events_109880.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-01T10:19:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109880"
}
```



---

archive/issue_events_109881.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-01T10:19:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109881"
}
```



---

archive/issue_comments_151273.json:
```json
{
    "body": "<a id='comment:52'></a>\nReplying to [jdemeyer](#comment%3A51):\n> Removing all whitespace everywhere is a bad idea, don't do it as it will lead to merge conflicts (unless it was approved by the sage-combinat group, then I take back my words).\n\n\nJeroen, I removed whitespaces added by the patch and then checked that the sage-combiat queue applied cleanly before pushing the patch both to the sage-combinat queue and back to trac. I did not remove all white space from the source files affected by this patch as, I agree, this would probably cause havoc with the queue. As all of the patches in the sage-combinat queue still apply cleanly I am putting this back to a positive review.",
    "created_at": "2012-11-01T11:35:02Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151273",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:52'></a>
Replying to [jdemeyer](#comment%3A51):
> Removing all whitespace everywhere is a bad idea, don't do it as it will lead to merge conflicts (unless it was approved by the sage-combinat group, then I take back my words).


Jeroen, I removed whitespaces added by the patch and then checked that the sage-combiat queue applied cleanly before pushing the patch both to the sage-combinat queue and back to trac. I did not remove all white space from the source files affected by this patch as, I agree, this would probably cause havoc with the queue. As all of the patches in the sage-combinat queue still apply cleanly I am putting this back to a positive review.



---

archive/issue_events_109882.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2012-11-01T11:35:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109882"
}
```



---

archive/issue_events_109883.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2012-11-01T11:35:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109883"
}
```



---

archive/issue_comments_151274.json:
```json
{
    "body": "**Merged:** sage-5.5.beta1",
    "created_at": "2012-11-01T12:04:22Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151274",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.5.beta1



---

archive/issue_events_109884.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-01T12:04:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109884"
}
```



---

archive/issue_events_109885.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-01T12:04:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13072#event-109885"
}
```



---

archive/issue_comments_151275.json:
```json
{
    "body": "<a id='comment:55'></a>\nThe new patch needs a proper commit message.",
    "created_at": "2012-11-01T12:08:58Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151275",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:55'></a>
The new patch needs a proper commit message.



---

archive/issue_comments_151276.json:
```json
{
    "body": "Adding proper commit message",
    "created_at": "2012-11-01T12:28:10Z",
    "issue": "https://github.com/sagemath/sage/issues/13072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13072#issuecomment-151276",
    "user": "https://github.com/AndrewAtLarge"
}
```

Adding proper commit message
