# Issue 13514: The documentation of representative_vector_list for Quadratic Forms should mention that it is for positive definite quadratic forms only

archive/issues_013310.json:
```json
{
    "body": "On [sage-nt](https://groups.google.com/forum/?hl=en-GB&fromgroups=#!topic/sage-nt/Hj9G0Pr_kLw), it was noted that it would be helpful if the documentation of `representative_vector_list` for quadratic forms mentions the fact that this function is for positive definite quadratic forms only, and that it returns random `PariErrors` otherwise.\n\nAssignee: justin\n\nKeywords: positive definite documentation quadratic form representative_vector_list\n\nBranch/Commit: 7bd170182ca878f41ed27b68939c0d3f62728c79\n\nReviewer: Travis Scrimshaw\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13514\n\n",
    "closed_at": "2017-04-08T17:12:50Z",
    "created_at": "2012-09-20T20:17:59Z",
    "labels": [
        "component: quadratic forms",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "The documentation of representative_vector_list for Quadratic Forms should mention that it is for positive definite quadratic forms only",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13514",
    "user": "https://github.com/mstreng"
}
```
On [sage-nt](https://groups.google.com/forum/?hl=en-GB&fromgroups=#!topic/sage-nt/Hj9G0Pr_kLw), it was noted that it would be helpful if the documentation of `representative_vector_list` for quadratic forms mentions the fact that this function is for positive definite quadratic forms only, and that it returns random `PariErrors` otherwise.

Assignee: justin

Keywords: positive definite documentation quadratic form representative_vector_list

Branch/Commit: 7bd170182ca878f41ed27b68939c0d3f62728c79

Reviewer: Travis Scrimshaw

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/13514





---

archive/issue_events_051288.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-51288"
}
```



---

archive/issue_events_051289.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-51289"
}
```



---

archive/issue_events_051290.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-51290"
}
```



---

archive/issue_events_051291.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-51291"
}
```



---

archive/issue_events_051292.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-51292"
}
```



---

archive/issue_events_051293.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-51293"
}
```



---

archive/issue_events_051294.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-51294"
}
```



---

archive/issue_comments_200335.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/13514\"",
    "created_at": "2017-03-17T19:23:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200335",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/13514"



---

archive/issue_comments_200336.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-03-17T19:23:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200336",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_200337.json:
```json
{
    "body": "<a id='comment:5'></a>\ndone, please review\n\n---\nNew commits:\n|                                                                                                                                          |                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[3af1062](https://github.com/sagemath/sagetrac-mirror/commit/3af1062f92cf206694f86a2de49bac9a4ab66bbe)|`doc correction in quadratic forms`|",
    "created_at": "2017-03-17T19:23:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200337",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
done, please review

---
New commits:
|                                                                                                                                          |                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[3af1062](https://github.com/sagemath/sagetrac-mirror/commit/3af1062f92cf206694f86a2de49bac9a4ab66bbe)|`doc correction in quadratic forms`|



---

archive/issue_comments_200338.json:
```json
{
    "body": "Changing commit from \"\" to \"3af1062f92cf206694f86a2de49bac9a4ab66bbe\"",
    "created_at": "2017-03-17T19:23:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200338",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "3af1062f92cf206694f86a2de49bac9a4ab66bbe"



---

archive/issue_comments_200339.json:
```json
{
    "body": "Changing author from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2017-03-17T19:23:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200339",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Frédéric Chapoton"



---

archive/issue_events_051295.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-03-17T19:23:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-51295"
}
```



---

archive/issue_events_051296.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-03-17T19:23:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-51296"
}
```



---

archive/issue_comments_200340.json:
```json
{
    "body": "Changing commit from \"3af1062f92cf206694f86a2de49bac9a4ab66bbe\" to \"ee00e4ae1b1b0e2fa81068be14af8b9e7e85184f\"",
    "created_at": "2017-03-31T07:14:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200340",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3af1062f92cf206694f86a2de49bac9a4ab66bbe" to "ee00e4ae1b1b0e2fa81068be14af8b9e7e85184f"



---

archive/issue_comments_200341.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[ee00e4a](https://github.com/sagemath/sagetrac-mirror/commit/ee00e4ae1b1b0e2fa81068be14af8b9e7e85184f)|`Merge branch 'u/chapoton/13514' in 8.0.b0`|",
    "created_at": "2017-03-31T07:14:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200341",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[ee00e4a](https://github.com/sagemath/sagetrac-mirror/commit/ee00e4ae1b1b0e2fa81068be14af8b9e7e85184f)|`Merge branch 'u/chapoton/13514' in 8.0.b0`|



---

archive/issue_comments_200342.json:
```json
{
    "body": "<a id='comment:7'></a>\nI don't understand why you changed the default value; it seems to unnecessarily complicate things. Also, do we want to run that check rather than letting PARI give the error (possibly catching and sending an appropriate Sage error)?",
    "created_at": "2017-03-31T14:18:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200342",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
I don't understand why you changed the default value; it seems to unnecessarily complicate things. Also, do we want to run that check rather than letting PARI give the error (possibly catching and sending an appropriate Sage error)?



---

archive/issue_comments_200343.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[821eb49](https://github.com/sagemath/sagetrac-mirror/commit/821eb493806bc40ac280395316b7f22e0c0728dd)|`trac 13514 change back default value of maxvectors`|",
    "created_at": "2017-03-31T18:02:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200343",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[821eb49](https://github.com/sagemath/sagetrac-mirror/commit/821eb493806bc40ac280395316b7f22e0c0728dd)|`trac 13514 change back default value of maxvectors`|



---

archive/issue_comments_200344.json:
```json
{
    "body": "Changing commit from \"ee00e4ae1b1b0e2fa81068be14af8b9e7e85184f\" to \"821eb493806bc40ac280395316b7f22e0c0728dd\"",
    "created_at": "2017-03-31T18:02:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200344",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ee00e4ae1b1b0e2fa81068be14af8b9e7e85184f" to "821eb493806bc40ac280395316b7f22e0c0728dd"



---

archive/issue_comments_200345.json:
```json
{
    "body": "<a id='comment:9'></a>\nI changed back the default value, but did not modify the handling of errors.",
    "created_at": "2017-04-04T18:48:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200345",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
I changed back the default value, but did not modify the handling of errors.



---

archive/issue_comments_200346.json:
```json
{
    "body": "<a id='comment:10'></a>\nMore towards bikeshedding, but I don't think it should it be a `TypeError`. I feel more like it should be a `NotImplementedError`, since it is more like a feature that is lacking. Or perhaps a `ValueError` since it is based on the values of the matrix.\n\nHowever, the PARI error that is raised seems fairly descriptive:\n\n```\nsage: R = QuadraticForm(ZZ,2,[-4,-3,0])\nsage: R.representation_vector_list(10)\n...\nPariError: domain error in minim0: form is not positive definite\n```\nThus, I'm not completely convinced about doing a check on the Sage side, which seems to be done on the PARI side too.\n\nAlso, changing the error type might break some code. Although the chances of this are unlikely, so that is a very weak argument.",
    "created_at": "2017-04-04T19:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200346",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
More towards bikeshedding, but I don't think it should it be a `TypeError`. I feel more like it should be a `NotImplementedError`, since it is more like a feature that is lacking. Or perhaps a `ValueError` since it is based on the values of the matrix.

However, the PARI error that is raised seems fairly descriptive:

```
sage: R = QuadraticForm(ZZ,2,[-4,-3,0])
sage: R.representation_vector_list(10)
...
PariError: domain error in minim0: form is not positive definite
```
Thus, I'm not completely convinced about doing a check on the Sage side, which seems to be done on the PARI side too.

Also, changing the error type might break some code. Although the chances of this are unlikely, so that is a very weak argument.



---

archive/issue_comments_200347.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[7bd1701](https://github.com/sagemath/sagetrac-mirror/commit/7bd170182ca878f41ed27b68939c0d3f62728c79)|`trac 13514 back to PariError`|",
    "created_at": "2017-04-04T19:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200347",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[7bd1701](https://github.com/sagemath/sagetrac-mirror/commit/7bd170182ca878f41ed27b68939c0d3f62728c79)|`trac 13514 back to PariError`|



---

archive/issue_comments_200348.json:
```json
{
    "body": "Changing commit from \"821eb493806bc40ac280395316b7f22e0c0728dd\" to \"7bd170182ca878f41ed27b68939c0d3f62728c79\"",
    "created_at": "2017-04-04T19:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200348",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "821eb493806bc40ac280395316b7f22e0c0728dd" to "7bd170182ca878f41ed27b68939c0d3f62728c79"



---

archive/issue_comments_200349.json:
```json
{
    "body": "<a id='comment:12'></a>\ndone, put back the `PariError`",
    "created_at": "2017-04-04T19:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200349",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
done, put back the `PariError`



---

archive/issue_comments_200350.json:
```json
{
    "body": "<a id='comment:13'></a>\ngreen bot, please review",
    "created_at": "2017-04-06T08:41:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200350",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
green bot, please review



---

archive/issue_comments_200351.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-04-06T21:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200351",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_200352.json:
```json
{
    "body": "<a id='comment:14'></a>\nThanks.",
    "created_at": "2017-04-06T21:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200352",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>
Thanks.



---

archive/issue_comments_200353.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2017-04-06T21:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200353",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_events_051297.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-08T17:12:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-51297"
}
```



---

archive/issue_comments_200354.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-04-08T17:12:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200354",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_200355.json:
```json
{
    "body": "Changing branch from \"u/chapoton/13514\" to \"7bd170182ca878f41ed27b68939c0d3f62728c79\"",
    "created_at": "2017-04-08T17:12:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-200355",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/13514" to "7bd170182ca878f41ed27b68939c0d3f62728c79"
