# Issue 13514: The documentation of representative_vector_list for Quadratic Forms should mention that it is for positive definite quadratic forms only

archive/issues_013310.json:
```json
{
    "body": "On [sage-nt](https://groups.google.com/forum/?hl=en-GB&fromgroups=#!topic/sage-nt/Hj9G0Pr_kLw), it was noted that it would be helpful if the documentation of `representative_vector_list` for quadratic forms mentions the fact that this function is for positive definite quadratic forms only, and that it returns random `PariErrors` otherwise.\n\nAssignee: justin\n\nKeywords: positive definite documentation quadratic form representative_vector_list\n\nBranch/Commit: 7bd170182ca878f41ed27b68939c0d3f62728c79\n\nReviewer: Travis Scrimshaw\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13514\n\n",
    "closed_at": "2017-04-08T17:12:50Z",
    "created_at": "2012-09-20T20:17:59Z",
    "labels": [
        "component: quadratic forms",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "The documentation of representative_vector_list for Quadratic Forms should mention that it is for positive definite quadratic forms only",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13514",
    "user": "https://github.com/mstreng"
}
```
On [sage-nt](https://groups.google.com/forum/?hl=en-GB&fromgroups=#!topic/sage-nt/Hj9G0Pr_kLw), it was noted that it would be helpful if the documentation of `representative_vector_list` for quadratic forms mentions the fact that this function is for positive definite quadratic forms only, and that it returns random `PariErrors` otherwise.

Assignee: justin

Keywords: positive definite documentation quadratic form representative_vector_list

Branch/Commit: 7bd170182ca878f41ed27b68939c0d3f62728c79

Reviewer: Travis Scrimshaw

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/13514





---

archive/issue_events_037479.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-37479"
}
```



---

archive/issue_events_037480.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-37480"
}
```



---

archive/issue_events_037481.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-37481"
}
```



---

archive/issue_events_037482.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-37482"
}
```



---

archive/issue_events_037483.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-37483"
}
```



---

archive/issue_events_037484.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-37484"
}
```



---

archive/issue_events_037485.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-37485"
}
```



---

archive/issue_comments_163176.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-03-17T19:23:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-163176",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_163177.json:
```json
{
    "body": "<a id='comment:5'></a>done, please review\n\n---\nNew commits:",
    "created_at": "2017-03-17T19:23:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-163177",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>done, please review

---
New commits:



---

archive/issue_events_037486.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-03-17T19:23:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-37486"
}
```



---

archive/issue_events_037487.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-03-17T19:23:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-37487"
}
```



---

archive/issue_comments_163178.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-31T07:14:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-163178",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163179.json:
```json
{
    "body": "<a id='comment:7'></a>I don't understand why you changed the default value; it seems to unnecessarily complicate things. Also, do we want to run that check rather than letting PARI give the error (possibly catching and sending an appropriate Sage error)?",
    "created_at": "2017-03-31T14:18:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-163179",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>I don't understand why you changed the default value; it seems to unnecessarily complicate things. Also, do we want to run that check rather than letting PARI give the error (possibly catching and sending an appropriate Sage error)?



---

archive/issue_comments_163180.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-31T18:02:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-163180",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163181.json:
```json
{
    "body": "<a id='comment:9'></a>I changed back the default value, but did not modify the handling of errors.",
    "created_at": "2017-04-04T18:48:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-163181",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>I changed back the default value, but did not modify the handling of errors.



---

archive/issue_comments_163182.json:
```json
{
    "body": "<a id='comment:10'></a>More towards bikeshedding, but I don't think it should it be a `TypeError`. I feel more like it should be a `NotImplementedError`, since it is more like a feature that is lacking. Or perhaps a `ValueError` since it is based on the values of the matrix.\n\nHowever, the PARI error that is raised seems fairly descriptive:\n\n```\nsage: R = QuadraticForm(ZZ,2,[-4,-3,0])\nsage: R.representation_vector_list(10)\n...\nPariError: domain error in minim0: form is not positive definite\n```\nThus, I'm not completely convinced about doing a check on the Sage side, which seems to be done on the PARI side too.\n\nAlso, changing the error type might break some code. Although the chances of this are unlikely, so that is a very weak argument.",
    "created_at": "2017-04-04T19:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-163182",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>More towards bikeshedding, but I don't think it should it be a `TypeError`. I feel more like it should be a `NotImplementedError`, since it is more like a feature that is lacking. Or perhaps a `ValueError` since it is based on the values of the matrix.

However, the PARI error that is raised seems fairly descriptive:

```
sage: R = QuadraticForm(ZZ,2,[-4,-3,0])
sage: R.representation_vector_list(10)
...
PariError: domain error in minim0: form is not positive definite
```
Thus, I'm not completely convinced about doing a check on the Sage side, which seems to be done on the PARI side too.

Also, changing the error type might break some code. Although the chances of this are unlikely, so that is a very weak argument.



---

archive/issue_comments_163183.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-04T19:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-163183",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163184.json:
```json
{
    "body": "<a id='comment:12'></a>done, put back the `PariError`",
    "created_at": "2017-04-04T19:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-163184",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>done, put back the `PariError`



---

archive/issue_comments_163185.json:
```json
{
    "body": "<a id='comment:13'></a>green bot, please review",
    "created_at": "2017-04-06T08:41:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-163185",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>green bot, please review



---

archive/issue_comments_163186.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-04-06T21:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-163186",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_163187.json:
```json
{
    "body": "<a id='comment:14'></a>Thanks.",
    "created_at": "2017-04-06T21:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-163187",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>Thanks.



---

archive/issue_events_037488.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-08T17:12:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13514#event-37488"
}
```



---

archive/issue_comments_163188.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-04-08T17:12:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-163188",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
