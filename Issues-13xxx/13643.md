# Issue 13643: default norm for RDF/CDF matrices is inconsistent with other types of matrices

archive/issues_013439.json:
```json
{
    "body": "Currently, the default norm for matrices is the induced 2-norm, unless the matrix is an RDF or CDF matrix, in which case the default norm is the Frobenius norm.  Needless to say, this is very confusing:\n\n```\nsage: version()\n'Sage Version 5.4.rc1, Release Date: 2012-10-05'\nsage: a=matrix(QQ, 3, range(9))\nsage: a.norm()\n14.2267073908\nsage: a.norm(2)\n14.2267073908\nsage: b=a.change_ring(RDF)\nsage: b.norm()\n14.2828568571\nsage: b.norm('frob')\n14.2828568571\n```\n\nI propose we change the default norm for RDF/CDF matrices to the induced 2-norm.\n\n**Assignee:** @jasongrout, @williamstein\n\n**CC:**  @rbeezer\n\n**Reviewer:** Punarbasu Purkayastha\n\n**Author:** Jason Grout\n\n**Merged:** sage-5.5.beta1\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13643\n\n",
    "closed_at": "2012-11-01T12:03:45Z",
    "created_at": "2012-10-22T15:29:06Z",
    "labels": [
        "component: linear algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.5",
    "title": "default norm for RDF/CDF matrices is inconsistent with other types of matrices",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13643",
    "user": "https://github.com/jasongrout"
}
```
Currently, the default norm for matrices is the induced 2-norm, unless the matrix is an RDF or CDF matrix, in which case the default norm is the Frobenius norm.  Needless to say, this is very confusing:

```
sage: version()
'Sage Version 5.4.rc1, Release Date: 2012-10-05'
sage: a=matrix(QQ, 3, range(9))
sage: a.norm()
14.2267073908
sage: a.norm(2)
14.2267073908
sage: b=a.change_ring(RDF)
sage: b.norm()
14.2828568571
sage: b.norm('frob')
14.2828568571
```

I propose we change the default norm for RDF/CDF matrices to the induced 2-norm.

**Assignee:** @jasongrout, @williamstein

**CC:**  @rbeezer

**Reviewer:** Punarbasu Purkayastha

**Author:** Jason Grout

**Merged:** sage-5.5.beta1

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/13643





---

archive/issue_comments_211491.json:
```json
{
    "body": "<a id='comment:1'></a>\nMore info for a decision:\n\nDefaults to Frobenius norm: \n\n* Numpy (http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.norm.html, which is likely where our original decision came from).  \n\nDefaults to induced 2-norm: \n\n* Matlab (http://www.mathworks.com/help/matlab/ref/norm.html).   \n* Octave (http://www.network-theory.co.uk/docs/octave3/octave_198.html).  \n* Mathematica (http://reference.wolfram.com/mathematica/ref/Norm.html)",
    "created_at": "2012-10-22T15:37:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211491",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:1'></a>
More info for a decision:

Defaults to Frobenius norm: 

* Numpy (http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.norm.html, which is likely where our original decision came from).  

Defaults to induced 2-norm: 

* Matlab (http://www.mathworks.com/help/matlab/ref/norm.html).   
* Octave (http://www.network-theory.co.uk/docs/octave3/octave_198.html).  
* Mathematica (http://reference.wolfram.com/mathematica/ref/Norm.html)



---

archive/issue_comments_211492.json:
```json
{
    "body": "Attachment [13643-matrix-norm.patch](tarball://root/attachments/some-uuid/ticket13643/13643-matrix-norm.patch) by @jasongrout created at 2012-10-22 16:09:07",
    "created_at": "2012-10-22T16:09:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211492",
    "user": "https://github.com/jasongrout"
}
```

Attachment [13643-matrix-norm.patch](tarball://root/attachments/some-uuid/ticket13643/13643-matrix-norm.patch) by @jasongrout created at 2012-10-22 16:09:07



---

archive/issue_comments_211493.json:
```json
{
    "body": "<a id='comment:2'></a>\npatch tested on the affected file...",
    "created_at": "2012-10-22T16:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211493",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:2'></a>
patch tested on the affected file...



---

archive/issue_comments_211494.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2012-10-22T16:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211494",
    "user": "https://github.com/jasongrout"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_211495.json:
```json
{
    "body": "**Author:** Jason Grout",
    "created_at": "2012-10-22T16:16:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211495",
    "user": "https://github.com/jasongrout"
}
```

**Author:** Jason Grout



---

archive/issue_comments_211496.json:
```json
{
    "body": "<a id='comment:4'></a>\nPatch looks fine to me. Let some more people comment on your email first :)",
    "created_at": "2012-10-22T16:26:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211496",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:4'></a>
Patch looks fine to me. Let some more people comment on your email first :)



---

archive/issue_comments_211497.json:
```json
{
    "body": "<a id='comment:5'></a>\nI don't feel like this is a bad idea at all, given that we are focused more on the Ms than imitating NumPy, and with the deprecation warning we will hopefully catch any power users. I don't usually do a norm of a matrix myself...",
    "created_at": "2012-10-22T17:05:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211497",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>
I don't feel like this is a bad idea at all, given that we are focused more on the Ms than imitating NumPy, and with the deprecation warning we will hopefully catch any power users. I don't usually do a norm of a matrix myself...



---

archive/issue_comments_211498.json:
```json
{
    "body": "<a id='comment:6'></a>\nJust FYI, my post to numpy sparked a thread where the reason was uncovered: http://mail.scipy.org/pipermail/numpy-discussion/2012-October/064228.html (in particular, see http://mail.scipy.org/pipermail/numpy-discussion/2006-March/019194.html).",
    "created_at": "2012-10-22T20:18:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211498",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:6'></a>
Just FYI, my post to numpy sparked a thread where the reason was uncovered: http://mail.scipy.org/pipermail/numpy-discussion/2012-October/064228.html (in particular, see http://mail.scipy.org/pipermail/numpy-discussion/2006-March/019194.html).



---

archive/issue_comments_211499.json:
```json
{
    "body": "<a id='comment:7'></a>\nI think this has now dropped off the voting on sage-devel, with several positive votes.  Can someone review the patch?",
    "created_at": "2012-10-24T06:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211499",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:7'></a>
I think this has now dropped off the voting on sage-devel, with several positive votes.  Can someone review the patch?



---

archive/issue_comments_211500.json:
```json
{
    "body": "**Reviewer:** Punarbasu Purkayastha",
    "created_at": "2012-10-24T07:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211500",
    "user": "https://github.com/ppurka"
}
```

**Reviewer:** Punarbasu Purkayastha



---

archive/issue_comments_211501.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2012-10-24T07:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211501",
    "user": "https://github.com/ppurka"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_211502.json:
```json
{
    "body": "<a id='comment:8'></a>\nI had checked it earlier, when I last reviewed it. It was positive review from my side. Patchbot gives a green signal too :)",
    "created_at": "2012-10-24T07:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211502",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:8'></a>
I had checked it earlier, when I last reviewed it. It was positive review from my side. Patchbot gives a green signal too :)



---

archive/issue_comments_211503.json:
```json
{
    "body": "**Merged:** sage-5.5.beta1",
    "created_at": "2012-11-01T12:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211503",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.5.beta1



---

archive/issue_events_044196.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-01T12:03:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13643#event-44196"
}
```



---

archive/issue_comments_211504.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2012-11-01T12:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13643#issuecomment-211504",
    "user": "https://github.com/jdemeyer"
}
```

**Resolution:** fixed
