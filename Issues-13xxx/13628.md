# Issue 13628: refactor xgcd

archive/issues_013424.json:
```json
{
    "body": "Currently, some classes define a _xgcd method which is called by a xgcd method of euclidean domain elements. Most elements already define xgcd directly, and I see no real use in having this method in between.\n\nThe attached patch renames all _xgcd methods to xgcd and also streamlines the use of `@`coerce_binop on them.\n\nThis is similar to #13441.\n\n**Assignee:** @aghitza\n\n**Branch:** [u/tscrim/ticket/13628](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/ticket/13628)\n\n**Commit:** [5b3ee54bb662e494a7a93f6729b20713412ad6ca](https://github.com/sagemath/sagetrac-mirror/commit/5b3ee54bb662e494a7a93f6729b20713412ad6ca)\n\n**Reviewer:** Niles Johnson, Travis Scrimshaw\n\n**Author:** Julian Rueth\n\n**Dependencies:** #13441, #13438\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13628\n\n",
    "closed_at": "2014-02-02T20:33:44Z",
    "created_at": "2012-10-19T15:53:40Z",
    "labels": [
        "component: basic arithmetic",
        "trivial"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "refactor xgcd",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13628",
    "user": "https://github.com/saraedum"
}
```
Currently, some classes define a _xgcd method which is called by a xgcd method of euclidean domain elements. Most elements already define xgcd directly, and I see no real use in having this method in between.

The attached patch renames all _xgcd methods to xgcd and also streamlines the use of `@`coerce_binop on them.

This is similar to #13441.

**Assignee:** @aghitza

**Branch:** [u/tscrim/ticket/13628](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/ticket/13628)

**Commit:** [5b3ee54bb662e494a7a93f6729b20713412ad6ca](https://github.com/sagemath/sagetrac-mirror/commit/5b3ee54bb662e494a7a93f6729b20713412ad6ca)

**Reviewer:** Niles Johnson, Travis Scrimshaw

**Author:** Julian Rueth

**Dependencies:** #13441, #13438

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/13628





---

archive/issue_comments_211198.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2012-10-21T00:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211198",
    "user": "https://github.com/saraedum"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_211199.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2012-10-27T15:05:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211199",
    "user": "https://github.com/saraedum"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_211200.json:
```json
{
    "body": "<a id='comment:2'></a>\nI want to remove `self` from the docstrings.",
    "created_at": "2012-10-27T15:05:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211200",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:2'></a>
I want to remove `self` from the docstrings.



---

archive/issue_comments_211201.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe patch introduces a speed penalty for integers. Therefore I left the method `_xgcd` in for integers for places where this really matters. The following timings are `without/with` the patch applied.\n\n```\nsage: x,y=3,21\nsage: timeit('x.xgcd(y)')\n625 loops, best of 3: 986 ns/1.56 \u00b5s per loop\nsage: timeit('x._xgcd(y)')\n625 loops, best of 3: 713 ns/704 ns per loop\nsage: x,y=1/3,1/21\nsage: timeit('x.xgcd(y)')\n625 loops, best of 3: --- --/7.92 \u00b5s per loop\nsage: R.<t> = QQbar[]\nsage: x,y=t-1,t^2-1\nsage: timeit('x.xgcd(y)')\n125 loops, best of 3: 1.17 ms/1.18 ms per loop\nsage: R.<t> = PolynomialRing(GF(3),implementation=\"NTL\")\nsage: x,y=t-1,t^2-1\nsage: timeit('x.xgcd(y)')\n625 loops, best of 3: 80 \u00b5s/80.9 \u00b5s per loop\n```\n\nNotice that there was no `xgcd` method for rational numbers before since it was defined only for `PrincipalIdealDomainElement` which `FieldElement` does not inherit from.\n\nAlso the docstring for Integers talked about some `weirdness` that was actually not present anymore. I checked all combinations of integers between -20 and 20 but could not find a single case where the output of xgcd without the `minimal` option produced something really surprising.\n\nIf the patchbot does not find any problems, then this is ready for review.",
    "created_at": "2012-11-19T19:14:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211201",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:3'></a>
The patch introduces a speed penalty for integers. Therefore I left the method `_xgcd` in for integers for places where this really matters. The following timings are `without/with` the patch applied.

```
sage: x,y=3,21
sage: timeit('x.xgcd(y)')
625 loops, best of 3: 986 ns/1.56 µs per loop
sage: timeit('x._xgcd(y)')
625 loops, best of 3: 713 ns/704 ns per loop
sage: x,y=1/3,1/21
sage: timeit('x.xgcd(y)')
625 loops, best of 3: --- --/7.92 µs per loop
sage: R.<t> = QQbar[]
sage: x,y=t-1,t^2-1
sage: timeit('x.xgcd(y)')
125 loops, best of 3: 1.17 ms/1.18 ms per loop
sage: R.<t> = PolynomialRing(GF(3),implementation="NTL")
sage: x,y=t-1,t^2-1
sage: timeit('x.xgcd(y)')
625 loops, best of 3: 80 µs/80.9 µs per loop
```

Notice that there was no `xgcd` method for rational numbers before since it was defined only for `PrincipalIdealDomainElement` which `FieldElement` does not inherit from.

Also the docstring for Integers talked about some `weirdness` that was actually not present anymore. I checked all combinations of integers between -20 and 20 but could not find a single case where the output of xgcd without the `minimal` option produced something really surprising.

If the patchbot does not find any problems, then this is ready for review.



---

archive/issue_comments_211202.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2012-11-19T19:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211202",
    "user": "https://github.com/saraedum"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_211203.json:
```json
{
    "body": "Attachment [trac_13628.patch](tarball://root/attachments/some-uuid/ticket13628/trac_13628.patch) by @saraedum created at 2012-11-22 13:23:59\n\nidentical to the previous patch \u2014 but the patchbot somehow didn't want to pick up the new patch",
    "created_at": "2012-11-22T13:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211203",
    "user": "https://github.com/saraedum"
}
```

Attachment [trac_13628.patch](tarball://root/attachments/some-uuid/ticket13628/trac_13628.patch) by @saraedum created at 2012-11-22 13:23:59

identical to the previous patch — but the patchbot somehow didn't want to pick up the new patch



---

archive/issue_comments_211204.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,3 +3,9 @@\n The attached patch renames all _xgcd methods to xgcd and also streamlines the use of `@`coerce_binop on them.\n \n This is similar to #13441.\n+\n+---\n+\n+Apply\n+\n+1. [This is the Trac macro *attachment:trac_13628.2.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_13628.2.patch-macro)\n``````\n",
    "created_at": "2012-11-22T13:24:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211204",
    "user": "https://github.com/saraedum"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,3 +3,9 @@
 The attached patch renames all _xgcd methods to xgcd and also streamlines the use of `@`coerce_binop on them.
 
 This is similar to #13441.
+
+---
+
+Apply
+
+1. [This is the Trac macro *attachment:trac_13628.2.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_13628.2.patch-macro)
``````




---

archive/issue_comments_211205.json:
```json
{
    "body": "<a id='comment:5'></a>\nAttachment [trac_13628.2.patch](tarball://root/attachments/some-uuid/ticket13628/trac_13628.2.patch) by @saraedum created at 2012-11-22 13:24:49\n\nApply only trac_13628.2.patch",
    "created_at": "2012-11-22T13:24:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211205",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:5'></a>
Attachment [trac_13628.2.patch](tarball://root/attachments/some-uuid/ticket13628/trac_13628.2.patch) by @saraedum created at 2012-11-22 13:24:49

Apply only trac_13628.2.patch



---

archive/issue_comments_211206.json:
```json
{
    "body": "<a id='comment:6'></a>\nTwo minor things; the `INPUT:` and `OUTPUT:` blocks in the `fields.py` and `polynomial_modn_dense_ntl.pyx` files are indented one to many times and I prefer to have tuples in parenthesis `(r, s, t)` in the documentation. Thanks.",
    "created_at": "2012-11-25T08:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211206",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
Two minor things; the `INPUT:` and `OUTPUT:` blocks in the `fields.py` and `polynomial_modn_dense_ntl.pyx` files are indented one to many times and I prefer to have tuples in parenthesis `(r, s, t)` in the documentation. Thanks.



---

archive/issue_events_044140.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13628#event-44140"
}
```



---

archive/issue_comments_211207.json:
```json
{
    "body": "<a id='comment:8'></a>\nPlease rebase...",
    "created_at": "2013-12-23T13:23:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211207",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>
Please rebase...



---

archive/issue_comments_211208.json:
```json
{
    "body": "**Branch:** [u/niles/ticket/13628](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/ticket/13628)",
    "created_at": "2014-01-28T15:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211208",
    "user": "https://github.com/nilesjohnson"
}
```

**Branch:** [u/niles/ticket/13628](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/ticket/13628)



---

archive/issue_comments_211209.json:
```json
{
    "body": "**Commit:** [5b6e9c677f7fe5b4e6a484953b8f8ce1b2ec16d0](https://github.com/sagemath/sagetrac-mirror/commit/5b6e9c677f7fe5b4e6a484953b8f8ce1b2ec16d0)",
    "created_at": "2014-01-28T15:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211209",
    "user": "https://github.com/nilesjohnson"
}
```

**Commit:** [5b6e9c677f7fe5b4e6a484953b8f8ce1b2ec16d0](https://github.com/sagemath/sagetrac-mirror/commit/5b6e9c677f7fe5b4e6a484953b8f8ce1b2ec16d0)



---

archive/issue_comments_211210.json:
```json
{
    "body": "<a id='comment:10'></a>\nrebased to sage 6.0 and converted to git branch; no other changes\n\nmerges cleanly in local repository in spite of what trac says\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3df98176643734dc7bdc95cc077ef02af274d3b\">c3df981</a></td><td><code>Trac #13441: refactored gcd to not use _gcd calls anymore</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b6e9c677f7fe5b4e6a484953b8f8ce1b2ec16d0\">5b6e9c6</a></td><td><code>Trac #13628: refactored xgcd to not use _xgcd calls anymore.</code></td></tr></table>\n",
    "created_at": "2014-01-28T15:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211210",
    "user": "https://github.com/nilesjohnson"
}
```

<a id='comment:10'></a>
rebased to sage 6.0 and converted to git branch; no other changes

merges cleanly in local repository in spite of what trac says

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3df98176643734dc7bdc95cc077ef02af274d3b">c3df981</a></td><td><code>Trac #13441: refactored gcd to not use _gcd calls anymore</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b6e9c677f7fe5b4e6a484953b8f8ce1b2ec16d0">5b6e9c6</a></td><td><code>Trac #13628: refactored xgcd to not use _xgcd calls anymore.</code></td></tr></table>




---

archive/issue_comments_211211.json:
```json
{
    "body": "**Changing commit** from \"[5b6e9c677f7fe5b4e6a484953b8f8ce1b2ec16d0](https://github.com/sagemath/sagetrac-mirror/commit/5b6e9c677f7fe5b4e6a484953b8f8ce1b2ec16d0)\" to \"[72a598ea4e767523cc843500388f758639daeba6](https://github.com/sagemath/sagetrac-mirror/commit/72a598ea4e767523cc843500388f758639daeba6)\".",
    "created_at": "2014-01-30T16:55:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211211",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[5b6e9c677f7fe5b4e6a484953b8f8ce1b2ec16d0](https://github.com/sagemath/sagetrac-mirror/commit/5b6e9c677f7fe5b4e6a484953b8f8ce1b2ec16d0)" to "[72a598ea4e767523cc843500388f758639daeba6](https://github.com/sagemath/sagetrac-mirror/commit/72a598ea4e767523cc843500388f758639daeba6)".



---

archive/issue_comments_211212.json:
```json
{
    "body": "**Changing branch** from \"[u/niles/ticket/13628](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/ticket/13628)\" to \"[u/tscrim/ticket/13628](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/ticket/13628)\".",
    "created_at": "2014-01-30T16:55:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211212",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/niles/ticket/13628](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/ticket/13628)" to "[u/tscrim/ticket/13628](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/ticket/13628)".



---

archive/issue_comments_211213.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe branch I've attached is based on `develop` (and fixes the merge conflcit) and has some minor docstring review changes. If you're happy with my changes, then go ahead and set this to positive review.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc7f18794477deba0f58b89b8df7700cc5e932a4\">dc7f187</a></td><td><code>Merge branch 'u/niles/ticket/13441' of trac.sagemath.org:sage into u/tscrim/ticket/13441</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7cdeebbb524ccfc00a9f38f3c8dcd1aa7ed901f3\">7cdeebb</a></td><td><code>Removed tab characters and some very minor review tweaks.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a1f217522122835b4ef0e66e66f4f693d7d98be\">3a1f217</a></td><td><code>Merge branch 'u/niles/ticket/13628' of trac.sagemath.org:sage into u/tscrim/ticket/13628</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72a598ea4e767523cc843500388f758639daeba6\">72a598e</a></td><td><code>Some minor docstring review changes.</code></td></tr></table>\n",
    "created_at": "2014-01-30T16:55:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211213",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
The branch I've attached is based on `develop` (and fixes the merge conflcit) and has some minor docstring review changes. If you're happy with my changes, then go ahead and set this to positive review.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc7f18794477deba0f58b89b8df7700cc5e932a4">dc7f187</a></td><td><code>Merge branch 'u/niles/ticket/13441' of trac.sagemath.org:sage into u/tscrim/ticket/13441</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7cdeebbb524ccfc00a9f38f3c8dcd1aa7ed901f3">7cdeebb</a></td><td><code>Removed tab characters and some very minor review tweaks.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a1f217522122835b4ef0e66e66f4f693d7d98be">3a1f217</a></td><td><code>Merge branch 'u/niles/ticket/13628' of trac.sagemath.org:sage into u/tscrim/ticket/13628</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72a598ea4e767523cc843500388f758639daeba6">72a598e</a></td><td><code>Some minor docstring review changes.</code></td></tr></table>




---

archive/issue_comments_211214.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [tscrim](#comment%3A11):\n> The branch I've attached is based on `develop` (and fixes the merge conflcit) and has some minor docstring review changes. \n\n\n\nGot some failing doctests here; if you fix them I can give positive review to your changes.  (You could also change tuples in the documentation to use parentheses, which I like too.)  Are you giving positive review to the other parts of the patch?\n\n\n```\nsage -t --long src/sage/rings/polynomial/polynomial_quotient_ring.py\n**********************************************************************\nFile \"src/sage/rings/polynomial/polynomial_quotient_ring.py\", line 254, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic\nFailed example:\n    [s for s in dir(Q.category().element_class) if not s.startswith('_')]\nExpected:\n    ['cartesian_product', 'is_idempotent', 'is_one', 'lift', 'xgcd']\nGot:\n    ['cartesian_product', 'is_idempotent', 'is_one', 'is_unit', 'lift']\n**********************************************************************\nFile \"src/sage/rings/polynomial/polynomial_quotient_ring.py\", line 267, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic\nFailed example:\n    [s for s in dir(Q.category().element_class) if not s.startswith('_')]\nExpected:\n    ['cartesian_product', 'gcd', 'is_idempotent', 'is_one', 'is_unit', 'lcm', 'lift']\nGot:\n    ['cartesian_product', 'gcd', 'is_idempotent', 'is_one', 'is_unit', 'lcm', 'lift', 'xgcd']\n**********************************************************************\n\n\n\nsage -t --long src/sage/rings/integer.pyx\n**********************************************************************\nFile \"src/sage/rings/integer.pyx\", line 5390, in sage.rings.integer.Integer._xgcd\nFailed example:\n    -5._xgcd(0, minimal=True)\nException raised:\n    Traceback (most recent call last):\n    ...\n    TypeError: bad operand type for unary -: 'tuple'\n**********************************************************************\n\n\nsage -t --long src/sage/rings/arith.py\n**********************************************************************\nFile \"src/sage/rings/arith.py\", line 1886, in sage.rings.arith.xgcd\nFailed example:\n    g, a, b = xgcd(5/1, 7/1); g, a, b\nExpected:\n    (1, 3, -2)\nGot:\n    (1, 1/5, 0)\n**********************************************************************\n```",
    "created_at": "2014-01-30T18:11:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211214",
    "user": "https://github.com/nilesjohnson"
}
```

<a id='comment:12'></a>
Replying to [tscrim](#comment%3A11):
> The branch I've attached is based on `develop` (and fixes the merge conflcit) and has some minor docstring review changes. 



Got some failing doctests here; if you fix them I can give positive review to your changes.  (You could also change tuples in the documentation to use parentheses, which I like too.)  Are you giving positive review to the other parts of the patch?


```
sage -t --long src/sage/rings/polynomial/polynomial_quotient_ring.py
**********************************************************************
File "src/sage/rings/polynomial/polynomial_quotient_ring.py", line 254, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic
Failed example:
    [s for s in dir(Q.category().element_class) if not s.startswith('_')]
Expected:
    ['cartesian_product', 'is_idempotent', 'is_one', 'lift', 'xgcd']
Got:
    ['cartesian_product', 'is_idempotent', 'is_one', 'is_unit', 'lift']
**********************************************************************
File "src/sage/rings/polynomial/polynomial_quotient_ring.py", line 267, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic
Failed example:
    [s for s in dir(Q.category().element_class) if not s.startswith('_')]
Expected:
    ['cartesian_product', 'gcd', 'is_idempotent', 'is_one', 'is_unit', 'lcm', 'lift']
Got:
    ['cartesian_product', 'gcd', 'is_idempotent', 'is_one', 'is_unit', 'lcm', 'lift', 'xgcd']
**********************************************************************



sage -t --long src/sage/rings/integer.pyx
**********************************************************************
File "src/sage/rings/integer.pyx", line 5390, in sage.rings.integer.Integer._xgcd
Failed example:
    -5._xgcd(0, minimal=True)
Exception raised:
    Traceback (most recent call last):
    ...
    TypeError: bad operand type for unary -: 'tuple'
**********************************************************************


sage -t --long src/sage/rings/arith.py
**********************************************************************
File "src/sage/rings/arith.py", line 1886, in sage.rings.arith.xgcd
Failed example:
    g, a, b = xgcd(5/1, 7/1); g, a, b
Expected:
    (1, 3, -2)
Got:
    (1, 1/5, 0)
**********************************************************************
```



---

archive/issue_comments_211215.json:
```json
{
    "body": "**Changing commit** from \"[72a598ea4e767523cc843500388f758639daeba6](https://github.com/sagemath/sagetrac-mirror/commit/72a598ea4e767523cc843500388f758639daeba6)\" to \"[11bcbdbf7a8e32cea71b1de1eac7c0c67fbd64f8](https://github.com/sagemath/sagetrac-mirror/commit/11bcbdbf7a8e32cea71b1de1eac7c0c67fbd64f8)\".",
    "created_at": "2014-01-30T20:27:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211215",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[72a598ea4e767523cc843500388f758639daeba6](https://github.com/sagemath/sagetrac-mirror/commit/72a598ea4e767523cc843500388f758639daeba6)" to "[11bcbdbf7a8e32cea71b1de1eac7c0c67fbd64f8](https://github.com/sagemath/sagetrac-mirror/commit/11bcbdbf7a8e32cea71b1de1eac7c0c67fbd64f8)".



---

archive/issue_comments_211216.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11bcbdbf7a8e32cea71b1de1eac7c0c67fbd64f8\">11bcbdb</a></td><td><code>Fixed failing doctests.</code></td></tr></table>\n",
    "created_at": "2014-01-30T20:27:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11bcbdbf7a8e32cea71b1de1eac7c0c67fbd64f8">11bcbdb</a></td><td><code>Fixed failing doctests.</code></td></tr></table>




---

archive/issue_comments_211217.json:
```json
{
    "body": "**Changing commit** from \"[11bcbdbf7a8e32cea71b1de1eac7c0c67fbd64f8](https://github.com/sagemath/sagetrac-mirror/commit/11bcbdbf7a8e32cea71b1de1eac7c0c67fbd64f8)\" to \"[2e26b217df37fd113cbdde00a090d4601f508786](https://github.com/sagemath/sagetrac-mirror/commit/2e26b217df37fd113cbdde00a090d4601f508786)\".",
    "created_at": "2014-01-30T20:29:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211217",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[11bcbdbf7a8e32cea71b1de1eac7c0c67fbd64f8](https://github.com/sagemath/sagetrac-mirror/commit/11bcbdbf7a8e32cea71b1de1eac7c0c67fbd64f8)" to "[2e26b217df37fd113cbdde00a090d4601f508786](https://github.com/sagemath/sagetrac-mirror/commit/2e26b217df37fd113cbdde00a090d4601f508786)".



---

archive/issue_comments_211218.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e26b217df37fd113cbdde00a090d4601f508786\">2e26b21</a></td><td><code>Fixed missed parenthesis for a tuple.</code></td></tr></table>\n",
    "created_at": "2014-01-30T20:29:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211218",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e26b217df37fd113cbdde00a090d4601f508786">2e26b21</a></td><td><code>Fixed missed parenthesis for a tuple.</code></td></tr></table>




---

archive/issue_comments_211219.json:
```json
{
    "body": "<a id='comment:15'></a>\nFixed. The first two just had to be changed due to the method's definition moving locations. The third was an order of operations mistake. The last one, because `5/1` and `7/1` are in `\\QQ`, I think is okay to change it to the output rather than treating them as integers which was what was previously happening.",
    "created_at": "2014-01-30T20:33:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211219",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>
Fixed. The first two just had to be changed due to the method's definition moving locations. The third was an order of operations mistake. The last one, because `5/1` and `7/1` are in `\QQ`, I think is okay to change it to the output rather than treating them as integers which was what was previously happening.



---

archive/issue_events_044141.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13628#event-44141"
}
```



---

archive/issue_events_044142.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13628#event-44142"
}
```



---

archive/issue_comments_211220.json:
```json
{
    "body": "<a id='comment:17'></a>\nThanks for the fixes.  Checking the documentation, I found a couple of problems in `sage.rings.Integer`:  \n\n* There is a typo \"NOET\" in the docstring for `xgcd`\n* The MATH blocks for the Bezout identity in `xgcd` and `_xgcd` each have an extra `\\rm`: The syntax `\\mbox{\\rm self}` renders as \"\\rm self\".  Probably the block can just be replaced with a backtick-quoted line, since that's what's used in other xgcd docsstrings:\n\n```\n``g = s * self + t * n``\n```\n* `\\rm self` occurs in another line of `_xgcd` docstring, but since this is an underscore method I don't know how to check the built docstring.  Maybe remove it since the other `\\rm`'s caused trouble, but this is a minor point since no regular user will view the built documentation for `_xgcd`.\n\nEverything else looks fine, so I can give positive review to the reviewer patch when these (admittedly annoying) details are fixed.",
    "created_at": "2014-01-31T15:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211220",
    "user": "https://github.com/nilesjohnson"
}
```

<a id='comment:17'></a>
Thanks for the fixes.  Checking the documentation, I found a couple of problems in `sage.rings.Integer`:  

* There is a typo "NOET" in the docstring for `xgcd`
* The MATH blocks for the Bezout identity in `xgcd` and `_xgcd` each have an extra `\rm`: The syntax `\mbox{\rm self}` renders as "\rm self".  Probably the block can just be replaced with a backtick-quoted line, since that's what's used in other xgcd docsstrings:

```
``g = s * self + t * n``
```
* `\rm self` occurs in another line of `_xgcd` docstring, but since this is an underscore method I don't know how to check the built docstring.  Maybe remove it since the other `\rm`'s caused trouble, but this is a minor point since no regular user will view the built documentation for `_xgcd`.

Everything else looks fine, so I can give positive review to the reviewer patch when these (admittedly annoying) details are fixed.



---

archive/issue_comments_211221.json:
```json
{
    "body": "**Changing commit** from \"[2e26b217df37fd113cbdde00a090d4601f508786](https://github.com/sagemath/sagetrac-mirror/commit/2e26b217df37fd113cbdde00a090d4601f508786)\" to \"[5b3ee54bb662e494a7a93f6729b20713412ad6ca](https://github.com/sagemath/sagetrac-mirror/commit/5b3ee54bb662e494a7a93f6729b20713412ad6ca)\".",
    "created_at": "2014-01-31T15:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211221",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2e26b217df37fd113cbdde00a090d4601f508786](https://github.com/sagemath/sagetrac-mirror/commit/2e26b217df37fd113cbdde00a090d4601f508786)" to "[5b3ee54bb662e494a7a93f6729b20713412ad6ca](https://github.com/sagemath/sagetrac-mirror/commit/5b3ee54bb662e494a7a93f6729b20713412ad6ca)".



---

archive/issue_comments_211222.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b3ee54bb662e494a7a93f6729b20713412ad6ca\">5b3ee54</a></td><td><code>Fix typo and MATH docstrong.</code></td></tr></table>\n",
    "created_at": "2014-01-31T15:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211222",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b3ee54bb662e494a7a93f6729b20713412ad6ca">5b3ee54</a></td><td><code>Fix typo and MATH docstrong.</code></td></tr></table>




---

archive/issue_comments_211223.json:
```json
{
    "body": "**Reviewer:** Niles Johnson, Travis Scrimshaw",
    "created_at": "2014-01-31T15:48:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211223",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Niles Johnson, Travis Scrimshaw



---

archive/issue_comments_211224.json:
```json
{
    "body": "<a id='comment:19'></a>\nWhoops, that typo was from me. I've fixed the MATH block to use `\\mathrm{self}`. If that works for you, then you can set this to positive review. Thanks.",
    "created_at": "2014-01-31T15:48:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211224",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>
Whoops, that typo was from me. I've fixed the MATH block to use `\mathrm{self}`. If that works for you, then you can set this to positive review. Thanks.



---

archive/issue_comments_211225.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,9 +3,3 @@\n The attached patch renames all _xgcd methods to xgcd and also streamlines the use of `@`coerce_binop on them.\n \n This is similar to #13441.\n-\n----\n-\n-Apply\n-\n-1. [This is the Trac macro *attachment:trac_13628.2.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_13628.2.patch-macro)\n``````\n",
    "created_at": "2014-01-31T15:48:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211225",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,9 +3,3 @@
 The attached patch renames all _xgcd methods to xgcd and also streamlines the use of `@`coerce_binop on them.
 
 This is similar to #13441.
-
----
-
-Apply
-
-1. [This is the Trac macro *attachment:trac_13628.2.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_13628.2.patch-macro)
``````




---

archive/issue_comments_211226.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2014-01-31T15:52:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211226",
    "user": "https://github.com/nilesjohnson"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_211227.json:
```json
{
    "body": "<a id='comment:20'></a>\nLooks good.",
    "created_at": "2014-01-31T15:52:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211227",
    "user": "https://github.com/nilesjohnson"
}
```

<a id='comment:20'></a>
Looks good.



---

archive/issue_events_044143.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-02T20:33:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13628#event-44143"
}
```



---

archive/issue_comments_211228.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2014-02-02T20:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13628#issuecomment-211228",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed
