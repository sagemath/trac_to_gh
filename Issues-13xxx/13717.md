# Issue 13717: Upgrade to sagenb 0.10.4

archive/issues_013513.json:
```json
{
    "assignees": [],
    "body": "This is a relatively minor upgrade. It contains a few bugfixes, plus packaging one more dependency to take care of the problem at #12719/#10353. It also merges patches from #13504 and #13678, so those need to be merged simultaneously with this ticket.\n\nSPKG at http://wstein.org/home/keshav/files/sagenb-0.10.4.spkg\n\nHere's a short log of the commits:\n\n```\n[2] fs@erdos ~/src/sagenb $ git log --oneline --simplify-merges 0.10.2..0.10.4 | cat\n4648948 (HEAD, tag: refs/tags/0.10.4, refs/remotes/upstream/master, refs/heads/master) Version bump to 0.10.4\n64bcd91 (refs/remotes/origin/master, refs/remotes/origin/HEAD) Link the new HACKING.rst to the Sage docs\n2638c05 Update installation README\nae02bff Merge remote-tracking branches '@jhpalmieri/mathmode_v2' and '@jhpalmieri/latex-macros'; commit '4696154' from @robertwb\n4696154 (refs/remotes/robertwb/master) Fix for sage #13678, allow tab completion of matrix constructor.\n9cf8ac7 (refs/remotes/jhpalmieri/latex-macros) sage.misc.latex_macros: do not evaluate anything on startup. See trac #13504\n5985758 (refs/remotes/jhpalmieri/mathmode_v2, refs/heads/mathmode_v2) Reinstate 'is_html_markup'.\ne11c433 (refs/heads/gh-126) Merge pull request #127 from gvol/master\n4396d0f Ignore Mac metadata files when uploading a zip\n6a42da6 Merge pull request #115 from jasongrout/openid-import\n679e43f Fix the import for openid, as per http://flask.pocoo.org/docs/extensions/#using-extensions\nc384b4e (tag: refs/tags/0.10.3) Update sagenb version number to 0.10.3\n96a3732 Package zope.interface, which is required for twisted\n0ae273b Merge pull request #66 from rmartinjak/usermgmt\nc65fccb Merge branch 'master' into usermgmt\nd026aac two small cosmetic changes\n460ef01 Merge branch 'master' into usermgmt\n1a94141 Merge branch 'master' into usermgmt\n0d616c4 Merge branch 'master' into usermgmt\n6bf3398 Merge branch 'master' into usermgmt\n54204e5 Merge branch 'master' into usermgmt\ncca8fd3 Merge branch 'master' into usermgmt\n759a99b Merge branch 'master' into usermgmt\na0e3e7d Merge branch 'master' into usermgmt\ne2beade added granting/revoking of admin privileges\n22c6424 added possibility to delete users\n97dd5b8 distinct URI for suspend/delete\n150ac05 Fix admin permission checking\ncf421ee Merge pull request #92 from alfredoport/master\nf65b291 Update sagenb/notebook/notebook.py\n3280031 Merge pull request #97 from jhpalmieri/mathmode\nf1f1a9f (refs/remotes/jhpalmieri/mathmode) Fix introspection and live documentation in the notebook\n7aadeb3 With introspection and live documentation in the notebook, fix spurious \\(,\\) and \\[,\\] pairs\nbe5eb3c Merge pull request #99 from kcrisman/patch-2\n37d598c mmarco's idea to solve \"invalid username\" error\nadcd348 Merge pull request #101 from rmartinjak/issue-47\n4498cef create default users if \"admin\" doesn't exist\n50c3130 Merge pull request #104 from lukas-lansky/graph-editor-jQuery\naa29f96 jQuery reference repair in graph_editor\n```\n\n\nDepends on #13504\nDepends on #13678\n\nCC:  @kini @jhpalmieri\n\nReviewer: **Volker Braun**\n\nAuthor: **Jason Grout, Keshav Kini**\n\nMerged: **sage-5.7.beta0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13717_\n\n",
    "closed_at": "2013-01-23T15:36:13Z",
    "created_at": "2012-11-16T15:33:01Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade to sagenb 0.10.4",
    "type": "issue",
    "updated_at": "2013-03-22T02:53:42Z",
    "url": "https://github.com/sagemath/sage/issues/13717",
    "user": "https://github.com/jasongrout"
}
```
This is a relatively minor upgrade. It contains a few bugfixes, plus packaging one more dependency to take care of the problem at #12719/#10353. It also merges patches from #13504 and #13678, so those need to be merged simultaneously with this ticket.

SPKG at http://wstein.org/home/keshav/files/sagenb-0.10.4.spkg

Here's a short log of the commits:

```
[2] fs@erdos ~/src/sagenb $ git log --oneline --simplify-merges 0.10.2..0.10.4 | cat
4648948 (HEAD, tag: refs/tags/0.10.4, refs/remotes/upstream/master, refs/heads/master) Version bump to 0.10.4
64bcd91 (refs/remotes/origin/master, refs/remotes/origin/HEAD) Link the new HACKING.rst to the Sage docs
2638c05 Update installation README
ae02bff Merge remote-tracking branches '@jhpalmieri/mathmode_v2' and '@jhpalmieri/latex-macros'; commit '4696154' from @robertwb
4696154 (refs/remotes/robertwb/master) Fix for sage #13678, allow tab completion of matrix constructor.
9cf8ac7 (refs/remotes/jhpalmieri/latex-macros) sage.misc.latex_macros: do not evaluate anything on startup. See trac #13504
5985758 (refs/remotes/jhpalmieri/mathmode_v2, refs/heads/mathmode_v2) Reinstate 'is_html_markup'.
e11c433 (refs/heads/gh-126) Merge pull request #127 from gvol/master
4396d0f Ignore Mac metadata files when uploading a zip
6a42da6 Merge pull request #115 from jasongrout/openid-import
679e43f Fix the import for openid, as per http://flask.pocoo.org/docs/extensions/#using-extensions
c384b4e (tag: refs/tags/0.10.3) Update sagenb version number to 0.10.3
96a3732 Package zope.interface, which is required for twisted
0ae273b Merge pull request #66 from rmartinjak/usermgmt
c65fccb Merge branch 'master' into usermgmt
d026aac two small cosmetic changes
460ef01 Merge branch 'master' into usermgmt
1a94141 Merge branch 'master' into usermgmt
0d616c4 Merge branch 'master' into usermgmt
6bf3398 Merge branch 'master' into usermgmt
54204e5 Merge branch 'master' into usermgmt
cca8fd3 Merge branch 'master' into usermgmt
759a99b Merge branch 'master' into usermgmt
a0e3e7d Merge branch 'master' into usermgmt
e2beade added granting/revoking of admin privileges
22c6424 added possibility to delete users
97dd5b8 distinct URI for suspend/delete
150ac05 Fix admin permission checking
cf421ee Merge pull request #92 from alfredoport/master
f65b291 Update sagenb/notebook/notebook.py
3280031 Merge pull request #97 from jhpalmieri/mathmode
f1f1a9f (refs/remotes/jhpalmieri/mathmode) Fix introspection and live documentation in the notebook
7aadeb3 With introspection and live documentation in the notebook, fix spurious \(,\) and \[,\] pairs
be5eb3c Merge pull request #99 from kcrisman/patch-2
37d598c mmarco's idea to solve "invalid username" error
adcd348 Merge pull request #101 from rmartinjak/issue-47
4498cef create default users if "admin" doesn't exist
50c3130 Merge pull request #104 from lukas-lansky/graph-editor-jQuery
aa29f96 jQuery reference repair in graph_editor
```


Depends on #13504
Depends on #13678

CC:  @kini @jhpalmieri

Reviewer: **Volker Braun**

Author: **Jason Grout, Keshav Kini**

Merged: **sage-5.7.beta0**

_Issue created by migration from https://trac.sagemath.org/ticket/13717_





---

archive/issue_events_170067.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2012-11-16T15:33:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "milestone_number": null,
    "milestone_title": "sage-5.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170067"
}
```



---

archive/issue_events_170068.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2012-11-16T15:33:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170068"
}
```



---

archive/issue_events_170069.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2012-11-16T15:33:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170069"
}
```



---

archive/issue_events_170070.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2012-11-16T15:33:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170070"
}
```



---

archive/issue_comments_163545.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,37 @@\n Spkg at http://sage.math.washington.edu/home/jason/sagenb-0.10.3.spkg\n \n \n+Here's a short log of the commits\n+\n+```\n+% git log --oneline --simplify-merges 0.10.2..0.10.3    \n+c384b4e Update sagenb version number to 0.10.3\n+96a3732 Package zope.interface, which is required for twisted\n+0ae273b Merge pull request #66 from rmartinjak/usermgmt\n+c65fccb Merge branch 'master' into usermgmt\n+d026aac two small cosmetic changes\n+460ef01 Merge branch 'master' into usermgmt\n+1a94141 Merge branch 'master' into usermgmt\n+0d616c4 Merge branch 'master' into usermgmt\n+6bf3398 Merge branch 'master' into usermgmt\n+54204e5 Merge branch 'master' into usermgmt\n+cca8fd3 Merge branch 'master' into usermgmt\n+759a99b Merge branch 'master' into usermgmt\n+a0e3e7d Merge branch 'master' into usermgmt\n+e2beade added granting/revoking of admin privileges\n+22c6424 added possibility to delete users\n+97dd5b8 distinct URI for suspend/delete\n+150ac05 Fix admin permission checking\n+cf421ee Merge pull request #92 from alfredoport/master\n+f65b291 Update sagenb/notebook/notebook.py\n+3280031 Merge pull request #97 from jhpalmieri/mathmode\n+f1f1a9f Fix introspection and live documentation in the notebook\n+7aadeb3 With introspection and live documentation in the notebook, fix spurious \\(,\\) and \\[,\\] pairs\n+be5eb3c Merge pull request #99 from kcrisman/patch-2\n+37d598c mmarco's idea to solve \"invalid username\" error\n+adcd348 Merge pull request #101 from rmartinjak/issue-47\n+4498cef create default users if \"admin\" doesn't exist\n+50c3130 Merge pull request #104 from lukas-lansky/graph-editor-jQuery\n+aa29f96 jQuery reference repair in graph_editor\n+```\n+\n``````\n",
    "created_at": "2012-11-16T15:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163545",
    "user": "https://github.com/jasongrout"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,37 @@
 Spkg at http://sage.math.washington.edu/home/jason/sagenb-0.10.3.spkg
 
 
+Here's a short log of the commits
+
+```
+% git log --oneline --simplify-merges 0.10.2..0.10.3    
+c384b4e Update sagenb version number to 0.10.3
+96a3732 Package zope.interface, which is required for twisted
+0ae273b Merge pull request #66 from rmartinjak/usermgmt
+c65fccb Merge branch 'master' into usermgmt
+d026aac two small cosmetic changes
+460ef01 Merge branch 'master' into usermgmt
+1a94141 Merge branch 'master' into usermgmt
+0d616c4 Merge branch 'master' into usermgmt
+6bf3398 Merge branch 'master' into usermgmt
+54204e5 Merge branch 'master' into usermgmt
+cca8fd3 Merge branch 'master' into usermgmt
+759a99b Merge branch 'master' into usermgmt
+a0e3e7d Merge branch 'master' into usermgmt
+e2beade added granting/revoking of admin privileges
+22c6424 added possibility to delete users
+97dd5b8 distinct URI for suspend/delete
+150ac05 Fix admin permission checking
+cf421ee Merge pull request #92 from alfredoport/master
+f65b291 Update sagenb/notebook/notebook.py
+3280031 Merge pull request #97 from jhpalmieri/mathmode
+f1f1a9f Fix introspection and live documentation in the notebook
+7aadeb3 With introspection and live documentation in the notebook, fix spurious \(,\) and \[,\] pairs
+be5eb3c Merge pull request #99 from kcrisman/patch-2
+37d598c mmarco's idea to solve "invalid username" error
+adcd348 Merge pull request #101 from rmartinjak/issue-47
+4498cef create default users if "admin" doesn't exist
+50c3130 Merge pull request #104 from lukas-lansky/graph-editor-jQuery
+aa29f96 jQuery reference repair in graph_editor
+```
+
``````




---

archive/issue_comments_163546.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nIt looks like we have two failing doctests: \n\n```\nsage -t  -force_lib \"devel/sagenb-main/sagenb/misc/sphinxify.py\"\n**********************************************************************\nFile \"/Users/grout/sage-trees/sage-5.4/devel/sagenb-main/sagenb/misc/sphinxify.py\", line 57:\n    sage: sphinxify('`x=y`')\nExpected:\n    '\\n<div class=\"docstring\">\\n    \\n  <p><span class=\"math\">\\\\(x=y\\\\)</span></p>\\n\\n\\n</div>'\nGot:\n    '\\n<div class=\"docstring\">\\n    \\n  <p><span class=\"math\">x=y</span></p>\\n\\n\\n</div>'\n**********************************************************************\n1 items had failures:\n   1 of   9 in __main__.example_1\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /Users/grout/.sage//tmp/sphinxify_78034.py\n\t [3.1 s]\nsage -t  -force_lib \"devel/sagenb-main/sagenb/misc/support.py\"\n**********************************************************************\nFile \"/Users/grout/sage-trees/sage-5.4/devel/sagenb-main/sagenb/misc/support.py\", line 246:\n    sage: D = docstring(\"r.lm\", globs=globals())\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/grout/sage-trees/sage-5.4/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/Users/grout/sage-trees/sage-5.4/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/Users/grout/sage-trees/sage-5.4/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_4[3]>\", line 1, in <module>\n        D = docstring(\"r.lm\", globs=globals())###line 246:\n    sage: D = docstring(\"r.lm\", globs=globals())\n      File \"/Users/grout/sage-trees/sage-5.4/devel/sagenb/sagenb/misc/support.py\", line 275, in docstring\n        return html_markup(s.decode('utf-8'))\n      File \"/Users/grout/sage-trees/sage-5.4/devel/sagenb/sagenb/misc/support.py\", line 280, in html_markup\n        return sphinxify(s)\n      File \"/Users/grout/sage-trees/sage-5.4/devel/sagenb/sagenb/misc/sphinxify.py\", line 79, in sphinxify\n        filed.write(docstring)\n    UnicodeEncodeError: 'ascii' codec can't encode character u'\\u2018' in position 370: ordinal not in range(128)\n**********************************************************************\n1 items had failures:\n   1 of   5 in __main__.example_4\n***Test Failed*** 1 failures.\n```\n\njhpalmieri, these both seem to be in your area of expertise.  What do you think?",
    "created_at": "2012-11-16T15:59:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163546",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:2'>Comment 2:</a>
It looks like we have two failing doctests: 

```
sage -t  -force_lib "devel/sagenb-main/sagenb/misc/sphinxify.py"
**********************************************************************
File "/Users/grout/sage-trees/sage-5.4/devel/sagenb-main/sagenb/misc/sphinxify.py", line 57:
    sage: sphinxify('`x=y`')
Expected:
    '\n<div class="docstring">\n    \n  <p><span class="math">\\(x=y\\)</span></p>\n\n\n</div>'
Got:
    '\n<div class="docstring">\n    \n  <p><span class="math">x=y</span></p>\n\n\n</div>'
**********************************************************************
1 items had failures:
   1 of   9 in __main__.example_1
***Test Failed*** 1 failures.
For whitespace errors, see the file /Users/grout/.sage//tmp/sphinxify_78034.py
	 [3.1 s]
sage -t  -force_lib "devel/sagenb-main/sagenb/misc/support.py"
**********************************************************************
File "/Users/grout/sage-trees/sage-5.4/devel/sagenb-main/sagenb/misc/support.py", line 246:
    sage: D = docstring("r.lm", globs=globals())
Exception raised:
    Traceback (most recent call last):
      File "/Users/grout/sage-trees/sage-5.4/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/Users/grout/sage-trees/sage-5.4/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/Users/grout/sage-trees/sage-5.4/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_4[3]>", line 1, in <module>
        D = docstring("r.lm", globs=globals())###line 246:
    sage: D = docstring("r.lm", globs=globals())
      File "/Users/grout/sage-trees/sage-5.4/devel/sagenb/sagenb/misc/support.py", line 275, in docstring
        return html_markup(s.decode('utf-8'))
      File "/Users/grout/sage-trees/sage-5.4/devel/sagenb/sagenb/misc/support.py", line 280, in html_markup
        return sphinxify(s)
      File "/Users/grout/sage-trees/sage-5.4/devel/sagenb/sagenb/misc/sphinxify.py", line 79, in sphinxify
        filed.write(docstring)
    UnicodeEncodeError: 'ascii' codec can't encode character u'\u2018' in position 370: ordinal not in range(128)
**********************************************************************
1 items had failures:
   1 of   5 in __main__.example_4
***Test Failed*** 1 failures.
```

jhpalmieri, these both seem to be in your area of expertise.  What do you think?



---

archive/issue_events_170071.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2012-11-16T16:09:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170071"
}
```



---

archive/issue_events_170072.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2012-11-16T16:09:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170072"
}
```



---

archive/issue_events_170073.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2012-11-16T16:09:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170073"
}
```



---

archive/issue_comments_163547.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\n(I got those failures above on 5.4 using `sage -t -sagenb`.   Is the problem that I was working on 5.4?",
    "created_at": "2012-11-16T16:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163547",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:5'>Comment 5:</a>
(I got those failures above on 5.4 using `sage -t -sagenb`.   Is the problem that I was working on 5.4?



---

archive/issue_comments_163548.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nI've moved discussion of these failing doctests back over to github: https://github.com/sagemath/sagenb/issues/112",
    "created_at": "2012-11-16T16:20:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163548",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:6'>Comment 6:</a>
I've moved discussion of these failing doctests back over to github: https://github.com/sagemath/sagenb/issues/112



---

archive/issue_comments_163549.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nThis now blocks #10353 is the sphinx problem the only thing holding the upgrade?",
    "created_at": "2013-01-15T21:55:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163549",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'>Comment 7:</a>
This now blocks #10353 is the sphinx problem the only thing holding the upgrade?



---

archive/issue_comments_163550.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nI guess we should probably merge [gh-96](https://github.com/sagemath/sagenb/pull/96) for #13504 and [gh-125](https://github.com/sagemath/sagenb/pull/125) for #13678, along with a fix for the above mentioned sphinx issues, into 0.10.4 and update this ticket with a new spkg.",
    "created_at": "2013-01-16T08:56:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163550",
    "user": "https://github.com/kini"
}
```

<a id='comment:8'>Comment 8:</a>
I guess we should probably merge [gh-96](https://github.com/sagemath/sagenb/pull/96) for #13504 and [gh-125](https://github.com/sagemath/sagenb/pull/125) for #13678, along with a fix for the above mentioned sphinx issues, into 0.10.4 and update this ticket with a new spkg.



---

archive/issue_comments_163551.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,13 +1,23 @@\n-This is a relatively minor upgrade (a few bugfixes, plus packaging one more dependency to take care of the problem at #12719.\n+This is a relatively minor upgrade. It contains a few bugfixes, plus packaging one more dependency to take care of the problem at #12719/#10353. It also merges patches from #13504 and #13678, so those need to be merged simultaneously with this ticket.\n \n-Spkg at http://sage.math.washington.edu/home/jason/sagenb-0.10.3.spkg\n+SPKG at http://wstein.org/home/keshav/sagenb-0.10.4.spkg\n \n-\n-Here's a short log of the commits\n+Here's a short log of the commits:\n \n ```\n-% git log --oneline --simplify-merges 0.10.2..0.10.3    \n-c384b4e Update sagenb version number to 0.10.3\n+[2] fs@erdos ~/src/sagenb $ git log --oneline --simplify-merges 0.10.2..0.10.4 | cat\n+4648948 (HEAD, tag: refs/tags/0.10.4, refs/remotes/upstream/master, refs/heads/master) Version bump to 0.10.4\n+64bcd91 (refs/remotes/origin/master, refs/remotes/origin/HEAD) Link the new HACKING.rst to the Sage docs\n+2638c05 Update installation README\n+ae02bff Merge remote-tracking branches '@jhpalmieri/mathmode_v2' and '@jhpalmieri/latex-macros'; commit '4696154' from @robertwb\n+4696154 (refs/remotes/robertwb/master) Fix for sage #13678, allow tab completion of matrix constructor.\n+9cf8ac7 (refs/remotes/jhpalmieri/latex-macros) sage.misc.latex_macros: do not evaluate anything on startup. See trac #13504\n+5985758 (refs/remotes/jhpalmieri/mathmode_v2, refs/heads/mathmode_v2) Reinstate 'is_html_markup'.\n+e11c433 (refs/heads/gh-126) Merge pull request #127 from gvol/master\n+4396d0f Ignore Mac metadata files when uploading a zip\n+6a42da6 Merge pull request #115 from jasongrout/openid-import\n+679e43f Fix the import for openid, as per http://flask.pocoo.org/docs/extensions/#using-extensions\n+c384b4e (tag: refs/tags/0.10.3) Update sagenb version number to 0.10.3\n 96a3732 Package zope.interface, which is required for twisted\n 0ae273b Merge pull request #66 from rmartinjak/usermgmt\n c65fccb Merge branch 'master' into usermgmt\n@@ -27,7 +37,7 @@\n cf421ee Merge pull request #92 from alfredoport/master\n f65b291 Update sagenb/notebook/notebook.py\n 3280031 Merge pull request #97 from jhpalmieri/mathmode\n-f1f1a9f Fix introspection and live documentation in the notebook\n+f1f1a9f (refs/remotes/jhpalmieri/mathmode) Fix introspection and live documentation in the notebook\n 7aadeb3 With introspection and live documentation in the notebook, fix spurious \\(,\\) and \\[,\\] pairs\n be5eb3c Merge pull request #99 from kcrisman/patch-2\n 37d598c mmarco's idea to solve \"invalid username\" error\n``````\n",
    "created_at": "2013-01-17T07:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163551",
    "user": "https://github.com/kini"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,13 +1,23 @@
-This is a relatively minor upgrade (a few bugfixes, plus packaging one more dependency to take care of the problem at #12719.
+This is a relatively minor upgrade. It contains a few bugfixes, plus packaging one more dependency to take care of the problem at #12719/#10353. It also merges patches from #13504 and #13678, so those need to be merged simultaneously with this ticket.
 
-Spkg at http://sage.math.washington.edu/home/jason/sagenb-0.10.3.spkg
+SPKG at http://wstein.org/home/keshav/sagenb-0.10.4.spkg
 
-
-Here's a short log of the commits
+Here's a short log of the commits:
 
 ```
-% git log --oneline --simplify-merges 0.10.2..0.10.3    
-c384b4e Update sagenb version number to 0.10.3
+[2] fs@erdos ~/src/sagenb $ git log --oneline --simplify-merges 0.10.2..0.10.4 | cat
+4648948 (HEAD, tag: refs/tags/0.10.4, refs/remotes/upstream/master, refs/heads/master) Version bump to 0.10.4
+64bcd91 (refs/remotes/origin/master, refs/remotes/origin/HEAD) Link the new HACKING.rst to the Sage docs
+2638c05 Update installation README
+ae02bff Merge remote-tracking branches '@jhpalmieri/mathmode_v2' and '@jhpalmieri/latex-macros'; commit '4696154' from @robertwb
+4696154 (refs/remotes/robertwb/master) Fix for sage #13678, allow tab completion of matrix constructor.
+9cf8ac7 (refs/remotes/jhpalmieri/latex-macros) sage.misc.latex_macros: do not evaluate anything on startup. See trac #13504
+5985758 (refs/remotes/jhpalmieri/mathmode_v2, refs/heads/mathmode_v2) Reinstate 'is_html_markup'.
+e11c433 (refs/heads/gh-126) Merge pull request #127 from gvol/master
+4396d0f Ignore Mac metadata files when uploading a zip
+6a42da6 Merge pull request #115 from jasongrout/openid-import
+679e43f Fix the import for openid, as per http://flask.pocoo.org/docs/extensions/#using-extensions
+c384b4e (tag: refs/tags/0.10.3) Update sagenb version number to 0.10.3
 96a3732 Package zope.interface, which is required for twisted
 0ae273b Merge pull request #66 from rmartinjak/usermgmt
 c65fccb Merge branch 'master' into usermgmt
@@ -27,7 +37,7 @@
 cf421ee Merge pull request #92 from alfredoport/master
 f65b291 Update sagenb/notebook/notebook.py
 3280031 Merge pull request #97 from jhpalmieri/mathmode
-f1f1a9f Fix introspection and live documentation in the notebook
+f1f1a9f (refs/remotes/jhpalmieri/mathmode) Fix introspection and live documentation in the notebook
 7aadeb3 With introspection and live documentation in the notebook, fix spurious \(,\) and \[,\] pairs
 be5eb3c Merge pull request #99 from kcrisman/patch-2
 37d598c mmarco's idea to solve "invalid username" error
``````




---

archive/issue_comments_163552.json:
```json
{
    "body": "Changed author from **Jason Grout** to **Jason Grout, Keshav Kini**",
    "created_at": "2013-01-17T07:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163552",
    "user": "https://github.com/kini"
}
```

Changed author from **Jason Grout** to **Jason Grout, Keshav Kini**



---

archive/issue_events_170074.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-01-17T07:57:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170074"
}
```



---

archive/issue_events_170075.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-01-17T07:57:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170075"
}
```



---

archive/issue_comments_163553.json:
```json
{
    "body": "Dependencies: **#13504, #13678**",
    "created_at": "2013-01-17T07:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163553",
    "user": "https://github.com/kini"
}
```

Dependencies: **#13504, #13678**



---

archive/issue_comments_163554.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nPlease test! :)",
    "created_at": "2013-01-17T07:58:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163554",
    "user": "https://github.com/kini"
}
```

<a id='comment:10'>Comment 10:</a>
Please test! :)



---

archive/issue_events_170076.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2013-01-17T08:06:54Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "title_is": "Upgrade to sagenb 0.10.4",
    "title_was": "Upgrade to sagenb 0.10.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170076"
}
```



---

archive/issue_comments_163555.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\n\n```\njdemeyer@sage:/home/release/sage-5.7.beta0$ wget http://wstein.org/home/keshav/sagenb-0.10.4.spkg\n--11:07:30--  http://wstein.org/home/keshav/sagenb-0.10.4.spkg\n           => `sagenb-0.10.4.spkg'\nResolving wstein.org... 128.208.160.191, 128.208.160.197\nConnecting to wstein.org|128.208.160.191|:80... connected.\nHTTP request sent, awaiting response... 404 Not Found\n11:07:30 ERROR 404: Not Found.\n```",
    "created_at": "2013-01-17T10:08:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163555",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'>Comment 12:</a>

```
jdemeyer@sage:/home/release/sage-5.7.beta0$ wget http://wstein.org/home/keshav/sagenb-0.10.4.spkg
--11:07:30--  http://wstein.org/home/keshav/sagenb-0.10.4.spkg
           => `sagenb-0.10.4.spkg'
Resolving wstein.org... 128.208.160.191, 128.208.160.197
Connecting to wstein.org|128.208.160.191|:80... connected.
HTTP request sent, awaiting response... 404 Not Found
11:07:30 ERROR 404: Not Found.
```



---

archive/issue_comments_163556.json:
```json
{
    "body": "Work Issues: **HTTP 404**",
    "created_at": "2013-01-17T10:08:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163556",
    "user": "https://github.com/jdemeyer"
}
```

Work Issues: **HTTP 404**



---

archive/issue_events_170077.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-17T10:08:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170077"
}
```



---

archive/issue_events_170078.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-17T10:08:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170078"
}
```



---

archive/issue_comments_163557.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nD'oh. Sorry about that.",
    "created_at": "2013-01-17T14:53:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163557",
    "user": "https://github.com/kini"
}
```

<a id='comment:13'>Comment 13:</a>
D'oh. Sorry about that.



---

archive/issue_comments_163558.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n This is a relatively minor upgrade. It contains a few bugfixes, plus packaging one more dependency to take care of the problem at #12719/#10353. It also merges patches from #13504 and #13678, so those need to be merged simultaneously with this ticket.\n \n-SPKG at http://wstein.org/home/keshav/sagenb-0.10.4.spkg\n+SPKG at http://wstein.org/home/keshav/files/sagenb-0.10.4.spkg\n \n Here's a short log of the commits:\n \n``````\n",
    "created_at": "2013-01-17T14:53:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163558",
    "user": "https://github.com/kini"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 This is a relatively minor upgrade. It contains a few bugfixes, plus packaging one more dependency to take care of the problem at #12719/#10353. It also merges patches from #13504 and #13678, so those need to be merged simultaneously with this ticket.
 
-SPKG at http://wstein.org/home/keshav/sagenb-0.10.4.spkg
+SPKG at http://wstein.org/home/keshav/files/sagenb-0.10.4.spkg
 
 Here's a short log of the commits:
 
``````




---

archive/issue_comments_163559.json:
```json
{
    "body": "Changed work issues from **HTTP 404** to none",
    "created_at": "2013-01-17T14:53:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163559",
    "user": "https://github.com/kini"
}
```

Changed work issues from **HTTP 404** to none



---

archive/issue_events_170079.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-01-17T14:53:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170079"
}
```



---

archive/issue_events_170080.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-01-17T14:53:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170080"
}
```



---

archive/issue_comments_163560.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nI won't formally review this, but it **builds and passes doctests** without problems on the buildbots.",
    "created_at": "2013-01-20T08:40:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163560",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'>Comment 14:</a>
I won't formally review this, but it **builds and passes doctests** without problems on the buildbots.



---

archive/issue_comments_163561.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nGlad to hear it!",
    "created_at": "2013-01-20T09:31:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163561",
    "user": "https://github.com/kini"
}
```

<a id='comment:15'>Comment 15:</a>
Glad to hear it!



---

archive/issue_comments_163562.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2013-01-23T15:29:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163562",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_events_170081.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-01-23T15:29:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170081"
}
```



---

archive/issue_events_170082.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-01-23T15:29:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170082"
}
```



---

archive/issue_comments_163563.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nPackaging of the sagenb point release looks good to me.",
    "created_at": "2013-01-23T15:29:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163563",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'>Comment 16:</a>
Packaging of the sagenb point release looks good to me.



---

archive/issue_events_170083.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-23T15:36:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170083"
}
```



---

archive/issue_events_170084.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-23T15:36:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170084"
}
```



---

archive/issue_comments_163564.json:
```json
{
    "body": "Merged: **sage-5.7.beta0**",
    "created_at": "2013-01-23T15:36:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163564",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.7.beta0**



---

archive/issue_events_170085.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-23T15:47:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "milestone_number": null,
    "milestone_title": "sage-5.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170085"
}
```



---

archive/issue_events_170086.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-23T15:47:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "milestone_number": null,
    "milestone_title": "sage-5.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13717#event-170086"
}
```



---

archive/issue_comments_163565.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nFollowup: #14330",
    "created_at": "2013-03-22T02:53:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13717#issuecomment-163565",
    "user": "https://github.com/kini"
}
```

<a id='comment:19'>Comment 19:</a>
Followup: #14330
