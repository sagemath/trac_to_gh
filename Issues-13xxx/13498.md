# Issue 13498: 4ti2 fails to build with GCC >= 4.7

archive/issues_013294.json:
```json
{
    "body": "Log attached.\n\n---\n\nFrom the [GCC 4.7 release notes](http://gcc.gnu.org/gcc-4.7/changes.html) (C++ section):\n\nG++ now correctly implements the two-phase lookup rules such that an unqualified name used in a template must have an appropriate declaration found either in scope at the point of definition of the template or by argument-dependent lookup at the point of instantiation. As a result, code that relies on a second unqualified lookup at the point of instantiation to find functions declared after the template or in dependent bases will be rejected. The compiler will suggest ways to fix affected code, and using the `-fpermissive` compiler flag will allow the code to compile with a warning.\n\n```c\n\ntemplate <class T>\nvoid f() { g(T()); } // error, g(int) not found by argument-dependent lookup\nvoid g(int) { } // fix by moving this declaration before the declaration of f\n\ntemplate <class T>\nstruct A: T {\n  // error, B::g(B) not found by argument-dependent lookup\n  void f() { g(T()); } // fix by using this->g or A::g\n};\n\nstruct B { void g(B); };\n\nint main()\n{\n  f<int>();\n  A<B>().f();\n}\n```\n\n---\n\nFrom sage-devel (April 2013):\n\n```\n4ti2 version 1.5 quietly lives in http://www.math.ucdavis.edu/~latte/software/latte-integrale-1.5.3.tar.gz\non http://www.math.ucdavis.edu/~latte/software.php \n\nThat version 1.5 still does not work on OSX, but at least it works on Linux, as far as I recall.\n\nDima\n```\n\nThe [LattE integrale tarball](http://www.math.ucdavis.edu/~latte/software/latte-integrale-1.5.3.tar.gz) in turn contains a (compressed) 4ti2-1.5 tarball.  From its `NEWS`:\n\n```\nNews in 4ti2 version 1.5, compared to 1.4:\n\n * Latest version of new qsolve.\n\n\nNews in 4ti2 version 1.4, compared to 1.3.2:\n\n * Portability fixes\n\n * New abstract C and C++ API (callable library), header files in 4ti2/\n\n * New implementation of zsolve in C++\n\n...\n```\n\n\n**CC:**  mhampton dperkinson\n\n**Keywords:** -fpermissive C++11 spkg 4ti2\n\n**Reviewer:** Dmitrii Pasechnik\n\nIssue created by migration from https://trac.sagemath.org/ticket/13498\n\n",
    "closed_at": "2013-12-25T13:08:12Z",
    "created_at": "2012-09-17T01:52:05Z",
    "labels": [
        "component: packages: optional",
        "bug",
        "invalid"
    ],
    "title": "4ti2 fails to build with GCC >= 4.7",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/13498",
    "user": "https://github.com/novoselt"
}
```
Log attached.

---

From the [GCC 4.7 release notes](http://gcc.gnu.org/gcc-4.7/changes.html) (C++ section):

G++ now correctly implements the two-phase lookup rules such that an unqualified name used in a template must have an appropriate declaration found either in scope at the point of definition of the template or by argument-dependent lookup at the point of instantiation. As a result, code that relies on a second unqualified lookup at the point of instantiation to find functions declared after the template or in dependent bases will be rejected. The compiler will suggest ways to fix affected code, and using the `-fpermissive` compiler flag will allow the code to compile with a warning.

```c

template <class T>
void f() { g(T()); } // error, g(int) not found by argument-dependent lookup
void g(int) { } // fix by moving this declaration before the declaration of f

template <class T>
struct A: T {
  // error, B::g(B) not found by argument-dependent lookup
  void f() { g(T()); } // fix by using this->g or A::g
};

struct B { void g(B); };

int main()
{
  f<int>();
  A<B>().f();
}
```

---

From sage-devel (April 2013):

```
4ti2 version 1.5 quietly lives in http://www.math.ucdavis.edu/~latte/software/latte-integrale-1.5.3.tar.gz
on http://www.math.ucdavis.edu/~latte/software.php 

That version 1.5 still does not work on OSX, but at least it works on Linux, as far as I recall.

Dima
```

The [LattE integrale tarball](http://www.math.ucdavis.edu/~latte/software/latte-integrale-1.5.3.tar.gz) in turn contains a (compressed) 4ti2-1.5 tarball.  From its `NEWS`:

```
News in 4ti2 version 1.5, compared to 1.4:

 * Latest version of new qsolve.


News in 4ti2 version 1.4, compared to 1.3.2:

 * Portability fixes

 * New abstract C and C++ API (callable library), header files in 4ti2/

 * New implementation of zsolve in C++

...
```


**CC:**  mhampton dperkinson

**Keywords:** -fpermissive C++11 spkg 4ti2

**Reviewer:** Dmitrii Pasechnik

Issue created by migration from https://trac.sagemath.org/ticket/13498





---

archive/attachments_018919.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "4ti2.log",
    "asset_url": "tarball://root/attachments/ticket13498/4ti2.log",
    "created_at": "2012-09-17T01:53:29Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket13498/4ti2.log",
    "user": "https://github.com/novoselt"
}
```



---

archive/issue_comments_159694.json:
```json
{
    "body": "**Attachment:** [4ti2.log](https://github.com/sagemath/sage/files/ticket13498/4ti2.log)",
    "created_at": "2012-09-17T01:53:29Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159694",
    "user": "https://github.com/novoselt"
}
```

**Attachment:** [4ti2.log](https://github.com/sagemath/sage/files/ticket13498/4ti2.log)



---

archive/issue_comments_159695.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"-fpermissive C++11\".",
    "created_at": "2013-04-21T16:36:20Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159695",
    "user": "https://github.com/nexttime"
}
```

**Changing keywords** from "" to "-fpermissive C++11".



---

archive/issue_events_114727.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-04-21T16:36:20Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "rename": {
        "from": "4ti2 fails to build on Debian wheezy",
        "to": "4ti2 fails to build with GCC >= 4.7"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13498#event-114727"
}
```



---

archive/issue_comments_159696.json:
```json
{
    "body": "**Changing keywords** from \"-fpermissive C++11\" to \"-fpermissive C++11 spkg\".",
    "created_at": "2013-04-21T16:38:09Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159696",
    "user": "https://github.com/nexttime"
}
```

**Changing keywords** from "-fpermissive C++11" to "-fpermissive C++11 spkg".



---

archive/issue_comments_159697.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,29 @@\n Log attached.\n+\n+---\n+\n+From the [GCC 4.7 release notes](http://gcc.gnu.org/gcc-4.7/changes.html) (C++ section):\n+\n+G++ now correctly implements the two-phase lookup rules such that an unqualified name used in a template must have an appropriate declaration found either in scope at the point of definition of the template or by argument-dependent lookup at the point of instantiation. As a result, code that relies on a second unqualified lookup at the point of instantiation to find functions declared after the template or in dependent bases will be rejected. The compiler will suggest ways to fix affected code, and using the `-fpermissive` compiler flag will allow the code to compile with a warning.\n+\n+```c\n+\n+template <class T>\n+void f() { g(T()); } // error, g(int) not found by argument-dependent lookup\n+void g(int) { } // fix by moving this declaration before the declaration of f\n+\n+template <class T>\n+struct A: T {\n+  // error, B::g(B) not found by argument-dependent lookup\n+  void f() { g(T()); } // fix by using this->g or A::g\n+};\n+\n+struct B { void g(B); };\n+\n+int main()\n+{\n+  f<int>();\n+  A<B>().f();\n+}\n+```\n+\n``````\n",
    "created_at": "2013-04-21T16:44:30Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159697",
    "user": "https://github.com/nexttime"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,29 @@
 Log attached.
+
+---
+
+From the [GCC 4.7 release notes](http://gcc.gnu.org/gcc-4.7/changes.html) (C++ section):
+
+G++ now correctly implements the two-phase lookup rules such that an unqualified name used in a template must have an appropriate declaration found either in scope at the point of definition of the template or by argument-dependent lookup at the point of instantiation. As a result, code that relies on a second unqualified lookup at the point of instantiation to find functions declared after the template or in dependent bases will be rejected. The compiler will suggest ways to fix affected code, and using the `-fpermissive` compiler flag will allow the code to compile with a warning.
+
+```c
+
+template <class T>
+void f() { g(T()); } // error, g(int) not found by argument-dependent lookup
+void g(int) { } // fix by moving this declaration before the declaration of f
+
+template <class T>
+struct A: T {
+  // error, B::g(B) not found by argument-dependent lookup
+  void f() { g(T()); } // fix by using this->g or A::g
+};
+
+struct B { void g(B); };
+
+int main()
+{
+  f<int>();
+  A<B>().f();
+}
+```
+
``````




---

archive/issue_comments_159698.json:
```json
{
    "body": "<a id='comment:4'></a>\nUnfortunately, just adding `-fpermissive` is not sufficient:\n\n```\nRaySupportAlgorithm.tpp:792:44: error: no matching function for call to \u2018sort(_4ti2_::VectorArray&, std::vector<_4ti2_::ShortDenseIndexSet, std::allocator<_4ti2_::ShortDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)\u2019\nRaySupportAlgorithm.tpp:792:44: error: no matching function for call to \u2018sort(_4ti2_::VectorArray&, std::vector<_4ti2_::LongDenseIndexSet, std::allocator<_4ti2_::LongDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)\u2019\nRayMatrixAlgorithm.tpp:884:44: error: no matching function for call to \u2018sort(_4ti2_::VectorArray&, std::vector<_4ti2_::ShortDenseIndexSet, std::allocator<_4ti2_::ShortDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)\u2019\nRayMatrixAlgorithm.tpp:884:44: error: no matching function for call to \u2018sort(_4ti2_::VectorArray&, std::vector<_4ti2_::LongDenseIndexSet, std::allocator<_4ti2_::LongDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)\u2019\n```",
    "created_at": "2013-04-21T17:06:14Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159698",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:4'></a>
Unfortunately, just adding `-fpermissive` is not sufficient:

```
RaySupportAlgorithm.tpp:792:44: error: no matching function for call to ‘sort(_4ti2_::VectorArray&, std::vector<_4ti2_::ShortDenseIndexSet, std::allocator<_4ti2_::ShortDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)’
RaySupportAlgorithm.tpp:792:44: error: no matching function for call to ‘sort(_4ti2_::VectorArray&, std::vector<_4ti2_::LongDenseIndexSet, std::allocator<_4ti2_::LongDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)’
RayMatrixAlgorithm.tpp:884:44: error: no matching function for call to ‘sort(_4ti2_::VectorArray&, std::vector<_4ti2_::ShortDenseIndexSet, std::allocator<_4ti2_::ShortDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)’
RayMatrixAlgorithm.tpp:884:44: error: no matching function for call to ‘sort(_4ti2_::VectorArray&, std::vector<_4ti2_::LongDenseIndexSet, std::allocator<_4ti2_::LongDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)’
```



---

archive/issue_comments_159699.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [@nexttime](#comment%3A4):\n> Unfortunately, just adding `-fpermissive` is not sufficient:\n> \n> ```\n> RaySupportAlgorithm.tpp:792:44: error: no matching function for call to \u2018sort(_4ti2_::VectorArray&, std::vector<_4ti2_::ShortDenseIndexSet, std::allocator<_4ti2_::ShortDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)\u2019\n> RaySupportAlgorithm.tpp:792:44: error: no matching function for call to \u2018sort(_4ti2_::VectorArray&, std::vector<_4ti2_::LongDenseIndexSet, std::allocator<_4ti2_::LongDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)\u2019\n> RayMatrixAlgorithm.tpp:884:44: error: no matching function for call to \u2018sort(_4ti2_::VectorArray&, std::vector<_4ti2_::ShortDenseIndexSet, std::allocator<_4ti2_::ShortDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)\u2019\n> RayMatrixAlgorithm.tpp:884:44: error: no matching function for call to \u2018sort(_4ti2_::VectorArray&, std::vector<_4ti2_::LongDenseIndexSet, std::allocator<_4ti2_::LongDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)\u2019\n> ```\n\nUsing `RayImplementation<IndexSet>::sort` there solves these for me (GCC 4.8.0).",
    "created_at": "2013-04-21T19:36:11Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159699",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:7'></a>
Replying to [@nexttime](#comment%3A4):
> Unfortunately, just adding `-fpermissive` is not sufficient:
> 
> ```
> RaySupportAlgorithm.tpp:792:44: error: no matching function for call to ‘sort(_4ti2_::VectorArray&, std::vector<_4ti2_::ShortDenseIndexSet, std::allocator<_4ti2_::ShortDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)’
> RaySupportAlgorithm.tpp:792:44: error: no matching function for call to ‘sort(_4ti2_::VectorArray&, std::vector<_4ti2_::LongDenseIndexSet, std::allocator<_4ti2_::LongDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)’
> RayMatrixAlgorithm.tpp:884:44: error: no matching function for call to ‘sort(_4ti2_::VectorArray&, std::vector<_4ti2_::ShortDenseIndexSet, std::allocator<_4ti2_::ShortDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)’
> RayMatrixAlgorithm.tpp:884:44: error: no matching function for call to ‘sort(_4ti2_::VectorArray&, std::vector<_4ti2_::LongDenseIndexSet, std::allocator<_4ti2_::LongDenseIndexSet> >&, _4ti2_::Index&, int&, int&, int&)’
> ```

Using `RayImplementation<IndexSet>::sort` there solves these for me (GCC 4.8.0).



---

archive/issue_comments_159700.json:
```json
{
    "body": "<a id='comment:8'></a>\nNote that also the doctests are broken with the new doctesting framework (in Sage 5.9.*).",
    "created_at": "2013-04-21T19:47:24Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159700",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:8'></a>
Note that also the doctests are broken with the new doctesting framework (in Sage 5.9.*).



---

archive/issue_comments_159701.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [@nexttime](#comment%3A8):\n> Note that also the doctests are broken with the new doctesting framework (in Sage 5.9.*).\n\nP.S.:  I.e., some are of the form\n\n```\n\nFailed example:\n    four_ti_2.graver([1,2,3]) # optional - 4ti2\nExpected:\n    [ 2 -1  0]\n    [ 3  0 -1]\n    [ 1  1 -1]\n    [ 1 -2  1]\n    [ 0  3 -2]\nGot:\n    -------------------------------------------------\n    4ti2 version 1.3.2, Copyright (C) 2006 4ti2 team.\n    4ti2 comes with ABSOLUTELY NO WARRANTY.\n    This is free software, and you are welcome\n    to redistribute it under certain conditions.\n    For details, see the file COPYING.\n    -------------------------------------------------\n    <BLANKLINE>\n    Linear integer system to solve:\n    <BLANKLINE>\n    + + + \n    - - - \n    <BLANKLINE>\n    1 2 3 = 0\n    <BLANKLINE>\n    Linear integer system of homogeneous equalities to solve:\n    <BLANKLINE>\n    + + + \n    - - - \n    <BLANKLINE>\n    1 2 3 = 0\n    <BLANKLINE>\n    <BLANKLINE>\n    Appending variable 1... Solutions: 4, Step: 0.00 secs, Time: 0.00 secs\n    Appending variable 2... Solutions: 4, Step: 0.00 secs, Time: 0.00 secs\n    Appending variable 3... Solutions: 10, Step: 0.00 secs, Time: 0.00 secs\n    <BLANKLINE>\n    Final basis has 1 inhomogeneous, 10 homogeneous and 0 free elements.\n    Writing 5 vectors to graver file, with respect to symmetry.\n    <BLANKLINE>\n    4ti2 Total Time: 0.00 secs\n    [ 2 -1  0]\n    [ 3  0 -1]\n    [ 1  1 -1]\n    [ 1 -2  1]\n    [ 0  3 -2]\n```\n(because 4ti2's output to `stderr` is part of `Got:` now as well).\n\n\n\n\nNot sure why one meanwhile gets\n\n```\nchecking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.\n4ti2 will be built without support for arbitrary-precision computations.\nconfigure: WARNING: Unable to use the GNU MP C++ library.\nPlease make sure that GNU MP was configured with \"--enable-cxx\".\n4ti2 will be built without support for arbitrary-precision computations.\n```\nsuch that `4ti2gmp` doesn't get built (also leading to failing doctests).",
    "created_at": "2013-04-23T15:02:05Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159701",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:9'></a>
Replying to [@nexttime](#comment%3A8):
> Note that also the doctests are broken with the new doctesting framework (in Sage 5.9.*).

P.S.:  I.e., some are of the form

```

Failed example:
    four_ti_2.graver([1,2,3]) # optional - 4ti2
Expected:
    [ 2 -1  0]
    [ 3  0 -1]
    [ 1  1 -1]
    [ 1 -2  1]
    [ 0  3 -2]
Got:
    -------------------------------------------------
    4ti2 version 1.3.2, Copyright (C) 2006 4ti2 team.
    4ti2 comes with ABSOLUTELY NO WARRANTY.
    This is free software, and you are welcome
    to redistribute it under certain conditions.
    For details, see the file COPYING.
    -------------------------------------------------
    <BLANKLINE>
    Linear integer system to solve:
    <BLANKLINE>
    + + + 
    - - - 
    <BLANKLINE>
    1 2 3 = 0
    <BLANKLINE>
    Linear integer system of homogeneous equalities to solve:
    <BLANKLINE>
    + + + 
    - - - 
    <BLANKLINE>
    1 2 3 = 0
    <BLANKLINE>
    <BLANKLINE>
    Appending variable 1... Solutions: 4, Step: 0.00 secs, Time: 0.00 secs
    Appending variable 2... Solutions: 4, Step: 0.00 secs, Time: 0.00 secs
    Appending variable 3... Solutions: 10, Step: 0.00 secs, Time: 0.00 secs
    <BLANKLINE>
    Final basis has 1 inhomogeneous, 10 homogeneous and 0 free elements.
    Writing 5 vectors to graver file, with respect to symmetry.
    <BLANKLINE>
    4ti2 Total Time: 0.00 secs
    [ 2 -1  0]
    [ 3  0 -1]
    [ 1  1 -1]
    [ 1 -2  1]
    [ 0  3 -2]
```
(because 4ti2's output to `stderr` is part of `Got:` now as well).




Not sure why one meanwhile gets

```
checking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.
4ti2 will be built without support for arbitrary-precision computations.
configure: WARNING: Unable to use the GNU MP C++ library.
Please make sure that GNU MP was configured with "--enable-cxx".
4ti2 will be built without support for arbitrary-precision computations.
```
such that `4ti2gmp` doesn't get built (also leading to failing doctests).



---

archive/issue_comments_159702.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [@nexttime](#comment%3A9):\n> Not sure why one meanwhile gets\n> \n> ```\n> checking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.\n> 4ti2 will be built without support for arbitrary-precision computations.\n> configure: WARNING: Unable to use the GNU MP C++ library.\n> Please make sure that GNU MP was configured with \"--enable-cxx\".\n> 4ti2 will be built without support for arbitrary-precision computations.\n> ```\n> such that `4ti2gmp` doesn't get built (also leading to failing doctests).\n\nOk, this is due to\n\n```\ng++-4.8.0: error: unrecognized command line option '-R'\n```\nin the `configure` tests.",
    "created_at": "2013-04-23T15:06:57Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159702",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:10'></a>
Replying to [@nexttime](#comment%3A9):
> Not sure why one meanwhile gets
> 
> ```
> checking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.
> 4ti2 will be built without support for arbitrary-precision computations.
> configure: WARNING: Unable to use the GNU MP C++ library.
> Please make sure that GNU MP was configured with "--enable-cxx".
> 4ti2 will be built without support for arbitrary-precision computations.
> ```
> such that `4ti2gmp` doesn't get built (also leading to failing doctests).

Ok, this is due to

```
g++-4.8.0: error: unrecognized command line option '-R'
```
in the `configure` tests.



---

archive/issue_comments_159703.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -27,3 +27,17 @@\n }\n ```\n \n+---\n+\n+From sage-devel (April 2013):\n+\n+```\n+4ti2 version 1.5 quietly lives in http://www.math.ucdavis.edu/~latte/software/latte-integrale-1.5.3.tar.gz\n+on http://www.math.ucdavis.edu/~latte/software.php \n+\n+That version 1.5 still does not work on OSX, but at least it works on Linux, as far as I recall.\n+\n+Dima\n+```\n+\n+\n``````\n",
    "created_at": "2013-04-27T16:10:48Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159703",
    "user": "https://github.com/nexttime"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -27,3 +27,17 @@
 }
 ```
 
+---
+
+From sage-devel (April 2013):
+
+```
+4ti2 version 1.5 quietly lives in http://www.math.ucdavis.edu/~latte/software/latte-integrale-1.5.3.tar.gz
+on http://www.math.ucdavis.edu/~latte/software.php 
+
+That version 1.5 still does not work on OSX, but at least it works on Linux, as far as I recall.
+
+Dima
+```
+
+
``````




---

archive/issue_comments_159704.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -40,4 +40,22 @@\n Dima\n ```\n \n+The [LattE integrale tarball](http://www.math.ucdavis.edu/~latte/software/latte-integrale-1.5.3.tar.gz) in turn contains a (compressed) 4ti2-1.5 tarball.  From its `NEWS`:\n \n+```\n+News in 4ti2 version 1.5, compared to 1.4:\n+\n+ * Latest version of new qsolve.\n+\n+\n+News in 4ti2 version 1.4, compared to 1.3.2:\n+\n+ * Portability fixes\n+\n+ * New abstract C and C++ API (callable library), header files in 4ti2/\n+\n+ * New implementation of zsolve in C++\n+\n+...\n+```\n+\n``````\n",
    "created_at": "2013-04-27T17:20:19Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159704",
    "user": "https://github.com/nexttime"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -40,4 +40,22 @@
 Dima
 ```
 
+The [LattE integrale tarball](http://www.math.ucdavis.edu/~latte/software/latte-integrale-1.5.3.tar.gz) in turn contains a (compressed) 4ti2-1.5 tarball.  From its `NEWS`:
 
+```
+News in 4ti2 version 1.5, compared to 1.4:
+
+ * Latest version of new qsolve.
+
+
+News in 4ti2 version 1.4, compared to 1.3.2:
+
+ * Portability fixes
+
+ * New abstract C and C++ API (callable library), header files in 4ti2/
+
+ * New implementation of zsolve in C++
+
+...
+```
+
``````




---

archive/issue_comments_159705.json:
```json
{
    "body": "Replying to [ticket:13498 dimpase]:\n> From sage-devel (April 2013):\n> \n> ```\n> 4ti2 version 1.5 quietly lives in http://www.math.ucdavis.edu/~latte/software/latte-integrale-1.5.3.tar.gz\n> on http://www.math.ucdavis.edu/~latte/software.php \n> \n> That version 1.5 still does not work on OSX, but at least it works on Linux, as far as I recall.\n> ```\n\nDo you mean it doesn't build with Apple's GCC 4.2.1?\n\nWorks for me if I \"fix\" (or bypass) the pretty useless `configure` test for `cstdint`, or e.g. use Sage's GCC 4.6.3 instead, on MacOS X 10.6.8 at least.",
    "created_at": "2013-04-28T15:34:33Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159705",
    "user": "https://github.com/nexttime"
}
```

Replying to [ticket:13498 dimpase]:
> From sage-devel (April 2013):
> 
> ```
> 4ti2 version 1.5 quietly lives in http://www.math.ucdavis.edu/~latte/software/latte-integrale-1.5.3.tar.gz
> on http://www.math.ucdavis.edu/~latte/software.php 
> 
> That version 1.5 still does not work on OSX, but at least it works on Linux, as far as I recall.
> ```

Do you mean it doesn't build with Apple's GCC 4.2.1?

Works for me if I "fix" (or bypass) the pretty useless `configure` test for `cstdint`, or e.g. use Sage's GCC 4.6.3 instead, on MacOS X 10.6.8 at least.



---

archive/issue_comments_159706.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [@nexttime](#comment%3A13):\n> Replying to [ticket:13498 dimpase]:\n> > From sage-devel (April 2013):\n> > \n> > ```\n> > 4ti2 version 1.5 quietly lives in http://www.math.ucdavis.edu/~latte/software/latte-integrale-1.5.3.tar.gz\n> > on http://www.math.ucdavis.edu/~latte/software.php \n> > \n> > That version 1.5 still does not work on OSX, but at least it works on Linux, as far as I recall.\n> > ```\n\n> \n> Do you mean it doesn't build with Apple's GCC 4.2.1?\n> \n> Works for me if I \"fix\" (or bypass) the pretty useless `configure` test for `cstdint`, or e.g. use Sage's GCC 4.6.3 instead, on MacOS X 10.6.8 at least.\n\nPlease see https://groups.google.com/d/msg/sage-combinat-devel/h24CbBjXp6o/P-y5zIgou7oJ\n\nPerhaps someone can update the 4ti2 optional spkg, at last?",
    "created_at": "2013-05-19T13:28:16Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159706",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>
Replying to [@nexttime](#comment%3A13):
> Replying to [ticket:13498 dimpase]:
> > From sage-devel (April 2013):
> > 
> > ```
> > 4ti2 version 1.5 quietly lives in http://www.math.ucdavis.edu/~latte/software/latte-integrale-1.5.3.tar.gz
> > on http://www.math.ucdavis.edu/~latte/software.php 
> > 
> > That version 1.5 still does not work on OSX, but at least it works on Linux, as far as I recall.
> > ```

> 
> Do you mean it doesn't build with Apple's GCC 4.2.1?
> 
> Works for me if I "fix" (or bypass) the pretty useless `configure` test for `cstdint`, or e.g. use Sage's GCC 4.6.3 instead, on MacOS X 10.6.8 at least.

Please see https://groups.google.com/d/msg/sage-combinat-devel/h24CbBjXp6o/P-y5zIgou7oJ

Perhaps someone can update the 4ti2 optional spkg, at last?



---

archive/issue_comments_159707.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [@dimpase](#comment%3A14):\n> Replying to [@nexttime](#comment%3A13):\n> > Replying to [ticket:13498 dimpase]:\n> > > That version 1.5 still does not work on OSX, but at least it works on Linux, as far as I recall.\n\n> > \n> > Do you mean it doesn't build with Apple's GCC 4.2.1?\n> > \n> > Works for me if I \"fix\" (or bypass) the pretty useless `configure` test for `cstdint`, or e.g. use Sage's GCC 4.6.3 instead, on MacOS X 10.6.8 at least.\n\n> \n> Please see https://groups.google.com/d/msg/sage-combinat-devel/h24CbBjXp6o/P-y5zIgou7oJ\n\nWilliam's post doesn't mention MacOS X at all...\n\n(And I've already noted that `4ti2gmp` currently doesn't get built because 4ti2 doesn't detect GMP/MPIR properly, IIRC just some `configure` flaw as well.  I think LattE ships with some dead old version of GMP, which in turn won't build with contemporary versions of GCC either.)\n\n\n\n \n> Perhaps someone can update the 4ti2 optional spkg, at last?\n\nI could give it a try (again); that's why I was asking what the alleged problems with MacOS X were ... ;-)",
    "created_at": "2013-05-19T16:49:07Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159707",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:15'></a>
Replying to [@dimpase](#comment%3A14):
> Replying to [@nexttime](#comment%3A13):
> > Replying to [ticket:13498 dimpase]:
> > > That version 1.5 still does not work on OSX, but at least it works on Linux, as far as I recall.

> > 
> > Do you mean it doesn't build with Apple's GCC 4.2.1?
> > 
> > Works for me if I "fix" (or bypass) the pretty useless `configure` test for `cstdint`, or e.g. use Sage's GCC 4.6.3 instead, on MacOS X 10.6.8 at least.

> 
> Please see https://groups.google.com/d/msg/sage-combinat-devel/h24CbBjXp6o/P-y5zIgou7oJ

William's post doesn't mention MacOS X at all...

(And I've already noted that `4ti2gmp` currently doesn't get built because 4ti2 doesn't detect GMP/MPIR properly, IIRC just some `configure` flaw as well.  I think LattE ships with some dead old version of GMP, which in turn won't build with contemporary versions of GCC either.)



 
> Perhaps someone can update the 4ti2 optional spkg, at last?

I could give it a try (again); that's why I was asking what the alleged problems with MacOS X were ... ;-)



---

archive/issue_comments_159708.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [@nexttime](#comment%3A15):\n> > Perhaps someone can update the 4ti2 optional spkg, at last?\n\n> \n> I could give it a try (again); that's why I was asking what the alleged problems with MacOS X were ... ;-)\n\nI think I tried last time in Sept 2012, within Sage shell, i.e. running (probably?) a better gcc than shipped by Apple.\n\nAnyhow, I am willing to test on OSX, but I don't have time to do packaging.",
    "created_at": "2013-05-19T17:03:52Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159708",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>
Replying to [@nexttime](#comment%3A15):
> > Perhaps someone can update the 4ti2 optional spkg, at last?

> 
> I could give it a try (again); that's why I was asking what the alleged problems with MacOS X were ... ;-)

I think I tried last time in Sept 2012, within Sage shell, i.e. running (probably?) a better gcc than shipped by Apple.

Anyhow, I am willing to test on OSX, but I don't have time to do packaging.



---

archive/issue_comments_159709.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [@dimpase](#comment%3A14):\n> Please see https://groups.google.com/d/msg/sage-combinat-devel/h24CbBjXp6o/P-y5zIgou7oJ\n\n(Alternatively, since Google \"forums\" suck: [http://groups.google.com/group/sage-combinat-devel/browse_thread/thread/876e026c18d7a7aa](http://groups.google.com/group/sage-combinat-devel/browse_thread/thread/876e026c18d7a7aa))\n\nJust for reference, citing William:\n\n> Somebody has revived the project at github: [https://github.com/tom111/4ti2](https://github.com/tom111/4ti2) \n> However, this has no `./configure` file, so when I do \"automake\", then \n> `./configure`, I get:\n> \n> ```\n> salvus@compute2a:/usr/local/sage/sage-5.10.beta3/tmp/4ti2$ ./configure \n> ./configure: line 1818: syntax error near unexpected token `foreign' \n> ./configure: line 1818: `AM_INIT_AUTOMAKE(foreign)' \n> ```\n\nThat's presumably just due to using too \"new\" autotools...",
    "created_at": "2013-05-19T17:11:56Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159709",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:17'></a>
Replying to [@dimpase](#comment%3A14):
> Please see https://groups.google.com/d/msg/sage-combinat-devel/h24CbBjXp6o/P-y5zIgou7oJ

(Alternatively, since Google "forums" suck: [http://groups.google.com/group/sage-combinat-devel/browse_thread/thread/876e026c18d7a7aa](http://groups.google.com/group/sage-combinat-devel/browse_thread/thread/876e026c18d7a7aa))

Just for reference, citing William:

> Somebody has revived the project at github: [https://github.com/tom111/4ti2](https://github.com/tom111/4ti2) 
> However, this has no `./configure` file, so when I do "automake", then 
> `./configure`, I get:
> 
> ```
> salvus@compute2a:/usr/local/sage/sage-5.10.beta3/tmp/4ti2$ ./configure 
> ./configure: line 1818: syntax error near unexpected token `foreign' 
> ./configure: line 1818: `AM_INIT_AUTOMAKE(foreign)' 
> ```

That's presumably just due to using too "new" autotools...



---

archive/issue_comments_159710.json:
```json
{
    "body": "<a id='comment:18'></a>\nI could compile it without complaining, but it didn't build the 4ti2gmp binary. The reason for that is that the configure script didn't find GMP.",
    "created_at": "2013-07-01T12:02:54Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159710",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:18'></a>
I could compile it without complaining, but it didn't build the 4ti2gmp binary. The reason for that is that the configure script didn't find GMP.



---

archive/issue_comments_159711.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [@miguelmarco](#comment%3A18):\n> I could compile it without complaining,\n\nwith an older version of GCC I guess.\n\n\n\n\n> but it didn't build the 4ti2gmp binary. The reason for that is that the configure script didn't find GMP.\n\nThat's presumably because of the error mentioned [above](#comment%3A10).  (If you keep the spkg build dir, you could take a look at `.../src/config.log`).",
    "created_at": "2013-07-01T12:42:58Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159711",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:19'></a>
Replying to [@miguelmarco](#comment%3A18):
> I could compile it without complaining,

with an older version of GCC I guess.




> but it didn't build the 4ti2gmp binary. The reason for that is that the configure script didn't find GMP.

That's presumably because of the error mentioned [above](#comment%3A10).  (If you keep the spkg build dir, you could take a look at `.../src/config.log`).



---

archive/issue_comments_159712.json:
```json
{
    "body": "<a id='comment:20'></a>\nYes, you are absolutely right. I have gcc-4.6.3 on my system. But i thought that sage would use its own gcc version.",
    "created_at": "2013-07-01T12:51:12Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159712",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:20'></a>
Yes, you are absolutely right. I have gcc-4.6.3 on my system. But i thought that sage would use its own gcc version.



---

archive/issue_comments_159713.json:
```json
{
    "body": "**Changing keywords** from \"-fpermissive C++11 spkg\" to \"-fpermissive C++11 spkg 4ti2\".",
    "created_at": "2013-07-18T13:27:44Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159713",
    "user": "https://github.com/fchapoton"
}
```

**Changing keywords** from "-fpermissive C++11 spkg" to "-fpermissive C++11 spkg 4ti2".



---

archive/issue_events_114728.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13498#event-114728"
}
```



---

archive/issue_events_114729.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13498#event-114729"
}
```



---

archive/issue_comments_159714.json:
```json
{
    "body": "<a id='comment:23'></a>\n4ti2 1.6 has been [released ](http://4ti2.de/). As a standalone it builds on (most) Sage platforms. I'll give it a shot, with the aim to update the 4ti2 spkg.",
    "created_at": "2013-09-07T03:15:52Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159714",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'></a>
4ti2 1.6 has been [released ](http://4ti2.de/). As a standalone it builds on (most) Sage platforms. I'll give it a shot, with the aim to update the 4ti2 spkg.



---

archive/issue_comments_159715.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [@dimpase](#comment%3A23):\n> 4ti2 1.6 has been [released ](http://4ti2.de/). As a standalone it builds on (most) Sage platforms. I'll give it a shot, with the aim to update the 4ti2 spkg.\n\nThe ticket to update to 1.6 is #15172.",
    "created_at": "2013-09-07T13:37:30Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159715",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>
Replying to [@dimpase](#comment%3A23):
> 4ti2 1.6 has been [released ](http://4ti2.de/). As a standalone it builds on (most) Sage platforms. I'll give it a shot, with the aim to update the 4ti2 spkg.

The ticket to update to 1.6 is #15172.



---

archive/issue_events_114730.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-12-25T04:42:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13498#event-114730"
}
```



---

archive/issue_comments_159716.json:
```json
{
    "body": "<a id='comment:26'></a>\nThis is fixed by 4ti2 update.",
    "created_at": "2013-12-25T04:44:34Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159716",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'></a>
This is fixed by 4ti2 update.



---

archive/issue_events_114731.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-12-25T04:44:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13498#event-114731"
}
```



---

archive/issue_events_114732.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-12-25T04:44:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13498#event-114732"
}
```



---

archive/issue_events_114733.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-25T13:08:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13498#event-114733"
}
```



---

archive/issue_events_114734.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-25T13:08:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13498#event-114734"
}
```



---

archive/issue_comments_159717.json:
```json
{
    "body": "**Reviewer:** Dmitrii Pasechnik",
    "created_at": "2013-12-25T13:08:12Z",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13498#issuecomment-159717",
    "user": "https://github.com/vbraun"
}
```

**Reviewer:** Dmitrii Pasechnik



---

archive/issue_events_114735.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-25T13:08:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13498",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13498#event-114735"
}
```
