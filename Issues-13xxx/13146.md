# Issue 13146: Removing tabs in .rst, .tex and .pxi files

archive/issues_012974.json:
```json
{
    "body": "The new doctesting framework (#12415) has revealed tab characters that weren't caught by the old.  This ticket changes them to spaces.\n\nApply attachment:13146_vs_51b5.patch and attachment:13146_missed.patch\n\nAssignee: mvngu\n\nReviewer: Keshav Kini, Andr\u00e9 Apitzsch, Jeroen Demeyer\n\nAuthor: David Roe\n\nMerged: sage-5.2.rc0\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13146\n\n",
    "closed_at": "2012-07-16T16:41:09Z",
    "created_at": "2012-06-21T05:27:50Z",
    "labels": [
        "component: doctest coverage",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.2",
    "title": "Removing tabs in .rst, .tex and .pxi files",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13146",
    "user": "https://github.com/roed314"
}
```
The new doctesting framework (#12415) has revealed tab characters that weren't caught by the old.  This ticket changes them to spaces.

Apply attachment:13146_vs_51b5.patch and attachment:13146_missed.patch

Assignee: mvngu

Reviewer: Keshav Kini, Andr√© Apitzsch, Jeroen Demeyer

Author: David Roe

Merged: sage-5.2.rc0

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/13146





---

archive/issue_comments_156514.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-06-21T05:29:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156514",
    "user": "https://github.com/roed314"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_156515.json:
```json
{
    "body": "<a id='comment:2'></a>Needs a real commit message, otherwise looks good :)",
    "created_at": "2012-06-21T06:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156515",
    "user": "https://github.com/kini"
}
```

<a id='comment:2'></a>Needs a real commit message, otherwise looks good :)



---

archive/issue_comments_156516.json:
```json
{
    "body": "Attachment [13146_vs_51b5.patch](tarball://root/attachments/some-uuid/ticket13146/13146_vs_51b5.patch) by @roed314 created at 2012-06-21 19:10:18\n\nChanges to apply against 5.1.beta5",
    "created_at": "2012-06-21T19:10:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156516",
    "user": "https://github.com/roed314"
}
```

Attachment [13146_vs_51b5.patch](tarball://root/attachments/some-uuid/ticket13146/13146_vs_51b5.patch) by @roed314 created at 2012-06-21 19:10:18

Changes to apply against 5.1.beta5



---

archive/issue_comments_156517.json:
```json
{
    "body": "<a id='comment:4'></a>There is now a real commit message.",
    "created_at": "2012-06-21T19:11:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156517",
    "user": "https://github.com/roed314"
}
```

<a id='comment:4'></a>There is now a real commit message.



---

archive/issue_comments_156518.json:
```json
{
    "body": "<a id='comment:5'></a>patchbot: apply 13146_vs_51b5.patch",
    "created_at": "2012-06-21T19:17:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156518",
    "user": "https://github.com/kini"
}
```

<a id='comment:5'></a>patchbot: apply 13146_vs_51b5.patch



---

archive/issue_comments_156519.json:
```json
{
    "body": "<a id='comment:6'></a>Cool, passes tests.",
    "created_at": "2012-06-22T01:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156519",
    "user": "https://github.com/kini"
}
```

<a id='comment:6'></a>Cool, passes tests.



---

archive/issue_comments_156520.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-06-22T01:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156520",
    "user": "https://github.com/kini"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_156521.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-06-23T15:10:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156521",
    "user": "https://github.com/roed314"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_156522.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-06-23T15:11:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156522",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_156523.json:
```json
{
    "body": "<a id='comment:8'></a>I missed a few that were added between 5.0.beta12 and 5.1.beta5.  I wanted to just add them here since it's a small change (though if you like I can make another ticket).",
    "created_at": "2012-06-23T15:11:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156523",
    "user": "https://github.com/roed314"
}
```

<a id='comment:8'></a>I missed a few that were added between 5.0.beta12 and 5.1.beta5.  I wanted to just add them here since it's a small change (though if you like I can make another ticket).



---

archive/issue_comments_156524.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-06-24T16:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156524",
    "user": "https://github.com/a-andre"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_156525.json:
```json
{
    "body": "<a id='comment:9'></a>Quoting [comment:2 kini]:\n> Needs a real commit message, otherwise [13146_missed.patch] looks good :)",
    "created_at": "2012-06-24T16:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156525",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:9'></a>Quoting [comment:2 kini]:
> Needs a real commit message, otherwise [13146_missed.patch] looks good :)



---

archive/issue_comments_156526.json:
```json
{
    "body": "<a id='comment:10'></a>Fixed.  :)",
    "created_at": "2012-06-24T19:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156526",
    "user": "https://github.com/roed314"
}
```

<a id='comment:10'></a>Fixed.  :)



---

archive/issue_comments_156527.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-06-24T19:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156527",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_156528.json:
```json
{
    "body": "<a id='comment:11'></a>You probably added by accident\n\n```diff --git a/sage/schemes/elliptic_curves/constructor.py b/sage/schemes/elliptic_curves/constructor.py\n\nIndex: sage/schemes/elliptic_curves/constructor.py\n===================================================================\n--- a/sage/schemes/elliptic_curves/constructor.py\n+++ b/sage/schemes/elliptic_curves/constructor.py\n@@ -1,6 +1,8 @@\n \"\"\"\n Elliptic curve constructor\n \n+sage: EllipticCurve([0,0])\n+\n AUTHORS:\n \n - William Stein (2005): Initial version\n```\nPlease remove this.",
    "created_at": "2012-06-24T22:07:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156528",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:11'></a>You probably added by accident

```diff --git a/sage/schemes/elliptic_curves/constructor.py b/sage/schemes/elliptic_curves/constructor.py

Index: sage/schemes/elliptic_curves/constructor.py
===================================================================
--- a/sage/schemes/elliptic_curves/constructor.py
+++ b/sage/schemes/elliptic_curves/constructor.py
@@ -1,6 +1,8 @@
 """
 Elliptic curve constructor
 
+sage: EllipticCurve([0,0])
+
 AUTHORS:
 
 - William Stein (2005): Initial version
```
Please remove this.



---

archive/issue_comments_156529.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-06-24T22:07:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156529",
    "user": "https://github.com/a-andre"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_156530.json:
```json
{
    "body": "<a id='comment:12'></a>Sorry about that.  qrefresh -e committed some unintended changes.",
    "created_at": "2012-06-25T03:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156530",
    "user": "https://github.com/roed314"
}
```

<a id='comment:12'></a>Sorry about that.  qrefresh -e committed some unintended changes.



---

archive/issue_comments_156531.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-06-25T03:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156531",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_156532.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-06-25T08:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156532",
    "user": "https://github.com/a-andre"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_036215.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-25T09:37:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "milestone": "sage-5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13146#event-36215"
}
```



---

archive/issue_comments_156533.json:
```json
{
    "body": "<a id='comment:16'></a>With #12415, I still get:\n\n```\nsage -t devel/sage/doc/ru/tutorial/appendix.rst # Tab character found\nsage -t devel/sage/doc/de/tutorial/interactive_shell.rst # Tab character found\nsage -t devel/sage/doc/de/tutorial/tour_functions.rst # Tab character found\nsage -t devel/sage/doc/ru/tutorial/tour_functions.rst # Tab character found\n```",
    "created_at": "2012-06-26T09:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156533",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>With #12415, I still get:

```
sage -t devel/sage/doc/ru/tutorial/appendix.rst # Tab character found
sage -t devel/sage/doc/de/tutorial/interactive_shell.rst # Tab character found
sage -t devel/sage/doc/de/tutorial/tour_functions.rst # Tab character found
sage -t devel/sage/doc/ru/tutorial/tour_functions.rst # Tab character found
```



---

archive/issue_comments_156534.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-06-26T09:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156534",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_156535.json:
```json
{
    "body": "<a id='comment:17'></a>Can someone explain the point of this ticket? The reason that we avoid tab characters in .py files is that Sphinx can't handle them, so Sphinx doesn't work for processing docstrings for introspection in the notebook. Tabs in these other files don't cause problems, so why worry about removing them? Why bother testing for them in #12415?",
    "created_at": "2012-06-26T14:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156535",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:17'></a>Can someone explain the point of this ticket? The reason that we avoid tab characters in .py files is that Sphinx can't handle them, so Sphinx doesn't work for processing docstrings for introspection in the notebook. Tabs in these other files don't cause problems, so why worry about removing them? Why bother testing for them in #12415?



---

archive/issue_comments_156536.json:
```json
{
    "body": "<a id='comment:18'></a>Another reason to avoid tab characters in .py files is because they can be confusing to anyone trying to read them with an editor whose tab stops are set to something other than 8 characters, if tabs and spaces are mixed (because indentation levels may appear to differ from what the python interpreter actually judges them to be). The python interpreter has a command line switch `-t` which issues warnings when such a condition exists, for example.\n\nreStructuredText, like Python code, is indentation-sensitive, and so tabs should be avoided in reStructuredText for the same reason they should be avoided in Python code. The same is true of .pxi files.\n\nDunno why we're testing for tabs in .tex files, though.",
    "created_at": "2012-06-26T18:07:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156536",
    "user": "https://github.com/kini"
}
```

<a id='comment:18'></a>Another reason to avoid tab characters in .py files is because they can be confusing to anyone trying to read them with an editor whose tab stops are set to something other than 8 characters, if tabs and spaces are mixed (because indentation levels may appear to differ from what the python interpreter actually judges them to be). The python interpreter has a command line switch `-t` which issues warnings when such a condition exists, for example.

reStructuredText, like Python code, is indentation-sensitive, and so tabs should be avoided in reStructuredText for the same reason they should be avoided in Python code. The same is true of .pxi files.

Dunno why we're testing for tabs in .tex files, though.



---

archive/issue_comments_156537.json:
```json
{
    "body": "<a id='comment:19'></a>The location of the test changed, and it was easier to just test for tabs in all of the files that we doctest rather than special case the test based on file type.  I can change it to allow tabs if people like and make this ticket invalid.",
    "created_at": "2012-06-26T21:10:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156537",
    "user": "https://github.com/roed314"
}
```

<a id='comment:19'></a>The location of the test changed, and it was easier to just test for tabs in all of the files that we doctest rather than special case the test based on file type.  I can change it to allow tabs if people like and make this ticket invalid.



---

archive/issue_comments_156538.json:
```json
{
    "body": "<a id='comment:20'></a>Personally I'm all for getting rid of tabs everywhere. Either tabs are used semantically or not, and clearly in Sage they're not.",
    "created_at": "2012-06-26T21:42:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156538",
    "user": "https://github.com/kini"
}
```

<a id='comment:20'></a>Personally I'm all for getting rid of tabs everywhere. Either tabs are used semantically or not, and clearly in Sage they're not.



---

archive/issue_comments_156539.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:19 roed]:\n> The location of the test changed, and it was easier to just test for tabs in all of the files that we doctest rather than special case the test based on file type.\n\n\nThat makes sense. I certainly don't mind getting rid of tabs, but a concerted effort to remove all of them needs a good reason, and this is as good a reason as any.",
    "created_at": "2012-06-26T22:24:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156539",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:21'></a>Replying to [comment:19 roed]:
> The location of the test changed, and it was easier to just test for tabs in all of the files that we doctest rather than special case the test based on file type.


That makes sense. I certainly don't mind getting rid of tabs, but a concerted effort to remove all of them needs a good reason, and this is as good a reason as any.



---

archive/issue_comments_156540.json:
```json
{
    "body": "Attachment [13146_missed.patch](tarball://root/attachments/some-uuid/ticket13146/13146_missed.patch) by @roed314 created at 2012-06-28 08:00:53\n\nMissed a few",
    "created_at": "2012-06-28T08:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156540",
    "user": "https://github.com/roed314"
}
```

Attachment [13146_missed.patch](tarball://root/attachments/some-uuid/ticket13146/13146_missed.patch) by @roed314 created at 2012-06-28 08:00:53

Missed a few



---

archive/issue_comments_156541.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-06-28T08:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156541",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_156542.json:
```json
{
    "body": "<a id='comment:22'></a>Alright, I fixed the tabs in the Russian and German documentation.",
    "created_at": "2012-06-28T08:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156542",
    "user": "https://github.com/roed314"
}
```

<a id='comment:22'></a>Alright, I fixed the tabs in the Russian and German documentation.



---

archive/issue_comments_156543.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-07-13T08:15:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156543",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_036216.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-13T08:16:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "milestone": "sage-5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13146#event-36216"
}
```



---

archive/issue_events_036217.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-13T08:16:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "milestone": "sage-5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13146#event-36217"
}
```



---

archive/issue_events_036218.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-16T16:41:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13146#event-36218"
}
```



---

archive/issue_comments_156544.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-07-16T16:41:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156544",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_156545.json:
```json
{
    "body": "<a id='comment:26'></a>By the way, here's a good reason to disallow tabs in `.rst` files.  When scanning a comment block, a tab character counts as one space, meaning that the indentation level can drop enough to end the comment block, even if in a text editor it looks just fine.  Debugging this just took me a half hour.  :-)",
    "created_at": "2012-10-23T23:25:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13146#issuecomment-156545",
    "user": "https://github.com/roed314"
}
```

<a id='comment:26'></a>By the way, here's a good reason to disallow tabs in `.rst` files.  When scanning a comment block, a tab character counts as one space, meaning that the indentation level can drop enough to end the comment block, even if in a text editor it looks just fine.  Debugging this just took me a half hour.  :-)
