# Issue 13385: Remove OpenSSL dependency from Sage

archive/issues_013213.json:
```json
{
    "assignees": [],
    "body": "## Task\n\n* no longer ship pyOpenSSL with sagenb (this will be taken care of in #13121)\n* no longer require OpenSSL dev headers in prereq\n\n## Rationale\n\n`notebook(secure=True)` is rarely used, and is not even really that desirable to use, except for people setting up multiuser Sage servers, which is a small percentage of Sage users. Therefore we will require users who want to use `notebook(secure=True)` to perform the additional step of installing pyOpenSSL into Sage's Python. This allows us to get rid of our sort of problematic dependencies on OpenSSL.\n\nRelated: #13392 (Remove GNUTLS-related packages)\n\n---\n\nApply:\n\n- [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) to the root repo\n- [attachment: trac_13385-sage-library.v2.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.v2.patch.gz) to the Sage library\n\nCopy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.\n\nReplace the sagenb SPKG in spkg/standard with http://wstein.org/home/keshav/files/sagenb-0.10.2.spkg and follow other instructions on #13121 as necessary.\n\nDepends on #13121\nDepends on #13384\nDepends on #13373\n\nReviewer: **Keshav Kini, John Palmieri**\n\nAuthor: **John Palmieri, Keshav Kini**\n\nMerged: **sage-5.4.beta0**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13385_\n\n",
    "closed_at": "2012-09-05T18:05:39Z",
    "created_at": "2012-08-21T07:03:26Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Remove OpenSSL dependency from Sage",
    "type": "issue",
    "updated_at": "2012-09-05T18:05:39Z",
    "url": "https://github.com/sagemath/sage/issues/13385",
    "user": "https://github.com/kini"
}
```
## Task

* no longer ship pyOpenSSL with sagenb (this will be taken care of in #13121)
* no longer require OpenSSL dev headers in prereq

## Rationale

`notebook(secure=True)` is rarely used, and is not even really that desirable to use, except for people setting up multiuser Sage servers, which is a small percentage of Sage users. Therefore we will require users who want to use `notebook(secure=True)` to perform the additional step of installing pyOpenSSL into Sage's Python. This allows us to get rid of our sort of problematic dependencies on OpenSSL.

Related: #13392 (Remove GNUTLS-related packages)

---

Apply:

- [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) to the root repo
- [attachment: trac_13385-sage-library.v2.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.v2.patch.gz) to the Sage library

Copy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.

Replace the sagenb SPKG in spkg/standard with http://wstein.org/home/keshav/files/sagenb-0.10.2.spkg and follow other instructions on #13121 as necessary.

Depends on #13121
Depends on #13384
Depends on #13373

Reviewer: **Keshav Kini, John Palmieri**

Author: **John Palmieri, Keshav Kini**

Merged: **sage-5.4.beta0**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/13385_





---

archive/issue_events_186927.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2012-08-21T07:03:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "milestone_number": null,
    "milestone_title": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13385#event-186927"
}
```



---

archive/issue_events_186928.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2012-08-21T07:03:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13385#event-186928"
}
```



---

archive/issue_events_186929.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2012-08-21T07:03:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13385#event-186929"
}
```



---

archive/issue_events_186930.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2012-08-21T07:03:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13385#event-186930"
}
```



---

archive/issue_comments_155710.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nIt would be nice to have a clear description of what someone has to do to make `secure=True` work and if someone has not done it - there should be a clear error message directing to these instructions...",
    "created_at": "2012-08-21T13:10:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155710",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:1" align="right">comment:1</div>

It would be nice to have a clear description of what someone has to do to make `secure=True` work and if someone has not done it - there should be a clear error message directing to these instructions...



---

archive/issue_comments_155711.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nIt also would be a bit annoying to perform some extra installation on every newly built version of Sage. Is it possible to have instead some system dependencies and an environment variable that will force Sage to add pyOpenSSL automatically during build?",
    "created_at": "2012-08-21T13:14:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155711",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:2" align="right">comment:2</div>

It also would be a bit annoying to perform some extra installation on every newly built version of Sage. Is it possible to have instead some system dependencies and an environment variable that will force Sage to add pyOpenSSL automatically during build?



---

archive/issue_comments_155712.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nYou can just install the SPKG from #11384 after building Sage. Is that sufficient?",
    "created_at": "2012-08-21T13:15:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155712",
    "user": "https://github.com/kini"
}
```

<div id="comment:3" align="right">comment:3</div>

You can just install the SPKG from #11384 after building Sage. Is that sufficient?



---

archive/issue_comments_155713.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nSorry, I mean #13384. Also you'd need to have OpenSSL and its dev headers installed on the system if you wanted to use `notebook(secure=True)`.",
    "created_at": "2012-08-21T13:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155713",
    "user": "https://github.com/kini"
}
```

<div id="comment:4" align="right">comment:4</div>

Sorry, I mean #13384. Also you'd need to have OpenSSL and its dev headers installed on the system if you wanted to use `notebook(secure=True)`.



---

archive/issue_comments_155714.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@kini](#comment:3):\n> You can just install the SPKG from #11384 after building Sage. Is that sufficient?\n\nSo far\n\n```\nsage -i openssl\n```\nwas sufficient (in 5.2 and later), but if this could be done automatically during build, it would be awesome.",
    "created_at": "2012-08-21T13:19:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155714",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@kini](#comment:3):
> You can just install the SPKG from #11384 after building Sage. Is that sufficient?

So far

```
sage -i openssl
```
was sufficient (in 5.2 and later), but if this could be done automatically during build, it would be awesome.



---

archive/issue_comments_155715.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nPersonally I don't think it's worth adding another environment variable to the long list we already have, just to avoid a small percentage of users having to run `sage -i openssl` and `sage -i pyopenssl` after `make`. Furthermore this will set a new precedent. Currently we have no environment variables which control whether a certain package is installed or not, except `SAGE_INSTALL_GCC` which is kind of a special case because we use GCC in Sage regardless of whether it's installed via SPKG or used from the system. Also, no environment variable causes the Sage build process to need network connectivity, as this suggestion would (unless you also want to make pyOpenSSL a standard shipped package).\n\nIMHO installing an SPKG is not a big deal, it's one line and the average user doesn't need to know about it because they are not running a multi-user notebook server.",
    "created_at": "2012-08-21T13:45:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155715",
    "user": "https://github.com/kini"
}
```

<div id="comment:6" align="right">comment:6</div>

Personally I don't think it's worth adding another environment variable to the long list we already have, just to avoid a small percentage of users having to run `sage -i openssl` and `sage -i pyopenssl` after `make`. Furthermore this will set a new precedent. Currently we have no environment variables which control whether a certain package is installed or not, except `SAGE_INSTALL_GCC` which is kind of a special case because we use GCC in Sage regardless of whether it's installed via SPKG or used from the system. Also, no environment variable causes the Sage build process to need network connectivity, as this suggestion would (unless you also want to make pyOpenSSL a standard shipped package).

IMHO installing an SPKG is not a big deal, it's one line and the average user doesn't need to know about it because they are not running a multi-user notebook server.



---

archive/issue_comments_155716.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nPlease no new environment variables. We could have an extra makefile target \n\n```\nssl: all\n    ./sage -i openssl\n    ./sage -i pyOpenSSL\n```",
    "created_at": "2012-08-21T14:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155716",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">comment:7</div>

Please no new environment variables. We could have an extra makefile target 

```
ssl: all
    ./sage -i openssl
    ./sage -i pyOpenSSL
```



---

archive/issue_comments_155717.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSo what needs doing here?\n\nRoot repo:\n- remove the spkgs, modify `deps` and `spkg/install` accordingly\n- modify prereq so it no longer checks for openssl (i.e., undo some of the changes at #13329)\n- in README.txt, document what needs to be done to use the secure notebook\n- possibly add a new target to the Makefile\n\nSage library:\n- in the installation guide, document what needs to be done to use the secure notebook\n\nSagenb:\n- make it work without openssl\n\nAnything else?",
    "created_at": "2012-08-21T15:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155717",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">comment:8</div>

So what needs doing here?

Root repo:
- remove the spkgs, modify `deps` and `spkg/install` accordingly
- modify prereq so it no longer checks for openssl (i.e., undo some of the changes at #13329)
- in README.txt, document what needs to be done to use the secure notebook
- possibly add a new target to the Makefile

Sage library:
- in the installation guide, document what needs to be done to use the secure notebook

Sagenb:
- make it work without openssl

Anything else?



---

archive/issue_comments_155718.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIn the sage library there is some code that does something with GNUTLS. It appears to be legacy code in devel/sage/sage/server/notebook . So I guess one more task is to see if anything breaks after removing the SPKGs.",
    "created_at": "2012-08-21T15:35:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155718",
    "user": "https://github.com/kini"
}
```

<div id="comment:9" align="right">comment:9</div>

In the sage library there is some code that does something with GNUTLS. It appears to be legacy code in devel/sage/sage/server/notebook . So I guess one more task is to see if anything breaks after removing the SPKGs.



---

archive/issue_comments_155719.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n(That includes upgrading extremely old notebook data, I guess.)",
    "created_at": "2012-08-21T16:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155719",
    "user": "https://github.com/kini"
}
```

<div id="comment:10" align="right">comment:10</div>

(That includes upgrading extremely old notebook data, I guess.)



---

archive/issue_comments_155720.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nHere's a patch for the root repo. Did I miss anything in `deps` or `install`?",
    "created_at": "2012-08-21T16:54:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155720",
    "user": "https://github.com/kini"
}
```

<div id="comment:11" align="right">comment:11</div>

Here's a patch for the root repo. Did I miss anything in `deps` or `install`?



---

archive/issue_comments_155721.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThe changes look okay at first glance. I'll try a build (on a system with openssl headers) to see how it goes. Perhaps you should mention `make ssl` in your changes to README.txt? And add a comment to the Makefile briefly describing the purpose of that target?",
    "created_at": "2012-08-21T18:55:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155721",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:12" align="right">comment:12</div>

The changes look okay at first glance. I'll try a build (on a system with openssl headers) to see how it goes. Perhaps you should mention `make ssl` in your changes to README.txt? And add a comment to the Makefile briefly describing the purpose of that target?



---

archive/issue_comments_155722.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nOh, and in `README.txt` and `Makefile`, you should point out that `sage -i openssl`, `make ssl`, etc., require internet access.",
    "created_at": "2012-08-21T21:53:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155722",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:13" align="right">comment:13</div>

Oh, and in `README.txt` and `Makefile`, you should point out that `sage -i openssl`, `make ssl`, etc., require internet access.



---

archive/issue_comments_155723.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nWhen I built with the root repo patch, all tests passed, because the old notebook directory has a file `nodoctest.py`. The appropriate files (like `server/notebook/gnutls_socket_ssl.py`) say things like\n\n```\n# This file is part of the OLD Sage notebook and is NOT actively developed,\n# maintained, or supported.  As of Sage v4.1.2, all notebook development has\n# moved to the separate Sage Notebook project\n```\nat the top, so I think it's okay to completely break this by removing gnutls.",
    "created_at": "2012-08-22T01:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155723",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:14" align="right">comment:14</div>

When I built with the root repo patch, all tests passed, because the old notebook directory has a file `nodoctest.py`. The appropriate files (like `server/notebook/gnutls_socket_ssl.py`) say things like

```
# This file is part of the OLD Sage notebook and is NOT actively developed,
# maintained, or supported.  As of Sage v4.1.2, all notebook development has
# moved to the separate Sage Notebook project
```
at the top, so I think it's okay to completely break this by removing gnutls.



---

archive/issue_comments_155724.json:
```json
{
    "body": "Attachment: **[trac_13385-sage-library.patch.gz](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.patch.gz)**",
    "created_at": "2012-08-22T01:53:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155724",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_13385-sage-library.patch.gz](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.patch.gz)**



---

archive/issue_comments_155725.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nHere are some documentation patches, one for the root repo, one for the Sage library.",
    "created_at": "2012-08-22T01:54:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155725",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:15" align="right">comment:15</div>

Here are some documentation patches, one for the root repo, one for the Sage library.



---

archive/issue_comments_155726.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nHere's a patch for the prereq tarball, and here's a new [prereq tarball](http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz).",
    "created_at": "2012-08-22T03:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155726",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:16" align="right">comment:16</div>

Here's a patch for the prereq tarball, and here's a new [prereq tarball](http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz).



---

archive/issue_comments_155727.json:
```json
{
    "body": "Attachment: **[trac_13385-prereq.patch.gz](https://github.com/sagemath/sage/files/ticket13385/trac_13385-prereq.patch.gz)**\n\nfor prereq package; for review only",
    "created_at": "2012-08-22T03:32:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155727",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_13385-prereq.patch.gz](https://github.com/sagemath/sage/files/ticket13385/trac_13385-prereq.patch.gz)**

for prereq package; for review only



---

archive/issue_comments_155728.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -20,3 +20,15 @@\n Read the above linked thread, but basically, `notebook(secure=True)` is rarely used, and is not even really that desirable to use, except for people setting up multiuser Sage servers, which is a small percentage of Sage users. Therefore we will require users who want to use `notebook(secure=True)` to perform the additional step of installing pyOpenSSL into Sage's Python. This allows us to get rid of our sort of problematic dependencies on OpenSSL.\n \n Furthermore, as I understand it, our switching to OpenSSL had already made GNUTLS useless in Sage when we started shipping the Flask notebook (Sage 5.2), so we can get rid of GNUTLS and related SPKGs at the same time.\n+\n+---\n+\n+Apply:\n+\n+- [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) and [attachment: trac_13385-root-doc.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root-doc.patch.gz) to the root repo\n+- [attachment: trac_13385-sage-library.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.patch.gz) to the Sage library\n+\n+Copy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.\n+\n+Still to come: new sagenb spkg (at #13121).\n+\n``````\n",
    "created_at": "2012-08-22T03:42:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155728",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -20,3 +20,15 @@
 Read the above linked thread, but basically, `notebook(secure=True)` is rarely used, and is not even really that desirable to use, except for people setting up multiuser Sage servers, which is a small percentage of Sage users. Therefore we will require users who want to use `notebook(secure=True)` to perform the additional step of installing pyOpenSSL into Sage's Python. This allows us to get rid of our sort of problematic dependencies on OpenSSL.
 
 Furthermore, as I understand it, our switching to OpenSSL had already made GNUTLS useless in Sage when we started shipping the Flask notebook (Sage 5.2), so we can get rid of GNUTLS and related SPKGs at the same time.
+
+---
+
+Apply:
+
+- [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) and [attachment: trac_13385-root-doc.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root-doc.patch.gz) to the root repo
+- [attachment: trac_13385-sage-library.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.patch.gz) to the Sage library
+
+Copy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.
+
+Still to come: new sagenb spkg (at #13121).
+
``````




---

archive/issue_comments_155729.json:
```json
{
    "body": "Attachment: **[trac_13385-root-doc.patch.gz](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root-doc.patch.gz)**\n\napply to $SAGE_ROOT",
    "created_at": "2012-08-22T05:19:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155729",
    "user": "https://github.com/kini"
}
```

Attachment: **[trac_13385-root-doc.patch.gz](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root-doc.patch.gz)**

apply to $SAGE_ROOT



---

archive/issue_comments_155730.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nUpdated the root patches to account for the decapitalization of the pyOpenSSL SPKG name (see comments on #13384).",
    "created_at": "2012-08-22T05:20:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155730",
    "user": "https://github.com/kini"
}
```

<div id="comment:18" align="right">comment:18</div>

Updated the root patches to account for the decapitalization of the pyOpenSSL SPKG name (see comments on #13384).



---

archive/issue_comments_155731.json:
```json
{
    "body": "Changed dependencies from **#13121** to **#13121, #13384**",
    "created_at": "2012-08-22T06:52:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155731",
    "user": "https://github.com/kini"
}
```

Changed dependencies from **#13121** to **#13121, #13384**



---

archive/issue_comments_155732.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nsagenb fix is at https://github.com/sagemath/sagenb/pull/95 if someone wants to review it.",
    "created_at": "2012-08-22T07:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155732",
    "user": "https://github.com/kini"
}
```

<div id="comment:20" align="right">comment:20</div>

sagenb fix is at https://github.com/sagemath/sagenb/pull/95 if someone wants to review it.



---

archive/issue_comments_155733.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nLooking at sagenb's README.rst, I notice that besides HTTPS notebook login, OpenSSL is also used by OpenID authentication, this time through Python's bundled ssl module rather than through pyOpenSSL.\n\nThis means that if a user wanted to use OpenID authentication on their server, they'd have to install OpenSSL dev headers on their system (or install the optional openssl SPKG) and then rebuild Python, which is a bit involved. This should also be included in the \"ssl\" makefile target, I guess. Preferably the \"ssl\" makefile target shouldn't build Python twice.",
    "created_at": "2012-08-23T01:05:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155733",
    "user": "https://github.com/kini"
}
```

<div id="comment:21" align="right">comment:21</div>

Looking at sagenb's README.rst, I notice that besides HTTPS notebook login, OpenSSL is also used by OpenID authentication, this time through Python's bundled ssl module rather than through pyOpenSSL.

This means that if a user wanted to use OpenID authentication on their server, they'd have to install OpenSSL dev headers on their system (or install the optional openssl SPKG) and then rebuild Python, which is a bit involved. This should also be included in the "ssl" makefile target, I guess. Preferably the "ssl" makefile target shouldn't build Python twice.



---

archive/issue_comments_155734.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nSo the \"ssl\" target should install openssl, then build Sage, then install pyopenssl. Fortunately, the openssl spkg has very few requirements: patch should be enough, I think (and patch is necessary on Solaris, at least: the system's patch is brain-dead).\n\nSo if the ssl makefile target should include openssl, perhaps it should run a script to download the spkg and then maybe modify spkg/standard/deps, adding openssl in the appropriate place (after patch). Or maybe, given the change at #13373, you could add three (?) new targets:\n\n- \"patch\", which does `./sage -i patch`\n- \"openssl\", which has patch as a prerequisite and does `./sage -i openssl`\n- \"sslbuild\", which has openssl as a prerequisite and just builds Sage.\n\nThen \"ssl\" would have \"sslbuild\" as a dependency and would do `./sage -i pyopenssl`. This all seems kind of clunky, especially since we should only install openssl if necessary.\n\nOther ideas: \n- force the user to read README.txt and install openssl manually (`./sage -i patch; ./sage -i openssl`), and then `make ssl` will take care of everything else, by building Sage and installing pyopenssl.\n- include a script to check whether openssl is present, and run it as part of `make ssl`. If openssl is not present, exit and tell the user to install it.\n\n(Wouldn't it be nice if Sage used configure? Then the user could do `./configure --ssl=True; make` and the script would figure out whether openssl was necessary, and also install pyopenssl at the end.)",
    "created_at": "2012-08-23T02:05:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155734",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:22" align="right">comment:22</div>

So the "ssl" target should install openssl, then build Sage, then install pyopenssl. Fortunately, the openssl spkg has very few requirements: patch should be enough, I think (and patch is necessary on Solaris, at least: the system's patch is brain-dead).

So if the ssl makefile target should include openssl, perhaps it should run a script to download the spkg and then maybe modify spkg/standard/deps, adding openssl in the appropriate place (after patch). Or maybe, given the change at #13373, you could add three (?) new targets:

- "patch", which does `./sage -i patch`
- "openssl", which has patch as a prerequisite and does `./sage -i openssl`
- "sslbuild", which has openssl as a prerequisite and just builds Sage.

Then "ssl" would have "sslbuild" as a dependency and would do `./sage -i pyopenssl`. This all seems kind of clunky, especially since we should only install openssl if necessary.

Other ideas: 
- force the user to read README.txt and install openssl manually (`./sage -i patch; ./sage -i openssl`), and then `make ssl` will take care of everything else, by building Sage and installing pyopenssl.
- include a script to check whether openssl is present, and run it as part of `make ssl`. If openssl is not present, exit and tell the user to install it.

(Wouldn't it be nice if Sage used configure? Then the user could do `./configure --ssl=True; make` and the script would figure out whether openssl was necessary, and also install pyopenssl at the end.)



---

archive/issue_comments_155735.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nAnother complication is that `make ssl` (or whatever it's called) *should* rebuild Python if it has already been built but without an ssl module.\n\nI'm inclined to just make the user do this stuff and detail what needs to be done in the README. I'm also a bit wary of automating the installation of OpenSSL because that seems dangerously close to \"bundling\" it (though IANAL of course).",
    "created_at": "2012-08-23T02:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155735",
    "user": "https://github.com/kini"
}
```

<div id="comment:23" align="right">comment:23</div>

Another complication is that `make ssl` (or whatever it's called) *should* rebuild Python if it has already been built but without an ssl module.

I'm inclined to just make the user do this stuff and detail what needs to be done in the README. I'm also a bit wary of automating the installation of OpenSSL because that seems dangerously close to "bundling" it (though IANAL of course).



---

archive/issue_comments_155736.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nNote the variable `SAGE_UPGRADING`. You should be able to rebuild Python (./sage -f python), and set this variable to \"yes\" and rebuild Python's dependencies by doing `make build` (is the syntax `SAGE_UPGRADING=yes make build`?). This will take a while, of course.\n\nBy they way, how should users tell if they have openssl installed? Can we put some helpful information about this in the documentation?",
    "created_at": "2012-08-23T03:07:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155736",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:24" align="right">comment:24</div>

Note the variable `SAGE_UPGRADING`. You should be able to rebuild Python (./sage -f python), and set this variable to "yes" and rebuild Python's dependencies by doing `make build` (is the syntax `SAGE_UPGRADING=yes make build`?). This will take a while, of course.

By they way, how should users tell if they have openssl installed? Can we put some helpful information about this in the documentation?



---

archive/issue_comments_155737.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nHere's some documentation for README.txt (the \"v2\" patch). If it's okay, we can add something similar to the installation guide.",
    "created_at": "2012-08-23T03:55:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155737",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:25" align="right">comment:25</div>

Here's some documentation for README.txt (the "v2" patch). If it's okay, we can add something similar to the installation guide.



---

archive/issue_comments_155738.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -25,7 +25,7 @@\n \n Apply:\n \n-- [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) and [attachment: trac_13385-root-doc.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root-doc.patch.gz) to the root repo\n+- [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) and [attachment: trac_13385-root-doc.v2.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root-doc.v2.patch.gz) to the root repo\n - [attachment: trac_13385-sage-library.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.patch.gz) to the Sage library\n \n Copy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.\n``````\n",
    "created_at": "2012-08-23T03:55:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155738",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -25,7 +25,7 @@
 
 Apply:
 
-- [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) and [attachment: trac_13385-root-doc.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root-doc.patch.gz) to the root repo
+- [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) and [attachment: trac_13385-root-doc.v2.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root-doc.v2.patch.gz) to the root repo
 - [attachment: trac_13385-sage-library.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.patch.gz) to the Sage library
 
 Copy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.
``````




---

archive/issue_comments_155739.json:
```json
{
    "body": "Attachment: **[trac_13385-prereq.2.patch.gz](https://github.com/sagemath/sage/files/ticket13385/trac_13385-prereq.2.patch.gz)**\n\nfor prereq package; for review only",
    "created_at": "2012-08-23T05:18:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155739",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_13385-prereq.2.patch.gz](https://github.com/sagemath/sage/files/ticket13385/trac_13385-prereq.2.patch.gz)**

for prereq package; for review only



---

archive/issue_comments_155740.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nYup, that looks fine to me!",
    "created_at": "2012-08-23T05:19:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155740",
    "user": "https://github.com/kini"
}
```

<div id="comment:26" align="right">comment:26</div>

Yup, that looks fine to me!



---

archive/issue_comments_155741.json:
```json
{
    "body": "Changed dependencies from **#13121, #13384** to **#13121, #13384, #13373**",
    "created_at": "2012-08-23T05:19:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155741",
    "user": "https://github.com/kini"
}
```

Changed dependencies from **#13121, #13384** to **#13121, #13384, #13373**



---

archive/issue_comments_155742.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nIt seems to me that \"remove GNUTLS-related packages\" and \"make sagenb work without OpenSSL\" are two independent things.  So I think we should have two tickets, unless there is a good reason to connect these two issues.",
    "created_at": "2012-08-23T13:45:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155742",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

It seems to me that "remove GNUTLS-related packages" and "make sagenb work without OpenSSL" are two independent things.  So I think we should have two tickets, unless there is a good reason to connect these two issues.



---

archive/issue_events_186931.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-23T13:48:18Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "title_is": "Remove OpenSSL dependency from Sage",
    "title_was": "Remove TLS/SSL-related packages",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13385#event-186931"
}
```



---

archive/issue_comments_155743.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,16 +1,6 @@\n See [this sage-devel post by William](http://thread.gmane.org/gmane.comp.mathematics.sage.devel/54802/).\n \n ## Task\n-\n-Remove the following SPKGs:\n-\n-* python_gnutls\n-* gnutls\n-* opencdk\n-* libgcrypt\n-* libgpg_error\n-\n-Also:\n \n * no longer ship pyOpenSSL with sagenb (this will be taken care of in #13121)\n * no longer require OpenSSL dev headers in prereq\n@@ -19,7 +9,7 @@\n \n Read the above linked thread, but basically, `notebook(secure=True)` is rarely used, and is not even really that desirable to use, except for people setting up multiuser Sage servers, which is a small percentage of Sage users. Therefore we will require users who want to use `notebook(secure=True)` to perform the additional step of installing pyOpenSSL into Sage's Python. This allows us to get rid of our sort of problematic dependencies on OpenSSL.\n \n-Furthermore, as I understand it, our switching to OpenSSL had already made GNUTLS useless in Sage when we started shipping the Flask notebook (Sage 5.2), so we can get rid of GNUTLS and related SPKGs at the same time.\n+Related: #13392 (Remove GNUTLS-related packages)\n \n ---\n \n``````\n",
    "created_at": "2012-08-23T13:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155743",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,16 +1,6 @@
 See [this sage-devel post by William](http://thread.gmane.org/gmane.comp.mathematics.sage.devel/54802/).
 
 ## Task
-
-Remove the following SPKGs:
-
-* python_gnutls
-* gnutls
-* opencdk
-* libgcrypt
-* libgpg_error
-
-Also:
 
 * no longer ship pyOpenSSL with sagenb (this will be taken care of in #13121)
 * no longer require OpenSSL dev headers in prereq
@@ -19,7 +9,7 @@
 
 Read the above linked thread, but basically, `notebook(secure=True)` is rarely used, and is not even really that desirable to use, except for people setting up multiuser Sage servers, which is a small percentage of Sage users. Therefore we will require users who want to use `notebook(secure=True)` to perform the additional step of installing pyOpenSSL into Sage's Python. This allows us to get rid of our sort of problematic dependencies on OpenSSL.
 
-Furthermore, as I understand it, our switching to OpenSSL had already made GNUTLS useless in Sage when we started shipping the Flask notebook (Sage 5.2), so we can get rid of GNUTLS and related SPKGs at the same time.
+Related: #13392 (Remove GNUTLS-related packages)
 
 ---
 
``````




---

archive/issue_comments_155744.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n-See [this sage-devel post by William](http://thread.gmane.org/gmane.comp.mathematics.sage.devel/54802/).\n-\n ## Task\n \n * no longer ship pyOpenSSL with sagenb (this will be taken care of in #13121)\n``````\n",
    "created_at": "2012-08-23T13:49:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155744",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
-See [this sage-devel post by William](http://thread.gmane.org/gmane.comp.mathematics.sage.devel/54802/).
-
 ## Task
 
 * no longer ship pyOpenSSL with sagenb (this will be taken care of in #13121)
``````




---

archive/issue_comments_155745.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,7 +5,7 @@\n \n ## Rationale\n \n-Read the above linked thread, but basically, `notebook(secure=True)` is rarely used, and is not even really that desirable to use, except for people setting up multiuser Sage servers, which is a small percentage of Sage users. Therefore we will require users who want to use `notebook(secure=True)` to perform the additional step of installing pyOpenSSL into Sage's Python. This allows us to get rid of our sort of problematic dependencies on OpenSSL.\n+`notebook(secure=True)` is rarely used, and is not even really that desirable to use, except for people setting up multiuser Sage servers, which is a small percentage of Sage users. Therefore we will require users who want to use `notebook(secure=True)` to perform the additional step of installing pyOpenSSL into Sage's Python. This allows us to get rid of our sort of problematic dependencies on OpenSSL.\n \n Related: #13392 (Remove GNUTLS-related packages)\n \n@@ -19,4 +19,3 @@\n Copy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.\n \n Still to come: new sagenb spkg (at #13121).\n-\n``````\n",
    "created_at": "2012-08-23T13:49:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155745",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,7 +5,7 @@
 
 ## Rationale
 
-Read the above linked thread, but basically, `notebook(secure=True)` is rarely used, and is not even really that desirable to use, except for people setting up multiuser Sage servers, which is a small percentage of Sage users. Therefore we will require users who want to use `notebook(secure=True)` to perform the additional step of installing pyOpenSSL into Sage's Python. This allows us to get rid of our sort of problematic dependencies on OpenSSL.
+`notebook(secure=True)` is rarely used, and is not even really that desirable to use, except for people setting up multiuser Sage servers, which is a small percentage of Sage users. Therefore we will require users who want to use `notebook(secure=True)` to perform the additional step of installing pyOpenSSL into Sage's Python. This allows us to get rid of our sort of problematic dependencies on OpenSSL.
 
 Related: #13392 (Remove GNUTLS-related packages)
 
@@ -19,4 +19,3 @@
 Copy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.
 
 Still to come: new sagenb spkg (at #13121).
-
``````




---

archive/issue_comments_155746.json:
```json
{
    "body": "Author: **John Palmieri**",
    "created_at": "2012-08-23T13:58:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155746",
    "user": "https://github.com/jdemeyer"
}
```

Author: **John Palmieri**



---

archive/issue_comments_155747.json:
```json
{
    "body": "Reviewer: **Keshav Kini**",
    "created_at": "2012-08-23T13:58:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155747",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Keshav Kini**



---

archive/issue_comments_155748.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nJust FYI, the following is supported:\n\n```\n./sage -i openssl pyopenssl\n```",
    "created_at": "2012-08-23T13:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155748",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

Just FYI, the following is supported:

```
./sage -i openssl pyopenssl
```



---

archive/issue_comments_155749.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nNew documentation for the Sage library.",
    "created_at": "2012-08-23T15:12:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155749",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:33" align="right">comment:33</div>

New documentation for the Sage library.



---

archive/issue_comments_155750.json:
```json
{
    "body": "Changed reviewer from **Keshav Kini** to **Keshav Kini, John Palmieri**",
    "created_at": "2012-08-23T15:12:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155750",
    "user": "https://github.com/jhpalmieri"
}
```

Changed reviewer from **Keshav Kini** to **Keshav Kini, John Palmieri**



---

archive/issue_events_186932.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2012-08-23T15:12:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13385#event-186932"
}
```



---

archive/issue_comments_155751.json:
```json
{
    "body": "Changed author from **John Palmieri** to **John Palmieri, Keshav Kini**",
    "created_at": "2012-08-23T15:12:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155751",
    "user": "https://github.com/jhpalmieri"
}
```

Changed author from **John Palmieri** to **John Palmieri, Keshav Kini**



---

archive/issue_comments_155752.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,7 +14,7 @@\n Apply:\n \n - [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) and [attachment: trac_13385-root-doc.v2.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root-doc.v2.patch.gz) to the root repo\n-- [attachment: trac_13385-sage-library.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.patch.gz) to the Sage library\n+- [attachment: trac_13385-sage-library.v2.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.v2.patch.gz) to the Sage library\n \n Copy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.\n \n``````\n",
    "created_at": "2012-08-23T15:12:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155752",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,7 +14,7 @@
 Apply:
 
 - [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) and [attachment: trac_13385-root-doc.v2.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root-doc.v2.patch.gz) to the root repo
-- [attachment: trac_13385-sage-library.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.patch.gz) to the Sage library
+- [attachment: trac_13385-sage-library.v2.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.v2.patch.gz) to the Sage library
 
 Copy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.
 
``````




---

archive/issue_comments_155753.json:
```json
{
    "body": "Attachment: **[trac_13385-sage-library.v2.patch.gz](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.v2.patch.gz)**",
    "created_at": "2012-08-23T15:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155753",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_13385-sage-library.v2.patch.gz](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.v2.patch.gz)**



---

archive/issue_comments_155754.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nUpdate on what's left to do: I need to build Sage and test sagenb on it in an environment where SSL doesn't exist at all, on the system or in the Sage directory (because the ssl module, on which OpenID support relies, is built or not built based on whether the system has OpenSSL dev headers, and is different from the OpenSSL module, which is provided or not provided by pyOpenSSL being installed or not installed).\n\nDepending on what happens, I might need to add a bit more to [the pull request](https://github.com/sagemath/sagenb/pull/95). Once the pull request is merged, I'll cut a 0.10.2 and put it up on #13121.",
    "created_at": "2012-08-24T06:02:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155754",
    "user": "https://github.com/kini"
}
```

<div id="comment:34" align="right">comment:34</div>

Update on what's left to do: I need to build Sage and test sagenb on it in an environment where SSL doesn't exist at all, on the system or in the Sage directory (because the ssl module, on which OpenID support relies, is built or not built based on whether the system has OpenSSL dev headers, and is different from the OpenSSL module, which is provided or not provided by pyOpenSSL being installed or not installed).

Depending on what happens, I might need to add a bit more to [the pull request](https://github.com/sagemath/sagenb/pull/95). Once the pull request is merged, I'll cut a 0.10.2 and put it up on #13121.



---

archive/issue_comments_155755.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nI am reading the documentation and from what I understand of it, shouldn't this line be part of the ssl section of the `Makefile`?\n\n```\n./sage -f python # after ./sage -i openssl\n```\n\nThen the documentation can be simplified to:\n\n```\n1. If you don't have OpenSSL development headers installed, then run\nmake ssl\nto get a local copy of OpenSSL and pyOpenSSL within your Sage installation.\n\n2. If you have OpenSSL development headers installed, but pyOpenSSL is not installed,\nthen you can run\n./sage -i pyopenssl\nto install it.\n```",
    "created_at": "2012-08-24T07:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155755",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:35" align="right">comment:35</div>

I am reading the documentation and from what I understand of it, shouldn't this line be part of the ssl section of the `Makefile`?

```
./sage -f python # after ./sage -i openssl
```

Then the documentation can be simplified to:

```
1. If you don't have OpenSSL development headers installed, then run
make ssl
to get a local copy of OpenSSL and pyOpenSSL within your Sage installation.

2. If you have OpenSSL development headers installed, but pyOpenSSL is not installed,
then you can run
./sage -i pyopenssl
to install it.
```



---

archive/issue_comments_155756.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nAFAIK It's generally considered bad form to write make targets that are not idempotent or close to idempotent. Also you forgot the part about `SAGE_UPGRADING`, if I understand correctly. Finally, as I said earlier, maybe it's not such a great idea to even have OpenSSL pulled into a make target as that seems dangerously close to \"bundling OpenSSL with GPL software\". I like the way the patches are right now.",
    "created_at": "2012-08-24T07:42:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155756",
    "user": "https://github.com/kini"
}
```

<div id="comment:36" align="right">comment:36</div>

AFAIK It's generally considered bad form to write make targets that are not idempotent or close to idempotent. Also you forgot the part about `SAGE_UPGRADING`, if I understand correctly. Finally, as I said earlier, maybe it's not such a great idea to even have OpenSSL pulled into a make target as that seems dangerously close to "bundling OpenSSL with GPL software". I like the way the patches are right now.



---

archive/issue_comments_155757.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nThe license issue is that Sage hosts the openssl spkg, not whether or not there is a make target. I can see three options here:\n* get rid of the openssl spkg.\n* add a openssl license exception to the notebook.\n* modify the openssl spkg to only install if the openssl library is installed on the system.\nWhile quirky, the last option might be the easiest way out. Gnome links to openssl, so unless you really know what you are doing the openssl library is installed. The problem for Sage is that the development headers are generally not installed in a end-user setup. So as long as we intend the openssl spkg to simply be a way to get the devel headers without administrative privileges then we could still claim the system library exception.",
    "created_at": "2012-08-24T10:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155757",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:37" align="right">comment:37</div>

The license issue is that Sage hosts the openssl spkg, not whether or not there is a make target. I can see three options here:
* get rid of the openssl spkg.
* add a openssl license exception to the notebook.
* modify the openssl spkg to only install if the openssl library is installed on the system.
While quirky, the last option might be the easiest way out. Gnome links to openssl, so unless you really know what you are doing the openssl library is installed. The problem for Sage is that the development headers are generally not installed in a end-user setup. So as long as we intend the openssl spkg to simply be a way to get the devel headers without administrative privileges then we could still claim the system library exception.



---

archive/issue_comments_155758.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nAbout OpenID sans ssl module: looks like it just silently breaks, i.e. clicking on certain providers in the OpenID login box just... doesn't do anything. On the other hand it's pretty clearly marked in the options that turning on OpenID requires the ssl module to be available in Python, so a little detail about this in the Sage and sagenb READMEs should be enough, IMO.\n\nVolker, does your third option involve gutting the upstream source and only shipping the header files, or can we also build and install the actual libraries if OpenSSL exists on the system? If the latter, then even if OpenSSL doesn't exist on the system, aren't we, by hosting the SPKG, still \"distributing OpenSSL\", since the user could just untar the SPKG and run `make && sudo make install` in the src directory?",
    "created_at": "2012-08-25T09:54:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155758",
    "user": "https://github.com/kini"
}
```

<div id="comment:38" align="right">comment:38</div>

About OpenID sans ssl module: looks like it just silently breaks, i.e. clicking on certain providers in the OpenID login box just... doesn't do anything. On the other hand it's pretty clearly marked in the options that turning on OpenID requires the ssl module to be available in Python, so a little detail about this in the Sage and sagenb READMEs should be enough, IMO.

Volker, does your third option involve gutting the upstream source and only shipping the header files, or can we also build and install the actual libraries if OpenSSL exists on the system? If the latter, then even if OpenSSL doesn't exist on the system, aren't we, by hosting the SPKG, still "distributing OpenSSL", since the user could just untar the SPKG and run `make && sudo make install` in the src directory?



---

archive/issue_comments_155759.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@kini](#comment:38):\n> even if OpenSSL doesn't exist on the system, aren't we, by hosting the SPKG, still \"distributing OpenSSL\", since the user could just untar the SPKG and run `make && sudo make install` in the src directory?\n\nIt could be that we're violating the GPL, yes.  But it's not really clear to me, who knows?\n\nI do think that adding the `ssl` make target doesn't change much, since it just automates something which is already possible anyway.",
    "created_at": "2012-08-27T07:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155759",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@kini](#comment:38):
> even if OpenSSL doesn't exist on the system, aren't we, by hosting the SPKG, still "distributing OpenSSL", since the user could just untar the SPKG and run `make && sudo make install` in the src directory?

It could be that we're violating the GPL, yes.  But it's not really clear to me, who knows?

I do think that adding the `ssl` make target doesn't change much, since it just automates something which is already possible anyway.



---

archive/issue_comments_155760.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nWell, packaging OpenSSL directly into the Sage tarball just automates something which is already possible anyway, too (downloading OpenSSL sources and compiling/installing it into $SAGE_LOCAL).",
    "created_at": "2012-08-27T07:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155760",
    "user": "https://github.com/kini"
}
```

<div id="comment:40" align="right">comment:40</div>

Well, packaging OpenSSL directly into the Sage tarball just automates something which is already possible anyway, too (downloading OpenSSL sources and compiling/installing it into $SAGE_LOCAL).



---

archive/issue_comments_155761.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,4 +18,4 @@\n \n Copy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.\n \n-Still to come: new sagenb spkg (at #13121).\n+Replace the sagenb SPKG in spkg/standard with http://wstein.org/home/keshav/files/sagenb-0.10.2.spkg and follow other instructions on #13121 as necessary.\n``````\n",
    "created_at": "2012-09-02T07:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155761",
    "user": "https://github.com/kini"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,4 +18,4 @@
 
 Copy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.
 
-Still to come: new sagenb spkg (at #13121).
+Replace the sagenb SPKG in spkg/standard with http://wstein.org/home/keshav/files/sagenb-0.10.2.spkg and follow other instructions on #13121 as necessary.
``````




---

archive/issue_comments_155762.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nThe new SPKG on #13121 is ready for review, and doesn't require OpenSSL or pyOpenSSL. If someone could also review the optional pyOpenSSL SPKG at #13384, that would great.",
    "created_at": "2012-09-02T07:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155762",
    "user": "https://github.com/kini"
}
```

<div id="comment:41" align="right">comment:41</div>

The new SPKG on #13121 is ready for review, and doesn't require OpenSSL or pyOpenSSL. If someone could also review the optional pyOpenSSL SPKG at #13384, that would great.



---

archive/issue_comments_155763.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nRe [the above comment](#comment:34): is this ready to go? I'm happy with your changes, for what that's worth.\n\nRe the licensing issues: this ticket doesn't make things worse, does it? It seems like it should actually improve them, since OpenSSL will no longer be required to build Sage. So I don't think these issues should hold up this ticket. The license discussion should continue on sage-devel.",
    "created_at": "2012-09-02T16:30:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155763",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:42" align="right">comment:42</div>

Re [the above comment](#comment:34): is this ready to go? I'm happy with your changes, for what that's worth.

Re the licensing issues: this ticket doesn't make things worse, does it? It seems like it should actually improve them, since OpenSSL will no longer be required to build Sage. So I don't think these issues should hold up this ticket. The license discussion should continue on sage-devel.



---

archive/issue_comments_155764.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nRe licensing: note by the way that running `make ssl` does not install OpenSSL, just pyOpenSSL.",
    "created_at": "2012-09-02T16:33:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155764",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:43" align="right">comment:43</div>

Re licensing: note by the way that running `make ssl` does not install OpenSSL, just pyOpenSSL.



---

archive/issue_comments_155765.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nYeah, I'm fine with what's on this ticket at the moment. Especially after you removed the line `./sage -i openssl` from the `ssl` make target.",
    "created_at": "2012-09-02T17:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155765",
    "user": "https://github.com/kini"
}
```

<div id="comment:44" align="right">comment:44</div>

Yeah, I'm fine with what's on this ticket at the moment. Especially after you removed the line `./sage -i openssl` from the `ssl` make target.



---

archive/issue_comments_155766.json:
```json
{
    "body": "apply to $SAGE_ROOT",
    "created_at": "2012-09-03T13:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155766",
    "user": "https://github.com/jdemeyer"
}
```

apply to $SAGE_ROOT



---

archive/issue_comments_155767.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,7 +13,7 @@\n \n Apply:\n \n-- [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) and [attachment: trac_13385-root-doc.v2.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root-doc.v2.patch.gz) to the root repo\n+- [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) to the root repo\n - [attachment: trac_13385-sage-library.v2.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.v2.patch.gz) to the Sage library\n \n Copy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.\n``````\n",
    "created_at": "2012-09-03T13:35:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155767",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,7 +13,7 @@
 
 Apply:
 
-- [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) and [attachment: trac_13385-root-doc.v2.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root-doc.v2.patch.gz) to the root repo
+- [attachment: trac_13385-root.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz) to the root repo
 - [attachment: trac_13385-sage-library.v2.patch](https://github.com/sagemath/sage/files/ticket13385/trac_13385-sage-library.v2.patch.gz) to the Sage library
 
 Copy http://sage.math.washington.edu/home/palmieri/SPKG/prereq-1.1.tar.gz to spkg/base.
``````




---

archive/issue_comments_155768.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nAttachment: **[trac_13385-root.patch.gz](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz)**\n\nMerged both `SAGE_ROOT` patches for easier reviewing.",
    "created_at": "2012-09-03T13:35:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155768",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:45" align="right">comment:45</div>

Attachment: **[trac_13385-root.patch.gz](https://github.com/sagemath/sage/files/ticket13385/trac_13385-root.patch.gz)**

Merged both `SAGE_ROOT` patches for easier reviewing.



---

archive/issue_comments_155769.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nSince John has already reviewed this, I find that pretty unnecessary. Note that you also merged two patches with different authors.",
    "created_at": "2012-09-03T13:38:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155769",
    "user": "https://github.com/kini"
}
```

<div id="comment:46" align="right">comment:46</div>

Since John has already reviewed this, I find that pretty unnecessary. Note that you also merged two patches with different authors.



---

archive/issue_comments_155770.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@kini](#comment:36):\n> AFAIK It's generally considered bad form to write make targets that are not idempotent or close to idempotent.\n\nI think that\n\n```\n./sage -i foo\n```\nis pretty-much idempotent, what's the concern?",
    "created_at": "2012-09-03T13:47:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155770",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@kini](#comment:36):
> AFAIK It's generally considered bad form to write make targets that are not idempotent or close to idempotent.

I think that

```
./sage -i foo
```
is pretty-much idempotent, what's the concern?



---

archive/issue_comments_155771.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nI was referring to [ppurka's comment](#comment:35) about putting `./sage -f python` in the makefile target.",
    "created_at": "2012-09-03T13:49:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155771",
    "user": "https://github.com/kini"
}
```

<div id="comment:48" align="right">comment:48</div>

I was referring to [ppurka's comment](#comment:35) about putting `./sage -f python` in the makefile target.



---

archive/issue_comments_155772.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nReplying to [@kini](#comment:46):\n> Since John has already reviewed this, I find that pretty unnecessary.\n\nWell, I found it confusing to look at the second patch which almost replaced the first patch completely.  I was unaware that those patches were already reviewed.  What's left to review?",
    "created_at": "2012-09-03T13:57:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155772",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:49" align="right">comment:49</div>

Replying to [@kini](#comment:46):
> Since John has already reviewed this, I find that pretty unnecessary.

Well, I found it confusing to look at the second patch which almost replaced the first patch completely.  I was unaware that those patches were already reviewed.  What's left to review?



---

archive/issue_events_186933.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2012-09-03T14:00:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13385#event-186933"
}
```



---

archive/issue_events_186934.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2012-09-03T14:00:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13385#event-186934"
}
```



---

archive/issue_comments_155773.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nNothing, afaik. John said he's happy with my changes, and I said I'm happy with his changes. I guess neither of us considered that sufficient to set it to positive review, but now that I say it, I guess I should have...",
    "created_at": "2012-09-03T14:00:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155773",
    "user": "https://github.com/kini"
}
```

<div id="comment:50" align="right">comment:50</div>

Nothing, afaik. John said he's happy with my changes, and I said I'm happy with his changes. I guess neither of us considered that sufficient to set it to positive review, but now that I say it, I guess I should have...



---

archive/issue_events_186935.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-09-03T14:09:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "milestone_number": null,
    "milestone_title": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13385#event-186935"
}
```



---

archive/issue_events_186936.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-09-03T14:09:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "milestone_number": null,
    "milestone_title": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13385#event-186936"
}
```



---

archive/issue_comments_155774.json:
```json
{
    "body": "Merged: **sage-5.4.beta0**",
    "created_at": "2012-09-05T18:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13385#issuecomment-155774",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.4.beta0**



---

archive/issue_events_186937.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-09-05T18:05:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13385#event-186937"
}
```



---

archive/issue_events_186938.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-09-05T18:05:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13385",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13385#event-186938"
}
```
