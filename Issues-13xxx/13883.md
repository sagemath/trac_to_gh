# Issue 13883: Fix an assertion in polybori

archive/issues_013679.json:
```json
{
    "body": "The following crash occurs in Sage's debug version of #13864:\n\n```\nsage: from polybori import *                                  \nsage: B.<x,y,z> = BooleanPolynomialRing()\nsage: x > y > z                                               \nTrue                                                          \nsage: old_ring  = B\nsage: B._change_ordering(dp_asc)                                 \nsage: x > y > z                           \nFalse                                           \nsage: z > y > x\nTrue\nsage: new_ring = B.clone(ordering=lp) \nsage: ideal = BooleanPolynomialVector([x+z, y+z])\nsage: FGLMStrategy(old_ring, new_ring, ideal)\npython: groebner/include/polybori/groebner/PolyEntryVector.h:74: virtual void polybori::groebner::PolyEntryVector::append(const polybori::groebner::PolyEntry&): Assertion `m_indices.checked(back().lead) == (size_type)-1' failed.\n```\nThe gdb backtrace is as follows:\n\n```\n#0  0x00007ffff6d95d95 in raise () from /lib64/libc.so.6\n#1  0x00007ffff6d972ab in abort () from /lib64/libc.so.6\n#2  0x00007ffff6d8e8fe in __assert_fail_base () from /lib64/libc.so.6\n#3  0x00007ffff6d8e9a2 in __assert_fail () from /lib64/libc.so.6\n#4  0x00007fffd0bfa073 in polybori::groebner::PolyEntryVector::append(polybori::groebner::PolyEntry const&) [clone .part.506] ()\n   from /home/simon/SAGE/debug/sage-5.6.beta1/local/lib/libpolybori_groebner-0.8.2.so.0\n#5  0x00007fffd0c165b9 in polybori::groebner::FGLMStrategy::FGLMStrategy(polybori::BoolePolyRing const&, polybori::BoolePolyRing const&, std::vector<polybori::BoolePolynomial, std::allocator<polybori::BoolePolynomial> > const&) () from /home/simon/SAGE/debug/sage-5.6.beta1/local/lib/libpolybori_groebner-0.8.2.so.0\n#6  0x00007fffd15378b7 in WrappedPtr<polybori::groebner::FGLMStrategy>::WrappedPtr<polybori::BoolePolyRing, polybori::BoolePolyRing, std::vector<polybori::BoolePolynomial> > (this=0x7fffffffa740, \n    arg1=..., arg2=..., arg3=...) at /home/simon/SAGE/debug/sage-5.6.beta1/local/include/csage/pb_wrap.h:197\n#7  0x00007fffd14dbc5e in __pyx_pf_4sage_5rings_10polynomial_5pbori_12FGLMStrategy___init__ (__pyx_v_self=0x7fffc270dee8, __pyx_v_from_ring=0x2f412b0, __pyx_v_to_ring=0x2f69200, \n    __pyx_v_vec=0x7fffc26f7760) at sage/rings/polynomial/pbori.cpp:39777\n#8  0x00007fffd14dae26 in __pyx_pw_4sage_5rings_10polynomial_5pbori_12FGLMStrategy_1__init__ (__pyx_v_self=0x7fffc270dee8, __pyx_args=0x7ffff237bb60, __pyx_kwds=0x0)\n    at sage/rings/polynomial/pbori.cpp:39568\n#9  0x00007ffff7a4c0dd in type_call (type=0x7fffd17b8c20 <__pyx_type_4sage_5rings_10polynomial_5pbori_FGLMStrategy>, args=0x7ffff237bb60, kwds=0x0) at Objects/typeobject.c:737\n#10 0x00007ffff79be33e in PyObject_Call (func=0x7fffd17b8c20 <__pyx_type_4sage_5rings_10polynomial_5pbori_FGLMStrategy>, arg=0x7ffff237bb60, kw=0x0) at Objects/abstract.c:2529\n#11 0x00007ffff7ac7a58 in do_call (func=0x7fffd17b8c20 <__pyx_type_4sage_5rings_10polynomial_5pbori_FGLMStrategy>, pp_stack=0x7fffffffaaa0, na=3, nk=0) at Python/ceval.c:4239\n#12 0x00007ffff7ac6d92 in call_function (pp_stack=0x7fffffffaaa0, oparg=3) at Python/ceval.c:4044\n#13 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x2f6d0f0, throwflag=0) at Python/ceval.c:2666\n#14 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7fffc2747930, globals=0x9b0080, locals=0x9b0080, args=0x0, argcount=0, kws=0x0, kwcount=0, defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3253\n#15 0x00007ffff7ab9a88 in PyEval_EvalCode (co=0x7fffc2747930, globals=0x9b0080, locals=0x9b0080) at Python/ceval.c:667\n#16 0x00007ffff7ac9693 in exec_statement (f=0x297f250, prog=0x7fffc2747930, globals=0x9b0080, locals=0x9b0080) at Python/ceval.c:4718\n#17 0x00007ffff7abde26 in PyEval_EvalFrameEx (f=0x297f250, throwflag=0) at Python/ceval.c:1880\n#18 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7ffff280c720, globals=0x909bf0, locals=0x0, args=0x297eae0, argcount=2, kws=0x297eaf0, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at Python/ceval.c:3253\n#19 0x00007ffff7ac71b5 in fast_function (func=0x7ffff235b450, pp_stack=0x7fffffffb420, n=2, na=2, nk=0) at Python/ceval.c:4117\n#20 0x00007ffff7ac6d76 in call_function (pp_stack=0x7fffffffb420, oparg=1) at Python/ceval.c:4042\n#21 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x297e930, throwflag=0) at Python/ceval.c:2666\n#22 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7ffff280c5c0, globals=0x909bf0, locals=0x0, args=0x2f06e38, argcount=3, kws=0x2f06e50, kwcount=0, defs=0x7ffff2354f10, defcount=2, closure=0x0)\n    at Python/ceval.c:3253\n#23 0x00007ffff7ac71b5 in fast_function (func=0x7ffff235b3a8, pp_stack=0x7fffffffb910, n=3, na=3, nk=0) at Python/ceval.c:4117\n#24 0x00007ffff7ac6d76 in call_function (pp_stack=0x7fffffffb910, oparg=2) at Python/ceval.c:4042\n#25 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x2f06c90, throwflag=0) at Python/ceval.c:2666\n#26 0x00007ffff7ac708a in fast_function (func=0x7ffff235b4f8, pp_stack=0x7fffffffbc90, n=2, na=2, nk=0) at Python/ceval.c:4107\n#27 0x00007ffff7ac6d76 in call_function (pp_stack=0x7fffffffbc90, oparg=1) at Python/ceval.c:4042\n#28 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x9c6fb0, throwflag=0) at Python/ceval.c:2666\n#29 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7ffff280a9e0, globals=0x909bf0, locals=0x0, args=0x9bd3b8, argcount=2, kws=0x9bd3c8, kwcount=0, defs=0x7ffff235a1d8, defcount=1, closure=0x0)\n    at Python/ceval.c:3253\n#30 0x00007ffff7ac71b5 in fast_function (func=0x7ffff2359e28, pp_stack=0x7fffffffc180, n=2, na=2, nk=0) at Python/ceval.c:4117\n#31 0x00007ffff7ac6d76 in call_function (pp_stack=0x7fffffffc180, oparg=1) at Python/ceval.c:4042\n#32 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x9bd220, throwflag=0) at Python/ceval.c:2666\n#33 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7ffff2806f60, globals=0x909bf0, locals=0x0, args=0x9cc360, argcount=2, kws=0x9cc370, kwcount=0, defs=0x7ffff235a168, defcount=1, closure=0x0)\n    at Python/ceval.c:3253\n#34 0x00007ffff7ac71b5 in fast_function (func=0x7ffff2359a38, pp_stack=0x7fffffffc670, n=2, na=2, nk=0) at Python/ceval.c:4117\n#35 0x00007ffff7ac6d76 in call_function (pp_stack=0x7fffffffc670, oparg=1) at Python/ceval.c:4042\n#36 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x9cc1c0, throwflag=0) at Python/ceval.c:2666\n#37 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7ffff6a9b510, globals=0x707970, locals=0x0, args=0x6f6f58, argcount=1, kws=0x6f6f60, kwcount=2, defs=0x7ffff2ea5b50, defcount=2, closure=0x0)\n    at Python/ceval.c:3253\n#38 0x00007ffff7ac71b5 in fast_function (func=0x7ffff2367450, pp_stack=0x7fffffffcb60, n=5, na=1, nk=2) at Python/ceval.c:4117\n#39 0x00007ffff7ac6d76 in call_function (pp_stack=0x7fffffffcb60, oparg=512) at Python/ceval.c:4042\n#40 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x6f6dd0, throwflag=0) at Python/ceval.c:2666\n#41 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7ffff7e2f1a0, globals=0x644f50, locals=0x644f50, args=0x0, argcount=0, kws=0x0, kwcount=0, defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3253\n#42 0x00007ffff7ab9a88 in PyEval_EvalCode (co=0x7ffff7e2f1a0, globals=0x644f50, locals=0x644f50) at Python/ceval.c:667\n#43 0x00007ffff7af836d in run_mod (mod=0x6e8c18, filename=0x7fffffffd88f \"/home/simon/SAGE/debug/sage-5.6.beta1/local/bin/sage-ipython\", globals=0x644f50, locals=0x644f50, flags=0x7fffffffd090, \n    arena=0x62d530) at Python/pythonrun.c:1347\n#44 0x00007ffff7af82f3 in PyRun_FileExFlags (fp=0x6451e0, filename=0x7fffffffd88f \"/home/simon/SAGE/debug/sage-5.6.beta1/local/bin/sage-ipython\", start=257, globals=0x644f50, locals=0x644f50, \n    closeit=1, flags=0x7fffffffd090) at Python/pythonrun.c:1333\n#45 0x00007ffff7af6aa0 in PyRun_SimpleFileExFlags (fp=0x6451e0, filename=0x7fffffffd88f \"/home/simon/SAGE/debug/sage-5.6.beta1/local/bin/sage-ipython\", closeit=1, flags=0x7fffffffd090)\n    at Python/pythonrun.c:937\n#46 0x00007ffff7af6092 in PyRun_AnyFileExFlags (fp=0x6451e0, filename=0x7fffffffd88f \"/home/simon/SAGE/debug/sage-5.6.beta1/local/bin/sage-ipython\", closeit=1, flags=0x7fffffffd090)\n    at Python/pythonrun.c:741\n#47 0x00007ffff7b12536 in Py_Main (argc=3, argv=0x7fffffffd218) at Modules/main.c:639\n#48 0x00000000004007b4 in main (argc=3, argv=0x7fffffffd218) at ./Modules/python.c:23\n```\n\n__Apply__\n[attachment:FGLMStrategy_sigon.patch]\n\n__Install__\nhttp://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.2.p0.spkg\n\nAssignee: @malb\n\nCC:  alexanderdreyer polybori\n\nKeywords: polybori FGLMStrategy debug\n\nUpstream: Reported upstream. No feedback yet.\n\nReviewer: Jean-Pierre Flori\n\nAuthor: Alexander Dreyer\n\nMerged: sage-5.6.beta3\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13883\n\n",
    "closed_at": "2013-01-07T20:58:07Z",
    "created_at": "2012-12-29T22:17:52Z",
    "labels": [
        "component: commutative algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.6",
    "title": "Fix an assertion in polybori",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13883",
    "user": "https://github.com/simon-king-jena"
}
```
The following crash occurs in Sage's debug version of #13864:

```
sage: from polybori import *                                  
sage: B.<x,y,z> = BooleanPolynomialRing()
sage: x > y > z                                               
True                                                          
sage: old_ring  = B
sage: B._change_ordering(dp_asc)                                 
sage: x > y > z                           
False                                           
sage: z > y > x
True
sage: new_ring = B.clone(ordering=lp) 
sage: ideal = BooleanPolynomialVector([x+z, y+z])
sage: FGLMStrategy(old_ring, new_ring, ideal)
python: groebner/include/polybori/groebner/PolyEntryVector.h:74: virtual void polybori::groebner::PolyEntryVector::append(const polybori::groebner::PolyEntry&): Assertion `m_indices.checked(back().lead) == (size_type)-1' failed.
```
The gdb backtrace is as follows:

```
#0  0x00007ffff6d95d95 in raise () from /lib64/libc.so.6
#1  0x00007ffff6d972ab in abort () from /lib64/libc.so.6
#2  0x00007ffff6d8e8fe in __assert_fail_base () from /lib64/libc.so.6
#3  0x00007ffff6d8e9a2 in __assert_fail () from /lib64/libc.so.6
#4  0x00007fffd0bfa073 in polybori::groebner::PolyEntryVector::append(polybori::groebner::PolyEntry const&) [clone .part.506] ()
   from /home/simon/SAGE/debug/sage-5.6.beta1/local/lib/libpolybori_groebner-0.8.2.so.0
#5  0x00007fffd0c165b9 in polybori::groebner::FGLMStrategy::FGLMStrategy(polybori::BoolePolyRing const&, polybori::BoolePolyRing const&, std::vector<polybori::BoolePolynomial, std::allocator<polybori::BoolePolynomial> > const&) () from /home/simon/SAGE/debug/sage-5.6.beta1/local/lib/libpolybori_groebner-0.8.2.so.0
#6  0x00007fffd15378b7 in WrappedPtr<polybori::groebner::FGLMStrategy>::WrappedPtr<polybori::BoolePolyRing, polybori::BoolePolyRing, std::vector<polybori::BoolePolynomial> > (this=0x7fffffffa740, 
    arg1=..., arg2=..., arg3=...) at /home/simon/SAGE/debug/sage-5.6.beta1/local/include/csage/pb_wrap.h:197
#7  0x00007fffd14dbc5e in __pyx_pf_4sage_5rings_10polynomial_5pbori_12FGLMStrategy___init__ (__pyx_v_self=0x7fffc270dee8, __pyx_v_from_ring=0x2f412b0, __pyx_v_to_ring=0x2f69200, 
    __pyx_v_vec=0x7fffc26f7760) at sage/rings/polynomial/pbori.cpp:39777
#8  0x00007fffd14dae26 in __pyx_pw_4sage_5rings_10polynomial_5pbori_12FGLMStrategy_1__init__ (__pyx_v_self=0x7fffc270dee8, __pyx_args=0x7ffff237bb60, __pyx_kwds=0x0)
    at sage/rings/polynomial/pbori.cpp:39568
#9  0x00007ffff7a4c0dd in type_call (type=0x7fffd17b8c20 <__pyx_type_4sage_5rings_10polynomial_5pbori_FGLMStrategy>, args=0x7ffff237bb60, kwds=0x0) at Objects/typeobject.c:737
#10 0x00007ffff79be33e in PyObject_Call (func=0x7fffd17b8c20 <__pyx_type_4sage_5rings_10polynomial_5pbori_FGLMStrategy>, arg=0x7ffff237bb60, kw=0x0) at Objects/abstract.c:2529
#11 0x00007ffff7ac7a58 in do_call (func=0x7fffd17b8c20 <__pyx_type_4sage_5rings_10polynomial_5pbori_FGLMStrategy>, pp_stack=0x7fffffffaaa0, na=3, nk=0) at Python/ceval.c:4239
#12 0x00007ffff7ac6d92 in call_function (pp_stack=0x7fffffffaaa0, oparg=3) at Python/ceval.c:4044
#13 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x2f6d0f0, throwflag=0) at Python/ceval.c:2666
#14 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7fffc2747930, globals=0x9b0080, locals=0x9b0080, args=0x0, argcount=0, kws=0x0, kwcount=0, defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3253
#15 0x00007ffff7ab9a88 in PyEval_EvalCode (co=0x7fffc2747930, globals=0x9b0080, locals=0x9b0080) at Python/ceval.c:667
#16 0x00007ffff7ac9693 in exec_statement (f=0x297f250, prog=0x7fffc2747930, globals=0x9b0080, locals=0x9b0080) at Python/ceval.c:4718
#17 0x00007ffff7abde26 in PyEval_EvalFrameEx (f=0x297f250, throwflag=0) at Python/ceval.c:1880
#18 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7ffff280c720, globals=0x909bf0, locals=0x0, args=0x297eae0, argcount=2, kws=0x297eaf0, kwcount=0, defs=0x0, defcount=0, closure=0x0)
    at Python/ceval.c:3253
#19 0x00007ffff7ac71b5 in fast_function (func=0x7ffff235b450, pp_stack=0x7fffffffb420, n=2, na=2, nk=0) at Python/ceval.c:4117
#20 0x00007ffff7ac6d76 in call_function (pp_stack=0x7fffffffb420, oparg=1) at Python/ceval.c:4042
#21 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x297e930, throwflag=0) at Python/ceval.c:2666
#22 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7ffff280c5c0, globals=0x909bf0, locals=0x0, args=0x2f06e38, argcount=3, kws=0x2f06e50, kwcount=0, defs=0x7ffff2354f10, defcount=2, closure=0x0)
    at Python/ceval.c:3253
#23 0x00007ffff7ac71b5 in fast_function (func=0x7ffff235b3a8, pp_stack=0x7fffffffb910, n=3, na=3, nk=0) at Python/ceval.c:4117
#24 0x00007ffff7ac6d76 in call_function (pp_stack=0x7fffffffb910, oparg=2) at Python/ceval.c:4042
#25 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x2f06c90, throwflag=0) at Python/ceval.c:2666
#26 0x00007ffff7ac708a in fast_function (func=0x7ffff235b4f8, pp_stack=0x7fffffffbc90, n=2, na=2, nk=0) at Python/ceval.c:4107
#27 0x00007ffff7ac6d76 in call_function (pp_stack=0x7fffffffbc90, oparg=1) at Python/ceval.c:4042
#28 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x9c6fb0, throwflag=0) at Python/ceval.c:2666
#29 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7ffff280a9e0, globals=0x909bf0, locals=0x0, args=0x9bd3b8, argcount=2, kws=0x9bd3c8, kwcount=0, defs=0x7ffff235a1d8, defcount=1, closure=0x0)
    at Python/ceval.c:3253
#30 0x00007ffff7ac71b5 in fast_function (func=0x7ffff2359e28, pp_stack=0x7fffffffc180, n=2, na=2, nk=0) at Python/ceval.c:4117
#31 0x00007ffff7ac6d76 in call_function (pp_stack=0x7fffffffc180, oparg=1) at Python/ceval.c:4042
#32 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x9bd220, throwflag=0) at Python/ceval.c:2666
#33 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7ffff2806f60, globals=0x909bf0, locals=0x0, args=0x9cc360, argcount=2, kws=0x9cc370, kwcount=0, defs=0x7ffff235a168, defcount=1, closure=0x0)
    at Python/ceval.c:3253
#34 0x00007ffff7ac71b5 in fast_function (func=0x7ffff2359a38, pp_stack=0x7fffffffc670, n=2, na=2, nk=0) at Python/ceval.c:4117
#35 0x00007ffff7ac6d76 in call_function (pp_stack=0x7fffffffc670, oparg=1) at Python/ceval.c:4042
#36 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x9cc1c0, throwflag=0) at Python/ceval.c:2666
#37 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7ffff6a9b510, globals=0x707970, locals=0x0, args=0x6f6f58, argcount=1, kws=0x6f6f60, kwcount=2, defs=0x7ffff2ea5b50, defcount=2, closure=0x0)
    at Python/ceval.c:3253
#38 0x00007ffff7ac71b5 in fast_function (func=0x7ffff2367450, pp_stack=0x7fffffffcb60, n=5, na=1, nk=2) at Python/ceval.c:4117
#39 0x00007ffff7ac6d76 in call_function (pp_stack=0x7fffffffcb60, oparg=512) at Python/ceval.c:4042
#40 0x00007ffff7ac16ba in PyEval_EvalFrameEx (f=0x6f6dd0, throwflag=0) at Python/ceval.c:2666
#41 0x00007ffff7ac40aa in PyEval_EvalCodeEx (co=0x7ffff7e2f1a0, globals=0x644f50, locals=0x644f50, args=0x0, argcount=0, kws=0x0, kwcount=0, defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3253
#42 0x00007ffff7ab9a88 in PyEval_EvalCode (co=0x7ffff7e2f1a0, globals=0x644f50, locals=0x644f50) at Python/ceval.c:667
#43 0x00007ffff7af836d in run_mod (mod=0x6e8c18, filename=0x7fffffffd88f "/home/simon/SAGE/debug/sage-5.6.beta1/local/bin/sage-ipython", globals=0x644f50, locals=0x644f50, flags=0x7fffffffd090, 
    arena=0x62d530) at Python/pythonrun.c:1347
#44 0x00007ffff7af82f3 in PyRun_FileExFlags (fp=0x6451e0, filename=0x7fffffffd88f "/home/simon/SAGE/debug/sage-5.6.beta1/local/bin/sage-ipython", start=257, globals=0x644f50, locals=0x644f50, 
    closeit=1, flags=0x7fffffffd090) at Python/pythonrun.c:1333
#45 0x00007ffff7af6aa0 in PyRun_SimpleFileExFlags (fp=0x6451e0, filename=0x7fffffffd88f "/home/simon/SAGE/debug/sage-5.6.beta1/local/bin/sage-ipython", closeit=1, flags=0x7fffffffd090)
    at Python/pythonrun.c:937
#46 0x00007ffff7af6092 in PyRun_AnyFileExFlags (fp=0x6451e0, filename=0x7fffffffd88f "/home/simon/SAGE/debug/sage-5.6.beta1/local/bin/sage-ipython", closeit=1, flags=0x7fffffffd090)
    at Python/pythonrun.c:741
#47 0x00007ffff7b12536 in Py_Main (argc=3, argv=0x7fffffffd218) at Modules/main.c:639
#48 0x00000000004007b4 in main (argc=3, argv=0x7fffffffd218) at ./Modules/python.c:23
```

__Apply__
[attachment:FGLMStrategy_sigon.patch]

__Install__
http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.2.p0.spkg

Assignee: @malb

CC:  alexanderdreyer polybori

Keywords: polybori FGLMStrategy debug

Upstream: Reported upstream. No feedback yet.

Reviewer: Jean-Pierre Flori

Author: Alexander Dreyer

Merged: sage-5.6.beta3

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/13883





---

archive/issue_comments_208313.json:
```json
{
    "body": "<a id='comment:1'></a>\nVery strange I don't remember seeing anything like it in sage on gentoo or lmnd. I am not convinced that it is just from python debugging unless we collaterally fixed this along with singular and linbox. Of course now I realise that it may be the result from a doctest so it may have been dormant on us all along.",
    "created_at": "2012-12-30T00:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208313",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:1'></a>
Very strange I don't remember seeing anything like it in sage on gentoo or lmnd. I am not convinced that it is just from python debugging unless we collaterally fixed this along with singular and linbox. Of course now I realise that it may be the result from a doctest so it may have been dormant on us all along.



---

archive/issue_comments_208314.json:
```json
{
    "body": "<a id='comment:2'></a>\nCould not reproduce in sage-on-gentoo but we don't have \"--with-pydebug\" by default (can still build python with debugging symbols for gdb but not the stuff from pydebug). Investigating further.",
    "created_at": "2012-12-30T09:52:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208314",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:2'></a>
Could not reproduce in sage-on-gentoo but we don't have "--with-pydebug" by default (can still build python with debugging symbols for gdb but not the stuff from pydebug). Investigating further.



---

archive/issue_comments_208315.json:
```json
{
    "body": "<a id='comment:3'></a>\n`PolyEntryVector::append` contains an assertion, which does not apply when compiled without Debug-Options. The actual problem is probably the `._change_ordering`, which never was a user command. It will yield  inconsistencies (we should remove it) , so please use the ordering option of `BooleanPolynomialRing` (`DegNegLex` is `dp_asc`). Perhaps that already fixed the problem.",
    "created_at": "2012-12-30T11:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208315",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:3'></a>
`PolyEntryVector::append` contains an assertion, which does not apply when compiled without Debug-Options. The actual problem is probably the `._change_ordering`, which never was a user command. It will yield  inconsistencies (we should remove it) , so please use the ordering option of `BooleanPolynomialRing` (`DegNegLex` is `dp_asc`). Perhaps that already fixed the problem.



---

archive/issue_comments_208316.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [AlexanderDreyer](#comment%3A3):\n> `PolyEntryVector::append` contains an assertion, which does not apply when compiled without Debug-Options. The actual problem is probably the `._change_ordering`, which never was a user command. It will yield  inconsistencies (we should remove it) , so please use the ordering option of `BooleanPolynomialRing` (`DegNegLex` is `dp_asc`). Perhaps that already fixed the problem. \n\n\nSo, you say I should rewrite the test, so that `._change_ordering` is not used?",
    "created_at": "2012-12-30T12:19:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208316",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:4'></a>
Replying to [AlexanderDreyer](#comment%3A3):
> `PolyEntryVector::append` contains an assertion, which does not apply when compiled without Debug-Options. The actual problem is probably the `._change_ordering`, which never was a user command. It will yield  inconsistencies (we should remove it) , so please use the ordering option of `BooleanPolynomialRing` (`DegNegLex` is `dp_asc`). Perhaps that already fixed the problem. 


So, you say I should rewrite the test, so that `._change_ordering` is not used?



---

archive/issue_comments_208317.json:
```json
{
    "body": "<a id='comment:5'></a>\nDo you mean doing something like:\n\n```\nsage: from polybori import *\nsage: B.<x,y,z> = BooleanPolynomialRing(order='lex')\nsage: C.<x,y,z> = BooleanPolynomialRing(order='degneglex')\nsage: ideal = BooleanPolynomialVector([x+z, y+z])\nsage: sage: FGLMStrategy(B, C, ideal)\n```\nbecause it bangs as well with\n\n```\nterminate called after throwing an instance of 'std::runtime_error'\n  what():  Operands come from different manager.\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libcsage.so(print_backtrace+0x31)[0x7ffcdf8aed7d]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libcsage.so(sigdie+0x14)[0x7ffcdf8aedaf]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libcsage.so(sage_signal_handler+0x1da)[0x7ffcdf8ae95b]\n/lib/x86_64-linux-gnu/libpthread.so.0(+0xf310)[0x7ffce464a310]\n/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x35)[0x7ffce3bc6dd5]\n/lib/x86_64-linux-gnu/libc.so.6(abort+0x17b)[0x7ffce3bc9efb]\n/usr/lib/x86_64-linux-gnu/libstdc++.so.6(_ZN9__gnu_cxx27__verbose_terminate_handlerEv+0x11d)[0x7ffcdf5dc89d]\n/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0x63996)[0x7ffcdf5da996]\n/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0x639c3)[0x7ffcdf5da9c3]\n/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0x63bee)[0x7ffcdf5dabee]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/python2.7/site-packages/sage/rings/polynomial/pbori.so(_ZNK8polybori16CApplyNodeFacadeINS_8BooleSetEP6DdNodeE16checkSameManagerERKS1_+0xc0)[0x7ffcbf85e9ba]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/python2.7/site-packages/sage/rings/polynomial/pbori.so(_ZNK8polybori16CApplyNodeFacadeINS_8BooleSetEP6DdNodeE5applyIP15pbori_DdManagerEES1_PFS3_T_S3_S3_ERKS1_+0x2e)[0x7ffcbf8578a4]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpolybori_groebner-0.8.2.so.0(_ZN8polybori8groebner19MinimalLeadingTerms7cleanupERKNS_13BooleMonomialE+0x69)[0x7ffcbef58319]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpolybori_groebner-0.8.2.so.0(_ZN8polybori8groebner19MinimalLeadingTerms6updateERKNS_13BooleMonomialE+0x47)[0x7ffcbef58677]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpolybori_groebner-0.8.2.so.0(_ZN8polybori8groebner17ReductionStrategy19setupSetsForElementERKNS0_9PolyEntryE+0x61)[0x7ffcbef57031]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpolybori_groebner-0.8.2.so.0(_ZN8polybori8groebner12FGLMStrategyC2ERKNS_13BoolePolyRingES4_RKSt6vectorINS_15BoolePolynomialESaIS6_EE+0x513)[0x7ffcbef20a03]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/python2.7/site-packages/sage/rings/polynomial/pbori.so(_ZN10WrappedPtrIN8polybori8groebner12FGLMStrategyEEC1INS0_13BoolePolyRingES5_St6vectorINS0_15BoolePolynomialESaIS7_EEEERKT_RKT0_RKT1_+0x3f)[0x7ffcbf85665d]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/python2.7/site-packages/sage/rings/polynomial/pbori.so(+0x11c33e)[0x7ffcbf7fa33e]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/python2.7/site-packages/sage/rings/polynomial/pbori.so(+0x11b4fc)[0x7ffcbf7f94fc]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0xe0657)[0x7ffce4937657]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyObject_Call+0x7f)[0x7ffce48a92c1]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15b7ad)[0x7ffce49b27ad]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aae5)[0x7ffce49b1ae5]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x5a)[0x7ffce49a4744]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15d3e6)[0x7ffce49b43e6]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x43c0)[0x7ffce49a8b25]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15af0e)[0x7ffce49b1f0e]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aac9)[0x7ffce49b1ac9]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15af0e)[0x7ffce49b1f0e]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aac9)[0x7ffce49b1ac9]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15ade3)[0x7ffce49b1de3]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aac9)[0x7ffce49b1ac9]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15af0e)[0x7ffce49b1f0e]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aac9)[0x7ffce49b1ac9]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15af0e)[0x7ffce49b1f0e]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aac9)[0x7ffce49b1ac9]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15af0e)[0x7ffce49b1f0e]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aac9)[0x7ffce49b1ac9]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x5a)[0x7ffce49a4744]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x18bd81)[0x7ffce49e2d81]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyRun_FileExFlags+0xbf)[0x7ffce49e2d07]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyRun_SimpleFileExFlags+0x2be)[0x7ffce49e1504]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyRun_AnyFileExFlags+0x88)[0x7ffce49e0b62]\n/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(Py_Main+0xd29)[0x7ffce49fcb76]\npython(main+0x20)[0x40085c]\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xed)[0x7ffce3bb36ad]\npython[0x400779]\n\n------------------------------------------------------------------------\nUnhandled SIGABRT: An abort() occurred in Sage.\nThis probably occurred because a *compiled* component of Sage has a bug\nin it and is not properly wrapped with sig_on(), sig_off(). You might\nwant to run Sage under gdb with 'sage -gdb' to debug this.\nSage will now terminate.\n------------------------------------------------------------------------\n/home/jp/boulot/sage/sage-5.6.beta2/spkg/bin/sage : ligne 310 : 29842 Abandon                 sage-ipython \"$@\" -i\n```\nwich seems better but should be caught properly if needed.\n\nI'm not really aware of what the above code should do, so my attempt may be completely senseless (although I feel Sage should not crash in this case neither).",
    "created_at": "2012-12-30T16:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208317",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:5'></a>
Do you mean doing something like:

```
sage: from polybori import *
sage: B.<x,y,z> = BooleanPolynomialRing(order='lex')
sage: C.<x,y,z> = BooleanPolynomialRing(order='degneglex')
sage: ideal = BooleanPolynomialVector([x+z, y+z])
sage: sage: FGLMStrategy(B, C, ideal)
```
because it bangs as well with

```
terminate called after throwing an instance of 'std::runtime_error'
  what():  Operands come from different manager.
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libcsage.so(print_backtrace+0x31)[0x7ffcdf8aed7d]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libcsage.so(sigdie+0x14)[0x7ffcdf8aedaf]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libcsage.so(sage_signal_handler+0x1da)[0x7ffcdf8ae95b]
/lib/x86_64-linux-gnu/libpthread.so.0(+0xf310)[0x7ffce464a310]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x35)[0x7ffce3bc6dd5]
/lib/x86_64-linux-gnu/libc.so.6(abort+0x17b)[0x7ffce3bc9efb]
/usr/lib/x86_64-linux-gnu/libstdc++.so.6(_ZN9__gnu_cxx27__verbose_terminate_handlerEv+0x11d)[0x7ffcdf5dc89d]
/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0x63996)[0x7ffcdf5da996]
/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0x639c3)[0x7ffcdf5da9c3]
/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0x63bee)[0x7ffcdf5dabee]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/python2.7/site-packages/sage/rings/polynomial/pbori.so(_ZNK8polybori16CApplyNodeFacadeINS_8BooleSetEP6DdNodeE16checkSameManagerERKS1_+0xc0)[0x7ffcbf85e9ba]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/python2.7/site-packages/sage/rings/polynomial/pbori.so(_ZNK8polybori16CApplyNodeFacadeINS_8BooleSetEP6DdNodeE5applyIP15pbori_DdManagerEES1_PFS3_T_S3_S3_ERKS1_+0x2e)[0x7ffcbf8578a4]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpolybori_groebner-0.8.2.so.0(_ZN8polybori8groebner19MinimalLeadingTerms7cleanupERKNS_13BooleMonomialE+0x69)[0x7ffcbef58319]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpolybori_groebner-0.8.2.so.0(_ZN8polybori8groebner19MinimalLeadingTerms6updateERKNS_13BooleMonomialE+0x47)[0x7ffcbef58677]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpolybori_groebner-0.8.2.so.0(_ZN8polybori8groebner17ReductionStrategy19setupSetsForElementERKNS0_9PolyEntryE+0x61)[0x7ffcbef57031]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpolybori_groebner-0.8.2.so.0(_ZN8polybori8groebner12FGLMStrategyC2ERKNS_13BoolePolyRingES4_RKSt6vectorINS_15BoolePolynomialESaIS6_EE+0x513)[0x7ffcbef20a03]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/python2.7/site-packages/sage/rings/polynomial/pbori.so(_ZN10WrappedPtrIN8polybori8groebner12FGLMStrategyEEC1INS0_13BoolePolyRingES5_St6vectorINS0_15BoolePolynomialESaIS7_EEEERKT_RKT0_RKT1_+0x3f)[0x7ffcbf85665d]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/python2.7/site-packages/sage/rings/polynomial/pbori.so(+0x11c33e)[0x7ffcbf7fa33e]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/python2.7/site-packages/sage/rings/polynomial/pbori.so(+0x11b4fc)[0x7ffcbf7f94fc]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0xe0657)[0x7ffce4937657]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyObject_Call+0x7f)[0x7ffce48a92c1]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15b7ad)[0x7ffce49b27ad]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aae5)[0x7ffce49b1ae5]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x5a)[0x7ffce49a4744]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15d3e6)[0x7ffce49b43e6]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x43c0)[0x7ffce49a8b25]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15af0e)[0x7ffce49b1f0e]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aac9)[0x7ffce49b1ac9]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15af0e)[0x7ffce49b1f0e]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aac9)[0x7ffce49b1ac9]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15ade3)[0x7ffce49b1de3]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aac9)[0x7ffce49b1ac9]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15af0e)[0x7ffce49b1f0e]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aac9)[0x7ffce49b1ac9]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15af0e)[0x7ffce49b1f0e]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aac9)[0x7ffce49b1ac9]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15af0e)[0x7ffce49b1f0e]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x15aac9)[0x7ffce49b1ac9]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c67)[0x7ffce49ac3cc]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x111c)[0x7ffce49aee02]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x5a)[0x7ffce49a4744]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(+0x18bd81)[0x7ffce49e2d81]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyRun_FileExFlags+0xbf)[0x7ffce49e2d07]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyRun_SimpleFileExFlags+0x2be)[0x7ffce49e1504]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(PyRun_AnyFileExFlags+0x88)[0x7ffce49e0b62]
/home/jp/boulot/sage/sage-5.6.beta2/local/lib/libpython2.7.so.1.0(Py_Main+0xd29)[0x7ffce49fcb76]
python(main+0x20)[0x40085c]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xed)[0x7ffce3bb36ad]
python[0x400779]

------------------------------------------------------------------------
Unhandled SIGABRT: An abort() occurred in Sage.
This probably occurred because a *compiled* component of Sage has a bug
in it and is not properly wrapped with sig_on(), sig_off(). You might
want to run Sage under gdb with 'sage -gdb' to debug this.
Sage will now terminate.
------------------------------------------------------------------------
/home/jp/boulot/sage/sage-5.6.beta2/spkg/bin/sage : ligne 310 : 29842 Abandon                 sage-ipython "$@" -i
```
wich seems better but should be caught properly if needed.

I'm not really aware of what the above code should do, so my attempt may be completely senseless (although I feel Sage should not crash in this case neither).



---

archive/issue_comments_208318.json:
```json
{
    "body": "<a id='comment:6'></a>\nBut the following which looks a little better seems to work:\n\n```\nsage: sage: from polybori import *\nsage: sage: B.<x,y,z> = BooleanPolynomialRing(order='lex')\nsage: C = B.clone(ordering=dp_asc)\nsage: sage: ideal = BooleanPolynomialVector([x+z, y+z])\nsage: sage: sage: FGLMStrategy(B, C, ideal)\n<sage.rings.polynomial.pbori.FGLMStrategy object at 0x7379ab0>\n```",
    "created_at": "2012-12-30T16:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208318",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:6'></a>
But the following which looks a little better seems to work:

```
sage: sage: from polybori import *
sage: sage: B.<x,y,z> = BooleanPolynomialRing(order='lex')
sage: C = B.clone(ordering=dp_asc)
sage: sage: ideal = BooleanPolynomialVector([x+z, y+z])
sage: sage: sage: FGLMStrategy(B, C, ideal)
<sage.rings.polynomial.pbori.FGLMStrategy object at 0x7379ab0>
```



---

archive/issue_comments_208319.json:
```json
{
    "body": "<a id='comment:7'></a>\nWe want that old_ring is in degneglex ordering. Shouldn't the following work\n\n```\nsage: from polybori import *\nsage: target_ring = BooleanPolynomialRing(names=['x','y','z'])\nsage: source_ring.<x,y,z> = BooleanPolynomialRing(order=\"DegNegLex\")\nsage: ideal = BooleanPolynomialVector([x+z, y+z])\nsage: z > y > x\nTrue\nsage: FGLMStrategy(source_ring, target_ring, ideal)\n```\n\nHowever, it still crashes!\n\nReplying to [jpflori](#comment%3A6):\n> But the following which looks a little better seems to work:\n> \n> ```\n> sage: sage: from polybori import *\n> sage: sage: B.<x,y,z> = BooleanPolynomialRing(order='lex')\n> sage: C = B.clone(ordering=dp_asc)\n> sage: sage: ideal = BooleanPolynomialVector([x+z, y+z])\n> sage: sage: sage: FGLMStrategy(B, C, ideal)\n> <sage.rings.polynomial.pbori.FGLMStrategy object at 0x7379ab0>\n> ```\n\n\nI can confirm that this works. However, big surprise:\n\n\n*The following very similar attempt still crashes*:\n\n```\nsage: from polybori import *\nsage: target_ring = BooleanPolynomialRing(3,names=['x','y','z'])\nsage: source_ring = target_ring.clone(ordering=dp_asc)\nsage: x,y,z = source_ring.gens()\nsage: z > y > x\nTrue\nsage: ideal = BooleanPolynomialVector([x+z, y+z])\nsage: FGLMStrategy(source_ring, target_ring, ideal)\npython: groebner/include/polybori/groebner/PolyEntryVector.h:74: virtual void polybori::groebner::PolyEntryVector::append(const polybori::groebner::PolyEntry&): Assertion `m_indices.checked(back().lead) == (size_type)-1' failed.\n```\n\nSo, Alexander, it seems that a misuse of `._change_ordering` is *not* the problem. There is a bug, that ought to be fixed.",
    "created_at": "2012-12-30T16:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208319",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:7'></a>
We want that old_ring is in degneglex ordering. Shouldn't the following work

```
sage: from polybori import *
sage: target_ring = BooleanPolynomialRing(names=['x','y','z'])
sage: source_ring.<x,y,z> = BooleanPolynomialRing(order="DegNegLex")
sage: ideal = BooleanPolynomialVector([x+z, y+z])
sage: z > y > x
True
sage: FGLMStrategy(source_ring, target_ring, ideal)
```

However, it still crashes!

Replying to [jpflori](#comment%3A6):
> But the following which looks a little better seems to work:
> 
> ```
> sage: sage: from polybori import *
> sage: sage: B.<x,y,z> = BooleanPolynomialRing(order='lex')
> sage: C = B.clone(ordering=dp_asc)
> sage: sage: ideal = BooleanPolynomialVector([x+z, y+z])
> sage: sage: sage: FGLMStrategy(B, C, ideal)
> <sage.rings.polynomial.pbori.FGLMStrategy object at 0x7379ab0>
> ```


I can confirm that this works. However, big surprise:


*The following very similar attempt still crashes*:

```
sage: from polybori import *
sage: target_ring = BooleanPolynomialRing(3,names=['x','y','z'])
sage: source_ring = target_ring.clone(ordering=dp_asc)
sage: x,y,z = source_ring.gens()
sage: z > y > x
True
sage: ideal = BooleanPolynomialVector([x+z, y+z])
sage: FGLMStrategy(source_ring, target_ring, ideal)
python: groebner/include/polybori/groebner/PolyEntryVector.h:74: virtual void polybori::groebner::PolyEntryVector::append(const polybori::groebner::PolyEntry&): Assertion `m_indices.checked(back().lead) == (size_type)-1' failed.
```

So, Alexander, it seems that a misuse of `._change_ordering` is *not* the problem. There is a bug, that ought to be fixed.



---

archive/issue_comments_208320.json:
```json
{
    "body": "<a id='comment:8'></a>\nThe difference between my crashing example and Jean-Pierre's non-crashing example is that I test `z > y > x`. No idea what that means.",
    "created_at": "2012-12-30T17:27:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208320",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:8'></a>
The difference between my crashing example and Jean-Pierre's non-crashing example is that I test `z > y > x`. No idea what that means.



---

archive/issue_comments_208321.json:
```json
{
    "body": "<a id='comment:9'></a>\nI was able to reproduce Simon's example now with plain polybori. The problem is that the input ideal must be a reduced Gr\u00f6bner basis (fglm does not compute a Groebner basis itself, it just converts). This is what the assertion complains about. But since a user can trigger this, an assertion is probably not the best idea. \n\nI could patch polybori to throw an exception here. What do you think?",
    "created_at": "2012-12-30T21:37:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208321",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:9'></a>
I was able to reproduce Simon's example now with plain polybori. The problem is that the input ideal must be a reduced Gröbner basis (fglm does not compute a Groebner basis itself, it just converts). This is what the assertion complains about. But since a user can trigger this, an assertion is probably not the best idea. 

I could patch polybori to throw an exception here. What do you think?



---

archive/issue_comments_208322.json:
```json
{
    "body": "<a id='comment:10'></a>\nI suggest to \n\nApply FGLMStrategy_sigon.patch\n\nand use the patched spkg here:\nhttp://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.2.p0.spkg",
    "created_at": "2012-12-30T23:08:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208322",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:10'></a>
I suggest to 

Apply FGLMStrategy_sigon.patch

and use the patched spkg here:
http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.2.p0.spkg



---

archive/issue_comments_208323.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe spkg just applies the following patch:\n\n```\n #!diff\n--- a/groebner/include/polybori/groebner/PolyEntryVector.h\tSat Dec 22 02:54:10 2012 +0100\n+++ b/groebner/include/polybori/groebner/PolyEntryVector.h\tSun Dec 30 22:56:49 2012 +0100\n@@ -71,7 +71,10 @@\n   virtual void append(const PolyEntry& element) {\n     m_data.push_back(element);\n \n-    PBORI_ASSERT(m_indices.checked(back().lead) == (size_type)-1);\n+#ifndef PBORI_NDEBUG    \n+    if(m_indices.checked(back().lead) != (size_type)-1)\n+      throw std::runtime_error(\"leading terms not unique when appending to PolyEntryVector\");\n+#endif\n     m_indices.insert(back(), size() - 1);\n   }\n \n\n```",
    "created_at": "2012-12-30T23:10:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208323",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:11'></a>
The spkg just applies the following patch:

```
 #!diff
--- a/groebner/include/polybori/groebner/PolyEntryVector.h	Sat Dec 22 02:54:10 2012 +0100
+++ b/groebner/include/polybori/groebner/PolyEntryVector.h	Sun Dec 30 22:56:49 2012 +0100
@@ -71,7 +71,10 @@
   virtual void append(const PolyEntry& element) {
     m_data.push_back(element);
 
-    PBORI_ASSERT(m_indices.checked(back().lead) == (size_type)-1);
+#ifndef PBORI_NDEBUG    
+    if(m_indices.checked(back().lead) != (size_type)-1)
+      throw std::runtime_error("leading terms not unique when appending to PolyEntryVector");
+#endif
     m_indices.insert(back(), size() - 1);
   }
 

```



---

archive/issue_comments_208324.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-12-30T23:16:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208324",
    "user": "https://github.com/alexanderdreyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_208325.json:
```json
{
    "body": "Changing author from \"\" to \"AlexanderDreyer\"",
    "created_at": "2012-12-30T23:16:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208325",
    "user": "https://github.com/alexanderdreyer"
}
```

Changing author from "" to "AlexanderDreyer"



---

archive/issue_comments_208326.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [AlexanderDreyer](#comment%3A9):\n> I was able to reproduce Simon's example now with plain polybori. The problem is that the input ideal must be a reduced Gr\u00f6bner basis (fglm does not compute a Groebner basis itself, it just converts). This is what the assertion complains about. But since a user can trigger this, an assertion is probably not the best idea. \n> \n> I could patch polybori to throw an exception here. What do you think?\n\nGood idea!\nNow we have just to make sure that Sage catch the exception (which it did not seem to do in my example at least).",
    "created_at": "2012-12-31T09:12:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208326",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:14'></a>
Replying to [AlexanderDreyer](#comment%3A9):
> I was able to reproduce Simon's example now with plain polybori. The problem is that the input ideal must be a reduced Gröbner basis (fglm does not compute a Groebner basis itself, it just converts). This is what the assertion complains about. But since a user can trigger this, an assertion is probably not the best idea. 
> 
> I could patch polybori to throw an exception here. What do you think?

Good idea!
Now we have just to make sure that Sage catch the exception (which it did not seem to do in my example at least).



---

archive/issue_comments_208327.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [jpflori](#comment%3A14):\n\n> > I could patch polybori to throw an exception here. What do you think?\n\n> Good idea!\n> Now we have just to make sure that Sage catch the exception (which it did not seem to do in my example at least).\n\nDid apply the Sage-library patch, I mentioned above? (And rebuild?)",
    "created_at": "2013-01-01T23:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208327",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:15'></a>
Replying to [jpflori](#comment%3A14):

> > I could patch polybori to throw an exception here. What do you think?

> Good idea!
> Now we have just to make sure that Sage catch the exception (which it did not seem to do in my example at least).

Did apply the Sage-library patch, I mentioned above? (And rebuild?)



---

archive/issue_comments_208328.json:
```json
{
    "body": "<a id='comment:16'></a>\nAlso, perhaps the exception is not thrown at all. This is the case if `PBORI_NDEBUG` is still set when building polybori. Did you re-install polybori with SAGE_DEBUG=yes in the environment?",
    "created_at": "2013-01-01T23:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208328",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:16'></a>
Also, perhaps the exception is not thrown at all. This is the case if `PBORI_NDEBUG` is still set when building polybori. Did you re-install polybori with SAGE_DEBUG=yes in the environment?



---

archive/issue_comments_208329.json:
```json
{
    "body": "Attachment [FGLMStrategy_sigon.patch](tarball://root/attachments/some-uuid/ticket13883/FGLMStrategy_sigon.patch) by @alexanderdreyer created at 2013-01-02 00:15:46\n\npatch for pbori.pyx",
    "created_at": "2013-01-02T00:15:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208329",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment [FGLMStrategy_sigon.patch](tarball://root/attachments/some-uuid/ticket13883/FGLMStrategy_sigon.patch) by @alexanderdreyer created at 2013-01-02 00:15:46

patch for pbori.pyx



---

archive/issue_comments_208330.json:
```json
{
    "body": "<a id='comment:17'></a>\nAh, and of course, we have to fix the broken doctest. So please apply the recent FGLMStrategy_sigon.patch. I've also added an optional - debug doctest for the case above.\n\nApply FGLMStrategy_sigon.patch",
    "created_at": "2013-01-02T00:20:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208330",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:17'></a>
Ah, and of course, we have to fix the broken doctest. So please apply the recent FGLMStrategy_sigon.patch. I've also added an optional - debug doctest for the case above.

Apply FGLMStrategy_sigon.patch



---

archive/issue_comments_208331.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -82,3 +82,7 @@\n #47 0x00007ffff7b12536 in Py_Main (argc=3, argv=0x7fffffffd218) at Modules/main.c:639\n #48 0x00000000004007b4 in main (argc=3, argv=0x7fffffffd218) at ./Modules/python.c:23\n ```\n+\n+\n+*Apply:* Attach:FGLMStrategy_sigon.patch\n+*Install:* http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.2.p0.spkg\n``````\n",
    "created_at": "2013-01-02T00:20:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208331",
    "user": "https://github.com/alexanderdreyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -82,3 +82,7 @@
 #47 0x00007ffff7b12536 in Py_Main (argc=3, argv=0x7fffffffd218) at Modules/main.c:639
 #48 0x00000000004007b4 in main (argc=3, argv=0x7fffffffd218) at ./Modules/python.c:23
 ```
+
+
+*Apply:* Attach:FGLMStrategy_sigon.patch
+*Install:* http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.2.p0.spkg
``````




---

archive/issue_comments_208332.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -83,6 +83,8 @@\n #48 0x00000000004007b4 in main (argc=3, argv=0x7fffffffd218) at ./Modules/python.c:23\n ```\n \n+__Apply__\n+[attachment:FGLMStrategy_sigon.patch]\n \n-*Apply:* Attach:FGLMStrategy_sigon.patch\n-*Install:* http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.2.p0.spkg\n+__Install__\n+http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.2.p0.spkg\n``````\n",
    "created_at": "2013-01-02T00:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208332",
    "user": "https://github.com/alexanderdreyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -83,6 +83,8 @@
 #48 0x00000000004007b4 in main (argc=3, argv=0x7fffffffd218) at ./Modules/python.c:23
 ```
 
+__Apply__
+[attachment:FGLMStrategy_sigon.patch]
 
-*Apply:* Attach:FGLMStrategy_sigon.patch
-*Install:* http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.2.p0.spkg
+__Install__
+http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.2.p0.spkg
``````




---

archive/issue_comments_208333.json:
```json
{
    "body": "<a id='comment:19'></a>\nEverything looks fine to me except for a spurious .orig file in the patches dir of the spkg.",
    "created_at": "2013-01-02T10:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208333",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:19'></a>
Everything looks fine to me except for a spurious .orig file in the patches dir of the spkg.



---

archive/issue_comments_208334.json:
```json
{
    "body": "<a id='comment:20'></a>\nAh, sorry! I fixed that and replaced the spkg above.",
    "created_at": "2013-01-02T15:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208334",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:20'></a>
Ah, sorry! I fixed that and replaced the spkg above.



---

archive/issue_comments_208335.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-01-02T15:19:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208335",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_208336.json:
```json
{
    "body": "<a id='comment:21'></a>\nIt's fine now.\n\nI think we should also open a follow up ticket to deprecate _change_ordering in Sage.",
    "created_at": "2013-01-02T15:19:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208336",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:21'></a>
It's fine now.

I think we should also open a follow up ticket to deprecate _change_ordering in Sage.



---

archive/issue_comments_208337.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jean-Pierre Flori\"",
    "created_at": "2013-01-02T15:19:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208337",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing reviewer from "" to "Jean-Pierre Flori"



---

archive/issue_comments_208338.json:
```json
{
    "body": "<a id='comment:22'></a>\n!`_change_ordering` is a private method, i.e., it starts with an underscore. We don't need to deprecate it, we can simply remove it.",
    "created_at": "2013-01-02T15:27:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208338",
    "user": "https://github.com/malb"
}
```

<a id='comment:22'></a>
!`_change_ordering` is a private method, i.e., it starts with an underscore. We don't need to deprecate it, we can simply remove it.



---

archive/issue_comments_208339.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [malb](#comment%3A22):\n> !`_change_ordering` is a private method, i.e., it starts with an underscore. We don't need to deprecate it, we can simply remove it.\n\nShould I update the patch, or do we need another ticket?",
    "created_at": "2013-01-02T20:24:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208339",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:23'></a>
Replying to [malb](#comment%3A22):
> !`_change_ordering` is a private method, i.e., it starts with an underscore. We don't need to deprecate it, we can simply remove it.

Should I update the patch, or do we need another ticket?



---

archive/issue_comments_208340.json:
```json
{
    "body": "<a id='comment:24'></a>\nI'd say let's do this in another ticket.\nThe issues are related because the bug was discovered in a doctest involving this method, but the fact that method should not be used is different.\n\nBut if you prefer to do it here, please do.",
    "created_at": "2013-01-02T20:30:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208340",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:24'></a>
I'd say let's do this in another ticket.
The issues are related because the bug was discovered in a doctest involving this method, but the fact that method should not be used is different.

But if you prefer to do it here, please do.



---

archive/issue_comments_208341.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [jpflori](#comment%3A24):\n> But if you prefer to do it here, please do.\n\nNo problem, I'd prefer a new ticket, too.",
    "created_at": "2013-01-02T20:32:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208341",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:25'></a>
Replying to [jpflori](#comment%3A24):
> But if you prefer to do it here, please do.

No problem, I'd prefer a new ticket, too.



---

archive/issue_comments_208342.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [AlexanderDreyer](#comment%3A25):.\n> No problem, I'd prefer a new ticket, too.\n\nI created #13900 for this purpose.",
    "created_at": "2013-01-02T21:52:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208342",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:26'></a>
Replying to [AlexanderDreyer](#comment%3A25):.
> No problem, I'd prefer a new ticket, too.

I created #13900 for this purpose.



---

archive/issue_comments_208343.json:
```json
{
    "body": "<a id='comment:27'></a>\nIndeed, `_change_ordering` can simply be removed now (see #13900).",
    "created_at": "2013-01-02T22:16:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208343",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:27'></a>
Indeed, `_change_ordering` can simply be removed now (see #13900).



---

archive/issue_comments_208344.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-01-07T20:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208344",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_052826.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-07T20:58:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13883#event-52826"
}
```



---

archive/issue_comments_208345.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.6.beta3\"",
    "created_at": "2013-01-07T20:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208345",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.6.beta3"



---

archive/issue_comments_208346.json:
```json
{
    "body": "Changing author from \"AlexanderDreyer\" to \"Alexander Dreyer\"",
    "created_at": "2013-01-21T09:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13883#issuecomment-208346",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "AlexanderDreyer" to "Alexander Dreyer"
