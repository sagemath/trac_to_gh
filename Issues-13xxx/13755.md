# Issue 13755: Let LinBox build with MPIR > 2.5.0

archive/issues_013551.json:
```json
{
    "body": "LinBox does not build with MPIR > 2.5.0 because the interface for Sage, in interface/linbox-sage.[C|h] includes some headers file in a problematic order:\n* first \"gmp.h\" without \"stdint.h\", so functions related to \"stdint.h\" types are not defined\n* at some point \"stdint.h\" through other linbox header files (if available) \n* then \"linbox/integer.h\" which in turn includes \"gmp++/gmp++.h\" which includes \"gmpxx.h\"\nAs \"stdint.h\" was included in the way, the C++ wrapper look for the C functions related to \"stdint.h\" types, but these were not defined.\n\nUse the updated spkg at\nhttp://boxen.math.washington.edu/home/jpflori/linbox-1.3.2.p0.spkg\n\nAssignee: @ClementPernet\n\nCC:  @malb pcpa @vbraun\n\nKeywords: linbox spkg\n\nUpstream: Reported upstream. No feedback yet.\n\nReviewer: John Palmieri, Volker Braun\n\nAuthor: Jean-Pierre Flori\n\nMerged: sage-5.6.beta1\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13755\n\n",
    "closed_at": "2012-12-21T09:33:16Z",
    "created_at": "2012-11-25T15:13:52Z",
    "labels": [
        "component: linbox",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.6",
    "title": "Let LinBox build with MPIR > 2.5.0",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13755",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
LinBox does not build with MPIR > 2.5.0 because the interface for Sage, in interface/linbox-sage.[C|h] includes some headers file in a problematic order:
* first "gmp.h" without "stdint.h", so functions related to "stdint.h" types are not defined
* at some point "stdint.h" through other linbox header files (if available) 
* then "linbox/integer.h" which in turn includes "gmp++/gmp++.h" which includes "gmpxx.h"
As "stdint.h" was included in the way, the C++ wrapper look for the C functions related to "stdint.h" types, but these were not defined.

Use the updated spkg at
http://boxen.math.washington.edu/home/jpflori/linbox-1.3.2.p0.spkg

Assignee: @ClementPernet

CC:  @malb pcpa @vbraun

Keywords: linbox spkg

Upstream: Reported upstream. No feedback yet.

Reviewer: John Palmieri, Volker Braun

Author: Jean-Pierre Flori

Merged: sage-5.6.beta1

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/13755





---

archive/issue_comments_178419.json:
```json
{
    "body": "Attachment [linbox-1.3.2.p0.diff](tarball://root/attachments/some-uuid/ticket13755/linbox-1.3.2.p0.diff) by jpflori created at 2012-11-25 15:17:58\n\nspkg diff, for review only",
    "created_at": "2012-11-25T15:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13755#issuecomment-178419",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Attachment [linbox-1.3.2.p0.diff](tarball://root/attachments/some-uuid/ticket13755/linbox-1.3.2.p0.diff) by jpflori created at 2012-11-25 15:17:58

spkg diff, for review only



---

archive/issue_comments_178420.json:
```json
{
    "body": "<a id='comment:1'></a>After discussing this on mpir-devel, it appears it does not hurt and is even a good idea to prevent this in LinBox itself (although some workaround could also appear in MPIR later):\nhttps://groups.google.com/d/topic/mpir-devel/m__z0PR_wBw/discussion\n\nI've reported this on linbox-devel as well, now waiting for reactions there, but this looks clean enough to become needs_review anyway.",
    "created_at": "2012-11-26T12:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13755#issuecomment-178420",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:1'></a>After discussing this on mpir-devel, it appears it does not hurt and is even a good idea to prevent this in LinBox itself (although some workaround could also appear in MPIR later):
https://groups.google.com/d/topic/mpir-devel/m__z0PR_wBw/discussion

I've reported this on linbox-devel as well, now waiting for reactions there, but this looks clean enough to become needs_review anyway.



---

archive/issue_comments_178421.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-11-26T12:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13755#issuecomment-178421",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_178422.json:
```json
{
    "body": "<a id='comment:2'></a>This looks okay to me, but I wouldn't mind if someone else more familiar with header files took a look at it.",
    "created_at": "2012-11-29T06:22:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13755#issuecomment-178422",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>This looks okay to me, but I wouldn't mind if someone else more familiar with header files took a look at it.



---

archive/issue_comments_178423.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-11-29T11:42:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13755#issuecomment-178423",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_178424.json:
```json
{
    "body": "<a id='comment:3'></a>Looks good to me",
    "created_at": "2012-11-29T11:42:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13755#issuecomment-178424",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>Looks good to me



---

archive/issue_comments_178425.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-LinBox does not build MPIR > 2.5.0 because the interface for Sage, in interface/linbox-sage.[C|h] includes some headers file in a problematic order:\n+LinBox does not build with MPIR > 2.5.0 because the interface for Sage, in interface/linbox-sage.[C|h] includes some headers file in a problematic order:\n * first \"gmp.h\" without \"stdint.h\", so functions related to \"stdint.h\" types are not defined\n * at some point \"stdint.h\" through other linbox header files (if available) \n * then \"linbox/integer.h\" which in turn includes \"gmp++/gmp++.h\" which includes \"gmpxx.h\"\n```\n",
    "created_at": "2012-12-05T13:18:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13755#issuecomment-178425",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,4 @@
-LinBox does not build MPIR > 2.5.0 because the interface for Sage, in interface/linbox-sage.[C|h] includes some headers file in a problematic order:
+LinBox does not build with MPIR > 2.5.0 because the interface for Sage, in interface/linbox-sage.[C|h] includes some headers file in a problematic order:
 * first "gmp.h" without "stdint.h", so functions related to "stdint.h" types are not defined
 * at some point "stdint.h" through other linbox header files (if available) 
 * then "linbox/integer.h" which in turn includes "gmp++/gmp++.h" which includes "gmpxx.h"
```




---

archive/issue_comments_178426.json:
```json
{
    "body": "<a id='comment:5'></a>On Cygwin on XP, linbox-1.3.2 built fine with mpir-2.6.0.p0.  So maybe this isn't always necessary, but whatever.",
    "created_at": "2012-12-05T16:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13755#issuecomment-178426",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>On Cygwin on XP, linbox-1.3.2 built fine with mpir-2.6.0.p0.  So maybe this isn't always necessary, but whatever.



---

archive/issue_comments_178427.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 kcrisman]:\n> On Cygwin on XP, linbox-1.3.2 built fine with mpir-2.6.0.p0.  So maybe this isn't always necessary, but whatever.\n\nThat's some header inclusion black magic, so if somehow stdint.h was included before, the patch won't be needed.\nBut it should be safer with the patch.",
    "created_at": "2012-12-06T10:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13755#issuecomment-178427",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:6'></a>Replying to [comment:5 kcrisman]:
> On Cygwin on XP, linbox-1.3.2 built fine with mpir-2.6.0.p0.  So maybe this isn't always necessary, but whatever.

That's some header inclusion black magic, so if somehow stdint.h was included before, the patch won't be needed.
But it should be safer with the patch.



---

archive/issue_comments_178428.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-12-21T09:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13755#issuecomment-178428",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_038544.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-21T09:33:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13755",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13755#event-38544"
}
```



---

archive/issue_comments_178429.json:
```json
{
    "body": "<a id='comment:8'></a>Just to report that the patch was applied upstream in linbox-rev5072",
    "created_at": "2014-09-05T07:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13755#issuecomment-178429",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:8'></a>Just to report that the patch was applied upstream in linbox-rev5072
