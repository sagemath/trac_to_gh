# Issue 13853: Correct FreeModule.coordinates() to match specification

archive/issues_013649.json:
```json
{
    "body": "The docstring of the `FreeModule.coordinates` method advertizes a `check` parameters, which defaults to `True`, and whose effect is in principle to check that the arguments belongs to the module. If not, an `ArithmeticError` is said to be raised.\n\nThe actual implementation deviates in several ways.\n\n* The `check` parameter does not check that the argument belongs to the module. It checks that the argument belongs to the ambient vector space of the module. The coordinates returned are coordinates in the ambient vector space.\n\n```\nsage: M = ZZ^3\nsage: v = vector(QQ, [1/2,0,1])\nsage: v in M\nFalse\nsage: M.coordinates(v)\n[1/2, 0, 1]\n```\nAccording to the docstring, the call to `M.coordinates(v)` should have failed with an `ArithmeticError` exception\n\n* When the method fails, it does not fail with the right exception.\n\n```\nsage: M = ZZ^3\nsage: M.coordinates( [sqrt(2), 1, 1] )\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: unable to convert sqrt(2) to a rational\n```\nAccording to the spec, it should have failed with an `ArithmeticError` exception.\n\n\n**Proposed Solution** : modify the function so that its behavior match the specification, by rejecting things that are not in the module itself with an `ArithmeticError` exception\n\nArguments AGAINST modifying the specification to match the present behavior are:\n* The ambient vector space does not always exist (e.g. when the ring is not a PID)\n* When it does, the present functionnality is still available through `M.vector_space().coordinates()`\n\nAssignee: jason, was\n\nCC:  @jasongrout\n\nReviewer: Timo Kluck, Ralf Stephan\n\nAuthor: Charles Bouillaguet\n\nBranch: public/13853\n\nStatus: needs_work\n\nDependencies: #13780\n\nCommit: 9690d1557a89329efa953bc0715923b927e730ed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13853\n\n",
    "created_at": "2012-12-19T23:03:55Z",
    "labels": [
        "component: linear algebra",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Correct FreeModule.coordinates() to match specification",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13853",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```
The docstring of the `FreeModule.coordinates` method advertizes a `check` parameters, which defaults to `True`, and whose effect is in principle to check that the arguments belongs to the module. If not, an `ArithmeticError` is said to be raised.

The actual implementation deviates in several ways.

* The `check` parameter does not check that the argument belongs to the module. It checks that the argument belongs to the ambient vector space of the module. The coordinates returned are coordinates in the ambient vector space.

```
sage: M = ZZ^3
sage: v = vector(QQ, [1/2,0,1])
sage: v in M
False
sage: M.coordinates(v)
[1/2, 0, 1]
```
According to the docstring, the call to `M.coordinates(v)` should have failed with an `ArithmeticError` exception

* When the method fails, it does not fail with the right exception.

```
sage: M = ZZ^3
sage: M.coordinates( [sqrt(2), 1, 1] )
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: unable to convert sqrt(2) to a rational
```
According to the spec, it should have failed with an `ArithmeticError` exception.


**Proposed Solution** : modify the function so that its behavior match the specification, by rejecting things that are not in the module itself with an `ArithmeticError` exception

Arguments AGAINST modifying the specification to match the present behavior are:
* The ambient vector space does not always exist (e.g. when the ring is not a PID)
* When it does, the present functionnality is still available through `M.vector_space().coordinates()`

Assignee: jason, was

CC:  @jasongrout

Reviewer: Timo Kluck, Ralf Stephan

Author: Charles Bouillaguet

Branch: public/13853

Status: needs_work

Dependencies: #13780

Commit: 9690d1557a89329efa953bc0715923b927e730ed

Issue created by migration from https://trac.sagemath.org/ticket/13853





---

archive/issue_comments_210493.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-01-02T23:10:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210493",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_210494.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -31,4 +31,4 @@\n \n Arguments AGAINST modifying the specification to match the present behavior are:\n * The ambient vector space does not always exist (e.g. when the ring is not a PID)\n-* When it does, the present functionnality is still available through `M.ambient_vector_space().coordinates()`\n+* When it does, the present functionnality is still available through `M.vector_space().coordinates()`\n``````\n",
    "created_at": "2013-01-02T23:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210494",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -31,4 +31,4 @@
 
 Arguments AGAINST modifying the specification to match the present behavior are:
 * The ambient vector space does not always exist (e.g. when the ring is not a PID)
-* When it does, the present functionnality is still available through `M.ambient_vector_space().coordinates()`
+* When it does, the present functionnality is still available through `M.vector_space().coordinates()`
``````




---

archive/issue_comments_210495.json:
```json
{
    "body": "<a id='comment:4'></a>\n> Arguments AGAINST modifying the specification to match the present behavior are:\n> * The ambient vector space does not always exist (e.g. when the ring is not a PID)\n> * When it does, the present functionnality is still available through `M.vector_space().coordinates()`\n \nI feel these are actually very good arguments. Could you explain why you chose to update the code instead of the documentation?\n\nI haven't looked at your patch yet.",
    "created_at": "2013-02-28T16:53:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210495",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:4'></a>
> Arguments AGAINST modifying the specification to match the present behavior are:
> * The ambient vector space does not always exist (e.g. when the ring is not a PID)
> * When it does, the present functionnality is still available through `M.vector_space().coordinates()`
 
I feel these are actually very good arguments. Could you explain why you chose to update the code instead of the documentation?

I haven't looked at your patch yet.



---

archive/issue_comments_210496.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [tkluck](#comment%3A4):\n> I feel these are actually very good arguments. Could you explain why you chose to update the code instead of the documentation?\n\n\nI you think that these are good arguments, then why ask me the reason for which I followed them?\n\nI chose to make the code implement the actual specification, because it is reasonable and makes sense. Modifying the spec in conformance with what the actual implementation does would be more complicated and would make less sense (for instance : \"this function returns a vector over the fraction field of the base ring\"... but what if the said fraction field does not exist?).",
    "created_at": "2013-02-28T18:26:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210496",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

<a id='comment:5'></a>
Replying to [tkluck](#comment%3A4):
> I feel these are actually very good arguments. Could you explain why you chose to update the code instead of the documentation?


I you think that these are good arguments, then why ask me the reason for which I followed them?

I chose to make the code implement the actual specification, because it is reasonable and makes sense. Modifying the spec in conformance with what the actual implementation does would be more complicated and would make less sense (for instance : "this function returns a vector over the fraction field of the base ring"... but what if the said fraction field does not exist?).



---

archive/issue_comments_210497.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [Bouillaguet](#comment%3A5):\n> Replying to [tkluck](#comment%3A4):\n> > I feel these are actually very good arguments. Could you explain why you chose to update the code instead of the documentation?\n\n> \n> I you think that these are good arguments, then why ask me the reason for which I followed them?\n> \n\nSorry, I misunderstood your explanation. I would have spotted that if I read the patch. I will review this for you.",
    "created_at": "2013-03-01T00:25:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210497",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:6'></a>
Replying to [Bouillaguet](#comment%3A5):
> Replying to [tkluck](#comment%3A4):
> > I feel these are actually very good arguments. Could you explain why you chose to update the code instead of the documentation?

> 
> I you think that these are good arguments, then why ask me the reason for which I followed them?
> 

Sorry, I misunderstood your explanation. I would have spotted that if I read the patch. I will review this for you.



---

archive/issue_comments_210498.json:
```json
{
    "body": "<a id='comment:7'></a>\nI tested your patch. Overall, it looks very good. I like the attention to detail evident from including a doctest such as\n\n```\nWrong arguments are presumably caught with a ``TypeError`` exception:: \n\t \n    sage: (ZZ^3).coordinates( QQ ) \n    Traceback (most recent call last): \n    ... \n    TypeError: can't initialize vector from nonzero non-list \n```\n\nI tried the examples you gave in the bug description. The first one:\n\n```\nsage: M = ZZ^3\nsage: v = vector(ZZ, [1/2,0,1])\nsage: v in M\nFalse\nsage: M.coordinates(v)\n[1/2, 0, 1]\n```\nalready fails with a `TypeError` in the call to `vector`. However, after replacing `ZZ` by `QQ`, and with your patch applied, the call to `M.coordinates` gives the desired `ArithmeticError`.\n\nYour second example still gives the same `TypeError`. Maybe that needs some work, but I don't mind either way. I'll set it to needs-work, but I would be willing to give a positive review if you would just document the fact that it could also raise a `TypeError` (depending on \"how badly\" the coordinate is outside of the base ring).\n\nThere should be a space after the comma in \n\n```\nsage/modules/free_module.py:\n\n    except (TypeError,ArithmeticError): \n```",
    "created_at": "2013-03-11T15:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210498",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:7'></a>
I tested your patch. Overall, it looks very good. I like the attention to detail evident from including a doctest such as

```
Wrong arguments are presumably caught with a ``TypeError`` exception:: 
	 
    sage: (ZZ^3).coordinates( QQ ) 
    Traceback (most recent call last): 
    ... 
    TypeError: can't initialize vector from nonzero non-list 
```

I tried the examples you gave in the bug description. The first one:

```
sage: M = ZZ^3
sage: v = vector(ZZ, [1/2,0,1])
sage: v in M
False
sage: M.coordinates(v)
[1/2, 0, 1]
```
already fails with a `TypeError` in the call to `vector`. However, after replacing `ZZ` by `QQ`, and with your patch applied, the call to `M.coordinates` gives the desired `ArithmeticError`.

Your second example still gives the same `TypeError`. Maybe that needs some work, but I don't mind either way. I'll set it to needs-work, but I would be willing to give a positive review if you would just document the fact that it could also raise a `TypeError` (depending on "how badly" the coordinate is outside of the base ring).

There should be a space after the comma in 

```
sage/modules/free_module.py:

    except (TypeError,ArithmeticError): 
```



---

archive/issue_comments_210499.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-03-11T15:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210499",
    "user": "https://github.com/tkluck"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_210500.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Timo Kluck\"",
    "created_at": "2013-03-11T15:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210500",
    "user": "https://github.com/tkluck"
}
```

Changing reviewer from "" to "Timo Kluck"



---

archive/issue_comments_210501.json:
```json
{
    "body": "<a id='comment:8'></a>\nMust be rebased on top of #13780",
    "created_at": "2013-03-12T09:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210501",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

<a id='comment:8'></a>
Must be rebased on top of #13780



---

archive/issue_comments_210502.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-03-12T10:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210502",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_210503.json:
```json
{
    "body": "<a id='comment:9'></a>\nHi Timo,\n\nThanks for your comments. I think I adressed them. I agree that a `TypeError` is in order for ``sqrt(2)``.\n\nI updated the patch",
    "created_at": "2013-03-12T10:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210503",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

<a id='comment:9'></a>
Hi Timo,

Thanks for your comments. I think I adressed them. I agree that a `TypeError` is in order for ``sqrt(2)``.

I updated the patch



---

archive/issue_comments_210504.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#13780\"",
    "created_at": "2013-03-12T10:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210504",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing dependencies from "" to "#13780"



---

archive/issue_comments_210505.json:
```json
{
    "body": "Changing author from \"\" to \"Charles Bouillaguet\"",
    "created_at": "2013-03-12T10:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210505",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing author from "" to "Charles Bouillaguet"



---

archive/issue_comments_210506.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,7 +6,7 @@\n \n ```\n sage: M = ZZ^3\n-sage: v = vector(ZZ, [1/2,0,1])\n+sage: v = vector(QQ, [1/2,0,1])\n sage: v in M\n False\n sage: M.coordinates(v)\n``````\n",
    "created_at": "2013-03-12T10:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210506",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,7 +6,7 @@
 
 ```
 sage: M = ZZ^3
-sage: v = vector(ZZ, [1/2,0,1])
+sage: v = vector(QQ, [1/2,0,1])
 sage: v in M
 False
 sage: M.coordinates(v)
``````




---

archive/issue_events_038873.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13853#event-38873"
}
```



---

archive/issue_comments_210507.json:
```json
{
    "body": "<a id='comment:10'></a>\nAttachment [13853_fix_modules_coordinates.patch](tarball://root/attachments/some-uuid/ticket13853/13853_fix_modules_coordinates.patch) by @jdemeyer created at 2013-08-13 15:35:53",
    "created_at": "2013-08-13T15:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210507",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
Attachment [13853_fix_modules_coordinates.patch](tarball://root/attachments/some-uuid/ticket13853/13853_fix_modules_coordinates.patch) by @jdemeyer created at 2013-08-13 15:35:53



---

archive/issue_comments_210508.json:
```json
{
    "body": "Changing commit from \"\" to \"58a99b9fcc5ae2f3aee272e7982ce89b030636e1\"",
    "created_at": "2013-09-19T16:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210508",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing commit from "" to "58a99b9fcc5ae2f3aee272e7982ce89b030636e1"



---

archive/issue_comments_210509.json:
```json
{
    "body": "Changing branch from \"\" to \"u/Bouillaguet/free_module\"",
    "created_at": "2013-09-19T16:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210509",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing branch from "" to "u/Bouillaguet/free_module"



---

archive/issue_comments_210510.json:
```json
{
    "body": "Changing commit from \"58a99b9fcc5ae2f3aee272e7982ce89b030636e1\" to \"7c410a959a877d283faa749d4f32f7187e8b5c13\"",
    "created_at": "2013-12-22T09:47:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210510",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "58a99b9fcc5ae2f3aee272e7982ce89b030636e1" to "7c410a959a877d283faa749d4f32f7187e8b5c13"



---

archive/issue_comments_210511.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                         |                                                                      |\n|---------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|\n|[7c410a9](http://git.sagemath.org/sage.git/commit/?id=7c410a9)|`Fixing unrelated code that has been built upon the bug in FreeModule`|\n|[6296b9f](http://git.sagemath.org/sage.git/commit/?id=6296b9f)|`Merge branch 'master' into free_module`|",
    "created_at": "2013-12-22T09:47:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210511",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                         |                                                                      |
|---------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
|[7c410a9](http://git.sagemath.org/sage.git/commit/?id=7c410a9)|`Fixing unrelated code that has been built upon the bug in FreeModule`|
|[6296b9f](http://git.sagemath.org/sage.git/commit/?id=6296b9f)|`Merge branch 'master' into free_module`|



---

archive/issue_events_038874.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13853#event-38874"
}
```



---

archive/issue_events_038875.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13853#event-38875"
}
```



---

archive/issue_comments_210512.json:
```json
{
    "body": "Changing commit from \"7c410a959a877d283faa749d4f32f7187e8b5c13\" to \"9690d1557a89329efa953bc0715923b927e730ed\"",
    "created_at": "2014-04-05T13:47:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210512",
    "user": "https://github.com/rwst"
}
```

Changing commit from "7c410a959a877d283faa749d4f32f7187e8b5c13" to "9690d1557a89329efa953bc0715923b927e730ed"



---

archive/issue_comments_210513.json:
```json
{
    "body": "Changing branch from \"u/Bouillaguet/free_module\" to \"public/13853\"",
    "created_at": "2014-04-05T13:47:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210513",
    "user": "https://github.com/rwst"
}
```

Changing branch from "u/Bouillaguet/free_module" to "public/13853"



---

archive/issue_comments_210514.json:
```json
{
    "body": "Changing reviewer from \"Timo Kluck\" to \"Timo Kluck, Ralf Stephan\"",
    "created_at": "2014-04-05T13:47:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210514",
    "user": "https://github.com/rwst"
}
```

Changing reviewer from "Timo Kluck" to "Timo Kluck, Ralf Stephan"



---

archive/issue_comments_210515.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-04-05T13:47:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210515",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_210516.json:
```json
{
    "body": "<a id='comment:14'></a>\nRebased on 6.2.beta6. Long tests pass in number_field/, geometry/, modular/, modules/.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|\n|[9690d15](http://git.sagemath.org/sage.git/commit/?id=9690d1557a89329efa953bc0715923b927e730ed)|`Merge branch 'u/Bouillaguet/free_module' of ssh://trac.sagemath.org/sage into tmp`|",
    "created_at": "2014-04-05T13:47:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210516",
    "user": "https://github.com/rwst"
}
```

<a id='comment:14'></a>
Rebased on 6.2.beta6. Long tests pass in number_field/, geometry/, modular/, modules/.

---
New commits:
|                                                                                                                                          |                                                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|
|[9690d15](http://git.sagemath.org/sage.git/commit/?id=9690d1557a89329efa953bc0715923b927e730ed)|`Merge branch 'u/Bouillaguet/free_module' of ssh://trac.sagemath.org/sage into tmp`|



---

archive/issue_comments_210517.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-04-06T17:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210517",
    "user": "https://github.com/tscrim"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_210518.json:
```json
{
    "body": "<a id='comment:15'></a>\nFrom looking at the diff, it seems like doctests were removed. Also, we should try to use python3 syntax whenever possible (in particular, raising an error should be `raise ValueError(\"this is the message\")`).",
    "created_at": "2014-04-06T17:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210518",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>
From looking at the diff, it seems like doctests were removed. Also, we should try to use python3 syntax whenever possible (in particular, raising an error should be `raise ValueError("this is the message")`).



---

archive/issue_comments_210519.json:
```json
{
    "body": "<a id='comment:16'></a>\nAgree. While the one in `coordinate_vector()` was a duplicate of one in `coordinates()`, others were unique and shouldn't have been deleted. Another thing to look for by the reviewer.",
    "created_at": "2014-04-07T09:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13853#issuecomment-210519",
    "user": "https://github.com/rwst"
}
```

<a id='comment:16'></a>
Agree. While the one in `coordinate_vector()` was a duplicate of one in `coordinates()`, others were unique and shouldn't have been deleted. Another thing to look for by the reviewer.



---

archive/issue_events_038876.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13853#event-38876"
}
```



---

archive/issue_events_038877.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13853#event-38877"
}
```



---

archive/issue_events_038878.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13853#event-38878"
}
```



---

archive/issue_events_038879.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13853",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13853#event-38879"
}
```
