# Issue 13319: Python 2.7.3.px spkg does not build on Cygwin.

archive/issues_013147.json:
```json
{
    "body": "Some patches posterior to Python 2.7.3 are needed to build on Cygwin.\nNamely fixes from the issues 9665, 14437, 14438 on Python issue tracker.\n\nUse the spkg available at:\n[http://boxen.math.washington.edu/home/jpflori/python-2.7.3.p3.spkg](http://boxen.math.washington.edu/home/jpflori/python-2.7.3.p3.spkg)\n\n**CC:**  @kcrisman @dimpase\n\n**Keywords:** pythong cygwin spkg\n\n**Upstream:** Fixed upstream, but not in a stable release.\n\n**Reviewer:** Dmitrii Pasechnik\n\n**Author:** Jean-Pierre Flori\n\n**Merged:** sage-5.6.beta0\n\n**Dependencies:** #13579\n\nIssue created by migration from https://trac.sagemath.org/ticket/13319\n\n",
    "closed_at": "2012-12-18T11:15:49Z",
    "created_at": "2012-08-01T08:35:44Z",
    "labels": [
        "component: porting: cygwin",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.6",
    "title": "Python 2.7.3.px spkg does not build on Cygwin.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13319",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
Some patches posterior to Python 2.7.3 are needed to build on Cygwin.
Namely fixes from the issues 9665, 14437, 14438 on Python issue tracker.

Use the spkg available at:
[http://boxen.math.washington.edu/home/jpflori/python-2.7.3.p3.spkg](http://boxen.math.washington.edu/home/jpflori/python-2.7.3.p3.spkg)

**CC:**  @kcrisman @dimpase

**Keywords:** pythong cygwin spkg

**Upstream:** Fixed upstream, but not in a stable release.

**Reviewer:** Dmitrii Pasechnik

**Author:** Jean-Pierre Flori

**Merged:** sage-5.6.beta0

**Dependencies:** #13579

Issue created by migration from https://trac.sagemath.org/ticket/13319





---

archive/issue_comments_191125.json:
```json
{
    "body": "**Author:** Jean-Pierre Flori",
    "created_at": "2012-08-01T10:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191125",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Author:** Jean-Pierre Flori



---

archive/issue_comments_191126.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2012-08-01T10:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191126",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_191127.json:
```json
{
    "body": "<a id='comment:1'></a>\nSome further details:\n- issue 9665 is still opened (and as it is back from 2010 and was not modified since, I doubt it will be closed any time soon unless one of us takes action);\n- issue 14337 has been merged, but unfortunately after the Python 2.7.3 release;\n- issue 14338 has been closed as invalid and marked as a Cygwin, rather than Python, bug, why not... but what's sure is that it prevents to build Python on Cygwin.\n\nThe patche we need from 9665 modifies configure.in (the other patch is just issue 14337).\nIn order to take it into account in the configure script, I ran \"autoreconf -i\" which also modified the configure script in several other places, but in a seemingly harmless way.\nIt is mainly because I used a newer version of autotools than the one originally used for the Python 2.7.3 release, and autotools decided inbetween to prefix some variables names with \"ac_\".\nA somehow less invasive solution would be to directly patch the configure script, but I'm less inclined to do so than properly patching configure.in.\n\nThe updated spkg is available at:\nhttp://perso.telecom-paristech.fr/~flori/sage/python-2.7.3.p1.spkg\n\nIt builds correctly on Ubuntu 12.04 64 bits and is currently building on my Cygwin 1.7.16 on Windows 7 64 bits (it failed a first time but because of memory exhaustion which I often get while using Cygwin or MinGW).\n\nI've search trac for a more recent spkg than the 2.7.3.p0 but did not find anything.\nIf I missed some tickets including such an spkg, please let me know or directly rebase the patches proposed here.",
    "created_at": "2012-08-01T10:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191127",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:1'></a>
Some further details:
- issue 9665 is still opened (and as it is back from 2010 and was not modified since, I doubt it will be closed any time soon unless one of us takes action);
- issue 14337 has been merged, but unfortunately after the Python 2.7.3 release;
- issue 14338 has been closed as invalid and marked as a Cygwin, rather than Python, bug, why not... but what's sure is that it prevents to build Python on Cygwin.

The patche we need from 9665 modifies configure.in (the other patch is just issue 14337).
In order to take it into account in the configure script, I ran "autoreconf -i" which also modified the configure script in several other places, but in a seemingly harmless way.
It is mainly because I used a newer version of autotools than the one originally used for the Python 2.7.3 release, and autotools decided inbetween to prefix some variables names with "ac_".
A somehow less invasive solution would be to directly patch the configure script, but I'm less inclined to do so than properly patching configure.in.

The updated spkg is available at:
http://perso.telecom-paristech.fr/~flori/sage/python-2.7.3.p1.spkg

It builds correctly on Ubuntu 12.04 64 bits and is currently building on my Cygwin 1.7.16 on Windows 7 64 bits (it failed a first time but because of memory exhaustion which I often get while using Cygwin or MinGW).

I've search trac for a more recent spkg than the 2.7.3.p0 but did not find anything.
If I missed some tickets including such an spkg, please let me know or directly rebase the patches proposed here.



---

archive/issue_comments_191128.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n Some patches posterior to Python 2.7.3 are needed to build on Cygwin.\n-\n Namely fixes from the issues 9665, 14437, 14438 on Python issue tracker.\n \n+Use the spkg available at:\n+http://perso.telecom-paristech.fr/~flori/sage/python-2.7.3.p1.spkg\n+\n``````\n",
    "created_at": "2012-08-01T10:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191128",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 Some patches posterior to Python 2.7.3 are needed to build on Cygwin.
-
 Namely fixes from the issues 9665, 14437, 14438 on Python issue tracker.
 
+Use the spkg available at:
+http://perso.telecom-paristech.fr/~flori/sage/python-2.7.3.p1.spkg
+
``````




---

archive/issue_comments_191129.json:
```json
{
    "body": "<a id='comment:2'></a>\nthis patch (apparently) allowed Python spkg to build on my Cygwin installation (on 32-bit Win 7). Good!\n\nThe next spkg, mercurial, failed with a typical fork() trouble. But this is probably not related. I guess now I need to rebaseall, including newly created dlls...",
    "created_at": "2012-08-01T14:48:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191129",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:2'></a>
this patch (apparently) allowed Python spkg to build on my Cygwin installation (on 32-bit Win 7). Good!

The next spkg, mercurial, failed with a typical fork() trouble. But this is probably not related. I guess now I need to rebaseall, including newly created dlls...



---

archive/issue_comments_191130.json:
```json
{
    "body": "<a id='comment:3'></a>\nSame for me about mercurial.\nI'm posting my progress on the [CygwinPort](CygwinPort) page on a freshly installed Cygwin 1.7.16 on Windows 7 64 bits for Sage 5.2.",
    "created_at": "2012-08-01T14:53:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191130",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:3'></a>
Same for me about mercurial.
I'm posting my progress on the [CygwinPort](CygwinPort) page on a freshly installed Cygwin 1.7.16 on Windows 7 64 bits for Sage 5.2.



---

archive/issue_comments_191131.json:
```json
{
    "body": "**Changing keywords** from \"pythong cygwin\" to \"pythong cygwin spkg\".",
    "created_at": "2012-08-02T15:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191131",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing keywords** from "pythong cygwin" to "pythong cygwin spkg".



---

archive/issue_comments_191132.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2012-09-21T15:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191132",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_191133.json:
```json
{
    "body": "<a id='comment:5'></a>\nCould you please use my **autotools** spkg to regenerate `configure` and friends with the same version as the original?",
    "created_at": "2012-09-21T15:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191133",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Could you please use my **autotools** spkg to regenerate `configure` and friends with the same version as the original?



---

archive/issue_comments_191134.json:
```json
{
    "body": "<a id='comment:6'></a>\nAlso, for timestamp reasons, the file `configure` must be patched **after** `configure.in`.  This means that, either you create a separate patch for `configure.in` and for `configure`, or you manually reverse the order of the patches in the `.patch` file.",
    "created_at": "2012-09-21T15:07:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191134",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
Also, for timestamp reasons, the file `configure` must be patched **after** `configure.in`.  This means that, either you create a separate patch for `configure.in` and for `configure`, or you manually reverse the order of the patches in the `.patch` file.



---

archive/issue_comments_191135.json:
```json
{
    "body": "<a id='comment:7'></a>\nI've updated the spkg after using your autotools package and manually reversed the order of configure and configure.in in the parch file.\nThe spkg diff will follow shortly.",
    "created_at": "2012-09-30T17:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191135",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:7'></a>
I've updated the spkg after using your autotools package and manually reversed the order of configure and configure.in in the parch file.
The spkg diff will follow shortly.



---

archive/issue_comments_191136.json:
```json
{
    "body": "spkg diff, for review only",
    "created_at": "2012-09-30T17:29:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191136",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

spkg diff, for review only



---

archive/attachments_018031.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "spkg.diff",
    "asset_url": "tarball://root/attachments/some-uuid/ticket13319/spkg.diff",
    "created_at": "2012-09-30T17:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.diff",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```



---

archive/issue_comments_191137.json:
```json
{
    "body": "<a id='comment:8'></a>\nOne can remark that, although a quite similar version of autoconf was used, there are still of useless changes to the configure script... but much less than before.",
    "created_at": "2012-09-30T17:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191137",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:8'></a>
One can remark that, although a quite similar version of autoconf was used, there are still of useless changes to the configure script... but much less than before.



---

archive/issue_comments_191138.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2012-09-30T17:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191138",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_191139.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2012-10-01T05:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191139",
    "user": "https://github.com/dimpase"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_191140.json:
```json
{
    "body": "<a id='comment:9'></a>\nlooks OK to me.",
    "created_at": "2012-10-01T05:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191140",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
looks OK to me.



---

archive/issue_comments_191141.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [jpflori](#comment%3A8):\n> One can remark that, although a quite similar version of autoconf was used, there are still of useless changes to the configure script... but much less than before.\nIndeed.  This is likely because the previous `configure` script was created by a distribution-patched `autoconf` with the same version number, but some patches added.",
    "created_at": "2012-10-01T06:32:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191141",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
Replying to [jpflori](#comment%3A8):
> One can remark that, although a quite similar version of autoconf was used, there are still of useless changes to the configure script... but much less than before.
Indeed.  This is likely because the previous `configure` script was created by a distribution-patched `autoconf` with the same version number, but some patches added.



---

archive/issue_comments_191142.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,4 +3,5 @@\n \n Use the spkg available at:\n http://perso.telecom-paristech.fr/~flori/sage/python-2.7.3.p1.spkg\n-\n+or\n+http://www.infres.enst.fr/~flori/sage/python-2.7.3.p1.spkg\n``````\n",
    "created_at": "2012-10-02T20:12:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191142",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,4 +3,5 @@
 
 Use the spkg available at:
 http://perso.telecom-paristech.fr/~flori/sage/python-2.7.3.p1.spkg
-
+or
+http://www.infres.enst.fr/~flori/sage/python-2.7.3.p1.spkg
``````




---

archive/issue_events_043157.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-03T14:45:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "milestone": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13319#event-43157"
}
```



---

archive/issue_comments_191143.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,6 +2,4 @@\n Namely fixes from the issues 9665, 14437, 14438 on Python issue tracker.\n \n Use the spkg available at:\n-http://perso.telecom-paristech.fr/~flori/sage/python-2.7.3.p1.spkg\n-or\n-http://www.infres.enst.fr/~flori/sage/python-2.7.3.p1.spkg\n+[http://www.infres.enst.fr/~flori/sage/python-2.7.3.p1.spkg](http://www.infres.enst.fr/~flori/sage/python-2.7.3.p1.spkg)\n``````\n",
    "created_at": "2012-10-05T08:12:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191143",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,6 +2,4 @@
 Namely fixes from the issues 9665, 14437, 14438 on Python issue tracker.
 
 Use the spkg available at:
-http://perso.telecom-paristech.fr/~flori/sage/python-2.7.3.p1.spkg
-or
-http://www.infres.enst.fr/~flori/sage/python-2.7.3.p1.spkg
+[http://www.infres.enst.fr/~flori/sage/python-2.7.3.p1.spkg](http://www.infres.enst.fr/~flori/sage/python-2.7.3.p1.spkg)
``````




---

archive/issue_comments_191144.json:
```json
{
    "body": "**Reviewer:** Dmitrii Pasechnik",
    "created_at": "2012-10-05T08:12:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191144",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Dmitrii Pasechnik



---

archive/issue_comments_191145.json:
```json
{
    "body": "<a id='comment:15'></a>\nThis will eventually need to be rebased to #13579, but I would wait until that ticket gets settled.",
    "created_at": "2012-10-12T13:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191145",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>
This will eventually need to be rebased to #13579, but I would wait until that ticket gets settled.



---

archive/issue_comments_191146.json:
```json
{
    "body": "<a id='comment:16'></a>\nCouldn't we go the other way around?\nI understand that #13579 is infinitly more crucial than the problem dealt with here, but the solution here won't move by an inch for sure.",
    "created_at": "2012-10-12T13:24:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191146",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:16'></a>
Couldn't we go the other way around?
I understand that #13579 is infinitly more crucial than the problem dealt with here, but the solution here won't move by an inch for sure.



---

archive/issue_comments_191147.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [jpflori](#comment%3A16):\n> Couldn't we go the other way around?\n\nNot really.  I don't think blocker tickets should depend on non-blockers.\n\nRebasing this spkg won't be a huge deal, I'll do it myself if needed.",
    "created_at": "2012-10-12T13:26:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191147",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
Replying to [jpflori](#comment%3A16):
> Couldn't we go the other way around?

Not really.  I don't think blocker tickets should depend on non-blockers.

Rebasing this spkg won't be a huge deal, I'll do it myself if needed.



---

archive/issue_comments_191148.json:
```json
{
    "body": "<a id='comment:18'></a>\nNo problem, I understand your point.",
    "created_at": "2012-10-12T13:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191148",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:18'></a>
No problem, I understand your point.



---

archive/issue_comments_191149.json:
```json
{
    "body": "**Dependencies:** #13579",
    "created_at": "2012-10-13T10:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191149",
    "user": "https://github.com/jdemeyer"
}
```

**Dependencies:** #13579



---

archive/issue_events_043158.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-13T10:15:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "milestone": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13319#event-43158"
}
```



---

archive/issue_events_043159.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-13T10:15:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13319#event-43159"
}
```



---

archive/issue_comments_191150.json:
```json
{
    "body": "<a id='comment:20'></a>\nIn order to test Sage 5.5.rc0 on Cygwin, I created a (probably sketchy) spkg [here](http://sage.math.washington.edu/home/kcrisman/python-2.7.3.p3.spkg) based on #13631, the followup to #13579.  JP or Jeroen can feel free to make it better, but I really wanted to try things on 5.5.rc0 since we have this little lull in merging now which gives me a breather to test this out.",
    "created_at": "2012-12-04T19:02:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191150",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:20'></a>
In order to test Sage 5.5.rc0 on Cygwin, I created a (probably sketchy) spkg [here](http://sage.math.washington.edu/home/kcrisman/python-2.7.3.p3.spkg) based on #13631, the followup to #13579.  JP or Jeroen can feel free to make it better, but I really wanted to try things on 5.5.rc0 since we have this little lull in merging now which gives me a breather to test this out.



---

archive/issue_comments_191151.json:
```json
{
    "body": "<a id='comment:21'></a>\nCould you post the diff from last commit?\nIt will be easier to have a look at that first.",
    "created_at": "2012-12-04T19:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191151",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:21'></a>
Could you post the diff from last commit?
It will be easier to have a look at that first.



---

archive/issue_comments_191152.json:
```json
{
    "body": "<a id='comment:22'></a>\n> Could you post the diff from last commit?\n> It will be easier to have a look at that first.\n\nGood point, coming right up.",
    "created_at": "2012-12-04T19:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191152",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:22'></a>
> Could you post the diff from last commit?
> It will be easier to have a look at that first.

Good point, coming right up.



---

archive/attachments_018032.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "python-2.7.3.p3-python-2.7.3.p2.diff",
    "asset_url": "tarball://root/attachments/some-uuid/ticket13319/python-2.7.3.p3-python-2.7.3.p2.diff",
    "created_at": "2012-12-04T19:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.diff",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_191153.json:
```json
{
    "body": "Diff from #13631 to the kcrisman p3 spkg",
    "created_at": "2012-12-04T19:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191153",
    "user": "https://github.com/kcrisman"
}
```

Diff from #13631 to the kcrisman p3 spkg



---

archive/issue_comments_191154.json:
```json
{
    "body": "<a id='comment:23'></a>\nWell, Python builds with this, anyway.  I do get offset on the sdist.py file in hunks 1 and 2, and a huge number of warnings while untarring of \n\n```\ntar: Ignoring unknown extended header keyword `SCHILY.{dev,nlink,ino}`\n```\nand I have no idea what that was about.  As usual, the bits to build several modules were not found, but they look like the usual ones.\n\nI also got a somewhat more worrisome\n\n```\nIOError: invalid Python installation: unable to open /home/newsagetest/sage-5.5.rc0/local/lib/python-2.7/config/Makefile (No such file or directory)\n```\nbut eventually everything seemed to work and \n\n```\nmath module imported OK\n```\netc., so maybe we're in business... ?",
    "created_at": "2012-12-04T19:44:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191154",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:23'></a>
Well, Python builds with this, anyway.  I do get offset on the sdist.py file in hunks 1 and 2, and a huge number of warnings while untarring of 

```
tar: Ignoring unknown extended header keyword `SCHILY.{dev,nlink,ino}`
```
and I have no idea what that was about.  As usual, the bits to build several modules were not found, but they look like the usual ones.

I also got a somewhat more worrisome

```
IOError: invalid Python installation: unable to open /home/newsagetest/sage-5.5.rc0/local/lib/python-2.7/config/Makefile (No such file or directory)
```
but eventually everything seemed to work and 

```
math module imported OK
```
etc., so maybe we're in business... ?



---

archive/issue_events_043160.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "rename": {
        "from": "Python 2.7.3.p0 does not build on Cygwin.",
        "to": "Python 2.7.3.px spkg does not build on Cygwin."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13319#event-43160"
}
```



---

archive/issue_comments_191155.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n Namely fixes from the issues 9665, 14437, 14438 on Python issue tracker.\n \n Use the spkg available at:\n-[http://www.infres.enst.fr/~flori/sage/python-2.7.3.p1.spkg](http://www.infres.enst.fr/~flori/sage/python-2.7.3.p1.spkg)\n+[http://boxen.math.washington.edu/home/flori/python-2.7.3.p3.spkg](http://boxen.math.washington.edu/home/flori/python-2.7.3.p3.spkg)\n``````\n",
    "created_at": "2012-12-04T20:56:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191155",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 Namely fixes from the issues 9665, 14437, 14438 on Python issue tracker.
 
 Use the spkg available at:
-[http://www.infres.enst.fr/~flori/sage/python-2.7.3.p1.spkg](http://www.infres.enst.fr/~flori/sage/python-2.7.3.p1.spkg)
+[http://boxen.math.washington.edu/home/flori/python-2.7.3.p3.spkg](http://boxen.math.washington.edu/home/flori/python-2.7.3.p3.spkg)
``````




---

archive/issue_comments_191156.json:
```json
{
    "body": "<a id='comment:24'></a>\nOk, I've slightly reworked your spkg to properly rebase it on the sage shipped spkg (I guess you took the spkg from the ticket page which does not contain the hg tag).\nI've simplified a patch which modified useless parts of configure.\nI've updated the patches so that there is no fuzz.\nThere does not seem to be tar problems anymore (I got these with your original spkg).\n\nIf you wanna have a look and check it builds correctly it shoudl stay positive review I guess.\n\nI've checked it builds ok on Linux and will try Cygwin tonight.\nAs downloading sage 5.5.rc0 from boxen is too low and I've deleted the tar, I'll try to begin from a built dir from my linux install,  not sure it will work.",
    "created_at": "2012-12-04T20:56:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191156",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:24'></a>
Ok, I've slightly reworked your spkg to properly rebase it on the sage shipped spkg (I guess you took the spkg from the ticket page which does not contain the hg tag).
I've simplified a patch which modified useless parts of configure.
I've updated the patches so that there is no fuzz.
There does not seem to be tar problems anymore (I got these with your original spkg).

If you wanna have a look and check it builds correctly it shoudl stay positive review I guess.

I've checked it builds ok on Linux and will try Cygwin tonight.
As downloading sage 5.5.rc0 from boxen is too low and I've deleted the tar, I'll try to begin from a built dir from my linux install,  not sure it will work.



---

archive/issue_comments_191157.json:
```json
{
    "body": "spkg diff, for review only",
    "created_at": "2012-12-04T20:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191157",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

spkg diff, for review only



---

archive/attachments_018033.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "python-2.7.3.p3.diff",
    "asset_url": "tarball://root/attachments/some-uuid/ticket13319/python-2.7.3.p3.diff",
    "created_at": "2012-12-05T09:43:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.diff",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```



---

archive/issue_comments_191158.json:
```json
{
    "body": "<a id='comment:25'></a>\nI've built the spkg successfully with sage-5.5.rc0 on my windows 7 (64 bits) as well.\nPython says some modules were not build, but the same is true under linux (in fact there is no inclusion between the two lists, some modules were built on Cygwin (_curses, _curses_panel, imageop, dbm, dl) and not on Linux and vice-versa (nis, spwd, linuxaudiodex, ossaudiodev))/\n\nSo let's leave this as positive review, nothing really changed since Dima review, and merge this asap to avoid further rebasing.",
    "created_at": "2012-12-05T09:43:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191158",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:25'></a>
I've built the spkg successfully with sage-5.5.rc0 on my windows 7 (64 bits) as well.
Python says some modules were not build, but the same is true under linux (in fact there is no inclusion between the two lists, some modules were built on Cygwin (_curses, _curses_panel, imageop, dbm, dl) and not on Linux and vice-versa (nis, spwd, linuxaudiodex, ossaudiodev))/

So let's leave this as positive review, nothing really changed since Dima review, and merge this asap to avoid further rebasing.



---

archive/issue_events_043161.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2012-12-05T09:43:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13319#event-43161"
}
```



---

archive/issue_events_043162.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2012-12-05T09:43:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "milestone": "sage-5.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13319#event-43162"
}
```



---

archive/issue_comments_191159.json:
```json
{
    "body": "<a id='comment:26'></a>\n> Python says some modules were not build, but the same is true under linux (in fact there is no inclusion between the two lists, some modules were built on Cygwin (_curses, _curses_panel, imageop, dbm, dl) and not on Linux and vice-versa (nis, spwd, linuxaudiodex, ossaudiodev))/\n\nHilarious - it's yet another combo on XP and another on Mac.\n> So let's leave this as positive review, nothing really changed since Dima review, and merge this asap to avoid further rebasing.\n\nAgreed.",
    "created_at": "2012-12-05T13:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191159",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:26'></a>
> Python says some modules were not build, but the same is true under linux (in fact there is no inclusion between the two lists, some modules were built on Cygwin (_curses, _curses_panel, imageop, dbm, dl) and not on Linux and vice-versa (nis, spwd, linuxaudiodex, ossaudiodev))/

Hilarious - it's yet another combo on XP and another on Mac.
> So let's leave this as positive review, nothing really changed since Dima review, and merge this asap to avoid further rebasing.

Agreed.



---

archive/issue_comments_191160.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [kcrisman](#comment%3A23):\n> Well, Python builds with this, anyway.  I do get offset on the sdist.py file in hunks 1 and 2, and a huge number of warnings while untarring of \n> \n> ```\n> tar: Ignoring unknown extended header keyword `SCHILY.{dev,nlink,ino}`\n> ```\n\nThat's because of a slightly different tar format (GNU tar vs. BSD tar). But that's no problem because my merger script always untars and tars the spkgs to ensure a consistent format.",
    "created_at": "2012-12-16T14:16:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191160",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>
Replying to [kcrisman](#comment%3A23):
> Well, Python builds with this, anyway.  I do get offset on the sdist.py file in hunks 1 and 2, and a huge number of warnings while untarring of 
> 
> ```
> tar: Ignoring unknown extended header keyword `SCHILY.{dev,nlink,ino}`
> ```

That's because of a slightly different tar format (GNU tar vs. BSD tar). But that's no problem because my merger script always untars and tars the spkgs to ensure a consistent format.



---

archive/issue_comments_191161.json:
```json
{
    "body": "**Work_Issues:** HTTP 404",
    "created_at": "2012-12-16T14:39:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191161",
    "user": "https://github.com/jdemeyer"
}
```

**Work_Issues:** HTTP 404



---

archive/issue_comments_191162.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2012-12-16T14:39:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191162",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_191163.json:
```json
{
    "body": "<a id='comment:28'></a>\n\n```\nThe requested URL /home/flori/python-2.7.3.p3.spkg was not found on this server.\n```",
    "created_at": "2012-12-16T14:39:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191163",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>

```
The requested URL /home/flori/python-2.7.3.p3.spkg was not found on this server.
```



---

archive/issue_comments_191164.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2012-12-17T02:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191164",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_191165.json:
```json
{
    "body": "**Changing work_issues** from \"HTTP 404\" to \"\".",
    "created_at": "2012-12-17T02:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191165",
    "user": "https://github.com/kcrisman"
}
```

**Changing work_issues** from "HTTP 404" to "".



---

archive/issue_comments_191166.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n Namely fixes from the issues 9665, 14437, 14438 on Python issue tracker.\n \n Use the spkg available at:\n-[http://boxen.math.washington.edu/home/flori/python-2.7.3.p3.spkg](http://boxen.math.washington.edu/home/flori/python-2.7.3.p3.spkg)\n+[http://boxen.math.washington.edu/home/jpflori/python-2.7.3.p3.spkg](http://boxen.math.washington.edu/home/jpflori/python-2.7.3.p3.spkg)\n``````\n",
    "created_at": "2012-12-17T02:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191166",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 Namely fixes from the issues 9665, 14437, 14438 on Python issue tracker.
 
 Use the spkg available at:
-[http://boxen.math.washington.edu/home/flori/python-2.7.3.p3.spkg](http://boxen.math.washington.edu/home/flori/python-2.7.3.p3.spkg)
+[http://boxen.math.washington.edu/home/jpflori/python-2.7.3.p3.spkg](http://boxen.math.washington.edu/home/jpflori/python-2.7.3.p3.spkg)
``````




---

archive/issue_comments_191167.json:
```json
{
    "body": "<a id='comment:29'></a>\nThe URL was just a little off.",
    "created_at": "2012-12-17T02:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191167",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:29'></a>
The URL was just a little off.



---

archive/issue_comments_191168.json:
```json
{
    "body": "**Merged:** sage-5.6.beta0",
    "created_at": "2012-12-18T11:15:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13319#issuecomment-191168",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.6.beta0



---

archive/issue_events_043163.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-18T11:15:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13319",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13319#event-43163"
}
```
