# Issue 13422: Log scale plots should auto-expand axes range to include at least 2 ticks

archive/issues_013250.json:
```json
{
    "body": "This comes up from an internal(?) email where it was asked that log scale plots should have automatic expansion of the axis if there are not enough ticks. The current behavior is to raise an error.\n\nThe attached patch implements this feature and works as long as the user doesn't provide too few ticks via the `ticks` option of `show()`. This patch should work well with the following plots, all of which fail without this patch:\n\n```\nsage: plot_loglog(x, (1,10)).show(xmin=10, xmax=1)\nsage: list_plot_loglog(zip([1, 10], [0.5, 6.0]))\nsage: list_plot_loglog(zip([2, 3], [3, 4.0]), base=2)\nsage: list_plot_loglog(zip([2, 10], [0.5, 4.0]))\n```\n\nThis patch fixes #13340 too.\n\n---\n\nApply [attachment:trac_13422-rebase.patch] to `devel/sage`\n\nAssignee: jason, was\n\nCC:  @kcrisman\n\nKeywords: log plot\n\nBranch/Commit: 17213506f14e58ace7b65d47ffd28e294283ea87\n\nReviewer: Karl-Dieter Crisman, Michael Orlitzky, Punarbasu Purkayastha\n\nAuthor: Punarbasu Purkayastha, Michael Orlitzky\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13422\n\n",
    "closed_at": "2014-06-04T14:48:16Z",
    "created_at": "2012-09-02T17:35:39Z",
    "labels": [
        "component: graphics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Log scale plots should auto-expand axes range to include at least 2 ticks",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13422",
    "user": "https://github.com/ppurka"
}
```
This comes up from an internal(?) email where it was asked that log scale plots should have automatic expansion of the axis if there are not enough ticks. The current behavior is to raise an error.

The attached patch implements this feature and works as long as the user doesn't provide too few ticks via the `ticks` option of `show()`. This patch should work well with the following plots, all of which fail without this patch:

```
sage: plot_loglog(x, (1,10)).show(xmin=10, xmax=1)
sage: list_plot_loglog(zip([1, 10], [0.5, 6.0]))
sage: list_plot_loglog(zip([2, 3], [3, 4.0]), base=2)
sage: list_plot_loglog(zip([2, 10], [0.5, 4.0]))
```

This patch fixes #13340 too.

---

Apply [attachment:trac_13422-rebase.patch] to `devel/sage`

Assignee: jason, was

CC:  @kcrisman

Keywords: log plot

Branch/Commit: 17213506f14e58ace7b65d47ffd28e294283ea87

Reviewer: Karl-Dieter Crisman, Michael Orlitzky, Punarbasu Purkayastha

Author: Punarbasu Purkayastha, Michael Orlitzky

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/13422





---

archive/issue_comments_172781.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -12,7 +12,11 @@\n \n Once completed, this patch should make #13340 invalid.\n \n-TODO: Add doctests and ensure that nothing breaks.\n+**TODO**: Add doctests and ensure that nothing breaks.\n+\n+---\n+\n+Apply [attachment:trac_13422-auto_expand_log.patch] to \\`devel/sage\\`\n \n Comment: 1\n \n```\n",
    "created_at": "2012-09-02T17:42:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172781",
    "user": "https://github.com/ppurka"
}
```

Description changed:
```diff
--- 
+++ 
@@ -12,7 +12,11 @@
 
 Once completed, this patch should make #13340 invalid.
 
-TODO: Add doctests and ensure that nothing breaks.
+**TODO**: Add doctests and ensure that nothing breaks.
+
+---
+
+Apply [attachment:trac_13422-auto_expand_log.patch] to \`devel/sage\`
 
 Comment: 1
 
```




---

archive/issue_comments_172782.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-09-05T12:17:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172782",
    "user": "https://github.com/ppurka"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_172783.json:
```json
{
    "body": "<a id='comment:3'></a>I have completed this patch now. It should work in almost all cases. I say *almost* because there are some instances like the one below which should be given the treatment of [GIGO](http://en.wikipedia.org/wiki/GIGO) ;)\n\n```\nlist_plot_loglog([(1,2),(2,3)], plotjoined=True, ticks=[None,[1,20]])\n```",
    "created_at": "2012-09-05T12:17:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172783",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:3'></a>I have completed this patch now. It should work in almost all cases. I say *almost* because there are some instances like the one below which should be given the treatment of [GIGO](http://en.wikipedia.org/wiki/GIGO) ;)

```
list_plot_loglog([(1,2),(2,3)], plotjoined=True, ticks=[None,[1,20]])
```



---

archive/issue_comments_172784.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,19 @@\n+This comes up from an internal(?) email where it was asked that log scale plots should have automatic expansion of the axis if there are not enough ticks. The current behavior is to raise an error.\n \n+The attached patch implements this feature and works as long as the user doesn't provide too few ticks via the \\`ticks\\` option of \\`show()\\`. This patch is a preliminary patch for feedback and should work well with the following plots, all of which fail without this patch:\n+\n+\\`\\`\\`\n+sage: plot_loglog(x, (1,10)).show(xmin=10, xmax=1)\n+sage: list_plot_loglog(zip([1, 10], [0.5, 6.0]))\n+sage: list_plot_loglog(zip([2, 3], [3, 4.0]), base=2)\n+sage: list_plot_loglog(zip([2, 10], [0.5, 4.0]))\n+\\`\\`\\`\n+\n+This patch make #13340 invalid.\n+\n+---\n+\n+Apply [attachment:trac_13422-auto_expand_log.patch] to \\`devel/sage\\`\n \n Comment: 1\n \n```\n",
    "created_at": "2012-09-05T12:17:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172784",
    "user": "https://github.com/ppurka"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,19 @@
+This comes up from an internal(?) email where it was asked that log scale plots should have automatic expansion of the axis if there are not enough ticks. The current behavior is to raise an error.
 
+The attached patch implements this feature and works as long as the user doesn't provide too few ticks via the \`ticks\` option of \`show()\`. This patch is a preliminary patch for feedback and should work well with the following plots, all of which fail without this patch:
+
+\`\`\`
+sage: plot_loglog(x, (1,10)).show(xmin=10, xmax=1)
+sage: list_plot_loglog(zip([1, 10], [0.5, 6.0]))
+sage: list_plot_loglog(zip([2, 3], [3, 4.0]), base=2)
+sage: list_plot_loglog(zip([2, 10], [0.5, 4.0]))
+\`\`\`
+
+This patch make #13340 invalid.
+
+---
+
+Apply [attachment:trac_13422-auto_expand_log.patch] to \`devel/sage\`
 
 Comment: 1
 
```




---

archive/issue_comments_172785.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,19 @@\n+This comes up from an internal(?) email where it was asked that log scale plots should have automatic expansion of the axis if there are not enough ticks. The current behavior is to raise an error.\n \n+The attached patch implements this feature and works as long as the user doesn't provide too few ticks via the \\`ticks\\` option of \\`show()\\`. This patch should work well with the following plots, all of which fail without this patch:\n+\n+\\`\\`\\`\n+sage: plot_loglog(x, (1,10)).show(xmin=10, xmax=1)\n+sage: list_plot_loglog(zip([1, 10], [0.5, 6.0]))\n+sage: list_plot_loglog(zip([2, 3], [3, 4.0]), base=2)\n+sage: list_plot_loglog(zip([2, 10], [0.5, 4.0]))\n+\\`\\`\\`\n+\n+This patch make #13340 invalid.\n+\n+---\n+\n+Apply [attachment:trac_13422-auto_expand_log.patch] to \\`devel/sage\\`\n \n Comment: 1\n \n```\n",
    "created_at": "2012-09-05T12:18:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172785",
    "user": "https://github.com/ppurka"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,19 @@
+This comes up from an internal(?) email where it was asked that log scale plots should have automatic expansion of the axis if there are not enough ticks. The current behavior is to raise an error.
 
+The attached patch implements this feature and works as long as the user doesn't provide too few ticks via the \`ticks\` option of \`show()\`. This patch should work well with the following plots, all of which fail without this patch:
+
+\`\`\`
+sage: plot_loglog(x, (1,10)).show(xmin=10, xmax=1)
+sage: list_plot_loglog(zip([1, 10], [0.5, 6.0]))
+sage: list_plot_loglog(zip([2, 3], [3, 4.0]), base=2)
+sage: list_plot_loglog(zip([2, 10], [0.5, 4.0]))
+\`\`\`
+
+This patch make #13340 invalid.
+
+---
+
+Apply [attachment:trac_13422-auto_expand_log.patch] to \`devel/sage\`
 
 Comment: 1
 
```




---

archive/issue_comments_172786.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-09-05T12:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172786",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_172787.json:
```json
{
    "body": "Apply to devel/sage",
    "created_at": "2012-09-05T12:48:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172787",
    "user": "https://github.com/ppurka"
}
```

Apply to devel/sage



---

archive/issue_comments_172788.json:
```json
{
    "body": "<a id='comment:6'></a>Attachment [trac_13422-auto_expand_log.patch](tarball://root/attachments/some-uuid/ticket13422/trac_13422-auto_expand_log.patch) by @ppurka created at 2012-09-05 12:50:08",
    "created_at": "2012-09-05T12:50:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172788",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:6'></a>Attachment [trac_13422-auto_expand_log.patch](tarball://root/attachments/some-uuid/ticket13422/trac_13422-auto_expand_log.patch) by @ppurka created at 2012-09-05 12:50:08



---

archive/issue_comments_172789.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-09-05T12:50:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172789",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_172790.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,19 @@\n+This comes up from an internal(?) email where it was asked that log scale plots should have automatic expansion of the axis if there are not enough ticks. The current behavior is to raise an error.\n \n+The attached patch implements this feature and works as long as the user doesn't provide too few ticks via the \\`ticks\\` option of \\`show()\\`. This patch should work well with the following plots, all of which fail without this patch:\n+\n+\\`\\`\\`\n+sage: plot_loglog(x, (1,10)).show(xmin=10, xmax=1)\n+sage: list_plot_loglog(zip([1, 10], [0.5, 6.0]))\n+sage: list_plot_loglog(zip([2, 3], [3, 4.0]), base=2)\n+sage: list_plot_loglog(zip([2, 10], [0.5, 4.0]))\n+\\`\\`\\`\n+\n+This patch fixes #13340 too.\n+\n+---\n+\n+Apply [attachment:trac_13422-auto_expand_log.patch] to \\`devel/sage\\`\n \n Comment: 1\n \n```\n",
    "created_at": "2012-09-05T12:50:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172790",
    "user": "https://github.com/ppurka"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,19 @@
+This comes up from an internal(?) email where it was asked that log scale plots should have automatic expansion of the axis if there are not enough ticks. The current behavior is to raise an error.
 
+The attached patch implements this feature and works as long as the user doesn't provide too few ticks via the \`ticks\` option of \`show()\`. This patch should work well with the following plots, all of which fail without this patch:
+
+\`\`\`
+sage: plot_loglog(x, (1,10)).show(xmin=10, xmax=1)
+sage: list_plot_loglog(zip([1, 10], [0.5, 6.0]))
+sage: list_plot_loglog(zip([2, 3], [3, 4.0]), base=2)
+sage: list_plot_loglog(zip([2, 10], [0.5, 4.0]))
+\`\`\`
+
+This patch fixes #13340 too.
+
+---
+
+Apply [attachment:trac_13422-auto_expand_log.patch] to \`devel/sage\`
 
 Comment: 1
 
```




---

archive/issue_comments_172791.json:
```json
{
    "body": "<a id='comment:7'></a>Trivial rebase needed; I'll upload a new one once I've finished reviewing this.",
    "created_at": "2013-06-20T00:38:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172791",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'></a>Trivial rebase needed; I'll upload a new one once I've finished reviewing this.



---

archive/issue_comments_172792.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-06-20T00:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172792",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_172793.json:
```json
{
    "body": "<a id='comment:8'></a>Hi ppurka!\n\nCompare\n\n```\nsage: plot_loglog(x^2,(x,1,100),base=10,xmax=1.1)\nsage: plot_loglog(x^2,(x,1,100),base=10,ymax = 1.1)\n```\nIn principle, they should both curtail the plot (in different directions, of course).  But only the second one does.\n\nAnother one:\n\n```\nsage: plot_loglog(x^2,(x,1,100),base=10,ticks=[[],[]])\nsage: plot_loglog(x^2,(x,1,2),base=10,ticks=[[],[]])\n```\nNeither one of these plots axes, but they don't raise the error.  With putting one tick each, then we are fine.  But I'm not sure what we really want here.\n\n(I'm not going to bother with the rebase because right now it just is removing a few removals of whitespace, so all one has to do is do `hg qrefresh` and that's it.)",
    "created_at": "2013-06-20T00:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172793",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>Hi ppurka!

Compare

```
sage: plot_loglog(x^2,(x,1,100),base=10,xmax=1.1)
sage: plot_loglog(x^2,(x,1,100),base=10,ymax = 1.1)
```
In principle, they should both curtail the plot (in different directions, of course).  But only the second one does.

Another one:

```
sage: plot_loglog(x^2,(x,1,100),base=10,ticks=[[],[]])
sage: plot_loglog(x^2,(x,1,2),base=10,ticks=[[],[]])
```
Neither one of these plots axes, but they don't raise the error.  With putting one tick each, then we are fine.  But I'm not sure what we really want here.

(I'm not going to bother with the rebase because right now it just is removing a few removals of whitespace, so all one has to do is do `hg qrefresh` and that's it.)



---

archive/issue_comments_172794.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 kcrisman]:\n> Hi ppurka!\n> \n> Compare\n> \n> ```\n> sage: plot_loglog(x^2,(x,1,100),base=10,xmax=1.1)\n> sage: plot_loglog(x^2,(x,1,100),base=10,ymax = 1.1)\n> ```\n> In principle, they should both curtail the plot (in different directions, of course).  But only the second one does.\n\n\nThis is #13368. The xmax when passed on to show works.\n\n> \n> Another one:\n> \n> ```\n> sage: plot_loglog(x^2,(x,1,100),base=10,ticks=[[],[]])\n> sage: plot_loglog(x^2,(x,1,2),base=10,ticks=[[],[]])\n> ```\n> Neither one of these plots axes, but they don't raise the error.  With putting one tick each, then we are fine.  But I'm not sure what we really want here.\n\n\nThe behavior is the same without this patch, except that the second plot fails without this patch and passes with this patch. So this is some other bug.",
    "created_at": "2013-06-20T01:08:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172794",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:9'></a>Replying to [comment:8 kcrisman]:
> Hi ppurka!
> 
> Compare
> 
> ```
> sage: plot_loglog(x^2,(x,1,100),base=10,xmax=1.1)
> sage: plot_loglog(x^2,(x,1,100),base=10,ymax = 1.1)
> ```
> In principle, they should both curtail the plot (in different directions, of course).  But only the second one does.


This is #13368. The xmax when passed on to show works.

> 
> Another one:
> 
> ```
> sage: plot_loglog(x^2,(x,1,100),base=10,ticks=[[],[]])
> sage: plot_loglog(x^2,(x,1,2),base=10,ticks=[[],[]])
> ```
> Neither one of these plots axes, but they don't raise the error.  With putting one tick each, then we are fine.  But I'm not sure what we really want here.


The behavior is the same without this patch, except that the second plot fails without this patch and passes with this patch. So this is some other bug.



---

archive/issue_comments_172795.json:
```json
{
    "body": "<a id='comment:10'></a>The second behavior is now #14782",
    "created_at": "2013-06-20T01:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172795",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:10'></a>The second behavior is now #14782



---

archive/issue_comments_172796.json:
```json
{
    "body": "<a id='comment:11'></a>> > Compare\n> > \n> > ```\n> > sage: plot_loglog(x^2,(x,1,100),base=10,xmax=1.1)\n> > sage: plot_loglog(x^2,(x,1,100),base=10,ymax = 1.1)\n> > ```\n> > In principle, they should both curtail the plot (in different directions, of course).  But only the second one does.\n\n> \n> This is #13368. The xmax when passed on to show works.\n\nHmm, that makes sense.  Yup,\n\n```\nplot_loglog(x^2,(x,1,100),base=10).show(xmax=1.1)\n```\n> The behavior is the same without this patch, except that the second plot fails without this patch and passes with this patch. So this is some other bug.\n\nThanks.\n\nOkay, how about these?\n\n```\np = list_plot(range(1, 10), plotjoined=True)\np.show(scale='loglog')\n```\nOnly one major tick\n\n```\np = list_plot(range(1, 10))\np.show(scale='loglog')\n```\nno horizontal axis at all!",
    "created_at": "2013-06-20T01:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172796",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:11'></a>> > Compare
> > 
> > ```
> > sage: plot_loglog(x^2,(x,1,100),base=10,xmax=1.1)
> > sage: plot_loglog(x^2,(x,1,100),base=10,ymax = 1.1)
> > ```
> > In principle, they should both curtail the plot (in different directions, of course).  But only the second one does.

> 
> This is #13368. The xmax when passed on to show works.

Hmm, that makes sense.  Yup,

```
plot_loglog(x^2,(x,1,100),base=10).show(xmax=1.1)
```
> The behavior is the same without this patch, except that the second plot fails without this patch and passes with this patch. So this is some other bug.

Thanks.

Okay, how about these?

```
p = list_plot(range(1, 10), plotjoined=True)
p.show(scale='loglog')
```
Only one major tick

```
p = list_plot(range(1, 10))
p.show(scale='loglog')
```
no horizontal axis at all!



---

archive/issue_comments_172797.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,19 @@\n+This comes up from an internal(?) email where it was asked that log scale plots should have automatic expansion of the axis if there are not enough ticks. The current behavior is to raise an error.\n \n+The attached patch implements this feature and works as long as the user doesn't provide too few ticks via the \\`ticks\\` option of \\`show()\\`. This patch should work well with the following plots, all of which fail without this patch:\n+\n+\\`\\`\\`\n+sage: plot_loglog(x, (1,10)).show(xmin=10, xmax=1)\n+sage: list_plot_loglog(zip([1, 10], [0.5, 6.0]))\n+sage: list_plot_loglog(zip([2, 3], [3, 4.0]), base=2)\n+sage: list_plot_loglog(zip([2, 10], [0.5, 4.0]))\n+\\`\\`\\`\n+\n+This patch fixes #13340 too.\n+\n+---\n+\n+Apply [attachment:trac_13422-rebase.patch] to \\`devel/sage\\`\n \n Comment: 1\n \n```\n",
    "created_at": "2013-06-20T01:32:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172797",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,19 @@
+This comes up from an internal(?) email where it was asked that log scale plots should have automatic expansion of the axis if there are not enough ticks. The current behavior is to raise an error.
 
+The attached patch implements this feature and works as long as the user doesn't provide too few ticks via the \`ticks\` option of \`show()\`. This patch should work well with the following plots, all of which fail without this patch:
+
+\`\`\`
+sage: plot_loglog(x, (1,10)).show(xmin=10, xmax=1)
+sage: list_plot_loglog(zip([1, 10], [0.5, 6.0]))
+sage: list_plot_loglog(zip([2, 3], [3, 4.0]), base=2)
+sage: list_plot_loglog(zip([2, 10], [0.5, 4.0]))
+\`\`\`
+
+This patch fixes #13340 too.
+
+---
+
+Apply [attachment:trac_13422-rebase.patch] to \`devel/sage\`
 
 Comment: 1
 
```




---

archive/issue_comments_172798.json:
```json
{
    "body": "<a id='comment:12'></a>Attachment [trac_13422-rebase.patch](tarball://root/attachments/some-uuid/ticket13422/trac_13422-rebase.patch) by @kcrisman created at 2013-06-20 01:32:06\n\nThat said, I've still rebased, since I'm probably wrong and this is a different preexisting bug :)\n\napply trac_13422-rebase.patch",
    "created_at": "2013-06-20T01:32:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172798",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>Attachment [trac_13422-rebase.patch](tarball://root/attachments/some-uuid/ticket13422/trac_13422-rebase.patch) by @kcrisman created at 2013-06-20 01:32:06

That said, I've still rebased, since I'm probably wrong and this is a different preexisting bug :)

apply trac_13422-rebase.patch



---

archive/issue_comments_172799.json:
```json
{
    "body": "<a id='comment:13'></a>I am surprised these apply against 5.11. I thought they will fail. Although, I don't have 5.11 to verify.",
    "created_at": "2013-06-20T01:51:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172799",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:13'></a>I am surprised these apply against 5.11. I thought they will fail. Although, I don't have 5.11 to verify.



---

archive/issue_comments_172800.json:
```json
{
    "body": "<a id='comment:14'></a>> I am surprised these apply against 5.11. I thought they will fail. Although, I don't have 5.11 to verify.\n\nNope, just a little whitespace that no longer needed to be removed.  I think there hasn't been a lot of graphics activity lately?",
    "created_at": "2013-06-20T01:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172800",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'></a>> I am surprised these apply against 5.11. I thought they will fail. Although, I don't have 5.11 to verify.

Nope, just a little whitespace that no longer needed to be removed.  I think there hasn't been a lot of graphics activity lately?



---

archive/issue_comments_172801.json:
```json
{
    "body": "<a id='comment:15'></a>No, there hasn't been a lot of graphics activity. But I think it won't apply against #14664.",
    "created_at": "2013-06-20T01:58:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172801",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:15'></a>No, there hasn't been a lot of graphics activity. But I think it won't apply against #14664.



---

archive/issue_comments_172802.json:
```json
{
    "body": "<a id='comment:16'></a>> No, there hasn't been a lot of graphics activity. But I think it won't apply against #14664.\n\nBut it did!  In fact, that is where the whitespace thing happened, but everything else was fine.\n\nAny thoughts on these two strange plots?",
    "created_at": "2013-06-20T02:02:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172802",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'></a>> No, there hasn't been a lot of graphics activity. But I think it won't apply against #14664.

But it did!  In fact, that is where the whitespace thing happened, but everything else was fine.

Any thoughts on these two strange plots?



---

archive/issue_comments_172803.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:16 kcrisman]:\n> Any thoughts on these two strange plots?\nHmm.. I don't know what is going on in those plots. I will need some time to investigate.",
    "created_at": "2013-06-20T02:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172803",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:17'></a>Replying to [comment:16 kcrisman]:
> Any thoughts on these two strange plots?
Hmm.. I don't know what is going on in those plots. I will need some time to investigate.



---

archive/issue_comments_172804.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:17 ppurka]:\n> Replying to [comment:16 kcrisman]:\n> > Any thoughts on these two strange plots?\n\n> Hmm.. I don't know what is going on in those plots. I will need some time to investigate.\nHaha! Those two plots are a classic but crafty examples of GIGO! `list_plot(range(1,10),...)` implicitly implies that we are plotting `list_plot(zip(range(0, 9), range(1, 10)),...)`. And, as we already have warnings in the documentation - it is not advised to have nonpositive numbers in the log scale.\n\nChange the plots ever so slightly to the following and everything is fine and dandy\n\n```\nsage: rrr = range(1, 10)\nsage: list_plot(zip(rrr,rrr), plotjoined=False, scale='loglog', size=20)\nsage: list_plot(zip(rrr,rrr), plotjoined=True, scale='loglog')\n```",
    "created_at": "2013-07-25T10:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172804",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:18'></a>Replying to [comment:17 ppurka]:
> Replying to [comment:16 kcrisman]:
> > Any thoughts on these two strange plots?

> Hmm.. I don't know what is going on in those plots. I will need some time to investigate.
Haha! Those two plots are a classic but crafty examples of GIGO! `list_plot(range(1,10),...)` implicitly implies that we are plotting `list_plot(zip(range(0, 9), range(1, 10)),...)`. And, as we already have warnings in the documentation - it is not advised to have nonpositive numbers in the log scale.

Change the plots ever so slightly to the following and everything is fine and dandy

```
sage: rrr = range(1, 10)
sage: list_plot(zip(rrr,rrr), plotjoined=False, scale='loglog', size=20)
sage: list_plot(zip(rrr,rrr), plotjoined=True, scale='loglog')
```



---

archive/issue_comments_172805.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-07-25T10:23:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172805",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_172806.json:
```json
{
    "body": "<a id='comment:19'></a>Setting it back to needs review.",
    "created_at": "2013-07-25T10:23:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172806",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:19'></a>Setting it back to needs review.



---

archive/issue_events_037258.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13422#event-37258"
}
```



---

archive/issue_comments_172807.json:
```json
{
    "body": "<a id='comment:22'></a>Added a git version of the patch. This is based on 6.1.beta5.",
    "created_at": "2014-01-19T14:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172807",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:22'></a>Added a git version of the patch. This is based on 6.1.beta5.



---

archive/issue_events_037259.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13422#event-37259"
}
```



---

archive/issue_events_037260.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13422#event-37260"
}
```



---

archive/issue_comments_172808.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-03T11:18:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172808",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_037261.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13422#event-37261"
}
```



---

archive/issue_events_037262.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13422#event-37262"
}
```



---

archive/issue_comments_172809.json:
```json
{
    "body": "<a id='comment:26'></a>The auto-expand is wonderful, but I don't think we should try to second-guess the user if he specifies the ticks manually. It's inconsistent with the rest of plotting, and annoying to be honest. It also doesn't in any way prevent me from creating a misleading plot.\n\nI'm posting a patch on top of ppurka's that does two things:\n\n* Removes the error when ticks are specified manually\n* Factors get_vmin_vmax out into a separate method. It \"fits\" better where it was, but by making it a separate method, we can take advantage of the documentation/testing stuff that's already in place. I added a docstring and a few examples to show how it works.\n \n---\nNew commits:",
    "created_at": "2014-06-02T13:44:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172809",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:26'></a>The auto-expand is wonderful, but I don't think we should try to second-guess the user if he specifies the ticks manually. It's inconsistent with the rest of plotting, and annoying to be honest. It also doesn't in any way prevent me from creating a misleading plot.

I'm posting a patch on top of ppurka's that does two things:

* Removes the error when ticks are specified manually
* Factors get_vmin_vmax out into a separate method. It "fits" better where it was, but by making it a separate method, we can take advantage of the documentation/testing stuff that's already in place. I added a docstring and a few examples to show how it works.
 
---
New commits:



---

archive/issue_comments_172810.json:
```json
{
    "body": "<a id='comment:27'></a>`@`mjo: I think we should give at least a warning if we don't give an error on too few ticks. Thanks for the other changes. I am OK with them.",
    "created_at": "2014-06-03T06:54:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172810",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:27'></a>`@`mjo: I think we should give at least a warning if we don't give an error on too few ticks. Thanks for the other changes. I am OK with them.



---

archive/issue_comments_172811.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-03T18:06:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172811",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_172812.json:
```json
{
    "body": "<a id='comment:29'></a>Alright, warning it is. I just pushed another commit to my branch.",
    "created_at": "2014-06-03T18:08:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172812",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:29'></a>Alright, warning it is. I just pushed another commit to my branch.



---

archive/issue_comments_172813.json:
```json
{
    "body": "<a id='comment:30'></a>Hey guys, sorry I haven't been able to do much on this (and many other tickets) lately - this sounds like a good compromise, especially since warnings typically should only print once.",
    "created_at": "2014-06-03T18:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172813",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:30'></a>Hey guys, sorry I haven't been able to do much on this (and many other tickets) lately - this sounds like a good compromise, especially since warnings typically should only print once.



---

archive/issue_comments_172814.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-04T08:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172814",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_172815.json:
```json
{
    "body": "<a id='comment:31'></a>I am ok with your new changes. With `@`kcrisman's blessings, we can safely put this ticket to positive review `<sup>_</sup>`\n\n`@`mjo: A request - since you are digging around in the plot code. If you get the time, please have a look at #13246. I will hopefully be able to update it quite soon with rebased patches.",
    "created_at": "2014-06-04T08:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172815",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:31'></a>I am ok with your new changes. With `@`kcrisman's blessings, we can safely put this ticket to positive review `<sup>_</sup>`

`@`mjo: A request - since you are digging around in the plot code. If you get the time, please have a look at #13246. I will hopefully be able to update it quite soon with rebased patches.



---

archive/issue_comments_172816.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-06-04T14:48:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13422#issuecomment-172816",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_037263.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-04T14:48:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13422",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13422#event-37263"
}
```
