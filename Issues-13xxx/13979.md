# Issue 13979: Make CartesianProduct_iter a proper Parent

archive/issues_013775.json:
```json
{
    "assignees": [],
    "body": "In Sage 5.7.beta4 the class `CartesianProduct_iter` is still a `CombinatorialClass`.\n\nPrevious ticket description:\n\n---\nFurthermore, the cartesian product can't handle infinite sets as factors. As a consequence the following is currently broken:\n\n```python\nsage: M=CombinatorialFreeModule(GF(3),Integers())\nsage: N=tensor((M,))\nsage: cartesian_product((N,N))\nTraceback (most recent call last):\n...\nTypeError: len() of unsized object\n```\n\nThe attached patch \n* derives `CartesianProduct_iter` from `EnumeratedSetFromIterator` instead\n* adds doctests to verify that the TestSuites work\n* makes sure that infinite factors are properly handled\n\n=========\n\n16 months later the test passes - must have been fixed by some other ticket\n\nAssignee: **@sagetrac-sage-combinat**\n\nCC:  @videlec @tscrim\n\nBranch/Commit: **[dd38671](https://github.com/sagemath/sagetrac-mirror/commit/dd386711b472cb5ac2250c5bce8d1492aae6a8c3)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Christian Nassau, Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13979_\n\n",
    "closed_at": "2018-01-15T22:29:40Z",
    "created_at": "2013-01-21T20:12:09Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make CartesianProduct_iter a proper Parent",
    "type": "issue",
    "updated_at": "2018-01-15T22:29:40Z",
    "url": "https://github.com/sagemath/sage/issues/13979",
    "user": "https://github.com/cnassau"
}
```
In Sage 5.7.beta4 the class `CartesianProduct_iter` is still a `CombinatorialClass`.

Previous ticket description:

---
Furthermore, the cartesian product can't handle infinite sets as factors. As a consequence the following is currently broken:

```python
sage: M=CombinatorialFreeModule(GF(3),Integers())
sage: N=tensor((M,))
sage: cartesian_product((N,N))
Traceback (most recent call last):
...
TypeError: len() of unsized object
```

The attached patch 
* derives `CartesianProduct_iter` from `EnumeratedSetFromIterator` instead
* adds doctests to verify that the TestSuites work
* makes sure that infinite factors are properly handled

=========

16 months later the test passes - must have been fixed by some other ticket

Assignee: **@sagetrac-sage-combinat**

CC:  @videlec @tscrim

Branch/Commit: **[dd38671](https://github.com/sagemath/sagetrac-mirror/commit/dd386711b472cb5ac2250c5bce8d1492aae6a8c3)**

Reviewer: **Travis Scrimshaw**

Author: **Christian Nassau, Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/13979_





---

archive/issue_events_180053.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-01-21T20:12:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180053"
}
```



---

archive/issue_events_180054.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-01-21T20:12:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180054"
}
```



---

archive/issue_events_180055.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-01-21T20:12:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180055"
}
```



---

archive/issue_events_180056.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-01-21T20:12:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180056"
}
```



---

archive/issue_events_180057.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-01-21T20:33:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180057"
}
```



---

archive/issue_comments_167856.json:
```json
{
    "body": "Author: **Christian Nassau**",
    "created_at": "2013-01-21T20:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167856",
    "user": "https://github.com/cnassau"
}
```

Author: **Christian Nassau**



---

archive/issue_comments_167857.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,4 +10,4 @@\n TypeError: len() of unsized object\n ```\n \n-The attach patch fixes this.\n+The attached patch fixes this.\n``````\n",
    "created_at": "2013-01-21T20:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167857",
    "user": "https://github.com/cnassau"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,4 +10,4 @@
 TypeError: len() of unsized object
 ```
 
-The attach patch fixes this.
+The attached patch fixes this.
``````




---

archive/issue_comments_167858.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,9 @@\n-The following breaks:\n+The following is currently broken:\n \n ```python\n-M=CombinatorialFreeModule(GF(3),Integers())\n-N=tensor((M,))\n-print N\n-cartesian_product((N,N))\n+sage: M=CombinatorialFreeModule(GF(3),Integers())\n+sage: N=tensor((M,))\n+sage: cartesian_product((N,N))\n Traceback (most recent call last):\n ...\n TypeError: len() of unsized object\n``````\n",
    "created_at": "2013-01-22T08:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167858",
    "user": "https://github.com/cnassau"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,9 @@
-The following breaks:
+The following is currently broken:
 
 ```python
-M=CombinatorialFreeModule(GF(3),Integers())
-N=tensor((M,))
-print N
-cartesian_product((N,N))
+sage: M=CombinatorialFreeModule(GF(3),Integers())
+sage: N=tensor((M,))
+sage: cartesian_product((N,N))
 Traceback (most recent call last):
 ...
 TypeError: len() of unsized object
``````




---

archive/issue_events_180058.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-02-11T09:45:14Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "title_is": "Make CartesianProduct_iter a proper Parent",
    "title_was": "CartesianProduct.cardinality can't handle infinite sets",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180058"
}
```



---

archive/issue_comments_167859.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-The following is currently broken:\n+In Sage 5.7.beta4 the class `CartesianProduct_iter` is still a `CombinatorialClass`. Furthermore, the cartesian product can't handle infinite sets as factors. As a consequence the following is currently broken:\n \n ```python\n sage: M=CombinatorialFreeModule(GF(3),Integers())\n@@ -9,4 +9,7 @@\n TypeError: len() of unsized object\n ```\n \n-The attached patch fixes this.\n+The attached patch \n+* derives `CartesianProduct_iter` from `EnumeratedSetFromIterator` instead\n+* adds doctests to verify that the TestSuites work\n+* makes sure that infinite factors are properly handled\n``````\n",
    "created_at": "2013-02-11T09:45:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167859",
    "user": "https://github.com/cnassau"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-The following is currently broken:
+In Sage 5.7.beta4 the class `CartesianProduct_iter` is still a `CombinatorialClass`. Furthermore, the cartesian product can't handle infinite sets as factors. As a consequence the following is currently broken:
 
 ```python
 sage: M=CombinatorialFreeModule(GF(3),Integers())
@@ -9,4 +9,7 @@
 TypeError: len() of unsized object
 ```
 
-The attached patch fixes this.
+The attached patch 
+* derives `CartesianProduct_iter` from `EnumeratedSetFromIterator` instead
+* adds doctests to verify that the TestSuites work
+* makes sure that infinite factors are properly handled
``````




---

archive/issue_events_180059.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-02-11T09:51:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180059"
}
```



---

archive/issue_events_180060.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-02-11T09:51:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180060"
}
```



---

archive/issue_events_180061.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-02-11T11:00:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180061"
}
```



---

archive/issue_events_180062.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-02-11T11:00:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180062"
}
```



---

archive/issue_comments_167860.json:
```json
{
    "body": "Attachment: **[cna13979.patch.gz](https://github.com/sagemath/sage/files/ticket13979/cna13979.patch.gz)**",
    "created_at": "2013-02-11T19:22:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167860",
    "user": "https://github.com/cnassau"
}
```

Attachment: **[cna13979.patch.gz](https://github.com/sagemath/sage/files/ticket13979/cna13979.patch.gz)**



---

archive/issue_events_180063.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180063"
}
```



---

archive/issue_events_180064.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180064"
}
```



---

archive/issue_events_180065.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180065"
}
```



---

archive/issue_events_180066.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180066"
}
```



---

archive/issue_events_180067.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180067"
}
```



---

archive/issue_events_180068.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180068"
}
```



---

archive/issue_events_180069.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-13T08:09:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180069"
}
```



---

archive/issue_events_180070.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-13T08:09:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180070"
}
```



---

archive/issue_comments_167861.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nPatch does not merge.",
    "created_at": "2014-05-13T08:09:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167861",
    "user": "https://github.com/rwst"
}
```

<div id="comment:10" align="right">Comment 10</div>

Patch does not merge.



---

archive/issue_events_180071.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2014-05-13T11:10:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180071"
}
```



---

archive/issue_events_180072.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2014-05-13T11:10:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180072"
}
```



---

archive/issue_events_180073.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2014-05-13T11:10:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180073"
}
```



---

archive/issue_comments_167862.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,3 +13,7 @@\n * derives `CartesianProduct_iter` from `EnumeratedSetFromIterator` instead\n * adds doctests to verify that the TestSuites work\n * makes sure that infinite factors are properly handled\n+\n+=========\n+\n+16 months later the test passes - must have been fixed by some other ticket\n``````\n",
    "created_at": "2014-05-13T11:10:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167862",
    "user": "https://github.com/cnassau"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,3 +13,7 @@
 * derives `CartesianProduct_iter` from `EnumeratedSetFromIterator` instead
 * adds doctests to verify that the TestSuites work
 * makes sure that infinite factors are properly handled
+
+=========
+
+16 months later the test passes - must have been fixed by some other ticket
``````




---

archive/issue_comments_167863.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nStill, your patch contains the categorification of `class CartesianProduct_iters` and doctests, which would be valuable to have in Sage. Thus, I modified the description accordingly. As to wontfix, you're not required to follow the ticket, others may want to take over. Unfortunately there's no way to unsubscribe from the mailing, as far as I know.",
    "created_at": "2014-05-13T13:27:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167863",
    "user": "https://github.com/rwst"
}
```

<div id="comment:12" align="right">Comment 12</div>

Still, your patch contains the categorification of `class CartesianProduct_iters` and doctests, which would be valuable to have in Sage. Thus, I modified the description accordingly. As to wontfix, you're not required to follow the ticket, others may want to take over. Unfortunately there's no way to unsubscribe from the mailing, as far as I know.



---

archive/issue_events_180074.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-13T13:27:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180074"
}
```



---

archive/issue_comments_167864.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n-In Sage 5.7.beta4 the class `CartesianProduct_iter` is still a `CombinatorialClass`. Furthermore, the cartesian product can't handle infinite sets as factors. As a consequence the following is currently broken:\n+In Sage 5.7.beta4 the class `CartesianProduct_iter` is still a `CombinatorialClass`.\n+\n+Previous ticket description:\n+\n+---\n+Furthermore, the cartesian product can't handle infinite sets as factors. As a consequence the following is currently broken:\n \n ```python\n sage: M=CombinatorialFreeModule(GF(3),Integers())\n``````\n",
    "created_at": "2014-05-13T13:27:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167864",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,9 @@
-In Sage 5.7.beta4 the class `CartesianProduct_iter` is still a `CombinatorialClass`. Furthermore, the cartesian product can't handle infinite sets as factors. As a consequence the following is currently broken:
+In Sage 5.7.beta4 the class `CartesianProduct_iter` is still a `CombinatorialClass`.
+
+Previous ticket description:
+
+---
+Furthermore, the cartesian product can't handle infinite sets as factors. As a consequence the following is currently broken:
 
 ```python
 sage: M=CombinatorialFreeModule(GF(3),Integers())
``````




---

archive/issue_events_180075.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180075"
}
```



---

archive/issue_events_180076.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180076"
}
```



---

archive/issue_comments_167865.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nHere is a minimal fix\n\nbut CartesianProduct was deprecated in #18411 and should rather be fully removed\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88c38d9ebbaa39441795d648dcdef78c86c90c68\">88c38d9</a></td><td><code>trac 13979 changes in CartesianProduct</code></td></tr></table>\n",
    "created_at": "2018-01-07T20:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167865",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">Comment 14</div>

Here is a minimal fix

but CartesianProduct was deprecated in #18411 and should rather be fully removed

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88c38d9ebbaa39441795d648dcdef78c86c90c68">88c38d9</a></td><td><code>trac 13979 changes in CartesianProduct</code></td></tr></table>




---

archive/issue_comments_167866.json:
```json
{
    "body": "Commit: **[88c38d9](https://github.com/sagemath/sagetrac-mirror/commit/88c38d9ebbaa39441795d648dcdef78c86c90c68)**",
    "created_at": "2018-01-07T20:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167866",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[88c38d9](https://github.com/sagemath/sagetrac-mirror/commit/88c38d9ebbaa39441795d648dcdef78c86c90c68)**



---

archive/issue_comments_167867.json:
```json
{
    "body": "Branch: **[u/chapoton/13979](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13979)**",
    "created_at": "2018-01-07T20:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167867",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/13979](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13979)**



---

archive/issue_events_180077.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-07T20:38:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180077"
}
```



---

archive/issue_events_180078.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-07T20:38:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180078"
}
```



---

archive/issue_events_180079.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-07T20:39:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180079"
}
```



---

archive/issue_events_180080.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-07T20:39:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180080"
}
```



---

archive/issue_comments_167868.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nReplying to [@fchapoton](#comment%3A14):\n> but CartesianProduct was deprecated in #18411 and should rather be fully removed\n\nThere is a nontrivial use of `CartesianProduct_iters` in `CombinatorialFreeModule_Tensor` (which in turn, calls `MapCombinatorialClass`), so we cannot remove it outright currently.",
    "created_at": "2018-01-07T21:11:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167868",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:17" align="right">Comment 17</div>

Replying to [@fchapoton](#comment%3A14):
> but CartesianProduct was deprecated in #18411 and should rather be fully removed

There is a nontrivial use of `CartesianProduct_iters` in `CombinatorialFreeModule_Tensor` (which in turn, calls `MapCombinatorialClass`), so we cannot remove it outright currently.



---

archive/issue_comments_167869.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nSo, is my branch an useful step after all ?",
    "created_at": "2018-01-09T12:20:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167869",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:18" align="right">Comment 18</div>

So, is my branch an useful step after all ?



---

archive/issue_comments_167870.json:
```json
{
    "body": "Changed author from **Christian Nassau** to **Christian Nassau, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2018-01-09T12:20:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167870",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **Christian Nassau** to **Christian Nassau, Frédéric Chapoton**



---

archive/issue_events_180081.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-09T12:20:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180081"
}
```



---

archive/issue_events_180082.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-09T12:20:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180082"
}
```



---

archive/issue_events_180083.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-09T12:21:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180083"
}
```



---

archive/issue_events_180084.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-09T12:21:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180084"
}
```



---

archive/issue_comments_167871.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nsome failing doctests",
    "created_at": "2018-01-09T12:21:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167871",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">Comment 19</div>

some failing doctests



---

archive/issue_comments_167872.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nReplying to [@fchapoton](#comment%3A18):\n> So, is my branch an useful step after all ?\n\nYes, I think it is.",
    "created_at": "2018-01-09T16:36:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167872",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">Comment 20</div>

Replying to [@fchapoton](#comment%3A18):
> So, is my branch an useful step after all ?

Yes, I think it is.



---

archive/issue_comments_167873.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nSo what should we do with the `from sage.sets.set_from_iterator import EnumeratedSetFromIterator` that add something to the global namespace ?",
    "created_at": "2018-01-09T16:48:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167873",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">Comment 21</div>

So what should we do with the `from sage.sets.set_from_iterator import EnumeratedSetFromIterator` that add something to the global namespace ?



---

archive/issue_comments_167874.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nIt adds it to the global namespace? It just looks like it adds it to the startup, which is a necessary evil here I think.",
    "created_at": "2018-01-09T16:57:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167874",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">Comment 22</div>

It adds it to the global namespace? It just looks like it adds it to the startup, which is a necessary evil here I think.



---

archive/issue_comments_167875.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c41d46d6c8dfc32ed1858db5ea38a3c2529f883\">0c41d46</a></td><td><code>trac 13979 fixing doctests in dev_tools</code></td></tr></table>\n",
    "created_at": "2018-01-09T19:14:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167875",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23" align="right">Comment 23</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c41d46d6c8dfc32ed1858db5ea38a3c2529f883">0c41d46</a></td><td><code>trac 13979 fixing doctests in dev_tools</code></td></tr></table>




---

archive/issue_comments_167876.json:
```json
{
    "body": "Changed commit from **[88c38d9](https://github.com/sagemath/sagetrac-mirror/commit/88c38d9ebbaa39441795d648dcdef78c86c90c68)** to **[0c41d46](https://github.com/sagemath/sagetrac-mirror/commit/0c41d46d6c8dfc32ed1858db5ea38a3c2529f883)**",
    "created_at": "2018-01-09T19:14:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167876",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[88c38d9](https://github.com/sagemath/sagetrac-mirror/commit/88c38d9ebbaa39441795d648dcdef78c86c90c68)** to **[0c41d46](https://github.com/sagemath/sagetrac-mirror/commit/0c41d46d6c8dfc32ed1858db5ea38a3c2529f883)**



---

archive/issue_events_180085.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-09T19:18:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180085"
}
```



---

archive/issue_events_180086.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-09T19:18:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180086"
}
```



---

archive/issue_comments_167877.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nindeed, you are right. I have changed the failing doctest to use another class.",
    "created_at": "2018-01-09T19:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167877",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">Comment 24</div>

indeed, you are right. I have changed the failing doctest to use another class.



---

archive/issue_comments_167878.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nI'm wondering actually if we should change that test to do something that loads multiple modules so it is clear that it does has more side-effects (it looks in a way like it loads the specific module you are after in that test). Although I don't particularly care what we do, but I would like to see what your opinion is.",
    "created_at": "2018-01-09T20:00:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167878",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">Comment 25</div>

I'm wondering actually if we should change that test to do something that loads multiple modules so it is clear that it does has more side-effects (it looks in a way like it loads the specific module you are after in that test). Although I don't particularly care what we do, but I would like to see what your opinion is.



---

archive/issue_comments_167879.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nWhy not. But I have no idea of where to look for a better example...",
    "created_at": "2018-01-11T15:16:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167879",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">Comment 26</div>

Why not. But I have no idea of where to look for a better example...



---

archive/issue_comments_167880.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nSorry it took a little bit. Here is an example using `sage.monoids`.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd386711b472cb5ac2250c5bce8d1492aae6a8c3\">dd38671</a></td><td><code>Changing test in dev_tools.py.</code></td></tr></table>\n",
    "created_at": "2018-01-12T19:33:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167880",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">Comment 27</div>

Sorry it took a little bit. Here is an example using `sage.monoids`.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd386711b472cb5ac2250c5bce8d1492aae6a8c3">dd38671</a></td><td><code>Changing test in dev_tools.py.</code></td></tr></table>




---

archive/issue_comments_167881.json:
```json
{
    "body": "Changed commit from **[0c41d46](https://github.com/sagemath/sagetrac-mirror/commit/0c41d46d6c8dfc32ed1858db5ea38a3c2529f883)** to **[dd38671](https://github.com/sagemath/sagetrac-mirror/commit/dd386711b472cb5ac2250c5bce8d1492aae6a8c3)**",
    "created_at": "2018-01-12T19:33:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167881",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[0c41d46](https://github.com/sagemath/sagetrac-mirror/commit/0c41d46d6c8dfc32ed1858db5ea38a3c2529f883)** to **[dd38671](https://github.com/sagemath/sagetrac-mirror/commit/dd386711b472cb5ac2250c5bce8d1492aae6a8c3)**



---

archive/issue_comments_167882.json:
```json
{
    "body": "Changed branch from **[u/chapoton/13979](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13979)** to **[u/tscrim/13979](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/13979)**",
    "created_at": "2018-01-12T19:33:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167882",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/chapoton/13979](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13979)** to **[u/tscrim/13979](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/13979)**



---

archive/issue_comments_167883.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2018-01-12T19:33:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167883",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_167884.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nok, good to go for me. Travis, please confirm.",
    "created_at": "2018-01-13T19:28:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167884",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:28" align="right">Comment 28</div>

ok, good to go for me. Travis, please confirm.



---

archive/issue_comments_167885.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nYep. Thanks.",
    "created_at": "2018-01-14T00:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167885",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">Comment 29</div>

Yep. Thanks.



---

archive/issue_events_180087.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-01-14T00:55:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180087"
}
```



---

archive/issue_events_180088.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-01-14T00:55:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180088"
}
```



---

archive/issue_comments_167886.json:
```json
{
    "body": "Changed branch from **[u/tscrim/13979](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/13979)** to **[dd38671](https://github.com/sagemath/sagetrac-mirror/commit/dd386711b472cb5ac2250c5bce8d1492aae6a8c3)**",
    "created_at": "2018-01-15T22:29:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13979#issuecomment-167886",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/tscrim/13979](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/13979)** to **[dd38671](https://github.com/sagemath/sagetrac-mirror/commit/dd386711b472cb5ac2250c5bce8d1492aae6a8c3)**



---

archive/issue_events_180089.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-01-15T22:29:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180089"
}
```



---

archive/issue_events_180090.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "81bcd75791bc410606bda68fdc88d888842c3f42",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-01-15T22:29:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13979",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13979#event-180090"
}
```
