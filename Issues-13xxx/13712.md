# Issue 13712: wrong evaluation of infinite sum

archive/issues_013508.json:
```json
{
    "body": "From [this ask.sagemath.org question](http://ask.sagemath.org/question/1985/unexpected-result-for-the-sum-of-a-series):\n\n```\nsage: n = var('n')\nsage: sum(1/((2*n-1)^2*(2*n+1)^2*(2*n+3)^2), n, 0, oo)\n3/256*pi^2 - 1/32\n```\n\nThe correct answer is `3/256*pi^2`.\n\nWe should report this to maxima:\n\n```\n(%i10) load(simplify_sum);\n(%o10) /tmpbig/burcin/sage-5.4/local/share/maxima/5.26.0/share/contrib/solve_r\\\nec/simplify_sum.mac\n(%i11) simplify_sum(sum(1/((2*n-1)^2*(2*n+1)^2*(2*n+3)^2), n, 0, inf));\n\n                                          2\n                                       %pi\n                                   2   ---- - 4\n                                %pi     2\n(%o11)                          ---- + --------\n                                128      128\n```\n\nAssignee: @burcin\n\nKeywords: maxima\n\nBranch/Commit: 6e7166a97e56ed09a205873294aff31655e9a7fc\n\nWork Issues: add doctest\n\nReviewer: Jeroen Demeyer, Karl-Dieter Crisman\n\nAuthor: Travis Scrimshaw\n\nDependencies: #13973\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13712\n\n",
    "closed_at": "2014-05-30T11:35:40Z",
    "created_at": "2012-11-15T11:37:54Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "wrong evaluation of infinite sum",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13712",
    "user": "https://github.com/burcin"
}
```
From [this ask.sagemath.org question](http://ask.sagemath.org/question/1985/unexpected-result-for-the-sum-of-a-series):

```
sage: n = var('n')
sage: sum(1/((2*n-1)^2*(2*n+1)^2*(2*n+3)^2), n, 0, oo)
3/256*pi^2 - 1/32
```

The correct answer is `3/256*pi^2`.

We should report this to maxima:

```
(%i10) load(simplify_sum);
(%o10) /tmpbig/burcin/sage-5.4/local/share/maxima/5.26.0/share/contrib/solve_r\
ec/simplify_sum.mac
(%i11) simplify_sum(sum(1/((2*n-1)^2*(2*n+1)^2*(2*n+3)^2), n, 0, inf));

                                          2
                                       %pi
                                   2   ---- - 4
                                %pi     2
(%o11)                          ---- + --------
                                128      128
```

Assignee: @burcin

Keywords: maxima

Branch/Commit: 6e7166a97e56ed09a205873294aff31655e9a7fc

Work Issues: add doctest

Reviewer: Jeroen Demeyer, Karl-Dieter Crisman

Author: Travis Scrimshaw

Dependencies: #13973

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/13712





---

archive/issue_comments_212839.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Reported upstream. No feedback yet.\"",
    "created_at": "2012-11-15T13:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212839",
    "user": "https://github.com/kcrisman"
}
```

Changing upstream from "N/A" to "Reported upstream. No feedback yet."



---

archive/issue_comments_212840.json:
```json
{
    "body": "<a id='comment:1'></a>\nI can confirm this is true in Maxima 5.28.0 as well.  This is now [Maxima artifact 3587514](https://sourceforge.net/tracker/?func=detail&aid=3587514&group_id=4933&atid=104933).",
    "created_at": "2012-11-15T13:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212840",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'></a>
I can confirm this is true in Maxima 5.28.0 as well.  This is now [Maxima artifact 3587514](https://sourceforge.net/tracker/?func=detail&aid=3587514&group_id=4933&atid=104933).



---

archive/issue_comments_212841.json:
```json
{
    "body": "<a id='comment:2'></a>\nFixed in Maxima 5.30.0: #13973.",
    "created_at": "2013-06-13T09:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212841",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
Fixed in Maxima 5.30.0: #13973.



---

archive/issue_comments_212842.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-06-13T09:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212842",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_212843.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2013-06-13T09:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212843",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_212844.json:
```json
{
    "body": "Changing upstream from \"Reported upstream. No feedback yet.\" to \"Fixed upstream, in a later stable release.\"",
    "created_at": "2013-06-13T09:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212844",
    "user": "https://github.com/jdemeyer"
}
```

Changing upstream from "Reported upstream. No feedback yet." to "Fixed upstream, in a later stable release."



---

archive/issue_comments_212845.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-06-13T09:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212845",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_044528.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-13T10:11:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13712#event-44528"
}
```



---

archive/issue_comments_212846.json:
```json
{
    "body": "<a id='comment:5'></a>\nShould add doctest.",
    "created_at": "2013-06-13T10:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212846",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Should add doctest.



---

archive/issue_comments_212847.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-06-13T10:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212847",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_events_044529.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13712#event-44529"
}
```



---

archive/issue_events_044530.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13712#event-44530"
}
```



---

archive/issue_events_044531.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13712#event-44531"
}
```



---

archive/issue_events_044532.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13712#event-44532"
}
```



---

archive/issue_events_044533.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13712#event-44533"
}
```



---

archive/issue_events_044534.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13712#event-44534"
}
```



---

archive/issue_comments_212848.json:
```json
{
    "body": "Changing upstream from \"Fixed upstream, in a later stable release.\" to \"N/A\"",
    "created_at": "2014-05-20T22:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212848",
    "user": "https://github.com/pjbruin"
}
```

Changing upstream from "Fixed upstream, in a later stable release." to "N/A"



---

archive/issue_comments_212849.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#13973\"",
    "created_at": "2014-05-20T22:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212849",
    "user": "https://github.com/pjbruin"
}
```

Changing dependencies from "" to "#13973"



---

archive/issue_comments_212850.json:
```json
{
    "body": "Changing work_issues from \"\" to \"add doctest\"",
    "created_at": "2014-05-20T22:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212850",
    "user": "https://github.com/pjbruin"
}
```

Changing work_issues from "" to "add doctest"



---

archive/issue_comments_212851.json:
```json
{
    "body": "<a id='comment:9'></a>\nAfter #13973:\n\n```\nsage: n = var('n')\nsage: sum(1/((2*n-1)^2*(2*n+1)^2*(2*n+3)^2), n, 0, oo)\n3/256*pi^2\n```",
    "created_at": "2014-05-20T22:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212851",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:9'></a>
After #13973:

```
sage: n = var('n')
sage: sum(1/((2*n-1)^2*(2*n+1)^2*(2*n+3)^2), n, 0, oo)
3/256*pi^2
```



---

archive/issue_comments_212852.json:
```json
{
    "body": "Changing author from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2014-05-29T06:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212852",
    "user": "https://github.com/tscrim"
}
```

Changing author from "" to "Travis Scrimshaw"



---

archive/issue_comments_212853.json:
```json
{
    "body": "<a id='comment:10'></a>\nDone (at least in someplace where I think it's natural...)\n\n---\nNew commits:\n|                                                                                                                                          |                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[6e7166a](https://github.com/sagemath/sagetrac-mirror/commit/6e7166a97e56ed09a205873294aff31655e9a7fc)|`Added doctest for ticket.`|",
    "created_at": "2014-05-29T06:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212853",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
Done (at least in someplace where I think it's natural...)

---
New commits:
|                                                                                                                                          |                           |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[6e7166a](https://github.com/sagemath/sagetrac-mirror/commit/6e7166a97e56ed09a205873294aff31655e9a7fc)|`Added doctest for ticket.`|



---

archive/issue_comments_212854.json:
```json
{
    "body": "Changing commit from \"\" to \"6e7166a97e56ed09a205873294aff31655e9a7fc\"",
    "created_at": "2014-05-29T06:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212854",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "" to "6e7166a97e56ed09a205873294aff31655e9a7fc"



---

archive/issue_comments_212855.json:
```json
{
    "body": "Changing branch from \"\" to \"public/ticket/inf_sum_doctest-13712\"",
    "created_at": "2014-05-29T06:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212855",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "" to "public/ticket/inf_sum_doctest-13712"



---

archive/issue_comments_212856.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-29T06:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212856",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_212857.json:
```json
{
    "body": "<a id='comment:11'></a>\nThis is not a useful commit, unfortunately, because this depends on #13973 which isn't in 6.3.beta2, as far as I can tell.  I just wasted a lot of time discovering this, and I don't have enough git prowess to figure out how to \"merge\" this into that ticket's tree.",
    "created_at": "2014-05-29T15:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212857",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:11'></a>
This is not a useful commit, unfortunately, because this depends on #13973 which isn't in 6.3.beta2, as far as I can tell.  I just wasted a lot of time discovering this, and I don't have enough git prowess to figure out how to "merge" this into that ticket's tree.



---

archive/issue_comments_212858.json:
```json
{
    "body": "<a id='comment:12'></a>\n`git merge trac u/pbruin/13973-maxima_update` or whatever your remote for trac is (the other likely one is `origin`).",
    "created_at": "2014-05-29T16:14:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212858",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
`git merge trac u/pbruin/13973-maxima_update` or whatever your remote for trac is (the other likely one is `origin`).



---

archive/issue_comments_212859.json:
```json
{
    "body": "<a id='comment:13'></a>\n> `git merge trac u/pbruin/13973-maxima_update` or whatever your remote for trac is (the other likely one is `origin`).\n\nApparently my remote is indeed `trac` but this command doesn't work, nor do I have any idea what the branch is since that ticket seems to have a branch called \"a130eed\".\n\nOkay, the following sequence worked:\n\n```\n$ git fetch trac refs/heads/u/pbruin/13973-maxima_update:refs/remotes/trac/u/pbruin/13973-maxima_update\n$ git merge trac/u/pbruin/13973-maxima_update\n```\nThis is so frustrating compared to the old system.",
    "created_at": "2014-05-29T16:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212859",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:13'></a>
> `git merge trac u/pbruin/13973-maxima_update` or whatever your remote for trac is (the other likely one is `origin`).

Apparently my remote is indeed `trac` but this command doesn't work, nor do I have any idea what the branch is since that ticket seems to have a branch called "a130eed".

Okay, the following sequence worked:

```
$ git fetch trac refs/heads/u/pbruin/13973-maxima_update:refs/remotes/trac/u/pbruin/13973-maxima_update
$ git merge trac/u/pbruin/13973-maxima_update
```
This is so frustrating compared to the old system.



---

archive/issue_comments_212860.json:
```json
{
    "body": "<a id='comment:14'></a>\nAck sorry, I meant `git pull trac u/pbruin/13973-maxima_update` (which, in effect, combines those two) (also in case you are unaware, you can also delete the temp branch by `git branch -D name/of/branch`).",
    "created_at": "2014-05-29T16:54:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212860",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>
Ack sorry, I meant `git pull trac u/pbruin/13973-maxima_update` (which, in effect, combines those two) (also in case you are unaware, you can also delete the temp branch by `git branch -D name/of/branch`).



---

archive/issue_comments_212861.json:
```json
{
    "body": "<a id='comment:15'></a>\nOkay, **finally** I got it all working and positive review!",
    "created_at": "2014-05-29T17:17:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212861",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'></a>
Okay, **finally** I got it all working and positive review!



---

archive/issue_comments_212862.json:
```json
{
    "body": "Changing reviewer from \"Jeroen Demeyer\" to \"Jeroen Demeyer, Karl-Dieter Crisman\"",
    "created_at": "2014-05-29T17:17:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212862",
    "user": "https://github.com/kcrisman"
}
```

Changing reviewer from "Jeroen Demeyer" to "Jeroen Demeyer, Karl-Dieter Crisman"



---

archive/issue_comments_212863.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-29T17:17:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212863",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_212864.json:
```json
{
    "body": "<a id='comment:16'></a>\nThanks. Sorry about mixing my git commands up!",
    "created_at": "2014-05-29T17:42:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212864",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
Thanks. Sorry about mixing my git commands up!



---

archive/issue_events_044535.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-30T11:35:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13712#event-44535"
}
```



---

archive/issue_comments_212865.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-30T11:35:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212865",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_212866.json:
```json
{
    "body": "Changing branch from \"public/ticket/inf_sum_doctest-13712\" to \"6e7166a97e56ed09a205873294aff31655e9a7fc\"",
    "created_at": "2014-05-30T11:35:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13712#issuecomment-212866",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/ticket/inf_sum_doctest-13712" to "6e7166a97e56ed09a205873294aff31655e9a7fc"
