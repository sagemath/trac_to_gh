# Issue 13767: upgrade boost to version 1.52.0

archive/issues_013563.json:
```json
{
    "assignees": [],
    "body": "There was a discussion on sage-devel a while ago about including the Boost headers [1]. As noted there, the latest version of the optional spkg `polymake` doesn't compile with the current boost package. The current boost package is called `boost-cropped` because it contains only a subset of the boost headers, because of package size.\n\nThis new package is contains *all* headers, which is still only a subset of the upstream tarball. The total packaged size is ~ 5M, which feels reasonable to me.\n\nI've checked that the current version `polybori-0.8.2` and the current upstream version `polymake-2.12-rc3` both compile under Sage with these headers. I'm also submitting an spkg for polymake in another ticket.\n\n[1] https://groups.google.com/d/topic/sage-devel/fcxNrQqVSz0/discussion\n\n* Apply [attachment: trac-13767-sage_root-upgrade-to-boost-1.52.0.patch](https://github.com/sagemath/sage/files/ticket13767/trac-13767-sage_root-upgrade-to-boost-1.52.0.patch.gz) to the root repo.\n* Replace boost-cropped spkg with http://www.infty.nl/misc/boost_cropped-1.52.0.spkg\n* Apply [attachment: 0001-Update-doctests-for-polybori-that-rely-on-randomness.patch](https://github.com/sagemath/sage/files/ticket13767/0001-Update-doctests-for-polybori-that-rely-on-randomness.patch.gz) to the sage-main repo.\n\nCC:  @jpflori\n\nReviewer: **Volker Braun, Fran\u00e7ois Bissey, Alexander Dreyer**\n\nAuthor: **Timo Kluck**\n\nMerged: **sage-5.8.beta3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13767_\n\n",
    "closed_at": "2013-03-05T11:00:12Z",
    "created_at": "2012-11-28T02:00:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "upgrade boost to version 1.52.0",
    "type": "issue",
    "updated_at": "2013-03-05T11:00:12Z",
    "url": "https://github.com/sagemath/sage/issues/13767",
    "user": "https://github.com/tkluck"
}
```
There was a discussion on sage-devel a while ago about including the Boost headers [1]. As noted there, the latest version of the optional spkg `polymake` doesn't compile with the current boost package. The current boost package is called `boost-cropped` because it contains only a subset of the boost headers, because of package size.

This new package is contains *all* headers, which is still only a subset of the upstream tarball. The total packaged size is ~ 5M, which feels reasonable to me.

I've checked that the current version `polybori-0.8.2` and the current upstream version `polymake-2.12-rc3` both compile under Sage with these headers. I'm also submitting an spkg for polymake in another ticket.

[1] https://groups.google.com/d/topic/sage-devel/fcxNrQqVSz0/discussion

* Apply [attachment: trac-13767-sage_root-upgrade-to-boost-1.52.0.patch](https://github.com/sagemath/sage/files/ticket13767/trac-13767-sage_root-upgrade-to-boost-1.52.0.patch.gz) to the root repo.
* Replace boost-cropped spkg with http://www.infty.nl/misc/boost_cropped-1.52.0.spkg
* Apply [attachment: 0001-Update-doctests-for-polybori-that-rely-on-randomness.patch](https://github.com/sagemath/sage/files/ticket13767/0001-Update-doctests-for-polybori-that-rely-on-randomness.patch.gz) to the sage-main repo.

CC:  @jpflori

Reviewer: **Volker Braun, François Bissey, Alexander Dreyer**

Author: **Timo Kluck**

Merged: **sage-5.8.beta3**

_Issue created by migration from https://trac.sagemath.org/ticket/13767_





---

archive/issue_events_177037.json:
```json
{
    "actor": "https://github.com/tkluck",
    "created_at": "2012-11-28T02:00:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "milestone_number": null,
    "milestone_title": "sage-5.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177037"
}
```



---

archive/issue_events_177038.json:
```json
{
    "actor": "https://github.com/tkluck",
    "created_at": "2012-11-28T02:00:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177038"
}
```



---

archive/issue_events_177039.json:
```json
{
    "actor": "https://github.com/tkluck",
    "created_at": "2012-11-28T02:00:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177039"
}
```



---

archive/issue_events_177040.json:
```json
{
    "actor": "https://github.com/tkluck",
    "created_at": "2012-11-28T02:00:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177040"
}
```



---

archive/issue_comments_164475.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nBecause of the file size limit on trac attachment, I've put it here:\n\nhttp://www.infty.nl/misc/boost-cropped-1.52.0.spkg",
    "created_at": "2012-11-28T02:05:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164475",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:1" align="right">Comment 1</div>

Because of the file size limit on trac attachment, I've put it here:

http://www.infty.nl/misc/boost-cropped-1.52.0.spkg



---

archive/issue_events_177041.json:
```json
{
    "actor": "https://github.com/tkluck",
    "created_at": "2012-11-28T02:05:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177041"
}
```



---

archive/issue_comments_164476.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThe deleted patch is still in the repo:\n\n```\n[vbraun@laptop boost-cropped-1.52.0]$ hg st\n! patches/boost-1.34.1-gcc-4.4.0-fixes.patch\n```\nAlso, I take it the following in SPKG.txt is no longer true?\n\n```\nMerged against policy a patch that makes boost build with gcc 4.4.0. Will be obsoleted by an updated boost shortly.\n```",
    "created_at": "2013-02-24T03:57:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164476",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:3" align="right">Comment 3</div>

The deleted patch is still in the repo:

```
[vbraun@laptop boost-cropped-1.52.0]$ hg st
! patches/boost-1.34.1-gcc-4.4.0-fixes.patch
```
Also, I take it the following in SPKG.txt is no longer true?

```
Merged against policy a patch that makes boost build with gcc 4.4.0. Will be obsoleted by an updated boost shortly.
```



---

archive/issue_comments_164477.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nThanks for reviewing. I've removed that line from SKPG.txt, and committed my changes into the hg repo. I also renamed the package to boost_cropped (underscore instead of dash) to conform to the name-version scheme.\n\nThe current version is here:\n\nhttp://www.infty.nl/misc/boost_cropped-1.52.0.spkg",
    "created_at": "2013-02-25T11:25:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164477",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:4" align="right">Comment 4</div>

Thanks for reviewing. I've removed that line from SKPG.txt, and committed my changes into the hg repo. I also renamed the package to boost_cropped (underscore instead of dash) to conform to the name-version scheme.

The current version is here:

http://www.infty.nl/misc/boost_cropped-1.52.0.spkg



---

archive/issue_comments_164478.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nI just uploaded a slightly newer version (md5sum d897d8e152623fab9f9c866ce184b501) that fixes a bash escaping error in spkg-install that I happened to notice.",
    "created_at": "2013-02-25T11:49:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164478",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:5" align="right">Comment 5</div>

I just uploaded a slightly newer version (md5sum d897d8e152623fab9f9c866ce184b501) that fixes a bash escaping error in spkg-install that I happened to notice.



---

archive/issue_comments_164479.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\n+1 for underscore but don't we have to patch those as well?\n\n```\n[vbraun@laptop Sage]$ egrep boost-cropp sage/spkg/*\nsage/spkg/install:BOOST_CROPPED=`newest_version boost-cropped`\nsage/spkg/Makefile:BOOST_CROPPED=boost-cropped-1.34.1\n```",
    "created_at": "2013-02-25T19:24:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164479",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:6" align="right">Comment 6</div>

+1 for underscore but don't we have to patch those as well?

```
[vbraun@laptop Sage]$ egrep boost-cropp sage/spkg/*
sage/spkg/install:BOOST_CROPPED=`newest_version boost-cropped`
sage/spkg/Makefile:BOOST_CROPPED=boost-cropped-1.34.1
```



---

archive/issue_comments_164480.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nI attached a patch doing just that. I don't know how to instruct the patchbot to apply this to sage_root, and it wouldn't work anyway since it needs the new spkg. Let me know if I can do anything more, though.\n\nNote that the file spkg/Makefile is automatically generated, so I didn't patch it.",
    "created_at": "2013-02-25T19:34:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164480",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:7" align="right">Comment 7</div>

I attached a patch doing just that. I don't know how to instruct the patchbot to apply this to sage_root, and it wouldn't work anyway since it needs the new spkg. Let me know if I can do anything more, though.

Note that the file spkg/Makefile is automatically generated, so I didn't patch it.



---

archive/issue_comments_164481.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,6 @@\n I've checked that the current version `polybori-0.8.2` and the current upstream version `polymake-2.12-rc3` both compile under Sage with these headers. I'm also submitting an spkg for polymake in another ticket.\n \n [1] https://groups.google.com/d/topic/sage-devel/fcxNrQqVSz0/discussion\n+\n+* Apply trac-13767-sage_root-upgrade-to-boost-1.52.0.patch to the root repo.\n+* Replace boost-cropped spkg with http://www.infty.nl/misc/boost_cropped-1.52.0.spkg\n``````\n",
    "created_at": "2013-02-25T21:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164481",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,6 @@
 I've checked that the current version `polybori-0.8.2` and the current upstream version `polymake-2.12-rc3` both compile under Sage with these headers. I'm also submitting an spkg for polymake in another ticket.
 
 [1] https://groups.google.com/d/topic/sage-devel/fcxNrQqVSz0/discussion
+
+* Apply trac-13767-sage_root-upgrade-to-boost-1.52.0.patch to the root repo.
+* Replace boost-cropped spkg with http://www.infty.nl/misc/boost_cropped-1.52.0.spkg
``````




---

archive/issue_comments_164482.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2013-02-25T21:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164482",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_comments_164483.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nLooks good to me",
    "created_at": "2013-02-25T21:28:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164483",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:9" align="right">Comment 9</div>

Looks good to me



---

archive/issue_events_177042.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-02-25T21:28:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177042"
}
```



---

archive/issue_events_177043.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-02-25T21:28:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177043"
}
```



---

archive/issue_comments_164484.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nDumb question:  Will the change in package name (though salutary) affect upgrading?  (I.e., would we need a build patch for that?)\n\nCC:ing JP in case this might help any Cygwin woes with not having certain function (along the lines of what cephes was supposed to accomplish, but wasn't accomplishing since it wasn't installed...), though looks like he's gotten most of them ironed out :)",
    "created_at": "2013-02-26T16:44:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164484",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:10" align="right">Comment 10</div>

Dumb question:  Will the change in package name (though salutary) affect upgrading?  (I.e., would we need a build patch for that?)

CC:ing JP in case this might help any Cygwin woes with not having certain function (along the lines of what cephes was supposed to accomplish, but wasn't accomplishing since it wasn't installed...), though looks like he's gotten most of them ironed out :)



---

archive/issue_comments_164485.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nIn `SPKG.txt`, replace\n\n```\n=== boost-cropped-1.52.0 (Timo Kluck, November 28, 2012) ===\n```\nby\n\n```\n=== boost_cropped-1.52.0 (Timo Kluck, November 28, 2012) ===\n```",
    "created_at": "2013-02-26T21:53:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164485",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">Comment 11</div>

In `SPKG.txt`, replace

```
=== boost-cropped-1.52.0 (Timo Kluck, November 28, 2012) ===
```
by

```
=== boost_cropped-1.52.0 (Timo Kluck, November 28, 2012) ===
```



---

archive/issue_comments_164486.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n \n [1] https://groups.google.com/d/topic/sage-devel/fcxNrQqVSz0/discussion\n \n-* Apply trac-13767-sage_root-upgrade-to-boost-1.52.0.patch to the root repo.\n+* Apply [attachment: trac-13767-sage_root-upgrade-to-boost-1.52.0.patch](https://github.com/sagemath/sage/files/ticket13767/trac-13767-sage_root-upgrade-to-boost-1.52.0.patch.gz) to the root repo.\n * Replace boost-cropped spkg with http://www.infty.nl/misc/boost_cropped-1.52.0.spkg\n``````\n",
    "created_at": "2013-02-26T21:55:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164486",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 
 [1] https://groups.google.com/d/topic/sage-devel/fcxNrQqVSz0/discussion
 
-* Apply trac-13767-sage_root-upgrade-to-boost-1.52.0.patch to the root repo.
+* Apply [attachment: trac-13767-sage_root-upgrade-to-boost-1.52.0.patch](https://github.com/sagemath/sage/files/ticket13767/trac-13767-sage_root-upgrade-to-boost-1.52.0.patch.gz) to the root repo.
 * Replace boost-cropped spkg with http://www.infty.nl/misc/boost_cropped-1.52.0.spkg
``````




---

archive/issue_comments_164487.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nReplying to [@kcrisman](#comment%3A10):\n> Dumb question:  Will the change in package name (though salutary) affect upgrading?\n\nYes.\n\n> (I.e., would we need a build patch for that?)\n\nYes, but there is such a patch.",
    "created_at": "2013-02-26T21:55:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164487",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">Comment 12</div>

Replying to [@kcrisman](#comment%3A10):
> Dumb question:  Will the change in package name (though salutary) affect upgrading?

Yes.

> (I.e., would we need a build patch for that?)

Yes, but there is such a patch.



---

archive/issue_comments_164488.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nReplying to [@jdemeyer](#comment%3A11):\n> In `SPKG.txt`, replace\n> \n> ```\n> === boost-cropped-1.52.0 (Timo Kluck, November 28, 2012) ===\n> ```\n> by\n> \n> ```\n> === boost_cropped-1.52.0 (Timo Kluck, November 28, 2012) ===\n> ```\n\nDone and set the date to today. I uploaded a new version (md5sum 2e12e082e9db4e908d0796246d0af351).",
    "created_at": "2013-02-26T22:23:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164488",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:13" align="right">Comment 13</div>

Replying to [@jdemeyer](#comment%3A11):
> In `SPKG.txt`, replace
> 
> ```
> === boost-cropped-1.52.0 (Timo Kluck, November 28, 2012) ===
> ```
> by
> 
> ```
> === boost_cropped-1.52.0 (Timo Kluck, November 28, 2012) ===
> ```

Done and set the date to today. I uploaded a new version (md5sum 2e12e082e9db4e908d0796246d0af351).



---

archive/issue_comments_164489.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\n> > (I.e., would we need a build patch for that?)\n\n> Yes, but there is such a patch.\n\nOk, I see that now.  I will trust you that it will perform appropriately :)",
    "created_at": "2013-02-26T22:25:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164489",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:14" align="right">Comment 14</div>

> > (I.e., would we need a build patch for that?)

> Yes, but there is such a patch.

Ok, I see that now.  I will trust you that it will perform appropriately :)



---

archive/issue_comments_164490.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nCould this have caused\n\n```\nsage -t  --long -force_lib devel/sage/sage/rings/polynomial/pbori.pyx\n**********************************************************************\nFile \"/release/merger/sage-5.8.beta2/devel/sage-main/sage/rings/polynomial/pbori.pyx\", line 7868:\n    sage: random_set((a*b*c*d).lm(),2)\nExpected:\n    {{b,c}, {b}}\nGot:\n    {{b}, {c}}\n**********************************************************************\n[...more like this...]\n```",
    "created_at": "2013-02-27T12:54:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164490",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">Comment 15</div>

Could this have caused

```
sage -t  --long -force_lib devel/sage/sage/rings/polynomial/pbori.pyx
**********************************************************************
File "/release/merger/sage-5.8.beta2/devel/sage-main/sage/rings/polynomial/pbori.pyx", line 7868:
    sage: random_set((a*b*c*d).lm(),2)
Expected:
    {{b,c}, {b}}
Got:
    {{b}, {c}}
**********************************************************************
[...more like this...]
```



---

archive/issue_events_177044.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-27T12:54:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177044"
}
```



---

archive/issue_events_177045.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-27T12:54:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177045"
}
```



---

archive/issue_comments_164491.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nReplying to [@jdemeyer](#comment%3A15):\n> Could this have caused\n> \n> ```\n> sage -t  --long -force_lib devel/sage/sage/rings/polynomial/pbori.pyx\n> **********************************************************************\n> File \"/release/merger/sage-5.8.beta2/devel/sage-main/sage/rings/polynomial/pbori.pyx\", line 7868:\n>     sage: random_set((a*b*c*d).lm(),2)\n> Expected:\n>     {{b,c}, {b}}\n> Got:\n>     {{b}, {c}}\n> **********************************************************************\n> [...more like this...]\n> ```\n\nYes, I'm pretty sure it has: I can reproduce this issue on my stock 5.5 installation with upgraded boost and recompiled polybori.\n\nThe reason is possibly that polybori probably relies on `Boost.Random` for its randomness. Since we're doing a rather large update 1.34 - > 1.52, it's quite possible that the implementation has changed sufficiently to obtain different random values even with the same seed.\n\nI would be inclined to just update the doctests, since these are inherently random results. But I would prefer to first hear the opinion of someone who actually uses polybori.",
    "created_at": "2013-02-27T15:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164491",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:16" align="right">Comment 16</div>

Replying to [@jdemeyer](#comment%3A15):
> Could this have caused
> 
> ```
> sage -t  --long -force_lib devel/sage/sage/rings/polynomial/pbori.pyx
> **********************************************************************
> File "/release/merger/sage-5.8.beta2/devel/sage-main/sage/rings/polynomial/pbori.pyx", line 7868:
>     sage: random_set((a*b*c*d).lm(),2)
> Expected:
>     {{b,c}, {b}}
> Got:
>     {{b}, {c}}
> **********************************************************************
> [...more like this...]
> ```

Yes, I'm pretty sure it has: I can reproduce this issue on my stock 5.5 installation with upgraded boost and recompiled polybori.

The reason is possibly that polybori probably relies on `Boost.Random` for its randomness. Since we're doing a rather large update 1.34 - > 1.52, it's quite possible that the implementation has changed sufficiently to obtain different random values even with the same seed.

I would be inclined to just update the doctests, since these are inherently random results. But I would prefer to first hear the opinion of someone who actually uses polybori.



---

archive/issue_comments_164492.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,4 @@\n \n * Apply [attachment: trac-13767-sage_root-upgrade-to-boost-1.52.0.patch](https://github.com/sagemath/sage/files/ticket13767/trac-13767-sage_root-upgrade-to-boost-1.52.0.patch.gz) to the root repo.\n * Replace boost-cropped spkg with http://www.infty.nl/misc/boost_cropped-1.52.0.spkg\n+* Apply [attachment: 0001-Update-doctests-for-polybori-that-rely-on-randomness.patch](https://github.com/sagemath/sage/files/ticket13767/0001-Update-doctests-for-polybori-that-rely-on-randomness.patch.gz) to the sage-main repo.\n``````\n",
    "created_at": "2013-02-27T16:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164492",
    "user": "https://github.com/tkluck"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,4 @@
 
 * Apply [attachment: trac-13767-sage_root-upgrade-to-boost-1.52.0.patch](https://github.com/sagemath/sage/files/ticket13767/trac-13767-sage_root-upgrade-to-boost-1.52.0.patch.gz) to the root repo.
 * Replace boost-cropped spkg with http://www.infty.nl/misc/boost_cropped-1.52.0.spkg
+* Apply [attachment: 0001-Update-doctests-for-polybori-that-rely-on-randomness.patch](https://github.com/sagemath/sage/files/ticket13767/0001-Update-doctests-for-polybori-that-rely-on-randomness.patch.gz) to the sage-main repo.
``````




---

archive/issue_events_177046.json:
```json
{
    "actor": "https://github.com/tkluck",
    "created_at": "2013-02-27T16:08:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177046"
}
```



---

archive/issue_events_177047.json:
```json
{
    "actor": "https://github.com/tkluck",
    "created_at": "2013-02-27T16:08:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177047"
}
```



---

archive/issue_comments_164493.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nI approve the patch for the polybori tests. I have seen exactly this output in sage-on-gentoo for the last few months. I have it documented at least as far back as the time of sage-5.4.",
    "created_at": "2013-02-28T02:24:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164493",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:18" align="right">Comment 18</div>

I approve the patch for the polybori tests. I have seen exactly this output in sage-on-gentoo for the last few months. I have it documented at least as far back as the time of sage-5.4.



---

archive/issue_comments_164494.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nThese random ;-) changes in `PolyBoRi`'s random functions won't cause any problems.\n\nBut maybe we should just ignore the doctest results and add additional tests for the following assumed properties `result =  random_set(monomial, n)` should obey\n`len(result) == n` and `result.diff(monomial.divisors()).empty()` .",
    "created_at": "2013-02-28T08:49:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164494",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:19" align="right">Comment 19</div>

These random ;-) changes in `PolyBoRi`'s random functions won't cause any problems.

But maybe we should just ignore the doctest results and add additional tests for the following assumed properties `result =  random_set(monomial, n)` should obey
`len(result) == n` and `result.diff(monomial.divisors()).empty()` .



---

archive/issue_comments_164495.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nEdited: it should read `len(result) == n`.",
    "created_at": "2013-02-28T09:05:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164495",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:20" align="right">Comment 20</div>

Edited: it should read `len(result) == n`.



---

archive/issue_comments_164496.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nAnyway, if we need a quick fix: I can also give a positive review. The more generic test would then be a new ticket.",
    "created_at": "2013-02-28T09:29:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164496",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:21" align="right">Comment 21</div>

Anyway, if we need a quick fix: I can also give a positive review. The more generic test would then be a new ticket.



---

archive/issue_comments_164497.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nReplying to [@alexanderdreyer](#comment%3A21):\n> Anyway, if we need a quick fix: I can also give a positive review. The more generic test would then be a new ticket.\n\nThat would be great; the polymake upgrade also depends on this ticket, so it would be great to just get it in.",
    "created_at": "2013-02-28T10:30:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164497",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:22" align="right">Comment 22</div>

Replying to [@alexanderdreyer](#comment%3A21):
> Anyway, if we need a quick fix: I can also give a positive review. The more generic test would then be a new ticket.

That would be great; the polymake upgrade also depends on this ticket, so it would be great to just get it in.



---

archive/issue_comments_164498.json:
```json
{
    "body": "Changed reviewer from **Volker Braun** to **Volker Braun, fbissey, Alexander Dreyer**",
    "created_at": "2013-02-28T10:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164498",
    "user": "https://github.com/alexanderdreyer"
}
```

Changed reviewer from **Volker Braun** to **Volker Braun, fbissey, Alexander Dreyer**



---

archive/issue_events_177048.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2013-02-28T10:39:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177048"
}
```



---

archive/issue_events_177049.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2013-02-28T10:39:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177049"
}
```



---

archive/issue_comments_164499.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nReplying to [@tkluck](#comment%3A22):\n> That would be great; the polymake upgrade also depends on this ticket, so it would be great to just get it in.\n\nAllright then. Please set up the other ticket when there is time and CC me there.\n\nJust out of curiosity: how is the polymake ticket related to `PolyBoRi`?",
    "created_at": "2013-02-28T10:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164499",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:23" align="right">Comment 23</div>

Replying to [@tkluck](#comment%3A22):
> That would be great; the polymake upgrade also depends on this ticket, so it would be great to just get it in.

Allright then. Please set up the other ticket when there is time and CC me there.

Just out of curiosity: how is the polymake ticket related to `PolyBoRi`?



---

archive/issue_events_177050.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-28T10:57:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177050"
}
```



---

archive/issue_events_177051.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-28T10:57:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177051"
}
```



---

archive/issue_comments_164500.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nCould you make `SPKG.txt` world-readable inside the spkg:\n\n```\n1435597707    4 -rw-------   1 jdemeyer jdemeyer     1406 Feb 26 22:22 ./SPKG.txt\n```",
    "created_at": "2013-02-28T10:57:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164500",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">Comment 24</div>

Could you make `SPKG.txt` world-readable inside the spkg:

```
1435597707    4 -rw-------   1 jdemeyer jdemeyer     1406 Feb 26 22:22 ./SPKG.txt
```



---

archive/issue_comments_164501.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nAlso: the two patches are not proper Mercurial changesets (they lack a header). You should generate patches using `hg export tip` (see [http://sagemath.org/doc/developer/walk_through.html#creating-a-change](http://sagemath.org/doc/developer/walk_through.html#creating-a-change) or [http://sagemath.org/doc/developer/walk_through.html#creating-your-own-patch-with-queues](http://sagemath.org/doc/developer/walk_through.html#creating-your-own-patch-with-queues))",
    "created_at": "2013-02-28T11:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164501",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">Comment 25</div>

Also: the two patches are not proper Mercurial changesets (they lack a header). You should generate patches using `hg export tip` (see [http://sagemath.org/doc/developer/walk_through.html#creating-a-change](http://sagemath.org/doc/developer/walk_through.html#creating-a-change) or [http://sagemath.org/doc/developer/walk_through.html#creating-your-own-patch-with-queues](http://sagemath.org/doc/developer/walk_through.html#creating-your-own-patch-with-queues))



---

archive/issue_comments_164502.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nReplying to [@alexanderdreyer](#comment%3A23):\n> > That would be great; the polymake upgrade also depends on this ticket, so it would be great to just get it in.\n\n> Just out of curiosity: how is the polymake ticket related to `PolyBoRi`?\n\nThis is not a polybori ticket, but a boost ticket :-)",
    "created_at": "2013-02-28T13:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164502",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:26" align="right">Comment 26</div>

Replying to [@alexanderdreyer](#comment%3A23):
> > That would be great; the polymake upgrade also depends on this ticket, so it would be great to just get it in.

> Just out of curiosity: how is the polymake ticket related to `PolyBoRi`?

This is not a polybori ticket, but a boost ticket :-)



---

archive/issue_comments_164503.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nReplying to [@tkluck](#comment%3A26):\n> This is not a polybori ticket, but a boost ticket :-)\n\nSorry, I misunderstood this. (Ticket vs. patch.)",
    "created_at": "2013-02-28T13:45:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164503",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:27" align="right">Comment 27</div>

Replying to [@tkluck](#comment%3A26):
> This is not a polybori ticket, but a boost ticket :-)

Sorry, I misunderstood this. (Ticket vs. patch.)



---

archive/issue_comments_164504.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\n(You wrote it correctly, I just misread)",
    "created_at": "2013-02-28T13:46:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164504",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:28" align="right">Comment 28</div>

(You wrote it correctly, I just misread)



---

archive/issue_comments_164505.json:
```json
{
    "body": "Attachment: **[0001-Update-doctests-for-polybori-that-rely-on-randomness.patch.gz](https://github.com/sagemath/sage/files/ticket13767/0001-Update-doctests-for-polybori-that-rely-on-randomness.patch.gz)**",
    "created_at": "2013-02-28T14:05:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164505",
    "user": "https://github.com/tkluck"
}
```

Attachment: **[0001-Update-doctests-for-polybori-that-rely-on-randomness.patch.gz](https://github.com/sagemath/sage/files/ticket13767/0001-Update-doctests-for-polybori-that-rely-on-randomness.patch.gz)**



---

archive/issue_comments_164506.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nAttachment: **[trac-13767-sage_root-upgrade-to-boost-1.52.0.patch.gz](https://github.com/sagemath/sage/files/ticket13767/trac-13767-sage_root-upgrade-to-boost-1.52.0.patch.gz)**\n\nThe patches are now hg changesets. Sorry about that, I've been doing development on an integrated git tree recently, and I still had to setup the conversion git -> hg.",
    "created_at": "2013-02-28T14:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164506",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:29" align="right">Comment 29</div>

Attachment: **[trac-13767-sage_root-upgrade-to-boost-1.52.0.patch.gz](https://github.com/sagemath/sage/files/ticket13767/trac-13767-sage_root-upgrade-to-boost-1.52.0.patch.gz)**

The patches are now hg changesets. Sorry about that, I've been doing development on an integrated git tree recently, and I still had to setup the conversion git -> hg.



---

archive/issue_events_177052.json:
```json
{
    "actor": "https://github.com/tkluck",
    "created_at": "2013-02-28T14:07:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177052"
}
```



---

archive/issue_events_177053.json:
```json
{
    "actor": "https://github.com/tkluck",
    "created_at": "2013-02-28T14:07:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177053"
}
```



---

archive/issue_comments_164507.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nI created #14205 for possibly making those doctests non-random, and put Alexander in the CC as requested.",
    "created_at": "2013-02-28T16:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164507",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:30" align="right">Comment 30</div>

I created #14205 for possibly making those doctests non-random, and put Alexander in the CC as requested.



---

archive/issue_comments_164508.json:
```json
{
    "body": "Changed reviewer from **Volker Braun, fbissey, Alexander Dreyer** to **Volker Braun, Fran\u00e7ois Bissey, Alexander Dreyer**",
    "created_at": "2013-02-28T17:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164508",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Volker Braun, fbissey, Alexander Dreyer** to **Volker Braun, François Bissey, Alexander Dreyer**



---

archive/issue_comments_164509.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nCould this be dependent on platform (the pbori tests, I mean)?  I get all the *original* ones after installing this spkg and patches, doing `./sage -b` and testing (hence failures).\n\n```\n\n----------------------------------------------------------------------\n| Sage Version 5.8.beta1, Release Date: 2013-02-24                   |\n| Type \"notebook()\" for the browser-based notebook interface.        |\n| Type \"help()\" for help.                                            |\n----------------------------------------------------------------------\n**********************************************************************\n*                                                                    *\n* Warning: this is a prerelease version, and it may be unstable.     *\n*                                                                    *\n**********************************************************************\nsage: from polybori import random_set, set_random_seed\nsage: B.<a,b,c,d,e> = BooleanPolynomialRing()\nsage: (a*b*c*d).lm()\na*b*c*d\nsage: set_random_seed(1337)\nsage: random_set((a*b*c*d).lm(),2)\n{{b,c}, {b}}\n```\nIs there something else I should have done to make sure this change works?  (I'm on an Intel Mac OSX 10.7.)",
    "created_at": "2013-02-28T17:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164509",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:31" align="right">Comment 31</div>

Could this be dependent on platform (the pbori tests, I mean)?  I get all the *original* ones after installing this spkg and patches, doing `./sage -b` and testing (hence failures).

```

----------------------------------------------------------------------
| Sage Version 5.8.beta1, Release Date: 2013-02-24                   |
| Type "notebook()" for the browser-based notebook interface.        |
| Type "help()" for help.                                            |
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
sage: from polybori import random_set, set_random_seed
sage: B.<a,b,c,d,e> = BooleanPolynomialRing()
sage: (a*b*c*d).lm()
a*b*c*d
sage: set_random_seed(1337)
sage: random_set((a*b*c*d).lm(),2)
{{b,c}, {b}}
```
Is there something else I should have done to make sure this change works?  (I'm on an Intel Mac OSX 10.7.)



---

archive/issue_comments_164510.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nReplying to [@kcrisman](#comment%3A31):\n> Could this be dependent on platform (the pbori tests, I mean)?  I get all the *original* ones after installing this spkg and patches, doing `./sage -b` and testing (hence failures).\n> Is there something else I should have done to make sure this change works?  (I'm on an Intel Mac OSX 10.7.)\n\nDid you recompile the Polybori package?\n\n```\nsage -f polybori\n```",
    "created_at": "2013-02-28T17:25:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164510",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:32" align="right">Comment 32</div>

Replying to [@kcrisman](#comment%3A31):
> Could this be dependent on platform (the pbori tests, I mean)?  I get all the *original* ones after installing this spkg and patches, doing `./sage -b` and testing (hence failures).
> Is there something else I should have done to make sure this change works?  (I'm on an Intel Mac OSX 10.7.)

Did you recompile the Polybori package?

```
sage -f polybori
```



---

archive/issue_comments_164511.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nReplying to [@jdemeyer](#comment%3A24):\n> Could you make `SPKG.txt` world-readable inside the spkg:\n> \n> ```\n> 1435597707    4 -rw-------   1 jdemeyer jdemeyer     1406 Feb 26 22:22 ./SPKG.txt\n> ```\n\nThis has been done, too. New package version with md5sum 2852b9e02ede0ab2785930d0f9268c6f.",
    "created_at": "2013-02-28T18:05:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164511",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:33" align="right">Comment 33</div>

Replying to [@jdemeyer](#comment%3A24):
> Could you make `SPKG.txt` world-readable inside the spkg:
> 
> ```
> 1435597707    4 -rw-------   1 jdemeyer jdemeyer     1406 Feb 26 22:22 ./SPKG.txt
> ```

This has been done, too. New package version with md5sum 2852b9e02ede0ab2785930d0f9268c6f.



---

archive/issue_comments_164512.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\n> Did you recompile the Polybori package?\n\nNo, because it didn't say to.  Maybe there should be something that retriggers this on update?  Anyway, works fine now, sorry for the noise (on the way to #13768...)",
    "created_at": "2013-02-28T18:10:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164512",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:34" align="right">Comment 34</div>

> Did you recompile the Polybori package?

No, because it didn't say to.  Maybe there should be something that retriggers this on update?  Anyway, works fine now, sorry for the noise (on the way to #13768...)



---

archive/issue_events_177054.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-28T18:23:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177054"
}
```



---

archive/issue_events_177055.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-28T18:23:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177055"
}
```



---

archive/issue_comments_164513.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nAll administrative issues are fixed.",
    "created_at": "2013-02-28T18:23:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164513",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35" align="right">Comment 35</div>

All administrative issues are fixed.



---

archive/issue_comments_164514.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nReplying to [@kcrisman](#comment%3A34):\n> > Did you recompile the Polybori package?\n\n> No, because it didn't say to.  Maybe there should be something that retriggers this on update?  \n\nYou're right. The makefile `spkg/Makefile` knows which packages depend on which others. Your comment reminded me to check whether it knows that polybori depends on boost_cropped: it does. I'm pretty sure that means that the upgrade path will work.\n\nThanks for testing!",
    "created_at": "2013-03-01T00:30:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164514",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:36" align="right">Comment 36</div>

Replying to [@kcrisman](#comment%3A34):
> > Did you recompile the Polybori package?

> No, because it didn't say to.  Maybe there should be something that retriggers this on update?  

You're right. The makefile `spkg/Makefile` knows which packages depend on which others. Your comment reminded me to check whether it knows that polybori depends on boost_cropped: it does. I'm pretty sure that means that the upgrade path will work.

Thanks for testing!



---

archive/issue_comments_164515.json:
```json
{
    "body": "Merged: **sage-5.8.beta3**",
    "created_at": "2013-03-05T11:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13767#issuecomment-164515",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.8.beta3**



---

archive/issue_events_177056.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-05T11:00:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177056"
}
```



---

archive/issue_events_177057.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-05T11:00:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13767",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13767#event-177057"
}
```
