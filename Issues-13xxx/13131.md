# Issue 13131: Make a top-level table/Table function

archive/issues_012959.json:
```json
{
    "assignees": [],
    "body": "As the summary says.\n\nSee [this sage-devel thread](https://groups.google.com/forum/?fromgroups#!topic/sage-devel/5Ex0erSNyKg) for more suggestions, including that we should have a `Table` class that `table` calls, which uses something like `html.table` in the notebook, but also has a `_latex_` method, makes ascii art in the command line, etc.\n\nJust a few examples from the doctests in the patch:\n\n```\n        sage: table([['a', 'b', 'c'], [100,2,3], [4,5,60]])\n          a     b   c\n          100   2   3\n          4     5   60\n        sage: table([['a', 'b', 'c'], [100,2,3], [4,5,60]], frame=True)\n        +-----+---+----+\n        | a   | b | c  |\n        +-----+---+----+\n        | 100 | 2 | 3  |\n        +-----+---+----+\n        | 4   | 5 | 60 |\n        +-----+---+----+\n\n        sage: latex(table([['a', 'b', 'c'], [100,2,3], [4,5,60]], frame=True))\n        \\begin{tabular}{|l|l|l|} \\hline\n        a & b & c \\\\ \\hline\n        $100$ & $2$ & $3$ \\\\ \\hline\n        $4$ & $5$ & $60$ \\\\ \\hline\n        \\end{tabular}\n```\nYou can also specify alignments of 'left', 'center', or 'right'.\n\nApply [[attachment:trac_13131_review-sl.patch](https://github.com/sagemath/sage/files/ticket13131/20dc941bae83e02b36c4716a3b537505.patch](https://github.com/sagemath/sage/files/ticket13131/d60d8db07b5a05b5367ce6e2f97259f2.patch),).\n\n**Assignee:** @williamstein\n\n**CC:**  @jasongrout @jhpalmieri abmasse @novoselt @AndrewAtLarge\n\n**Reviewer:** Jason Grout, Karl-Dieter Crisman, S\u00e9bastien Labb\u00e9\n\n**Author:** John Palmieri\n\n**Merged:** sage-5.10.beta0\n\nIssue created by migration from https://trac.sagemath.org/ticket/13131\n\n",
    "closed_at": "2013-04-13T13:48:36Z",
    "created_at": "2012-06-18T19:47:38Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make a top-level table/Table function",
    "type": "issue",
    "updated_at": "2013-05-16T20:32:29Z",
    "url": "https://github.com/sagemath/sage/issues/13131",
    "user": "https://github.com/kcrisman"
}
```
As the summary says.

See [this sage-devel thread](https://groups.google.com/forum/?fromgroups#!topic/sage-devel/5Ex0erSNyKg) for more suggestions, including that we should have a `Table` class that `table` calls, which uses something like `html.table` in the notebook, but also has a `_latex_` method, makes ascii art in the command line, etc.

Just a few examples from the doctests in the patch:

```
        sage: table([['a', 'b', 'c'], [100,2,3], [4,5,60]])
          a     b   c
          100   2   3
          4     5   60
        sage: table([['a', 'b', 'c'], [100,2,3], [4,5,60]], frame=True)
        +-----+---+----+
        | a   | b | c  |
        +-----+---+----+
        | 100 | 2 | 3  |
        +-----+---+----+
        | 4   | 5 | 60 |
        +-----+---+----+

        sage: latex(table([['a', 'b', 'c'], [100,2,3], [4,5,60]], frame=True))
        \begin{tabular}{|l|l|l|} \hline
        a & b & c \\ \hline
        $100$ & $2$ & $3$ \\ \hline
        $4$ & $5$ & $60$ \\ \hline
        \end{tabular}
```
You can also specify alignments of 'left', 'center', or 'right'.

Apply [[attachment:trac_13131_review-sl.patch](https://github.com/sagemath/sage/files/ticket13131/20dc941bae83e02b36c4716a3b537505.patch](https://github.com/sagemath/sage/files/ticket13131/d60d8db07b5a05b5367ce6e2f97259f2.patch),).

**Assignee:** @williamstein

**CC:**  @jasongrout @jhpalmieri abmasse @novoselt @AndrewAtLarge

**Reviewer:** Jason Grout, Karl-Dieter Crisman, Sébastien Labbé

**Author:** John Palmieri

**Merged:** sage-5.10.beta0

Issue created by migration from https://trac.sagemath.org/ticket/13131





---

archive/issue_events_154334.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-06-18T19:47:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154334"
}
```



---

archive/issue_events_154335.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-06-18T19:47:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20user%20interface",
    "label_color": "08517b",
    "label_name": "component: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154335"
}
```



---

archive/issue_events_154336.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-06-18T19:47:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154336"
}
```



---

archive/issue_comments_152491.json:
```json
{
    "body": "<a id='comment:2'>**Comment 2:**</a>\nSome random comments and questions:\n\n- When defining a table, the user should be able to specify position/alignment (left, right, center). Should they be able to do this for each column, and do we like LaTeX notation for this? Should they be able to specify positioning for each individual entry? \n\n- Is it too much work to try to align numbers at their decimal places? [LaTeX](http://ryanmlayer.wordpress.com/2009/10/05/aligning-on-decimal-points-an-example-of-the-specifier/) and [LaTeX](http://www.volkerschatz.com/tex/halign.html) ways to do this. [html](http://krijnhoetmer.nl/stuff/javascript/table-align-char/) and [html](http://stackoverflow.com/questions/1363239/aligning-decimal-points-in-html) ways to do this, but perhaps complicated or messy.\n\n- Should we refactor the matrix printing code so that it uses this class?\n\n- `html.table` expects a nested list as input, and so the entries in [1,2,3] get plotted as separate rows. is that the right thing, or should [1,2,3] get plotted as a single row?\n\n- We should probably steal code from html.table, matrix._repr_, matrix.str, matrix._latex_\n\n- Should we allow subtables (like subdivisions in matrices)?",
    "created_at": "2012-11-08T20:57:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152491",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'>**Comment 2:**</a>
Some random comments and questions:

- When defining a table, the user should be able to specify position/alignment (left, right, center). Should they be able to do this for each column, and do we like LaTeX notation for this? Should they be able to specify positioning for each individual entry? 

- Is it too much work to try to align numbers at their decimal places? [LaTeX](http://ryanmlayer.wordpress.com/2009/10/05/aligning-on-decimal-points-an-example-of-the-specifier/) and [LaTeX](http://www.volkerschatz.com/tex/halign.html) ways to do this. [html](http://krijnhoetmer.nl/stuff/javascript/table-align-char/) and [html](http://stackoverflow.com/questions/1363239/aligning-decimal-points-in-html) ways to do this, but perhaps complicated or messy.

- Should we refactor the matrix printing code so that it uses this class?

- `html.table` expects a nested list as input, and so the entries in [1,2,3] get plotted as separate rows. is that the right thing, or should [1,2,3] get plotted as a single row?

- We should probably steal code from html.table, matrix._repr_, matrix.str, matrix._latex_

- Should we allow subtables (like subdivisions in matrices)?



---

archive/issue_comments_152492.json:
```json
{
    "body": "<a id='comment:3'>**Comment 3:**</a>\nSure.  But minimally, how about: `table(list of rows, header=header row)`.  I think we can definitely start simple here.\n\nReferences: Mathematica's Grid command: http://reference.wolfram.com/mathematica/howto/FormatATableOfData.html, http://reference.wolfram.com/mathematica/ref/Grid.html, and TableForm: http://reference.wolfram.com/mathematica/ref/TableForm.html",
    "created_at": "2012-11-09T15:36:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152492",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:3'>**Comment 3:**</a>
Sure.  But minimally, how about: `table(list of rows, header=header row)`.  I think we can definitely start simple here.

References: Mathematica's Grid command: http://reference.wolfram.com/mathematica/howto/FormatATableOfData.html, http://reference.wolfram.com/mathematica/ref/Grid.html, and TableForm: http://reference.wolfram.com/mathematica/ref/TableForm.html



---

archive/issue_comments_152493.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,10 +1,28 @@\n-sage: ta[tab]\n-tachyon_rt  tan         tanh        taylor  \n-\n-I have had a number of people rant to me about Sage not having a command like Mma Table (I guess - I've never used it).\n-\n-Okay, fair enough to say that list comprehensions do this.  But we have gotten many people over the years saying that when they finally found html.table, this is just what they are looking for.\n-\n-Question/Poll: should html.table be imported globally, so that the tab-completion above has an additional entry? It seems like this would help a lot of people find a fairly obscure function.\n+As the summary says.\n \n See [this sage-devel thread](https://groups.google.com/forum/?fromgroups#!topic/sage-devel/5Ex0erSNyKg) for more suggestions, including that we should have a `Table` class that `table` calls, which uses something like `html.table` in the notebook, but also has a `_latex_` method, makes ascii art in the command line, etc.\n+\n+Just a few examples from the doctests in the patch:\n+\n+```\n+        sage: table([['a', 'b', 'c'], [100,2,3], [4,5,60]])\n+          a     b   c\n+          100   2   3\n+          4     5   60\n+        sage: table([['a', 'b', 'c'], [100,2,3], [4,5,60]], frame=True)\n+        +-----+---+----+\n+        | a   | b | c  |\n+        +-----+---+----+\n+        | 100 | 2 | 3  |\n+        +-----+---+----+\n+        | 4   | 5 | 60 |\n+        +-----+---+----+\n+\n+        sage: latex(table([['a', 'b', 'c'], [100,2,3], [4,5,60]], frame=True))\n+        \\begin{tabular}{|l|l|l|} \\hline\n+        a & b & c \\\\ \\hline\n+        $100$ & $2$ & $3$ \\\\ \\hline\n+        $4$ & $5$ & $60$ \\\\ \\hline\n+        \\end{tabular}\n+```\n+You can also specify alignments of 'left', 'center', or 'right'.\n``````\n",
    "created_at": "2012-11-10T00:13:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152493",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,10 +1,28 @@
-sage: ta[tab]
-tachyon_rt  tan         tanh        taylor  
-
-I have had a number of people rant to me about Sage not having a command like Mma Table (I guess - I've never used it).
-
-Okay, fair enough to say that list comprehensions do this.  But we have gotten many people over the years saying that when they finally found html.table, this is just what they are looking for.
-
-Question/Poll: should html.table be imported globally, so that the tab-completion above has an additional entry? It seems like this would help a lot of people find a fairly obscure function.
+As the summary says.
 
 See [this sage-devel thread](https://groups.google.com/forum/?fromgroups#!topic/sage-devel/5Ex0erSNyKg) for more suggestions, including that we should have a `Table` class that `table` calls, which uses something like `html.table` in the notebook, but also has a `_latex_` method, makes ascii art in the command line, etc.
+
+Just a few examples from the doctests in the patch:
+
+```
+        sage: table([['a', 'b', 'c'], [100,2,3], [4,5,60]])
+          a     b   c
+          100   2   3
+          4     5   60
+        sage: table([['a', 'b', 'c'], [100,2,3], [4,5,60]], frame=True)
+        +-----+---+----+
+        | a   | b | c  |
+        +-----+---+----+
+        | 100 | 2 | 3  |
+        +-----+---+----+
+        | 4   | 5 | 60 |
+        +-----+---+----+
+
+        sage: latex(table([['a', 'b', 'c'], [100,2,3], [4,5,60]], frame=True))
+        \begin{tabular}{|l|l|l|} \hline
+        a & b & c \\ \hline
+        $100$ & $2$ & $3$ \\ \hline
+        $4$ & $5$ & $60$ \\ \hline
+        \end{tabular}
+```
+You can also specify alignments of 'left', 'center', or 'right'.
``````




---

archive/issue_comments_152494.json:
```json
{
    "body": "**Author:** John Palmieri",
    "created_at": "2012-11-10T00:13:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152494",
    "user": "https://github.com/jhpalmieri"
}
```

**Author:** John Palmieri



---

archive/issue_comments_152495.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\nOkay, here's a first attempt. For some reason I find the syntax `table(array, header=another_row)` strange, so this just allows for the header argument to be True or False, and the actual row needs to be the first row of `array`.",
    "created_at": "2012-11-10T00:13:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152495",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'>**Comment 4:**</a>
Okay, here's a first attempt. For some reason I find the syntax `table(array, header=another_row)` strange, so this just allows for the header argument to be True or False, and the actual row needs to be the first row of `array`.



---

archive/issue_events_154337.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2012-11-10T00:13:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154337"
}
```



---

archive/issue_comments_152496.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nTo get `header_column` to have any effect in HTML, we also will need to patch the Sage notebook, to modify the file `devel/sagenb/sagenb/data/sage/css/main.css`:\n\n```diff\n--- main.css.orig\t2012-08-31 13:52:42.000000000 -0700\n+++ main.css\t2012-11-09 13:05:29.000000000 -0800\n@@ -445,6 +445,8 @@\n table.table_form * td { padding-top: 5px; padding-bottom: 5px; padding-left: 15px; padding-right: 15px; }\n /* line 899, ../../../../sass/src/main.scss */\n table.table_form * th { background: #a6ba4e; height: 29px; padding-left: 15px; padding-right: 15px; padding-top: 5px; padding-bottom: 5px; color: white; text-align: left; }\n+table.table_form * th.ch { background: #7c8b3a; }\n+table.table_form * td.ch { background: #a6ba4e; color: white; }\n /* line 909, ../../../../sass/src/main.scss */\n table.table_form * tr.row-a { background: #f8f8f8; text-align: left; }\n /* line 912, ../../../../sass/src/main.scss */\n```\nI guess this means a change to `devel/sagenb/sass/src/main.scss`, but I'm not sure of the syntax in that file. Maybe this:\n\n```diff\n--- main.scss.orig\t2012-08-31 13:51:10.000000000 -0700\n+++ main.scss\t2012-11-09 13:06:47.000000000 -0800\n@@ -895,7 +895,10 @@\n       padding-top: 5px;\n       padding-bottom: 5px;\n       padding-left: 15px;\n-      padding-right: 15px; }\n+      padding-right: 15px;\n+      &.ch {\n+        background: #a6ba4e;\n+\tcolor: white; } }\n     th {\n       background: #a6ba4e;\n       height: 29px;\n@@ -904,7 +907,9 @@\n       padding-top: 5px;\n       padding-bottom: 5px;\n       color: white;\n-      text-align: left; }\n+      text-align: left;\n+      &.ch {\n+      \tbackground: #7c8b3a; } }\n     tr {\n       &.row-a {\n         background: #f8f8f8;\n```\nThis is not a big deal and the ticket can be merged independently of such a change. I may get around to putting up a pull request for the notebook, but no guarantees.",
    "created_at": "2012-11-10T00:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152496",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'>**Comment 5:**</a>
To get `header_column` to have any effect in HTML, we also will need to patch the Sage notebook, to modify the file `devel/sagenb/sagenb/data/sage/css/main.css`:

```diff
--- main.css.orig	2012-08-31 13:52:42.000000000 -0700
+++ main.css	2012-11-09 13:05:29.000000000 -0800
@@ -445,6 +445,8 @@
 table.table_form * td { padding-top: 5px; padding-bottom: 5px; padding-left: 15px; padding-right: 15px; }
 /* line 899, ../../../../sass/src/main.scss */
 table.table_form * th { background: #a6ba4e; height: 29px; padding-left: 15px; padding-right: 15px; padding-top: 5px; padding-bottom: 5px; color: white; text-align: left; }
+table.table_form * th.ch { background: #7c8b3a; }
+table.table_form * td.ch { background: #a6ba4e; color: white; }
 /* line 909, ../../../../sass/src/main.scss */
 table.table_form * tr.row-a { background: #f8f8f8; text-align: left; }
 /* line 912, ../../../../sass/src/main.scss */
```
I guess this means a change to `devel/sagenb/sass/src/main.scss`, but I'm not sure of the syntax in that file. Maybe this:

```diff
--- main.scss.orig	2012-08-31 13:51:10.000000000 -0700
+++ main.scss	2012-11-09 13:06:47.000000000 -0800
@@ -895,7 +895,10 @@
       padding-top: 5px;
       padding-bottom: 5px;
       padding-left: 15px;
-      padding-right: 15px; }
+      padding-right: 15px;
+      &.ch {
+        background: #a6ba4e;
+	color: white; } }
     th {
       background: #a6ba4e;
       height: 29px;
@@ -904,7 +907,9 @@
       padding-top: 5px;
       padding-bottom: 5px;
       color: white;
-      text-align: left; }
+      text-align: left;
+      &.ch {
+      	background: #7c8b3a; } }
     tr {
       &.row-a {
         background: #f8f8f8;
```
This is not a big deal and the ticket can be merged independently of such a change. I may get around to putting up a pull request for the notebook, but no guarantees.



---

archive/issue_comments_152497.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\nOh, one more thing, at least for now: the previously existing technique of using `html.table(...)` treated a single list as a column, whereas this patch treats a single list as a row instead. This feels more natural to me. Anyone who really wants either a single row or a single column should use nested lists properly anyway.",
    "created_at": "2012-11-10T00:22:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152497",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'>**Comment 6:**</a>
Oh, one more thing, at least for now: the previously existing technique of using `html.table(...)` treated a single list as a column, whereas this patch treats a single list as a row instead. This feels more natural to me. Anyone who really wants either a single row or a single column should use nested lists properly anyway.



---

archive/issue_comments_152498.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\nMy refrain of the last few months to your patches has been \"I don't have time to give it a proper review, but this looks great on the face of it\", so why not repeat it?   I look forward to using this, and I *know* a lot of other people who rely on the equivalent way too much in Mma will love it.",
    "created_at": "2012-11-10T01:59:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152498",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'>**Comment 7:**</a>
My refrain of the last few months to your patches has been "I don't have time to give it a proper review, but this looks great on the face of it", so why not repeat it?   I look forward to using this, and I *know* a lot of other people who rely on the equivalent way too much in Mma will love it.



---

archive/issue_comments_152499.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\nRight now `html.table(data, header=True)` treats the first row as the header, but `html.table(data, header=['label1', 'label2'])` will let you specify the header independently.  This is *extremely* useful.  Usually I have a table of numbers or something, and being able to just specify the header row separately makes a huge difference in clarity.",
    "created_at": "2012-11-10T02:00:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152499",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:8'>**Comment 8:**</a>
Right now `html.table(data, header=True)` treats the first row as the header, but `html.table(data, header=['label1', 'label2'])` will let you specify the header independently.  This is *extremely* useful.  Usually I have a table of numbers or something, and being able to just specify the header row separately makes a huge difference in clarity.



---

archive/issue_comments_152500.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\nI think that\n\n```\ntable([head] + data, header_row=True)\n```\nis just about as clear as\n\n```\ntable(data, header_row=head)\n```\nespecially since `head` comes first in the first version, consistent with its position in the table. But here's a new patch which implements both, and the same for `header_column`.",
    "created_at": "2012-11-10T04:53:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152500",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'>**Comment 9:**</a>
I think that

```
table([head] + data, header_row=True)
```
is just about as clear as

```
table(data, header_row=head)
```
especially since `head` comes first in the first version, consistent with its position in the table. But here's a new patch which implements both, and the same for `header_column`.



---

archive/issue_comments_152501.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\nThanks!  I was going to submit a follow-up patch to add that, but thanks for taking care of it!",
    "created_at": "2012-11-10T04:56:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152501",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:10'>**Comment 10:**</a>
Thanks!  I was going to submit a follow-up patch to add that, but thanks for taking care of it!



---

archive/issue_comments_152502.json:
```json
{
    "body": "<a id='comment:11'>**Comment 11:**</a>\nBy the way, doing something like\n\n```\ntable(data, header_row=['a', 'b', 'c'], header_column=['x', 'y'])\n```\nis just strange. I can explain what it would do \u2013 first add the header row at the top of the data, then add the header column on the left \u2013 but in the docstring I just said that doing this is \"not supported\". Someone can specify `True` for one argument and a list for the other, or `True` for both, but I don't want to document using a list for both.",
    "created_at": "2012-11-10T05:00:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152502",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'>**Comment 11:**</a>
By the way, doing something like

```
table(data, header_row=['a', 'b', 'c'], header_column=['x', 'y'])
```
is just strange. I can explain what it would do – first add the header row at the top of the data, then add the header column on the left – but in the docstring I just said that doing this is "not supported". Someone can specify `True` for one argument and a list for the other, or `True` for both, but I don't want to document using a list for both.



---

archive/issue_comments_152503.json:
```json
{
    "body": "<a id='comment:12'>**Comment 12:**</a>\nNew patch, expanding on the documentation of the `options` method, and also running a `Testsuite`.",
    "created_at": "2012-11-11T17:39:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152503",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:12'>**Comment 12:**</a>
New patch, expanding on the documentation of the `options` method, and also running a `Testsuite`.



---

archive/issue_comments_152504.json:
```json
{
    "body": "<a id='comment:14'>**Comment 14:**</a>\nSome dumb questions.\n* ` elif header_row is not False:` why not just ` elif header_row`?  Presumably a Python subtlety.\n* Do we need something in `html.table()` (what remains of it) to change it so that the previous behavior of a single list giving a column and not a row is preserved?  I know you removed the example, but technically speaking one should deprecate this...\n* Is there an extra\n\n```\nself._options['header_column'] = header_column\n```\n   in there?  It should be set already above that.\n* I don't see any error catching.  This is particularly important in making sure someone doesn't (contra the doc, but still) try to add in a header row later on via `header_row=[1,2,3]` and in making sure that the table is, in fact, a rectangle.  I think that for sanity, especially with very large tables, this would be helpful to have this error instead of who-knows-what-crazy-error Sage would raise otherwise.\n* Feature request; take a list of lists and just fill in the rest!  I had to make my own code for this in some sense, filling in empty slots, if I recall correctly.  But presumably this is like the list in [comment:2](#comment%3A2) and for a future ticket.",
    "created_at": "2013-02-12T17:16:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152504",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'>**Comment 14:**</a>
Some dumb questions.
* ` elif header_row is not False:` why not just ` elif header_row`?  Presumably a Python subtlety.
* Do we need something in `html.table()` (what remains of it) to change it so that the previous behavior of a single list giving a column and not a row is preserved?  I know you removed the example, but technically speaking one should deprecate this...
* Is there an extra

```
self._options['header_column'] = header_column
```
   in there?  It should be set already above that.
* I don't see any error catching.  This is particularly important in making sure someone doesn't (contra the doc, but still) try to add in a header row later on via `header_row=[1,2,3]` and in making sure that the table is, in fact, a rectangle.  I think that for sanity, especially with very large tables, this would be helpful to have this error instead of who-knows-what-crazy-error Sage would raise otherwise.
* Feature request; take a list of lists and just fill in the rest!  I had to make my own code for this in some sense, filling in empty slots, if I recall correctly.  But presumably this is like the list in [comment:2](#comment%3A2) and for a future ticket.



---

archive/issue_events_154338.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-02-12T17:16:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154338"
}
```



---

archive/issue_events_154339.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-02-12T17:16:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154339"
}
```



---

archive/issue_comments_152505.json:
```json
{
    "body": "**Reviewer:** Jason Grout, Karl-Dieter Crisman",
    "created_at": "2013-02-12T17:16:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152505",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Jason Grout, Karl-Dieter Crisman



---

archive/issue_comments_152506.json:
```json
{
    "body": "<a id='comment:15'>**Comment 15:**</a>\nI was just speaking with Andrew Mathas of the Sage-combinat group at Sage Days at ICERM and it turns out that he has a pretty impressive (minor bugs remaining) table object as well, which takes any iterable as a header column with *indexing* and has a slew of formatting options.  Although the current functionality is almost ready for showtime, it would be useful to have some dialogue about the relation between these things, especially because some of the formatting stuff is nice.  He also has a nice hook to ask for displaying a table in a browser automatically (html gets sent to the browser).",
    "created_at": "2013-02-12T17:56:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152506",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'>**Comment 15:**</a>
I was just speaking with Andrew Mathas of the Sage-combinat group at Sage Days at ICERM and it turns out that he has a pretty impressive (minor bugs remaining) table object as well, which takes any iterable as a header column with *indexing* and has a slew of formatting options.  Although the current functionality is almost ready for showtime, it would be useful to have some dialogue about the relation between these things, especially because some of the formatting stuff is nice.  He also has a nice hook to ask for displaying a table in a browser automatically (html gets sent to the browser).



---

archive/issue_comments_152507.json:
```json
{
    "body": "<a id='comment:16'>**Comment 16:**</a>\nReplying to [@kcrisman](#comment%3A15):\n> I was just speaking with Andrew Mathas of the Sage-combinat group at Sage Days at ICERM and it turns out that he has a pretty impressive (minor bugs remaining) table object as well, which takes any iterable as a header column with *indexing* and has a slew of formatting options.  Although the current functionality is almost ready for showtime, it would be useful to have some dialogue about the relation between these things, especially because some of the formatting stuff is nice.  He also has a nice hook to ask for displaying a table in a browser automatically (html gets sent to the browser).\n\nSee #14103.",
    "created_at": "2013-02-12T18:06:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152507",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'>**Comment 16:**</a>
Replying to [@kcrisman](#comment%3A15):
> I was just speaking with Andrew Mathas of the Sage-combinat group at Sage Days at ICERM and it turns out that he has a pretty impressive (minor bugs remaining) table object as well, which takes any iterable as a header column with *indexing* and has a slew of formatting options.  Although the current functionality is almost ready for showtime, it would be useful to have some dialogue about the relation between these things, especially because some of the formatting stuff is nice.  He also has a nice hook to ask for displaying a table in a browser automatically (html gets sent to the browser).

See #14103.



---

archive/issue_comments_152508.json:
```json
{
    "body": "<a id='comment:17'>**Comment 17:**</a>\n> * Feature request; take a list of lists and just fill in the rest!  I had to make my own code for this in some sense, filling in empty slots, if I recall correctly.  But presumably this is like the list in [comment:2](#comment%3A2) and for a future ticket.\n\nThis already works.  I think I was wanting to have this work better, so that I didn't have to use `map(None,...)` and then replace with `''`.\n\n```\n@interact \ndef _(n=7): \n    L = map(None,[p for p in prime_range(n+1) if p%4==1],[p for p in prime_range(n+1) if p%4==3]) \n    L = [['',l[1]] if l[0] is None else l for l in L] \n    T = [['$p\\equiv 1\\\\text{ mod}(4)$','$p\\equiv 3\\\\text{ mod}(4)$']]    \n    html.table(T+L,header=True)\n```\nBut probably that's irrelevant.",
    "created_at": "2013-02-12T18:12:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152508",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:17'>**Comment 17:**</a>
> * Feature request; take a list of lists and just fill in the rest!  I had to make my own code for this in some sense, filling in empty slots, if I recall correctly.  But presumably this is like the list in [comment:2](#comment%3A2) and for a future ticket.

This already works.  I think I was wanting to have this work better, so that I didn't have to use `map(None,...)` and then replace with `''`.

```
@interact 
def _(n=7): 
    L = map(None,[p for p in prime_range(n+1) if p%4==1],[p for p in prime_range(n+1) if p%4==3]) 
    L = [['',l[1]] if l[0] is None else l for l in L] 
    T = [['$p\equiv 1\\text{ mod}(4)$','$p\equiv 3\\text{ mod}(4)$']]    
    html.table(T+L,header=True)
```
But probably that's irrelevant.



---

archive/issue_comments_152509.json:
```json
{
    "body": "<a id='comment:18'>**Comment 18:**</a>\nWhew.  I would probably do that either of these two ways (the second way is more efficient, but really you could even do better by caching the table from run to run)\n\n```\nfrom itertools import izip_longest\nfrom collections import defaultdict\n\n@interact \ndef _(n=7):\n    L = list(izip_longest([p for p in prime_range(n+1) if p%4==1],[p for p in prime_range(n+1) if p%4==3],fillvalue=''))\n    html.table(L,header=['$p\\equiv 1\\\\text{ mod}(4)$','$p\\equiv 3\\\\text{ mod}(4)$'])\n\n\n@interact \ndef _(n=7):\n    m = defaultdict(list)\n    for p in prime_range(n+1):\n        m[p%4].append(p)\n    L = list(izip_longest(m[1], m[3],fillvalue=''))\n    html.table(L,header=['$p\\equiv 1\\\\text{ mod}(4)$','$p\\equiv 3\\\\text{ mod}(4)$'])\n```",
    "created_at": "2013-02-12T19:10:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152509",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:18'>**Comment 18:**</a>
Whew.  I would probably do that either of these two ways (the second way is more efficient, but really you could even do better by caching the table from run to run)

```
from itertools import izip_longest
from collections import defaultdict

@interact 
def _(n=7):
    L = list(izip_longest([p for p in prime_range(n+1) if p%4==1],[p for p in prime_range(n+1) if p%4==3],fillvalue=''))
    html.table(L,header=['$p\equiv 1\\text{ mod}(4)$','$p\equiv 3\\text{ mod}(4)$'])


@interact 
def _(n=7):
    m = defaultdict(list)
    for p in prime_range(n+1):
        m[p%4].append(p)
    L = list(izip_longest(m[1], m[3],fillvalue=''))
    html.table(L,header=['$p\equiv 1\\text{ mod}(4)$','$p\equiv 3\\text{ mod}(4)$'])
```



---

archive/issue_comments_152510.json:
```json
{
    "body": "<a id='comment:19'>**Comment 19:**</a>\nHmm, so you're saying it's not really a failing in `html.table`?",
    "created_at": "2013-02-12T19:32:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152510",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:19'>**Comment 19:**</a>
Hmm, so you're saying it's not really a failing in `html.table`?



---

archive/issue_comments_152511.json:
```json
{
    "body": "<a id='comment:20'>**Comment 20:**</a>\nIf html.table took a list of columns, then I think you could argue your case.  Since it takes a list of rows, you have to pad the columns with the empty cells.\n\nIf you formatted your table as two rows, then I think html.table should (but probably doesn't) format different-sized rows.\n\nOn the other hand, it seems useful to have a columns option of some sort to the table.  Or maybe we can just use pandas (eventually) for more sophisticated formatting.",
    "created_at": "2013-02-12T19:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152511",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:20'>**Comment 20:**</a>
If html.table took a list of columns, then I think you could argue your case.  Since it takes a list of rows, you have to pad the columns with the empty cells.

If you formatted your table as two rows, then I think html.table should (but probably doesn't) format different-sized rows.

On the other hand, it seems useful to have a columns option of some sort to the table.  Or maybe we can just use pandas (eventually) for more sophisticated formatting.



---

archive/issue_comments_152512.json:
```json
{
    "body": "<a id='comment:21'>**Comment 21:**</a>\nReplying to [@kcrisman](#comment%3A14):\n> Some dumb questions.\n> * ` elif header_row is not False:` why not just ` elif header_row`?  Presumably a Python subtlety.\n\nI think that can be changed.\n\n> * Do we need something in `html.table()` (what remains of it) to change it so that the previous behavior of a single list giving a column and not a row is preserved?  I know you removed the example, but technically speaking one should deprecate this...\n\nTechnically speaking, I think you're right. I don't like the old behavior at all; it doesn't make sense to me. It might actually make sense to just raise an error if you pass a single list, not a nested list. I'm not sure what the right thing to do is.\n\n> * Is there an extra\n> \n> ```\n> self._options['header_column'] = header_column\n> ```\n>    in there?  It should be set already above that.\n\nYes, you're right.\n\n> * I don't see any error catching.  This is particularly important in making sure someone doesn't (contra the doc, but still) try to add in a header row later on via `header_row=[1,2,3]` \n\nSo you're suggesting that\n\n```\nsage: T = table([[1,2,3], [4,5,6]])\nsage: T.options(header_row=['x', 'y', 'z'])\n```\nshould raise an error instead of just silently making `[1,2,3]` the header? Okay, I guess that makes sense.\n\n> and in making sure that the table is, in fact, a rectangle.  I think that for sanity, especially with very large tables, this would be helpful to have this error instead of who-knows-what-crazy-error Sage would raise otherwise.\n> * Feature request; take a list of lists and just fill in the rest!  I had to make my own code for this in some sense, filling in empty slots, if I recall correctly.  But presumably this is like the list in [comment:2](#comment%3A2) and for a future ticket.\n\nI'm not sure how these last two items relate to each other: the last one sounds like you want to be able to pass lists of different lengths and have the gaps filled in, and the previous one sounds like you want to raise an error if you pass lists of different lengths. But maybe I don't understand.\n\nWould it be useful to have a `transpose` method to switch rows and columns? Here's a new patch which adds that, and also addresses all of the issues except the old behavior of `html.table()` and the last issue about a non-rectangular situation.",
    "created_at": "2013-02-13T23:38:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152512",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:21'>**Comment 21:**</a>
Replying to [@kcrisman](#comment%3A14):
> Some dumb questions.
> * ` elif header_row is not False:` why not just ` elif header_row`?  Presumably a Python subtlety.

I think that can be changed.

> * Do we need something in `html.table()` (what remains of it) to change it so that the previous behavior of a single list giving a column and not a row is preserved?  I know you removed the example, but technically speaking one should deprecate this...

Technically speaking, I think you're right. I don't like the old behavior at all; it doesn't make sense to me. It might actually make sense to just raise an error if you pass a single list, not a nested list. I'm not sure what the right thing to do is.

> * Is there an extra
> 
> ```
> self._options['header_column'] = header_column
> ```
>    in there?  It should be set already above that.

Yes, you're right.

> * I don't see any error catching.  This is particularly important in making sure someone doesn't (contra the doc, but still) try to add in a header row later on via `header_row=[1,2,3]` 

So you're suggesting that

```
sage: T = table([[1,2,3], [4,5,6]])
sage: T.options(header_row=['x', 'y', 'z'])
```
should raise an error instead of just silently making `[1,2,3]` the header? Okay, I guess that makes sense.

> and in making sure that the table is, in fact, a rectangle.  I think that for sanity, especially with very large tables, this would be helpful to have this error instead of who-knows-what-crazy-error Sage would raise otherwise.
> * Feature request; take a list of lists and just fill in the rest!  I had to make my own code for this in some sense, filling in empty slots, if I recall correctly.  But presumably this is like the list in [comment:2](#comment%3A2) and for a future ticket.

I'm not sure how these last two items relate to each other: the last one sounds like you want to be able to pass lists of different lengths and have the gaps filled in, and the previous one sounds like you want to raise an error if you pass lists of different lengths. But maybe I don't understand.

Would it be useful to have a `transpose` method to switch rows and columns? Here's a new patch which adds that, and also addresses all of the issues except the old behavior of `html.table()` and the last issue about a non-rectangular situation.



---

archive/issue_comments_152513.json:
```json
{
    "body": "<a id='comment:22'>**Comment 22:**</a>\n**Attachment:** [trac_13131-tables.patch.gz](https://github.com/sagemath/sage/files/ticket13131/trac_13131-tables.patch.gz)\n\nI also added documentation (in the `eval` method in html.py) for calling the `_html_` method for an object, if it has one. This is analogous to the `_latex_` method. I think this could be useful in other situations.",
    "created_at": "2013-02-13T23:59:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152513",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:22'>**Comment 22:**</a>
**Attachment:** [trac_13131-tables.patch.gz](https://github.com/sagemath/sage/files/ticket13131/trac_13131-tables.patch.gz)

I also added documentation (in the `eval` method in html.py) for calling the `_html_` method for an object, if it has one. This is analogous to the `_latex_` method. I think this could be useful in other situations.



---

archive/issue_events_154340.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2013-02-14T15:38:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154340"
}
```



---

archive/issue_events_154341.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2013-02-14T15:38:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154341"
}
```



---

archive/issue_comments_152514.json:
```json
{
    "body": "<a id='comment:24'>**Comment 24:**</a>\nThanks for clarifying the documentation of `html(_)` and for making `html` calling `_html_` if it exists.\n\nI have two questions:\n\n1. Doc of `html` now says:\n\n    ```\n    In any case, *print* the resulting html string. This method \n    always *returns* an empty string. \n    ```\n\nWhat if I want to print the output in a file and not in the shell. What should I do? This is something I came across in the past.\n\n2. I really like the `table` function. I am defining such a function in a patch I posted just yesterday at #13069. In my case, the function takes columns as input and not rows. So, if I want to use your code, would you propose an interface that takes columns as input:\n\n    ```python\n    sage: columns = [('a', 100, 4), ('b', 2, 5), ('c', 3, 60)] \n    sage: table(columns=columns)\n    ```\n\nor the user should transpose columns into rows himself?\n\n    ```python\n    sage: columns = [('a', 100, 4), ('b', 2, 5), ('c', 3, 60)] \n    sage: rows = zip(*columns)\n    sage: rows\n    [('a', 'b', 'c'), (100, 2, 3), (4, 5, 60)]\n    sage: table(rows)\n    ```",
    "created_at": "2013-04-02T14:02:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152514",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:24'>**Comment 24:**</a>
Thanks for clarifying the documentation of `html(_)` and for making `html` calling `_html_` if it exists.

I have two questions:

1. Doc of `html` now says:

    ```
    In any case, *print* the resulting html string. This method 
    always *returns* an empty string. 
    ```

What if I want to print the output in a file and not in the shell. What should I do? This is something I came across in the past.

2. I really like the `table` function. I am defining such a function in a patch I posted just yesterday at #13069. In my case, the function takes columns as input and not rows. So, if I want to use your code, would you propose an interface that takes columns as input:

    ```python
    sage: columns = [('a', 100, 4), ('b', 2, 5), ('c', 3, 60)] 
    sage: table(columns=columns)
    ```

or the user should transpose columns into rows himself?

    ```python
    sage: columns = [('a', 100, 4), ('b', 2, 5), ('c', 3, 60)] 
    sage: rows = zip(*columns)
    sage: rows
    [('a', 'b', 'c'), (100, 2, 3), (4, 5, 60)]
    sage: table(rows)
    ```



---

archive/issue_comments_152515.json:
```json
{
    "body": "<a id='comment:25'>**Comment 25:**</a>\nI would prefer a more straightforward method then going through zipping (which would not immediately occur to me if I was thinking of it).",
    "created_at": "2013-04-02T14:16:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152515",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:25'>**Comment 25:**</a>
I would prefer a more straightforward method then going through zipping (which would not immediately occur to me if I was thinking of it).



---

archive/issue_comments_152516.json:
```json
{
    "body": "<a id='comment:26'>**Comment 26:**</a>\n> 2. I really like the `table` function. I am defining such a function in a patch I posted just yesterday at #13069. In my case, the function takes columns as input and not rows. So, if I want to use your code, would you propose an interface that takes columns as input:\n\nSee yet another implementation at #14103.\n\n+1 to being straightforward.",
    "created_at": "2013-04-02T16:39:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152516",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:26'>**Comment 26:**</a>
> 2. I really like the `table` function. I am defining such a function in a patch I posted just yesterday at #13069. In my case, the function takes columns as input and not rows. So, if I want to use your code, would you propose an interface that takes columns as input:

See yet another implementation at #14103.

+1 to being straightforward.



---

archive/issue_comments_152517.json:
```json
{
    "body": "<a id='comment:27'>**Comment 27:**</a>\nReplying to [@seblabbe](#comment%3A24):\n> 2. I really like the `table` function. I am defining such a function in a patch I posted just yesterday at #13069.\n\nTo make the reference easier, here is the function I coded at #13069 (the patch is 90 Kb).\n\n```python\ndef table_from_columns(col1, col2, space=3):\n    r\"\"\"\n    Return a string of a table of two columns.\n\n    This is used by the ``_repr_`` method of DoubleSquare class.\n\n    INPUT:\n\n    - ``col1`` - list\n    - ``col2`` - list\n    - ``space`` - integer (default ``3``), number of space characters\n      between\n\n    EXAMPLES::\n\n        sage: from sage.combinat.double_square_tile import table_from_columns\n        sage: col1 = ['ab','asdfasdf', 'adf']\n        sage: col2 = ['11', '1313', '131313', '1313']\n        sage: print table_from_columns(col1, col2)\n        ab         11\n        asdfasdf   1313\n        adf        131313\n                   1313\n    \"\"\"\n    from itertools import izip_longest\n    width_col1 = max(map(len, col1))\n    it = izip_longest(col1,col2, fillvalue='')\n    L = [a.ljust(width_col1 + space) + b for (a,b) in it]\n    return '\\n'.join(L)\n```",
    "created_at": "2013-04-02T17:10:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152517",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:27'>**Comment 27:**</a>
Replying to [@seblabbe](#comment%3A24):
> 2. I really like the `table` function. I am defining such a function in a patch I posted just yesterday at #13069.

To make the reference easier, here is the function I coded at #13069 (the patch is 90 Kb).

```python
def table_from_columns(col1, col2, space=3):
    r"""
    Return a string of a table of two columns.

    This is used by the ``_repr_`` method of DoubleSquare class.

    INPUT:

    - ``col1`` - list
    - ``col2`` - list
    - ``space`` - integer (default ``3``), number of space characters
      between

    EXAMPLES::

        sage: from sage.combinat.double_square_tile import table_from_columns
        sage: col1 = ['ab','asdfasdf', 'adf']
        sage: col2 = ['11', '1313', '131313', '1313']
        sage: print table_from_columns(col1, col2)
        ab         11
        asdfasdf   1313
        adf        131313
                   1313
    """
    from itertools import izip_longest
    width_col1 = max(map(len, col1))
    it = izip_longest(col1,col2, fillvalue='')
    L = [a.ljust(width_col1 + space) + b for (a,b) in it]
    return '\n'.join(L)
```



---

archive/issue_comments_152518.json:
```json
{
    "body": "<a id='comment:28'>**Comment 28:**</a>\nReplying to [@seblabbe](#comment%3A24):\n> Thanks for clarifying the documentation of `html(_)` and for making `html` calling `_html_` if it exists.\n> \n> I have two questions:\n> \n> 1. Doc of `html` now says:\n> \n>     ```\n>     In any case, *print* the resulting html string. This method \n>     always *returns* an empty string. \n>     ```\n> \n> What if I want to print the output in a file and not in the shell. What should I do? This is something I came across in the past.\n\nThis is just documentation; I haven't changed the code. If we want to change the behavior of `html` (maybe just adding a `str` method or something like that), let's do it on another ticket and keep this one focused on tables.\n\n> 2. I really like the `table` function. I am defining such a function in a patch I posted just yesterday at #13069. In my case, the function takes columns as input and not rows. So, if I want to use your code, would you propose an interface that takes columns as input:\n> \n>     ```python\n>     sage: columns = [('a', 100, 4), ('b', 2, 5), ('c', 3, 60)] \n>     sage: table(columns=columns)\n>     ```\n\nI can add this, but what should happen if you do `table(array, column=columns)`? Raise an error? Or try to combine the two sets of data somehow? I think I prefer to raise an error.\n\n> or the user should transpose columns into rows himself?\n\nThe easiest thing to do with the code as it stands is `table(columns).transpose()`.",
    "created_at": "2013-04-02T17:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152518",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:28'>**Comment 28:**</a>
Replying to [@seblabbe](#comment%3A24):
> Thanks for clarifying the documentation of `html(_)` and for making `html` calling `_html_` if it exists.
> 
> I have two questions:
> 
> 1. Doc of `html` now says:
> 
>     ```
>     In any case, *print* the resulting html string. This method 
>     always *returns* an empty string. 
>     ```
> 
> What if I want to print the output in a file and not in the shell. What should I do? This is something I came across in the past.

This is just documentation; I haven't changed the code. If we want to change the behavior of `html` (maybe just adding a `str` method or something like that), let's do it on another ticket and keep this one focused on tables.

> 2. I really like the `table` function. I am defining such a function in a patch I posted just yesterday at #13069. In my case, the function takes columns as input and not rows. So, if I want to use your code, would you propose an interface that takes columns as input:
> 
>     ```python
>     sage: columns = [('a', 100, 4), ('b', 2, 5), ('c', 3, 60)] 
>     sage: table(columns=columns)
>     ```

I can add this, but what should happen if you do `table(array, column=columns)`? Raise an error? Or try to combine the two sets of data somehow? I think I prefer to raise an error.

> or the user should transpose columns into rows himself?

The easiest thing to do with the code as it stands is `table(columns).transpose()`.



---

archive/issue_comments_152519.json:
```json
{
    "body": "<a id='comment:29'>**Comment 29:**</a>\nReplying to [@jhpalmieri](#comment%3A28):\n> This is just documentation; I haven't changed the code. If we want to change the behavior of `html` (maybe just adding a `str` method or something like that), let's do it on another ticket and keep this one focused on tables.\n\nI agree. I just can't close my mouth sometimes!\n\n> I can add this, but what should happen if you do `table(array, column=columns)`? Raise an error? Or try to combine the two sets of data somehow? I think I prefer to raise an error.\n\nor maybe the interface could be :\n\n```\nsage: table(data=rows)\n...\nsage: table(data=columns, orientation='columns')\n...\n```\n\nwhere orientation would be an optional argument taking `'rows'` as default value? This way there can't be inconsistent inputs.\n\n> The easiest thing to do with the code as it stands is `table(columns).transpose()`.\n\nok",
    "created_at": "2013-04-02T17:34:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152519",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:29'>**Comment 29:**</a>
Replying to [@jhpalmieri](#comment%3A28):
> This is just documentation; I haven't changed the code. If we want to change the behavior of `html` (maybe just adding a `str` method or something like that), let's do it on another ticket and keep this one focused on tables.

I agree. I just can't close my mouth sometimes!

> I can add this, but what should happen if you do `table(array, column=columns)`? Raise an error? Or try to combine the two sets of data somehow? I think I prefer to raise an error.

or maybe the interface could be :

```
sage: table(data=rows)
...
sage: table(data=columns, orientation='columns')
...
```

where orientation would be an optional argument taking `'rows'` as default value? This way there can't be inconsistent inputs.

> The easiest thing to do with the code as it stands is `table(columns).transpose()`.

ok



---

archive/issue_comments_152520.json:
```json
{
    "body": "<a id='comment:30'>**Comment 30:**</a>\nI think I like\n\n```\nsage: table(rows=...)\n...\nsage: table(columns=...)\n...\n```\nbecause it puts the two formats on equal footing. I've attached a new patch which incorporates this. It also expands on the documentation somewhat.",
    "created_at": "2013-04-02T17:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152520",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:30'>**Comment 30:**</a>
I think I like

```
sage: table(rows=...)
...
sage: table(columns=...)
...
```
because it puts the two formats on equal footing. I've attached a new patch which incorporates this. It also expands on the documentation somewhat.



---

archive/issue_comments_152521.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -26,3 +26,5 @@\n         \\end{tabular}\n ```\n You can also specify alignments of 'left', 'center', or 'right'.\n+\n+Apply [attachment:trac_13131-tables-with-columns.patch](https://github.com/sagemath/sage/files/ticket13131/trac_13131-tables-with-columns.patch).\n``````\n",
    "created_at": "2013-04-02T17:55:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152521",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -26,3 +26,5 @@
         \end{tabular}
 ```
 You can also specify alignments of 'left', 'center', or 'right'.
+
+Apply [attachment:trac_13131-tables-with-columns.patch](https://github.com/sagemath/sage/files/ticket13131/trac_13131-tables-with-columns.patch).
``````




---

archive/issue_comments_152522.json:
```json
{
    "body": "**Attachment:** [trac_13131-tables-with-columns.patch.gz](https://github.com/sagemath/sage/files/ticket13131/trac_13131-tables-with-columns.patch.gz)",
    "created_at": "2013-04-02T17:58:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152522",
    "user": "https://github.com/jhpalmieri"
}
```

**Attachment:** [trac_13131-tables-with-columns.patch.gz](https://github.com/sagemath/sage/files/ticket13131/trac_13131-tables-with-columns.patch.gz)



---

archive/issue_comments_152523.json:
```json
{
    "body": "<a id='comment:32'>**Comment 32:**</a>\nJust added a patch which does nothing but removing trailing spaces (on 3 lines) and added the r to the \"\"\" to make doc be raw strings. ...sometimes I get doctest errors because I do not put this r. Maybe I am afraid of witches...\n\nJason, Karl-Dieter, to me this is positive review. Did you have anything else to say?\n\nS\u00e9bastien",
    "created_at": "2013-04-03T10:39:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152523",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:32'>**Comment 32:**</a>
Just added a patch which does nothing but removing trailing spaces (on 3 lines) and added the r to the """ to make doc be raw strings. ...sometimes I get doctest errors because I do not put this r. Maybe I am afraid of witches...

Jason, Karl-Dieter, to me this is positive review. Did you have anything else to say?

Sébastien



---

archive/issue_comments_152524.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -27,4 +27,4 @@\n ```\n You can also specify alignments of 'left', 'center', or 'right'.\n \n-Apply [attachment:trac_13131-tables-with-columns.patch](https://github.com/sagemath/sage/files/ticket13131/trac_13131-tables-with-columns.patch).\n+Apply [[attachment:trac_13131_review-sl.patch](https://github.com/sagemath/sage/files/ticket13131/20dc941bae83e02b36c4716a3b537505.patch](https://github.com/sagemath/sage/files/ticket13131/d60d8db07b5a05b5367ce6e2f97259f2.patch),).\n``````\n",
    "created_at": "2013-04-03T10:39:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152524",
    "user": "https://github.com/seblabbe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -27,4 +27,4 @@
 ```
 You can also specify alignments of 'left', 'center', or 'right'.
 
-Apply [attachment:trac_13131-tables-with-columns.patch](https://github.com/sagemath/sage/files/ticket13131/trac_13131-tables-with-columns.patch).
+Apply [[attachment:trac_13131_review-sl.patch](https://github.com/sagemath/sage/files/ticket13131/20dc941bae83e02b36c4716a3b537505.patch](https://github.com/sagemath/sage/files/ticket13131/d60d8db07b5a05b5367ce6e2f97259f2.patch),).
``````




---

archive/issue_comments_152525.json:
```json
{
    "body": "**Changing reviewer** from \"Jason Grout, Karl-Dieter Crisman\" to \"Jason Grout, Karl-Dieter Crisman, S\u00e9bastien Labb\u00e9\".",
    "created_at": "2013-04-03T10:39:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152525",
    "user": "https://github.com/seblabbe"
}
```

**Changing reviewer** from "Jason Grout, Karl-Dieter Crisman" to "Jason Grout, Karl-Dieter Crisman, Sébastien Labbé".



---

archive/issue_comments_152526.json:
```json
{
    "body": "review: Spaces and r\"\"\" fixes",
    "created_at": "2013-04-03T10:41:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152526",
    "user": "https://github.com/seblabbe"
}
```

review: Spaces and r""" fixes



---

archive/issue_comments_152527.json:
```json
{
    "body": "<a id='comment:33'>**Comment 33:**</a>\n**Attachment:** [trac_13131_review-sl.patch.gz](https://github.com/sagemath/sage/files/ticket13131/trac_13131_review-sl.patch.gz)\n\nApply trac_13131-tables-with-columns.patch, trac_13131_review-sl.patch",
    "created_at": "2013-04-03T10:42:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152527",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:33'>**Comment 33:**</a>
**Attachment:** [trac_13131_review-sl.patch.gz](https://github.com/sagemath/sage/files/ticket13131/trac_13131_review-sl.patch.gz)

Apply trac_13131-tables-with-columns.patch, trac_13131_review-sl.patch



---

archive/issue_comments_152528.json:
```json
{
    "body": "<a id='comment:34'>**Comment 34:**</a>\n> Jason, Karl-Dieter, to me this is positive review. Did you have anything else to say?\n\nIf you looked at the latest code carefully, nothing would please me more than for this to get in.  I love all the improvements since the very first version.  It is probably the number 1 or 2 most-requested basic feature in Sage available at the top level, in my experience, and will be very well received.",
    "created_at": "2013-04-04T16:10:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152528",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:34'>**Comment 34:**</a>
> Jason, Karl-Dieter, to me this is positive review. Did you have anything else to say?

If you looked at the latest code carefully, nothing would please me more than for this to get in.  I love all the improvements since the very first version.  It is probably the number 1 or 2 most-requested basic feature in Sage available at the top level, in my experience, and will be very well received.



---

archive/issue_comments_152529.json:
```json
{
    "body": "<a id='comment:35'>**Comment 35:**</a>\nI haven't tested it, but I don't see any big red flags in the code either.  Thanks!",
    "created_at": "2013-04-04T18:27:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152529",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:35'>**Comment 35:**</a>
I haven't tested it, but I don't see any big red flags in the code either.  Thanks!



---

archive/issue_events_154342.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2013-04-04T19:20:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154342"
}
```



---

archive/issue_events_154343.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2013-04-04T19:20:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154343"
}
```



---

archive/issue_events_154344.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-05T13:35:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "milestone_number": null,
    "milestone_title": "sage-5.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154344"
}
```



---

archive/issue_events_154345.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-05T13:35:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154345"
}
```



---

archive/issue_events_154346.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-13T13:48:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154346"
}
```



---

archive/issue_events_154347.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-13T13:48:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13131#event-154347"
}
```



---

archive/issue_comments_152530.json:
```json
{
    "body": "**Merged:** sage-5.10.beta0",
    "created_at": "2013-04-13T13:48:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152530",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.10.beta0



---

archive/issue_comments_152531.json:
```json
{
    "body": "<a id='comment:39'>**Comment 39:**</a>\nsee #14601 for a small follow up bug",
    "created_at": "2013-05-16T20:32:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13131#issuecomment-152531",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:39'>**Comment 39:**</a>
see #14601 for a small follow up bug
