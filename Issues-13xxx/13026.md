# Issue 13026: Upgrade and clean up cddlib

archive/issues_012854.json:
```json
{
    "body": "The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.\n\nPart of metaticket #13025.\n\nUse tarball at:\n* http://boxen.math.washington.edu/home/jpflori/upstream/cddlib-094g.tar.bz2\n\n\nAssignee: tbd\n\nCC:  @ohanar jpflori snark\n\nKeywords: cddlib sd40.5\n\nReviewer: Karl-Dieter Crisman, Jeroen Demeyer, Jean-Pierre Flori\n\nAuthor: R. Andrew Ohana\n\nBranch: 322ec473abcf04fbcf610f3a43794f514ee3e62a\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13026\n\n",
    "closed_at": "2014-03-03T18:55:29Z",
    "created_at": "2012-05-27T00:11:52Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Upgrade and clean up cddlib",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13026",
    "user": "https://github.com/kini"
}
```
The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.

Part of metaticket #13025.

Use tarball at:
* http://boxen.math.washington.edu/home/jpflori/upstream/cddlib-094g.tar.bz2


Assignee: tbd

CC:  @ohanar jpflori snark

Keywords: cddlib sd40.5

Reviewer: Karl-Dieter Crisman, Jeroen Demeyer, Jean-Pierre Flori

Author: R. Andrew Ohana

Branch: 322ec473abcf04fbcf610f3a43794f514ee3e62a

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/13026





---

archive/issue_comments_191572.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff. Andrew Ohana will try to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.\n+The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket simplify the packaging of cddlib and also upgrade it to the latest version, 094g.\n \n Part of metaticket #13025.\n \n-Keywords: cddlib\n+New Spkg: [http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg](http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg).\n \n Comment: 1\n \n``````\n",
    "created_at": "2012-05-27T09:57:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191572",
    "user": "https://github.com/ohanar"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff. Andrew Ohana will try to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.
+The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket simplify the packaging of cddlib and also upgrade it to the latest version, 094g.
 
 Part of metaticket #13025.
 
-Keywords: cddlib
+New Spkg: [http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg](http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg).
 
 Comment: 1
 
``````




---

archive/issue_comments_191573.json:
```json
{
    "body": "Changing author from \"\" to \"R. Andrew Ohana\"",
    "created_at": "2012-05-27T09:57:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191573",
    "user": "https://github.com/ohanar"
}
```

Changing author from "" to "R. Andrew Ohana"



---

archive/issue_comments_191574.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-05-27T09:57:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191574",
    "user": "https://github.com/ohanar"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_191575.json:
```json
{
    "body": "Changing keywords from \"cddlib\" to \"cddlib sd40.5\".",
    "created_at": "2012-05-27T09:58:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191575",
    "user": "https://github.com/ohanar"
}
```

Changing keywords from "cddlib" to "cddlib sd40.5".



---

archive/issue_comments_191576.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-05-29T03:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191576",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_191577.json:
```json
{
    "body": "Changing work_issues from \"\" to \"make sure hard links used\"",
    "created_at": "2012-05-29T03:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191577",
    "user": "https://github.com/kcrisman"
}
```

Changing work_issues from "" to "make sure hard links used"



---

archive/issue_comments_191578.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Karl-Dieter Crisman\"",
    "created_at": "2012-05-29T03:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191578",
    "user": "https://github.com/kcrisman"
}
```

Changing reviewer from "" to "Karl-Dieter Crisman"



---

archive/issue_comments_191579.json:
```json
{
    "body": "<a id='comment:3'></a>This all makes sense.  I've opened #13056 to address that we might eventually want to have the docs available again.\n\nAll spkg and geometry/ tests pass on sage.math and my MacBook Pro.  As discussed with Andrew, just want to make sure that hard links were used as pointed out in SPKG.txt, which I can't check - otherwise positive review.",
    "created_at": "2012-05-29T03:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191579",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'></a>This all makes sense.  I've opened #13056 to address that we might eventually want to have the docs available again.

All spkg and geometry/ tests pass on sage.math and my MacBook Pro.  As discussed with Andrew, just want to make sure that hard links were used as pointed out in SPKG.txt, which I can't check - otherwise positive review.



---

archive/issue_comments_191580.json:
```json
{
    "body": "<a id='comment:4'></a>Ok, hard links should be setup now.",
    "created_at": "2012-05-29T06:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191580",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:4'></a>Ok, hard links should be setup now.



---

archive/issue_comments_191581.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-05-29T06:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191581",
    "user": "https://github.com/ohanar"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_191582.json:
```json
{
    "body": "Changing work_issues from \"make sure hard links used\" to \"\"",
    "created_at": "2012-05-29T06:03:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191582",
    "user": "https://github.com/ohanar"
}
```

Changing work_issues from "make sure hard links used" to ""



---

archive/issue_comments_191583.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.\n \n+Part of metaticket #13025.\n+\n+New SPKG: [http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg](http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg).\n \n Comment: 1\n \n``````\n",
    "created_at": "2012-05-29T21:34:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191583",
    "user": "https://github.com/kini"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.
 
+Part of metaticket #13025.
+
+New SPKG: [http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg](http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg).
 
 Comment: 1
 
``````




---

archive/issue_comments_191584.json:
```json
{
    "body": "<a id='comment:7'></a>This doesn't even compile for me with gcc-4.2.4 on boxen.math:\n\n```\n****************************************************\nHost system:\nLinux boxen 2.6.24-24-server #1 SMP Fri Sep 18 16:47:05 UTC 2009 x86_64 GNU/Linux\n****************************************************\nC compiler: gcc\nC compiler version:\nUsing built-in specs.\nTarget: x86_64-linux-gnu\nConfigured with: ../src/configure -v --enable-languages=c,c++,fortran,objc,obj-c++,treelang --prefix=/usr --enable-shared --with-system-zl\nib --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --enable-nls --with-gxx-include-dir=/usr/include/c++/4.2 --prog\nram-suffix=-4.2 --enable-clocale=gnu --enable-libstdcxx-debug --enable-objc-gc --enable-mpfr --enable-checking=release --build=x86_64-linu\nx-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\nThread model: posix\ngcc version 4.2.4 (Ubuntu 4.2.4-1ubuntu4)\n****************************************************\npatching file src/lib-src/cddcore.c\npatching file src/lib-src/cddlp.c\npatching file src/Makefile.in\npatching file src/src-gmp/Makefile.in\npatching file src/src/Makefile.in\npatching file src/lib-src/Makefile.in\npatching file src/lib-src-gmp/Makefile.in\nconfigure: WARNING: unrecognized options: --with-gmp\n[...]\nlibtool: compile:  gcc -DPACKAGE_NAME=\\\"\\\" -DPACKAGE_TARNAME=\\\"\\\" -DPACKAGE_VERSION=\\\"\\\" -DPACKAGE_STRING=\\\"\\\" -DPACKAGE_BUGREPORT=\\\"\\\" -D\nPACKAGE=\\\"cddlib\\\" -DVERSION=\\\"0.94\\\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE\n_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DLT_OBJDIR=\\\".libs/\\\" -DHAVE_LIBG\nMP=1 -DSTDC_HEADERS=1 -I. -DGMPRATIONAL -g -O2 -MT cddio.lo -MD -MP -MF .deps/cddio.Tpo -c cddio.c  -fPIC -DPIC -o .libs/cddio.o\nIn file included from cdd.h:18,\n                 from cddmp.c:21:\ncddmp.h:31:18: error: gmp.h: No such file or directory\n[...]\n```\n\nNote the line\n\n```\nconfigure: WARNING: unrecognized options: --with-gmp\n```",
    "created_at": "2012-05-30T02:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191584",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>This doesn't even compile for me with gcc-4.2.4 on boxen.math:

```
****************************************************
Host system:
Linux boxen 2.6.24-24-server #1 SMP Fri Sep 18 16:47:05 UTC 2009 x86_64 GNU/Linux
****************************************************
C compiler: gcc
C compiler version:
Using built-in specs.
Target: x86_64-linux-gnu
Configured with: ../src/configure -v --enable-languages=c,c++,fortran,objc,obj-c++,treelang --prefix=/usr --enable-shared --with-system-zl
ib --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --enable-nls --with-gxx-include-dir=/usr/include/c++/4.2 --prog
ram-suffix=-4.2 --enable-clocale=gnu --enable-libstdcxx-debug --enable-objc-gc --enable-mpfr --enable-checking=release --build=x86_64-linu
x-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu
Thread model: posix
gcc version 4.2.4 (Ubuntu 4.2.4-1ubuntu4)
****************************************************
patching file src/lib-src/cddcore.c
patching file src/lib-src/cddlp.c
patching file src/Makefile.in
patching file src/src-gmp/Makefile.in
patching file src/src/Makefile.in
patching file src/lib-src/Makefile.in
patching file src/lib-src-gmp/Makefile.in
configure: WARNING: unrecognized options: --with-gmp
[...]
libtool: compile:  gcc -DPACKAGE_NAME=\"\" -DPACKAGE_TARNAME=\"\" -DPACKAGE_VERSION=\"\" -DPACKAGE_STRING=\"\" -DPACKAGE_BUGREPORT=\"\" -D
PACKAGE=\"cddlib\" -DVERSION=\"0.94\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE
_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DLT_OBJDIR=\".libs/\" -DHAVE_LIBG
MP=1 -DSTDC_HEADERS=1 -I. -DGMPRATIONAL -g -O2 -MT cddio.lo -MD -MP -MF .deps/cddio.Tpo -c cddio.c  -fPIC -DPIC -o .libs/cddio.o
In file included from cdd.h:18,
                 from cddmp.c:21:
cddmp.h:31:18: error: gmp.h: No such file or directory
[...]
```

Note the line

```
configure: WARNING: unrecognized options: --with-gmp
```



---

archive/issue_comments_191585.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-05-30T02:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191585",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_191586.json:
```json
{
    "body": "<a id='comment:8'></a>Huh.  I did test this on sage.math and OS X, but it's true that I didn't try with random other versions of GCC.    I'm not sure what to say about that, and I can't review this one further.",
    "created_at": "2012-05-30T03:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191586",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>Huh.  I did test this on sage.math and OS X, but it's true that I didn't try with random other versions of GCC.    I'm not sure what to say about that, and I can't review this one further.



---

archive/issue_comments_191587.json:
```json
{
    "body": "<a id='comment:9'></a>I don't think the GCC version has anything to do with it. Probably both machines you tested have a system-wide `/usr/include/gmp.h` but boxen.math doesn't.",
    "created_at": "2012-05-30T05:11:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191587",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>I don't think the GCC version has anything to do with it. Probably both machines you tested have a system-wide `/usr/include/gmp.h` but boxen.math doesn't.



---

archive/issue_comments_191588.json:
```json
{
    "body": "<a id='comment:10'></a>I can have a look at that. Tomorrow hopefully, but it looks like to me we just need to set CPPFLAGS=\"-I$SAGE_LOCAL/include\" when we run the configuration, LDFLAGS may also need to be set.",
    "created_at": "2012-05-30T08:49:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191588",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'></a>I can have a look at that. Tomorrow hopefully, but it looks like to me we just need to set CPPFLAGS="-I$SAGE_LOCAL/include" when we run the configuration, LDFLAGS may also need to be set.



---

archive/issue_comments_191589.json:
```json
{
    "body": "<a id='comment:11'></a>Support for the `--with-gmp` configure option was one of the things that I patched into cddlib. Yes, upstream does not have that. Yet another reason why IMHO you can't have a minimally invasive patch to make it work, just too broken.",
    "created_at": "2012-05-31T11:47:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191589",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>Support for the `--with-gmp` configure option was one of the things that I patched into cddlib. Yes, upstream does not have that. Yet another reason why IMHO you can't have a minimally invasive patch to make it work, just too broken.



---

archive/issue_comments_191590.json:
```json
{
    "body": "<a id='comment:12'></a>So it was some of your stuff. On the other hand upstream included a slightly updated version of the libtool patch I sent them probably about 3-4 years ago :)\n\nIn any case adding the following line to configure should solve the problem\n\n```\nCPPFLAGS=\"-I$SAGE_LOCAL/include\" LDFLAGS=\"-L$SAGE_LOCAL/lib\"\n```\nAlternatively the variables can be exported and it should be safe on any system. Your original spkg works on my mac so I could have gmp headers somewhere, strangely enough it seems to find the correct sage libraries so may be there is something more subtle going on\n\n```\n/bin/sh ../libtool --tag=CC   --mode=link gcc  -g -O2   -o cdd_both_reps_gmp cdd_both_reps.o ../lib-src-gmp/libcddgmp.la -lgmp \nlibtool: link: gcc -g -O2 -o .libs/cdd_both_reps_gmp cdd_both_reps.o  ../lib-src-gmp/.libs/libcddgmp.dylib /Users/frb15/Desktop/sage-5.1.beta1/local/lib/libgmp.dylib\n\n```",
    "created_at": "2012-06-01T01:49:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191590",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'></a>So it was some of your stuff. On the other hand upstream included a slightly updated version of the libtool patch I sent them probably about 3-4 years ago :)

In any case adding the following line to configure should solve the problem

```
CPPFLAGS="-I$SAGE_LOCAL/include" LDFLAGS="-L$SAGE_LOCAL/lib"
```
Alternatively the variables can be exported and it should be safe on any system. Your original spkg works on my mac so I could have gmp headers somewhere, strangely enough it seems to find the correct sage libraries so may be there is something more subtle going on

```
/bin/sh ../libtool --tag=CC   --mode=link gcc  -g -O2   -o cdd_both_reps_gmp cdd_both_reps.o ../lib-src-gmp/libcddgmp.la -lgmp 
libtool: link: gcc -g -O2 -o .libs/cdd_both_reps_gmp cdd_both_reps.o  ../lib-src-gmp/.libs/libcddgmp.dylib /Users/frb15/Desktop/sage-5.1.beta1/local/lib/libgmp.dylib

```



---

archive/issue_comments_191591.json:
```json
{
    "body": "<a id='comment:13'></a>Ok, I've updated the spkg, hopefully the issues are fixed (it now compiles fine for me with boxen's toolchain).",
    "created_at": "2012-06-14T21:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191591",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:13'></a>Ok, I've updated the spkg, hopefully the issues are fixed (it now compiles fine for me with boxen's toolchain).



---

archive/issue_comments_191592.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-06-14T21:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191592",
    "user": "https://github.com/ohanar"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_191593.json:
```json
{
    "body": "Diff for the cddlib spkg. For reference / review only.",
    "created_at": "2012-06-15T16:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191593",
    "user": "https://github.com/jdemeyer"
}
```

Diff for the cddlib spkg. For reference / review only.



---

archive/issue_comments_191594.json:
```json
{
    "body": "Attachment [cddlib-094g.p0-nodelete.diff](tarball://root/attachments/some-uuid/ticket13026/cddlib-094g.p0-nodelete.diff) by @jdemeyer created at 2012-06-15 16:33:03\n\nDiff for the cddlib spkg **without deletes**. For reference / review only.",
    "created_at": "2012-06-15T16:33:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191594",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [cddlib-094g.p0-nodelete.diff](tarball://root/attachments/some-uuid/ticket13026/cddlib-094g.p0-nodelete.diff) by @jdemeyer created at 2012-06-15 16:33:03

Diff for the cddlib spkg **without deletes**. For reference / review only.



---

archive/issue_comments_191595.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-06-15T16:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191595",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_191596.json:
```json
{
    "body": "<a id='comment:14'></a>Your changes could run into timestamp troubles, when the timestamp of the `Makefile.am` file is more recent than the `Makefile.in` file. This might cause `automake` to be run and should be avoided. Since \"am\" comes alphabetically before \"in\", you will not actually run into this problem, but it seems fragile to rely on that.\n\nA standard solution that I have used for several packages is to create 1 patch file which patches both the `.am` and the `.in` file **in that order**. `patch` applies patches in order of the patch file.",
    "created_at": "2012-06-15T16:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191596",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>Your changes could run into timestamp troubles, when the timestamp of the `Makefile.am` file is more recent than the `Makefile.in` file. This might cause `automake` to be run and should be avoided. Since "am" comes alphabetically before "in", you will not actually run into this problem, but it seems fragile to rely on that.

A standard solution that I have used for several packages is to create 1 patch file which patches both the `.am` and the `.in` file **in that order**. `patch` applies patches in order of the patch file.



---

archive/issue_comments_191597.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-06-15T20:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191597",
    "user": "https://github.com/ohanar"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_191598.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:14 jdemeyer]:\n> A standard solution that I have used for several packages is to create 1 patch file which patches both the `.am` and the `.in` file **in that order**. `patch` applies patches in order of the patch file.\n\n\nAlternatively we can just elect to not patch the `.am` files since they aren't needed during the actual build process. I just updated the spkg so it will skip those patches.\n\nMy only change was to add the following in the patch loop:\n\n```sh\nif echo \"$patch\" | grep 'Makefile.am.patch$' > /dev/null; then\n    continue\nfi\n```",
    "created_at": "2012-06-15T20:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191598",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:15'></a>Replying to [comment:14 jdemeyer]:
> A standard solution that I have used for several packages is to create 1 patch file which patches both the `.am` and the `.in` file **in that order**. `patch` applies patches in order of the patch file.


Alternatively we can just elect to not patch the `.am` files since they aren't needed during the actual build process. I just updated the spkg so it will skip those patches.

My only change was to add the following in the patch loop:

```sh
if echo "$patch" | grep 'Makefile.am.patch$' > /dev/null; then
    continue
fi
```



---

archive/issue_comments_191599.json:
```json
{
    "body": "<a id='comment:16'></a>Why did you comment\n\n```\n#if [ \"$SAGE_LOCAL\" = \"\" ]; then\n#    echo \"SAGE_LOCAL undefined ... exiting\";\n#    echo \"Maybe run 'sage -sh'?\"\n#    exit 1\n#fi\n```\n(I might agree with you that this redundant, but let's at least be consistent)",
    "created_at": "2012-07-03T11:56:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191599",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>Why did you comment

```
#if [ "$SAGE_LOCAL" = "" ]; then
#    echo "SAGE_LOCAL undefined ... exiting";
#    echo "Maybe run 'sage -sh'?"
#    exit 1
#fi
```
(I might agree with you that this redundant, but let's at least be consistent)



---

archive/issue_comments_191600.json:
```json
{
    "body": "<a id='comment:17'></a>Why did you remove the configure flag\n\n```\n--libdir=\"$SAGE_LOCAL/lib\"\n```",
    "created_at": "2012-07-03T11:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191600",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>Why did you remove the configure flag

```
--libdir="$SAGE_LOCAL/lib"
```



---

archive/issue_comments_191601.json:
```json
{
    "body": "<a id='comment:18'></a>The following is wrong:\n\n```\nLDFLAGS=\"-I$SAGE_LOCAL/lib $LDFLAGS\"; export LDFLAGS\n```\nI suppose you meant `-L`.  In any case, you can simplify this to\n\n```\nexport LDFLAGS=\"-L$SAGE_LOCAL/lib $LDFLAGS\"\n```",
    "created_at": "2012-07-03T11:58:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191601",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>The following is wrong:

```
LDFLAGS="-I$SAGE_LOCAL/lib $LDFLAGS"; export LDFLAGS
```
I suppose you meant `-L`.  In any case, you can simplify this to

```
export LDFLAGS="-L$SAGE_LOCAL/lib $LDFLAGS"
```



---

archive/issue_comments_191602.json:
```json
{
    "body": "<a id='comment:19'></a>Optionally, you can remove\n\n```\n# sage-env sets RM which will break libtool\n# See http://trac.sagemath.org/sage_trac/ticket/7818#comment:28\nunset RM\n```",
    "created_at": "2012-07-03T12:00:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191602",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>Optionally, you can remove

```
# sage-env sets RM which will break libtool
# See http://trac.sagemath.org/sage_trac/ticket/7818#comment:28
unset RM
```



---

archive/issue_comments_191603.json:
```json
{
    "body": "Changing reviewer from \"Karl-Dieter Crisman\" to \"Karl-Dieter Crisman, Jeroen Demeyer\"",
    "created_at": "2012-07-03T12:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191603",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "Karl-Dieter Crisman" to "Karl-Dieter Crisman, Jeroen Demeyer"



---

archive/issue_comments_191604.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-07-03T12:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191604",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_191605.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:16 jdemeyer]:\n> Why did you comment\n> \n> ```\n> #if [ \"$SAGE_LOCAL\" = \"\" ]; then\n> #    echo \"SAGE_LOCAL undefined ... exiting\";\n> #    echo \"Maybe run 'sage -sh'?\"\n> #    exit 1\n> #fi\n> ```\n> (I might agree with you that this redundant, but let's at least be consistent)\n\n\nOr even follow the developer guide [recommended syntax](http://www.sagemath.org/doc/developer/producing_spkgs.html#section-spkg-install).",
    "created_at": "2012-07-03T13:31:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191605",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:21'></a>Replying to [comment:16 jdemeyer]:
> Why did you comment
> 
> ```
> #if [ "$SAGE_LOCAL" = "" ]; then
> #    echo "SAGE_LOCAL undefined ... exiting";
> #    echo "Maybe run 'sage -sh'?"
> #    exit 1
> #fi
> ```
> (I might agree with you that this redundant, but let's at least be consistent)


Or even follow the developer guide [recommended syntax](http://www.sagemath.org/doc/developer/producing_spkgs.html#section-spkg-install).



---

archive/issue_comments_191606.json:
```json
{
    "body": "<a id='comment:22'></a>Replying to [comment:17 jdemeyer]:\n> Why did you remove the configure flag\n> \n> ```\n> --libdir=\"$SAGE_LOCAL/lib\"\n> ```\n\n\nBecause it is implicit when you specify `--prefix=\"$SAGE_LOCAL\"`. The option is only needed if you want to install the lib directory in some weird location.",
    "created_at": "2012-07-03T21:38:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191606",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:22'></a>Replying to [comment:17 jdemeyer]:
> Why did you remove the configure flag
> 
> ```
> --libdir="$SAGE_LOCAL/lib"
> ```


Because it is implicit when you specify `--prefix="$SAGE_LOCAL"`. The option is only needed if you want to install the lib directory in some weird location.



---

archive/issue_comments_191607.json:
```json
{
    "body": "<a id='comment:23'></a>Replying to [comment:16 jdemeyer]:\n> Why did you comment\n> \n> ```\n> #if [ \"$SAGE_LOCAL\" = \"\" ]; then\n> #    echo \"SAGE_LOCAL undefined ... exiting\";\n> #    echo \"Maybe run 'sage -sh'?\"\n> #    exit 1\n> #fi\n> ```\n> (I might agree with you that this redundant, but let's at least be consistent)\n\nI was debugging, forgot to uncomment this :).",
    "created_at": "2012-07-03T21:39:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191607",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:23'></a>Replying to [comment:16 jdemeyer]:
> Why did you comment
> 
> ```
> #if [ "$SAGE_LOCAL" = "" ]; then
> #    echo "SAGE_LOCAL undefined ... exiting";
> #    echo "Maybe run 'sage -sh'?"
> #    exit 1
> #fi
> ```
> (I might agree with you that this redundant, but let's at least be consistent)

I was debugging, forgot to uncomment this :).



---

archive/issue_comments_191608.json:
```json
{
    "body": "<a id='comment:24'></a>Replying to [comment:22 ohanar]:\n> Replying to [comment:17 jdemeyer]:\n> > Why did you remove the configure flag\n> > \n> > ```\n> > --libdir=\"$SAGE_LOCAL/lib\"\n> > ```\n\n> \n> Because it is implicit when you specify `--prefix=\"$SAGE_LOCAL\"`. The option is only needed if you want to install the lib directory in some weird location.\n\n\nNot quite. There is a reason this has been added not so long ago, so stuff wouldn't land in $SAGE_LOCAL/lib64 on some system. We didn't want to have a lib/lib64 thing then. The only exception is for the gcc spkg. That's why this spkg and a few other have this line. Now please put it back in.",
    "created_at": "2012-07-03T22:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191608",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:24'></a>Replying to [comment:22 ohanar]:
> Replying to [comment:17 jdemeyer]:
> > Why did you remove the configure flag
> > 
> > ```
> > --libdir="$SAGE_LOCAL/lib"
> > ```

> 
> Because it is implicit when you specify `--prefix="$SAGE_LOCAL"`. The option is only needed if you want to install the lib directory in some weird location.


Not quite. There is a reason this has been added not so long ago, so stuff wouldn't land in $SAGE_LOCAL/lib64 on some system. We didn't want to have a lib/lib64 thing then. The only exception is for the gcc spkg. That's why this spkg and a few other have this line. Now please put it back in.



---

archive/issue_comments_191609.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-07-03T23:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191609",
    "user": "https://github.com/ohanar"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_191610.json:
```json
{
    "body": "<a id='comment:25'></a>Ok, mentioned issues have been fixed.",
    "created_at": "2012-07-03T23:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191610",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:25'></a>Ok, mentioned issues have been fixed.



---

archive/issue_comments_191611.json:
```json
{
    "body": "<a id='comment:26'></a>Why are you patching at `-p2` level instead of `-p1` like all other packages?\n\nThis isn't such a big deal, but since your goal is better standardization of packages, you should use `-p1` patch files.",
    "created_at": "2012-08-06T14:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191611",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>Why are you patching at `-p2` level instead of `-p1` like all other packages?

This isn't such a big deal, but since your goal is better standardization of packages, you should use `-p1` patch files.



---

archive/issue_comments_191612.json:
```json
{
    "body": "<a id='comment:27'></a>Also, better document why you're not patching `Makefile.am`. Something along the lines of\n\n```\nWe should not patch Makefile.am files, since that causes automake to be run\nand we don't want to require automake to build Sage.\n```",
    "created_at": "2012-08-06T14:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191612",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>Also, better document why you're not patching `Makefile.am`. Something along the lines of

```
We should not patch Makefile.am files, since that causes automake to be run
and we don't want to require automake to build Sage.
```



---

archive/issue_comments_191613.json:
```json
{
    "body": "<a id='comment:28'></a>positive_review if you add the comment regarding patching `Makefile.am`, if you mention this ticket number in `SPKG.txt` and if you make all files in `src` world-readable (permission 0644 or 0755).",
    "created_at": "2012-08-06T14:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191613",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>positive_review if you add the comment regarding patching `Makefile.am`, if you mention this ticket number in `SPKG.txt` and if you make all files in `src` world-readable (permission 0644 or 0755).



---

archive/issue_comments_191614.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-08-06T14:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191614",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_191615.json:
```json
{
    "body": "<a id='comment:29'></a>Bonus points for patching `sage -pkg` to check that all files are indeed world readable and all directories listable. On another ticket, of course ;-)\n\nI take it that `src/ChangeLog (Autosaved)` (outdated version of `src/ChangeLog`) was already in the upstream sources. Does anybody know which editor has such a tempfile convention? But oh well if upstream ships it then we should include it by default ;-)\n\nI think upstream is also missing some auto-generated files, or has mismatched versions. When I just configure/make the vanillas sources, I get\n\n```\n[vbraun@laptop t]$ make -j 8\ncd . && /bin/sh /home/vbraun/Sage/spkg/cddlib-094g.p0/t/missing --run autoconf\naclocal.m4:16: warning: this file was generated for autoconf 2.63.\nYou have another version of autoconf.  It may work, but is not guaranteed to.\nIf you have problems, you may need to regenerate the build system entirely.\nTo do so, use the procedure documented by the package, typically `autoreconf'.\nconfigure.in:10: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body\n../../lib/autoconf/lang.m4:194: AC_LANG_CONFTEST is expanded from...\n../../lib/autoconf/general.m4:2662: _AC_LINK_IFELSE is expanded from...\n../../lib/autoconf/general.m4:2679: AC_LINK_IFELSE is expanded from...\naclocal.m4:1037: _LT_SYS_MODULE_PATH_AIX is expanded from...\naclocal.m4:4173: _LT_LINKER_SHLIBS is expanded from...\naclocal.m4:5248: _LT_LANG_C_CONFIG is expanded from...\naclocal.m4:159: _LT_SETUP is expanded from...\naclocal.m4:88: LT_INIT is expanded from...\nconfigure.in:10: the top level\nconfigure.in:10: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body\n```\nWhile I'm still in favour of just replacing all the autotool'ed files by new ones generated from scratch, I guess its good enough if this builds on all buildbot machines.",
    "created_at": "2012-08-07T13:39:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191615",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'></a>Bonus points for patching `sage -pkg` to check that all files are indeed world readable and all directories listable. On another ticket, of course ;-)

I take it that `src/ChangeLog (Autosaved)` (outdated version of `src/ChangeLog`) was already in the upstream sources. Does anybody know which editor has such a tempfile convention? But oh well if upstream ships it then we should include it by default ;-)

I think upstream is also missing some auto-generated files, or has mismatched versions. When I just configure/make the vanillas sources, I get

```
[vbraun@laptop t]$ make -j 8
cd . && /bin/sh /home/vbraun/Sage/spkg/cddlib-094g.p0/t/missing --run autoconf
aclocal.m4:16: warning: this file was generated for autoconf 2.63.
You have another version of autoconf.  It may work, but is not guaranteed to.
If you have problems, you may need to regenerate the build system entirely.
To do so, use the procedure documented by the package, typically `autoreconf'.
configure.in:10: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:194: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2662: _AC_LINK_IFELSE is expanded from...
../../lib/autoconf/general.m4:2679: AC_LINK_IFELSE is expanded from...
aclocal.m4:1037: _LT_SYS_MODULE_PATH_AIX is expanded from...
aclocal.m4:4173: _LT_LINKER_SHLIBS is expanded from...
aclocal.m4:5248: _LT_LANG_C_CONFIG is expanded from...
aclocal.m4:159: _LT_SETUP is expanded from...
aclocal.m4:88: LT_INIT is expanded from...
configure.in:10: the top level
configure.in:10: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
```
While I'm still in favour of just replacing all the autotool'ed files by new ones generated from scratch, I guess its good enough if this builds on all buildbot machines.



---

archive/issue_comments_191616.json:
```json
{
    "body": "<a id='comment:30'></a>Replying to [comment:29 vbraun]:\n> I think upstream is also missing some auto-generated files, or has mismatched versions. When I just configure/make the vanillas sources, I get\n> \n> ```\n> [vbraun@laptop t]$ make -j 8\n> cd . && /bin/sh /home/vbraun/Sage/spkg/cddlib-094g.p0/t/missing --run autoconf\n> ```\n\n\nLooking at the log file, I *did not* get this problem with the spkg I tested in [comment:28]. Could it be that you accidentally messed up the timestamps?\n\nI do consider it a serious issue, because it could cause build failures on systems which don't have autotools (or which have the wrong version) installed.",
    "created_at": "2012-08-07T13:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191616",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>Replying to [comment:29 vbraun]:
> I think upstream is also missing some auto-generated files, or has mismatched versions. When I just configure/make the vanillas sources, I get
> 
> ```
> [vbraun@laptop t]$ make -j 8
> cd . && /bin/sh /home/vbraun/Sage/spkg/cddlib-094g.p0/t/missing --run autoconf
> ```


Looking at the log file, I *did not* get this problem with the spkg I tested in [comment:28]. Could it be that you accidentally messed up the timestamps?

I do consider it a serious issue, because it could cause build failures on systems which don't have autotools (or which have the wrong version) installed.



---

archive/issue_comments_191617.json:
```json
{
    "body": "<a id='comment:31'></a>Since the only changes we care about are some memleak fixes, I've made a new spkg that keeps our rewritten build system just with the new sources:\n\nhttp://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094g.p1.spkg",
    "created_at": "2012-08-07T14:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191617",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'></a>Since the only changes we care about are some memleak fixes, I've made a new spkg that keeps our rewritten build system just with the new sources:

http://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094g.p1.spkg



---

archive/issue_comments_191618.json:
```json
{
    "body": "<a id='comment:32'></a>Replying to [comment:30 jdemeyer]:\n> Looking at the log file, I *did not* get this problem with the spkg I tested in [comment:28]. Could it be that you accidentally messed up the timestamps?\n\n\nOops, right. Sorry about that.",
    "created_at": "2012-08-07T14:27:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191618",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'></a>Replying to [comment:30 jdemeyer]:
> Looking at the log file, I *did not* get this problem with the spkg I tested in [comment:28]. Could it be that you accidentally messed up the timestamps?


Oops, right. Sorry about that.



---

archive/issue_comments_191619.json:
```json
{
    "body": "<a id='comment:33'></a>I've also disabled static libraries, for the record. Its time we get rid of that.",
    "created_at": "2012-08-07T14:29:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191619",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'></a>I've also disabled static libraries, for the record. Its time we get rid of that.



---

archive/issue_comments_191620.json:
```json
{
    "body": "<a id='comment:35'></a>Replying to [comment:29 vbraun]:\n> Bonus points for patching `sage -pkg` to check that all files are indeed world readable and all directories listable. On another ticket, of course ;-)\n\nThere is a ticket for that somewhere, but there some discussion about whether it should be an *error* or *warning*.",
    "created_at": "2012-08-12T21:34:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191620",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:35'></a>Replying to [comment:29 vbraun]:
> Bonus points for patching `sage -pkg` to check that all files are indeed world readable and all directories listable. On another ticket, of course ;-)

There is a ticket for that somewhere, but there some discussion about whether it should be an *error* or *warning*.



---

archive/issue_comments_191621.json:
```json
{
    "body": "<a id='comment:36'></a>Did someone tried to contact the upstream author to get our patches integrated?\nAt least the one which would make sense outside of Sage?",
    "created_at": "2012-12-10T21:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191621",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:36'></a>Did someone tried to contact the upstream author to get our patches integrated?
At least the one which would make sense outside of Sage?



---

archive/issue_comments_191622.json:
```json
{
    "body": "<a id='comment:37'></a>As far as I can tell this spkg is still patching cddlib pretty heavily (the random.* stuff) and adding two executables which aren't in upstream (cdd_both_reps_gmp and cdd_both_reps).\n\nThat means debian's cddlib (which comes from upstream) is incompatible with sage's fork.",
    "created_at": "2013-03-26T20:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191622",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

<a id='comment:37'></a>As far as I can tell this spkg is still patching cddlib pretty heavily (the random.* stuff) and adding two executables which aren't in upstream (cdd_both_reps_gmp and cdd_both_reps).

That means debian's cddlib (which comes from upstream) is incompatible with sage's fork.



---

archive/issue_comments_191623.json:
```json
{
    "body": "<a id='comment:39'></a>We are shipping the extra executables in Gentoo. I guess a better solution for a distro would be to split them in a separate package. Have to check the random stuff, autotool patching is quite necessary as far as I remember.",
    "created_at": "2013-03-26T20:43:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191623",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:39'></a>We are shipping the extra executables in Gentoo. I guess a better solution for a distro would be to split them in a separate package. Have to check the random stuff, autotool patching is quite necessary as far as I remember.



---

archive/issue_comments_191624.json:
```json
{
    "body": "<a id='comment:40'></a>Well, yes, if it is sage code, it belongs to sage and not to cddlib (likewise for the other forks -- I know of cliquer #14349 and pari #14346, but I didn't know about cddlib this morning so perhaps there are others lurking).",
    "created_at": "2013-03-26T20:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191624",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

<a id='comment:40'></a>Well, yes, if it is sage code, it belongs to sage and not to cddlib (likewise for the other forks -- I know of cliquer #14349 and pari #14346, but I didn't know about cddlib this morning so perhaps there are others lurking).



---

archive/issue_comments_191625.json:
```json
{
    "body": "<a id='comment:41'></a>The \"random\" stuff is because otherwise the output is not deterministic. For an algorithm that does not benefit from randomization...",
    "created_at": "2013-03-26T21:01:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191625",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:41'></a>The "random" stuff is because otherwise the output is not deterministic. For an algorithm that does not benefit from randomization...



---

archive/issue_comments_191626.json:
```json
{
    "body": "<a id='comment:42'></a>If it makes sense for upstream, it should be forwarded upstream!",
    "created_at": "2013-03-26T21:12:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191626",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

<a id='comment:42'></a>If it makes sense for upstream, it should be forwarded upstream!



---

archive/issue_comments_191627.json:
```json
{
    "body": "<a id='comment:43'></a>I wanted to contact upstream and query about the bunch of patches we apply and if they were aware of it when I was working on #13354 to be able to build a shared library  on cygwin, but then I thought I should first ask here if someone already tried just in case, and cddlib is not really a problem for cygwin as the static lib seems to work ok and I went on to something else and it was maybe 8 or 7 monthes ago...\n\nSo yes, I think we should definitely contact upstream first.\nMost of the teams I've contacted for #13354 have reacted quite quickly.\nOf course some gave some signs of life and then disappeared.\nAnd some never reacted.\nBut who knows, we should contact them first.\n\nNote that in the case of lrcalc, see #13839, upstream even ended up distributing two tarballs:\n* one historical, with the build system they developped;\n* one based on our patches, with an autotool based build system.",
    "created_at": "2013-03-26T21:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191627",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:43'></a>I wanted to contact upstream and query about the bunch of patches we apply and if they were aware of it when I was working on #13354 to be able to build a shared library  on cygwin, but then I thought I should first ask here if someone already tried just in case, and cddlib is not really a problem for cygwin as the static lib seems to work ok and I went on to something else and it was maybe 8 or 7 monthes ago...

So yes, I think we should definitely contact upstream first.
Most of the teams I've contacted for #13354 have reacted quite quickly.
Of course some gave some signs of life and then disappeared.
And some never reacted.
But who knows, we should contact them first.

Note that in the case of lrcalc, see #13839, upstream even ended up distributing two tarballs:
* one historical, with the build system they developped;
* one based on our patches, with an autotool based build system.



---

archive/issue_events_035684.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13026#event-35684"
}
```



---

archive/issue_events_035685.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13026#event-35685"
}
```



---

archive/issue_events_035686.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13026#event-35686"
}
```



---

archive/issue_comments_191628.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jpflori/ticket/13026\"",
    "created_at": "2014-02-27T09:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191628",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing branch from "" to "u/jpflori/ticket/13026"



---

archive/issue_comments_191629.json:
```json
{
    "body": "<a id='comment:46'></a>New commits:",
    "created_at": "2014-02-27T09:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191629",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:46'></a>New commits:



---

archive/issue_comments_191630.json:
```json
{
    "body": "Changing reviewer from \"Karl-Dieter Crisman, Jeroen Demeyer\" to \"Karl-Dieter Crisman, Jeroen Demeyer, Jean-Pierre Flori\"",
    "created_at": "2014-02-27T09:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191630",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing reviewer from "Karl-Dieter Crisman, Jeroen Demeyer" to "Karl-Dieter Crisman, Jeroen Demeyer, Jean-Pierre Flori"



---

archive/issue_comments_191631.json:
```json
{
    "body": "Changing commit from \"\" to \"5961ef13d0f97894aa108ee8dd83924e4ea2bd07\"",
    "created_at": "2014-02-27T09:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191631",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing commit from "" to "5961ef13d0f97894aa108ee8dd83924e4ea2bd07"



---

archive/issue_comments_191632.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.\n \n+Part of metaticket #13025.\n \n Comment: 1\n \n``````\n",
    "created_at": "2014-02-27T09:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191632",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.
 
+Part of metaticket #13025.
 
 Comment: 1
 
``````




---

archive/issue_comments_191633.json:
```json
{
    "body": "<a id='comment:47'></a>I suggest to postpone the splitting of non-upstream stuff to a follow up ticket.\nLet's already update or nothing at all will happen.\n\nSome tweaks are also needed on Cygwin to build a shared lib.",
    "created_at": "2014-02-27T09:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191633",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:47'></a>I suggest to postpone the splitting of non-upstream stuff to a follow up ticket.
Let's already update or nothing at all will happen.

Some tweaks are also needed on Cygwin to build a shared lib.



---

archive/issue_comments_191634.json:
```json
{
    "body": "Changing commit from \"5961ef13d0f97894aa108ee8dd83924e4ea2bd07\" to \"84b27cf7690678571c732773b1d076ad64052c27\"",
    "created_at": "2014-02-27T10:01:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191634",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5961ef13d0f97894aa108ee8dd83924e4ea2bd07" to "84b27cf7690678571c732773b1d076ad64052c27"



---

archive/issue_comments_191635.json:
```json
{
    "body": "<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-02-27T10:01:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191635",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_191636.json:
```json
{
    "body": "<a id='comment:49'></a>Oops, I forgot to update the tests (which looked the same but are not in fact).\n\nAnyway, I'm personally (moderately but enough) happy with the way the pkg looks now.\nLet's get this merged.\n\n---\nNew commits:\n|                                                                                                                                          |                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[84b27cf](http://git.sagemath.org/sage.git/commit/?id=84b27cf7690678571c732773b1d076ad64052c27)|`Update tests folder for cddlib.`|\n---\nNew commits:",
    "created_at": "2014-02-27T10:02:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191636",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:49'></a>Oops, I forgot to update the tests (which looked the same but are not in fact).

Anyway, I'm personally (moderately but enough) happy with the way the pkg looks now.
Let's get this merged.

---
New commits:
|                                                                                                                                          |                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[84b27cf](http://git.sagemath.org/sage.git/commit/?id=84b27cf7690678571c732773b1d076ad64052c27)|`Update tests folder for cddlib.`|
---
New commits:



---

archive/issue_comments_191637.json:
```json
{
    "body": "<a id='comment:50'></a>(I've not used Volker patches, especially that shared libs won't build on Cygwin (but should fallback to static libs, not sure about this)))",
    "created_at": "2014-02-27T10:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191637",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:50'></a>(I've not used Volker patches, especially that shared libs won't build on Cygwin (but should fallback to static libs, not sure about this)))



---

archive/issue_comments_191638.json:
```json
{
    "body": "<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-02-27T10:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191638",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_191639.json:
```json
{
    "body": "Changing commit from \"84b27cf7690678571c732773b1d076ad64052c27\" to \"269c1e1551285566b8ba7a2b890989e5590e9f11\"",
    "created_at": "2014-02-27T10:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191639",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "84b27cf7690678571c732773b1d076ad64052c27" to "269c1e1551285566b8ba7a2b890989e5590e9f11"



---

archive/issue_comments_191640.json:
```json
{
    "body": "<a id='comment:52'></a>#15871 for further clean up and #15872 for Cygwin shared lib.",
    "created_at": "2014-02-27T10:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191640",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:52'></a>#15871 for further clean up and #15872 for Cygwin shared lib.



---

archive/issue_comments_191641.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-02-27T10:17:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191641",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_191642.json:
```json
{
    "body": "<a id='comment:54'></a>Not building a shared library would be a serious regression IMHO.",
    "created_at": "2014-02-27T10:18:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191642",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:54'></a>Not building a shared library would be a serious regression IMHO.



---

archive/issue_comments_191643.json:
```json
{
    "body": "<a id='comment:55'></a>Replying to [comment:51 git]:\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> |                                                                                                                                          |                                                     |\n> |------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n> |[269c1e1](http://git.sagemath.org/sage.git/commit/?id=269c1e1551285566b8ba7a2b890989e5590e9f11)|`Previously failing cddlib related doctest now pass.`|\n\n\nThank you. I have had that doctest error in sage-on-gentoo for a year and 19 days - when we moved to 0.94g.",
    "created_at": "2014-02-27T10:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191643",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:55'></a>Replying to [comment:51 git]:
> Branch pushed to git repo; I updated commit sha1. New commits:
> |                                                                                                                                          |                                                     |
> |------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
> |[269c1e1](http://git.sagemath.org/sage.git/commit/?id=269c1e1551285566b8ba7a2b890989e5590e9f11)|`Previously failing cddlib related doctest now pass.`|


Thank you. I have had that doctest error in sage-on-gentoo for a year and 19 days - when we moved to 0.94g.



---

archive/issue_comments_191644.json:
```json
{
    "body": "<a id='comment:56'></a>Replying to [comment:54 vbraun]:\n> Not building a shared library would be a serious regression IMHO.\n\nI didn't disable the build of a shared library.\nI disabled the disabling of the build of a static library.",
    "created_at": "2014-02-27T10:22:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191644",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:56'></a>Replying to [comment:54 vbraun]:
> Not building a shared library would be a serious regression IMHO.

I didn't disable the build of a shared library.
I disabled the disabling of the build of a static library.



---

archive/issue_comments_191645.json:
```json
{
    "body": "<a id='comment:57'></a>Once we fix #15872 we can feed back the `--enable-shared --disable-static` stuff to configure.\nIf that's a sufficient reason reason for you to review that ticket, I'll include it there with pleasure.",
    "created_at": "2014-02-27T10:23:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191645",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:57'></a>Once we fix #15872 we can feed back the `--enable-shared --disable-static` stuff to configure.
If that's a sufficient reason reason for you to review that ticket, I'll include it there with pleasure.



---

archive/issue_comments_191646.json:
```json
{
    "body": "<a id='comment:58'></a>(For now there's nothing there, I'm aware of that.)",
    "created_at": "2014-02-27T10:24:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191646",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:58'></a>(For now there's nothing there, I'm aware of that.)



---

archive/issue_comments_191647.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-02-27T10:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191647",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_191648.json:
```json
{
    "body": "<a id='comment:59'></a>I was a little too fast.\nThe `mv` part of spkg-install are wrong with the git version of sage.",
    "created_at": "2014-02-27T10:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191648",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:59'></a>I was a little too fast.
The `mv` part of spkg-install are wrong with the git version of sage.



---

archive/issue_comments_191649.json:
```json
{
    "body": "<a id='comment:60'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-02-27T10:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191649",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:60'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_191650.json:
```json
{
    "body": "Changing commit from \"269c1e1551285566b8ba7a2b890989e5590e9f11\" to \"322ec473abcf04fbcf610f3a43794f514ee3e62a\"",
    "created_at": "2014-02-27T10:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191650",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "269c1e1551285566b8ba7a2b890989e5590e9f11" to "322ec473abcf04fbcf610f3a43794f514ee3e62a"



---

archive/issue_comments_191651.json:
```json
{
    "body": "<a id='comment:61'></a>Or not actually, as I guess we still copy everything before building....\nAnyway, changes are here.\nI guess we can keep it as positive review then.",
    "created_at": "2014-02-27T10:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191651",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:61'></a>Or not actually, as I guess we still copy everything before building....
Anyway, changes are here.
I guess we can keep it as positive review then.



---

archive/issue_comments_191652.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-02-27T10:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191652",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_191653.json:
```json
{
    "body": "<a id='comment:62'></a>For some mysterious reason the previously failing doctest does not fail either when I revert back to trac/develop, make distclean and rebuild...",
    "created_at": "2014-02-27T16:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191653",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:62'></a>For some mysterious reason the previously failing doctest does not fail either when I revert back to trac/develop, make distclean and rebuild...



---

archive/issue_comments_191654.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,9 @@\n+The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.\n+\n+Part of metaticket #13025.\n+\n+Use tarball at:\n+* http://boxen.math.washington.edu/home/jpflori/upstream/cddlib-094g.tar.bz2\n \n \n Comment: 1\n``````\n",
    "created_at": "2014-02-27T17:24:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191654",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,9 @@
+The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.
+
+Part of metaticket #13025.
+
+Use tarball at:
+* http://boxen.math.washington.edu/home/jpflori/upstream/cddlib-094g.tar.bz2
 
 
 Comment: 1
``````




---

archive/issue_comments_191655.json:
```json
{
    "body": "<a id='comment:64'></a>Replying to [comment:62 jpflori]:\n> For some mysterious reason the previously failing doctest does not fail either when I revert back to trac/develop, make distclean and rebuild...\n\nNo such problem on another machine.",
    "created_at": "2014-02-27T17:31:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191655",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:64'></a>Replying to [comment:62 jpflori]:
> For some mysterious reason the previously failing doctest does not fail either when I revert back to trac/develop, make distclean and rebuild...

No such problem on another machine.



---

archive/issue_comments_191656.json:
```json
{
    "body": "Changing branch from \"u/jpflori/ticket/13026\" to \"322ec473abcf04fbcf610f3a43794f514ee3e62a\"",
    "created_at": "2014-03-03T18:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191656",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jpflori/ticket/13026" to "322ec473abcf04fbcf610f3a43794f514ee3e62a"



---

archive/issue_comments_191657.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-03-03T18:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191657",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_035687.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-03T18:55:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13026#event-35687"
}
```



---

archive/issue_comments_191658.json:
```json
{
    "body": "<a id='comment:66'></a>Sorry to come so late to the party, but looking at sage's git, I don't really see why this bug was closed: the cddlib spkg still has patches that mean sage isn't based on cddlib, but on a fork...",
    "created_at": "2014-04-19T19:57:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191658",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

<a id='comment:66'></a>Sorry to come so late to the party, but looking at sage's git, I don't really see why this bug was closed: the cddlib spkg still has patches that mean sage isn't based on cddlib, but on a fork...



---

archive/issue_comments_191659.json:
```json
{
    "body": "Changing commit from \"322ec473abcf04fbcf610f3a43794f514ee3e62a\" to \"\"",
    "created_at": "2014-04-19T19:57:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191659",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

Changing commit from "322ec473abcf04fbcf610f3a43794f514ee3e62a" to ""



---

archive/issue_comments_191660.json:
```json
{
    "body": "<a id='comment:67'></a>The bug was closed because the branch was merged. It might not be perfect but it was an improvement. Feel free to work on this.",
    "created_at": "2014-04-19T21:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13026#issuecomment-191660",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:67'></a>The bug was closed because the branch was merged. It might not be perfect but it was an improvement. Feel free to work on this.
