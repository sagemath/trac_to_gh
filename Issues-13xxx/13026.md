# Issue 13026: Upgrade and clean up cddlib

archive/issues_012854.json:
```json
{
    "body": "The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.\n\nPart of metaticket #13025.\n\nUse tarball at:\n* http://boxen.math.washington.edu/home/jpflori/upstream/cddlib-094g.tar.bz2\n\n\n**CC:**  @ohanar jpflori Snark\n\n**Keywords:** cddlib sd40.5\n\n**Branch:** [322ec473abcf04fbcf610f3a43794f514ee3e62a](https://github.com/sagemath/sagetrac-mirror/commit/322ec473abcf04fbcf610f3a43794f514ee3e62a)\n\n**Reviewer:** Karl-Dieter Crisman, Jeroen Demeyer, Jean-Pierre Flori\n\n**Author:** R. Andrew Ohana\n\nIssue created by migration from https://trac.sagemath.org/ticket/13026\n\n",
    "closed_at": "2014-03-03T18:55:29Z",
    "created_at": "2012-05-27T00:11:52Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "title": "Upgrade and clean up cddlib",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/13026",
    "user": "https://github.com/kini"
}
```
The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.

Part of metaticket #13025.

Use tarball at:
* http://boxen.math.washington.edu/home/jpflori/upstream/cddlib-094g.tar.bz2


**CC:**  @ohanar jpflori Snark

**Keywords:** cddlib sd40.5

**Branch:** [322ec473abcf04fbcf610f3a43794f514ee3e62a](https://github.com/sagemath/sagetrac-mirror/commit/322ec473abcf04fbcf610f3a43794f514ee3e62a)

**Reviewer:** Karl-Dieter Crisman, Jeroen Demeyer, Jean-Pierre Flori

**Author:** R. Andrew Ohana

Issue created by migration from https://trac.sagemath.org/ticket/13026





---

archive/issue_comments_150418.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n-The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff. Andrew Ohana will try to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.\n+The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket simplify the packaging of cddlib and also upgrade it to the latest version, 094g.\n \n Part of metaticket #13025.\n+\n+New Spkg: [http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg](http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg).\n``````\n",
    "created_at": "2012-05-27T09:57:56Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150418",
    "user": "https://github.com/ohanar"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
-The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff. Andrew Ohana will try to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.
+The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket simplify the packaging of cddlib and also upgrade it to the latest version, 094g.
 
 Part of metaticket #13025.
+
+New Spkg: [http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg](http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg).
``````




---

archive/issue_comments_150419.json:
```json
{
    "body": "**Author:** R. Andrew Ohana",
    "created_at": "2012-05-27T09:57:56Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150419",
    "user": "https://github.com/ohanar"
}
```

**Author:** R. Andrew Ohana



---

archive/issue_events_109280.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-05-27T09:57:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109280"
}
```



---

archive/issue_comments_150420.json:
```json
{
    "body": "**Changing keywords** from \"cddlib\" to \"cddlib sd40.5\".",
    "created_at": "2012-05-27T09:58:17Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150420",
    "user": "https://github.com/ohanar"
}
```

**Changing keywords** from "cddlib" to "cddlib sd40.5".



---

archive/issue_events_109281.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-29T03:56:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109281"
}
```



---

archive/issue_events_109282.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-29T03:56:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109282"
}
```



---

archive/issue_comments_150421.json:
```json
{
    "body": "**Work_Issues:** make sure hard links used",
    "created_at": "2012-05-29T03:56:30Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150421",
    "user": "https://github.com/kcrisman"
}
```

**Work_Issues:** make sure hard links used



---

archive/issue_comments_150422.json:
```json
{
    "body": "**Reviewer:** Karl-Dieter Crisman",
    "created_at": "2012-05-29T03:56:30Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150422",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Karl-Dieter Crisman



---

archive/issue_comments_150423.json:
```json
{
    "body": "<a id='comment:3'></a>\nThis all makes sense.  I've opened #13056 to address that we might eventually want to have the docs available again.\n\nAll spkg and geometry/ tests pass on sage.math and my MacBook Pro.  As discussed with Andrew, just want to make sure that hard links were used as pointed out in SPKG.txt, which I can't check - otherwise positive review.",
    "created_at": "2012-05-29T03:56:30Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150423",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'></a>
This all makes sense.  I've opened #13056 to address that we might eventually want to have the docs available again.

All spkg and geometry/ tests pass on sage.math and my MacBook Pro.  As discussed with Andrew, just want to make sure that hard links were used as pointed out in SPKG.txt, which I can't check - otherwise positive review.



---

archive/issue_comments_150424.json:
```json
{
    "body": "<a id='comment:4'></a>\nOk, hard links should be setup now.",
    "created_at": "2012-05-29T06:00:28Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150424",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:4'></a>
Ok, hard links should be setup now.



---

archive/issue_events_109283.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-05-29T06:00:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109283"
}
```



---

archive/issue_events_109284.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-05-29T06:00:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109284"
}
```



---

archive/issue_comments_150425.json:
```json
{
    "body": "**Changing work_issues** from \"make sure hard links used\" to \"\".",
    "created_at": "2012-05-29T06:03:39Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150425",
    "user": "https://github.com/ohanar"
}
```

**Changing work_issues** from "make sure hard links used" to "".



---

archive/issue_comments_150426.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n-The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket simplify the packaging of cddlib and also upgrade it to the latest version, 094g.\n+The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.\n \n Part of metaticket #13025.\n \n-New Spkg: [http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg](http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg).\n+New SPKG: [http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg](http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg).\n``````\n",
    "created_at": "2012-05-29T21:34:27Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150426",
    "user": "https://github.com/kini"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
-The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket simplify the packaging of cddlib and also upgrade it to the latest version, 094g.
+The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.
 
 Part of metaticket #13025.
 
-New Spkg: [http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg](http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg).
+New SPKG: [http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg](http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg).
``````




---

archive/issue_comments_150427.json:
```json
{
    "body": "<a id='comment:7'></a>\nThis doesn't even compile for me with gcc-4.2.4 on boxen.math:\n\n```\n****************************************************\nHost system:\nLinux boxen 2.6.24-24-server #1 SMP Fri Sep 18 16:47:05 UTC 2009 x86_64 GNU/Linux\n****************************************************\nC compiler: gcc\nC compiler version:\nUsing built-in specs.\nTarget: x86_64-linux-gnu\nConfigured with: ../src/configure -v --enable-languages=c,c++,fortran,objc,obj-c++,treelang --prefix=/usr --enable-shared --with-system-zl\nib --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --enable-nls --with-gxx-include-dir=/usr/include/c++/4.2 --prog\nram-suffix=-4.2 --enable-clocale=gnu --enable-libstdcxx-debug --enable-objc-gc --enable-mpfr --enable-checking=release --build=x86_64-linu\nx-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\nThread model: posix\ngcc version 4.2.4 (Ubuntu 4.2.4-1ubuntu4)\n****************************************************\npatching file src/lib-src/cddcore.c\npatching file src/lib-src/cddlp.c\npatching file src/Makefile.in\npatching file src/src-gmp/Makefile.in\npatching file src/src/Makefile.in\npatching file src/lib-src/Makefile.in\npatching file src/lib-src-gmp/Makefile.in\nconfigure: WARNING: unrecognized options: --with-gmp\n[...]\nlibtool: compile:  gcc -DPACKAGE_NAME=\\\"\\\" -DPACKAGE_TARNAME=\\\"\\\" -DPACKAGE_VERSION=\\\"\\\" -DPACKAGE_STRING=\\\"\\\" -DPACKAGE_BUGREPORT=\\\"\\\" -D\nPACKAGE=\\\"cddlib\\\" -DVERSION=\\\"0.94\\\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE\n_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DLT_OBJDIR=\\\".libs/\\\" -DHAVE_LIBG\nMP=1 -DSTDC_HEADERS=1 -I. -DGMPRATIONAL -g -O2 -MT cddio.lo -MD -MP -MF .deps/cddio.Tpo -c cddio.c  -fPIC -DPIC -o .libs/cddio.o\nIn file included from cdd.h:18,\n                 from cddmp.c:21:\ncddmp.h:31:18: error: gmp.h: No such file or directory\n[...]\n```\n\nNote the line\n\n```\nconfigure: WARNING: unrecognized options: --with-gmp\n```",
    "created_at": "2012-05-30T02:28:53Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150427",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>
This doesn't even compile for me with gcc-4.2.4 on boxen.math:

```
****************************************************
Host system:
Linux boxen 2.6.24-24-server #1 SMP Fri Sep 18 16:47:05 UTC 2009 x86_64 GNU/Linux
****************************************************
C compiler: gcc
C compiler version:
Using built-in specs.
Target: x86_64-linux-gnu
Configured with: ../src/configure -v --enable-languages=c,c++,fortran,objc,obj-c++,treelang --prefix=/usr --enable-shared --with-system-zl
ib --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --enable-nls --with-gxx-include-dir=/usr/include/c++/4.2 --prog
ram-suffix=-4.2 --enable-clocale=gnu --enable-libstdcxx-debug --enable-objc-gc --enable-mpfr --enable-checking=release --build=x86_64-linu
x-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu
Thread model: posix
gcc version 4.2.4 (Ubuntu 4.2.4-1ubuntu4)
****************************************************
patching file src/lib-src/cddcore.c
patching file src/lib-src/cddlp.c
patching file src/Makefile.in
patching file src/src-gmp/Makefile.in
patching file src/src/Makefile.in
patching file src/lib-src/Makefile.in
patching file src/lib-src-gmp/Makefile.in
configure: WARNING: unrecognized options: --with-gmp
[...]
libtool: compile:  gcc -DPACKAGE_NAME=\"\" -DPACKAGE_TARNAME=\"\" -DPACKAGE_VERSION=\"\" -DPACKAGE_STRING=\"\" -DPACKAGE_BUGREPORT=\"\" -D
PACKAGE=\"cddlib\" -DVERSION=\"0.94\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE
_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DLT_OBJDIR=\".libs/\" -DHAVE_LIBG
MP=1 -DSTDC_HEADERS=1 -I. -DGMPRATIONAL -g -O2 -MT cddio.lo -MD -MP -MF .deps/cddio.Tpo -c cddio.c  -fPIC -DPIC -o .libs/cddio.o
In file included from cdd.h:18,
                 from cddmp.c:21:
cddmp.h:31:18: error: gmp.h: No such file or directory
[...]
```

Note the line

```
configure: WARNING: unrecognized options: --with-gmp
```



---

archive/issue_events_109285.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-30T02:28:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109285"
}
```



---

archive/issue_events_109286.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-30T02:28:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109286"
}
```



---

archive/issue_comments_150428.json:
```json
{
    "body": "<a id='comment:8'></a>\nHuh.  I did test this on sage.math and OS X, but it's true that I didn't try with random other versions of GCC.    I'm not sure what to say about that, and I can't review this one further.",
    "created_at": "2012-05-30T03:54:43Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150428",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>
Huh.  I did test this on sage.math and OS X, but it's true that I didn't try with random other versions of GCC.    I'm not sure what to say about that, and I can't review this one further.



---

archive/issue_comments_150429.json:
```json
{
    "body": "<a id='comment:9'></a>\nI don't think the GCC version has anything to do with it. Probably both machines you tested have a system-wide `/usr/include/gmp.h` but boxen.math doesn't.",
    "created_at": "2012-05-30T05:11:01Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150429",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
I don't think the GCC version has anything to do with it. Probably both machines you tested have a system-wide `/usr/include/gmp.h` but boxen.math doesn't.



---

archive/issue_comments_150430.json:
```json
{
    "body": "<a id='comment:10'></a>\nI can have a look at that. Tomorrow hopefully, but it looks like to me we just need to set CPPFLAGS=\"-I$SAGE_LOCAL/include\" when we run the configuration, LDFLAGS may also need to be set.",
    "created_at": "2012-05-30T08:49:03Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150430",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'></a>
I can have a look at that. Tomorrow hopefully, but it looks like to me we just need to set CPPFLAGS="-I$SAGE_LOCAL/include" when we run the configuration, LDFLAGS may also need to be set.



---

archive/issue_comments_150431.json:
```json
{
    "body": "<a id='comment:11'></a>\nSupport for the `--with-gmp` configure option was one of the things that I patched into cddlib. Yes, upstream does not have that. Yet another reason why IMHO you can't have a minimally invasive patch to make it work, just too broken.",
    "created_at": "2012-05-31T11:47:10Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150431",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
Support for the `--with-gmp` configure option was one of the things that I patched into cddlib. Yes, upstream does not have that. Yet another reason why IMHO you can't have a minimally invasive patch to make it work, just too broken.



---

archive/issue_comments_150432.json:
```json
{
    "body": "<a id='comment:12'></a>\nSo it was some of your stuff. On the other hand upstream included a slightly updated version of the libtool patch I sent them probably about 3-4 years ago :)\n\nIn any case adding the following line to configure should solve the problem\n\n```\nCPPFLAGS=\"-I$SAGE_LOCAL/include\" LDFLAGS=\"-L$SAGE_LOCAL/lib\"\n```\nAlternatively the variables can be exported and it should be safe on any system. Your original spkg works on my mac so I could have gmp headers somewhere, strangely enough it seems to find the correct sage libraries so may be there is something more subtle going on\n\n```\n/bin/sh ../libtool --tag=CC   --mode=link gcc  -g -O2   -o cdd_both_reps_gmp cdd_both_reps.o ../lib-src-gmp/libcddgmp.la -lgmp \nlibtool: link: gcc -g -O2 -o .libs/cdd_both_reps_gmp cdd_both_reps.o  ../lib-src-gmp/.libs/libcddgmp.dylib /Users/frb15/Desktop/sage-5.1.beta1/local/lib/libgmp.dylib\n\n```",
    "created_at": "2012-06-01T01:49:33Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150432",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'></a>
So it was some of your stuff. On the other hand upstream included a slightly updated version of the libtool patch I sent them probably about 3-4 years ago :)

In any case adding the following line to configure should solve the problem

```
CPPFLAGS="-I$SAGE_LOCAL/include" LDFLAGS="-L$SAGE_LOCAL/lib"
```
Alternatively the variables can be exported and it should be safe on any system. Your original spkg works on my mac so I could have gmp headers somewhere, strangely enough it seems to find the correct sage libraries so may be there is something more subtle going on

```
/bin/sh ../libtool --tag=CC   --mode=link gcc  -g -O2   -o cdd_both_reps_gmp cdd_both_reps.o ../lib-src-gmp/libcddgmp.la -lgmp 
libtool: link: gcc -g -O2 -o .libs/cdd_both_reps_gmp cdd_both_reps.o  ../lib-src-gmp/.libs/libcddgmp.dylib /Users/frb15/Desktop/sage-5.1.beta1/local/lib/libgmp.dylib

```



---

archive/issue_comments_150433.json:
```json
{
    "body": "<a id='comment:13'></a>\nOk, I've updated the spkg, hopefully the issues are fixed (it now compiles fine for me with boxen's toolchain).",
    "created_at": "2012-06-14T21:24:17Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150433",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:13'></a>
Ok, I've updated the spkg, hopefully the issues are fixed (it now compiles fine for me with boxen's toolchain).



---

archive/issue_events_109287.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-06-14T21:24:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109287"
}
```



---

archive/issue_events_109288.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-06-14T21:24:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109288"
}
```



---

archive/issue_comments_150434.json:
```json
{
    "body": "Diff for the cddlib spkg. For reference / review only.",
    "created_at": "2012-06-15T16:25:47Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150434",
    "user": "https://github.com/jdemeyer"
}
```

Diff for the cddlib spkg. For reference / review only.



---

archive/attachments_017592.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "cddlib-094g.p0-nodelete.diff",
    "asset_url": "tarball://root/attachments/ticket13026/cddlib-094g.p0-nodelete.diff",
    "created_at": "2012-06-15T16:33:03Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket13026/cddlib-094g.p0-nodelete.diff",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_150435.json:
```json
{
    "body": "Attachment [cddlib-094g.p0-nodelete.diff](https://github.com/sagemath/sage/files/ticket13026/cddlib-094g.p0-nodelete.diff) by @jdemeyer created at 2012-06-15 16:33:03\n\nDiff for the cddlib spkg **without deletes**. For reference / review only.",
    "created_at": "2012-06-15T16:33:03Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150435",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [cddlib-094g.p0-nodelete.diff](https://github.com/sagemath/sage/files/ticket13026/cddlib-094g.p0-nodelete.diff) by @jdemeyer created at 2012-06-15 16:33:03

Diff for the cddlib spkg **without deletes**. For reference / review only.



---

archive/issue_events_109289.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-15T16:41:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109289"
}
```



---

archive/issue_events_109290.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-15T16:41:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109290"
}
```



---

archive/issue_comments_150436.json:
```json
{
    "body": "<a id='comment:14'></a>\nYour changes could run into timestamp troubles, when the timestamp of the `Makefile.am` file is more recent than the `Makefile.in` file. This might cause `automake` to be run and should be avoided. Since \"am\" comes alphabetically before \"in\", you will not actually run into this problem, but it seems fragile to rely on that.\n\nA standard solution that I have used for several packages is to create 1 patch file which patches both the `.am` and the `.in` file **in that order**. `patch` applies patches in order of the patch file.",
    "created_at": "2012-06-15T16:41:52Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150436",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
Your changes could run into timestamp troubles, when the timestamp of the `Makefile.am` file is more recent than the `Makefile.in` file. This might cause `automake` to be run and should be avoided. Since "am" comes alphabetically before "in", you will not actually run into this problem, but it seems fragile to rely on that.

A standard solution that I have used for several packages is to create 1 patch file which patches both the `.am` and the `.in` file **in that order**. `patch` applies patches in order of the patch file.



---

archive/issue_events_109291.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-06-15T20:33:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109291"
}
```



---

archive/issue_events_109292.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-06-15T20:33:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109292"
}
```



---

archive/issue_comments_150437.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [jdemeyer](#comment%3A14):\n> A standard solution that I have used for several packages is to create 1 patch file which patches both the `.am` and the `.in` file **in that order**. `patch` applies patches in order of the patch file.\n\n\nAlternatively we can just elect to not patch the `.am` files since they aren't needed during the actual build process. I just updated the spkg so it will skip those patches.\n\nMy only change was to add the following in the patch loop:\n\n```sh\nif echo \"$patch\" | grep 'Makefile.am.patch$' > /dev/null; then\n    continue\nfi\n```",
    "created_at": "2012-06-15T20:33:08Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150437",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:15'></a>
Replying to [jdemeyer](#comment%3A14):
> A standard solution that I have used for several packages is to create 1 patch file which patches both the `.am` and the `.in` file **in that order**. `patch` applies patches in order of the patch file.


Alternatively we can just elect to not patch the `.am` files since they aren't needed during the actual build process. I just updated the spkg so it will skip those patches.

My only change was to add the following in the patch loop:

```sh
if echo "$patch" | grep 'Makefile.am.patch$' > /dev/null; then
    continue
fi
```



---

archive/issue_comments_150438.json:
```json
{
    "body": "<a id='comment:16'></a>\nWhy did you comment\n\n```\n#if [ \"$SAGE_LOCAL\" = \"\" ]; then\n#    echo \"SAGE_LOCAL undefined ... exiting\";\n#    echo \"Maybe run 'sage -sh'?\"\n#    exit 1\n#fi\n```\n(I might agree with you that this redundant, but let's at least be consistent)",
    "created_at": "2012-07-03T11:56:26Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150438",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
Why did you comment

```
#if [ "$SAGE_LOCAL" = "" ]; then
#    echo "SAGE_LOCAL undefined ... exiting";
#    echo "Maybe run 'sage -sh'?"
#    exit 1
#fi
```
(I might agree with you that this redundant, but let's at least be consistent)



---

archive/issue_comments_150439.json:
```json
{
    "body": "<a id='comment:17'></a>\nWhy did you remove the configure flag\n\n```\n--libdir=\"$SAGE_LOCAL/lib\"\n```",
    "created_at": "2012-07-03T11:57:32Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150439",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
Why did you remove the configure flag

```
--libdir="$SAGE_LOCAL/lib"
```



---

archive/issue_comments_150440.json:
```json
{
    "body": "<a id='comment:18'></a>\nThe following is wrong:\n\n```\nLDFLAGS=\"-I$SAGE_LOCAL/lib $LDFLAGS\"; export LDFLAGS\n```\nI suppose you meant `-L`.  In any case, you can simplify this to\n\n```\nexport LDFLAGS=\"-L$SAGE_LOCAL/lib $LDFLAGS\"\n```",
    "created_at": "2012-07-03T11:58:58Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150440",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>
The following is wrong:

```
LDFLAGS="-I$SAGE_LOCAL/lib $LDFLAGS"; export LDFLAGS
```
I suppose you meant `-L`.  In any case, you can simplify this to

```
export LDFLAGS="-L$SAGE_LOCAL/lib $LDFLAGS"
```



---

archive/issue_comments_150441.json:
```json
{
    "body": "<a id='comment:19'></a>\nOptionally, you can remove\n\n```\n# sage-env sets RM which will break libtool\n# See http://trac.sagemath.org/sage_trac/ticket/7818#comment:28\nunset RM\n```",
    "created_at": "2012-07-03T12:00:44Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150441",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
Optionally, you can remove

```
# sage-env sets RM which will break libtool
# See http://trac.sagemath.org/sage_trac/ticket/7818#comment:28
unset RM
```



---

archive/issue_comments_150442.json:
```json
{
    "body": "**Changing reviewer** from \"Karl-Dieter Crisman\" to \"Karl-Dieter Crisman, Jeroen Demeyer\".",
    "created_at": "2012-07-03T12:02:49Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150442",
    "user": "https://github.com/jdemeyer"
}
```

**Changing reviewer** from "Karl-Dieter Crisman" to "Karl-Dieter Crisman, Jeroen Demeyer".



---

archive/issue_events_109293.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-03T12:02:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109293"
}
```



---

archive/issue_events_109294.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-03T12:02:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109294"
}
```



---

archive/issue_comments_150443.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [jdemeyer](#comment%3A16):\n> Why did you comment\n> \n> ```\n> #if [ \"$SAGE_LOCAL\" = \"\" ]; then\n> #    echo \"SAGE_LOCAL undefined ... exiting\";\n> #    echo \"Maybe run 'sage -sh'?\"\n> #    exit 1\n> #fi\n> ```\n> (I might agree with you that this redundant, but let's at least be consistent)\n\n\nOr even follow the developer guide [recommended syntax](http://www.sagemath.org/doc/developer/producing_spkgs.html#section-spkg-install).",
    "created_at": "2012-07-03T13:31:07Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150443",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:21'></a>
Replying to [jdemeyer](#comment%3A16):
> Why did you comment
> 
> ```
> #if [ "$SAGE_LOCAL" = "" ]; then
> #    echo "SAGE_LOCAL undefined ... exiting";
> #    echo "Maybe run 'sage -sh'?"
> #    exit 1
> #fi
> ```
> (I might agree with you that this redundant, but let's at least be consistent)


Or even follow the developer guide [recommended syntax](http://www.sagemath.org/doc/developer/producing_spkgs.html#section-spkg-install).



---

archive/issue_comments_150444.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [jdemeyer](#comment%3A17):\n> Why did you remove the configure flag\n> \n> ```\n> --libdir=\"$SAGE_LOCAL/lib\"\n> ```\n\n\nBecause it is implicit when you specify `--prefix=\"$SAGE_LOCAL\"`. The option is only needed if you want to install the lib directory in some weird location.",
    "created_at": "2012-07-03T21:38:44Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150444",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:22'></a>
Replying to [jdemeyer](#comment%3A17):
> Why did you remove the configure flag
> 
> ```
> --libdir="$SAGE_LOCAL/lib"
> ```


Because it is implicit when you specify `--prefix="$SAGE_LOCAL"`. The option is only needed if you want to install the lib directory in some weird location.



---

archive/issue_comments_150445.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [jdemeyer](#comment%3A16):\n> Why did you comment\n> \n> ```\n> #if [ \"$SAGE_LOCAL\" = \"\" ]; then\n> #    echo \"SAGE_LOCAL undefined ... exiting\";\n> #    echo \"Maybe run 'sage -sh'?\"\n> #    exit 1\n> #fi\n> ```\n> (I might agree with you that this redundant, but let's at least be consistent)\n\nI was debugging, forgot to uncomment this :).",
    "created_at": "2012-07-03T21:39:31Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150445",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:23'></a>
Replying to [jdemeyer](#comment%3A16):
> Why did you comment
> 
> ```
> #if [ "$SAGE_LOCAL" = "" ]; then
> #    echo "SAGE_LOCAL undefined ... exiting";
> #    echo "Maybe run 'sage -sh'?"
> #    exit 1
> #fi
> ```
> (I might agree with you that this redundant, but let's at least be consistent)

I was debugging, forgot to uncomment this :).



---

archive/issue_comments_150446.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [ohanar](#comment%3A22):\n> Replying to [jdemeyer](#comment%3A17):\n> > Why did you remove the configure flag\n> > \n> > ```\n> > --libdir=\"$SAGE_LOCAL/lib\"\n> > ```\n\n> \n> Because it is implicit when you specify `--prefix=\"$SAGE_LOCAL\"`. The option is only needed if you want to install the lib directory in some weird location.\n\n\nNot quite. There is a reason this has been added not so long ago, so stuff wouldn't land in $SAGE_LOCAL/lib64 on some system. We didn't want to have a lib/lib64 thing then. The only exception is for the gcc spkg. That's why this spkg and a few other have this line. Now please put it back in.",
    "created_at": "2012-07-03T22:01:25Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150446",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:24'></a>
Replying to [ohanar](#comment%3A22):
> Replying to [jdemeyer](#comment%3A17):
> > Why did you remove the configure flag
> > 
> > ```
> > --libdir="$SAGE_LOCAL/lib"
> > ```

> 
> Because it is implicit when you specify `--prefix="$SAGE_LOCAL"`. The option is only needed if you want to install the lib directory in some weird location.


Not quite. There is a reason this has been added not so long ago, so stuff wouldn't land in $SAGE_LOCAL/lib64 on some system. We didn't want to have a lib/lib64 thing then. The only exception is for the gcc spkg. That's why this spkg and a few other have this line. Now please put it back in.



---

archive/issue_events_109295.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-07-03T23:09:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109295"
}
```



---

archive/issue_events_109296.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-07-03T23:09:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109296"
}
```



---

archive/issue_comments_150447.json:
```json
{
    "body": "<a id='comment:25'></a>\nOk, mentioned issues have been fixed.",
    "created_at": "2012-07-03T23:09:54Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150447",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:25'></a>
Ok, mentioned issues have been fixed.



---

archive/issue_comments_150448.json:
```json
{
    "body": "<a id='comment:26'></a>\nWhy are you patching at `-p2` level instead of `-p1` like all other packages?\n\nThis isn't such a big deal, but since your goal is better standardization of packages, you should use `-p1` patch files.",
    "created_at": "2012-08-06T14:07:57Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150448",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>
Why are you patching at `-p2` level instead of `-p1` like all other packages?

This isn't such a big deal, but since your goal is better standardization of packages, you should use `-p1` patch files.



---

archive/issue_comments_150449.json:
```json
{
    "body": "<a id='comment:27'></a>\nAlso, better document why you're not patching `Makefile.am`. Something along the lines of\n\n```\nWe should not patch Makefile.am files, since that causes automake to be run\nand we don't want to require automake to build Sage.\n```",
    "created_at": "2012-08-06T14:36:50Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150449",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>
Also, better document why you're not patching `Makefile.am`. Something along the lines of

```
We should not patch Makefile.am files, since that causes automake to be run
and we don't want to require automake to build Sage.
```



---

archive/issue_comments_150450.json:
```json
{
    "body": "<a id='comment:28'></a>\npositive_review if you add the comment regarding patching `Makefile.am`, if you mention this ticket number in `SPKG.txt` and if you make all files in `src` world-readable (permission 0644 or 0755).",
    "created_at": "2012-08-06T14:45:40Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150450",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>
positive_review if you add the comment regarding patching `Makefile.am`, if you mention this ticket number in `SPKG.txt` and if you make all files in `src` world-readable (permission 0644 or 0755).



---

archive/issue_events_109297.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-06T14:45:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109297"
}
```



---

archive/issue_events_109298.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-06T14:45:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109298"
}
```



---

archive/issue_comments_150451.json:
```json
{
    "body": "<a id='comment:29'></a>\nBonus points for patching `sage -pkg` to check that all files are indeed world readable and all directories listable. On another ticket, of course ;-)\n\nI take it that `src/ChangeLog (Autosaved)` (outdated version of `src/ChangeLog`) was already in the upstream sources. Does anybody know which editor has such a tempfile convention? But oh well if upstream ships it then we should include it by default ;-)\n\nI think upstream is also missing some auto-generated files, or has mismatched versions. When I just configure/make the vanillas sources, I get\n\n```\n[vbraun@laptop t]$ make -j 8\ncd . && /bin/sh /home/vbraun/Sage/spkg/cddlib-094g.p0/t/missing --run autoconf\naclocal.m4:16: warning: this file was generated for autoconf 2.63.\nYou have another version of autoconf.  It may work, but is not guaranteed to.\nIf you have problems, you may need to regenerate the build system entirely.\nTo do so, use the procedure documented by the package, typically `autoreconf'.\nconfigure.in:10: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body\n../../lib/autoconf/lang.m4:194: AC_LANG_CONFTEST is expanded from...\n../../lib/autoconf/general.m4:2662: _AC_LINK_IFELSE is expanded from...\n../../lib/autoconf/general.m4:2679: AC_LINK_IFELSE is expanded from...\naclocal.m4:1037: _LT_SYS_MODULE_PATH_AIX is expanded from...\naclocal.m4:4173: _LT_LINKER_SHLIBS is expanded from...\naclocal.m4:5248: _LT_LANG_C_CONFIG is expanded from...\naclocal.m4:159: _LT_SETUP is expanded from...\naclocal.m4:88: LT_INIT is expanded from...\nconfigure.in:10: the top level\nconfigure.in:10: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body\n```\nWhile I'm still in favour of just replacing all the autotool'ed files by new ones generated from scratch, I guess its good enough if this builds on all buildbot machines.",
    "created_at": "2012-08-07T13:39:35Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150451",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'></a>
Bonus points for patching `sage -pkg` to check that all files are indeed world readable and all directories listable. On another ticket, of course ;-)

I take it that `src/ChangeLog (Autosaved)` (outdated version of `src/ChangeLog`) was already in the upstream sources. Does anybody know which editor has such a tempfile convention? But oh well if upstream ships it then we should include it by default ;-)

I think upstream is also missing some auto-generated files, or has mismatched versions. When I just configure/make the vanillas sources, I get

```
[vbraun@laptop t]$ make -j 8
cd . && /bin/sh /home/vbraun/Sage/spkg/cddlib-094g.p0/t/missing --run autoconf
aclocal.m4:16: warning: this file was generated for autoconf 2.63.
You have another version of autoconf.  It may work, but is not guaranteed to.
If you have problems, you may need to regenerate the build system entirely.
To do so, use the procedure documented by the package, typically `autoreconf'.
configure.in:10: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:194: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2662: _AC_LINK_IFELSE is expanded from...
../../lib/autoconf/general.m4:2679: AC_LINK_IFELSE is expanded from...
aclocal.m4:1037: _LT_SYS_MODULE_PATH_AIX is expanded from...
aclocal.m4:4173: _LT_LINKER_SHLIBS is expanded from...
aclocal.m4:5248: _LT_LANG_C_CONFIG is expanded from...
aclocal.m4:159: _LT_SETUP is expanded from...
aclocal.m4:88: LT_INIT is expanded from...
configure.in:10: the top level
configure.in:10: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
```
While I'm still in favour of just replacing all the autotool'ed files by new ones generated from scratch, I guess its good enough if this builds on all buildbot machines.



---

archive/issue_comments_150452.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [vbraun](#comment%3A29):\n> I think upstream is also missing some auto-generated files, or has mismatched versions. When I just configure/make the vanillas sources, I get\n> \n> ```\n> [vbraun@laptop t]$ make -j 8\n> cd . && /bin/sh /home/vbraun/Sage/spkg/cddlib-094g.p0/t/missing --run autoconf\n> ```\n\n\nLooking at the log file, I *did not* get this problem with the spkg I tested in [comment:28]. Could it be that you accidentally messed up the timestamps?\n\nI do consider it a serious issue, because it could cause build failures on systems which don't have autotools (or which have the wrong version) installed.",
    "created_at": "2012-08-07T13:50:03Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150452",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>
Replying to [vbraun](#comment%3A29):
> I think upstream is also missing some auto-generated files, or has mismatched versions. When I just configure/make the vanillas sources, I get
> 
> ```
> [vbraun@laptop t]$ make -j 8
> cd . && /bin/sh /home/vbraun/Sage/spkg/cddlib-094g.p0/t/missing --run autoconf
> ```


Looking at the log file, I *did not* get this problem with the spkg I tested in [comment:28]. Could it be that you accidentally messed up the timestamps?

I do consider it a serious issue, because it could cause build failures on systems which don't have autotools (or which have the wrong version) installed.



---

archive/issue_comments_150453.json:
```json
{
    "body": "<a id='comment:31'></a>\nSince the only changes we care about are some memleak fixes, I've made a new spkg that keeps our rewritten build system just with the new sources:\n\nhttp://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094g.p1.spkg",
    "created_at": "2012-08-07T14:25:40Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150453",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'></a>
Since the only changes we care about are some memleak fixes, I've made a new spkg that keeps our rewritten build system just with the new sources:

http://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094g.p1.spkg



---

archive/issue_comments_150454.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [jdemeyer](#comment%3A30):\n> Looking at the log file, I *did not* get this problem with the spkg I tested in [comment:28]. Could it be that you accidentally messed up the timestamps?\n\n\nOops, right. Sorry about that.",
    "created_at": "2012-08-07T14:27:26Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150454",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'></a>
Replying to [jdemeyer](#comment%3A30):
> Looking at the log file, I *did not* get this problem with the spkg I tested in [comment:28]. Could it be that you accidentally messed up the timestamps?


Oops, right. Sorry about that.



---

archive/issue_comments_150455.json:
```json
{
    "body": "<a id='comment:33'></a>\nI've also disabled static libraries, for the record. Its time we get rid of that.",
    "created_at": "2012-08-07T14:29:23Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150455",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'></a>
I've also disabled static libraries, for the record. Its time we get rid of that.



---

archive/issue_comments_150456.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [vbraun](#comment%3A29):\n> Bonus points for patching `sage -pkg` to check that all files are indeed world readable and all directories listable. On another ticket, of course ;-)\n\nThere is a ticket for that somewhere, but there some discussion about whether it should be an *error* or *warning*.",
    "created_at": "2012-08-12T21:34:23Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150456",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:35'></a>
Replying to [vbraun](#comment%3A29):
> Bonus points for patching `sage -pkg` to check that all files are indeed world readable and all directories listable. On another ticket, of course ;-)

There is a ticket for that somewhere, but there some discussion about whether it should be an *error* or *warning*.



---

archive/issue_comments_150457.json:
```json
{
    "body": "<a id='comment:36'></a>\nDid someone tried to contact the upstream author to get our patches integrated?\nAt least the one which would make sense outside of Sage?",
    "created_at": "2012-12-10T21:34:56Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150457",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:36'></a>
Did someone tried to contact the upstream author to get our patches integrated?
At least the one which would make sense outside of Sage?



---

archive/issue_comments_150458.json:
```json
{
    "body": "<a id='comment:37'></a>\nAs far as I can tell this spkg is still patching cddlib pretty heavily (the random.* stuff) and adding two executables which aren't in upstream (cdd_both_reps_gmp and cdd_both_reps).\n\nThat means debian's cddlib (which comes from upstream) is incompatible with sage's fork.",
    "created_at": "2013-03-26T20:00:00Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150458",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

<a id='comment:37'></a>
As far as I can tell this spkg is still patching cddlib pretty heavily (the random.* stuff) and adding two executables which aren't in upstream (cdd_both_reps_gmp and cdd_both_reps).

That means debian's cddlib (which comes from upstream) is incompatible with sage's fork.



---

archive/issue_comments_150459.json:
```json
{
    "body": "<a id='comment:39'></a>\nWe are shipping the extra executables in Gentoo. I guess a better solution for a distro would be to split them in a separate package. Have to check the random stuff, autotool patching is quite necessary as far as I remember.",
    "created_at": "2013-03-26T20:43:12Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150459",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:39'></a>
We are shipping the extra executables in Gentoo. I guess a better solution for a distro would be to split them in a separate package. Have to check the random stuff, autotool patching is quite necessary as far as I remember.



---

archive/issue_comments_150460.json:
```json
{
    "body": "<a id='comment:40'></a>\nWell, yes, if it is sage code, it belongs to sage and not to cddlib (likewise for the other forks -- I know of cliquer #14349 and pari #14346, but I didn't know about cddlib this morning so perhaps there are others lurking).",
    "created_at": "2013-03-26T20:51:04Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150460",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

<a id='comment:40'></a>
Well, yes, if it is sage code, it belongs to sage and not to cddlib (likewise for the other forks -- I know of cliquer #14349 and pari #14346, but I didn't know about cddlib this morning so perhaps there are others lurking).



---

archive/issue_comments_150461.json:
```json
{
    "body": "<a id='comment:41'></a>\nThe \"random\" stuff is because otherwise the output is not deterministic. For an algorithm that does not benefit from randomization...",
    "created_at": "2013-03-26T21:01:21Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150461",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:41'></a>
The "random" stuff is because otherwise the output is not deterministic. For an algorithm that does not benefit from randomization...



---

archive/issue_comments_150462.json:
```json
{
    "body": "<a id='comment:42'></a>\nIf it makes sense for upstream, it should be forwarded upstream!",
    "created_at": "2013-03-26T21:12:58Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150462",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

<a id='comment:42'></a>
If it makes sense for upstream, it should be forwarded upstream!



---

archive/issue_comments_150463.json:
```json
{
    "body": "<a id='comment:43'></a>\nI wanted to contact upstream and query about the bunch of patches we apply and if they were aware of it when I was working on #13354 to be able to build a shared library  on cygwin, but then I thought I should first ask here if someone already tried just in case, and cddlib is not really a problem for cygwin as the static lib seems to work ok and I went on to something else and it was maybe 8 or 7 monthes ago...\n\nSo yes, I think we should definitely contact upstream first.\nMost of the teams I've contacted for #13354 have reacted quite quickly.\nOf course some gave some signs of life and then disappeared.\nAnd some never reacted.\nBut who knows, we should contact them first.\n\nNote that in the case of lrcalc, see #13839, upstream even ended up distributing two tarballs:\n* one historical, with the build system they developped;\n* one based on our patches, with an autotool based build system.",
    "created_at": "2013-03-26T21:27:53Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150463",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:43'></a>
I wanted to contact upstream and query about the bunch of patches we apply and if they were aware of it when I was working on #13354 to be able to build a shared library  on cygwin, but then I thought I should first ask here if someone already tried just in case, and cddlib is not really a problem for cygwin as the static lib seems to work ok and I went on to something else and it was maybe 8 or 7 monthes ago...

So yes, I think we should definitely contact upstream first.
Most of the teams I've contacted for #13354 have reacted quite quickly.
Of course some gave some signs of life and then disappeared.
And some never reacted.
But who knows, we should contact them first.

Note that in the case of lrcalc, see #13839, upstream even ended up distributing two tarballs:
* one historical, with the build system they developped;
* one based on our patches, with an autotool based build system.



---

archive/issue_events_109299.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109299"
}
```



---

archive/issue_events_109300.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109300"
}
```



---

archive/issue_events_109301.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109301"
}
```



---

archive/issue_events_109302.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109302"
}
```



---

archive/issue_comments_150464.json:
```json
{
    "body": "**Branch:** [u/jpflori/ticket/13026](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/13026)",
    "created_at": "2014-02-27T09:56:38Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150464",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Branch:** [u/jpflori/ticket/13026](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/13026)



---

archive/issue_comments_150465.json:
```json
{
    "body": "<a id='comment:46'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5961ef13d0f97894aa108ee8dd83924e4ea2bd07\">5961ef1</a></td><td><code>Update cddlib to 094g and tidy the patches a little bit.</code></td></tr></table>\n",
    "created_at": "2014-02-27T09:56:38Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150465",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:46'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5961ef13d0f97894aa108ee8dd83924e4ea2bd07">5961ef1</a></td><td><code>Update cddlib to 094g and tidy the patches a little bit.</code></td></tr></table>




---

archive/issue_comments_150466.json:
```json
{
    "body": "**Changing reviewer** from \"Karl-Dieter Crisman, Jeroen Demeyer\" to \"Karl-Dieter Crisman, Jeroen Demeyer, Jean-Pierre Flori\".",
    "created_at": "2014-02-27T09:56:38Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150466",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing reviewer** from "Karl-Dieter Crisman, Jeroen Demeyer" to "Karl-Dieter Crisman, Jeroen Demeyer, Jean-Pierre Flori".



---

archive/issue_comments_150467.json:
```json
{
    "body": "**Commit:** [5961ef13d0f97894aa108ee8dd83924e4ea2bd07](https://github.com/sagemath/sagetrac-mirror/commit/5961ef13d0f97894aa108ee8dd83924e4ea2bd07)",
    "created_at": "2014-02-27T09:56:38Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150467",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Commit:** [5961ef13d0f97894aa108ee8dd83924e4ea2bd07](https://github.com/sagemath/sagetrac-mirror/commit/5961ef13d0f97894aa108ee8dd83924e4ea2bd07)



---

archive/issue_comments_150468.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.\n \n Part of metaticket #13025.\n-\n-New SPKG: [http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg](http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg).\n``````\n",
    "created_at": "2014-02-27T09:58:01Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150468",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
 The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.
 
 Part of metaticket #13025.
-
-New SPKG: [http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg](http://wstein.org/home/ohanar/spkgs/cddlib-094g.p0.spkg).
``````




---

archive/issue_comments_150469.json:
```json
{
    "body": "<a id='comment:47'></a>\nI suggest to postpone the splitting of non-upstream stuff to a follow up ticket.\nLet's already update or nothing at all will happen.\n\nSome tweaks are also needed on Cygwin to build a shared lib.",
    "created_at": "2014-02-27T09:58:01Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150469",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:47'></a>
I suggest to postpone the splitting of non-upstream stuff to a follow up ticket.
Let's already update or nothing at all will happen.

Some tweaks are also needed on Cygwin to build a shared lib.



---

archive/issue_comments_150470.json:
```json
{
    "body": "**Changing commit** from \"[5961ef13d0f97894aa108ee8dd83924e4ea2bd07](https://github.com/sagemath/sagetrac-mirror/commit/5961ef13d0f97894aa108ee8dd83924e4ea2bd07)\" to \"[84b27cf7690678571c732773b1d076ad64052c27](https://github.com/sagemath/sagetrac-mirror/commit/84b27cf7690678571c732773b1d076ad64052c27)\".",
    "created_at": "2014-02-27T10:01:33Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150470",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5961ef13d0f97894aa108ee8dd83924e4ea2bd07](https://github.com/sagemath/sagetrac-mirror/commit/5961ef13d0f97894aa108ee8dd83924e4ea2bd07)" to "[84b27cf7690678571c732773b1d076ad64052c27](https://github.com/sagemath/sagetrac-mirror/commit/84b27cf7690678571c732773b1d076ad64052c27)".



---

archive/issue_comments_150471.json:
```json
{
    "body": "<a id='comment:48'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84b27cf7690678571c732773b1d076ad64052c27\">84b27cf</a></td><td><code>Update tests folder for cddlib.</code></td></tr></table>\n",
    "created_at": "2014-02-27T10:01:33Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150471",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84b27cf7690678571c732773b1d076ad64052c27">84b27cf</a></td><td><code>Update tests folder for cddlib.</code></td></tr></table>




---

archive/issue_comments_150472.json:
```json
{
    "body": "<a id='comment:49'></a>\nOops, I forgot to update the tests (which looked the same but are not in fact).\n\nAnyway, I'm personally (moderately but enough) happy with the way the pkg looks now.\nLet's get this merged.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84b27cf7690678571c732773b1d076ad64052c27\">84b27cf</a></td><td><code>Update tests folder for cddlib.</code></td></tr></table>\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84b27cf7690678571c732773b1d076ad64052c27\">84b27cf</a></td><td><code>Update tests folder for cddlib.</code></td></tr></table>\n",
    "created_at": "2014-02-27T10:02:05Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150472",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:49'></a>
Oops, I forgot to update the tests (which looked the same but are not in fact).

Anyway, I'm personally (moderately but enough) happy with the way the pkg looks now.
Let's get this merged.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84b27cf7690678571c732773b1d076ad64052c27">84b27cf</a></td><td><code>Update tests folder for cddlib.</code></td></tr></table>

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84b27cf7690678571c732773b1d076ad64052c27">84b27cf</a></td><td><code>Update tests folder for cddlib.</code></td></tr></table>




---

archive/issue_comments_150473.json:
```json
{
    "body": "<a id='comment:50'></a>\n(I've not used Volker patches, especially that shared libs won't build on Cygwin (but should fallback to static libs, not sure about this)))",
    "created_at": "2014-02-27T10:08:25Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150473",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:50'></a>
(I've not used Volker patches, especially that shared libs won't build on Cygwin (but should fallback to static libs, not sure about this)))



---

archive/issue_comments_150474.json:
```json
{
    "body": "<a id='comment:51'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/269c1e1551285566b8ba7a2b890989e5590e9f11\">269c1e1</a></td><td><code>Previously failing cddlib related doctest now pass.</code></td></tr></table>\n",
    "created_at": "2014-02-27T10:14:22Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150474",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/269c1e1551285566b8ba7a2b890989e5590e9f11">269c1e1</a></td><td><code>Previously failing cddlib related doctest now pass.</code></td></tr></table>




---

archive/issue_comments_150475.json:
```json
{
    "body": "**Changing commit** from \"[84b27cf7690678571c732773b1d076ad64052c27](https://github.com/sagemath/sagetrac-mirror/commit/84b27cf7690678571c732773b1d076ad64052c27)\" to \"[269c1e1551285566b8ba7a2b890989e5590e9f11](https://github.com/sagemath/sagetrac-mirror/commit/269c1e1551285566b8ba7a2b890989e5590e9f11)\".",
    "created_at": "2014-02-27T10:14:22Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150475",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[84b27cf7690678571c732773b1d076ad64052c27](https://github.com/sagemath/sagetrac-mirror/commit/84b27cf7690678571c732773b1d076ad64052c27)" to "[269c1e1551285566b8ba7a2b890989e5590e9f11](https://github.com/sagemath/sagetrac-mirror/commit/269c1e1551285566b8ba7a2b890989e5590e9f11)".



---

archive/issue_comments_150476.json:
```json
{
    "body": "<a id='comment:52'></a>\n#15871 for further clean up and #15872 for Cygwin shared lib.",
    "created_at": "2014-02-27T10:16:48Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150476",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:52'></a>
#15871 for further clean up and #15872 for Cygwin shared lib.



---

archive/issue_events_109303.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-02-27T10:17:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109303"
}
```



---

archive/issue_events_109304.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-02-27T10:17:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109304"
}
```



---

archive/issue_comments_150477.json:
```json
{
    "body": "<a id='comment:54'></a>\nNot building a shared library would be a serious regression IMHO.",
    "created_at": "2014-02-27T10:18:06Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150477",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:54'></a>
Not building a shared library would be a serious regression IMHO.



---

archive/issue_comments_150478.json:
```json
{
    "body": "<a id='comment:55'></a>\nReplying to [git](#comment%3A51):\n> Branch pushed to git repo; I updated commit sha1. **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/269c1e1551285566b8ba7a2b890989e5590e9f11\">269c1e1</a></td><td><code>Previously failing cddlib related doctest now pass.</code></td></tr></table>\n\n\nThank you. I have had that doctest error in sage-on-gentoo for a year and 19 days - when we moved to 0.94g.",
    "created_at": "2014-02-27T10:19:01Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150478",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:55'></a>
Replying to [git](#comment%3A51):
> Branch pushed to git repo; I updated commit sha1. **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/269c1e1551285566b8ba7a2b890989e5590e9f11">269c1e1</a></td><td><code>Previously failing cddlib related doctest now pass.</code></td></tr></table>


Thank you. I have had that doctest error in sage-on-gentoo for a year and 19 days - when we moved to 0.94g.



---

archive/issue_comments_150479.json:
```json
{
    "body": "<a id='comment:56'></a>\nReplying to [vbraun](#comment%3A54):\n> Not building a shared library would be a serious regression IMHO.\n\nI didn't disable the build of a shared library.\nI disabled the disabling of the build of a static library.",
    "created_at": "2014-02-27T10:22:16Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150479",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:56'></a>
Replying to [vbraun](#comment%3A54):
> Not building a shared library would be a serious regression IMHO.

I didn't disable the build of a shared library.
I disabled the disabling of the build of a static library.



---

archive/issue_comments_150480.json:
```json
{
    "body": "<a id='comment:57'></a>\nOnce we fix #15872 we can feed back the `--enable-shared --disable-static` stuff to configure.\nIf that's a sufficient reason reason for you to review that ticket, I'll include it there with pleasure.",
    "created_at": "2014-02-27T10:23:56Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150480",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:57'></a>
Once we fix #15872 we can feed back the `--enable-shared --disable-static` stuff to configure.
If that's a sufficient reason reason for you to review that ticket, I'll include it there with pleasure.



---

archive/issue_comments_150481.json:
```json
{
    "body": "<a id='comment:58'></a>\n(For now there's nothing there, I'm aware of that.)",
    "created_at": "2014-02-27T10:24:18Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150481",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:58'></a>
(For now there's nothing there, I'm aware of that.)



---

archive/issue_events_109305.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-02-27T10:27:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109305"
}
```



---

archive/issue_events_109306.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-02-27T10:27:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109306"
}
```



---

archive/issue_comments_150482.json:
```json
{
    "body": "<a id='comment:59'></a>\nI was a little too fast.\nThe `mv` part of spkg-install are wrong with the git version of sage.",
    "created_at": "2014-02-27T10:27:01Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150482",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:59'></a>
I was a little too fast.
The `mv` part of spkg-install are wrong with the git version of sage.



---

archive/issue_comments_150483.json:
```json
{
    "body": "<a id='comment:60'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/322ec473abcf04fbcf610f3a43794f514ee3e62a\">322ec47</a></td><td><code>Replace mv by cp in cddlib install script.</code></td></tr></table>\n",
    "created_at": "2014-02-27T10:29:51Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150483",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:60'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/322ec473abcf04fbcf610f3a43794f514ee3e62a">322ec47</a></td><td><code>Replace mv by cp in cddlib install script.</code></td></tr></table>




---

archive/issue_comments_150484.json:
```json
{
    "body": "**Changing commit** from \"[269c1e1551285566b8ba7a2b890989e5590e9f11](https://github.com/sagemath/sagetrac-mirror/commit/269c1e1551285566b8ba7a2b890989e5590e9f11)\" to \"[322ec473abcf04fbcf610f3a43794f514ee3e62a](https://github.com/sagemath/sagetrac-mirror/commit/322ec473abcf04fbcf610f3a43794f514ee3e62a)\".",
    "created_at": "2014-02-27T10:29:51Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150484",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[269c1e1551285566b8ba7a2b890989e5590e9f11](https://github.com/sagemath/sagetrac-mirror/commit/269c1e1551285566b8ba7a2b890989e5590e9f11)" to "[322ec473abcf04fbcf610f3a43794f514ee3e62a](https://github.com/sagemath/sagetrac-mirror/commit/322ec473abcf04fbcf610f3a43794f514ee3e62a)".



---

archive/issue_comments_150485.json:
```json
{
    "body": "<a id='comment:61'></a>\nOr not actually, as I guess we still copy everything before building....\nAnyway, changes are here.\nI guess we can keep it as positive review then.",
    "created_at": "2014-02-27T10:31:29Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150485",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:61'></a>
Or not actually, as I guess we still copy everything before building....
Anyway, changes are here.
I guess we can keep it as positive review then.



---

archive/issue_events_109307.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-02-27T10:31:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109307"
}
```



---

archive/issue_events_109308.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-02-27T10:31:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109308"
}
```



---

archive/issue_comments_150486.json:
```json
{
    "body": "<a id='comment:62'></a>\nFor some mysterious reason the previously failing doctest does not fail either when I revert back to trac/develop, make distclean and rebuild...",
    "created_at": "2014-02-27T16:37:18Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150486",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:62'></a>
For some mysterious reason the previously failing doctest does not fail either when I revert back to trac/develop, make distclean and rebuild...



---

archive/issue_comments_150487.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.\n \n Part of metaticket #13025.\n+\n+Use tarball at:\n+* http://boxen.math.washington.edu/home/jpflori/upstream/cddlib-094g.tar.bz2\n+\n``````\n",
    "created_at": "2014-02-27T17:24:18Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150487",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
 The cddlib SPKG is huge (when disregarding src/) and contains a lot of weird-looking stuff in the patched directory. The point of this ticket is to simplify the packaging of cddlib and also upgrade it to the latest version, 094g.
 
 Part of metaticket #13025.
+
+Use tarball at:
+* http://boxen.math.washington.edu/home/jpflori/upstream/cddlib-094g.tar.bz2
+
``````




---

archive/issue_comments_150488.json:
```json
{
    "body": "<a id='comment:64'></a>\nReplying to [jpflori](#comment%3A62):\n> For some mysterious reason the previously failing doctest does not fail either when I revert back to trac/develop, make distclean and rebuild...\n\nNo such problem on another machine.",
    "created_at": "2014-02-27T17:31:40Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150488",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:64'></a>
Replying to [jpflori](#comment%3A62):
> For some mysterious reason the previously failing doctest does not fail either when I revert back to trac/develop, make distclean and rebuild...

No such problem on another machine.



---

archive/issue_comments_150489.json:
```json
{
    "body": "**Changing branch** from \"[u/jpflori/ticket/13026](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/13026)\" to \"[322ec473abcf04fbcf610f3a43794f514ee3e62a](https://github.com/sagemath/sagetrac-mirror/commit/322ec473abcf04fbcf610f3a43794f514ee3e62a)\".",
    "created_at": "2014-03-03T18:55:29Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150489",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jpflori/ticket/13026](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/13026)" to "[322ec473abcf04fbcf610f3a43794f514ee3e62a](https://github.com/sagemath/sagetrac-mirror/commit/322ec473abcf04fbcf610f3a43794f514ee3e62a)".



---

archive/issue_events_109309.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-03T18:55:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109309"
}
```



---

archive/issue_events_109310.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d58ebde811f1faae9149a6bd574b8ebc3c75ac49",
    "created_at": "2014-03-03T18:55:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13026#event-109310"
}
```



---

archive/issue_comments_150490.json:
```json
{
    "body": "<a id='comment:66'></a>\nSorry to come so late to the party, but looking at sage's git, I don't really see why this bug was closed: the cddlib spkg still has patches that mean sage isn't based on cddlib, but on a fork...",
    "created_at": "2014-04-19T19:57:50Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150490",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

<a id='comment:66'></a>
Sorry to come so late to the party, but looking at sage's git, I don't really see why this bug was closed: the cddlib spkg still has patches that mean sage isn't based on cddlib, but on a fork...



---

archive/issue_comments_150491.json:
```json
{
    "body": "**Changing commit** from \"[322ec473abcf04fbcf610f3a43794f514ee3e62a](https://github.com/sagemath/sagetrac-mirror/commit/322ec473abcf04fbcf610f3a43794f514ee3e62a)\" to \"\".",
    "created_at": "2014-04-19T19:57:50Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150491",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

**Changing commit** from "[322ec473abcf04fbcf610f3a43794f514ee3e62a](https://github.com/sagemath/sagetrac-mirror/commit/322ec473abcf04fbcf610f3a43794f514ee3e62a)" to "".



---

archive/issue_comments_150492.json:
```json
{
    "body": "<a id='comment:67'></a>\nThe bug was closed because the branch was merged. It might not be perfect but it was an improvement. Feel free to work on this.",
    "created_at": "2014-04-19T21:59:32Z",
    "issue": "https://github.com/sagemath/sage/issues/13026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13026#issuecomment-150492",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:67'></a>
The bug was closed because the branch was merged. It might not be perfect but it was an improvement. Feel free to work on this.
