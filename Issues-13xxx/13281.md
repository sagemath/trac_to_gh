# Issue 13281: gurobi backend has no copy(), and creates named constraints since v5

archive/issues_013109.json:
```json
{
    "body": "installing `Gurobi` switches the default LP solver to `Gurobi`, leading to doctest failure in `mip.pyx`\n\n```\nFile \"/usr/local/src/sage/sage-5.2.rc0/devel/sage-main/sage/numerical/mip.pyx\", line 298:\n    sage: q = copy(p)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage/sage-5.2.rc0/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/usr/local/src/sage/sage-5.2.rc0/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/usr/local/src/sage/sage-5.2.rc0/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_4[4]>\", line 1, in <module>\n        q = copy(p)###line 298:\n    sage: q = copy(p)\n      File \"/usr/local/src/sage/sage-5.2.rc0/local/lib/python2.7/copy.py\", line 80, in copy\n        return copier(x)\n      File \"mip.pyx\", line 320, in sage.numerical.mip.MixedIntegerLinearProgram.__copy__ (sage/numerical/mip.c:2352)\n        p._backend = (<GenericBackend> self._backend).copy()\n    AttributeError: 'sage.numerical.backends.gurobi_backend.GurobiBacke' object has no attribute 'copy'\n```\n\nAnd indeed, there is no copy() in gurobi backend.\n\nAnother bunch of tests that fail in a similar fashion, due to Gurobi (version 5) automatically naming constraints, and so \none gets \n\n```\nFile \"/usr/local/src/sage/sage-5.2.rc0/devel/sage-main/sage/numerical/mip.pyx\", line 1132:\n    sage: p.show()\nExpected:\n    Maximization:\n    <BLANKLINE>\n    Constraints:\n      x_0 + x_1 <= 10.0\n      x_0 - x_1 <= 0.0\n      x_0 <= 4.0\n    ...\nGot:\n    Maximization:\n    <BLANKLINE>\n    Constraints:\n      R0: x_0 + x_1 <= 10.0\n      R1: x_0 - x_1 <= 0.0\n      R2: x_0 <= 4.0\n    Variables:\n      x_0 is a continuous variable (min=0.0, max=+oo)\n      x_1 is a continuous variable (min=0.0, max=+oo)\n```\nand other similar failures from `show()`.\n\nOne particular way to fix this would be to set the solver to be `GLPK` in all these tests, and create similar\noptional tests for `Gurobi`.\n\nAnd, lastly, Gurobi version 5 on OSX 10.6 outputs `[-0.0, 3.0]` rather than `[0.0, 3.0]` in a doctest in `gurobi_backend.pyx`.\n\nAssignee: @nathanncohen\n\nCC:  @nathanncohen\n\nReviewer: Volker Braun\n\nResolution: duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/13281\n\n",
    "closed_at": "2013-05-14T06:24:01Z",
    "created_at": "2012-07-22T14:45:03Z",
    "labels": [
        "component: linear programming",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "gurobi backend has no copy(), and creates named constraints since v5",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13281",
    "user": "https://github.com/dimpase"
}
```
installing `Gurobi` switches the default LP solver to `Gurobi`, leading to doctest failure in `mip.pyx`

```
File "/usr/local/src/sage/sage-5.2.rc0/devel/sage-main/sage/numerical/mip.pyx", line 298:
    sage: q = copy(p)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage/sage-5.2.rc0/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/usr/local/src/sage/sage-5.2.rc0/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/usr/local/src/sage/sage-5.2.rc0/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_4[4]>", line 1, in <module>
        q = copy(p)###line 298:
    sage: q = copy(p)
      File "/usr/local/src/sage/sage-5.2.rc0/local/lib/python2.7/copy.py", line 80, in copy
        return copier(x)
      File "mip.pyx", line 320, in sage.numerical.mip.MixedIntegerLinearProgram.__copy__ (sage/numerical/mip.c:2352)
        p._backend = (<GenericBackend> self._backend).copy()
    AttributeError: 'sage.numerical.backends.gurobi_backend.GurobiBacke' object has no attribute 'copy'
```

And indeed, there is no copy() in gurobi backend.

Another bunch of tests that fail in a similar fashion, due to Gurobi (version 5) automatically naming constraints, and so 
one gets 

```
File "/usr/local/src/sage/sage-5.2.rc0/devel/sage-main/sage/numerical/mip.pyx", line 1132:
    sage: p.show()
Expected:
    Maximization:
    <BLANKLINE>
    Constraints:
      x_0 + x_1 <= 10.0
      x_0 - x_1 <= 0.0
      x_0 <= 4.0
    ...
Got:
    Maximization:
    <BLANKLINE>
    Constraints:
      R0: x_0 + x_1 <= 10.0
      R1: x_0 - x_1 <= 0.0
      R2: x_0 <= 4.0
    Variables:
      x_0 is a continuous variable (min=0.0, max=+oo)
      x_1 is a continuous variable (min=0.0, max=+oo)
```
and other similar failures from `show()`.

One particular way to fix this would be to set the solver to be `GLPK` in all these tests, and create similar
optional tests for `Gurobi`.

And, lastly, Gurobi version 5 on OSX 10.6 outputs `[-0.0, 3.0]` rather than `[0.0, 3.0]` in a doctest in `gurobi_backend.pyx`.

Assignee: @nathanncohen

CC:  @nathanncohen

Reviewer: Volker Braun

Resolution: duplicate

Issue created by migration from https://trac.sagemath.org/ticket/13281





---

archive/issue_events_050480.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-05-11T18:37:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13281",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13281#event-50480"
}
```



---

archive/issue_comments_195274.json:
```json
{
    "body": "<a id='comment:1'></a>\nDuplicate of #12973",
    "created_at": "2013-05-11T18:37:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13281#issuecomment-195274",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:1'></a>
Duplicate of #12973



---

archive/issue_comments_195275.json:
```json
{
    "body": "Changing author from \"\" to \"Volker Braun\"",
    "created_at": "2013-05-11T18:37:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13281#issuecomment-195275",
    "user": "https://github.com/vbraun"
}
```

Changing author from "" to "Volker Braun"



---

archive/issue_comments_195276.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-05-11T18:37:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13281#issuecomment-195276",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_195277.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-05-11T19:02:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13281#issuecomment-195277",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_195278.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2013-05-14T06:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13281#issuecomment-195278",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: duplicate



---

archive/issue_comments_195279.json:
```json
{
    "body": "Changing author from \"Volker Braun\" to \"\"",
    "created_at": "2013-05-14T06:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13281#issuecomment-195279",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "Volker Braun" to ""



---

archive/issue_events_050481.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-14T06:24:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13281",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13281#event-50481"
}
```



---

archive/issue_comments_195280.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Volker Braun\"",
    "created_at": "2013-05-14T06:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13281#issuecomment-195280",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Volker Braun"
