# Issue 13270: Restarted notebook server allows user registration

archive/issues_013098.json:
```json
{
    "assignees": [
        "https://github.com/jasongrout",
        "https://github.com/qed777",
        "https://github.com/williamstein"
    ],
    "body": "I observe this on two Linux Mint machines: one runs 11th version, another Debian Edition.\n\n1. Compile sage-5.2.rc0.\n2. Start it.\n3. Start notebook either without parameters or to start remotely accessible secure server.\n4. User registration is enabled (it was NOT before).\n5. Turn it off in the settings and save.\n6. It is indeed off.\n7. Stop the server and start it again.\n8. Use registration is enabled.\n\n---\nthis is fixed in [updated spkg](http://boxen.math.washington.edu/home/dima/packages/sagenb-0.9.0.p0.spkg)\nCorresponding upstream release: [sagenb-0.9.1](http://wstein.org/home/keshav/files/sagenb-0.9.1.spkg)\n\nDepends on #11080\n\nCC:  @kini @jasongrout\n\nUpstream: **Fixed upstream, in a later stable release.**\n\nReviewer: **Punarbasu Purkayastha**\n\nAuthor: **Jason Grout, Keshav Kini**\n\nMerged: **sage-5.2.rc1**\n\nComponent: **notebook**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13270_\n\n",
    "closed_at": "2012-07-24T14:41:49Z",
    "created_at": "2012-07-18T13:51:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Restarted notebook server allows user registration",
    "type": "issue",
    "updated_at": "2012-07-24T14:41:49Z",
    "url": "https://github.com/sagemath/sage/issues/13270",
    "user": "https://github.com/novoselt"
}
```
I observe this on two Linux Mint machines: one runs 11th version, another Debian Edition.

1. Compile sage-5.2.rc0.
2. Start it.
3. Start notebook either without parameters or to start remotely accessible secure server.
4. User registration is enabled (it was NOT before).
5. Turn it off in the settings and save.
6. It is indeed off.
7. Stop the server and start it again.
8. Use registration is enabled.

---
this is fixed in [updated spkg](http://boxen.math.washington.edu/home/dima/packages/sagenb-0.9.0.p0.spkg)
Corresponding upstream release: [sagenb-0.9.1](http://wstein.org/home/keshav/files/sagenb-0.9.1.spkg)

Depends on #11080

CC:  @kini @jasongrout

Upstream: **Fixed upstream, in a later stable release.**

Reviewer: **Punarbasu Purkayastha**

Author: **Jason Grout, Keshav Kini**

Merged: **sage-5.2.rc1**

Component: **notebook**

_Issue created by migration from https://trac.sagemath.org/ticket/13270_





---

archive/issue_events_184947.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-07-18T13:51:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "milestone_number": null,
    "milestone_title": "sage-5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184947"
}
```



---

archive/issue_events_184948.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-07-18T13:51:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "000080",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184948"
}
```



---

archive/issue_events_184949.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-07-18T13:51:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184949"
}
```



---

archive/issue_events_184950.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-07-18T13:51:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184950"
}
```



---

archive/issue_events_184951.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2012-07-18T13:51:48Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "subject": "https://github.com/novoselt",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184951"
}
```



---

archive/issue_events_184952.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2012-07-18T13:51:48Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "subject": "https://github.com/novoselt",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184952"
}
```



---

archive/issue_events_184953.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2012-07-18T13:51:48Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "subject": "https://github.com/novoselt",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184953"
}
```



---

archive/issue_comments_153289.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nSame story on geom.",
    "created_at": "2012-07-18T19:26:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153289",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:1" align="right">comment:1</div>

Same story on geom.



---

archive/issue_comments_153290.json:
```json
{
    "body": "Upstream: **Not yet reported upstream; Will do shortly.**",
    "created_at": "2012-07-20T15:31:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153290",
    "user": "https://github.com/kcrisman"
}
```

Upstream: **Not yet reported upstream; Will do shortly.**



---

archive/issue_comments_153291.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nYou should probably report this as an [issue on Github as well](https://github.com/sagemath/sagenb/issues?state=open), and refer back here.",
    "created_at": "2012-07-20T15:31:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153291",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

You should probably report this as an [issue on Github as well](https://github.com/sagemath/sagenb/issues?state=open), and refer back here.



---

archive/issue_comments_153292.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI think that the current Github version is working - when I installed #13121, I have noticed the issue but was not able to reproduce it. My guess is that the registration was enabled by Sage own version, then I have noticed it and turned it off with #13121 and everything was fine until I tried clean sage-5.2.rc0 without #13121. Anyway, it does not seem that anyone else is concerned that the next version of Sage will quietly open your machine to anyone, if you try to use the notebook remotely...",
    "created_at": "2012-07-20T16:02:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153292",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:3" align="right">comment:3</div>

I think that the current Github version is working - when I installed #13121, I have noticed the issue but was not able to reproduce it. My guess is that the registration was enabled by Sage own version, then I have noticed it and turned it off with #13121 and everything was fine until I tried clean sage-5.2.rc0 without #13121. Anyway, it does not seem that anyone else is concerned that the next version of Sage will quietly open your machine to anyone, if you try to use the notebook remotely...



---

archive/issue_comments_153293.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\n> Anyway, it does not seem that anyone else is concerned that the next version of Sage will quietly open your machine to anyone, if you try to use the notebook remotely...\n\nI wouldn't be so sure.  But maybe no one has an obvious fix.  You might want to email someone directly to ask where this might have changed in Github.  It does seems like a reasonable blocker, for the security issue.",
    "created_at": "2012-07-20T16:12:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153293",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:4" align="right">comment:4</div>

> Anyway, it does not seem that anyone else is concerned that the next version of Sage will quietly open your machine to anyone, if you try to use the notebook remotely...

I wouldn't be so sure.  But maybe no one has an obvious fix.  You might want to email someone directly to ask where this might have changed in Github.  It does seems like a reasonable blocker, for the security issue.



---

archive/issue_comments_153294.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis is the first I've heard of this.  So do you say that #13121 fixes this?",
    "created_at": "2012-07-20T17:04:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153294",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:5" align="right">comment:5</div>

This is the first I've heard of this.  So do you say that #13121 fixes this?



---

archive/issue_comments_153295.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@jasongrout](#comment:5):\n> This is the first I've heard of this.  So do you say that #13121 fixes this?\n\nI *think* so. I've [originally posted](https://github.com/sagemath/sage/issues/13121#comment:57) about it there as a one time issue since I couldn't reproduce it. It came back for me in rc0 (reported in the first two replies on [sage-release](http://groups.google.com/group/sage-release/browse_thread/thread/1f694f90be6e5da3)). Switching between clean rc0 or beta1+13121 I can turn this bug on and off, so my guess is that it got fixed in the notebook along the way, but rc0 has too old of a version.",
    "created_at": "2012-07-20T17:14:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153295",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@jasongrout](#comment:5):
> This is the first I've heard of this.  So do you say that #13121 fixes this?

I *think* so. I've [originally posted](https://github.com/sagemath/sage/issues/13121#comment:57) about it there as a one time issue since I couldn't reproduce it. It came back for me in rc0 (reported in the first two replies on [sage-release](http://groups.google.com/group/sage-release/browse_thread/thread/1f694f90be6e5da3)). Switching between clean rc0 or beta1+13121 I can turn this bug on and off, so my guess is that it got fixed in the notebook along the way, but rc0 has too old of a version.



---

archive/issue_comments_153296.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nSo what's the plan then?  Postpone the release of sage-5.2 and include #13121 or release sage-5.2 anyway and fix it in sage-5.3?\n\nConsidering this is a blocker, probably you should create a thread on sage-notebook asking for opinions.",
    "created_at": "2012-07-21T16:21:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153296",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

So what's the plan then?  Postpone the release of sage-5.2 and include #13121 or release sage-5.2 anyway and fix it in sage-5.3?

Considering this is a blocker, probably you should create a thread on sage-notebook asking for opinions.



---

archive/issue_comments_153297.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nWith what appears to be a pretty bad security issue, I think delaying 5.2 and considering #13121 a blocker might be best.  Keshav: you're the current sagenb guru---what do you say?",
    "created_at": "2012-07-21T16:29:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153297",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:8" align="right">comment:8</div>

With what appears to be a pretty bad security issue, I think delaying 5.2 and considering #13121 a blocker might be best.  Keshav: you're the current sagenb guru---what do you say?



---

archive/issue_comments_153298.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n(that said, I haven't had time to look at this; I've just been following the comments here).",
    "created_at": "2012-07-21T16:29:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153298",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:9" align="right">comment:9</div>

(that said, I haven't had time to look at this; I've just been following the comments here).



---

archive/issue_comments_153299.json:
```json
{
    "body": "Dependencies: **#13121**",
    "created_at": "2012-07-23T06:55:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153299",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#13121**



---

archive/issue_events_184954.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-23T06:55:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184954"
}
```



---

archive/issue_events_184955.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-23T06:55:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184955"
}
```



---

archive/issue_events_184956.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-23T06:55:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "milestone_number": null,
    "milestone_title": "sage-5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184956"
}
```



---

archive/issue_events_184957.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-23T06:55:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184957"
}
```



---

archive/issue_events_184958.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-23T06:55:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184958"
}
```



---

archive/issue_comments_153300.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@novoselt](#comment:1):\n> Same story on geom.\n\nand on OSX 10.6.8",
    "created_at": "2012-07-23T07:45:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153300",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@novoselt](#comment:1):
> Same story on geom.

and on OSX 10.6.8



---

archive/issue_comments_153301.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI think it is some semi-trivial logic bug related to using None and False.\nIf in `sagenb/notebook/run_notebook.py` I change the line 224 from\n\n```\n             accounts      = None,\n```\nto \n\n```\n             accounts      = False,\n```\nthen  the setting for `Enable user registration` stays off, instead of staying on.\nThat is, when I start the notebook server, it is always `off` rather than `on`, and saving this option has\nno effect. As opposed to the scenario described on the ticket, when it always stays on.",
    "created_at": "2012-07-23T08:09:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153301",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

I think it is some semi-trivial logic bug related to using None and False.
If in `sagenb/notebook/run_notebook.py` I change the line 224 from

```
             accounts      = None,
```
to 

```
             accounts      = False,
```
then  the setting for `Enable user registration` stays off, instead of staying on.
That is, when I start the notebook server, it is always `off` rather than `on`, and saving this option has
no effect. As opposed to the scenario described on the ticket, when it always stays on.



---

archive/issue_comments_153302.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@dimpase](#comment:12):\n> I think it is some semi-trivial logic bug related to using None and False.\n\nit looks as if the [patch](https://github.com/sagemath/sage/files/ticket11080/trac_11080-user_registration.patch.gz) just\nproposed on #11080 fixes this!",
    "created_at": "2012-07-23T08:28:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153302",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@dimpase](#comment:12):
> I think it is some semi-trivial logic bug related to using None and False.

it looks as if the [patch](https://github.com/sagemath/sage/files/ticket11080/trac_11080-user_registration.patch.gz) just
proposed on #11080 fixes this!



---

archive/issue_comments_153303.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@dimpase](#comment:13):\n> Replying to [@dimpase](#comment:12):\n> > I think it is some semi-trivial logic bug related to using None and False.\n\n> \n> it looks as if the [patch](https://github.com/sagemath/sage/files/ticket11080/trac_11080-user_registration.patch.gz) just\n> proposed on #11080 fixes this!\n\nunfortunately, not quite so. See #11080 for more.",
    "created_at": "2012-07-23T10:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153303",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@dimpase](#comment:13):
> Replying to [@dimpase](#comment:12):
> > I think it is some semi-trivial logic bug related to using None and False.

> 
> it looks as if the [patch](https://github.com/sagemath/sage/files/ticket11080/trac_11080-user_registration.patch.gz) just
> proposed on #11080 fixes this!

unfortunately, not quite so. See #11080 for more.



---

archive/issue_comments_153304.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@dimpase](#comment:14):\n> Replying to [@dimpase](#comment:13):\n> > Replying to [@dimpase](#comment:12):\n> > > I think it is some semi-trivial logic bug related to using None and False.\n\n> > \n> > it looks as if the [patch](https://github.com/sagemath/sage/files/ticket11080/trac_11080-user_registration.patch.gz) just\n> > proposed on #11080 fixes this!\n\n> \n> unfortunately, not quite so. See #11080 for more.\n\nThe patch works, I just was confused about the functionality under different scenarios! Let's beg Jeroen to re-merge these patches.",
    "created_at": "2012-07-23T10:34:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153304",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@dimpase](#comment:14):
> Replying to [@dimpase](#comment:13):
> > Replying to [@dimpase](#comment:12):
> > > I think it is some semi-trivial logic bug related to using None and False.

> > 
> > it looks as if the [patch](https://github.com/sagemath/sage/files/ticket11080/trac_11080-user_registration.patch.gz) just
> > proposed on #11080 fixes this!

> 
> unfortunately, not quite so. See #11080 for more.

The patch works, I just was confused about the functionality under different scenarios! Let's beg Jeroen to re-merge these patches.



---

archive/issue_comments_153305.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nA new sagenb spkg needs to be created with the fix.",
    "created_at": "2012-07-23T10:42:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153305",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

A new sagenb spkg needs to be created with the fix.



---

archive/issue_comments_153306.json:
```json
{
    "body": "Changed dependencies from **#13121** to **#11080**",
    "created_at": "2012-07-23T10:42:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153306",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#13121** to **#11080**



---

archive/issue_events_184959.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-23T10:42:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "milestone_number": null,
    "milestone_title": "sage-5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184959"
}
```



---

archive/issue_comments_153307.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nSorry, I didn't see that the status of this ticket was changed. Please see [comment:344 of #11080](https://github.com/sagemath/sage/issues/11080#comment:344).",
    "created_at": "2012-07-23T11:36:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153307",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:17" align="right">comment:17</div>

Sorry, I didn't see that the status of this ticket was changed. Please see [comment:344 of #11080](https://github.com/sagemath/sage/issues/11080#comment:344).



---

archive/issue_comments_153308.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,3 +9,5 @@\n 7. Stop the server and start it again.\n 8. Use registration is enabled.\n \n+---\n+this is fixed in [updated spkg](http://boxen.math.washington.edu/home/dima/packages/sagenb-0.9.1.spkg)\n``````\n",
    "created_at": "2012-07-23T11:57:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153308",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,3 +9,5 @@
 7. Stop the server and start it again.
 8. Use registration is enabled.
 
+---
+this is fixed in [updated spkg](http://boxen.math.washington.edu/home/dima/packages/sagenb-0.9.1.spkg)
``````




---

archive/issue_events_184960.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-07-23T11:57:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184960"
}
```



---

archive/issue_comments_153309.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI applied the patch the old-fashioned way and uploaded the resulting spkg - cf. the link in the description.",
    "created_at": "2012-07-23T11:57:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153309",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">comment:18</div>

I applied the patch the old-fashioned way and uploaded the resulting spkg - cf. the link in the description.



---

archive/issue_comments_153310.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThanks for taking care of this, guys!",
    "created_at": "2012-07-23T11:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153310",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:19" align="right">comment:19</div>

Thanks for taking care of this, guys!



---

archive/issue_comments_153311.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@dimpase](#comment:18):\n> I applied the patch the old-fashioned way and uploaded the resulting spkg - cf. the link in the description.\n\nThe spkg works. But it needs the versioning changed everywhere from 0.9.0 to 0.9.1. The install log shows lots of 0.9.0.",
    "created_at": "2012-07-23T12:05:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153311",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@dimpase](#comment:18):
> I applied the patch the old-fashioned way and uploaded the resulting spkg - cf. the link in the description.

The spkg works. But it needs the versioning changed everywhere from 0.9.0 to 0.9.1. The install log shows lots of 0.9.0.



---

archive/issue_comments_153312.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@ppurka](#comment:20):\n> Replying to [@dimpase](#comment:18):\n> > I applied the patch the old-fashioned way and uploaded the resulting spkg - cf. the link in the description.\n\n> \n> The spkg works. But it needs the versioning changed everywhere from 0.9.0 to 0.9.1. The install log shows lots of 0.9.0.\n\nhow about just calling it `0.9.0.p0` ?",
    "created_at": "2012-07-23T12:22:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153312",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@ppurka](#comment:20):
> Replying to [@dimpase](#comment:18):
> > I applied the patch the old-fashioned way and uploaded the resulting spkg - cf. the link in the description.

> 
> The spkg works. But it needs the versioning changed everywhere from 0.9.0 to 0.9.1. The install log shows lots of 0.9.0.

how about just calling it `0.9.0.p0` ?



---

archive/issue_comments_153313.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\n> how about just calling it 0.9.0.p0 ?\n\nThat seems very logical.",
    "created_at": "2012-07-23T12:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153313",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:22" align="right">comment:22</div>

> how about just calling it 0.9.0.p0 ?

That seems very logical.



---

archive/issue_comments_153314.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nWell, anything other than `0.9.0` is fine as long as it shows that it is different from `0.9.0` since the upstream has a tag of 0.9.0 that points to a particular state of the sagenb.\n\nWhat is the rationale behind the `.p?` suffix? Is it used only for bugfixes?",
    "created_at": "2012-07-23T12:40:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153314",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:23" align="right">comment:23</div>

Well, anything other than `0.9.0` is fine as long as it shows that it is different from `0.9.0` since the upstream has a tag of 0.9.0 that points to a particular state of the sagenb.

What is the rationale behind the `.p?` suffix? Is it used only for bugfixes?



---

archive/issue_comments_153315.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n.p* stands for \"patch level\" or \"patch\".  It's a way of noting patches to upstream releases, and seems entirely appropriate here.\n\nThat way we don't have to backport the patch to 0.9.0 in the git tree.  Just apply the patch here \"downstream\".  It is already merged in the next release upstream.",
    "created_at": "2012-07-23T12:45:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153315",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:24" align="right">comment:24</div>

.p* stands for "patch level" or "patch".  It's a way of noting patches to upstream releases, and seems entirely appropriate here.

That way we don't have to backport the patch to 0.9.0 in the git tree.  Just apply the patch here "downstream".  It is already merged in the next release upstream.



---

archive/issue_comments_153316.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@jasongrout](#comment:24):\n> .p* stands for \"patch level\" or \"patch\".  It's a way of noting patches to upstream releases, and seems entirely appropriate here.\n> \n> That way we don't have to backport the patch to 0.9.0 in the git tree.  Just apply the patch here \"downstream\".  It is already merged in the next release upstream.\n\nGreat! Then it is just fine to rename the spkg to `0.9.0.p0`.",
    "created_at": "2012-07-23T12:52:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153316",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@jasongrout](#comment:24):
> .p* stands for "patch level" or "patch".  It's a way of noting patches to upstream releases, and seems entirely appropriate here.
> 
> That way we don't have to backport the patch to 0.9.0 in the git tree.  Just apply the patch here "downstream".  It is already merged in the next release upstream.

Great! Then it is just fine to rename the spkg to `0.9.0.p0`.



---

archive/issue_comments_153317.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,4 +10,4 @@\n 8. Use registration is enabled.\n \n ---\n-this is fixed in [updated spkg](http://boxen.math.washington.edu/home/dima/packages/sagenb-0.9.1.spkg)\n+this is fixed in [updated spkg](http://boxen.math.washington.edu/home/dima/packages/sagenb-0.9.0.p0.spkg)\n``````\n",
    "created_at": "2012-07-23T12:54:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153317",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,4 +10,4 @@
 8. Use registration is enabled.
 
 ---
-this is fixed in [updated spkg](http://boxen.math.washington.edu/home/dima/packages/sagenb-0.9.1.spkg)
+this is fixed in [updated spkg](http://boxen.math.washington.edu/home/dima/packages/sagenb-0.9.0.p0.spkg)
``````




---

archive/issue_comments_153318.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI have corrected the name to make it `sagenb-0.9.0.p0.spkg`.\n\nStrictly speaking, one should have put the patch into the root subdirectory of spkg and fix spkg-install to apply it to the\npristine 0.9.0. Instead I just patched `src/sagenb` subdirectory of spkg.\nAs this is a one-time event, and in the future the releases of sagenb will be git-based, I hope it's OK.",
    "created_at": "2012-07-23T12:54:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153318",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

I have corrected the name to make it `sagenb-0.9.0.p0.spkg`.

Strictly speaking, one should have put the patch into the root subdirectory of spkg and fix spkg-install to apply it to the
pristine 0.9.0. Instead I just patched `src/sagenb` subdirectory of spkg.
As this is a one-time event, and in the future the releases of sagenb will be git-based, I hope it's OK.



---

archive/issue_comments_153319.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nSure hope so.  Having the infrastructure for the patch in here would be redundant, and also sagenb is not *really* as upstream as one might think...  maybe it's more like halfway up one of those trout ladders one sees in the Pacific Northwest.",
    "created_at": "2012-07-23T12:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153319",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:28" align="right">comment:28</div>

Sure hope so.  Having the infrastructure for the patch in here would be redundant, and also sagenb is not *really* as upstream as one might think...  maybe it's more like halfway up one of those trout ladders one sees in the Pacific Northwest.



---

archive/issue_comments_153320.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nHi everyone, sorry for the delay in responding.\n\nI cherry picked the commit Jason identified onto 0.9.0 and released a sagenb 0.9.1. SPKG is here: http://wstein.org/home/keshav/files/sagenb-0.9.1.spkg .\n\nThanks for finding the problem :)",
    "created_at": "2012-07-23T18:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153320",
    "user": "https://github.com/kini"
}
```

<div id="comment:29" align="right">comment:29</div>

Hi everyone, sorry for the delay in responding.

I cherry picked the commit Jason identified onto 0.9.0 and released a sagenb 0.9.1. SPKG is here: http://wstein.org/home/keshav/files/sagenb-0.9.1.spkg .

Thanks for finding the problem :)



---

archive/issue_comments_153321.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThanks for solving it!!!",
    "created_at": "2012-07-23T19:17:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153321",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:30" align="right">comment:30</div>

Thanks for solving it!!!



---

archive/issue_comments_153322.json:
```json
{
    "body": "Changed upstream from **Not yet reported upstream; Will do shortly.** to **Fixed upstream, in a later stable release.**",
    "created_at": "2012-07-24T02:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153322",
    "user": "https://github.com/ppurka"
}
```

Changed upstream from **Not yet reported upstream; Will do shortly.** to **Fixed upstream, in a later stable release.**



---

archive/issue_events_184961.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-07-24T02:34:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184961"
}
```



---

archive/issue_events_184962.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-07-24T02:34:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184962"
}
```



---

archive/issue_comments_153323.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,3 +11,4 @@\n \n ---\n this is fixed in [updated spkg](http://boxen.math.washington.edu/home/dima/packages/sagenb-0.9.0.p0.spkg)\n+Corresponding upstream release: [sagenb-0.9.1](http://wstein.org/home/keshav/files/sagenb-0.9.1.spkg)\n``````\n",
    "created_at": "2012-07-24T02:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153323",
    "user": "https://github.com/ppurka"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,3 +11,4 @@
 
 ---
 this is fixed in [updated spkg](http://boxen.math.washington.edu/home/dima/packages/sagenb-0.9.0.p0.spkg)
+Corresponding upstream release: [sagenb-0.9.1](http://wstein.org/home/keshav/files/sagenb-0.9.1.spkg)
``````




---

archive/issue_comments_153324.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nsagenb-0.9.1 works. Setting to positive review.",
    "created_at": "2012-07-24T02:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153324",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:31" align="right">comment:31</div>

sagenb-0.9.1 works. Setting to positive review.



---

archive/issue_events_184963.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-24T14:41:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184963"
}
```



---

archive/issue_events_184964.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-24T14:41:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13270#event-184964"
}
```



---

archive/issue_comments_153325.json:
```json
{
    "body": "Author: **Jason Grout, Keshav Kini**",
    "created_at": "2012-07-24T14:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153325",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jason Grout, Keshav Kini**



---

archive/issue_comments_153326.json:
```json
{
    "body": "Reviewer: **Punarbasu Purkayastha**",
    "created_at": "2012-07-24T14:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153326",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Punarbasu Purkayastha**



---

archive/issue_comments_153327.json:
```json
{
    "body": "Merged: **sage-5.2.rc1**",
    "created_at": "2012-07-24T14:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13270#issuecomment-153327",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.2.rc1**
