# Issue 13914: Install zlib shared objects on Cygwin

archive/issues_013710.json:
```json
{
    "body": "We need to modify the makefile so that SHARED_OBJECT is set to 1.\n\nUse spkg at\nhttp://boxen.math.washington.edu/home/jpflori/zlib-1.2.6.p0.spkg\n\n**CC:**  @kcrisman @dimpase\n\n**Keywords:** cygwin zlib spkg\n\n**Reviewer:** Dmitrii Pasechnik\n\n**Author:** Jean-Pierre Flori\n\n**Merged:** sage-5.7.beta4\n\nIssue created by migration from https://trac.sagemath.org/ticket/13914\n\n",
    "closed_at": "2013-02-09T12:14:39Z",
    "created_at": "2013-01-05T15:42:00Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.7",
    "title": "Install zlib shared objects on Cygwin",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/13914",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
We need to modify the makefile so that SHARED_OBJECT is set to 1.

Use spkg at
http://boxen.math.washington.edu/home/jpflori/zlib-1.2.6.p0.spkg

**CC:**  @kcrisman @dimpase

**Keywords:** cygwin zlib spkg

**Reviewer:** Dmitrii Pasechnik

**Author:** Jean-Pierre Flori

**Merged:** sage-5.7.beta4

Issue created by migration from https://trac.sagemath.org/ticket/13914





---

archive/issue_events_119547.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-01-05T16:03:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119547"
}
```



---

archive/issue_comments_166914.json:
```json
{
    "body": "<a id='comment:2'></a>\nIs this somehow related to #13354?",
    "created_at": "2013-01-07T16:50:53Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166914",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'></a>
Is this somehow related to #13354?



---

archive/issue_comments_166915.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [kcrisman](#comment%3A2):\n> Is this somehow related to #13354?\n\nNot at all, it is just that we did not customize the win32 makefile correctly before.\nWhence the need to install zlib and zlib-devel (or Cygwin equivalents, not sure of the name now) because our own zlib was lacking shared objects.",
    "created_at": "2013-01-07T16:53:38Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166915",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:3'></a>
Replying to [kcrisman](#comment%3A2):
> Is this somehow related to #13354?

Not at all, it is just that we did not customize the win32 makefile correctly before.
Whence the need to install zlib and zlib-devel (or Cygwin equivalents, not sure of the name now) because our own zlib was lacking shared objects.



---

archive/issue_comments_166916.json:
```json
{
    "body": "<a id='comment:4'></a>\nI mean it is unrelated because zlib does not use autotools at all.\n\nIf you really want it can be related in the sense that in the end the problem is that shared objects are not installed (even though in the autotools case they are not even built).",
    "created_at": "2013-01-07T16:54:51Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166916",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:4'></a>
I mean it is unrelated because zlib does not use autotools at all.

If you really want it can be related in the sense that in the end the problem is that shared objects are not installed (even though in the autotools case they are not even built).



---

archive/issue_comments_166917.json:
```json
{
    "body": "<a id='comment:5'></a>\n> If you really want it can be related in the sense that in the end the problem is that shared objects are not installed (even though in the autotools case they are not even built).\n\nThat is what I meant, I guess.\n\nSo this would remove the zlib-devel dependency on Win 7, okay, I understand now.",
    "created_at": "2013-01-07T17:45:02Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166917",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>
> If you really want it can be related in the sense that in the end the problem is that shared objects are not installed (even though in the autotools case they are not even built).

That is what I meant, I guess.

So this would remove the zlib-devel dependency on Win 7, okay, I understand now.



---

archive/issue_comments_166918.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n We need to modify the makefile so that SHARED_OBJECT is set to 1.\n \n Use spkg at\n-http://boxen.math.washington.edu/home/jplfori/zlib-1.2.6.p0.spkg\n+http://boxen.math.washington.edu/home/jpflori/zlib-1.2.6.p0.spkg\n``````\n",
    "created_at": "2013-01-13T14:57:49Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166918",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 We need to modify the makefile so that SHARED_OBJECT is set to 1.
 
 Use spkg at
-http://boxen.math.washington.edu/home/jplfori/zlib-1.2.6.p0.spkg
+http://boxen.math.washington.edu/home/jpflori/zlib-1.2.6.p0.spkg
``````




---

archive/issue_events_119548.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-01-14T17:05:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119548"
}
```



---

archive/issue_events_119549.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-01-14T17:05:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119549"
}
```



---

archive/issue_comments_166919.json:
```json
{
    "body": "<a id='comment:7'></a>\nSomething wrong here, this does not install the shared files properly...",
    "created_at": "2013-01-14T17:05:38Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166919",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:7'></a>
Something wrong here, this does not install the shared files properly...



---

archive/issue_comments_166920.json:
```json
{
    "body": "<a id='comment:8'></a>\nGroumpf that was SHARED_MOD, not SHARED_OBJECT...",
    "created_at": "2013-01-14T17:07:02Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166920",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:8'></a>
Groumpf that was SHARED_MOD, not SHARED_OBJECT...



---

archive/issue_comments_166921.json:
```json
{
    "body": "Spkg diff, for review only.",
    "created_at": "2013-01-14T19:53:39Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166921",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Spkg diff, for review only.



---

archive/attachments_019454.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "zlib-1.2.6.p0.diff",
    "asset_url": "tarball://root/attachments/ticket13914/zlib-1.2.6.p0.diff",
    "created_at": "2013-01-14T20:12:58Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket13914/zlib-1.2.6.p0.diff",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```



---

archive/issue_comments_166922.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Attachment:** [zlib-1.2.6.p0.diff](https://github.com/sagemath/sage/files/ticket13914/zlib-1.2.6.p0.diff)\n\nSpkg should be fine now and installed successfully on my system.",
    "created_at": "2013-01-14T20:12:58Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166922",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:9'></a>
**Attachment:** [zlib-1.2.6.p0.diff](https://github.com/sagemath/sage/files/ticket13914/zlib-1.2.6.p0.diff)

Spkg should be fine now and installed successfully on my system.



---

archive/issue_events_119550.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-01-14T20:12:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119550"
}
```



---

archive/issue_events_119551.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-01-14T20:12:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119551"
}
```



---

archive/issue_comments_166923.json:
```json
{
    "body": "<a id='comment:10'></a>\nWell, at least it installs on mine as well, though of course I already had zlib.  I guess the diff looks ok too and only touches Cygwin, correct?  Is there any other spkg or something I should wait for building to give this positive review (i.e., one that depends on it), and how would I know if things were linked against this as opposed to the system one?  (I don't know what zlib does or how it is used, big surprise.)",
    "created_at": "2013-01-22T16:40:30Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166923",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>
Well, at least it installs on mine as well, though of course I already had zlib.  I guess the diff looks ok too and only touches Cygwin, correct?  Is there any other spkg or something I should wait for building to give this positive review (i.e., one that depends on it), and how would I know if things were linked against this as opposed to the system one?  (I don't know what zlib does or how it is used, big surprise.)



---

archive/issue_comments_166924.json:
```json
{
    "body": "<a id='comment:11'></a>\nYou can run ldd on libs which should use zlib, I'd say it's the case of libgd and libfreetype (from inside a Sage shell).\nOr you could just check that the zlib1.dll file is indeed installed.",
    "created_at": "2013-01-23T09:49:35Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166924",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:11'></a>
You can run ldd on libs which should use zlib, I'd say it's the case of libgd and libfreetype (from inside a Sage shell).
Or you could just check that the zlib1.dll file is indeed installed.



---

archive/issue_comments_166925.json:
```json
{
    "body": "<a id='comment:12'></a>\nSadly, after a required BLODA upgrade to allow my internet access with this machine, Sage won't build - nothing reliable, just the usual horrible stuff and rebasing just delays the pain.  Python package in particular is affected.  So I wonder whether we should just do this and assume it works on XP.  Sorry.",
    "created_at": "2013-01-24T19:24:54Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166925",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>
Sadly, after a required BLODA upgrade to allow my internet access with this machine, Sage won't build - nothing reliable, just the usual horrible stuff and rebasing just delays the pain.  Python package in particular is affected.  So I wonder whether we should just do this and assume it works on XP.  Sorry.



---

archive/issue_comments_166926.json:
```json
{
    "body": "<a id='comment:13'></a>\nMaybe Dima can have a look?\nThe changes are quite simple so this should not be a hassle.",
    "created_at": "2013-01-25T10:40:05Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166926",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:13'></a>
Maybe Dima can have a look?
The changes are quite simple so this should not be a hassle.



---

archive/issue_comments_166927.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [jpflori](#comment%3A13):\n> Maybe Dima can have a look?\n> The changes are quite simple so this should not be a hassle.\n\n\nI'll try to build sage 5.7.beta0 on Cygwin...",
    "created_at": "2013-01-25T11:49:28Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166927",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>
Replying to [jpflori](#comment%3A13):
> Maybe Dima can have a look?
> The changes are quite simple so this should not be a hassle.


I'll try to build sage 5.7.beta0 on Cygwin...



---

archive/issue_comments_166928.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [dimpase](#comment%3A14):\n> Replying to [jpflori](#comment%3A13):\n> > Maybe Dima can have a look?\n> > The changes are quite simple so this should not be a hassle.\n\n> \n> I'll try to build sage 5.7.beta0 on Cygwin...\n\n\nOK, it builds and works on 64-bit Windows 7 with the latest stable Cygwin, and native Cygwin gcc and gfortran.\nNeeded to rebase 2 times during the build. Running tests now.\n\nThis ticket looks good, positive review.",
    "created_at": "2013-01-26T15:49:02Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166928",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
Replying to [dimpase](#comment%3A14):
> Replying to [jpflori](#comment%3A13):
> > Maybe Dima can have a look?
> > The changes are quite simple so this should not be a hassle.

> 
> I'll try to build sage 5.7.beta0 on Cygwin...


OK, it builds and works on 64-bit Windows 7 with the latest stable Cygwin, and native Cygwin gcc and gfortran.
Needed to rebase 2 times during the build. Running tests now.

This ticket looks good, positive review.



---

archive/issue_events_119552.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-01-26T15:49:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119552"
}
```



---

archive/issue_events_119553.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-01-26T15:49:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119553"
}
```



---

archive/issue_comments_166929.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [kcrisman](#comment%3A12):\n> rebasing just delays the pain.\n\nSpeaking of which, do you by chance use the script `$SAGE_LOCAL/bin/sage-rebase_sage.sh`?  Just wondering whether that's used at all.",
    "created_at": "2013-01-26T22:07:58Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166929",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
Replying to [kcrisman](#comment%3A12):
> rebasing just delays the pain.

Speaking of which, do you by chance use the script `$SAGE_LOCAL/bin/sage-rebase_sage.sh`?  Just wondering whether that's used at all.



---

archive/issue_comments_166930.json:
```json
{
    "body": "<a id='comment:17'></a>\nI did not even know it existed...\nBut, on my side at least, it seems that somehow the situation has gotten better recently.\nFor my last attempt, I just had to rebase once after installing everything to be able to launch Sage (although after reinstalling some spkg I got stuck with a fork error).\nBefore that I sometimes had to do horrible stuff like rebasing in the middle of the build of the Maxim spkg, which was kind of painful.",
    "created_at": "2013-01-27T00:34:28Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166930",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:17'></a>
I did not even know it existed...
But, on my side at least, it seems that somehow the situation has gotten better recently.
For my last attempt, I just had to rebase once after installing everything to be able to launch Sage (although after reinstalling some spkg I got stuck with a fork error).
Before that I sometimes had to do horrible stuff like rebasing in the middle of the build of the Maxim spkg, which was kind of painful.



---

archive/issue_comments_166931.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [jdemeyer](#comment%3A16):\n> Replying to [kcrisman](#comment%3A12):\n> > rebasing just delays the pain.\n\n> Speaking of which, do you by chance use the script `$SAGE_LOCAL/bin/sage-rebase_sage.sh`?  Just wondering whether that's used at all.\n\nthis script, which basically runs the same 2 shell commands as we use to rebase Sage, must be run in a non-cygwin shell (Cygwin includes a copy of dash for this purpose), not in bash. Perhaps we should convert it into a dash  script.",
    "created_at": "2013-01-27T01:04:21Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166931",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>
Replying to [jdemeyer](#comment%3A16):
> Replying to [kcrisman](#comment%3A12):
> > rebasing just delays the pain.

> Speaking of which, do you by chance use the script `$SAGE_LOCAL/bin/sage-rebase_sage.sh`?  Just wondering whether that's used at all.

this script, which basically runs the same 2 shell commands as we use to rebase Sage, must be run in a non-cygwin shell (Cygwin includes a copy of dash for this purpose), not in bash. Perhaps we should convert it into a dash  script.



---

archive/issue_comments_166932.json:
```json
{
    "body": "**Reviewer:** Dmitrii Pasechnik",
    "created_at": "2013-01-27T18:14:11Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166932",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Dmitrii Pasechnik



---

archive/issue_comments_166933.json:
```json
{
    "body": "<a id='comment:19'></a>\nMy question about `sage-rebase_sage.sh` was more: should be keep it or can it be removed?",
    "created_at": "2013-01-27T18:14:11Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166933",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
My question about `sage-rebase_sage.sh` was more: should be keep it or can it be removed?



---

archive/issue_comments_166934.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [jdemeyer](#comment%3A19):\n> My question about `sage-rebase_sage.sh` was more: should be keep it or can it be removed?\n\nwith some work, it can be made useful. I'll open a ticket for this.",
    "created_at": "2013-01-28T01:22:27Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166934",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>
Replying to [jdemeyer](#comment%3A19):
> My question about `sage-rebase_sage.sh` was more: should be keep it or can it be removed?

with some work, it can be made useful. I'll open a ticket for this.



---

archive/issue_comments_166935.json:
```json
{
    "body": "<a id='comment:21'></a>\nHuh, I didn't know this.  Note that on some systems \"ash\" is needed, not \"dash\".",
    "created_at": "2013-01-28T02:15:16Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166935",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:21'></a>
Huh, I didn't know this.  Note that on some systems "ash" is needed, not "dash".



---

archive/issue_comments_166936.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [kcrisman](#comment%3A21):\n> Huh, I didn't know this.  Note that on some systems \"ash\" is needed, not \"dash\".\n\n\nWell, I suppose it's the matter of installing `dash`.",
    "created_at": "2013-01-28T02:17:38Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166936",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:22'></a>
Replying to [kcrisman](#comment%3A21):
> Huh, I didn't know this.  Note that on some systems "ash" is needed, not "dash".


Well, I suppose it's the matter of installing `dash`.



---

archive/issue_comments_166937.json:
```json
{
    "body": "<a id='comment:23'></a>\n> > Huh, I didn't know this.  Note that on some systems \"ash\" is needed, not \"dash\".\n\n> Well, I suppose it's the matter of installing `dash`.\nThen that would need to be an additional prerequisite for building Sage on Cygwin, which it currently is not.",
    "created_at": "2013-01-28T03:02:06Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166937",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:23'></a>
> > Huh, I didn't know this.  Note that on some systems "ash" is needed, not "dash".

> Well, I suppose it's the matter of installing `dash`.
Then that would need to be an additional prerequisite for building Sage on Cygwin, which it currently is not.



---

archive/issue_comments_166938.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [kcrisman](#comment%3A23):\n> > > Huh, I didn't know this.  Note that on some systems \"ash\" is needed, not \"dash\".\n\n> > Well, I suppose it's the matter of installing `dash`.\n> Then that would need to be an additional prerequisite for building Sage on Cygwin, which it currently is not.\n\nwe should switch from ash to dash, at least that's what Cygwin people were saying [already in 2009](http://cygwin.com/ml/cygwin/2009-07/msg00367.html).",
    "created_at": "2013-01-28T03:33:19Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166938",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>
Replying to [kcrisman](#comment%3A23):
> > > Huh, I didn't know this.  Note that on some systems "ash" is needed, not "dash".

> > Well, I suppose it's the matter of installing `dash`.
> Then that would need to be an additional prerequisite for building Sage on Cygwin, which it currently is not.

we should switch from ash to dash, at least that's what Cygwin people were saying [already in 2009](http://cygwin.com/ml/cygwin/2009-07/msg00367.html).



---

archive/issue_comments_166939.json:
```json
{
    "body": "<a id='comment:25'></a>\nI'd say let's keep the file, I guess it is really samll and can be useful for people not used to rebasing.",
    "created_at": "2013-01-28T10:12:48Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166939",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:25'></a>
I'd say let's keep the file, I guess it is really samll and can be useful for people not used to rebasing.



---

archive/issue_comments_166940.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [dimpase](#comment%3A20):\n> Replying to [jdemeyer](#comment%3A19):\n> > My question about `sage-rebase_sage.sh` was more: should be keep it or can it be removed?\n\n> with some work, it can be made useful. I'll open a ticket for this.\n> \n\nplease see #14031",
    "created_at": "2013-01-29T05:52:55Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166940",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'></a>
Replying to [dimpase](#comment%3A20):
> Replying to [jdemeyer](#comment%3A19):
> > My question about `sage-rebase_sage.sh` was more: should be keep it or can it be removed?

> with some work, it can be made useful. I'll open a ticket for this.
> 

please see #14031



---

archive/issue_events_119554.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-29T16:27:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119554"
}
```



---

archive/issue_events_119555.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-29T16:27:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119555"
}
```



---

archive/issue_comments_166941.json:
```json
{
    "body": "<a id='comment:27'></a>\nThis fails to install on OS X 10.8: [http://build.sagemath.org/sage/builders/Dehaye%20%28OSX%2010.8%20x86_64%29/builds/56/steps/shell_6/logs/zlib](http://build.sagemath.org/sage/builders/Dehaye%20%28OSX%2010.8%20x86_64%29/builds/56/steps/shell_6/logs/zlib)",
    "created_at": "2013-01-29T16:27:43Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166941",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>
This fails to install on OS X 10.8: [http://build.sagemath.org/sage/builders/Dehaye%20%28OSX%2010.8%20x86_64%29/builds/56/steps/shell_6/logs/zlib](http://build.sagemath.org/sage/builders/Dehaye%20%28OSX%2010.8%20x86_64%29/builds/56/steps/shell_6/logs/zlib)



---

archive/issue_comments_166942.json:
```json
{
    "body": "<a id='comment:28'></a>\nDoes it work with gcc?",
    "created_at": "2013-01-29T16:29:26Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166942",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:28'></a>
Does it work with gcc?



---

archive/issue_comments_166943.json:
```json
{
    "body": "<a id='comment:29'></a>\nAnyway I don't really think this ticket is related.\nHere we only touch code in Cygwin specific part (unless $UNAME = CYGWIN on Os X).\nSo I'm putting this back to positive review.",
    "created_at": "2013-01-29T16:33:07Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166943",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:29'></a>
Anyway I don't really think this ticket is related.
Here we only touch code in Cygwin specific part (unless $UNAME = CYGWIN on Os X).
So I'm putting this back to positive review.



---

archive/issue_events_119556.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-01-29T16:33:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119556"
}
```



---

archive/issue_events_119557.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-01-29T16:33:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119557"
}
```



---

archive/issue_comments_166944.json:
```json
{
    "body": "<a id='comment:30'></a>\n**PLEASE at least double-check before saying that it's not your fault**, especially when the failure is so obvious.\n\nYour spkg is totally badly packaged, it even contains compiled `.o` files.",
    "created_at": "2013-01-29T16:44:56Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166944",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>
**PLEASE at least double-check before saying that it's not your fault**, especially when the failure is so obvious.

Your spkg is totally badly packaged, it even contains compiled `.o` files.



---

archive/issue_events_119558.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-29T16:44:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119558"
}
```



---

archive/issue_events_119559.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-29T16:44:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119559"
}
```



---

archive/issue_comments_166945.json:
```json
{
    "body": "<a id='comment:31'></a>\nOh, ok, my fault then.",
    "created_at": "2013-01-29T16:47:03Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166945",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:31'></a>
Oh, ok, my fault then.



---

archive/issue_comments_166946.json:
```json
{
    "body": "<a id='comment:32'></a>\nNext time state the obvious problem at once instead of linking to a not so obvious for anyone log...\nEspecially when it seems that all objects are rebuilt there and the problematic libz.a is repackaged correctly.\n\nAnd I don't usually look into the src folder, too bad this one comes from a test build and is not vanilla.",
    "created_at": "2013-01-29T16:53:20Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166946",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:32'></a>
Next time state the obvious problem at once instead of linking to a not so obvious for anyone log...
Especially when it seems that all objects are rebuilt there and the problematic libz.a is repackaged correctly.

And I don't usually look into the src folder, too bad this one comes from a test build and is not vanilla.



---

archive/issue_comments_166947.json:
```json
{
    "body": "<a id='comment:33'></a>\nThe newly uploaded spkg should be clean.\nIt stills builds on Cygwin and Linux correctly (note the previous one did as well).\nNo access to Os X, but checking the src dir is vanilla should be enough.",
    "created_at": "2013-01-29T17:02:26Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166947",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:33'></a>
The newly uploaded spkg should be clean.
It stills builds on Cygwin and Linux correctly (note the previous one did as well).
No access to Os X, but checking the src dir is vanilla should be enough.



---

archive/issue_events_119560.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-01-29T17:02:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119560"
}
```



---

archive/issue_events_119561.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-01-29T17:02:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119561"
}
```



---

archive/issue_comments_166948.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [jpflori](#comment%3A32):\n> Next time state the obvious problem at once\n\n\"obvious\" refered to the fact that a *zlib build failure* might likely be caused by a *zlib package update*.  I hadn't checked the spkg at that point.",
    "created_at": "2013-01-29T18:34:48Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166948",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'></a>
Replying to [jpflori](#comment%3A32):
> Next time state the obvious problem at once

"obvious" refered to the fact that a *zlib build failure* might likely be caused by a *zlib package update*.  I hadn't checked the spkg at that point.



---

archive/issue_events_119562.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-02-05T04:22:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119562"
}
```



---

archive/issue_events_119563.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-02-05T04:22:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119563"
}
```



---

archive/issue_comments_166949.json:
```json
{
    "body": "<a id='comment:35'></a>\nI've checked that the spkg src/ directory didn't change from the previous version. It also builds on OSX 10.6.8 and on Cygwin. Positive review.",
    "created_at": "2013-02-05T04:22:29Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166949",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:35'></a>
I've checked that the spkg src/ directory didn't change from the previous version. It also builds on OSX 10.6.8 and on Cygwin. Positive review.



---

archive/issue_events_119564.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-09T12:14:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119564"
}
```



---

archive/issue_events_119565.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-09T12:14:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-119565"
}
```



---

archive/issue_comments_166950.json:
```json
{
    "body": "**Merged:** sage-5.7.beta4",
    "created_at": "2013-02-09T12:14:39Z",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166950",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.7.beta4
