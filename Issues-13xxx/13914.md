# Issue 13914: Install zlib shared objects on Cygwin

archive/issues_013710.json:
```json
{
    "assignees": [],
    "body": "We need to modify the makefile so that SHARED_OBJECT is set to 1.\n\nUse spkg at\nhttp://boxen.math.washington.edu/home/jpflori/zlib-1.2.6.p0.spkg\n\nCC:  @kcrisman @dimpase\n\nKeywords: **cygwin zlib spkg**\n\nReviewer: **Dmitrii Pasechnik**\n\nAuthor: **Jean-Pierre Flori**\n\nMerged: **sage-5.7.beta4**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13914_\n\n",
    "closed_at": "2013-02-09T12:14:39Z",
    "created_at": "2013-01-05T15:42:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Install zlib shared objects on Cygwin",
    "type": "issue",
    "updated_at": "2013-02-09T12:14:39Z",
    "url": "https://github.com/sagemath/sage/issues/13914",
    "user": "https://github.com/jpflori"
}
```
We need to modify the makefile so that SHARED_OBJECT is set to 1.

Use spkg at
http://boxen.math.washington.edu/home/jpflori/zlib-1.2.6.p0.spkg

CC:  @kcrisman @dimpase

Keywords: **cygwin zlib spkg**

Reviewer: **Dmitrii Pasechnik**

Author: **Jean-Pierre Flori**

Merged: **sage-5.7.beta4**

_Issue created by migration from https://trac.sagemath.org/ticket/13914_





---

archive/issue_events_179183.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-05T15:42:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "milestone_number": null,
    "milestone_title": "sage-5.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179183"
}
```



---

archive/issue_events_179184.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-05T15:42:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179184"
}
```



---

archive/issue_events_179185.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-05T15:42:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179185"
}
```



---

archive/issue_events_179186.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-05T15:42:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179186"
}
```



---

archive/issue_events_179187.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-05T16:03:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179187"
}
```



---

archive/issue_comments_166956.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nIs this somehow related to #13354?",
    "created_at": "2013-01-07T16:50:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166956",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">Comment 2</div>

Is this somehow related to #13354?



---

archive/issue_comments_166957.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nReplying to [@kcrisman](#comment%3A2):\n> Is this somehow related to #13354?\n\nNot at all, it is just that we did not customize the win32 makefile correctly before.\nWhence the need to install zlib and zlib-devel (or Cygwin equivalents, not sure of the name now) because our own zlib was lacking shared objects.",
    "created_at": "2013-01-07T16:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166957",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:3" align="right">Comment 3</div>

Replying to [@kcrisman](#comment%3A2):
> Is this somehow related to #13354?

Not at all, it is just that we did not customize the win32 makefile correctly before.
Whence the need to install zlib and zlib-devel (or Cygwin equivalents, not sure of the name now) because our own zlib was lacking shared objects.



---

archive/issue_comments_166958.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nI mean it is unrelated because zlib does not use autotools at all.\n\nIf you really want it can be related in the sense that in the end the problem is that shared objects are not installed (even though in the autotools case they are not even built).",
    "created_at": "2013-01-07T16:54:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166958",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:4" align="right">Comment 4</div>

I mean it is unrelated because zlib does not use autotools at all.

If you really want it can be related in the sense that in the end the problem is that shared objects are not installed (even though in the autotools case they are not even built).



---

archive/issue_comments_166959.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\n> If you really want it can be related in the sense that in the end the problem is that shared objects are not installed (even though in the autotools case they are not even built).\n\nThat is what I meant, I guess.\n\nSo this would remove the zlib-devel dependency on Win 7, okay, I understand now.",
    "created_at": "2013-01-07T17:45:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166959",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">Comment 5</div>

> If you really want it can be related in the sense that in the end the problem is that shared objects are not installed (even though in the autotools case they are not even built).

That is what I meant, I guess.

So this would remove the zlib-devel dependency on Win 7, okay, I understand now.



---

archive/issue_comments_166960.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n We need to modify the makefile so that SHARED_OBJECT is set to 1.\n \n Use spkg at\n-http://boxen.math.washington.edu/home/jplfori/zlib-1.2.6.p0.spkg\n+http://boxen.math.washington.edu/home/jpflori/zlib-1.2.6.p0.spkg\n``````\n",
    "created_at": "2013-01-13T14:57:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166960",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 We need to modify the makefile so that SHARED_OBJECT is set to 1.
 
 Use spkg at
-http://boxen.math.washington.edu/home/jplfori/zlib-1.2.6.p0.spkg
+http://boxen.math.washington.edu/home/jpflori/zlib-1.2.6.p0.spkg
``````




---

archive/issue_events_179188.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-14T17:05:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179188"
}
```



---

archive/issue_events_179189.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-14T17:05:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179189"
}
```



---

archive/issue_comments_166961.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nSomething wrong here, this does not install the shared files properly...",
    "created_at": "2013-01-14T17:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166961",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:7" align="right">Comment 7</div>

Something wrong here, this does not install the shared files properly...



---

archive/issue_comments_166962.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nGroumpf that was SHARED_MOD, not SHARED_OBJECT...",
    "created_at": "2013-01-14T17:07:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166962",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:8" align="right">Comment 8</div>

Groumpf that was SHARED_MOD, not SHARED_OBJECT...



---

archive/issue_comments_166963.json:
```json
{
    "body": "Spkg diff, for review only.",
    "created_at": "2013-01-14T19:53:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166963",
    "user": "https://github.com/jpflori"
}
```

Spkg diff, for review only.



---

archive/issue_comments_166964.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nAttachment: **[zlib-1.2.6.p0.diff.gz](https://github.com/sagemath/sage/files/ticket13914/zlib-1.2.6.p0.diff.gz)**\n\nSpkg should be fine now and installed successfully on my system.",
    "created_at": "2013-01-14T20:12:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166964",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:9" align="right">Comment 9</div>

Attachment: **[zlib-1.2.6.p0.diff.gz](https://github.com/sagemath/sage/files/ticket13914/zlib-1.2.6.p0.diff.gz)**

Spkg should be fine now and installed successfully on my system.



---

archive/issue_events_179190.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-14T20:12:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179190"
}
```



---

archive/issue_events_179191.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-14T20:12:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179191"
}
```



---

archive/issue_comments_166965.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nWell, at least it installs on mine as well, though of course I already had zlib.  I guess the diff looks ok too and only touches Cygwin, correct?  Is there any other spkg or something I should wait for building to give this positive review (i.e., one that depends on it), and how would I know if things were linked against this as opposed to the system one?  (I don't know what zlib does or how it is used, big surprise.)",
    "created_at": "2013-01-22T16:40:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166965",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:10" align="right">Comment 10</div>

Well, at least it installs on mine as well, though of course I already had zlib.  I guess the diff looks ok too and only touches Cygwin, correct?  Is there any other spkg or something I should wait for building to give this positive review (i.e., one that depends on it), and how would I know if things were linked against this as opposed to the system one?  (I don't know what zlib does or how it is used, big surprise.)



---

archive/issue_comments_166966.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nYou can run ldd on libs which should use zlib, I'd say it's the case of libgd and libfreetype (from inside a Sage shell).\nOr you could just check that the zlib1.dll file is indeed installed.",
    "created_at": "2013-01-23T09:49:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166966",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:11" align="right">Comment 11</div>

You can run ldd on libs which should use zlib, I'd say it's the case of libgd and libfreetype (from inside a Sage shell).
Or you could just check that the zlib1.dll file is indeed installed.



---

archive/issue_comments_166967.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nSadly, after a required BLODA upgrade to allow my internet access with this machine, Sage won't build - nothing reliable, just the usual horrible stuff and rebasing just delays the pain.  Python package in particular is affected.  So I wonder whether we should just do this and assume it works on XP.  Sorry.",
    "created_at": "2013-01-24T19:24:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166967",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:12" align="right">Comment 12</div>

Sadly, after a required BLODA upgrade to allow my internet access with this machine, Sage won't build - nothing reliable, just the usual horrible stuff and rebasing just delays the pain.  Python package in particular is affected.  So I wonder whether we should just do this and assume it works on XP.  Sorry.



---

archive/issue_comments_166968.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nMaybe Dima can have a look?\nThe changes are quite simple so this should not be a hassle.",
    "created_at": "2013-01-25T10:40:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166968",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:13" align="right">Comment 13</div>

Maybe Dima can have a look?
The changes are quite simple so this should not be a hassle.



---

archive/issue_comments_166969.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@jpflori](#comment%3A13):\n> Maybe Dima can have a look?\n> The changes are quite simple so this should not be a hassle.\n\nI'll try to build sage 5.7.beta0 on Cygwin...",
    "created_at": "2013-01-25T11:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166969",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@jpflori](#comment%3A13):
> Maybe Dima can have a look?
> The changes are quite simple so this should not be a hassle.

I'll try to build sage 5.7.beta0 on Cygwin...



---

archive/issue_comments_166970.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@dimpase](#comment%3A14):\n> Replying to [@jpflori](#comment%3A13):\n> > Maybe Dima can have a look?\n> > The changes are quite simple so this should not be a hassle.\n\n> \n> I'll try to build sage 5.7.beta0 on Cygwin...\n\nOK, it builds and works on 64-bit Windows 7 with the latest stable Cygwin, and native Cygwin gcc and gfortran.\nNeeded to rebase 2 times during the build. Running tests now.\n\nThis ticket looks good, positive review.",
    "created_at": "2013-01-26T15:49:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166970",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@dimpase](#comment%3A14):
> Replying to [@jpflori](#comment%3A13):
> > Maybe Dima can have a look?
> > The changes are quite simple so this should not be a hassle.

> 
> I'll try to build sage 5.7.beta0 on Cygwin...

OK, it builds and works on 64-bit Windows 7 with the latest stable Cygwin, and native Cygwin gcc and gfortran.
Needed to rebase 2 times during the build. Running tests now.

This ticket looks good, positive review.



---

archive/issue_events_179192.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-01-26T15:49:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179192"
}
```



---

archive/issue_events_179193.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-01-26T15:49:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179193"
}
```



---

archive/issue_comments_166971.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nReplying to [@kcrisman](#comment%3A12):\n> rebasing just delays the pain.\n\nSpeaking of which, do you by chance use the script `$SAGE_LOCAL/bin/sage-rebase_sage.sh`?  Just wondering whether that's used at all.",
    "created_at": "2013-01-26T22:07:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166971",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">Comment 16</div>

Replying to [@kcrisman](#comment%3A12):
> rebasing just delays the pain.

Speaking of which, do you by chance use the script `$SAGE_LOCAL/bin/sage-rebase_sage.sh`?  Just wondering whether that's used at all.



---

archive/issue_comments_166972.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nI did not even know it existed...\nBut, on my side at least, it seems that somehow the situation has gotten better recently.\nFor my last attempt, I just had to rebase once after installing everything to be able to launch Sage (although after reinstalling some spkg I got stuck with a fork error).\nBefore that I sometimes had to do horrible stuff like rebasing in the middle of the build of the Maxim spkg, which was kind of painful.",
    "created_at": "2013-01-27T00:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166972",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:17" align="right">Comment 17</div>

I did not even know it existed...
But, on my side at least, it seems that somehow the situation has gotten better recently.
For my last attempt, I just had to rebase once after installing everything to be able to launch Sage (although after reinstalling some spkg I got stuck with a fork error).
Before that I sometimes had to do horrible stuff like rebasing in the middle of the build of the Maxim spkg, which was kind of painful.



---

archive/issue_comments_166973.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nReplying to [@jdemeyer](#comment%3A16):\n> Replying to [@kcrisman](#comment%3A12):\n> > rebasing just delays the pain.\n\n> Speaking of which, do you by chance use the script `$SAGE_LOCAL/bin/sage-rebase_sage.sh`?  Just wondering whether that's used at all.\n\nthis script, which basically runs the same 2 shell commands as we use to rebase Sage, must be run in a non-cygwin shell (Cygwin includes a copy of dash for this purpose), not in bash. Perhaps we should convert it into a dash  script.",
    "created_at": "2013-01-27T01:04:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166973",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">Comment 18</div>

Replying to [@jdemeyer](#comment%3A16):
> Replying to [@kcrisman](#comment%3A12):
> > rebasing just delays the pain.

> Speaking of which, do you by chance use the script `$SAGE_LOCAL/bin/sage-rebase_sage.sh`?  Just wondering whether that's used at all.

this script, which basically runs the same 2 shell commands as we use to rebase Sage, must be run in a non-cygwin shell (Cygwin includes a copy of dash for this purpose), not in bash. Perhaps we should convert it into a dash  script.



---

archive/issue_comments_166974.json:
```json
{
    "body": "Reviewer: **Dmitrii Pasechnik**",
    "created_at": "2013-01-27T18:14:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166974",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Dmitrii Pasechnik**



---

archive/issue_comments_166975.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nMy question about `sage-rebase_sage.sh` was more: should be keep it or can it be removed?",
    "created_at": "2013-01-27T18:14:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166975",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">Comment 19</div>

My question about `sage-rebase_sage.sh` was more: should be keep it or can it be removed?



---

archive/issue_comments_166976.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nReplying to [@jdemeyer](#comment%3A19):\n> My question about `sage-rebase_sage.sh` was more: should be keep it or can it be removed?\n\nwith some work, it can be made useful. I'll open a ticket for this.",
    "created_at": "2013-01-28T01:22:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166976",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">Comment 20</div>

Replying to [@jdemeyer](#comment%3A19):
> My question about `sage-rebase_sage.sh` was more: should be keep it or can it be removed?

with some work, it can be made useful. I'll open a ticket for this.



---

archive/issue_comments_166977.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nHuh, I didn't know this.  Note that on some systems \"ash\" is needed, not \"dash\".",
    "created_at": "2013-01-28T02:15:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166977",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:21" align="right">Comment 21</div>

Huh, I didn't know this.  Note that on some systems "ash" is needed, not "dash".



---

archive/issue_comments_166978.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nReplying to [@kcrisman](#comment%3A21):\n> Huh, I didn't know this.  Note that on some systems \"ash\" is needed, not \"dash\".\n\nWell, I suppose it's the matter of installing `dash`.",
    "created_at": "2013-01-28T02:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166978",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">Comment 22</div>

Replying to [@kcrisman](#comment%3A21):
> Huh, I didn't know this.  Note that on some systems "ash" is needed, not "dash".

Well, I suppose it's the matter of installing `dash`.



---

archive/issue_comments_166979.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\n> > Huh, I didn't know this.  Note that on some systems \"ash\" is needed, not \"dash\".\n\n> Well, I suppose it's the matter of installing `dash`.\n\nThen that would need to be an additional prerequisite for building Sage on Cygwin, which it currently is not.",
    "created_at": "2013-01-28T03:02:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166979",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:23" align="right">Comment 23</div>

> > Huh, I didn't know this.  Note that on some systems "ash" is needed, not "dash".

> Well, I suppose it's the matter of installing `dash`.

Then that would need to be an additional prerequisite for building Sage on Cygwin, which it currently is not.



---

archive/issue_comments_166980.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nReplying to [@kcrisman](#comment%3A23):\n> > > Huh, I didn't know this.  Note that on some systems \"ash\" is needed, not \"dash\".\n\n> > Well, I suppose it's the matter of installing `dash`.\n\n> Then that would need to be an additional prerequisite for building Sage on Cygwin, which it currently is not.\n\nwe should switch from ash to dash, at least that's what Cygwin people were saying [already in 2009](http://cygwin.com/ml/cygwin/2009-07/msg00367.html).",
    "created_at": "2013-01-28T03:33:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166980",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:24" align="right">Comment 24</div>

Replying to [@kcrisman](#comment%3A23):
> > > Huh, I didn't know this.  Note that on some systems "ash" is needed, not "dash".

> > Well, I suppose it's the matter of installing `dash`.

> Then that would need to be an additional prerequisite for building Sage on Cygwin, which it currently is not.

we should switch from ash to dash, at least that's what Cygwin people were saying [already in 2009](http://cygwin.com/ml/cygwin/2009-07/msg00367.html).



---

archive/issue_comments_166981.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nI'd say let's keep the file, I guess it is really samll and can be useful for people not used to rebasing.",
    "created_at": "2013-01-28T10:12:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166981",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:25" align="right">Comment 25</div>

I'd say let's keep the file, I guess it is really samll and can be useful for people not used to rebasing.



---

archive/issue_comments_166982.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nReplying to [@dimpase](#comment%3A20):\n> Replying to [@jdemeyer](#comment%3A19):\n> > My question about `sage-rebase_sage.sh` was more: should be keep it or can it be removed?\n\n> with some work, it can be made useful. I'll open a ticket for this.\n> \n\nplease see #14031",
    "created_at": "2013-01-29T05:52:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166982",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:26" align="right">Comment 26</div>

Replying to [@dimpase](#comment%3A20):
> Replying to [@jdemeyer](#comment%3A19):
> > My question about `sage-rebase_sage.sh` was more: should be keep it or can it be removed?

> with some work, it can be made useful. I'll open a ticket for this.
> 

please see #14031



---

archive/issue_events_179194.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-29T16:27:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179194"
}
```



---

archive/issue_events_179195.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-29T16:27:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179195"
}
```



---

archive/issue_comments_166983.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nThis fails to install on OS X 10.8: [http://build.sagemath.org/sage/builders/Dehaye%20%28OSX%2010.8%20x86_64%29/builds/56/steps/shell_6/logs/zlib](http://build.sagemath.org/sage/builders/Dehaye%20%28OSX%2010.8%20x86_64%29/builds/56/steps/shell_6/logs/zlib)",
    "created_at": "2013-01-29T16:27:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166983",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">Comment 27</div>

This fails to install on OS X 10.8: [http://build.sagemath.org/sage/builders/Dehaye%20%28OSX%2010.8%20x86_64%29/builds/56/steps/shell_6/logs/zlib](http://build.sagemath.org/sage/builders/Dehaye%20%28OSX%2010.8%20x86_64%29/builds/56/steps/shell_6/logs/zlib)



---

archive/issue_comments_166984.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nDoes it work with gcc?",
    "created_at": "2013-01-29T16:29:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166984",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:28" align="right">Comment 28</div>

Does it work with gcc?



---

archive/issue_comments_166985.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nAnyway I don't really think this ticket is related.\nHere we only touch code in Cygwin specific part (unless $UNAME = CYGWIN on Os X).\nSo I'm putting this back to positive review.",
    "created_at": "2013-01-29T16:33:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166985",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:29" align="right">Comment 29</div>

Anyway I don't really think this ticket is related.
Here we only touch code in Cygwin specific part (unless $UNAME = CYGWIN on Os X).
So I'm putting this back to positive review.



---

archive/issue_events_179196.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-29T16:33:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179196"
}
```



---

archive/issue_events_179197.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-29T16:33:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179197"
}
```



---

archive/issue_comments_166986.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\n**PLEASE at least double-check before saying that it's not your fault**, especially when the failure is so obvious.\n\nYour spkg is totally badly packaged, it even contains compiled `.o` files.",
    "created_at": "2013-01-29T16:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166986",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">Comment 30</div>

**PLEASE at least double-check before saying that it's not your fault**, especially when the failure is so obvious.

Your spkg is totally badly packaged, it even contains compiled `.o` files.



---

archive/issue_events_179198.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-29T16:44:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179198"
}
```



---

archive/issue_events_179199.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-29T16:44:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179199"
}
```



---

archive/issue_comments_166987.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nOh, ok, my fault then.",
    "created_at": "2013-01-29T16:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166987",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:31" align="right">Comment 31</div>

Oh, ok, my fault then.



---

archive/issue_comments_166988.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nNext time state the obvious problem at once instead of linking to a not so obvious for anyone log...\nEspecially when it seems that all objects are rebuilt there and the problematic libz.a is repackaged correctly.\n\nAnd I don't usually look into the src folder, too bad this one comes from a test build and is not vanilla.",
    "created_at": "2013-01-29T16:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166988",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:32" align="right">Comment 32</div>

Next time state the obvious problem at once instead of linking to a not so obvious for anyone log...
Especially when it seems that all objects are rebuilt there and the problematic libz.a is repackaged correctly.

And I don't usually look into the src folder, too bad this one comes from a test build and is not vanilla.



---

archive/issue_comments_166989.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nThe newly uploaded spkg should be clean.\nIt stills builds on Cygwin and Linux correctly (note the previous one did as well).\nNo access to Os X, but checking the src dir is vanilla should be enough.",
    "created_at": "2013-01-29T17:02:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166989",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:33" align="right">Comment 33</div>

The newly uploaded spkg should be clean.
It stills builds on Cygwin and Linux correctly (note the previous one did as well).
No access to Os X, but checking the src dir is vanilla should be enough.



---

archive/issue_events_179200.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-29T17:02:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179200"
}
```



---

archive/issue_events_179201.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-29T17:02:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179201"
}
```



---

archive/issue_comments_166990.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nReplying to [@jpflori](#comment%3A32):\n> Next time state the obvious problem at once\n\n\"obvious\" refered to the fact that a *zlib build failure* might likely be caused by a *zlib package update*.  I hadn't checked the spkg at that point.",
    "created_at": "2013-01-29T18:34:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166990",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">Comment 34</div>

Replying to [@jpflori](#comment%3A32):
> Next time state the obvious problem at once

"obvious" refered to the fact that a *zlib build failure* might likely be caused by a *zlib package update*.  I hadn't checked the spkg at that point.



---

archive/issue_events_179202.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-02-05T04:22:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179202"
}
```



---

archive/issue_events_179203.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-02-05T04:22:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179203"
}
```



---

archive/issue_comments_166991.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nI've checked that the spkg src/ directory didn't change from the previous version. It also builds on OSX 10.6.8 and on Cygwin. Positive review.",
    "created_at": "2013-02-05T04:22:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166991",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:35" align="right">Comment 35</div>

I've checked that the spkg src/ directory didn't change from the previous version. It also builds on OSX 10.6.8 and on Cygwin. Positive review.



---

archive/issue_events_179204.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-09T12:14:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179204"
}
```



---

archive/issue_events_179205.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-09T12:14:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13914#event-179205"
}
```



---

archive/issue_comments_166992.json:
```json
{
    "body": "Merged: **sage-5.7.beta4**",
    "created_at": "2013-02-09T12:14:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13914#issuecomment-166992",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.7.beta4**
