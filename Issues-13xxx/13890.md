# Issue 13890: small bug in point3d

archive/issues_013686.json:
```json
{
    "body": "The following three commands work as expected (a Graphics object is returned)\n\n```\nsage: points([(1,1)])                                                                                      \n\nsage: points(iter([(1,1)]))                                                                                \n\nsage: points([(1,1,1)])                                                                                    \n```\nbut the following command raises an `AttributeError`.\n\n```\nsage: points(iter([(1,1,1)]))\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n\n/home/jaje/dropbox/Dropbox/IFS/<ipython console> in <module>()\n\n/home/jaje/sage-5.5/local/lib/python2.7/site-packages/sage/plot/point.pyc in point(points, **kwds)\n    310     except (ValueError, TypeError):\n    311         from sage.plot.plot3d.shapes2 import point3d\n--> 312         return point3d(points, **kwds)\n    313 \n    314 @rename_keyword(color='rgbcolor', pointsize='size')\n\n/home/jaje/sage-5.5/local/lib/python2.7/site-packages/sage/plot/plot3d/shapes2.pyc in point3d(v, size, **kwds)\n   1021     else:\n   1022         A = sum([Point(z, size, **kwds) for z in v])\n-> 1023         A._set_extra_kwds(kwds)\n   1024         return A\n   1025 \n\nAttributeError: 'int' object has no attribute '_set_extra_kwds'\n```\n\n**Assignee:** @jasongrout, @williamstein\n\n**Keywords:** plot3d, point3d\n\n**Branch/Commit:** [070976c3f380640876f96cf9fbb1bc603aa87d36](https://github.com/sagemath/sagetrac-mirror/commit/070976c3f380640876f96cf9fbb1bc603aa87d36)\n\n**Reviewer:** Karl-Dieter Crisman\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/13890\n\n",
    "closed_at": "2015-02-17T19:28:15Z",
    "created_at": "2012-12-30T23:11:56Z",
    "labels": [
        "component: graphics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "small bug in point3d",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13890",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```
The following three commands work as expected (a Graphics object is returned)

```
sage: points([(1,1)])                                                                                      

sage: points(iter([(1,1)]))                                                                                

sage: points([(1,1,1)])                                                                                    
```
but the following command raises an `AttributeError`.

```
sage: points(iter([(1,1,1)]))
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)

/home/jaje/dropbox/Dropbox/IFS/<ipython console> in <module>()

/home/jaje/sage-5.5/local/lib/python2.7/site-packages/sage/plot/point.pyc in point(points, **kwds)
    310     except (ValueError, TypeError):
    311         from sage.plot.plot3d.shapes2 import point3d
--> 312         return point3d(points, **kwds)
    313 
    314 @rename_keyword(color='rgbcolor', pointsize='size')

/home/jaje/sage-5.5/local/lib/python2.7/site-packages/sage/plot/plot3d/shapes2.pyc in point3d(v, size, **kwds)
   1021     else:
   1022         A = sum([Point(z, size, **kwds) for z in v])
-> 1023         A._set_extra_kwds(kwds)
   1024         return A
   1025 

AttributeError: 'int' object has no attribute '_set_extra_kwds'
```

**Assignee:** @jasongrout, @williamstein

**Keywords:** plot3d, point3d

**Branch/Commit:** [070976c3f380640876f96cf9fbb1bc603aa87d36](https://github.com/sagemath/sagetrac-mirror/commit/070976c3f380640876f96cf9fbb1bc603aa87d36)

**Reviewer:** Karl-Dieter Crisman

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/13890





---

archive/issue_events_044729.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13890#event-44729"
}
```



---

archive/issue_events_044730.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13890#event-44730"
}
```



---

archive/issue_events_044731.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13890#event-44731"
}
```



---

archive/issue_events_044732.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13890#event-44732"
}
```



---

archive/issue_events_044733.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13890#event-44733"
}
```



---

archive/issue_events_044734.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13890#event-44734"
}
```



---

archive/issue_events_044735.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13890#event-44735"
}
```



---

archive/issue_comments_203704.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2014-10-28T09:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203704",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_203705.json:
```json
{
    "body": "**Branch:** [u/chapoton/13890](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13890)",
    "created_at": "2014-10-28T09:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203705",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/13890](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13890)



---

archive/issue_comments_203706.json:
```json
{
    "body": "<a id='comment:5'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/745550226729b06d349c4ba83f6ab457f464d1b8\">7455502</a></td><td><code>trac #13890 allow use of iterators in point3d</code></td></tr></table>\n",
    "created_at": "2014-10-28T09:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203706",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/745550226729b06d349c4ba83f6ab457f464d1b8">7455502</a></td><td><code>trac #13890 allow use of iterators in point3d</code></td></tr></table>




---

archive/issue_comments_203707.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"plot3d, point3d\".",
    "created_at": "2014-10-28T09:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203707",
    "user": "https://github.com/fchapoton"
}
```

**Changing keywords** from "" to "plot3d, point3d".



---

archive/issue_comments_203708.json:
```json
{
    "body": "**Commit:** [745550226729b06d349c4ba83f6ab457f464d1b8](https://github.com/sagemath/sagetrac-mirror/commit/745550226729b06d349c4ba83f6ab457f464d1b8)",
    "created_at": "2014-10-28T09:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203708",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [745550226729b06d349c4ba83f6ab457f464d1b8](https://github.com/sagemath/sagetrac-mirror/commit/745550226729b06d349c4ba83f6ab457f464d1b8)



---

archive/issue_comments_203709.json:
```json
{
    "body": "**Author:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2014-10-28T09:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203709",
    "user": "https://github.com/fchapoton"
}
```

**Author:** Frédéric Chapoton



---

archive/issue_comments_203710.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-10-28T09:10:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203710",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_203711.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52dda634446582b8bed2c36f0ddfe383451d37e6\">52dda63</a></td><td><code>trac #13890 suggestion to use point3d instead for iterator input</code></td></tr></table>\n",
    "created_at": "2014-10-28T10:14:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203711",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52dda634446582b8bed2c36f0ddfe383451d37e6">52dda63</a></td><td><code>trac #13890 suggestion to use point3d instead for iterator input</code></td></tr></table>




---

archive/issue_comments_203712.json:
```json
{
    "body": "**Changing commit** from \"[745550226729b06d349c4ba83f6ab457f464d1b8](https://github.com/sagemath/sagetrac-mirror/commit/745550226729b06d349c4ba83f6ab457f464d1b8)\" to \"[52dda634446582b8bed2c36f0ddfe383451d37e6](https://github.com/sagemath/sagetrac-mirror/commit/52dda634446582b8bed2c36f0ddfe383451d37e6)\".",
    "created_at": "2014-10-28T10:14:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203712",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[745550226729b06d349c4ba83f6ab457f464d1b8](https://github.com/sagemath/sagetrac-mirror/commit/745550226729b06d349c4ba83f6ab457f464d1b8)" to "[52dda634446582b8bed2c36f0ddfe383451d37e6](https://github.com/sagemath/sagetrac-mirror/commit/52dda634446582b8bed2c36f0ddfe383451d37e6)".



---

archive/issue_comments_203713.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e042380341e6ccd0f664a0226eb8f3f729b17319\">e042380</a></td><td><code>trac #13890 final touch : case of empty list</code></td></tr></table>\n",
    "created_at": "2014-10-28T10:35:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203713",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e042380341e6ccd0f664a0226eb8f3f729b17319">e042380</a></td><td><code>trac #13890 final touch : case of empty list</code></td></tr></table>




---

archive/issue_comments_203714.json:
```json
{
    "body": "**Changing commit** from \"[52dda634446582b8bed2c36f0ddfe383451d37e6](https://github.com/sagemath/sagetrac-mirror/commit/52dda634446582b8bed2c36f0ddfe383451d37e6)\" to \"[e042380341e6ccd0f664a0226eb8f3f729b17319](https://github.com/sagemath/sagetrac-mirror/commit/e042380341e6ccd0f664a0226eb8f3f729b17319)\".",
    "created_at": "2014-10-28T10:35:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203714",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[52dda634446582b8bed2c36f0ddfe383451d37e6](https://github.com/sagemath/sagetrac-mirror/commit/52dda634446582b8bed2c36f0ddfe383451d37e6)" to "[e042380341e6ccd0f664a0226eb8f3f729b17319](https://github.com/sagemath/sagetrac-mirror/commit/e042380341e6ccd0f664a0226eb8f3f729b17319)".



---

archive/issue_comments_203715.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-10-28T10:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203715",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_203716.json:
```json
{
    "body": "<a id='comment:9'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e042380341e6ccd0f664a0226eb8f3f729b17319\">e042380</a></td><td><code>trac #13890 final touch : case of empty list</code></td></tr></table>\n",
    "created_at": "2014-10-28T10:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203716",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e042380341e6ccd0f664a0226eb8f3f729b17319">e042380</a></td><td><code>trac #13890 final touch : case of empty list</code></td></tr></table>




---

archive/issue_comments_203717.json:
```json
{
    "body": "<a id='comment:10'></a>\nThis applies, but apparently needs rebasing since I still get the same error after applying this.  There does seem to be some new code in that spot.\n\nInterestingly, n the meantime the original error has changed.\n\n```\nsage: points(iter([(1,1,1)]))\n---------------------------------------------------------------------------\n   1077 \n   1078     \"\"\"\n-> 1079     if len(v) == 3:\n   1080         try:\n   1081             # check if the first element can be changed to a float\n\nTypeError: object of type 'listiterator' has no len()\n```\n\nBy the way, should we try to accommodate generators as well?   \n\n```\npoints( (x,x,x) for x in range(3) )\n```\nor the like.",
    "created_at": "2014-11-13T19:10:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203717",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>
This applies, but apparently needs rebasing since I still get the same error after applying this.  There does seem to be some new code in that spot.

Interestingly, n the meantime the original error has changed.

```
sage: points(iter([(1,1,1)]))
---------------------------------------------------------------------------
   1077 
   1078     """
-> 1079     if len(v) == 3:
   1080         try:
   1081             # check if the first element can be changed to a float

TypeError: object of type 'listiterator' has no len()
```

By the way, should we try to accommodate generators as well?   

```
points( (x,x,x) for x in range(3) )
```
or the like.



---

archive/issue_comments_203718.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-11-13T19:10:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203718",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_203719.json:
```json
{
    "body": "**Changing commit** from \"[e042380341e6ccd0f664a0226eb8f3f729b17319](https://github.com/sagemath/sagetrac-mirror/commit/e042380341e6ccd0f664a0226eb8f3f729b17319)\" to \"[795d88f861c24593000707fe277b3c0c86b06d03](https://github.com/sagemath/sagetrac-mirror/commit/795d88f861c24593000707fe277b3c0c86b06d03)\".",
    "created_at": "2014-11-14T14:47:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203719",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e042380341e6ccd0f664a0226eb8f3f729b17319](https://github.com/sagemath/sagetrac-mirror/commit/e042380341e6ccd0f664a0226eb8f3f729b17319)" to "[795d88f861c24593000707fe277b3c0c86b06d03](https://github.com/sagemath/sagetrac-mirror/commit/795d88f861c24593000707fe277b3c0c86b06d03)".



---

archive/issue_comments_203720.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e95d9d5a9018fa17b61acf5a06f21a3588894ad\">1e95d9d</a></td><td><code>Merge branch 'u/chapoton/13890' in 6.4.rc2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/795d88f861c24593000707fe277b3c0c86b06d03\">795d88f</a></td><td><code>trac #13890 *forbidden* use of iterator</code></td></tr></table>\n",
    "created_at": "2014-11-14T14:47:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203720",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e95d9d5a9018fa17b61acf5a06f21a3588894ad">1e95d9d</a></td><td><code>Merge branch 'u/chapoton/13890' in 6.4.rc2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/795d88f861c24593000707fe277b3c0c86b06d03">795d88f</a></td><td><code>trac #13890 *forbidden* use of iterator</code></td></tr></table>




---

archive/issue_comments_203721.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-11-14T14:50:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203721",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_203722.json:
```json
{
    "body": "<a id='comment:13'></a>\nI have now made so that use of iterators is forbidden in `points`. The reason is that one cannot test if the point has 2 or 3 dimensions without burning the iterator. So it does not make sense to try to guess what is the expected dimension. But iterators are now allowed in both `point2d` and `point3d`.",
    "created_at": "2014-11-14T14:50:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203722",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
I have now made so that use of iterators is forbidden in `points`. The reason is that one cannot test if the point has 2 or 3 dimensions without burning the iterator. So it does not make sense to try to guess what is the expected dimension. But iterators are now allowed in both `point2d` and `point3d`.



---

archive/issue_comments_203723.json:
```json
{
    "body": "<a id='comment:14'></a>\nAha!  I see what happened.   Glad I tried that out.   I'll take a look at this momentarily.",
    "created_at": "2014-11-14T15:16:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203723",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'></a>
Aha!  I see what happened.   Glad I tried that out.   I'll take a look at this momentarily.



---

archive/issue_comments_203724.json:
```json
{
    "body": "<a id='comment:15'></a>\nHmm, but look at #10478.  There is an explicit example there (oddly, not doctested) for\n\n```\nline(iter([(0,0), (1,0), (2,2)]))\n```\nand `points` and `line` should really work the same.  Can't we just do `points = list(points)` and then test like they do there?",
    "created_at": "2014-11-14T15:23:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203724",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'></a>
Hmm, but look at #10478.  There is an explicit example there (oddly, not doctested) for

```
line(iter([(0,0), (1,0), (2,2)]))
```
and `points` and `line` should really work the same.  Can't we just do `points = list(points)` and then test like they do there?



---

archive/issue_comments_203725.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5e7d2392f5590be5039364313fe706d22bf0661\">f5e7d23</a></td><td><code>Merge branch 'u/chapoton/13890' into 6.5.b0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39fc0177cbe6ad52befd22715d78efd4e86dce1e\">39fc017</a></td><td><code>trac #13890 now allowing iterators</code></td></tr></table>\n",
    "created_at": "2014-11-19T16:09:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203725",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5e7d2392f5590be5039364313fe706d22bf0661">f5e7d23</a></td><td><code>Merge branch 'u/chapoton/13890' into 6.5.b0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39fc0177cbe6ad52befd22715d78efd4e86dce1e">39fc017</a></td><td><code>trac #13890 now allowing iterators</code></td></tr></table>




---

archive/issue_comments_203726.json:
```json
{
    "body": "**Changing commit** from \"[795d88f861c24593000707fe277b3c0c86b06d03](https://github.com/sagemath/sagetrac-mirror/commit/795d88f861c24593000707fe277b3c0c86b06d03)\" to \"[39fc0177cbe6ad52befd22715d78efd4e86dce1e](https://github.com/sagemath/sagetrac-mirror/commit/39fc0177cbe6ad52befd22715d78efd4e86dce1e)\".",
    "created_at": "2014-11-19T16:09:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203726",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[795d88f861c24593000707fe277b3c0c86b06d03](https://github.com/sagemath/sagetrac-mirror/commit/795d88f861c24593000707fe277b3c0c86b06d03)" to "[39fc0177cbe6ad52befd22715d78efd4e86dce1e](https://github.com/sagemath/sagetrac-mirror/commit/39fc0177cbe6ad52befd22715d78efd4e86dce1e)".



---

archive/issue_comments_203727.json:
```json
{
    "body": "<a id='comment:17'></a>\nping ?",
    "created_at": "2014-12-26T16:30:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203727",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>
ping ?



---

archive/issue_comments_203728.json:
```json
{
    "body": "<a id='comment:18'></a>\nSorry, other business (Sage-wise as well) to attend to, and then a break.  Is this behavior desired?\n\n```\nsage: point(iter([]))  # works\n\nsage: point2d(iter([]))\n---------------------------------------------------------------------------\nValueError             \n```\nActually, probably only the latter (and 3d version thereof) is desired, since one can't know what dimension an empty list should be... or we could default to 2d.",
    "created_at": "2015-01-04T02:29:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203728",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:18'></a>
Sorry, other business (Sage-wise as well) to attend to, and then a break.  Is this behavior desired?

```
sage: point(iter([]))  # works

sage: point2d(iter([]))
---------------------------------------------------------------------------
ValueError             
```
Actually, probably only the latter (and 3d version thereof) is desired, since one can't know what dimension an empty list should be... or we could default to 2d.



---

archive/issue_comments_203729.json:
```json
{
    "body": "**Changing status** from needs_review to needs_info.",
    "created_at": "2015-01-23T14:16:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203729",
    "user": "https://github.com/mezzarobba"
}
```

**Changing status** from needs_review to needs_info.



---

archive/issue_comments_203730.json:
```json
{
    "body": "**Changing commit** from \"[39fc0177cbe6ad52befd22715d78efd4e86dce1e](https://github.com/sagemath/sagetrac-mirror/commit/39fc0177cbe6ad52befd22715d78efd4e86dce1e)\" to \"[f07d43ce5c9fb71200c014e190e9b697c9c2c861](https://github.com/sagemath/sagetrac-mirror/commit/f07d43ce5c9fb71200c014e190e9b697c9c2c861)\".",
    "created_at": "2015-01-29T20:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203730",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[39fc0177cbe6ad52befd22715d78efd4e86dce1e](https://github.com/sagemath/sagetrac-mirror/commit/39fc0177cbe6ad52befd22715d78efd4e86dce1e)" to "[f07d43ce5c9fb71200c014e190e9b697c9c2c861](https://github.com/sagemath/sagetrac-mirror/commit/f07d43ce5c9fb71200c014e190e9b697c9c2c861)".



---

archive/issue_comments_203731.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee00aa9f482562ac0bfe493ae4d156e30b8ef74d\">ee00aa9</a></td><td><code>Merge branch 'u/chapoton/13890' into 6.5.b6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f07d43ce5c9fb71200c014e190e9b697c9c2c861\">f07d43c</a></td><td><code>trac #13890 handling empty iterators (yes we can)</code></td></tr></table>\n",
    "created_at": "2015-01-29T20:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203731",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee00aa9f482562ac0bfe493ae4d156e30b8ef74d">ee00aa9</a></td><td><code>Merge branch 'u/chapoton/13890' into 6.5.b6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f07d43ce5c9fb71200c014e190e9b697c9c2c861">f07d43c</a></td><td><code>trac #13890 handling empty iterators (yes we can)</code></td></tr></table>




---

archive/issue_comments_203732.json:
```json
{
    "body": "**Changing status** from needs_info to needs_review.",
    "created_at": "2015-01-29T20:37:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203732",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_info to needs_review.



---

archive/issue_comments_203733.json:
```json
{
    "body": "<a id='comment:22'></a>\nSo the empty iterator should be 2d, not 3d (or nothing)?  Just checking if this is the \"right\" design decision.",
    "created_at": "2015-02-03T01:34:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203733",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:22'></a>
So the empty iterator should be 2d, not 3d (or nothing)?  Just checking if this is the "right" design decision.



---

archive/issue_comments_203734.json:
```json
{
    "body": "<a id='comment:23'></a>\nSorry, I do not understand if you still have a concern or not ?",
    "created_at": "2015-02-05T10:48:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203734",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'></a>
Sorry, I do not understand if you still have a concern or not ?



---

archive/issue_comments_203735.json:
```json
{
    "body": "<a id='comment:24'></a>\nWell, I'm asking about that.  To me `point2d([])` and `point3d([])` are meaningful; `point([])` maybe isn't, because it isn't clear what the default dimension should be.  Same for empty iterators.  Maybe I'm thinking about it too much.",
    "created_at": "2015-02-05T14:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203735",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:24'></a>
Well, I'm asking about that.  To me `point2d([])` and `point3d([])` are meaningful; `point([])` maybe isn't, because it isn't clear what the default dimension should be.  Same for empty iterators.  Maybe I'm thinking about it too much.



---

archive/issue_comments_203736.json:
```json
{
    "body": "<a id='comment:25'></a>\nIt seems to me that the initial aim of this ticket is met (namely allowing to use iterators in all kinds of points). Maybe this is enough ?",
    "created_at": "2015-02-05T16:51:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203736",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:25'></a>
It seems to me that the initial aim of this ticket is met (namely allowing to use iterators in all kinds of points). Maybe this is enough ?



---

archive/issue_comments_203737.json:
```json
{
    "body": "<a id='comment:26'></a>\nYes, upon further thought you are right, that was a pre-existing thing.  Thanks!  Sorry this small thing ended up going crazy long.",
    "created_at": "2015-02-12T03:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203737",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:26'></a>
Yes, upon further thought you are right, that was a pre-existing thing.  Thanks!  Sorry this small thing ended up going crazy long.



---

archive/issue_comments_203738.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-02-12T03:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203738",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_203739.json:
```json
{
    "body": "**Reviewer:** Karl-Dieter Crisman",
    "created_at": "2015-02-12T03:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203739",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Karl-Dieter Crisman



---

archive/issue_events_044736.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2015-02-12T03:29:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13890#event-44736"
}
```



---

archive/issue_events_044737.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2015-02-12T03:29:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "milestone": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13890#event-44737"
}
```



---

archive/issue_comments_203740.json:
```json
{
    "body": "<a id='comment:28'></a>\nSome doctests  fail, e.g.\n\n```\nsage -t --long --warn-long 56.5 src/sage/geometry/polyhedron/ppl_lattice_polygon.py\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/ppl_lattice_polygon.py\", line 413, in sage.geometry.polyhedron.ppl_lattice_polygon.LatticePolygon_PPL_class.plot\nFailed example:\n    LatticePolytope_PPL([0], [1]).plot()\nExpected:\n    Graphics object consisting of 2 graphics primitives\nGot:\n    Graphics object consisting of 3 graphics primitives\n```",
    "created_at": "2015-02-17T09:52:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203740",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'></a>
Some doctests  fail, e.g.

```
sage -t --long --warn-long 56.5 src/sage/geometry/polyhedron/ppl_lattice_polygon.py
**********************************************************************
File "src/sage/geometry/polyhedron/ppl_lattice_polygon.py", line 413, in sage.geometry.polyhedron.ppl_lattice_polygon.LatticePolygon_PPL_class.plot
Failed example:
    LatticePolytope_PPL([0], [1]).plot()
Expected:
    Graphics object consisting of 2 graphics primitives
Got:
    Graphics object consisting of 3 graphics primitives
```



---

archive/issue_comments_203741.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2015-02-17T09:52:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203741",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_203742.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af227bd16bf6eb2c47d1857f987014a97d1e33b8\">af227bd</a></td><td><code>Merge branch 'u/chapoton/13890' into 6.5.rc3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ec70bf13975c67af9fe909bc37d78fff789213b\">6ec70bf</a></td><td><code>trac #13890  correct failing doctest in lattice polytopes</code></td></tr></table>\n",
    "created_at": "2015-02-17T10:20:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203742",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af227bd16bf6eb2c47d1857f987014a97d1e33b8">af227bd</a></td><td><code>Merge branch 'u/chapoton/13890' into 6.5.rc3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ec70bf13975c67af9fe909bc37d78fff789213b">6ec70bf</a></td><td><code>trac #13890  correct failing doctest in lattice polytopes</code></td></tr></table>




---

archive/issue_comments_203743.json:
```json
{
    "body": "**Changing commit** from \"[f07d43ce5c9fb71200c014e190e9b697c9c2c861](https://github.com/sagemath/sagetrac-mirror/commit/f07d43ce5c9fb71200c014e190e9b697c9c2c861)\" to \"[6ec70bf13975c67af9fe909bc37d78fff789213b](https://github.com/sagemath/sagetrac-mirror/commit/6ec70bf13975c67af9fe909bc37d78fff789213b)\".",
    "created_at": "2015-02-17T10:20:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203743",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f07d43ce5c9fb71200c014e190e9b697c9c2c861](https://github.com/sagemath/sagetrac-mirror/commit/f07d43ce5c9fb71200c014e190e9b697c9c2c861)" to "[6ec70bf13975c67af9fe909bc37d78fff789213b](https://github.com/sagemath/sagetrac-mirror/commit/6ec70bf13975c67af9fe909bc37d78fff789213b)".



---

archive/issue_comments_203744.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/070976c3f380640876f96cf9fbb1bc603aa87d36\">070976c</a></td><td><code>trac #13890 correct failing doctest in words</code></td></tr></table>\n",
    "created_at": "2015-02-17T12:42:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203744",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/070976c3f380640876f96cf9fbb1bc603aa87d36">070976c</a></td><td><code>trac #13890 correct failing doctest in words</code></td></tr></table>




---

archive/issue_comments_203745.json:
```json
{
    "body": "**Changing commit** from \"[6ec70bf13975c67af9fe909bc37d78fff789213b](https://github.com/sagemath/sagetrac-mirror/commit/6ec70bf13975c67af9fe909bc37d78fff789213b)\" to \"[070976c3f380640876f96cf9fbb1bc603aa87d36](https://github.com/sagemath/sagetrac-mirror/commit/070976c3f380640876f96cf9fbb1bc603aa87d36)\".",
    "created_at": "2015-02-17T12:42:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203745",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6ec70bf13975c67af9fe909bc37d78fff789213b](https://github.com/sagemath/sagetrac-mirror/commit/6ec70bf13975c67af9fe909bc37d78fff789213b)" to "[070976c3f380640876f96cf9fbb1bc603aa87d36](https://github.com/sagemath/sagetrac-mirror/commit/070976c3f380640876f96cf9fbb1bc603aa87d36)".



---

archive/issue_comments_203746.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-02-17T12:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203746",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_203747.json:
```json
{
    "body": "<a id='comment:31'></a>\nShould be good now.",
    "created_at": "2015-02-17T12:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203747",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>
Should be good now.



---

archive/issue_comments_203748.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-02-17T13:26:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203748",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_044738.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-17T19:28:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13890#event-44738"
}
```



---

archive/issue_comments_203749.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/13890](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13890)\" to \"[070976c3f380640876f96cf9fbb1bc603aa87d36](https://github.com/sagemath/sagetrac-mirror/commit/070976c3f380640876f96cf9fbb1bc603aa87d36)\".",
    "created_at": "2015-02-17T19:28:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13890#issuecomment-203749",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/13890](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13890)" to "[070976c3f380640876f96cf9fbb1bc603aa87d36](https://github.com/sagemath/sagetrac-mirror/commit/070976c3f380640876f96cf9fbb1bc603aa87d36)".
