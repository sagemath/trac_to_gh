# Issue 13084: Weierstrass form for toric elliptic curves

archive/issues_012912.json:
```json
{
    "assignees": [
        "https://github.com/aghitza"
    ],
    "body": "This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:\n\n```\n  sage: from sage.schemes.toric.weierstrass import WeierstrassForm\n  sage: R.<x,y> = QQ[]\n  sage: cubic = x^3 + y^3 + 1\n  sage: WeierstrassForm(cubic)  # cubic in P^2\n  (0, -27/4)\n  sage: WeierstrassForm(x^4 + y^2 + 1)  # in P^2[112]\n  (-4, 0)\n  sage: WeierstrassForm(x^2*y^2 + x^2 + y^2 + 1)   # in P^1xP^1\n  (-16/3, 128/27)\n```\n\nApply\n* [attachment: trac_13084_ppl_lattice_polygon.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_lattice_polygon.patch.gz)\n* [attachment: trac_13084_toric_weierstrass.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_toric_weierstrass.patch.gz)\n* [attachment: trac_13084_weierstrass_cleanup-fc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_weierstrass_cleanup-fc.patch.gz)\n* [attachment: trac_13084_ppl_cleanup-fc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_cleanup-fc.patch.gz)\n* [attachment: trac_13084_misc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_misc.patch.gz)\n\nDepends on #12553\nDepends on #13451\n\nCC:  @novoselt @dimpase @mstreng\n\nComponent: **algebraic geometry**\n\nAuthor: **Volker Braun**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton, Dmitrii Pasechnik**\n\nMerged: **sage-5.11.beta2**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13084_\n\n",
    "closed_at": "2013-06-19T12:24:45Z",
    "created_at": "2012-06-03T21:57:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.11",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Weierstrass form for toric elliptic curves",
    "type": "issue",
    "updated_at": "2013-06-19T12:24:45Z",
    "url": "https://github.com/sagemath/sage/issues/13084",
    "user": "https://github.com/vbraun"
}
```
This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:

```
  sage: from sage.schemes.toric.weierstrass import WeierstrassForm
  sage: R.<x,y> = QQ[]
  sage: cubic = x^3 + y^3 + 1
  sage: WeierstrassForm(cubic)  # cubic in P^2
  (0, -27/4)
  sage: WeierstrassForm(x^4 + y^2 + 1)  # in P^2[112]
  (-4, 0)
  sage: WeierstrassForm(x^2*y^2 + x^2 + y^2 + 1)   # in P^1xP^1
  (-16/3, 128/27)
```

Apply
* [attachment: trac_13084_ppl_lattice_polygon.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_lattice_polygon.patch.gz)
* [attachment: trac_13084_toric_weierstrass.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_toric_weierstrass.patch.gz)
* [attachment: trac_13084_weierstrass_cleanup-fc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_weierstrass_cleanup-fc.patch.gz)
* [attachment: trac_13084_ppl_cleanup-fc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_cleanup-fc.patch.gz)
* [attachment: trac_13084_misc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_misc.patch.gz)

Depends on #12553
Depends on #13451

CC:  @novoselt @dimpase @mstreng

Component: **algebraic geometry**

Author: **Volker Braun**

Reviewer: **Frédéric Chapoton, Dmitrii Pasechnik**

Merged: **sage-5.11.beta2**

_Issue created by migration from https://trac.sagemath.org/ticket/13084_





---

archive/issue_events_179737.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-03T21:57:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179737"
}
```



---

archive/issue_events_179738.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-03T21:57:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "c: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179738"
}
```



---

archive/issue_events_179739.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-03T21:57:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179739"
}
```



---

archive/issue_events_179740.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-03T21:57:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179740"
}
```



---

archive/issue_events_179741.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2012-06-03T21:57:46Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "subject": "https://github.com/vbraun",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179741"
}
```



---

archive/issue_events_179742.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-03T22:29:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179742"
}
```



---

archive/issue_comments_149204.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This ticket implements the Weierstrass form for anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:\n+This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:\n \n ```\n   sage: from sage.schemes.toric.weierstrass import WeierstrassForm\n``````\n",
    "created_at": "2012-06-03T22:29:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149204",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This ticket implements the Weierstrass form for anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:
+This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:
 
 ```
   sage: from sage.schemes.toric.weierstrass import WeierstrassForm
``````




---

archive/issue_comments_149205.json:
```json
{
    "body": "Dependencies: **#12553**",
    "created_at": "2012-06-03T22:29:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149205",
    "user": "https://github.com/vbraun"
}
```

Dependencies: **#12553**



---

archive/issue_comments_149206.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nExcellent work! In all these cases, the genus 1 curve is a cover of its jacobian in a relatively canonical way. With your approach, is it reasonably possible to compute these covering maps? Doing so gives a kind of \"certificate\". One starting point would be\n    T.A Fisher, The invariants of a genus one curve, Proc. Lond. Math. Soc., 97(3):753--782, 2008.\nalso on [arXiv](http://arxiv.org/abs/math/0610318).",
    "created_at": "2012-06-03T23:27:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149206",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:2" align="right">comment:2</div>

Excellent work! In all these cases, the genus 1 curve is a cover of its jacobian in a relatively canonical way. With your approach, is it reasonably possible to compute these covering maps? Doing so gives a kind of "certificate". One starting point would be
    T.A Fisher, The invariants of a genus one curve, Proc. Lond. Math. Soc., 97(3):753--782, 2008.
also on [arXiv](http://arxiv.org/abs/math/0610318).



---

archive/issue_comments_149207.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe reference looks interesting, I'll have a look! \n\nThough I think there is already too much code in this ticket, any further features should go to a followup.",
    "created_at": "2012-06-04T15:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149207",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:3" align="right">comment:3</div>

The reference looks interesting, I'll have a look! 

Though I think there is already too much code in this ticket, any further features should go to a followup.



---

archive/issue_comments_149208.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI've split off the classical invariant theory stuff into a different module (#13451), this is much cleaner now. Still needs review ;-)",
    "created_at": "2012-09-12T11:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149208",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:4" align="right">comment:4</div>

I've split off the classical invariant theory stuff into a different module (#13451), this is much cleaner now. Still needs review ;-)



---

archive/issue_comments_149209.json:
```json
{
    "body": "Changed dependencies from **#12553** to **#12553, #13451**",
    "created_at": "2012-09-12T11:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149209",
    "user": "https://github.com/vbraun"
}
```

Changed dependencies from **#12553** to **#12553, #13451**



---

archive/issue_comments_149210.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\napply only trac_13084_toric_weierstrass.patch",
    "created_at": "2012-10-26T20:08:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149210",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

apply only trac_13084_toric_weierstrass.patch



---

archive/issue_comments_149211.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,3 +11,7 @@\n   sage: WeierstrassForm(x^2*y^2 + x^2 + y^2 + 1)   # in P^1xP^1\n   (-16/3, 128/27)\n ```\n+\n+Apply\n+* [attachment: trac_13084_ppl_lattice_polygon.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_lattice_polygon.patch.gz)\n+* [attachment: trac_13084_toric_weierstrass.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_toric_weierstrass.patch.gz)\n``````\n",
    "created_at": "2013-02-11T16:26:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149211",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,3 +11,7 @@
   sage: WeierstrassForm(x^2*y^2 + x^2 + y^2 + 1)   # in P^1xP^1
   (-16/3, 128/27)
 ```
+
+Apply
+* [attachment: trac_13084_ppl_lattice_polygon.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_lattice_polygon.patch.gz)
+* [attachment: trac_13084_toric_weierstrass.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_toric_weierstrass.patch.gz)
``````




---

archive/issue_comments_149212.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nrediffed for sage-5.8.beta0",
    "created_at": "2013-02-22T11:24:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149212",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">comment:7</div>

rediffed for sage-5.8.beta0



---

archive/issue_comments_149213.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThis is mostly geometry of polygons with a little bit of invariant theory thrown in - Dima, do you feel comfortable reviewing the ticket?",
    "created_at": "2013-05-18T22:42:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149213",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:8" align="right">comment:8</div>

This is mostly geometry of polygons with a little bit of invariant theory thrown in - Dima, do you feel comfortable reviewing the ticket?



---

archive/issue_comments_149214.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@vbraun](#comment%3A8):\n> This is mostly geometry of polygons with a little bit of invariant theory thrown in - Dima, do you feel comfortable reviewing the ticket?\n\nThis is surely a fun ticket! \n\nBut I am not familiar with the number theory part of it, and lately falling behind with everything, including reviewing my son's nappy's :\u2013)\nBesides, it ought to be reviewed by number theorists.\n\nLet me in turn invite you to consider taking part in this: http://web.spms.ntu.edu.sg/~dima/IMS2013/",
    "created_at": "2013-05-19T00:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149214",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@vbraun](#comment%3A8):
> This is mostly geometry of polygons with a little bit of invariant theory thrown in - Dima, do you feel comfortable reviewing the ticket?

This is surely a fun ticket! 

But I am not familiar with the number theory part of it, and lately falling behind with everything, including reviewing my son's nappy's :–)
Besides, it ought to be reviewed by number theorists.

Let me in turn invite you to consider taking part in this: http://web.spms.ntu.edu.sg/~dima/IMS2013/



---

archive/issue_comments_149215.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nFor the record, there isn't really any number theory in here. Maybe Marco is interested in reviewing this? ;-)",
    "created_at": "2013-05-19T09:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149215",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">comment:10</div>

For the record, there isn't really any number theory in here. Maybe Marco is interested in reviewing this? ;-)



---

archive/issue_events_179743.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-05-28T18:57:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179743"
}
```



---

archive/issue_events_179744.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-05-28T18:57:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179744"
}
```



---

archive/issue_comments_149216.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nSee the bot report:\n\n* coverage is not 100%\n\n* needs to use the new doctest continuation `...:`",
    "created_at": "2013-05-28T18:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149216",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">comment:11</div>

See the bot report:

* coverage is not 100%

* needs to use the new doctest continuation `...:`



---

archive/issue_comments_149217.json:
```json
{
    "body": "Work Issues: **coverage, doctest**",
    "created_at": "2013-05-28T18:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149217",
    "user": "https://github.com/fchapoton"
}
```

Work Issues: **coverage, doctest**



---

archive/issue_comments_149218.json:
```json
{
    "body": "Attachment: **[trac_13084_ppl_lattice_polygon.patch.gz](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_lattice_polygon.patch.gz)**\n\nUpdated patch",
    "created_at": "2013-05-30T14:12:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149218",
    "user": "https://github.com/vbraun"
}
```

Attachment: **[trac_13084_ppl_lattice_polygon.patch.gz](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_lattice_polygon.patch.gz)**

Updated patch



---

archive/issue_comments_149219.json:
```json
{
    "body": "Attachment: **[trac_13084_toric_weierstrass.patch.gz](https://github.com/sagemath/sage/files/ticket13084/trac_13084_toric_weierstrass.patch.gz)**\n\nUpdated patch",
    "created_at": "2013-05-30T14:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149219",
    "user": "https://github.com/vbraun"
}
```

Attachment: **[trac_13084_toric_weierstrass.patch.gz](https://github.com/sagemath/sage/files/ticket13084/trac_13084_toric_weierstrass.patch.gz)**

Updated patch



---

archive/issue_comments_149220.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nFixed",
    "created_at": "2013-05-30T14:12:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149220",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:12" align="right">comment:12</div>

Fixed



---

archive/issue_events_179745.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-05-30T18:43:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179745"
}
```



---

archive/issue_events_179746.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-05-30T18:43:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179746"
}
```



---

archive/issue_comments_149221.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nFr\u00e9d\u00e9ric, are you going to review this ticket?",
    "created_at": "2013-06-01T13:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149221",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:14" align="right">comment:14</div>

Frédéric, are you going to review this ticket?



---

archive/issue_comments_149222.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI have added a \"cosmetic cleanup\" patch for the file weierstrass.py. In particular, it removes many unused import statements.",
    "created_at": "2013-06-03T20:13:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149222",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:15" align="right">comment:15</div>

I have added a "cosmetic cleanup" patch for the file weierstrass.py. In particular, it removes many unused import statements.



---

archive/issue_comments_149223.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThanks, looks good to me.",
    "created_at": "2013-06-03T20:26:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149223",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:16" align="right">comment:16</div>

Thanks, looks good to me.



---

archive/issue_comments_149224.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,3 +15,5 @@\n Apply\n * [attachment: trac_13084_ppl_lattice_polygon.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_lattice_polygon.patch.gz)\n * [attachment: trac_13084_toric_weierstrass.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_toric_weierstrass.patch.gz)\n+* [attachment: trac_13084_weierstrass_cleanup-fc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_weierstrass_cleanup-fc.patch.gz)\n+* [attachment: trac_13084_ppl_cleanup-fc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_cleanup-fc.patch.gz)\n``````\n",
    "created_at": "2013-06-04T19:05:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149224",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,3 +15,5 @@
 Apply
 * [attachment: trac_13084_ppl_lattice_polygon.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_lattice_polygon.patch.gz)
 * [attachment: trac_13084_toric_weierstrass.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_toric_weierstrass.patch.gz)
+* [attachment: trac_13084_weierstrass_cleanup-fc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_weierstrass_cleanup-fc.patch.gz)
+* [attachment: trac_13084_ppl_cleanup-fc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_cleanup-fc.patch.gz)
``````




---

archive/issue_comments_149225.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAttachment: **[trac_13084_ppl_cleanup-fc.patch.gz](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_cleanup-fc.patch.gz)**\n\nAnother cosmetic-cleanup patch. Similar work on import statements and pep8",
    "created_at": "2013-06-04T19:05:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149225",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:17" align="right">comment:17</div>

Attachment: **[trac_13084_ppl_cleanup-fc.patch.gz](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_cleanup-fc.patch.gz)**

Another cosmetic-cleanup patch. Similar work on import statements and pep8



---

archive/issue_comments_149226.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nAttachment: **[trac_13084_weierstrass_cleanup-fc.patch.gz](https://github.com/sagemath/sage/files/ticket13084/trac_13084_weierstrass_cleanup-fc.patch.gz)**\n\nLooks good to me.\n\nI take it you forgot to set the ticket to positive review after posting patches for all of the new code?",
    "created_at": "2013-06-12T12:38:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149226",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">comment:18</div>

Attachment: **[trac_13084_weierstrass_cleanup-fc.patch.gz](https://github.com/sagemath/sage/files/ticket13084/trac_13084_weierstrass_cleanup-fc.patch.gz)**

Looks good to me.

I take it you forgot to set the ticket to positive review after posting patches for all of the new code?



---

archive/issue_comments_149227.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nwell, I am not able to seriously review the math..",
    "created_at": "2013-06-12T13:01:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149227",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

well, I am not able to seriously review the math..



---

archive/issue_comments_149228.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nAttempting to look at the maths side. It's confusing that you start off talking about a **toric** elliptic curve, but then speak about \"the elliptic curve\". What is going on there?\n\nfurther nitpicks:\n\n```\nThere are 16 reflexive polygons in 2-d.\n```\nCould you add a reference and change this to \n\n```\nThere are 16 reflexive polygons in the plane.\n```\n\nAnd add an exact reference to the next statement.\n\n```\nEach defines a toric fano  variety, which (in 2-d) has a unique crepant resolution to a smooth \n toric surface.\n```\nWhich should also be changed to \n\n```\nEach of them defines a toric Fano  variety...\n```\n\nThen,\n\n```\nIt turns out that the anticanonical hypersurface equation...\n```\nReference?",
    "created_at": "2013-06-13T09:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149228",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

Attempting to look at the maths side. It's confusing that you start off talking about a **toric** elliptic curve, but then speak about "the elliptic curve". What is going on there?

further nitpicks:

```
There are 16 reflexive polygons in 2-d.
```
Could you add a reference and change this to 

```
There are 16 reflexive polygons in the plane.
```

And add an exact reference to the next statement.

```
Each defines a toric fano  variety, which (in 2-d) has a unique crepant resolution to a smooth 
 toric surface.
```
Which should also be changed to 

```
Each of them defines a toric Fano  variety...
```

Then,

```
It turns out that the anticanonical hypersurface equation...
```
Reference?



---

archive/issue_comments_149229.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@dimpase](#comment%3A20):\n> And add an exact reference to the next statement.\n> \n> ```\n> Each defines a toric fano  variety, which (in 2-d) has a unique crepant resolution to a smooth \n>  toric surface.\n> ```\n\nThats just the fact that a fan in the plane has a unique refinement into smooth cones. CLS just say that \"its easy to see\" (p. 500)",
    "created_at": "2013-06-13T10:24:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149229",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@dimpase](#comment%3A20):
> And add an exact reference to the next statement.
> 
> ```
> Each defines a toric fano  variety, which (in 2-d) has a unique crepant resolution to a smooth 
>  toric surface.
> ```

Thats just the fact that a fan in the plane has a unique refinement into smooth cones. CLS just say that "its easy to see" (p. 500)



---

archive/issue_comments_149230.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nDone",
    "created_at": "2013-06-13T10:57:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149230",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:22" align="right">comment:22</div>

Done



---

archive/issue_comments_149231.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,3 +17,4 @@\n * [attachment: trac_13084_toric_weierstrass.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_toric_weierstrass.patch.gz)\n * [attachment: trac_13084_weierstrass_cleanup-fc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_weierstrass_cleanup-fc.patch.gz)\n * [attachment: trac_13084_ppl_cleanup-fc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_cleanup-fc.patch.gz)\n+* [attachment: trac_13084_misc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_misc.patch.gz)\n``````\n",
    "created_at": "2013-06-13T10:57:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149231",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,3 +17,4 @@
 * [attachment: trac_13084_toric_weierstrass.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_toric_weierstrass.patch.gz)
 * [attachment: trac_13084_weierstrass_cleanup-fc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_weierstrass_cleanup-fc.patch.gz)
 * [attachment: trac_13084_ppl_cleanup-fc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_ppl_cleanup-fc.patch.gz)
+* [attachment: trac_13084_misc.patch](https://github.com/sagemath/sage/files/ticket13084/trac_13084_misc.patch.gz)
``````




---

archive/issue_comments_149232.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@vbraun](#comment%3A22):\n> Done\n\ncapitalize `fano`. It's a [name](http://en.wikipedia.org/wiki/Gino_Fano), after all!",
    "created_at": "2013-06-13T11:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149232",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@vbraun](#comment%3A22):
> Done

capitalize `fano`. It's a [name](http://en.wikipedia.org/wiki/Gino_Fano), after all!



---

archive/issue_comments_149233.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nhope you will update the relevant patch to change `fano` to `Fano` in docstrings...",
    "created_at": "2013-06-13T20:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149233",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:24" align="right">comment:24</div>

hope you will update the relevant patch to change `fano` to `Fano` in docstrings...



---

archive/issue_events_179747.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-13T20:35:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179747"
}
```



---

archive/issue_events_179748.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-13T20:35:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179748"
}
```



---

archive/issue_comments_149234.json:
```json
{
    "body": "Updated patch",
    "created_at": "2013-06-13T22:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149234",
    "user": "https://github.com/vbraun"
}
```

Updated patch



---

archive/issue_comments_149235.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nAttachment: **[trac_13084_misc.patch.gz](https://github.com/sagemath/sage/files/ticket13084/trac_13084_misc.patch.gz)**\n\nThanks, I fixed the \"Fano\".\n\nSpeaking of, its been grinding my gears the last couple of days that `hilbert_series` is lower case in Sage ;-)",
    "created_at": "2013-06-13T22:24:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149235",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>

Attachment: **[trac_13084_misc.patch.gz](https://github.com/sagemath/sage/files/ticket13084/trac_13084_misc.patch.gz)**

Thanks, I fixed the "Fano".

Speaking of, its been grinding my gears the last couple of days that `hilbert_series` is lower case in Sage ;-)



---

archive/issue_comments_149236.json:
```json
{
    "body": "Reviewer: **Dmitrii Pasechnik**",
    "created_at": "2013-06-14T06:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149236",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Dmitrii Pasechnik**



---

archive/issue_comments_149237.json:
```json
{
    "body": "Changed work issues from **coverage, doctest** to none",
    "created_at": "2013-06-14T06:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149237",
    "user": "https://github.com/jdemeyer"
}
```

Changed work issues from **coverage, doctest** to none



---

archive/issue_events_179749.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-14T06:41:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179749"
}
```



---

archive/issue_events_179750.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-14T06:41:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179750"
}
```



---

archive/issue_comments_149238.json:
```json
{
    "body": "Changed reviewer from **Dmitrii Pasechnik** to **Fr\u00e9d\u00e9ric Chapoton, Dmitrii Pasechnik**",
    "created_at": "2013-06-14T06:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149238",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Dmitrii Pasechnik** to **Frédéric Chapoton, Dmitrii Pasechnik**



---

archive/issue_events_179751.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-19T12:24:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179751"
}
```



---

archive/issue_events_179752.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-19T12:24:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13084#event-179752"
}
```



---

archive/issue_comments_149239.json:
```json
{
    "body": "Merged: **sage-5.11.beta2**",
    "created_at": "2013-06-19T12:24:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13084#issuecomment-149239",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.11.beta2**
