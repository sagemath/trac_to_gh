# Issue 13084: Weierstrass form for toric elliptic curves

archive/issues_012912.json:
```json
{
    "body": "This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:\n\n```\n  sage: from sage.schemes.toric.weierstrass import WeierstrassForm\n  sage: R.<x,y> = QQ[]\n  sage: cubic = x^3 + y^3 + 1\n  sage: WeierstrassForm(cubic)  # cubic in P^2\n  (0, -27/4)\n  sage: WeierstrassForm(x^4 + y^2 + 1)  # in P^2[112]\n  (-4, 0)\n  sage: WeierstrassForm(x^2*y^2 + x^2 + y^2 + 1)   # in P^1xP^1\n  (-16/3, 128/27)\n```\n\nApply\n* [attachment:trac_13084_ppl_lattice_polygon.patch]\n* [attachment:trac_13084_toric_weierstrass.patch]\n* [attachment:trac_13084_weierstrass_cleanup-fc.patch]\n* [attachment:trac_13084_ppl_cleanup-fc.patch]\n* [attachment:trac_13084_misc.patch]\n\nAssignee: @aghitza\n\nCC:  @novoselt @dimpase @mstreng\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton, Dmitrii Pasechnik\n\nAuthor: Volker Braun\n\nMerged: sage-5.11.beta2\n\nDependencies: #12553, #13451\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13084\n\n",
    "closed_at": "2013-06-19T12:24:45Z",
    "created_at": "2012-06-03T21:57:46Z",
    "labels": [
        "component: algebraic geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.11",
    "title": "Weierstrass form for toric elliptic curves",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13084",
    "user": "https://github.com/vbraun"
}
```
This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:

```
  sage: from sage.schemes.toric.weierstrass import WeierstrassForm
  sage: R.<x,y> = QQ[]
  sage: cubic = x^3 + y^3 + 1
  sage: WeierstrassForm(cubic)  # cubic in P^2
  (0, -27/4)
  sage: WeierstrassForm(x^4 + y^2 + 1)  # in P^2[112]
  (-4, 0)
  sage: WeierstrassForm(x^2*y^2 + x^2 + y^2 + 1)   # in P^1xP^1
  (-16/3, 128/27)
```

Apply
* [attachment:trac_13084_ppl_lattice_polygon.patch]
* [attachment:trac_13084_toric_weierstrass.patch]
* [attachment:trac_13084_weierstrass_cleanup-fc.patch]
* [attachment:trac_13084_ppl_cleanup-fc.patch]
* [attachment:trac_13084_misc.patch]

Assignee: @aghitza

CC:  @novoselt @dimpase @mstreng

Reviewer: Frédéric Chapoton, Dmitrii Pasechnik

Author: Volker Braun

Merged: sage-5.11.beta2

Dependencies: #12553, #13451

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/13084





---

archive/issue_comments_165290.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-06-03T22:29:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165290",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_165291.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This ticket implements the Weierstrass form for anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:\n+This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:\n \n \\`\\`\\`\n   sage: from sage.schemes.toric.weierstrass import WeierstrassForm\n```\n",
    "created_at": "2012-06-03T22:29:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165291",
    "user": "https://github.com/vbraun"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This ticket implements the Weierstrass form for anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:
+This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:
 
 \`\`\`
   sage: from sage.schemes.toric.weierstrass import WeierstrassForm
```




---

archive/issue_comments_165292.json:
```json
{
    "body": "<a id='comment:2'></a>Excellent work! In all these cases, the genus 1 curve is a cover of its jacobian in a relatively canonical way. With your approach, is it reasonably possible to compute these covering maps? Doing so gives a kind of \"certificate\". One starting point would be\n    T.A Fisher, The invariants of a genus one curve, Proc. Lond. Math. Soc., 97(3):753--782, 2008.\nalso on [arXiv](http://arxiv.org/abs/math/0610318).",
    "created_at": "2012-06-03T23:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165292",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:2'></a>Excellent work! In all these cases, the genus 1 curve is a cover of its jacobian in a relatively canonical way. With your approach, is it reasonably possible to compute these covering maps? Doing so gives a kind of "certificate". One starting point would be
    T.A Fisher, The invariants of a genus one curve, Proc. Lond. Math. Soc., 97(3):753--782, 2008.
also on [arXiv](http://arxiv.org/abs/math/0610318).



---

archive/issue_comments_165293.json:
```json
{
    "body": "<a id='comment:3'></a>The reference looks interesting, I'll have a look! \n\nThough I think there is already too much code in this ticket, any further features should go to a followup.",
    "created_at": "2012-06-04T15:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165293",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>The reference looks interesting, I'll have a look! 

Though I think there is already too much code in this ticket, any further features should go to a followup.



---

archive/issue_comments_165294.json:
```json
{
    "body": "<a id='comment:4'></a>I've split off the classical invariant theory stuff into a different module (#13451), this is much cleaner now. Still needs review ;-)",
    "created_at": "2012-09-12T11:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165294",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'></a>I've split off the classical invariant theory stuff into a different module (#13451), this is much cleaner now. Still needs review ;-)



---

archive/issue_comments_165295.json:
```json
{
    "body": "<a id='comment:5'></a>apply only trac_13084_toric_weierstrass.patch",
    "created_at": "2012-10-26T20:08:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165295",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>apply only trac_13084_toric_weierstrass.patch



---

archive/issue_comments_165296.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,20 @@\n+This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:\n \n+\\`\\`\\`\n+  sage: from sage.schemes.toric.weierstrass import WeierstrassForm\n+  sage: R.<x,y> = QQ[]\n+  sage: cubic = x^3 + y^3 + 1\n+  sage: WeierstrassForm(cubic)  # cubic in P^2\n+  (0, -27/4)\n+  sage: WeierstrassForm(x^4 + y^2 + 1)  # in P^2[112]\n+  (-4, 0)\n+  sage: WeierstrassForm(x^2*y^2 + x^2 + y^2 + 1)   # in P^1xP^1\n+  (-16/3, 128/27)\n+\\`\\`\\`\n+\n+Apply\n+* [attachment:trac_13084_ppl_lattice_polygon.patch]\n+* [attachment:trac_13084_toric_weierstrass.patch]\n \n Author: Volker Braun\n \n```\n",
    "created_at": "2013-02-11T16:26:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165296",
    "user": "https://github.com/vbraun"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,20 @@
+This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:
 
+\`\`\`
+  sage: from sage.schemes.toric.weierstrass import WeierstrassForm
+  sage: R.<x,y> = QQ[]
+  sage: cubic = x^3 + y^3 + 1
+  sage: WeierstrassForm(cubic)  # cubic in P^2
+  (0, -27/4)
+  sage: WeierstrassForm(x^4 + y^2 + 1)  # in P^2[112]
+  (-4, 0)
+  sage: WeierstrassForm(x^2*y^2 + x^2 + y^2 + 1)   # in P^1xP^1
+  (-16/3, 128/27)
+\`\`\`
+
+Apply
+* [attachment:trac_13084_ppl_lattice_polygon.patch]
+* [attachment:trac_13084_toric_weierstrass.patch]
 
 Author: Volker Braun
 
```




---

archive/issue_comments_165297.json:
```json
{
    "body": "<a id='comment:7'></a>rediffed for sage-5.8.beta0",
    "created_at": "2013-02-22T11:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165297",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'></a>rediffed for sage-5.8.beta0



---

archive/issue_comments_165298.json:
```json
{
    "body": "<a id='comment:8'></a>This is mostly geometry of polygons with a little bit of invariant theory thrown in - Dima, do you feel comfortable reviewing the ticket?",
    "created_at": "2013-05-18T22:42:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165298",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>This is mostly geometry of polygons with a little bit of invariant theory thrown in - Dima, do you feel comfortable reviewing the ticket?



---

archive/issue_comments_165299.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 vbraun]:\n> This is mostly geometry of polygons with a little bit of invariant theory thrown in - Dima, do you feel comfortable reviewing the ticket?\n\n\nThis is surely a fun ticket! \n\nBut I am not familiar with the number theory part of it, and lately falling behind with everything, including reviewing my son's nappy's :\u2013)\nBesides, it ought to be reviewed by number theorists.\n\nLet me in turn invite you to consider taking part in this: http://web.spms.ntu.edu.sg/~dima/IMS2013/",
    "created_at": "2013-05-19T00:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165299",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>Replying to [comment:8 vbraun]:
> This is mostly geometry of polygons with a little bit of invariant theory thrown in - Dima, do you feel comfortable reviewing the ticket?


This is surely a fun ticket! 

But I am not familiar with the number theory part of it, and lately falling behind with everything, including reviewing my son's nappy's :–)
Besides, it ought to be reviewed by number theorists.

Let me in turn invite you to consider taking part in this: http://web.spms.ntu.edu.sg/~dima/IMS2013/



---

archive/issue_comments_165300.json:
```json
{
    "body": "<a id='comment:10'></a>For the record, there isn't really any number theory in here. Maybe Marco is interested in reviewing this? ;-)",
    "created_at": "2013-05-19T09:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165300",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>For the record, there isn't really any number theory in here. Maybe Marco is interested in reviewing this? ;-)



---

archive/issue_comments_165301.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-05-28T18:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165301",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_165302.json:
```json
{
    "body": "<a id='comment:11'></a>See the bot report:\n\n* coverage is not 100%\n\n* needs to use the new doctest continuation `...:`",
    "created_at": "2013-05-28T18:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165302",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>See the bot report:

* coverage is not 100%

* needs to use the new doctest continuation `...:`



---

archive/issue_comments_165303.json:
```json
{
    "body": "Attachment [trac_13084_ppl_lattice_polygon.patch](tarball://root/attachments/some-uuid/ticket13084/trac_13084_ppl_lattice_polygon.patch) by @vbraun created at 2013-05-30 14:12:28\n\nUpdated patch",
    "created_at": "2013-05-30T14:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165303",
    "user": "https://github.com/vbraun"
}
```

Attachment [trac_13084_ppl_lattice_polygon.patch](tarball://root/attachments/some-uuid/ticket13084/trac_13084_ppl_lattice_polygon.patch) by @vbraun created at 2013-05-30 14:12:28

Updated patch



---

archive/issue_comments_165304.json:
```json
{
    "body": "Attachment [trac_13084_toric_weierstrass.patch](tarball://root/attachments/some-uuid/ticket13084/trac_13084_toric_weierstrass.patch) by @vbraun created at 2013-05-30 14:12:41\n\nUpdated patch",
    "created_at": "2013-05-30T14:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165304",
    "user": "https://github.com/vbraun"
}
```

Attachment [trac_13084_toric_weierstrass.patch](tarball://root/attachments/some-uuid/ticket13084/trac_13084_toric_weierstrass.patch) by @vbraun created at 2013-05-30 14:12:41

Updated patch



---

archive/issue_comments_165305.json:
```json
{
    "body": "<a id='comment:12'></a>Fixed",
    "created_at": "2013-05-30T14:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165305",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'></a>Fixed



---

archive/issue_comments_165306.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-05-30T18:43:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165306",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_165307.json:
```json
{
    "body": "<a id='comment:14'></a>Fr\u00e9d\u00e9ric, are you going to review this ticket?",
    "created_at": "2013-06-01T13:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165307",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'></a>Frédéric, are you going to review this ticket?



---

archive/issue_comments_165308.json:
```json
{
    "body": "<a id='comment:15'></a>I have added a \"cosmetic cleanup\" patch for the file weierstrass.py. In particular, it removes many unused import statements.",
    "created_at": "2013-06-03T20:13:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165308",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'></a>I have added a "cosmetic cleanup" patch for the file weierstrass.py. In particular, it removes many unused import statements.



---

archive/issue_comments_165309.json:
```json
{
    "body": "<a id='comment:16'></a>Thanks, looks good to me.",
    "created_at": "2013-06-03T20:26:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165309",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>Thanks, looks good to me.



---

archive/issue_comments_165310.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,22 @@\n+This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:\n \n+\\`\\`\\`\n+  sage: from sage.schemes.toric.weierstrass import WeierstrassForm\n+  sage: R.<x,y> = QQ[]\n+  sage: cubic = x^3 + y^3 + 1\n+  sage: WeierstrassForm(cubic)  # cubic in P^2\n+  (0, -27/4)\n+  sage: WeierstrassForm(x^4 + y^2 + 1)  # in P^2[112]\n+  (-4, 0)\n+  sage: WeierstrassForm(x^2*y^2 + x^2 + y^2 + 1)   # in P^1xP^1\n+  (-16/3, 128/27)\n+\\`\\`\\`\n+\n+Apply\n+* [attachment:trac_13084_ppl_lattice_polygon.patch]\n+* [attachment:trac_13084_toric_weierstrass.patch]\n+* [attachment:trac_13084_weierstrass_cleanup-fc.patch]\n+* [attachment:trac_13084_ppl_cleanup-fc.patch]\n \n Author: Volker Braun\n \n```\n",
    "created_at": "2013-06-04T19:05:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165310",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,22 @@
+This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:
 
+\`\`\`
+  sage: from sage.schemes.toric.weierstrass import WeierstrassForm
+  sage: R.<x,y> = QQ[]
+  sage: cubic = x^3 + y^3 + 1
+  sage: WeierstrassForm(cubic)  # cubic in P^2
+  (0, -27/4)
+  sage: WeierstrassForm(x^4 + y^2 + 1)  # in P^2[112]
+  (-4, 0)
+  sage: WeierstrassForm(x^2*y^2 + x^2 + y^2 + 1)   # in P^1xP^1
+  (-16/3, 128/27)
+\`\`\`
+
+Apply
+* [attachment:trac_13084_ppl_lattice_polygon.patch]
+* [attachment:trac_13084_toric_weierstrass.patch]
+* [attachment:trac_13084_weierstrass_cleanup-fc.patch]
+* [attachment:trac_13084_ppl_cleanup-fc.patch]
 
 Author: Volker Braun
 
```




---

archive/issue_comments_165311.json:
```json
{
    "body": "<a id='comment:17'></a>Attachment [trac_13084_ppl_cleanup-fc.patch](tarball://root/attachments/some-uuid/ticket13084/trac_13084_ppl_cleanup-fc.patch) by @fchapoton created at 2013-06-04 19:05:33\n\nAnother cosmetic-cleanup patch. Similar work on import statements and pep8",
    "created_at": "2013-06-04T19:05:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165311",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>Attachment [trac_13084_ppl_cleanup-fc.patch](tarball://root/attachments/some-uuid/ticket13084/trac_13084_ppl_cleanup-fc.patch) by @fchapoton created at 2013-06-04 19:05:33

Another cosmetic-cleanup patch. Similar work on import statements and pep8



---

archive/issue_comments_165312.json:
```json
{
    "body": "<a id='comment:18'></a>Attachment [trac_13084_weierstrass_cleanup-fc.patch](tarball://root/attachments/some-uuid/ticket13084/trac_13084_weierstrass_cleanup-fc.patch) by @vbraun created at 2013-06-12 12:38:33\n\nLooks good to me.\n\nI take it you forgot to set the ticket to positive review after posting patches for all of the new code?",
    "created_at": "2013-06-12T12:38:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165312",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>Attachment [trac_13084_weierstrass_cleanup-fc.patch](tarball://root/attachments/some-uuid/ticket13084/trac_13084_weierstrass_cleanup-fc.patch) by @vbraun created at 2013-06-12 12:38:33

Looks good to me.

I take it you forgot to set the ticket to positive review after posting patches for all of the new code?



---

archive/issue_comments_165313.json:
```json
{
    "body": "<a id='comment:19'></a>well, I am not able to seriously review the math..",
    "created_at": "2013-06-12T13:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165313",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'></a>well, I am not able to seriously review the math..



---

archive/issue_comments_165314.json:
```json
{
    "body": "<a id='comment:20'></a>Attempting to look at the maths side. It's confusing that you start off talking about a **toric** elliptic curve, but then speak about \"the elliptic curve\". What is going on there?\n\nfurther nitpicks:\n\n```\nThere are 16 reflexive polygons in 2-d.\n```\nCould you add a reference and change this to \n\n```\nThere are 16 reflexive polygons in the plane.\n```\n\nAnd add an exact reference to the next statement.\n\n```\nEach defines a toric fano  variety, which (in 2-d) has a unique crepant resolution to a smooth \n toric surface.\n```\nWhich should also be changed to \n\n```\nEach of them defines a toric Fano  variety...\n```\n\nThen,\n\n```\nIt turns out that the anticanonical hypersurface equation...\n```\nReference?",
    "created_at": "2013-06-13T09:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165314",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>Attempting to look at the maths side. It's confusing that you start off talking about a **toric** elliptic curve, but then speak about "the elliptic curve". What is going on there?

further nitpicks:

```
There are 16 reflexive polygons in 2-d.
```
Could you add a reference and change this to 

```
There are 16 reflexive polygons in the plane.
```

And add an exact reference to the next statement.

```
Each defines a toric fano  variety, which (in 2-d) has a unique crepant resolution to a smooth 
 toric surface.
```
Which should also be changed to 

```
Each of them defines a toric Fano  variety...
```

Then,

```
It turns out that the anticanonical hypersurface equation...
```
Reference?



---

archive/issue_comments_165315.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:20 dimpase]:\n> And add an exact reference to the next statement.\n> \n> ```\n> Each defines a toric fano  variety, which (in 2-d) has a unique crepant resolution to a smooth \n>  toric surface.\n> ```\n\n\nThats just the fact that a fan in the plane has a unique refinement into smooth cones. CLS just say that \"its easy to see\" (p. 500)",
    "created_at": "2013-06-13T10:24:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165315",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'></a>Replying to [comment:20 dimpase]:
> And add an exact reference to the next statement.
> 
> ```
> Each defines a toric fano  variety, which (in 2-d) has a unique crepant resolution to a smooth 
>  toric surface.
> ```


Thats just the fact that a fan in the plane has a unique refinement into smooth cones. CLS just say that "its easy to see" (p. 500)



---

archive/issue_comments_165316.json:
```json
{
    "body": "<a id='comment:22'></a>Done",
    "created_at": "2013-06-13T10:57:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165316",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>Done



---

archive/issue_comments_165317.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,23 @@\n+This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:\n \n+\\`\\`\\`\n+  sage: from sage.schemes.toric.weierstrass import WeierstrassForm\n+  sage: R.<x,y> = QQ[]\n+  sage: cubic = x^3 + y^3 + 1\n+  sage: WeierstrassForm(cubic)  # cubic in P^2\n+  (0, -27/4)\n+  sage: WeierstrassForm(x^4 + y^2 + 1)  # in P^2[112]\n+  (-4, 0)\n+  sage: WeierstrassForm(x^2*y^2 + x^2 + y^2 + 1)   # in P^1xP^1\n+  (-16/3, 128/27)\n+\\`\\`\\`\n+\n+Apply\n+* [attachment:trac_13084_ppl_lattice_polygon.patch]\n+* [attachment:trac_13084_toric_weierstrass.patch]\n+* [attachment:trac_13084_weierstrass_cleanup-fc.patch]\n+* [attachment:trac_13084_ppl_cleanup-fc.patch]\n+* [attachment:trac_13084_misc.patch]\n \n Author: Volker Braun\n \n```\n",
    "created_at": "2013-06-13T10:57:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165317",
    "user": "https://github.com/vbraun"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,23 @@
+This ticket implements the Weierstrass form (of the Jacobian) of anticanonical hypersurfaces in toric surfaces defined by reflexive polygons:
 
+\`\`\`
+  sage: from sage.schemes.toric.weierstrass import WeierstrassForm
+  sage: R.<x,y> = QQ[]
+  sage: cubic = x^3 + y^3 + 1
+  sage: WeierstrassForm(cubic)  # cubic in P^2
+  (0, -27/4)
+  sage: WeierstrassForm(x^4 + y^2 + 1)  # in P^2[112]
+  (-4, 0)
+  sage: WeierstrassForm(x^2*y^2 + x^2 + y^2 + 1)   # in P^1xP^1
+  (-16/3, 128/27)
+\`\`\`
+
+Apply
+* [attachment:trac_13084_ppl_lattice_polygon.patch]
+* [attachment:trac_13084_toric_weierstrass.patch]
+* [attachment:trac_13084_weierstrass_cleanup-fc.patch]
+* [attachment:trac_13084_ppl_cleanup-fc.patch]
+* [attachment:trac_13084_misc.patch]
 
 Author: Volker Braun
 
```




---

archive/issue_comments_165318.json:
```json
{
    "body": "<a id='comment:23'></a>Replying to [comment:22 vbraun]:\n> Done\n\ncapitalize `fano`. It's a [name](http://en.wikipedia.org/wiki/Gino_Fano), after all!",
    "created_at": "2013-06-13T11:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165318",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'></a>Replying to [comment:22 vbraun]:
> Done

capitalize `fano`. It's a [name](http://en.wikipedia.org/wiki/Gino_Fano), after all!



---

archive/issue_comments_165319.json:
```json
{
    "body": "<a id='comment:24'></a>hope you will update the relevant patch to change `fano` to `Fano` in docstrings...",
    "created_at": "2013-06-13T20:35:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165319",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>hope you will update the relevant patch to change `fano` to `Fano` in docstrings...



---

archive/issue_comments_165320.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-06-13T20:35:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165320",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_165321.json:
```json
{
    "body": "Updated patch",
    "created_at": "2013-06-13T22:22:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165321",
    "user": "https://github.com/vbraun"
}
```

Updated patch



---

archive/issue_comments_165322.json:
```json
{
    "body": "<a id='comment:25'></a>Attachment [trac_13084_misc.patch](tarball://root/attachments/some-uuid/ticket13084/trac_13084_misc.patch) by @vbraun created at 2013-06-13 22:24:32\n\nThanks, I fixed the \"Fano\".\n\nSpeaking of, its been grinding my gears the last couple of days that `hilbert_series` is lower case in Sage ;-)",
    "created_at": "2013-06-13T22:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165322",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:25'></a>Attachment [trac_13084_misc.patch](tarball://root/attachments/some-uuid/ticket13084/trac_13084_misc.patch) by @vbraun created at 2013-06-13 22:24:32

Thanks, I fixed the "Fano".

Speaking of, its been grinding my gears the last couple of days that `hilbert_series` is lower case in Sage ;-)



---

archive/issue_events_035944.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-14T06:41:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13084#event-35944"
}
```



---

archive/issue_events_035945.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-19T12:24:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13084#event-35945"
}
```



---

archive/issue_comments_165323.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-06-19T12:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13084",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13084#issuecomment-165323",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
