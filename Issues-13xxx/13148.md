# Issue 13148: make LP return the number of variables

archive/issues_012976.json:
```json
{
    "assignees": [],
    "body": "Currently there is no way to know how many variables an LP actually has, without parsing its constraints. However, this information is readily available from the backend. Hence the patch attached.\n\n---\nApply [attachment: trac_13148-number_of_variables_in_LP.patch.gz](https://github.com/sagemath/sage/files/ticket13148/trac_13148-number_of_variables_in_LP.patch.gz) to devel/sage\n\nAssignee: **@nathanncohen**\n\nCC:  @nathanncohen @ppurka\n\nReviewer: **Nathann Cohen**\n\nAuthor: **Dima Pasechnik**\n\nMerged: **sage-5.2.beta0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13148_\n\n",
    "closed_at": "2012-07-02T15:24:53Z",
    "created_at": "2012-06-21T14:12:29Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20linear%20programming",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "make LP return the number of variables",
    "type": "issue",
    "updated_at": "2012-07-02T15:24:53Z",
    "url": "https://github.com/sagemath/sage/issues/13148",
    "user": "https://github.com/dimpase"
}
```
Currently there is no way to know how many variables an LP actually has, without parsing its constraints. However, this information is readily available from the backend. Hence the patch attached.

---
Apply [attachment: trac_13148-number_of_variables_in_LP.patch.gz](https://github.com/sagemath/sage/files/ticket13148/trac_13148-number_of_variables_in_LP.patch.gz) to devel/sage

Assignee: **@nathanncohen**

CC:  @nathanncohen @ppurka

Reviewer: **Nathann Cohen**

Author: **Dima Pasechnik**

Merged: **sage-5.2.beta0**

_Issue created by migration from https://trac.sagemath.org/ticket/13148_





---

archive/issue_events_167372.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-06-21T14:12:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "milestone_number": null,
    "milestone_title": "sage-5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13148#event-167372"
}
```



---

archive/issue_events_167373.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-06-21T14:12:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20linear%20programming",
    "label_color": "0000ff",
    "label_name": "component: linear programming",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13148#event-167373"
}
```



---

archive/issue_events_167374.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-06-21T14:12:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13148#event-167374"
}
```



---

archive/issue_events_167375.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-06-21T14:12:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13148#event-167375"
}
```



---

archive/issue_events_167376.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-06-21T14:16:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13148#event-167376"
}
```



---

archive/issue_comments_153004.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\n-_-\n\nAhem... With Gurobi installed the doctests do not pass, because of their stupid way of storing double inequalities :\n\n```\nsage: p = MixedIntegerLinearProgram()\nsage: p.add_constraint(p[0] - p[2], min = 1, max = 4)\nsage: p.number_of_variables()\n3\nsage: p.show()\nMaximization:\n \nConstraints:\n  R0: 4.0 <= x_0 - x_1 + RgR0 <= 4.0\nVariables:\n  x_0 is a continuous variable (min=0.0, max=+oo)\n  x_1 is a continuous variable (min=0.0, max=+oo)\n  RgR0 is a continuous variable (min=0.0, max=3.0)\n```\n\nOf course I expect that your code works with any other solver `^^;`\n\nCould you change the first constraint so that it is a \"simple\" inequality (with not both an upper and lower bound) ?\n\nYour patch also needs some commit message. And I do not know if there is any rule about patches filenames ending with a .patch, but we will find out soon `:-)`\n\nSorry about this Gurobi ugliness `:-p`\n\nNathann",
    "created_at": "2012-06-22T05:55:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153004",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:2'>Comment 2:</a>
-_-

Ahem... With Gurobi installed the doctests do not pass, because of their stupid way of storing double inequalities :

```
sage: p = MixedIntegerLinearProgram()
sage: p.add_constraint(p[0] - p[2], min = 1, max = 4)
sage: p.number_of_variables()
3
sage: p.show()
Maximization:
 
Constraints:
  R0: 4.0 <= x_0 - x_1 + RgR0 <= 4.0
Variables:
  x_0 is a continuous variable (min=0.0, max=+oo)
  x_1 is a continuous variable (min=0.0, max=+oo)
  RgR0 is a continuous variable (min=0.0, max=3.0)
```

Of course I expect that your code works with any other solver `^^;`

Could you change the first constraint so that it is a "simple" inequality (with not both an upper and lower bound) ?

Your patch also needs some commit message. And I do not know if there is any rule about patches filenames ending with a .patch, but we will find out soon `:-)`

Sorry about this Gurobi ugliness `:-p`

Nathann



---

archive/issue_events_167377.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-06-22T05:55:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13148#event-167377"
}
```



---

archive/issue_events_167378.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-06-22T05:55:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13148#event-167378"
}
```



---

archive/issue_comments_153005.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nReplying to [@nathanncohen](#comment%3A2):\n> -_-\n> \n> Ahem... With Gurobi installed the doctests do not pass, because of their stupid way of storing double inequalities :\n> \n> ```\n> sage: p = MixedIntegerLinearProgram()\n> sage: p.add_constraint(p[0] - p[2], min = 1, max = 4)\n> sage: p.number_of_variables()\n> 3\n> sage: p.show()\n> Maximization:\n>  \n> Constraints:\n>   R0: 4.0 <= x_0 - x_1 + RgR0 <= 4.0\n> Variables:\n>   x_0 is a continuous variable (min=0.0, max=+oo)\n>   x_1 is a continuous variable (min=0.0, max=+oo)\n>   RgR0 is a continuous variable (min=0.0, max=3.0)\n> ```\n\nas far as I am concerned this is an LP with 3 variables, not 2.\nSo my code is right :\u2013)\n(well, you don't have means to control that RgR0, so what?)\nWhen you construct the usual dual of such an LP, you'll end up with\na different dual.\n\n\n> \n> Of course I expect that your code works with any other solver `^^;`\n> \n> Could you change the first constraint so that it is a \"simple\" inequality (with not both an upper and lower bound) ?\n\nhmm, I don't see what you mean here.\n\n> \n> Your patch also needs some commit message. And I do not know if there is any rule about patches filenames ending with a .patch, but we will find out soon `:-)`\n> \n> Sorry about this Gurobi ugliness `:-p`\n> \n> Nathann",
    "created_at": "2012-06-22T08:11:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153005",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'>Comment 3:</a>
Replying to [@nathanncohen](#comment%3A2):
> -_-
> 
> Ahem... With Gurobi installed the doctests do not pass, because of their stupid way of storing double inequalities :
> 
> ```
> sage: p = MixedIntegerLinearProgram()
> sage: p.add_constraint(p[0] - p[2], min = 1, max = 4)
> sage: p.number_of_variables()
> 3
> sage: p.show()
> Maximization:
>  
> Constraints:
>   R0: 4.0 <= x_0 - x_1 + RgR0 <= 4.0
> Variables:
>   x_0 is a continuous variable (min=0.0, max=+oo)
>   x_1 is a continuous variable (min=0.0, max=+oo)
>   RgR0 is a continuous variable (min=0.0, max=3.0)
> ```

as far as I am concerned this is an LP with 3 variables, not 2.
So my code is right :–)
(well, you don't have means to control that RgR0, so what?)
When you construct the usual dual of such an LP, you'll end up with
a different dual.


> 
> Of course I expect that your code works with any other solver `^^;`
> 
> Could you change the first constraint so that it is a "simple" inequality (with not both an upper and lower bound) ?

hmm, I don't see what you mean here.

> 
> Your patch also needs some commit message. And I do not know if there is any rule about patches filenames ending with a .patch, but we will find out soon `:-)`
> 
> Sorry about this Gurobi ugliness `:-p`
> 
> Nathann



---

archive/issue_comments_153006.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\n> as far as I am concerned this is an LP with 3 variables, not 2.\n> So my code is right :\u2013)\n\nYeah, but itbreaks doctests.\n\n> (well, you don't have means to control that RgR0, so what?)\n\nNone at all. When you add a as a constraint a linar function + two bounds (min and max) Gurobi automatically creates a newbounded variable and makes the constraint an equality.\nThat's stupid, boring, whatever you want, but this is still how it behaves.\n\n> When you construct the usual dual of such an LP, you'll end up with\n> a different dual.\n\nYeah. That's why I told you by email that you would be surpised by the behviour of some solvers on his respect.\n\n> hmm, I don't see what you mean here.\n\nIf you remove either the min or the max bound from your code Gurobi will not do that and break the doctest, that's all...\n\nNathann",
    "created_at": "2012-06-22T08:50:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153006",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'>Comment 4:</a>
> as far as I am concerned this is an LP with 3 variables, not 2.
> So my code is right :–)

Yeah, but itbreaks doctests.

> (well, you don't have means to control that RgR0, so what?)

None at all. When you add a as a constraint a linar function + two bounds (min and max) Gurobi automatically creates a newbounded variable and makes the constraint an equality.
That's stupid, boring, whatever you want, but this is still how it behaves.

> When you construct the usual dual of such an LP, you'll end up with
> a different dual.

Yeah. That's why I told you by email that you would be surpised by the behviour of some solvers on his respect.

> hmm, I don't see what you mean here.

If you remove either the min or the max bound from your code Gurobi will not do that and break the doctest, that's all...

Nathann



---

archive/issue_comments_153007.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nReplying to [@nathanncohen](#comment%3A4):\n> > as far as I am concerned this is an LP with 3 variables, not 2.\n> > So my code is right :\u2013)\n\n> \n> Yeah, but itbreaks doctests.\n\nit only does so if you hack your Sage installation to make Gurobi the default\nsolver. Correct me if I'm wrong, but isn't the default LP solver GLPK?\n\n> \n> > (well, you don't have means to control that RgR0, so what?)\n\n> \n> None at all. When you add a as a constraint a linar function + two bounds (min and max) Gurobi automatically creates a newbounded variable and makes the constraint an equality.\n> That's stupid, boring, whatever you want, but this is still how it behaves.\n\nAh, I see, thanks.\n\n> \n> > When you construct the usual dual of such an LP, you'll end up with\n> > a different dual.\n\n> \n> Yeah. That's why I told you by email that you would be surpised by the behviour of some solvers on his respect.\n\nWell, I constructed LPs that CPLEX can solve by primal simplex, but not by the dual. LPs that CPLEX finds out to be infeasible, but for which it fails to give you an infeasibility certificate. I don't think they can surprise me any more :-)\n\nDima",
    "created_at": "2012-06-22T09:17:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153007",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'>Comment 5:</a>
Replying to [@nathanncohen](#comment%3A4):
> > as far as I am concerned this is an LP with 3 variables, not 2.
> > So my code is right :–)

> 
> Yeah, but itbreaks doctests.

it only does so if you hack your Sage installation to make Gurobi the default
solver. Correct me if I'm wrong, but isn't the default LP solver GLPK?

> 
> > (well, you don't have means to control that RgR0, so what?)

> 
> None at all. When you add a as a constraint a linar function + two bounds (min and max) Gurobi automatically creates a newbounded variable and makes the constraint an equality.
> That's stupid, boring, whatever you want, but this is still how it behaves.

Ah, I see, thanks.

> 
> > When you construct the usual dual of such an LP, you'll end up with
> > a different dual.

> 
> Yeah. That's why I told you by email that you would be surpised by the behviour of some solvers on his respect.

Well, I constructed LPs that CPLEX can solve by primal simplex, but not by the dual. LPs that CPLEX finds out to be infeasible, but for which it fails to give you an infeasibility certificate. I don't think they can surprise me any more :-)

Dima



---

archive/issue_comments_153008.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\n> it only does so if you hack your Sage installation to make Gurobi the default\n> solver. Correct me if I'm wrong, but isn't the default LP solver GLPK?\n\nWell. No, Gurobi becomes the default solver as soon as you install it.\n\nBut that is not the problem Dima. I you remove this \"min\" or \"max\" in your file the doctest does not break anymore, what's the point of insisting to keep it ? What's the point ?\n\n> Well, I constructed LPs that CPLEX can solve by primal simplex, but not by the dual. LPs that CPLEX finds out to be infeasible, but for which it fails to give you an infeasibility certificate. I don't think they can surprise me any more :-)\n\nAhahaah... Scary, scary things .... \n\nNathann",
    "created_at": "2012-06-22T10:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153008",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'>Comment 6:</a>
> it only does so if you hack your Sage installation to make Gurobi the default
> solver. Correct me if I'm wrong, but isn't the default LP solver GLPK?

Well. No, Gurobi becomes the default solver as soon as you install it.

But that is not the problem Dima. I you remove this "min" or "max" in your file the doctest does not break anymore, what's the point of insisting to keep it ? What's the point ?

> Well, I constructed LPs that CPLEX can solve by primal simplex, but not by the dual. LPs that CPLEX finds out to be infeasible, but for which it fails to give you an infeasibility certificate. I don't think they can surprise me any more :-)

Ahahaah... Scary, scary things .... 

Nathann



---

archive/issue_comments_153009.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@nathanncohen](#comment%3A6):\n> > it only does so if you hack your Sage installation to make Gurobi the default\n> > solver. Correct me if I'm wrong, but isn't the default LP solver GLPK?\n\n> \n> Well. No, Gurobi becomes the default solver as soon as you install it.\n\nOh dear... And if I install, say, CPLEX? Will it take over? This is strange. Even web browsers don't behave like this :\u2013) Anyway...\n> \n> But that is not the problem Dima. I you remove this \"min\" or \"max\" in your file the doctest does not break anymore, what's the point of insisting to keep it ? What's the point ?\n\nCause this would not be what I'd call 100% doctest coverage. :\u2013) \nIf someone else (or me, 6 months later :\u2013)) would stumble upon this crap?\n\nOK, I can specify the solver to use, then it will work. \nBy the way, how would I mark a test so that it would only be invoked if GUROBI is installed?\nIs it ` # optional ???` ? And what would be `???` there?",
    "created_at": "2012-06-22T11:09:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153009",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@nathanncohen](#comment%3A6):
> > it only does so if you hack your Sage installation to make Gurobi the default
> > solver. Correct me if I'm wrong, but isn't the default LP solver GLPK?

> 
> Well. No, Gurobi becomes the default solver as soon as you install it.

Oh dear... And if I install, say, CPLEX? Will it take over? This is strange. Even web browsers don't behave like this :–) Anyway...
> 
> But that is not the problem Dima. I you remove this "min" or "max" in your file the doctest does not break anymore, what's the point of insisting to keep it ? What's the point ?

Cause this would not be what I'd call 100% doctest coverage. :–) 
If someone else (or me, 6 months later :–)) would stumble upon this crap?

OK, I can specify the solver to use, then it will work. 
By the way, how would I mark a test so that it would only be invoked if GUROBI is installed?
Is it ` # optional ???` ? And what would be `???` there?



---

archive/issue_comments_153010.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\n> > Well. No, Gurobi becomes the default solver as soon as you install it.\n\n> Oh dear... And if I install, say, CPLEX? Will it take over? This is strange. Even web browsers don't behave like this :\u2013) Anyway...\n\nIt would. You will find out how it behaves by looking at numerical/backends/generic_backend, bottom of the file.\nThis is made so that the best solver available will be used to solve.... graph problems :-P\n\n> Cause this would not be what I'd call 100% doctest coverage :\u2013)\n> OK, I can specify the solver to use, then it will work. \n\nAnd you woul prefer to specify manually the solver you want to use, in this case GLPK, and say that the other solvers will not be tested ? This would be 100% coverage ? Or add one doctest per solver ?\n\n> By the way, how would I mark a test so that it would only be invoked if GUROBI is installed?\n> Is it ` # optional ???` ? And what would be `???` there?\n\nIt would be # optional - gurobi\nThere are many instances of that in numerical/gurobi_backend\n\nNathann",
    "created_at": "2012-06-22T11:12:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153010",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'>Comment 8:</a>
> > Well. No, Gurobi becomes the default solver as soon as you install it.

> Oh dear... And if I install, say, CPLEX? Will it take over? This is strange. Even web browsers don't behave like this :–) Anyway...

It would. You will find out how it behaves by looking at numerical/backends/generic_backend, bottom of the file.
This is made so that the best solver available will be used to solve.... graph problems :-P

> Cause this would not be what I'd call 100% doctest coverage :–)
> OK, I can specify the solver to use, then it will work. 

And you woul prefer to specify manually the solver you want to use, in this case GLPK, and say that the other solvers will not be tested ? This would be 100% coverage ? Or add one doctest per solver ?

> By the way, how would I mark a test so that it would only be invoked if GUROBI is installed?
> Is it ` # optional ???` ? And what would be `???` there?

It would be # optional - gurobi
There are many instances of that in numerical/gurobi_backend

Nathann



---

archive/issue_comments_153011.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nReplying to [@nathanncohen](#comment%3A8):\n> > > Well. No, Gurobi becomes the default solver as soon as you install it.\n\n> > Oh dear... And if I install, say, CPLEX? Will it take over? This is strange. Even web browsers don't behave like this :\u2013) Anyway...\n\n> \n> It would. You will find out how it behaves by looking at numerical/backends/generic_backend, bottom of the file.\n> This is made so that the best solver available will be used to solve.... graph problems :-P\n> \n> > Cause this would not be what I'd call 100% doctest coverage :\u2013)\n> > OK, I can specify the solver to use, then it will work. \n\n> \n> And you woul prefer to specify manually the solver you want to use, in this case GLPK, and say that the other solvers will not be tested ? This would be 100% coverage ? Or add one doctest per solver ?\n\nOne way or another, this weirdness must be exposed in doctests and/or  in docs. And I'll add this in docs.\n\nI presume there is a function to find the default solver...\n\n> \n> > By the way, how would I mark a test so that it would only be invoked if GUROBI is installed?\n> > Is it ` # optional ???` ? And what would be `???` there?\n\n> \n> It would be # optional - gurobi\n> There are many instances of that in numerical/gurobi_backend\n> \n> Nathann",
    "created_at": "2012-06-22T11:22:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153011",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'>Comment 9:</a>
Replying to [@nathanncohen](#comment%3A8):
> > > Well. No, Gurobi becomes the default solver as soon as you install it.

> > Oh dear... And if I install, say, CPLEX? Will it take over? This is strange. Even web browsers don't behave like this :–) Anyway...

> 
> It would. You will find out how it behaves by looking at numerical/backends/generic_backend, bottom of the file.
> This is made so that the best solver available will be used to solve.... graph problems :-P
> 
> > Cause this would not be what I'd call 100% doctest coverage :–)
> > OK, I can specify the solver to use, then it will work. 

> 
> And you woul prefer to specify manually the solver you want to use, in this case GLPK, and say that the other solvers will not be tested ? This would be 100% coverage ? Or add one doctest per solver ?

One way or another, this weirdness must be exposed in doctests and/or  in docs. And I'll add this in docs.

I presume there is a function to find the default solver...

> 
> > By the way, how would I mark a test so that it would only be invoked if GUROBI is installed?
> > Is it ` # optional ???` ? And what would be `???` there?

> 
> It would be # optional - gurobi
> There are many instances of that in numerical/gurobi_backend
> 
> Nathann



---

archive/issue_comments_153012.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\n> One way or another, this weirdness must be exposed in doctests and/or  in docs. And I'll add this in docs.\n> \n> I presume there is a function to find the default solver...\n\nProbbly there... Actually I' surprised I did not write it already.\n\nhttp://www.sagemath.org/doc/thematic_tutorials/linear_programming.html\n\n\nOr else we can change that... What would you think of forgetting about this behavour, and deciding that the default solver is GLPK unless some line in ~/.sage/init.sage says otherwise ?\n\nI would find this behaviour much more sensible now `:-)`\n\nNathan",
    "created_at": "2012-06-22T11:25:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153012",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'>Comment 10:</a>
> One way or another, this weirdness must be exposed in doctests and/or  in docs. And I'll add this in docs.
> 
> I presume there is a function to find the default solver...

Probbly there... Actually I' surprised I did not write it already.

http://www.sagemath.org/doc/thematic_tutorials/linear_programming.html


Or else we can change that... What would you think of forgetting about this behavour, and deciding that the default solver is GLPK unless some line in ~/.sage/init.sage says otherwise ?

I would find this behaviour much more sensible now `:-)`

Nathan



---

archive/issue_comments_153013.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@nathanncohen](#comment%3A10):\n> > One way or another, this weirdness must be exposed in doctests and/or  in docs. And I'll add this in docs.\n> > \n> > I presume there is a function to find the default solver...\n\n> Probbly there... Actually I' surprised I did not write it already.\n> \n> http://www.sagemath.org/doc/thematic_tutorials/linear_programming.html\n> \n> \n> Or else we can change that... What would you think of forgetting about this behavour, and deciding that the default solver is GLPK unless some line in ~/.sage/init.sage says otherwise ?\n> \n> I would find this behaviour much more sensible now `:-)`\n\nhopefully the new patch addresses all the things discussed. :\u2013)\n\n> \n> Nathan",
    "created_at": "2012-06-23T09:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153013",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@nathanncohen](#comment%3A10):
> > One way or another, this weirdness must be exposed in doctests and/or  in docs. And I'll add this in docs.
> > 
> > I presume there is a function to find the default solver...

> Probbly there... Actually I' surprised I did not write it already.
> 
> http://www.sagemath.org/doc/thematic_tutorials/linear_programming.html
> 
> 
> Or else we can change that... What would you think of forgetting about this behavour, and deciding that the default solver is GLPK unless some line in ~/.sage/init.sage says otherwise ?
> 
> I would find this behaviour much more sensible now `:-)`

hopefully the new patch addresses all the things discussed. :–)

> 
> Nathan



---

archive/issue_events_167379.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-06-23T12:52:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13148#event-167379"
}
```



---

archive/issue_events_167380.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-06-23T12:52:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13148#event-167380"
}
```



---

archive/issue_comments_153014.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nWell, then... `:-)`\n\nSorry for this ugliness Dima ! Perhaps this class will change totally over time `:-)`\n\nNathann",
    "created_at": "2012-06-23T16:38:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153014",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'>Comment 13:</a>
Well, then... `:-)`

Sorry for this ugliness Dima ! Perhaps this class will change totally over time `:-)`

Nathann



---

archive/issue_comments_153015.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2012-06-23T16:38:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153015",
    "user": "https://github.com/nathanncohen"
}
```

Author: **Dima Pasechnik**



---

archive/issue_events_167381.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-06-23T16:38:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13148#event-167381"
}
```



---

archive/issue_events_167382.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-06-23T16:38:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13148#event-167382"
}
```



---

archive/issue_comments_153016.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2012-06-23T16:38:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153016",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_153017.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nHello, I think there should be just two minor changes\n1. in the documentation, the latex equations should probably be enclosed under backticks like <code>\\`m <= c^T x <= M\\`</code>, so that the superscripts are rendered properly in the notebook.\n2. the patch should contain the ticket number in its name (I suppose in the name is preferred now?) or in its commit message.",
    "created_at": "2012-06-23T17:04:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153017",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:14'>Comment 14:</a>
Hello, I think there should be just two minor changes
1. in the documentation, the latex equations should probably be enclosed under backticks like <code>\`m <= c^T x <= M\`</code>, so that the superscripts are rendered properly in the notebook.
2. the patch should contain the ticket number in its name (I suppose in the name is preferred now?) or in its commit message.



---

archive/issue_comments_153018.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\n> Hello, I think there should be just two minor changes\n> 1. in the documentation, the latex equations should probably be enclosed under backticks like <code>\\`m <= c^T x <= M\\`</code>, so that the superscripts are rendered properly in the notebook.\n\nAhahahaha. Right, right, and for that I blame the rose wine of southern France (God, this place is sunny !!)\n\n> 2. the patch should contain the ticket number in its name (I suppose in the name is preferred now?) or in its commit message.\n\nHmmmm... On the other hand I believe that the ticket numbers are now added automatically and that Jeroen prefers when there are none in the patch's message.\n\nHAve fuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuun !\n\nNathann",
    "created_at": "2012-06-23T17:07:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153018",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'>Comment 15:</a>
> Hello, I think there should be just two minor changes
> 1. in the documentation, the latex equations should probably be enclosed under backticks like <code>\`m <= c^T x <= M\`</code>, so that the superscripts are rendered properly in the notebook.

Ahahahaha. Right, right, and for that I blame the rose wine of southern France (God, this place is sunny !!)

> 2. the patch should contain the ticket number in its name (I suppose in the name is preferred now?) or in its commit message.

Hmmmm... On the other hand I believe that the ticket numbers are now added automatically and that Jeroen prefers when there are none in the patch's message.

HAve fuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuun !

Nathann



---

archive/issue_comments_153019.json:
```json
{
    "body": "Attachment: **[trac_13148-number_of_variables_in_LP.patch.gz](https://github.com/sagemath/sage/files/ticket13148/trac_13148-number_of_variables_in_LP.patch.gz)**\n\na patch to have <LP>.number_of_variables() return what it should (just minor changes)",
    "created_at": "2012-06-23T17:10:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153019",
    "user": "https://github.com/ppurka"
}
```

Attachment: **[trac_13148-number_of_variables_in_LP.patch.gz](https://github.com/sagemath/sage/files/ticket13148/trac_13148-number_of_variables_in_LP.patch.gz)**

a patch to have <LP>.number_of_variables() return what it should (just minor changes)



---

archive/issue_comments_153020.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n Currently there is no way to know how many variables an LP actually has, without parsing its constraints. However, this information is readily available from the backend. Hence the patch attached.\n \n- \n+---\n+Apply [attachment: trac_13148-number_of_variables_in_LP.patch.gz](https://github.com/sagemath/sage/files/ticket13148/trac_13148-number_of_variables_in_LP.patch.gz) to devel/sage\n``````\n",
    "created_at": "2012-06-23T17:11:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153020",
    "user": "https://github.com/ppurka"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
 Currently there is no way to know how many variables an LP actually has, without parsing its constraints. However, this information is readily available from the backend. Hence the patch attached.
 
- 
+---
+Apply [attachment: trac_13148-number_of_variables_in_LP.patch.gz](https://github.com/sagemath/sage/files/ticket13148/trac_13148-number_of_variables_in_LP.patch.gz) to devel/sage
``````




---

archive/issue_comments_153021.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nOk. I made the changes and removed some trailing whitespaces which should make patchbot happy.",
    "created_at": "2012-06-23T17:11:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153021",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:16'>Comment 16:</a>
Ok. I made the changes and removed some trailing whitespaces which should make patchbot happy.



---

archive/issue_comments_153022.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nGreat `:-)`\n\nNathann",
    "created_at": "2012-06-23T17:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153022",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:17'>Comment 17:</a>
Great `:-)`

Nathann



---

archive/issue_comments_153023.json:
```json
{
    "body": "Merged: **sage-5.2.beta0**",
    "created_at": "2012-07-02T15:24:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13148#issuecomment-153023",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.2.beta0**



---

archive/issue_events_167383.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-02T15:24:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13148#event-167383"
}
```



---

archive/issue_events_167384.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-02T15:24:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13148",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13148#event-167384"
}
```
