# Issue 13770: bug in multivariate factorization over prime fields

archive/issues_013566.json:
```json
{
    "body": "after #11829, #11838, #12918, #12928, here is another bug in multivariate factorization over prime fields:\n\n```\n----------------------------------------------------------------------\n| Sage Version 5.4.1, Release Date: 2012-11-15                       |\n| Type \"notebook()\" for the browser-based notebook interface.        |\n| Type \"help()\" for help.                                            |\n----------------------------------------------------------------------\nsage: U.<y,t> = GF(2)[]  \nsage: f\ny*t^8 + y^5*t^2 + y*t^6 + t^7 + y^6 + y^5*t + y^2*t^4 + y^2*t^2 + y^2*t + t^3 + y^2 + t^2\nsage: f.factor()\ny*t^8 + y^5*t^2 + y*t^6 + t^7 + y^6 + y^5*t + y^2*t^4 + y^2*t^2 + y^2*t + t^3 + y^2 + t^2\nsage: f % (t^2+t+y+1)\n0\n```\nWhen will Sage be usable for this kind of computation?\n\n**spkg**: http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-5.p9.spkg ([attachment:singular-3-1-5.p9.diff\u200b spkg diff])\n\n**apply** [attachment:trac_13770.patch]\n\nSee also upstream [https://github.com/Singular/Sources/pull/215](https://github.com/Singular/Sources/pull/215)\n\n**Assignee:** @malb\n\n**CC:**  @malb simonking alexanderdreyer\n\n**Keywords:** sd53, singular, polynomial, factorization\n\n**Upstream:** Fixed upstream, but not in a stable release.\n\n**Reviewer:** Jean-Pierre Flori\n\n**Author:** Paul Zimmermann, Jeroen Demeyer\n\n**Merged:** sage-5.12.rc0\n\nIssue created by migration from https://trac.sagemath.org/ticket/13770\n\n",
    "closed_at": "2013-10-01T07:16:02Z",
    "created_at": "2012-11-28T10:25:01Z",
    "labels": [
        "component: commutative algebra",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "bug in multivariate factorization over prime fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13770",
    "user": "https://github.com/zimmermann6"
}
```
after #11829, #11838, #12918, #12928, here is another bug in multivariate factorization over prime fields:

```
----------------------------------------------------------------------
| Sage Version 5.4.1, Release Date: 2012-11-15                       |
| Type "notebook()" for the browser-based notebook interface.        |
| Type "help()" for help.                                            |
----------------------------------------------------------------------
sage: U.<y,t> = GF(2)[]  
sage: f
y*t^8 + y^5*t^2 + y*t^6 + t^7 + y^6 + y^5*t + y^2*t^4 + y^2*t^2 + y^2*t + t^3 + y^2 + t^2
sage: f.factor()
y*t^8 + y^5*t^2 + y*t^6 + t^7 + y^6 + y^5*t + y^2*t^4 + y^2*t^2 + y^2*t + t^3 + y^2 + t^2
sage: f % (t^2+t+y+1)
0
```
When will Sage be usable for this kind of computation?

**spkg**: http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-5.p9.spkg ([attachment:singular-3-1-5.p9.diff​ spkg diff])

**apply** [attachment:trac_13770.patch]

See also upstream [https://github.com/Singular/Sources/pull/215](https://github.com/Singular/Sources/pull/215)

**Assignee:** @malb

**CC:**  @malb simonking alexanderdreyer

**Keywords:** sd53, singular, polynomial, factorization

**Upstream:** Fixed upstream, but not in a stable release.

**Reviewer:** Jean-Pierre Flori

**Author:** Paul Zimmermann, Jeroen Demeyer

**Merged:** sage-5.12.rc0

Issue created by migration from https://trac.sagemath.org/ticket/13770





---

archive/issue_comments_200690.json:
```json
{
    "body": "<a id='comment:1'></a>\nmaybe one should consider replacing Singular by another more reliable component?\n\nPaul",
    "created_at": "2012-11-28T10:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200690",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:1'></a>
maybe one should consider replacing Singular by another more reliable component?

Paul



---

archive/issue_comments_200691.json:
```json
{
    "body": "<a id='comment:2'></a>\nPaul,\n\nto be fair #13672 isn't a bug in Singular but an issue with Pari and how we use it. Also, I am not sure there is a component we could use besides Singular for factoring. In any case, I've forwarded your bug report.",
    "created_at": "2012-11-28T11:01:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200691",
    "user": "https://github.com/malb"
}
```

<a id='comment:2'></a>
Paul,

to be fair #13672 isn't a bug in Singular but an issue with Pari and how we use it. Also, I am not sure there is a component we could use besides Singular for factoring. In any case, I've forwarded your bug report.



---

archive/issue_comments_200692.json:
```json
{
    "body": "**Changing upstream** from \"N/A\" to \"Reported upstream. No feedback yet.\".",
    "created_at": "2012-11-28T11:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200692",
    "user": "https://github.com/koffie"
}
```

**Changing upstream** from "N/A" to "Reported upstream. No feedback yet.".



---

archive/issue_comments_200693.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-after #11829, #11838, #12918, #12928, #13672, here is another bug in multivariate arithmetic over prime fields:\n+after #11829, #11838, #12918, #12928, here is another bug in multivariate factorization over prime fields:\n \n ```\n ----------------------------------------------------------------------\n``````\n",
    "created_at": "2012-11-28T11:38:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200693",
    "user": "https://github.com/zimmermann6"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-after #11829, #11838, #12918, #12928, #13672, here is another bug in multivariate arithmetic over prime fields:
+after #11829, #11838, #12918, #12928, here is another bug in multivariate factorization over prime fields:
 
 ```
 ----------------------------------------------------------------------
``````




---

archive/issue_comments_200694.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [zimmerma](#comment%3A1):\n> maybe one should consider replacing Singular by another more reliable component?\n\nIf there were any (for multivariate polynomials etc.), we would immediately use it in Singular.\nBTW: when reported upstream, the response time is quite good, I think.",
    "created_at": "2012-11-28T11:50:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200694",
    "user": "https://github.com/alexanderdreyer"
}
```

<a id='comment:5'></a>
Replying to [zimmerma](#comment%3A1):
> maybe one should consider replacing Singular by another more reliable component?

If there were any (for multivariate polynomials etc.), we would immediately use it in Singular.
BTW: when reported upstream, the response time is quite good, I think.



---

archive/issue_comments_200695.json:
```json
{
    "body": "**Changing upstream** from \"Reported upstream. No feedback yet.\" to \"Fixed upstream, but not in a stable release.\".",
    "created_at": "2012-12-03T12:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200695",
    "user": "https://github.com/zimmermann6"
}
```

**Changing upstream** from "Reported upstream. No feedback yet." to "Fixed upstream, but not in a stable release.".



---

archive/issue_comments_200696.json:
```json
{
    "body": "<a id='comment:7'></a>\nfrom Martin Lee:\n> I have just committed a fix for this under 15453.\n",
    "created_at": "2012-12-03T12:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200696",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:7'></a>
from Martin Lee:
> I have just committed a fix for this under 15453.




---

archive/issue_events_044977.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13770#event-44977"
}
```



---

archive/issue_comments_200697.json:
```json
{
    "body": "<a id='comment:9'></a>\nMartin Lee tells me the bug is fixed by this commit: https://github.com/Singular/Sources/pull/215\n\nAlso it is fixed in Singular 3-1-6. Any plan to upgrade the Singular version?\n\nMartin also tells me Singular 3-1-7 is planned within the next month.\n\nPaul",
    "created_at": "2013-08-23T16:24:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200697",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:9'></a>
Martin Lee tells me the bug is fixed by this commit: https://github.com/Singular/Sources/pull/215

Also it is fixed in Singular 3-1-6. Any plan to upgrade the Singular version?

Martin also tells me Singular 3-1-7 is planned within the next month.

Paul



---

archive/attachments_018630.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_13770.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket13770/trac_13770.patch",
    "created_at": "2013-08-24T07:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/zimmermann6"
}
```



---

archive/issue_comments_200698.json:
```json
{
    "body": "",
    "created_at": "2013-08-24T07:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200698",
    "user": "https://github.com/zimmermann6"
}
```





---

archive/issue_comments_200699.json:
```json
{
    "body": "**Author:** Paul Zimmermann",
    "created_at": "2013-08-24T07:26:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200699",
    "user": "https://github.com/zimmermann6"
}
```

**Author:** Paul Zimmermann



---

archive/issue_comments_200700.json:
```json
{
    "body": "<a id='comment:10'></a>\non http://www.loria.fr/~zimmerma/singular-3-1-5.p8.spkg I've put an updated Singular spkg which includes the first patch of https://github.com/Singular/Sources/pull/215. This seems to be enough to solve this bug.\n\nThe attached patch adds a non-regression test.\n\nPaul",
    "created_at": "2013-08-24T07:26:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200700",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:10'></a>
on http://www.loria.fr/~zimmerma/singular-3-1-5.p8.spkg I've put an updated Singular spkg which includes the first patch of https://github.com/Singular/Sources/pull/215. This seems to be enough to solve this bug.

The attached patch adds a non-regression test.

Paul



---

archive/issue_comments_200701.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2013-08-24T07:26:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200701",
    "user": "https://github.com/zimmermann6"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_200702.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [zimmerma](#comment%3A10):\n> on http://www.loria.fr/~zimmerma/singular-3-1-5.p8.spkg I've put an updated Singular spkg which includes the first patch of https://github.com/Singular/Sources/pull/215.\n\nWouldn't it be safer to include all four commits? Did you check whether this solves #14658?",
    "created_at": "2013-08-24T08:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200702",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Replying to [zimmerma](#comment%3A10):
> on http://www.loria.fr/~zimmerma/singular-3-1-5.p8.spkg I've put an updated Singular spkg which includes the first patch of https://github.com/Singular/Sources/pull/215.

Wouldn't it be safer to include all four commits? Did you check whether this solves #14658?



---

archive/issue_comments_200703.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -16,4 +16,6 @@\n ```\n When will Sage be usable for this kind of computation?\n \n-Paul Zimmermann\n+**spkg**: \u200bhttp://www.loria.fr/~zimmerma/singular-3-1-5.p8.spkg\n+\n+**apply** [attachment:trac_13770.patch]\n``````\n",
    "created_at": "2013-08-24T08:18:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200703",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -16,4 +16,6 @@
 ```
 When will Sage be usable for this kind of computation?
 
-Paul Zimmermann
+**spkg**: ​http://www.loria.fr/~zimmerma/singular-3-1-5.p8.spkg
+
+**apply** [attachment:trac_13770.patch]
``````




---

archive/issue_comments_200704.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -19,3 +19,5 @@\n **spkg**: \u200bhttp://www.loria.fr/~zimmerma/singular-3-1-5.p8.spkg\n \n **apply** [attachment:trac_13770.patch]\n+\n+See also upstream [https://github.com/Singular/Sources/pull/215](https://github.com/Singular/Sources/pull/215)\n``````\n",
    "created_at": "2013-08-24T08:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200704",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -19,3 +19,5 @@
 **spkg**: ​http://www.loria.fr/~zimmerma/singular-3-1-5.p8.spkg
 
 **apply** [attachment:trac_13770.patch]
+
+See also upstream [https://github.com/Singular/Sources/pull/215](https://github.com/Singular/Sources/pull/215)
``````




---

archive/issue_comments_200705.json:
```json
{
    "body": "<a id='comment:14'></a>\nJeroen,\n\n> Wouldn't it be safer to include all four commits?\n\n\nindeed (maybe only the first three, since the last one only adds tests). But I didn't know how to extract the diff, thus I edited the Singular source file manually, it took then several hours on my laptop to recompile the spkg and rebuild Sage, thus I was quite happy it worked (currently running\nsage -t --long).\n\n> Did you check whether this solves #14658?\n\n\nunfortunately not. The first example of #14658 does no longer produce an error (same with vanilla 5.11 btw) but the factorization is incomplete:\n\n```\nsage: R.<x1,x2,x3> = QQ['x1,x2,x3']                              \nsage: f = (x1+x2+x3)*(2*x1-x2+x3+2)*(4*x1+x2+x3+2)*(8*x1-x2+x3+4)\nsage: f.factor()                                                 \n(x1 + x2 + x3) * (64*x1^3 - 24*x1^2*x2 - 6*x1*x2^2 + x2^3 + 56*x1^2*x3 - 8*x1*x2*x3 - x2^2*x3 + 14*x1*x3^2 - x2*x3^2 + x3^3 + 128*x1^2 - 20*x1*x2 - 4*x2^2 + 68*x1*x3 - 4*x2*x3 + 8*x3^2 + 80*x1 - 4*x2 + 20*x3 + 16)\n```\nThe other example still breaks with `Floating point exception`.\n\nPaul",
    "created_at": "2013-08-24T08:54:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200705",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:14'></a>
Jeroen,

> Wouldn't it be safer to include all four commits?


indeed (maybe only the first three, since the last one only adds tests). But I didn't know how to extract the diff, thus I edited the Singular source file manually, it took then several hours on my laptop to recompile the spkg and rebuild Sage, thus I was quite happy it worked (currently running
sage -t --long).

> Did you check whether this solves #14658?


unfortunately not. The first example of #14658 does no longer produce an error (same with vanilla 5.11 btw) but the factorization is incomplete:

```
sage: R.<x1,x2,x3> = QQ['x1,x2,x3']                              
sage: f = (x1+x2+x3)*(2*x1-x2+x3+2)*(4*x1+x2+x3+2)*(8*x1-x2+x3+4)
sage: f.factor()                                                 
(x1 + x2 + x3) * (64*x1^3 - 24*x1^2*x2 - 6*x1*x2^2 + x2^3 + 56*x1^2*x3 - 8*x1*x2*x3 - x2^2*x3 + 14*x1*x3^2 - x2*x3^2 + x3^3 + 128*x1^2 - 20*x1*x2 - 4*x2^2 + 68*x1*x3 - 4*x2*x3 + 8*x3^2 + 80*x1 - 4*x2 + 20*x3 + 16)
```
The other example still breaks with `Floating point exception`.

Paul



---

archive/issue_comments_200706.json:
```json
{
    "body": "<a id='comment:15'></a>\nmy Singular spkg was corrupted. I made a new one (same url).\n\nPaul",
    "created_at": "2013-08-26T10:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200706",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:15'></a>
my Singular spkg was corrupted. I made a new one (same url).

Paul



---

archive/issue_comments_200707.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2013-08-26T10:50:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200707",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_200708.json:
```json
{
    "body": "<a id='comment:16'></a>\nWhen updating a spkg, you should add a Changelog entry in `SPKG.txt`. Also, changes should be committed to the Mercurial repo (`hg add patches/singular_13770.patch` and `hg commit`).\n\nI will make these changes and try to use the 3 commits from the upstream pull request.",
    "created_at": "2013-08-26T10:50:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200708",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
When updating a spkg, you should add a Changelog entry in `SPKG.txt`. Also, changes should be committed to the Mercurial repo (`hg add patches/singular_13770.patch` and `hg commit`).

I will make these changes and try to use the 3 commits from the upstream pull request.



---

archive/issue_comments_200709.json:
```json
{
    "body": "**Changing author** from \"Paul Zimmermann\" to \"Paul ZImmermann, Jeroen Demeyer\".",
    "created_at": "2013-08-26T10:50:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200709",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "Paul Zimmermann" to "Paul ZImmermann, Jeroen Demeyer".



---

archive/issue_comments_200710.json:
```json
{
    "body": "<a id='comment:17'></a>\nTo download patches from github, see [http://stackoverflow.com/questions/6188591/download-github-pull-request-as-unified-diff](http://stackoverflow.com/questions/6188591/download-github-pull-request-as-unified-diff) (I agree it is hard to find out)",
    "created_at": "2013-08-26T10:52:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200710",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
To download patches from github, see [http://stackoverflow.com/questions/6188591/download-github-pull-request-as-unified-diff](http://stackoverflow.com/questions/6188591/download-github-pull-request-as-unified-diff) (I agree it is hard to find out)



---

archive/issue_comments_200711.json:
```json
{
    "body": "<a id='comment:18'></a>\nAlso rebasing to #14737.",
    "created_at": "2013-08-26T10:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200711",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>
Also rebasing to #14737.



---

archive/issue_comments_200712.json:
```json
{
    "body": "<a id='comment:19'></a>\nthank you Jeroen for the pointers. I thus let you continue on this ticket.\n\nPaul",
    "created_at": "2013-08-26T11:13:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200712",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:19'></a>
thank you Jeroen for the pointers. I thus let you continue on this ticket.

Paul



---

archive/issue_comments_200713.json:
```json
{
    "body": "**Changing author** from \"Paul ZImmermann, Jeroen Demeyer\" to \"Paul Zimmermann, Jeroen Demeyer\".",
    "created_at": "2013-08-26T11:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200713",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "Paul ZImmermann, Jeroen Demeyer" to "Paul Zimmermann, Jeroen Demeyer".



---

archive/issue_comments_200714.json:
```json
{
    "body": "<a id='comment:21'></a>\njust answering to my own question:\n\n> Also it is fixed in Singular 3-1-6. Any plan to upgrade the Singular version?\n\n\nthis is planned in #14333\n\nPaul",
    "created_at": "2013-08-26T11:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200714",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:21'></a>
just answering to my own question:

> Also it is fixed in Singular 3-1-6. Any plan to upgrade the Singular version?


this is planned in #14333

Paul



---

archive/issue_comments_200715.json:
```json
{
    "body": "**Changing author** from \"Paul Zimmermann, Jeroen Demeyer\" to \"Paul ZImmermann, Jeroen Demeyer\".",
    "created_at": "2013-08-26T11:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200715",
    "user": "https://github.com/zimmermann6"
}
```

**Changing author** from "Paul Zimmermann, Jeroen Demeyer" to "Paul ZImmermann, Jeroen Demeyer".



---

archive/issue_comments_200716.json:
```json
{
    "body": "**Changing author** from \"Paul ZImmermann, Jeroen Demeyer\" to \"Paul Zimmermann, Jeroen Demeyer\".",
    "created_at": "2013-08-26T12:03:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200716",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "Paul ZImmermann, Jeroen Demeyer" to "Paul Zimmermann, Jeroen Demeyer".



---

archive/issue_comments_200717.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -16,7 +16,7 @@\n ```\n When will Sage be usable for this kind of computation?\n \n-**spkg**: \u200bhttp://www.loria.fr/~zimmerma/singular-3-1-5.p8.spkg\n+**spkg**: http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-5.p9.spkg\n \n **apply** [attachment:trac_13770.patch]\n \n``````\n",
    "created_at": "2013-08-26T14:19:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200717",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -16,7 +16,7 @@
 ```
 When will Sage be usable for this kind of computation?
 
-**spkg**: ​http://www.loria.fr/~zimmerma/singular-3-1-5.p8.spkg
+**spkg**: http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-5.p9.spkg
 
 **apply** [attachment:trac_13770.patch]
 
``````




---

archive/attachments_018631.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "singular-3-1-5.p9.diff",
    "asset_url": "tarball://root/attachments/some-uuid/ticket13770/singular-3-1-5.p9.diff",
    "created_at": "2013-08-26T14:19:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.diff",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_200718.json:
```json
{
    "body": "",
    "created_at": "2013-08-26T14:19:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200718",
    "user": "https://github.com/jdemeyer"
}
```





---

archive/issue_comments_200719.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -16,7 +16,7 @@\n ```\n When will Sage be usable for this kind of computation?\n \n-**spkg**: http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-5.p9.spkg\n+**spkg**: http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-5.p9.spkg ([attachment:singular-3-1-5.p9.diff\u200b spkg diff])\n \n **apply** [attachment:trac_13770.patch]\n \n``````\n",
    "created_at": "2013-08-26T14:20:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200719",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -16,7 +16,7 @@
 ```
 When will Sage be usable for this kind of computation?
 
-**spkg**: http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-5.p9.spkg
+**spkg**: http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-5.p9.spkg ([attachment:singular-3-1-5.p9.diff​ spkg diff])
 
 **apply** [attachment:trac_13770.patch]
 
``````




---

archive/issue_comments_200720.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2013-08-26T14:36:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200720",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_200721.json:
```json
{
    "body": "<a id='comment:25'></a>\nNew spkg is up, but I still need to test it properly myself.",
    "created_at": "2013-08-26T14:36:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200721",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>
New spkg is up, but I still need to test it properly myself.



---

archive/issue_comments_200722.json:
```json
{
    "body": "<a id='comment:26'></a>\n#14658 is still not fixed:\n\n```\nsage: R.<x1,x2,x3> = QQ['x1,x2,x3']\nsage: f = (x1+x2+x3)*(2*x1-x2+x3+2)*(4*x1+x2+x3+2)*(8*x1-x2+x3+4)\nsage: f.factor()\n(x1 + x2 + x3) * (2*x1 - x2 + x3 + 2) * (32*x1^2 + 4*x1*x2 - x2^2 + 12*x1*x3 + x3^2 + 32*x1 + 2*x2 + 6*x3 + 8)\n```\nNote that we do not even get deterministic answers:\n\n```\nsage: f.factor()\n(x1 + x2 + x3) * (64*x1^3 - 24*x1^2*x2 - 6*x1*x2^2 + x2^3 + 56*x1^2*x3 - 8*x1*x2*x3 - x2^2*x3 + 14*x1*x3^2 - x2*x3^2 + x3^3 + 128*x1^2 - 20*x1*x2 - 4*x2^2 + 68*x1*x3 - 4*x2*x3 + 8*x3^2 + 80*x1 - 4*x2 + 20*x3 + 16)\nsage: f.factor()\n(x1 + x2 + x3) * (64*x1^3 - 24*x1^2*x2 - 6*x1*x2^2 + x2^3 + 56*x1^2*x3 - 8*x1*x2*x3 - x2^2*x3 + 14*x1*x3^2 - x2*x3^2 + x3^3 + 128*x1^2 - 20*x1*x2 - 4*x2^2 + 68*x1*x3 - 4*x2*x3 + 8*x3^2 + 80*x1 - 4*x2 + 20*x3 + 16)\nsage: f.factor()\n(x1 + x2 + x3) * (2*x1 - x2 + x3 + 2) * (32*x1^2 + 4*x1*x2 - x2^2 + 12*x1*x3 + x3^2 + 32*x1 + 2*x2 + 6*x3 + 8)\nsage: f.factor()\n(x1 + x2 + x3) * (64*x1^3 - 24*x1^2*x2 - 6*x1*x2^2 + x2^3 + 56*x1^2*x3 - 8*x1*x2*x3 - x2^2*x3 + 14*x1*x3^2 - x2*x3^2 + x3^3 + 128*x1^2 - 20*x1*x2 - 4*x2^2 + 68*x1*x3 - 4*x2*x3 + 8*x3^2 + 80*x1 - 4*x2 + 20*x3 + 16)\nsage: f.factor()\n(x1 + x2 + x3) * (8*x1 - x2 + x3 + 4) * (8*x1^2 - 2*x1*x2 - x2^2 + 6*x1*x3 + x3^2 + 12*x1 + 4*x3 + 4)\nsage: f.factor()\n(x1 + x2 + x3) * (64*x1^3 - 24*x1^2*x2 - 6*x1*x2^2 + x2^3 + 56*x1^2*x3 - 8*x1*x2*x3 - x2^2*x3 + 14*x1*x3^2 - x2*x3^2 + x3^3 + 128*x1^2 - 20*x1*x2 - 4*x2^2 + 68*x1*x3 - 4*x2*x3 + 8*x3^2 + 80*x1 - 4*x2 + 20*x3 + 16)\nsage: f.factor()\n(x1 + x2 + x3) * (8*x1 - x2 + x3 + 4) * (8*x1^2 - 2*x1*x2 - x2^2 + 6*x1*x3 + x3^2 + 12*x1 + 4*x3 + 4)\nsage: f.factor()\n(x1 + x2 + x3) * (64*x1^3 - 24*x1^2*x2 - 6*x1*x2^2 + x2^3 + 56*x1^2*x3 - 8*x1*x2*x3 - x2^2*x3 + 14*x1*x3^2 - x2*x3^2 + x3^3 + 128*x1^2 - 20*x1*x2 - 4*x2^2 + 68*x1*x3 - 4*x2*x3 + 8*x3^2 + 80*x1 - 4*x2 + 20*x3 + 16)\nsage: f.factor()\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n<ipython-input-25-429743410e57> in <module>()\n----> 1 f.factor()\n\n/localdisk/tmp/sage-5.11/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_libsingular.so in sage.rings.polynomial.multi_polynomial_libsingular.MPolynomial_libsingular.factor (sage/rings/polynomial/multi_polynomial_libsingular.cpp:26013)()\n\nRuntimeError: Segmentation fault\n```",
    "created_at": "2013-08-26T15:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200722",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:26'></a>
#14658 is still not fixed:

```
sage: R.<x1,x2,x3> = QQ['x1,x2,x3']
sage: f = (x1+x2+x3)*(2*x1-x2+x3+2)*(4*x1+x2+x3+2)*(8*x1-x2+x3+4)
sage: f.factor()
(x1 + x2 + x3) * (2*x1 - x2 + x3 + 2) * (32*x1^2 + 4*x1*x2 - x2^2 + 12*x1*x3 + x3^2 + 32*x1 + 2*x2 + 6*x3 + 8)
```
Note that we do not even get deterministic answers:

```
sage: f.factor()
(x1 + x2 + x3) * (64*x1^3 - 24*x1^2*x2 - 6*x1*x2^2 + x2^3 + 56*x1^2*x3 - 8*x1*x2*x3 - x2^2*x3 + 14*x1*x3^2 - x2*x3^2 + x3^3 + 128*x1^2 - 20*x1*x2 - 4*x2^2 + 68*x1*x3 - 4*x2*x3 + 8*x3^2 + 80*x1 - 4*x2 + 20*x3 + 16)
sage: f.factor()
(x1 + x2 + x3) * (64*x1^3 - 24*x1^2*x2 - 6*x1*x2^2 + x2^3 + 56*x1^2*x3 - 8*x1*x2*x3 - x2^2*x3 + 14*x1*x3^2 - x2*x3^2 + x3^3 + 128*x1^2 - 20*x1*x2 - 4*x2^2 + 68*x1*x3 - 4*x2*x3 + 8*x3^2 + 80*x1 - 4*x2 + 20*x3 + 16)
sage: f.factor()
(x1 + x2 + x3) * (2*x1 - x2 + x3 + 2) * (32*x1^2 + 4*x1*x2 - x2^2 + 12*x1*x3 + x3^2 + 32*x1 + 2*x2 + 6*x3 + 8)
sage: f.factor()
(x1 + x2 + x3) * (64*x1^3 - 24*x1^2*x2 - 6*x1*x2^2 + x2^3 + 56*x1^2*x3 - 8*x1*x2*x3 - x2^2*x3 + 14*x1*x3^2 - x2*x3^2 + x3^3 + 128*x1^2 - 20*x1*x2 - 4*x2^2 + 68*x1*x3 - 4*x2*x3 + 8*x3^2 + 80*x1 - 4*x2 + 20*x3 + 16)
sage: f.factor()
(x1 + x2 + x3) * (8*x1 - x2 + x3 + 4) * (8*x1^2 - 2*x1*x2 - x2^2 + 6*x1*x3 + x3^2 + 12*x1 + 4*x3 + 4)
sage: f.factor()
(x1 + x2 + x3) * (64*x1^3 - 24*x1^2*x2 - 6*x1*x2^2 + x2^3 + 56*x1^2*x3 - 8*x1*x2*x3 - x2^2*x3 + 14*x1*x3^2 - x2*x3^2 + x3^3 + 128*x1^2 - 20*x1*x2 - 4*x2^2 + 68*x1*x3 - 4*x2*x3 + 8*x3^2 + 80*x1 - 4*x2 + 20*x3 + 16)
sage: f.factor()
(x1 + x2 + x3) * (8*x1 - x2 + x3 + 4) * (8*x1^2 - 2*x1*x2 - x2^2 + 6*x1*x3 + x3^2 + 12*x1 + 4*x3 + 4)
sage: f.factor()
(x1 + x2 + x3) * (64*x1^3 - 24*x1^2*x2 - 6*x1*x2^2 + x2^3 + 56*x1^2*x3 - 8*x1*x2*x3 - x2^2*x3 + 14*x1*x3^2 - x2*x3^2 + x3^3 + 128*x1^2 - 20*x1*x2 - 4*x2^2 + 68*x1*x3 - 4*x2*x3 + 8*x3^2 + 80*x1 - 4*x2 + 20*x3 + 16)
sage: f.factor()
---------------------------------------------------------------------------
RuntimeError                              Traceback (most recent call last)
<ipython-input-25-429743410e57> in <module>()
----> 1 f.factor()

/localdisk/tmp/sage-5.11/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_libsingular.so in sage.rings.polynomial.multi_polynomial_libsingular.MPolynomial_libsingular.factor (sage/rings/polynomial/multi_polynomial_libsingular.cpp:26013)()

RuntimeError: Segmentation fault
```



---

archive/issue_comments_200723.json:
```json
{
    "body": "<a id='comment:27'></a>\nPasses all tests on the buildbot, so needs_review for real.",
    "created_at": "2013-08-28T06:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200723",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>
Passes all tests on the buildbot, so needs_review for real.



---

archive/issue_comments_200724.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2013-09-27T18:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200724",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_200725.json:
```json
{
    "body": "**Reviewer:** Jean-Pierre Flori",
    "created_at": "2013-09-27T18:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200725",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Reviewer:** Jean-Pierre Flori



---

archive/issue_comments_200726.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"sd53, singular, polynomial, factorization\".",
    "created_at": "2013-09-27T18:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200726",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing keywords** from "" to "sd53, singular, polynomial, factorization".



---

archive/issue_comments_200727.json:
```json
{
    "body": "<a id='comment:28'></a>\nLooks good.\nLets get this in even though updating to Singular 3-1-6 or even 3-1-7 should supersede it, but needs more serious work.\n(Moreover singular website is down right now.)",
    "created_at": "2013-09-27T18:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200727",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:28'></a>
Looks good.
Lets get this in even though updating to Singular 3-1-6 or even 3-1-7 should supersede it, but needs more serious work.
(Moreover singular website is down right now.)



---

archive/issue_events_044978.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-01T07:16:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13770#event-44978"
}
```



---

archive/issue_comments_200728.json:
```json
{
    "body": "**Merged:** sage-5.12.rc0",
    "created_at": "2013-10-01T07:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13770#issuecomment-200728",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.12.rc0
