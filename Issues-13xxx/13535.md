# Issue 13535: Fix instrospection/... in live documentation with the flask notebook

archive/issues_013331.json:
```json
{
    "body": "How to reproduce on Sage 5.3 main on Unbuntu 11.10. Run:\n\n```\n   sage -notebook\n```\n\nGo to any help page, and type in\n\n```\n   o = 3\n   o.<tab>\n```\n\nNothing happens and the following traceback appears in the terminal\nwhere sage-notebook was launched:\n\n```\nTraceback (most recent call last):\n  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/threadpool.py\", line 190, in _worker\n    o = self.q.get()\n  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py\", line 118, in callWithContext\n    return self.currentContext().callWithContext(ctx, func, *args, **kw)\n  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py\", line 83, in callWithContext\n    self.contexts.pop()\n  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py\", line 340, in run\n    self.started = True\n--- <exception caught here> ---\n  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py\", line 315, in run\n    appIterator = self.application(self.environ, self.startResponse)\n  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1701, in __call__\n    return self.wsgi_app(environ, start_response)\n  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1689, in wsgi_app\n    response = self.make_response(self.handle_exception(e))\n  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1687, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1360, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1358, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1344, in dispatch_request\n    return self.view_functions[rule.endpoint](**req.view_args)\n  File \"/opt/sage-5.3/devel/sagenb/flask_version/decorators.py\", line 27, in wrapper\n    return f(*args, **kwds)\n  File \"/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py\", line 45, in wrapper\n    return f(username, id, **kwds)\n  File \"/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py\", line 115, in wrapper\n    raise NotImplementedError(\"User _sage_ can not access URL %s\"%target)\nexceptions.NotImplementedError: User _sage_ can not access URL introspect\n```\n\nThere is no such failure in 5.1.\n\nThe attached patch fixes the white list to enable some missing notebook\nactions and features in the live documentation:\n\n- Introspection\n- Delete all output\n- Copy worksheet\n- New cell after\n- Restart Sage\n\nThere certainly are more of them that should be added. I let a notebook expert complete the list.\n\n\nAssignee: jason, mpatel, was\n\nKeywords: agregation, bobo2012\n\nUpstream: Workaround found; Bug reported upstream.\n\nReviewer: Nicolas M. Thi\u00e9ry, Karl-Dieter Crisman\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13535\n\n",
    "closed_at": "2014-10-27T16:26:20Z",
    "created_at": "2012-09-25T21:00:51Z",
    "labels": [
        "component: notebook",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Fix instrospection/... in live documentation with the flask notebook",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13535",
    "user": "https://github.com/nthiery"
}
```
How to reproduce on Sage 5.3 main on Unbuntu 11.10. Run:

```
   sage -notebook
```

Go to any help page, and type in

```
   o = 3
   o.<tab>
```

Nothing happens and the following traceback appears in the terminal
where sage-notebook was launched:

```
Traceback (most recent call last):
  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/threadpool.py", line 190, in _worker
    o = self.q.get()
  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py", line 118, in callWithContext
    return self.currentContext().callWithContext(ctx, func, *args, **kw)
  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py", line 83, in callWithContext
    self.contexts.pop()
  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py", line 340, in run
    self.started = True
--- <exception caught here> ---
  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py", line 315, in run
    appIterator = self.application(self.environ, self.startResponse)
  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1701, in __call__
    return self.wsgi_app(environ, start_response)
  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1689, in wsgi_app
    response = self.make_response(self.handle_exception(e))
  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1687, in wsgi_app
    response = self.full_dispatch_request()
  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1360, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1358, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1344, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/opt/sage-5.3/devel/sagenb/flask_version/decorators.py", line 27, in wrapper
    return f(*args, **kwds)
  File "/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py", line 45, in wrapper
    return f(username, id, **kwds)
  File "/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py", line 115, in wrapper
    raise NotImplementedError("User _sage_ can not access URL %s"%target)
exceptions.NotImplementedError: User _sage_ can not access URL introspect
```

There is no such failure in 5.1.

The attached patch fixes the white list to enable some missing notebook
actions and features in the live documentation:

- Introspection
- Delete all output
- Copy worksheet
- New cell after
- Restart Sage

There certainly are more of them that should be added. I let a notebook expert complete the list.


Assignee: jason, mpatel, was

Keywords: agregation, bobo2012

Upstream: Workaround found; Bug reported upstream.

Reviewer: Nicolas M. Thi√©ry, Karl-Dieter Crisman

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/13535





---

archive/issue_comments_174319.json:
```json
{
    "body": "<a id='comment:1'></a>In case this would be related, I just got the following message \"exceptions.NotImplementedError: User _sage_ can not access URL copy\" while trying to make a copy of such a dynamic help page.",
    "created_at": "2012-09-25T22:12:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174319",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:1'></a>In case this would be related, I just got the following message "exceptions.NotImplementedError: User _sage_ can not access URL copy" while trying to make a copy of such a dynamic help page.



---

archive/issue_comments_174320.json:
```json
{
    "body": "Changing keywords from \"\" to \"agregation\".",
    "created_at": "2012-10-02T15:11:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174320",
    "user": "https://github.com/nthiery"
}
```

Changing keywords from "" to "agregation".



---

archive/issue_comments_174321.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-11-13T10:00:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174321",
    "user": "https://github.com/nthiery"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_174322.json:
```json
{
    "body": "Changing keywords from \"agregation\" to \"agregation, bobo2012\".",
    "created_at": "2012-11-13T10:00:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174322",
    "user": "https://github.com/nthiery"
}
```

Changing keywords from "agregation" to "agregation, bobo2012".



---

archive/issue_comments_174323.json:
```json
{
    "body": "<a id='comment:4'></a>Attachment [trac_13535_live_introspection_flask-nt.patch](tarball://root/attachments/some-uuid/ticket13535/trac_13535_live_introspection_flask-nt.patch) by @nthiery created at 2012-11-13 10:03:28",
    "created_at": "2012-11-13T10:03:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174323",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:4'></a>Attachment [trac_13535_live_introspection_flask-nt.patch](tarball://root/attachments/some-uuid/ticket13535/trac_13535_live_introspection_flask-nt.patch) by @nthiery created at 2012-11-13 10:03:28



---

archive/issue_comments_174324.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -50,6 +50,18 @@\n \n There is no such failure in 5.1.\n \n+The attached patch fixes the white list to enable some missing notebook\n+actions and features in the live documentation:\n+\n+- Introspection\n+- Delete all output\n+- Copy worksheet\n+- New cell after\n+- Restart Sage\n+\n+There certainly are more of them that should be added. I let a notebook expert complete the list.\n+\n+\n Comment: 1\n \n Summary: Tab completion failing on dynamic help pages on 5.3\n``````\n",
    "created_at": "2012-11-13T10:03:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174324",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -50,6 +50,18 @@
 
 There is no such failure in 5.1.
 
+The attached patch fixes the white list to enable some missing notebook
+actions and features in the live documentation:
+
+- Introspection
+- Delete all output
+- Copy worksheet
+- New cell after
+- Restart Sage
+
+There certainly are more of them that should be added. I let a notebook expert complete the list.
+
+
 Comment: 1
 
 Summary: Tab completion failing on dynamic help pages on 5.3
``````




---

archive/issue_comments_174325.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-03-27T22:34:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174325",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_174326.json:
```json
{
    "body": "<a id='comment:5'></a>Keshav made this into a pull request on github. This ticket can be closed here.",
    "created_at": "2013-03-27T22:34:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174326",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:5'></a>Keshav made this into a pull request on github. This ticket can be closed here.



---

archive/issue_comments_174327.json:
```json
{
    "body": "<a id='comment:6'></a>Pull request: https://github.com/sagemath/sagenb/pull/143",
    "created_at": "2013-03-27T22:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174327",
    "user": "https://github.com/kini"
}
```

<a id='comment:6'></a>Pull request: https://github.com/sagemath/sagenb/pull/143



---

archive/issue_events_037566.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-03-27T22:40:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37566"
}
```



---

archive/issue_comments_174328.json:
```json
{
    "body": "<a id='comment:8'></a>I have changed this to \"reported upstream, developers acknowledge bug\".  Nicolas, we wouldn't close a ticket for an upstream bug until we actually merged that functionality into Sage - it isn't sufficient to just report the bug!  Who knows if it would ever be fixed?  Luckily, we have a \"good relationship\" with sagenb :) but with other spkgs, especially ones that are essentially not being developed any more, that may not be the case (see for instance #13947).  It doesn't seem reasonable to grant sagenb some sort of \"most favored\" status that assumes all bugs will eventually be addressed.\n\nIn fact, this isn't even *fixed* upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.",
    "created_at": "2013-03-28T14:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174328",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>I have changed this to "reported upstream, developers acknowledge bug".  Nicolas, we wouldn't close a ticket for an upstream bug until we actually merged that functionality into Sage - it isn't sufficient to just report the bug!  Who knows if it would ever be fixed?  Luckily, we have a "good relationship" with sagenb :) but with other spkgs, especially ones that are essentially not being developed any more, that may not be the case (see for instance #13947).  It doesn't seem reasonable to grant sagenb some sort of "most favored" status that assumes all bugs will eventually be addressed.

In fact, this isn't even *fixed* upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.



---

archive/issue_comments_174329.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2013-03-28T14:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174329",
    "user": "https://github.com/kcrisman"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_174330.json:
```json
{
    "body": "<a id='comment:9'></a>Yup, OK.",
    "created_at": "2013-03-28T14:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174330",
    "user": "https://github.com/kini"
}
```

<a id='comment:9'></a>Yup, OK.



---

archive/issue_comments_174331.json:
```json
{
    "body": "<a id='comment:10'></a>>In fact, this isn't even fixed upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.\n\n\nYes, probably, and probably even get into Sage relatively soon (I hope). See #14330.",
    "created_at": "2013-03-28T14:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174331",
    "user": "https://github.com/kini"
}
```

<a id='comment:10'></a>>In fact, this isn't even fixed upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.


Yes, probably, and probably even get into Sage relatively soon (I hope). See #14330.



---

archive/issue_events_037567.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-03-28T14:18:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37567"
}
```



---

archive/issue_events_037568.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-03-28T14:18:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "milestone": "sage-5.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37568"
}
```



---

archive/issue_comments_174332.json:
```json
{
    "body": "<a id='comment:11'></a>Hi Karl!\n\nReplying to [comment:8 kcrisman]:\n> I have changed this to \"reported upstream, developers acknowledge bug\".  Nicolas, we wouldn't close a ticket for an upstream bug until we actually merged that functionality into Sage - it isn't sufficient to just report the bug!  Who knows if it would ever be fixed?  Luckily, we have a \"good relationship\" with sagenb :) but with other spkgs, especially ones that are essentially not being developed any more, that may not be the case (see for instance #13947).  It doesn't seem reasonable to grant sagenb some sort of \"most favored\" status that assumes all bugs will eventually be addressed.\n> \n> In fact, this isn't even *fixed* upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.\n\n\nWell, I guess my idea was that this ticket should never have been\ncreated here in the first place, since notebook development occurs\nelsewhere. We don't want to create tickets here for every bug / pull\nrequest on the sagenb web-site, right?\n\nAnyway, I don't mind either way.\n\nCheers,\n                      Nicolas",
    "created_at": "2013-03-28T16:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174332",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:11'></a>Hi Karl!

Replying to [comment:8 kcrisman]:
> I have changed this to "reported upstream, developers acknowledge bug".  Nicolas, we wouldn't close a ticket for an upstream bug until we actually merged that functionality into Sage - it isn't sufficient to just report the bug!  Who knows if it would ever be fixed?  Luckily, we have a "good relationship" with sagenb :) but with other spkgs, especially ones that are essentially not being developed any more, that may not be the case (see for instance #13947).  It doesn't seem reasonable to grant sagenb some sort of "most favored" status that assumes all bugs will eventually be addressed.
> 
> In fact, this isn't even *fixed* upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.


Well, I guess my idea was that this ticket should never have been
created here in the first place, since notebook development occurs
elsewhere. We don't want to create tickets here for every bug / pull
request on the sagenb web-site, right?

Anyway, I don't mind either way.

Cheers,
                      Nicolas



---

archive/issue_comments_174333.json:
```json
{
    "body": "<a id='comment:12'></a>> Well, I guess my idea was that this ticket should never have been\n> created here in the first place, since notebook development occurs\n> elsewhere. We don't want to create tickets here for every bug / pull\n> request on the sagenb web-site, right?\n\n\nFor sure, but that argument would apply to other spkgs as well.  I think it *does* make sense to encourage people to report to sagenb.  Though I've noticed that things reported both places have much higher visibility, and it might make things more likely to be resolved if it's on the \"official\" Sage Trac.",
    "created_at": "2013-03-28T18:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174333",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>> Well, I guess my idea was that this ticket should never have been
> created here in the first place, since notebook development occurs
> elsewhere. We don't want to create tickets here for every bug / pull
> request on the sagenb web-site, right?


For sure, but that argument would apply to other spkgs as well.  I think it *does* make sense to encourage people to report to sagenb.  Though I've noticed that things reported both places have much higher visibility, and it might make things more likely to be resolved if it's on the "official" Sage Trac.



---

archive/issue_events_037569.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "milestone": "sage-5.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37569"
}
```



---

archive/issue_events_037570.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37570"
}
```



---

archive/issue_events_037571.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37571"
}
```



---

archive/issue_events_037572.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37572"
}
```



---

archive/issue_events_037573.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37573"
}
```



---

archive/issue_events_037574.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37574"
}
```



---

archive/issue_events_037575.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37575"
}
```



---

archive/issue_events_037576.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37576"
}
```



---

archive/issue_comments_174334.json:
```json
{
    "body": "<a id='comment:17'></a>This was fixed long ago by https://github.com/sagemath/sagenb/pull/143 as noted above.",
    "created_at": "2014-10-22T15:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174334",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:17'></a>This was fixed long ago by https://github.com/sagemath/sagenb/pull/143 as noted above.



---

archive/issue_events_037577.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-10-22T15:36:31Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37577"
}
```



---

archive/issue_events_037578.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-10-22T15:36:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37578"
}
```



---

archive/issue_comments_174335.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2014-10-22T15:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174335",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_events_037579.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-27T16:26:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13535#event-37579"
}
```



---

archive/issue_comments_174336.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-10-27T16:26:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174336",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_174337.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,65 @@\n+How to reproduce on Sage 5.3 main on Unbuntu 11.10. Run:\n+\n+```\n+   sage -notebook\n+```\n+\n+Go to any help page, and type in\n+\n+```\n+   o = 3\n+   o.<tab>\n+```\n+\n+Nothing happens and the following traceback appears in the terminal\n+where sage-notebook was launched:\n+\n+```\n+Traceback (most recent call last):\n+  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/threadpool.py\", line 190, in _worker\n+    o = self.q.get()\n+  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py\", line 118, in callWithContext\n+    return self.currentContext().callWithContext(ctx, func, *args, **kw)\n+  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py\", line 83, in callWithContext\n+    self.contexts.pop()\n+  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py\", line 340, in run\n+    self.started = True\n+--- <exception caught here> ---\n+  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py\", line 315, in run\n+    appIterator = self.application(self.environ, self.startResponse)\n+  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1701, in __call__\n+    return self.wsgi_app(environ, start_response)\n+  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1689, in wsgi_app\n+    response = self.make_response(self.handle_exception(e))\n+  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1687, in wsgi_app\n+    response = self.full_dispatch_request()\n+  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1360, in full_dispatch_request\n+    rv = self.handle_user_exception(e)\n+  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1358, in full_dispatch_request\n+    rv = self.dispatch_request()\n+  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1344, in dispatch_request\n+    return self.view_functions[rule.endpoint](**req.view_args)\n+  File \"/opt/sage-5.3/devel/sagenb/flask_version/decorators.py\", line 27, in wrapper\n+    return f(*args, **kwds)\n+  File \"/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py\", line 45, in wrapper\n+    return f(username, id, **kwds)\n+  File \"/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py\", line 115, in wrapper\n+    raise NotImplementedError(\"User _sage_ can not access URL %s\"%target)\n+exceptions.NotImplementedError: User _sage_ can not access URL introspect\n+```\n+\n+There is no such failure in 5.1.\n+\n+The attached patch fixes the white list to enable some missing notebook\n+actions and features in the live documentation:\n+\n+- Introspection\n+- Delete all output\n+- Copy worksheet\n+- New cell after\n+- Restart Sage\n+\n+There certainly are more of them that should be added. I let a notebook expert complete the list.\n \n \n Comment: 1\n``````\n",
    "created_at": "2015-09-06T13:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13535#issuecomment-174337",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,65 @@
+How to reproduce on Sage 5.3 main on Unbuntu 11.10. Run:
+
+```
+   sage -notebook
+```
+
+Go to any help page, and type in
+
+```
+   o = 3
+   o.<tab>
+```
+
+Nothing happens and the following traceback appears in the terminal
+where sage-notebook was launched:
+
+```
+Traceback (most recent call last):
+  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/threadpool.py", line 190, in _worker
+    o = self.q.get()
+  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py", line 118, in callWithContext
+    return self.currentContext().callWithContext(ctx, func, *args, **kw)
+  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py", line 83, in callWithContext
+    self.contexts.pop()
+  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py", line 340, in run
+    self.started = True
+--- <exception caught here> ---
+  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py", line 315, in run
+    appIterator = self.application(self.environ, self.startResponse)
+  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1701, in __call__
+    return self.wsgi_app(environ, start_response)
+  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1689, in wsgi_app
+    response = self.make_response(self.handle_exception(e))
+  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1687, in wsgi_app
+    response = self.full_dispatch_request()
+  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1360, in full_dispatch_request
+    rv = self.handle_user_exception(e)
+  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1358, in full_dispatch_request
+    rv = self.dispatch_request()
+  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1344, in dispatch_request
+    return self.view_functions[rule.endpoint](**req.view_args)
+  File "/opt/sage-5.3/devel/sagenb/flask_version/decorators.py", line 27, in wrapper
+    return f(*args, **kwds)
+  File "/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py", line 45, in wrapper
+    return f(username, id, **kwds)
+  File "/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py", line 115, in wrapper
+    raise NotImplementedError("User _sage_ can not access URL %s"%target)
+exceptions.NotImplementedError: User _sage_ can not access URL introspect
+```
+
+There is no such failure in 5.1.
+
+The attached patch fixes the white list to enable some missing notebook
+actions and features in the live documentation:
+
+- Introspection
+- Delete all output
+- Copy worksheet
+- New cell after
+- Restart Sage
+
+There certainly are more of them that should be added. I let a notebook expert complete the list.
 
 
 Comment: 1
``````

