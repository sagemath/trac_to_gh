# Issue 13557: Make the autotools spkg an optional spkg

archive/issues_013353.json:
```json
{
    "assignees": [],
    "body": "Instead of \"brute force\" building the `autotools` spkg, figure out the actual dependencies. Also add Texinfo. All this makes the spkg a lot more portable.\n\nI believe this makes the package mature enough to be upgraded from \"experimental\" to \"optional\".\n\n**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20121217.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20121217.spkg)\n\n### autotools-20121217 (Jeroen Demeyer, 17 December 2012)\n* Add proper dependency checking instead of bruce-force building.\n* Add texinfo package\n* Make the package portable\n* Add patch m4-no-gets.patch for m4\n\nDepends on #12707\n\nReviewer: **Volker Braun**\n\nAuthor: **Jeroen Demeyer**\n\nMerged: **sage-5.6.beta0**\n\nComponent: **packages: optional**\n\nDependencies: **recommended: #12707**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13557_\n\n",
    "closed_at": "2012-12-18T14:54:53Z",
    "created_at": "2012-10-01T13:49:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make the autotools spkg an optional spkg",
    "type": "issue",
    "updated_at": "2012-12-20T16:15:11Z",
    "url": "https://github.com/sagemath/sage/issues/13557",
    "user": "https://github.com/jdemeyer"
}
```
Instead of "brute force" building the `autotools` spkg, figure out the actual dependencies. Also add Texinfo. All this makes the spkg a lot more portable.

I believe this makes the package mature enough to be upgraded from "experimental" to "optional".

**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20121217.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20121217.spkg)

### autotools-20121217 (Jeroen Demeyer, 17 December 2012)
* Add proper dependency checking instead of bruce-force building.
* Add texinfo package
* Make the package portable
* Add patch m4-no-gets.patch for m4

Depends on #12707

Reviewer: **Volker Braun**

Author: **Jeroen Demeyer**

Merged: **sage-5.6.beta0**

Component: **packages: optional**

Dependencies: **recommended: #12707**

_Issue created by migration from https://trac.sagemath.org/ticket/13557_





---

archive/issue_events_190115.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-01T13:49:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "milestone_number": null,
    "milestone_title": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190115"
}
```



---

archive/issue_events_190116.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-01T13:49:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
    "label_color": "000080",
    "label_name": "c: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190116"
}
```



---

archive/issue_events_190117.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-01T13:49:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190117"
}
```



---

archive/issue_events_190118.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-01T13:49:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190118"
}
```



---

archive/issue_comments_158229.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Instead of \"brute force\" building the `autotools` spkg, figure out the actual dependencies.\n \n This will probably also make the spkg more portable.\n+\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg)\n``````\n",
    "created_at": "2012-10-01T14:39:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158229",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Instead of "brute force" building the `autotools` spkg, figure out the actual dependencies.
 
 This will probably also make the spkg more portable.
+
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg)
``````




---

archive/issue_events_190119.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-01T15:28:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190119"
}
```



---

archive/issue_events_190120.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-02T08:43:46Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "title_is": "Improve the autotools spkg",
    "title_was": "autotools spkg: add proper dependency checking",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190120"
}
```



---

archive/issue_events_190121.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-02T08:43:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190121"
}
```



---

archive/issue_events_190122.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-02T08:43:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190122"
}
```



---

archive/issue_comments_158230.json:
```json
{
    "body": "Dependencies: **#12707 (sort of)**",
    "created_at": "2012-10-02T19:42:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158230",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#12707 (sort of)**



---

archive/issue_comments_158231.json:
```json
{
    "body": "Changed dependencies from **#12707 (sort of)** to **recommended: #12707**",
    "created_at": "2012-10-03T06:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158231",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#12707 (sort of)** to **recommended: #12707**



---

archive/issue_comments_158232.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,7 @@\n-Instead of \"brute force\" building the `autotools` spkg, figure out the actual dependencies.\n-\n-This will probably also make the spkg more portable.\n+Instead of \"brute force\" building the `autotools` spkg, figure out the actual dependencies. Also add Texinfo. All this makes the spkg a lot more portable.\n \n **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg)\n+\n+### autotools-20120930 (Jeroen Demeyer, 3 October 2012)\n+* Add proper dependency checking instead of bruce-force building.\n+* Add texinfo package\n``````\n",
    "created_at": "2012-10-03T06:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158232",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,7 @@
-Instead of "brute force" building the `autotools` spkg, figure out the actual dependencies.
-
-This will probably also make the spkg more portable.
+Instead of "brute force" building the `autotools` spkg, figure out the actual dependencies. Also add Texinfo. All this makes the spkg a lot more portable.
 
 **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg)
+
+### autotools-20120930 (Jeroen Demeyer, 3 October 2012)
+* Add proper dependency checking instead of bruce-force building.
+* Add texinfo package
``````




---

archive/issue_comments_158233.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,4 @@\n ### autotools-20120930 (Jeroen Demeyer, 3 October 2012)\n * Add proper dependency checking instead of bruce-force building.\n * Add texinfo package\n+* Make the package portable\n``````\n",
    "created_at": "2012-10-03T11:59:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158233",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,4 @@
 ### autotools-20120930 (Jeroen Demeyer, 3 October 2012)
 * Add proper dependency checking instead of bruce-force building.
 * Add texinfo package
+* Make the package portable
``````




---

archive/issue_events_190123.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-03T14:56:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190123"
}
```



---

archive/issue_events_190124.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-03T14:56:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190124"
}
```



---

archive/issue_comments_158234.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n Instead of \"brute force\" building the `autotools` spkg, figure out the actual dependencies. Also add Texinfo. All this makes the spkg a lot more portable.\n+\n+I believe this makes the package mature enough to be upgraded from \"experimental\" to \"optional\".\n \n **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg)\n \n``````\n",
    "created_at": "2012-10-03T14:56:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158234",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 Instead of "brute force" building the `autotools` spkg, figure out the actual dependencies. Also add Texinfo. All this makes the spkg a lot more portable.
+
+I believe this makes the package mature enough to be upgraded from "experimental" to "optional".
 
 **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg)
 
``````




---

archive/issue_events_190125.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-03T14:56:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
    "label_color": "000080",
    "label_name": "c: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190125"
}
```



---

archive/issue_events_190126.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-03T14:56:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190126"
}
```



---

archive/issue_comments_158235.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nIf I undersand correctly after just looking at the diff from the previous version, you now use spkg-write-makefile to generate Makefile.build which is later used to build autotools et al. and requires Sage with autotools, whence the impossibility to generate it on the fly.\nBut, is there really no reason to track it in the Mercurial tree?",
    "created_at": "2012-10-03T19:46:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158235",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:8" align="right">comment:8</div>

If I undersand correctly after just looking at the diff from the previous version, you now use spkg-write-makefile to generate Makefile.build which is later used to build autotools et al. and requires Sage with autotools, whence the impossibility to generate it on the fly.
But, is there really no reason to track it in the Mercurial tree?



---

archive/issue_comments_158236.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@jpflori](#comment:8):\n> If I undersand correctly after just looking at the diff from the previous version, you now use spkg-write-makefile to generate Makefile.build which is later used to build autotools et al. and requires Sage with autotools, whence the impossibility to generate it on the fly.\n\nExactly right.  You need `autoconf` to properly determine which `autoconf` version is needed to parse a given `configure.ac` file.  So paradoxically, the package needs itself to be installed in order to repackage it.\n\n> But, is there really no reason to track it in the Mercurial tree?\n\nIt's autogenerated, so I guess we shouldn't track it.",
    "created_at": "2012-10-03T20:12:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158236",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@jpflori](#comment:8):
> If I undersand correctly after just looking at the diff from the previous version, you now use spkg-write-makefile to generate Makefile.build which is later used to build autotools et al. and requires Sage with autotools, whence the impossibility to generate it on the fly.

Exactly right.  You need `autoconf` to properly determine which `autoconf` version is needed to parse a given `configure.ac` file.  So paradoxically, the package needs itself to be installed in order to repackage it.

> But, is there really no reason to track it in the Mercurial tree?

It's autogenerated, so I guess we shouldn't track it.



---

archive/issue_comments_158237.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@jdemeyer](#comment:9):\n> > But, is there really no reason to track it in the Mercurial tree?\n\n> It's autogenerated, so I guess we shouldn't track it.\n\nI understand, just wanted to see if you could change your mind easily.\nI guess we could advocate both choices:\n* track the file because it's shipped in the spkg and used by the build process and cannot be autogenerated on all systems,\n* exclude it because it's automatically generated before shipping (as configure, Makefile  et al files in autotools driven packages!)\nI'll try to give the spkg a proper look by the end of the week (although everything looks fine after a quick look).",
    "created_at": "2012-10-03T20:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158237",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@jdemeyer](#comment:9):
> > But, is there really no reason to track it in the Mercurial tree?

> It's autogenerated, so I guess we shouldn't track it.

I understand, just wanted to see if you could change your mind easily.
I guess we could advocate both choices:
* track the file because it's shipped in the spkg and used by the build process and cannot be autogenerated on all systems,
* exclude it because it's automatically generated before shipping (as configure, Makefile  et al files in autotools driven packages!)
I'll try to give the spkg a proper look by the end of the week (although everything looks fine after a quick look).



---

archive/issue_comments_158238.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@jpflori](#comment:10):\n> I understand, just wanted to see if you could change your mind easily.\n\nIt's not that I refuse to track it, it's more that I don't see the reason for it.\n\n> * track the file because it's shipped in the spkg and used by the build process and cannot be autogenerated on all systems,\n\nWith this argument, we would need to track all of `src/` also...\n\n> * exclude it because it's automatically generated before shipping (as configure, Makefile  et al files in autotools driven packages!)\n\nExactly, other projects would not usually track `configure` in version control.",
    "created_at": "2012-10-03T20:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158238",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@jpflori](#comment:10):
> I understand, just wanted to see if you could change your mind easily.

It's not that I refuse to track it, it's more that I don't see the reason for it.

> * track the file because it's shipped in the spkg and used by the build process and cannot be autogenerated on all systems,

With this argument, we would need to track all of `src/` also...

> * exclude it because it's automatically generated before shipping (as configure, Makefile  et al files in autotools driven packages!)

Exactly, other projects would not usually track `configure` in version control.



---

archive/issue_comments_158239.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nDoes it build on Cygwin by the way?",
    "created_at": "2012-10-03T20:26:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158239",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Does it build on Cygwin by the way?



---

archive/issue_comments_158240.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@jdemeyer](#comment:12):\n> Does it build on Cygwin by the way?\n\nNot sure, but I guess so.\nAs you ask I'll start a build tonight hoping it will be finished by tomorrow morning and that windows does not automatically restart because of updates.\nThe problem is that for some reason configure scripts are awfully slow (maybe console output? I've check for BLODA, deactivated antivirus, ran in safe mode etc. but the behavior looked the same; as well, configuring MPIR is a real pain, especially since we run the configure script twice in the spkg, and quite strangely configuring GMP seems faster because less subdirs are treated, maybe some timestamps issues upstreams, or just that the build systems really diverged...).\n\nI think the previous spkg would have built correctly, it's just it was already a few hours when I filed the bogus Trac ticket secretly hoping there was a spkg problem rather than having to wait for another bunch of hours, and then I went to sleep but Windows decided to restart after 4 hours because of updates (I was aware of that but forgot when I went to sleep and it was not sufficient to let the build finish).",
    "created_at": "2012-10-03T20:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158240",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@jdemeyer](#comment:12):
> Does it build on Cygwin by the way?

Not sure, but I guess so.
As you ask I'll start a build tonight hoping it will be finished by tomorrow morning and that windows does not automatically restart because of updates.
The problem is that for some reason configure scripts are awfully slow (maybe console output? I've check for BLODA, deactivated antivirus, ran in safe mode etc. but the behavior looked the same; as well, configuring MPIR is a real pain, especially since we run the configure script twice in the spkg, and quite strangely configuring GMP seems faster because less subdirs are treated, maybe some timestamps issues upstreams, or just that the build systems really diverged...).

I think the previous spkg would have built correctly, it's just it was already a few hours when I filed the bogus Trac ticket secretly hoping there was a spkg problem rather than having to wait for another bunch of hours, and then I went to sleep but Windows decided to restart after 4 hours because of updates (I was aware of that but forgot when I went to sleep and it was not sufficient to let the build finish).



---

archive/issue_comments_158241.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIn fact it failed while building help2man with\n\n```\nconfig.status: creating Makefile\nmake[1] : on entre dans le r\u00e9pertoire \u00ab /home/jp/sage-5.2/spkg/build/autotools-20120930/src/help2man-1.40.11 \u00bb\nperl help2man.PL\nExtracting help2man (with variable substitutions)\nmake[1] : on quitte le r\u00e9pertoire \u00ab /home/jp/sage-5.2/spkg/build/autotools-20120930/src/help2man-1.40.11 \u00bb\nmake[1] : on entre dans le r\u00e9pertoire \u00ab /home/jp/sage-5.2/spkg/build/autotools-20120930/src/help2man-1.40.11 \u00bb\n./mkinstalldirs /home/jp/sage-5.2/local/bin\n./mkinstalldirs /home/jp/sage-5.2/local/lib/help2man\n./mkinstalldirs /home/jp/sage-5.2/local/share/man/man1\n./mkinstalldirs /home/jp/sage-5.2/local/share/info\n/usr/bin/install -c help2man /home/jp/sage-5.2/local/bin\n/usr/bin/install -c -m 644 $(perl -e 'print +(grep -f, map \"$_/$ARGV[0]\",  map +(length) ? $_ : \".\", split \":\", $ENV{VPATH} || \".\")[0]' help2man.1) /home/jp/sage-5.2/local/share/man/man1\n/usr/bin/install -c -m 644 $(perl -e 'print +(grep -f, map \"$_/$ARGV[0]\",  map +(length) ? $_ : \".\", split \":\", $ENV{VPATH} || \".\")[0]' help2man.info) \\\n    /home/jp/sage-5.2/local/share/info/help2man.info\nif test -f /home/jp/sage-5.2/local/share/info/dir; \\\nthen \\\n    /home/jp/sage-5.2/local/bin/install-info --info-dir=/home/jp/sage-5.2/local/share/info \\\n        /home/jp/sage-5.2/local/share/info/help2man.info; \\\nfi\n/usr/bin/bash: line 2: /home/jp/sage-5.2/local/bin/install-info: Permission denied\nMakefile:51: recipe for target `install_base' failed\nmake[1]: *** [install_base] Error 126\nmake[1] : on quitte le r\u00e9pertoire \u00ab /home/jp/sage-5.2/spkg/build/autotools-20120930/src/help2man-1.40.11 \u00bb\nMakefile:21: recipe for target `/home/jp/sage-5.2/local/bin/help2man' failed\nmake: *** [/home/jp/sage-5.2/local/bin/help2man] Error 2\n```\n\nI'm retesting the previous spkg to see what happened there.",
    "created_at": "2012-10-03T22:15:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158241",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:14" align="right">comment:14</div>

In fact it failed while building help2man with

```
config.status: creating Makefile
make[1] : on entre dans le répertoire « /home/jp/sage-5.2/spkg/build/autotools-20120930/src/help2man-1.40.11 »
perl help2man.PL
Extracting help2man (with variable substitutions)
make[1] : on quitte le répertoire « /home/jp/sage-5.2/spkg/build/autotools-20120930/src/help2man-1.40.11 »
make[1] : on entre dans le répertoire « /home/jp/sage-5.2/spkg/build/autotools-20120930/src/help2man-1.40.11 »
./mkinstalldirs /home/jp/sage-5.2/local/bin
./mkinstalldirs /home/jp/sage-5.2/local/lib/help2man
./mkinstalldirs /home/jp/sage-5.2/local/share/man/man1
./mkinstalldirs /home/jp/sage-5.2/local/share/info
/usr/bin/install -c help2man /home/jp/sage-5.2/local/bin
/usr/bin/install -c -m 644 $(perl -e 'print +(grep -f, map "$_/$ARGV[0]",  map +(length) ? $_ : ".", split ":", $ENV{VPATH} || ".")[0]' help2man.1) /home/jp/sage-5.2/local/share/man/man1
/usr/bin/install -c -m 644 $(perl -e 'print +(grep -f, map "$_/$ARGV[0]",  map +(length) ? $_ : ".", split ":", $ENV{VPATH} || ".")[0]' help2man.info) \
    /home/jp/sage-5.2/local/share/info/help2man.info
if test -f /home/jp/sage-5.2/local/share/info/dir; \
then \
    /home/jp/sage-5.2/local/bin/install-info --info-dir=/home/jp/sage-5.2/local/share/info \
        /home/jp/sage-5.2/local/share/info/help2man.info; \
fi
/usr/bin/bash: line 2: /home/jp/sage-5.2/local/bin/install-info: Permission denied
Makefile:51: recipe for target `install_base' failed
make[1]: *** [install_base] Error 126
make[1] : on quitte le répertoire « /home/jp/sage-5.2/spkg/build/autotools-20120930/src/help2man-1.40.11 »
Makefile:21: recipe for target `/home/jp/sage-5.2/local/bin/help2man' failed
make: *** [/home/jp/sage-5.2/local/bin/help2man] Error 2
```

I'm retesting the previous spkg to see what happened there.



---

archive/issue_comments_158242.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nStrangely in the log from last night, there was no problem with help2man:\n\n```\nmake[1] : on entre dans le r\u00e9pertoire \u00ab /home/jp/sage-5.2/spkg/build/autotools-\\\n20120810/src/help2man-1.40.11 \u00bb\nperl help2man.PL\nExtracting help2man (with variable substitutions)\n./mkinstalldirs /home/jp/sage-5.2/local/bin\n./mkinstalldirs /home/jp/sage-5.2/local/lib/help2man\nmkdir -p -- /home/jp/sage-5.2/local/lib/help2man\n./mkinstalldirs /home/jp/sage-5.2/local/share/man/man1\n./mkinstalldirs /home/jp/sage-5.2/local/share/info\n/usr/bin/install -c help2man /home/jp/sage-5.2/local/bin\n/usr/bin/install -c -m 644 $(perl -e 'print +(grep -f, map \"$_/$ARGV[0]\",  map \\\n+(length) ? $_ : \".\", split \":\", $ENV{VPATH} || \".\")[0]' help2man.1) /home/jp/s\\\nage-5.2/local/share/man/man1\n/usr/bin/install -c -m 644 $(perl -e 'print +(grep -f, map \"$_/$ARGV[0]\",  map \\\n+(length) ? $_ : \".\", split \":\", $ENV{VPATH} || \".\")[0]' help2man.info) \\\n    /home/jp/sage-5.2/local/share/info/help2man.info\nif test -f /home/jp/sage-5.2/local/share/info/dir; \\\nthen \\\n    /usr/bin/install-info --info-dir=/home/jp/sage-5.2/local/share/info \\\n        /home/jp/sage-5.2/local/share/info/help2man.info; \\\nfi\nmake[1] : on quitte le r\u00e9pertoire \u00ab /home/jp/sage-5.2/spkg/build/autotools-2012\\\n0810/src/help2man-1.40.11 \u00bb\n( cd /home/jp/sage-5.2/spkg/build/autotools-20120810/src/autoconf && git archiv\\\ne --format=tar --prefix=autoconf-2.13.rc1/ autoconf-2-13-rc1 ) | tar xf -\n```\nOh I see now, the /usr/bin/install-info used to be used, whereas some Sage's one is now.\nIs that related to the coreutils dependency drop?",
    "created_at": "2012-10-03T22:19:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158242",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:15" align="right">comment:15</div>

Strangely in the log from last night, there was no problem with help2man:

```
make[1] : on entre dans le répertoire « /home/jp/sage-5.2/spkg/build/autotools-\
20120810/src/help2man-1.40.11 »
perl help2man.PL
Extracting help2man (with variable substitutions)
./mkinstalldirs /home/jp/sage-5.2/local/bin
./mkinstalldirs /home/jp/sage-5.2/local/lib/help2man
mkdir -p -- /home/jp/sage-5.2/local/lib/help2man
./mkinstalldirs /home/jp/sage-5.2/local/share/man/man1
./mkinstalldirs /home/jp/sage-5.2/local/share/info
/usr/bin/install -c help2man /home/jp/sage-5.2/local/bin
/usr/bin/install -c -m 644 $(perl -e 'print +(grep -f, map "$_/$ARGV[0]",  map \
+(length) ? $_ : ".", split ":", $ENV{VPATH} || ".")[0]' help2man.1) /home/jp/s\
age-5.2/local/share/man/man1
/usr/bin/install -c -m 644 $(perl -e 'print +(grep -f, map "$_/$ARGV[0]",  map \
+(length) ? $_ : ".", split ":", $ENV{VPATH} || ".")[0]' help2man.info) \
    /home/jp/sage-5.2/local/share/info/help2man.info
if test -f /home/jp/sage-5.2/local/share/info/dir; \
then \
    /usr/bin/install-info --info-dir=/home/jp/sage-5.2/local/share/info \
        /home/jp/sage-5.2/local/share/info/help2man.info; \
fi
make[1] : on quitte le répertoire « /home/jp/sage-5.2/spkg/build/autotools-2012\
0810/src/help2man-1.40.11 »
( cd /home/jp/sage-5.2/spkg/build/autotools-20120810/src/autoconf && git archiv\
e --format=tar --prefix=autoconf-2.13.rc1/ autoconf-2-13-rc1 ) | tar xf -
```
Oh I see now, the /usr/bin/install-info used to be used, whereas some Sage's one is now.
Is that related to the coreutils dependency drop?



---

archive/issue_comments_158243.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nDid you build in parallel (i.e. with MAKE=\"make -jN\")?\n\nI don't know much about Cygwin, but does it use Unix-style permission bits?  Could you do\n\n```\nls -l /home/jp/sage-5.2/local/bin/install-info\n```\nIt looks like that program was installed without execute permission.",
    "created_at": "2012-10-04T06:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158243",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Did you build in parallel (i.e. with MAKE="make -jN")?

I don't know much about Cygwin, but does it use Unix-style permission bits?  Could you do

```
ls -l /home/jp/sage-5.2/local/bin/install-info
```
It looks like that program was installed without execute permission.



---

archive/issue_comments_158244.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@jpflori](#comment:15):\n> Oh I see now, the /usr/bin/install-info used to be used, whereas some Sage's one is now.\n> Is that related to the coreutils dependency drop?\n\nNo, it's because I added Texinfo (which contains `install-info`) in the package.  But somehow, it doesn't get installed correctly.",
    "created_at": "2012-10-04T06:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158244",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@jpflori](#comment:15):
> Oh I see now, the /usr/bin/install-info used to be used, whereas some Sage's one is now.
> Is that related to the coreutils dependency drop?

No, it's because I added Texinfo (which contains `install-info`) in the package.  But somehow, it doesn't get installed correctly.



---

archive/issue_comments_158245.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nCould you attach the complete log of the failed autotools build on Cygwin?",
    "created_at": "2012-10-04T06:44:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158245",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Could you attach the complete log of the failed autotools build on Cygwin?



---

archive/issue_comments_158246.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@jdemeyer](#comment:16):\n> Did you build in parallel (i.e. with MAKE=\"make -jN\")?\n> \n\nNo, I just launched the Cygwin shell and ran make.\n> I don't know much about Cygwin, but does it use Unix-style permission bits?  Could you do\n> \n> ```\n> ls -l /home/jp/sage-5.2/local/bin/install-info\n> ```\n> It looks like that program was installed without execute permission.\n\nThere are permission bits and the file installed is -rwx-r-x-r-x and belong to \"jp None\", much as all other exes, so should execute.\nTry to launch it from the command line fails as well with the same error.\n\nBy the way, the previous spkg build failed during the night because of memory exhaustion.\nI guess there is some memory leak (maybe because of some BLODA, but I'll have to find out which one, my previous investigation were unsuccessful), potenetially linked with the console slowness?",
    "created_at": "2012-10-04T07:07:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158246",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@jdemeyer](#comment:16):
> Did you build in parallel (i.e. with MAKE="make -jN")?
> 

No, I just launched the Cygwin shell and ran make.
> I don't know much about Cygwin, but does it use Unix-style permission bits?  Could you do
> 
> ```
> ls -l /home/jp/sage-5.2/local/bin/install-info
> ```
> It looks like that program was installed without execute permission.

There are permission bits and the file installed is -rwx-r-x-r-x and belong to "jp None", much as all other exes, so should execute.
Try to launch it from the command line fails as well with the same error.

By the way, the previous spkg build failed during the night because of memory exhaustion.
I guess there is some memory leak (maybe because of some BLODA, but I'll have to find out which one, my previous investigation were unsuccessful), potenetially linked with the console slowness?



---

archive/issue_comments_158247.json:
```json
{
    "body": "Attachment: **[autotools-20120930.log](https://github.com/sagemath/sage/files/ticket13557/autotools-20120930.log)**\n\nCygwin log.",
    "created_at": "2012-10-04T07:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158247",
    "user": "https://github.com/jpflori"
}
```

Attachment: **[autotools-20120930.log](https://github.com/sagemath/sage/files/ticket13557/autotools-20120930.log)**

Cygwin log.



---

archive/issue_comments_158248.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jpflori](#comment:19):\n> > I don't know much about Cygwin, but does it use Unix-style permission bits?  Could you do\n> > \n> > ```\n> > ls -l /home/jp/sage-5.2/local/bin/install-info\n> > ```\n> > It looks like that program was installed without execute permission.\n\n> There are permission bits and the file installed is -rwx-r-x-r-x and belong to \"jp None\", much as all other exes, so should execute.\n> Try to launch it from the command line fails as well with the same error.\n\nBut doing so with admin rights is successful, so this must be a permission problem but hidden deeper.",
    "created_at": "2012-10-04T07:17:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158248",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jpflori](#comment:19):
> > I don't know much about Cygwin, but does it use Unix-style permission bits?  Could you do
> > 
> > ```
> > ls -l /home/jp/sage-5.2/local/bin/install-info
> > ```
> > It looks like that program was installed without execute permission.

> There are permission bits and the file installed is -rwx-r-x-r-x and belong to "jp None", much as all other exes, so should execute.
> Try to launch it from the command line fails as well with the same error.

But doing so with admin rights is successful, so this must be a permission problem but hidden deeper.



---

archive/issue_comments_158249.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nAnd indeed in the windows explorer, the file has a little shield on its icon (meaning it needs admin rights).",
    "created_at": "2012-10-04T07:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158249",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:21" align="right">comment:21</div>

And indeed in the windows explorer, the file has a little shield on its icon (meaning it needs admin rights).



---

archive/issue_comments_158250.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nBut looking at the permission and security properties from the windows explorer does not reveal any difference with another file which can be executed (say infokey.exe just above in the directory).",
    "created_at": "2012-10-04T07:25:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158250",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:22" align="right">comment:22</div>

But looking at the permission and security properties from the windows explorer does not reveal any difference with another file which can be executed (say infokey.exe just above in the directory).



---

archive/issue_comments_158251.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nHmm, it might simply be related to the name (i.e. Windows might assume that a program with \"install\" in the name needs admin rights).  Could you rename/copy it to something more innocent like \"place-info\" and try to execute it?",
    "created_at": "2012-10-04T07:53:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158251",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Hmm, it might simply be related to the name (i.e. Windows might assume that a program with "install" in the name needs admin rights).  Could you rename/copy it to something more innocent like "place-info" and try to execute it?



---

archive/issue_comments_158252.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nIt might be the same problem as #11232.",
    "created_at": "2012-10-04T07:57:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158252",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

It might be the same problem as #11232.



---

archive/issue_comments_158253.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@jdemeyer](#comment:23):\n> Hmm, it might simply be related to the name (i.e. Windows might assume that a program with \"install\" in the name needs admin rights).  Could you rename/copy it to something more innocent like \"place-info\" and try to execute it?\n\nIn the meantime I went to the same conclusion and that's indeed the problem.\nWindows asks for admin privileges to execute any file whose name contains install.\nRename the file and it will execute as usual.\n\nThe proper solution is to add a install-info.exe.manifest file together with the executable.\nIn fact Cygwin distributed packages do so, and we might just copy it from them.",
    "created_at": "2012-10-04T08:12:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158253",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@jdemeyer](#comment:23):
> Hmm, it might simply be related to the name (i.e. Windows might assume that a program with "install" in the name needs admin rights).  Could you rename/copy it to something more innocent like "place-info" and try to execute it?

In the meantime I went to the same conclusion and that's indeed the problem.
Windows asks for admin privileges to execute any file whose name contains install.
Rename the file and it will execute as usual.

The proper solution is to add a install-info.exe.manifest file together with the executable.
In fact Cygwin distributed packages do so, and we might just copy it from them.



---

archive/issue_comments_158254.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@jdemeyer](#comment:24):\n> It might be the same problem as #11232.\n\nIndeed, so patch is filtered as well...\nLet's hope they do not filter sage in Windows 8.",
    "created_at": "2012-10-04T08:13:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158254",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@jdemeyer](#comment:24):
> It might be the same problem as #11232.

Indeed, so patch is filtered as well...
Let's hope they do not filter sage in Windows 8.



---

archive/issue_comments_158255.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nAnd about #11232, shouldn't we just create an appropriate manifest files (it's only a few line) rather than disable the build on Cygwin (from Windows 7)?",
    "created_at": "2012-10-04T08:16:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158255",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:27" align="right">comment:27</div>

And about #11232, shouldn't we just create an appropriate manifest files (it's only a few line) rather than disable the build on Cygwin (from Windows 7)?



---

archive/issue_comments_158256.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@jpflori](#comment:25):\n> The proper solution is to add a install-info.exe.manifest file together with the executable.\n> In fact Cygwin distributed packages do so, and we might just copy it from them.\n\nIf you have the right file, I'd be happy to add it to the package.",
    "created_at": "2012-10-04T08:58:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158256",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@jpflori](#comment:25):
> The proper solution is to add a install-info.exe.manifest file together with the executable.
> In fact Cygwin distributed packages do so, and we might just copy it from them.

If you have the right file, I'd be happy to add it to the package.



---

archive/issue_comments_158257.json:
```json
{
    "body": "Attachment: **[install-info.exe.manifest.gz](https://github.com/sagemath/sage/files/ticket13557/install-info.exe.manifest.gz)**\n\nAttachment: **[patch.exe.manifest.gz](https://github.com/sagemath/sage/files/ticket13557/patch.exe.manifest.gz)**",
    "created_at": "2012-10-04T09:08:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158257",
    "user": "https://github.com/jpflori"
}
```

Attachment: **[install-info.exe.manifest.gz](https://github.com/sagemath/sage/files/ticket13557/install-info.exe.manifest.gz)**

Attachment: **[patch.exe.manifest.gz](https://github.com/sagemath/sage/files/ticket13557/patch.exe.manifest.gz)**



---

archive/issue_comments_158258.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI've uploaded the files for install-info and patch.\nThey can be found in upstream packages, found by example in the mirrors listed here:\nhttp://cygwin.com/mirrors.html\nAnyway, the structure is quite simple, the only variation within the files being the field \"name\", which anyway looks only informative (see he patch manifest file).\nThe only important point seems that the manifest file should be named as the exe one (including .exe) + .manifest extension.\n\nAnd such files seems to be needed on Seven (and later I guess), but not before, but they should not hurt on previous versions on Windows so could be installed all the time on Cygwin.",
    "created_at": "2012-10-04T09:13:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158258",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:29" align="right">comment:29</div>

I've uploaded the files for install-info and patch.
They can be found in upstream packages, found by example in the mirrors listed here:
http://cygwin.com/mirrors.html
Anyway, the structure is quite simple, the only variation within the files being the field "name", which anyway looks only informative (see he patch manifest file).
The only important point seems that the manifest file should be named as the exe one (including .exe) + .manifest extension.

And such files seems to be needed on Seven (and later I guess), but not before, but they should not hurt on previous versions on Windows so could be installed all the time on Cygwin.



---

archive/issue_comments_158259.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nAdded `install-info.exe.manifest` to the package.  Needs testing on Cygwin.",
    "created_at": "2012-10-04T11:40:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158259",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Added `install-info.exe.manifest` to the package.  Needs testing on Cygwin.



---

archive/issue_comments_158260.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI think a $ is missing in front of $UNAME.\nAdding let the manifest file be installed correctly on Cygwin.\nThe build is currently going on.",
    "created_at": "2012-10-04T12:41:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158260",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:31" align="right">comment:31</div>

I think a $ is missing in front of $UNAME.
Adding let the manifest file be installed correctly on Cygwin.
The build is currently going on.



---

archive/issue_comments_158261.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nAn failed at the same point... Maybe some timestamp issue, randomly touching install-info.exe[.manifest] made it really executable, I'm trying to make this determinist now.",
    "created_at": "2012-10-04T13:05:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158261",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:32" align="right">comment:32</div>

An failed at the same point... Maybe some timestamp issue, randomly touching install-info.exe[.manifest] made it really executable, I'm trying to make this determinist now.



---

archive/issue_comments_158262.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nDon't ask me why, but touching install-info.exe seems to be the right solution...",
    "created_at": "2012-10-04T13:16:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158262",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:33" align="right">comment:33</div>

Don't ask me why, but touching install-info.exe seems to be the right solution...



---

archive/issue_comments_158263.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nOkay, maybe I should not add the `-p` option to `cp`.",
    "created_at": "2012-10-04T14:53:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158263",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

Okay, maybe I should not add the `-p` option to `cp`.



---

archive/issue_comments_158264.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nI made a new version, could you try it?",
    "created_at": "2012-10-04T14:57:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158264",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35" align="right">comment:35</div>

I made a new version, could you try it?



---

archive/issue_comments_158265.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI just tested the previous spkg after removing the -p flag passed to cp (I assume this is what you did) and that was not sufficient.\n\nExplicitely touching the exe file is still...\nReally strange.",
    "created_at": "2012-10-04T15:53:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158265",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:36" align="right">comment:36</div>

I just tested the previous spkg after removing the -p flag passed to cp (I assume this is what you did) and that was not sufficient.

Explicitely touching the exe file is still...
Really strange.



---

archive/issue_comments_158266.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nMaybe the manifest needs to be installed before the exe itself.  Can you try the new version (same URL).",
    "created_at": "2012-10-04T20:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158266",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:37" align="right">comment:37</div>

Maybe the manifest needs to be installed before the exe itself.  Can you try the new version (same URL).



---

archive/issue_comments_158267.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nIt worked! install-info which was just installed after the manifest file can be normally executed.\nThe build process is going on now, I'll report back when it passes the point it used to fail at.\nUnfortunately I fear the complete build will not finish because of the damn Cygwin memory leaks, but that has nothing to do with Sage.",
    "created_at": "2012-10-05T07:21:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158267",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:38" align="right">comment:38</div>

It worked! install-info which was just installed after the manifest file can be normally executed.
The build process is going on now, I'll report back when it passes the point it used to fail at.
Unfortunately I fear the complete build will not finish because of the damn Cygwin memory leaks, but that has nothing to do with Sage.



---

archive/issue_comments_158268.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nI think I spoke too fast.\nWhile trying to rebuild the spkg in safe mode, I encountered the same permission problem.\nI've just deleted the old files and relaunched the build to see if it fails again...",
    "created_at": "2012-10-05T08:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158268",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:39" align="right">comment:39</div>

I think I spoke too fast.
While trying to rebuild the spkg in safe mode, I encountered the same permission problem.
I've just deleted the old files and relaunched the build to see if it fails again...



---

archive/issue_comments_158269.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nOr not... Restarting under usual Windows, the file can be executed, so I guess the manifest file is not used under Safe, that's really a great news.",
    "created_at": "2012-10-05T09:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158269",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:40" align="right">comment:40</div>

Or not... Restarting under usual Windows, the file can be executed, so I guess the manifest file is not used under Safe, that's really a great news.



---

archive/issue_comments_158270.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\n... although the system-wide install-info is executable normally in safe mode ...\n... what gets me even more confused.",
    "created_at": "2012-10-05T13:00:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158270",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:41" align="right">comment:41</div>

... although the system-wide install-info is executable normally in safe mode ...
... what gets me even more confused.



---

archive/issue_comments_158271.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nAnd if I remove the install-info.exe.manifest, the file becomes executable in safe mode.\nThat's really terrible.",
    "created_at": "2012-10-05T13:05:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158271",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:42" align="right">comment:42</div>

And if I remove the install-info.exe.manifest, the file becomes executable in safe mode.
That's really terrible.



---

archive/issue_comments_158272.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nI see the .manifest file which gets installed is not executable, but the system wide one is.\nChanging that let install-info.exe be executed in safe mode!",
    "created_at": "2012-10-05T13:19:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158272",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:43" align="right">comment:43</div>

I see the .manifest file which gets installed is not executable, but the system wide one is.
Changing that let install-info.exe be executed in safe mode!



---

archive/issue_comments_158273.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@jpflori](#comment:43):\n> I see the .manifest file which gets installed is not executable, but the system wide one is.\n> Changing that let install-info.exe be executed in safe mode!\n\nYou mean that the manifest file itself should be executable?  It doesn't make sense to me, but if it helps, I'll make that change.",
    "created_at": "2012-10-05T13:23:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158273",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@jpflori](#comment:43):
> I see the .manifest file which gets installed is not executable, but the system wide one is.
> Changing that let install-info.exe be executed in safe mode!

You mean that the manifest file itself should be executable?  It doesn't make sense to me, but if it helps, I'll make that change.



---

archive/issue_comments_158274.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@jdemeyer](#comment:44):\n> Replying to [@jpflori](#comment:43):\n> > I see the .manifest file which gets installed is not executable, but the system wide one is.\n> > Changing that let install-info.exe be executed in safe mode!\n\n> You mean that the manifest file itself should be executable?  It doesn't make sense to me, but if it helps, I'll make that change.\n\nIndeed, it does not make sense to me either and does not seem to be required in \"normal\" mode, but to be in \"safe\" mode.\nMy hope is that the BLODA which leads to memory exhaustion (I assume it is BLODA cause the memory don't get freed when I leave Cygwin) in \"normal\" mode is not running in \"safe\" mode and I'll be able to build the spkg completely there, just to be sure everything is fine.",
    "created_at": "2012-10-05T13:29:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158274",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@jdemeyer](#comment:44):
> Replying to [@jpflori](#comment:43):
> > I see the .manifest file which gets installed is not executable, but the system wide one is.
> > Changing that let install-info.exe be executed in safe mode!

> You mean that the manifest file itself should be executable?  It doesn't make sense to me, but if it helps, I'll make that change.

Indeed, it does not make sense to me either and does not seem to be required in "normal" mode, but to be in "safe" mode.
My hope is that the BLODA which leads to memory exhaustion (I assume it is BLODA cause the memory don't get freed when I leave Cygwin) in "normal" mode is not running in "safe" mode and I'll be able to build the spkg completely there, just to be sure everything is fine.



---

archive/issue_comments_158275.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nI made a new spkg, can you test it?",
    "created_at": "2012-10-05T13:32:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158275",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:46" align="right">comment:46</div>

I made a new spkg, can you test it?



---

archive/issue_events_190127.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-11-29T22:51:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190127"
}
```



---

archive/issue_events_190128.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-11-29T22:51:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190128"
}
```



---

archive/issue_comments_158276.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nThis seems to fail building m4 on my Debian install:\n\n```\n...\ngcc -std=gnu99  -I.     -g -O2 -MT clean-temp.o -MD -MP -MF .deps/clean-temp.Tpo -c -o clean-temp.o clean-temp.c\nIn file included from clean-temp.h:22:0,\n                 from clean-temp.c:23:\n./stdio.h:477:1: error: 'gets' undeclared here (not in a function)\n```\n\nIndeed it seems gets has been removed from recent Debian experimental glibc.\n* http://lists.busybox.net/pipermail/buildroot/2012-July/055999.html\n* http://sourceware.org/ml/libc-alpha/2012-06/msg00807.html\n* http://git.savannah.gnu.org/gitweb/?p=gnulib.git;a=commit;h=66712c23388e93e5c518ebc8515140fa0c807348",
    "created_at": "2012-11-29T22:51:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158276",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:47" align="right">comment:47</div>

This seems to fail building m4 on my Debian install:

```
...
gcc -std=gnu99  -I.     -g -O2 -MT clean-temp.o -MD -MP -MF .deps/clean-temp.Tpo -c -o clean-temp.o clean-temp.c
In file included from clean-temp.h:22:0,
                 from clean-temp.c:23:
./stdio.h:477:1: error: 'gets' undeclared here (not in a function)
```

Indeed it seems gets has been removed from recent Debian experimental glibc.
* http://lists.busybox.net/pipermail/buildroot/2012-July/055999.html
* http://sourceware.org/ml/libc-alpha/2012-06/msg00807.html
* http://git.savannah.gnu.org/gitweb/?p=gnulib.git;a=commit;h=66712c23388e93e5c518ebc8515140fa0c807348



---

archive/issue_comments_158277.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nIt's quite funny, because it now fails on my recently reinstalled Cygwin on 64 bits Windows 7 after building m4 with no error message.",
    "created_at": "2012-12-06T10:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158277",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:48" align="right">comment:48</div>

It's quite funny, because it now fails on my recently reinstalled Cygwin on 64 bits Windows 7 after building m4 with no error message.



---

archive/issue_comments_158278.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nThe previous Cygwin problem might be related to tryin a parallel build, I've relaunched a sequential one to see what happens.",
    "created_at": "2012-12-06T11:04:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158278",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:49" align="right">comment:49</div>

The previous Cygwin problem might be related to tryin a parallel build, I've relaunched a sequential one to see what happens.



---

archive/issue_comments_158279.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nMy bad, I was using an old version of the spkg with the $UNAME problem, trying again with the correct one.\nSo this has nothing to do with a parallel build.",
    "created_at": "2012-12-06T11:25:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158279",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:50" align="right">comment:50</div>

My bad, I was using an old version of the spkg with the $UNAME problem, trying again with the correct one.
So this has nothing to do with a parallel build.



---

archive/issue_events_190129.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-17T11:29:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "milestone_number": null,
    "milestone_title": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190129"
}
```



---

archive/issue_events_190130.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-17T11:29:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "milestone_number": null,
    "milestone_title": "sage-5.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190130"
}
```



---

archive/issue_comments_158280.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,9 +2,10 @@\n \n I believe this makes the package mature enough to be upgraded from \"experimental\" to \"optional\".\n \n-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg)\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20121217.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20121217.spkg)\n \n-### autotools-20120930 (Jeroen Demeyer, 3 October 2012)\n+### autotools-20121217 (Jeroen Demeyer, 17 December 2012)\n * Add proper dependency checking instead of bruce-force building.\n * Add texinfo package\n * Make the package portable\n+* Add patch m4-no-gets.patch for m4\n``````\n",
    "created_at": "2012-12-17T11:29:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158280",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,9 +2,10 @@
 
 I believe this makes the package mature enough to be upgraded from "experimental" to "optional".
 
-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20120930.spkg)
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20121217.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/autotools-20121217.spkg)
 
-### autotools-20120930 (Jeroen Demeyer, 3 October 2012)
+### autotools-20121217 (Jeroen Demeyer, 17 December 2012)
 * Add proper dependency checking instead of bruce-force building.
 * Add texinfo package
 * Make the package portable
+* Add patch m4-no-gets.patch for m4
``````




---

archive/issue_events_190131.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-17T11:29:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190131"
}
```



---

archive/issue_events_190132.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-17T11:29:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190132"
}
```



---

archive/issue_comments_158281.json:
```json
{
    "body": "Attachment: **[autotools-20121217.diff.gz](https://github.com/sagemath/sage/files/ticket13557/autotools-20121217.diff.gz)**\n\nDiff for the autotools spkg. For reference / review only.",
    "created_at": "2012-12-17T11:30:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158281",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[autotools-20121217.diff.gz](https://github.com/sagemath/sage/files/ticket13557/autotools-20121217.diff.gz)**

Diff for the autotools spkg. For reference / review only.



---

archive/issue_comments_158282.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nI added a patch for the `gets()` issue, needs review.",
    "created_at": "2012-12-17T11:31:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158282",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:52" align="right">comment:52</div>

I added a patch for the `gets()` issue, needs review.



---

archive/issue_comments_158283.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2012-12-18T13:59:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158283",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_events_190133.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-12-18T13:59:29Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "title_is": "Make the autotools spkg an optional spkg",
    "title_was": "Improve the autotools spkg",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190133"
}
```



---

archive/issue_events_190134.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-12-18T13:59:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190134"
}
```



---

archive/issue_events_190135.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-12-18T13:59:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190135"
}
```



---

archive/issue_comments_158284.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nLooks good to me...",
    "created_at": "2012-12-18T13:59:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158284",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:53" align="right">comment:53</div>

Looks good to me...



---

archive/issue_comments_158285.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nI just copied the spkg into the \"optional\" subdir on the server and mirrors and removed it from \"experimental\".",
    "created_at": "2012-12-18T14:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158285",
    "user": "https://github.com/haraldschilly"
}
```

<div id="comment:54" align="right">comment:54</div>

I just copied the spkg into the "optional" subdir on the server and mirrors and removed it from "experimental".



---

archive/issue_comments_158286.json:
```json
{
    "body": "Merged: **sage-5.6.beta0**",
    "created_at": "2012-12-18T14:54:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158286",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.6.beta0**



---

archive/issue_events_190136.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-18T14:54:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190136"
}
```



---

archive/issue_events_190137.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-18T14:54:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13557#event-190137"
}
```



---

archive/issue_comments_158287.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nJust a question, why not split out m4 and make it a standard spkg?\nAnd drop the corresponding dependency for Sage?\nWe are shipping patch as a spkg, so why not m4?",
    "created_at": "2012-12-20T16:07:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158287",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:56" align="right">comment:56</div>

Just a question, why not split out m4 and make it a standard spkg?
And drop the corresponding dependency for Sage?
We are shipping patch as a spkg, so why not m4?



---

archive/issue_comments_158288.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nReplying to [@jpflori](#comment:56):\n> Just a question, why not split out m4 and make it a standard spkg?\n\nI am totally in favour of this: [https://groups.google.com/forum/?fromgroups#!msg/sage-devel/7LiuRMhO-B8/tlf2JWwfkfMJ](https://groups.google.com/forum/?fromgroups#!msg/sage-devel/7LiuRMhO-B8/tlf2JWwfkfMJ)\n\nNote that a recent m4 is required to fix #11391.",
    "created_at": "2012-12-20T16:15:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13557#issuecomment-158288",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:57" align="right">comment:57</div>

Replying to [@jpflori](#comment:56):
> Just a question, why not split out m4 and make it a standard spkg?

I am totally in favour of this: [https://groups.google.com/forum/?fromgroups#!msg/sage-devel/7LiuRMhO-B8/tlf2JWwfkfMJ](https://groups.google.com/forum/?fromgroups#!msg/sage-devel/7LiuRMhO-B8/tlf2JWwfkfMJ)

Note that a recent m4 is required to fix #11391.
