# Issue 13677: Improve __repr__ and __str__ methods of WordMorphism

archive/issues_013473.json:
```json
{
    "body": "The `__repr__` method is not fun:\n\n```\nsage: WordMorphism('a->ab,b->ba')\nMorphism from Words over Ordered Alphabet ['a', 'b'] to Words over Ordered Alphabet ['a', 'b']\nsage: WordMorphism({0:[0,1],1:[1,0]})  \nMorphism from Words over Ordered Alphabet [0, 1] to Words over Ordered Alphabet [0, 1]\n```\n\nOne always have to use the print statement (which calls `__str__`) ::\n\n```\nsage: print WordMorphism('a->ab,b->ba')\nWordMorphism: a->ab, b->ba\nsage: print WordMorphism({0:[0,1],1:[1,0]})\nWordMorphism: 0->01, 1->10\n```\n\nAlso, this is ugly:\n\n```\nsage: sigma = WordMorphism({1:[1,2], 2:[1,3], 3:[1]})\nsage: E = E1Star(sigma)                              \nsage: E                                              \nE_1^*(WordMorphism: 1->12, 2->13, 3->1)\n```\n\nThe proposed solution is to change the code of `__repr__` so that it behaves like the actual `__str__` and change the `__str__` to remove the `WordMorphism: ` part. See examples below :\n\nThe new `__repr__` method :\n\n```\nsage: WordMorphism('a->ab,b->ba')\nWordMorphism: a->ab, b->ba\nsage: WordMorphism({0:[0,1],1:[1,0]})\nWordMorphism: 0->01, 1->10\n```\n\nThe new `__str__` method :\n\n```\nsage: print WordMorphism('a->ab,b->ba')\na->ab, b->ba\n```\n\n```\nsage: sigma = WordMorphism({1:[1,2], 2:[1,3], 3:[1]})\nsage: E = E1Star(sigma)                              \nsage: E  \nE_1^*(1->12, 2->13, 3->1)\n```\n\n\n\n\nAssignee: @seblabbe\n\nCC:  tjolivet @videlec\n\nKeywords: wordmorphism\n\nReviewer: Timo Jolivet\n\nAuthor: S\u00e9bastien Labb\u00e9\n\nMerged: sage-5.5.rc0\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13677\n\n",
    "closed_at": "2012-11-17T08:56:17Z",
    "created_at": "2012-10-31T16:03:34Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.5",
    "title": "Improve __repr__ and __str__ methods of WordMorphism",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13677",
    "user": "https://github.com/seblabbe"
}
```
The `__repr__` method is not fun:

```
sage: WordMorphism('a->ab,b->ba')
Morphism from Words over Ordered Alphabet ['a', 'b'] to Words over Ordered Alphabet ['a', 'b']
sage: WordMorphism({0:[0,1],1:[1,0]})  
Morphism from Words over Ordered Alphabet [0, 1] to Words over Ordered Alphabet [0, 1]
```

One always have to use the print statement (which calls `__str__`) ::

```
sage: print WordMorphism('a->ab,b->ba')
WordMorphism: a->ab, b->ba
sage: print WordMorphism({0:[0,1],1:[1,0]})
WordMorphism: 0->01, 1->10
```

Also, this is ugly:

```
sage: sigma = WordMorphism({1:[1,2], 2:[1,3], 3:[1]})
sage: E = E1Star(sigma)                              
sage: E                                              
E_1^*(WordMorphism: 1->12, 2->13, 3->1)
```

The proposed solution is to change the code of `__repr__` so that it behaves like the actual `__str__` and change the `__str__` to remove the `WordMorphism: ` part. See examples below :

The new `__repr__` method :

```
sage: WordMorphism('a->ab,b->ba')
WordMorphism: a->ab, b->ba
sage: WordMorphism({0:[0,1],1:[1,0]})
WordMorphism: 0->01, 1->10
```

The new `__str__` method :

```
sage: print WordMorphism('a->ab,b->ba')
a->ab, b->ba
```

```
sage: sigma = WordMorphism({1:[1,2], 2:[1,3], 3:[1]})
sage: E = E1Star(sigma)                              
sage: E  
E_1^*(1->12, 2->13, 3->1)
```




Assignee: @seblabbe

CC:  tjolivet @videlec

Keywords: wordmorphism

Reviewer: Timo Jolivet

Author: Sébastien Labbé

Merged: sage-5.5.rc0

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/13677





---

archive/issue_comments_203963.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#13676\"",
    "created_at": "2012-10-31T16:09:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-203963",
    "user": "https://github.com/seblabbe"
}
```

Changing dependencies from "" to "#13676"



---

archive/issue_comments_203964.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-10-31T16:09:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-203964",
    "user": "https://github.com/seblabbe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_203965.json:
```json
{
    "body": "Attachment [trac_13677-sl.patch](tarball://root/attachments/some-uuid/ticket13677/trac_13677-sl.patch) by @seblabbe created at 2012-11-01 11:43:41",
    "created_at": "2012-11-01T11:43:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-203965",
    "user": "https://github.com/seblabbe"
}
```

Attachment [trac_13677-sl.patch](tarball://root/attachments/some-uuid/ticket13677/trac_13677-sl.patch) by @seblabbe created at 2012-11-01 11:43:41



---

archive/issue_comments_203966.json:
```json
{
    "body": "<a id='comment:4'></a>\nAttachment [trac_13677_docfixes_iet-sl.patch](tarball://root/attachments/some-uuid/ticket13677/trac_13677_docfixes_iet-sl.patch) by @seblabbe created at 2012-11-01 11:48:24\n\nI changed #13676 to remove the dependancies (by not including new `_latex_` method next to the `__repr__` and `__str__` methods).\n\nI separated the patch into 3 pieces : the code changed, docfixes in `sage/combinat/words`, docfixes in `sage/combinat/iet`. It will be easier to review like that and also easier to update if future conflicts occur.\n\nNeeds review!",
    "created_at": "2012-11-01T11:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-203966",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:4'></a>
Attachment [trac_13677_docfixes_iet-sl.patch](tarball://root/attachments/some-uuid/ticket13677/trac_13677_docfixes_iet-sl.patch) by @seblabbe created at 2012-11-01 11:48:24

I changed #13676 to remove the dependancies (by not including new `_latex_` method next to the `__repr__` and `__str__` methods).

I separated the patch into 3 pieces : the code changed, docfixes in `sage/combinat/words`, docfixes in `sage/combinat/iet`. It will be easier to review like that and also easier to update if future conflicts occur.

Needs review!



---

archive/issue_comments_203967.json:
```json
{
    "body": "Changing dependencies from \"#13676\" to \"\"",
    "created_at": "2012-11-01T11:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-203967",
    "user": "https://github.com/seblabbe"
}
```

Changing dependencies from "#13676" to ""



---

archive/issue_events_052068.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tjolivet",
    "created_at": "2012-11-12T07:56:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "milestone": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13677#event-52068"
}
```



---

archive/issue_comments_203968.json:
```json
{
    "body": "Changing author from \"\" to \"S\u00e9bastien Labb\u00e9\"",
    "created_at": "2012-11-12T07:56:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-203968",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```

Changing author from "" to "Sébastien Labbé"



---

archive/issue_comments_203969.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Timo Jolivet\"",
    "created_at": "2012-11-12T07:56:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-203969",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```

Changing reviewer from "" to "Timo Jolivet"



---

archive/issue_comments_203970.json:
```json
{
    "body": "<a id='comment:5'></a>\nAttachment [trac_13677_docfixes_words-sl.patch](tarball://root/attachments/some-uuid/ticket13677/trac_13677_docfixes_words-sl.patch) by tjolivet created at 2012-11-12 07:56:53",
    "created_at": "2012-11-12T07:56:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-203970",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```

<a id='comment:5'></a>
Attachment [trac_13677_docfixes_words-sl.patch](tarball://root/attachments/some-uuid/ticket13677/trac_13677_docfixes_words-sl.patch) by tjolivet created at 2012-11-12 07:56:53



---

archive/issue_comments_203971.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-11-12T07:56:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-203971",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_052069.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-12T09:43:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "milestone": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13677#event-52069"
}
```



---

archive/issue_events_052070.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-12T09:43:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "milestone": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13677#event-52070"
}
```



---

archive/issue_comments_203972.json:
```json
{
    "body": "<a id='comment:7'></a>\nPlease clarify which patches need to be applied.",
    "created_at": "2012-11-15T08:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-203972",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>
Please clarify which patches need to be applied.



---

archive/issue_comments_203973.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [jdemeyer](#comment%3A7):\n> Please clarify which patches need to be applied.\n\n\nAll of them, in any order.",
    "created_at": "2012-11-15T12:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-203973",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:8'></a>
Replying to [jdemeyer](#comment%3A7):
> Please clarify which patches need to be applied.


All of them, in any order.



---

archive/issue_comments_203974.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-11-17T08:56:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-203974",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_052071.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-17T08:56:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13677#event-52071"
}
```



---

archive/issue_comments_203975.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.5.rc0\"",
    "created_at": "2012-11-17T08:56:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-203975",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.5.rc0"
