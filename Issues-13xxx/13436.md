# Issue 13436: Elliptic Curve Enumeration by height

archive/issues_013264.json:
```json
{
    "assignees": [],
    "body": "Add functionality to Sage that allows one to enumerate elliptic curves over Q by height for a range of Weierstrass families of curve.\n\nThis code has grown from work with Wei Ho, who desired a way to enumerate curves over Q by height (where the height of a curve is a function of the coefficients in its Weierstrass model) so that the average value of some datum (e.g.rank, 2-Selmer size) could be computed for curves up to a given height. This code introduces a class, CurveEnumerator(), that computes lists of curves ordered by height for this purpose.\n\nhttps://github.com/haikona/CBH\n\nAssignee: **@haikona**\n\nKeywords: **Elliptic curves, enumeration**\n\nBranch/Commit: **[u/chapoton/13436](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13436) @ [8721f1d](https://github.com/sagemath/sagetrac-mirror/commit/8721f1d979c937df37215f19d74f252995f39c88)**\n\nAuthor: **Simon Spicer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13436_\n\n",
    "created_at": "2012-09-06T17:42:52Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20elliptic%20curves",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Elliptic Curve Enumeration by height",
    "type": "issue",
    "updated_at": "2022-12-29T01:35:15Z",
    "url": "https://github.com/sagemath/sage/issues/13436",
    "user": "https://github.com/haikona"
}
```
Add functionality to Sage that allows one to enumerate elliptic curves over Q by height for a range of Weierstrass families of curve.

This code has grown from work with Wei Ho, who desired a way to enumerate curves over Q by height (where the height of a curve is a function of the coefficients in its Weierstrass model) so that the average value of some datum (e.g.rank, 2-Selmer size) could be computed for curves up to a given height. This code introduces a class, CurveEnumerator(), that computes lists of curves ordered by height for this purpose.

https://github.com/haikona/CBH

Assignee: **@haikona**

Keywords: **Elliptic curves, enumeration**

Branch/Commit: **[u/chapoton/13436](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13436) @ [8721f1d](https://github.com/sagemath/sagetrac-mirror/commit/8721f1d979c937df37215f19d74f252995f39c88)**

Author: **Simon Spicer**

_Issue created by migration from https://trac.sagemath.org/ticket/13436_





---

archive/issue_events_166096.json:
```json
{
    "actor": "https://github.com/haikona",
    "created_at": "2012-09-06T17:42:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20elliptic%20curves",
    "label_color": "0000ff",
    "label_name": "component: elliptic curves",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166096"
}
```



---

archive/issue_events_166097.json:
```json
{
    "actor": "https://github.com/haikona",
    "created_at": "2012-09-06T17:42:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166097"
}
```



---

archive/issue_events_166098.json:
```json
{
    "actor": "https://github.com/haikona",
    "created_at": "2012-09-06T17:42:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166098"
}
```



---

archive/issue_comments_159118.json:
```json
{
    "body": "Attachment: **[trac_13436_curve_enumerator.patch.gz](https://github.com/sagemath/sage/files/ticket13436/trac_13436_curve_enumerator.patch.gz)**",
    "created_at": "2012-09-17T21:58:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159118",
    "user": "https://github.com/haikona"
}
```

Attachment: **[trac_13436_curve_enumerator.patch.gz](https://github.com/sagemath/sage/files/ticket13436/trac_13436_curve_enumerator.patch.gz)**



---

archive/issue_events_166099.json:
```json
{
    "actor": "https://github.com/haikona",
    "created_at": "2012-09-17T22:01:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166099"
}
```



---

archive/issue_comments_159119.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nVersion 1.0 patch posted. All new code (except for an added import statement in sage.schemes.elliptic_curves.all) is in a new file, curve_enumerator.py, in the sage.schemes.elliptic_curves directory. It's thoroughly documented and doctested, so hopefully its logic will straightforward enough to follow.",
    "created_at": "2012-09-17T22:01:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159119",
    "user": "https://github.com/haikona"
}
```

<a id='comment:1'>Comment 1:</a>
Version 1.0 patch posted. All new code (except for an added import statement in sage.schemes.elliptic_curves.all) is in a new file, curve_enumerator.py, in the sage.schemes.elliptic_curves directory. It's thoroughly documented and doctested, so hopefully its logic will straightforward enough to follow.



---

archive/issue_comments_159120.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Add functionality to Sage that allows one to enumerate elliptic curves over Q by height for a range of Weierstrass families of curve.\n \n This code has grown from work with Wei Ho, who desired a way to enumerate curves over Q by height (where the height of a curve is a function of the coefficients in its Weierstrass model) so that the average value of some datum (e.g.rank, 2-Selmer size) could be computed for curves up to a given height. This code introduces a class, CurveEnumerator(), that computes lists of curves ordered by height for this purpose.\n+\n+https://github.com/haikona/CBH\n``````\n",
    "created_at": "2012-09-25T18:45:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159120",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Add functionality to Sage that allows one to enumerate elliptic curves over Q by height for a range of Weierstrass families of curve.
 
 This code has grown from work with Wei Ho, who desired a way to enumerate curves over Q by height (where the height of a curve is a function of the coefficients in its Weierstrass model) so that the average value of some datum (e.g.rank, 2-Selmer size) could be computed for curves up to a given height. This code introduces a class, CurveEnumerator(), that computes lists of curves ordered by height for this purpose.
+
+https://github.com/haikona/CBH
``````




---

archive/issue_comments_159121.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nFor the three_selmer function, you need a doctest.\n\n```\nsage: magma('2+2')  # optional - magma\n```\n\nThen\n\n```\nsage -t --only_optional=magma curve_enumerator.py \n```\nto test.",
    "created_at": "2012-09-25T18:48:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159121",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:3'>Comment 3:</a>
For the three_selmer function, you need a doctest.

```
sage: magma('2+2')  # optional - magma
```

Then

```
sage -t --only_optional=magma curve_enumerator.py 
```
to test.



---

archive/issue_comments_159122.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nFix some docstring formatitng, e.g., the funny indent:\n\n```\n    def heights(self, lowerbound, upperbound):  \n        \"\"\"\n        Return a list of permissable curve heights in the specified range\n         (bounds inclusive), and for each height the equation coefficients\n         that produce curves of that height.\n```\n\nThis should output \"100%\":\n\n```\n...elliptic_curves$ sage -coverage curve_enumerator.py \n----------------------------------------------------------------------\ncurve_enumerator.py\nERROR: Please add a `TestSuite(s).run()` doctest.\nSCORE curve_enumerator.py: 87% (35 of 40)\n\nMissing documentation:\n\t * __init__(self):\n\t * __repr__(self):\n\t * _coeffs_to_a_invariants(self, c):\n\n\nMissing doctests:\n\t * __init__(self):\n\t * three_selmer(self, curves, rank=True, reduced=False, output_filename=None, problems_filename=None, \\ proof=True, return_data=True, print_timing=True):\n```",
    "created_at": "2012-09-25T18:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159122",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:4'>Comment 4:</a>
Fix some docstring formatitng, e.g., the funny indent:

```
    def heights(self, lowerbound, upperbound):  
        """
        Return a list of permissable curve heights in the specified range
         (bounds inclusive), and for each height the equation coefficients
         that produce curves of that height.
```

This should output "100%":

```
...elliptic_curves$ sage -coverage curve_enumerator.py 
----------------------------------------------------------------------
curve_enumerator.py
ERROR: Please add a `TestSuite(s).run()` doctest.
SCORE curve_enumerator.py: 87% (35 of 40)

Missing documentation:
	 * __init__(self):
	 * __repr__(self):
	 * _coeffs_to_a_invariants(self, c):


Missing doctests:
	 * __init__(self):
	 * three_selmer(self, curves, rank=True, reduced=False, output_filename=None, problems_filename=None, \ proof=True, return_data=True, print_timing=True):
```



---

archive/issue_comments_159123.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\n* Here: `over Q up` I would put <code>\\`\\\\QQ\\`</code> or at `QQ`. \n\n* Either: Or: -- maybe instead a sublist of two things?\n\n* weird formatting:\n\n```\nsage: C = EllipticCurveEnumerator(family=\"short_weierstrass\")\nsage: C.n_torsion?\n\n       * \"rank\"              -- (Default True): Compute the rank versus\n         size of the curve's torsion/n-torsion subgroup. If True, the\n         n-torsion rank is computed (i.e. 0, 1 or 2). If set to False, the\n         size of the n-torsion subgroup is computed instead (i.e. n^rank)\n    \n         * \"output_filename\" -- (Default None): If not None, the string\n    \n         name of the file to which the output will be saved.\n```\n\n*  Restructure code so that this is natural:\n\n```\nv = EllipticCurveEnumerator(family=\"short_weierstrass\", height=1000).ranks()\n``` \n\nWill need caching:\n\n```\nsage: from sage.misc.cachefunc import cached_method\nsage: cached_method?\n```",
    "created_at": "2012-09-25T18:52:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159123",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:5'>Comment 5:</a>
* Here: `over Q up` I would put <code>\`\\QQ\`</code> or at `QQ`. 

* Either: Or: -- maybe instead a sublist of two things?

* weird formatting:

```
sage: C = EllipticCurveEnumerator(family="short_weierstrass")
sage: C.n_torsion?

       * "rank"              -- (Default True): Compute the rank versus
         size of the curve's torsion/n-torsion subgroup. If True, the
         n-torsion rank is computed (i.e. 0, 1 or 2). If set to False, the
         size of the n-torsion subgroup is computed instead (i.e. n^rank)
    
         * "output_filename" -- (Default None): If not None, the string
    
         name of the file to which the output will be saved.
```

*  Restructure code so that this is natural:

```
v = EllipticCurveEnumerator(family="short_weierstrass", height=1000).ranks()
``` 

Will need caching:

```
sage: from sage.misc.cachefunc import cached_method
sage: cached_method?
```



---

archive/issue_comments_159124.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nThere are three `AssertionErrors` that should be `ValueErrors`.\n\nalso `two_selmer` and `three_selmer` have an extra space for the OUTPUT portion of the docstring.",
    "created_at": "2012-09-25T19:12:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159124",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:6'>Comment 6:</a>
There are three `AssertionErrors` that should be `ValueErrors`.

also `two_selmer` and `three_selmer` have an extra space for the OUTPUT portion of the docstring.



---

archive/issue_events_166100.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-09-25T19:15:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166100"
}
```



---

archive/issue_events_166101.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-09-25T19:15:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166101"
}
```



---

archive/issue_comments_159125.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nI have uploaded a patch that cleans up the documentation.\n\nStill needs works, I think",
    "created_at": "2013-05-17T21:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159125",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'>Comment 8:</a>
I have uploaded a patch that cleans up the documentation.

Still needs works, I think



---

archive/issue_comments_159126.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\ncould please someone with magma add the missing doctest for \"three_selmer\" ?",
    "created_at": "2013-05-18T12:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159126",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'>Comment 9:</a>
could please someone with magma add the missing doctest for "three_selmer" ?



---

archive/issue_comments_159127.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nI applied the patches to 5.10 and ran the doctest and report the result here.\n\n```\nsage: C = EllipticCurveEnumerator(family=\"short_weierstrass\") \nsage: L = C.coefficients_over_height_range(4, 4)                                                               \nsage: R, P = C.three_selmer(L, rank=True,return_data=True,print_timing=False)                                  \nsage: R                                                                                                        \n[(4, [0, 0, 0, -1, -2], 1),\n (4, [0, 0, 0, -1, 2], 0),\n (4, [0, 0, 0, 0, -2], 1),\n (4, [0, 0, 0, 0, 2], 1),\n (4, [0, 0, 0, 1, -2], 0),\n (4, [0, 0, 0, 1, 2], 0)]\nsage: P                                                                                                        \n[]\n```",
    "created_at": "2013-07-05T20:54:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159127",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:10'>Comment 10:</a>
I applied the patches to 5.10 and ran the doctest and report the result here.

```
sage: C = EllipticCurveEnumerator(family="short_weierstrass") 
sage: L = C.coefficients_over_height_range(4, 4)                                                               
sage: R, P = C.three_selmer(L, rank=True,return_data=True,print_timing=False)                                  
sage: R                                                                                                        
[(4, [0, 0, 0, -1, -2], 1),
 (4, [0, 0, 0, -1, 2], 0),
 (4, [0, 0, 0, 0, -2], 1),
 (4, [0, 0, 0, 0, 2], 1),
 (4, [0, 0, 0, 1, -2], 0),
 (4, [0, 0, 0, 1, 2], 0)]
sage: P                                                                                                        
[]
```



---

archive/issue_comments_159128.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nAttachment: **[trac_13436_curve_enumerator-addon1.patch.gz](https://github.com/sagemath/sage/files/ticket13436/trac_13436_curve_enumerator-addon1.patch.gz)**\n\nthanks for the help !",
    "created_at": "2013-07-06T15:55:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159128",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'>Comment 11:</a>
Attachment: **[trac_13436_curve_enumerator-addon1.patch.gz](https://github.com/sagemath/sage/files/ticket13436/trac_13436_curve_enumerator-addon1.patch.gz)**

thanks for the help !



---

archive/issue_events_166102.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166102"
}
```



---

archive/issue_events_166103.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166103"
}
```



---

archive/issue_comments_159129.json:
```json
{
    "body": "Commit: **[a3af039](https://github.com/sagemath/sagetrac-mirror/commit/a3af039fac1fc3bce0b1e89049e059a7cc737658)**",
    "created_at": "2014-01-05T09:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159129",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[a3af039](https://github.com/sagemath/sagetrac-mirror/commit/a3af039fac1fc3bce0b1e89049e059a7cc737658)**



---

archive/issue_comments_159130.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3af039fac1fc3bce0b1e89049e059a7cc737658\">a3af039</a></td><td><code>trac 13436 : doc corrections</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4057309c1c325513d0c4d5178ddfa937eb52fc0\">e405730</a></td><td><code>Add functionality to Sage that allows one to enumerate elliptic curves over Q by height for a range of Weierstrass families of curve.</code></td></tr></table>\n",
    "created_at": "2014-01-05T09:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159130",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'>Comment 13:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3af039fac1fc3bce0b1e89049e059a7cc737658">a3af039</a></td><td><code>trac 13436 : doc corrections</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4057309c1c325513d0c4d5178ddfa937eb52fc0">e405730</a></td><td><code>Add functionality to Sage that allows one to enumerate elliptic curves over Q by height for a range of Weierstrass families of curve.</code></td></tr></table>




---

archive/issue_comments_159131.json:
```json
{
    "body": "Branch: **[u/chapoton/13436](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13436)**",
    "created_at": "2014-01-05T09:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159131",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/13436](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/13436)**



---

archive/issue_comments_159132.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nThanks for converting this to git and fixing the docstring formatting (which I will trust has been done properly)!\n\nAuthors:  can you remove the place(s) where there are comments \"this should be checked\" or \"todo\"?  And in several similar places you can delete the comment that some integers must be Sage integers or ... some rather frivolous consequence will occur?\n\nI see that you have carefully allowed for the unavoidable fact that there will be \"problem curves\" and have an option output filename for these.  But I don't think that any of the doctests illustrate this -- please add one or more doctests which do.  Meanwhile I am trying the functions out.",
    "created_at": "2014-01-11T15:33:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159132",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:14'>Comment 14:</a>
Thanks for converting this to git and fixing the docstring formatting (which I will trust has been done properly)!

Authors:  can you remove the place(s) where there are comments "this should be checked" or "todo"?  And in several similar places you can delete the comment that some integers must be Sage integers or ... some rather frivolous consequence will occur?

I see that you have carefully allowed for the unavoidable fact that there will be "problem curves" and have an option output filename for these.  But I don't think that any of the doctests illustrate this -- please add one or more doctests which do.  Meanwhile I am trying the functions out.



---

archive/issue_events_166104.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166104"
}
```



---

archive/issue_events_166105.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166105"
}
```



---

archive/issue_events_166106.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166106"
}
```



---

archive/issue_events_166107.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166107"
}
```



---

archive/issue_events_166108.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166108"
}
```



---

archive/issue_events_166109.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166109"
}
```



---

archive/issue_comments_159133.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba097ec747e751aa5bc15c5dd7b597da33a444d1\">ba097ec</a></td><td><code>Merge branch 'u/chapoton/13436' of ssh://trac.sagemath.org:22/sage into 13436</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f75b4f7d6b1b17462d2b4ff12d6195d440f79ca\">0f75b4f</a></td><td><code>trac #13436 minor changes after some of the reviewer's comments</code></td></tr></table>\n",
    "created_at": "2014-09-07T13:09:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159133",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>Comment 18:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba097ec747e751aa5bc15c5dd7b597da33a444d1">ba097ec</a></td><td><code>Merge branch 'u/chapoton/13436' of ssh://trac.sagemath.org:22/sage into 13436</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f75b4f7d6b1b17462d2b4ff12d6195d440f79ca">0f75b4f</a></td><td><code>trac #13436 minor changes after some of the reviewer's comments</code></td></tr></table>




---

archive/issue_comments_159134.json:
```json
{
    "body": "Changed commit from **[a3af039](https://github.com/sagemath/sagetrac-mirror/commit/a3af039fac1fc3bce0b1e89049e059a7cc737658)** to **[0f75b4f](https://github.com/sagemath/sagetrac-mirror/commit/0f75b4f7d6b1b17462d2b4ff12d6195d440f79ca)**",
    "created_at": "2014-09-07T13:09:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159134",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a3af039](https://github.com/sagemath/sagetrac-mirror/commit/a3af039fac1fc3bce0b1e89049e059a7cc737658)** to **[0f75b4f](https://github.com/sagemath/sagetrac-mirror/commit/0f75b4f7d6b1b17462d2b4ff12d6195d440f79ca)**



---

archive/issue_comments_159135.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4b547bd7179d1ed59383124daeff90b1b8b9590\">b4b547b</a></td><td><code>Merge branch 'u/chapoton/13436' into 6.8.b2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/512eb17fe656ebeb68902e44b560cea3bc175143\">512eb17</a></td><td><code>trac #13436 fixing one error</code></td></tr></table>\n",
    "created_at": "2015-06-03T07:25:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159135",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4b547bd7179d1ed59383124daeff90b1b8b9590">b4b547b</a></td><td><code>Merge branch 'u/chapoton/13436' into 6.8.b2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/512eb17fe656ebeb68902e44b560cea3bc175143">512eb17</a></td><td><code>trac #13436 fixing one error</code></td></tr></table>




---

archive/issue_comments_159136.json:
```json
{
    "body": "Changed commit from **[0f75b4f](https://github.com/sagemath/sagetrac-mirror/commit/0f75b4f7d6b1b17462d2b4ff12d6195d440f79ca)** to **[512eb17](https://github.com/sagemath/sagetrac-mirror/commit/512eb17fe656ebeb68902e44b560cea3bc175143)**",
    "created_at": "2015-06-03T07:25:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159136",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0f75b4f](https://github.com/sagemath/sagetrac-mirror/commit/0f75b4f7d6b1b17462d2b4ff12d6195d440f79ca)** to **[512eb17](https://github.com/sagemath/sagetrac-mirror/commit/512eb17fe656ebeb68902e44b560cea3bc175143)**



---

archive/issue_comments_159137.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nThere is still one failing doctest, that I do not understand.",
    "created_at": "2015-06-03T19:00:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159137",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'>Comment 20:</a>
There is still one failing doctest, that I do not understand.



---

archive/issue_events_166110.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-03T19:00:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166110"
}
```



---

archive/issue_events_166111.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-03T19:00:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166111"
}
```



---

archive/issue_events_166112.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-11-14T18:47:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166112"
}
```



---

archive/issue_events_166113.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-11-14T18:47:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166113"
}
```



---

archive/issue_events_166114.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-01-06T20:04:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166114"
}
```



---

archive/issue_events_166115.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-01-06T20:04:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166115"
}
```



---

archive/issue_events_166116.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-01-21T20:22:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166116"
}
```



---

archive/issue_events_166117.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-01-21T20:22:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166117"
}
```



---

archive/issue_comments_159138.json:
```json
{
    "body": "Changed commit from **[512eb17](https://github.com/sagemath/sagetrac-mirror/commit/512eb17fe656ebeb68902e44b560cea3bc175143)** to **[3fc917c](https://github.com/sagemath/sagetrac-mirror/commit/3fc917ce8f002c6c9d8fa4909d45b2b613aa1cc1)**",
    "created_at": "2016-02-05T20:46:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159138",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[512eb17](https://github.com/sagemath/sagetrac-mirror/commit/512eb17fe656ebeb68902e44b560cea3bc175143)** to **[3fc917c](https://github.com/sagemath/sagetrac-mirror/commit/3fc917ce8f002c6c9d8fa4909d45b2b613aa1cc1)**



---

archive/issue_comments_159139.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4fe9b653d1d2617f6d0b20bb11bb7b2eb09174d\">d4fe9b6</a></td><td><code>Merge branch 'u/chapoton/13436' into 7.1.b2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73502c07e0a6aca1827b094f4bcef6599b420c1e\">73502c0</a></td><td><code>trac #13436 updating cartesian_products</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3fc917ce8f002c6c9d8fa4909d45b2b613aa1cc1\">3fc917c</a></td><td><code>trac #13436 pep8</code></td></tr></table>\n",
    "created_at": "2016-02-05T20:46:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159139",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'>Comment 24:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4fe9b653d1d2617f6d0b20bb11bb7b2eb09174d">d4fe9b6</a></td><td><code>Merge branch 'u/chapoton/13436' into 7.1.b2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73502c07e0a6aca1827b094f4bcef6599b420c1e">73502c0</a></td><td><code>trac #13436 updating cartesian_products</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3fc917ce8f002c6c9d8fa4909d45b2b613aa1cc1">3fc917c</a></td><td><code>trac #13436 pep8</code></td></tr></table>




---

archive/issue_comments_159140.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/850d7a37bc8b7c4b45ed6bc81bebca652e035ea0\">850d7a3</a></td><td><code>Merge branch 'u/chapoton/13436' into 7.2.b4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3785184dd352d0ca728f0fcb78e7e025da0d5939\">3785184</a></td><td><code>trac #13426 fixing one import</code></td></tr></table>\n",
    "created_at": "2016-04-13T19:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159140",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>Comment 25:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/850d7a37bc8b7c4b45ed6bc81bebca652e035ea0">850d7a3</a></td><td><code>Merge branch 'u/chapoton/13436' into 7.2.b4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3785184dd352d0ca728f0fcb78e7e025da0d5939">3785184</a></td><td><code>trac #13426 fixing one import</code></td></tr></table>




---

archive/issue_comments_159141.json:
```json
{
    "body": "Changed commit from **[3fc917c](https://github.com/sagemath/sagetrac-mirror/commit/3fc917ce8f002c6c9d8fa4909d45b2b613aa1cc1)** to **[3785184](https://github.com/sagemath/sagetrac-mirror/commit/3785184dd352d0ca728f0fcb78e7e025da0d5939)**",
    "created_at": "2016-04-13T19:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159141",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3fc917c](https://github.com/sagemath/sagetrac-mirror/commit/3fc917ce8f002c6c9d8fa4909d45b2b613aa1cc1)** to **[3785184](https://github.com/sagemath/sagetrac-mirror/commit/3785184dd352d0ca728f0fcb78e7e025da0d5939)**



---

archive/issue_comments_159142.json:
```json
{
    "body": "Changed commit from **[3785184](https://github.com/sagemath/sagetrac-mirror/commit/3785184dd352d0ca728f0fcb78e7e025da0d5939)** to **[23fa861](https://github.com/sagemath/sagetrac-mirror/commit/23fa861f318c16e0f8076c8580aa3d8ad719016c)**",
    "created_at": "2016-07-29T18:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159142",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3785184](https://github.com/sagemath/sagetrac-mirror/commit/3785184dd352d0ca728f0fcb78e7e025da0d5939)** to **[23fa861](https://github.com/sagemath/sagetrac-mirror/commit/23fa861f318c16e0f8076c8580aa3d8ad719016c)**



---

archive/issue_comments_159143.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23fa861f318c16e0f8076c8580aa3d8ad719016c\">23fa861</a></td><td><code>Merge branch 'u/chapoton/13436' in 7.3.rc0</code></td></tr></table>\n",
    "created_at": "2016-07-29T18:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159143",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:26'>Comment 26:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23fa861f318c16e0f8076c8580aa3d8ad719016c">23fa861</a></td><td><code>Merge branch 'u/chapoton/13436' in 7.3.rc0</code></td></tr></table>




---

archive/issue_comments_159144.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04d7e402564c4bec71515ee890a389402ebec5a6\">04d7e40</a></td><td><code>Merge branch 'u/chapoton/13436' in 7.6.b5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8721f1d979c937df37215f19d74f252995f39c88\">8721f1d</a></td><td><code>trac 13436 details</code></td></tr></table>\n",
    "created_at": "2017-03-01T16:32:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159144",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04d7e402564c4bec71515ee890a389402ebec5a6">04d7e40</a></td><td><code>Merge branch 'u/chapoton/13436' in 7.6.b5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8721f1d979c937df37215f19d74f252995f39c88">8721f1d</a></td><td><code>trac 13436 details</code></td></tr></table>




---

archive/issue_comments_159145.json:
```json
{
    "body": "Changed commit from **[23fa861](https://github.com/sagemath/sagetrac-mirror/commit/23fa861f318c16e0f8076c8580aa3d8ad719016c)** to **[8721f1d](https://github.com/sagemath/sagetrac-mirror/commit/8721f1d979c937df37215f19d74f252995f39c88)**",
    "created_at": "2017-03-01T16:32:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13436#issuecomment-159145",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[23fa861](https://github.com/sagemath/sagetrac-mirror/commit/23fa861f318c16e0f8076c8580aa3d8ad719016c)** to **[8721f1d](https://github.com/sagemath/sagetrac-mirror/commit/8721f1d979c937df37215f19d74f252995f39c88)**



---

archive/issue_events_166118.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:35:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13436",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13436#event-166118"
}
```
