# Issue 13661: accuracy problem in matrix_mod_pn for Eisenstein extensions of padics

archive/issues_013457.json:
```json
{
    "body": "Currently, the accuracy of the matrix returned by `matrix_mod_pn()` in padic extension rings is probably too small:\n\n```\nsage: R=ZpCA(3,5)\nsage: S.<a> = R[]\nsage: L.<a>=R.extension(a^2-3)\nsage: t=a.add_bigoh(2)\nsage: t.matrix_mod_pn()\n[0 1]\n[0 0]\nsage: (t*a)._ntl_rep_abs() # but t*a is not zero\n([3], 0)\n```\n\nI think it would be better to return the following:\n\n```\n[0 1]\n[3 0]\n```\n\nOf course, the \"1\" is not known to precision `O(3^2)` but I think it is better to leave it to the caller to strip away the digits that are not wanted.\n\nThe attached patch increases the precision to the maximal precision of any of the entries of the matrix.\n\nAssignee: @roed314\n\nKeywords: days71\n\nAuthor: Julian Rueth\n\nBranch: u/saraedum/accuracy_problem_in_matrix_mod_pn_for_eisenstein_extensions_of_padics\n\nDependencies: #13659\n\nCommit: 956f12477e66fa1f2568e910e1f1c6a97d2d7783\n\nIssue created by migration from https://trac.sagemath.org/ticket/13661\n\n",
    "created_at": "2012-10-27T17:39:30Z",
    "labels": [
        "component: padics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "accuracy problem in matrix_mod_pn for Eisenstein extensions of padics",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13661",
    "user": "https://github.com/saraedum"
}
```
Currently, the accuracy of the matrix returned by `matrix_mod_pn()` in padic extension rings is probably too small:

```
sage: R=ZpCA(3,5)
sage: S.<a> = R[]
sage: L.<a>=R.extension(a^2-3)
sage: t=a.add_bigoh(2)
sage: t.matrix_mod_pn()
[0 1]
[0 0]
sage: (t*a)._ntl_rep_abs() # but t*a is not zero
([3], 0)
```

I think it would be better to return the following:

```
[0 1]
[3 0]
```

Of course, the "1" is not known to precision `O(3^2)` but I think it is better to leave it to the caller to strip away the digits that are not wanted.

The attached patch increases the precision to the maximal precision of any of the entries of the matrix.

Assignee: @roed314

Keywords: days71

Author: Julian Rueth

Branch: u/saraedum/accuracy_problem_in_matrix_mod_pn_for_eisenstein_extensions_of_padics

Dependencies: #13659

Commit: 956f12477e66fa1f2568e910e1f1c6a97d2d7783

Issue created by migration from https://trac.sagemath.org/ticket/13661





---

archive/issue_comments_165688.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [trac_13661.patch](tarball://root/attachments/some-uuid/ticket13661/trac_13661.patch) by @jdemeyer created at 2013-08-13 15:35:53",
    "created_at": "2013-08-13T15:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13661#issuecomment-165688",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:1'></a>Attachment [trac_13661.patch](tarball://root/attachments/some-uuid/ticket13661/trac_13661.patch) by @jdemeyer created at 2013-08-13 15:35:53



---

archive/issue_events_038161.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13661",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13661#event-38161"
}
```



---

archive/issue_events_038162.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13661",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13661#event-38162"
}
```



---

archive/issue_events_038163.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13661",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13661#event-38163"
}
```



---

archive/issue_events_038164.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13661",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13661#event-38164"
}
```



---

archive/issue_events_038165.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13661",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13661#event-38165"
}
```



---

archive/issue_events_038166.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13661",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13661#event-38166"
}
```



---

archive/issue_events_038167.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13661",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13661#event-38167"
}
```



---

archive/issue_comments_165689.json:
```json
{
    "body": "<a id='comment:6'></a>New commits:",
    "created_at": "2016-03-24T02:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13661#issuecomment-165689",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:6'></a>New commits:



---

archive/issue_comments_165690.json:
```json
{
    "body": "Changing keywords from \"\" to \"days71\".",
    "created_at": "2016-03-24T02:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13661#issuecomment-165690",
    "user": "https://github.com/saraedum"
}
```

Changing keywords from "" to "days71".
