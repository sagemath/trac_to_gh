# Issue 13203: Promotion on Tableaux should force its argument to be an Integer.

archive/issues_013031.json:
```json
{
    "body": "The entries of a tableau are Integers::\n\n```\n    sage: T = Tableau([[1]])\n    sage: type(T[0][0])\n    <type 'sage.rings.integer.Integer'>\n```\n\nThis invariant should be preserved by inverse promotion::\n\n```\n    sage: type(T.promotion_inverse(2)[0][0])\n    <type 'sage.rings.integer.Integer'>\n```\n\nBut this is currently not if the input is a plain int::\n\n```\n    sage: type(T.promotion_inverse(int(2))[0][0])\n    <type 'int'>\n```\n\n\n**Assignee:** sage-combinat\n\n**CC:**  sage-combinat schilling\n\n**Keywords:** tableaux, promotion\n\n**Reviewer:** Nicolas M. Thi\u00e9ry\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\n**Merged:** sage-5.6.beta3\n\n**Dependencies:** #13074\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13203\n\n",
    "closed_at": "2013-01-07T20:56:13Z",
    "created_at": "2012-07-05T04:54:04Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.6",
    "title": "Promotion on Tableaux should force its argument to be an Integer.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13203",
    "user": "https://github.com/nthiery"
}
```
The entries of a tableau are Integers::

```
    sage: T = Tableau([[1]])
    sage: type(T[0][0])
    <type 'sage.rings.integer.Integer'>
```

This invariant should be preserved by inverse promotion::

```
    sage: type(T.promotion_inverse(2)[0][0])
    <type 'sage.rings.integer.Integer'>
```

But this is currently not if the input is a plain int::

```
    sage: type(T.promotion_inverse(int(2))[0][0])
    <type 'int'>
```


**Assignee:** sage-combinat

**CC:**  sage-combinat schilling

**Keywords:** tableaux, promotion

**Reviewer:** Nicolas M. Thiéry

**Author:** Frédéric Chapoton

**Merged:** sage-5.6.beta3

**Dependencies:** #13074

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/13203





---

archive/issue_comments_201086.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2012-07-13T12:26:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13203#issuecomment-201086",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_201087.json:
```json
{
    "body": "**Changing author** from \"Anne Schilling\" to \"Fr\u00e9d\u00e9ric Chapoton\".",
    "created_at": "2012-07-13T12:26:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13203#issuecomment-201087",
    "user": "https://github.com/fchapoton"
}
```

**Changing author** from "Anne Schilling" to "Frédéric Chapoton".



---

archive/issue_comments_201088.json:
```json
{
    "body": "<a id='comment:3'></a>\nCould somebody please review this patch ?",
    "created_at": "2012-07-22T19:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13203#issuecomment-201088",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
Could somebody please review this patch ?



---

archive/issue_comments_201089.json:
```json
{
    "body": "<a id='comment:4'></a>\nCould you add \n\n```\n    sage: type(T.promotion_inverse(int(2))[0][0])\n    <type 'sage.rings.integer.Integer'>\n```\n\nas a doctest?",
    "created_at": "2012-07-22T20:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13203#issuecomment-201089",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:4'></a>
Could you add 

```
    sage: type(T.promotion_inverse(int(2))[0][0])
    <type 'sage.rings.integer.Integer'>
```

as a doctest?



---

archive/issue_comments_201090.json:
```json
{
    "body": "<a id='comment:5'></a>\nHere is a new ticket, with a doctest added.",
    "created_at": "2012-07-23T12:30:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13203#issuecomment-201090",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
Here is a new ticket, with a doctest added.



---

archive/issue_comments_201091.json:
```json
{
    "body": "<a id='comment:6'></a>\nrebased on 5.2",
    "created_at": "2012-08-25T16:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13203#issuecomment-201091",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
rebased on 5.2



---

archive/issue_comments_201092.json:
```json
{
    "body": "<a id='comment:7'></a>\nI just had a look, and this sounds good. For consistency, can you put spaces on both sides of the `=` sign, and move this line just after the is_rectangular test (putting together all the argument checks/preprocessing).\n\nOnce done, you can set a positive review on my behalf (where is the patchbot?)\n\nAh: it depends syntactically on #13074. I just moved your patch right after it in the queue; please run the tests with them applied.\n\n\nThanks!\n\nCheers,\n                                   Nicolas",
    "created_at": "2012-09-19T11:51:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13203#issuecomment-201092",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:7'></a>
I just had a look, and this sounds good. For consistency, can you put spaces on both sides of the `=` sign, and move this line just after the is_rectangular test (putting together all the argument checks/preprocessing).

Once done, you can set a positive review on my behalf (where is the patchbot?)

Ah: it depends syntactically on #13074. I just moved your patch right after it in the queue; please run the tests with them applied.


Thanks!

Cheers,
                                   Nicolas



---

archive/attachments_017844.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_13203_promotion_integer-fc.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket13203/trac_13203_promotion_integer-fc.patch",
    "created_at": "2012-09-19T12:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/fchapoton"
}
```



---

archive/issue_comments_201093.json:
```json
{
    "body": "<a id='comment:8'></a>\nI have made the changes, and the tests pass. I do not understand whether I should add the dependency to #13074 or not.",
    "created_at": "2012-09-19T12:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13203#issuecomment-201093",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
I have made the changes, and the tests pass. I do not understand whether I should add the dependency to #13074 or not.



---

archive/issue_comments_201094.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2012-09-19T13:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13203#issuecomment-201094",
    "user": "https://github.com/nthiery"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_201095.json:
```json
{
    "body": "<a id='comment:9'></a>\nUnless you commute this patch past #13074, yes it should be a dependency (done)",
    "created_at": "2012-09-19T13:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13203#issuecomment-201095",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:9'></a>
Unless you commute this patch past #13074, yes it should be a dependency (done)



---

archive/issue_comments_201096.json:
```json
{
    "body": "**Dependencies:** #13074",
    "created_at": "2012-09-19T13:43:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13203#issuecomment-201096",
    "user": "https://github.com/nthiery"
}
```

**Dependencies:** #13074



---

archive/issue_events_042423.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-09-20T06:42:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13203#event-42423"
}
```



---

archive/issue_events_042424.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-30T08:39:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13203#event-42424"
}
```



---

archive/issue_events_042425.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-30T08:39:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "milestone": "sage-5.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13203#event-42425"
}
```



---

archive/issue_comments_201097.json:
```json
{
    "body": "**Merged:** sage-5.6.beta3",
    "created_at": "2013-01-07T20:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13203#issuecomment-201097",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.6.beta3



---

archive/issue_comments_201098.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2013-01-07T20:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13203#issuecomment-201098",
    "user": "https://github.com/jdemeyer"
}
```

**Resolution:** fixed



---

archive/issue_events_042426.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-07T20:56:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13203",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13203#event-42426"
}
```
