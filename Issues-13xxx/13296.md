# Issue 13296: unicode default encoding is not utf-8 in command line

archive/issues_013124.json:
```json
{
    "assignees": [
        "https://github.com/jasongrout",
        "https://github.com/williamstein"
    ],
    "body": "<div id=\"comment:0\"></div>\n\n`utf-8` seems to be the default encoding in Python 2.7 for unicode strings:\n\n```python\nPython 2.7.2 (default, May 30 2012, 14:00:43) \n[GCC 4.6.3] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> '\u00e9'\n'\\xc3\\xa9'\n>>> u'\u00e9'\nu'\\xe9'\n>>> unicode('\u00e9', encoding='utf-8')\nu'\\xe9'\n```\n\nBut, in sage-5.2.rc0, latin1 seems to be the default :\n\n```python\nsage: '\u00e9'\n'\\xc3\\xa9'\nsage: u'\u00e9'\nu'\\xc3\\xa9'\nsage: unicode('\u00e9', encoding='latin1')\nu'\\xc3\\xa9'\nsage: unicode('\u00e9', encoding='utf-8')\nu'\\xe9'\n```\n\nAs reported by John Palmieri, the problem seems to be from ipython:\n\n```\n$ sage --ipython\nPython 2.7.2 (default, May 30 2012, 14:00:43) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 0.10.2 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object'. ?object also works, ?? prints more.\n\nIn [1]: '\u00e9'\nOut[1]: '\\xc3\\xa9'\n\nIn [2]: u'\u00e9'\nOut[2]: u'\\xc3\\xa9'\n\nIn [3]: unicode('\u00e9', encoding='utf-8')\nOut[3]: u'\\xe9'\n\nIn [4]: unicode('\u00e9', encoding='latin1')\nOut[4]: u'\\xc3\\xa9'\n```\n\nThis bug was first reported as a problem in matplotlib used from the command line as unicode letter \u00e9 gets replaced by \"\u00c3\u00a9\" in matplotlib plot:\n\n```\nsage: text(u'an accent : \u00e9', (1,1), color='red')\n```\n\nWith #13161 the same problem appears for axes labels :\n\n```\nsage: t = text(u'an accent : \u00e9', (1,1), color='red')\nsage: t.axes_labels([u'an accent : \u00e9', 'Y'])       # broken without #13161\nsage: t\n```\n\nBut, as mentionned in ticket #13161, if the same code is written in a file (even without encoding declared), then unicode gets printed perfectly :\n\n```\n# this is file.sage\nt = text(u'an accent : \u00e9', (1,1), color='red')\nt.axes_labels([u'an accent : \u00e9', 'Y'])       # broken without #13161\n```\n\nIs perfect :\n\n```\nsage: attach file.sage\nsage: t\n```\n\nWhat makes it work in a file but not for the command line?\n\nUpstream: **Fixed upstream, in a later stable release.**\n\nCC:  @kcrisman @dandrake\n\nComponent: **graphics**\n\nKeywords: **unicode, matplotlib**\n\nReviewer: **John Palmieri**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13296_\n\n",
    "closed_at": "2013-03-06T21:01:27Z",
    "created_at": "2012-07-26T16:01:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/worksforme"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "unicode default encoding is not utf-8 in command line",
    "type": "issue",
    "updated_at": "2013-03-06T21:01:27Z",
    "url": "https://github.com/sagemath/sage/issues/13296",
    "user": "https://github.com/seblabbe"
}
```
<div id="comment:0"></div>

`utf-8` seems to be the default encoding in Python 2.7 for unicode strings:

```python
Python 2.7.2 (default, May 30 2012, 14:00:43) 
[GCC 4.6.3] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> 'é'
'\xc3\xa9'
>>> u'é'
u'\xe9'
>>> unicode('é', encoding='utf-8')
u'\xe9'
```

But, in sage-5.2.rc0, latin1 seems to be the default :

```python
sage: 'é'
'\xc3\xa9'
sage: u'é'
u'\xc3\xa9'
sage: unicode('é', encoding='latin1')
u'\xc3\xa9'
sage: unicode('é', encoding='utf-8')
u'\xe9'
```

As reported by John Palmieri, the problem seems to be from ipython:

```
$ sage --ipython
Python 2.7.2 (default, May 30 2012, 14:00:43) 
Type "copyright", "credits" or "license" for more information.

IPython 0.10.2 -- An enhanced Interactive Python.
?         -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help      -> Python's own help system.
object?   -> Details about 'object'. ?object also works, ?? prints more.

In [1]: 'é'
Out[1]: '\xc3\xa9'

In [2]: u'é'
Out[2]: u'\xc3\xa9'

In [3]: unicode('é', encoding='utf-8')
Out[3]: u'\xe9'

In [4]: unicode('é', encoding='latin1')
Out[4]: u'\xc3\xa9'
```

This bug was first reported as a problem in matplotlib used from the command line as unicode letter é gets replaced by "Ã©" in matplotlib plot:

```
sage: text(u'an accent : é', (1,1), color='red')
```

With #13161 the same problem appears for axes labels :

```
sage: t = text(u'an accent : é', (1,1), color='red')
sage: t.axes_labels([u'an accent : é', 'Y'])       # broken without #13161
sage: t
```

But, as mentionned in ticket #13161, if the same code is written in a file (even without encoding declared), then unicode gets printed perfectly :

```
# this is file.sage
t = text(u'an accent : é', (1,1), color='red')
t.axes_labels([u'an accent : é', 'Y'])       # broken without #13161
```

Is perfect :

```
sage: attach file.sage
sage: t
```

What makes it work in a file but not for the command line?

Upstream: **Fixed upstream, in a later stable release.**

CC:  @kcrisman @dandrake

Component: **graphics**

Keywords: **unicode, matplotlib**

Reviewer: **John Palmieri**

_Issue created by migration from https://trac.sagemath.org/ticket/13296_





---

archive/issue_events_183606.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2012-07-26T16:01:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "milestone_number": null,
    "milestone_title": "sage-5.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183606"
}
```



---

archive/issue_events_183607.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2012-07-26T16:01:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183607"
}
```



---

archive/issue_events_183608.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2012-07-26T16:01:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183608"
}
```



---

archive/issue_events_183609.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2012-07-26T16:01:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183609"
}
```



---

archive/issue_events_183610.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2012-07-26T16:01:07Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "subject": "https://github.com/seblabbe",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183610"
}
```



---

archive/issue_events_183611.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2012-07-26T16:01:07Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "subject": "https://github.com/seblabbe",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183611"
}
```



---

archive/issue_comments_153641.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -27,4 +27,4 @@\n sage: t\n ```\n \n-What is the difference between a file and the command line?\n+What makes it work in a file but not for the command line?\n``````\n",
    "created_at": "2012-07-26T16:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153641",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -27,4 +27,4 @@
 sage: t
 ```
 
-What is the difference between a file and the command line?
+What makes it work in a file but not for the command line?
``````




---

archive/issue_comments_153642.json:
```json
{
    "body": "Changed dependencies from **#13161** to none",
    "created_at": "2012-07-26T16:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153642",
    "user": "https://github.com/seblabbe"
}
```

Changed dependencies from **#13161** to none



---

archive/issue_comments_153643.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,7 @@\n sage: t\n ```\n \n-But, as mentionned in ticket #13161, if the same code is written in a file without encoding, then unicode gets printed perfectly :\n+But, as mentionned in ticket #13161, if the same code is written in a file (even without encoding declared), then unicode gets printed perfectly :\n \n ```\n # this is file.sage\n``````\n",
    "created_at": "2012-07-26T16:19:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153643",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,7 @@
 sage: t
 ```
 
-But, as mentionned in ticket #13161, if the same code is written in a file without encoding, then unicode gets printed perfectly :
+But, as mentionned in ticket #13161, if the same code is written in a file (even without encoding declared), then unicode gets printed perfectly :
 
 ```
 # this is file.sage
``````




---

archive/issue_comments_153644.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nNot surprised why `attach file.sage` works. According to a note in `sage/misc/interpreter.py`, Sage defaults to `utf-8` if no encoding is detected.\n\n```\n    - We default to UTF-8 encoding even though PEP 263 says that\n      Python files should default to ASCII.\n```\n\nBut `sage file.sage` doesn't work. Probably the functions in `interpreter.py` don't get called?",
    "created_at": "2012-07-29T10:42:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153644",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:5" align="right">comment:5</div>

Not surprised why `attach file.sage` works. According to a note in `sage/misc/interpreter.py`, Sage defaults to `utf-8` if no encoding is detected.

```
    - We default to UTF-8 encoding even though PEP 263 says that
      Python files should default to ASCII.
```

But `sage file.sage` doesn't work. Probably the functions in `interpreter.py` don't get called?



---

archive/issue_comments_153645.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@ppurka](#comment%3A5):\n> According to a note in `sage/misc/interpreter.py`, Sage defaults to `utf-8` if no encoding is detected.\n\nUsing sage-5.2.rc0, I don't see this note. It diseappeared? or appeared later?\n \n> But `sage file.sage` doesn't work. Probably the functions in `interpreter.py` don't get called?\n\nBut if the encoding is declared in `file.sage` :\n\n```\n# -*- coding: utf-8 -*-\n# this is file.sage\nt = text(u'an accent : \u00e9', (1,1), color='red')\nt.axes_labels([u'an accent : \u00e9', 'Y'])       # broken without #13161\nt.show()\n```\n\nthen `sage file.sage` works perfectly : the accent \"\u00e9\" gets properly written. So the problem seems to be from the command line...",
    "created_at": "2012-07-30T13:24:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153645",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@ppurka](#comment%3A5):
> According to a note in `sage/misc/interpreter.py`, Sage defaults to `utf-8` if no encoding is detected.

Using sage-5.2.rc0, I don't see this note. It diseappeared? or appeared later?
 
> But `sage file.sage` doesn't work. Probably the functions in `interpreter.py` don't get called?

But if the encoding is declared in `file.sage` :

```
# -*- coding: utf-8 -*-
# this is file.sage
t = text(u'an accent : é', (1,1), color='red')
t.axes_labels([u'an accent : é', 'Y'])       # broken without #13161
t.show()
```

then `sage file.sage` works perfectly : the accent "é" gets properly written. So the problem seems to be from the command line...



---

archive/issue_comments_153646.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@seblabbe](#comment%3A6):\n> Replying to [@ppurka](#comment%3A5):\n> > According to a note in `sage/misc/interpreter.py`, Sage defaults to `utf-8` if no encoding is detected.\n> \n> \n> Using sage-5.2.rc0, I don't see this note. It diseappeared? or appeared later?\n\nIt's there in line 336 of `$SAGE_ROOT/devel/sage/sage/misc/interpreter.py`. \n\n\n> > But `sage file.sage` doesn't work. Probably the functions in `interpreter.py` don't get called?\n> \n> \n> But if the encoding is declared in `file.sage` :\n\nOf course, it works then. All that the functions in `interpreter.py` do is put the string `-*- coding: utf-8 -*-` in the beginning of the python file they create. After that it \"just works.\" Which is why I said that perhaps the necessary functions in the `interpreter.py` are not called when Sage is run in command line.",
    "created_at": "2012-07-30T13:42:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153646",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@seblabbe](#comment%3A6):
> Replying to [@ppurka](#comment%3A5):
> > According to a note in `sage/misc/interpreter.py`, Sage defaults to `utf-8` if no encoding is detected.
> 
> 
> Using sage-5.2.rc0, I don't see this note. It diseappeared? or appeared later?

It's there in line 336 of `$SAGE_ROOT/devel/sage/sage/misc/interpreter.py`. 


> > But `sage file.sage` doesn't work. Probably the functions in `interpreter.py` don't get called?
> 
> 
> But if the encoding is declared in `file.sage` :

Of course, it works then. All that the functions in `interpreter.py` do is put the string `-*- coding: utf-8 -*-` in the beginning of the python file they create. After that it "just works." Which is why I said that perhaps the necessary functions in the `interpreter.py` are not called when Sage is run in command line.



---

archive/issue_comments_153647.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n> > Using sage-5.2.rc0, I don't see this note. It diseappeared? or appeared later?\n> \n> \n> It's there in line 336 of `$SAGE_ROOT/devel/sage/sage/misc/interpreter.py`. \n\nMy fault, I am using sage-5.2.rc0 with #12719 which changed this file.\n\n> > > But `sage file.sage` doesn't work. Probably the functions in `interpreter.py` don't get called?\n> > \n> > \n> > But if the encoding is declared in `file.sage` :\n> \n> \n> Of course, it works then. All that the functions in `interpreter.py` do is put the string `-*- coding: utf-8 -*-` in the beginning of the python file they create. After that it \"just works.\" Which is why I said that perhaps the necessary functions in the `interpreter.py` are not called when Sage is run in command line.\n\nSorry, I misunderstood the \"doesn't work\". Thanks for the clarifications.\n\nSo now, we need to understand how to put the string `-*- coding: utf-8 -*-` somewhere for the commande line?\n\nS\u00e9bastien",
    "created_at": "2012-07-30T14:00:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153647",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:8" align="right">comment:8</div>

> > Using sage-5.2.rc0, I don't see this note. It diseappeared? or appeared later?
> 
> 
> It's there in line 336 of `$SAGE_ROOT/devel/sage/sage/misc/interpreter.py`. 

My fault, I am using sage-5.2.rc0 with #12719 which changed this file.

> > > But `sage file.sage` doesn't work. Probably the functions in `interpreter.py` don't get called?
> > 
> > 
> > But if the encoding is declared in `file.sage` :
> 
> 
> Of course, it works then. All that the functions in `interpreter.py` do is put the string `-*- coding: utf-8 -*-` in the beginning of the python file they create. After that it "just works." Which is why I said that perhaps the necessary functions in the `interpreter.py` are not called when Sage is run in command line.

Sorry, I misunderstood the "doesn't work". Thanks for the clarifications.

So now, we need to understand how to put the string `-*- coding: utf-8 -*-` somewhere for the commande line?

Sébastien



---

archive/issue_comments_153648.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@seblabbe](#comment%3A8):\n> So now, we need to understand how to put the string `-*- coding: utf-8 -*-` somewhere for the commande line?\n\nEssentially, yes. I suppose (haven't looked at it completely) sage creates a python file and then runs that under python. If so, all that would be needed to be done is make sure that this file that is created always has a header that says the encoding is utf8.",
    "created_at": "2012-07-30T14:05:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153648",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@seblabbe](#comment%3A8):
> So now, we need to understand how to put the string `-*- coding: utf-8 -*-` somewhere for the commande line?

Essentially, yes. I suppose (haven't looked at it completely) sage creates a python file and then runs that under python. If so, all that would be needed to be done is make sure that this file that is created always has a header that says the encoding is utf8.



---

archive/issue_comments_153649.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n> So now, we need to understand how to put the string -*- coding: utf-8 -*- somewhere for the commande line? \n\nI'm not sure this is a good idea: we shouldn't change Python's default behavior without a really good reason. If you want to use accents in a Python string, then I think you need to specify the encoding explicitly (see http://docs.python.org/howto/unicode.html, in particular [this section](http://docs.python.org/howto/unicode.html#unicode-literals-in-python-source-code)). So you should do\n\n```\nsage: text(unicode('an accent : \u00e9', encoding='utf-8'), (1,1), color='red')\n```\nThis command works for me. Indeed,\n\n```\nsage: s = unicode('an accent : \u00e9', encoding='utf-8')\nsage: ss = u'an accent : \u00e9'\nsage: s == ss\nFalse\n```\nand I think that the `s` version is the right way to do it. Alternatively, you can use unicode escape sequences, as in\n\n```\ntext(u'an accent : \\xe9', (1,1), color='red')\n```\nI'm not at all a unicode expert, though.\n\nAnyway, I suggest instead adding some documentation. See the attached patch.",
    "created_at": "2012-07-30T17:30:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153649",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:10" align="right">comment:10</div>

> So now, we need to understand how to put the string -*- coding: utf-8 -*- somewhere for the commande line? 

I'm not sure this is a good idea: we shouldn't change Python's default behavior without a really good reason. If you want to use accents in a Python string, then I think you need to specify the encoding explicitly (see http://docs.python.org/howto/unicode.html, in particular [this section](http://docs.python.org/howto/unicode.html#unicode-literals-in-python-source-code)). So you should do

```
sage: text(unicode('an accent : é', encoding='utf-8'), (1,1), color='red')
```
This command works for me. Indeed,

```
sage: s = unicode('an accent : é', encoding='utf-8')
sage: ss = u'an accent : é'
sage: s == ss
False
```
and I think that the `s` version is the right way to do it. Alternatively, you can use unicode escape sequences, as in

```
text(u'an accent : \xe9', (1,1), color='red')
```
I'm not at all a unicode expert, though.

Anyway, I suggest instead adding some documentation. See the attached patch.



---

archive/issue_comments_153650.json:
```json
{
    "body": "Author: **John Palmieri**",
    "created_at": "2012-07-30T17:31:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153650",
    "user": "https://github.com/jhpalmieri"
}
```

Author: **John Palmieri**



---

archive/issue_events_183612.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2012-07-30T17:31:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183612"
}
```



---

archive/issue_comments_153651.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAttachment: **[trac_13296-unicode-text.patch.gz](https://github.com/sagemath/sage/files/ticket13296/trac_13296-unicode-text.patch.gz)**\n\nGreat, thanks for the documentation link. I just read all of it. I now see the difference between unicode and utf-8, which I was seeing vaguely as synonyms.\n\nSurprisingly, whereas Sage returns `False`, in Python 2.6 and 2.7, `ss == s` returns `True`:\n\n```python\n>>> s = unicode('an accent : \u00e9', encoding='utf-8')\n>>> ss = u'an accent : \u00e9'\n>>> s == ss\nTrue\n```\n\nThat means utf-8 is the default encoding in Python 2.7 for unicode strings. In more details:\n\n```python\nPython 2.7.2 (default, May 30 2012, 14:00:43) \n[GCC 4.6.3] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> '\u00e9'\n'\\xc3\\xa9'\n>>> u'\u00e9'\nu'\\xe9'\n>>> unicode('\u00e9', encoding='utf-8')\nu'\\xe9'\n```\n\nBut, in sage-5.0, latin1 seems to be the default encoding for unicode strings :\n\n```python\nsage: '\u00e9'\n'\\xc3\\xa9'\nsage: u'\u00e9'\nu'\\xc3\\xa9'\nsage: unicode('\u00e9', encoding='latin1')\nu'\\xc3\\xa9'\nsage: unicode('\u00e9', encoding='utf-8')\nu'\\xe9'\n```\n\nI did not look at the patch yet.",
    "created_at": "2012-07-30T19:00:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153651",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:12" align="right">comment:12</div>

Attachment: **[trac_13296-unicode-text.patch.gz](https://github.com/sagemath/sage/files/ticket13296/trac_13296-unicode-text.patch.gz)**

Great, thanks for the documentation link. I just read all of it. I now see the difference between unicode and utf-8, which I was seeing vaguely as synonyms.

Surprisingly, whereas Sage returns `False`, in Python 2.6 and 2.7, `ss == s` returns `True`:

```python
>>> s = unicode('an accent : é', encoding='utf-8')
>>> ss = u'an accent : é'
>>> s == ss
True
```

That means utf-8 is the default encoding in Python 2.7 for unicode strings. In more details:

```python
Python 2.7.2 (default, May 30 2012, 14:00:43) 
[GCC 4.6.3] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> 'é'
'\xc3\xa9'
>>> u'é'
u'\xe9'
>>> unicode('é', encoding='utf-8')
u'\xe9'
```

But, in sage-5.0, latin1 seems to be the default encoding for unicode strings :

```python
sage: 'é'
'\xc3\xa9'
sage: u'é'
u'\xc3\xa9'
sage: unicode('é', encoding='latin1')
u'\xc3\xa9'
sage: unicode('é', encoding='utf-8')
u'\xe9'
```

I did not look at the patch yet.



---

archive/issue_comments_153652.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAlso, I just realized that in sage-5.2.rc0 with the new ipython at #12719, the default encoding seems to be utf-8, so that this ticket would be fixed by #12719 in its actual state :\n\n```\nsage: u'\u00e9'\nu'\\xe9'\n```",
    "created_at": "2012-07-30T19:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153652",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:13" align="right">comment:13</div>

Also, I just realized that in sage-5.2.rc0 with the new ipython at #12719, the default encoding seems to be utf-8, so that this ticket would be fixed by #12719 in its actual state :

```
sage: u'é'
u'\xe9'
```



---

archive/issue_comments_153653.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI looked at the patch. All tests passed on `sage/plot/text.py`. If the behavior\n\n```\nsage: u'\u00e9'\nu'\\xc3\\xa9'\n```\n\nis OK, I think the new documentation is a good fix and this ticket deserve a positive review. But, if we prefer the Python default way :\n\n```\n>>> u'\u00e9'\nu'\\xe9'\n```\n\nthen I believe we need one more patch... What do you think?",
    "created_at": "2012-07-30T19:48:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153653",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:14" align="right">comment:14</div>

I looked at the patch. All tests passed on `sage/plot/text.py`. If the behavior

```
sage: u'é'
u'\xc3\xa9'
```

is OK, I think the new documentation is a good fix and this ticket deserve a positive review. But, if we prefer the Python default way :

```
>>> u'é'
u'\xe9'
```

then I believe we need one more patch... What do you think?



---

archive/issue_comments_153654.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nIt looks like it's IPython:\n\n```\n$ sage --ipython\nPython 2.7.3 (default, Jul 26 2012, 17:22:39) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 0.10.2 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object'. ?object also works, ?? prints more.\n\nIn [1]: s = unicode('an accent : \u00e9', encoding='utf-8')\n\nIn [2]: ss = u'an accent : \u00e9'\n\nIn [3]: s == ss\nOut[3]: False\n\nIn [4]: s\nOut[4]: u'an accent : \\xe9'\n\nIn [5]: ss\nOut[5]: u'an accent : \\xc3\\xa9'\n```",
    "created_at": "2012-07-30T20:55:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153654",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:15" align="right">comment:15</div>

It looks like it's IPython:

```
$ sage --ipython
Python 2.7.3 (default, Jul 26 2012, 17:22:39) 
Type "copyright", "credits" or "license" for more information.

IPython 0.10.2 -- An enhanced Interactive Python.
?         -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help      -> Python's own help system.
object?   -> Details about 'object'. ?object also works, ?? prints more.

In [1]: s = unicode('an accent : é', encoding='utf-8')

In [2]: ss = u'an accent : é'

In [3]: s == ss
Out[3]: False

In [4]: s
Out[4]: u'an accent : \xe9'

In [5]: ss
Out[5]: u'an accent : \xc3\xa9'
```



---

archive/issue_comments_153655.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@jhpalmieri](#comment%3A15):\n> It looks like it's IPython\n\nand the problem is no longer there with the IPython spkg from #12719. In fact, the `text` commands in the ticket description work fine for me, with #12719 in place. So maybe this ticket should be marked as invalid, and we'll just wait until #12719?",
    "created_at": "2012-07-30T21:13:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153655",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@jhpalmieri](#comment%3A15):
> It looks like it's IPython

and the problem is no longer there with the IPython spkg from #12719. In fact, the `text` commands in the ticket description work fine for me, with #12719 in place. So maybe this ticket should be marked as invalid, and we'll just wait until #12719?



---

archive/issue_comments_153656.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI agree. If ipython fixes this magically, then we should just close this ticket as invalid and get #12719 merged.",
    "created_at": "2012-07-31T05:58:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153656",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:17" align="right">comment:17</div>

I agree. If ipython fixes this magically, then we should just close this ticket as invalid and get #12719 merged.



---

archive/issue_comments_153657.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,57 @@\n-Using sage-5.2.rc0, unicode letter \u00e9 gets replaced by \"\u00c3\u00a9\" in matplotlib plot:\n+`utf-8` seems to be the default encoding in Python 2.7 for unicode strings:\n+\n+```python\n+Python 2.7.2 (default, May 30 2012, 14:00:43) \n+[GCC 4.6.3] on darwin\n+Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n+>>> '\u00e9'\n+'\\xc3\\xa9'\n+>>> u'\u00e9'\n+u'\\xe9'\n+>>> unicode('\u00e9', encoding='utf-8')\n+u'\\xe9'\n+```\n+\n+But, in sage-5.2.rc0, latin1 seems to be the default :\n+\n+```python\n+sage: '\u00e9'\n+'\\xc3\\xa9'\n+sage: u'\u00e9'\n+u'\\xc3\\xa9'\n+sage: unicode('\u00e9', encoding='latin1')\n+u'\\xc3\\xa9'\n+sage: unicode('\u00e9', encoding='utf-8')\n+u'\\xe9'\n+```\n+\n+As reported by John Palmieri, the problem seems to be from ipython:\n+\n+```\n+$ sage --ipython\n+Python 2.7.2 (default, May 30 2012, 14:00:43) \n+Type \"copyright\", \"credits\" or \"license\" for more information.\n+\n+IPython 0.10.2 -- An enhanced Interactive Python.\n+?         -> Introduction and overview of IPython's features.\n+%quickref -> Quick reference.\n+help      -> Python's own help system.\n+object?   -> Details about 'object'. ?object also works, ?? prints more.\n+\n+In [1]: '\u00e9'\n+Out[1]: '\\xc3\\xa9'\n+\n+In [2]: u'\u00e9'\n+Out[2]: u'\\xc3\\xa9'\n+\n+In [3]: unicode('\u00e9', encoding='utf-8')\n+Out[3]: u'\\xe9'\n+\n+In [4]: unicode('\u00e9', encoding='latin1')\n+Out[4]: u'\\xc3\\xa9'\n+```\n+\n+This bug was first reported as a problem in matplotlib used from the command line as unicode letter \u00e9 gets replaced by \"\u00c3\u00a9\" in matplotlib plot:\n \n ```\n sage: text(u'an accent : \u00e9', (1,1), color='red')\n``````\n",
    "created_at": "2012-07-31T12:59:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153657",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,57 @@
-Using sage-5.2.rc0, unicode letter é gets replaced by "Ã©" in matplotlib plot:
+`utf-8` seems to be the default encoding in Python 2.7 for unicode strings:
+
+```python
+Python 2.7.2 (default, May 30 2012, 14:00:43) 
+[GCC 4.6.3] on darwin
+Type "help", "copyright", "credits" or "license" for more information.
+>>> 'é'
+'\xc3\xa9'
+>>> u'é'
+u'\xe9'
+>>> unicode('é', encoding='utf-8')
+u'\xe9'
+```
+
+But, in sage-5.2.rc0, latin1 seems to be the default :
+
+```python
+sage: 'é'
+'\xc3\xa9'
+sage: u'é'
+u'\xc3\xa9'
+sage: unicode('é', encoding='latin1')
+u'\xc3\xa9'
+sage: unicode('é', encoding='utf-8')
+u'\xe9'
+```
+
+As reported by John Palmieri, the problem seems to be from ipython:
+
+```
+$ sage --ipython
+Python 2.7.2 (default, May 30 2012, 14:00:43) 
+Type "copyright", "credits" or "license" for more information.
+
+IPython 0.10.2 -- An enhanced Interactive Python.
+?         -> Introduction and overview of IPython's features.
+%quickref -> Quick reference.
+help      -> Python's own help system.
+object?   -> Details about 'object'. ?object also works, ?? prints more.
+
+In [1]: 'é'
+Out[1]: '\xc3\xa9'
+
+In [2]: u'é'
+Out[2]: u'\xc3\xa9'
+
+In [3]: unicode('é', encoding='utf-8')
+Out[3]: u'\xe9'
+
+In [4]: unicode('é', encoding='latin1')
+Out[4]: u'\xc3\xa9'
+```
+
+This bug was first reported as a problem in matplotlib used from the command line as unicode letter é gets replaced by "Ã©" in matplotlib plot:
 
 ```
 sage: text(u'an accent : é', (1,1), color='red')
``````




---

archive/issue_events_183613.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2012-07-31T12:59:25Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "title_is": "unicode default encoding is not utf-8 in command line",
    "title_was": "matplotlib do not handle unicode properly from command line",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183613"
}
```



---

archive/issue_comments_153658.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI updated the title of the ticket and the description for what we learned so far, i.e. it is not a problem in matplotlib.",
    "created_at": "2012-07-31T12:59:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153658",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:18" align="right">comment:18</div>

I updated the title of the ticket and the description for what we learned so far, i.e. it is not a problem in matplotlib.



---

archive/issue_comments_153659.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThe problem is fixed in IPython 0.13 (see ticket #12719) :\n\n```\nPython 2.7.3 (default, Jul 19 2012, 21:24:57) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 0.13 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n\nIn [1]: '\u00e9'\nOut[1]: '\\xc3\\xa9'\n\nIn [2]: u'\u00e9'\nOut[2]: u'\\xe9'\n```\n\nand was also fixed in IPython 0.12.1 :\n\n```\nPython 2.7.2 (default, May  9 2012, 21:52:56) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 0.12.1 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n\nIn [1]: '\u00e9'\nOut[1]: '\\xc3\\xa9'\n\nIn [2]: u'\u00e9'\nOut[2]: u'\\xe9'\n```\n\nFor now, I think we don't know how long will take #12719 (yesterday, William Stein found serious bug with it and discouraged its use). So if it takes one or two Sage version before merging #12719, maybe meanwhile we can find a way to change the default encoding of ipython from 'latin1' to 'utf-8' ?",
    "created_at": "2012-07-31T13:10:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153659",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:19" align="right">comment:19</div>

The problem is fixed in IPython 0.13 (see ticket #12719) :

```
Python 2.7.3 (default, Jul 19 2012, 21:24:57) 
Type "copyright", "credits" or "license" for more information.

IPython 0.13 -- An enhanced Interactive Python.
?         -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help      -> Python's own help system.
object?   -> Details about 'object', use 'object??' for extra details.

In [1]: 'é'
Out[1]: '\xc3\xa9'

In [2]: u'é'
Out[2]: u'\xe9'
```

and was also fixed in IPython 0.12.1 :

```
Python 2.7.2 (default, May  9 2012, 21:52:56) 
Type "copyright", "credits" or "license" for more information.

IPython 0.12.1 -- An enhanced Interactive Python.
?         -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help      -> Python's own help system.
object?   -> Details about 'object', use 'object??' for extra details.

In [1]: 'é'
Out[1]: '\xc3\xa9'

In [2]: u'é'
Out[2]: u'\xe9'
```

For now, I think we don't know how long will take #12719 (yesterday, William Stein found serious bug with it and discouraged its use). So if it takes one or two Sage version before merging #12719, maybe meanwhile we can find a way to change the default encoding of ipython from 'latin1' to 'utf-8' ?



---

archive/issue_comments_153660.json:
```json
{
    "body": "Upstream: **Fixed upstream, in a later stable release.**",
    "created_at": "2012-07-31T13:10:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153660",
    "user": "https://github.com/seblabbe"
}
```

Upstream: **Fixed upstream, in a later stable release.**



---

archive/issue_comments_153661.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI don't think the default encoding is `latin1`; instead, I think that IPython does some preprocessing on strings, and that preprocessing converts `u'an accent : \u00e9'` into something different \u2013 I think it replaces it by `u'an accent : \u00e9'.encode('utf-8')`. In any case, I think fixing this the right way will involve patching IPython.",
    "created_at": "2012-07-31T14:47:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153661",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:20" align="right">comment:20</div>

I don't think the default encoding is `latin1`; instead, I think that IPython does some preprocessing on strings, and that preprocessing converts `u'an accent : é'` into something different – I think it replaces it by `u'an accent : é'.encode('utf-8')`. In any case, I think fixing this the right way will involve patching IPython.



---

archive/issue_comments_153662.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nShould this be closed now that IPython has been updated?",
    "created_at": "2013-03-06T15:33:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153662",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Should this be closed now that IPython has been updated?



---

archive/issue_events_183614.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-06T15:33:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "milestone_number": null,
    "milestone_title": "sage-5.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183614"
}
```



---

archive/issue_comments_153663.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nYes, the problems in the ticket description seem to be solved now.",
    "created_at": "2013-03-06T18:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153663",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:22" align="right">comment:22</div>

Yes, the problems in the ticket description seem to be solved now.



---

archive/issue_comments_153664.json:
```json
{
    "body": "Reviewer: **John Palmieri**",
    "created_at": "2013-03-06T20:30:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153664",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **John Palmieri**



---

archive/issue_comments_153665.json:
```json
{
    "body": "Changed author from **John Palmieri** to none",
    "created_at": "2013-03-06T20:30:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13296#issuecomment-153665",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **John Palmieri** to none



---

archive/issue_events_183615.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-06T20:30:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183615"
}
```



---

archive/issue_events_183616.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-06T20:30:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183616"
}
```



---

archive/issue_events_183617.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-06T21:01:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183617"
}
```



---

archive/issue_events_183618.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-06T21:01:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183618"
}
```



---

archive/issue_events_183619.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-06T21:01:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183619"
}
```



---

archive/issue_events_183620.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-06T21:01:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13296",
    "label": "https://github.com/sagemath/sage/labels/worksforme",
    "label_color": "c6c6c6",
    "label_name": "worksforme",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13296#event-183620"
}
```
