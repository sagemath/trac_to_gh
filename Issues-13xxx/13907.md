# Issue 13907: Fix docstrings in sage/ext/fast_eval.pyx

archive/issues_013703.json:
```json
{
    "body": "The docstrings in this file are quite messed up. Changes are needed throughout the file, since the output documentation is never formatted correctly.\n\nAssignee: mvngu\n\nKeywords: beginner, days57\n\nBranch/Commit: 05f65e7ee725d261969ca8e447ef2cef5e3a995c\n\nReviewer: Vincent Delecroix, Fr\u00e9d\u00e9ric Chapoton, Marc Mezzarobba\n\nAuthor: Charles Fougeron\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/13907\n\n",
    "closed_at": "2015-02-08T15:26:24Z",
    "created_at": "2013-01-04T11:06:06Z",
    "labels": [
        "component: documentation",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "Fix docstrings in sage/ext/fast_eval.pyx",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13907",
    "user": "https://github.com/ppurka"
}
```
The docstrings in this file are quite messed up. Changes are needed throughout the file, since the output documentation is never formatted correctly.

Assignee: mvngu

Keywords: beginner, days57

Branch/Commit: 05f65e7ee725d261969ca8e447ef2cef5e3a995c

Reviewer: Vincent Delecroix, Frédéric Chapoton, Marc Mezzarobba

Author: Charles Fougeron

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/13907





---

archive/issue_comments_181035.json:
```json
{
    "body": "Changing keywords from \"\" to \"beginner\".",
    "created_at": "2013-02-06T16:43:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181035",
    "user": "https://github.com/KPanComputes"
}
```

Changing keywords from "" to "beginner".



---

archive/issue_comments_181036.json:
```json
{
    "body": "<a id='comment:2'></a>Just so that we don't duplicate work, I am working on this one. :)",
    "created_at": "2013-02-06T18:01:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181036",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:2'></a>Just so that we don't duplicate work, I am working on this one. :)



---

archive/issue_comments_181037.json:
```json
{
    "body": "<a id='comment:3'></a>Well, I am afraid, at the moment, this file is not a part of the documentation that we build. Do you intend this ticket to serve for the addition of this file into our documentation or am I missing something? \n\n~KnS",
    "created_at": "2013-02-24T20:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181037",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:3'></a>Well, I am afraid, at the moment, this file is not a part of the documentation that we build. Do you intend this ticket to serve for the addition of this file into our documentation or am I missing something? 

~KnS



---

archive/issue_comments_181038.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2013-02-24T20:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181038",
    "user": "https://github.com/KPanComputes"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_181039.json:
```json
{
    "body": "<a id='comment:4'></a>I know that it doesn't add to the documentation. But, documentation is not the only place where a well-formatted docstring is needed. I stumbled across this when checking some function's help in the notebook. It's a mess. Because it is not present in the main documentation, it has been a low priority job for me too. If you have already fixed the docs, then put it up here and I will review it.",
    "created_at": "2013-02-25T01:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181039",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:4'></a>I know that it doesn't add to the documentation. But, documentation is not the only place where a well-formatted docstring is needed. I stumbled across this when checking some function's help in the notebook. It's a mess. Because it is not present in the main documentation, it has been a low priority job for me too. If you have already fixed the docs, then put it up here and I will review it.



---

archive/issue_comments_181040.json:
```json
{
    "body": "<a id='comment:5'></a>Hello! \n\nI am having difficulty how I'd go around verifying if I am doing it right. I build after modifying and check the docs from the notebook -- it is the same, although I expect some improvement! Should I commit? Please leave some pointers so I could work on this, when I get time.",
    "created_at": "2013-03-14T19:43:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181040",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:5'></a>Hello! 

I am having difficulty how I'd go around verifying if I am doing it right. I build after modifying and check the docs from the notebook -- it is the same, although I expect some improvement! Should I commit? Please leave some pointers so I could work on this, when I get time.



---

archive/issue_comments_181041.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 knsam]:\n> Hello! \n> \n> I am having difficulty how I'd go around verifying if I am doing it right. I build after modifying and check the docs from the notebook -- it is the same, although I expect some improvement! Should I commit? Please leave some pointers so I could work on this, when I get time.  \n\nHello, you need to do the following.\n1. Start a notebook and open a new worksheet.\n2. Do your modifications to the file. Save it and rebuild it using `sage -b`\n3. Go to the worksheet and select `Action -> Restart worksheet`.\n4. Go to step 2 until done. `:-)`\n\nTo test your modifications:\n1. For the stuff at the top of the file, simply evaluate `sage.ext.fast_eval?` (or press TAB after typing that path). If there are stuff like \"Traceback....\" in the doctest, then evaluating it might not show the full documentation. This is a bug in the notebook. In this case, either simply press TAB, or click to the left of the cell output just once, and you will see the full doctest.\n2. For classes within that file, again simply evaluate them or press TAB, for instance you would see the output of the docstring in the class `FastDoubleFunc` by running `sage.ext.fast_eval.FastDoubleFunc?`.\n3. For the methods within a class, use the full path to the method again, for example `sage.ext.fast_eval.FastDoubleFunc.__cmp__?`.\n4. Finally, for functions within the file, again give the full path `sage.ext.fast_eval.fast_float?`.\n5. If you have written each of those functions, methods, etc, in a different cell, then after selecting \"Action -> Restart worksheet\" after a rebuild of sage, you can select \"Action -> Evaluate all\" to evaluate all the cells. It is fast way to check your modifications.\n\nThe functions or methods which are starting with `cdef` are never visible from the python interface, so it is up to you whether you want to fix the docstrings in them or not. For a first pass, just leave them alone since there is no way to verify whether they are fixed or not.\n\nEDIT: You **do not** need to build the docs with `sage -docbuild`, `make doc`, etc. You just need to build sage using `sage -b`.",
    "created_at": "2013-03-14T21:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181041",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:6'></a>Replying to [comment:5 knsam]:
> Hello! 
> 
> I am having difficulty how I'd go around verifying if I am doing it right. I build after modifying and check the docs from the notebook -- it is the same, although I expect some improvement! Should I commit? Please leave some pointers so I could work on this, when I get time.  

Hello, you need to do the following.
1. Start a notebook and open a new worksheet.
2. Do your modifications to the file. Save it and rebuild it using `sage -b`
3. Go to the worksheet and select `Action -> Restart worksheet`.
4. Go to step 2 until done. `:-)`

To test your modifications:
1. For the stuff at the top of the file, simply evaluate `sage.ext.fast_eval?` (or press TAB after typing that path). If there are stuff like "Traceback...." in the doctest, then evaluating it might not show the full documentation. This is a bug in the notebook. In this case, either simply press TAB, or click to the left of the cell output just once, and you will see the full doctest.
2. For classes within that file, again simply evaluate them or press TAB, for instance you would see the output of the docstring in the class `FastDoubleFunc` by running `sage.ext.fast_eval.FastDoubleFunc?`.
3. For the methods within a class, use the full path to the method again, for example `sage.ext.fast_eval.FastDoubleFunc.__cmp__?`.
4. Finally, for functions within the file, again give the full path `sage.ext.fast_eval.fast_float?`.
5. If you have written each of those functions, methods, etc, in a different cell, then after selecting "Action -> Restart worksheet" after a rebuild of sage, you can select "Action -> Evaluate all" to evaluate all the cells. It is fast way to check your modifications.

The functions or methods which are starting with `cdef` are never visible from the python interface, so it is up to you whether you want to fix the docstrings in them or not. For a first pass, just leave them alone since there is no way to verify whether they are fixed or not.

EDIT: You **do not** need to build the docs with `sage -docbuild`, `make doc`, etc. You just need to build sage using `sage -b`.



---

archive/issue_events_039045.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13907#event-39045"
}
```



---

archive/issue_events_039046.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13907#event-39046"
}
```



---

archive/issue_events_039047.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13907#event-39047"
}
```



---

archive/issue_comments_181042.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2014-04-08T00:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181042",
    "user": "https://trac.sagemath.org/admin/accounts/users/Fougeroc"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_181043.json:
```json
{
    "body": "<a id='comment:9'></a>New commits:",
    "created_at": "2014-04-08T00:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181043",
    "user": "https://trac.sagemath.org/admin/accounts/users/Fougeroc"
}
```

<a id='comment:9'></a>New commits:



---

archive/issue_comments_181044.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-04-08T00:47:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181044",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_181045.json:
```json
{
    "body": "Changing keywords from \"beginner\" to \"beginner, days57\".",
    "created_at": "2014-04-08T00:47:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181045",
    "user": "https://github.com/videlec"
}
```

Changing keywords from "beginner" to "beginner, days57".



---

archive/issue_comments_181046.json:
```json
{
    "body": "<a id='comment:10'></a>For string formatting, you should look at the developer's guide\nhttp://www.sagemath.org/doc/developer/coding_basics.html#docstring-markup-with-rest-and-sphinx\n\nComments:\n\n- remove trailing whitespaces (line 27, 42, ...)\n\n- the docstring at the begining of the file should not be indented\n \n- NOTE, AUTHOR field is not appropriately formated\n \n- in `_richcmp_`  (line 928), you should add a linebreak between the description\n  \"Compare left and right.\" and the beginig of the examples\n\nMore to come at your next commit...",
    "created_at": "2014-04-08T00:47:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181046",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>For string formatting, you should look at the developer's guide
http://www.sagemath.org/doc/developer/coding_basics.html#docstring-markup-with-rest-and-sphinx

Comments:

- remove trailing whitespaces (line 27, 42, ...)

- the docstring at the begining of the file should not be indented
 
- NOTE, AUTHOR field is not appropriately formated
 
- in `_richcmp_`  (line 928), you should add a linebreak between the description
  "Compare left and right." and the beginig of the examples

More to come at your next commit...



---

archive/issue_comments_181047.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-08T01:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181047",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_181048.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-04-08T08:30:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181048",
    "user": "https://trac.sagemath.org/admin/accounts/users/Fougeroc"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_181049.json:
```json
{
    "body": "<a id='comment:13'></a>I now get an error when creating the doc\n\n\n```\nsage -docbuild reference/libs html\n\nOSError: [libs     ] /src/sage-6.1.1/src/doc/en/reference/libs/sage/ext/fast_eval.rst:11: \nWARNING: error while formatting signature for sage.ext.fast_eval.FastDoubleFunc.abs: \nThe given source does not contain 'def'\n```\n\nI don't know how to solve it.",
    "created_at": "2014-04-08T10:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181049",
    "user": "https://trac.sagemath.org/admin/accounts/users/Fougeroc"
}
```

<a id='comment:13'></a>I now get an error when creating the doc


```
sage -docbuild reference/libs html

OSError: [libs     ] /src/sage-6.1.1/src/doc/en/reference/libs/sage/ext/fast_eval.rst:11: 
WARNING: error while formatting signature for sage.ext.fast_eval.FastDoubleFunc.abs: 
The given source does not contain 'def'
```

I don't know how to solve it.



---

archive/issue_comments_181050.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2014-04-08T10:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181050",
    "user": "https://trac.sagemath.org/admin/accounts/users/Fougeroc"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_events_039048.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13907#event-39048"
}
```



---

archive/issue_events_039049.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13907#event-39049"
}
```



---

archive/issue_events_039050.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13907#event-39050"
}
```



---

archive/issue_events_039051.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13907#event-39051"
}
```



---

archive/issue_comments_181051.json:
```json
{
    "body": "<a id='comment:16'></a>I made a few more changes, including correct python3 formatting of raise statements.\n\n---\nNew commits:",
    "created_at": "2014-12-29T21:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181051",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>I made a few more changes, including correct python3 formatting of raise statements.

---
New commits:



---

archive/issue_comments_181052.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-01-17T13:54:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_181053.json:
```json
{
    "body": "<a id='comment:18'></a>This seems to be ok. I do not see the above problem with\n\n```\nsage -docbuild reference/libs html\n```",
    "created_at": "2015-01-17T13:55:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181053",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>This seems to be ok. I do not see the above problem with

```
sage -docbuild reference/libs html
```



---

archive/issue_comments_181054.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-01-17T13:55:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181054",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_181055.json:
```json
{
    "body": "<a id='comment:19'></a>author name please...",
    "created_at": "2015-01-20T14:47:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181055",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>author name please...



---

archive/issue_comments_181056.json:
```json
{
    "body": "<a id='comment:21'></a>The period at the end of the title should be removed for consistency, but I can take care of that in another ticket I'm working on, no need to further delay this one.",
    "created_at": "2015-02-05T10:34:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181056",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:21'></a>The period at the end of the title should be removed for consistency, but I can take care of that in another ticket I'm working on, no need to further delay this one.



---

archive/issue_comments_181057.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-02-05T10:34:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181057",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_039052.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-02-05T10:46:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13907#event-39052"
}
```



---

archive/issue_events_039053.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-02-05T10:46:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "milestone": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13907#event-39053"
}
```



---

archive/issue_comments_181058.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-02-08T15:26:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13907#issuecomment-181058",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_039054.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-08T15:26:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13907",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13907#event-39054"
}
```
