# Issue 13201: patch setuptools to allow for parallel usage

archive/issues_013029.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-GeorgSWeber"
    ],
    "body": "Currently we have to force the spkgs that use setuptools to build serially because setuptools does not do any file locking with `easy_install.pth`. This is an inconvenience that has a fairly straightforward fix.\n\n\nDepends on #11874\nDepends on #12994\n\nCC:  @jdemeyer @kini @jasongrout\n\nBranch: **[`b276471`](https://github.com/sagemath/sagetrac-mirror/commit/b2764713f797c81d157ce681f878ce7a52d70e44)**\n\nReviewer: **R. Andrew Ohana**\n\nAuthor: **Volker Braun**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/13201_\n\n",
    "closed_at": "2014-03-11T16:15:35Z",
    "created_at": "2012-07-04T22:23:39Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "patch setuptools to allow for parallel usage",
    "type": "issue",
    "updated_at": "2014-10-31T13:39:09Z",
    "url": "https://github.com/sagemath/sage/issues/13201",
    "user": "https://github.com/ohanar"
}
```
Currently we have to force the spkgs that use setuptools to build serially because setuptools does not do any file locking with `easy_install.pth`. This is an inconvenience that has a fairly straightforward fix.


Depends on #11874
Depends on #12994

CC:  @jdemeyer @kini @jasongrout

Branch: **[`b276471`](https://github.com/sagemath/sagetrac-mirror/commit/b2764713f797c81d157ce681f878ce7a52d70e44)**

Reviewer: **R. Andrew Ohana**

Author: **Volker Braun**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/13201_





---

archive/issue_events_183604.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-07-04T22:23:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "milestone_number": null,
    "milestone_title": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183604"
}
```



---

archive/issue_events_183605.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-07-04T22:23:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183605"
}
```



---

archive/issue_events_183606.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-07-04T22:23:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183606"
}
```



---

archive/issue_events_183607.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-07-04T22:23:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183607"
}
```



---

archive/issue_events_183608.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2012-07-04T22:23:39Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "subject": "https://github.com/ohanar",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183608"
}
```



---

archive/issue_events_183609.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-07-04T22:25:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183609"
}
```



---

archive/issue_comments_151461.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,4 +3,4 @@\n \n Installation Instructions:\n * Use the new spkg [http://wstein.org/home/ohanar/spkgs/setuptools-0.6.16.p1.spkg](http://wstein.org/home/ohanar/spkgs/setuptools-0.6.16.p1.spkg)\n-* Apply ... to the root repo.\n+* Apply [attachment: trac13201.patch](https://github.com/sagemath/sage/files/ticket13201/trac13201.patch.gz) to the root repo.\n``````\n",
    "created_at": "2012-07-04T22:25:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151461",
    "user": "https://github.com/ohanar"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,4 +3,4 @@
 
 Installation Instructions:
 * Use the new spkg [http://wstein.org/home/ohanar/spkgs/setuptools-0.6.16.p1.spkg](http://wstein.org/home/ohanar/spkgs/setuptools-0.6.16.p1.spkg)
-* Apply ... to the root repo.
+* Apply [attachment: trac13201.patch](https://github.com/sagemath/sage/files/ticket13201/trac13201.patch.gz) to the root repo.
``````




---

archive/issue_comments_151462.json:
```json
{
    "body": "Author: **R. Andrew Ohana**",
    "created_at": "2012-07-04T22:25:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151462",
    "user": "https://github.com/ohanar"
}
```

Author: **R. Andrew Ohana**



---

archive/issue_events_183610.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-13T12:39:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183610"
}
```



---

archive/issue_events_183611.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-13T12:39:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183611"
}
```



---

archive/issue_comments_151463.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nWhy re-invent the wheel?  Why not use [http://docs.python.org/library/fcntl.html#fcntl.lockf](http://docs.python.org/library/fcntl.html#fcntl.lockf)?\n\nAlso, this should obviously be reported upstream.",
    "created_at": "2012-08-13T12:39:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151463",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">comment:2</div>

Why re-invent the wheel?  Why not use [http://docs.python.org/library/fcntl.html#fcntl.lockf](http://docs.python.org/library/fcntl.html#fcntl.lockf)?

Also, this should obviously be reported upstream.



---

archive/issue_comments_151464.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@jdemeyer](#comment:2):\n> Why re-invent the wheel?  Why not use [http://docs.python.org/library/fcntl.html#fcntl.lockf](http://docs.python.org/library/fcntl.html#fcntl.lockf)?\n\nBecause I was being dumb and couldn't find that function :).\n> Also, this should obviously be reported upstream.\n\nYup, although upstream is basically dead. IMO we should switch to distribute (I'll see about making an SPKG).",
    "created_at": "2012-09-04T21:01:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151464",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@jdemeyer](#comment:2):
> Why re-invent the wheel?  Why not use [http://docs.python.org/library/fcntl.html#fcntl.lockf](http://docs.python.org/library/fcntl.html#fcntl.lockf)?

Because I was being dumb and couldn't find that function :).
> Also, this should obviously be reported upstream.

Yup, although upstream is basically dead. IMO we should switch to distribute (I'll see about making an SPKG).



---

archive/issue_comments_151465.json:
```json
{
    "body": "new patch applied to setuptools; for review purposes",
    "created_at": "2012-09-06T11:17:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151465",
    "user": "https://github.com/ohanar"
}
```

new patch applied to setuptools; for review purposes



---

archive/issue_comments_151466.json:
```json
{
    "body": "Attachment: **[easy_install_lock.patch.gz](https://github.com/sagemath/sage/files/ticket13201/easy_install_lock.patch.gz)**\n\nAttachment: **[trac13201.patch.gz](https://github.com/sagemath/sage/files/ticket13201/trac13201.patch.gz)**\n\napply to root repo",
    "created_at": "2012-09-06T11:22:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151466",
    "user": "https://github.com/ohanar"
}
```

Attachment: **[easy_install_lock.patch.gz](https://github.com/sagemath/sage/files/ticket13201/easy_install_lock.patch.gz)**

Attachment: **[trac13201.patch.gz](https://github.com/sagemath/sage/files/ticket13201/trac13201.patch.gz)**

apply to root repo



---

archive/issue_comments_151467.json:
```json
{
    "body": "Changed dependencies from **#11874** to **#11874, #12994**",
    "created_at": "2012-09-06T11:23:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151467",
    "user": "https://github.com/ohanar"
}
```

Changed dependencies from **#11874** to **#11874, #12994**



---

archive/issue_events_183612.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-09-06T11:23:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183612"
}
```



---

archive/issue_events_183613.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-09-06T11:23:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183613"
}
```



---

archive/issue_events_183614.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-09-06T11:24:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "milestone_number": null,
    "milestone_title": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183614"
}
```



---

archive/issue_events_183615.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-09-06T11:24:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "milestone_number": null,
    "milestone_title": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183615"
}
```



---

archive/issue_comments_151468.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI unfortuntely don't understand `setuptools` well enough to review this.  It seems there are some changes unrelated to the locking.  What do they do?\n\nAlso, do we really need to do this *every time* Sage runs (could it be moved to `sage-location`?):\n\n```\n    # Hack around setuptools since --egg-path isn't fully respected \n    sed -i 's-.*sagenb.*-\\.\\./\\.\\./\\.\\./\\.\\./devel/sagenb-' \\ \n        \"$SAGE_LOCAL/lib/python/site-packages/easy-install.pth\" \n```\nYou also need to handle the case that `$SAGE_ROOT` isn't writeable.",
    "created_at": "2012-09-06T11:35:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151468",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

I unfortuntely don't understand `setuptools` well enough to review this.  It seems there are some changes unrelated to the locking.  What do they do?

Also, do we really need to do this *every time* Sage runs (could it be moved to `sage-location`?):

```
    # Hack around setuptools since --egg-path isn't fully respected 
    sed -i 's-.*sagenb.*-\.\./\.\./\.\./\.\./devel/sagenb-' \ 
        "$SAGE_LOCAL/lib/python/site-packages/easy-install.pth" 
```
You also need to handle the case that `$SAGE_ROOT` isn't writeable.



---

archive/issue_comments_151469.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jdemeyer](#comment:6):\n> I unfortuntely don't understand `setuptools` well enough to review this.  It seems there are some changes unrelated to the locking.  What do they do?\n\nInternally setuptools identifies packages based on a normalized path (no absolute paths without symlinks, and a normalized case for case-insensitive filesystems). It reads these from easy-install.pth, and then creates a brand new easy-install.pth if it detects that it needs to. The issue is that it loads the list of packages when it starts, and then writes it back when it finishes, if any changes were made to the file in the meantime, setuptools doesn't detect them, and just overrides them with its new easy-install.pth. What I did was add a bit of code for reloading the file right before writing a new one -- making sure things that were deleted don't pop back up, and making sure things that were added don't disappear.\n> Also, do we really need to do this *every time* Sage runs (could it be moved to `sage-location`?):\n> \n> ```\n>     # Hack around setuptools since --egg-path isn't fully respected \n>     sed -i 's-.*sagenb.*-\\.\\./\\.\\./\\.\\./\\.\\./devel/sagenb-' \\ \n>         \"$SAGE_LOCAL/lib/python/site-packages/easy-install.pth\" \n> ```\n> You also need to handle the case that `$SAGE_ROOT` isn't writeable.\n\nWell no you don't have to run it every time sage starts, just every time a package using setuptools is installed, since setuptools always inscribes the absolute path into easy-install.pth (even if you specify a relative path for `--egg-path`).",
    "created_at": "2012-09-06T11:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151469",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jdemeyer](#comment:6):
> I unfortuntely don't understand `setuptools` well enough to review this.  It seems there are some changes unrelated to the locking.  What do they do?

Internally setuptools identifies packages based on a normalized path (no absolute paths without symlinks, and a normalized case for case-insensitive filesystems). It reads these from easy-install.pth, and then creates a brand new easy-install.pth if it detects that it needs to. The issue is that it loads the list of packages when it starts, and then writes it back when it finishes, if any changes were made to the file in the meantime, setuptools doesn't detect them, and just overrides them with its new easy-install.pth. What I did was add a bit of code for reloading the file right before writing a new one -- making sure things that were deleted don't pop back up, and making sure things that were added don't disappear.
> Also, do we really need to do this *every time* Sage runs (could it be moved to `sage-location`?):
> 
> ```
>     # Hack around setuptools since --egg-path isn't fully respected 
>     sed -i 's-.*sagenb.*-\.\./\.\./\.\./\.\./devel/sagenb-' \ 
>         "$SAGE_LOCAL/lib/python/site-packages/easy-install.pth" 
> ```
> You also need to handle the case that `$SAGE_ROOT` isn't writeable.

Well no you don't have to run it every time sage starts, just every time a package using setuptools is installed, since setuptools always inscribes the absolute path into easy-install.pth (even if you specify a relative path for `--egg-path`).



---

archive/issue_comments_151470.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSince `sage-location` specifically deals with rewriting paths, I would do it there.",
    "created_at": "2012-09-06T11:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151470",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Since `sage-location` specifically deals with rewriting paths, I would do it there.



---

archive/issue_comments_151471.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI thought that was for rewriting paths when `SAGE_ROOT` changed. The issue is that setuptools rewrites paths, regardless of what happens to `SAGE_ROOT`, so we have to overwrite their rewrites. An alternative (now that we have the flask notebook has been merged), is to treat sagenb like any other upstream package, and just install it in site-packages (I don't think the sagenb developers would be opposed to this, we are already planning on doing this in the transition to git).",
    "created_at": "2012-09-06T23:06:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151471",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:9" align="right">comment:9</div>

I thought that was for rewriting paths when `SAGE_ROOT` changed. The issue is that setuptools rewrites paths, regardless of what happens to `SAGE_ROOT`, so we have to overwrite their rewrites. An alternative (now that we have the flask notebook has been merged), is to treat sagenb like any other upstream package, and just install it in site-packages (I don't think the sagenb developers would be opposed to this, we are already planning on doing this in the transition to git).



---

archive/issue_comments_151472.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@ohanar](#comment:9):\n> I thought that was for rewriting paths when `SAGE_ROOT` changed.\n\nWell, the reason you need to rewrite the `setuptools` paths is to allow relocation, right? (or am I missing something?)",
    "created_at": "2012-09-07T07:30:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151472",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@ohanar](#comment:9):
> I thought that was for rewriting paths when `SAGE_ROOT` changed.

Well, the reason you need to rewrite the `setuptools` paths is to allow relocation, right? (or am I missing something?)



---

archive/issue_comments_151473.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@jdemeyer](#comment:10):\n> Well, the reason you need to rewrite the `setuptools` paths is to allow relocation, right? (or am I missing something?)\n\nWell we also support clones for sagenb, which will brake every time setuptools is run (it readlinks everything). If we don't care about that, then we could.\n\nI'm CCing Keshav and Jason on this ticket, they might have an opinion on how we handle this (since currently it only affects sagenb).",
    "created_at": "2012-09-07T07:45:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151473",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@jdemeyer](#comment:10):
> Well, the reason you need to rewrite the `setuptools` paths is to allow relocation, right? (or am I missing something?)

Well we also support clones for sagenb, which will brake every time setuptools is run (it readlinks everything). If we don't care about that, then we could.

I'm CCing Keshav and Jason on this ticket, they might have an opinion on how we handle this (since currently it only affects sagenb).



---

archive/issue_comments_151474.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nSince sagenb is now distributed without a repository, it might make sense for it not to be installed in SAGE_ROOT/devel/.  The reason for it to be in SAGE_ROOT/devel/sagenb is so that the barrier is way lower for people wanting to patch it and work with it.  If we're making them clone the git repository anyway, the barrier isn't lower.\n\nSo what do you think, kini?  Should we just install it like a normal spkg?  If they want to develop, they need to git clone and do `sage setup.py develop`?\n\n(personally, I'm mildly in favor of going back to installing the git repo in SAGE_ROOT/devel/sagenb...)",
    "created_at": "2012-09-07T08:28:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151474",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:12" align="right">comment:12</div>

Since sagenb is now distributed without a repository, it might make sense for it not to be installed in SAGE_ROOT/devel/.  The reason for it to be in SAGE_ROOT/devel/sagenb is so that the barrier is way lower for people wanting to patch it and work with it.  If we're making them clone the git repository anyway, the barrier isn't lower.

So what do you think, kini?  Should we just install it like a normal spkg?  If they want to develop, they need to git clone and do `sage setup.py develop`?

(personally, I'm mildly in favor of going back to installing the git repo in SAGE_ROOT/devel/sagenb...)



---

archive/issue_comments_151475.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAbsolutely. I 100% think that sagenb should be installed like any other python package, i.e. in the site packages directory.",
    "created_at": "2012-09-07T08:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151475",
    "user": "https://github.com/kini"
}
```

<div id="comment:13" align="right">comment:13</div>

Absolutely. I 100% think that sagenb should be installed like any other python package, i.e. in the site packages directory.



---

archive/issue_events_183616.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-16T22:42:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183616"
}
```



---

archive/issue_events_183617.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-16T22:42:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183617"
}
```



---

archive/issue_comments_151476.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIn any case, this needs work because it assumes that `$SAGE_ROOT` is writable and it needs to be rebased.",
    "created_at": "2013-03-16T22:42:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151476",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

In any case, this needs work because it assumes that `$SAGE_ROOT` is writable and it needs to be rebased.



---

archive/issue_comments_151477.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@ohanar](#comment:3):\n> Replying to [@jdemeyer](#comment:2):\n> > Why re-invent the wheel?  Why not use [http://docs.python.org/library/fcntl.html#fcntl.lockf](http://docs.python.org/library/fcntl.html#fcntl.lockf)?\n\n> Because I was being dumb and couldn't find that function :).\n> > Also, this should obviously be reported upstream.\n\n> Yup, although upstream is basically dead. IMO we should switch to distribute (I'll see about making an SPKG).\n\nAt this point I'd like to point you to SPKG.txt and actually read it:\n\n```\n= setuptools =\n\n== Description ==\n\nsetuptools is a collection of enhancements to the Python distutils (for Python 2.3.5 and up on mo\nst platforms; 64-bit platforms require a minimum of Python 2.4) that allow you to more easily bui\nld and distribute Python packages, especially ones that have dependencies on other packages.\n\nWebsite: http://pypi.python.org/pypi/setuptools/\n\nThe present spkg is based on the fork of setuptools known as distribute.\nWebsite: http://pypi.python.org/pypi/distribute\n```\nAnd\n\n```\n=== setuptools-0.6.16 (Francois Bissey, June 1, 2011) ===\n * Switch to the \"distribute\" fork of setuptools and update to 0.6.16, \n * adopt a Gentoo patch to avoid warnings with python-2.7 (works with 2.6 too). \n * Remove the two windows binaries and patch so setup.py doesn't\n   try to install them.\n```\nThis was a pre-requisite to the upgrade to python-2.7.3. Fell free to upgrade to a newer version of distribute and change the name if you want too.",
    "created_at": "2013-03-17T09:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151477",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@ohanar](#comment:3):
> Replying to [@jdemeyer](#comment:2):
> > Why re-invent the wheel?  Why not use [http://docs.python.org/library/fcntl.html#fcntl.lockf](http://docs.python.org/library/fcntl.html#fcntl.lockf)?

> Because I was being dumb and couldn't find that function :).
> > Also, this should obviously be reported upstream.

> Yup, although upstream is basically dead. IMO we should switch to distribute (I'll see about making an SPKG).

At this point I'd like to point you to SPKG.txt and actually read it:

```
= setuptools =

== Description ==

setuptools is a collection of enhancements to the Python distutils (for Python 2.3.5 and up on mo
st platforms; 64-bit platforms require a minimum of Python 2.4) that allow you to more easily bui
ld and distribute Python packages, especially ones that have dependencies on other packages.

Website: http://pypi.python.org/pypi/setuptools/

The present spkg is based on the fork of setuptools known as distribute.
Website: http://pypi.python.org/pypi/distribute
```
And

```
=== setuptools-0.6.16 (Francois Bissey, June 1, 2011) ===
 * Switch to the "distribute" fork of setuptools and update to 0.6.16, 
 * adopt a Gentoo patch to avoid warnings with python-2.7 (works with 2.6 too). 
 * Remove the two windows binaries and patch so setup.py doesn't
   try to install them.
```
This was a pre-requisite to the upgrade to python-2.7.3. Fell free to upgrade to a newer version of distribute and change the name if you want too.



---

archive/issue_comments_151478.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nYeah, I made that remark about 5 minutes before completely reading through the SPKG.txt. I haven't really looked at this in awhile, but I probably won't be touching this soon, as I'm really trying to put all of my time into working on the transition to git.",
    "created_at": "2013-03-17T09:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151478",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:16" align="right">comment:16</div>

Yeah, I made that remark about 5 minutes before completely reading through the SPKG.txt. I haven't really looked at this in awhile, but I probably won't be touching this soon, as I'm really trying to put all of my time into working on the transition to git.



---

archive/issue_comments_151479.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI checked if you said that in the ticket but didn't see it so I assumed... too much. ;)",
    "created_at": "2013-03-17T09:53:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151479",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">comment:17</div>

I checked if you said that in the ticket but didn't see it so I assumed... too much. ;)



---

archive/issue_events_183618.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183618"
}
```



---

archive/issue_events_183619.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183619"
}
```



---

archive/issue_events_183620.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183620"
}
```



---

archive/issue_events_183621.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183621"
}
```



---

archive/issue_comments_151480.json:
```json
{
    "body": "Branch: **[u/vbraun/parallel_setuptools](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/parallel_setuptools)**",
    "created_at": "2014-02-28T15:07:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151480",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/parallel_setuptools](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/parallel_setuptools)**



---

archive/issue_comments_151481.json:
```json
{
    "body": "Commit: **[`a899c2c`](https://github.com/sagemath/sagetrac-mirror/commit/a899c2ccc2ea5dc2fa8c3194274194a09f670a47)**",
    "created_at": "2014-02-28T15:24:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151481",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`a899c2c`](https://github.com/sagemath/sagetrac-mirror/commit/a899c2ccc2ea5dc2fa8c3194274194a09f670a47)**



---

archive/issue_comments_151482.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a899c2ccc2ea5dc2fa8c3194274194a09f670a47\">a899c2c</a></td><td><code>remove fake deps</code></td></tr></table>\n",
    "created_at": "2014-02-28T15:24:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151482",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a899c2ccc2ea5dc2fa8c3194274194a09f670a47">a899c2c</a></td><td><code>remove fake deps</code></td></tr></table>




---

archive/issue_comments_151483.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39481e1bbc144264354e196c23a839992305bef9\">39481e1</a></td><td><code>avoid duplicated entries in pth file</code></td></tr></table>\n",
    "created_at": "2014-02-28T20:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151483",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39481e1bbc144264354e196c23a839992305bef9">39481e1</a></td><td><code>avoid duplicated entries in pth file</code></td></tr></table>




---

archive/issue_comments_151484.json:
```json
{
    "body": "Changed commit from **[`a899c2c`](https://github.com/sagemath/sagetrac-mirror/commit/a899c2ccc2ea5dc2fa8c3194274194a09f670a47)** to **[`39481e1`](https://github.com/sagemath/sagetrac-mirror/commit/39481e1bbc144264354e196c23a839992305bef9)**",
    "created_at": "2014-02-28T20:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151484",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a899c2c`](https://github.com/sagemath/sagetrac-mirror/commit/a899c2ccc2ea5dc2fa8c3194274194a09f670a47)** to **[`39481e1`](https://github.com/sagemath/sagetrac-mirror/commit/39481e1bbc144264354e196c23a839992305bef9)**



---

archive/issue_comments_151485.json:
```json
{
    "body": "Changed author from **R. Andrew Ohana** to **Volker Braun, R. Andrew Ohana**",
    "created_at": "2014-02-28T20:23:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151485",
    "user": "https://github.com/vbraun"
}
```

Changed author from **R. Andrew Ohana** to **Volker Braun, R. Andrew Ohana**



---

archive/issue_comments_151486.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,2 @@\n Currently we have to force the spkgs that use setuptools to build serially because setuptools does not do any file locking with `easy_install.pth`. This is an inconvenience that has a fairly straightforward fix.\n \n-\n-Installation Instructions:\n-* Use the new spkg [http://wstein.org/home/ohanar/spkgs/setuptools-0.6.16.p1.spkg](http://wstein.org/home/ohanar/spkgs/setuptools-0.6.16.p1.spkg)\n-* Apply [attachment: trac13201.patch](https://github.com/sagemath/sage/files/ticket13201/trac13201.patch.gz) to the root repo.\n``````\n",
    "created_at": "2014-02-28T20:23:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151486",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,2 @@
 Currently we have to force the spkgs that use setuptools to build serially because setuptools does not do any file locking with `easy_install.pth`. This is an inconvenience that has a fairly straightforward fix.
 
-
-Installation Instructions:
-* Use the new spkg [http://wstein.org/home/ohanar/spkgs/setuptools-0.6.16.p1.spkg](http://wstein.org/home/ohanar/spkgs/setuptools-0.6.16.p1.spkg)
-* Apply [attachment: trac13201.patch](https://github.com/sagemath/sage/files/ticket13201/trac13201.patch.gz) to the root repo.
``````




---

archive/issue_comments_151487.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nNew attempt... The patch didn't apply, so I wrote a different version. It is now IMHO clearer though perhaps at the cost of rewriting a pth file even if it is not dirty. But then it is hardly a performance-critical step.",
    "created_at": "2014-02-28T20:23:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151487",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:23" align="right">comment:23</div>

New attempt... The patch didn't apply, so I wrote a different version. It is now IMHO clearer though perhaps at the cost of rewriting a pth file even if it is not dirty. But then it is hardly a performance-critical step.



---

archive/issue_events_183622.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-28T20:24:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183622"
}
```



---

archive/issue_events_183623.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-28T20:24:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183623"
}
```



---

archive/issue_comments_151488.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nWe can't push the changes upstream since fcntl is unix only but setuptools has to work on (non-cygwin) windows",
    "created_at": "2014-02-28T20:24:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151488",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

We can't push the changes upstream since fcntl is unix only but setuptools has to work on (non-cygwin) windows



---

archive/issue_events_183624.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-28T20:26:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183624"
}
```



---

archive/issue_events_183625.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-28T20:26:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183625"
}
```



---

archive/issue_comments_151489.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nCritical as we currently have some races as I noticed in parallel testing.",
    "created_at": "2014-02-28T20:26:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151489",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>

Critical as we currently have some races as I noticed in parallel testing.



---

archive/issue_comments_151490.json:
```json
{
    "body": "Changed author from **Volker Braun, R. Andrew Ohana** to **Volker Braun**",
    "created_at": "2014-02-28T21:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151490",
    "user": "https://github.com/ohanar"
}
```

Changed author from **Volker Braun, R. Andrew Ohana** to **Volker Braun**



---

archive/issue_comments_151491.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nLooks fine, although I'll have to test it out. It would be good to get some sort of proper locking in upstream -- maybe doing something along the lines of http://code.activestate.com/recipes/65203/.",
    "created_at": "2014-02-28T21:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151491",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:26" align="right">comment:26</div>

Looks fine, although I'll have to test it out. It would be good to get some sort of proper locking in upstream -- maybe doing something along the lines of http://code.activestate.com/recipes/65203/.



---

archive/issue_comments_151492.json:
```json
{
    "body": "Reviewer: **R. Andrew Ohana**",
    "created_at": "2014-02-28T21:43:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151492",
    "user": "https://github.com/ohanar"
}
```

Reviewer: **R. Andrew Ohana**



---

archive/issue_comments_151493.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThe patch version of setuptools will need a version bump to force a rebuild. Also, it would be good to have the patch documented in the SPKG.txt. Pending those two things, positive review.",
    "created_at": "2014-02-28T21:43:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151493",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:27" align="right">comment:27</div>

The patch version of setuptools will need a version bump to force a rebuild. Also, it would be good to have the patch documented in the SPKG.txt. Pending those two things, positive review.



---

archive/issue_comments_151494.json:
```json
{
    "body": "Changed commit from **[`39481e1`](https://github.com/sagemath/sagetrac-mirror/commit/39481e1bbc144264354e196c23a839992305bef9)** to **[`25f77ee`](https://github.com/sagemath/sagetrac-mirror/commit/25f77eee5aa1c2c645717523829b6ce9bad2a688)**",
    "created_at": "2014-03-11T12:53:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151494",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`39481e1`](https://github.com/sagemath/sagetrac-mirror/commit/39481e1bbc144264354e196c23a839992305bef9)** to **[`25f77ee`](https://github.com/sagemath/sagetrac-mirror/commit/25f77eee5aa1c2c645717523829b6ce9bad2a688)**



---

archive/issue_comments_151495.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25f77eee5aa1c2c645717523829b6ce9bad2a688\">25f77ee</a></td><td><code>added documentation, patchlevel bump</code></td></tr></table>\n",
    "created_at": "2014-03-11T12:53:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151495",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25f77eee5aa1c2c645717523829b6ce9bad2a688">25f77ee</a></td><td><code>added documentation, patchlevel bump</code></td></tr></table>




---

archive/issue_events_183626.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-11T12:53:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183626"
}
```



---

archive/issue_events_183627.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-11T12:53:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183627"
}
```



---

archive/issue_comments_151496.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nDone.",
    "created_at": "2014-03-11T12:53:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151496",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:29" align="right">comment:29</div>

Done.



---

archive/issue_comments_151497.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2764713f797c81d157ce681f878ce7a52d70e44\">b276471</a></td><td><code>resolved merge conflict</code></td></tr></table>\n",
    "created_at": "2014-03-11T12:56:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151497",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2764713f797c81d157ce681f878ce7a52d70e44">b276471</a></td><td><code>resolved merge conflict</code></td></tr></table>




---

archive/issue_events_183628.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-03-11T12:56:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183628"
}
```



---

archive/issue_events_183629.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-03-11T12:56:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183629"
}
```



---

archive/issue_comments_151498.json:
```json
{
    "body": "Changed commit from **[`25f77ee`](https://github.com/sagemath/sagetrac-mirror/commit/25f77eee5aa1c2c645717523829b6ce9bad2a688)** to **[`b276471`](https://github.com/sagemath/sagetrac-mirror/commit/b2764713f797c81d157ce681f878ce7a52d70e44)**",
    "created_at": "2014-03-11T12:56:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151498",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`25f77ee`](https://github.com/sagemath/sagetrac-mirror/commit/25f77eee5aa1c2c645717523829b6ce9bad2a688)** to **[`b276471`](https://github.com/sagemath/sagetrac-mirror/commit/b2764713f797c81d157ce681f878ce7a52d70e44)**



---

archive/issue_comments_151499.json:
```json
{
    "body": "Changed branch from **[u/vbraun/parallel_setuptools](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/parallel_setuptools)** to **[`b276471`](https://github.com/sagemath/sagetrac-mirror/commit/b2764713f797c81d157ce681f878ce7a52d70e44)**",
    "created_at": "2014-03-11T16:15:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151499",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/parallel_setuptools](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/parallel_setuptools)** to **[`b276471`](https://github.com/sagemath/sagetrac-mirror/commit/b2764713f797c81d157ce681f878ce7a52d70e44)**



---

archive/issue_events_183630.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-11T16:15:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183630"
}
```



---

archive/issue_events_183631.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ca591aa27e9919ab45dc0ef1f10c9e5c0d07afbf",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-03-11T16:15:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13201#event-183631"
}
```



---

archive/issue_comments_151500.json:
```json
{
    "body": "Changed commit from **[`b276471`](https://github.com/sagemath/sagetrac-mirror/commit/b2764713f797c81d157ce681f878ce7a52d70e44)** to none",
    "created_at": "2014-10-31T13:39:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151500",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`b276471`](https://github.com/sagemath/sagetrac-mirror/commit/b2764713f797c81d157ce681f878ce7a52d70e44)** to none



---

archive/issue_comments_151501.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nYou just broke sagenb: #17268",
    "created_at": "2014-10-31T13:39:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/13201",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13201#issuecomment-151501",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

You just broke sagenb: #17268
