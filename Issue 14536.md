# Issue 14536: creation of number field order hangs

archive/issues_014536.json:
```json
{
    "body": "Assignee: davidloeffler\n\nCC:  leif\n\n\n```\nsage: Qa12.<kappa12> = NumberField(x^14 - 26*x^13 + 325*x^12 - 2548*x^11 + 13832*x^10 - 54340*x^9 + 157118*x^8 - 333580*x^7 + 509366*x^6 - 534820*x^5 + 354536*x^4 - 124852*x^3 + 15145*x^2 - 33514*x + 13)\nsage: y = polygen(Qa12)\nsage: L.<c> = Qa12.extension(y^2-kappa12)\nsage: L.<alpha> = L.absolute_field()\nsage: OO = Qa12.maximal_order()\nsage: bas = [L.structure()[1](b) for b in OO.basis()]\nsage: subOrderK = L.order(bas + [b*alpha for b in bas])\n^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C\n```\n\nFor some people `^C` does work, but in any case, there should be no long computation involved. We give a basis, so we should get an answer right away.\nIndeed, the following does work:\n\n```\nsage: Om = magma(L).MaximalOrder()\n```\n\n\nSince others cannot reproduce the `^C` problem, I'm marking this as an \"enhancement\" for speeding up order creation.\n\nSee also\n[http://groups.google.com/forum/?fromgroups#!topic/sage-devel/MpPqbjAqol4](http://groups.google.com/forum/?fromgroups#!topic/sage-devel/MpPqbjAqol4)\n[http://ask.sagemath.org/question/1652/computing-maximal-orders-in-relative-extensions](http://ask.sagemath.org/question/1652/computing-maximal-orders-in-relative-extensions)\n[http://stackoverflow.com/questions/11850418/computing-maximal-orders-in-large-number-fields-with-sage](http://stackoverflow.com/questions/11850418/computing-maximal-orders-in-large-number-fields-with-sage)\n\nIssue created by migration from https://trac.sagemath.org/ticket/14740\n\n",
    "created_at": "2013-06-14T14:06:06Z",
    "labels": [
        "number fields",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "creation of number field order hangs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14536",
    "user": "mstreng"
}
```
Assignee: davidloeffler

CC:  leif


```
sage: Qa12.<kappa12> = NumberField(x^14 - 26*x^13 + 325*x^12 - 2548*x^11 + 13832*x^10 - 54340*x^9 + 157118*x^8 - 333580*x^7 + 509366*x^6 - 534820*x^5 + 354536*x^4 - 124852*x^3 + 15145*x^2 - 33514*x + 13)
sage: y = polygen(Qa12)
sage: L.<c> = Qa12.extension(y^2-kappa12)
sage: L.<alpha> = L.absolute_field()
sage: OO = Qa12.maximal_order()
sage: bas = [L.structure()[1](b) for b in OO.basis()]
sage: subOrderK = L.order(bas + [b*alpha for b in bas])
^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C^C
```

For some people `^C` does work, but in any case, there should be no long computation involved. We give a basis, so we should get an answer right away.
Indeed, the following does work:

```
sage: Om = magma(L).MaximalOrder()
```


Since others cannot reproduce the `^C` problem, I'm marking this as an "enhancement" for speeding up order creation.

See also
[http://groups.google.com/forum/?fromgroups#!topic/sage-devel/MpPqbjAqol4](http://groups.google.com/forum/?fromgroups#!topic/sage-devel/MpPqbjAqol4)
[http://ask.sagemath.org/question/1652/computing-maximal-orders-in-relative-extensions](http://ask.sagemath.org/question/1652/computing-maximal-orders-in-relative-extensions)
[http://stackoverflow.com/questions/11850418/computing-maximal-orders-in-large-number-fields-with-sage](http://stackoverflow.com/questions/11850418/computing-maximal-orders-in-large-number-fields-with-sage)

Issue created by migration from https://trac.sagemath.org/ticket/14740





---

archive/issue_comments_184544.json:
```json
{
    "body": "Marco, just to confirm that CTRL-C really does not work for you: press CTRL-C **just once** and wait a long time (say, 1 hour, just to exaggerate). Do you not get a proper traceback?",
    "created_at": "2013-06-14T14:13:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14536#issuecomment-184544",
    "user": "jdemeyer"
}
```

Marco, just to confirm that CTRL-C really does not work for you: press CTRL-C **just once** and wait a long time (say, 1 hour, just to exaggerate). Do you not get a proper traceback?



---

archive/issue_comments_184545.json:
```json
{
    "body": "Also, please mention the version of Sage.",
    "created_at": "2013-06-14T14:14:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14536#issuecomment-184545",
    "user": "jdemeyer"
}
```

Also, please mention the version of Sage.



---

archive/issue_comments_184546.json:
```json
{
    "body": "Changing type from enhancement to defect.",
    "created_at": "2013-06-14T14:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14536#issuecomment-184546",
    "user": "jdemeyer"
}
```

Changing type from enhancement to defect.



---

archive/issue_comments_184547.json:
```json
{
    "body": "Replying to [comment:1 jdemeyer]:\n> Marco, just to confirm that CTRL-C really does not work for you: press CTRL-C **just once** and wait a long time (say, 1 hour, just to exaggerate). Do you not get a proper traceback?\n\nI tried again with a fresh sage-5.10.rc2 on my mac 10.6.8. The first few times, CTRL-C did nothing (pressed it, waited an hour, then pressed it again and waited half an hour more, then killed the process). Then a few times CTRL-C did work (instantly). It seems random.\n\nBefore, I thought for a while that #14523 was the cause (I had a clear correlation, but with a small sample size). But since I never patched my new 5.10.rc2 with that, I obviously have the problem also without #14523.\n\nWhen CTRL-C does not work, I see `^C`. Only once I got \"`Exception KeyboardInterrupt in <function remove at 0x102ad6d70> ignored`\".",
    "created_at": "2013-06-15T07:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14536#issuecomment-184547",
    "user": "mstreng"
}
```

Replying to [comment:1 jdemeyer]:
> Marco, just to confirm that CTRL-C really does not work for you: press CTRL-C **just once** and wait a long time (say, 1 hour, just to exaggerate). Do you not get a proper traceback?

I tried again with a fresh sage-5.10.rc2 on my mac 10.6.8. The first few times, CTRL-C did nothing (pressed it, waited an hour, then pressed it again and waited half an hour more, then killed the process). Then a few times CTRL-C did work (instantly). It seems random.

Before, I thought for a while that #14523 was the cause (I had a clear correlation, but with a small sample size). But since I never patched my new 5.10.rc2 with that, I obviously have the problem also without #14523.

When CTRL-C does not work, I see `^C`. Only once I got "`Exception KeyboardInterrupt in <function remove at 0x102ad6d70> ignored`".
