# Issue 16448: power series reversion using flint

archive/issues_016448.json:
```json
{
    "body": "CC:  jpflori\n\nKeywords: flint power series reversion\n\nAdds series reversion for integer and rational flint polynomials\nwhich is much faster than the current implementation for series\nreversion (sage/pari).\n\nSince it is implemented as a method for polynomials the change is\nrather small and non-intrusive (in particular it doesn't require\nto implement power series using flint).\n\nTo use it for power series reversion (at the moment) the series has\nto be converted to a (flint) polynomial first, reverted using\n\"revert_series(n=prec)\" and later be converted back to a power series.\n\nAcknowledgements: Thanks for the help on IRC!\n\nIssue created by migration from https://trac.sagemath.org/ticket/16685\n\n",
    "created_at": "2014-07-19T23:02:42Z",
    "labels": [
        "number theory",
        "minor",
        "enhancement"
    ],
    "title": "power series reversion using flint",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16448",
    "user": "jj"
}
```
CC:  jpflori

Keywords: flint power series reversion

Adds series reversion for integer and rational flint polynomials
which is much faster than the current implementation for series
reversion (sage/pari).

Since it is implemented as a method for polynomials the change is
rather small and non-intrusive (in particular it doesn't require
to implement power series using flint).

To use it for power series reversion (at the moment) the series has
to be converted to a (flint) polynomial first, reverted using
"revert_series(n=prec)" and later be converted back to a power series.

Acknowledgements: Thanks for the help on IRC!

Issue created by migration from https://trac.sagemath.org/ticket/16685





---

archive/issue_comments_216240.json:
```json
{
    "body": "Hello,\n\nI have made a new branch based on yours, with a few small cleanup changes.\n\nYou have to put your real name in the `author` field of the ticket (here above).\n----\nNew commits:",
    "created_at": "2014-07-20T08:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216240",
    "user": "chapoton"
}
```

Hello,

I have made a new branch based on yours, with a few small cleanup changes.

You have to put your real name in the `author` field of the ticket (here above).
----
New commits:



---

archive/issue_comments_216241.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-07-20T16:05:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216241",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_216242.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-07-22T08:45:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216242",
    "user": "jpflori"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_216243.json:
```json
{
    "body": "A few remarks:\n* this looks strange:\n\n```\n...revert_series(5+1)\n```\n\nwhy not put 6 in there?\n* please beautify the docstring `f(self(x)) = ...` using sphinx syntax.\n* the variable name of the power series could be used in `and +1 or -1 as the coefficient for x^1`\n* please put `sig_on/sig_off` around the calls to the FLINT C function calls (unless you're sure it will always be super fast, but I fear it won't be the case for series with a large number of terms/polynomials of high degree).",
    "created_at": "2014-07-22T08:45:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216243",
    "user": "jpflori"
}
```

A few remarks:
* this looks strange:

```
...revert_series(5+1)
```

why not put 6 in there?
* please beautify the docstring `f(self(x)) = ...` using sphinx syntax.
* the variable name of the power series could be used in `and +1 or -1 as the coefficient for x^1`
* please put `sig_on/sig_off` around the calls to the FLINT C function calls (unless you're sure it will always be super fast, but I fear it won't be the case for series with a large number of terms/polynomials of high degree).



---

archive/issue_comments_216244.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-22T11:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216244",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_216245.json:
```json
{
    "body": "revert_series for finite fields (fails!)",
    "created_at": "2014-07-22T13:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216245",
    "user": "jj"
}
```

revert_series for finite fields (fails!)



---

archive/issue_comments_216246.json:
```json
{
    "body": "Attachment [zmod_fails.diff](tarball://root/attachments/some-uuid/ticket16685/zmod_fails.diff) by git created at 2014-07-22 14:00:46\n\nBranch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-22T14:00:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216246",
    "user": "git"
}
```

Attachment [zmod_fails.diff](tarball://root/attachments/some-uuid/ticket16685/zmod_fails.diff) by git created at 2014-07-22 14:00:46

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_216247.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-07-22T14:05:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216247",
    "user": "jj"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_216248.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-07-28T10:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216248",
    "user": "jpflori"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_216249.json:
```json
{
    "body": "Looks quite ok.\nLast rant: please use Python 3 string formatting.",
    "created_at": "2014-07-28T10:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216249",
    "user": "jpflori"
}
```

Looks quite ok.
Last rant: please use Python 3 string formatting.



---

archive/issue_comments_216250.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-28T11:42:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216250",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_216251.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-07-28T11:44:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216251",
    "user": "jj"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_216252.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-28T11:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216252",
    "user": "jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_216253.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-07-28T16:27:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16448#issuecomment-216253",
    "user": "vbraun"
}
```

Resolution: fixed
