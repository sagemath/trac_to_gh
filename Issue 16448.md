# Issue 16448: power series reversion using flint

Issue created by migration from https://trac.sagemath.org/ticket/16685

Original creator: jj

Original creation time: 2014-07-19 23:02:42

CC:  jpflori

Keywords: flint power series reversion

Adds series reversion for integer and rational flint polynomials
which is much faster than the current implementation for series
reversion (sage/pari).

Since it is implemented as a method for polynomials the change is
rather small and non-intrusive (in particular it doesn't require
to implement power series using flint).

To use it for power series reversion (at the moment) the series has
to be converted to a (flint) polynomial first, reverted using
"revert_series(n=prec)" and later be converted back to a power series.

Acknowledgements: Thanks for the help on IRC!


---

Comment by chapoton created at 2014-07-20 08:09:11

Hello,

I have made a new branch based on yours, with a few small cleanup changes.

You have to put your real name in the `author` field of the ticket (here above).
----
New commits:


---

Comment by chapoton created at 2014-07-20 16:05:47

Changing status from new to needs_review.


---

Comment by jpflori created at 2014-07-22 08:45:59

Changing status from needs_review to needs_work.


---

Comment by jpflori created at 2014-07-22 08:45:59

A few remarks:
* this looks strange:

```
...revert_series(5+1)
```

why not put 6 in there?
* please beautify the docstring `f(self(x)) = ...` using sphinx syntax.
* the variable name of the power series could be used in `and +1 or -1 as the coefficient for x^1`
* please put `sig_on/sig_off` around the calls to the FLINT C function calls (unless you're sure it will always be super fast, but I fear it won't be the case for series with a large number of terms/polynomials of high degree).


---

Comment by git created at 2014-07-22 11:56:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jj created at 2014-07-22 13:20:18

revert_series for finite fields (fails!)


---

Attachment

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jj created at 2014-07-22 14:05:17

Changing status from needs_work to needs_review.


---

Comment by jpflori created at 2014-07-28 10:02:07

Changing status from needs_review to needs_work.


---

Comment by jpflori created at 2014-07-28 10:02:07

Looks quite ok.
Last rant: please use Python 3 string formatting.


---

Comment by git created at 2014-07-28 11:42:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jj created at 2014-07-28 11:44:50

Changing status from needs_work to needs_review.


---

Comment by jpflori created at 2014-07-28 11:54:49

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-07-28 16:27:00

Resolution: fixed
