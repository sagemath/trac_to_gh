# Issue 19371: Install Jupyter kernel spec and nbextensions in $SAGE_LOCAL

archive/issues_019134.json:
```json
{
    "body": "Instead of installing the Jupyter files in the user's home directory, we should install it in `$SAGE_LOCAL` (a \"system\" install). This has two main advantages:\n1. it avoids conflicts in case multiple installations of Sage exist.\n2. the Sage Jupyter notebook can be used more easily outside of Sage (e.g. using Jupyterhub)\n\nWe should not use versioned identifiers. For example, all these actually refer to the same Sage installation:\n\n```\n$ ls -l ~/.local/share/jupyter/kernels/\ntotal 12\ndrwx------ 2 jdemeyer jdemeyer 4096 Sep 24 18:05 sage_6_9_beta7\ndrwx------ 2 jdemeyer jdemeyer 4096 Oct  7 22:41 sage_6_9_rc0\ndrwx------ 2 jdemeyer jdemeyer 4096 Oct  7 22:04 sage_6_9_rc3\n```\n\nI'm also replacing `IPython` -> `Jupyter` and `Sage` -> `SageMath`\n\nBranch/Commit: 4f06d3df612175c6fceb7f564495aff7ce52d7bf\n\nReviewer: Emmanuel Charpentier\n\nAuthor: Jeroen Demeyer\n\nDependencies: #19373\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19371\n\n",
    "closed_at": "2015-10-18T19:11:25Z",
    "created_at": "2015-10-08T07:32:46Z",
    "labels": [
        "component: interfaces"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Install Jupyter kernel spec and nbextensions in $SAGE_LOCAL",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19371",
    "user": "https://github.com/jdemeyer"
}
```
Instead of installing the Jupyter files in the user's home directory, we should install it in `$SAGE_LOCAL` (a "system" install). This has two main advantages:
1. it avoids conflicts in case multiple installations of Sage exist.
2. the Sage Jupyter notebook can be used more easily outside of Sage (e.g. using Jupyterhub)

We should not use versioned identifiers. For example, all these actually refer to the same Sage installation:

```
$ ls -l ~/.local/share/jupyter/kernels/
total 12
drwx------ 2 jdemeyer jdemeyer 4096 Sep 24 18:05 sage_6_9_beta7
drwx------ 2 jdemeyer jdemeyer 4096 Oct  7 22:41 sage_6_9_rc0
drwx------ 2 jdemeyer jdemeyer 4096 Oct  7 22:04 sage_6_9_rc3
```

I'm also replacing `IPython` -> `Jupyter` and `Sage` -> `SageMath`

Branch/Commit: 4f06d3df612175c6fceb7f564495aff7ce52d7bf

Reviewer: Emmanuel Charpentier

Author: Jeroen Demeyer

Dependencies: #19373

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19371





---

archive/issue_comments_262277.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2015-10-08T09:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262277",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_262278.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-10-08T09:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262278",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_262279.json:
```json
{
    "body": "<a id='comment:4'></a>Looks good to me.\nBut it would be nice if someone more expert on Jupyter gives a look too.",
    "created_at": "2015-10-08T13:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262279",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:4'></a>Looks good to me.
But it would be nice if someone more expert on Jupyter gives a look too.



---

archive/issue_comments_262280.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-08T13:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262280",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_262281.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2015-10-08T13:52:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262281",
    "user": "https://github.com/jdemeyer"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_262282.json:
```json
{
    "body": "<a id='comment:6'></a>You are concerned with multiple `SageMath` installs I am more concerned with global install for multiple users (SMC and sage-on-gentoo) and I am not sure about that change. It gives me problem on install at the moment because it violates sandbox rules of packaging. It's more the fault of `jupyter_core` for not giving me a way of over-ridding `ENV_JUPYTER_PATH` than yours.\n\nBut I am more worried about the fact that on a global install people won't be able to touch that directory. If you don't need to put anything else in it at \"user runtime\" great. If not we are in a big no situation as far as I am concerned (and William will almost certainly not be happy either).\n\nAs for running multiple `SageMath` install side by side without bad interactions from the content of `~/.sage` you can always define `DOTSAGE`. A bit inconvenient (unless you version it inside of `sage`) but it works.",
    "created_at": "2015-10-08T22:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262282",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:6'></a>You are concerned with multiple `SageMath` installs I am more concerned with global install for multiple users (SMC and sage-on-gentoo) and I am not sure about that change. It gives me problem on install at the moment because it violates sandbox rules of packaging. It's more the fault of `jupyter_core` for not giving me a way of over-ridding `ENV_JUPYTER_PATH` than yours.

But I am more worried about the fact that on a global install people won't be able to touch that directory. If you don't need to put anything else in it at "user runtime" great. If not we are in a big no situation as far as I am concerned (and William will almost certainly not be happy either).

As for running multiple `SageMath` install side by side without bad interactions from the content of `~/.sage` you can always define `DOTSAGE`. A bit inconvenient (unless you version it inside of `sage`) but it works.



---

archive/issue_comments_262283.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 fbissey]:\n> It gives me problem on install at the moment because it violates sandbox rules of packaging.\n\nI think you need to explain this more. The only possible issue I can see is that maybe the directory `ENV_JUPYTER_PATH[0]` is the \"wrong\" place in your Sage-on-Gentoo setup.\n\nIf `ENV_JUPYTER_PATH[0]` is some directory inside `$SAGE_LOCAL` (which it should be), I don't see why installing this one particular file in `$SAGE_LOCAL` is any different from installing the huge number of other files in `$SAGE_LOCAL`...\n\n> But I am more worried about the fact that on a global install people won't be able to touch that directory. If you don't need to put anything else in it at \"user runtime\" great.\n\nWe do not need to put anything else in that directory at runtime. Why do you think we do?",
    "created_at": "2015-10-09T07:36:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262283",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>Replying to [comment:6 fbissey]:
> It gives me problem on install at the moment because it violates sandbox rules of packaging.

I think you need to explain this more. The only possible issue I can see is that maybe the directory `ENV_JUPYTER_PATH[0]` is the "wrong" place in your Sage-on-Gentoo setup.

If `ENV_JUPYTER_PATH[0]` is some directory inside `$SAGE_LOCAL` (which it should be), I don't see why installing this one particular file in `$SAGE_LOCAL` is any different from installing the huge number of other files in `$SAGE_LOCAL`...

> But I am more worried about the fact that on a global install people won't be able to touch that directory. If you don't need to put anything else in it at "user runtime" great.

We do not need to put anything else in that directory at runtime. Why do you think we do?



---

archive/issue_comments_262284.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:7 jdemeyer]:\n> Replying to [comment:6 fbissey]:\n> > It gives me problem on install at the moment because it violates sandbox rules of packaging.\n\n> I think you need to explain this more. The only possible issue I can see is that maybe the directory `ENV_JUPYTER_PATH[0]` is the \"wrong\" place in your Sage-on-Gentoo setup.\n\n`ENV_JUPYTER_PATH` is defined as `os.path.join(sys.prefix, 'share', 'jupyter')` which translates as `/usr/share/jupyter` (or `$SAGE_LOCAL/share/jupyter`) in concrete terms. The problem is the sage installation procedure is now trying to create and write files out of the sandbox. \n\nProper packaging in the sense of rpm, deb and most other doesn't allow you to write in the \"live\" system. Things are installed and written in a sandbox space and then copied (merged) to the system. Because of the way Andrew wrote `env.py` (and I was grateful to him for that) I can set most `SAGE_*` variables so sage will write things in my sandbox. If `jupyter_core` was allowing me to over-ride `ENV_JUPYTER_PATH` I could set in the appropriate place in the sandbox and it would be merged in the right place.\n\n> \n> If `ENV_JUPYTER_PATH[0]` is some directory inside `$SAGE_LOCAL` (which it should be), I don't see why installing this one particular file in `$SAGE_LOCAL` is any different from installing the huge number of other files in `$SAGE_LOCAL`...\n> \n\n\n`sys.prefix` is `SAGE_LOCAL`, actually even in `sage-on-gentoo`, the difference is that you don't protect your live prefix during build.\n\n> > But I am more worried about the fact that on a global install people won't be able to touch that directory. If you don't need to put anything else in it at \"user runtime\" great.\n\n> We do not need to put anything else in that directory at runtime. Why do you think we do?\n\nBecause I am uncertain of how it works. You are obviously creating something there as place holder but it was possibly silly of me.",
    "created_at": "2015-10-09T07:55:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262284",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'></a>Replying to [comment:7 jdemeyer]:
> Replying to [comment:6 fbissey]:
> > It gives me problem on install at the moment because it violates sandbox rules of packaging.

> I think you need to explain this more. The only possible issue I can see is that maybe the directory `ENV_JUPYTER_PATH[0]` is the "wrong" place in your Sage-on-Gentoo setup.

`ENV_JUPYTER_PATH` is defined as `os.path.join(sys.prefix, 'share', 'jupyter')` which translates as `/usr/share/jupyter` (or `$SAGE_LOCAL/share/jupyter`) in concrete terms. The problem is the sage installation procedure is now trying to create and write files out of the sandbox. 

Proper packaging in the sense of rpm, deb and most other doesn't allow you to write in the "live" system. Things are installed and written in a sandbox space and then copied (merged) to the system. Because of the way Andrew wrote `env.py` (and I was grateful to him for that) I can set most `SAGE_*` variables so sage will write things in my sandbox. If `jupyter_core` was allowing me to over-ride `ENV_JUPYTER_PATH` I could set in the appropriate place in the sandbox and it would be merged in the right place.

> 
> If `ENV_JUPYTER_PATH[0]` is some directory inside `$SAGE_LOCAL` (which it should be), I don't see why installing this one particular file in `$SAGE_LOCAL` is any different from installing the huge number of other files in `$SAGE_LOCAL`...
> 


`sys.prefix` is `SAGE_LOCAL`, actually even in `sage-on-gentoo`, the difference is that you don't protect your live prefix during build.

> > But I am more worried about the fact that on a global install people won't be able to touch that directory. If you don't need to put anything else in it at "user runtime" great.

> We do not need to put anything else in that directory at runtime. Why do you think we do?

Because I am uncertain of how it works. You are obviously creating something there as place holder but it was possibly silly of me.



---

archive/issue_comments_262285.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 fbissey]:\n> `sys.prefix` is `SAGE_LOCAL`, actually even in `sage-on-gentoo`\n\n\nSo, if `sys.prefix` is `$SAGE_LOCAL` and you can set `$SAGE_LOCAL` to whatever you want, then I don't see the problem.\n\n> the difference is that you don't protect your live prefix during build.\n\nI have absolutely no idea what this sentence means.",
    "created_at": "2015-10-09T07:59:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262285",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>Replying to [comment:8 fbissey]:
> `sys.prefix` is `SAGE_LOCAL`, actually even in `sage-on-gentoo`


So, if `sys.prefix` is `$SAGE_LOCAL` and you can set `$SAGE_LOCAL` to whatever you want, then I don't see the problem.

> the difference is that you don't protect your live prefix during build.

I have absolutely no idea what this sentence means.



---

archive/issue_comments_262286.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:8 fbissey]:\n> Because I am uncertain of how it works.\n\nIt's really just one configuration file. That's the whole thing I don't understand: what makes this *one particular file* so special? You apparently manage to install all of Sage, but not this *one particular file*?",
    "created_at": "2015-10-09T08:01:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262286",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>Replying to [comment:8 fbissey]:
> Because I am uncertain of how it works.

It's really just one configuration file. That's the whole thing I don't understand: what makes this *one particular file* so special? You apparently manage to install all of Sage, but not this *one particular file*?



---

archive/issue_comments_262287.json:
```json
{
    "body": "<a id='comment:11'></a>Two things:\n* the fact that `sys.prefix` is `SAGE_LOCAL` is incidental, it doesn't have to be. \n* Once `jupyter_core` is in place it doesn't matter what I set `SAGE_LOCAL` to, it doesn't change the value of `sys.prefix` `jupyter_core` or rather `python` is reporting.\n\nThe install procedure for sage is now trying to create `/usr/share/jupyter/kernels/sagemath` and any missing directory. rpm, deb and ebuild do not allow you to do that directly. You install `$SOMESANDBOX/usr/share/jupyter/kernels/sagemath` and later you merge into the live system. That's what `DESTDIR` is for in autotools, you set `DESTDIR=$SOMESANDBOX` and things magically install in the sandbox.\n\nNow my main concern was the potential for user to do something to `{/usr,$SAGE_LOCAL}/share/jupyter/kernels/sagemath` which would be problematic for multi-user install. It is unfounded. The rest is an upstream problem and we can stop debating packaging tech in this ticket.",
    "created_at": "2015-10-09T08:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262287",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:11'></a>Two things:
* the fact that `sys.prefix` is `SAGE_LOCAL` is incidental, it doesn't have to be. 
* Once `jupyter_core` is in place it doesn't matter what I set `SAGE_LOCAL` to, it doesn't change the value of `sys.prefix` `jupyter_core` or rather `python` is reporting.

The install procedure for sage is now trying to create `/usr/share/jupyter/kernels/sagemath` and any missing directory. rpm, deb and ebuild do not allow you to do that directly. You install `$SOMESANDBOX/usr/share/jupyter/kernels/sagemath` and later you merge into the live system. That's what `DESTDIR` is for in autotools, you set `DESTDIR=$SOMESANDBOX` and things magically install in the sandbox.

Now my main concern was the potential for user to do something to `{/usr,$SAGE_LOCAL}/share/jupyter/kernels/sagemath` which would be problematic for multi-user install. It is unfounded. The rest is an upstream problem and we can stop debating packaging tech in this ticket.



---

archive/issue_comments_262288.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:11 fbissey]:\n> You install `$SOMESANDBOX/usr/share/jupyter/kernels/sagemath` and later you merge into the live system. That's what `DESTDIR` is for in autotools, you set `DESTDIR=$SOMESANDBOX` and things magically install in the sandbox.\n\n\nRight, and how does this work with `distutils`? I assume (but I might be wrong) that distutils also uses `sys.prefix` to determine where to install stuff.",
    "created_at": "2015-10-09T08:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262288",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>Replying to [comment:11 fbissey]:
> You install `$SOMESANDBOX/usr/share/jupyter/kernels/sagemath` and later you merge into the live system. That's what `DESTDIR` is for in autotools, you set `DESTDIR=$SOMESANDBOX` and things magically install in the sandbox.


Right, and how does this work with `distutils`? I assume (but I might be wrong) that distutils also uses `sys.prefix` to determine where to install stuff.



---

archive/issue_comments_262289.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:11 fbissey]:\n> The rest is an upstream problem and we can stop debating packaging tech in this ticket.\n\nIt happens that I am [debating packaging tech with upstream](https://github.com/jupyter/jupyter_client/pull/75), so I'd like to understand your issue.",
    "created_at": "2015-10-09T08:26:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262289",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>Replying to [comment:11 fbissey]:
> The rest is an upstream problem and we can stop debating packaging tech in this ticket.

It happens that I am [debating packaging tech with upstream](https://github.com/jupyter/jupyter_client/pull/75), so I'd like to understand your issue.



---

archive/issue_comments_262290.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 jdemeyer]:\n> Replying to [comment:11 fbissey]:\n> > The rest is an upstream problem and we can stop debating packaging tech in this ticket.\n\n> It happens that I am [debating packaging tech with upstream](https://github.com/jupyter/jupyter_client/pull/75), so I'd like to understand your issue.\n\nI have just read it ( before seeing your comment here). It is a bit messy but thinking more about it there must a bug of some kind. `distutils` as used from within portage should set a sandboxed `prefix`, therefore `sys.prefix` should point to a sandboxed location, so something is wrong there.",
    "created_at": "2015-10-09T08:38:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262290",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:14'></a>Replying to [comment:13 jdemeyer]:
> Replying to [comment:11 fbissey]:
> > The rest is an upstream problem and we can stop debating packaging tech in this ticket.

> It happens that I am [debating packaging tech with upstream](https://github.com/jupyter/jupyter_client/pull/75), so I'd like to understand your issue.

I have just read it ( before seeing your comment here). It is a bit messy but thinking more about it there must a bug of some kind. `distutils` as used from within portage should set a sandboxed `prefix`, therefore `sys.prefix` should point to a sandboxed location, so something is wrong there.



---

archive/issue_comments_262291.json:
```json
{
    "body": "<a id='comment:15'></a>I know what the problem is. We have three phases in order: build, test (optional) and install. Only the install phase is run with a prefix, this is the only time when it should be necessary. But the installation of the jupyter kernel is attempted during the build phase. So from my point of view that bit has to be restricted to install time.",
    "created_at": "2015-10-09T09:48:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262291",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:15'></a>I know what the problem is. We have three phases in order: build, test (optional) and install. Only the install phase is run with a prefix, this is the only time when it should be necessary. But the installation of the jupyter kernel is attempted during the build phase. So from my point of view that bit has to be restricted to install time.



---

archive/issue_comments_262292.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-10-09T11:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262292",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_262293.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-09T12:56:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262293",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262294.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-10-09T13:09:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262294",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_262295.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-10-09T15:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262295",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_262296.json:
```json
{
    "body": "<a id='comment:19'></a>I think we need to uncouple the IPython from the kernel spec installation.",
    "created_at": "2015-10-09T15:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262296",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>I think we need to uncouple the IPython from the kernel spec installation.



---

archive/issue_events_053580.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-09T17:44:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19371#event-53580"
}
```



---

archive/issue_comments_262297.json:
```json
{
    "body": "<a id='comment:20'></a>Since this turns out to be a lot trickier than I initially thought, this should not be a 6.9 blocker. Which means that we need to unrebase #19374.",
    "created_at": "2015-10-09T17:44:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262297",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>Since this turns out to be a lot trickier than I initially thought, this should not be a 6.9 blocker. Which means that we need to unrebase #19374.



---

archive/issue_comments_262298.json:
```json
{
    "body": "<a id='comment:21'></a>Thank you for taking my concern on board.",
    "created_at": "2015-10-09T20:26:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262298",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:21'></a>Thank you for taking my concern on board.



---

archive/issue_comments_262299.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-10-11T10:01:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262299",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_262300.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-10-11T10:29:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262300",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_262301.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-10-11T10:49:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262301",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_262302.json:
```json
{
    "body": "<a id='comment:28'></a>Sorry I'm afraid I cannot review this one (don't feel competent about it).",
    "created_at": "2015-10-11T16:57:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262302",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:28'></a>Sorry I'm afraid I cannot review this one (don't feel competent about it).



---

archive/issue_comments_262303.json:
```json
{
    "body": "<a id='comment:29'></a>I had a problem on an Ubuntu machine wher I could get MathJax in sheets created in my home directory but nowhere else.\n\nI checked the present patch and recompiled :\n1. It seems to solve my Ubuntu-specific problem\n2. It passes ptestlong.\n\nIs that enough for a positive review ?",
    "created_at": "2015-10-15T14:36:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262303",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:29'></a>I had a problem on an Ubuntu machine wher I could get MathJax in sheets created in my home directory but nowhere else.

I checked the present patch and recompiled :
1. It seems to solve my Ubuntu-specific problem
2. It passes ptestlong.

Is that enough for a positive review ?



---

archive/issue_comments_262304.json:
```json
{
    "body": "<a id='comment:30'></a>Replying to [comment:29 charpent]:\n> Is that enough for a positive review ?\n\n\nWho are you asking? Essentially, that's up to you to decide.",
    "created_at": "2015-10-15T14:41:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262304",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>Replying to [comment:29 charpent]:
> Is that enough for a positive review ?


Who are you asking? Essentially, that's up to you to decide.



---

archive/issue_comments_262305.json:
```json
{
    "body": "<a id='comment:31'></a>Note that this depends on #19373. So, it would be nice if you could also review that.",
    "created_at": "2015-10-15T14:42:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262305",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'></a>Note that this depends on #19373. So, it would be nice if you could also review that.



---

archive/issue_comments_262306.json:
```json
{
    "body": "<a id='comment:32'></a>Replying to [comment:31 jdemeyer]:\n> Note that this depends on #19373. So, it would be nice if you could also review that.\n\n\nIs this dependance somehow managed by git ?\n\nIn other terms, when I checked #19371 out, did that also applied #19373 ?\n\nIf so, that means that my tests show that (#19371+#19373) passes ptestlong. I cannot speak for a Jupyter hub, since I don't have such a beast in my zoo...\n\nOtherwise, I'll have to check out #19373 and merge both branches, then recompile and ptestlong (about 4 hours on my Ubuntu netbook...).\n\nOr would it be enough to positively review #19371, and leave #19373 to someone equipped to do so ?",
    "created_at": "2015-10-15T14:59:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262306",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:32'></a>Replying to [comment:31 jdemeyer]:
> Note that this depends on #19373. So, it would be nice if you could also review that.


Is this dependance somehow managed by git ?

In other terms, when I checked #19371 out, did that also applied #19373 ?

If so, that means that my tests show that (#19371+#19373) passes ptestlong. I cannot speak for a Jupyter hub, since I don't have such a beast in my zoo...

Otherwise, I'll have to check out #19373 and merge both branches, then recompile and ptestlong (about 4 hours on my Ubuntu netbook...).

Or would it be enough to positively review #19371, and leave #19373 to someone equipped to do so ?



---

archive/issue_comments_262307.json:
```json
{
    "body": "<a id='comment:33'></a>Replying to [comment:32 charpent]:\n> In other terms, when I checked #19371 out, did that also applied #19373 ?\n\nYes, this branch here is based on #19373.\n\n> If so, that means that my tests show that (#19371+#19373) passes ptestlong.\n\nIndeed.",
    "created_at": "2015-10-15T15:05:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262307",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:33'></a>Replying to [comment:32 charpent]:
> In other terms, when I checked #19371 out, did that also applied #19373 ?

Yes, this branch here is based on #19373.

> If so, that means that my tests show that (#19371+#19373) passes ptestlong.

Indeed.



---

archive/issue_comments_262308.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-15T15:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262308",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_262309.json:
```json
{
    "body": "<a id='comment:34'></a>Replying to [comment:33 jdemeyer]:\n> Replying to [comment:32 charpent]:\n> > In other terms, when I checked #19371 out, did that also applied #19373 ?\n\n> Yes, this branch here is based on #19373.\n> \n> > If so, that means that my tests show that (#19371+#19373) passes ptestlong.\n\n> Indeed.\n\nOK. I give a positive review to #19371. I'll leave to someone having the possibility to really test #19373 the responsibility of validating it.",
    "created_at": "2015-10-15T15:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262309",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:34'></a>Replying to [comment:33 jdemeyer]:
> Replying to [comment:32 charpent]:
> > In other terms, when I checked #19371 out, did that also applied #19373 ?

> Yes, this branch here is based on #19373.
> 
> > If so, that means that my tests show that (#19371+#19373) passes ptestlong.

> Indeed.

OK. I give a positive review to #19371. I'll leave to someone having the possibility to really test #19373 the responsibility of validating it.



---

archive/issue_events_053581.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-18T19:11:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19371#event-53581"
}
```



---

archive/issue_comments_262310.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-10-18T19:11:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19371#issuecomment-262310",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
