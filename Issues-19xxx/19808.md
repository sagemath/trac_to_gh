# Issue 19808: Return cached value for cached function

archive/issues_019571.json:
```json
{
    "body": "Currently, cached functions lack a way of returning a cached value without computing it. We add a method `cached()` which does exactly this: either it returns the cached value or it raises `KeyError`.\n\nBranch/Commit: 9768d010e9982db952620c3cc9f2f2848afafe5b\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Jeroen Demeyer\n\nDependencies: #19810\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19808\n\n",
    "closed_at": "2016-01-20T10:19:58Z",
    "created_at": "2015-12-30T13:42:36Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.0",
    "title": "Return cached value for cached function",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19808",
    "user": "https://github.com/jdemeyer"
}
```
Currently, cached functions lack a way of returning a cached value without computing it. We add a method `cached()` which does exactly this: either it returns the cached value or it raises `KeyError`.

Branch/Commit: 9768d010e9982db952620c3cc9f2f2848afafe5b

Reviewer: Frédéric Chapoton

Author: Jeroen Demeyer

Dependencies: #19810

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19808





---

archive/issue_comments_356434.json:
```json
{
    "body": "Changing dependencies from \"#19768\" to \"#19810\"",
    "created_at": "2016-01-01T11:21:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19808#issuecomment-356434",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#19768" to "#19810"



---

archive/issue_comments_356435.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/ticket/19808\"",
    "created_at": "2016-01-01T11:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19808#issuecomment-356435",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/ticket/19808"



---

archive/issue_comments_356436.json:
```json
{
    "body": "Changing commit from \"\" to \"9768d010e9982db952620c3cc9f2f2848afafe5b\"",
    "created_at": "2016-01-01T11:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19808#issuecomment-356436",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "9768d010e9982db952620c3cc9f2f2848afafe5b"



---

archive/issue_comments_356437.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2016-01-01T11:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19808#issuecomment-356437",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_356438.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-01-01T11:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19808#issuecomment-356438",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_356439.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-01-13T20:07:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19808#issuecomment-356439",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_356440.json:
```json
{
    "body": "<a id='comment:4'></a>ok, looks good to me. I hope you have a real use case.",
    "created_at": "2016-01-13T20:07:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19808#issuecomment-356440",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>ok, looks good to me. I hope you have a real use case.



---

archive/issue_comments_356441.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2016-01-13T20:07:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19808#issuecomment-356441",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_356442.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 chapoton]:\n> I hope you have a real use case.\n\n\nI have many!\n\nA typical situation is where you need to compute some invariant X, which can either be computed directly or which can be immediately derived from some more complication invariant Y. If you already computed Y, you use it to get X. If you didn't compute Y already, you compute X directly.\n\nFor example, Y could be a group and X its cardinality.",
    "created_at": "2016-01-13T21:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19808#issuecomment-356442",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>Replying to [comment:4 chapoton]:
> I hope you have a real use case.


I have many!

A typical situation is where you need to compute some invariant X, which can either be computed directly or which can be immediately derived from some more complication invariant Y. If you already computed Y, you use it to get X. If you didn't compute Y already, you compute X directly.

For example, Y could be a group and X its cardinality.



---

archive/issue_comments_356443.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-01-20T10:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19808#issuecomment-356443",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_356444.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/ticket/19808\" to \"9768d010e9982db952620c3cc9f2f2848afafe5b\"",
    "created_at": "2016-01-20T10:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19808#issuecomment-356444",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/ticket/19808" to "9768d010e9982db952620c3cc9f2f2848afafe5b"



---

archive/issue_events_054206.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-20T10:19:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19808",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19808#event-54206"
}
```
