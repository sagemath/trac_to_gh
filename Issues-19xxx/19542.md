# Issue 19542: Exception strings to Developer manual

archive/issues_019305.json:
```json
{
    "body": "This patch adds a note about exception strings to developer manual. As an example it also unifies exceptions in `posets.py`.\n\n\nCC:  @jdemeyer\n\nReviewer: Nathann Cohen\n\nAuthor: Jori M\u00e4ntysalo\n\nBranch: u/jmantysalo/raises\n\nCommit: 57130a2b849c0f2ff0823e1c3135a09ee740445f\n\nResolution: wontfix\n\nIssue created by migration from https://trac.sagemath.org/ticket/19542\n\n",
    "closed_at": "2016-02-23T23:00:06Z",
    "created_at": "2015-11-07T06:41:35Z",
    "labels": [
        "component: documentation",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Exception strings to Developer manual",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19542",
    "user": "https://github.com/jm58660"
}
```
This patch adds a note about exception strings to developer manual. As an example it also unifies exceptions in `posets.py`.


CC:  @jdemeyer

Reviewer: Nathann Cohen

Author: Jori MÃ¤ntysalo

Branch: u/jmantysalo/raises

Commit: 57130a2b849c0f2ff0823e1c3135a09ee740445f

Resolution: wontfix

Issue created by migration from https://trac.sagemath.org/ticket/19542





---

archive/issue_comments_264794.json:
```json
{
    "body": "<a id='comment:2'></a>I'm against this. I have exceptions which are meant to be informative, and sometimes contain >1 sentence. I do not agree with a standard that would force me to make them less informative.",
    "created_at": "2015-11-07T09:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264794",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:2'></a>I'm against this. I have exceptions which are meant to be informative, and sometimes contain >1 sentence. I do not agree with a standard that would force me to make them less informative.



---

archive/issue_comments_264795.json:
```json
{
    "body": "<a id='comment:3'></a>You have exceptions with multiple sentences in misc/package.py. It is true, however, that the first sentence starts with a lower case and the second sentence does not contain a dot.\n\nDo you mean that you want this standard to be applied even when several sentences occur?\n\ni.e. do you meant that you want full sentences to end with a dot \"Except the last\" and to begin with an Upper case \"except the first\"?\n\nNathann",
    "created_at": "2015-11-07T09:34:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264795",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>You have exceptions with multiple sentences in misc/package.py. It is true, however, that the first sentence starts with a lower case and the second sentence does not contain a dot.

Do you mean that you want this standard to be applied even when several sentences occur?

i.e. do you meant that you want full sentences to end with a dot "Except the last" and to begin with an Upper case "except the first"?

Nathann



---

archive/issue_comments_264796.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 ncohen]:\n\n> Do you mean that you want this standard to be applied even when several sentences occur?\n\n\nI did not change\n\n```\nraise ValueError(\"element_labels should be a dict or a list if \"+\n                 \"different from None. (Did you intend data to be \"+\n                 \"equal to a pair ?)\")\n```\n\nAnd as I have said before: Whole developer manual should be seen as a default values. \"Do like this, or think (and maybe say out) why you did not.\"\n\nPersonally I would like to see whole sentences always, but it is against Python conventions. Can we say \"If exception string is one sentence, start it with lowercase and do not end to comma. In other words, follow Python convention::\"\n\nIn any case the error reporting is not that good for beginner. Example:\n\n```\nP = Posets.PentagonPoset()\np1 = P.chain_polynomial()\np2 = P.characteristic_polynomial()\np3 = P.h_polynomial()\n```\n\nsays\n\n```\nTraceback (click to the left of this block for traceback)\n...\nTypeError: the poset should be graded\n```\n\nand clicking says something strange like `exec compile(u'open(\"___code___.py\",\"w\").write(\"# -*- coding: utf-8 -*-\\\\n\" + _support_.preparse`... It takes a while to see what function failed.",
    "created_at": "2015-11-07T09:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264796",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:4'></a>Replying to [comment:3 ncohen]:

> Do you mean that you want this standard to be applied even when several sentences occur?


I did not change

```
raise ValueError("element_labels should be a dict or a list if "+
                 "different from None. (Did you intend data to be "+
                 "equal to a pair ?)")
```

And as I have said before: Whole developer manual should be seen as a default values. "Do like this, or think (and maybe say out) why you did not."

Personally I would like to see whole sentences always, but it is against Python conventions. Can we say "If exception string is one sentence, start it with lowercase and do not end to comma. In other words, follow Python convention::"

In any case the error reporting is not that good for beginner. Example:

```
P = Posets.PentagonPoset()
p1 = P.chain_polynomial()
p2 = P.characteristic_polynomial()
p3 = P.h_polynomial()
```

says

```
Traceback (click to the left of this block for traceback)
...
TypeError: the poset should be graded
```

and clicking says something strange like `exec compile(u'open("___code___.py","w").write("# -*- coding: utf-8 -*-\\n" + _support_.preparse`... It takes a while to see what function failed.



---

archive/issue_comments_264797.json:
```json
{
    "body": "<a id='comment:5'></a>Can you say why you think that we should be consistent with Python on this respect? It seems that you accept that we have full sentences (contrary to python) so that we will not be consistent anyway.\n\nAs the text of an exception does not appear in any kind of code I do not think that we should follow any such standard, and that we should strive instead to make our exception as natural as possible to our users. By following the rules of english.\n\nNathann",
    "created_at": "2015-11-07T09:47:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264797",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>Can you say why you think that we should be consistent with Python on this respect? It seems that you accept that we have full sentences (contrary to python) so that we will not be consistent anyway.

As the text of an exception does not appear in any kind of code I do not think that we should follow any such standard, and that we should strive instead to make our exception as natural as possible to our users. By following the rules of english.

Nathann



---

archive/issue_comments_264798.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 ncohen]:\n> Can you say why you think that we should be consistent with Python on this respect? It seems that you accept that we have full sentences (contrary to python) so that we will not be consistent anyway.\n\n\nAccording to discussion at sage-devel it seems that this is what is wanted by majority. But maybe it is not. At least Kevin suggested normal English sentences. Maybe you can continue discussion here. I can then make changes to this ticket.",
    "created_at": "2015-11-07T09:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264798",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>Replying to [comment:5 ncohen]:
> Can you say why you think that we should be consistent with Python on this respect? It seems that you accept that we have full sentences (contrary to python) so that we will not be consistent anyway.


According to discussion at sage-devel it seems that this is what is wanted by majority. But maybe it is not. At least Kevin suggested normal English sentences. Maybe you can continue discussion here. I can then make changes to this ticket.



---

archive/issue_comments_264799.json:
```json
{
    "body": "<a id='comment:7'></a>I cannot find that discussion. Can you add a link toward the thread in this ticket's description?",
    "created_at": "2015-11-07T09:55:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264799",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>I cannot find that discussion. Can you add a link toward the thread in this ticket's description?



---

archive/issue_comments_264800.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:7 ncohen]:\n> I cannot find that discussion. Can you add a link toward the thread in this ticket's description?\n\n\nHere: https://groups.google.com/forum/#!topic/sage-devel/KSQZ3fzxWac",
    "created_at": "2015-11-07T09:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264800",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:8'></a>Replying to [comment:7 ncohen]:
> I cannot find that discussion. Can you add a link toward the thread in this ticket's description?


Here: https://groups.google.com/forum/#!topic/sage-devel/KSQZ3fzxWac



---

archive/issue_comments_264801.json:
```json
{
    "body": "<a id='comment:9'></a>In this thread I see two persons giving an opinion:\n\n- Jeroen says that we should follow Python (he does not say what he thinks should happen with multi-sentences exception)\n\n- Daniel says that we should follow english.\n\nYou said here that you prefered English, same for me. That's 3 against one, so here lies the majority.\n\nVolker says that indeed multi sentences is against python convention already, and your branch does nothing about that.\n\nSo please do not consider that there is a majority for this change, and if you insist on enforcing it please open a thread devoted to it.\n\n\"All sentences except the first start with an upper case, and all sentences except the last end with a point\" does not sound exceptionally enticing to me.\n\nNathann",
    "created_at": "2015-11-07T10:01:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264801",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>In this thread I see two persons giving an opinion:

- Jeroen says that we should follow Python (he does not say what he thinks should happen with multi-sentences exception)

- Daniel says that we should follow english.

You said here that you prefered English, same for me. That's 3 against one, so here lies the majority.

Volker says that indeed multi sentences is against python convention already, and your branch does nothing about that.

So please do not consider that there is a majority for this change, and if you insist on enforcing it please open a thread devoted to it.

"All sentences except the first start with an upper case, and all sentences except the last end with a point" does not sound exceptionally enticing to me.

Nathann



---

archive/issue_comments_264802.json:
```json
{
    "body": "<a id='comment:10'></a>True. I asked for more \"votes\" on this on list.",
    "created_at": "2015-11-07T11:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264802",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:10'></a>True. I asked for more "votes" on this on list.



---

archive/issue_comments_264803.json:
```json
{
    "body": "<a id='comment:11'></a>This one does not seem to converge. Should we just close this ticket, and maybe return to it in a future far away?",
    "created_at": "2016-01-10T08:13:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264803",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:11'></a>This one does not seem to converge. Should we just close this ticket, and maybe return to it in a future far away?



---

archive/issue_comments_264804.json:
```json
{
    "body": "<a id='comment:12'></a>+1 for closing it.",
    "created_at": "2016-01-10T11:39:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264804",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>+1 for closing it.



---

archive/issue_events_053816.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-01-15T06:09:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19542#event-53816"
}
```



---

archive/issue_comments_264805.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-01-15T06:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264805",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_264806.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 ncohen]:\n> +1 for closing it.\n\n\nOK, the last call.",
    "created_at": "2016-01-15T06:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264806",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:13'></a>Replying to [comment:12 ncohen]:
> +1 for closing it.


OK, the last call.



---

archive/issue_comments_264807.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-01-15T07:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264807",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_053817.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-02-23T23:00:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19542#event-53817"
}
```



---

archive/issue_comments_264808.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2016-02-23T23:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-264808",
    "user": "https://github.com/vbraun"
}
```

Resolution: wontfix
