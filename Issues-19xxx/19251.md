# Issue 19251: LinearCode.basis() should be an immutable Sequence

archive/issues_019014.json:
```json
{
    "body": "Right now the `.basis()` method returns just a `list`. This should instead be an immutable `Sequence`, retaining the type information in its `.universe()` method.\n\n\nCC:  dlucas\n\nKeywords: beginner\n\nReviewer: David Lucas, Daniel Augot\n\nAuthor: Johan Rosenkilde, Nathann Cohen\n\nBranch: b3dc9bfa5bb473c52d54dd507d39c512216c16bc\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19251\n\n",
    "closed_at": "2016-08-27T08:38:08Z",
    "created_at": "2015-09-20T07:48:10Z",
    "labels": [
        "component: coding theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "LinearCode.basis() should be an immutable Sequence",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19251",
    "user": "https://github.com/nathanncohen"
}
```
Right now the `.basis()` method returns just a `list`. This should instead be an immutable `Sequence`, retaining the type information in its `.universe()` method.


CC:  dlucas

Keywords: beginner

Reviewer: David Lucas, Daniel Augot

Author: Johan Rosenkilde, Nathann Cohen

Branch: b3dc9bfa5bb473c52d54dd507d39c512216c16bc

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19251





---

archive/issue_comments_277566.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-09-20T07:48:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277566",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_277567.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-20T07:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277567",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_277568.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-09-20T09:37:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277568",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_277569.json:
```json
{
    "body": "<a id='comment:3'></a>Hello,\n\nJust a question: if you're not adding a deprecation warning to this (which I agree with), what do you think about adding extra info to the docstring, like\n\"Returns a basis of `self` as a matrix of the ambient space of `self`\"?",
    "created_at": "2015-09-20T09:37:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277569",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:3'></a>Hello,

Just a question: if you're not adding a deprecation warning to this (which I agree with), what do you think about adding extra info to the docstring, like
"Returns a basis of `self` as a matrix of the ambient space of `self`"?



---

archive/issue_comments_277570.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-20T09:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277570",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_277571.json:
```json
{
    "body": "<a id='comment:5'></a>Here it is!\n\nNathann",
    "created_at": "2015-09-20T09:45:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277571",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>Here it is!

Nathann



---

archive/issue_comments_277572.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-09-20T09:45:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277572",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_277573.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-09-20T09:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277573",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_277574.json:
```json
{
    "body": "<a id='comment:6'></a>Great!\n\nAs all tests pass, I'm giving the green bulb.\n\nDavid",
    "created_at": "2015-09-20T09:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277574",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:6'></a>Great!

As all tests pass, I'm giving the green bulb.

David



---

archive/issue_comments_277575.json:
```json
{
    "body": "<a id='comment:7'></a>Thanks!",
    "created_at": "2015-09-20T10:06:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277575",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>Thanks!



---

archive/issue_comments_277576.json:
```json
{
    "body": "<a id='comment:8'></a>Doctests fail.\n\nAlso, a matrix is not a basis. Matrices have row and column spans, its not clear which one you mean if you just return a matrix. This is how it is supposed to work:\n\n```\nsage: (QQ^3).span([(1,2,3)]).basis()\n[\n(1, 2, 3)\n]\nsage: _.universe()\nVector space of degree 3 and dimension 1 over Rational Field\nBasis matrix:\n[1 2 3]\n```",
    "created_at": "2015-09-20T18:47:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277576",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>Doctests fail.

Also, a matrix is not a basis. Matrices have row and column spans, its not clear which one you mean if you just return a matrix. This is how it is supposed to work:

```
sage: (QQ^3).span([(1,2,3)]).basis()
[
(1, 2, 3)
]
sage: _.universe()
Vector space of degree 3 and dimension 1 over Rational Field
Basis matrix:
[1 2 3]
```



---

archive/issue_comments_277577.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-09-20T18:47:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277577",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_277578.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-09-20T19:39:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277578",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_277579.json:
```json
{
    "body": "<a id='comment:9'></a>Never discuss with a release manager.\n\nNathann",
    "created_at": "2015-09-20T19:39:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277579",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>Never discuss with a release manager.

Nathann



---

archive/issue_events_053383.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-09-20T19:39:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19251#event-53383"
}
```



---

archive/issue_comments_277580.json:
```json
{
    "body": "<a id='comment:10'></a>There's still something of a bug, though, since the type returned by `LinearCode.basis()` is `list`, while what Volker writes about is a `Sequence_generic`, which exactly supports the `universe` method.",
    "created_at": "2015-09-20T20:46:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277580",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:10'></a>There's still something of a bug, though, since the type returned by `LinearCode.basis()` is `list`, while what Volker writes about is a `Sequence_generic`, which exactly supports the `universe` method.



---

archive/issue_comments_277581.json:
```json
{
    "body": "<a id='comment:11'></a>+1 to returning an immutable Sequence instead of a list... are you going to implement that?",
    "created_at": "2015-09-25T08:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277581",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>+1 to returning an immutable Sequence instead of a list... are you going to implement that?



---

archive/issue_comments_277582.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2015-09-25T08:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277582",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_277583.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2015-09-25T08:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277583",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_277584.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,5 @@\n-Right now the .basis() methd returns the rows of a matrix, which naturally have no ambiant space and only the methods of `list`. This branch makes it an alias of `generator_matrix` (it used to be an alias of `.gens()`) so that this information remains available.\n+Right now the `.basis()` method returns just a `list`. This should instead be an immutable `Sequence`, retaining the type information in its `.universe()` method.\n \n-Note that this matrix is also an iterable, and that one can as easily iterate on the rows of that matrix as on the elements of the list it previously returned.\n \n Author: Nathann Cohen\n \n``````\n",
    "created_at": "2015-09-25T08:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277584",
    "user": "https://github.com/johanrosenkilde"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,5 @@
-Right now the .basis() methd returns the rows of a matrix, which naturally have no ambiant space and only the methods of `list`. This branch makes it an alias of `generator_matrix` (it used to be an alias of `.gens()`) so that this information remains available.
+Right now the `.basis()` method returns just a `list`. This should instead be an immutable `Sequence`, retaining the type information in its `.universe()` method.
 
-Note that this matrix is also an iterable, and that one can as easily iterate on the rows of that matrix as on the elements of the list it previously returned.
 
 Author: Nathann Cohen
 
``````




---

archive/issue_events_053384.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2015-09-25T08:59:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19251#event-53384"
}
```



---

archive/issue_events_053385.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2015-09-25T08:59:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19251#event-53385"
}
```



---

archive/issue_comments_277585.json:
```json
{
    "body": "<a id='comment:12'></a>Ok, I'm on it...",
    "created_at": "2015-09-25T08:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277585",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:12'></a>Ok, I'm on it...



---

archive/issue_comments_277586.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-25T09:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_277587.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-09-25T09:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277587",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_277588.json:
```json
{
    "body": "<a id='comment:15'></a>One failing test in documentation due to formatting.\n\n```\nFile \"src/doc/en/prep/Quickstarts/Graphs-and-Discrete.rst\", line 325, in doc.en.prep.Quickstarts.Graphs-and-Discrete\nFailed example:\n    D.basis()\nExpected:\n    [(1, 0, 1, 0, 1, 0, 1), (0, 1, 1, 0, 0, 1, 1), (0, 0, 0, 1, 1, 1, 1)]\nGot:\n    [\n    (1, 0, 1, 0, 1, 0, 1),\n    (0, 1, 1, 0, 0, 1, 1),\n    (0, 0, 0, 1, 1, 1, 1)\n    ]\n```",
    "created_at": "2016-01-06T01:52:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277588",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:15'></a>One failing test in documentation due to formatting.

```
File "src/doc/en/prep/Quickstarts/Graphs-and-Discrete.rst", line 325, in doc.en.prep.Quickstarts.Graphs-and-Discrete
Failed example:
    D.basis()
Expected:
    [(1, 0, 1, 0, 1, 0, 1), (0, 1, 1, 0, 0, 1, 1), (0, 0, 0, 1, 1, 1, 1)]
Got:
    [
    (1, 0, 1, 0, 1, 0, 1),
    (0, 1, 1, 0, 0, 1, 1),
    (0, 0, 0, 1, 1, 1, 1)
    ]
```



---

archive/issue_comments_277589.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-01-06T01:52:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277589",
    "user": "https://github.com/kevindilks"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_277590.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-15T15:35:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277590",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_277591.json:
```json
{
    "body": "<a id='comment:17'></a>Missed that one - thanks. Rebased and doctest fixed.",
    "created_at": "2016-01-15T17:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277591",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:17'></a>Missed that one - thanks. Rebased and doctest fixed.



---

archive/issue_comments_277592.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-01-15T17:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277592",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_277593.json:
```json
{
    "body": "Changing keywords from \"\" to \"beginner\".",
    "created_at": "2016-06-29T08:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277593",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing keywords from "" to "beginner".



---

archive/issue_comments_277594.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-25T12:35:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277594",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_277595.json:
```json
{
    "body": "<a id='comment:20'></a>Hi\n\nthis is perfectly immutable in my session. Nevertheless, I add to resolve a conflict when pulling.\n\nI set it to positive review\n\nDaniel",
    "created_at": "2016-08-25T12:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277595",
    "user": "https://trac.sagemath.org/admin/accounts/users/danielaugot"
}
```

<a id='comment:20'></a>Hi

this is perfectly immutable in my session. Nevertheless, I add to resolve a conflict when pulling.

I set it to positive review

Daniel



---

archive/issue_comments_277596.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-25T13:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277596",
    "user": "https://trac.sagemath.org/admin/accounts/users/danielaugot"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_277597.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-08-27T08:38:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19251#issuecomment-277597",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_053386.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-27T08:38:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19251",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19251#event-53386"
}
```
