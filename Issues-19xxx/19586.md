# Issue 19586: Add is_cayley_graph

archive/issues_019349.json:
```json
{
    "body": "This ticket adds a method `is_cayley` to `GenericGraph`. This method checks whether a graph or digraph (which may or may not be connected) is a Cayley graph. If requested, it also returns a permutation group, a mapping from vertices to group elements, and a generating set of the Cayley graph.\n\nA method `has_regular_subgroup` has also been added to `PermutationGroup_generic`. It determines whether the group has a regular subgroup, and returns it if requested.\n\n**CC:**  @nathanncohen @dimpase\n\n**Keywords:** Cayley graphs groups\n\n**Branch:** [c6680e75cd77ffc40e0101b067d57074077f7aad](https://github.com/sagemath/sagetrac-mirror/commit/c6680e75cd77ffc40e0101b067d57074077f7aad)\n\n**Reviewer:** Nathann Cohen\n\n**Author:** Jano\u0161 Vidali\n\nIssue created by migration from https://trac.sagemath.org/ticket/19586\n\n",
    "closed_at": "2016-01-28T17:14:28Z",
    "created_at": "2015-11-14T13:07:00Z",
    "labels": [
        "component: graph theory",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "Add is_cayley_graph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19586",
    "user": "https://github.com/jaanos"
}
```
This ticket adds a method `is_cayley` to `GenericGraph`. This method checks whether a graph or digraph (which may or may not be connected) is a Cayley graph. If requested, it also returns a permutation group, a mapping from vertices to group elements, and a generating set of the Cayley graph.

A method `has_regular_subgroup` has also been added to `PermutationGroup_generic`. It determines whether the group has a regular subgroup, and returns it if requested.

**CC:**  @nathanncohen @dimpase

**Keywords:** Cayley graphs groups

**Branch:** [c6680e75cd77ffc40e0101b067d57074077f7aad](https://github.com/sagemath/sagetrac-mirror/commit/c6680e75cd77ffc40e0101b067d57074077f7aad)

**Reviewer:** Nathann Cohen

**Author:** Janoš Vidali

Issue created by migration from https://trac.sagemath.org/ticket/19586





---

archive/issue_comments_283136.json:
```json
{
    "body": "**Branch:** [u/jaanos/add_is_cayley_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/add_is_cayley_graph)",
    "created_at": "2015-11-14T13:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283136",
    "user": "https://github.com/jaanos"
}
```

**Branch:** [u/jaanos/add_is_cayley_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/add_is_cayley_graph)



---

archive/issue_events_179541.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2015-11-14T13:33:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "component: graph theory",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179541"
}
```



---

archive/issue_comments_283137.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+This ticket adds a method `is_cayley_graph` to `GenericGraph`. This method checks whether a graph or digraph (which may or may not be connected) is a Cayley graph. If a certificate is requested, it also returns a permutation group and a generator set which generate this graph.\n``````\n",
    "created_at": "2015-11-14T13:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283137",
    "user": "https://github.com/jaanos"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+This ticket adds a method `is_cayley_graph` to `GenericGraph`. This method checks whether a graph or digraph (which may or may not be connected) is a Cayley graph. If a certificate is requested, it also returns a permutation group and a generator set which generate this graph.
``````




---

archive/issue_comments_283138.json:
```json
{
    "body": "**Author:** Jano\u0161 Vidali",
    "created_at": "2015-11-14T13:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283138",
    "user": "https://github.com/jaanos"
}
```

**Author:** Janoš Vidali



---

archive/issue_comments_283139.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"Cayley graphs groups\".",
    "created_at": "2015-11-14T13:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283139",
    "user": "https://github.com/jaanos"
}
```

**Changing keywords** from "" to "Cayley graphs groups".



---

archive/issue_comments_283140.json:
```json
{
    "body": "<a id='comment:2'></a>\nI should point out some questions and issues I have with this before it goes into review.\n\n* Should the method be called `is_cayley_graph`, or just `is_cayley`?\n* The current implementation is slow, mainly due to the slow GAP interface and the unneeded work done by `conjugacy_classes_subgroups`. Ticket #19585 already improves this, but it would be even better to do something like this:\n\n```python\ngap = A._gap_().parent()\nC = gap.new(\"\"\"\n    First(ConjugacyClassesSubgroups(%s),\n        x -> Order(Representative(x)) = %d\n            and IsTransitive(Representative(x), [1..%d]));\n\"\"\" % (A._gap_().name(), n, n))\nc = (gap.eval('%s = fail' % C.name()) != 'true')\nif c and certificate:\n    G = A.subgroup(gap_group=C.Representative())\n```\nNow, I guess that maybe this doesn't really belong in `generic_graph.py`. But maybe we could have a method in `PermutationGroup_generic` which checks for the existence of such a group (and have it returned if requested)?\n\n* I should probably check whether the function works correctly with graphs with loops and multigraphs (my instinct says yes for the former and no for the latter).\n* Can we have Unicode characters in the docstrings? If I spell my name properly, Sage compiles, but the documentation doesn't. I guess I could add `# -*- coding: utf-8 -*-` to the top of the file (haven't tested it), but I don't know if we want to do it:)\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9fc982474fb5a2f7161ca0242040ce624a774ec2\">9fc9824</a></td><td><code>Initial documentation for is_cayley_graph()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86c766f6f4f10eced30037916de8ffc75fd5dc35\">86c766f</a></td><td><code>Implement is_cayley_graph for connected graphs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60142d0e8e2b0308ecc67637c7ea3bcd30b68792\">60142d0</a></td><td><code>Add tests for is_cayley_graph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f925f635ade0e6b9e9f2ad469aa2e5f11e11d12\">0f925f6</a></td><td><code>Implement is_cayley_graph for disconnected graphs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbff6b8e22c419beef4a5d991c00d5c512a933f9\">fbff6b8</a></td><td><code>Add note regarding optional packages</code></td></tr></table>\n",
    "created_at": "2015-11-14T13:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283140",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:2'></a>
I should point out some questions and issues I have with this before it goes into review.

* Should the method be called `is_cayley_graph`, or just `is_cayley`?
* The current implementation is slow, mainly due to the slow GAP interface and the unneeded work done by `conjugacy_classes_subgroups`. Ticket #19585 already improves this, but it would be even better to do something like this:

```python
gap = A._gap_().parent()
C = gap.new("""
    First(ConjugacyClassesSubgroups(%s),
        x -> Order(Representative(x)) = %d
            and IsTransitive(Representative(x), [1..%d]));
""" % (A._gap_().name(), n, n))
c = (gap.eval('%s = fail' % C.name()) != 'true')
if c and certificate:
    G = A.subgroup(gap_group=C.Representative())
```
Now, I guess that maybe this doesn't really belong in `generic_graph.py`. But maybe we could have a method in `PermutationGroup_generic` which checks for the existence of such a group (and have it returned if requested)?

* I should probably check whether the function works correctly with graphs with loops and multigraphs (my instinct says yes for the former and no for the latter).
* Can we have Unicode characters in the docstrings? If I spell my name properly, Sage compiles, but the documentation doesn't. I guess I could add `# -*- coding: utf-8 -*-` to the top of the file (haven't tested it), but I don't know if we want to do it:)

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9fc982474fb5a2f7161ca0242040ce624a774ec2">9fc9824</a></td><td><code>Initial documentation for is_cayley_graph()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86c766f6f4f10eced30037916de8ffc75fd5dc35">86c766f</a></td><td><code>Implement is_cayley_graph for connected graphs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60142d0e8e2b0308ecc67637c7ea3bcd30b68792">60142d0</a></td><td><code>Add tests for is_cayley_graph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f925f635ade0e6b9e9f2ad469aa2e5f11e11d12">0f925f6</a></td><td><code>Implement is_cayley_graph for disconnected graphs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbff6b8e22c419beef4a5d991c00d5c512a933f9">fbff6b8</a></td><td><code>Add note regarding optional packages</code></td></tr></table>




---

archive/issue_comments_283141.json:
```json
{
    "body": "**Commit:** [fbff6b8e22c419beef4a5d991c00d5c512a933f9](https://github.com/sagemath/sagetrac-mirror/commit/fbff6b8e22c419beef4a5d991c00d5c512a933f9)",
    "created_at": "2015-11-14T13:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283141",
    "user": "https://github.com/jaanos"
}
```

**Commit:** [fbff6b8e22c419beef4a5d991c00d5c512a933f9](https://github.com/sagemath/sagetrac-mirror/commit/fbff6b8e22c419beef4a5d991c00d5c512a933f9)



---

archive/issue_events_179542.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2015-11-14T13:33:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179542"
}
```



---

archive/issue_comments_283142.json:
```json
{
    "body": "<a id='comment:3'></a>\nHellooooo,\n\n> I should point out some questions and issues I have with this before it goes into review.\n\n\nI will try t answer them.\n\n> * Should the method be called `is_cayley_graph`, or just `is_cayley`?\n\n\nWe have 'is_perfect', 'is_chordal', 'is_cartesian_product', so I'd vote for 'is_cayley'.\n\n> Now, I guess that maybe this doesn't really belong in `generic_graph.py`. But maybe we could have a method in `PermutationGroup_generic` which checks for the existence of such a group (and have it returned if requested)?\n\n\nDo you know how such a function could be named? Having 'nice and natural name' for this function would rule out the alternative of having a 'hidden helper function' for this code.\n\n> * I should probably check whether the function works correctly with graphs with loops and multigraphs (my instinct says yes for the former and no for the latter).\n\n\nYou are not 'forced' to make it work in those cases. If it is complicated or if you do not want to deal with those cases, you should look at 'scream_if_not_simple'. It happens very often throughout the graph/ code.\n\n> * Can we have Unicode characters in the docstrings?\n\n\nWe can, and you can add this directive to the top of the file if you need to. Now, I am not really a big fan of adding a name every time one adds a function. That's just me, and perhaps some others. We already have 'git blame' to figure out who wrote a function, and having in each function the names of all people who ever touched it could quickly grow out of hands. And I personally don't see the added value, and I personally don't want to see Sage's source code turn out into a way to advertise its developers.\n\nI added 'personally' everywhere to insist that it is my view, and that other developers have different opinions. By our customs, you are totally allowed to add your name in an author block if you want to.\n\nThanks for adding this function,\n\nNathann",
    "created_at": "2015-11-14T19:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283142",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>
Hellooooo,

> I should point out some questions and issues I have with this before it goes into review.


I will try t answer them.

> * Should the method be called `is_cayley_graph`, or just `is_cayley`?


We have 'is_perfect', 'is_chordal', 'is_cartesian_product', so I'd vote for 'is_cayley'.

> Now, I guess that maybe this doesn't really belong in `generic_graph.py`. But maybe we could have a method in `PermutationGroup_generic` which checks for the existence of such a group (and have it returned if requested)?


Do you know how such a function could be named? Having 'nice and natural name' for this function would rule out the alternative of having a 'hidden helper function' for this code.

> * I should probably check whether the function works correctly with graphs with loops and multigraphs (my instinct says yes for the former and no for the latter).


You are not 'forced' to make it work in those cases. If it is complicated or if you do not want to deal with those cases, you should look at 'scream_if_not_simple'. It happens very often throughout the graph/ code.

> * Can we have Unicode characters in the docstrings?


We can, and you can add this directive to the top of the file if you need to. Now, I am not really a big fan of adding a name every time one adds a function. That's just me, and perhaps some others. We already have 'git blame' to figure out who wrote a function, and having in each function the names of all people who ever touched it could quickly grow out of hands. And I personally don't see the added value, and I personally don't want to see Sage's source code turn out into a way to advertise its developers.

I added 'personally' everywhere to insist that it is my view, and that other developers have different opinions. By our customs, you are totally allowed to add your name in an author block if you want to.

Thanks for adding this function,

Nathann



---

archive/issue_events_179543.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2015-11-14T19:46:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179543"
}
```



---

archive/issue_comments_283143.json:
```json
{
    "body": "<a id='comment:4'></a>\nHi!\n\n> > * Should the method be called `is_cayley_graph`, or just `is_cayley`?\n \n> \n> We have 'is_perfect', 'is_chordal', 'is_cartesian_product', so I'd vote for 'is_cayley'.\n\n\nOK, will change.\n\n> > Now, I guess that maybe this doesn't really belong in `generic_graph.py`. But maybe we could have a method in `PermutationGroup_generic` which checks for the existence of such a group (and have it returned if requested)?\n\n> \n> Do you know how such a function could be named? Having 'nice and natural name' for this function would rule out the alternative of having a 'hidden helper function' for this code.\n\n\nMaybe `has_transitive_subgroup(order = None, certificate = False)`? By default, it would just tell whether the group itself is transitive; otherwise, a subgroup of given order would be looked for (and returned if `certificate` is `True`).\n\n> > * I should probably check whether the function works correctly with graphs with loops and multigraphs (my instinct says yes for the former and no for the latter).\n \n> \n> You are not 'forced' to make it work in those cases. If it is complicated or if you do not want to deal with those cases, you should look at 'scream_if_not_simple'. It happens very often throughout the graph/ code.\n\n\nI don't think it will be too complicated, I just haven't thought about it when coding. But thanks for the info, it is certainly useful to know about this option.\n\n> > * Can we have Unicode characters in the docstrings?\n \n> \n> We can, and you can add this directive to the top of the file if you need to. Now, I am not really a big fan of adding a name every time one adds a function. That's just me, and perhaps some others. We already have 'git blame' to figure out who wrote a function, and having in each function the names of all people who ever touched it could quickly grow out of hands. And I personally don't see the added value, and I personally don't want to see Sage's source code turn out into a way to advertise its developers.\n> \n> I added 'personally' everywhere to insist that it is my view, and that other developers have different opinions. By our customs, you are totally allowed to add your name in an author block if you want to. \n\n\nOK, I will remove my name (indeed, I had copied the docstring of one of your functions, so the author field was there) - I am certainly not claiming to have invented this algorithm:)\n\n> Thanks for adding this function,\n\nNo problem!\n\nJano\u0161",
    "created_at": "2015-11-14T19:46:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283143",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:4'></a>
Hi!

> > * Should the method be called `is_cayley_graph`, or just `is_cayley`?
 
> 
> We have 'is_perfect', 'is_chordal', 'is_cartesian_product', so I'd vote for 'is_cayley'.


OK, will change.

> > Now, I guess that maybe this doesn't really belong in `generic_graph.py`. But maybe we could have a method in `PermutationGroup_generic` which checks for the existence of such a group (and have it returned if requested)?

> 
> Do you know how such a function could be named? Having 'nice and natural name' for this function would rule out the alternative of having a 'hidden helper function' for this code.


Maybe `has_transitive_subgroup(order = None, certificate = False)`? By default, it would just tell whether the group itself is transitive; otherwise, a subgroup of given order would be looked for (and returned if `certificate` is `True`).

> > * I should probably check whether the function works correctly with graphs with loops and multigraphs (my instinct says yes for the former and no for the latter).
 
> 
> You are not 'forced' to make it work in those cases. If it is complicated or if you do not want to deal with those cases, you should look at 'scream_if_not_simple'. It happens very often throughout the graph/ code.


I don't think it will be too complicated, I just haven't thought about it when coding. But thanks for the info, it is certainly useful to know about this option.

> > * Can we have Unicode characters in the docstrings?
 
> 
> We can, and you can add this directive to the top of the file if you need to. Now, I am not really a big fan of adding a name every time one adds a function. That's just me, and perhaps some others. We already have 'git blame' to figure out who wrote a function, and having in each function the names of all people who ever touched it could quickly grow out of hands. And I personally don't see the added value, and I personally don't want to see Sage's source code turn out into a way to advertise its developers.
> 
> I added 'personally' everywhere to insist that it is my view, and that other developers have different opinions. By our customs, you are totally allowed to add your name in an author block if you want to. 


OK, I will remove my name (indeed, I had copied the docstring of one of your functions, so the author field was there) - I am certainly not claiming to have invented this algorithm:)

> Thanks for adding this function,

No problem!

Janoš



---

archive/issue_comments_283144.json:
```json
{
    "body": "<a id='comment:5'></a>\nHelloooooo,\n\n> Maybe `has_transitive_subgroup(order = None, certificate = False)`? By default, it would just tell whether the group itself is transitive; otherwise, a subgroup of given order would be looked for (and returned if `certificate` is `True`).\n\n\n+1 to that.\n\n> OK, I will remove my name (indeed, I had copied the docstring of one of your functions, so the author field was there) - I am certainly not claiming to have invented this algorithm:)\n\n\nOh. Well, then it probably sounds very hypocritical of me to say that when you copy/pasted a function which contained my own name in an author field `O_o`\n\nI cannot tell which function it was, but I really do try to keep this to a minimum (at least when it comes to my own name).\n\nNathann",
    "created_at": "2015-11-14T20:21:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283144",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
Helloooooo,

> Maybe `has_transitive_subgroup(order = None, certificate = False)`? By default, it would just tell whether the group itself is transitive; otherwise, a subgroup of given order would be looked for (and returned if `certificate` is `True`).


+1 to that.

> OK, I will remove my name (indeed, I had copied the docstring of one of your functions, so the author field was there) - I am certainly not claiming to have invented this algorithm:)


Oh. Well, then it probably sounds very hypocritical of me to say that when you copy/pasted a function which contained my own name in an author field `O_o`

I cannot tell which function it was, but I really do try to keep this to a minimum (at least when it comes to my own name).

Nathann



---

archive/issue_comments_283145.json:
```json
{
    "body": "**Changing commit** from \"[fbff6b8e22c419beef4a5d991c00d5c512a933f9](https://github.com/sagemath/sagetrac-mirror/commit/fbff6b8e22c419beef4a5d991c00d5c512a933f9)\" to \"[fa2d1d7c88973a72fbd1a03b75883b803287d96f](https://github.com/sagemath/sagetrac-mirror/commit/fa2d1d7c88973a72fbd1a03b75883b803287d96f)\".",
    "created_at": "2015-11-14T20:45:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283145",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fbff6b8e22c419beef4a5d991c00d5c512a933f9](https://github.com/sagemath/sagetrac-mirror/commit/fbff6b8e22c419beef4a5d991c00d5c512a933f9)" to "[fa2d1d7c88973a72fbd1a03b75883b803287d96f](https://github.com/sagemath/sagetrac-mirror/commit/fa2d1d7c88973a72fbd1a03b75883b803287d96f)".



---

archive/issue_comments_283146.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d896a7b7b222f3b541b5a00736256451a11e914\">2d896a7</a></td><td><code>Rename is_cayley_graph to is_cayley</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05fe69be31c6020bc63dd121156b5d6f8ce461a8\">05fe69b</a></td><td><code>Remove author</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa2d1d7c88973a72fbd1a03b75883b803287d96f\">fa2d1d7</a></td><td><code>Return the proper generating set for multigraphs</code></td></tr></table>\n",
    "created_at": "2015-11-14T20:45:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283146",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d896a7b7b222f3b541b5a00736256451a11e914">2d896a7</a></td><td><code>Rename is_cayley_graph to is_cayley</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05fe69be31c6020bc63dd121156b5d6f8ce461a8">05fe69b</a></td><td><code>Remove author</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa2d1d7c88973a72fbd1a03b75883b803287d96f">fa2d1d7</a></td><td><code>Return the proper generating set for multigraphs</code></td></tr></table>




---

archive/issue_comments_283147.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23151383988b1c733667e678f1d969950a57e9bd\">2315138</a></td><td><code>Include fast GAP code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4e7142fe5ebfe1f78fe30ded86f80d581ea57e4\">e4e7142</a></td><td><code>Merge branch 'is_cayley_graph' into is_cayley_graph-gap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ddcf0555ffb1af5eb847aa9d7bb6b5d6917281d2\">ddcf055</a></td><td><code>Fix checking for existence of an appropriate subgroup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/857a989da4e5469bce55444dfd58ec1dbaa6cc51\">857a989</a></td><td><code>Merge branch 'is_cayley_graph' into is_cayley_graph-gap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a92bc60dfe0d9ec1680bec6ed72aef750ed54489\">a92bc60</a></td><td><code>Initial documentation for has_transitive_subgroup()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ee5be2af2941c515755bb84e32976de4f8770ea\">3ee5be2</a></td><td><code>Write method has_transitive_subgroup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10b83ca9a97a8e0ae7694aa71838da42ab4a79db\">10b83ca</a></td><td><code>Rewrite is_cayley using has_transitive_subgroup</code></td></tr></table>\n",
    "created_at": "2015-11-14T21:45:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283147",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23151383988b1c733667e678f1d969950a57e9bd">2315138</a></td><td><code>Include fast GAP code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4e7142fe5ebfe1f78fe30ded86f80d581ea57e4">e4e7142</a></td><td><code>Merge branch 'is_cayley_graph' into is_cayley_graph-gap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ddcf0555ffb1af5eb847aa9d7bb6b5d6917281d2">ddcf055</a></td><td><code>Fix checking for existence of an appropriate subgroup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/857a989da4e5469bce55444dfd58ec1dbaa6cc51">857a989</a></td><td><code>Merge branch 'is_cayley_graph' into is_cayley_graph-gap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a92bc60dfe0d9ec1680bec6ed72aef750ed54489">a92bc60</a></td><td><code>Initial documentation for has_transitive_subgroup()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ee5be2af2941c515755bb84e32976de4f8770ea">3ee5be2</a></td><td><code>Write method has_transitive_subgroup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10b83ca9a97a8e0ae7694aa71838da42ab4a79db">10b83ca</a></td><td><code>Rewrite is_cayley using has_transitive_subgroup</code></td></tr></table>




---

archive/issue_comments_283148.json:
```json
{
    "body": "**Changing commit** from \"[fa2d1d7c88973a72fbd1a03b75883b803287d96f](https://github.com/sagemath/sagetrac-mirror/commit/fa2d1d7c88973a72fbd1a03b75883b803287d96f)\" to \"[10b83ca9a97a8e0ae7694aa71838da42ab4a79db](https://github.com/sagemath/sagetrac-mirror/commit/10b83ca9a97a8e0ae7694aa71838da42ab4a79db)\".",
    "created_at": "2015-11-14T21:45:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283148",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fa2d1d7c88973a72fbd1a03b75883b803287d96f](https://github.com/sagemath/sagetrac-mirror/commit/fa2d1d7c88973a72fbd1a03b75883b803287d96f)" to "[10b83ca9a97a8e0ae7694aa71838da42ab4a79db](https://github.com/sagemath/sagetrac-mirror/commit/10b83ca9a97a8e0ae7694aa71838da42ab4a79db)".



---

archive/issue_comments_283149.json:
```json
{
    "body": "**Changing commit** from \"[10b83ca9a97a8e0ae7694aa71838da42ab4a79db](https://github.com/sagemath/sagetrac-mirror/commit/10b83ca9a97a8e0ae7694aa71838da42ab4a79db)\" to \"[2e14f6959299bbcca913eef22822ae9c51b2fc84](https://github.com/sagemath/sagetrac-mirror/commit/2e14f6959299bbcca913eef22822ae9c51b2fc84)\".",
    "created_at": "2015-11-14T22:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283149",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[10b83ca9a97a8e0ae7694aa71838da42ab4a79db](https://github.com/sagemath/sagetrac-mirror/commit/10b83ca9a97a8e0ae7694aa71838da42ab4a79db)" to "[2e14f6959299bbcca913eef22822ae9c51b2fc84](https://github.com/sagemath/sagetrac-mirror/commit/2e14f6959299bbcca913eef22822ae9c51b2fc84)".



---

archive/issue_comments_283150.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e14f6959299bbcca913eef22822ae9c51b2fc84\">2e14f69</a></td><td><code>Add examples for has_transitive_subgroup</code></td></tr></table>\n",
    "created_at": "2015-11-14T22:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283150",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e14f6959299bbcca913eef22822ae9c51b2fc84">2e14f69</a></td><td><code>Add examples for has_transitive_subgroup</code></td></tr></table>




---

archive/issue_comments_283151.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-This ticket adds a method `is_cayley_graph` to `GenericGraph`. This method checks whether a graph or digraph (which may or may not be connected) is a Cayley graph. If a certificate is requested, it also returns a permutation group and a generator set which generate this graph.\n+This ticket adds a method `is_cayley` to `GenericGraph`. This method checks whether a graph or digraph (which may or may not be connected) is a Cayley graph. If a certificate is requested, it also returns a permutation group and a generator set which generate this graph.\n+\n+A method `has_transitive_subgroup` has also been added to `PermutationGroup_generic`. For a given order, it determines whether the group has a subgroup of this order, and returns it if requested. If no order is given, it is taken to be the order of the group itself (i.e., the method then simply tells whether the group is transitive).\n``````\n",
    "created_at": "2015-11-14T22:13:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283151",
    "user": "https://github.com/jaanos"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-This ticket adds a method `is_cayley_graph` to `GenericGraph`. This method checks whether a graph or digraph (which may or may not be connected) is a Cayley graph. If a certificate is requested, it also returns a permutation group and a generator set which generate this graph.
+This ticket adds a method `is_cayley` to `GenericGraph`. This method checks whether a graph or digraph (which may or may not be connected) is a Cayley graph. If a certificate is requested, it also returns a permutation group and a generator set which generate this graph.
+
+A method `has_transitive_subgroup` has also been added to `PermutationGroup_generic`. For a given order, it determines whether the group has a subgroup of this order, and returns it if requested. If no order is given, it is taken to be the order of the group itself (i.e., the method then simply tells whether the group is transitive).
``````




---

archive/issue_comments_283152.json:
```json
{
    "body": "<a id='comment:9'></a>\nOK, I think I have addressed all the issues. If this is OK, I guess we can also make more direct calls to GAP in the methods `conjugacy_classes_subgroups` and `subgroups` (in another ticket, of course).",
    "created_at": "2015-11-14T22:13:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283152",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:9'></a>
OK, I think I have addressed all the issues. If this is OK, I guess we can also make more direct calls to GAP in the methods `conjugacy_classes_subgroups` and `subgroups` (in another ticket, of course).



---

archive/issue_events_179544.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2015-11-14T22:13:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179544"
}
```



---

archive/issue_events_179545.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2015-11-14T22:13:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179545"
}
```



---

archive/issue_comments_283153.json:
```json
{
    "body": "<a id='comment:10'></a>\nDima, I add you to this ticket just in case you might have some time to look at `PermutationGroup.has_transitive_subgroup`.",
    "created_at": "2015-11-15T09:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283153",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>
Dima, I add you to this ticket just in case you might have some time to look at `PermutationGroup.has_transitive_subgroup`.



---

archive/issue_comments_283154.json:
```json
{
    "body": "<a id='comment:11'></a>\nHello Jano\u0161,\n\nI wonder about the 'is_connected' case in your algorithm. Does it really make a different in the running times? I thought that perhaps the 'isomorphism_group' implementations already handled that, in which cas it may not make any significant difference and so we could do without this specific block of code?\n\nNathann",
    "created_at": "2015-11-15T09:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283154",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>
Hello Janoš,

I wonder about the 'is_connected' case in your algorithm. Does it really make a different in the running times? I thought that perhaps the 'isomorphism_group' implementations already handled that, in which cas it may not make any significant difference and so we could do without this specific block of code?

Nathann



---

archive/issue_comments_283155.json:
```json
{
    "body": "<a id='comment:12'></a>\nHi!\n\nTesting with the example in the docstring (5*Paley(9)) confirms that there is a big difference in running times. The reason is of course that disconnected vertex-transitive graphs will have a very large group of automorphisms, and GAP will take very long to compute the lattice of subgroups. So, in most cases it will be cheaper to do the check for a connected component, and then inflate the certificate if requested (what the method actually does is return the direct product of the group for a connected component and a cyclic group).\n\nJano\u0161",
    "created_at": "2015-11-15T10:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283155",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:12'></a>
Hi!

Testing with the example in the docstring (5*Paley(9)) confirms that there is a big difference in running times. The reason is of course that disconnected vertex-transitive graphs will have a very large group of automorphisms, and GAP will take very long to compute the lattice of subgroups. So, in most cases it will be cheaper to do the check for a connected component, and then inflate the certificate if requested (what the method actually does is return the direct product of the group for a connected component and a cyclic group).

Janoš



---

archive/issue_comments_283156.json:
```json
{
    "body": "<a id='comment:13'></a>\nOh, of course. Sorry for this question: I had first thought that you were optimizing the computation of `automorphism_group`, but of course you were optimizing the call to `conjugacy_classes_subgroups`.",
    "created_at": "2015-11-15T11:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283156",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>
Oh, of course. Sorry for this question: I had first thought that you were optimizing the computation of `automorphism_group`, but of course you were optimizing the call to `conjugacy_classes_subgroups`.



---

archive/issue_comments_283157.json:
```json
{
    "body": "<a id='comment:14'></a>\n\n```\nadj = [y if v == x else x for x, y, z in self.edge_iterator(v)]\n```\n\nAre you looking for `Graph.neighbors` ?\n\nNathann",
    "created_at": "2015-11-15T13:50:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283157",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'></a>

```
adj = [y if v == x else x for x, y, z in self.edge_iterator(v)]
```

Are you looking for `Graph.neighbors` ?

Nathann



---

archive/issue_comments_283158.json:
```json
{
    "body": "<a id='comment:15'></a>\nHi!\n\n> Are you looking for `Graph.neighbors` ?\n\n\nI had this, but changed to `edge_iterator` since `neighbors` does not list a vertex multiple times if there are multiple edges to it (so maybe this is something that should be changed?). Also, this covers digraphs without needing an additional `if`.\n\nJano\u0161",
    "created_at": "2015-11-15T15:18:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283158",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:15'></a>
Hi!

> Are you looking for `Graph.neighbors` ?


I had this, but changed to `edge_iterator` since `neighbors` does not list a vertex multiple times if there are multiple edges to it (so maybe this is something that should be changed?). Also, this covers digraphs without needing an additional `if`.

Janoš



---

archive/issue_comments_283159.json:
```json
{
    "body": "<a id='comment:16'></a>\nYo,\n\nI am impressed with your code: not a single line seems out of place. Could you add a comment around this call to 'edge_iterator', to say that you mean to deal with all (out-)neighbors with multiplicity?\n\nCould you also add a doctest (possibly in a 'TESTS:' section) for those directed/multigraph cases?\n\nI believe that the graph part of your code is good to go, but I would like to have Dima's input for the 'gap'-specific code.\n\nThanks,\n\nNathann",
    "created_at": "2015-11-15T15:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283159",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'></a>
Yo,

I am impressed with your code: not a single line seems out of place. Could you add a comment around this call to 'edge_iterator', to say that you mean to deal with all (out-)neighbors with multiplicity?

Could you also add a doctest (possibly in a 'TESTS:' section) for those directed/multigraph cases?

I believe that the graph part of your code is good to go, but I would like to have Dima's input for the 'gap'-specific code.

Thanks,

Nathann



---

archive/issue_comments_283160.json:
```json
{
    "body": "<a id='comment:17'></a>\nHi!\n\n> I am impressed with your code: not a single line seems out of place. Could you add a comment around this call to 'edge_iterator', to say that you mean to deal with all (out-)neighbors with multiplicity?\n\nThanks! Will do, just a bit later (currently I'm trying various solutions for #19585).\n\n> Could you also add a doctest (possibly in a 'TESTS:' section) for those directed/multigraph cases?\nSure. By the way, do we have any easily-constructible multigraphs/graphs with loops ready? Otherwise there'd be a few lines of code just to construct the graph.\n\nAlso, `cayley_graph` on a group will not return multiedges or loops, even when the generators contain repeated elements or the identity and `simple` is set to `False`. So maybe this is something that should be changed.\n\nJano\u0161",
    "created_at": "2015-11-15T16:35:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283160",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:17'></a>
Hi!

> I am impressed with your code: not a single line seems out of place. Could you add a comment around this call to 'edge_iterator', to say that you mean to deal with all (out-)neighbors with multiplicity?

Thanks! Will do, just a bit later (currently I'm trying various solutions for #19585).

> Could you also add a doctest (possibly in a 'TESTS:' section) for those directed/multigraph cases?
Sure. By the way, do we have any easily-constructible multigraphs/graphs with loops ready? Otherwise there'd be a few lines of code just to construct the graph.

Also, `cayley_graph` on a group will not return multiedges or loops, even when the generators contain repeated elements or the identity and `simple` is set to `False`. So maybe this is something that should be changed.

Janoš



---

archive/issue_comments_283161.json:
```json
{
    "body": "<a id='comment:18'></a>\nHello,\n\n> Thanks! Will do, just a bit later (currently I'm trying various solutions for #19585).\n\n\nOkayyyyyy.\n\n> Sure. By the way, do we have any easily-constructible multigraphs/graphs with loops ready? Otherwise there'd be a few lines of code just to construct the graph.\n\n\nThe only ones I know are the directed GNP:\n\n```\nsage: digraphs.RandomDirectedGNP(5,.2,loops=True)\nRandomDirectedGNP(5,0.200000000000000): Looped digraph on 5 vertices\n```\n\n> Also, `cayley_graph` on a group will not return multiedges or loops, even when the generators contain repeated elements or the identity and `simple` is set to `False`. So maybe this is something that should be changed.\n\n\nIf you have a use for something like that, of course.\n\nNathann",
    "created_at": "2015-11-15T16:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283161",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:18'></a>
Hello,

> Thanks! Will do, just a bit later (currently I'm trying various solutions for #19585).


Okayyyyyy.

> Sure. By the way, do we have any easily-constructible multigraphs/graphs with loops ready? Otherwise there'd be a few lines of code just to construct the graph.


The only ones I know are the directed GNP:

```
sage: digraphs.RandomDirectedGNP(5,.2,loops=True)
RandomDirectedGNP(5,0.200000000000000): Looped digraph on 5 vertices
```

> Also, `cayley_graph` on a group will not return multiedges or loops, even when the generators contain repeated elements or the identity and `simple` is set to `False`. So maybe this is something that should be changed.


If you have a use for something like that, of course.

Nathann



---

archive/issue_comments_283162.json:
```json
{
    "body": "**Changing commit** from \"[2e14f6959299bbcca913eef22822ae9c51b2fc84](https://github.com/sagemath/sagetrac-mirror/commit/2e14f6959299bbcca913eef22822ae9c51b2fc84)\" to \"[95dfa64264bb0e6ec9122e5ce458a5000d48bc3d](https://github.com/sagemath/sagetrac-mirror/commit/95dfa64264bb0e6ec9122e5ce458a5000d48bc3d)\".",
    "created_at": "2015-11-15T18:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283162",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2e14f6959299bbcca913eef22822ae9c51b2fc84](https://github.com/sagemath/sagetrac-mirror/commit/2e14f6959299bbcca913eef22822ae9c51b2fc84)" to "[95dfa64264bb0e6ec9122e5ce458a5000d48bc3d](https://github.com/sagemath/sagetrac-mirror/commit/95dfa64264bb0e6ec9122e5ce458a5000d48bc3d)".



---

archive/issue_comments_283163.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95dfa64264bb0e6ec9122e5ce458a5000d48bc3d\">95dfa64</a></td><td><code>Add a doctest and some comments</code></td></tr></table>\n",
    "created_at": "2015-11-15T18:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283163",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95dfa64264bb0e6ec9122e5ce458a5000d48bc3d">95dfa64</a></td><td><code>Add a doctest and some comments</code></td></tr></table>




---

archive/issue_comments_283164.json:
```json
{
    "body": "<a id='comment:20'></a>\nHi!\n\nOK, I added the comment and the doctest.\n\n> The only ones I know are the directed GNP:\n\n\nThanks, but of course these won't help here. I've used an augmented Paley(9) graph instead.\n\n> > Also, `cayley_graph` on a group will not return multiedges or loops, even when the generators contain repeated elements or the identity and `simple` is set to `False`. So maybe this is something that should be changed.\n\n> \n> If you have a use for something like that, of course.\n\n\nNot really, except possibly for doctesting (and consistency).\n\nJano\u0161",
    "created_at": "2015-11-15T18:15:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283164",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:20'></a>
Hi!

OK, I added the comment and the doctest.

> The only ones I know are the directed GNP:


Thanks, but of course these won't help here. I've used an augmented Paley(9) graph instead.

> > Also, `cayley_graph` on a group will not return multiedges or loops, even when the generators contain repeated elements or the identity and `simple` is set to `False`. So maybe this is something that should be changed.

> 
> If you have a use for something like that, of course.


Not really, except possibly for doctesting (and consistency).

Janoš



---

archive/issue_comments_283165.json:
```json
{
    "body": "<a id='comment:21'></a>\nI'd investigate whether being more careful with computing subgroups might help. Perhaps you can use some lower level GAP calls to find a lattice of transitive subgroups, which ought to be much smaller.\n\nOr you can compute maximal subgroup classes (cf. GAP's `ConjugacyClassesMaximalSubgroups`), and recurse on these which are transitive.",
    "created_at": "2015-11-15T21:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283165",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
I'd investigate whether being more careful with computing subgroups might help. Perhaps you can use some lower level GAP calls to find a lattice of transitive subgroups, which ought to be much smaller.

Or you can compute maximal subgroup classes (cf. GAP's `ConjugacyClassesMaximalSubgroups`), and recurse on these which are transitive.



---

archive/issue_comments_283166.json:
```json
{
    "body": "<a id='comment:22'></a>\nHello!\n\nThanks, will look into it. It seems that it could be done without too much trouble using `MaximalSubgroupClassReps`.\n\nJano\u0161",
    "created_at": "2015-11-16T01:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283166",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:22'></a>
Hello!

Thanks, will look into it. It seems that it could be done without too much trouble using `MaximalSubgroupClassReps`.

Janoš



---

archive/issue_comments_283167.json:
```json
{
    "body": "<a id='comment:23'></a>\nHello again!\n\nSorry about the inactivity, I have been pretty busy. Also, I was probably too quick to judge that a more low-level GAP procedure could be done without too much trouble.\n\nWould it be OK to accept this as is, and then possibly improve the search for transitive subgroups in another ticket?\n\nJano\u0161",
    "created_at": "2015-11-28T09:34:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283167",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:23'></a>
Hello again!

Sorry about the inactivity, I have been pretty busy. Also, I was probably too quick to judge that a more low-level GAP procedure could be done without too much trouble.

Would it be OK to accept this as is, and then possibly improve the search for transitive subgroups in another ticket?

Janoš



---

archive/issue_comments_283168.json:
```json
{
    "body": "<a id='comment:24'></a>\n> Sorry about the inactivity, I have been pretty busy. Also, I was probably too quick to judge that a more low-level GAP procedure could be done without too much trouble.\n> \n> Would it be OK to accept this as is, and then possibly improve the search for transitive subgroups in another ticket?\n\n\nNo, all the code has to be reviewed. I expect it to be as clean as the part I reviewed, yet somebody has to do check it. I cannot tell about the code, but the name 'has_transitive_subgroup', for instance, sounds misleading. It does not mention any kind of 'order', so by just lookig at the function's name you would not understand how it could return anything different from `.is_transitive`. That's also the kind of things a reviewer should look at, besides the GAP technicalities.\n\nNathann",
    "created_at": "2015-11-28T09:41:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283168",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>
> Sorry about the inactivity, I have been pretty busy. Also, I was probably too quick to judge that a more low-level GAP procedure could be done without too much trouble.
> 
> Would it be OK to accept this as is, and then possibly improve the search for transitive subgroups in another ticket?


No, all the code has to be reviewed. I expect it to be as clean as the part I reviewed, yet somebody has to do check it. I cannot tell about the code, but the name 'has_transitive_subgroup', for instance, sounds misleading. It does not mention any kind of 'order', so by just lookig at the function's name you would not understand how it could return anything different from `.is_transitive`. That's also the kind of things a reviewer should look at, besides the GAP technicalities.

Nathann



---

archive/issue_comments_283169.json:
```json
{
    "body": "<a id='comment:25'></a>\nHi!\n\n> No, all the code has to be reviewed. I expect it to be as clean as the part I reviewed, yet somebody has to do check it. I cannot tell about the code, but the name 'has_transitive_subgroup', for instance, sounds misleading. It does not mention any kind of 'order', so by just lookig at the function's name you would not understand how it could return anything different from `.is_transitive`. That's also the kind of things a reviewer should look at, besides the GAP technicalities.\n\n\nYes, I understand it has to be reviewed - I was just saying that maybe we don't try to optimize the GAP code within this ticket (if that's acceptable, of course).\n\nAs for the function name, do you have any suggestions? Maybe something like `has_transitive_subgroup_of_order`?\n\nJano\u0161",
    "created_at": "2015-11-28T11:41:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283169",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:25'></a>
Hi!

> No, all the code has to be reviewed. I expect it to be as clean as the part I reviewed, yet somebody has to do check it. I cannot tell about the code, but the name 'has_transitive_subgroup', for instance, sounds misleading. It does not mention any kind of 'order', so by just lookig at the function's name you would not understand how it could return anything different from `.is_transitive`. That's also the kind of things a reviewer should look at, besides the GAP technicalities.


Yes, I understand it has to be reviewed - I was just saying that maybe we don't try to optimize the GAP code within this ticket (if that's acceptable, of course).

As for the function name, do you have any suggestions? Maybe something like `has_transitive_subgroup_of_order`?

Janoš



---

archive/issue_comments_283170.json:
```json
{
    "body": "<a id='comment:26'></a>\n> Yes, I understand it has to be reviewed - I was just saying that maybe we don't try to optimize the GAP code within this ticket (if that's acceptable, of course).\n\n\nOh, I see. Well, then I cannot answer the question as I do nto understand what the gap code does.\n\n> As for the function name, do you have any suggestions? Maybe something like `has_transitive_subgroup_of_order`?\n\n\nNothing better than that, and the name is so ugly that it might as well be a hidden 'helper' function `:-/`\n\nIsn't there a group-theoretic notion that would 'mean the same'? `:-/`\n\nNathann",
    "created_at": "2015-11-28T11:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283170",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:26'></a>
> Yes, I understand it has to be reviewed - I was just saying that maybe we don't try to optimize the GAP code within this ticket (if that's acceptable, of course).


Oh, I see. Well, then I cannot answer the question as I do nto understand what the gap code does.

> As for the function name, do you have any suggestions? Maybe something like `has_transitive_subgroup_of_order`?


Nothing better than that, and the name is so ugly that it might as well be a hidden 'helper' function `:-/`

Isn't there a group-theoretic notion that would 'mean the same'? `:-/`

Nathann



---

archive/issue_comments_283171.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [ncohen](#comment%3A26):\n> > Yes, I understand it has to be reviewed - I was just saying that maybe we don't try to optimize the GAP code within this ticket (if that's acceptable, of course).\n\n> \n> Oh, I see. Well, then I cannot answer the question as I do nto understand what the gap code does.\n> \n> > As for the function name, do you have any suggestions? Maybe something like `has_transitive_subgroup_of_order`?\n\n\nHow about naming it `transitive_subgroup`, and simplifying the interface,` so that it either returns a subgroup of order `n` (the parameter) or `None`, and no pairs...",
    "created_at": "2015-11-28T11:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283171",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>
Replying to [ncohen](#comment%3A26):
> > Yes, I understand it has to be reviewed - I was just saying that maybe we don't try to optimize the GAP code within this ticket (if that's acceptable, of course).

> 
> Oh, I see. Well, then I cannot answer the question as I do nto understand what the gap code does.
> 
> > As for the function name, do you have any suggestions? Maybe something like `has_transitive_subgroup_of_order`?


How about naming it `transitive_subgroup`, and simplifying the interface,` so that it either returns a subgroup of order `n` (the parameter) or `None`, and no pairs...



---

archive/issue_comments_283172.json:
```json
{
    "body": "<a id='comment:28'></a>\nas well, I'd propose to remove `certificate` business totally, and rename the main function  `caley_graph_group()`: it would return a group if one exists, or `None` if there is no such group; indeed, the extra cost of returning a group is zero, compared to the overall complexity of the task at hand.",
    "created_at": "2015-11-28T12:20:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283172",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'></a>
as well, I'd propose to remove `certificate` business totally, and rename the main function  `caley_graph_group()`: it would return a group if one exists, or `None` if there is no such group; indeed, the extra cost of returning a group is zero, compared to the overall complexity of the task at hand.



---

archive/issue_comments_283173.json:
```json
{
    "body": "<a id='comment:29'></a>\nHi!\n\nHmm, I would still like to have an `is_cayley` method for graphs. But I agree about having a method `transitive_subgroup` for permutation groups. Still, I'm a bit worried about cases when we have a large graph with a relatively small automorphism group (say, twice the order of the graph) - then finding an appropriate subgroup will be fast, but actually returning it (so a Sage subgroup can be built) may make a non-negligible contribution to the running time (since reading GAP output can be slow). So I propose:\n- we have a `transitive_subgroup` method, which by default returns a transitive subgroup of given order,\n- `transitive_subgroup` may be explicitly told not to return the group (by setting, say, `return_group` to `False`),\n- we add a helper method (say, `_transitive_subgroup_gap`) which returns a GAP object containing the subgroup (we could make the result cached, so if one first asks whether a graph is Cayley and then wants to know the group, it needn't be recomputed).\n\nThis way, `transitive_subgroup` can call the helper function, and then avoid actually reading the GAP subgroup if it is told not to return it.\n\nWhat do you think?\n\nJano\u0161",
    "created_at": "2015-11-28T13:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283173",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:29'></a>
Hi!

Hmm, I would still like to have an `is_cayley` method for graphs. But I agree about having a method `transitive_subgroup` for permutation groups. Still, I'm a bit worried about cases when we have a large graph with a relatively small automorphism group (say, twice the order of the graph) - then finding an appropriate subgroup will be fast, but actually returning it (so a Sage subgroup can be built) may make a non-negligible contribution to the running time (since reading GAP output can be slow). So I propose:
- we have a `transitive_subgroup` method, which by default returns a transitive subgroup of given order,
- `transitive_subgroup` may be explicitly told not to return the group (by setting, say, `return_group` to `False`),
- we add a helper method (say, `_transitive_subgroup_gap`) which returns a GAP object containing the subgroup (we could make the result cached, so if one first asks whether a graph is Cayley and then wants to know the group, it needn't be recomputed).

This way, `transitive_subgroup` can call the helper function, and then avoid actually reading the GAP subgroup if it is told not to return it.

What do you think?

Janoš



---

archive/issue_comments_283174.json:
```json
{
    "body": "**Changing commit** from \"[95dfa64264bb0e6ec9122e5ce458a5000d48bc3d](https://github.com/sagemath/sagetrac-mirror/commit/95dfa64264bb0e6ec9122e5ce458a5000d48bc3d)\" to \"[4aaf3014fee5bb08d861636908d6733047d4a869](https://github.com/sagemath/sagetrac-mirror/commit/4aaf3014fee5bb08d861636908d6733047d4a869)\".",
    "created_at": "2015-11-28T18:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283174",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[95dfa64264bb0e6ec9122e5ce458a5000d48bc3d](https://github.com/sagemath/sagetrac-mirror/commit/95dfa64264bb0e6ec9122e5ce458a5000d48bc3d)" to "[4aaf3014fee5bb08d861636908d6733047d4a869](https://github.com/sagemath/sagetrac-mirror/commit/4aaf3014fee5bb08d861636908d6733047d4a869)".



---

archive/issue_comments_283175.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4aaf3014fee5bb08d861636908d6733047d4a869\">4aaf301</a></td><td><code>Rename has_transitive_subgroup to transitive_subgroup and add helper function</code></td></tr></table>\n",
    "created_at": "2015-11-28T18:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4aaf3014fee5bb08d861636908d6733047d4a869">4aaf301</a></td><td><code>Rename has_transitive_subgroup to transitive_subgroup and add helper function</code></td></tr></table>




---

archive/issue_comments_283176.json:
```json
{
    "body": "<a id='comment:31'></a>\nI have implemented the ideas from the previous comment. I have marked both `transitive_subgroup` and `_transitive_subgroup_gap` as cached, although currently it seems that this will not affect the (re)running times of `is_cayley`, as the automorphism group of a graph is not cached. Is this something that should be changed (in another ticket, of course), or should I just remove caching for the two methods?",
    "created_at": "2015-11-28T19:03:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283176",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:31'></a>
I have implemented the ideas from the previous comment. I have marked both `transitive_subgroup` and `_transitive_subgroup_gap` as cached, although currently it seems that this will not affect the (re)running times of `is_cayley`, as the automorphism group of a graph is not cached. Is this something that should be changed (in another ticket, of course), or should I just remove caching for the two methods?



---

archive/issue_comments_283177.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [jaanos](#comment%3A29):\n\n> Hmm, I would still like to have an `is_cayley` method for graphs.\n\n\nsure, such a method can just check whether `cayley_graph_group()` is `None`.\n\n\n> But I agree about having a method `transitive_subgroup` for permutation groups. Still, I'm a bit > worried about cases when we have a large graph with a relatively small automorphism group (say, twice the order of the graph) - then finding an appropriate subgroup will be fast, but actually returning it (so a Sage subgroup can be built) may make a non-negligible contribution to the running time (since reading GAP output can be slow). \n\n\nas a switch to `libgap` will happen sooner or later, optimising for not reading GAP output\ndoes not seem to be that important.\n\n\n> So I propose:\n> - we have a `transitive_subgroup` method, which by default returns a transitive subgroup of given order,\n> - `transitive_subgroup` may be explicitly told not to return the group (by setting, say, `return_group` to `False`),\n> - we add a helper method (say, `_transitive_subgroup_gap`) which returns a GAP object containing the subgroup (we could make the result cached, so if one first asks whether a graph is Cayley and then wants to know the group, it needn't be recomputed).\n> \n> This way, `transitive_subgroup` can call the helper function, and then avoid actually reading the GAP subgroup if it is told not to return it.\n> \n> What do you think?\n\n\nthis ceritainly looks better, but again, I don't like the counter-intuitive parameters of `is_cayley()` and weird sort of output (a pair) that you currently have. In particular the latter.",
    "created_at": "2015-11-28T20:02:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283177",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:32'></a>
Replying to [jaanos](#comment%3A29):

> Hmm, I would still like to have an `is_cayley` method for graphs.


sure, such a method can just check whether `cayley_graph_group()` is `None`.


> But I agree about having a method `transitive_subgroup` for permutation groups. Still, I'm a bit > worried about cases when we have a large graph with a relatively small automorphism group (say, twice the order of the graph) - then finding an appropriate subgroup will be fast, but actually returning it (so a Sage subgroup can be built) may make a non-negligible contribution to the running time (since reading GAP output can be slow). 


as a switch to `libgap` will happen sooner or later, optimising for not reading GAP output
does not seem to be that important.


> So I propose:
> - we have a `transitive_subgroup` method, which by default returns a transitive subgroup of given order,
> - `transitive_subgroup` may be explicitly told not to return the group (by setting, say, `return_group` to `False`),
> - we add a helper method (say, `_transitive_subgroup_gap`) which returns a GAP object containing the subgroup (we could make the result cached, so if one first asks whether a graph is Cayley and then wants to know the group, it needn't be recomputed).
> 
> This way, `transitive_subgroup` can call the helper function, and then avoid actually reading the GAP subgroup if it is told not to return it.
> 
> What do you think?


this ceritainly looks better, but again, I don't like the counter-intuitive parameters of `is_cayley()` and weird sort of output (a pair) that you currently have. In particular the latter.



---

archive/issue_comments_283178.json:
```json
{
    "body": "<a id='comment:33'></a>\nHi!\n\n> as a switch to `libgap` will happen sooner or later, optimising for not reading GAP output\n> does not seem to be that important.\n\n\nI see. But should I do anything about it at this point?\n\n> this ceritainly looks better, but again, I don't like the counter-intuitive parameters of `is_cayley()` and weird sort of output (a pair) that you currently have. In particular the latter.\n\n\nI have modelled both input and output of `is_cayley` after methods such as `is_chordal` and `is_circulant`. I guess we could be even more specific and have the function return only the group or only the generators if requested - or maybe `cayley_graph_group` could do that, and `is_cayley` would then simply call `cayley_graph_group` without requesting either.\n\nJano\u0161",
    "created_at": "2015-11-29T01:18:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283178",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:33'></a>
Hi!

> as a switch to `libgap` will happen sooner or later, optimising for not reading GAP output
> does not seem to be that important.


I see. But should I do anything about it at this point?

> this ceritainly looks better, but again, I don't like the counter-intuitive parameters of `is_cayley()` and weird sort of output (a pair) that you currently have. In particular the latter.


I have modelled both input and output of `is_cayley` after methods such as `is_chordal` and `is_circulant`. I guess we could be even more specific and have the function return only the group or only the generators if requested - or maybe `cayley_graph_group` could do that, and `is_cayley` would then simply call `cayley_graph_group` without requesting either.

Janoš



---

archive/issue_comments_283179.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [jaanos](#comment%3A33):\n> Hi!\n> \n> > as a switch to `libgap` will happen sooner or later, optimising for not reading GAP output\n> > does not seem to be that important.\n\n> \n> I see. But should I do anything about it at this point?\n> \n> > this ceritainly looks better, but again, I don't like the counter-intuitive parameters of `is_cayley()` and weird sort of output (a pair) that you currently have. In particular the latter.\n\n> \n> I have modelled both input and output of `is_cayley` after methods such as `is_chordal` and `is_circulant`. \n\n\nnot all silly designs in Sage should be copied...\nLooks like someone didn't know, or forgot, about `None`\n\n> I guess we could be even more specific and have the function return only the group or only the generators if requested - or maybe `cayley_graph_group` could do that,\n\n\nonly the generators? Why? it's one quick function call away from the group, why would you\ndo this in library code? In particular, as you are computing the group, not its generators, in the first place.\n\n> and `is_cayley` would then simply call `cayley_graph_group` without requesting either.e.\n\nsure.",
    "created_at": "2015-11-29T07:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283179",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:34'></a>
Replying to [jaanos](#comment%3A33):
> Hi!
> 
> > as a switch to `libgap` will happen sooner or later, optimising for not reading GAP output
> > does not seem to be that important.

> 
> I see. But should I do anything about it at this point?
> 
> > this ceritainly looks better, but again, I don't like the counter-intuitive parameters of `is_cayley()` and weird sort of output (a pair) that you currently have. In particular the latter.

> 
> I have modelled both input and output of `is_cayley` after methods such as `is_chordal` and `is_circulant`. 


not all silly designs in Sage should be copied...
Looks like someone didn't know, or forgot, about `None`

> I guess we could be even more specific and have the function return only the group or only the generators if requested - or maybe `cayley_graph_group` could do that,


only the generators? Why? it's one quick function call away from the group, why would you
do this in library code? In particular, as you are computing the group, not its generators, in the first place.

> and `is_cayley` would then simply call `cayley_graph_group` without requesting either.e.

sure.



---

archive/issue_comments_283180.json:
```json
{
    "body": "<a id='comment:35'></a>\nHello!\n\n> not all silly designs in Sage should be copied...\n> Looks like someone didn't know, or forgot, about `None`\n\n\nI don't know, it seems pretty reasonable to me to have an `is_property` method with the option to return a certificate for either having or not having this property. Now, I don't know of any way to provide an easy-to-check certificate of non-Cayleyness, but if one is eventually found, it can be returned alongside the boolean telling whether a graph is a Cayley graph - so the user doesn't need to check what kind of certificate the function returned.\n\nAs for the certificate of Cayleyness, I am thinking that a better option would be to return a map from vertices to group elements (which the current function already computes when computing the generators) - now it can be easily checked that the elements form a group, and that the generating set is well defined (instead of having to compute an isomorphism between the graph and the Cayley graph built from the group and generating set). Actually computing the group (and returning it alongside the generating set and the map, if requested) would then be delegated to `cayley_graph_group`, as you proposed.\n\n\n> only the generators? Why? it's one quick function call away from the group, why would you\n> do this in library code? In particular, as you are computing the group, not its generators, in the first place.\n\n\nWell, I think if we're giving the user the choice of what they want returned, it would be unreasonable to forbid a certain choice just because we see no use for it.\n\nJano\u0161",
    "created_at": "2015-11-29T13:02:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283180",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:35'></a>
Hello!

> not all silly designs in Sage should be copied...
> Looks like someone didn't know, or forgot, about `None`


I don't know, it seems pretty reasonable to me to have an `is_property` method with the option to return a certificate for either having or not having this property. Now, I don't know of any way to provide an easy-to-check certificate of non-Cayleyness, but if one is eventually found, it can be returned alongside the boolean telling whether a graph is a Cayley graph - so the user doesn't need to check what kind of certificate the function returned.

As for the certificate of Cayleyness, I am thinking that a better option would be to return a map from vertices to group elements (which the current function already computes when computing the generators) - now it can be easily checked that the elements form a group, and that the generating set is well defined (instead of having to compute an isomorphism between the graph and the Cayley graph built from the group and generating set). Actually computing the group (and returning it alongside the generating set and the map, if requested) would then be delegated to `cayley_graph_group`, as you proposed.


> only the generators? Why? it's one quick function call away from the group, why would you
> do this in library code? In particular, as you are computing the group, not its generators, in the first place.


Well, I think if we're giving the user the choice of what they want returned, it would be unreasonable to forbid a certain choice just because we see no use for it.

Janoš



---

archive/issue_comments_283181.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [jaanos](#comment%3A35):\n> \n> > only the generators? Why? it's one quick function call away from the group, why would you\n> > do this in library code? In particular, as you are computing the group, not its generators, in the first place.\n\n> \n> Well, I think if we're giving the user the choice of what they want returned, it would be unreasonable to forbid a certain choice just because we see no use for it.\n\n\nit's an unreasonable code bloat to include a special function for anything that is\na trivial one-liner; e.g. if you start returning the generators, you might be tempted to add a function that only returns the number of generators, etc etc :-)\n\nAnd you are not depriving the user from getting what he wants in any way by not providing\nan option for any trivial one-liner applied to the return value, not at all..\n\nIMHO it's also against the spirit of OOP to have an option in a function `f` to return either `X` or `X.blah()`; the user can call `.blah()` on the answer he gets himself; and `X` is already created in `f`, there is no performance gain in returning X.blah() instead of `X`.",
    "created_at": "2015-11-29T15:32:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283181",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'></a>
Replying to [jaanos](#comment%3A35):
> 
> > only the generators? Why? it's one quick function call away from the group, why would you
> > do this in library code? In particular, as you are computing the group, not its generators, in the first place.

> 
> Well, I think if we're giving the user the choice of what they want returned, it would be unreasonable to forbid a certain choice just because we see no use for it.


it's an unreasonable code bloat to include a special function for anything that is
a trivial one-liner; e.g. if you start returning the generators, you might be tempted to add a function that only returns the number of generators, etc etc :-)

And you are not depriving the user from getting what he wants in any way by not providing
an option for any trivial one-liner applied to the return value, not at all..

IMHO it's also against the spirit of OOP to have an option in a function `f` to return either `X` or `X.blah()`; the user can call `.blah()` on the answer he gets himself; and `X` is already created in `f`, there is no performance gain in returning X.blah() instead of `X`.



---

archive/issue_comments_283182.json:
```json
{
    "body": "<a id='comment:37'></a>\n> IMHO it's also against the spirit of OOP to have an option in a function `f` to return either `X` or `X.blah()`; the user can call `.blah()` on the answer he gets himself; and `X` is already created in `f`, there is no performance gain in returning X.blah() instead of `X`.\n\n\nAre we sure that a permuation group defined from a set of generators returns the *very same* set of generators when you call `.gen()`? Or could they be simplified/reduced if Gap believe that another representation is better?\n\nNathann",
    "created_at": "2015-11-29T15:56:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283182",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:37'></a>
> IMHO it's also against the spirit of OOP to have an option in a function `f` to return either `X` or `X.blah()`; the user can call `.blah()` on the answer he gets himself; and `X` is already created in `f`, there is no performance gain in returning X.blah() instead of `X`.


Are we sure that a permuation group defined from a set of generators returns the *very same* set of generators when you call `.gen()`? Or could they be simplified/reduced if Gap believe that another representation is better?

Nathann



---

archive/issue_comments_283183.json:
```json
{
    "body": "<a id='comment:38'></a>\nReplying to [ncohen](#comment%3A37):\n> > IMHO it's also against the spirit of OOP to have an option in a function `f` to return either `X` or `X.blah()`; the user can call `.blah()` on the answer he gets himself; and `X` is already created in `f`, there is no performance gain in returning X.blah() instead of `X`.\n\n> \n> Are we sure that a permuation group defined from a set of generators returns the *very same* set of generators when you call `.gen()`? Or could they be simplified/reduced if Gap believe that another representation is better?\n\n\nIn GAP `GeneratorsOfGroup` need not return the original list of generators used to define the group in the first place.\n\n```\n  39.2-2 GroupByGenerators\n  \n  \u2023 GroupByGenerators( gens ) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 operation\n  \u2023 GroupByGenerators( gens, id ) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 operation\n  \n  GroupByGenerators  returns  the group G generated by the list gens. If a second argument id is present\n  then this is stored as the identity element of the group.\n  \n  The   value   of   the  attribute  GeneratorsOfGroup  (39.2-4)  of  G  need  not  be  equal  to  gens.\n  GroupByGenerators is the underlying operation called by Group (39.2-1).\n```\n\nI don't know how to recover the original generators from `Group`; it could very well be that they get lost, by design.\n\nIf one needs to keep the original ones, he can use `GroupWithGenerators`.",
    "created_at": "2015-11-29T16:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283183",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:38'></a>
Replying to [ncohen](#comment%3A37):
> > IMHO it's also against the spirit of OOP to have an option in a function `f` to return either `X` or `X.blah()`; the user can call `.blah()` on the answer he gets himself; and `X` is already created in `f`, there is no performance gain in returning X.blah() instead of `X`.

> 
> Are we sure that a permuation group defined from a set of generators returns the *very same* set of generators when you call `.gen()`? Or could they be simplified/reduced if Gap believe that another representation is better?


In GAP `GeneratorsOfGroup` need not return the original list of generators used to define the group in the first place.

```
  39.2-2 GroupByGenerators
  
  ‣ GroupByGenerators( gens ) ──────────────────────────────────────────────────────────────── operation
  ‣ GroupByGenerators( gens, id ) ──────────────────────────────────────────────────────────── operation
  
  GroupByGenerators  returns  the group G generated by the list gens. If a second argument id is present
  then this is stored as the identity element of the group.
  
  The   value   of   the  attribute  GeneratorsOfGroup  (39.2-4)  of  G  need  not  be  equal  to  gens.
  GroupByGenerators is the underlying operation called by Group (39.2-1).
```

I don't know how to recover the original generators from `Group`; it could very well be that they get lost, by design.

If one needs to keep the original ones, he can use `GroupWithGenerators`.



---

archive/issue_comments_283184.json:
```json
{
    "body": "<a id='comment:39'></a>\nPerhaps I was not being precise enough: I was talking about the generating set of the Cayley graph, not about the generators of the group.\n\nSo, a user may want any of the following (where computing each relies on the previous):\n1. whether there exists a transitive subgroup of the automorphism group with the same order as the graph,\n2. one such group,\n3. a map from vertices to group elements,\n4. a (multi)set of group elements that acts as the generating set for the Cayley graph.\n\nNow, going from step 2 to steps 3 and 4 surely is not hard (4 lines of code), but it is not something that can be done with a simple method call, and step 4 it is certainly not something that can be computed from the group itself.\n\nAnyway, I was probably wrong that the map would be a better certificate than the group, as the former is clearly easily computable from the latter.\n\nBy the way, what we're actually looking for here is a regular subgroup, so that's what the group method should be called (and we can also simplify the GAP call).\n\nJano\u0161",
    "created_at": "2015-11-29T16:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283184",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:39'></a>
Perhaps I was not being precise enough: I was talking about the generating set of the Cayley graph, not about the generators of the group.

So, a user may want any of the following (where computing each relies on the previous):
1. whether there exists a transitive subgroup of the automorphism group with the same order as the graph,
2. one such group,
3. a map from vertices to group elements,
4. a (multi)set of group elements that acts as the generating set for the Cayley graph.

Now, going from step 2 to steps 3 and 4 surely is not hard (4 lines of code), but it is not something that can be done with a simple method call, and step 4 it is certainly not something that can be computed from the group itself.

Anyway, I was probably wrong that the map would be a better certificate than the group, as the former is clearly easily computable from the latter.

By the way, what we're actually looking for here is a regular subgroup, so that's what the group method should be called (and we can also simplify the GAP call).

Janoš



---

archive/issue_comments_283185.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [jaanos](#comment%3A39):\n> Perhaps I was not being precise enough: I was talking about the generating set of the Cayley graph, not about the generators of the group.\n\n\n\nwell, how about having a proper `digraphs.CayleyGraph()` constructor?\n(one can use GRAPE package of GAP, which is going to be re-released under GPL)\ne.g.\n\n```\ngap> LoadPackage(\"grape\");\ntrue\ngap> C:=CayleyGraph(SymmetricGroup(4),[(1,2),(2,3),(3,4)]);\nrec( adjacencies := [ [ 2, 3, 7 ] ], group := Group([ (1,10,17,19)(2,9,18,20)(3,12,14,21)(4,11,13,22)\n  (5,7,16,23)(6,8,15,24), (1,7)(2,8)(3,9)(4,10)(5,11)(6,12)(13,15)(14,16)(17,18)(19,21)(20,22)\n  (23,24) ]), isGraph := true, isSimple := true, \n  names := [ (), (3,4), (2,3), (2,3,4), (2,4,3), (2,4), (1,2), (1,2)(3,4), (1,2,3), (1,2,3,4), \n      (1,2,4,3), (1,2,4), (1,3,2), (1,3,4,2), (1,3), (1,3,4), (1,3)(2,4), (1,3,2,4), (1,4,3,2), \n      (1,4,2), (1,4,3), (1,4), (1,4,2,3), (1,4)(2,3) ], order := 24, representatives := [ 1 ], \n  schreierVector := [ -1, 1, 1, 2, 2, 1, 2, 2, 2, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1, 1, 2, 2, 1, 2 ] )\ngap> \n```",
    "created_at": "2015-11-29T18:17:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283185",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:40'></a>
Replying to [jaanos](#comment%3A39):
> Perhaps I was not being precise enough: I was talking about the generating set of the Cayley graph, not about the generators of the group.



well, how about having a proper `digraphs.CayleyGraph()` constructor?
(one can use GRAPE package of GAP, which is going to be re-released under GPL)
e.g.

```
gap> LoadPackage("grape");
true
gap> C:=CayleyGraph(SymmetricGroup(4),[(1,2),(2,3),(3,4)]);
rec( adjacencies := [ [ 2, 3, 7 ] ], group := Group([ (1,10,17,19)(2,9,18,20)(3,12,14,21)(4,11,13,22)
  (5,7,16,23)(6,8,15,24), (1,7)(2,8)(3,9)(4,10)(5,11)(6,12)(13,15)(14,16)(17,18)(19,21)(20,22)
  (23,24) ]), isGraph := true, isSimple := true, 
  names := [ (), (3,4), (2,3), (2,3,4), (2,4,3), (2,4), (1,2), (1,2)(3,4), (1,2,3), (1,2,3,4), 
      (1,2,4,3), (1,2,4), (1,3,2), (1,3,4,2), (1,3), (1,3,4), (1,3)(2,4), (1,3,2,4), (1,4,3,2), 
      (1,4,2), (1,4,3), (1,4), (1,4,2,3), (1,4)(2,3) ], order := 24, representatives := [ 1 ], 
  schreierVector := [ -1, 1, 1, 2, 2, 1, 2, 2, 2, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1, 1, 2, 2, 1, 2 ] )
gap> 
```



---

archive/issue_comments_283186.json:
```json
{
    "body": "<a id='comment:41'></a>\nHi!\n\n> well, how about having a proper `digraphs.CayleyGraph()` constructor?\n\n\nI'm not sure what you're trying to achieve here. The method being added here is supposed to recognize Cayley graphs, no matter how they were constructed.\n\nThat said, I think we do need a backend for GRAPE-like graphs (i.e., using an automorphism group and orbit representatives).\n\nJano\u0161",
    "created_at": "2015-11-30T12:46:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283186",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:41'></a>
Hi!

> well, how about having a proper `digraphs.CayleyGraph()` constructor?


I'm not sure what you're trying to achieve here. The method being added here is supposed to recognize Cayley graphs, no matter how they were constructed.

That said, I think we do need a backend for GRAPE-like graphs (i.e., using an automorphism group and orbit representatives).

Janoš



---

archive/issue_comments_283187.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [jaanos](#comment%3A41):\n> > well, how about having a proper `digraphs.CayleyGraph()` constructor?\n\n> \n> I'm not sure what you're trying to achieve here. The method being added here is supposed to recognize Cayley graphs, no matter how they were constructed.\n\n\na part of interface issue is that we lack `(di)graphs.CayleyGraph()`; if it was there it would be most natural to return such a thing on success.\n\n> \n> That said, I think we do need a backend for GRAPE-like graphs (i.e., using an automorphism group and orbit representatives).\n\n\nI have been advocating this for years, but never had time to implement it.",
    "created_at": "2015-11-30T12:50:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283187",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'></a>
Replying to [jaanos](#comment%3A41):
> > well, how about having a proper `digraphs.CayleyGraph()` constructor?

> 
> I'm not sure what you're trying to achieve here. The method being added here is supposed to recognize Cayley graphs, no matter how they were constructed.


a part of interface issue is that we lack `(di)graphs.CayleyGraph()`; if it was there it would be most natural to return such a thing on success.

> 
> That said, I think we do need a backend for GRAPE-like graphs (i.e., using an automorphism group and orbit representatives).


I have been advocating this for years, but never had time to implement it.



---

archive/issue_comments_283188.json:
```json
{
    "body": "<a id='comment:43'></a>\n> a part of interface issue is that we lack `(di)graphs.CayleyGraph()`; if it was there it would be most natural to return such a thing on success.\n\n\nSo you're saying that we should return an isomorphic graph that is marked as a Cayley graph as a certificate? Interesting, although this is probably something the user should do by themselves given the group.\n\nEven if we don't have such a constructor, we can always relabel the vertices with group elements, and then set edge labels, just like the `cayley_graph` method on a group would do.\n\nJano\u0161",
    "created_at": "2015-11-30T13:01:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283188",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:43'></a>
> a part of interface issue is that we lack `(di)graphs.CayleyGraph()`; if it was there it would be most natural to return such a thing on success.


So you're saying that we should return an isomorphic graph that is marked as a Cayley graph as a certificate? Interesting, although this is probably something the user should do by themselves given the group.

Even if we don't have such a constructor, we can always relabel the vertices with group elements, and then set edge labels, just like the `cayley_graph` method on a group would do.

Janoš



---

archive/issue_comments_283189.json:
```json
{
    "body": "<a id='comment:44'></a>\nHmmmm.. True. Returning a graph whose vertices are group elements and whose edges are labelled with a group element looks cool. Plus one can even get the actual group from `anyvertex.parent()`...\n\nNathann",
    "created_at": "2015-11-30T13:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283189",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:44'></a>
Hmmmm.. True. Returning a graph whose vertices are group elements and whose edges are labelled with a group element looks cool. Plus one can even get the actual group from `anyvertex.parent()`...

Nathann



---

archive/issue_comments_283190.json:
```json
{
    "body": "<a id='comment:45'></a>\nReplying to [ncohen](#comment%3A44):\n> Hmmmm.. True. Returning a graph whose vertices are group elements and whose edges are labelled with a group element looks cool. Plus one can even get the actual group from `anyvertex.parent()`...\n\n\nvertices and edge labels ought to be words in group generators (you always need at most log_2(n) generators, at least if my memory is correct that the elementary abelian 2-groups are the worst case for the number of generators; and multiplying permutations is fast). \nActually, all you need to store is  [\"Schreier vector\"](https://en.wikipedia.org/wiki/Schreier_vector), and compute vertex and edge labels on the fly.\n\nCertainly keeping edge labels for each edge is silly, as they are trivially computed from the edge labels for one fixed vertex.",
    "created_at": "2015-11-30T13:33:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283190",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:45'></a>
Replying to [ncohen](#comment%3A44):
> Hmmmm.. True. Returning a graph whose vertices are group elements and whose edges are labelled with a group element looks cool. Plus one can even get the actual group from `anyvertex.parent()`...


vertices and edge labels ought to be words in group generators (you always need at most log_2(n) generators, at least if my memory is correct that the elementary abelian 2-groups are the worst case for the number of generators; and multiplying permutations is fast). 
Actually, all you need to store is  ["Schreier vector"](https://en.wikipedia.org/wiki/Schreier_vector), and compute vertex and edge labels on the fly.

Certainly keeping edge labels for each edge is silly, as they are trivially computed from the edge labels for one fixed vertex.



---

archive/issue_comments_283191.json:
```json
{
    "body": "<a id='comment:46'></a>\nYo\n\n> vertices and edge labels ought to be words in group generators\n\n\nWhy ? A group element does the job already.\n\n> Actually, all you need to store is  [\"Schreier vector\"](https://en.wikipedia.org/wiki/Schreier_vector), and compute vertex and edge labels on the fly.\n\n\nThat sounds like \"something you might want to have\", not \"something that you can request the ticket's author to implement for you, as a reviewer\"\n\n> Certainly keeping edge labels for each edge is silly, as they are trivially computed from the edge labels for one fixed vertex.\n\n\nSure, but this way if you type `g.edge_labels()` you obtain the list of generators. It is only a proposition: I don't use cayley graph much, and though I can review some of the code the design is best chosen by those who might need the feature. You two, in the current situation.\n\nNathann",
    "created_at": "2015-11-30T13:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283191",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:46'></a>
Yo

> vertices and edge labels ought to be words in group generators


Why ? A group element does the job already.

> Actually, all you need to store is  ["Schreier vector"](https://en.wikipedia.org/wiki/Schreier_vector), and compute vertex and edge labels on the fly.


That sounds like "something you might want to have", not "something that you can request the ticket's author to implement for you, as a reviewer"

> Certainly keeping edge labels for each edge is silly, as they are trivially computed from the edge labels for one fixed vertex.


Sure, but this way if you type `g.edge_labels()` you obtain the list of generators. It is only a proposition: I don't use cayley graph much, and though I can review some of the code the design is best chosen by those who might need the feature. You two, in the current situation.

Nathann



---

archive/issue_comments_283192.json:
```json
{
    "body": "<a id='comment:47'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2\">382c0f2</a></td><td><code>Rename transitive_subgroup to regular_subgroup</code></td></tr></table>\n",
    "created_at": "2015-11-30T13:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283192",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2">382c0f2</a></td><td><code>Rename transitive_subgroup to regular_subgroup</code></td></tr></table>




---

archive/issue_comments_283193.json:
```json
{
    "body": "**Changing commit** from \"[4aaf3014fee5bb08d861636908d6733047d4a869](https://github.com/sagemath/sagetrac-mirror/commit/4aaf3014fee5bb08d861636908d6733047d4a869)\" to \"[382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2](https://github.com/sagemath/sagetrac-mirror/commit/382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2)\".",
    "created_at": "2015-11-30T13:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283193",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4aaf3014fee5bb08d861636908d6733047d4a869](https://github.com/sagemath/sagetrac-mirror/commit/4aaf3014fee5bb08d861636908d6733047d4a869)" to "[382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2](https://github.com/sagemath/sagetrac-mirror/commit/382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2)".



---

archive/issue_comments_283194.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [ncohen](#comment%3A46):\n> Yo\n> \n> > vertices and edge labels ought to be words in group generators\n\n> \n> Why ? A group element does the job already.\n\ncause you need `n^2` as opposed to `n log(n)` storage, making graphs that are easily handled by GRAPE out of reach.\n\n> \n> > Actually, all you need to store is  [\"Schreier vector\"](https://en.wikipedia.org/wiki/Schreier_vector), and compute vertex and edge labels on the fly.\n\n> \n> That sounds like \"something you might want to have\", not \"something that you can request the ticket's author to implement for you, as a reviewer\"\n\n\nCertainly. It seems to be better to write it here than per email. I certainly not insist on it being implemented here on this ticket.\n\n> \n> > Certainly keeping edge labels for each edge is silly, as they are trivially computed from the edge labels for one fixed vertex.\n\n> \n> Sure, but this way if you type `g.edge_labels()` you obtain the list of generators. It is only a proposition: I don't use cayley graph much, and though I can review some of the code the design is best chosen by those who might need the feature. You two, in the current situation.\n\n----\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2\">382c0f2</a></td><td><code>Rename transitive_subgroup to regular_subgroup</code></td></tr></table>\n",
    "created_at": "2015-11-30T14:00:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283194",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:48'></a>
Replying to [ncohen](#comment%3A46):
> Yo
> 
> > vertices and edge labels ought to be words in group generators

> 
> Why ? A group element does the job already.

cause you need `n^2` as opposed to `n log(n)` storage, making graphs that are easily handled by GRAPE out of reach.

> 
> > Actually, all you need to store is  ["Schreier vector"](https://en.wikipedia.org/wiki/Schreier_vector), and compute vertex and edge labels on the fly.

> 
> That sounds like "something you might want to have", not "something that you can request the ticket's author to implement for you, as a reviewer"


Certainly. It seems to be better to write it here than per email. I certainly not insist on it being implemented here on this ticket.

> 
> > Certainly keeping edge labels for each edge is silly, as they are trivially computed from the edge labels for one fixed vertex.

> 
> Sure, but this way if you type `g.edge_labels()` you obtain the list of generators. It is only a proposition: I don't use cayley graph much, and though I can review some of the code the design is best chosen by those who might need the feature. You two, in the current situation.

----
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2">382c0f2</a></td><td><code>Rename transitive_subgroup to regular_subgroup</code></td></tr></table>




---

archive/issue_comments_283195.json:
```json
{
    "body": "<a id='comment:49'></a>\nReplying to [dimpase](#comment%3A34):\n> Replying to [jaanos](#comment%3A33):\n> > Hi!\n> > \n> > > as a switch to `libgap` will happen sooner or later, optimising for not reading GAP output\n> > > does not seem to be that important.\n\n> > \n> > I see. But should I do anything about it at this point?\n> > \n> > > this ceritainly looks better, but again, I don't like the counter-intuitive parameters of `is_cayley()` and weird sort of output (a pair) that you currently have. In particular the latter.\n\n> > \n> > I have modelled both input and output of `is_cayley` after methods such as `is_chordal` and `is_circulant`. \n\n\ninterestingly,  `is_circulant` implements a naive brute-force algorithm, and docs don't mention that there is a [polynomial-time algorithm](http://www.ams.org/journals/spmj/2004-15-06/S1061-0022-04-00833-7/S1061-0022-04-00833-7.pdf). (Which is also not mentioned on the wikipedia page it refers to. Perhaps I should edit the latter...)\n\nPS. just edited the wikipedia page...",
    "created_at": "2015-11-30T14:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283195",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:49'></a>
Replying to [dimpase](#comment%3A34):
> Replying to [jaanos](#comment%3A33):
> > Hi!
> > 
> > > as a switch to `libgap` will happen sooner or later, optimising for not reading GAP output
> > > does not seem to be that important.

> > 
> > I see. But should I do anything about it at this point?
> > 
> > > this ceritainly looks better, but again, I don't like the counter-intuitive parameters of `is_cayley()` and weird sort of output (a pair) that you currently have. In particular the latter.

> > 
> > I have modelled both input and output of `is_cayley` after methods such as `is_chordal` and `is_circulant`. 


interestingly,  `is_circulant` implements a naive brute-force algorithm, and docs don't mention that there is a [polynomial-time algorithm](http://www.ams.org/journals/spmj/2004-15-06/S1061-0022-04-00833-7/S1061-0022-04-00833-7.pdf). (Which is also not mentioned on the wikipedia page it refers to. Perhaps I should edit the latter...)

PS. just edited the wikipedia page...



---

archive/issue_comments_283196.json:
```json
{
    "body": "<a id='comment:50'></a>\nOK, I have just renamed the group method now, and haven't done any of the other things yet.\n\nAbout a Cayley graph as a certificate: when we have an appropriate backend, sure, we should use that (or even a subclass dedicated to Cayley graphs which can compute the vertex name and edge labels on the fly). But until then we should decide what exactly to return as certificate, and that should remain so in the future.\n\nIf we want to return a Cayley graph, we could either always return a digraph (which can be nicely labelled, but won't be isomorphic to an undirected graph), or simply relabel the input graph (in case of undirected graphs we should then not use mutually inverse labels). I prefer the second option.\n\nJano\u0161",
    "created_at": "2015-11-30T14:17:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283196",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:50'></a>
OK, I have just renamed the group method now, and haven't done any of the other things yet.

About a Cayley graph as a certificate: when we have an appropriate backend, sure, we should use that (or even a subclass dedicated to Cayley graphs which can compute the vertex name and edge labels on the fly). But until then we should decide what exactly to return as certificate, and that should remain so in the future.

If we want to return a Cayley graph, we could either always return a digraph (which can be nicely labelled, but won't be isomorphic to an undirected graph), or simply relabel the input graph (in case of undirected graphs we should then not use mutually inverse labels). I prefer the second option.

Janoš



---

archive/issue_comments_283197.json:
```json
{
    "body": "<a id='comment:51'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/baba4a8d4919be000984d40f56db542557c55e51\">baba4a8</a></td><td><code>Add cayley_graph_group and change the certificate to a labelled graph</code></td></tr></table>\n",
    "created_at": "2016-01-10T02:44:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283197",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/baba4a8d4919be000984d40f56db542557c55e51">baba4a8</a></td><td><code>Add cayley_graph_group and change the certificate to a labelled graph</code></td></tr></table>




---

archive/issue_comments_283198.json:
```json
{
    "body": "**Changing commit** from \"[382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2](https://github.com/sagemath/sagetrac-mirror/commit/382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2)\" to \"[baba4a8d4919be000984d40f56db542557c55e51](https://github.com/sagemath/sagetrac-mirror/commit/baba4a8d4919be000984d40f56db542557c55e51)\".",
    "created_at": "2016-01-10T02:44:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283198",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2](https://github.com/sagemath/sagetrac-mirror/commit/382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2)" to "[baba4a8d4919be000984d40f56db542557c55e51](https://github.com/sagemath/sagetrac-mirror/commit/baba4a8d4919be000984d40f56db542557c55e51)".



---

archive/issue_comments_283199.json:
```json
{
    "body": "<a id='comment:52'></a>\nI have finally gotten around to continuing work on this ticket. So, now we've got this:\n\n* I have added a method `cayley_graph_group`, as suggested, which takes care of obtaining the group (or actually computing it in the case of disconnected graphs). It can be instructed not to actually return the group, but only to tell whether the graph is Cayley or not.\n\n* `is_cayley` calls the above method, requesting the group if a certificate is requested. The certificate is now a copy of the graph with edges labelled by members of the generating set, and vertices associated to group elements (vertex names are not changed). One may then test that the result is indeed a Cayley graph - an example is in the doctest. Of course, once we will have a separate class/backend for Cayley graphs, we can use that here.\n\n* Since `set_edge_label` does not work for multiedges, I have added three new parameters to `copy`. One is `data`, specifying the actual graph data to be copied (so this can be anything `Graph` and `DiGraph` accept - in this case, a list of vertices and a list of labelled edges). The other two are `loops` and `multiedges` (I don't actually use them in the final version, but I figured it might be still useful to keep them). Any of the properties of the graph not specified as a parameter are obtained from the graph itself, not from whatever `data` is.\n\nSo, what do you guys think?\n\nJano\u0161\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/baba4a8d4919be000984d40f56db542557c55e51\">baba4a8</a></td><td><code>Add cayley_graph_group and change the certificate to a labelled graph</code></td></tr></table>\n",
    "created_at": "2016-01-10T02:45:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283199",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:52'></a>
I have finally gotten around to continuing work on this ticket. So, now we've got this:

* I have added a method `cayley_graph_group`, as suggested, which takes care of obtaining the group (or actually computing it in the case of disconnected graphs). It can be instructed not to actually return the group, but only to tell whether the graph is Cayley or not.

* `is_cayley` calls the above method, requesting the group if a certificate is requested. The certificate is now a copy of the graph with edges labelled by members of the generating set, and vertices associated to group elements (vertex names are not changed). One may then test that the result is indeed a Cayley graph - an example is in the doctest. Of course, once we will have a separate class/backend for Cayley graphs, we can use that here.

* Since `set_edge_label` does not work for multiedges, I have added three new parameters to `copy`. One is `data`, specifying the actual graph data to be copied (so this can be anything `Graph` and `DiGraph` accept - in this case, a list of vertices and a list of labelled edges). The other two are `loops` and `multiedges` (I don't actually use them in the final version, but I figured it might be still useful to keep them). Any of the properties of the graph not specified as a parameter are obtained from the graph itself, not from whatever `data` is.

So, what do you guys think?

Janoš

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/baba4a8d4919be000984d40f56db542557c55e51">baba4a8</a></td><td><code>Add cayley_graph_group and change the certificate to a labelled graph</code></td></tr></table>




---

archive/issue_comments_283200.json:
```json
{
    "body": "<a id='comment:53'></a>\nPlease remove this ugly 'data' argument in 'copy'. It will not happen.\n\nNathann",
    "created_at": "2016-01-10T08:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283200",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:53'></a>
Please remove this ugly 'data' argument in 'copy'. It will not happen.

Nathann



---

archive/issue_comments_283201.json:
```json
{
    "body": "<a id='comment:54'></a>\nSorry, I was rather angry. Longer answer:\n\n> * I have added a method `cayley_graph_group`, as suggested, which takes care of obtaining the group (or actually computing it in the case of disconnected graphs). It can be instructed not to actually return the group, but only to tell whether the graph is Cayley or not.\n> \n> * `is_cayley` calls the above method, requesting the group if a certificate is requested. The certificate is now a copy of the graph with edges labelled by members of the generating set, and vertices associated to group elements (vertex names are not changed). One may then test that the result is indeed a Cayley graph - an example is in the doctest. Of course, once we will have a separate class/backend for Cayley graphs, we can use that here.\n\n\nI am still against the presence of both 'is_cayley' and 'cayley_graph_group', especially if you say that the first does the job of the second already. Let us not have 300 ways to do the same thing.\n\nIn particular, I often saw often users do things like:\n\n```\nif self.is_cayley():\n    G = self.cayley_graph_group()\n```\n\nWhich means that they compute things twice, whenever they have both a `is_*` function and another one which returns the data they are actually after.\n\nI'm beginning to think that a `is_cayley_graph` that would return the group if possible and False otherwise would do the job, though that's only me.\n\n> * Since `set_edge_label` does not work for multiedges, I have added three new parameters to `copy`. One is `data`, specifying the actual graph data to be copied (so this can be anything `Graph` and `DiGraph` accept - in this case, a list of vertices and a list of labelled edges). The other two are `loops` and `multiedges` (I don't actually use them in the final version, but I figured it might be still useful to keep them). Any of the properties of the graph not specified as a parameter are obtained from the graph itself, not from whatever `data` is.\n\n\nKeywords like 'data' caused me endless troubles in this library. It is far too unspecific, and I do not even think that you need it. From what you said it seems that you only need to perform a copy then call `to_simple`. Tell me if it isn't what you want.\n\nNathann",
    "created_at": "2016-01-10T08:10:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283201",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:54'></a>
Sorry, I was rather angry. Longer answer:

> * I have added a method `cayley_graph_group`, as suggested, which takes care of obtaining the group (or actually computing it in the case of disconnected graphs). It can be instructed not to actually return the group, but only to tell whether the graph is Cayley or not.
> 
> * `is_cayley` calls the above method, requesting the group if a certificate is requested. The certificate is now a copy of the graph with edges labelled by members of the generating set, and vertices associated to group elements (vertex names are not changed). One may then test that the result is indeed a Cayley graph - an example is in the doctest. Of course, once we will have a separate class/backend for Cayley graphs, we can use that here.


I am still against the presence of both 'is_cayley' and 'cayley_graph_group', especially if you say that the first does the job of the second already. Let us not have 300 ways to do the same thing.

In particular, I often saw often users do things like:

```
if self.is_cayley():
    G = self.cayley_graph_group()
```

Which means that they compute things twice, whenever they have both a `is_*` function and another one which returns the data they are actually after.

I'm beginning to think that a `is_cayley_graph` that would return the group if possible and False otherwise would do the job, though that's only me.

> * Since `set_edge_label` does not work for multiedges, I have added three new parameters to `copy`. One is `data`, specifying the actual graph data to be copied (so this can be anything `Graph` and `DiGraph` accept - in this case, a list of vertices and a list of labelled edges). The other two are `loops` and `multiedges` (I don't actually use them in the final version, but I figured it might be still useful to keep them). Any of the properties of the graph not specified as a parameter are obtained from the graph itself, not from whatever `data` is.


Keywords like 'data' caused me endless troubles in this library. It is far too unspecific, and I do not even think that you need it. From what you said it seems that you only need to perform a copy then call `to_simple`. Tell me if it isn't what you want.

Nathann



---

archive/issue_comments_283202.json:
```json
{
    "body": "<a id='comment:55'></a>\nHi!\n\nReplying to [ncohen](#comment%3A54):\n> Sorry, I was rather angry. Longer answer:\n\n\nSorry about that, I thought you wouldn't like it. Anyway:\n\n> I am still against the presence of both 'is_cayley' and 'cayley_graph_group', especially if you say that the first does the job of the second already. Let us not have 300 ways to do the same thing.\n> \n> I'm beginning to think that a `is_cayley_graph` that would return the group if possible and False otherwise would do the job, though that's only me.\n\n\nI actually agree - I was just trying to implement what Dima had suggested. But anyway, I think it would not be wrong to let the user also have the generating set and a labelled copy of the graph if requested.\n\n> Keywords like 'data' caused me endless troubles in this library. It is far too unspecific, and I do not even think that you need it. From what you said it seems that you only need to perform a copy then call `to_simple`. Tell me if it isn't what you want.\n\n\nI agree that having `data` as a parameter to `copy` is ugly and counter-intuitive. However, lacking a way to label the edges of a multigraph, I thought it would be easiest to just rebuild a graph with the labels, and `copy` already provides all copying-related stuff (an alternative would be to replicate its code).\n\n`to_simple` would not work here, since I want to keep all loops and multiedges. What would be needed is a method like `set_edge_labels` which allows setting all labels simultaneously (including multiedges). For the purpose of this function, it would also suffice to have a parameter to `set_edge_label` that makes it set the same label to all parallel multiedges.\n\nJano\u0161",
    "created_at": "2016-01-10T21:33:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283202",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:55'></a>
Hi!

Replying to [ncohen](#comment%3A54):
> Sorry, I was rather angry. Longer answer:


Sorry about that, I thought you wouldn't like it. Anyway:

> I am still against the presence of both 'is_cayley' and 'cayley_graph_group', especially if you say that the first does the job of the second already. Let us not have 300 ways to do the same thing.
> 
> I'm beginning to think that a `is_cayley_graph` that would return the group if possible and False otherwise would do the job, though that's only me.


I actually agree - I was just trying to implement what Dima had suggested. But anyway, I think it would not be wrong to let the user also have the generating set and a labelled copy of the graph if requested.

> Keywords like 'data' caused me endless troubles in this library. It is far too unspecific, and I do not even think that you need it. From what you said it seems that you only need to perform a copy then call `to_simple`. Tell me if it isn't what you want.


I agree that having `data` as a parameter to `copy` is ugly and counter-intuitive. However, lacking a way to label the edges of a multigraph, I thought it would be easiest to just rebuild a graph with the labels, and `copy` already provides all copying-related stuff (an alternative would be to replicate its code).

`to_simple` would not work here, since I want to keep all loops and multiedges. What would be needed is a method like `set_edge_labels` which allows setting all labels simultaneously (including multiedges). For the purpose of this function, it would also suffice to have a parameter to `set_edge_label` that makes it set the same label to all parallel multiedges.

Janoš



---

archive/issue_events_179546.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2016-01-10T21:33:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179546"
}
```



---

archive/issue_events_179547.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2016-01-10T21:33:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179547"
}
```



---

archive/issue_comments_283203.json:
```json
{
    "body": "<a id='comment:56'></a>\nYo !!\n\n> I actually agree - I was just trying to implement what Dima had suggested. But anyway, I think it would not be wrong to let the user also have the generating set and a labelled copy of the graph if requested.\n\n\nI quite like to abuse of Python's features in this respect (though I know Dima hates it), and have the same function return as much stuff as needed: `G.is_cayley_graph(group=True,labelled_graph=True)`.\n\n> I agree that having `data` as a parameter to `copy` is ugly and counter-intuitive. However, lacking a way to label the edges of a multigraph, I thought it would be easiest to just rebuild a graph with the labels, and `copy` already provides all copying-related stuff (an alternative would be to replicate its code).\n\n\nIs there any reason why you don't create an empty digraph and add the necessary edges? I first thought that you were trying to avoid distinguishing graph and digraph, but then I wondered what the label would be on an *unlabeled* edge. `u/v` or `v/u`? Seems better to always use a digraph, doesn't it?\n\nNathann",
    "created_at": "2016-01-10T21:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283203",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:56'></a>
Yo !!

> I actually agree - I was just trying to implement what Dima had suggested. But anyway, I think it would not be wrong to let the user also have the generating set and a labelled copy of the graph if requested.


I quite like to abuse of Python's features in this respect (though I know Dima hates it), and have the same function return as much stuff as needed: `G.is_cayley_graph(group=True,labelled_graph=True)`.

> I agree that having `data` as a parameter to `copy` is ugly and counter-intuitive. However, lacking a way to label the edges of a multigraph, I thought it would be easiest to just rebuild a graph with the labels, and `copy` already provides all copying-related stuff (an alternative would be to replicate its code).


Is there any reason why you don't create an empty digraph and add the necessary edges? I first thought that you were trying to avoid distinguishing graph and digraph, but then I wondered what the label would be on an *unlabeled* edge. `u/v` or `v/u`? Seems better to always use a digraph, doesn't it?

Nathann



---

archive/issue_comments_283204.json:
```json
{
    "body": "<a id='comment:57'></a>\nHi!\n\n> Is there any reason why you don't create an empty digraph and add the necessary edges? I first thought that you were trying to avoid distinguishing graph and digraph, but then I wondered what the label would be on an *unlabeled* edge. `u/v` or `v/u`? Seems better to always use a digraph, doesn't it?\n\n\nI guess this would be doable, but then other properties would also have to be set, which means duplicating the `copy` code. So essentially this is what the current code is doing. But then again maybe we should be happy with just copying what we really need.\n\nAs for graphs vs. digraphs, I prefer returning a graph which is actually isomorphic to the original one. Of course, the resulting digraph could always be converted to an undirected graph, but if the original graph has multiedges, this conversion would double the edges.\n\nFor the labels on undirected edges, what I currently do is pick one label and use it whenever its inverse could be used. Since vertices are associated with group elements (via `set_vertices`), this does not appear to be a problem.\n\nJano\u0161",
    "created_at": "2016-01-10T22:36:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283204",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:57'></a>
Hi!

> Is there any reason why you don't create an empty digraph and add the necessary edges? I first thought that you were trying to avoid distinguishing graph and digraph, but then I wondered what the label would be on an *unlabeled* edge. `u/v` or `v/u`? Seems better to always use a digraph, doesn't it?


I guess this would be doable, but then other properties would also have to be set, which means duplicating the `copy` code. So essentially this is what the current code is doing. But then again maybe we should be happy with just copying what we really need.

As for graphs vs. digraphs, I prefer returning a graph which is actually isomorphic to the original one. Of course, the resulting digraph could always be converted to an undirected graph, but if the original graph has multiedges, this conversion would double the edges.

For the labels on undirected edges, what I currently do is pick one label and use it whenever its inverse could be used. Since vertices are associated with group elements (via `set_vertices`), this does not appear to be a problem.

Janoš



---

archive/issue_comments_283205.json:
```json
{
    "body": "<a id='comment:58'></a>\nHello,\n\n> I guess this would be doable, but then other properties would also have to be set, which means duplicating the `copy` code.\n\n\nDon't feel forced to preserve them if you see no reason to. Most of Sage's graph methods do not do it, so it is far from being a standard. If you want to do it, however, you are quite free to do so.\n\n> As for graphs vs. digraphs, I prefer returning a graph which is actually isomorphic to the original one. Of course, the resulting digraph could always be converted to an undirected graph, but if the original graph has multiedges, this conversion would double the edges.\n> \n> For the labels on undirected edges, what I currently do is pick one label and use it whenever its inverse could be used.\n\n\nSorry, I do not understand this sentence.\n\n> Since vertices are associated with group elements (via `set_vertices`), this does not appear to be a problem.\n\n\nNooooooo... `set_vertices`? You use it to store the bijection between vertices and group elements? Can't you return a dictionary instead ?\n\nI hate those \"gadget properties\". They seem nice when you add them, and then you see yourself spending your nights answering idiotic questions like \"what on earth should I do with set_vertices inside of merge_vertices\" or something like that `>_<`\n\nNathann",
    "created_at": "2016-01-10T22:50:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283205",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:58'></a>
Hello,

> I guess this would be doable, but then other properties would also have to be set, which means duplicating the `copy` code.


Don't feel forced to preserve them if you see no reason to. Most of Sage's graph methods do not do it, so it is far from being a standard. If you want to do it, however, you are quite free to do so.

> As for graphs vs. digraphs, I prefer returning a graph which is actually isomorphic to the original one. Of course, the resulting digraph could always be converted to an undirected graph, but if the original graph has multiedges, this conversion would double the edges.
> 
> For the labels on undirected edges, what I currently do is pick one label and use it whenever its inverse could be used.


Sorry, I do not understand this sentence.

> Since vertices are associated with group elements (via `set_vertices`), this does not appear to be a problem.


Nooooooo... `set_vertices`? You use it to store the bijection between vertices and group elements? Can't you return a dictionary instead ?

I hate those "gadget properties". They seem nice when you add them, and then you see yourself spending your nights answering idiotic questions like "what on earth should I do with set_vertices inside of merge_vertices" or something like that `>_<`

Nathann



---

archive/issue_comments_283206.json:
```json
{
    "body": "<a id='comment:59'></a>\nHi!\n\n> > For the labels on undirected edges, what I currently do is pick one label and use it whenever its inverse could be used.\n\n> \n> Sorry, I do not understand this sentence.\n\n\nI meant that all undirected edges `(u, v)` such that `u*g == v` or `u*g^-1 == v`, the same label `g` is used (of course, `g^-1` would be just as good).\n\n> Nooooooo... `set_vertices`? You use it to store the bijection between vertices and group elements? Can't you return a dictionary instead ?\n> \n> I hate those \"gadget properties\". They seem nice when you add them, and then you see yourself spending your nights answering idiotic questions like \"what on earth should I do with set_vertices inside of merge_vertices\" or something like that `>_<`\n\n\nHaha, it seems I hit something that shouldn't be:)\n\nMaybe we should revert to the last commit, and just add an option to let the user have exactly what they want (group/mapping/generating set). As for the graph, I guess the best thing would be to let the user construct it themselves the way that they want.\n\nJano\u0161",
    "created_at": "2016-01-10T23:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283206",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:59'></a>
Hi!

> > For the labels on undirected edges, what I currently do is pick one label and use it whenever its inverse could be used.

> 
> Sorry, I do not understand this sentence.


I meant that all undirected edges `(u, v)` such that `u*g == v` or `u*g^-1 == v`, the same label `g` is used (of course, `g^-1` would be just as good).

> Nooooooo... `set_vertices`? You use it to store the bijection between vertices and group elements? Can't you return a dictionary instead ?
> 
> I hate those "gadget properties". They seem nice when you add them, and then you see yourself spending your nights answering idiotic questions like "what on earth should I do with set_vertices inside of merge_vertices" or something like that `>_<`


Haha, it seems I hit something that shouldn't be:)

Maybe we should revert to the last commit, and just add an option to let the user have exactly what they want (group/mapping/generating set). As for the graph, I guess the best thing would be to let the user construct it themselves the way that they want.

Janoš



---

archive/issue_comments_283207.json:
```json
{
    "body": "<a id='comment:60'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8685628455d2364bbb1896bf28e18c637bfab50c\">8685628</a></td><td><code>Replace certificate with return_group, mapping and generators</code></td></tr></table>\n",
    "created_at": "2016-01-13T09:01:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283207",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:60'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8685628455d2364bbb1896bf28e18c637bfab50c">8685628</a></td><td><code>Replace certificate with return_group, mapping and generators</code></td></tr></table>




---

archive/issue_comments_283208.json:
```json
{
    "body": "**Changing commit** from \"[baba4a8d4919be000984d40f56db542557c55e51](https://github.com/sagemath/sagetrac-mirror/commit/baba4a8d4919be000984d40f56db542557c55e51)\" to \"[8685628455d2364bbb1896bf28e18c637bfab50c](https://github.com/sagemath/sagetrac-mirror/commit/8685628455d2364bbb1896bf28e18c637bfab50c)\".",
    "created_at": "2016-01-13T09:01:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283208",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[baba4a8d4919be000984d40f56db542557c55e51](https://github.com/sagemath/sagetrac-mirror/commit/baba4a8d4919be000984d40f56db542557c55e51)" to "[8685628455d2364bbb1896bf28e18c637bfab50c](https://github.com/sagemath/sagetrac-mirror/commit/8685628455d2364bbb1896bf28e18c637bfab50c)".



---

archive/issue_comments_283209.json:
```json
{
    "body": "<a id='comment:61'></a>\nOK, I've reverted the last commit, and instead added the parameters `return_group`, `mapping` and `generators` instead of `certificate`. I hope it's better this way:)\n\nBy the way, should the parameters all be named `return_*`? `return_group` seems to be established, while, for example, `automorphism_group` has a parameter `orbits` to specify that orbits should be returned.\n\nJano\u0161",
    "created_at": "2016-01-13T09:08:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283209",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:61'></a>
OK, I've reverted the last commit, and instead added the parameters `return_group`, `mapping` and `generators` instead of `certificate`. I hope it's better this way:)

By the way, should the parameters all be named `return_*`? `return_group` seems to be established, while, for example, `automorphism_group` has a parameter `orbits` to specify that orbits should be returned.

Janoš



---

archive/issue_comments_283210.json:
```json
{
    "body": "<a id='comment:62'></a>\nHellooooooooooo,\n\nThank you very much for this update. Here are some comments:\n\n- Some people sometimes fight about whether 'self' should be allowed in the docstrings, .e.g:\n  `Check whether self is a Cayley graph.`\n  I don't insist on any such rule, but I usually write it on the pattern 'Check\n  whether the graph is a Cayley graph'. As you rightfully added your method to\n  the index, you can see that only the *name* of the function appears before\n  `Check whether self is a Cayley graph.`. In this context, the meaning of\n  'self' is not clear. This being said, you will probably see it occur in some\n  other places of Sage's code: make the change or do not make it, according to\n  your taste. I just thought worth mentionning.\n\n- About the doctest `sage: S`. I am not sure that the output will be\n  identital on all platforms: the order of the generators can change on a\n  different architecture, and this would be reported as a broken doctest. If you\n  have reasons to believe that it will work on all platform then it can stay,\n  otherwise the test must be made platform-independent. This can be done by\n  building the graph from the generators for instance. If you do not believe\n  that it is worth checking (e.g. if it is already tested elsewhere) then you\n  can just remove this line, or test something different.\n\n- `regular_subgroup` given that the default behaviour is to return a boolean,\n  shouldn't it be named `has_regular_subgroup` instead?\n\n- about `is_cayley` returning generators: do you think that it is necessary to\n  have this option, or should we let users call `.generators()` on the group\n  object?\n\n- `c, G, d, S` could you give more meaningful names to those variables? I\n  guess that 'G' is alright (even though, in a Graph function...) but `d` and\n  `S` could easily be `graph_to_group_map` and `generators`. Or anything else\n  you might prefer.\n\n- You do not need `\\` at the end of the line when a `[({` is open and remains to\n  be closed.\n\n- Can this\n\n  ```\n  +                t = C[0].is_cayley(return_group=certificate)\n  +                if certificate:\n  +                    c, CG = t\n  ```\n  be replaced by that?\n\n  ```\n  +                c, CG = C[0].is_cayley(return_group=certificate)\n  +                if certificate:\n  ```\n  The value `None` may be replaced by `None` uselessly, but that's not a big\n  problem (if I don't get anything wrong)\n\n- About `return tuple(out)` -- there is nothing wrong with this, though I\n  don't think it is necessary to force a 'tuple'. This is no request to change\n  it of course, it is fine as it is if you prefer it this way.\n\n- It is better to call `self.degree()` than `len(self.domain())`.\n\nNathann\n\nP.S.: Don't forget to set a ticket back to `needs_review` once you are done with the changes.",
    "created_at": "2016-01-14T09:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283210",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:62'></a>
Hellooooooooooo,

Thank you very much for this update. Here are some comments:

- Some people sometimes fight about whether 'self' should be allowed in the docstrings, .e.g:
  `Check whether self is a Cayley graph.`
  I don't insist on any such rule, but I usually write it on the pattern 'Check
  whether the graph is a Cayley graph'. As you rightfully added your method to
  the index, you can see that only the *name* of the function appears before
  `Check whether self is a Cayley graph.`. In this context, the meaning of
  'self' is not clear. This being said, you will probably see it occur in some
  other places of Sage's code: make the change or do not make it, according to
  your taste. I just thought worth mentionning.

- About the doctest `sage: S`. I am not sure that the output will be
  identital on all platforms: the order of the generators can change on a
  different architecture, and this would be reported as a broken doctest. If you
  have reasons to believe that it will work on all platform then it can stay,
  otherwise the test must be made platform-independent. This can be done by
  building the graph from the generators for instance. If you do not believe
  that it is worth checking (e.g. if it is already tested elsewhere) then you
  can just remove this line, or test something different.

- `regular_subgroup` given that the default behaviour is to return a boolean,
  shouldn't it be named `has_regular_subgroup` instead?

- about `is_cayley` returning generators: do you think that it is necessary to
  have this option, or should we let users call `.generators()` on the group
  object?

- `c, G, d, S` could you give more meaningful names to those variables? I
  guess that 'G' is alright (even though, in a Graph function...) but `d` and
  `S` could easily be `graph_to_group_map` and `generators`. Or anything else
  you might prefer.

- You do not need `\` at the end of the line when a `[({` is open and remains to
  be closed.

- Can this

  ```
  +                t = C[0].is_cayley(return_group=certificate)
  +                if certificate:
  +                    c, CG = t
  ```
  be replaced by that?

  ```
  +                c, CG = C[0].is_cayley(return_group=certificate)
  +                if certificate:
  ```
  The value `None` may be replaced by `None` uselessly, but that's not a big
  problem (if I don't get anything wrong)

- About `return tuple(out)` -- there is nothing wrong with this, though I
  don't think it is necessary to force a 'tuple'. This is no request to change
  it of course, it is fine as it is if you prefer it this way.

- It is better to call `self.degree()` than `len(self.domain())`.

Nathann

P.S.: Don't forget to set a ticket back to `needs_review` once you are done with the changes.



---

archive/issue_comments_283211.json:
```json
{
    "body": "**Reviewer:** Nathann Cohen",
    "created_at": "2016-01-14T09:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283211",
    "user": "https://github.com/nathanncohen"
}
```

**Reviewer:** Nathann Cohen



---

archive/issue_comments_283212.json:
```json
{
    "body": "<a id='comment:63'></a>\nHi!\n\nSome quick replies:\n\n> - About the doctest `sage: S`. I am not sure that the output will be\n>   identital on all platforms: the order of the generators can change on a\n>   different architecture, and this would be reported as a broken doctest. If you\n>   have reasons to believe that it will work on all platform then it can stay,\n>   otherwise the test must be made platform-independent. This can be done by\n>   building the graph from the generators for instance. If you do not believe\n>   that it is worth checking (e.g. if it is already tested elsewhere) then you\n>   can just remove this line, or test something different.\n\n\nYes, I was a bit worried about that. Anyway, this was intended more as a demonstration that the method works on non-simple graphs, so maybe it should be moved to the Examples section. Instead of printing out the generating set, maybe we should just print its length and the number of distinct elements, and maybe check that it contains the identity element.\n\n> - about `is_cayley` returning generators: do you think that it is necessary to\n>   have this option, or should we let users call `.generators()` on the group\n>   object?\n\n\nYes, because the generating set of a Cayley graph is not the same as the set of generators of a group. A trivial example would be a complete graph - its generating set as a Cayley graph is the whole group, which can of course be generated by some subset of its elements. For a disconnected Cayley graph, on the other hand, the generating set will not even generate the whole group.\n\nThis reminds me that I should probably add a further optimization: if a (simple) graph is connected and dense (say, vertex degree more than half the order), then it may be more efficient to check for Cayleyness of its complement (in case it is disconnected it will be more efficient, otherwise the same).\n\n> - Can this\n> \n>   ```\n>   +                t = C[0].is_cayley(return_group=certificate)\n>   +                if certificate:\n>   +                    c, CG = t\n>   ```\n>   be replaced by that?\n> \n>   ```\n>   +                c, CG = C[0].is_cayley(return_group=certificate)\n>   +                if certificate:\n>   ```\n>   The value `None` may be replaced by `None` uselessly, but that's not a big\n>   problem (if I don't get anything wrong)\n\n\nNo, because we are not guaranteed that a tuple will be returned.\n\n> - About `return tuple(out)` -- there is nothing wrong with this, though I\n>   don't think it is necessary to force a 'tuple'. This is no request to change\n>   it of course, it is fine as it is if you prefer it this way.\n\n\nTrue, but other methods returning multiple data also return tuples, so I think it should stay (IMO lists should be used when the size of the output is not predetermined, and its members have the same type).\n\nI agree with the comments that I haven't replied to. I'm a bit busy these days, so (anyone) feel free to implement these suggestions if you feel like it.\n\nJano\u0161",
    "created_at": "2016-01-14T12:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283212",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:63'></a>
Hi!

Some quick replies:

> - About the doctest `sage: S`. I am not sure that the output will be
>   identital on all platforms: the order of the generators can change on a
>   different architecture, and this would be reported as a broken doctest. If you
>   have reasons to believe that it will work on all platform then it can stay,
>   otherwise the test must be made platform-independent. This can be done by
>   building the graph from the generators for instance. If you do not believe
>   that it is worth checking (e.g. if it is already tested elsewhere) then you
>   can just remove this line, or test something different.


Yes, I was a bit worried about that. Anyway, this was intended more as a demonstration that the method works on non-simple graphs, so maybe it should be moved to the Examples section. Instead of printing out the generating set, maybe we should just print its length and the number of distinct elements, and maybe check that it contains the identity element.

> - about `is_cayley` returning generators: do you think that it is necessary to
>   have this option, or should we let users call `.generators()` on the group
>   object?


Yes, because the generating set of a Cayley graph is not the same as the set of generators of a group. A trivial example would be a complete graph - its generating set as a Cayley graph is the whole group, which can of course be generated by some subset of its elements. For a disconnected Cayley graph, on the other hand, the generating set will not even generate the whole group.

This reminds me that I should probably add a further optimization: if a (simple) graph is connected and dense (say, vertex degree more than half the order), then it may be more efficient to check for Cayleyness of its complement (in case it is disconnected it will be more efficient, otherwise the same).

> - Can this
> 
>   ```
>   +                t = C[0].is_cayley(return_group=certificate)
>   +                if certificate:
>   +                    c, CG = t
>   ```
>   be replaced by that?
> 
>   ```
>   +                c, CG = C[0].is_cayley(return_group=certificate)
>   +                if certificate:
>   ```
>   The value `None` may be replaced by `None` uselessly, but that's not a big
>   problem (if I don't get anything wrong)


No, because we are not guaranteed that a tuple will be returned.

> - About `return tuple(out)` -- there is nothing wrong with this, though I
>   don't think it is necessary to force a 'tuple'. This is no request to change
>   it of course, it is fine as it is if you prefer it this way.


True, but other methods returning multiple data also return tuples, so I think it should stay (IMO lists should be used when the size of the output is not predetermined, and its members have the same type).

I agree with the comments that I haven't replied to. I'm a bit busy these days, so (anyone) feel free to implement these suggestions if you feel like it.

Janoš



---

archive/issue_comments_283213.json:
```json
{
    "body": "<a id='comment:64'></a>\n> Yes, I was a bit worried about that. Anyway, this was intended more as a demonstration that the method works on non-simple graphs, so maybe it should be moved to the Examples section. Instead of printing out the generating set, maybe we should just print its length and the number of distinct elements, and maybe check that it contains the identity element.\n\n\nIf you meant it as a 'pedagogical' doctest, then there is an easy way out: just add a '# random' flag to the doctest.\n\nfile:///home/ncohen/.Sage/src/doc/output/html/en/developer/coding_basics.html#special-markup-to-influence-tests\n\n> Yes, because the generating set of a Cayley graph is not the same as the set of generators of a group.\n\n\nArg... Sorry. Not only I am an idiot, but I already asked the same question and you gave me the very same answer `>_<`\n\n> This reminds me that I should probably add a further optimization: if a (simple) graph is connected and dense (say, vertex degree more than half the order), then it may be more efficient to check for Cayleyness of its complement (in case it is disconnected it will be more efficient, otherwise the same).\n\n\nThe .density() and .complement() method raise exceptions on non-simple graphs. I think that it is better to not care about this, unless you really need those cases and the speedup is obvious.\n\n> No, because we are not guaranteed that a tuple will be returned.\n\n\nWeird. I thought you said in the doctest that a tuple will always be returned, whether the graph is a cayley graph or not, and that the additional values would be set to `None` if necessary.\n\n> True, but other methods returning multiple data also return tuples, so I think it should stay (IMO lists should be used when the size of the output is not predetermined, and its members have the same type).\n\n\n`O_o`\n\nOkay. Well. Tastes `:-P`\n\nNathann",
    "created_at": "2016-01-14T12:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283213",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:64'></a>
> Yes, I was a bit worried about that. Anyway, this was intended more as a demonstration that the method works on non-simple graphs, so maybe it should be moved to the Examples section. Instead of printing out the generating set, maybe we should just print its length and the number of distinct elements, and maybe check that it contains the identity element.


If you meant it as a 'pedagogical' doctest, then there is an easy way out: just add a '# random' flag to the doctest.

file:///home/ncohen/.Sage/src/doc/output/html/en/developer/coding_basics.html#special-markup-to-influence-tests

> Yes, because the generating set of a Cayley graph is not the same as the set of generators of a group.


Arg... Sorry. Not only I am an idiot, but I already asked the same question and you gave me the very same answer `>_<`

> This reminds me that I should probably add a further optimization: if a (simple) graph is connected and dense (say, vertex degree more than half the order), then it may be more efficient to check for Cayleyness of its complement (in case it is disconnected it will be more efficient, otherwise the same).


The .density() and .complement() method raise exceptions on non-simple graphs. I think that it is better to not care about this, unless you really need those cases and the speedup is obvious.

> No, because we are not guaranteed that a tuple will be returned.


Weird. I thought you said in the doctest that a tuple will always be returned, whether the graph is a cayley graph or not, and that the additional values would be set to `None` if necessary.

> True, but other methods returning multiple data also return tuples, so I think it should stay (IMO lists should be used when the size of the output is not predetermined, and its members have the same type).


`O_o`

Okay. Well. Tastes `:-P`

Nathann



---

archive/issue_comments_283214.json:
```json
{
    "body": "<a id='comment:65'></a>\nHi!\n\n> > This reminds me that I should probably add a further optimization: if a (simple) graph is connected and dense (say, vertex degree more than half the order), then it may be more efficient to check for Cayleyness of its complement (in case it is disconnected it will be more efficient, otherwise the same).\n\n> \n> The .density() and .complement() method raise exceptions on non-simple graphs. I think that it is better to not care about this, unless you really need those cases and the speedup is obvious.\n\n\nThat's why I said simple (and I hadn't thought out the implications of non-simple graphs). But yes, the denser the graph, the greater the probability that such a speedup will be achieved, and the greater potential of speedup in this case. In the case of multiple edges, this potential is smaller (the current method will be faster in general due to the potentially smaller automorphism group), and I agree that we should not even care about the cases when speedup is actually possible (e.g. when all multiedges appear with the same multiplicity).\n\n> > No, because we are not guaranteed that a tuple will be returned.\n\n> \n> Weird. I thought you said in the doctest that a tuple will always be returned, whether the graph is a cayley graph or not, and that the additional values would be set to `None` if necessary.\n\n\nA tuple will be returned whenever some form of certificate is requested, regardless of whether the graph is Cayley or not. What is being differentiated here is whether the group has been requested in the first place. Although if you prefer, a call to `is_cayley` could be made in each branch of the `if` statement.\n\nJano\u0161",
    "created_at": "2016-01-14T13:19:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283214",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:65'></a>
Hi!

> > This reminds me that I should probably add a further optimization: if a (simple) graph is connected and dense (say, vertex degree more than half the order), then it may be more efficient to check for Cayleyness of its complement (in case it is disconnected it will be more efficient, otherwise the same).

> 
> The .density() and .complement() method raise exceptions on non-simple graphs. I think that it is better to not care about this, unless you really need those cases and the speedup is obvious.


That's why I said simple (and I hadn't thought out the implications of non-simple graphs). But yes, the denser the graph, the greater the probability that such a speedup will be achieved, and the greater potential of speedup in this case. In the case of multiple edges, this potential is smaller (the current method will be faster in general due to the potentially smaller automorphism group), and I agree that we should not even care about the cases when speedup is actually possible (e.g. when all multiedges appear with the same multiplicity).

> > No, because we are not guaranteed that a tuple will be returned.

> 
> Weird. I thought you said in the doctest that a tuple will always be returned, whether the graph is a cayley graph or not, and that the additional values would be set to `None` if necessary.


A tuple will be returned whenever some form of certificate is requested, regardless of whether the graph is Cayley or not. What is being differentiated here is whether the group has been requested in the first place. Although if you prefer, a call to `is_cayley` could be made in each branch of the `if` statement.

Janoš



---

archive/issue_comments_283215.json:
```json
{
    "body": "<a id='comment:66'></a>\nYooooooo,\n\n> A tuple will be returned whenever some form of certificate is requested, regardless of whether the graph is Cayley or not. What is being differentiated here is whether the group has been requested in the first place. \n\n\nRight right, sorry.\n\n> Although if you prefer, a call to `is_cayley` could be made in each branch of the `if` statement.\n\n\nThe simpler the better, that's all I am looking for.\n\nNathann",
    "created_at": "2016-01-14T13:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283215",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:66'></a>
Yooooooo,

> A tuple will be returned whenever some form of certificate is requested, regardless of whether the graph is Cayley or not. What is being differentiated here is whether the group has been requested in the first place. 


Right right, sorry.

> Although if you prefer, a call to `is_cayley` could be made in each branch of the `if` statement.


The simpler the better, that's all I am looking for.

Nathann



---

archive/issue_comments_283216.json:
```json
{
    "body": "**Changing commit** from \"[8685628455d2364bbb1896bf28e18c637bfab50c](https://github.com/sagemath/sagetrac-mirror/commit/8685628455d2364bbb1896bf28e18c637bfab50c)\" to \"[95e34eecb315bcd0fded9c4f02a22b8c85e0ca1f](https://github.com/sagemath/sagetrac-mirror/commit/95e34eecb315bcd0fded9c4f02a22b8c85e0ca1f)\".",
    "created_at": "2016-01-23T15:10:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8685628455d2364bbb1896bf28e18c637bfab50c](https://github.com/sagemath/sagetrac-mirror/commit/8685628455d2364bbb1896bf28e18c637bfab50c)" to "[95e34eecb315bcd0fded9c4f02a22b8c85e0ca1f](https://github.com/sagemath/sagetrac-mirror/commit/95e34eecb315bcd0fded9c4f02a22b8c85e0ca1f)".



---

archive/issue_comments_283217.json:
```json
{
    "body": "<a id='comment:67'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95e34eecb315bcd0fded9c4f02a22b8c85e0ca1f\">95e34ee</a></td><td><code>Apply Nathann's suggestions</code></td></tr></table>\n",
    "created_at": "2016-01-23T15:10:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283217",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:67'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95e34eecb315bcd0fded9c4f02a22b8c85e0ca1f">95e34ee</a></td><td><code>Apply Nathann's suggestions</code></td></tr></table>




---

archive/issue_comments_283218.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-This ticket adds a method `is_cayley` to `GenericGraph`. This method checks whether a graph or digraph (which may or may not be connected) is a Cayley graph. If a certificate is requested, it also returns a permutation group and a generator set which generate this graph.\n+This ticket adds a method `is_cayley` to `GenericGraph`. This method checks whether a graph or digraph (which may or may not be connected) is a Cayley graph. If requested, it also returns a permutation group, a mapping from vertices to group elements, and a generating set of the Cayley graph.\n \n-A method `has_transitive_subgroup` has also been added to `PermutationGroup_generic`. For a given order, it determines whether the group has a subgroup of this order, and returns it if requested. If no order is given, it is taken to be the order of the group itself (i.e., the method then simply tells whether the group is transitive).\n+A method `has_regular_subgroup` has also been added to `PermutationGroup_generic`. It determines whether the group has a regular subgroup, and returns it if requested.\n``````\n",
    "created_at": "2016-01-23T15:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283218",
    "user": "https://github.com/jaanos"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-This ticket adds a method `is_cayley` to `GenericGraph`. This method checks whether a graph or digraph (which may or may not be connected) is a Cayley graph. If a certificate is requested, it also returns a permutation group and a generator set which generate this graph.
+This ticket adds a method `is_cayley` to `GenericGraph`. This method checks whether a graph or digraph (which may or may not be connected) is a Cayley graph. If requested, it also returns a permutation group, a mapping from vertices to group elements, and a generating set of the Cayley graph.
 
-A method `has_transitive_subgroup` has also been added to `PermutationGroup_generic`. For a given order, it determines whether the group has a subgroup of this order, and returns it if requested. If no order is given, it is taken to be the order of the group itself (i.e., the method then simply tells whether the group is transitive).
+A method `has_regular_subgroup` has also been added to `PermutationGroup_generic`. It determines whether the group has a regular subgroup, and returns it if requested.
``````




---

archive/issue_comments_283219.json:
```json
{
    "body": "<a id='comment:68'></a>\nHi!\n\nI have implemented your suggestions. Some comments:\n\n> - About the doctest `sage: S`. I am not sure that the output will be\n>   identital on all platforms: the order of the generators can change on a\n>   different architecture, and this would be reported as a broken doctest. If you\n>   have reasons to believe that it will work on all platform then it can stay,\n>   otherwise the test must be made platform-independent. This can be done by\n>   building the graph from the generators for instance. If you do not believe\n>   that it is worth checking (e.g. if it is already tested elsewhere) then you\n>   can just remove this line, or test something different.\n\n\nI've moved it to the Examples section and added a `# random` flag. I've also added this flag to the doctests in `permgroup.py` where the generators of a group are output.\n\n> - `regular_subgroup` given that the default behaviour is to return a boolean,\n>   shouldn't it be named `has_regular_subgroup` instead?\n\n\nActually, the default behaviour was to return a group, but I changed it now. It seems more appropriate this way, since the method will return *a* regular subgroup, not *the* regular subgroup (if there is one in the first place). Now, the returned group (if requested) can be thought of as a certificate. Anyway, `is_cayley` now explicitly specifies the `return_group` parameter of `has_regular_subgroup` in both cases.\n\n> - `c, G, d, S` could you give more meaningful names to those variables? I\n>   guess that 'G' is alright (even though, in a Graph function...) but `d` and\n>   `S` could easily be `graph_to_group_map` and `generators`. Or anything else\n>   you might prefer.\n\n\nOK, I have now changed `map`, `d` and `S` to `compute_map`, `map` and `genset`, respectively.\n\n> - You do not need `\\` at the end of the line when a `[({` is open and remains to\n>   be closed.\n\n\nTrue, but the `\\` in line 20891 of `generic_graph.py` is actually outside any parentheses.\n\nJano\u0161",
    "created_at": "2016-01-23T15:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283219",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:68'></a>
Hi!

I have implemented your suggestions. Some comments:

> - About the doctest `sage: S`. I am not sure that the output will be
>   identital on all platforms: the order of the generators can change on a
>   different architecture, and this would be reported as a broken doctest. If you
>   have reasons to believe that it will work on all platform then it can stay,
>   otherwise the test must be made platform-independent. This can be done by
>   building the graph from the generators for instance. If you do not believe
>   that it is worth checking (e.g. if it is already tested elsewhere) then you
>   can just remove this line, or test something different.


I've moved it to the Examples section and added a `# random` flag. I've also added this flag to the doctests in `permgroup.py` where the generators of a group are output.

> - `regular_subgroup` given that the default behaviour is to return a boolean,
>   shouldn't it be named `has_regular_subgroup` instead?


Actually, the default behaviour was to return a group, but I changed it now. It seems more appropriate this way, since the method will return *a* regular subgroup, not *the* regular subgroup (if there is one in the first place). Now, the returned group (if requested) can be thought of as a certificate. Anyway, `is_cayley` now explicitly specifies the `return_group` parameter of `has_regular_subgroup` in both cases.

> - `c, G, d, S` could you give more meaningful names to those variables? I
>   guess that 'G' is alright (even though, in a Graph function...) but `d` and
>   `S` could easily be `graph_to_group_map` and `generators`. Or anything else
>   you might prefer.


OK, I have now changed `map`, `d` and `S` to `compute_map`, `map` and `genset`, respectively.

> - You do not need `\` at the end of the line when a `[({` is open and remains to
>   be closed.


True, but the `\` in line 20891 of `generic_graph.py` is actually outside any parentheses.

Janoš



---

archive/issue_events_179548.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2016-01-23T15:25:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179548"
}
```



---

archive/issue_events_179549.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2016-01-23T15:25:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179549"
}
```



---

archive/issue_comments_283220.json:
```json
{
    "body": "<a id='comment:69'></a>\nHellooooooo,\n\n> True, but the `\\` in line 20891 of `generic_graph.py` is actually outside any parentheses.\n\n\nSigh... Right. You write extremely clean code, y'know?\n\nI re-read everything and added a couple of 'default values' for the arguments in the INPUT section, in a commit at public/19586. You can change the branch's name on this ticket if you agree with it.\n\nDima? Could you please review the code of `_regular_subgroup_gap`? I reviewed everything else but I'm not knowledgeable for that.\n\nIf this part is good for you, then this ticket can be changed to `positive_review`.\n\nTHaaaaaaaaaaaaanks,\n\nNathann",
    "created_at": "2016-01-23T16:09:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283220",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:69'></a>
Hellooooooo,

> True, but the `\` in line 20891 of `generic_graph.py` is actually outside any parentheses.


Sigh... Right. You write extremely clean code, y'know?

I re-read everything and added a couple of 'default values' for the arguments in the INPUT section, in a commit at public/19586. You can change the branch's name on this ticket if you agree with it.

Dima? Could you please review the code of `_regular_subgroup_gap`? I reviewed everything else but I'm not knowledgeable for that.

If this part is good for you, then this ticket can be changed to `positive_review`.

THaaaaaaaaaaaaanks,

Nathann



---

archive/issue_comments_283221.json:
```json
{
    "body": "**Changing commit** from \"[95e34eecb315bcd0fded9c4f02a22b8c85e0ca1f](https://github.com/sagemath/sagetrac-mirror/commit/95e34eecb315bcd0fded9c4f02a22b8c85e0ca1f)\" to \"[a58a7348bc022f39bf68383b70400e8b7f5b268b](https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b)\".",
    "created_at": "2016-01-23T19:07:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283221",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[95e34eecb315bcd0fded9c4f02a22b8c85e0ca1f](https://github.com/sagemath/sagetrac-mirror/commit/95e34eecb315bcd0fded9c4f02a22b8c85e0ca1f)" to "[a58a7348bc022f39bf68383b70400e8b7f5b268b](https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b)".



---

archive/issue_comments_283222.json:
```json
{
    "body": "<a id='comment:70'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34f921203675100401cd514d41e5605d0bfb9683\">34f9212</a></td><td><code>Check for Cayleyness of the complement if the graph is simple with density > 1/2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5b8bc7aab040920ba51c9a250b5600fccb4e629\">d5b8bc7</a></td><td><code>trac #19586: Merged with 7.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/278bb474d1d17f15f673e9be2e41cca144aacea0\">278bb47</a></td><td><code>trac #19586: Review</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b\">a58a734</a></td><td><code>Merge branch 'public/19586' into is_cayley_graph-gap</code></td></tr></table>\n",
    "created_at": "2016-01-23T19:07:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283222",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:70'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34f921203675100401cd514d41e5605d0bfb9683">34f9212</a></td><td><code>Check for Cayleyness of the complement if the graph is simple with density > 1/2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5b8bc7aab040920ba51c9a250b5600fccb4e629">d5b8bc7</a></td><td><code>trac #19586: Merged with 7.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/278bb474d1d17f15f673e9be2e41cca144aacea0">278bb47</a></td><td><code>trac #19586: Review</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b">a58a734</a></td><td><code>Merge branch 'public/19586' into is_cayley_graph-gap</code></td></tr></table>




---

archive/issue_comments_283223.json:
```json
{
    "body": "<a id='comment:71'></a>\nHi!\n\n> > True, but the `\\` in line 20891 of `generic_graph.py` is actually outside any parentheses.\n\n> \n> Sigh... Right. You write extremely clean code, y'know?\n\n\nThanks :)\n\n> I re-read everything and added a couple of 'default values' for the arguments in the INPUT section, in a commit at public/19586. You can change the branch's name on this ticket if you agree with it.\n\n\nThank you - I've also added the optimization for dense simple graphs that I was talking about.\n\nJano\u0161",
    "created_at": "2016-01-23T19:10:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283223",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:71'></a>
Hi!

> > True, but the `\` in line 20891 of `generic_graph.py` is actually outside any parentheses.

> 
> Sigh... Right. You write extremely clean code, y'know?


Thanks :)

> I re-read everything and added a couple of 'default values' for the arguments in the INPUT section, in a commit at public/19586. You can change the branch's name on this ticket if you agree with it.


Thank you - I've also added the optimization for dense simple graphs that I was talking about.

Janoš



---

archive/issue_comments_283224.json:
```json
{
    "body": "<a id='comment:72'></a>\nI probably don't understand something, but why is the existence of a regular subgroup sufficient for the graph to be Cayley? Indeed, one seem to need in addition that this subgroup is generated by the elements corresponding to the neighbours of a vertex.\n\nE.g. I can construct a cubic, arc-transitive, digraph on 16 vertices, with a regular subgroup being elementary abelian, i.e. in particular having 4 generators. The underlying graph has degree 6, so it is OK as a Cayley graph, but not OK as a Cayley digraph, as 3 generators (the out-degree of the digraph)  are not enough!\n  \n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34f921203675100401cd514d41e5605d0bfb9683\">34f9212</a></td><td><code>Check for Cayleyness of the complement if the graph is simple with density > 1/2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5b8bc7aab040920ba51c9a250b5600fccb4e629\">d5b8bc7</a></td><td><code>trac #19586: Merged with 7.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/278bb474d1d17f15f673e9be2e41cca144aacea0\">278bb47</a></td><td><code>trac #19586: Review</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b\">a58a734</a></td><td><code>Merge branch 'public/19586' into is_cayley_graph-gap</code></td></tr></table>\n",
    "created_at": "2016-01-23T19:40:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283224",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:72'></a>
I probably don't understand something, but why is the existence of a regular subgroup sufficient for the graph to be Cayley? Indeed, one seem to need in addition that this subgroup is generated by the elements corresponding to the neighbours of a vertex.

E.g. I can construct a cubic, arc-transitive, digraph on 16 vertices, with a regular subgroup being elementary abelian, i.e. in particular having 4 generators. The underlying graph has degree 6, so it is OK as a Cayley graph, but not OK as a Cayley digraph, as 3 generators (the out-degree of the digraph)  are not enough!
  
---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34f921203675100401cd514d41e5605d0bfb9683">34f9212</a></td><td><code>Check for Cayleyness of the complement if the graph is simple with density > 1/2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5b8bc7aab040920ba51c9a250b5600fccb4e629">d5b8bc7</a></td><td><code>trac #19586: Merged with 7.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/278bb474d1d17f15f673e9be2e41cca144aacea0">278bb47</a></td><td><code>trac #19586: Review</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b">a58a734</a></td><td><code>Merge branch 'public/19586' into is_cayley_graph-gap</code></td></tr></table>




---

archive/issue_events_179550.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-01-23T19:40:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179550"
}
```



---

archive/issue_events_179551.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-01-23T19:40:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179551"
}
```



---

archive/issue_events_179552.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-01-23T19:40:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179552"
}
```



---

archive/issue_events_179553.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-01-23T19:40:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179553"
}
```



---

archive/issue_comments_283225.json:
```json
{
    "body": "<a id='comment:73'></a>\nHmmmmmmm `:-/`",
    "created_at": "2016-01-23T20:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283225",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:73'></a>
Hmmmmmmm `:-/`



---

archive/issue_comments_283226.json:
```json
{
    "body": "<a id='comment:74'></a>\nIt's true that almost everybody seems to suppose that a cayley graph is connected.",
    "created_at": "2016-01-23T20:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283226",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:74'></a>
It's true that almost everybody seems to suppose that a cayley graph is connected.



---

archive/issue_comments_283227.json:
```json
{
    "body": "<a id='comment:75'></a>\nShould this raise an exception, by the way? `:-/`\n\n```\nsage: groups.permutation.Dihedral(4).cayley_graph(generators=[(1,2,3,4)]).show()\n```\n\nNathann",
    "created_at": "2016-01-23T21:06:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283227",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:75'></a>
Should this raise an exception, by the way? `:-/`

```
sage: groups.permutation.Dihedral(4).cayley_graph(generators=[(1,2,3,4)]).show()
```

Nathann



---

archive/issue_comments_283228.json:
```json
{
    "body": "<a id='comment:76'></a>\nReplying to [ncohen](#comment%3A74):\n> It's true that almost everybody seems to suppose that a cayley graph is connected. \n\n\nI think I can construct a connected cubic arc-transitive digraph on 2<sup>10</sup> vertices, and thus a connected vertex-transitive graph of degree 6, that has a regular subgroup of automorphisms that is elementary abelian, i.e. needs 10 generators to be generated.  Thus this graph won't be a Cayley for this subgroup. But this code would happily say that the graph is Cayley...",
    "created_at": "2016-01-23T21:08:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283228",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:76'></a>
Replying to [ncohen](#comment%3A74):
> It's true that almost everybody seems to suppose that a cayley graph is connected. 


I think I can construct a connected cubic arc-transitive digraph on 2<sup>10</sup> vertices, and thus a connected vertex-transitive graph of degree 6, that has a regular subgroup of automorphisms that is elementary abelian, i.e. needs 10 generators to be generated.  Thus this graph won't be a Cayley for this subgroup. But this code would happily say that the graph is Cayley...



---

archive/issue_comments_283229.json:
```json
{
    "body": "<a id='comment:77'></a>\nI don't get it: if what you say were true, it would mean that the action of that regular subgroup upon the edges incident to a fixed vertex would yield a disconnected 6-regular graph.\n\nOn the other hand, this 6-regular disconnected graph is a subgraph of the connected 6-regular graph you started from, so ... no?\n\nNathann",
    "created_at": "2016-01-23T21:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283229",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:77'></a>
I don't get it: if what you say were true, it would mean that the action of that regular subgroup upon the edges incident to a fixed vertex would yield a disconnected 6-regular graph.

On the other hand, this 6-regular disconnected graph is a subgraph of the connected 6-regular graph you started from, so ... no?

Nathann



---

archive/issue_comments_283230.json:
```json
{
    "body": "<a id='comment:78'></a>\nHi!\n\nLet's see... if the automorphism group has a regular subgroup `G`, then we can pick any vertex `w` and construct a bijective mapping that maps a group element `g` to the vertex `g^w`. Now, suppose we have an arc `uv` such that group elements `g` and `h` map to `u` and `v`, respectively. Then we may label the arc by `e = g^-1 h`, and any automorphism `a` from `G` will map `uv = g^w h^w` to `(ag)^w (ah)^w`, i.e. an arc with the same label. Since such a graph is necessarily vertex-transitive, it follows that the (multi)set of labels on arcs starting in a vertex is independent of the choice of said vertex. The Cayley graph of `G` with said (multi)set as its generating set is then isomorphic to our graph.\n\nDo you find any flaw in the above argument? Also, can you provide the graphs which you claim to be counterexamples?\n\nJano\u0161",
    "created_at": "2016-01-23T21:40:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283230",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:78'></a>
Hi!

Let's see... if the automorphism group has a regular subgroup `G`, then we can pick any vertex `w` and construct a bijective mapping that maps a group element `g` to the vertex `g^w`. Now, suppose we have an arc `uv` such that group elements `g` and `h` map to `u` and `v`, respectively. Then we may label the arc by `e = g^-1 h`, and any automorphism `a` from `G` will map `uv = g^w h^w` to `(ag)^w (ah)^w`, i.e. an arc with the same label. Since such a graph is necessarily vertex-transitive, it follows that the (multi)set of labels on arcs starting in a vertex is independent of the choice of said vertex. The Cayley graph of `G` with said (multi)set as its generating set is then isomorphic to our graph.

Do you find any flaw in the above argument? Also, can you provide the graphs which you claim to be counterexamples?

Janoš



---

archive/issue_comments_283231.json:
```json
{
    "body": "<a id='comment:79'></a>\nReplying to [ncohen](#comment%3A77):\n> I don't get it: if what you say were true, it would mean that the action of that regular subgroup upon the edges incident to a fixed vertex would yield a disconnected 6-regular graph.\n\n\nno, it would not, it would give the whole graph. But the subgroup will not be generated by the \nneighbours of the identity in the graph. Indeed, the minimal degree of a [Cayley graph](https://en.wikipedia.org/wiki/Cayley_graph) of this group is 10 (as one needs at least 10 generators). Thus this graph is not a Cayley graph of this group.",
    "created_at": "2016-01-23T21:44:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283231",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:79'></a>
Replying to [ncohen](#comment%3A77):
> I don't get it: if what you say were true, it would mean that the action of that regular subgroup upon the edges incident to a fixed vertex would yield a disconnected 6-regular graph.


no, it would not, it would give the whole graph. But the subgroup will not be generated by the 
neighbours of the identity in the graph. Indeed, the minimal degree of a [Cayley graph](https://en.wikipedia.org/wiki/Cayley_graph) of this group is 10 (as one needs at least 10 generators). Thus this graph is not a Cayley graph of this group.



---

archive/issue_comments_283232.json:
```json
{
    "body": "<a id='comment:80'></a>\n> no, it would not, it would give the whole graph.\n\n\nArg. We miss each other: I use a different observation: because you tell me that your group cannot be generated by <10 elements, then surely when your compute the orbit of those edges there cannot be a *path* from every vertex to every other. Because otherwise, well, your 6 vertices would be sufficient to generate the subgroup.\n\nSo it is both disconnected (by this observation) and connected (by yours) and so it is impossible?...\n\nNathann",
    "created_at": "2016-01-23T21:47:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283232",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:80'></a>
> no, it would not, it would give the whole graph.


Arg. We miss each other: I use a different observation: because you tell me that your group cannot be generated by <10 elements, then surely when your compute the orbit of those edges there cannot be a *path* from every vertex to every other. Because otherwise, well, your 6 vertices would be sufficient to generate the subgroup.

So it is both disconnected (by this observation) and connected (by yours) and so it is impossible?...

Nathann



---

archive/issue_comments_283233.json:
```json
{
    "body": "<a id='comment:81'></a>\n> Do you find any flaw in the above argument? Also, can you provide the graphs which you claim to be counterexamples?\n\n\nI agree with you everywhere short of one thing: if the graph you started with is not connected, then the set you are talking about is not a *generating* set, e.g. : take the disjoint union of two cliques of size n, and as a regular subgroup take two disjoint cycles of order n plus a reflections that exchanges both.\n\nNathann",
    "created_at": "2016-01-23T21:51:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283233",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:81'></a>
> Do you find any flaw in the above argument? Also, can you provide the graphs which you claim to be counterexamples?


I agree with you everywhere short of one thing: if the graph you started with is not connected, then the set you are talking about is not a *generating* set, e.g. : take the disjoint union of two cliques of size n, and as a regular subgroup take two disjoint cycles of order n plus a reflections that exchanges both.

Nathann



---

archive/issue_comments_283234.json:
```json
{
    "body": "<a id='comment:82'></a>\nReplying to [ncohen](#comment%3A81):\n> > Do you find any flaw in the above argument? Also, can you provide the graphs which you claim to be counterexamples?\n\n> \n> I agree with you everywhere short of one thing: if the graph you started with is not connected, then the set you are talking about is not a *generating* set, e.g. : take the disjoint union of two cliques of size n, and as a regular subgroup take two disjoint cycles of order n plus a reflections that exchanges both.\n\n\nIn this case the set does not generate the group, but it still is a generating set in the sense that it generates the graph. In any case, disconnected graphs are given a special treatment, checking Cayleyness only for a connected component.\n\nNow, whether we allow Cayley graphs to be disconnected is just a matter of definition. I know that usually they are assumed to be connected, but in my opinion we should allow disconnected graphs to be called Cayley (it even allows this method to make optimizations by looking at complements). So the example you gave above is fine without raising an exception IMO.\n\nJano\u0161",
    "created_at": "2016-01-23T22:08:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283234",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:82'></a>
Replying to [ncohen](#comment%3A81):
> > Do you find any flaw in the above argument? Also, can you provide the graphs which you claim to be counterexamples?

> 
> I agree with you everywhere short of one thing: if the graph you started with is not connected, then the set you are talking about is not a *generating* set, e.g. : take the disjoint union of two cliques of size n, and as a regular subgroup take two disjoint cycles of order n plus a reflections that exchanges both.


In this case the set does not generate the group, but it still is a generating set in the sense that it generates the graph. In any case, disconnected graphs are given a special treatment, checking Cayleyness only for a connected component.

Now, whether we allow Cayley graphs to be disconnected is just a matter of definition. I know that usually they are assumed to be connected, but in my opinion we should allow disconnected graphs to be called Cayley (it even allows this method to make optimizations by looking at complements). So the example you gave above is fine without raising an exception IMO.

Janoš



---

archive/issue_comments_283235.json:
```json
{
    "body": "<a id='comment:83'></a>\nReplying to [jaanos](#comment%3A78):\n\n> Let's see... if the automorphism group has a regular subgroup `G`, then we can pick any vertex `w` and construct a bijective mapping that maps a group element `g` to the vertex `g^w`. Now, suppose we have an arc `uv` such that group elements `g` and `h` map to `u` and `v`, respectively. Then we may label the arc by `e = g^-1 h`, and any automorphism `a` from `G` will map `uv = g^w h^w` to `(ag)^w (ah)^w`, i.e. an arc with the same label. Since such a graph is necessarily vertex-transitive, it follows that the (multi)set of labels on arcs starting in a vertex is independent of the choice of said vertex. The Cayley graph of `G` with said (multi)set as its generating set is then isomorphic to our graph.\n\n\n> Do you find any flaw in the above argument?\n\n\nit is certainly true that you can assume w=1. So you have the neighbours of 1 in the graph (with its vertices labelled by the elements of G) say g<sub>1</sub>,...,g<sub>k</sub>. Now you need an argument that g<sub>1</sub>,...,g<sub>k</sub> generate G. I don't see it in what you wrote above.\n \n> Also, can you provide the graphs which you claim to be counterexamples?\n\nI'll try. (Or show me that they don't exist...)",
    "created_at": "2016-01-23T22:46:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283235",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:83'></a>
Replying to [jaanos](#comment%3A78):

> Let's see... if the automorphism group has a regular subgroup `G`, then we can pick any vertex `w` and construct a bijective mapping that maps a group element `g` to the vertex `g^w`. Now, suppose we have an arc `uv` such that group elements `g` and `h` map to `u` and `v`, respectively. Then we may label the arc by `e = g^-1 h`, and any automorphism `a` from `G` will map `uv = g^w h^w` to `(ag)^w (ah)^w`, i.e. an arc with the same label. Since such a graph is necessarily vertex-transitive, it follows that the (multi)set of labels on arcs starting in a vertex is independent of the choice of said vertex. The Cayley graph of `G` with said (multi)set as its generating set is then isomorphic to our graph.


> Do you find any flaw in the above argument?


it is certainly true that you can assume w=1. So you have the neighbours of 1 in the graph (with its vertices labelled by the elements of G) say g<sub>1</sub>,...,g<sub>k</sub>. Now you need an argument that g<sub>1</sub>,...,g<sub>k</sub> generate G. I don't see it in what you wrote above.
 
> Also, can you provide the graphs which you claim to be counterexamples?

I'll try. (Or show me that they don't exist...)



---

archive/issue_comments_283236.json:
```json
{
    "body": "<a id='comment:84'></a>\nReplying to [dimpase](#comment%3A83):\n> it is certainly true that you can assume w=1. So you have the neighbours of 1 in the graph (with its vertices labelled by the elements of G) say g<sub>1</sub>,...,g<sub>k</sub>. Now you need an argument that g<sub>1</sub>,...,g<sub>k</sub> generate G. I don't see it in what you wrote above.\n\n\nIf the graph is connected, they clearly do (if the graph is directed, vertex-transitivity then implies that it is also strongly connected). But they don't need to generate the group in the general case - it suffices that we get an isomorphic graph from the Cayley construction.\n\nJano\u0161",
    "created_at": "2016-01-23T23:12:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283236",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:84'></a>
Replying to [dimpase](#comment%3A83):
> it is certainly true that you can assume w=1. So you have the neighbours of 1 in the graph (with its vertices labelled by the elements of G) say g<sub>1</sub>,...,g<sub>k</sub>. Now you need an argument that g<sub>1</sub>,...,g<sub>k</sub> generate G. I don't see it in what you wrote above.


If the graph is connected, they clearly do (if the graph is directed, vertex-transitivity then implies that it is also strongly connected). But they don't need to generate the group in the general case - it suffices that we get an isomorphic graph from the Cayley construction.

Janoš



---

archive/issue_events_179554.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-01-23T23:29:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179554"
}
```



---

archive/issue_events_179555.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-01-23T23:29:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179555"
}
```



---

archive/issue_comments_283237.json:
```json
{
    "body": "<a id='comment:85'></a>\nReplying to [jaanos](#comment%3A84):\n> Replying to [dimpase](#comment%3A83):\n> > it is certainly true that you can assume w=1. So you have the neighbours of 1 in the graph (with its vertices labelled by the elements of G) say g<sub>1</sub>,...,g<sub>k</sub>. Now you need an argument that g<sub>1</sub>,...,g<sub>k</sub> generate G. I don't see it in what you wrote above.\n\n> \n> If the graph is connected, they clearly do (if the graph is directed, vertex-transitivity then implies that it is also strongly connected).  \n\n\nAh, right. Sorry, I'm not very bright tonight. It's all good.",
    "created_at": "2016-01-23T23:29:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283237",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:85'></a>
Replying to [jaanos](#comment%3A84):
> Replying to [dimpase](#comment%3A83):
> > it is certainly true that you can assume w=1. So you have the neighbours of 1 in the graph (with its vertices labelled by the elements of G) say g<sub>1</sub>,...,g<sub>k</sub>. Now you need an argument that g<sub>1</sub>,...,g<sub>k</sub> generate G. I don't see it in what you wrote above.

> 
> If the graph is connected, they clearly do (if the graph is directed, vertex-transitivity then implies that it is also strongly connected).  


Ah, right. Sorry, I'm not very bright tonight. It's all good.



---

archive/issue_events_179556.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2016-01-24T08:37:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179556"
}
```



---

archive/issue_events_179557.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2016-01-24T08:37:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179557"
}
```



---

archive/issue_comments_283238.json:
```json
{
    "body": "<a id='comment:86'></a>\n> Now, whether we allow Cayley graphs to be disconnected is just a matter of definition.\n\n\nHmmm... I'm sorry to switch this ticket back but I do not think that we should allow that. From what I know (which is very few) I also believe that your definition is better, but when there is a widespread definition of something then Sage *must* follow it. Corner-cases are okay when the definitions does not tell, but.. Well, what if people start counting those graphs, or filter only cayley graphs, and stuff?\n\nI believe we should stick to the seemingly widespread definition and only allow connected ones.\n\nIt is particularly unpleasant because of the line from [comment:75]. Right now the `.cayley_graph` command outputs disconnected graphs, thus somebody will complain eventually that it does not always return cayley graphs `>_<`\n\nNathann",
    "created_at": "2016-01-24T08:37:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283238",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:86'></a>
> Now, whether we allow Cayley graphs to be disconnected is just a matter of definition.


Hmmm... I'm sorry to switch this ticket back but I do not think that we should allow that. From what I know (which is very few) I also believe that your definition is better, but when there is a widespread definition of something then Sage *must* follow it. Corner-cases are okay when the definitions does not tell, but.. Well, what if people start counting those graphs, or filter only cayley graphs, and stuff?

I believe we should stick to the seemingly widespread definition and only allow connected ones.

It is particularly unpleasant because of the line from [comment:75]. Right now the `.cayley_graph` command outputs disconnected graphs, thus somebody will complain eventually that it does not always return cayley graphs `>_<`

Nathann



---

archive/issue_comments_283239.json:
```json
{
    "body": "<a id='comment:87'></a>\nHi!\n\nReplying to [ncohen](#comment%3A86):\n> I believe we should stick to the seemingly widespread definition and only allow connected ones.\n\n\nI see... but an easy solution to this would be to add an `allow_disconnected` parameter. Then the recursive call on the complement would set this to `True` - the original setting only matters for the initial graph, anyway.\n\nWhat about non-simple graphs? I don't think the definitions say much about those, so we're probably good? Although the Wikipedia article linked above does say that a Cayley graph does not contain loops...\n\nJano\u0161",
    "created_at": "2016-01-24T11:24:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283239",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:87'></a>
Hi!

Replying to [ncohen](#comment%3A86):
> I believe we should stick to the seemingly widespread definition and only allow connected ones.


I see... but an easy solution to this would be to add an `allow_disconnected` parameter. Then the recursive call on the complement would set this to `True` - the original setting only matters for the initial graph, anyway.

What about non-simple graphs? I don't think the definitions say much about those, so we're probably good? Although the Wikipedia article linked above does say that a Cayley graph does not contain loops...

Janoš



---

archive/issue_comments_283240.json:
```json
{
    "body": "**Changing branch** from \"[u/jaanos/add_is_cayley_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/add_is_cayley_graph)\" to \"[a58a7348bc022f39bf68383b70400e8b7f5b268b](https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b)\".",
    "created_at": "2016-01-24T12:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283240",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jaanos/add_is_cayley_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/add_is_cayley_graph)" to "[a58a7348bc022f39bf68383b70400e8b7f5b268b](https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b)".



---

archive/issue_events_179558.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-24T12:52:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179558"
}
```



---

archive/issue_events_179559.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-24T12:52:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179559"
}
```



---

archive/issue_comments_283241.json:
```json
{
    "body": "**Changing commit** from \"[a58a7348bc022f39bf68383b70400e8b7f5b268b](https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b)\" to \"\".",
    "created_at": "2016-01-24T12:55:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283241",
    "user": "https://github.com/vbraun"
}
```

**Changing commit** from "[a58a7348bc022f39bf68383b70400e8b7f5b268b](https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b)" to "".



---

archive/issue_events_179560.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-24T12:55:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179560"
}
```



---

archive/issue_events_179561.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-24T12:55:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179561"
}
```



---

archive/issue_comments_283242.json:
```json
{
    "body": "**Changing branch** from \"[a58a7348bc022f39bf68383b70400e8b7f5b268b](https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b)\" to \"[u/jaanos/a58a7348bc022f39bf68383b70400e8b7f5b268b](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/a58a7348bc022f39bf68383b70400e8b7f5b268b)\".",
    "created_at": "2016-01-24T14:37:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283242",
    "user": "https://github.com/jaanos"
}
```

**Changing branch** from "[a58a7348bc022f39bf68383b70400e8b7f5b268b](https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b)" to "[u/jaanos/a58a7348bc022f39bf68383b70400e8b7f5b268b](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/a58a7348bc022f39bf68383b70400e8b7f5b268b)".



---

archive/issue_comments_283243.json:
```json
{
    "body": "<a id='comment:91'></a>\nHi all!\n\nI've added an `allow_disconnected` parameter. I hope it's OK this way.\n\nBy the way, is there any reason why the milestone has been changed to sage-7.2 when 7.1 has not been released yet?\n\nJano\u0161\n\n---\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95dfa64264bb0e6ec9122e5ce458a5000d48bc3d\">95dfa64</a></td><td><code>Add a doctest and some comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4aaf3014fee5bb08d861636908d6733047d4a869\">4aaf301</a></td><td><code>Rename has_transitive_subgroup to transitive_subgroup and add helper function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2\">382c0f2</a></td><td><code>Rename transitive_subgroup to regular_subgroup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8685628455d2364bbb1896bf28e18c637bfab50c\">8685628</a></td><td><code>Replace certificate with return_group, mapping and generators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95e34eecb315bcd0fded9c4f02a22b8c85e0ca1f\">95e34ee</a></td><td><code>Apply Nathann's suggestions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34f921203675100401cd514d41e5605d0bfb9683\">34f9212</a></td><td><code>Check for Cayleyness of the complement if the graph is simple with density > 1/2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5b8bc7aab040920ba51c9a250b5600fccb4e629\">d5b8bc7</a></td><td><code>trac #19586: Merged with 7.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/278bb474d1d17f15f673e9be2e41cca144aacea0\">278bb47</a></td><td><code>trac #19586: Review</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b\">a58a734</a></td><td><code>Merge branch 'public/19586' into is_cayley_graph-gap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6680e75cd77ffc40e0101b067d57074077f7aad\">c6680e7</a></td><td><code>Do not consider disconnected graphs for Cayleyness unless explicitly requested</code></td></tr></table>\n",
    "created_at": "2016-01-24T14:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283243",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:91'></a>
Hi all!

I've added an `allow_disconnected` parameter. I hope it's OK this way.

By the way, is there any reason why the milestone has been changed to sage-7.2 when 7.1 has not been released yet?

Janoš

---
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95dfa64264bb0e6ec9122e5ce458a5000d48bc3d">95dfa64</a></td><td><code>Add a doctest and some comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4aaf3014fee5bb08d861636908d6733047d4a869">4aaf301</a></td><td><code>Rename has_transitive_subgroup to transitive_subgroup and add helper function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/382c0f2daa019b8ba1c96462dbcdbab9ad2ee6a2">382c0f2</a></td><td><code>Rename transitive_subgroup to regular_subgroup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8685628455d2364bbb1896bf28e18c637bfab50c">8685628</a></td><td><code>Replace certificate with return_group, mapping and generators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95e34eecb315bcd0fded9c4f02a22b8c85e0ca1f">95e34ee</a></td><td><code>Apply Nathann's suggestions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34f921203675100401cd514d41e5605d0bfb9683">34f9212</a></td><td><code>Check for Cayleyness of the complement if the graph is simple with density > 1/2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5b8bc7aab040920ba51c9a250b5600fccb4e629">d5b8bc7</a></td><td><code>trac #19586: Merged with 7.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/278bb474d1d17f15f673e9be2e41cca144aacea0">278bb47</a></td><td><code>trac #19586: Review</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a58a7348bc022f39bf68383b70400e8b7f5b268b">a58a734</a></td><td><code>Merge branch 'public/19586' into is_cayley_graph-gap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6680e75cd77ffc40e0101b067d57074077f7aad">c6680e7</a></td><td><code>Do not consider disconnected graphs for Cayleyness unless explicitly requested</code></td></tr></table>




---

archive/issue_comments_283244.json:
```json
{
    "body": "**Commit:** [c6680e75cd77ffc40e0101b067d57074077f7aad](https://github.com/sagemath/sagetrac-mirror/commit/c6680e75cd77ffc40e0101b067d57074077f7aad)",
    "created_at": "2016-01-24T14:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283244",
    "user": "https://github.com/jaanos"
}
```

**Commit:** [c6680e75cd77ffc40e0101b067d57074077f7aad](https://github.com/sagemath/sagetrac-mirror/commit/c6680e75cd77ffc40e0101b067d57074077f7aad)



---

archive/issue_events_179562.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2016-01-24T14:49:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179562"
}
```



---

archive/issue_events_179563.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-01-24T16:25:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179563"
}
```



---

archive/issue_events_179564.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-01-24T16:25:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179564"
}
```



---

archive/issue_comments_283245.json:
```json
{
    "body": "<a id='comment:94'></a>\n> I've added an `allow_disconnected` parameter. I hope it's OK this way.\n\n\nIt's perfect this way! Thanks!\n\n> By the way, is there any reason why the milestone has been changed to sage-7.2 when 7.1 has not been released yet?\n\n\nI don't think so. I set it back to what it was.\n\nAbout loops, I wonder however. Is it still correct to look for a *regular* subgroup if there are loops?\n\nNathann",
    "created_at": "2016-01-24T16:26:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283245",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:94'></a>
> I've added an `allow_disconnected` parameter. I hope it's OK this way.


It's perfect this way! Thanks!

> By the way, is there any reason why the milestone has been changed to sage-7.2 when 7.1 has not been released yet?


I don't think so. I set it back to what it was.

About loops, I wonder however. Is it still correct to look for a *regular* subgroup if there are loops?

Nathann



---

archive/issue_comments_283246.json:
```json
{
    "body": "<a id='comment:95'></a>\nP.S.: I used this code and the OEIS to count how many vertex-transitive graphs are not cayley graphs. The first counter-examples have cardinality 10, and there are exactly 2. Which is what this code found.",
    "created_at": "2016-01-24T16:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283246",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:95'></a>
P.S.: I used this code and the OEIS to count how many vertex-transitive graphs are not cayley graphs. The first counter-examples have cardinality 10, and there are exactly 2. Which is what this code found.



---

archive/issue_comments_283247.json:
```json
{
    "body": "<a id='comment:96'></a>\nHi!\n\n> About loops, I wonder however. Is it still correct to look for a *regular* subgroup if there are loops?\n\n\nWhy not? If there are any loops, there must be a loop on every vertex (otherwise the graph is not vertex-transitive and there is no regular subgroup). But then loops don't matter any more.\n\nJano\u0161",
    "created_at": "2016-01-24T16:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283247",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:96'></a>
Hi!

> About loops, I wonder however. Is it still correct to look for a *regular* subgroup if there are loops?


Why not? If there are any loops, there must be a loop on every vertex (otherwise the graph is not vertex-transitive and there is no regular subgroup). But then loops don't matter any more.

Janoš



---

archive/issue_comments_283248.json:
```json
{
    "body": "<a id='comment:97'></a>\nWould it be incorrect to imagine a graph in which the loops is not always due to the same generator? If the group is not regular.\n\nNathann",
    "created_at": "2016-01-24T16:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283248",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:97'></a>
Would it be incorrect to imagine a graph in which the loops is not always due to the same generator? If the group is not regular.

Nathann



---

archive/issue_comments_283249.json:
```json
{
    "body": "<a id='comment:98'></a>\nAs vertices correspond to group elements, loops can only correspond to identity.\n\nJano\u0161",
    "created_at": "2016-01-24T16:46:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283249",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:98'></a>
As vertices correspond to group elements, loops can only correspond to identity.

Janoš



---

archive/issue_comments_283250.json:
```json
{
    "body": "<a id='comment:99'></a>\nSigh... Reading this group theory group will do me good.\n\nThank you very much for this branch, no other question, good to go `:-P`\n\nNathann",
    "created_at": "2016-01-24T16:49:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283250",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:99'></a>
Sigh... Reading this group theory group will do me good.

Thank you very much for this branch, no other question, good to go `:-P`

Nathann



---

archive/issue_events_179565.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2016-01-24T16:49:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179565"
}
```



---

archive/issue_events_179566.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2016-01-24T16:49:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179566"
}
```



---

archive/issue_comments_283251.json:
```json
{
    "body": "<a id='comment:0'></a>\nI set the milestone since you apparently need more time",
    "created_at": "2016-01-24T17:08:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283251",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:0'></a>
I set the milestone since you apparently need more time



---

archive/issue_events_179567.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-24T17:08:41Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179567"
}
```



---

archive/issue_events_179568.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-24T17:08:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179568"
}
```



---

archive/issue_events_179569.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2016-01-24T17:11:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179569"
}
```



---

archive/issue_events_179570.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2016-01-24T17:11:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179570"
}
```



---

archive/issue_comments_283252.json:
```json
{
    "body": "<a id='comment:1'></a>\nI'm sorry Volker... There was something I noticed just after changing the status....\n\nNathann",
    "created_at": "2016-01-24T17:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283252",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>
I'm sorry Volker... There was something I noticed just after changing the status....

Nathann



---

archive/issue_events_179571.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-28T17:14:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179571"
}
```



---

archive/issue_events_179572.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-28T17:14:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19586#event-179572"
}
```



---

archive/issue_comments_283253.json:
```json
{
    "body": "**Changing branch** from \"[u/jaanos/a58a7348bc022f39bf68383b70400e8b7f5b268b](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/a58a7348bc022f39bf68383b70400e8b7f5b268b)\" to \"[c6680e75cd77ffc40e0101b067d57074077f7aad](https://github.com/sagemath/sagetrac-mirror/commit/c6680e75cd77ffc40e0101b067d57074077f7aad)\".",
    "created_at": "2016-01-28T17:14:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283253",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jaanos/a58a7348bc022f39bf68383b70400e8b7f5b268b](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/a58a7348bc022f39bf68383b70400e8b7f5b268b)" to "[c6680e75cd77ffc40e0101b067d57074077f7aad](https://github.com/sagemath/sagetrac-mirror/commit/c6680e75cd77ffc40e0101b067d57074077f7aad)".



---

archive/issue_comments_283254.json:
```json
{
    "body": "<a id='comment:3'></a>\nThanks everybody!\n\nJano\u0161",
    "created_at": "2016-01-28T18:13:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283254",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:3'></a>
Thanks everybody!

Janoš



---

archive/issue_comments_283255.json:
```json
{
    "body": "**Changing commit** from \"[c6680e75cd77ffc40e0101b067d57074077f7aad](https://github.com/sagemath/sagetrac-mirror/commit/c6680e75cd77ffc40e0101b067d57074077f7aad)\" to \"\".",
    "created_at": "2016-01-28T18:13:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283255",
    "user": "https://github.com/jaanos"
}
```

**Changing commit** from "[c6680e75cd77ffc40e0101b067d57074077f7aad](https://github.com/sagemath/sagetrac-mirror/commit/c6680e75cd77ffc40e0101b067d57074077f7aad)" to "".



---

archive/issue_comments_283256.json:
```json
{
    "body": "<a id='comment:4'></a>\nAhahah. You did all the work, man!",
    "created_at": "2016-01-28T18:13:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283256",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>
Ahahah. You did all the work, man!



---

archive/issue_comments_283257.json:
```json
{
    "body": "<a id='comment:5'></a>\nVery nice feature ! If `gap_packages` and `database_gap` are required (in the doc), how do the doctest pass without any `# optional` flag ?",
    "created_at": "2016-01-29T17:27:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283257",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:5'></a>
Very nice feature ! If `gap_packages` and `database_gap` are required (in the doc), how do the doctest pass without any `# optional` flag ?



---

archive/issue_comments_283258.json:
```json
{
    "body": "<a id='comment:6'></a>\nProbably because of the 'all' that appears in this piece of doc.",
    "created_at": "2016-01-29T18:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283258",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'></a>
Probably because of the 'all' that appears in this piece of doc.



---

archive/issue_comments_283259.json:
```json
{
    "body": "<a id='comment:7'></a>\nIndeed, GAP's `ConjugacyClassesSubgroups` works for some small groups (which include all groups in question in the doc) without any additional packages. However, `TomLib` and `AtlasRep` are required for a complete coverage.\n\nJano\u0161",
    "created_at": "2016-01-30T03:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283259",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:7'></a>
Indeed, GAP's `ConjugacyClassesSubgroups` works for some small groups (which include all groups in question in the doc) without any additional packages. However, `TomLib` and `AtlasRep` are required for a complete coverage.

Janoš



---

archive/issue_comments_283260.json:
```json
{
    "body": "<a id='comment:108'></a>\nReplying to [jaanos](#comment%3A107):\n> Indeed, GAP's `ConjugacyClassesSubgroups` works for some small groups (which include all groups in question in the doc) without any additional packages. However, `TomLib` and `AtlasRep` are required for a complete coverage.\n\n\nI see. So, perhaps could some of the extra cases be tested as well since they use another (less tested) route.",
    "created_at": "2016-01-30T10:01:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283260",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:108'></a>
Replying to [jaanos](#comment%3A107):
> Indeed, GAP's `ConjugacyClassesSubgroups` works for some small groups (which include all groups in question in the doc) without any additional packages. However, `TomLib` and `AtlasRep` are required for a complete coverage.


I see. So, perhaps could some of the extra cases be tested as well since they use another (less tested) route.



---

archive/issue_comments_283261.json:
```json
{
    "body": "<a id='comment:109'></a>\n> I see. So, perhaps could some of the extra cases be tested as well since they use another (less tested) route.\n\n\nThat would be testing GAP more than testing Sage. But well, no reason to stop you from doing so either I guess.",
    "created_at": "2016-01-30T10:03:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19586#issuecomment-283261",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:109'></a>
> I see. So, perhaps could some of the extra cases be tested as well since they use another (less tested) route.


That would be testing GAP more than testing Sage. But well, no reason to stop you from doing so either I guess.
