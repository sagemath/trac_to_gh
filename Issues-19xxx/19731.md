# Issue 19731: Upgrade NTL

archive/issues_019494.json:
```json
{
    "body": "NTL has changed its random number generator, so this affects quite a few doctests. Otherwise the update is straight-forward.\n\n**Tarball**: http://sage.ugent.be/www/jdemeyer/sage/ntl-9.6.2.tar.bz2 (created using `spkg-src`)\n\n**Branch/Commit:** [533ccc306b778e619c5878d4307068b2e15e6584](https://github.com/sagemath/sagetrac-mirror/commit/533ccc306b778e619c5878d4307068b2e15e6584)\n\n**Reviewer:** Fran\u00e7ois Bissey\n\n**Author:** Jeroen Demeyer\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19731\n\n",
    "closed_at": "2015-12-22T19:49:53Z",
    "created_at": "2015-12-15T15:59:51Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.0",
    "title": "Upgrade NTL",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19731",
    "user": "https://github.com/jdemeyer"
}
```
NTL has changed its random number generator, so this affects quite a few doctests. Otherwise the update is straight-forward.

**Tarball**: http://sage.ugent.be/www/jdemeyer/sage/ntl-9.6.2.tar.bz2 (created using `spkg-src`)

**Branch/Commit:** [533ccc306b778e619c5878d4307068b2e15e6584](https://github.com/sagemath/sagetrac-mirror/commit/533ccc306b778e619c5878d4307068b2e15e6584)

**Reviewer:** François Bissey

**Author:** Jeroen Demeyer

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/19731





---

archive/issue_comments_358254.json:
```json
{
    "body": "**Branch:** [u/jdemeyer/upgrade_ntl](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_ntl)",
    "created_at": "2015-12-15T16:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358254",
    "user": "https://github.com/jdemeyer"
}
```

**Branch:** [u/jdemeyer/upgrade_ntl](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_ntl)



---

archive/issue_comments_358255.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2015-12-15T16:29:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358255",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_358256.json:
```json
{
    "body": "**Commit:** [8f35139d0c1ce13ebb4fb37d356648d776e33f8e](https://github.com/sagemath/sagetrac-mirror/commit/8f35139d0c1ce13ebb4fb37d356648d776e33f8e)",
    "created_at": "2015-12-15T16:29:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358256",
    "user": "https://github.com/jdemeyer"
}
```

**Commit:** [8f35139d0c1ce13ebb4fb37d356648d776e33f8e](https://github.com/sagemath/sagetrac-mirror/commit/8f35139d0c1ce13ebb4fb37d356648d776e33f8e)



---

archive/issue_comments_358257.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f35139d0c1ce13ebb4fb37d356648d776e33f8e\">8f35139</a></td><td><code>Upgrade NTL to version 9.6.2</code></td></tr></table>\n",
    "created_at": "2015-12-15T16:29:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358257",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f35139d0c1ce13ebb4fb37d356648d776e33f8e">8f35139</a></td><td><code>Upgrade NTL to version 9.6.2</code></td></tr></table>




---

archive/issue_comments_358258.json:
```json
{
    "body": "<a id='comment:3'></a>\nUnless something seriously changed after the last `ntl` clean up, I think you haven't doctested this. I tried bumping the version of `ntl` to 9.6.2 in sage-on-gentoo during the 6.10 release cycle and it generated quite a lot of failing doctests.",
    "created_at": "2015-12-15T20:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358258",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:3'></a>
Unless something seriously changed after the last `ntl` clean up, I think you haven't doctested this. I tried bumping the version of `ntl` to 9.6.2 in sage-on-gentoo during the 6.10 release cycle and it generated quite a lot of failing doctests.



---

archive/issue_comments_358259.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2015-12-15T21:42:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358259",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_358260.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/533ccc306b778e619c5878d4307068b2e15e6584\">533ccc3</a></td><td><code>Fix doctests for changed NTL random number generator</code></td></tr></table>\n",
    "created_at": "2015-12-17T14:58:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358260",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/533ccc306b778e619c5878d4307068b2e15e6584">533ccc3</a></td><td><code>Fix doctests for changed NTL random number generator</code></td></tr></table>




---

archive/issue_comments_358261.json:
```json
{
    "body": "**Changing commit** from \"[8f35139d0c1ce13ebb4fb37d356648d776e33f8e](https://github.com/sagemath/sagetrac-mirror/commit/8f35139d0c1ce13ebb4fb37d356648d776e33f8e)\" to \"[533ccc306b778e619c5878d4307068b2e15e6584](https://github.com/sagemath/sagetrac-mirror/commit/533ccc306b778e619c5878d4307068b2e15e6584)\".",
    "created_at": "2015-12-17T14:58:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358261",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8f35139d0c1ce13ebb4fb37d356648d776e33f8e](https://github.com/sagemath/sagetrac-mirror/commit/8f35139d0c1ce13ebb4fb37d356648d776e33f8e)" to "[533ccc306b778e619c5878d4307068b2e15e6584](https://github.com/sagemath/sagetrac-mirror/commit/533ccc306b778e619c5878d4307068b2e15e6584)".



---

archive/issue_comments_358262.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-12-17T14:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358262",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_358263.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+NTL has changed its random number generator, so this affects quite a few doctests. Otherwise the update is straight-forward.\n+\n **Tarball**: http://sage.ugent.be/www/jdemeyer/sage/ntl-9.6.2.tar.bz2 (created using `spkg-src`)\n``````\n",
    "created_at": "2015-12-17T20:29:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358263",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+NTL has changed its random number generator, so this affects quite a few doctests. Otherwise the update is straight-forward.
+
 **Tarball**: http://sage.ugent.be/www/jdemeyer/sage/ntl-9.6.2.tar.bz2 (created using `spkg-src`)
``````




---

archive/issue_comments_358264.json:
```json
{
    "body": "**Reviewer:** Fran\u00e7ois Bissey",
    "created_at": "2015-12-17T23:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358264",
    "user": "https://github.com/kiwifb"
}
```

**Reviewer:** François Bissey



---

archive/issue_comments_358265.json:
```json
{
    "body": "<a id='comment:8'></a>\nWorks fine, we need to send it to the bots for testing on more archs. Should we try to enable threads. Victor says it does improve performances in many cases. It's done by adding `NTL_THREAD_BOOST=on` to the configuration.",
    "created_at": "2015-12-17T23:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358265",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'></a>
Works fine, we need to send it to the bots for testing on more archs. Should we try to enable threads. Victor says it does improve performances in many cases. It's done by adding `NTL_THREAD_BOOST=on` to the configuration.



---

archive/issue_comments_358266.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-12-17T23:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358266",
    "user": "https://github.com/kiwifb"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_358267.json:
```json
{
    "body": "<a id='comment:9'></a>\nIt works also on 32-bit Linux.",
    "created_at": "2015-12-18T10:57:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358267",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
It works also on 32-bit Linux.



---

archive/issue_events_061516.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-22T19:49:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19731#event-61516"
}
```



---

archive/issue_comments_358268.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/upgrade_ntl](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_ntl)\" to \"[533ccc306b778e619c5878d4307068b2e15e6584](https://github.com/sagemath/sagetrac-mirror/commit/533ccc306b778e619c5878d4307068b2e15e6584)\".",
    "created_at": "2015-12-22T19:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358268",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/upgrade_ntl](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_ntl)" to "[533ccc306b778e619c5878d4307068b2e15e6584](https://github.com/sagemath/sagetrac-mirror/commit/533ccc306b778e619c5878d4307068b2e15e6584)".



---

archive/issue_comments_358269.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2015-12-22T19:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19731#issuecomment-358269",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed
