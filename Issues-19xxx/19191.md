# Issue 19191: LatticePoset: add is_planar()

archive/issues_018954.json:
```json
{
    "body": "Add `is_planar()` to `LatticePoset`. See http://www.sciencedirect.com/science/article/pii/0095895676900241 for definition.\n\nCC:  @nthiery\n\nBranch/Commit: 52a657ffca7acde0f622daffdbf0c066ea60887c\n\nReviewer: Jori M\u00e4ntysalo, Nathann Cohen\n\nAuthor: Nathann Cohen, Jori M\u00e4ntysalo\n\nDependencies: #19193\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19191\n\n",
    "closed_at": "2015-09-22T14:49:11Z",
    "created_at": "2015-09-11T20:18:21Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "LatticePoset: add is_planar()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19191",
    "user": "https://github.com/jm58660"
}
```
Add `is_planar()` to `LatticePoset`. See http://www.sciencedirect.com/science/article/pii/0095895676900241 for definition.

CC:  @nthiery

Branch/Commit: 52a657ffca7acde0f622daffdbf0c066ea60887c

Reviewer: Jori Mäntysalo, Nathann Cohen

Author: Nathann Cohen, Jori Mäntysalo

Dependencies: #19193

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19191





---

archive/issue_comments_276525.json:
```json
{
    "body": "<a id='comment:2'></a>Ready for review, BUT please note the dependency: This will work when #19193 has been fixed.\n\n---\nNew commits:",
    "created_at": "2015-09-12T04:48:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276525",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:2'></a>Ready for review, BUT please note the dependency: This will work when #19193 has been fixed.

---
New commits:



---

archive/issue_comments_276526.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-09-12T04:48:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276526",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_276527.json:
```json
{
    "body": "<a id='comment:3'></a>You should work on a copy of the integer-labelled hasse diagram. Skip labels whenever you can.",
    "created_at": "2015-09-13T10:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276527",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>You should work on a copy of the integer-labelled hasse diagram. Skip labels whenever you can.



---

archive/issue_comments_276528.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-13T12:55:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276528",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_276529.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:3 ncohen]:\n> You should work on a copy of the integer-labelled hasse diagram. Skip labels whenever you can.\n\n\nTrue. Corrected. Thanks!\n\nI left this technically as needs_review, because this should be OK after #19193.",
    "created_at": "2015-09-13T12:57:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276529",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:5'></a>Replying to [comment:3 ncohen]:
> You should work on a copy of the integer-labelled hasse diagram. Skip labels whenever you can.


True. Corrected. Thanks!

I left this technically as needs_review, because this should be OK after #19193.



---

archive/issue_comments_276530.json:
```json
{
    "body": "<a id='comment:6'></a>An easy review. Let's try Nicolas as a random victim for possible reviewer.",
    "created_at": "2015-09-18T12:17:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276530",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>An easy review. Let's try Nicolas as a random victim for possible reviewer.



---

archive/issue_comments_276531.json:
```json
{
    "body": "<a id='comment:7'></a>This sentence seems in contradiction with the code, which adds a `(0,n-1)` edge\n\n```\n+        A lattice is planar if it's Hasse diagram can be drawn on a\n+        plane without crossing lines.\n```\n\nNathann",
    "created_at": "2015-09-18T12:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276531",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>This sentence seems in contradiction with the code, which adds a `(0,n-1)` edge

```
+        A lattice is planar if it's Hasse diagram can be drawn on a
+        plane without crossing lines.
```

Nathann



---

archive/issue_comments_276532.json:
```json
{
    "body": "<a id='comment:8'></a>Next paragraph explains what is the meaning of Hasse diagram (i.e. have a right direction). But OK, I'll think better phrasing.",
    "created_at": "2015-09-18T12:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276532",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:8'></a>Next paragraph explains what is the meaning of Hasse diagram (i.e. have a right direction). But OK, I'll think better phrasing.



---

archive/issue_comments_276533.json:
```json
{
    "body": "<a id='comment:9'></a>http://www.sciencedirect.com/science/article/pii/009589567790048X\n\nThe abstract of this paper is rather clear on what a planar poset is supposed to be.\n\nNathann",
    "created_at": "2015-09-18T12:26:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276533",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>http://www.sciencedirect.com/science/article/pii/009589567790048X

The abstract of this paper is rather clear on what a planar poset is supposed to be.

Nathann



---

archive/issue_comments_276534.json:
```json
{
    "body": "<a id='comment:10'></a>\"A partially ordered set (poset) is planar if it has a planar Hasse diagram.\"? Quite short...\n\nHow about\n\n\"A lattice is planar if it has a planar Hasse diagram --- that is, it can be drawn to a plane without crossing lines and every covering relationg directed upwards.\"?\n\nAnd yes, this function could be defined on a general poset. But then it is NP-complete.",
    "created_at": "2015-09-18T12:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276534",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:10'></a>"A partially ordered set (poset) is planar if it has a planar Hasse diagram."? Quite short...

How about

"A lattice is planar if it has a planar Hasse diagram --- that is, it can be drawn to a plane without crossing lines and every covering relationg directed upwards."?

And yes, this function could be defined on a general poset. But then it is NP-complete.



---

archive/issue_comments_276535.json:
```json
{
    "body": "<a id='comment:11'></a>Sorry Jori, I do not follow you: the paper whose link I posted in a previous comment says that a poset is planar if its hasse diagram is planar. I see no mention of an additional edge (that you add in your code), and it is clearly polynomial at all times.",
    "created_at": "2015-09-18T12:51:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276535",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>Sorry Jori, I do not follow you: the paper whose link I posted in a previous comment says that a poset is planar if its hasse diagram is planar. I see no mention of an additional edge (that you add in your code), and it is clearly polynomial at all times.



---

archive/issue_comments_276536.json:
```json
{
    "body": "<a id='comment:12'></a>This is about planarity of lattices, not posets in general.\n\nSee for example http://www.sciencedirect.com/science/article/pii/0095895676900241 or http://www.math.louisville.edu/Cumberland/slides/52%20-%20Trotter.pdf slide 12.",
    "created_at": "2015-09-18T13:00:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276536",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:12'></a>This is about planarity of lattices, not posets in general.

See for example http://www.sciencedirect.com/science/article/pii/0095895676900241 or http://www.math.louisville.edu/Cumberland/slides/52%20-%20Trotter.pdf slide 12.



---

archive/issue_comments_276537.json:
```json
{
    "body": "<a id='comment:13'></a>> This is about planarity of lattices, not posets in general.\n\n\nThe paper I sent you previously says that a *Poset* is planar if its hasse diagram is planar.\n\nThe first paragraph (not the abstract) in the first paper that you mentionned says that the definition is (naturally) the same for posets, i.e. that they are planar whenever their hasse diagram is planar.\n\nWhat the first paper claims in its title is that you can *chose* to add the `(0,n-1)` edge without changing the property.\n\nWhat the slideshow says in its 12th page looks contradictory with the two papers above. If you can find the paper it quotes, perhaps that will clarify it.\n\nNathann",
    "created_at": "2015-09-18T13:10:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276537",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>> This is about planarity of lattices, not posets in general.


The paper I sent you previously says that a *Poset* is planar if its hasse diagram is planar.

The first paragraph (not the abstract) in the first paper that you mentionned says that the definition is (naturally) the same for posets, i.e. that they are planar whenever their hasse diagram is planar.

What the first paper claims in its title is that you can *chose* to add the `(0,n-1)` edge without changing the property.

What the slideshow says in its 12th page looks contradictory with the two papers above. If you can find the paper it quotes, perhaps that will clarify it.

Nathann



---

archive/issue_comments_276538.json:
```json
{
    "body": "<a id='comment:14'></a>There seems to be same concept in plain graph theory: *upward planar* DAG. See https://en.wikipedia.org/wiki/Upward_planar_drawing\n\nThe abstract of first paper I mentioned starts with \"It is shown that a finite lattice is planar if and only if the (undirected) graph obtained from its (Hasse) diagram by adding an edge between its least and greatest elements is a planar graph.\" And this makes no sense if planarity of lattices would equal to planarity of graphs.\n\nThe question is about meaning of Hasse diagram. Should we say that it is a special type of DAG, or that it is a DAG drawn with a limitation? I think that writers think about latter.\n\nBut of course 1) this must be made very clear in the documentation, and 2) it might have interesting question in it own to look properties of posets with planar covering relations graph.",
    "created_at": "2015-09-19T08:42:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276538",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:14'></a>There seems to be same concept in plain graph theory: *upward planar* DAG. See https://en.wikipedia.org/wiki/Upward_planar_drawing

The abstract of first paper I mentioned starts with "It is shown that a finite lattice is planar if and only if the (undirected) graph obtained from its (Hasse) diagram by adding an edge between its least and greatest elements is a planar graph." And this makes no sense if planarity of lattices would equal to planarity of graphs.

The question is about meaning of Hasse diagram. Should we say that it is a special type of DAG, or that it is a DAG drawn with a limitation? I think that writers think about latter.

But of course 1) this must be made very clear in the documentation, and 2) it might have interesting question in it own to look properties of posets with planar covering relations graph.



---

archive/issue_comments_276539.json:
```json
{
    "body": "<a id='comment:15'></a>> The abstract of first paper I mentioned starts with \"It is shown that a finite lattice is planar if and only if the (undirected) graph obtained from its (Hasse) diagram by adding an edge between its least and greatest elements is a planar graph.\" And this makes no sense if planarity of lattices would equal to planarity of graphs.\n\n\nIt *does* make sense. It means that if a lattice is planar, then there is a drawing of it in which the top and bottom elements appear in the same face.\n\n> The question is about meaning of Hasse diagram. \n\n\nAs a reviewer, I just want to make sure that what the user will understand is what actually happens. \n\nNathann",
    "created_at": "2015-09-19T08:56:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276539",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>> The abstract of first paper I mentioned starts with "It is shown that a finite lattice is planar if and only if the (undirected) graph obtained from its (Hasse) diagram by adding an edge between its least and greatest elements is a planar graph." And this makes no sense if planarity of lattices would equal to planarity of graphs.


It *does* make sense. It means that if a lattice is planar, then there is a drawing of it in which the top and bottom elements appear in the same face.

> The question is about meaning of Hasse diagram. 


As a reviewer, I just want to make sure that what the user will understand is what actually happens. 

Nathann



---

archive/issue_comments_276540.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:15 ncohen]:\n\n> As a reviewer, I just want to make sure that what the user will understand is what actually happens. \n\n\nHow about\n\n\"A lattice is planar if it's Hasse diagram has an upward planar drawing. In other words, planar lattice can be drawn without crossing lines and every covering relation directed upwards.\"\n\n?",
    "created_at": "2015-09-19T09:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276540",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:16'></a>Replying to [comment:15 ncohen]:

> As a reviewer, I just want to make sure that what the user will understand is what actually happens. 


How about

"A lattice is planar if it's Hasse diagram has an upward planar drawing. In other words, planar lattice can be drawn without crossing lines and every covering relation directed upwards."

?



---

archive/issue_comments_276541.json:
```json
{
    "body": "<a id='comment:17'></a>Jori,\n\nUp to now, in all papers that I have seen, a Poset is defined to be planar when its hasse diagram is planar. Have you even found one paper that defines it differently?\n\nIf there is to be a `Lattice.is_planar` or a `Poset.is_planar`, I expect it to be `self._hasse_diagram.is_planar()`, and nothing else. Even the paper that mentions this additional edge between 0 and n-1 uses *this* definition (without the additional edge) and apparently proves that you can add this edge without changing the property.\n\nThe least I can say is that I *know* that some people would be entitled to believe that `Lattice.is_planar` does not add any edge, even without reading the documentation (did you ever read the documentation of `is_even` ?). And those must not be mislead.\n\nIf you want to implement another definition, it will have to be under another name.\n\nNathann",
    "created_at": "2015-09-19T10:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276541",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:17'></a>Jori,

Up to now, in all papers that I have seen, a Poset is defined to be planar when its hasse diagram is planar. Have you even found one paper that defines it differently?

If there is to be a `Lattice.is_planar` or a `Poset.is_planar`, I expect it to be `self._hasse_diagram.is_planar()`, and nothing else. Even the paper that mentions this additional edge between 0 and n-1 uses *this* definition (without the additional edge) and apparently proves that you can add this edge without changing the property.

The least I can say is that I *know* that some people would be entitled to believe that `Lattice.is_planar` does not add any edge, even without reading the documentation (did you ever read the documentation of `is_even` ?). And those must not be mislead.

If you want to implement another definition, it will have to be under another name.

Nathann



---

archive/issue_comments_276542.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:17 ncohen]:\n\n>Even the paper that mentions this additional edge between 0 and n-1 uses *this* definition (without the additional edge) and apparently proves that you can add this edge without changing the property.\n\n\nNo. Hasse diagram for `BooleanLattice(3)` is planar, but it has no upward planar drawing.\n\n> If you want to implement another definition, it will have to be under another name.\n\n\nThat's OK.",
    "created_at": "2015-09-19T10:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276542",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:18'></a>Replying to [comment:17 ncohen]:

>Even the paper that mentions this additional edge between 0 and n-1 uses *this* definition (without the additional edge) and apparently proves that you can add this edge without changing the property.


No. Hasse diagram for `BooleanLattice(3)` is planar, but it has no upward planar drawing.

> If you want to implement another definition, it will have to be under another name.


That's OK.



---

archive/issue_comments_276543.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-21T08:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276543",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_276544.json:
```json
{
    "body": "<a id='comment:20'></a>I committed a version with new name for the function.\n\nBut still, I do not understand. The term *planar lattice* is used by D. Kelly and I. Rival in Canadian Journal of Mathematics, june 1975. And it uses the definition I suggested at start. Also \nhttp://www.math.uh.edu/~hjm/1973_Lattice/p00512-p00518.pdf etc. uses this definition.",
    "created_at": "2015-09-21T08:57:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276544",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:20'></a>I committed a version with new name for the function.

But still, I do not understand. The term *planar lattice* is used by D. Kelly and I. Rival in Canadian Journal of Mathematics, june 1975. And it uses the definition I suggested at start. Also 
http://www.math.uh.edu/~hjm/1973_Lattice/p00512-p00518.pdf etc. uses this definition.



---

archive/issue_comments_276545.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-09-21T08:57:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276545",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_276546.json:
```json
{
    "body": "<a id='comment:21'></a>> Also \n> http://www.math.uh.edu/~hjm/1973_Lattice/p00512-p00518.pdf etc. uses this definition.\n\n\nAt the bottom of page 1 in this paper I read \"P is planar if it has a planar diagram\", where \"diagram\" is defined, just above, to be equal to the hasse diagram.\n\nNathann",
    "created_at": "2015-09-21T09:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276546",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:21'></a>> Also 
> http://www.math.uh.edu/~hjm/1973_Lattice/p00512-p00518.pdf etc. uses this definition.


At the bottom of page 1 in this paper I read "P is planar if it has a planar diagram", where "diagram" is defined, just above, to be equal to the hasse diagram.

Nathann



---

archive/issue_comments_276547.json:
```json
{
    "body": "<a id='comment:22'></a>Replying to [comment:21 ncohen]:\n> > Also \n> > http://www.math.uh.edu/~hjm/1973_Lattice/p00512-p00518.pdf etc. uses this definition.\n\n\n> At the bottom of page 1 in this paper I read \"P is planar if it has a planar diagram\", where \"diagram\" is defined, just above, to be equal to the hasse diagram.\n\n\n\"A diagram of P is a set of n points in the (x, y)-plane - - together with certain arcs between these points such that: a) If p_i covers p_j then y_i > y_j - -\".",
    "created_at": "2015-09-21T09:12:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276547",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:22'></a>Replying to [comment:21 ncohen]:
> > Also 
> > http://www.math.uh.edu/~hjm/1973_Lattice/p00512-p00518.pdf etc. uses this definition.


> At the bottom of page 1 in this paper I read "P is planar if it has a planar diagram", where "diagram" is defined, just above, to be equal to the hasse diagram.


"A diagram of P is a set of n points in the (x, y)-plane - - together with certain arcs between these points such that: a) If p_i covers p_j then y_i > y_j - -".



---

archive/issue_comments_276548.json:
```json
{
    "body": "<a id='comment:23'></a>Oh true. Coordinates. I had not noticed.",
    "created_at": "2015-09-21T09:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276548",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:23'></a>Oh true. Coordinates. I had not noticed.



---

archive/issue_comments_276549.json:
```json
{
    "body": "<a id='comment:24'></a>I'm trying to find some recent publication in which I can check this terminology. It seems indeed that those guys could say that \"the diagram is planar\" and talk about this kind of embedding without saying it, but it sounds so absurdly misleading that I want to see it written in a paper written after I was born.",
    "created_at": "2015-09-21T09:23:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276549",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>I'm trying to find some recent publication in which I can check this terminology. It seems indeed that those guys could say that "the diagram is planar" and talk about this kind of embedding without saying it, but it sounds so absurdly misleading that I want to see it written in a paper written after I was born.



---

archive/issue_comments_276550.json:
```json
{
    "body": "<a id='comment:25'></a>Okay. You are right. This guy cites the same definition that you cite:\n\nhttp://mathoverflow.net/questions/198116/is-a-distributive-lattice-planar-iff-it-admits-no-b3-sublattice\n\nAnd, more importantly, this book [1] on page 93 (bottom). Or this dissertation [2] page 23.\n\nSo you were right from the beginning. And I still can't believe how on earth they thought wise to have two such definitions coexist when they are so close to each other. We end up with results like \"there are posets whose hasse diagram is not planar, though the hasse diagram (as a graph) is planar\".\n\nOkay. So what do we do:\n\nI obviously prefer it to be named \"is_upward_planar\", but that just says that I would prefer the standard poset terminology to be \"is upward planar\". Truth it that people working on posets expect it to be written \"is_planar\", so that's probably how it should be named.\n\nSorry for the loss of time. I guess I just needed some recent publications which did what your 72 paper does, i.e. say explicitly that planarity is not graph planarity.\n\nI will now take your branch and work a bit on the documentation, just to make sure that people like me would not make the mistake if they read it. If they just read the function's name, well, they are lost.\n\nNathann\n\n[1] http://www.springer.com/us/book/9783319064123\n[2] https://tu-dresden.de/Members/christian.zschalig/dateien/dissertation_zschalig",
    "created_at": "2015-09-21T09:43:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276550",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:25'></a>Okay. You are right. This guy cites the same definition that you cite:

http://mathoverflow.net/questions/198116/is-a-distributive-lattice-planar-iff-it-admits-no-b3-sublattice

And, more importantly, this book [1] on page 93 (bottom). Or this dissertation [2] page 23.

So you were right from the beginning. And I still can't believe how on earth they thought wise to have two such definitions coexist when they are so close to each other. We end up with results like "there are posets whose hasse diagram is not planar, though the hasse diagram (as a graph) is planar".

Okay. So what do we do:

I obviously prefer it to be named "is_upward_planar", but that just says that I would prefer the standard poset terminology to be "is upward planar". Truth it that people working on posets expect it to be written "is_planar", so that's probably how it should be named.

Sorry for the loss of time. I guess I just needed some recent publications which did what your 72 paper does, i.e. say explicitly that planarity is not graph planarity.

I will now take your branch and work a bit on the documentation, just to make sure that people like me would not make the mistake if they read it. If they just read the function's name, well, they are lost.

Nathann

[1] http://www.springer.com/us/book/9783319064123
[2] https://tu-dresden.de/Members/christian.zschalig/dateien/dissertation_zschalig



---

archive/issue_comments_276551.json:
```json
{
    "body": "<a id='comment:26'></a>Replying to [comment:25 ncohen]:\n\n> So you were right from the beginning. And I still can't believe how on earth they thought wise to have two such definitions coexist when they are so close to each other. - - \n\n\nWell, mathematicians do not always behave logically. `:=)`.\n\n1) Is it technically possible to give positive review to a ticket like this, as this depends on closed ticket not yet at newewst beta? 2) This obviously needs clarification in documentation. But `NOTE` or even `WARNING`? It would say that `NOTE` is enought. 3) Is there easy way to undo last commit on ticket? Not that it would be that big thing in this specific case do by hand.",
    "created_at": "2015-09-21T09:54:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276551",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:26'></a>Replying to [comment:25 ncohen]:

> So you were right from the beginning. And I still can't believe how on earth they thought wise to have two such definitions coexist when they are so close to each other. - - 


Well, mathematicians do not always behave logically. `:=)`.

1) Is it technically possible to give positive review to a ticket like this, as this depends on closed ticket not yet at newewst beta? 2) This obviously needs clarification in documentation. But `NOTE` or even `WARNING`? It would say that `NOTE` is enought. 3) Is there easy way to undo last commit on ticket? Not that it would be that big thing in this specific case do by hand.



---

archive/issue_comments_276552.json:
```json
{
    "body": "<a id='comment:27'></a>> Well, mathematicians do not always behave logically. `:=)`.\n\n\n`-_-`\n \n> 1) Is it technically possible to give positive review to a ticket like this, as this depends on closed ticket not yet at newewst beta?\n\n\nThe only thing that we must preserve is Volker's own happiness. It does not matter what you and I have on our hard drive: when a ticket is closed, it means that Volker's latest release contains the ticket. So you can assume that it is already applied.\n\n> 2) This obviously needs clarification in documentation. But `NOTE` or even `WARNING`? It would say that `NOTE` is enought.\n\n\nI agree. I only have a note in the version I am working on.\n\n> 3) Is there easy way to undo last commit on ticket? \n\n\nYeah yeah. Look at 'git rebase -i', I use this all the time (look for 'squashing'). But don't worry about this, I am working on the branch and will push it shortly.\n\nI still hesitate over this `is_planar` and `is_upward_planar`. If you really think that the first is better then let's do this, but if you believe that anybody who looks for `is_planar` would also think of trying `is_upward_planar` then the second is obviously safer. Tell me how you want it done, and I will update the branch accordingly.\n\nNathann",
    "created_at": "2015-09-21T10:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276552",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:27'></a>> Well, mathematicians do not always behave logically. `:=)`.


`-_-`
 
> 1) Is it technically possible to give positive review to a ticket like this, as this depends on closed ticket not yet at newewst beta?


The only thing that we must preserve is Volker's own happiness. It does not matter what you and I have on our hard drive: when a ticket is closed, it means that Volker's latest release contains the ticket. So you can assume that it is already applied.

> 2) This obviously needs clarification in documentation. But `NOTE` or even `WARNING`? It would say that `NOTE` is enought.


I agree. I only have a note in the version I am working on.

> 3) Is there easy way to undo last commit on ticket? 


Yeah yeah. Look at 'git rebase -i', I use this all the time (look for 'squashing'). But don't worry about this, I am working on the branch and will push it shortly.

I still hesitate over this `is_planar` and `is_upward_planar`. If you really think that the first is better then let's do this, but if you believe that anybody who looks for `is_planar` would also think of trying `is_upward_planar` then the second is obviously safer. Tell me how you want it done, and I will update the branch accordingly.

Nathann



---

archive/issue_comments_276553.json:
```json
{
    "body": "<a id='comment:28'></a>Replying to [comment:27 ncohen]:\n\n> I still hesitate over this `is_planar` and `is_upward_planar`. If you really think that the first is better then let's do this, but if you believe that anybody who looks for `is_planar` would also think of trying `is_upward_planar` then the second is obviously safer. Tell me how you want it done, and I will update the branch accordingly.\n\n\nGoogling \"upward planar lattice\" seems to found nothing. I guess it is good reason to have `is_planar()`, as it seems to be only used term.\n\n(In the future we should not have problems like this. Just wait until [SageMath](SageMath) is The Software and all questions about \"what is exact definition of...?\" will be answered \"Sage defines...\". `;=)`)",
    "created_at": "2015-09-21T11:13:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276553",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:28'></a>Replying to [comment:27 ncohen]:

> I still hesitate over this `is_planar` and `is_upward_planar`. If you really think that the first is better then let's do this, but if you believe that anybody who looks for `is_planar` would also think of trying `is_upward_planar` then the second is obviously safer. Tell me how you want it done, and I will update the branch accordingly.


Googling "upward planar lattice" seems to found nothing. I guess it is good reason to have `is_planar()`, as it seems to be only used term.

(In the future we should not have problems like this. Just wait until [SageMath](SageMath) is The Software and all questions about "what is exact definition of...?" will be answered "Sage defines...". `;=)`)



---

archive/issue_comments_276554.json:
```json
{
    "body": "<a id='comment:29'></a>> Googling \"upward planar lattice\" seems to found nothing. I guess it is good reason to have `is_planar()`, as it seems to be only used term.\n\n\nOkay, done at u/ncohen/19191. Note that I rewrote history.\n\n> (In the future we should not have problems like this. Just wait until SageMath is The Software and all questions about \"what is exact definition of...?\" will be answered \"Sage defines...\". `;=)`)\n\n\nYeah. Well if that's the case then I will regret even more this `Poset.is_planar`. At least I will have this trac tickets to use for my own defense `:-P`\n\nNathann",
    "created_at": "2015-09-21T11:18:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276554",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:29'></a>> Googling "upward planar lattice" seems to found nothing. I guess it is good reason to have `is_planar()`, as it seems to be only used term.


Okay, done at u/ncohen/19191. Note that I rewrote history.

> (In the future we should not have problems like this. Just wait until SageMath is The Software and all questions about "what is exact definition of...?" will be answered "Sage defines...". `;=)`)


Yeah. Well if that's the case then I will regret even more this `Poset.is_planar`. At least I will have this trac tickets to use for my own defense `:-P`

Nathann



---

archive/issue_comments_276555.json:
```json
{
    "body": "<a id='comment:30'></a>Replying to [comment:29 ncohen]:\n\n> Okay, done at u/ncohen/19191. Note that I rewrote history.\n\n\nSeems good.\n\nRemove dependency, as it is now handled differently. This will clash with #19123, but I can rebase it later.",
    "created_at": "2015-09-21T11:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276555",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:30'></a>Replying to [comment:29 ncohen]:

> Okay, done at u/ncohen/19191. Note that I rewrote history.


Seems good.

Remove dependency, as it is now handled differently. This will clash with #19123, but I can rebase it later.



---

archive/issue_comments_276556.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-09-21T11:25:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276556",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_276557.json:
```json
{
    "body": "<a id='comment:31'></a>> Seems good.\n\n\nThen if you agree with it you can change the branch's name on this ticket, and set it to `positive_review` for inclusion.\n\nNathann",
    "created_at": "2015-09-21T11:25:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276557",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:31'></a>> Seems good.


Then if you agree with it you can change the branch's name on this ticket, and set it to `positive_review` for inclusion.

Nathann



---

archive/issue_comments_276558.json:
```json
{
    "body": "<a id='comment:32'></a>Going to compile to be sure.\n\n---\nNew commits:",
    "created_at": "2015-09-21T12:36:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276558",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:32'></a>Going to compile to be sure.

---
New commits:



---

archive/issue_comments_276559.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Add `is_planar()` to `LatticePoset`. See http://www.sciencedirect.com/science/article/pii/0095895676900241 for definition. Add it to index of functions in #19190.\n+Add `is_planar()` to `LatticePoset`. See http://www.sciencedirect.com/science/article/pii/0095895676900241 for definition.\n \n Author: Jori M\u00e4ntysalo\n \n```\n",
    "created_at": "2015-09-21T13:00:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276559",
    "user": "https://github.com/jm58660"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Add `is_planar()` to `LatticePoset`. See http://www.sciencedirect.com/science/article/pii/0095895676900241 for definition. Add it to index of functions in #19190.
+Add `is_planar()` to `LatticePoset`. See http://www.sciencedirect.com/science/article/pii/0095895676900241 for definition.
 
 Author: Jori Mäntysalo
 
```




---

archive/issue_comments_276560.json:
```json
{
    "body": "<a id='comment:33'></a>Duh, an example still depends on #19193. Added that. Now this seems to ready to go.",
    "created_at": "2015-09-21T13:00:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276560",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:33'></a>Duh, an example still depends on #19193. Added that. Now this seems to ready to go.



---

archive/issue_comments_276561.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-09-21T13:00:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276561",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_276562.json:
```json
{
    "body": "<a id='comment:34'></a>Replying to [comment:27 ncohen]:\n> I still hesitate over this `is_planar` and `is_upward_planar`.\n\n\nFor whatever it's worth (and it's late in the review process), I am\nalso hesitant. In papers it is often less of an issue to use short\nnames as the context helps removing ambiguities. So if someone comes\nup with a good explicit `is_xxx_planar` suggestion (I don't have one),\nthat looks appealing. But that's just my 2cents; please proceed as you\nsee fit.\n\nCheers,\n                                  Nicolas",
    "created_at": "2015-09-21T20:32:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276562",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:34'></a>Replying to [comment:27 ncohen]:
> I still hesitate over this `is_planar` and `is_upward_planar`.


For whatever it's worth (and it's late in the review process), I am
also hesitant. In papers it is often less of an issue to use short
names as the context helps removing ambiguities. So if someone comes
up with a good explicit `is_xxx_planar` suggestion (I don't have one),
that looks appealing. But that's just my 2cents; please proceed as you
see fit.

Cheers,
                                  Nicolas



---

archive/issue_comments_276563.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-09-22T14:49:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-276563",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_053283.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-22T14:49:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19191#event-53283"
}
```
