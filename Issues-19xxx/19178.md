# Issue 19178: Make Coxeter3 a new-style spkg

archive/issues_018941.json:
```json
{
    "assignees": [],
    "body": "Convert Coxeter3 to a new-style spkg.\n\n**[tarball](http://trac.sagemath.org/raw-attachment/ticket/19178/coxeter3-1.1.tar.gz)**\n\nAssignee: **@tscrim**\n\nCC:  @sagetrac-sage-combinat @nthiery @anneschilling @jdemeyer @vbraun @saliola\n\nKeywords: **coxeter3**\n\nBranch/Commit: **[2945b61](https://github.com/sagemath/sagetrac-mirror/commit/2945b61085d8f1569780249c8919a88a7bf7bcdc)**\n\nReviewer: **Franco Saliola, Anne Schilling**\n\nAuthor: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19178_\n\n",
    "closed_at": "2015-09-25T07:52:54Z",
    "created_at": "2015-09-09T23:04:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make Coxeter3 a new-style spkg",
    "type": "issue",
    "updated_at": "2015-09-25T07:52:54Z",
    "url": "https://github.com/sagemath/sage/issues/19178",
    "user": "https://github.com/tscrim"
}
```
Convert Coxeter3 to a new-style spkg.

**[tarball](http://trac.sagemath.org/raw-attachment/ticket/19178/coxeter3-1.1.tar.gz)**

Assignee: **@tscrim**

CC:  @sagetrac-sage-combinat @nthiery @anneschilling @jdemeyer @vbraun @saliola

Keywords: **coxeter3**

Branch/Commit: **[2945b61](https://github.com/sagemath/sagetrac-mirror/commit/2945b61085d8f1569780249c8919a88a7bf7bcdc)**

Reviewer: **Franco Saliola, Anne Schilling**

Author: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/19178_





---

archive/issue_events_254522.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-09-09T23:04:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19178#event-254522"
}
```



---

archive/issue_events_254523.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-09-09T23:04:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19178#event-254523"
}
```



---

archive/issue_events_254524.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-09-09T23:04:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19178#event-254524"
}
```



---

archive/issue_events_254525.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-09-09T23:04:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19178#event-254525"
}
```



---

archive/issue_comments_274066.json:
```json
{
    "body": "Author: **Travis Scrimshaw**",
    "created_at": "2015-09-12T02:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274066",
    "user": "https://github.com/tscrim"
}
```

Author: **Travis Scrimshaw**



---

archive/issue_comments_274067.json:
```json
{
    "body": "Branch: **[u/tscrim/coxeter3_new_style_spkg-19178](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/coxeter3_new_style_spkg-19178)**",
    "created_at": "2015-09-12T02:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274067",
    "user": "https://github.com/tscrim"
}
```

Branch: **[u/tscrim/coxeter3_new_style_spkg-19178](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/coxeter3_new_style_spkg-19178)**



---

archive/issue_events_254526.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-09-12T02:32:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19178#event-254526"
}
```



---

archive/issue_comments_274068.json:
```json
{
    "body": "Commit: **[b4acdc4](https://github.com/sagemath/sagetrac-mirror/commit/b4acdc4e6ec9f57bda408983c2b5b283dd662554)**",
    "created_at": "2015-09-12T02:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274068",
    "user": "https://github.com/tscrim"
}
```

Commit: **[b4acdc4](https://github.com/sagemath/sagetrac-mirror/commit/b4acdc4e6ec9f57bda408983c2b5b283dd662554)**



---

archive/issue_comments_274069.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n Convert Coxeter3 to a new-style spkg.\n+\n+**[tarball](https://github.com/sagemath/sage/files/ticket19178/coxeter3-1.1.tar.gz)**\n``````\n",
    "created_at": "2015-09-12T02:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274069",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 Convert Coxeter3 to a new-style spkg.
+
+**[tarball](https://github.com/sagemath/sage/files/ticket19178/coxeter3-1.1.tar.gz)**
``````




---

archive/issue_comments_274070.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nIIRC the source code in the spkg version of coxeter3 is a modified version on http://math.univ-lyon1.fr/~ducloux/coxeter/coxeter3/english/coxeter3_e.html. Nicolas, Anne, can one of you confirm this?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4acdc4e6ec9f57bda408983c2b5b283dd662554\">b4acdc4</a></td><td><code>Moved coxeter3 to a new-style spkg.</code></td></tr></table>\n",
    "created_at": "2015-09-12T02:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274070",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:1" align="right">Comment 1</div>

IIRC the source code in the spkg version of coxeter3 is a modified version on http://math.univ-lyon1.fr/~ducloux/coxeter/coxeter3/english/coxeter3_e.html. Nicolas, Anne, can one of you confirm this?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4acdc4e6ec9f57bda408983c2b5b283dd662554">b4acdc4</a></td><td><code>Moved coxeter3 to a new-style spkg.</code></td></tr></table>




---

archive/issue_comments_274071.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nThe bot complains:\n\n```\ntar xf /tmp/tmp4V4cir/coxeter3-1.1.tar.gz -C /tmp/tmp4V4cir\n\ngzip: stdin: not in gzip format\n```",
    "created_at": "2015-09-15T14:21:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274071",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2" align="right">Comment 2</div>

The bot complains:

```
tar xf /tmp/tmp4V4cir/coxeter3-1.1.tar.gz -C /tmp/tmp4V4cir

gzip: stdin: not in gzip format
```



---

archive/issue_comments_274072.json:
```json
{
    "body": "Attachment: **[coxeter3-1.1.tar.gz](https://github.com/sagemath/sage/files/ticket19178/coxeter3-1.1.tar.gz)**",
    "created_at": "2015-09-15T16:16:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274072",
    "user": "https://github.com/tscrim"
}
```

Attachment: **[coxeter3-1.1.tar.gz](https://github.com/sagemath/sage/files/ticket19178/coxeter3-1.1.tar.gz)**



---

archive/issue_comments_274073.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93d6d20ca0a6b4ef217cf1788496eb993126a689\">93d6d20</a></td><td><code>Merge branch 'develop' into u/tscrim/coxeter3_new_style_spkg-19178</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b3b32377cf35f1e70ac0395a187e810ad878ec5\">8b3b323</a></td><td><code>Changed checksum for new tarball.</code></td></tr></table>\n",
    "created_at": "2015-09-15T16:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274073",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93d6d20ca0a6b4ef217cf1788496eb993126a689">93d6d20</a></td><td><code>Merge branch 'develop' into u/tscrim/coxeter3_new_style_spkg-19178</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b3b32377cf35f1e70ac0395a187e810ad878ec5">8b3b323</a></td><td><code>Changed checksum for new tarball.</code></td></tr></table>




---

archive/issue_comments_274074.json:
```json
{
    "body": "Changed commit from **[b4acdc4](https://github.com/sagemath/sagetrac-mirror/commit/b4acdc4e6ec9f57bda408983c2b5b283dd662554)** to **[8b3b323](https://github.com/sagemath/sagetrac-mirror/commit/8b3b32377cf35f1e70ac0395a187e810ad878ec5)**",
    "created_at": "2015-09-15T16:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274074",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b4acdc4](https://github.com/sagemath/sagetrac-mirror/commit/b4acdc4e6ec9f57bda408983c2b5b283dd662554)** to **[8b3b323](https://github.com/sagemath/sagetrac-mirror/commit/8b3b32377cf35f1e70ac0395a187e810ad878ec5)**



---

archive/issue_comments_274075.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nHmm...I thought I did pass the gz flag. Perhaps this one will now work.",
    "created_at": "2015-09-15T16:17:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274075",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">Comment 4</div>

Hmm...I thought I did pass the gz flag. Perhaps this one will now work.



---

archive/issue_comments_274076.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Convert Coxeter3 to a new-style spkg.\n \n-**[tarball](https://github.com/sagemath/sage/files/ticket19178/coxeter3-1.1.tar.gz)**\n+**[tarball](http://trac.sagemath.org/raw-attachment/ticket/19178/coxeter3-1.1.tar.gz)**\n``````\n",
    "created_at": "2015-09-17T09:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274076",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Convert Coxeter3 to a new-style spkg.
 
-**[tarball](https://github.com/sagemath/sage/files/ticket19178/coxeter3-1.1.tar.gz)**
+**[tarball](http://trac.sagemath.org/raw-attachment/ticket/19178/coxeter3-1.1.tar.gz)**
``````




---

archive/issue_comments_274077.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nok, it was just because the link in the description was not an upload link (it was attachment instead of raw-attachment).",
    "created_at": "2015-09-17T09:41:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274077",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">Comment 6</div>

ok, it was just because the link in the description was not an upload link (it was attachment instead of raw-attachment).



---

archive/issue_comments_274078.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nI seem to get a lot of doctest failures after installing this package:\n\n```\nsage -t /Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 42, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.__init__\nFailed example:\n    TestSuite(CoxeterGroup(['A',2])).run()                    # optional - coxeter3\nExpected nothing\nGot:\n    Failure in _test_associativity:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/semigroups.py\", line 119, in _test_associativity\n        tester.assert_((x * y) * z == x * (y * z))\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2\n    ------------------------------------------------------------\n    Failure in _test_has_descent:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py\", line 774, in _test_has_descent\n        u = s[i] * s[j]\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2\n    ------------------------------------------------------------\n    Failure in _test_inverse:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/groups.py\", line 150, in _test_inverse\n        tester.assertEquals(x * ~x, self.one())\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 488, in __invert__\n        return self.parent()(~self.value)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2\n    ------------------------------------------------------------\n    Failure in _test_one:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 453, in _test_one\n        tester.assert_(x * one == x)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2\n    ------------------------------------------------------------\n    Failure in _test_prod:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/monoids.py\", line 195, in _test_prod\n        tester.assert_(self.prod([x]) == x)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/monoids.py\", line 166, in prod\n        return prod(args, self.one())\n      File \"sage/misc/misc_c.pyx\", line 146, in sage.misc.misc_c.prod (/Applications/sage/src/build/cythonized/sage/misc/misc_c.c:1966)\n        prod = z * prod\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2\n    ------------------------------------------------------------\n    Failure in _test_reduced_word:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py\", line 382, in _test_reduced_word\n        tester.assertEquals(self.from_reduced_word(red), x)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py\", line 365, in from_reduced_word\n        return self.one().apply_simple_reflections(word, side = 'right')\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py\", line 1459, in apply_simple_reflections\n        self = self.apply_simple_reflection(i, side)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py\", line 1562, in apply_simple_reflection\n        return self.apply_simple_reflection_right(i)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py\", line 1517, in apply_simple_reflection_right\n        return self * s[i]\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2\n    ------------------------------------------------------------\n    Failure in _test_simple_projections:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py\", line 738, in _test_simple_projections\n        tester.assert_(opi[i](w) == w.apply_simple_projection(i, side = side, length_increasing = False))\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py\", line 521, in <lambda>\n        return lambda x: x.apply_simple_projection(i, side = side, length_increasing = length_increasing)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py\", line 1374, in apply_simple_projection\n        return self.apply_simple_reflection(i, side=side)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py\", line 1564, in apply_simple_reflection\n        return self.apply_simple_reflection_left(i)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py\", line 1489, in apply_simple_reflection_left\n        return s[i] * self\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2\n    ------------------------------------------------------------\n    The following tests failed: _test_associativity, _test_has_descent, _test_inverse, _test_one, _test_prod, _test_reduced_word, _test_simple_projections\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 89, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.index_set\nFailed example:\n    W.index_set()                                          # optional - coxeter3\nExpected:\n    [1, 2, 3]\nGot:\n    (1, 2, 3)\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 92, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.index_set\nFailed example:\n    C.index_set()                                           # optional - coxeter3\nExpected:\n    [0, 1, 2, 3]\nGot:\n    (0, 1, 2, 3)\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 144, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.simple_reflections\nFailed example:\n    s[2]*s[1]*s[2]                                          # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.simple_reflections[2]>\", line 1, in <module>\n        s[Integer(2)]*s[Integer(1)]*s[Integer(2)]                                          # optional - coxeter3\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type A and rank 3\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 356, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial\nFailed example:\n    W.parabolic_kazhdan_lusztig_polynomial([],[3,2],[1,3])                    # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[1]>\", line 1, in <module>\n        W.parabolic_kazhdan_lusztig_polynomial([],[Integer(3),Integer(2)],[Integer(1),Integer(3)])                    # optional - coxeter3\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 388, in parabolic_kazhdan_lusztig_polynomial\n        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type A and rank 3\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 358, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial\nFailed example:\n    W.parabolic_kazhdan_lusztig_polynomial([2],[2,1,3,2],[1,3])               # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[2]>\", line 1, in <module>\n        W.parabolic_kazhdan_lusztig_polynomial([Integer(2)],[Integer(2),Integer(1),Integer(3),Integer(2)],[Integer(1),Integer(3)])               # optional - coxeter3\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 388, in parabolic_kazhdan_lusztig_polynomial\n        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type A and rank 3\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 362, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial\nFailed example:\n    C.parabolic_kazhdan_lusztig_polynomial([],[1],[0])                        # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[4]>\", line 1, in <module>\n        C.parabolic_kazhdan_lusztig_polynomial([],[Integer(1)],[Integer(0)])                        # optional - coxeter3\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 388, in parabolic_kazhdan_lusztig_polynomial\n        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type a and rank 4\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 364, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial\nFailed example:\n    C.parabolic_kazhdan_lusztig_polynomial([],[1,2,1],[0])                    # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[5]>\", line 1, in <module>\n        C.parabolic_kazhdan_lusztig_polynomial([],[Integer(1),Integer(2),Integer(1)],[Integer(0)])                    # optional - coxeter3\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 388, in parabolic_kazhdan_lusztig_polynomial\n        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type a and rank 4\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 366, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial\nFailed example:\n    C.parabolic_kazhdan_lusztig_polynomial([],[0,1,0,1,2,1],[0])              # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[6]>\", line 1, in <module>\n        C.parabolic_kazhdan_lusztig_polynomial([],[Integer(0),Integer(1),Integer(0),Integer(1),Integer(2),Integer(1)],[Integer(0)])              # optional - coxeter3\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 388, in parabolic_kazhdan_lusztig_polynomial\n        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type a and rank 4\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 370, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial\nFailed example:\n    C.parabolic_kazhdan_lusztig_polynomial(w,v,[1,3])                         # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[9]>\", line 1, in <module>\n        C.parabolic_kazhdan_lusztig_polynomial(w,v,[Integer(1),Integer(3)])                         # optional - coxeter3\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 388, in parabolic_kazhdan_lusztig_polynomial\n        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type a and rank 4\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 372, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial\nFailed example:\n    C.parabolic_kazhdan_lusztig_polynomial(w,v,[1,3],constant_term_one=False) # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[10]>\", line 1, in <module>\n        C.parabolic_kazhdan_lusztig_polynomial(w,v,[Integer(1),Integer(3)],constant_term_one=False) # optional - coxeter3\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 388, in parabolic_kazhdan_lusztig_polynomial\n        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type a and rank 4\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 378, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial\nFailed example:\n    type(W.parabolic_kazhdan_lusztig_polynomial([2],[],[1]))                  # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[12]>\", line 1, in <module>\n        type(W.parabolic_kazhdan_lusztig_polynomial([Integer(2)],[],[Integer(1)]))                  # optional - coxeter3\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 388, in parabolic_kazhdan_lusztig_polynomial\n        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py\", line 917, in __mul__\n        return self._mul_(right)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type A and rank 3\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 440, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.Element.coatoms\nFailed example:\n    w.coatoms()                                            # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.Element.coatoms[2]>\", line 1, in <module>\n        w.coatoms()                                            # optional - coxeter3\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 444, in coatoms\n        return [W(w) for w in self.value.coatoms()]\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type B and rank 3\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 485, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.Element.__invert__\nFailed example:\n    ~w                                                      # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.Element.__invert__[2]>\", line 1, in <module>\n        ~w                                                      # optional - coxeter3\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 488, in __invert__\n        return self.parent()(~self.value)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type A and rank 3\n**********************************************************************\nFile \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 514, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.Element._mul_\nFailed example:\n    s[1]._mul_(s[1])                                        # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.Element._mul_[2]>\", line 1, in <module>\n        s[Integer(1)]._mul_(s[Integer(1)])                                        # optional - coxeter3\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py\", line 520, in _mul_\n        return self.parent()(result)\n      File \"sage/structure/parent.pyx\", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent.pyx\", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not Coxeter group of type A and rank 3\n....\n```\n\nAlso, there are deprecation warnings when installing this package:\n\n```\ngcc version 4.9.2 (GCC)\n****************************************************\nsed: 1: \"directories.tmpl\": extra characters at the end of d command\npatching file makefile\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE affine.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE automata.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE bits.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE cells.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE commands.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE constants.cpp\nIn file included from commands.cpp:10:0:\ndirectories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const COXMATRIX_DIR = \"SAGE_LOCAL/coxeter/coxeter_matrices\";\n                               ^\ndirectories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const HEADER_DIR = \"SAGE_LOCAL/coxeter/headers\";\n                            ^\ndirectories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const MESSAGE_DIR = \"SAGE_LOCAL/coxeter/messages\";\n                             ^\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE coxgroup.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE coxtypes.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE error.cpp\nIn file included from error.cpp:13:0:\ndirectories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const COXMATRIX_DIR = \"SAGE_LOCAL/coxeter/coxeter_matrices\";\n                               ^\ndirectories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const HEADER_DIR = \"SAGE_LOCAL/coxeter/headers\";\n                            ^\ndirectories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const MESSAGE_DIR = \"SAGE_LOCAL/coxeter/messages\";\n                             ^\nIn file included from error.cpp:20:0:\nversion.h:12:22: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const NAME = \"Coxeter\";\n                      ^\nversion.h:13:25: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const VERSION = \"3.0_beta2\";\n                         ^\nIn file included from error.cpp:8:0:\nerror.cpp: In function 'void error::Error(int, ...)':\nerror.cpp:253:41: warning: 'const char* const' is promoted to 'const char*' when passed through '...'\n       const char *const str = va_arg(ap,const char *const);\n                                         ^\nerror.cpp:253:41: note: (so you should pass 'const char*' not 'const char* const' to 'va_arg')\nerror.cpp:253:41: note: if this code is reached, the program will abort\nerror.cpp:283:41: warning: 'const char* const' is promoted to 'const char*' when passed through '...'\n       const char *const str = va_arg(ap,const char *const);\n                                         ^\nerror.cpp:283:41: note: if this code is reached, the program will abort\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE fcoxgroup.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE files.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE general.cpp\nIn file included from files.cpp:11:0:\ndirectories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const COXMATRIX_DIR = \"SAGE_LOCAL/coxeter/coxeter_matrices\";\n                               ^\ndirectories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const HEADER_DIR = \"SAGE_LOCAL/coxeter/headers\";\n                            ^\ndirectories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const MESSAGE_DIR = \"SAGE_LOCAL/coxeter/messages\";\n                             ^\nIn file included from files.cpp:13:0:\nversion.h:12:22: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const NAME = \"Coxeter\";\n                      ^\nversion.h:13:25: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const VERSION = \"3.0_beta2\";\n                         ^\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE graph.cpp\nIn file included from graph.cpp:10:0:\ndirectories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const COXMATRIX_DIR = \"SAGE_LOCAL/coxeter/coxeter_matrices\";\n                               ^\ndirectories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const HEADER_DIR = \"SAGE_LOCAL/coxeter/headers\";\n                            ^\ndirectories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const MESSAGE_DIR = \"SAGE_LOCAL/coxeter/messages\";\n                             ^\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE help.cpp\nIn file included from help.cpp:11:0:\ndirectories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const COXMATRIX_DIR = \"SAGE_LOCAL/coxeter/coxeter_matrices\";\n                               ^\ndirectories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const HEADER_DIR = \"SAGE_LOCAL/coxeter/headers\";\n                            ^\ndirectories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const MESSAGE_DIR = \"SAGE_LOCAL/coxeter/messages\";\n                             ^\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE interactive.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE interface.cpp\nIn file included from interactive.cpp:14:0:\ndirectories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const COXMATRIX_DIR = \"SAGE_LOCAL/coxeter/coxeter_matrices\";\n                               ^\ndirectories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const HEADER_DIR = \"SAGE_LOCAL/coxeter/headers\";\n                            ^\ndirectories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const MESSAGE_DIR = \"SAGE_LOCAL/coxeter/messages\";\n                             ^\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE invkl.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE io.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE kl.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE klsupport.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE main.cpp\nIn file included from main.cpp:158:0:\nversion.h:12:22: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const NAME = \"Coxeter\";\n                      ^\nversion.h:13:25: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const VERSION = \"3.0_beta2\";\n                         ^\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE memory.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE minroots.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE posets.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE sage.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE schubert.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE special.cpp\nIn file included from special.cpp:10:0:\ndirectories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const COXMATRIX_DIR = \"SAGE_LOCAL/coxeter/coxeter_matrices\";\n                               ^\ndirectories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const HEADER_DIR = \"SAGE_LOCAL/coxeter/headers\";\n                            ^\ndirectories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]\n   char* const MESSAGE_DIR = \"SAGE_LOCAL/coxeter/messages\";\n                             ^\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE transducer.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE type.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE typeA.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE uneqkl.cpp\ng++ -c  -O2 -fPIC -g -DFAST -DALLTRUE wgraph.cpp\ng++ -dynamiclib -Wl,-headerpad_max_install_names,-undefined,dynamic_lookup,-compatibility_version,3.0,-current_version,3.0,-install_name,/Applications/sage/local/lib/libcoxeter3.dylib -o\nlibcoxeter3.dylib affine.o automata.o bits.o cells.o commands.o constants.o coxgroup.o coxtypes.o error.o fcoxgroup.o files.o general.o graph.o help.o interactive.o interface.o invkl.o io.o kl.o\nklsupport.o main.o memory.o minroots.o posets.o sage.o schubert.o special.o transducer.o type.o typeA.o uneqkl.o wgraph.o\ng++ -o coxeter affine.o automata.o bits.o cells.o commands.o constants.o coxgroup.o coxtypes.o error.o fcoxgroup.o files.o general.o graph.o help.o interactive.o interface.o invkl.o io.o kl.o\nklsupport.o main.o memory.o minroots.o posets.o sage.o schubert.o special.o transducer.o type.o typeA.o uneqkl.o wgraph.o\ng++ -o coxeter affine.o automata.o bits.o cells.o commands.o constants.o coxgroup.o coxtypes.o error.o fcoxgroup.o files.o general.o graph.o help.o interactive.o interface.o invkl.o io.o kl.o\nklsupport.o main.o memory.o minroots.o posets.o sage.o schubert.o special.o transducer.o type.o typeA.o uneqkl.o wgraph.o\ncp coxeter \"$SAGE_LOCAL/bin/\"\ncp libcoxeter3.dylib \"$SAGE_LOCAL/lib\"\nif [ Darwin = \"CYGWIN\" ]; then                 \\\n\t    cp  \"$SAGE_LOCAL/lib/\";  \\\n\tfi\nmkdir -p \"$SAGE_LOCAL/coxeter/\"\ncp -r coxeter_matrices headers messages \"$SAGE_LOCAL/coxeter/\"\nmkdir -p \"$SAGE_LOCAL/include/coxeter/\"\ncp -r *.h *.hpp \"$SAGE_LOCAL/include/coxeter/\"\n\nreal\t0m6.061s\nuser\t0m19.145s\nsys\t0m1.691s\nSuccessfully installed coxeter3-1.1\nDeleting temporary build directory\n/Applications/sage/local/var/tmp/sage/build/coxeter3-1.1\nFinished installing coxeter3-1.1.spkg\n\nreal\t0m6.637s\nuser\t0m19.409s\nsys\t0m1.966s\nSage build/upgrade complete!\n```",
    "created_at": "2015-09-19T04:47:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274078",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:7" align="right">Comment 7</div>

I seem to get a lot of doctest failures after installing this package:

```
sage -t /Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 42, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.__init__
Failed example:
    TestSuite(CoxeterGroup(['A',2])).run()                    # optional - coxeter3
Expected nothing
Got:
    Failure in _test_associativity:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/semigroups.py", line 119, in _test_associativity
        tester.assert_((x * y) * z == x * (y * z))
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2
    ------------------------------------------------------------
    Failure in _test_has_descent:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py", line 774, in _test_has_descent
        u = s[i] * s[j]
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2
    ------------------------------------------------------------
    Failure in _test_inverse:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/groups.py", line 150, in _test_inverse
        tester.assertEquals(x * ~x, self.one())
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 488, in __invert__
        return self.parent()(~self.value)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2
    ------------------------------------------------------------
    Failure in _test_one:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 453, in _test_one
        tester.assert_(x * one == x)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2
    ------------------------------------------------------------
    Failure in _test_prod:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/monoids.py", line 195, in _test_prod
        tester.assert_(self.prod([x]) == x)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/monoids.py", line 166, in prod
        return prod(args, self.one())
      File "sage/misc/misc_c.pyx", line 146, in sage.misc.misc_c.prod (/Applications/sage/src/build/cythonized/sage/misc/misc_c.c:1966)
        prod = z * prod
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2
    ------------------------------------------------------------
    Failure in _test_reduced_word:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py", line 382, in _test_reduced_word
        tester.assertEquals(self.from_reduced_word(red), x)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py", line 365, in from_reduced_word
        return self.one().apply_simple_reflections(word, side = 'right')
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py", line 1459, in apply_simple_reflections
        self = self.apply_simple_reflection(i, side)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py", line 1562, in apply_simple_reflection
        return self.apply_simple_reflection_right(i)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py", line 1517, in apply_simple_reflection_right
        return self * s[i]
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2
    ------------------------------------------------------------
    Failure in _test_simple_projections:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py", line 738, in _test_simple_projections
        tester.assert_(opi[i](w) == w.apply_simple_projection(i, side = side, length_increasing = False))
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py", line 521, in <lambda>
        return lambda x: x.apply_simple_projection(i, side = side, length_increasing = length_increasing)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py", line 1374, in apply_simple_projection
        return self.apply_simple_reflection(i, side=side)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py", line 1564, in apply_simple_reflection
        return self.apply_simple_reflection_left(i)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/coxeter_groups.py", line 1489, in apply_simple_reflection_left
        return s[i] * self
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type A and rank 2
    ------------------------------------------------------------
    The following tests failed: _test_associativity, _test_has_descent, _test_inverse, _test_one, _test_prod, _test_reduced_word, _test_simple_projections
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 89, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.index_set
Failed example:
    W.index_set()                                          # optional - coxeter3
Expected:
    [1, 2, 3]
Got:
    (1, 2, 3)
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 92, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.index_set
Failed example:
    C.index_set()                                           # optional - coxeter3
Expected:
    [0, 1, 2, 3]
Got:
    (0, 1, 2, 3)
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 144, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.simple_reflections
Failed example:
    s[2]*s[1]*s[2]                                          # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.simple_reflections[2]>", line 1, in <module>
        s[Integer(2)]*s[Integer(1)]*s[Integer(2)]                                          # optional - coxeter3
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type A and rank 3
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 356, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial
Failed example:
    W.parabolic_kazhdan_lusztig_polynomial([],[3,2],[1,3])                    # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[1]>", line 1, in <module>
        W.parabolic_kazhdan_lusztig_polynomial([],[Integer(3),Integer(2)],[Integer(1),Integer(3)])                    # optional - coxeter3
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 388, in parabolic_kazhdan_lusztig_polynomial
        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type A and rank 3
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 358, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial
Failed example:
    W.parabolic_kazhdan_lusztig_polynomial([2],[2,1,3,2],[1,3])               # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[2]>", line 1, in <module>
        W.parabolic_kazhdan_lusztig_polynomial([Integer(2)],[Integer(2),Integer(1),Integer(3),Integer(2)],[Integer(1),Integer(3)])               # optional - coxeter3
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 388, in parabolic_kazhdan_lusztig_polynomial
        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type A and rank 3
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 362, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial
Failed example:
    C.parabolic_kazhdan_lusztig_polynomial([],[1],[0])                        # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[4]>", line 1, in <module>
        C.parabolic_kazhdan_lusztig_polynomial([],[Integer(1)],[Integer(0)])                        # optional - coxeter3
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 388, in parabolic_kazhdan_lusztig_polynomial
        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type a and rank 4
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 364, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial
Failed example:
    C.parabolic_kazhdan_lusztig_polynomial([],[1,2,1],[0])                    # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[5]>", line 1, in <module>
        C.parabolic_kazhdan_lusztig_polynomial([],[Integer(1),Integer(2),Integer(1)],[Integer(0)])                    # optional - coxeter3
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 388, in parabolic_kazhdan_lusztig_polynomial
        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type a and rank 4
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 366, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial
Failed example:
    C.parabolic_kazhdan_lusztig_polynomial([],[0,1,0,1,2,1],[0])              # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[6]>", line 1, in <module>
        C.parabolic_kazhdan_lusztig_polynomial([],[Integer(0),Integer(1),Integer(0),Integer(1),Integer(2),Integer(1)],[Integer(0)])              # optional - coxeter3
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 388, in parabolic_kazhdan_lusztig_polynomial
        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type a and rank 4
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 370, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial
Failed example:
    C.parabolic_kazhdan_lusztig_polynomial(w,v,[1,3])                         # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[9]>", line 1, in <module>
        C.parabolic_kazhdan_lusztig_polynomial(w,v,[Integer(1),Integer(3)])                         # optional - coxeter3
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 388, in parabolic_kazhdan_lusztig_polynomial
        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type a and rank 4
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 372, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial
Failed example:
    C.parabolic_kazhdan_lusztig_polynomial(w,v,[1,3],constant_term_one=False) # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[10]>", line 1, in <module>
        C.parabolic_kazhdan_lusztig_polynomial(w,v,[Integer(1),Integer(3)],constant_term_one=False) # optional - coxeter3
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 388, in parabolic_kazhdan_lusztig_polynomial
        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type a and rank 4
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 378, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial
Failed example:
    type(W.parabolic_kazhdan_lusztig_polynomial([2],[],[1]))                  # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[12]>", line 1, in <module>
        type(W.parabolic_kazhdan_lusztig_polynomial([Integer(2)],[],[Integer(1)]))                  # optional - coxeter3
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 388, in parabolic_kazhdan_lusztig_polynomial
        subgroup = [ z for z in self.weak_order_ideal(lambda x: set(x.descents()).issubset(set(J))) if (u*z).bruhat_le(v) ]
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/magmas.py", line 917, in __mul__
        return self._mul_(right)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type A and rank 3
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 440, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.Element.coatoms
Failed example:
    w.coatoms()                                            # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.Element.coatoms[2]>", line 1, in <module>
        w.coatoms()                                            # optional - coxeter3
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 444, in coatoms
        return [W(w) for w in self.value.coatoms()]
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type B and rank 3
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 485, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.Element.__invert__
Failed example:
    ~w                                                      # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.Element.__invert__[2]>", line 1, in <module>
        ~w                                                      # optional - coxeter3
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 488, in __invert__
        return self.parent()(~self.value)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type A and rank 3
**********************************************************************
File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 514, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.Element._mul_
Failed example:
    s[1]._mul_(s[1])                                        # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.Element._mul_[2]>", line 1, in <module>
        s[Integer(1)]._mul_(s[Integer(1)])                                        # optional - coxeter3
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/libs/coxeter3/coxeter_group.py", line 520, in _mul_
        return self.parent()(result)
      File "sage/structure/parent.pyx", line 1093, in sage.structure.parent.Parent.__call__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:9808)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2655, in sage.structure.parent.Parent._internal_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:20725)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2693, in sage.structure.parent.Parent.discover_convert_map_from (/Applications/sage/src/build/cythonized/sage/structure/parent.c:21299)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent.pyx", line 2164, in sage.structure.parent.Parent._generic_convert_map (/Applications/sage/src/build/cythonized/sage/structure/parent.c:17442)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 38, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (/Applications/sage/src/build/cythonized/sage/structure/coerce_maps.c:2810)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 3034, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25744)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3065, in sage.structure.parent.Set_PythonType (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25645)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3099, in sage.structure.parent.Set_PythonType_class.__init__ (/Applications/sage/src/build/cythonized/sage/structure/parent.c:25871)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not Coxeter group of type A and rank 3
....
```

Also, there are deprecation warnings when installing this package:

```
gcc version 4.9.2 (GCC)
****************************************************
sed: 1: "directories.tmpl": extra characters at the end of d command
patching file makefile
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE affine.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE automata.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE bits.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE cells.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE commands.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE constants.cpp
In file included from commands.cpp:10:0:
directories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const COXMATRIX_DIR = "SAGE_LOCAL/coxeter/coxeter_matrices";
                               ^
directories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const HEADER_DIR = "SAGE_LOCAL/coxeter/headers";
                            ^
directories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const MESSAGE_DIR = "SAGE_LOCAL/coxeter/messages";
                             ^
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE coxgroup.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE coxtypes.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE error.cpp
In file included from error.cpp:13:0:
directories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const COXMATRIX_DIR = "SAGE_LOCAL/coxeter/coxeter_matrices";
                               ^
directories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const HEADER_DIR = "SAGE_LOCAL/coxeter/headers";
                            ^
directories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const MESSAGE_DIR = "SAGE_LOCAL/coxeter/messages";
                             ^
In file included from error.cpp:20:0:
version.h:12:22: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const NAME = "Coxeter";
                      ^
version.h:13:25: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const VERSION = "3.0_beta2";
                         ^
In file included from error.cpp:8:0:
error.cpp: In function 'void error::Error(int, ...)':
error.cpp:253:41: warning: 'const char* const' is promoted to 'const char*' when passed through '...'
       const char *const str = va_arg(ap,const char *const);
                                         ^
error.cpp:253:41: note: (so you should pass 'const char*' not 'const char* const' to 'va_arg')
error.cpp:253:41: note: if this code is reached, the program will abort
error.cpp:283:41: warning: 'const char* const' is promoted to 'const char*' when passed through '...'
       const char *const str = va_arg(ap,const char *const);
                                         ^
error.cpp:283:41: note: if this code is reached, the program will abort
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE fcoxgroup.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE files.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE general.cpp
In file included from files.cpp:11:0:
directories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const COXMATRIX_DIR = "SAGE_LOCAL/coxeter/coxeter_matrices";
                               ^
directories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const HEADER_DIR = "SAGE_LOCAL/coxeter/headers";
                            ^
directories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const MESSAGE_DIR = "SAGE_LOCAL/coxeter/messages";
                             ^
In file included from files.cpp:13:0:
version.h:12:22: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const NAME = "Coxeter";
                      ^
version.h:13:25: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const VERSION = "3.0_beta2";
                         ^
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE graph.cpp
In file included from graph.cpp:10:0:
directories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const COXMATRIX_DIR = "SAGE_LOCAL/coxeter/coxeter_matrices";
                               ^
directories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const HEADER_DIR = "SAGE_LOCAL/coxeter/headers";
                            ^
directories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const MESSAGE_DIR = "SAGE_LOCAL/coxeter/messages";
                             ^
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE help.cpp
In file included from help.cpp:11:0:
directories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const COXMATRIX_DIR = "SAGE_LOCAL/coxeter/coxeter_matrices";
                               ^
directories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const HEADER_DIR = "SAGE_LOCAL/coxeter/headers";
                            ^
directories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const MESSAGE_DIR = "SAGE_LOCAL/coxeter/messages";
                             ^
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE interactive.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE interface.cpp
In file included from interactive.cpp:14:0:
directories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const COXMATRIX_DIR = "SAGE_LOCAL/coxeter/coxeter_matrices";
                               ^
directories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const HEADER_DIR = "SAGE_LOCAL/coxeter/headers";
                            ^
directories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const MESSAGE_DIR = "SAGE_LOCAL/coxeter/messages";
                             ^
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE invkl.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE io.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE kl.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE klsupport.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE main.cpp
In file included from main.cpp:158:0:
version.h:12:22: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const NAME = "Coxeter";
                      ^
version.h:13:25: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const VERSION = "3.0_beta2";
                         ^
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE memory.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE minroots.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE posets.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE sage.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE schubert.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE special.cpp
In file included from special.cpp:10:0:
directories.h:27:31: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const COXMATRIX_DIR = "SAGE_LOCAL/coxeter/coxeter_matrices";
                               ^
directories.h:28:28: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const HEADER_DIR = "SAGE_LOCAL/coxeter/headers";
                            ^
directories.h:29:29: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char* const MESSAGE_DIR = "SAGE_LOCAL/coxeter/messages";
                             ^
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE transducer.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE type.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE typeA.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE uneqkl.cpp
g++ -c  -O2 -fPIC -g -DFAST -DALLTRUE wgraph.cpp
g++ -dynamiclib -Wl,-headerpad_max_install_names,-undefined,dynamic_lookup,-compatibility_version,3.0,-current_version,3.0,-install_name,/Applications/sage/local/lib/libcoxeter3.dylib -o
libcoxeter3.dylib affine.o automata.o bits.o cells.o commands.o constants.o coxgroup.o coxtypes.o error.o fcoxgroup.o files.o general.o graph.o help.o interactive.o interface.o invkl.o io.o kl.o
klsupport.o main.o memory.o minroots.o posets.o sage.o schubert.o special.o transducer.o type.o typeA.o uneqkl.o wgraph.o
g++ -o coxeter affine.o automata.o bits.o cells.o commands.o constants.o coxgroup.o coxtypes.o error.o fcoxgroup.o files.o general.o graph.o help.o interactive.o interface.o invkl.o io.o kl.o
klsupport.o main.o memory.o minroots.o posets.o sage.o schubert.o special.o transducer.o type.o typeA.o uneqkl.o wgraph.o
g++ -o coxeter affine.o automata.o bits.o cells.o commands.o constants.o coxgroup.o coxtypes.o error.o fcoxgroup.o files.o general.o graph.o help.o interactive.o interface.o invkl.o io.o kl.o
klsupport.o main.o memory.o minroots.o posets.o sage.o schubert.o special.o transducer.o type.o typeA.o uneqkl.o wgraph.o
cp coxeter "$SAGE_LOCAL/bin/"
cp libcoxeter3.dylib "$SAGE_LOCAL/lib"
if [ Darwin = "CYGWIN" ]; then                 \
	    cp  "$SAGE_LOCAL/lib/";  \
	fi
mkdir -p "$SAGE_LOCAL/coxeter/"
cp -r coxeter_matrices headers messages "$SAGE_LOCAL/coxeter/"
mkdir -p "$SAGE_LOCAL/include/coxeter/"
cp -r *.h *.hpp "$SAGE_LOCAL/include/coxeter/"

real	0m6.061s
user	0m19.145s
sys	0m1.691s
Successfully installed coxeter3-1.1
Deleting temporary build directory
/Applications/sage/local/var/tmp/sage/build/coxeter3-1.1
Finished installing coxeter3-1.1.spkg

real	0m6.637s
user	0m19.409s
sys	0m1.966s
Sage build/upgrade complete!
```



---

archive/issue_comments_274079.json:
```json
{
    "body": "Changed commit from **[8b3b323](https://github.com/sagemath/sagetrac-mirror/commit/8b3b32377cf35f1e70ac0395a187e810ad878ec5)** to **[238280a](https://github.com/sagemath/sagetrac-mirror/commit/238280ab6ea145da3321ccffd853046e73c211d2)**",
    "created_at": "2015-09-19T15:24:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274079",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8b3b323](https://github.com/sagemath/sagetrac-mirror/commit/8b3b32377cf35f1e70ac0395a187e810ad878ec5)** to **[238280a](https://github.com/sagemath/sagetrac-mirror/commit/238280ab6ea145da3321ccffd853046e73c211d2)**



---

archive/issue_comments_274080.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70d8a0e9c970497ac554d1af1d3fa6c175a15379\">70d8a0e</a></td><td><code>Moving decl.pxi to decl.pxd and trivial doctest fixes.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/238280ab6ea145da3321ccffd853046e73c211d2\">238280a</a></td><td><code>changed parent() to parent_group() to not confuse the coercion system.</code></td></tr></table>\n",
    "created_at": "2015-09-19T15:24:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274080",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8" align="right">Comment 8</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70d8a0e9c970497ac554d1af1d3fa6c175a15379">70d8a0e</a></td><td><code>Moving decl.pxi to decl.pxd and trivial doctest fixes.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/238280ab6ea145da3321ccffd853046e73c211d2">238280a</a></td><td><code>changed parent() to parent_group() to not confuse the coercion system.</code></td></tr></table>




---

archive/issue_comments_274081.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nChanges over the years to the coercion system have made it so that if an element has a `.parent()` method, then the object returned should be a subclass of `Parent`. Since `CoxGroupElement` is meant to be a backend interface, I made the less invasive change of renaming `_parent` and `parent()` to `_parent_group` and `parent_group()`. This fixes the issue.\n\nI also renamed the `.pxi` file to `.pxd` because this is more standard now, and there were 3 other trivial doctest failures that I fixed.",
    "created_at": "2015-09-19T15:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274081",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">Comment 9</div>

Changes over the years to the coercion system have made it so that if an element has a `.parent()` method, then the object returned should be a subclass of `Parent`. Since `CoxGroupElement` is meant to be a backend interface, I made the less invasive change of renaming `_parent` and `parent()` to `_parent_group` and `parent_group()`. This fixes the issue.

I also renamed the `.pxi` file to `.pxd` because this is more standard now, and there were 3 other trivial doctest failures that I fixed.



---

archive/issue_comments_274082.json:
```json
{
    "body": "Changed commit from **[238280a](https://github.com/sagemath/sagetrac-mirror/commit/238280ab6ea145da3321ccffd853046e73c211d2)** to **[5bdccbf](https://github.com/sagemath/sagetrac-mirror/commit/5bdccbfb4a9ad50de7e467a9f3b5c7eb2a4f3532)**",
    "created_at": "2015-09-19T17:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274082",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[238280a](https://github.com/sagemath/sagetrac-mirror/commit/238280ab6ea145da3321ccffd853046e73c211d2)** to **[5bdccbf](https://github.com/sagemath/sagetrac-mirror/commit/5bdccbfb4a9ad50de7e467a9f3b5c7eb2a4f3532)**



---

archive/issue_comments_274083.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1127701c1726962166f60f6a2e784fdd33754a0e\">1127701</a></td><td><code>Some more tweaks and getting some more speed from the interface.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5bdccbfb4a9ad50de7e467a9f3b5c7eb2a4f3532\">5bdccbf</a></td><td><code>Getting even more speed out of the KL code and fixing dumb mistakes.</code></td></tr></table>\n",
    "created_at": "2015-09-19T17:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274083",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10" align="right">Comment 10</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1127701c1726962166f60f6a2e784fdd33754a0e">1127701</a></td><td><code>Some more tweaks and getting some more speed from the interface.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5bdccbfb4a9ad50de7e467a9f3b5c7eb2a4f3532">5bdccbf</a></td><td><code>Getting even more speed out of the KL code and fixing dumb mistakes.</code></td></tr></table>




---

archive/issue_comments_274084.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nI couldn't resist going in and making some other improvements to the code:\n\n```\nsage: C = CoxeterGroup(['B', 5], implementation='coxeter3')\nsage: %timeit L = [C.kazhdan_lusztig_polynomial(C.one(),w) for w in C]\n1 loops, best of 3: 387 ms per loop\nsage: %timeit L = [C.kazhdan_lusztig_polynomial(C.one(),w,False) for w in C]\n1 loops, best of 3: 467 ms per loop\n```\nversus previously\n\n```\nsage: %timeit L = [C.kazhdan_lusztig_polynomial(C.one(),w) for w in C]\n1 loops, best of 3: 772 ms per loop\nsage: %timeit L = [C.kazhdan_lusztig_polynomial(C.one(),w,False) for w in C]\n1 loops, best of 3: 857 ms per loop\n```\nIn summary, I got a ~2x speedup from not converting to a string as an intermediate object (but I'm probably taking advantage of recent upgrades in cython to do so). I also avoiding creating things in the fraction field for the non-constant coefficient KL polynomials. There were some other micro-optimizations and things I changed for better practices.",
    "created_at": "2015-09-19T17:35:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274084",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">Comment 11</div>

I couldn't resist going in and making some other improvements to the code:

```
sage: C = CoxeterGroup(['B', 5], implementation='coxeter3')
sage: %timeit L = [C.kazhdan_lusztig_polynomial(C.one(),w) for w in C]
1 loops, best of 3: 387 ms per loop
sage: %timeit L = [C.kazhdan_lusztig_polynomial(C.one(),w,False) for w in C]
1 loops, best of 3: 467 ms per loop
```
versus previously

```
sage: %timeit L = [C.kazhdan_lusztig_polynomial(C.one(),w) for w in C]
1 loops, best of 3: 772 ms per loop
sage: %timeit L = [C.kazhdan_lusztig_polynomial(C.one(),w,False) for w in C]
1 loops, best of 3: 857 ms per loop
```
In summary, I got a ~2x speedup from not converting to a string as an intermediate object (but I'm probably taking advantage of recent upgrades in cython to do so). I also avoiding creating things in the fraction field for the non-constant coefficient KL polynomials. There were some other micro-optimizations and things I changed for better practices.



---

archive/issue_comments_274085.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI should also note that the non-constant coefficient KL polynomials are now sparse to avoid filling up memory with a lot of long lists full of 0's.",
    "created_at": "2015-09-19T17:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274085",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">Comment 12</div>

I should also note that the non-constant coefficient KL polynomials are now sparse to avoid filling up memory with a lot of long lists full of 0's.



---

archive/issue_comments_274086.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\n`.pxd` files are meant to be cimported, not included. So you should change `include ...` to `from ... cimport ...`",
    "created_at": "2015-09-19T18:41:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274086",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">Comment 13</div>

`.pxd` files are meant to be cimported, not included. So you should change `include ...` to `from ... cimport ...`



---

archive/issue_events_254527.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-19T18:41:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19178#event-254527"
}
```



---

archive/issue_events_254528.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-19T18:41:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19178#event-254528"
}
```



---

archive/issue_comments_274087.json:
```json
{
    "body": "Changed commit from **[5bdccbf](https://github.com/sagemath/sagetrac-mirror/commit/5bdccbfb4a9ad50de7e467a9f3b5c7eb2a4f3532)** to **[c3e6424](https://github.com/sagemath/sagetrac-mirror/commit/c3e6424a25ca185dcb443033099bbe8c6ae47b6c)**",
    "created_at": "2015-09-19T19:20:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274087",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5bdccbf](https://github.com/sagemath/sagetrac-mirror/commit/5bdccbfb4a9ad50de7e467a9f3b5c7eb2a4f3532)** to **[c3e6424](https://github.com/sagemath/sagetrac-mirror/commit/c3e6424a25ca185dcb443033099bbe8c6ae47b6c)**



---

archive/issue_comments_274088.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3e6424a25ca185dcb443033099bbe8c6ae47b6c\">c3e6424</a></td><td><code>Reverting decl.pxd to decl.pxi and consistant return type for deg().</code></td></tr></table>\n",
    "created_at": "2015-09-19T19:20:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274088",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15" align="right">Comment 15</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3e6424a25ca185dcb443033099bbe8c6ae47b6c">c3e6424</a></td><td><code>Reverting decl.pxd to decl.pxi and consistant return type for deg().</code></td></tr></table>




---

archive/issue_comments_274089.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nReplying to [@jdemeyer](#comment%3A13):\n> `.pxd` files are meant to be cimported, not included. So you should change `include ...` to `from ... cimport ...`\n\nI see; so since everything seems to be used, I reverted it back to a `.pxi`.",
    "created_at": "2015-09-19T19:21:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274089",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:16" align="right">Comment 16</div>

Replying to [@jdemeyer](#comment%3A13):
> `.pxd` files are meant to be cimported, not included. So you should change `include ...` to `from ... cimport ...`

I see; so since everything seems to be used, I reverted it back to a `.pxi`.



---

archive/issue_events_254529.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-09-19T19:21:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19178#event-254529"
}
```



---

archive/issue_events_254530.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-09-19T19:21:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19178#event-254530"
}
```



---

archive/issue_comments_274090.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nReplying to [@tscrim](#comment%3A16):\n> so since everything seems to be used, I reverted it back to a `.pxi`.\n\nWhy is it relevant that *everything* is used? Cython does support `from .decl cimport *`",
    "created_at": "2015-09-19T21:52:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274090",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">Comment 17</div>

Replying to [@tscrim](#comment%3A16):
> so since everything seems to be used, I reverted it back to a `.pxi`.

Why is it relevant that *everything* is used? Cython does support `from .decl cimport *`



---

archive/issue_comments_274091.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nOkay, there's still a few gaps in my cython knowledge. So I should change this to a pxd file and do `from .decl cimport *`? Does this behave differently than using `include \"decl.pxi\"`?",
    "created_at": "2015-09-19T22:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274091",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">Comment 18</div>

Okay, there's still a few gaps in my cython knowledge. So I should change this to a pxd file and do `from .decl cimport *`? Does this behave differently than using `include "decl.pxi"`?



---

archive/issue_comments_274092.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nReplying to [@tscrim](#comment%3A18):\n> So I should change this to a pxd file and do `from .decl cimport *`?\n\nI'm not really saying that you should, but it's a good thing to do.\n\n> Does this behave differently than using `include \"decl.pxi\"`?\n\nYes. However, if you're lucky, it might just work. If not, look at the error messages and try to fix things.",
    "created_at": "2015-09-20T07:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274092",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">Comment 19</div>

Replying to [@tscrim](#comment%3A18):
> So I should change this to a pxd file and do `from .decl cimport *`?

I'm not really saying that you should, but it's a good thing to do.

> Does this behave differently than using `include "decl.pxi"`?

Yes. However, if you're lucky, it might just work. If not, look at the error messages and try to fix things.



---

archive/issue_comments_274093.json:
```json
{
    "body": "Changed branch from **[u/tscrim/coxeter3_new_style_spkg-19178](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/coxeter3_new_style_spkg-19178)** to **[u/tscrim/coxeter3_spkg_update-19178](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/coxeter3_spkg_update-19178)**",
    "created_at": "2015-09-20T16:56:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274093",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/tscrim/coxeter3_new_style_spkg-19178](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/coxeter3_new_style_spkg-19178)** to **[u/tscrim/coxeter3_spkg_update-19178](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/coxeter3_spkg_update-19178)**



---

archive/issue_comments_274094.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nReplying to [@jdemeyer](#comment%3A19):\n> Replying to [@tscrim](#comment%3A18):\n> > So I should change this to a pxd file and do `from .decl cimport *`?\n\n> I'm not really saying that you should, but it's a good thing to do.\n\nThen lets do it.\n\n> > Does this behave differently than using `include \"decl.pxi\"`?\n\n> Yes. However, if you're lucky, it might just work. If not, look at the error messages and try to fix things.\n\nNothing broke as far as I can see.",
    "created_at": "2015-09-20T16:56:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274094",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">Comment 20</div>

Replying to [@jdemeyer](#comment%3A19):
> Replying to [@tscrim](#comment%3A18):
> > So I should change this to a pxd file and do `from .decl cimport *`?

> I'm not really saying that you should, but it's a good thing to do.

Then lets do it.

> > Does this behave differently than using `include "decl.pxi"`?

> Yes. However, if you're lucky, it might just work. If not, look at the error messages and try to fix things.

Nothing broke as far as I can see.



---

archive/issue_comments_274095.json:
```json
{
    "body": "Changed commit from **[c3e6424](https://github.com/sagemath/sagetrac-mirror/commit/c3e6424a25ca185dcb443033099bbe8c6ae47b6c)** to **[5bdccbf](https://github.com/sagemath/sagetrac-mirror/commit/5bdccbfb4a9ad50de7e467a9f3b5c7eb2a4f3532)**",
    "created_at": "2015-09-20T16:56:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274095",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[c3e6424](https://github.com/sagemath/sagetrac-mirror/commit/c3e6424a25ca185dcb443033099bbe8c6ae47b6c)** to **[5bdccbf](https://github.com/sagemath/sagetrac-mirror/commit/5bdccbfb4a9ad50de7e467a9f3b5c7eb2a4f3532)**



---

archive/issue_comments_274096.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14339563196c791f53b104fd25caf70101a7f5c5\">1433956</a></td><td><code>Changed import type.</code></td></tr></table>\n",
    "created_at": "2015-09-20T17:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274096",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21" align="right">Comment 21</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14339563196c791f53b104fd25caf70101a7f5c5">1433956</a></td><td><code>Changed import type.</code></td></tr></table>




---

archive/issue_comments_274097.json:
```json
{
    "body": "Changed commit from **[5bdccbf](https://github.com/sagemath/sagetrac-mirror/commit/5bdccbfb4a9ad50de7e467a9f3b5c7eb2a4f3532)** to **[1433956](https://github.com/sagemath/sagetrac-mirror/commit/14339563196c791f53b104fd25caf70101a7f5c5)**",
    "created_at": "2015-09-20T17:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274097",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5bdccbf](https://github.com/sagemath/sagetrac-mirror/commit/5bdccbfb4a9ad50de7e467a9f3b5c7eb2a4f3532)** to **[1433956](https://github.com/sagemath/sagetrac-mirror/commit/14339563196c791f53b104fd25caf70101a7f5c5)**



---

archive/issue_comments_274098.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6067d0648e657cc47b340271fa87455672dda741\">6067d06</a></td><td><code>Merge branch 'u/tscrim/coxeter3_spkg_update-19178' of trac.sagemath.org:sage into u/tscrim/coxeter3_spkg_update-19178</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/456691e67ce8b2e41e66604423afc462f009c28c\">456691e</a></td><td><code>Fixing deprecation warnings.</code></td></tr></table>\n",
    "created_at": "2015-09-23T16:26:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274098",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22" align="right">Comment 22</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6067d0648e657cc47b340271fa87455672dda741">6067d06</a></td><td><code>Merge branch 'u/tscrim/coxeter3_spkg_update-19178' of trac.sagemath.org:sage into u/tscrim/coxeter3_spkg_update-19178</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/456691e67ce8b2e41e66604423afc462f009c28c">456691e</a></td><td><code>Fixing deprecation warnings.</code></td></tr></table>




---

archive/issue_comments_274099.json:
```json
{
    "body": "Changed commit from **[1433956](https://github.com/sagemath/sagetrac-mirror/commit/14339563196c791f53b104fd25caf70101a7f5c5)** to **[456691e](https://github.com/sagemath/sagetrac-mirror/commit/456691e67ce8b2e41e66604423afc462f009c28c)**",
    "created_at": "2015-09-23T16:26:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274099",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1433956](https://github.com/sagemath/sagetrac-mirror/commit/14339563196c791f53b104fd25caf70101a7f5c5)** to **[456691e](https://github.com/sagemath/sagetrac-mirror/commit/456691e67ce8b2e41e66604423afc462f009c28c)**



---

archive/issue_comments_274100.json:
```json
{
    "body": "Changed commit from **[456691e](https://github.com/sagemath/sagetrac-mirror/commit/456691e67ce8b2e41e66604423afc462f009c28c)** to **[13b836d](https://github.com/sagemath/sagetrac-mirror/commit/13b836dae13cdb11a5705767555c17647ab9119f)**",
    "created_at": "2015-09-23T16:37:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274100",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[456691e](https://github.com/sagemath/sagetrac-mirror/commit/456691e67ce8b2e41e66604423afc462f009c28c)** to **[13b836d](https://github.com/sagemath/sagetrac-mirror/commit/13b836dae13cdb11a5705767555c17647ab9119f)**



---

archive/issue_comments_274101.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13b836dae13cdb11a5705767555c17647ab9119f\">13b836d</a></td><td><code>Updated SPKG.txt.</code></td></tr></table>\n",
    "created_at": "2015-09-23T16:37:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274101",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23" align="right">Comment 23</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13b836dae13cdb11a5705767555c17647ab9119f">13b836d</a></td><td><code>Updated SPKG.txt.</code></td></tr></table>




---

archive/issue_comments_274102.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nI've added a patch which gets rid of the deprecation warnings.\n\nNote, I have begun taking over the project as upstream and welcome help (I've updated `SPKG.txt` accordingly). However, for the time being, I think it would be a good idea to merge this ticket in since it is new-style, it gives us some nice speedups by improving the interaction, and the tarball posted here is the same as on Fokko's website. Is someone willing to finish the review?",
    "created_at": "2015-09-23T16:38:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274102",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:24" align="right">Comment 24</div>

I've added a patch which gets rid of the deprecation warnings.

Note, I have begun taking over the project as upstream and welcome help (I've updated `SPKG.txt` accordingly). However, for the time being, I think it would be a good idea to merge this ticket in since it is new-style, it gives us some nice speedups by improving the interaction, and the tarball posted here is the same as on Fokko's website. Is someone willing to finish the review?



---

archive/issue_comments_274103.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-09-23T16:38:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274103",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_274104.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@tscrim](#comment%3A24):\n> Is someone willing to finish the review?\n\nSorry, not me. Preferably the review should be done by somebody who actually knows the package.",
    "created_at": "2015-09-23T16:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274104",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@tscrim](#comment%3A24):
> Is someone willing to finish the review?

Sorry, not me. Preferably the review should be done by somebody who actually knows the package.



---

archive/issue_comments_274105.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nFranco is visiting me for a couple of days, so I am going to try to review this patch with him!",
    "created_at": "2015-09-23T23:13:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274105",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:26" align="right">Comment 26</div>

Franco is visiting me for a couple of days, so I am going to try to review this patch with him!



---

archive/issue_comments_274106.json:
```json
{
    "body": "Changed reviewer from **Jeroen Demeyer** to none",
    "created_at": "2015-09-23T23:13:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274106",
    "user": "https://github.com/anneschilling"
}
```

Changed reviewer from **Jeroen Demeyer** to none



---

archive/issue_comments_274107.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nThe weird thing is that when I run\n\n```\nsage -t coxeter_group.py\n**********************************************************************\nFile \"coxeter_group.py\", line 322, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.kazhdan_lusztig_polynomial\nFailed example:\n    all(KL.P(1,w) == C.kazhdan_lusztig_polynomial([],w.reduced_word()) for w in W)  # optional - coxeter3  # long (15s)\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.kazhdan_lusztig_polynomial[9]>\", line 1, in <module>\n        all(KL.P(Integer(1),w) == C.kazhdan_lusztig_polynomial([],w.reduced_word()) for w in W)  # optional - coxeter3  # long (15s)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.kazhdan_lusztig_polynomial[9]>\", line 1, in <genexpr>\n        all(KL.P(Integer(1),w) == C.kazhdan_lusztig_polynomial([],w.reduced_word()) for w in W)  # optional - coxeter3  # long (15s)\n    NameError: global name 'KL' is not defined\n**********************************************************************\nFile \"coxeter_group.py\", line 378, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial\nFailed example:\n    C.parabolic_kazhdan_lusztig_polynomial(w,v,[1,3])                         # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[7]>\", line 1, in <module>\n        C.parabolic_kazhdan_lusztig_polynomial(w,v,[Integer(1),Integer(3)])                         # optional - coxeter3\n    NameError: name 'w' is not defined\n**********************************************************************\nFile \"coxeter_group.py\", line 380, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial\nFailed example:\n    C.parabolic_kazhdan_lusztig_polynomial(w,v,[1,3],constant_term_one=False) # optional - coxeter3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[8]>\", line 1, in <module>\n        C.parabolic_kazhdan_lusztig_polynomial(w,v,[Integer(1),Integer(3)],constant_term_one=False) # optional - coxeter3\n    NameError: name 'w' is not defined\n**********************************************************************\n2 items had failures:\n   1 of  11 in sage.libs.coxeter3.coxeter_group.CoxeterGroup.kazhdan_lusztig_polynomial\n   2 of  12 in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial\n    [124 tests, 3 failures, 0.38 s]\n----------------------------------------------------------------------\nsage -t coxeter_group.py  # 3 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 0.4 seconds\n    cpu time: 0.4 seconds\n    cumulative wall time: 0.4 seconds\n```\nI get errors. But I think this is due to the fact that it *only* runs the coxeter3 tests and not the other ones. Is this new? I do not remember that this is how it was before. Running\n\n```\nlolita:coxeter3 anne$ sage -t --optional=sage,coxeter3 --long *\ntoo many failed tests, not using stored timings\nRunning doctests with ID 2015-09-23-18-04-02-5d5fd2e5.\nGit branch: u/tscrim/coxeter3_new_style_spkg-19178\nUsing --optional=coxeter3,sage\nDoctesting 5 files.\nsage -t --long __init__.py\n    [0 tests, 0.00 s]\nsage -t --long coxeter.pxd\n    [0 tests, 0.00 s]\nsage -t --long coxeter.pyx\n    [257 tests, 0.14 s]\nsage -t --long coxeter_group.py\n    [130 tests, 7.90 s]\nsage -t --long decl.pxi\n    [0 tests, 0.00 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 8.2 seconds\n    cpu time: 8.0 seconds\n    cumulative wall time: 8.0 seconds\n```\nworks fine.",
    "created_at": "2015-09-24T01:04:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274107",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:28" align="right">Comment 28</div>

The weird thing is that when I run

```
sage -t coxeter_group.py
**********************************************************************
File "coxeter_group.py", line 322, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.kazhdan_lusztig_polynomial
Failed example:
    all(KL.P(1,w) == C.kazhdan_lusztig_polynomial([],w.reduced_word()) for w in W)  # optional - coxeter3  # long (15s)
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.kazhdan_lusztig_polynomial[9]>", line 1, in <module>
        all(KL.P(Integer(1),w) == C.kazhdan_lusztig_polynomial([],w.reduced_word()) for w in W)  # optional - coxeter3  # long (15s)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.kazhdan_lusztig_polynomial[9]>", line 1, in <genexpr>
        all(KL.P(Integer(1),w) == C.kazhdan_lusztig_polynomial([],w.reduced_word()) for w in W)  # optional - coxeter3  # long (15s)
    NameError: global name 'KL' is not defined
**********************************************************************
File "coxeter_group.py", line 378, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial
Failed example:
    C.parabolic_kazhdan_lusztig_polynomial(w,v,[1,3])                         # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[7]>", line 1, in <module>
        C.parabolic_kazhdan_lusztig_polynomial(w,v,[Integer(1),Integer(3)])                         # optional - coxeter3
    NameError: name 'w' is not defined
**********************************************************************
File "coxeter_group.py", line 380, in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial
Failed example:
    C.parabolic_kazhdan_lusztig_polynomial(w,v,[1,3],constant_term_one=False) # optional - coxeter3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial[8]>", line 1, in <module>
        C.parabolic_kazhdan_lusztig_polynomial(w,v,[Integer(1),Integer(3)],constant_term_one=False) # optional - coxeter3
    NameError: name 'w' is not defined
**********************************************************************
2 items had failures:
   1 of  11 in sage.libs.coxeter3.coxeter_group.CoxeterGroup.kazhdan_lusztig_polynomial
   2 of  12 in sage.libs.coxeter3.coxeter_group.CoxeterGroup.parabolic_kazhdan_lusztig_polynomial
    [124 tests, 3 failures, 0.38 s]
----------------------------------------------------------------------
sage -t coxeter_group.py  # 3 doctests failed
----------------------------------------------------------------------
Total time for all tests: 0.4 seconds
    cpu time: 0.4 seconds
    cumulative wall time: 0.4 seconds
```
I get errors. But I think this is due to the fact that it *only* runs the coxeter3 tests and not the other ones. Is this new? I do not remember that this is how it was before. Running

```
lolita:coxeter3 anne$ sage -t --optional=sage,coxeter3 --long *
too many failed tests, not using stored timings
Running doctests with ID 2015-09-23-18-04-02-5d5fd2e5.
Git branch: u/tscrim/coxeter3_new_style_spkg-19178
Using --optional=coxeter3,sage
Doctesting 5 files.
sage -t --long __init__.py
    [0 tests, 0.00 s]
sage -t --long coxeter.pxd
    [0 tests, 0.00 s]
sage -t --long coxeter.pyx
    [257 tests, 0.14 s]
sage -t --long coxeter_group.py
    [130 tests, 7.90 s]
sage -t --long decl.pxi
    [0 tests, 0.00 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 8.2 seconds
    cpu time: 8.0 seconds
    cumulative wall time: 8.0 seconds
```
works fine.



---

archive/issue_comments_274108.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nIn `coxeter_group.py` line 400 seems superfluous. Can this be removed? (Franco found that!!)",
    "created_at": "2015-09-24T01:19:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274108",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:29" align="right">Comment 29</div>

In `coxeter_group.py` line 400 seems superfluous. Can this be removed? (Franco found that!!)



---

archive/issue_comments_274109.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nThis looks good to me.\n\nPlease run pyflakes to detect unused variables (like the `q = ...` mentioned in [comment:29](#comment%3A29)) and unnecessary imports.\n\nThen Anne can set it to positive review on my behalf. :-)",
    "created_at": "2015-09-24T01:21:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274109",
    "user": "https://github.com/saliola"
}
```

<div id="comment:30" align="right">Comment 30</div>

This looks good to me.

Please run pyflakes to detect unused variables (like the `q = ...` mentioned in [comment:29](#comment%3A29)) and unnecessary imports.

Then Anne can set it to positive review on my behalf. :-)



---

archive/issue_comments_274110.json:
```json
{
    "body": "Reviewer: **Franco Saliola**",
    "created_at": "2015-09-24T01:21:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274110",
    "user": "https://github.com/saliola"
}
```

Reviewer: **Franco Saliola**



---

archive/issue_comments_274111.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb234f18e71db3a6445171b907e123d961e0c62d\">eb234f1</a></td><td><code>pyflakes cleanup</code></td></tr></table>\n",
    "created_at": "2015-09-24T02:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274111",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31" align="right">Comment 31</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb234f18e71db3a6445171b907e123d961e0c62d">eb234f1</a></td><td><code>pyflakes cleanup</code></td></tr></table>




---

archive/issue_comments_274112.json:
```json
{
    "body": "Changed commit from **[13b836d](https://github.com/sagemath/sagetrac-mirror/commit/13b836dae13cdb11a5705767555c17647ab9119f)** to **[eb234f1](https://github.com/sagemath/sagetrac-mirror/commit/eb234f18e71db3a6445171b907e123d961e0c62d)**",
    "created_at": "2015-09-24T02:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274112",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[13b836d](https://github.com/sagemath/sagetrac-mirror/commit/13b836dae13cdb11a5705767555c17647ab9119f)** to **[eb234f1](https://github.com/sagemath/sagetrac-mirror/commit/eb234f18e71db3a6445171b907e123d961e0c62d)**



---

archive/issue_comments_274113.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2945b61085d8f1569780249c8919a88a7bf7bcdc\">2945b61</a></td><td><code>Fixing an alignment quickly.</code></td></tr></table>\n",
    "created_at": "2015-09-24T02:23:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274113",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32" align="right">Comment 32</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2945b61085d8f1569780249c8919a88a7bf7bcdc">2945b61</a></td><td><code>Fixing an alignment quickly.</code></td></tr></table>




---

archive/issue_comments_274114.json:
```json
{
    "body": "Changed commit from **[eb234f1](https://github.com/sagemath/sagetrac-mirror/commit/eb234f18e71db3a6445171b907e123d961e0c62d)** to **[2945b61](https://github.com/sagemath/sagetrac-mirror/commit/2945b61085d8f1569780249c8919a88a7bf7bcdc)**",
    "created_at": "2015-09-24T02:23:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274114",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[eb234f1](https://github.com/sagemath/sagetrac-mirror/commit/eb234f18e71db3a6445171b907e123d961e0c62d)** to **[2945b61](https://github.com/sagemath/sagetrac-mirror/commit/2945b61085d8f1569780249c8919a88a7bf7bcdc)**



---

archive/issue_comments_274115.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nDone.\n\nAnne is correct, it was only running the `coxeter3` tests (I get those errors with `--optional=coxeter3`). Now, the `sage -t file` by default runs the tests with your currently installed optional spkgs:\n\n```\ntravis@apricot:~/sage/src/sage/libs/coxeter3$ sage -t coxeter_group.py \n...\nUsing --optional=coxeter3,database_gap,dot2tex,gap_packages,lie,mpir,python2,sage\n...\n```\nIf you want to limit the optional tests, you can use `--optional=sage,coxeter3` or `--optional=sage` to run tests which are not marked with `# optional coxeter3`.",
    "created_at": "2015-09-24T02:25:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274115",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:33" align="right">Comment 33</div>

Done.

Anne is correct, it was only running the `coxeter3` tests (I get those errors with `--optional=coxeter3`). Now, the `sage -t file` by default runs the tests with your currently installed optional spkgs:

```
travis@apricot:~/sage/src/sage/libs/coxeter3$ sage -t coxeter_group.py 
...
Using --optional=coxeter3,database_gap,dot2tex,gap_packages,lie,mpir,python2,sage
...
```
If you want to limit the optional tests, you can use `--optional=sage,coxeter3` or `--optional=sage` to run tests which are not marked with `# optional coxeter3`.



---

archive/issue_comments_274116.json:
```json
{
    "body": "Changed keywords from **** to **coxeter3**",
    "created_at": "2015-09-24T04:26:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274116",
    "user": "https://github.com/anneschilling"
}
```

Changed keywords from **** to **coxeter3**



---

archive/issue_comments_274117.json:
```json
{
    "body": "Changed reviewer from **Franco Saliola** to **Franco Saliola, Anne Schilling**",
    "created_at": "2015-09-24T04:26:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274117",
    "user": "https://github.com/anneschilling"
}
```

Changed reviewer from **Franco Saliola** to **Franco Saliola, Anne Schilling**



---

archive/issue_events_254531.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2015-09-24T04:26:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19178#event-254531"
}
```



---

archive/issue_events_254532.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2015-09-24T04:26:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19178#event-254532"
}
```



---

archive/issue_comments_274118.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nLooks good now.",
    "created_at": "2015-09-24T04:27:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274118",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:35" align="right">Comment 35</div>

Looks good now.



---

archive/issue_comments_274119.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nThank you to all.",
    "created_at": "2015-09-24T13:04:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274119",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:36" align="right">Comment 36</div>

Thank you to all.



---

archive/issue_comments_274120.json:
```json
{
    "body": "Changed branch from **[u/tscrim/coxeter3_spkg_update-19178](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/coxeter3_spkg_update-19178)** to **[2945b61](https://github.com/sagemath/sagetrac-mirror/commit/2945b61085d8f1569780249c8919a88a7bf7bcdc)**",
    "created_at": "2015-09-25T07:52:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19178#issuecomment-274120",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/tscrim/coxeter3_spkg_update-19178](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/coxeter3_spkg_update-19178)** to **[2945b61](https://github.com/sagemath/sagetrac-mirror/commit/2945b61085d8f1569780249c8919a88a7bf7bcdc)**



---

archive/issue_events_254533.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-25T07:52:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19178#event-254533"
}
```



---

archive/issue_events_254534.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2c41984c6b4d85941190809416042bc213b7b098",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-09-25T07:52:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19178",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19178#event-254534"
}
```
