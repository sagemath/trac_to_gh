# Issue 19467: Make binaries installable

archive/issues_019230.json:
```json
{
    "assignees": [],
    "body": "Since #19370, the build tree is no longer relocatable on OSX due to absolute linker paths.\n\nThe plan is to auto-generate an `install.py` file that patches all hard-coded paths using https://github.com/vbraun/binary-pkg\n\nAlternative: forbid relocation #19410\n\nCC:  @kiwifb @sagetrac-yomcat\n\nKeywords: **osx**\n\nBranch/Commit: **[`156f468`](https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Volker Braun**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19467_\n\n",
    "closed_at": "2015-11-30T23:09:36Z",
    "created_at": "2015-10-24T10:30:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make binaries installable",
    "type": "issue",
    "updated_at": "2015-11-30T23:09:36Z",
    "url": "https://github.com/sagemath/sage/issues/19467",
    "user": "https://github.com/vbraun"
}
```
Since #19370, the build tree is no longer relocatable on OSX due to absolute linker paths.

The plan is to auto-generate an `install.py` file that patches all hard-coded paths using https://github.com/vbraun/binary-pkg

Alternative: forbid relocation #19410

CC:  @kiwifb @sagetrac-yomcat

Keywords: **osx**

Branch/Commit: **[`156f468`](https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e)**

Reviewer: **Jeroen Demeyer**

Author: **Volker Braun**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/19467_





---

archive/issue_events_277257.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-24T10:30:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277257"
}
```



---

archive/issue_events_277258.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-24T10:30:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277258"
}
```



---

archive/issue_events_277259.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-24T10:30:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277259"
}
```



---

archive/issue_events_277260.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-24T10:30:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277260"
}
```



---

archive/issue_comments_276709.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nTODO:\n* Rewrite all paths to relative in sage-bdist\n* Get rid of cross-directory hardlinks in our git install",
    "created_at": "2015-10-24T10:31:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276709",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:1" align="right">comment:1</div>

TODO:
* Rewrite all paths to relative in sage-bdist
* Get rid of cross-directory hardlinks in our git install



---

archive/issue_comments_276710.json:
```json
{
    "body": "Branch: **[u/vbraun/make_osx_app_package_relocatable](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/make_osx_app_package_relocatable)**",
    "created_at": "2015-10-24T10:57:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276710",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/make_osx_app_package_relocatable](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/make_osx_app_package_relocatable)**



---

archive/issue_comments_276711.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90b1d03980177d698829803667e0fc71272c1e09\"><code>90b1d03</code></a></td><td><code>Disable hardlinks in git install</code></td></tr></table>\n",
    "created_at": "2015-10-24T11:20:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276711",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90b1d03980177d698829803667e0fc71272c1e09"><code>90b1d03</code></a></td><td><code>Disable hardlinks in git install</code></td></tr></table>




---

archive/issue_comments_276712.json:
```json
{
    "body": "Commit: **[`90b1d03`](https://github.com/sagemath/sagetrac-mirror/commit/90b1d03980177d698829803667e0fc71272c1e09)**",
    "created_at": "2015-10-24T11:20:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276712",
    "user": "https://github.com/kiwifb"
}
```

Commit: **[`90b1d03`](https://github.com/sagemath/sagetrac-mirror/commit/90b1d03980177d698829803667e0fc71272c1e09)**



---

archive/issue_comments_276713.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThis seems to work in principle, but here's one other case where the `@executable_path` needs some tweaking:\n\n```\n   RuntimeError: ECL says: LOAD: Could not load file #P\"/Applications/SageMath-6.10.moved/local/lib/ecl-15.3.7/maxima.fas\" (Error: \"dlopen(/Applications/SageMath-6.10.moved/local/lib/ecl-15.3.7/maxima.fas, 10): Library not loaded: @executable_path/../libecl.15.3.7.dylib\n```\nFor this binary the path also needs an extra \"../\".",
    "created_at": "2015-10-24T13:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276713",
    "user": "https://github.com/cnassau"
}
```

<div id="comment:4" align="right">comment:4</div>

This seems to work in principle, but here's one other case where the `@executable_path` needs some tweaking:

```
   RuntimeError: ECL says: LOAD: Could not load file #P"/Applications/SageMath-6.10.moved/local/lib/ecl-15.3.7/maxima.fas" (Error: "dlopen(/Applications/SageMath-6.10.moved/local/lib/ecl-15.3.7/maxima.fas, 10): Library not loaded: @executable_path/../libecl.15.3.7.dylib
```
For this binary the path also needs an extra "../".



---

archive/issue_comments_276714.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAlso, I think the tool needs to run after the installtion of every new package, so maybe sage-location would be a better place for it than sage-bdist.",
    "created_at": "2015-10-24T13:52:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276714",
    "user": "https://github.com/cnassau"
}
```

<div id="comment:5" align="right">comment:5</div>

Also, I think the tool needs to run after the installtion of every new package, so maybe sage-location would be a better place for it than sage-bdist.



---

archive/issue_comments_276715.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9bb74ef9a4a5162685afcd91e15ef92c1bb4dcb\"><code>f9bb74e</code></a></td><td><code>Fix OpenSSL install permissions</code></td></tr></table>\n",
    "created_at": "2015-10-24T15:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276715",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9bb74ef9a4a5162685afcd91e15ef92c1bb4dcb"><code>f9bb74e</code></a></td><td><code>Fix OpenSSL install permissions</code></td></tr></table>




---

archive/issue_comments_276716.json:
```json
{
    "body": "Changed commit from **[`90b1d03`](https://github.com/sagemath/sagetrac-mirror/commit/90b1d03980177d698829803667e0fc71272c1e09)** to **[`f9bb74e`](https://github.com/sagemath/sagetrac-mirror/commit/f9bb74ef9a4a5162685afcd91e15ef92c1bb4dcb)**",
    "created_at": "2015-10-24T15:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276716",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`90b1d03`](https://github.com/sagemath/sagetrac-mirror/commit/90b1d03980177d698829803667e0fc71272c1e09)** to **[`f9bb74e`](https://github.com/sagemath/sagetrac-mirror/commit/f9bb74ef9a4a5162685afcd91e15ef92c1bb4dcb)**



---

archive/issue_comments_276717.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n* sage-location runs after move, this will not work.\n* I fixed the maxima/ecl problem",
    "created_at": "2015-10-24T16:08:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276717",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">comment:7</div>

* sage-location runs after move, this will not work.
* I fixed the maxima/ecl problem



---

archive/issue_comments_276718.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@vbraun](#comment:7):\n> * sage-location runs after move, this will not work.\n\nI believe it also runs the first time that sage is started, before anybody can legitimately move it away. That makes it work then. \n\nThe point is that it also runs whenever somebody installs a new package. But maybe you want to add a sage-post-install hook instead...",
    "created_at": "2015-10-24T16:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276718",
    "user": "https://github.com/cnassau"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@vbraun](#comment:7):
> * sage-location runs after move, this will not work.

I believe it also runs the first time that sage is started, before anybody can legitimately move it away. That makes it work then. 

The point is that it also runs whenever somebody installs a new package. But maybe you want to add a sage-post-install hook instead...



---

archive/issue_comments_276719.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIt doesn't work because you can't reliably deduce the correct libraries *after* the move; Once the paths are wrong you can't ask ld what the right library is.",
    "created_at": "2015-10-24T20:04:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276719",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:9" align="right">comment:9</div>

It doesn't work because you can't reliably deduce the correct libraries *after* the move; Once the paths are wrong you can't ask ld what the right library is.



---

archive/issue_comments_276720.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAnother issue are Python eggs; they are essentially zip files that may contain shared libraries. Python unpacks them on use into `DOT_SAGE/.python-eggs` but they don't get rewritten to relative paths while inside the egg. This is at least an issue for cvxopt.",
    "created_at": "2015-10-25T14:13:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276720",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">comment:10</div>

Another issue are Python eggs; they are essentially zip files that may contain shared libraries. Python unpacks them on use into `DOT_SAGE/.python-eggs` but they don't get rewritten to relative paths while inside the egg. This is at least an issue for cvxopt.



---

archive/issue_comments_276721.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\ncvxopt and Pillow seem to be the only offenders with shared libraries in egg files.",
    "created_at": "2015-10-25T14:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276721",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:11" align="right">comment:11</div>

cvxopt and Pillow seem to be the only offenders with shared libraries in egg files.



---

archive/issue_comments_276722.json:
```json
{
    "body": "Changed commit from **[`f9bb74e`](https://github.com/sagemath/sagetrac-mirror/commit/f9bb74ef9a4a5162685afcd91e15ef92c1bb4dcb)** to **[`84d7cbc`](https://github.com/sagemath/sagetrac-mirror/commit/84d7cbc0dd0512fb4dc20547448d0f8005fbe65d)**",
    "created_at": "2015-10-25T14:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276722",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f9bb74e`](https://github.com/sagemath/sagetrac-mirror/commit/f9bb74ef9a4a5162685afcd91e15ef92c1bb4dcb)** to **[`84d7cbc`](https://github.com/sagemath/sagetrac-mirror/commit/84d7cbc0dd0512fb4dc20547448d0f8005fbe65d)**



---

archive/issue_comments_276723.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84d7cbc0dd0512fb4dc20547448d0f8005fbe65d\"><code>84d7cbc</code></a></td><td><code>Do not install cvxopt, Pillow as egg</code></td></tr></table>\n",
    "created_at": "2015-10-25T14:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276723",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84d7cbc0dd0512fb4dc20547448d0f8005fbe65d"><code>84d7cbc</code></a></td><td><code>Do not install cvxopt, Pillow as egg</code></td></tr></table>




---

archive/issue_events_277261.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-19T16:36:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "title_is": "Make OSX app package installable",
    "title_was": "Make OSX app package relocatable",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277261"
}
```



---

archive/issue_comments_276724.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n Since #19370, the build tree is no longer relocatable on OSX due to absolute linker paths.\n \n-I wrote a tool to make them all relative: https://github.com/vbraun/ld-vulcanize\n+The plan is to auto-generate an `install.py` file that patches all hard-coded paths using https://github.com/vbraun/binary-pkg\n \n Alternative: forbid relocation #19410\n``````\n",
    "created_at": "2015-11-19T16:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276724",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 Since #19370, the build tree is no longer relocatable on OSX due to absolute linker paths.
 
-I wrote a tool to make them all relative: https://github.com/vbraun/ld-vulcanize
+The plan is to auto-generate an `install.py` file that patches all hard-coded paths using https://github.com/vbraun/binary-pkg
 
 Alternative: forbid relocation #19410
``````




---

archive/issue_comments_276725.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2015-11-19T16:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276725",
    "user": "https://github.com/vbraun"
}
```

Author: **Volker Braun**



---

archive/issue_events_277262.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-19T16:38:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "title_is": "Make binaries installable",
    "title_was": "Make OSX app package installable",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277262"
}
```



---

archive/issue_comments_276726.json:
```json
{
    "body": "Changed keywords from none to **osx**",
    "created_at": "2015-11-19T16:38:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276726",
    "user": "https://github.com/vbraun"
}
```

Changed keywords from none to **osx**



---

archive/issue_comments_276727.json:
```json
{
    "body": "Changed commit from **[`84d7cbc`](https://github.com/sagemath/sagetrac-mirror/commit/84d7cbc0dd0512fb4dc20547448d0f8005fbe65d)** to **[`115d0af`](https://github.com/sagemath/sagetrac-mirror/commit/115d0afe7584e06167b7e8dda8cd8fe3a7857903)**",
    "created_at": "2015-11-19T16:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276727",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`84d7cbc`](https://github.com/sagemath/sagetrac-mirror/commit/84d7cbc0dd0512fb4dc20547448d0f8005fbe65d)** to **[`115d0af`](https://github.com/sagemath/sagetrac-mirror/commit/115d0afe7584e06167b7e8dda8cd8fe3a7857903)**



---

archive/issue_comments_276728.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d87d99424d4471acab028ecba04f6039bb23807\"><code>3d87d99</code></a></td><td><code>Disable hardlinks in git install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/efa5aa48da6df1a9e3f00529f4739a57cbedae18\"><code>efa5aa4</code></a></td><td><code>Fix OpenSSL install permissions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/198a0b3f2a603fb4bbbe613769c488e9b2c175f1\"><code>198a0b3</code></a></td><td><code>Do not install cvxopt, Pillow as egg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/115d0afe7584e06167b7e8dda8cd8fe3a7857903\"><code>115d0af</code></a></td><td><code>Run install.py on startup</code></td></tr></table>\n",
    "created_at": "2015-11-19T16:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276728",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d87d99424d4471acab028ecba04f6039bb23807"><code>3d87d99</code></a></td><td><code>Disable hardlinks in git install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/efa5aa48da6df1a9e3f00529f4739a57cbedae18"><code>efa5aa4</code></a></td><td><code>Fix OpenSSL install permissions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/198a0b3f2a603fb4bbbe613769c488e9b2c175f1"><code>198a0b3</code></a></td><td><code>Do not install cvxopt, Pillow as egg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/115d0afe7584e06167b7e8dda8cd8fe3a7857903"><code>115d0af</code></a></td><td><code>Run install.py on startup</code></td></tr></table>




---

archive/issue_comments_276729.json:
```json
{
    "body": "Changed branch from **[u/vbraun/make_osx_app_package_relocatable](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/make_osx_app_package_relocatable)** to **[u/vbraun/sage_binary_installer](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sage_binary_installer)**",
    "created_at": "2015-11-19T16:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276729",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/make_osx_app_package_relocatable](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/make_osx_app_package_relocatable)** to **[u/vbraun/sage_binary_installer](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sage_binary_installer)**



---

archive/issue_events_277263.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-23T19:32:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277263"
}
```



---

archive/issue_comments_276730.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis is good enough to get us started. A later ticket should remove unnecessary checks from sage-location.",
    "created_at": "2015-11-23T19:32:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276730",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">comment:18</div>

This is good enough to get us started. A later ticket should remove unnecessary checks from sage-location.



---

archive/issue_comments_276731.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThe `http://files.sagemath.org/osx/intel/sage-6.10.beta4-OSX_10.11.1-x86_64.tar.bz2` seems to work quite well. I get these failures from running `sage -tp5 --long`:\n\n```\n----------------------------------------------------------------------\nsage -t --long --warn-long 50.2 src/sage/numerical/optimize.py  # 6 doctests failed\nsage -t --long --warn-long 50.2 src/sage/numerical/backends/cvxopt_backend.pyx  # Killed due to segmentation fault\nsage -t --long --warn-long 50.2 src/sage/modules/vector_rational_dense.pyx  # 1 doctest failed\n----------------------------------------------------------------------\n```\nI suppose for cvxopt something still needs to be fixed... (?)",
    "created_at": "2015-11-24T07:00:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276731",
    "user": "https://github.com/cnassau"
}
```

<div id="comment:19" align="right">comment:19</div>

The `http://files.sagemath.org/osx/intel/sage-6.10.beta4-OSX_10.11.1-x86_64.tar.bz2` seems to work quite well. I get these failures from running `sage -tp5 --long`:

```
----------------------------------------------------------------------
sage -t --long --warn-long 50.2 src/sage/numerical/optimize.py  # 6 doctests failed
sage -t --long --warn-long 50.2 src/sage/numerical/backends/cvxopt_backend.pyx  # Killed due to segmentation fault
sage -t --long --warn-long 50.2 src/sage/modules/vector_rational_dense.pyx  # 1 doctest failed
----------------------------------------------------------------------
```
I suppose for cvxopt something still needs to be fixed... (?)



---

archive/issue_comments_276732.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@cnassau](#comment:19): Executing `MixedIntegerLinearProgram(solver = \"cvxopt\", maximization=False)` gives me this backtrace:\n\n```\n     19 from sage.numerical.mip import MIPSolverException\n---> 20 from cvxopt import solvers\n     21 \n     22 cdef class CVXOPTBackend(GenericBackend):\n\nbuild/bdist.macosx-10.9-x86_64/egg/cvxopt/__init__.py in <module>()\n\nbuild/bdist.macosx-10.9-x86_64/egg/cvxopt/base.py in <module>()\n\nbuild/bdist.macosx-10.9-x86_64/egg/cvxopt/base.py in __bootstrap__()\n\nImportError: dlopen(/Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so, 2): Library not loaded: /Users/vbraun/Code/binary-pkg/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas391yaj24ng0bmdu/local/lib/libgfortran.3.dylib\n  Referenced from: /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so\n  Reason: image not found\n```",
    "created_at": "2015-11-24T07:09:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276732",
    "user": "https://github.com/cnassau"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@cnassau](#comment:19): Executing `MixedIntegerLinearProgram(solver = "cvxopt", maximization=False)` gives me this backtrace:

```
     19 from sage.numerical.mip import MIPSolverException
---> 20 from cvxopt import solvers
     21 
     22 cdef class CVXOPTBackend(GenericBackend):

build/bdist.macosx-10.9-x86_64/egg/cvxopt/__init__.py in <module>()

build/bdist.macosx-10.9-x86_64/egg/cvxopt/base.py in <module>()

build/bdist.macosx-10.9-x86_64/egg/cvxopt/base.py in __bootstrap__()

ImportError: dlopen(/Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so, 2): Library not loaded: /Users/vbraun/Code/binary-pkg/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas391yaj24ng0bmdu/local/lib/libgfortran.3.dylib
  Referenced from: /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so
  Reason: image not found
```



---

archive/issue_comments_276733.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nOh, yuk. Can you paste the output of `otool -L /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so`?",
    "created_at": "2015-11-24T07:24:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276733",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:21" align="right">comment:21</div>

Oh, yuk. Can you paste the output of `otool -L /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so`?



---

archive/issue_comments_276734.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@kiwifb](#comment:21):\n> Oh, yuk. Can you paste the output of `otool -L /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so`?\n\nHere you go:\n\n```\nel-capitan:SageMath.moved cn$ otool -L /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so \n/Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so:\n\t/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib (compatibility version 1.0.0, current version 1.0.0)\n\t/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib (compatibility version 1.0.0, current version 1.0.0)\n\t/Users/vbraun/Code/binary-pkg/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas391yaj24ng0bmdu/local/lib/libgfortran.3.dylib (compatibility version 4.0.0, current version 4.0.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1225.1.1)\n\t/Users/vbraun/Code/binary-pkg/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas391yaj24ng0bmdu/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)\n```",
    "created_at": "2015-11-24T07:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276734",
    "user": "https://github.com/cnassau"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@kiwifb](#comment:21):
> Oh, yuk. Can you paste the output of `otool -L /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so`?

Here you go:

```
el-capitan:SageMath.moved cn$ otool -L /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so 
/Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so:
	/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib (compatibility version 1.0.0, current version 1.0.0)
	/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib (compatibility version 1.0.0, current version 1.0.0)
	/Users/vbraun/Code/binary-pkg/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas391yaj24ng0bmdu/local/lib/libgfortran.3.dylib (compatibility version 4.0.0, current version 4.0.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1225.1.1)
	/Users/vbraun/Code/binary-pkg/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas391yaj24ng0bmdu/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
```



---

archive/issue_comments_276735.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nYou need to force-rebuild cvxopt so that it isn't installed in an egg; You shouldn't have a `/.sage/.python-eggs/cvxopt",
    "created_at": "2015-11-24T09:04:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276735",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:23" align="right">comment:23</div>

You need to force-rebuild cvxopt so that it isn't installed in an egg; You shouldn't have a `/.sage/.python-eggs/cvxopt



---

archive/issue_comments_276736.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nPS: The binary tarball built from this branch does pass all tests on OSX 10.11, but I don't want to distribute it as \"official\" since it is unreleased code.",
    "created_at": "2015-11-24T09:06:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276736",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

PS: The binary tarball built from this branch does pass all tests on OSX 10.11, but I don't want to distribute it as "official" since it is unreleased code.



---

archive/issue_comments_276737.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nCan you explain what the hardlink issue is?",
    "created_at": "2015-11-26T16:09:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276737",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

Can you explain what the hardlink issue is?



---

archive/issue_comments_276738.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nIts mostly an unnecessary pita; You have to patch the file only once, but with hardlinks it turns into a non-local problem of whether there the same file is linked elsewhere. Its also an unnecessary portability problem. And there is little to no benefit of using hard links in the first place.",
    "created_at": "2015-11-26T16:16:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276738",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:26" align="right">comment:26</div>

Its mostly an unnecessary pita; You have to patch the file only once, but with hardlinks it turns into a non-local problem of whether there the same file is linked elsewhere. Its also an unnecessary portability problem. And there is little to no benefit of using hard links in the first place.



---

archive/issue_comments_276739.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI don't like this so much:\n\n```\nNote: install.py deletes itself upon successful completion\n```\n\nI don't think that `install.py` should do that (on some operating systems, it might even not work). If you really want `install.py` to be deleted, I would put the following in `$SAGE_ROOT/sage`:\n\n```\nif [ -x \"$SAGE_ROOT/install.py\" ]; then\n    \"$SAGE_ROOT/install.py\" && rm -f \"$SAGE_ROOT/install.py\"\nfi\n```",
    "created_at": "2015-11-26T16:24:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276739",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

I don't like this so much:

```
Note: install.py deletes itself upon successful completion
```

I don't think that `install.py` should do that (on some operating systems, it might even not work). If you really want `install.py` to be deleted, I would put the following in `$SAGE_ROOT/sage`:

```
if [ -x "$SAGE_ROOT/install.py" ]; then
    "$SAGE_ROOT/install.py" && rm -f "$SAGE_ROOT/install.py"
fi
```



---

archive/issue_comments_276740.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThough unlike bash, python loads scripts into memory and then closes the file. Also the user might run install.py manually...",
    "created_at": "2015-11-26T16:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276740",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:28" align="right">comment:28</div>

Though unlike bash, python loads scripts into memory and then closes the file. Also the user might run install.py manually...



---

archive/issue_events_277264.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-26T16:32:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277264"
}
```



---

archive/issue_events_277265.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-26T16:32:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277265"
}
```



---

archive/issue_comments_276741.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nTo support upgrading, you need to delete the old eggs when installing a non-egg version. I just checked and the egg version gets priority when doing `import cvxopt` from Python.",
    "created_at": "2015-11-26T16:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276741",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

To support upgrading, you need to delete the old eggs when installing a non-egg version. I just checked and the egg version gets priority when doing `import cvxopt` from Python.



---

archive/issue_comments_276742.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@vbraun](#comment:26):\n> Its mostly an unnecessary pita; You have to patch the file only once\n\nIs it a problem if it's patched twice? If it's not a problem, I would remove the change to `git/spkg-install` because it's not needed.",
    "created_at": "2015-11-26T16:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276742",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@vbraun](#comment:26):
> Its mostly an unnecessary pita; You have to patch the file only once

Is it a problem if it's patched twice? If it's not a problem, I would remove the change to `git/spkg-install` because it's not needed.



---

archive/issue_comments_276743.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nRight now the binary-pkg script will break up hardlinks so its not a problem besides waste of disk space (about 200M). Preserving hardlinks would be tricky for no good reason.\n\nReally upstream already agrees that hardlinks are such a common portability issue that they have a setting for that, we just have to switch it on. E.g. many file systems don't support it. Its not like its an intrusive change.",
    "created_at": "2015-11-26T17:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276743",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:31" align="right">comment:31</div>

Right now the binary-pkg script will break up hardlinks so its not a problem besides waste of disk space (about 200M). Preserving hardlinks would be tricky for no good reason.

Really upstream already agrees that hardlinks are such a common portability issue that they have a setting for that, we just have to switch it on. E.g. many file systems don't support it. Its not like its an intrusive change.



---

archive/issue_comments_276744.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b544ec11f929bbfb3b1f72e305005036d0fbf87b\"><code>b544ec1</code></a></td><td><code>Delete old (egg) versions of cvxopt, Pillow</code></td></tr></table>\n",
    "created_at": "2015-11-26T18:02:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276744",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b544ec11f929bbfb3b1f72e305005036d0fbf87b"><code>b544ec1</code></a></td><td><code>Delete old (egg) versions of cvxopt, Pillow</code></td></tr></table>




---

archive/issue_comments_276745.json:
```json
{
    "body": "Changed commit from **[`115d0af`](https://github.com/sagemath/sagetrac-mirror/commit/115d0afe7584e06167b7e8dda8cd8fe3a7857903)** to **[`b544ec1`](https://github.com/sagemath/sagetrac-mirror/commit/b544ec11f929bbfb3b1f72e305005036d0fbf87b)**",
    "created_at": "2015-11-26T18:02:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276745",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`115d0af`](https://github.com/sagemath/sagetrac-mirror/commit/115d0afe7584e06167b7e8dda8cd8fe3a7857903)** to **[`b544ec1`](https://github.com/sagemath/sagetrac-mirror/commit/b544ec11f929bbfb3b1f72e305005036d0fbf87b)**



---

archive/issue_events_277266.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-26T18:22:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277266"
}
```



---

archive/issue_events_277267.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-26T18:22:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277267"
}
```



---

archive/issue_comments_276746.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nIt seems that `git` use symlinks with your branch, which is good enough I guess. I certainly wouldn't like it if there would be over 100 *copies* of the same file, that's just inefficient.",
    "created_at": "2015-11-27T06:43:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276746",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

It seems that `git` use symlinks with your branch, which is good enough I guess. I certainly wouldn't like it if there would be over 100 *copies* of the same file, that's just inefficient.



---

archive/issue_comments_276747.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nYes, of course.\n\nAnything else?",
    "created_at": "2015-11-27T22:51:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276747",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:35" align="right">comment:35</div>

Yes, of course.

Anything else?



---

archive/issue_events_277268.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-29T22:05:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277268"
}
```



---

archive/issue_events_277269.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-29T22:05:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277269"
}
```



---

archive/issue_comments_276748.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-11-29T22:05:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276748",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_276749.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nCan you use a more descriptive name instead of `install.py`? Like `relocate-once.py` or something?",
    "created_at": "2015-11-29T22:05:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276749",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:36" align="right">comment:36</div>

Can you use a more descriptive name instead of `install.py`? Like `relocate-once.py` or something?



---

archive/issue_comments_276750.json:
```json
{
    "body": "Changed commit from **[`b544ec1`](https://github.com/sagemath/sagetrac-mirror/commit/b544ec11f929bbfb3b1f72e305005036d0fbf87b)** to **[`156f468`](https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e)**",
    "created_at": "2015-11-29T22:12:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276750",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b544ec1`](https://github.com/sagemath/sagetrac-mirror/commit/b544ec11f929bbfb3b1f72e305005036d0fbf87b)** to **[`156f468`](https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e)**



---

archive/issue_comments_276751.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e\"><code>156f468</code></a></td><td><code>Rename install.py -> relocate-once.py</code></td></tr></table>\n",
    "created_at": "2015-11-29T22:12:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276751",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e"><code>156f468</code></a></td><td><code>Rename install.py -> relocate-once.py</code></td></tr></table>




---

archive/issue_events_277270.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-29T22:13:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277270"
}
```



---

archive/issue_events_277271.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-29T22:13:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277271"
}
```



---

archive/issue_comments_276752.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nI haven't checked the actual script to rewrite the install directory, but at least this branch here makes sense.",
    "created_at": "2015-11-29T22:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276752",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:39" align="right">comment:39</div>

I haven't checked the actual script to rewrite the install directory, but at least this branch here makes sense.



---

archive/issue_events_277272.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-29T22:18:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277272"
}
```



---

archive/issue_events_277273.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-29T22:18:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277273"
}
```



---

archive/issue_events_277274.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-30T23:09:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277274"
}
```



---

archive/issue_events_277275.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4fef8a21cbe61e17902f7ceb1b46b2f66f5ec781",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-11-30T23:09:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-277275"
}
```



---

archive/issue_comments_276753.json:
```json
{
    "body": "Changed branch from **[u/vbraun/sage_binary_installer](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sage_binary_installer)** to **[`156f468`](https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e)**",
    "created_at": "2015-11-30T23:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-276753",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/sage_binary_installer](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sage_binary_installer)** to **[`156f468`](https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e)**
