# Issue 19467: Make binaries installable

archive/issues_019230.json:
```json
{
    "assignees": [],
    "body": "Since #19370, the build tree is no longer relocatable on OSX due to absolute linker paths.\n\nThe plan is to auto-generate an `install.py` file that patches all hard-coded paths using https://github.com/vbraun/binary-pkg\n\nAlternative: forbid relocation #19410\n\nCC:  @kiwifb yomcat\n\nKeywords: **osx**\n\nBranch/Commit: **[156f468](https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19467_\n\n",
    "closed_at": "2015-11-30T23:09:36Z",
    "created_at": "2015-10-24T10:30:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make binaries installable",
    "type": "issue",
    "updated_at": "2015-11-30T23:09:36Z",
    "url": "https://github.com/sagemath/sage/issues/19467",
    "user": "https://github.com/vbraun"
}
```
Since #19370, the build tree is no longer relocatable on OSX due to absolute linker paths.

The plan is to auto-generate an `install.py` file that patches all hard-coded paths using https://github.com/vbraun/binary-pkg

Alternative: forbid relocation #19410

CC:  @kiwifb yomcat

Keywords: **osx**

Branch/Commit: **[156f468](https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e)**

Reviewer: **Jeroen Demeyer**

Author: **Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/19467_





---

archive/issue_events_258149.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-24T10:30:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258149"
}
```



---

archive/issue_events_258150.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-24T10:30:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258150"
}
```



---

archive/issue_events_258151.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-24T10:30:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258151"
}
```



---

archive/issue_events_258152.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-24T10:30:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258152"
}
```



---

archive/issue_comments_279326.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nTODO:\n* Rewrite all paths to relative in sage-bdist\n* Get rid of cross-directory hardlinks in our git install",
    "created_at": "2015-10-24T10:31:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279326",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:1'>Comment 1:</a>
TODO:
* Rewrite all paths to relative in sage-bdist
* Get rid of cross-directory hardlinks in our git install



---

archive/issue_comments_279327.json:
```json
{
    "body": "Branch: **[u/vbraun/make_osx_app_package_relocatable](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/make_osx_app_package_relocatable)**",
    "created_at": "2015-10-24T10:57:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279327",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/make_osx_app_package_relocatable](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/make_osx_app_package_relocatable)**



---

archive/issue_comments_279328.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90b1d03980177d698829803667e0fc71272c1e09\">90b1d03</a></td><td><code>Disable hardlinks in git install</code></td></tr></table>\n",
    "created_at": "2015-10-24T11:20:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279328",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:3'>Comment 3:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90b1d03980177d698829803667e0fc71272c1e09">90b1d03</a></td><td><code>Disable hardlinks in git install</code></td></tr></table>




---

archive/issue_comments_279329.json:
```json
{
    "body": "Commit: **[90b1d03](https://github.com/sagemath/sagetrac-mirror/commit/90b1d03980177d698829803667e0fc71272c1e09)**",
    "created_at": "2015-10-24T11:20:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279329",
    "user": "https://github.com/kiwifb"
}
```

Commit: **[90b1d03](https://github.com/sagemath/sagetrac-mirror/commit/90b1d03980177d698829803667e0fc71272c1e09)**



---

archive/issue_comments_279330.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nThis seems to work in principle, but here's one other case where the `@executable_path` needs some tweaking:\n\n```\n   RuntimeError: ECL says: LOAD: Could not load file #P\"/Applications/SageMath-6.10.moved/local/lib/ecl-15.3.7/maxima.fas\" (Error: \"dlopen(/Applications/SageMath-6.10.moved/local/lib/ecl-15.3.7/maxima.fas, 10): Library not loaded: @executable_path/../libecl.15.3.7.dylib\n```\nFor this binary the path also needs an extra \"../\".",
    "created_at": "2015-10-24T13:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279330",
    "user": "https://github.com/cnassau"
}
```

<a id='comment:4'>Comment 4:</a>
This seems to work in principle, but here's one other case where the `@executable_path` needs some tweaking:

```
   RuntimeError: ECL says: LOAD: Could not load file #P"/Applications/SageMath-6.10.moved/local/lib/ecl-15.3.7/maxima.fas" (Error: "dlopen(/Applications/SageMath-6.10.moved/local/lib/ecl-15.3.7/maxima.fas, 10): Library not loaded: @executable_path/../libecl.15.3.7.dylib
```
For this binary the path also needs an extra "../".



---

archive/issue_comments_279331.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nAlso, I think the tool needs to run after the installtion of every new package, so maybe sage-location would be a better place for it than sage-bdist.",
    "created_at": "2015-10-24T13:52:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279331",
    "user": "https://github.com/cnassau"
}
```

<a id='comment:5'>Comment 5:</a>
Also, I think the tool needs to run after the installtion of every new package, so maybe sage-location would be a better place for it than sage-bdist.



---

archive/issue_comments_279332.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9bb74ef9a4a5162685afcd91e15ef92c1bb4dcb\">f9bb74e</a></td><td><code>Fix OpenSSL install permissions</code></td></tr></table>\n",
    "created_at": "2015-10-24T15:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279332",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9bb74ef9a4a5162685afcd91e15ef92c1bb4dcb">f9bb74e</a></td><td><code>Fix OpenSSL install permissions</code></td></tr></table>




---

archive/issue_comments_279333.json:
```json
{
    "body": "Changed commit from **[90b1d03](https://github.com/sagemath/sagetrac-mirror/commit/90b1d03980177d698829803667e0fc71272c1e09)** to **[f9bb74e](https://github.com/sagemath/sagetrac-mirror/commit/f9bb74ef9a4a5162685afcd91e15ef92c1bb4dcb)**",
    "created_at": "2015-10-24T15:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279333",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[90b1d03](https://github.com/sagemath/sagetrac-mirror/commit/90b1d03980177d698829803667e0fc71272c1e09)** to **[f9bb74e](https://github.com/sagemath/sagetrac-mirror/commit/f9bb74ef9a4a5162685afcd91e15ef92c1bb4dcb)**



---

archive/issue_comments_279334.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\n* sage-location runs after move, this will not work.\n* I fixed the maxima/ecl problem",
    "created_at": "2015-10-24T16:08:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279334",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'>Comment 7:</a>
* sage-location runs after move, this will not work.
* I fixed the maxima/ecl problem



---

archive/issue_comments_279335.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@vbraun](#comment%3A7):\n> * sage-location runs after move, this will not work.\n\nI believe it also runs the first time that sage is started, before anybody can legitimately move it away. That makes it work then. \n\nThe point is that it also runs whenever somebody installs a new package. But maybe you want to add a sage-post-install hook instead...",
    "created_at": "2015-10-24T16:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279335",
    "user": "https://github.com/cnassau"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@vbraun](#comment%3A7):
> * sage-location runs after move, this will not work.

I believe it also runs the first time that sage is started, before anybody can legitimately move it away. That makes it work then. 

The point is that it also runs whenever somebody installs a new package. But maybe you want to add a sage-post-install hook instead...



---

archive/issue_comments_279336.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nIt doesn't work because you can't reliably deduce the correct libraries *after* the move; Once the paths are wrong you can't ask ld what the right library is.",
    "created_at": "2015-10-24T20:04:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279336",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'>Comment 9:</a>
It doesn't work because you can't reliably deduce the correct libraries *after* the move; Once the paths are wrong you can't ask ld what the right library is.



---

archive/issue_comments_279337.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nAnother issue are Python eggs; they are essentially zip files that may contain shared libraries. Python unpacks them on use into `DOT_SAGE/.python-eggs` but they don't get rewritten to relative paths while inside the egg. This is at least an issue for cvxopt.",
    "created_at": "2015-10-25T14:13:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279337",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'>Comment 10:</a>
Another issue are Python eggs; they are essentially zip files that may contain shared libraries. Python unpacks them on use into `DOT_SAGE/.python-eggs` but they don't get rewritten to relative paths while inside the egg. This is at least an issue for cvxopt.



---

archive/issue_comments_279338.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\ncvxopt and Pillow seem to be the only offenders with shared libraries in egg files.",
    "created_at": "2015-10-25T14:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279338",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'>Comment 11:</a>
cvxopt and Pillow seem to be the only offenders with shared libraries in egg files.



---

archive/issue_comments_279339.json:
```json
{
    "body": "Changed commit from **[f9bb74e](https://github.com/sagemath/sagetrac-mirror/commit/f9bb74ef9a4a5162685afcd91e15ef92c1bb4dcb)** to **[84d7cbc](https://github.com/sagemath/sagetrac-mirror/commit/84d7cbc0dd0512fb4dc20547448d0f8005fbe65d)**",
    "created_at": "2015-10-25T14:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279339",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f9bb74e](https://github.com/sagemath/sagetrac-mirror/commit/f9bb74ef9a4a5162685afcd91e15ef92c1bb4dcb)** to **[84d7cbc](https://github.com/sagemath/sagetrac-mirror/commit/84d7cbc0dd0512fb4dc20547448d0f8005fbe65d)**



---

archive/issue_comments_279340.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84d7cbc0dd0512fb4dc20547448d0f8005fbe65d\">84d7cbc</a></td><td><code>Do not install cvxopt, Pillow as egg</code></td></tr></table>\n",
    "created_at": "2015-10-25T14:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279340",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>Comment 12:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84d7cbc0dd0512fb4dc20547448d0f8005fbe65d">84d7cbc</a></td><td><code>Do not install cvxopt, Pillow as egg</code></td></tr></table>




---

archive/issue_events_258153.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-19T16:36:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "title_is": "Make OSX app package installable",
    "title_was": "Make OSX app package relocatable",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258153"
}
```



---

archive/issue_comments_279341.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n Since #19370, the build tree is no longer relocatable on OSX due to absolute linker paths.\n \n-I wrote a tool to make them all relative: https://github.com/vbraun/ld-vulcanize\n+The plan is to auto-generate an `install.py` file that patches all hard-coded paths using https://github.com/vbraun/binary-pkg\n \n Alternative: forbid relocation #19410\n``````\n",
    "created_at": "2015-11-19T16:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279341",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 Since #19370, the build tree is no longer relocatable on OSX due to absolute linker paths.
 
-I wrote a tool to make them all relative: https://github.com/vbraun/ld-vulcanize
+The plan is to auto-generate an `install.py` file that patches all hard-coded paths using https://github.com/vbraun/binary-pkg
 
 Alternative: forbid relocation #19410
``````




---

archive/issue_comments_279342.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2015-11-19T16:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279342",
    "user": "https://github.com/vbraun"
}
```

Author: **Volker Braun**



---

archive/issue_events_258154.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-19T16:38:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "title_is": "Make binaries installable",
    "title_was": "Make OSX app package installable",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258154"
}
```



---

archive/issue_comments_279343.json:
```json
{
    "body": "Changed keywords from **** to **osx**",
    "created_at": "2015-11-19T16:38:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279343",
    "user": "https://github.com/vbraun"
}
```

Changed keywords from **** to **osx**



---

archive/issue_comments_279344.json:
```json
{
    "body": "Changed commit from **[84d7cbc](https://github.com/sagemath/sagetrac-mirror/commit/84d7cbc0dd0512fb4dc20547448d0f8005fbe65d)** to **[115d0af](https://github.com/sagemath/sagetrac-mirror/commit/115d0afe7584e06167b7e8dda8cd8fe3a7857903)**",
    "created_at": "2015-11-19T16:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279344",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[84d7cbc](https://github.com/sagemath/sagetrac-mirror/commit/84d7cbc0dd0512fb4dc20547448d0f8005fbe65d)** to **[115d0af](https://github.com/sagemath/sagetrac-mirror/commit/115d0afe7584e06167b7e8dda8cd8fe3a7857903)**



---

archive/issue_comments_279345.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d87d99424d4471acab028ecba04f6039bb23807\">3d87d99</a></td><td><code>Disable hardlinks in git install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/efa5aa48da6df1a9e3f00529f4739a57cbedae18\">efa5aa4</a></td><td><code>Fix OpenSSL install permissions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/198a0b3f2a603fb4bbbe613769c488e9b2c175f1\">198a0b3</a></td><td><code>Do not install cvxopt, Pillow as egg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/115d0afe7584e06167b7e8dda8cd8fe3a7857903\">115d0af</a></td><td><code>Run install.py on startup</code></td></tr></table>\n",
    "created_at": "2015-11-19T16:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279345",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d87d99424d4471acab028ecba04f6039bb23807">3d87d99</a></td><td><code>Disable hardlinks in git install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/efa5aa48da6df1a9e3f00529f4739a57cbedae18">efa5aa4</a></td><td><code>Fix OpenSSL install permissions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/198a0b3f2a603fb4bbbe613769c488e9b2c175f1">198a0b3</a></td><td><code>Do not install cvxopt, Pillow as egg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/115d0afe7584e06167b7e8dda8cd8fe3a7857903">115d0af</a></td><td><code>Run install.py on startup</code></td></tr></table>




---

archive/issue_comments_279346.json:
```json
{
    "body": "Changed branch from **[u/vbraun/make_osx_app_package_relocatable](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/make_osx_app_package_relocatable)** to **[u/vbraun/sage_binary_installer](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sage_binary_installer)**",
    "created_at": "2015-11-19T16:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279346",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/make_osx_app_package_relocatable](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/make_osx_app_package_relocatable)** to **[u/vbraun/sage_binary_installer](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sage_binary_installer)**



---

archive/issue_events_258155.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-23T19:32:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258155"
}
```



---

archive/issue_comments_279347.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nThis is good enough to get us started. A later ticket should remove unnecessary checks from sage-location.",
    "created_at": "2015-11-23T19:32:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279347",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'>Comment 18:</a>
This is good enough to get us started. A later ticket should remove unnecessary checks from sage-location.



---

archive/issue_comments_279348.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nThe `http://files.sagemath.org/osx/intel/sage-6.10.beta4-OSX_10.11.1-x86_64.tar.bz2` seems to work quite well. I get these failures from running `sage -tp5 --long`:\n\n```\n----------------------------------------------------------------------\nsage -t --long --warn-long 50.2 src/sage/numerical/optimize.py  # 6 doctests failed\nsage -t --long --warn-long 50.2 src/sage/numerical/backends/cvxopt_backend.pyx  # Killed due to segmentation fault\nsage -t --long --warn-long 50.2 src/sage/modules/vector_rational_dense.pyx  # 1 doctest failed\n----------------------------------------------------------------------\n```\nI suppose for cvxopt something still needs to be fixed... (?)",
    "created_at": "2015-11-24T07:00:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279348",
    "user": "https://github.com/cnassau"
}
```

<a id='comment:19'>Comment 19:</a>
The `http://files.sagemath.org/osx/intel/sage-6.10.beta4-OSX_10.11.1-x86_64.tar.bz2` seems to work quite well. I get these failures from running `sage -tp5 --long`:

```
----------------------------------------------------------------------
sage -t --long --warn-long 50.2 src/sage/numerical/optimize.py  # 6 doctests failed
sage -t --long --warn-long 50.2 src/sage/numerical/backends/cvxopt_backend.pyx  # Killed due to segmentation fault
sage -t --long --warn-long 50.2 src/sage/modules/vector_rational_dense.pyx  # 1 doctest failed
----------------------------------------------------------------------
```
I suppose for cvxopt something still needs to be fixed... (?)



---

archive/issue_comments_279349.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nReplying to [@cnassau](#comment%3A19): Executing `MixedIntegerLinearProgram(solver = \"cvxopt\", maximization=False)` gives me this backtrace:\n\n```\n     19 from sage.numerical.mip import MIPSolverException\n---> 20 from cvxopt import solvers\n     21 \n     22 cdef class CVXOPTBackend(GenericBackend):\n\nbuild/bdist.macosx-10.9-x86_64/egg/cvxopt/__init__.py in <module>()\n\nbuild/bdist.macosx-10.9-x86_64/egg/cvxopt/base.py in <module>()\n\nbuild/bdist.macosx-10.9-x86_64/egg/cvxopt/base.py in __bootstrap__()\n\nImportError: dlopen(/Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so, 2): Library not loaded: /Users/vbraun/Code/binary-pkg/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas391yaj24ng0bmdu/local/lib/libgfortran.3.dylib\n  Referenced from: /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so\n  Reason: image not found\n```",
    "created_at": "2015-11-24T07:09:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279349",
    "user": "https://github.com/cnassau"
}
```

<a id='comment:20'>Comment 20:</a>
Replying to [@cnassau](#comment%3A19): Executing `MixedIntegerLinearProgram(solver = "cvxopt", maximization=False)` gives me this backtrace:

```
     19 from sage.numerical.mip import MIPSolverException
---> 20 from cvxopt import solvers
     21 
     22 cdef class CVXOPTBackend(GenericBackend):

build/bdist.macosx-10.9-x86_64/egg/cvxopt/__init__.py in <module>()

build/bdist.macosx-10.9-x86_64/egg/cvxopt/base.py in <module>()

build/bdist.macosx-10.9-x86_64/egg/cvxopt/base.py in __bootstrap__()

ImportError: dlopen(/Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so, 2): Library not loaded: /Users/vbraun/Code/binary-pkg/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas391yaj24ng0bmdu/local/lib/libgfortran.3.dylib
  Referenced from: /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so
  Reason: image not found
```



---

archive/issue_comments_279350.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nOh, yuk. Can you paste the output of `otool -L /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so`?",
    "created_at": "2015-11-24T07:24:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279350",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:21'>Comment 21:</a>
Oh, yuk. Can you paste the output of `otool -L /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so`?



---

archive/issue_comments_279351.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nReplying to [@kiwifb](#comment%3A21):\n> Oh, yuk. Can you paste the output of `otool -L /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so`?\n\nHere you go:\n\n```\nel-capitan:SageMath.moved cn$ otool -L /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so \n/Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so:\n\t/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib (compatibility version 1.0.0, current version 1.0.0)\n\t/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib (compatibility version 1.0.0, current version 1.0.0)\n\t/Users/vbraun/Code/binary-pkg/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas391yaj24ng0bmdu/local/lib/libgfortran.3.dylib (compatibility version 4.0.0, current version 4.0.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1225.1.1)\n\t/Users/vbraun/Code/binary-pkg/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas391yaj24ng0bmdu/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)\n```",
    "created_at": "2015-11-24T07:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279351",
    "user": "https://github.com/cnassau"
}
```

<a id='comment:22'>Comment 22:</a>
Replying to [@kiwifb](#comment%3A21):
> Oh, yuk. Can you paste the output of `otool -L /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so`?

Here you go:

```
el-capitan:SageMath.moved cn$ otool -L /Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so 
/Users/cn/.sage//.python-eggs/cvxopt-1.1.7-py2.7-macosx-10.9-x86_64.egg-tmp/cvxopt/base.so:
	/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib (compatibility version 1.0.0, current version 1.0.0)
	/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib (compatibility version 1.0.0, current version 1.0.0)
	/Users/vbraun/Code/binary-pkg/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas391yaj24ng0bmdu/local/lib/libgfortran.3.dylib (compatibility version 4.0.0, current version 4.0.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1225.1.1)
	/Users/vbraun/Code/binary-pkg/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas391yaj24ng0bmdu/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
```



---

archive/issue_comments_279352.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nYou need to force-rebuild cvxopt so that it isn't installed in an egg; You shouldn't have a `/.sage/.python-eggs/cvxopt",
    "created_at": "2015-11-24T09:04:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279352",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'>Comment 23:</a>
You need to force-rebuild cvxopt so that it isn't installed in an egg; You shouldn't have a `/.sage/.python-eggs/cvxopt



---

archive/issue_comments_279353.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nPS: The binary tarball built from this branch does pass all tests on OSX 10.11, but I don't want to distribute it as \"official\" since it is unreleased code.",
    "created_at": "2015-11-24T09:06:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279353",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:24'>Comment 24:</a>
PS: The binary tarball built from this branch does pass all tests on OSX 10.11, but I don't want to distribute it as "official" since it is unreleased code.



---

archive/issue_comments_279354.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nCan you explain what the hardlink issue is?",
    "created_at": "2015-11-26T16:09:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279354",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'>Comment 25:</a>
Can you explain what the hardlink issue is?



---

archive/issue_comments_279355.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nIts mostly an unnecessary pita; You have to patch the file only once, but with hardlinks it turns into a non-local problem of whether there the same file is linked elsewhere. Its also an unnecessary portability problem. And there is little to no benefit of using hard links in the first place.",
    "created_at": "2015-11-26T16:16:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279355",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'>Comment 26:</a>
Its mostly an unnecessary pita; You have to patch the file only once, but with hardlinks it turns into a non-local problem of whether there the same file is linked elsewhere. Its also an unnecessary portability problem. And there is little to no benefit of using hard links in the first place.



---

archive/issue_comments_279356.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nI don't like this so much:\n\n```\nNote: install.py deletes itself upon successful completion\n```\n\nI don't think that `install.py` should do that (on some operating systems, it might even not work). If you really want `install.py` to be deleted, I would put the following in `$SAGE_ROOT/sage`:\n\n```\nif [ -x \"$SAGE_ROOT/install.py\" ]; then\n    \"$SAGE_ROOT/install.py\" && rm -f \"$SAGE_ROOT/install.py\"\nfi\n```",
    "created_at": "2015-11-26T16:24:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279356",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'>Comment 27:</a>
I don't like this so much:

```
Note: install.py deletes itself upon successful completion
```

I don't think that `install.py` should do that (on some operating systems, it might even not work). If you really want `install.py` to be deleted, I would put the following in `$SAGE_ROOT/sage`:

```
if [ -x "$SAGE_ROOT/install.py" ]; then
    "$SAGE_ROOT/install.py" && rm -f "$SAGE_ROOT/install.py"
fi
```



---

archive/issue_comments_279357.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nThough unlike bash, python loads scripts into memory and then closes the file. Also the user might run install.py manually...",
    "created_at": "2015-11-26T16:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279357",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'>Comment 28:</a>
Though unlike bash, python loads scripts into memory and then closes the file. Also the user might run install.py manually...



---

archive/issue_events_258156.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-26T16:32:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258156"
}
```



---

archive/issue_events_258157.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-26T16:32:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258157"
}
```



---

archive/issue_comments_279358.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nTo support upgrading, you need to delete the old eggs when installing a non-egg version. I just checked and the egg version gets priority when doing `import cvxopt` from Python.",
    "created_at": "2015-11-26T16:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279358",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:29'>Comment 29:</a>
To support upgrading, you need to delete the old eggs when installing a non-egg version. I just checked and the egg version gets priority when doing `import cvxopt` from Python.



---

archive/issue_comments_279359.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nReplying to [@vbraun](#comment%3A26):\n> Its mostly an unnecessary pita; You have to patch the file only once\n\nIs it a problem if it's patched twice? If it's not a problem, I would remove the change to `git/spkg-install` because it's not needed.",
    "created_at": "2015-11-26T16:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279359",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'>Comment 30:</a>
Replying to [@vbraun](#comment%3A26):
> Its mostly an unnecessary pita; You have to patch the file only once

Is it a problem if it's patched twice? If it's not a problem, I would remove the change to `git/spkg-install` because it's not needed.



---

archive/issue_comments_279360.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nRight now the binary-pkg script will break up hardlinks so its not a problem besides waste of disk space (about 200M). Preserving hardlinks would be tricky for no good reason.\n\nReally upstream already agrees that hardlinks are such a common portability issue that they have a setting for that, we just have to switch it on. E.g. many file systems don't support it. Its not like its an intrusive change.",
    "created_at": "2015-11-26T17:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279360",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'>Comment 31:</a>
Right now the binary-pkg script will break up hardlinks so its not a problem besides waste of disk space (about 200M). Preserving hardlinks would be tricky for no good reason.

Really upstream already agrees that hardlinks are such a common portability issue that they have a setting for that, we just have to switch it on. E.g. many file systems don't support it. Its not like its an intrusive change.



---

archive/issue_comments_279361.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b544ec11f929bbfb3b1f72e305005036d0fbf87b\">b544ec1</a></td><td><code>Delete old (egg) versions of cvxopt, Pillow</code></td></tr></table>\n",
    "created_at": "2015-11-26T18:02:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279361",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'>Comment 32:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b544ec11f929bbfb3b1f72e305005036d0fbf87b">b544ec1</a></td><td><code>Delete old (egg) versions of cvxopt, Pillow</code></td></tr></table>




---

archive/issue_comments_279362.json:
```json
{
    "body": "Changed commit from **[115d0af](https://github.com/sagemath/sagetrac-mirror/commit/115d0afe7584e06167b7e8dda8cd8fe3a7857903)** to **[b544ec1](https://github.com/sagemath/sagetrac-mirror/commit/b544ec11f929bbfb3b1f72e305005036d0fbf87b)**",
    "created_at": "2015-11-26T18:02:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279362",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[115d0af](https://github.com/sagemath/sagetrac-mirror/commit/115d0afe7584e06167b7e8dda8cd8fe3a7857903)** to **[b544ec1](https://github.com/sagemath/sagetrac-mirror/commit/b544ec11f929bbfb3b1f72e305005036d0fbf87b)**



---

archive/issue_events_258158.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-26T18:22:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258158"
}
```



---

archive/issue_events_258159.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-26T18:22:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258159"
}
```



---

archive/issue_comments_279363.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nIt seems that `git` use symlinks with your branch, which is good enough I guess. I certainly wouldn't like it if there would be over 100 *copies* of the same file, that's just inefficient.",
    "created_at": "2015-11-27T06:43:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279363",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'>Comment 34:</a>
It seems that `git` use symlinks with your branch, which is good enough I guess. I certainly wouldn't like it if there would be over 100 *copies* of the same file, that's just inefficient.



---

archive/issue_comments_279364.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nYes, of course.\n\nAnything else?",
    "created_at": "2015-11-27T22:51:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279364",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:35'>Comment 35:</a>
Yes, of course.

Anything else?



---

archive/issue_events_258160.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-29T22:05:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258160"
}
```



---

archive/issue_events_258161.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-29T22:05:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258161"
}
```



---

archive/issue_comments_279365.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-11-29T22:05:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279365",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_279366.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nCan you use a more descriptive name instead of `install.py`? Like `relocate-once.py` or something?",
    "created_at": "2015-11-29T22:05:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279366",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:36'>Comment 36:</a>
Can you use a more descriptive name instead of `install.py`? Like `relocate-once.py` or something?



---

archive/issue_comments_279367.json:
```json
{
    "body": "Changed commit from **[b544ec1](https://github.com/sagemath/sagetrac-mirror/commit/b544ec11f929bbfb3b1f72e305005036d0fbf87b)** to **[156f468](https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e)**",
    "created_at": "2015-11-29T22:12:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279367",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b544ec1](https://github.com/sagemath/sagetrac-mirror/commit/b544ec11f929bbfb3b1f72e305005036d0fbf87b)** to **[156f468](https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e)**



---

archive/issue_comments_279368.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e\">156f468</a></td><td><code>Rename install.py -> relocate-once.py</code></td></tr></table>\n",
    "created_at": "2015-11-29T22:12:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279368",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:37'>Comment 37:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e">156f468</a></td><td><code>Rename install.py -> relocate-once.py</code></td></tr></table>




---

archive/issue_events_258162.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-29T22:13:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258162"
}
```



---

archive/issue_events_258163.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-29T22:13:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258163"
}
```



---

archive/issue_comments_279369.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nI haven't checked the actual script to rewrite the install directory, but at least this branch here makes sense.",
    "created_at": "2015-11-29T22:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279369",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:39'>Comment 39:</a>
I haven't checked the actual script to rewrite the install directory, but at least this branch here makes sense.



---

archive/issue_events_258164.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-29T22:18:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258164"
}
```



---

archive/issue_events_258165.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-29T22:18:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258165"
}
```



---

archive/issue_events_258166.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-30T23:09:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258166"
}
```



---

archive/issue_events_258167.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4fef8a21cbe61e17902f7ceb1b46b2f66f5ec781",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-11-30T23:09:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19467#event-258167"
}
```



---

archive/issue_comments_279370.json:
```json
{
    "body": "Changed branch from **[u/vbraun/sage_binary_installer](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sage_binary_installer)** to **[156f468](https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e)**",
    "created_at": "2015-11-30T23:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19467",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19467#issuecomment-279370",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/sage_binary_installer](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sage_binary_installer)** to **[156f468](https://github.com/sagemath/sagetrac-mirror/commit/156f4681cd03f2b5108aec5bdfb859801078840e)**
