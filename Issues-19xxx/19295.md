# Issue 19295: Add some dependencies

archive/issues_019058.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nA more or less arbitrary list of packages for which I added a `dependencies` file.\n\nCC:  @sagetrac-tmonteil @mkoeppe @embray @fchapoton @jdemeyer @vbraun @tscrim\n\nComponent: **packages: optional**\n\nAuthor: **Jeroen Demeyer**\n\nBranch/Commit: **[`6aef10c`](https://github.com/sagemath/sagetrac-mirror/commit/6aef10cce1ff5a056828e5bd0b5a1c09d51c04ad)**\n\nReviewer: **Thierry Monteil, Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19295_\n\n",
    "closed_at": "2016-07-16T20:06:37Z",
    "created_at": "2015-09-25T21:05:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add some dependencies",
    "type": "issue",
    "updated_at": "2016-07-16T20:06:37Z",
    "url": "https://github.com/sagemath/sage/issues/19295",
    "user": "https://github.com/jdemeyer"
}
```
<div id="comment:0"></div>

A more or less arbitrary list of packages for which I added a `dependencies` file.

CC:  @sagetrac-tmonteil @mkoeppe @embray @fchapoton @jdemeyer @vbraun @tscrim

Component: **packages: optional**

Author: **Jeroen Demeyer**

Branch/Commit: **[`6aef10c`](https://github.com/sagemath/sagetrac-mirror/commit/6aef10cce1ff5a056828e5bd0b5a1c09d51c04ad)**

Reviewer: **Thierry Monteil, Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/19295_





---

archive/issue_events_271323.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-25T21:05:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271323"
}
```



---

archive/issue_events_271324.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-25T21:05:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271324"
}
```



---

archive/issue_events_271325.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-25T21:05:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271325"
}
```



---

archive/issue_events_271326.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-25T21:05:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271326"
}
```



---

archive/issue_comments_273595.json:
```json
{
    "body": "Branch: **[u/jdemeyer/add_some_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_some_dependencies)**",
    "created_at": "2015-09-25T21:29:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273595",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/add_some_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_some_dependencies)**



---

archive/issue_comments_273596.json:
```json
{
    "body": "Commit: **[`8bd7801`](https://github.com/sagemath/sagetrac-mirror/commit/8bd7801f5e9c6fe698f0b7a96aefc8af641f503f)**",
    "created_at": "2015-09-25T21:29:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273596",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`8bd7801`](https://github.com/sagemath/sagetrac-mirror/commit/8bd7801f5e9c6fe698f0b7a96aefc8af641f503f)**



---

archive/issue_comments_273597.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bd7801f5e9c6fe698f0b7a96aefc8af641f503f\"><code>8bd7801</code></a></td><td><code>Add some missing dependencies</code></td></tr></table>\n",
    "created_at": "2015-09-25T21:29:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273597",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bd7801f5e9c6fe698f0b7a96aefc8af641f503f"><code>8bd7801</code></a></td><td><code>Add some missing dependencies</code></td></tr></table>




---

archive/issue_comments_273598.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+A more or less arbitrary list of packages for which I added a `dependencies` file.\n``````\n",
    "created_at": "2015-09-25T21:29:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273598",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+A more or less arbitrary list of packages for which I added a `dependencies` file.
``````




---

archive/issue_events_271327.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-25T21:29:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271327"
}
```



---

archive/issue_events_271328.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-25T21:31:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271328"
}
```



---

archive/issue_events_271329.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-25T21:31:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271329"
}
```



---

archive/issue_events_271330.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-25T21:31:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271330"
}
```



---

archive/issue_events_271331.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-25T21:31:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271331"
}
```



---

archive/issue_comments_273599.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48e1694031c401276d8f392acc7a1ae984c52edb\"><code>48e1694</code></a></td><td><code>Add a few more dependencies</code></td></tr></table>\n",
    "created_at": "2015-09-27T16:31:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273599",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48e1694031c401276d8f392acc7a1ae984c52edb"><code>48e1694</code></a></td><td><code>Add a few more dependencies</code></td></tr></table>




---

archive/issue_comments_273600.json:
```json
{
    "body": "Changed commit from **[`8bd7801`](https://github.com/sagemath/sagetrac-mirror/commit/8bd7801f5e9c6fe698f0b7a96aefc8af641f503f)** to **[`48e1694`](https://github.com/sagemath/sagetrac-mirror/commit/48e1694031c401276d8f392acc7a1ae984c52edb)**",
    "created_at": "2015-09-27T16:31:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273600",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8bd7801`](https://github.com/sagemath/sagetrac-mirror/commit/8bd7801f5e9c6fe698f0b7a96aefc8af641f503f)** to **[`48e1694`](https://github.com/sagemath/sagetrac-mirror/commit/48e1694031c401276d8f392acc7a1ae984c52edb)**



---

archive/issue_comments_273601.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0eab92b0babc9180ad114e386a3d0926d9996fb\"><code>b0eab92</code></a></td><td><code>Add dependencies for autotools</code></td></tr></table>\n",
    "created_at": "2015-09-28T18:08:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273601",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0eab92b0babc9180ad114e386a3d0926d9996fb"><code>b0eab92</code></a></td><td><code>Add dependencies for autotools</code></td></tr></table>




---

archive/issue_comments_273602.json:
```json
{
    "body": "Changed commit from **[`48e1694`](https://github.com/sagemath/sagetrac-mirror/commit/48e1694031c401276d8f392acc7a1ae984c52edb)** to **[`b0eab92`](https://github.com/sagemath/sagetrac-mirror/commit/b0eab92b0babc9180ad114e386a3d0926d9996fb)**",
    "created_at": "2015-09-28T18:08:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273602",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`48e1694`](https://github.com/sagemath/sagetrac-mirror/commit/48e1694031c401276d8f392acc7a1ae984c52edb)** to **[`b0eab92`](https://github.com/sagemath/sagetrac-mirror/commit/b0eab92b0babc9180ad114e386a3d0926d9996fb)**



---

archive/issue_comments_273603.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI am on it, but it takes time.",
    "created_at": "2015-09-30T22:59:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273603",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:6" align="right">comment:6</div>

I am on it, but it takes time.



---

archive/issue_comments_273604.json:
```json
{
    "body": "Attachment: **[autotools-20141105.log](https://github.com/sagemath/sage/files/ticket19295/autotools-20141105.log)**",
    "created_at": "2015-10-01T17:00:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273604",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Attachment: **[autotools-20141105.log](https://github.com/sagemath/sage/files/ticket19295/autotools-20141105.log)**



---

archive/issue_comments_273605.json:
```json
{
    "body": "Attachment: **[database_gap-4.7.8.log](https://github.com/sagemath/sage/files/ticket19295/database_gap-4.7.8.log)**\n\nAttachment: **[igraph-0.7.1.log](https://github.com/sagemath/sage/files/ticket19295/igraph-0.7.1.log)**",
    "created_at": "2015-10-01T17:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273605",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Attachment: **[database_gap-4.7.8.log](https://github.com/sagemath/sage/files/ticket19295/database_gap-4.7.8.log)**

Attachment: **[igraph-0.7.1.log](https://github.com/sagemath/sage/files/ticket19295/igraph-0.7.1.log)**



---

archive/issue_comments_273606.json:
```json
{
    "body": "Attachment: **[libtheora-1.1.1.log](https://github.com/sagemath/sage/files/ticket19295/libtheora-1.1.1.log)**",
    "created_at": "2015-10-01T17:01:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273606",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Attachment: **[libtheora-1.1.1.log](https://github.com/sagemath/sage/files/ticket19295/libtheora-1.1.1.log)**



---

archive/issue_comments_273607.json:
```json
{
    "body": "Attachment: **[normaliz-2.12.1.p0.log](https://github.com/sagemath/sage/files/ticket19295/normaliz-2.12.1.p0.log)**",
    "created_at": "2015-10-01T17:01:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273607",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Attachment: **[normaliz-2.12.1.p0.log](https://github.com/sagemath/sage/files/ticket19295/normaliz-2.12.1.p0.log)**



---

archive/issue_comments_273608.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/add_some_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_some_dependencies)** to **[u/tmonteil/add_some_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/add_some_dependencies)**",
    "created_at": "2015-10-01T17:02:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273608",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed branch from **[u/jdemeyer/add_some_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_some_dependencies)** to **[u/tmonteil/add_some_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/add_some_dependencies)**



---

archive/issue_comments_273609.json:
```json
{
    "body": "Reviewer: **Thierry Monteil**",
    "created_at": "2015-10-01T17:05:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273609",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Reviewer: **Thierry Monteil**



---

archive/issue_events_271332.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-10-01T17:05:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271332"
}
```



---

archive/issue_events_271333.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-10-01T17:05:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271333"
}
```



---

archive/issue_comments_273610.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHere was my testing protocol:\n\nFor each package `pkg`, start from a Sage with only\n\n```\n    make distclean\n    make base\n```\n\nThen do `make $pkg` and see what happens.\n\nThe things that made me crazy is that if some package do not have a `dependencies` file, then the build system starts to build every standard package, i didn't underdtood that... Because of that \"feature\", we have to ensure that all dependencies of a package that is tested has a (possibly trivial) `dependency` file, recursively, or we are not testing much. So, to be tested well, this ticket should depend on #19261.\n\nNow about the packages involved in the ticket, i had problems with the following:\n\n- autotools still creates a bug, but i do not know what is missing, see the attached log.\n\n- database_gap: because of the last line in `spkg-install` script, `sage -c \"gap_reset_workspace()\"`, it should depend on a working Sage installation. So i added `SAGERUNTIME` as a dependency. It is overkill ?\n\n- `igraph` requires the `libxml2` (which we are not shipping), see the attached log. Perhaps we should package it, or perhaps move it to expermiental ? I added some hints on `SPKG.txt`. Moreover, from https://github.com/igraph/igraph/blob/master/debian/control it seems that `igraph` would be happy with blas/lapack and glpk, so perhaps should we also add `atlas` and `glpk` as dependencies ?\n\n- `libtheora` depends on `libogg`, see the attached log. I updated the dependency file.\n\n- `normaliz` depends on `boost_cropped`, see the attached log. I updated the dependency file. Also, Singular appears in the dependencies, but i am not sure it is the case, to my understanding of the documentation, i am not sure, but it seems that Singular can use Normaliz, but the converse. Shall we remove `singular` from `normaliz` dependencies ?\n\n- i added a `# no dependencies` for `configure`.\n\nAlso, only configure is a \"base\" package, while \"make base\" installs:\n\n```\nbase: $(INST)/$(BZIP2) $(INST)/$(PATCH) $(INST)/$(PKGCONF)\n```\n\nShall those 3 packages have \"base\" priority too ?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec50fed25a39aa154ad2c3d4a9eab732d801b5a3\"><code>ec50fed</code></a></td><td><code>#19295 review</code></td></tr></table>\n",
    "created_at": "2015-10-01T17:05:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273610",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:8" align="right">comment:8</div>

Here was my testing protocol:

For each package `pkg`, start from a Sage with only

```
    make distclean
    make base
```

Then do `make $pkg` and see what happens.

The things that made me crazy is that if some package do not have a `dependencies` file, then the build system starts to build every standard package, i didn't underdtood that... Because of that "feature", we have to ensure that all dependencies of a package that is tested has a (possibly trivial) `dependency` file, recursively, or we are not testing much. So, to be tested well, this ticket should depend on #19261.

Now about the packages involved in the ticket, i had problems with the following:

- autotools still creates a bug, but i do not know what is missing, see the attached log.

- database_gap: because of the last line in `spkg-install` script, `sage -c "gap_reset_workspace()"`, it should depend on a working Sage installation. So i added `SAGERUNTIME` as a dependency. It is overkill ?

- `igraph` requires the `libxml2` (which we are not shipping), see the attached log. Perhaps we should package it, or perhaps move it to expermiental ? I added some hints on `SPKG.txt`. Moreover, from https://github.com/igraph/igraph/blob/master/debian/control it seems that `igraph` would be happy with blas/lapack and glpk, so perhaps should we also add `atlas` and `glpk` as dependencies ?

- `libtheora` depends on `libogg`, see the attached log. I updated the dependency file.

- `normaliz` depends on `boost_cropped`, see the attached log. I updated the dependency file. Also, Singular appears in the dependencies, but i am not sure it is the case, to my understanding of the documentation, i am not sure, but it seems that Singular can use Normaliz, but the converse. Shall we remove `singular` from `normaliz` dependencies ?

- i added a `# no dependencies` for `configure`.

Also, only configure is a "base" package, while "make base" installs:

```
base: $(INST)/$(BZIP2) $(INST)/$(PATCH) $(INST)/$(PKGCONF)
```

Shall those 3 packages have "base" priority too ?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec50fed25a39aa154ad2c3d4a9eab732d801b5a3"><code>ec50fed</code></a></td><td><code>#19295 review</code></td></tr></table>




---

archive/issue_comments_273611.json:
```json
{
    "body": "Changed commit from **[`b0eab92`](https://github.com/sagemath/sagetrac-mirror/commit/b0eab92b0babc9180ad114e386a3d0926d9996fb)** to **[`ec50fed`](https://github.com/sagemath/sagetrac-mirror/commit/ec50fed25a39aa154ad2c3d4a9eab732d801b5a3)**",
    "created_at": "2015-10-01T17:05:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273611",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed commit from **[`b0eab92`](https://github.com/sagemath/sagetrac-mirror/commit/b0eab92b0babc9180ad114e386a3d0926d9996fb)** to **[`ec50fed`](https://github.com/sagemath/sagetrac-mirror/commit/ec50fed25a39aa154ad2c3d4a9eab732d801b5a3)**



---

archive/issue_comments_273612.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@sagetrac-tmonteil](#comment%3A8):\n> The things that made me crazy is that if some package do not have a `dependencies` file, then the build system starts to build every standard package, i didn't underdtood that...\n\nThat's the default for optional packages. It was chosen because it's reasonably safe. But after these tickets have been dealt with, we should probably make `dependencies` mandatory.\n\n> - autotools still creates a bug, but i do not know what is missing, see the attached log.\n\nAre you sure that you tested this correctly? Because it seems from the log that `ncurses` wasn't installed. Note that I added the autotools dependency in an additional commit.\n\n> - database_gap: because of the last line in `spkg-install` script, `sage -c \"gap_reset_workspace()\"`, it should depend on a working Sage installation. So i added `SAGERUNTIME` as a dependency. It is overkill ?\n\nNo overkill, it is correct.\n\n> - `igraph` requires the `libxml2` (which we are not shipping), see the attached log.\n> Perhaps we should package it, or perhaps move it to expermiental ?\n\nLet's leave this for now.\n\n> it seems that `igraph` would be happy with blas/lapack and glpk, so perhaps should we also add `atlas` and `glpk` as dependencies ?\n\nWell, `igraph` doesn't use them even if they are present. While `igraph` might be able to use those libraries, it doesn't do so by default. So no extra dependencies are needed.\n\n> - `libtheora` depends on `libogg`, see the attached log. I updated the dependency file.\n\nGood.\n\n> - `normaliz` depends on `boost_cropped`, see the attached log. I updated the dependency file.\n\nGood.\n\n> Shall we remove `singular` from `normaliz` dependencies ?\n\nThe `spkg-install` file for `normaliz` really installs things specifically for Singular, so I think we need the dependency.\n\n> - i added a `# no dependencies` for `configure`.\n\nWell, `configure` isn't really a package... If you really want a dependencies file, it should perhaps say something like `# not a real package`.\n\n> ```\n> base: $(INST)/$(BZIP2) $(INST)/$(PATCH) $(INST)/$(PKGCONF)\n> ```\n> \n> Shall those 3 packages have \"base\" priority too ?\n\nNo. Like I said, `configure` isn't a package, but these 3 are real packages.",
    "created_at": "2015-10-02T15:32:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273612",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@sagetrac-tmonteil](#comment%3A8):
> The things that made me crazy is that if some package do not have a `dependencies` file, then the build system starts to build every standard package, i didn't underdtood that...

That's the default for optional packages. It was chosen because it's reasonably safe. But after these tickets have been dealt with, we should probably make `dependencies` mandatory.

> - autotools still creates a bug, but i do not know what is missing, see the attached log.

Are you sure that you tested this correctly? Because it seems from the log that `ncurses` wasn't installed. Note that I added the autotools dependency in an additional commit.

> - database_gap: because of the last line in `spkg-install` script, `sage -c "gap_reset_workspace()"`, it should depend on a working Sage installation. So i added `SAGERUNTIME` as a dependency. It is overkill ?

No overkill, it is correct.

> - `igraph` requires the `libxml2` (which we are not shipping), see the attached log.
> Perhaps we should package it, or perhaps move it to expermiental ?

Let's leave this for now.

> it seems that `igraph` would be happy with blas/lapack and glpk, so perhaps should we also add `atlas` and `glpk` as dependencies ?

Well, `igraph` doesn't use them even if they are present. While `igraph` might be able to use those libraries, it doesn't do so by default. So no extra dependencies are needed.

> - `libtheora` depends on `libogg`, see the attached log. I updated the dependency file.

Good.

> - `normaliz` depends on `boost_cropped`, see the attached log. I updated the dependency file.

Good.

> Shall we remove `singular` from `normaliz` dependencies ?

The `spkg-install` file for `normaliz` really installs things specifically for Singular, so I think we need the dependency.

> - i added a `# no dependencies` for `configure`.

Well, `configure` isn't really a package... If you really want a dependencies file, it should perhaps say something like `# not a real package`.

> ```
> base: $(INST)/$(BZIP2) $(INST)/$(PATCH) $(INST)/$(PKGCONF)
> ```
> 
> Shall those 3 packages have "base" priority too ?

No. Like I said, `configure` isn't a package, but these 3 are real packages.



---

archive/issue_comments_273613.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nDoes this still need work?",
    "created_at": "2015-10-28T10:44:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273613",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Does this still need work?



---

archive/issue_events_271334.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-26T21:40:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271334"
}
```



---

archive/issue_events_271335.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-26T21:40:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271335"
}
```



---

archive/issue_comments_273614.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nPart of this (for latte_int, 4ti2) was duplicated in #20748. \nWhat's up with this bigger patch?\n(And what's up with all these tickets without followup?)",
    "created_at": "2016-06-26T21:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273614",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

Part of this (for latte_int, 4ti2) was duplicated in #20748. 
What's up with this bigger patch?
(And what's up with all these tickets without followup?)



---

archive/issue_comments_273615.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nWell, I guess it will have to be rebased anyhow.",
    "created_at": "2016-06-27T08:54:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273615",
    "user": "https://github.com/embray"
}
```

<div id="comment:12" align="right">comment:12</div>

Well, I guess it will have to be rebased anyhow.



---

archive/issue_comments_273616.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThis patch adds lines of the form:\n\n```\n $(INST)/$(SAGE_MP_LIBRARY) $(INST)/$(NTL) $(INST)/$(CDDLIB)\n```\nwhereas #20748 added:\n\n```\n $(MP_LIBRARY) ntl 4ti2 cddlib\n```\nWhat is the preferred way of writing these dependencies? \nIs this documented?",
    "created_at": "2016-06-27T16:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273616",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

This patch adds lines of the form:

```
 $(INST)/$(SAGE_MP_LIBRARY) $(INST)/$(NTL) $(INST)/$(CDDLIB)
```
whereas #20748 added:

```
 $(MP_LIBRARY) ntl 4ti2 cddlib
```
What is the preferred way of writing these dependencies? 
Is this documented?



---

archive/issue_events_271336.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-27T16:42:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271336"
}
```



---

archive/issue_events_271337.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-27T16:42:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271337"
}
```



---

archive/issue_comments_273617.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThis is a recent change, the new syntax is `$(MP_LIBRARY) ntl 4ti2 cddlib`",
    "created_at": "2016-06-29T08:41:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273617",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:16" align="right">comment:16</div>

This is a recent change, the new syntax is `$(MP_LIBRARY) ntl 4ti2 cddlib`



---

archive/issue_events_271338.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-07-06T22:41:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271338"
}
```



---

archive/issue_events_271339.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-07-06T22:41:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271339"
}
```



---

archive/issue_comments_273618.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@mkoeppe](#comment%3A13):\n> What is the preferred way of writing these dependencies? \n> Is this documented?\n\nhttp://doc.sagemath.org/html/en/developer/packaging.html#package-dependencies",
    "created_at": "2016-07-13T19:25:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273618",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@mkoeppe](#comment%3A13):
> What is the preferred way of writing these dependencies? 
> Is this documented?

http://doc.sagemath.org/html/en/developer/packaging.html#package-dependencies



---

archive/issue_comments_273619.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/add_some_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/add_some_dependencies)** to **[u/jdemeyer/add_some_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_some_dependencies)**",
    "created_at": "2016-07-14T15:53:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273619",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/tmonteil/add_some_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/add_some_dependencies)** to **[u/jdemeyer/add_some_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_some_dependencies)**



---

archive/issue_events_271340.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-14T16:00:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271340"
}
```



---

archive/issue_events_271341.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-14T16:00:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271341"
}
```



---

archive/issue_comments_273620.json:
```json
{
    "body": "Changed commit from **[`ec50fed`](https://github.com/sagemath/sagetrac-mirror/commit/ec50fed25a39aa154ad2c3d4a9eab732d801b5a3)** to **[`6aef10c`](https://github.com/sagemath/sagetrac-mirror/commit/6aef10cce1ff5a056828e5bd0b5a1c09d51c04ad)**",
    "created_at": "2016-07-14T16:00:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273620",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`ec50fed`](https://github.com/sagemath/sagetrac-mirror/commit/ec50fed25a39aa154ad2c3d4a9eab732d801b5a3)** to **[`6aef10c`](https://github.com/sagemath/sagetrac-mirror/commit/6aef10cce1ff5a056828e5bd0b5a1c09d51c04ad)**



---

archive/issue_comments_273621.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6aef10cce1ff5a056828e5bd0b5a1c09d51c04ad\"><code>6aef10c</code></a></td><td><code>Update to new style of dependencies</code></td></tr></table>\n",
    "created_at": "2016-07-14T16:00:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273621",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6aef10cce1ff5a056828e5bd0b5a1c09d51c04ad"><code>6aef10c</code></a></td><td><code>Update to new style of dependencies</code></td></tr></table>




---

archive/issue_comments_273622.json:
```json
{
    "body": "Changed reviewer from **Thierry Monteil** to **Thierry Monteil, Matthias Koeppe**",
    "created_at": "2016-07-15T11:11:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273622",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Thierry Monteil** to **Thierry Monteil, Matthias Koeppe**



---

archive/issue_events_271342.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-07-15T11:11:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271342"
}
```



---

archive/issue_events_271343.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-07-15T11:11:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271343"
}
```



---

archive/issue_events_271344.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-16T20:06:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271344"
}
```



---

archive/issue_events_271345.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b5e0705f5fd9929d8f4f08ba9f2b24148d6e1f62",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-07-16T20:06:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19295#event-271345"
}
```



---

archive/issue_comments_273623.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/add_some_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_some_dependencies)** to **[`6aef10c`](https://github.com/sagemath/sagetrac-mirror/commit/6aef10cce1ff5a056828e5bd0b5a1c09d51c04ad)**",
    "created_at": "2016-07-16T20:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19295",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19295#issuecomment-273623",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/add_some_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_some_dependencies)** to **[`6aef10c`](https://github.com/sagemath/sagetrac-mirror/commit/6aef10cce1ff5a056828e5bd0b5a1c09d51c04ad)**
