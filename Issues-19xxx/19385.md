# Issue 19385: Refactor DiGraph.__init__

archive/issues_019148.json:
```json
{
    "assignees": [],
    "body": "As was done earlier with #19381, this branch strips some code out of digraph.py and stores it in `graph_input.py`.\n\nFortunately, most of `graph_input.py` can be reused for digraphs, so that's a net decrease in code volume in general.\n\nNathann\n\nP.S.: I cannot believe all that this code does in order to guess what the user meants when he provides bad/incomplete/crazy input.\n\nDepends on #19381\n\nCC:  @sagetrac-borassi @dcoudert @dimpase @videlec @simon-king-jena\n\nBranch/Commit: **[`ced3658`](https://github.com/sagemath/sagetrac-mirror/commit/ced36581c5258b40dc9e72a986fbaa9b7e12a8cc)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Nathann Cohen**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19385_\n\n",
    "closed_at": "2015-10-14T21:03:51Z",
    "created_at": "2015-10-10T14:07:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Refactor DiGraph.__init__",
    "type": "issue",
    "updated_at": "2015-10-14T21:03:51Z",
    "url": "https://github.com/sagemath/sage/issues/19385",
    "user": "https://github.com/nathanncohen"
}
```
As was done earlier with #19381, this branch strips some code out of digraph.py and stores it in `graph_input.py`.

Fortunately, most of `graph_input.py` can be reused for digraphs, so that's a net decrease in code volume in general.

Nathann

P.S.: I cannot believe all that this code does in order to guess what the user meants when he provides bad/incomplete/crazy input.

Depends on #19381

CC:  @sagetrac-borassi @dcoudert @dimpase @videlec @simon-king-jena

Branch/Commit: **[`ced3658`](https://github.com/sagemath/sagetrac-mirror/commit/ced36581c5258b40dc9e72a986fbaa9b7e12a8cc)**

Reviewer: **Travis Scrimshaw**

Author: **Nathann Cohen**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/19385_





---

archive/issue_events_272493.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-10T14:07:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19385#event-272493"
}
```



---

archive/issue_events_272494.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-10T14:07:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19385#event-272494"
}
```



---

archive/issue_events_272495.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-10T14:07:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19385#event-272495"
}
```



---

archive/issue_events_272496.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-10T14:07:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19385#event-272496"
}
```



---

archive/issue_comments_275382.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nSimon: sorry to disturb, but I think I will need your help for this branch. All doctests pass in graph/ except for a test in `DiGraph.path_semigroup` that I absolutely do not understand `:-/`\n\nHere is a trace, though it will appear soon on the patchbot (and I expect other related doctests to fail in combinat/).\n\nNathann\n\n```\nFile \"digraph.py\", line 2671, in sage.graphs.digraph.DiGraph.path_semigroup\nFailed example:\n    F = Q.path_semigroup(); F\nException raised:\n...\n      File \"sage/misc/cachefunc.pyx\", line 563, in genexpr (build/cythonized/sage/misc/cachefunc.c:2439)\n        return tuple(_cache_key(item) for item in o)\n      File \"sage/misc/cachefunc.pyx\", line 561, in sage.misc.cachefunc._cache_key (build/cythonized/sage/misc/cachefunc.c:2644)\n        o = o._cache_key()\n      File \"sage/structure/sage_object.pyx\", line 410, in sage.structure.sage_object.SageObject._cache_key (build/cythonized/sage/structure/sage_object.c:2918)\n        raise TypeError(\"{} is not hashable and does not implement _cache_key()\".format(type(self)))\n    TypeError: <class 'sage.graphs.digraph.DiGraph'> is not hashable and does not implement _cache_key()\n**********************************************************************\n```\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/efb842b6b5d15780c892f45d76baaea97e684cc4\"><code>efb842b</code></a></td><td><code>trac #19381: disclaimer</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9522bbcaca763cf89a3c81f47cc2126e38b35a1\"><code>d9522bb</code></a></td><td><code>trac #19381: seidel adjacency matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0f8ee4cff832d33e43549d2f182d86e09d321dc\"><code>f0f8ee4</code></a></td><td><code>trac #19381: adjacency matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a51fde66641266ec6ac91bdb0b54d82a7f6fc19\"><code>7a51fde</code></a></td><td><code>trac #19381: Fix seidel adjacency</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5abbd4b53f337acd89738db4a3a067c2b54618d5\"><code>5abbd4b</code></a></td><td><code>trac #19381: Incidence matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf7f5159941c63f64d54912c8bc97f5ec56235ac\"><code>cf7f515</code></a></td><td><code>trac #19381: dict_of_dicts</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9fc7a89220dced27599cec5b903c9feb26d0459\"><code>f9fc7a8</code></a></td><td><code>trac #19381: dict of lists</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd28d937cb552e4f97e764ce0e9a02c5e6073a31\"><code>dd28d93</code></a></td><td><code>trac #19381: dig6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9bdf527fd59509647ccefd86cbd87bb2e92071b4\"><code>9bdf527</code></a></td><td><code>trac #19381: Typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf53613abb473f53411b50bd2ddc049050cd6dbc\"><code>cf53613</code></a></td><td><code>trac #19385: Refactor DiGraph.__init__</code></td></tr></table>\n",
    "created_at": "2015-10-10T14:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275382",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:1" align="right">comment:1</div>

Simon: sorry to disturb, but I think I will need your help for this branch. All doctests pass in graph/ except for a test in `DiGraph.path_semigroup` that I absolutely do not understand `:-/`

Here is a trace, though it will appear soon on the patchbot (and I expect other related doctests to fail in combinat/).

Nathann

```
File "digraph.py", line 2671, in sage.graphs.digraph.DiGraph.path_semigroup
Failed example:
    F = Q.path_semigroup(); F
Exception raised:
...
      File "sage/misc/cachefunc.pyx", line 563, in genexpr (build/cythonized/sage/misc/cachefunc.c:2439)
        return tuple(_cache_key(item) for item in o)
      File "sage/misc/cachefunc.pyx", line 561, in sage.misc.cachefunc._cache_key (build/cythonized/sage/misc/cachefunc.c:2644)
        o = o._cache_key()
      File "sage/structure/sage_object.pyx", line 410, in sage.structure.sage_object.SageObject._cache_key (build/cythonized/sage/structure/sage_object.c:2918)
        raise TypeError("{} is not hashable and does not implement _cache_key()".format(type(self)))
    TypeError: <class 'sage.graphs.digraph.DiGraph'> is not hashable and does not implement _cache_key()
**********************************************************************
```

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/efb842b6b5d15780c892f45d76baaea97e684cc4"><code>efb842b</code></a></td><td><code>trac #19381: disclaimer</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9522bbcaca763cf89a3c81f47cc2126e38b35a1"><code>d9522bb</code></a></td><td><code>trac #19381: seidel adjacency matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0f8ee4cff832d33e43549d2f182d86e09d321dc"><code>f0f8ee4</code></a></td><td><code>trac #19381: adjacency matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a51fde66641266ec6ac91bdb0b54d82a7f6fc19"><code>7a51fde</code></a></td><td><code>trac #19381: Fix seidel adjacency</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5abbd4b53f337acd89738db4a3a067c2b54618d5"><code>5abbd4b</code></a></td><td><code>trac #19381: Incidence matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf7f5159941c63f64d54912c8bc97f5ec56235ac"><code>cf7f515</code></a></td><td><code>trac #19381: dict_of_dicts</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9fc7a89220dced27599cec5b903c9feb26d0459"><code>f9fc7a8</code></a></td><td><code>trac #19381: dict of lists</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd28d937cb552e4f97e764ce0e9a02c5e6073a31"><code>dd28d93</code></a></td><td><code>trac #19381: dig6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9bdf527fd59509647ccefd86cbd87bb2e92071b4"><code>9bdf527</code></a></td><td><code>trac #19381: Typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf53613abb473f53411b50bd2ddc049050cd6dbc"><code>cf53613</code></a></td><td><code>trac #19385: Refactor DiGraph.__init__</code></td></tr></table>




---

archive/issue_comments_275383.json:
```json
{
    "body": "Commit: **[`cf53613`](https://github.com/sagemath/sagetrac-mirror/commit/cf53613abb473f53411b50bd2ddc049050cd6dbc)**",
    "created_at": "2015-10-10T14:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275383",
    "user": "https://github.com/nathanncohen"
}
```

Commit: **[`cf53613`](https://github.com/sagemath/sagetrac-mirror/commit/cf53613abb473f53411b50bd2ddc049050cd6dbc)**



---

archive/issue_comments_275384.json:
```json
{
    "body": "Branch: **[u/ncohen/19385](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19385)**",
    "created_at": "2015-10-10T14:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275384",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/ncohen/19385](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19385)**



---

archive/issue_comments_275385.json:
```json
{
    "body": "Dependencies: **#19381**",
    "created_at": "2015-10-10T14:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275385",
    "user": "https://github.com/nathanncohen"
}
```

Dependencies: **#19381**



---

archive/issue_events_272497.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-10T14:10:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19385#event-272497"
}
```



---

archive/issue_comments_275386.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nReplying to [@nathanncohen](#comment:1):\n> \n> ```\n> File \"digraph.py\", line 2671, in sage.graphs.digraph.DiGraph.path_semigroup\n> Failed example:\n>     F = Q.path_semigroup(); F\n> Exception raised:\n> ...\n>       File \"sage/misc/cachefunc.pyx\", line 563, in genexpr (build/cythonized/sage/misc/cachefunc.c:2439)\n>         return tuple(_cache_key(item) for item in o)\n>       File \"sage/misc/cachefunc.pyx\", line 561, in sage.misc.cachefunc._cache_key (build/cythonized/sage/misc/cachefunc.c:2644)\n>         o = o._cache_key()\n>       File \"sage/structure/sage_object.pyx\", line 410, in sage.structure.sage_object.SageObject._cache_key (build/cythonized/sage/structure/sage_object.c:2918)\n>         raise TypeError(\"{} is not hashable and does not implement _cache_key()\".format(type(self)))\n>     TypeError: <class 'sage.graphs.digraph.DiGraph'> is not hashable and does not implement _cache_key()\n> **********************************************************************\n> ```\n\nI'll have a look. Obviously, we should either use an immutable version of a digraph, or (something which seems to be new) implement _cache_key.",
    "created_at": "2015-10-10T14:46:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275386",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:2" align="right">comment:2</div>

Replying to [@nathanncohen](#comment:1):
> 
> ```
> File "digraph.py", line 2671, in sage.graphs.digraph.DiGraph.path_semigroup
> Failed example:
>     F = Q.path_semigroup(); F
> Exception raised:
> ...
>       File "sage/misc/cachefunc.pyx", line 563, in genexpr (build/cythonized/sage/misc/cachefunc.c:2439)
>         return tuple(_cache_key(item) for item in o)
>       File "sage/misc/cachefunc.pyx", line 561, in sage.misc.cachefunc._cache_key (build/cythonized/sage/misc/cachefunc.c:2644)
>         o = o._cache_key()
>       File "sage/structure/sage_object.pyx", line 410, in sage.structure.sage_object.SageObject._cache_key (build/cythonized/sage/structure/sage_object.c:2918)
>         raise TypeError("{} is not hashable and does not implement _cache_key()".format(type(self)))
>     TypeError: <class 'sage.graphs.digraph.DiGraph'> is not hashable and does not implement _cache_key()
> **********************************************************************
> ```

I'll have a look. Obviously, we should either use an immutable version of a digraph, or (something which seems to be new) implement _cache_key.



---

archive/issue_comments_275387.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n> I'll have a look. Obviously, we should either use an immutable version of a digraph, or (something which seems to be new) implement _cache_key.\n\nI tried to make `Q` immutable but the result was the same. And anyway, this branch shouldn't have any effect on that `:-/`\n\nNathann",
    "created_at": "2015-10-10T14:49:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275387",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:3" align="right">comment:3</div>

> I'll have a look. Obviously, we should either use an immutable version of a digraph, or (something which seems to be new) implement _cache_key.

I tried to make `Q` immutable but the result was the same. And anyway, this branch shouldn't have any effect on that `:-/`

Nathann



---

archive/issue_comments_275388.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nSomehow you're breaking this behavior:\n\n```\nQ = Q.copy(immutable=True, weighted=True)\n```\nand the result is a mutable digraph.",
    "created_at": "2015-10-10T15:35:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275388",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

Somehow you're breaking this behavior:

```
Q = Q.copy(immutable=True, weighted=True)
```
and the result is a mutable digraph.



---

archive/issue_comments_275389.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\n\n```\nsage: hash(Q.copy(immutable=True))\n8019503473919971649\nsage: hash(Q.copy(immutable=True, weighted=True))\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-4-dab47b1641ed> in <module>()\n----> 1 hash(Q.copy(immutable=True, weighted=True))\n\n/home/travis/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (/home/travis/sage/src/build/cythonized/sage/misc/cachefunc.c:14346)()\n   2213         if self.cache is None:\n   2214             f = self.f\n-> 2215             self.cache = f(self._instance)\n   2216         return self.cache\n   2217 \n\n/home/travis/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in __hash__(self)\n    576             if self.allows_multiple_edges():\n    577                 from collections import Counter\n--> 578                 edge_items = Counter(edge_items).items()\n    579             return hash((frozenset(self.vertex_iterator()),\n    580                          self._weighted,\n\n/home/travis/sage/local/lib/python/collections.pyc in __init__(self, iterable, **kwds)\n    451         '''\n    452         super(Counter, self).__init__()\n--> 453         self.update(iterable, **kwds)\n    454 \n    455     def __missing__(self, key):\n\n/home/travis/sage/local/lib/python/collections.pyc in update(self, iterable, **kwds)\n    533                 self_get = self.get\n    534                 for elem in iterable:\n--> 535                     self[elem] = self_get(elem, 0) + 1\n    536         if kwds:\n    537             self.update(kwds)\n\nTypeError: unhashable type: 'list'\n```",
    "created_at": "2015-10-10T15:38:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275389",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">comment:5</div>


```
sage: hash(Q.copy(immutable=True))
8019503473919971649
sage: hash(Q.copy(immutable=True, weighted=True))
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-4-dab47b1641ed> in <module>()
----> 1 hash(Q.copy(immutable=True, weighted=True))

/home/travis/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (/home/travis/sage/src/build/cythonized/sage/misc/cachefunc.c:14346)()
   2213         if self.cache is None:
   2214             f = self.f
-> 2215             self.cache = f(self._instance)
   2216         return self.cache
   2217 

/home/travis/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in __hash__(self)
    576             if self.allows_multiple_edges():
    577                 from collections import Counter
--> 578                 edge_items = Counter(edge_items).items()
    579             return hash((frozenset(self.vertex_iterator()),
    580                          self._weighted,

/home/travis/sage/local/lib/python/collections.pyc in __init__(self, iterable, **kwds)
    451         '''
    452         super(Counter, self).__init__()
--> 453         self.update(iterable, **kwds)
    454 
    455     def __missing__(self, key):

/home/travis/sage/local/lib/python/collections.pyc in update(self, iterable, **kwds)
    533                 self_get = self.get
    534                 for elem in iterable:
--> 535                     self[elem] = self_get(elem, 0) + 1
    536         if kwds:
    537             self.update(kwds)

TypeError: unhashable type: 'list'
```



---

archive/issue_comments_275390.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nOh. Great, thanks !!\n\nNathann",
    "created_at": "2015-10-10T15:40:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275390",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

Oh. Great, thanks !!

Nathann



---

archive/issue_comments_275391.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nWorking it down a little more. With this branch:\n\n```\nsage: Q = DiGraph({1:{2:['a','c']}, 2:{3:['b']}}, immutable=True, weighted=True)\nsage: Q.weighted()\nTrue\nsage: hash(Q)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-15-9389487dfecf> in <module>()\n----> 1 hash(Q)\n\n/home/travis/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (/home/travis/sage/src/build/cythonized/sage/misc/cachefunc.c:14346)()\n   2213         if self.cache is None:\n   2214             f = self.f\n-> 2215             self.cache = f(self._instance)\n   2216         return self.cache\n   2217 \n\n/home/travis/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in __hash__(self)\n    579             return hash((frozenset(self.vertex_iterator()),\n    580                          self._weighted,\n--> 581                          frozenset(edge_items)))\n    582         raise TypeError(\"This graph is mutable, and thus not hashable. \"\n    583                         \"Create an immutable copy by `g.copy(immutable=True)`\")\n\nTypeError: unhashable type: 'list'\n```",
    "created_at": "2015-10-10T15:41:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275391",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

Working it down a little more. With this branch:

```
sage: Q = DiGraph({1:{2:['a','c']}, 2:{3:['b']}}, immutable=True, weighted=True)
sage: Q.weighted()
True
sage: hash(Q)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-15-9389487dfecf> in <module>()
----> 1 hash(Q)

/home/travis/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (/home/travis/sage/src/build/cythonized/sage/misc/cachefunc.c:14346)()
   2213         if self.cache is None:
   2214             f = self.f
-> 2215             self.cache = f(self._instance)
   2216         return self.cache
   2217 

/home/travis/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in __hash__(self)
    579             return hash((frozenset(self.vertex_iterator()),
    580                          self._weighted,
--> 581                          frozenset(edge_items)))
    582         raise TypeError("This graph is mutable, and thus not hashable. "
    583                         "Create an immutable copy by `g.copy(immutable=True)`")

TypeError: unhashable type: 'list'
```



---

archive/issue_comments_275392.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHowever this seems to work for normal graphs:\n\n```\nsage: Q = Graph({1:{2:['a','c']}, 2:{3:['b']}}, immutable=True, weighted=True)\nsage: hash(Q)\n2304336980638771825\n```",
    "created_at": "2015-10-10T15:43:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275392",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:8" align="right">comment:8</div>

However this seems to work for normal graphs:

```
sage: Q = Graph({1:{2:['a','c']}, 2:{3:['b']}}, immutable=True, weighted=True)
sage: hash(Q)
2304336980638771825
```



---

archive/issue_comments_275393.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nYeah yeah the problem is very simple: instead of creating several edges labelled 'a','b','c' it creates one edge with a list as a label. Which is not hashable.\n\nNathann",
    "created_at": "2015-10-10T15:48:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275393",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

Yeah yeah the problem is very simple: instead of creating several edges labelled 'a','b','c' it creates one edge with a list as a label. Which is not hashable.

Nathann



---

archive/issue_comments_275394.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI hate multiple edges, and I hate labels. Dozens of lines of copy/paste to handle stupid combinations of cases that nobody uses.",
    "created_at": "2015-10-10T15:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275394",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:10" align="right">comment:10</div>

I hate multiple edges, and I hate labels. Dozens of lines of copy/paste to handle stupid combinations of cases that nobody uses.



---

archive/issue_comments_275395.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99c8601b947b746cfd0cbbca4c836b82b3ac5dde\"><code>99c8601</code></a></td><td><code>trac #19385: Dictionary of lists for a digraph with labelled multiple edges. How I wish I could forget those stupid things.</code></td></tr></table>\n",
    "created_at": "2015-10-10T15:57:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275395",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99c8601b947b746cfd0cbbca4c836b82b3ac5dde"><code>99c8601</code></a></td><td><code>trac #19385: Dictionary of lists for a digraph with labelled multiple edges. How I wish I could forget those stupid things.</code></td></tr></table>




---

archive/issue_comments_275396.json:
```json
{
    "body": "Changed commit from **[`cf53613`](https://github.com/sagemath/sagetrac-mirror/commit/cf53613abb473f53411b50bd2ddc049050cd6dbc)** to **[`99c8601`](https://github.com/sagemath/sagetrac-mirror/commit/99c8601b947b746cfd0cbbca4c836b82b3ac5dde)**",
    "created_at": "2015-10-10T15:57:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275396",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cf53613`](https://github.com/sagemath/sagetrac-mirror/commit/cf53613abb473f53411b50bd2ddc049050cd6dbc)** to **[`99c8601`](https://github.com/sagemath/sagetrac-mirror/commit/99c8601b947b746cfd0cbbca4c836b82b3ac5dde)**



---

archive/issue_comments_275397.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nFixed. Thanks for your help `T_T`\n\nNathann",
    "created_at": "2015-10-10T15:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275397",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:12" align="right">comment:12</div>

Fixed. Thanks for your help `T_T`

Nathann



---

archive/issue_comments_275398.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2015-10-10T16:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275398",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_275399.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThis LGTM except for this change:\n\n```diff\n-            sage: G = DiGraph(M,sparse=True); G\n+            sage: G = DiGraph(M,sparse=True,weighted=True); G\n```\nI'm worried that this change of behavior of how you handle weighted graphs could break other people's code. Unfortunately I can't comment on the correctness of either behavior, but it might have been a \"feature\" that others were using.",
    "created_at": "2015-10-10T16:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275399",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">comment:13</div>

This LGTM except for this change:

```diff
-            sage: G = DiGraph(M,sparse=True); G
+            sage: G = DiGraph(M,sparse=True,weighted=True); G
```
I'm worried that this change of behavior of how you handle weighted graphs could break other people's code. Unfortunately I can't comment on the correctness of either behavior, but it might have been a "feature" that others were using.



---

archive/issue_comments_275400.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n> I'm worried that this change of behavior of how you handle weighted graphs could break other people's code. Unfortunately I can't comment on the correctness of either behavior, but it might have been a \"feature\" that others were using.\n\nIf you build a graph from a matrix in which all weights are 1 it is not considered as weighted. If any weight is different from 1 then it is considered to be weighted.\n\nTo me, this looks like a dangerous behaviour.\n\nNathann",
    "created_at": "2015-10-10T16:25:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275400",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

> I'm worried that this change of behavior of how you handle weighted graphs could break other people's code. Unfortunately I can't comment on the correctness of either behavior, but it might have been a "feature" that others were using.

If you build a graph from a matrix in which all weights are 1 it is not considered as weighted. If any weight is different from 1 then it is considered to be weighted.

To me, this looks like a dangerous behaviour.

Nathann



---

archive/issue_comments_275401.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nDo you insist on my adding a heuristic which you admit you do not use, which will set this unreliable behaviour to what it was? This way everybody will be able to create weighted graphs without knowing exactly how, and have bugs once in a while when all weights happen to be one.\n\nIt just takes one line, and it will be dedicated.\n\nNathann",
    "created_at": "2015-10-10T16:29:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275401",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:15" align="right">comment:15</div>

Do you insist on my adding a heuristic which you admit you do not use, which will set this unreliable behaviour to what it was? This way everybody will be able to create weighted graphs without knowing exactly how, and have bugs once in a while when all weights happen to be one.

It just takes one line, and it will be dedicated.

Nathann



---

archive/issue_comments_275402.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nOf course, if the matrix has weights different from +1-1 BUT the graph is considered to have multiple edges, then those weights will be considered as multiple edges.\n\nThis constructor is full of corner cases like that. Where we try to guess what exactly the user did not know he wanted.\n\nHalf of the code sets flags depending on the values of others. And I am sick of trying to analyse corner-cases where you are really not sure of what should happen.\n\nNathann",
    "created_at": "2015-10-10T16:32:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275402",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

Of course, if the matrix has weights different from +1-1 BUT the graph is considered to have multiple edges, then those weights will be considered as multiple edges.

This constructor is full of corner cases like that. Where we try to guess what exactly the user did not know he wanted.

Half of the code sets flags depending on the values of others. And I am sick of trying to analyse corner-cases where you are really not sure of what should happen.

Nathann



---

archive/issue_comments_275403.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI don't even know what the default behaviour is when neither weighted nor mutiple edges is specified, and if the matrix has weights different from +1/-1. Will it be multiple edges? Will it be weights? *suspense*\n\n```\nsage: Graph(2*graphs.PetersenGraph().adjacency_matrix())\nMulti-graph on 10 vertices\n```\n\nWouhou ! It's multiple edges.\n\nNathann",
    "created_at": "2015-10-10T16:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275403",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:17" align="right">comment:17</div>

I don't even know what the default behaviour is when neither weighted nor mutiple edges is specified, and if the matrix has weights different from +1/-1. Will it be multiple edges? Will it be weights? *suspense*

```
sage: Graph(2*graphs.PetersenGraph().adjacency_matrix())
Multi-graph on 10 vertices
```

Wouhou ! It's multiple edges.

Nathann



---

archive/issue_comments_275404.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nOf course, if now some of the weights is not integer, then what will it be ?...\n\n```\nsage: Graph(0.5*graphs.PetersenGraph().adjacency_matrix())\nGraph on 10 vertices\nsage: Graph(0.5*graphs.PetersenGraph().adjacency_matrix()).weighted()\nTrue\n```\n\nWeighted !!!!\n\nNathann",
    "created_at": "2015-10-10T16:38:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275404",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:18" align="right">comment:18</div>

Of course, if now some of the weights is not integer, then what will it be ?...

```
sage: Graph(0.5*graphs.PetersenGraph().adjacency_matrix())
Graph on 10 vertices
sage: Graph(0.5*graphs.PetersenGraph().adjacency_matrix()).weighted()
True
```

Weighted !!!!

Nathann



---

archive/issue_comments_275405.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nSo please, help me and let us drop those unsufferable behaviour that makes this code 90% bullshit trying to figure out some sensible interpretation for the many kind of garbage that it accepts.",
    "created_at": "2015-10-10T16:39:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275405",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:19" align="right">comment:19</div>

So please, help me and let us drop those unsufferable behaviour that makes this code 90% bullshit trying to figure out some sensible interpretation for the many kind of garbage that it accepts.



---

archive/issue_comments_275406.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nIf you are willing to help whoever posts to sage-devel asking why their weighted graph code no longers works, than you can set a positive review to this.",
    "created_at": "2015-10-10T16:46:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275406",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

If you are willing to help whoever posts to sage-devel asking why their weighted graph code no longers works, than you can set a positive review to this.



---

archive/issue_comments_275407.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@nathanncohen](#comment:10):\n> I hate multiple edges, and I hate labels. Dozens of lines of copy/paste to handle stupid combinations of cases that nobody uses.\n\nI do use multiple edges, loops and labels.",
    "created_at": "2015-10-10T19:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275407",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@nathanncohen](#comment:10):
> I hate multiple edges, and I hate labels. Dozens of lines of copy/paste to handle stupid combinations of cases that nobody uses.

I do use multiple edges, loops and labels.



---

archive/issue_comments_275408.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI believe explicit is better than implicit. And it induces a very bad gut feeling when `c*G` for a graph G returns a weighted graph or a multi-graph depending on whether c is integer or rational.",
    "created_at": "2015-10-10T19:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275408",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:22" align="right">comment:22</div>

I believe explicit is better than implicit. And it induces a very bad gut feeling when `c*G` for a graph G returns a weighted graph or a multi-graph depending on whether c is integer or rational.



---

archive/issue_comments_275409.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n> I believe explicit is better than implicit. And it induces a very bad gut feeling when `c*G` for a graph G returns a weighted graph or a multi-graph depending on whether c is integer or rational.\n\n+1 here. Not only it drives me mad, but the code has to deal with all that and decide it (and God it is ugly), and of course this comes at the cost of over-analysing the input, which takes time.\n\nNathann",
    "created_at": "2015-10-10T22:29:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275409",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:23" align="right">comment:23</div>

> I believe explicit is better than implicit. And it induces a very bad gut feeling when `c*G` for a graph G returns a weighted graph or a multi-graph depending on whether c is integer or rational.

+1 here. Not only it drives me mad, but the code has to deal with all that and decide it (and God it is ugly), and of course this comes at the cost of over-analysing the input, which takes time.

Nathann



---

archive/issue_comments_275410.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n> If you are willing to help whoever posts to sage-devel asking why their weighted graph code no longers works, than you can set a positive review to this.\n\nGladly. Anyway, I prefer to explain why people have to be explicit in what they want rather than explain the 10 different combinations of parameters that [will/will not] yield what they expect.\n\nThank you.\n\nNathann",
    "created_at": "2015-10-10T22:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275410",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:24" align="right">comment:24</div>

> If you are willing to help whoever posts to sage-devel asking why their weighted graph code no longers works, than you can set a positive review to this.

Gladly. Anyway, I prefer to explain why people have to be explicit in what they want rather than explain the 10 different combinations of parameters that [will/will not] yield what they expect.

Thank you.

Nathann



---

archive/issue_events_272498.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-10T22:34:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19385#event-272498"
}
```



---

archive/issue_events_272499.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-10T22:34:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19385#event-272499"
}
```



---

archive/issue_events_272500.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-13T12:19:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19385#event-272500"
}
```



---

archive/issue_events_272501.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-13T12:19:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19385#event-272501"
}
```



---

archive/issue_comments_275411.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nDocumentation doesn't build as is evident from the patchbot log",
    "created_at": "2015-10-13T12:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275411",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>

Documentation doesn't build as is evident from the patchbot log



---

archive/issue_comments_275412.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57d73bf5c7da04eb2857c099379454fd9b6327ec\"><code>57d73bf</code></a></td><td><code>trac #19385: Merged with 6.9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d09d3847fcf55f661e9be98cd4dfb3226e8d9a9d\"><code>d09d384</code></a></td><td><code>trac #19385: <insert rant about loops and multiple edges></code></td></tr></table>\n",
    "created_at": "2015-10-13T12:37:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275412",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57d73bf5c7da04eb2857c099379454fd9b6327ec"><code>57d73bf</code></a></td><td><code>trac #19385: Merged with 6.9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d09d3847fcf55f661e9be98cd4dfb3226e8d9a9d"><code>d09d384</code></a></td><td><code>trac #19385: <insert rant about loops and multiple edges></code></td></tr></table>




---

archive/issue_comments_275413.json:
```json
{
    "body": "Changed commit from **[`99c8601`](https://github.com/sagemath/sagetrac-mirror/commit/99c8601b947b746cfd0cbbca4c836b82b3ac5dde)** to **[`d09d384`](https://github.com/sagemath/sagetrac-mirror/commit/d09d3847fcf55f661e9be98cd4dfb3226e8d9a9d)**",
    "created_at": "2015-10-13T12:37:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275413",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`99c8601`](https://github.com/sagemath/sagetrac-mirror/commit/99c8601b947b746cfd0cbbca4c836b82b3ac5dde)** to **[`d09d384`](https://github.com/sagemath/sagetrac-mirror/commit/d09d3847fcf55f661e9be98cd4dfb3226e8d9a9d)**



---

archive/issue_comments_275414.json:
```json
{
    "body": "Changed commit from **[`d09d384`](https://github.com/sagemath/sagetrac-mirror/commit/d09d3847fcf55f661e9be98cd4dfb3226e8d9a9d)** to **[`ced3658`](https://github.com/sagemath/sagetrac-mirror/commit/ced36581c5258b40dc9e72a986fbaa9b7e12a8cc)**",
    "created_at": "2015-10-13T12:40:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275414",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d09d384`](https://github.com/sagemath/sagetrac-mirror/commit/d09d3847fcf55f661e9be98cd4dfb3226e8d9a9d)** to **[`ced3658`](https://github.com/sagemath/sagetrac-mirror/commit/ced36581c5258b40dc9e72a986fbaa9b7e12a8cc)**



---

archive/issue_comments_275415.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ced36581c5258b40dc9e72a986fbaa9b7e12a8cc\"><code>ced3658</code></a></td><td><code>trac #19385: Typo T_T</code></td></tr></table>\n",
    "created_at": "2015-10-13T12:40:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275415",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ced36581c5258b40dc9e72a986fbaa9b7e12a8cc"><code>ced3658</code></a></td><td><code>trac #19385: Typo T_T</code></td></tr></table>




---

archive/issue_events_272502.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-13T12:43:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19385#event-272502"
}
```



---

archive/issue_events_272503.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-13T12:43:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19385#event-272503"
}
```



---

archive/issue_comments_275416.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nSorry `:-/`",
    "created_at": "2015-10-13T12:43:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275416",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:28" align="right">comment:28</div>

Sorry `:-/`



---

archive/issue_comments_275417.json:
```json
{
    "body": "Changed branch from **[u/ncohen/19385](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19385)** to **[`ced3658`](https://github.com/sagemath/sagetrac-mirror/commit/ced36581c5258b40dc9e72a986fbaa9b7e12a8cc)**",
    "created_at": "2015-10-14T21:03:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19385#issuecomment-275417",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/ncohen/19385](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19385)** to **[`ced3658`](https://github.com/sagemath/sagetrac-mirror/commit/ced36581c5258b40dc9e72a986fbaa9b7e12a8cc)**



---

archive/issue_events_272504.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-14T21:03:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19385#event-272504"
}
```



---

archive/issue_events_272505.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6313db6c3b8b6edad4d6a4f91b6cbe8a40897724",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-10-14T21:03:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19385",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19385#event-272505"
}
```
