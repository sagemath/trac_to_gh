# Issue 19886: remove misleading line in FormalSums

archive/issues_019649.json:
```json
{
    "body": "As discussed in [this sage-devel discussion](https://groups.google.com/d/topic/sage-devel/09Xf1_coMOc/discussion), the \"elif\" branch in this excerpt can never be visited, since if its condition was satisfied, the \"if\" condition would have been too, and the method would have ended with the \"return\" statement in the \"if\" branch.\n\n```\nclass FormalSums(UniqueRepresentation, Module):\n\n    Element = FormalSum\n\n    def _element_constructor_(self, x, check=True, reduce=True):\n\n        if isinstance(x, FormalSum):\n            P = x.parent()\n            if P is self:\n                return x\n            elif P == self:\n                return self.element_class(x._data, check=False, reduce=False, parent=self)\n            else:\n                x = x._data\n```\n\nWe therefore remove the \"elif\" branch which can only cause confusion.\n\nBranch/Commit: fc1a04fec406551e6225cfa6e5cbee44bcb9f875\n\nReviewer: Daniel Krenn\n\nAuthor: Martin Rubey\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19886\n\n",
    "closed_at": "2016-01-20T10:19:42Z",
    "created_at": "2016-01-14T09:20:01Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.0",
    "title": "remove misleading line in FormalSums",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19886",
    "user": "https://github.com/mantepse"
}
```
As discussed in [this sage-devel discussion](https://groups.google.com/d/topic/sage-devel/09Xf1_coMOc/discussion), the "elif" branch in this excerpt can never be visited, since if its condition was satisfied, the "if" condition would have been too, and the method would have ended with the "return" statement in the "if" branch.

```
class FormalSums(UniqueRepresentation, Module):

    Element = FormalSum

    def _element_constructor_(self, x, check=True, reduce=True):

        if isinstance(x, FormalSum):
            P = x.parent()
            if P is self:
                return x
            elif P == self:
                return self.element_class(x._data, check=False, reduce=False, parent=self)
            else:
                x = x._data
```

We therefore remove the "elif" branch which can only cause confusion.

Branch/Commit: fc1a04fec406551e6225cfa6e5cbee44bcb9f875

Reviewer: Daniel Krenn

Author: Martin Rubey

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19886





---

archive/issue_comments_353500.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mantepse/remove_misleading_line_in_formalsums\"",
    "created_at": "2016-01-14T09:21:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353500",
    "user": "https://github.com/mantepse"
}
```

Changing branch from "" to "u/mantepse/remove_misleading_line_in_formalsums"



---

archive/issue_comments_353501.json:
```json
{
    "body": "Changing author from \"\" to \"Martin Rubey\"",
    "created_at": "2016-01-14T09:23:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353501",
    "user": "https://github.com/mantepse"
}
```

Changing author from "" to "Martin Rubey"



---

archive/issue_comments_353502.json:
```json
{
    "body": "Changing branch from \"u/mantepse/remove_misleading_line_in_formalsums\" to \"\"",
    "created_at": "2016-01-14T09:23:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353502",
    "user": "https://github.com/mantepse"
}
```

Changing branch from "u/mantepse/remove_misleading_line_in_formalsums" to ""



---

archive/issue_comments_353503.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-01-14T09:23:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353503",
    "user": "https://github.com/mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_353504.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mantepse/remove_misleading_line_in_formalsums\"",
    "created_at": "2016-01-14T09:24:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353504",
    "user": "https://github.com/mantepse"
}
```

Changing branch from "" to "u/mantepse/remove_misleading_line_in_formalsums"



---

archive/issue_comments_353505.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Daniel Krenn\"",
    "created_at": "2016-01-14T11:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353505",
    "user": "https://github.com/dkrenn"
}
```

Changing reviewer from "" to "Daniel Krenn"



---

archive/issue_comments_353506.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-01-14T11:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353506",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_353507.json:
```json
{
    "body": "Changing commit from \"\" to \"fc1a04fec406551e6225cfa6e5cbee44bcb9f875\"",
    "created_at": "2016-01-14T11:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353507",
    "user": "https://github.com/dkrenn"
}
```

Changing commit from "" to "fc1a04fec406551e6225cfa6e5cbee44bcb9f875"



---

archive/issue_comments_353508.json:
```json
{
    "body": "<a id='comment:4'></a>\nLGTM\n\n---\nNew commits:\n|                                                                                                                                          |                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[fc1a04f](https://github.com/sagemath/sagetrac-mirror/commit/fc1a04fec406551e6225cfa6e5cbee44bcb9f875)|`remove confusing line`|",
    "created_at": "2016-01-14T11:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353508",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:4'></a>
LGTM

---
New commits:
|                                                                                                                                          |                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[fc1a04f](https://github.com/sagemath/sagetrac-mirror/commit/fc1a04fec406551e6225cfa6e5cbee44bcb9f875)|`remove confusing line`|



---

archive/issue_comments_353509.json:
```json
{
    "body": "<a id='comment:5'></a>\nCan you summarize in one line in the ticket description what this ticket is about?\nWhy was the line misleading, why removing it is making Sage better?",
    "created_at": "2016-01-14T17:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353509",
    "user": "https://github.com/slel"
}
```

<a id='comment:5'></a>
Can you summarize in one line in the ticket description what this ticket is about?
Why was the line misleading, why removing it is making Sage better?



---

archive/issue_comments_353510.json:
```json
{
    "body": "<a id='comment:6'></a>\nSee this thread on sage-devel:\n\nhttps://groups.google.com/forum/#!topic/sage-devel/09Xf1_coMOc",
    "created_at": "2016-01-14T19:51:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353510",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:6'></a>
See this thread on sage-devel:

https://groups.google.com/forum/#!topic/sage-devel/09Xf1_coMOc



---

archive/issue_comments_353511.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,20 @@\n+As discussed in [this sage-devel discussion](https://groups.google.com/d/topic/sage-devel/09Xf1_coMOc/discussion), the \"elif\" branch in this excerpt can never be visited, since if its condition was satisfied, the \"if\" condition would have been too, and the method would have ended with the \"return\" statement in the \"if\" branch.\n \n+```\n+class FormalSums(UniqueRepresentation, Module):\n+\n+    Element = FormalSum\n+\n+    def _element_constructor_(self, x, check=True, reduce=True):\n+\n+        if isinstance(x, FormalSum):\n+            P = x.parent()\n+            if P is self:\n+                return x\n+            elif P == self:\n+                return self.element_class(x._data, check=False, reduce=False, parent=self)\n+            else:\n+                x = x._data\n+```\n+\n+We therefore remove the \"elif\" branch which can only cause confusion.\n``````\n",
    "created_at": "2016-01-14T21:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353511",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,20 @@
+As discussed in [this sage-devel discussion](https://groups.google.com/d/topic/sage-devel/09Xf1_coMOc/discussion), the "elif" branch in this excerpt can never be visited, since if its condition was satisfied, the "if" condition would have been too, and the method would have ended with the "return" statement in the "if" branch.
 
+```
+class FormalSums(UniqueRepresentation, Module):
+
+    Element = FormalSum
+
+    def _element_constructor_(self, x, check=True, reduce=True):
+
+        if isinstance(x, FormalSum):
+            P = x.parent()
+            if P is self:
+                return x
+            elif P == self:
+                return self.element_class(x._data, check=False, reduce=False, parent=self)
+            else:
+                x = x._data
+```
+
+We therefore remove the "elif" branch which can only cause confusion.
``````




---

archive/issue_comments_353512.json:
```json
{
    "body": "Changing branch from \"u/mantepse/remove_misleading_line_in_formalsums\" to \"fc1a04fec406551e6225cfa6e5cbee44bcb9f875\"",
    "created_at": "2016-01-20T10:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353512",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mantepse/remove_misleading_line_in_formalsums" to "fc1a04fec406551e6225cfa6e5cbee44bcb9f875"



---

archive/issue_comments_353513.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-01-20T10:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19886#issuecomment-353513",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_069591.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-20T10:19:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19886",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19886#event-69591"
}
```
