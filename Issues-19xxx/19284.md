# Issue 19284: implement a parser for octave vectors

archive/issues_019047.json:
```json
{
    "body": "as required in http://ask.sagemath.org/question/10159/converting-octave-vector-to-sage-list/\n\nKeywords: octave\n\nBranch/Commit: [f84f27425b68b38859c24ce727397372833636de](https://github.com/sagemath/sagetrac-mirror/commit/f84f27425b68b38859c24ce727397372833636de)\n\nReviewer: Vincent Delecroix\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19284\n\n",
    "closed_at": "2015-10-12T07:15:53Z",
    "created_at": "2015-09-24T20:23:50Z",
    "labels": [
        "component: interfaces: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "implement a parser for octave vectors",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19284",
    "user": "https://github.com/fchapoton"
}
```
as required in http://ask.sagemath.org/question/10159/converting-octave-vector-to-sage-list/

Keywords: octave

Branch/Commit: [f84f27425b68b38859c24ce727397372833636de](https://github.com/sagemath/sagetrac-mirror/commit/f84f27425b68b38859c24ce727397372833636de)

Reviewer: Vincent Delecroix

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19284





---

archive/issue_comments_348291.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[c3e75dc](https://github.com/sagemath/sagetrac-mirror/commit/c3e75dc8c995b8a1454a1f109b081f8c45df0eaa)|`octave vector parser`|",
    "created_at": "2015-09-24T20:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348291",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[c3e75dc](https://github.com/sagemath/sagetrac-mirror/commit/c3e75dc8c995b8a1454a1f109b081f8c45df0eaa)|`octave vector parser`|



---

archive/issue_comments_348292.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-09-24T20:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348292",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_348293.json:
```json
{
    "body": "Changing commit from \"\" to \"c3e75dc8c995b8a1454a1f109b081f8c45df0eaa\"",
    "created_at": "2015-09-24T20:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348293",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "c3e75dc8c995b8a1454a1f109b081f8c45df0eaa"



---

archive/issue_comments_348294.json:
```json
{
    "body": "Changing branch from \"\" to \"public/19284\"",
    "created_at": "2015-09-24T20:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348294",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "public/19284"



---

archive/issue_comments_348295.json:
```json
{
    "body": "<a id='comment:2'></a>\nWhy not having a default when `R` is not provided?\n\nIsn't the octave interface completely broken\n\n```\nsage: o = octave('[1,2,3,4]')\nsage: o\n\n\n 1 2 3 4\n\n\nsage: o[1]\n\nsage: o[2]\nsage3\nparse error:\n\n  syntax error\n\nsage: o\n\nsage:\n```",
    "created_at": "2015-09-24T23:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348295",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'></a>
Why not having a default when `R` is not provided?

Isn't the octave interface completely broken

```
sage: o = octave('[1,2,3,4]')
sage: o


 1 2 3 4


sage: o[1]

sage: o[2]
sage3
parse error:

  syntax error

sage: o

sage:
```



---

archive/issue_comments_348296.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-09-24T23:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348296",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_348297.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [vdelecroix](#comment%3A2):\n> Why not having a default when `R` is not provided?\n\n\noh, well, maybe. Which ring to choose ?\n\n> Isn't the octave interface completely broken\n\n\nnot really completely, because it passes its tests.\nBut yes, I find it very fragile and it works only if you are very cautious.\n\nIn your example, o[1] is not an allowed operation.",
    "created_at": "2015-09-25T07:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348297",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
Replying to [vdelecroix](#comment%3A2):
> Why not having a default when `R` is not provided?


oh, well, maybe. Which ring to choose ?

> Isn't the octave interface completely broken


not really completely, because it passes its tests.
But yes, I find it very fragile and it works only if you are very cautious.

In your example, o[1] is not an allowed operation.



---

archive/issue_comments_348298.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|\n|[b597ceb](https://github.com/sagemath/sagetrac-mirror/commit/b597ceb52fed43f6e62a246b977a1f0322b09892)|`trac #19284 adding equality symbol to octave interface, plus doc details`|",
    "created_at": "2015-09-25T11:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348298",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|
|[b597ceb](https://github.com/sagemath/sagetrac-mirror/commit/b597ceb52fed43f6e62a246b977a1f0322b09892)|`trac #19284 adding equality symbol to octave interface, plus doc details`|



---

archive/issue_comments_348299.json:
```json
{
    "body": "Changing commit from \"c3e75dc8c995b8a1454a1f109b081f8c45df0eaa\" to \"b597ceb52fed43f6e62a246b977a1f0322b09892\"",
    "created_at": "2015-09-25T11:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348299",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c3e75dc8c995b8a1454a1f109b081f8c45df0eaa" to "b597ceb52fed43f6e62a246b977a1f0322b09892"



---

archive/issue_comments_348300.json:
```json
{
    "body": "<a id='comment:5'></a>\nDidn't you forgot `# optional - octave`? And what is the point of all these methods: `_equality_symbol`, `_true_symbol` and `_false_symbol`?\n\nFor the choice of the ring, you need to get it from the octave side (and raise an error if you are not able to translate it to a Sage ring saying that the ring is not optional). There are builtin functions in octave\n- `isnumeric`\n- `isinteger` -> Sage `ZZ`?\n- `isfloat` -> Sage `RDF`?\n- `isreal` -> ?\n- `iscomplex` -> Sage `CDF`?\nAnd it would be better to test first with `isvector` if the octave object is actually a vector.",
    "created_at": "2015-09-25T15:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348300",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
Didn't you forgot `# optional - octave`? And what is the point of all these methods: `_equality_symbol`, `_true_symbol` and `_false_symbol`?

For the choice of the ring, you need to get it from the octave side (and raise an error if you are not able to translate it to a Sage ring saying that the ring is not optional). There are builtin functions in octave
- `isnumeric`
- `isinteger` -> Sage `ZZ`?
- `isfloat` -> Sage `RDF`?
- `isreal` -> ?
- `iscomplex` -> Sage `CDF`?
And it would be better to test first with `isvector` if the octave object is actually a vector.



---

archive/issue_comments_348301.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2015-09-25T15:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348301",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_348302.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2015-09-25T15:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348302",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_348303.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[1788374](https://github.com/sagemath/sagetrac-mirror/commit/17883749d49598df9be23c3768fda1542e8c0260)|`Merge branch 'public/19284' into 6.9.rc0`|\n|[371febf](https://github.com/sagemath/sagetrac-mirror/commit/371febf3f0365ae956325f4e651e81ac6041d85e)|`trac #19284, check vector and matrix type, also trying to make a basic parser`|",
    "created_at": "2015-09-25T19:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348303",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[1788374](https://github.com/sagemath/sagetrac-mirror/commit/17883749d49598df9be23c3768fda1542e8c0260)|`Merge branch 'public/19284' into 6.9.rc0`|
|[371febf](https://github.com/sagemath/sagetrac-mirror/commit/371febf3f0365ae956325f4e651e81ac6041d85e)|`trac #19284, check vector and matrix type, also trying to make a basic parser`|



---

archive/issue_comments_348304.json:
```json
{
    "body": "Changing commit from \"b597ceb52fed43f6e62a246b977a1f0322b09892\" to \"371febf3f0365ae956325f4e651e81ac6041d85e\"",
    "created_at": "2015-09-25T19:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348304",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b597ceb52fed43f6e62a246b977a1f0322b09892" to "371febf3f0365ae956325f4e651e81ac6041d85e"



---

archive/issue_comments_348305.json:
```json
{
    "body": "<a id='comment:7'></a>\nThe `_equality_symbol` is missing in the interface, which prevent to use the boolean from octave in sage tests. It is also recommended to have the true and false symbols in the interface.\n\nI have made some more things, but I am not able to test that. I do not have a machine with both octave and sage git repo, even if I have both separately.",
    "created_at": "2015-09-25T19:23:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348305",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
The `_equality_symbol` is missing in the interface, which prevent to use the boolean from octave in sage tests. It is also recommended to have the true and false symbols in the interface.

I have made some more things, but I am not able to test that. I do not have a machine with both octave and sage git repo, even if I have both separately.



---

archive/issue_comments_348306.json:
```json
{
    "body": "Changing commit from \"371febf3f0365ae956325f4e651e81ac6041d85e\" to \"e345dfab6cc04da5451c4fbee1de6a09625f0b41\"",
    "created_at": "2015-10-06T00:31:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348306",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "371febf3f0365ae956325f4e651e81ac6041d85e" to "e345dfab6cc04da5451c4fbee1de6a09625f0b41"



---

archive/issue_comments_348307.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[9aa2e68](https://github.com/sagemath/sagetrac-mirror/commit/9aa2e68843324cfc0601148394cc8eceb7faf65c)|`merge public/19284 in Sage-6.9.rc2`|\n|[e345dfa](https://github.com/sagemath/sagetrac-mirror/commit/e345dfab6cc04da5451c4fbee1de6a09625f0b41)|`Trac 19284: fix doc + make it work`|",
    "created_at": "2015-10-06T00:31:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348307",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[9aa2e68](https://github.com/sagemath/sagetrac-mirror/commit/9aa2e68843324cfc0601148394cc8eceb7faf65c)|`merge public/19284 in Sage-6.9.rc2`|
|[e345dfa](https://github.com/sagemath/sagetrac-mirror/commit/e345dfab6cc04da5451c4fbee1de6a09625f0b41)|`Trac 19284: fix doc + make it work`|



---

archive/issue_comments_348308.json:
```json
{
    "body": "<a id='comment:9'></a>\nTested on machine with sage and octave...",
    "created_at": "2015-10-06T00:32:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348308",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>
Tested on machine with sage and octave...



---

archive/issue_comments_348309.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-10-06T00:32:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348309",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_348310.json:
```json
{
    "body": "<a id='comment:10'></a>\nThough `__getitem__` is still broken. But it might be fixed later on.",
    "created_at": "2015-10-06T00:42:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348310",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>
Though `__getitem__` is still broken. But it might be fixed later on.



---

archive/issue_comments_348311.json:
```json
{
    "body": "<a id='comment:11'></a>\na typo in the first line of `_nonzero_`, otherwise it looks good. This will certainly enhance the current situation.",
    "created_at": "2015-10-06T07:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348311",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
a typo in the first line of `_nonzero_`, otherwise it looks good. This will certainly enhance the current situation.



---

archive/issue_comments_348312.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[f84f274](https://github.com/sagemath/sagetrac-mirror/commit/f84f27425b68b38859c24ce727397372833636de)|`trac #19284 correct typo in nonzero method`|",
    "created_at": "2015-10-06T08:04:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348312",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[f84f274](https://github.com/sagemath/sagetrac-mirror/commit/f84f27425b68b38859c24ce727397372833636de)|`trac #19284 correct typo in nonzero method`|



---

archive/issue_comments_348313.json:
```json
{
    "body": "Changing commit from \"e345dfab6cc04da5451c4fbee1de6a09625f0b41\" to \"f84f27425b68b38859c24ce727397372833636de\"",
    "created_at": "2015-10-06T08:04:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e345dfab6cc04da5451c4fbee1de6a09625f0b41" to "f84f27425b68b38859c24ce727397372833636de"



---

archive/issue_comments_348314.json:
```json
{
    "body": "<a id='comment:13'></a>\nThanks for the typo correction.",
    "created_at": "2015-10-06T11:14:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348314",
    "user": "https://github.com/videlec"
}
```

<a id='comment:13'></a>
Thanks for the typo correction.



---

archive/issue_comments_348315.json:
```json
{
    "body": "<a id='comment:14'></a>\nDo you agree to set that to positive review ?",
    "created_at": "2015-10-06T14:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348315",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
Do you agree to set that to positive review ?



---

archive/issue_comments_348316.json:
```json
{
    "body": "<a id='comment:15'></a>\nSure.",
    "created_at": "2015-10-06T14:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348316",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'></a>
Sure.



---

archive/issue_comments_348317.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-06T14:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348317",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_348318.json:
```json
{
    "body": "Changing branch from \"public/19284\" to \"f84f27425b68b38859c24ce727397372833636de\"",
    "created_at": "2015-10-12T07:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348318",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/19284" to "f84f27425b68b38859c24ce727397372833636de"



---

archive/issue_comments_348319.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-10-12T07:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19284#issuecomment-348319",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_060748.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-12T07:15:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19284",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19284#event-60748"
}
```
