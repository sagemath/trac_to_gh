# Issue 19107: Do not count 4 times the same solution (up to rotations) in QuantuminoSolver

archive/issues_018870.json:
```json
{
    "assignees": [],
    "body": "The following computation takes a lot of time:\n\n```\nsage: from sage.games.quantumino import QuantuminoSolver\nsage: QuantuminoSolver(0).number_of_solutions()  # long time (several days)\n```\n\nA solution is a tiling of a 5x8x2 box. Since a 5x8x2 box has four orientation preserving isometries that preserves it, each solution up to rotation is counted four times in the computation above.\n\nIt is possible to avoid to compute 4 times the same solution. This ticket does this by choosing a piece and considering 4 times less positions for that piece.\n\nThis ticket was created from a split into two parts of #18987.\n\nCC:  @videlec\n\nComponent: **combinatorics**\n\nAuthor: **S\u00e9bastien Labb\u00e9**\n\nBranch/Commit: **[`d72c8d9`](https://github.com/sagemath/sagetrac-mirror/commit/d72c8d936da1c57fd7fd4971b65ee73c66eae7ea)**\n\nReviewer: **Vincent Delecroix**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19107_\n\n",
    "closed_at": "2015-12-05T10:01:14Z",
    "created_at": "2015-08-27T19:20:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Do not count 4 times the same solution (up to rotations) in QuantuminoSolver",
    "type": "issue",
    "updated_at": "2015-12-05T10:01:14Z",
    "url": "https://github.com/sagemath/sage/issues/19107",
    "user": "https://github.com/seblabbe"
}
```
The following computation takes a lot of time:

```
sage: from sage.games.quantumino import QuantuminoSolver
sage: QuantuminoSolver(0).number_of_solutions()  # long time (several days)
```

A solution is a tiling of a 5x8x2 box. Since a 5x8x2 box has four orientation preserving isometries that preserves it, each solution up to rotation is counted four times in the computation above.

It is possible to avoid to compute 4 times the same solution. This ticket does this by choosing a piece and considering 4 times less positions for that piece.

This ticket was created from a split into two parts of #18987.

CC:  @videlec

Component: **combinatorics**

Author: **Sébastien Labbé**

Branch/Commit: **[`d72c8d9`](https://github.com/sagemath/sagetrac-mirror/commit/d72c8d936da1c57fd7fd4971b65ee73c66eae7ea)**

Reviewer: **Vincent Delecroix**

_Issue created by migration from https://trac.sagemath.org/ticket/19107_





---

archive/issue_events_268766.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-08-27T19:20:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268766"
}
```



---

archive/issue_events_268767.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-08-27T19:20:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268767"
}
```



---

archive/issue_events_268768.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-08-27T19:20:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268768"
}
```



---

archive/issue_events_268769.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-08-27T19:20:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268769"
}
```



---

archive/issue_comments_269802.json:
```json
{
    "body": "Commit: **[`25ed836`](https://github.com/sagemath/sagetrac-mirror/commit/25ed836ab3fd20461bdfa509fdbb8e764c3458f7)**",
    "created_at": "2015-08-27T20:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269802",
    "user": "https://github.com/seblabbe"
}
```

Commit: **[`25ed836`](https://github.com/sagemath/sagetrac-mirror/commit/25ed836ab3fd20461bdfa509fdbb8e764c3458f7)**



---

archive/issue_comments_269803.json:
```json
{
    "body": "Branch: **[u/slabbe/19107](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/19107)**",
    "created_at": "2015-08-27T20:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269803",
    "user": "https://github.com/seblabbe"
}
```

Branch: **[u/slabbe/19107](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/19107)**



---

archive/issue_comments_269804.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nInitials commits from the split that occured in #18987 (they do not depend on #18987).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5833a1e6f6f29bc0dfdd7404398f7698170423a8\"><code>5833a1e</code></a></td><td><code>Trac #19107: count solutions up to rotations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25ed836ab3fd20461bdfa509fdbb8e764c3458f7\"><code>25ed836</code></a></td><td><code>Trac #19107: Add a transparent gray box to QuantuminoState.show3d</code></td></tr></table>\n",
    "created_at": "2015-08-27T20:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269804",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:1" align="right">comment:1</div>

Initials commits from the split that occured in #18987 (they do not depend on #18987).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5833a1e6f6f29bc0dfdd7404398f7698170423a8"><code>5833a1e</code></a></td><td><code>Trac #19107: count solutions up to rotations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25ed836ab3fd20461bdfa509fdbb8e764c3458f7"><code>25ed836</code></a></td><td><code>Trac #19107: Add a transparent gray box to QuantuminoState.show3d</code></td></tr></table>




---

archive/issue_events_268770.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-09-07T19:02:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268770"
}
```



---

archive/issue_comments_269805.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nSalut Vincent, I am adding you in cc here since you started the review of that code at #18987.",
    "created_at": "2015-09-07T19:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269805",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:2" align="right">comment:2</div>

Salut Vincent, I am adding you in cc here since you started the review of that code at #18987.



---

archive/issue_comments_269806.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nSalut,\n\nThis is bad\n\n```\nH = [h for h in G if all(i==j for (i,j) in h.matrix().nonzero_positions())]\n```\nYou are iterating through the whole group to get the subgroup of diagonal matrices... but you know already what they are!\n\nYou can remove this line\n\n```\nassert MatrixGroup(H).cardinality() == len(H)\n```\n\nTo build the cosets, you would better use something smarter\n\n```python\nG_set = set(G)\ncosets = []\nwhile G_set:\n    g = G_set.pop()\n    left_coset = sorted(h*g for h in H)\n    right_coset = sorted(g*h for h in H)\n    assert left_coset == right_coset  # must be a normal subgroup\n    G_set.difference_update(left_coset)\n    cosets.append(left_coset)\n```\n\nThere are some trailing whitespaces in ` _rows_modpi`\n\n... more to come",
    "created_at": "2015-09-07T21:15:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269806",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

Salut,

This is bad

```
H = [h for h in G if all(i==j for (i,j) in h.matrix().nonzero_positions())]
```
You are iterating through the whole group to get the subgroup of diagonal matrices... but you know already what they are!

You can remove this line

```
assert MatrixGroup(H).cardinality() == len(H)
```

To build the cosets, you would better use something smarter

```python
G_set = set(G)
cosets = []
while G_set:
    g = G_set.pop()
    left_coset = sorted(h*g for h in H)
    right_coset = sorted(g*h for h in H)
    assert left_coset == right_coset  # must be a normal subgroup
    G_set.difference_update(left_coset)
    cosets.append(left_coset)
```

There are some trailing whitespaces in ` _rows_modpi`

... more to come



---

archive/issue_events_268771.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-07T21:15:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268771"
}
```



---

archive/issue_events_268772.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-07T21:15:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268772"
}
```



---

archive/issue_comments_269807.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@videlec](#comment%3A3):\n> This is bad\n> \n> ```\n> H = [h for h in G if all(i==j for (i,j) in h.matrix().nonzero_positions())]\n> ```\n\nThe code below would be nice but leads to this bug: #19270.\n\n```python\nfrom sage.misc.misc_c import prod  \nit = itertools.product((1,-1), repeat=n)\nif orientation_preserving:     \n    H = [diagonal_matrix(L) for L in it if prod(L) == 1]\nelse:                                                                    \n    H = [diagonal_matrix(L) for L in it]\nH = G.subgroup(H)\n```\n\nIf you can find a way of creating `G` and `H` so that `g * h` works and returns an hashable object for all g in G and h in H, tell me.",
    "created_at": "2015-09-22T19:59:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269807",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@videlec](#comment%3A3):
> This is bad
> 
> ```
> H = [h for h in G if all(i==j for (i,j) in h.matrix().nonzero_positions())]
> ```

The code below would be nice but leads to this bug: #19270.

```python
from sage.misc.misc_c import prod  
it = itertools.product((1,-1), repeat=n)
if orientation_preserving:     
    H = [diagonal_matrix(L) for L in it if prod(L) == 1]
else:                                                                    
    H = [diagonal_matrix(L) for L in it]
H = G.subgroup(H)
```

If you can find a way of creating `G` and `H` so that `g * h` works and returns an hashable object for all g in G and h in H, tell me.



---

archive/issue_comments_269808.json:
```json
{
    "body": "Changed commit from **[`25ed836`](https://github.com/sagemath/sagetrac-mirror/commit/25ed836ab3fd20461bdfa509fdbb8e764c3458f7)** to **[`23d109a`](https://github.com/sagemath/sagetrac-mirror/commit/23d109a75bd0c024af9fb6eb8865b85e0f66ada1)**",
    "created_at": "2015-09-22T20:38:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269808",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`25ed836`](https://github.com/sagemath/sagetrac-mirror/commit/25ed836ab3fd20461bdfa509fdbb8e764c3458f7)** to **[`23d109a`](https://github.com/sagemath/sagetrac-mirror/commit/23d109a75bd0c024af9fb6eb8865b85e0f66ada1)**



---

archive/issue_comments_269809.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5c36d51d3df5ee8673a721309d7b778599e52f6\"><code>e5c36d5</code></a></td><td><code>Trac #19107: Fixing reviewers comments (#3)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23d109a75bd0c024af9fb6eb8865b85e0f66ada1\"><code>23d109a</code></a></td><td><code>Trac #19107: Using normal matrices instead of MatrixGroup elements</code></td></tr></table>\n",
    "created_at": "2015-09-22T20:38:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269809",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5c36d51d3df5ee8673a721309d7b778599e52f6"><code>e5c36d5</code></a></td><td><code>Trac #19107: Fixing reviewers comments (#3)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23d109a75bd0c024af9fb6eb8865b85e0f66ada1"><code>23d109a</code></a></td><td><code>Trac #19107: Using normal matrices instead of MatrixGroup elements</code></td></tr></table>




---

archive/issue_events_268773.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-09-22T20:40:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268773"
}
```



---

archive/issue_events_268774.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-09-22T20:40:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268774"
}
```



---

archive/issue_comments_269810.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nOkay, so I decided to use matrices + `.set_immutable()` instead of `MatrixGroup` elements.\n\nNeeds review!",
    "created_at": "2015-09-22T20:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269810",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:7" align="right">comment:7</div>

Okay, so I decided to use matrices + `.set_immutable()` instead of `MatrixGroup` elements.

Needs review!



---

archive/issue_comments_269811.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2015-10-21T19:54:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269811",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_269812.json:
```json
{
    "body": "Author: **S\u00e9bastien Labb\u00e9**",
    "created_at": "2015-10-21T19:54:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269812",
    "user": "https://github.com/videlec"
}
```

Author: **Sébastien Labbé**



---

archive/issue_comments_269813.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nMerge conflict in src/sage/combinat/tiling.py",
    "created_at": "2015-10-21T19:54:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269813",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">comment:8</div>

Merge conflict in src/sage/combinat/tiling.py



---

archive/issue_events_268775.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-10-21T19:54:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268775"
}
```



---

archive/issue_events_268776.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-10-21T19:54:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268776"
}
```



---

archive/issue_comments_269814.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nBecause of #19260 I guess...",
    "created_at": "2015-10-22T08:22:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269814",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:9" align="right">comment:9</div>

Because of #19260 I guess...



---

archive/issue_comments_269815.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@seblabbe](#comment%3A9):\n> Because of #19260 I guess...\n\nIf it is then the merge will be very easy.",
    "created_at": "2015-10-22T09:29:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269815",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@seblabbe](#comment%3A9):
> Because of #19260 I guess...

If it is then the merge will be very easy.



---

archive/issue_comments_269816.json:
```json
{
    "body": "Changed commit from **[`23d109a`](https://github.com/sagemath/sagetrac-mirror/commit/23d109a75bd0c024af9fb6eb8865b85e0f66ada1)** to **[`a1d4465`](https://github.com/sagemath/sagetrac-mirror/commit/a1d44650afb5b9e0d9bb96f75b6641a3a1a5ce4d)**",
    "created_at": "2015-10-22T12:16:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269816",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`23d109a`](https://github.com/sagemath/sagetrac-mirror/commit/23d109a75bd0c024af9fb6eb8865b85e0f66ada1)** to **[`a1d4465`](https://github.com/sagemath/sagetrac-mirror/commit/a1d44650afb5b9e0d9bb96f75b6641a3a1a5ce4d)**



---

archive/issue_comments_269817.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1d44650afb5b9e0d9bb96f75b6641a3a1a5ce4d\"><code>a1d4465</code></a></td><td><code>Fix conflicts of #19107 with sage-6.10.beta1</code></td></tr></table>\n",
    "created_at": "2015-10-22T12:16:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269817",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1d44650afb5b9e0d9bb96f75b6641a3a1a5ce4d"><code>a1d4465</code></a></td><td><code>Fix conflicts of #19107 with sage-6.10.beta1</code></td></tr></table>




---

archive/issue_comments_269818.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n> If it is then the merge will be very easy.\n\nIndeed (I was expecting something worse), now needs review.",
    "created_at": "2015-10-22T12:18:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269818",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:12" align="right">comment:12</div>

> If it is then the merge will be very easy.

Indeed (I was expecting something worse), now needs review.



---

archive/issue_events_268777.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-10-22T12:18:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268777"
}
```



---

archive/issue_events_268778.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-10-22T12:18:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268778"
}
```



---

archive/issue_comments_269819.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nminor comment: The names `XYZ_iterator` is a bit heavy. With Python 3 more stuff is actually returning iterator (like `range`, `zip`) without explicit names. What about `isometric_copies` and `translated_copies`. In that case `canonical_isometric_copies` would better returns an iterator as well.\n\notherwise it looks good to me.",
    "created_at": "2015-11-28T17:10:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269819",
    "user": "https://github.com/videlec"
}
```

<div id="comment:13" align="right">comment:13</div>

minor comment: The names `XYZ_iterator` is a bit heavy. With Python 3 more stuff is actually returning iterator (like `range`, `zip`) without explicit names. What about `isometric_copies` and `translated_copies`. In that case `canonical_isometric_copies` would better returns an iterator as well.

otherwise it looks good to me.



---

archive/issue_events_268779.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-28T17:10:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268779"
}
```



---

archive/issue_events_268780.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-28T17:10:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268780"
}
```



---

archive/issue_events_268781.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-28T17:10:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268781"
}
```



---

archive/issue_events_268782.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-28T17:10:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268782"
}
```



---

archive/issue_comments_269820.json:
```json
{
    "body": "Changed commit from **[`a1d4465`](https://github.com/sagemath/sagetrac-mirror/commit/a1d44650afb5b9e0d9bb96f75b6641a3a1a5ce4d)** to **[`3ef5d3a`](https://github.com/sagemath/sagetrac-mirror/commit/3ef5d3a2e1e7edda2032fbfc66e2644e0c2ce231)**",
    "created_at": "2015-11-30T15:57:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269820",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a1d4465`](https://github.com/sagemath/sagetrac-mirror/commit/a1d44650afb5b9e0d9bb96f75b6641a3a1a5ce4d)** to **[`3ef5d3a`](https://github.com/sagemath/sagetrac-mirror/commit/3ef5d3a2e1e7edda2032fbfc66e2644e0c2ce231)**



---

archive/issue_comments_269821.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df92a40254c72f44dc369d1ebacba3063445fd07\"><code>df92a40</code></a></td><td><code>Merge #19107 into sage-6.10.beta6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ef5d3a2e1e7edda2032fbfc66e2644e0c2ce231\"><code>3ef5d3a</code></a></td><td><code>Trac #19107: rename methods XYZ_iterator -> XYZ</code></td></tr></table>\n",
    "created_at": "2015-11-30T15:57:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269821",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df92a40254c72f44dc369d1ebacba3063445fd07"><code>df92a40</code></a></td><td><code>Merge #19107 into sage-6.10.beta6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ef5d3a2e1e7edda2032fbfc66e2644e0c2ce231"><code>3ef5d3a</code></a></td><td><code>Trac #19107: rename methods XYZ_iterator -> XYZ</code></td></tr></table>




---

archive/issue_comments_269822.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nneeds review?",
    "created_at": "2015-11-30T15:59:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269822",
    "user": "https://github.com/videlec"
}
```

<div id="comment:15" align="right">comment:15</div>

needs review?



---

archive/issue_comments_269823.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI renamed the methods. I kept `canonical_isometric_copies` returning a set since it needs to avoid duplicates. And also returning `iter(set(it))` is bad if the user then creates a set out of it...",
    "created_at": "2015-11-30T16:00:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269823",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:16" align="right">comment:16</div>

I renamed the methods. I kept `canonical_isometric_copies` returning a set since it needs to avoid duplicates. And also returning `iter(set(it))` is bad if the user then creates a set out of it...



---

archive/issue_events_268783.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-11-30T16:00:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268783"
}
```



---

archive/issue_events_268784.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-11-30T16:00:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268784"
}
```



---

archive/issue_comments_269824.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@videlec](#comment%3A15):\n> needs review?\n\nyou're too fast:)",
    "created_at": "2015-11-30T16:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269824",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@videlec](#comment%3A15):
> needs review?

you're too fast:)



---

archive/issue_comments_269825.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI am still wondering if `modpi` is the good name for what I mean. Maybe `upto_box_isometries` would be better?",
    "created_at": "2015-11-30T16:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269825",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:18" align="right">comment:18</div>

I am still wondering if `modpi` is the good name for what I mean. Maybe `upto_box_isometries` would be better?



---

archive/issue_comments_269826.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n- in any case you should be clearer in the documentation that its meaning somehow depends on the other argument `orientation_preserving`\n- `up_to_box_isometries` is better than `upto_box_isometries`\n- the prefix `mod` makes it clear that you are considering a quotient",
    "created_at": "2015-12-01T19:55:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269826",
    "user": "https://github.com/videlec"
}
```

<div id="comment:19" align="right">comment:19</div>

- in any case you should be clearer in the documentation that its meaning somehow depends on the other argument `orientation_preserving`
- `up_to_box_isometries` is better than `upto_box_isometries`
- the prefix `mod` makes it clear that you are considering a quotient



---

archive/issue_comments_269827.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d72c8d936da1c57fd7fd4971b65ee73c66eae7ea\"><code>d72c8d9</code></a></td><td><code>Trac #19107: renamed modpi -> mod_box_isometries</code></td></tr></table>\n",
    "created_at": "2015-12-02T10:11:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269827",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d72c8d936da1c57fd7fd4971b65ee73c66eae7ea"><code>d72c8d9</code></a></td><td><code>Trac #19107: renamed modpi -> mod_box_isometries</code></td></tr></table>




---

archive/issue_comments_269828.json:
```json
{
    "body": "Changed commit from **[`3ef5d3a`](https://github.com/sagemath/sagetrac-mirror/commit/3ef5d3a2e1e7edda2032fbfc66e2644e0c2ce231)** to **[`d72c8d9`](https://github.com/sagemath/sagetrac-mirror/commit/d72c8d936da1c57fd7fd4971b65ee73c66eae7ea)**",
    "created_at": "2015-12-02T10:11:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269828",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3ef5d3a`](https://github.com/sagemath/sagetrac-mirror/commit/3ef5d3a2e1e7edda2032fbfc66e2644e0c2ce231)** to **[`d72c8d9`](https://github.com/sagemath/sagetrac-mirror/commit/d72c8d936da1c57fd7fd4971b65ee73c66eae7ea)**



---

archive/issue_comments_269829.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@videlec](#comment%3A19):\n> - in any case you should be clearer in the documentation that its meaning somehow depends on the other argument `orientation_preserving`\n\nThe documentation of both `orientation_preserving` and `mod_box_isometries` are now written in terms of the group of isometries of the n-cube. The first restrict to a subgroup whereas the second is quotient by a subgroup. And they are compatible. Tell me if it is better now.\n\nNeeds review.",
    "created_at": "2015-12-02T10:14:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269829",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@videlec](#comment%3A19):
> - in any case you should be clearer in the documentation that its meaning somehow depends on the other argument `orientation_preserving`

The documentation of both `orientation_preserving` and `mod_box_isometries` are now written in terms of the group of isometries of the n-cube. The first restrict to a subgroup whereas the second is quotient by a subgroup. And they are compatible. Tell me if it is better now.

Needs review.



---

archive/issue_comments_269830.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nGood for me.",
    "created_at": "2015-12-04T01:10:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269830",
    "user": "https://github.com/videlec"
}
```

<div id="comment:22" align="right">comment:22</div>

Good for me.



---

archive/issue_events_268785.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-12-04T01:10:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268785"
}
```



---

archive/issue_events_268786.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-12-04T01:10:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268786"
}
```



---

archive/issue_comments_269831.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThanks for your review.",
    "created_at": "2015-12-04T09:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269831",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:23" align="right">comment:23</div>

Thanks for your review.



---

archive/issue_comments_269832.json:
```json
{
    "body": "Changed branch from **[u/slabbe/19107](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/19107)** to **[`d72c8d9`](https://github.com/sagemath/sagetrac-mirror/commit/d72c8d936da1c57fd7fd4971b65ee73c66eae7ea)**",
    "created_at": "2015-12-05T10:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19107#issuecomment-269832",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/slabbe/19107](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/19107)** to **[`d72c8d9`](https://github.com/sagemath/sagetrac-mirror/commit/d72c8d936da1c57fd7fd4971b65ee73c66eae7ea)**



---

archive/issue_events_268787.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-05T10:01:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268787"
}
```



---

archive/issue_events_268788.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "68504c263d792514e0af7a43a81a0fea4b14514b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-12-05T10:01:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19107",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19107#event-268788"
}
```
