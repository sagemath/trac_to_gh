# Issue 19107: Do not count 4 times the same solution (up to rotations) in QuantuminoSolver

archive/issues_018870.json:
```json
{
    "body": "The following computation takes a lot of time:\n\n```\nsage: from sage.games.quantumino import QuantuminoSolver\nsage: QuantuminoSolver(0).number_of_solutions()  # long time (several days)\n```\n\nA solution is a tiling of a 5x8x2 box. Since a 5x8x2 box has four orientation preserving isometries that preserves it, each solution up to rotation is counted four times in the computation above.\n\nIt is possible to avoid to compute 4 times the same solution. This ticket does this by choosing a piece and considering 4 times less positions for that piece.\n\nThis ticket was created from a split into two parts of #18987.\n\nCC:  @videlec\n\nBranch/Commit: d72c8d936da1c57fd7fd4971b65ee73c66eae7ea\n\nReviewer: Vincent Delecroix\n\nAuthor: S\u00e9bastien Labb\u00e9\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19107\n\n",
    "closed_at": "2015-12-05T10:01:14Z",
    "created_at": "2015-08-27T19:20:10Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Do not count 4 times the same solution (up to rotations) in QuantuminoSolver",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19107",
    "user": "https://github.com/seblabbe"
}
```
The following computation takes a lot of time:

```
sage: from sage.games.quantumino import QuantuminoSolver
sage: QuantuminoSolver(0).number_of_solutions()  # long time (several days)
```

A solution is a tiling of a 5x8x2 box. Since a 5x8x2 box has four orientation preserving isometries that preserves it, each solution up to rotation is counted four times in the computation above.

It is possible to avoid to compute 4 times the same solution. This ticket does this by choosing a piece and considering 4 times less positions for that piece.

This ticket was created from a split into two parts of #18987.

CC:  @videlec

Branch/Commit: d72c8d936da1c57fd7fd4971b65ee73c66eae7ea

Reviewer: Vincent Delecroix

Author: Sébastien Labbé

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19107





---

archive/issue_comments_343828.json:
```json
{
    "body": "Changing commit from \"\" to \"25ed836ab3fd20461bdfa509fdbb8e764c3458f7\"",
    "created_at": "2015-08-27T20:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343828",
    "user": "https://github.com/seblabbe"
}
```

Changing commit from "" to "25ed836ab3fd20461bdfa509fdbb8e764c3458f7"



---

archive/issue_comments_343829.json:
```json
{
    "body": "Changing branch from \"\" to \"u/slabbe/19107\"",
    "created_at": "2015-08-27T20:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343829",
    "user": "https://github.com/seblabbe"
}
```

Changing branch from "" to "u/slabbe/19107"



---

archive/issue_comments_343830.json:
```json
{
    "body": "<a id='comment:1'></a>\nInitials commits from the split that occured in #18987 (they do not depend on #18987).\n\n---\nNew commits:\n|                                                                                                                                          |                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[5833a1e](https://github.com/sagemath/sagetrac-mirror/commit/5833a1e6f6f29bc0dfdd7404398f7698170423a8)|`Trac #19107: count solutions up to rotations`|\n|[25ed836](https://github.com/sagemath/sagetrac-mirror/commit/25ed836ab3fd20461bdfa509fdbb8e764c3458f7)|`Trac #19107: Add a transparent gray box to QuantuminoState.show3d`|",
    "created_at": "2015-08-27T20:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343830",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:1'></a>
Initials commits from the split that occured in #18987 (they do not depend on #18987).

---
New commits:
|                                                                                                                                          |                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[5833a1e](https://github.com/sagemath/sagetrac-mirror/commit/5833a1e6f6f29bc0dfdd7404398f7698170423a8)|`Trac #19107: count solutions up to rotations`|
|[25ed836](https://github.com/sagemath/sagetrac-mirror/commit/25ed836ab3fd20461bdfa509fdbb8e764c3458f7)|`Trac #19107: Add a transparent gray box to QuantuminoState.show3d`|



---

archive/issue_comments_343831.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-09-07T19:02:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343831",
    "user": "https://github.com/seblabbe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_343832.json:
```json
{
    "body": "<a id='comment:2'></a>\nSalut Vincent, I am adding you in cc here since you started the review of that code at #18987.",
    "created_at": "2015-09-07T19:02:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343832",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:2'></a>
Salut Vincent, I am adding you in cc here since you started the review of that code at #18987.



---

archive/issue_comments_343833.json:
```json
{
    "body": "<a id='comment:3'></a>\nSalut,\n\nThis is bad\n\n```\nH = [h for h in G if all(i==j for (i,j) in h.matrix().nonzero_positions())]\n```\nYou are iterating through the whole group to get the subgroup of diagonal matrices... but you know already what they are!\n\nYou can remove this line\n\n```\nassert MatrixGroup(H).cardinality() == len(H)\n```\n\nTo build the cosets, you would better use something smarter\n\n```python\nG_set = set(G)\ncosets = []\nwhile G_set:\n    g = G_set.pop()\n    left_coset = sorted(h*g for h in H)\n    right_coset = sorted(g*h for h in H)\n    assert left_coset == right_coset  # must be a normal subgroup\n    G_set.difference_update(left_coset)\n    cosets.append(left_coset)\n```\n\nThere are some trailing whitespaces in ` _rows_modpi`\n\n... more to come",
    "created_at": "2015-09-07T21:15:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343833",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>
Salut,

This is bad

```
H = [h for h in G if all(i==j for (i,j) in h.matrix().nonzero_positions())]
```
You are iterating through the whole group to get the subgroup of diagonal matrices... but you know already what they are!

You can remove this line

```
assert MatrixGroup(H).cardinality() == len(H)
```

To build the cosets, you would better use something smarter

```python
G_set = set(G)
cosets = []
while G_set:
    g = G_set.pop()
    left_coset = sorted(h*g for h in H)
    right_coset = sorted(g*h for h in H)
    assert left_coset == right_coset  # must be a normal subgroup
    G_set.difference_update(left_coset)
    cosets.append(left_coset)
```

There are some trailing whitespaces in ` _rows_modpi`

... more to come



---

archive/issue_comments_343834.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-09-07T21:15:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343834",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_343835.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [vdelecroix](#comment%3A3):\n> This is bad\n> \n> ```\n> H = [h for h in G if all(i==j for (i,j) in h.matrix().nonzero_positions())]\n> ```\n\n\nThe code below would be nice but leads to this bug: #19270.\n\n```python\nfrom sage.misc.misc_c import prod  \nit = itertools.product((1,-1), repeat=n)\nif orientation_preserving:     \n    H = [diagonal_matrix(L) for L in it if prod(L) == 1]\nelse:                                                                    \n    H = [diagonal_matrix(L) for L in it]\nH = G.subgroup(H)\n```\n\nIf you can find a way of creating `G` and `H` so that `g * h` works and returns an hashable object for all g in G and h in H, tell me.",
    "created_at": "2015-09-22T19:59:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343835",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:5'></a>
Replying to [vdelecroix](#comment%3A3):
> This is bad
> 
> ```
> H = [h for h in G if all(i==j for (i,j) in h.matrix().nonzero_positions())]
> ```


The code below would be nice but leads to this bug: #19270.

```python
from sage.misc.misc_c import prod  
it = itertools.product((1,-1), repeat=n)
if orientation_preserving:     
    H = [diagonal_matrix(L) for L in it if prod(L) == 1]
else:                                                                    
    H = [diagonal_matrix(L) for L in it]
H = G.subgroup(H)
```

If you can find a way of creating `G` and `H` so that `g * h` works and returns an hashable object for all g in G and h in H, tell me.



---

archive/issue_comments_343836.json:
```json
{
    "body": "Changing commit from \"25ed836ab3fd20461bdfa509fdbb8e764c3458f7\" to \"23d109a75bd0c024af9fb6eb8865b85e0f66ada1\"",
    "created_at": "2015-09-22T20:38:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343836",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "25ed836ab3fd20461bdfa509fdbb8e764c3458f7" to "23d109a75bd0c024af9fb6eb8865b85e0f66ada1"



---

archive/issue_comments_343837.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[e5c36d5](https://github.com/sagemath/sagetrac-mirror/commit/e5c36d51d3df5ee8673a721309d7b778599e52f6)|`Trac #19107: Fixing reviewers comments (#3)`|\n|[23d109a](https://github.com/sagemath/sagetrac-mirror/commit/23d109a75bd0c024af9fb6eb8865b85e0f66ada1)|`Trac #19107: Using normal matrices instead of MatrixGroup elements`|",
    "created_at": "2015-09-22T20:38:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343837",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[e5c36d5](https://github.com/sagemath/sagetrac-mirror/commit/e5c36d51d3df5ee8673a721309d7b778599e52f6)|`Trac #19107: Fixing reviewers comments (#3)`|
|[23d109a](https://github.com/sagemath/sagetrac-mirror/commit/23d109a75bd0c024af9fb6eb8865b85e0f66ada1)|`Trac #19107: Using normal matrices instead of MatrixGroup elements`|



---

archive/issue_comments_343838.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-09-22T20:40:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343838",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_343839.json:
```json
{
    "body": "<a id='comment:7'></a>\nOkay, so I decided to use matrices + `.set_immutable()` instead of `MatrixGroup` elements.\n\nNeeds review!",
    "created_at": "2015-09-22T20:40:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343839",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:7'></a>
Okay, so I decided to use matrices + `.set_immutable()` instead of `MatrixGroup` elements.

Needs review!



---

archive/issue_comments_343840.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2015-10-21T19:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343840",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_343841.json:
```json
{
    "body": "Changing author from \"\" to \"S\u00e9bastien Labb\u00e9\"",
    "created_at": "2015-10-21T19:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343841",
    "user": "https://github.com/videlec"
}
```

Changing author from "" to "Sébastien Labbé"



---

archive/issue_comments_343842.json:
```json
{
    "body": "<a id='comment:8'></a>\nMerge conflict in src/sage/combinat/tiling.py",
    "created_at": "2015-10-21T19:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343842",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>
Merge conflict in src/sage/combinat/tiling.py



---

archive/issue_comments_343843.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-10-21T19:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343843",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_343844.json:
```json
{
    "body": "<a id='comment:9'></a>\nBecause of #19260 I guess...",
    "created_at": "2015-10-22T08:22:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343844",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:9'></a>
Because of #19260 I guess...



---

archive/issue_comments_343845.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [slabbe](#comment%3A9):\n> Because of #19260 I guess...\n\n\nIf it is then the merge will be very easy.",
    "created_at": "2015-10-22T09:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343845",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>
Replying to [slabbe](#comment%3A9):
> Because of #19260 I guess...


If it is then the merge will be very easy.



---

archive/issue_comments_343846.json:
```json
{
    "body": "Changing commit from \"23d109a75bd0c024af9fb6eb8865b85e0f66ada1\" to \"a1d44650afb5b9e0d9bb96f75b6641a3a1a5ce4d\"",
    "created_at": "2015-10-22T12:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343846",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "23d109a75bd0c024af9fb6eb8865b85e0f66ada1" to "a1d44650afb5b9e0d9bb96f75b6641a3a1a5ce4d"



---

archive/issue_comments_343847.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[a1d4465](https://github.com/sagemath/sagetrac-mirror/commit/a1d44650afb5b9e0d9bb96f75b6641a3a1a5ce4d)|`Fix conflicts of #19107 with sage-6.10.beta1`|",
    "created_at": "2015-10-22T12:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343847",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[a1d4465](https://github.com/sagemath/sagetrac-mirror/commit/a1d44650afb5b9e0d9bb96f75b6641a3a1a5ce4d)|`Fix conflicts of #19107 with sage-6.10.beta1`|



---

archive/issue_comments_343848.json:
```json
{
    "body": "<a id='comment:12'></a>\n> If it is then the merge will be very easy.\n\n\nIndeed (I was expecting something worse), now needs review.",
    "created_at": "2015-10-22T12:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343848",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:12'></a>
> If it is then the merge will be very easy.


Indeed (I was expecting something worse), now needs review.



---

archive/issue_comments_343849.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-10-22T12:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343849",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_343850.json:
```json
{
    "body": "<a id='comment:13'></a>\nminor comment: The names `XYZ_iterator` is a bit heavy. With Python 3 more stuff is actually returning iterator (like `range`, `zip`) without explicit names. What about `isometric_copies` and `translated_copies`. In that case `canonical_isometric_copies` would better returns an iterator as well.\n\notherwise it looks good to me.",
    "created_at": "2015-11-28T17:10:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343850",
    "user": "https://github.com/videlec"
}
```

<a id='comment:13'></a>
minor comment: The names `XYZ_iterator` is a bit heavy. With Python 3 more stuff is actually returning iterator (like `range`, `zip`) without explicit names. What about `isometric_copies` and `translated_copies`. In that case `canonical_isometric_copies` would better returns an iterator as well.

otherwise it looks good to me.



---

archive/issue_comments_343851.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-11-28T17:10:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343851",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_events_060372.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-28T17:10:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19107#event-60372"
}
```



---

archive/issue_comments_343852.json:
```json
{
    "body": "Changing commit from \"a1d44650afb5b9e0d9bb96f75b6641a3a1a5ce4d\" to \"3ef5d3a2e1e7edda2032fbfc66e2644e0c2ce231\"",
    "created_at": "2015-11-30T15:57:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343852",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a1d44650afb5b9e0d9bb96f75b6641a3a1a5ce4d" to "3ef5d3a2e1e7edda2032fbfc66e2644e0c2ce231"



---

archive/issue_comments_343853.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[df92a40](https://github.com/sagemath/sagetrac-mirror/commit/df92a40254c72f44dc369d1ebacba3063445fd07)|`Merge #19107 into sage-6.10.beta6`|\n|[3ef5d3a](https://github.com/sagemath/sagetrac-mirror/commit/3ef5d3a2e1e7edda2032fbfc66e2644e0c2ce231)|`Trac #19107: rename methods XYZ_iterator -> XYZ`|",
    "created_at": "2015-11-30T15:57:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343853",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[df92a40](https://github.com/sagemath/sagetrac-mirror/commit/df92a40254c72f44dc369d1ebacba3063445fd07)|`Merge #19107 into sage-6.10.beta6`|
|[3ef5d3a](https://github.com/sagemath/sagetrac-mirror/commit/3ef5d3a2e1e7edda2032fbfc66e2644e0c2ce231)|`Trac #19107: rename methods XYZ_iterator -> XYZ`|



---

archive/issue_comments_343854.json:
```json
{
    "body": "<a id='comment:15'></a>\nneeds review?",
    "created_at": "2015-11-30T15:59:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343854",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'></a>
needs review?



---

archive/issue_comments_343855.json:
```json
{
    "body": "<a id='comment:16'></a>\nI renamed the methods. I kept `canonical_isometric_copies` returning a set since it needs to avoid duplicates. And also returning `iter(set(it))` is bad if the user then creates a set out of it...",
    "created_at": "2015-11-30T16:00:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343855",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:16'></a>
I renamed the methods. I kept `canonical_isometric_copies` returning a set since it needs to avoid duplicates. And also returning `iter(set(it))` is bad if the user then creates a set out of it...



---

archive/issue_comments_343856.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-11-30T16:00:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343856",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_343857.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [vdelecroix](#comment%3A15):\n> needs review?\n\n\nyou're too fast:)",
    "created_at": "2015-11-30T16:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343857",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:17'></a>
Replying to [vdelecroix](#comment%3A15):
> needs review?


you're too fast:)



---

archive/issue_comments_343858.json:
```json
{
    "body": "<a id='comment:18'></a>\nI am still wondering if `modpi` is the good name for what I mean. Maybe `upto_box_isometries` would be better?",
    "created_at": "2015-11-30T16:02:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343858",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:18'></a>
I am still wondering if `modpi` is the good name for what I mean. Maybe `upto_box_isometries` would be better?



---

archive/issue_comments_343859.json:
```json
{
    "body": "<a id='comment:19'></a>\n- in any case you should be clearer in the documentation that its meaning somehow depends on the other argument `orientation_preserving`\n- `up_to_box_isometries` is better than `upto_box_isometries`\n- the prefix `mod` makes it clear that you are considering a quotient",
    "created_at": "2015-12-01T19:55:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343859",
    "user": "https://github.com/videlec"
}
```

<a id='comment:19'></a>
- in any case you should be clearer in the documentation that its meaning somehow depends on the other argument `orientation_preserving`
- `up_to_box_isometries` is better than `upto_box_isometries`
- the prefix `mod` makes it clear that you are considering a quotient



---

archive/issue_comments_343860.json:
```json
{
    "body": "<a id='comment:20'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[d72c8d9](https://github.com/sagemath/sagetrac-mirror/commit/d72c8d936da1c57fd7fd4971b65ee73c66eae7ea)|`Trac #19107: renamed modpi -> mod_box_isometries`|",
    "created_at": "2015-12-02T10:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343860",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[d72c8d9](https://github.com/sagemath/sagetrac-mirror/commit/d72c8d936da1c57fd7fd4971b65ee73c66eae7ea)|`Trac #19107: renamed modpi -> mod_box_isometries`|



---

archive/issue_comments_343861.json:
```json
{
    "body": "Changing commit from \"3ef5d3a2e1e7edda2032fbfc66e2644e0c2ce231\" to \"d72c8d936da1c57fd7fd4971b65ee73c66eae7ea\"",
    "created_at": "2015-12-02T10:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343861",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3ef5d3a2e1e7edda2032fbfc66e2644e0c2ce231" to "d72c8d936da1c57fd7fd4971b65ee73c66eae7ea"



---

archive/issue_comments_343862.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [vdelecroix](#comment%3A19):\n> - in any case you should be clearer in the documentation that its meaning somehow depends on the other argument `orientation_preserving`\n\n\nThe documentation of both `orientation_preserving` and `mod_box_isometries` are now written in terms of the group of isometries of the n-cube. The first restrict to a subgroup whereas the second is quotient by a subgroup. And they are compatible. Tell me if it is better now.\n\nNeeds review.",
    "created_at": "2015-12-02T10:14:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343862",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:21'></a>
Replying to [vdelecroix](#comment%3A19):
> - in any case you should be clearer in the documentation that its meaning somehow depends on the other argument `orientation_preserving`


The documentation of both `orientation_preserving` and `mod_box_isometries` are now written in terms of the group of isometries of the n-cube. The first restrict to a subgroup whereas the second is quotient by a subgroup. And they are compatible. Tell me if it is better now.

Needs review.



---

archive/issue_comments_343863.json:
```json
{
    "body": "<a id='comment:22'></a>\nGood for me.",
    "created_at": "2015-12-04T01:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343863",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'></a>
Good for me.



---

archive/issue_comments_343864.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-12-04T01:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343864",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_343865.json:
```json
{
    "body": "<a id='comment:23'></a>\nThanks for your review.",
    "created_at": "2015-12-04T09:27:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343865",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:23'></a>
Thanks for your review.



---

archive/issue_comments_343866.json:
```json
{
    "body": "Changing branch from \"u/slabbe/19107\" to \"d72c8d936da1c57fd7fd4971b65ee73c66eae7ea\"",
    "created_at": "2015-12-05T10:01:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343866",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/slabbe/19107" to "d72c8d936da1c57fd7fd4971b65ee73c66eae7ea"



---

archive/issue_events_060373.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-05T10:01:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19107#event-60373"
}
```



---

archive/issue_comments_343867.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-12-05T10:01:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19107#issuecomment-343867",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
