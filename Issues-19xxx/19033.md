# Issue 19033: RIF/CIF: search and subintervals by a bisection-algorithm

archive/issues_018796.json:
```json
{
    "assignees": [],
    "body": "This ticket implements a bisection algorithm used with interval field elements.\n\nCC:  @cheuberg\n\nComponent: **numerical**\n\nAuthor: **Daniel Krenn**\n\nBranch/Commit: **[u/dkrenn/rif/bisect](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/rif/bisect) @ [`4f4b2c9`](https://github.com/sagemath/sagetrac-mirror/commit/4f4b2c9fbf56c032e5d3c5cfc31826deb11377f8)**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19033_\n\n",
    "created_at": "2015-08-14T14:17:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20numerical",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20info"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "RIF/CIF: search and subintervals by a bisection-algorithm",
    "type": "issue",
    "updated_at": "2022-08-31T05:25:02Z",
    "url": "https://github.com/sagemath/sage/issues/19033",
    "user": "https://github.com/dkrenn"
}
```
This ticket implements a bisection algorithm used with interval field elements.

CC:  @cheuberg

Component: **numerical**

Author: **Daniel Krenn**

Branch/Commit: **[u/dkrenn/rif/bisect](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/rif/bisect) @ [`4f4b2c9`](https://github.com/sagemath/sagetrac-mirror/commit/4f4b2c9fbf56c032e5d3c5cfc31826deb11377f8)**

_Issue created by migration from https://trac.sagemath.org/ticket/19033_





---

archive/issue_events_267732.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2015-08-14T14:17:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267732"
}
```



---

archive/issue_events_267733.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2015-08-14T14:17:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20numerical",
    "label_color": "0000ff",
    "label_name": "c: numerical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267733"
}
```



---

archive/issue_events_267734.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2015-08-14T14:17:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267734"
}
```



---

archive/issue_events_267735.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2015-08-14T14:17:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267735"
}
```



---

archive/issue_comments_268112.json:
```json
{
    "body": "Branch: **[u/dkrenn/rif/bisect](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/rif/bisect)**",
    "created_at": "2015-08-14T14:17:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268112",
    "user": "https://github.com/dkrenn"
}
```

Branch: **[u/dkrenn/rif/bisect](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/rif/bisect)**



---

archive/issue_comments_268113.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/457fe874708b388203c1b38063db4e96db22d1eb\"><code>457fe87</code></a></td><td><code>write bisect function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61b296bf4eb62df341884ac30f1a753fbd5e5c56\"><code>61b296b</code></a></td><td><code>write RIF/CIF.find_subintervals</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/788fb330983d2ab71f23b264753d2c810aa6d142\"><code>788fb33</code></a></td><td><code>small improvement in docstring</code></td></tr></table>\n",
    "created_at": "2015-08-14T14:17:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268113",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/457fe874708b388203c1b38063db4e96db22d1eb"><code>457fe87</code></a></td><td><code>write bisect function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61b296bf4eb62df341884ac30f1a753fbd5e5c56"><code>61b296b</code></a></td><td><code>write RIF/CIF.find_subintervals</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/788fb330983d2ab71f23b264753d2c810aa6d142"><code>788fb33</code></a></td><td><code>small improvement in docstring</code></td></tr></table>




---

archive/issue_comments_268114.json:
```json
{
    "body": "Commit: **[`788fb33`](https://github.com/sagemath/sagetrac-mirror/commit/788fb330983d2ab71f23b264753d2c810aa6d142)**",
    "created_at": "2015-08-14T14:17:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268114",
    "user": "https://github.com/dkrenn"
}
```

Commit: **[`788fb33`](https://github.com/sagemath/sagetrac-mirror/commit/788fb330983d2ab71f23b264753d2c810aa6d142)**



---

archive/issue_events_267736.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2015-08-14T14:17:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267736"
}
```



---

archive/issue_comments_268115.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nHello Daniel,\n\nThis is cool!\n\nI guess that the line\n\n```\nverbose('iteration %s with results in %s of %s cells' %\n   (iteration, len(result), len(open)), level=2)\n```\nis quite bad for performances. The string formatting is done whatever the verbose function is doing. Did you do some profiling?\n\nJust for curiosity, do you know how good is `fast_callable` with interval fields? It looks pretty bad on the following example\n\n```\nsage: f(x) = log(exp(x*sin(x)) + exp(x*cos(x)))\nsage: F = fast_callable(f, domain=RIF)\nsage: r = RIF(0.1,0.2)\nsage: %timeit F(r)\n10000 loops, best of 3: 54.6 \u00b5s per loop\nsage: %timeit ((r*r.sin()).exp() + (r*r.cos()).exp()).log()\n10000 loops, best of 3: 32.8 \u00b5s per loop\n```\ncompared to reals\n\n```\nsage: F = fast_callable(f, domain=RR)\nsage: r = 0.1\nsage: %timeit F(r)\n100000 loops, best of 3: 12.4 \u00b5s per loop\nsage: %timeit ((r*r.sin()).exp() + (r*r.cos()).exp()).log()\n10000 loops, best of 3: 16.5 \u00b5s per loop\n```\n\nVincent",
    "created_at": "2015-08-14T15:03:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268115",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

Hello Daniel,

This is cool!

I guess that the line

```
verbose('iteration %s with results in %s of %s cells' %
   (iteration, len(result), len(open)), level=2)
```
is quite bad for performances. The string formatting is done whatever the verbose function is doing. Did you do some profiling?

Just for curiosity, do you know how good is `fast_callable` with interval fields? It looks pretty bad on the following example

```
sage: f(x) = log(exp(x*sin(x)) + exp(x*cos(x)))
sage: F = fast_callable(f, domain=RIF)
sage: r = RIF(0.1,0.2)
sage: %timeit F(r)
10000 loops, best of 3: 54.6 µs per loop
sage: %timeit ((r*r.sin()).exp() + (r*r.cos()).exp()).log()
10000 loops, best of 3: 32.8 µs per loop
```
compared to reals

```
sage: F = fast_callable(f, domain=RR)
sage: r = 0.1
sage: %timeit F(r)
100000 loops, best of 3: 12.4 µs per loop
sage: %timeit ((r*r.sin()).exp() + (r*r.cos()).exp()).log()
10000 loops, best of 3: 16.5 µs per loop
```

Vincent



---

archive/issue_comments_268116.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHi Vincent,\n\nReplying to [@videlec](#comment%3A3):\n> I guess that the line\n> \n> ```\n> verbose('iteration %s with results in %s of %s cells' %\n>    (iteration, len(result), len(open)), level=2)\n> ```\n> is quite bad for performances. The string formatting is done whatever the verbose function is doing. > Did you do some profiling?\n\nNo, I didn't do any with this line included (I did on my old code, which used if and print f\u00fcr debugging).\n\n> Just for curiosity, do you know how good is `fast_callable` with interval fields? \n\nDon't know. I used it with some larger symbolic expressions, and what I remember, I had a significant speedup there.\n\n> It looks pretty bad on the following example\n> \n> ```\n> sage: f(x) = log(exp(x*sin(x)) + exp(x*cos(x)))\n> sage: F = fast_callable(f, domain=RIF)\n> sage: r = RIF(0.1,0.2)\n> sage: %timeit F(r)\n> 10000 loops, best of 3: 54.6 \u00b5s per loop\n> sage: %timeit ((r*r.sin()).exp() + (r*r.cos()).exp()).log()\n> 10000 loops, best of 3: 32.8 \u00b5s per loop\n> ```\n> compared to reals\n> \n> ```\n> sage: F = fast_callable(f, domain=RR)\n> sage: r = 0.1\n> sage: %timeit F(r)\n> 100000 loops, best of 3: 12.4 \u00b5s per loop\n> sage: %timeit ((r*r.sin()).exp() + (r*r.cos()).exp()).log()\n> 10000 loops, best of 3: 16.5 \u00b5s per loop\n> ```\n\nNot so good...\n\nAny suggestions on the bisect-code using fast_callable?\n\nDaniel",
    "created_at": "2015-08-14T15:09:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268116",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:4" align="right">comment:4</div>

Hi Vincent,

Replying to [@videlec](#comment%3A3):
> I guess that the line
> 
> ```
> verbose('iteration %s with results in %s of %s cells' %
>    (iteration, len(result), len(open)), level=2)
> ```
> is quite bad for performances. The string formatting is done whatever the verbose function is doing. > Did you do some profiling?

No, I didn't do any with this line included (I did on my old code, which used if and print für debugging).

> Just for curiosity, do you know how good is `fast_callable` with interval fields? 

Don't know. I used it with some larger symbolic expressions, and what I remember, I had a significant speedup there.

> It looks pretty bad on the following example
> 
> ```
> sage: f(x) = log(exp(x*sin(x)) + exp(x*cos(x)))
> sage: F = fast_callable(f, domain=RIF)
> sage: r = RIF(0.1,0.2)
> sage: %timeit F(r)
> 10000 loops, best of 3: 54.6 µs per loop
> sage: %timeit ((r*r.sin()).exp() + (r*r.cos()).exp()).log()
> 10000 loops, best of 3: 32.8 µs per loop
> ```
> compared to reals
> 
> ```
> sage: F = fast_callable(f, domain=RR)
> sage: r = 0.1
> sage: %timeit F(r)
> 100000 loops, best of 3: 12.4 µs per loop
> sage: %timeit ((r*r.sin()).exp() + (r*r.cos()).exp()).log()
> 10000 loops, best of 3: 16.5 µs per loop
> ```

Not so good...

Any suggestions on the bisect-code using fast_callable?

Daniel



---

archive/issue_comments_268117.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@dkrenn](#comment%3A4):\n> Hi Vincent,\n> \n> Replying to [@videlec](#comment%3A3):\n> > I guess that the line\n> > \n> > ```\n> > verbose('iteration %s with results in %s of %s cells' %\n> >    (iteration, len(result), len(open)), level=2)\n> > ```\n> > is quite bad for performances. The string formatting is done whatever the verbose function is doing. > Did you do some profiling?\n\n> \n> No, I didn't do any with this line included (I did on my old code, which used if and print f\u00fcr debugging).\n\nIf you really want these verbose you should use lazy formatting. I do not remember what is the state of the art, but you can have a look at `sage.misc.lazy_string` and `sage.misc.lazy_format`. But you are really creating a string within the critical loop. I do find it not very reasonable (the other is fine though).\n\n> > Just for curiosity, do you know how good is `fast_callable` with interval fields? \n\n> \n> Don't know. I used it with some larger symbolic expressions, and what I remember, I had a significant speedup there.\n\nI am pretty sure that `fast_callable` is better than symbolic and you seem to confirm that. However, you can see in my small snippet above that `fast_callable` looks worse than using Python. I should try on a larger expression but then you have to translate into an object call oriented expression and I am lazy...\n\n> Any suggestions on the bisect-code using fast_callable?\n\nCheck what `fast_callable` is doing with `domain=RIF` and `domain=CIF` (quickly looking at `ext/fast_callable.pyx` I would say nothing). It can be done independently of this ticket.\n\nOther comments:\n\n- What is your variable `result` for?\n\n- did you try to more typing. In other words `open = [] -> cdef list open = []` and `iteration = 0 -> cdef size_t iteration = 0`, etc. Cython does good job with Python list when it knows that these are lists.",
    "created_at": "2015-08-14T15:49:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268117",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@dkrenn](#comment%3A4):
> Hi Vincent,
> 
> Replying to [@videlec](#comment%3A3):
> > I guess that the line
> > 
> > ```
> > verbose('iteration %s with results in %s of %s cells' %
> >    (iteration, len(result), len(open)), level=2)
> > ```
> > is quite bad for performances. The string formatting is done whatever the verbose function is doing. > Did you do some profiling?

> 
> No, I didn't do any with this line included (I did on my old code, which used if and print für debugging).

If you really want these verbose you should use lazy formatting. I do not remember what is the state of the art, but you can have a look at `sage.misc.lazy_string` and `sage.misc.lazy_format`. But you are really creating a string within the critical loop. I do find it not very reasonable (the other is fine though).

> > Just for curiosity, do you know how good is `fast_callable` with interval fields? 

> 
> Don't know. I used it with some larger symbolic expressions, and what I remember, I had a significant speedup there.

I am pretty sure that `fast_callable` is better than symbolic and you seem to confirm that. However, you can see in my small snippet above that `fast_callable` looks worse than using Python. I should try on a larger expression but then you have to translate into an object call oriented expression and I am lazy...

> Any suggestions on the bisect-code using fast_callable?

Check what `fast_callable` is doing with `domain=RIF` and `domain=CIF` (quickly looking at `ext/fast_callable.pyx` I would say nothing). It can be done independently of this ticket.

Other comments:

- What is your variable `result` for?

- did you try to more typing. In other words `open = [] -> cdef list open = []` and `iteration = 0 -> cdef size_t iteration = 0`, etc. Cython does good job with Python list when it knows that these are lists.



---

archive/issue_comments_268118.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a97ddceab8ea9f0c93aa320edefc39d9d176e6ec\"><code>a97ddce</code></a></td><td><code>reintroduced flag bisect_on_success</code></td></tr></table>\n",
    "created_at": "2015-08-15T10:29:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268118",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a97ddceab8ea9f0c93aa320edefc39d9d176e6ec"><code>a97ddce</code></a></td><td><code>reintroduced flag bisect_on_success</code></td></tr></table>




---

archive/issue_comments_268119.json:
```json
{
    "body": "Changed commit from **[`788fb33`](https://github.com/sagemath/sagetrac-mirror/commit/788fb330983d2ab71f23b264753d2c810aa6d142)** to **[`a97ddce`](https://github.com/sagemath/sagetrac-mirror/commit/a97ddceab8ea9f0c93aa320edefc39d9d176e6ec)**",
    "created_at": "2015-08-15T10:29:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268119",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`788fb33`](https://github.com/sagemath/sagetrac-mirror/commit/788fb330983d2ab71f23b264753d2c810aa6d142)** to **[`a97ddce`](https://github.com/sagemath/sagetrac-mirror/commit/a97ddceab8ea9f0c93aa320edefc39d9d176e6ec)**



---

archive/issue_comments_268120.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@videlec](#comment%3A5):\n> - What is your variable `result` for?\n\nIt collects the already finished cells. I've rewritten the code and introduced a new option (this was already there in a pre-version of this code).",
    "created_at": "2015-08-15T10:42:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268120",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@videlec](#comment%3A5):
> - What is your variable `result` for?

It collects the already finished cells. I've rewritten the code and introduced a new option (this was already there in a pre-version of this code).



---

archive/issue_comments_268121.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nBad syntax for `INPUT::`, it should be `INPUT:`",
    "created_at": "2015-09-01T08:49:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268121",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

Bad syntax for `INPUT::`, it should be `INPUT:`



---

archive/issue_comments_268122.json:
```json
{
    "body": "Changed commit from **[`a97ddce`](https://github.com/sagemath/sagetrac-mirror/commit/a97ddceab8ea9f0c93aa320edefc39d9d176e6ec)** to **[`ac3428c`](https://github.com/sagemath/sagetrac-mirror/commit/ac3428ca3c6cb3b658bf4d5899df3d81be77d13c)**",
    "created_at": "2015-09-02T14:00:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268122",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a97ddce`](https://github.com/sagemath/sagetrac-mirror/commit/a97ddceab8ea9f0c93aa320edefc39d9d176e6ec)** to **[`ac3428c`](https://github.com/sagemath/sagetrac-mirror/commit/ac3428ca3c6cb3b658bf4d5899df3d81be77d13c)**



---

archive/issue_comments_268123.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dfb229af1963f345a7d034b911cf536a56499284\"><code>dfb229a</code></a></td><td><code>doc-build: fix INPUT-block</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de2633d7ce2a5861258557c04ca99c0801b7814f\"><code>de2633d</code></a></td><td><code>fix broken links in existing code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd9cfa19330fde78a77b54bfd889742a5b2b2104\"><code>bd9cfa1</code></a></td><td><code>fix broken links in bisect</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac3428ca3c6cb3b658bf4d5899df3d81be77d13c\"><code>ac3428c</code></a></td><td><code>increase performance</code></td></tr></table>\n",
    "created_at": "2015-09-02T14:00:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268123",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dfb229af1963f345a7d034b911cf536a56499284"><code>dfb229a</code></a></td><td><code>doc-build: fix INPUT-block</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de2633d7ce2a5861258557c04ca99c0801b7814f"><code>de2633d</code></a></td><td><code>fix broken links in existing code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd9cfa19330fde78a77b54bfd889742a5b2b2104"><code>bd9cfa1</code></a></td><td><code>fix broken links in bisect</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac3428ca3c6cb3b658bf4d5899df3d81be77d13c"><code>ac3428c</code></a></td><td><code>increase performance</code></td></tr></table>




---

archive/issue_comments_268124.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@videlec](#comment%3A5):\n> If you really want these verbose you should use lazy formatting. I do not remember what is the state of the art, but you can have a look at `sage.misc.lazy_string` and `sage.misc.lazy_format`. But you are really creating a string within the critical loop. I do find it not very reasonable (the other is fine though).\n\nLazyFormat did not bring something on the performance. Now checking verbosity level directly; this is faster now.",
    "created_at": "2015-09-02T14:02:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268124",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@videlec](#comment%3A5):
> If you really want these verbose you should use lazy formatting. I do not remember what is the state of the art, but you can have a look at `sage.misc.lazy_string` and `sage.misc.lazy_format`. But you are really creating a string within the critical loop. I do find it not very reasonable (the other is fine though).

LazyFormat did not bring something on the performance. Now checking verbosity level directly; this is faster now.



---

archive/issue_comments_268125.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@videlec](#comment%3A5):\n> - did you try to more typing. In other words `open = [] -> cdef list open = []` and `iteration = 0 -> cdef size_t iteration = 0`, etc. Cython does good job with Python list when it knows that these are lists.\n\nDone. Is faster now.",
    "created_at": "2015-09-02T14:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268125",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@videlec](#comment%3A5):
> - did you try to more typing. In other words `open = [] -> cdef list open = []` and `iteration = 0 -> cdef size_t iteration = 0`, etc. Cython does good job with Python list when it knows that these are lists.

Done. Is faster now.



---

archive/issue_comments_268126.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@fchapoton](#comment%3A8):\n> Bad syntax for `INPUT::`, it should be `INPUT:`\n\nCorrected. Also fixed some broken links in the files (in existing code).\n\nAgain, needs_review :)",
    "created_at": "2015-09-02T14:03:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268126",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@fchapoton](#comment%3A8):
> Bad syntax for `INPUT::`, it should be `INPUT:`

Corrected. Also fixed some broken links in the files (in existing code).

Again, needs_review :)



---

archive/issue_events_267737.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-14T11:39:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267737"
}
```



---

archive/issue_events_267738.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-14T11:39:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267738"
}
```



---

archive/issue_events_267739.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-14T11:39:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267739"
}
```



---

archive/issue_events_267740.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-14T11:39:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267740"
}
```



---

archive/issue_comments_268127.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nUnless I'm missing something, the case `f is None` is completely undocumented and untested.",
    "created_at": "2015-10-14T11:39:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268127",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Unless I'm missing something, the case `f is None` is completely undocumented and untested.



---

archive/issue_comments_268128.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAlso, I guess the test is meant to satisfy the assumption that if an interval `A` passes, any interval containing `A` should also pass. This should be documented.",
    "created_at": "2015-10-14T11:41:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268128",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Also, I guess the test is meant to satisfy the assumption that if an interval `A` passes, any interval containing `A` should also pass. This should be documented.



---

archive/issue_comments_268129.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAnother detail: you can replace\n\n```\nfrom sage.rings.real_mpfi import bisect\nreturn bisect(f, self, test, **kwds)\n```\nby\n\n```\nreturn real_mpfi.bisect(f, self, test, **kwds)\n```",
    "created_at": "2015-10-14T13:15:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268129",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Another detail: you can replace

```
from sage.rings.real_mpfi import bisect
return bisect(f, self, test, **kwds)
```
by

```
return real_mpfi.bisect(f, self, test, **kwds)
```



---

archive/issue_comments_268130.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@videlec](#comment%3A5):\n> - did you try to more typing. In other words `open = [] -> cdef list open = []` and `iteration = 0 -> cdef size_t iteration = 0`, etc. Cython does good job with Python list when it knows that these are lists.\n\nI agree, there should be a lot more typing. All variables which are boolean should be typed `bint` and all integers a suitable integer type (`Py_ssize_t` for lengths).",
    "created_at": "2015-10-14T13:34:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268130",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@videlec](#comment%3A5):
> - did you try to more typing. In other words `open = [] -> cdef list open = []` and `iteration = 0 -> cdef size_t iteration = 0`, etc. Cython does good job with Python list when it knows that these are lists.

I agree, there should be a lot more typing. All variables which are boolean should be typed `bint` and all integers a suitable integer type (`Py_ssize_t` for lengths).



---

archive/issue_comments_268131.json:
```json
{
    "body": "Changed commit from **[`ac3428c`](https://github.com/sagemath/sagetrac-mirror/commit/ac3428ca3c6cb3b658bf4d5899df3d81be77d13c)** to **[`dd7cb13`](https://github.com/sagemath/sagetrac-mirror/commit/dd7cb139c411ebda5993f1a8cea320dbbf9b49ed)**",
    "created_at": "2015-10-18T11:38:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268131",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ac3428c`](https://github.com/sagemath/sagetrac-mirror/commit/ac3428ca3c6cb3b658bf4d5899df3d81be77d13c)** to **[`dd7cb13`](https://github.com/sagemath/sagetrac-mirror/commit/dd7cb139c411ebda5993f1a8cea320dbbf9b49ed)**



---

archive/issue_comments_268132.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/565c4829a0ab57f38976e0009884bdfe892cc30e\"><code>565c482</code></a></td><td><code>Merge tag '6.9' into t/19033/rif/bisect</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dfbbccbe670b44016b9d85a2cc7a5fd64b16dc93\"><code>dfbbccb</code></a></td><td><code>Trac #19033, comment 15: simplify import</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1381c298531d1f6fe56166df273b236515632e3f\"><code>1381c29</code></a></td><td><code>Trac #19033, comment 16: types specified</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ccfcf0a09b7ced65bfb2db977f8a0331ac8ce54\"><code>6ccfcf0</code></a></td><td><code>Trac #19033, comment 13: remove case f=None</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd7cb139c411ebda5993f1a8cea320dbbf9b49ed\"><code>dd7cb13</code></a></td><td><code>Trac #19033. comment 14: add note on monotonicity of parameter test</code></td></tr></table>\n",
    "created_at": "2015-10-18T11:38:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268132",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/565c4829a0ab57f38976e0009884bdfe892cc30e"><code>565c482</code></a></td><td><code>Merge tag '6.9' into t/19033/rif/bisect</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dfbbccbe670b44016b9d85a2cc7a5fd64b16dc93"><code>dfbbccb</code></a></td><td><code>Trac #19033, comment 15: simplify import</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1381c298531d1f6fe56166df273b236515632e3f"><code>1381c29</code></a></td><td><code>Trac #19033, comment 16: types specified</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ccfcf0a09b7ced65bfb2db977f8a0331ac8ce54"><code>6ccfcf0</code></a></td><td><code>Trac #19033, comment 13: remove case f=None</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd7cb139c411ebda5993f1a8cea320dbbf9b49ed"><code>dd7cb13</code></a></td><td><code>Trac #19033. comment 14: add note on monotonicity of parameter test</code></td></tr></table>




---

archive/issue_comments_268133.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@jdemeyer](#comment%3A13):\n> Unless I'm missing something, the case `f is None` is completely undocumented and untested.\n\nIs now removed (since not needed).",
    "created_at": "2015-10-18T11:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268133",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@jdemeyer](#comment%3A13):
> Unless I'm missing something, the case `f is None` is completely undocumented and untested.

Is now removed (since not needed).



---

archive/issue_comments_268134.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@jdemeyer](#comment%3A14):\n> Also, I guess the test is meant to satisfy the assumption that if an interval `A` passes, any interval containing `A` should also pass. This should be documented.\n\nI've added a note block explaining this.",
    "created_at": "2015-10-18T11:39:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268134",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@jdemeyer](#comment%3A14):
> Also, I guess the test is meant to satisfy the assumption that if an interval `A` passes, any interval containing `A` should also pass. This should be documented.

I've added a note block explaining this.



---

archive/issue_comments_268135.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jdemeyer](#comment%3A15):\n> Another detail: you can replace\n> \n> ```\n> from sage.rings.real_mpfi import bisect\n> return bisect(f, self, test, **kwds)\n> ```\n> by\n> \n> ```\n> return real_mpfi.bisect(f, self, test, **kwds)\n> ```\n\nDone.",
    "created_at": "2015-10-18T11:39:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268135",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jdemeyer](#comment%3A15):
> Another detail: you can replace
> 
> ```
> from sage.rings.real_mpfi import bisect
> return bisect(f, self, test, **kwds)
> ```
> by
> 
> ```
> return real_mpfi.bisect(f, self, test, **kwds)
> ```

Done.



---

archive/issue_comments_268136.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@jdemeyer](#comment%3A16):\n> Replying to [@videlec](#comment%3A5):\n> > - did you try to more typing. In other words `open = [] -> cdef list open = []` and `iteration = 0 -> cdef size_t iteration = 0`, etc. Cython does good job with Python list when it knows that these are lists.\n\n> \n> I agree, there should be a lot more typing. All variables which are boolean should be typed `bint` and all integers a suitable integer type (`Py_ssize_t` for lengths).\n\nI've added `cdef bint success`; this saves about 5 percent in time in my tested examples. I've tried to add `Py_ssize_t` and other `bint`...it does not seem that this brought something. Maybe I am using it wrong...",
    "created_at": "2015-10-18T11:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268136",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@jdemeyer](#comment%3A16):
> Replying to [@videlec](#comment%3A5):
> > - did you try to more typing. In other words `open = [] -> cdef list open = []` and `iteration = 0 -> cdef size_t iteration = 0`, etc. Cython does good job with Python list when it knows that these are lists.

> 
> I agree, there should be a lot more typing. All variables which are boolean should be typed `bint` and all integers a suitable integer type (`Py_ssize_t` for lengths).

I've added `cdef bint success`; this saves about 5 percent in time in my tested examples. I've tried to add `Py_ssize_t` and other `bint`...it does not seem that this brought something. Maybe I am using it wrong...



---

archive/issue_comments_268137.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI've also merged in 6.9 (I am sorry for this, since it was not needed, but I didn't have the previous version available and did not want to want until it was compiled).\n\nSet it back to needs_review.",
    "created_at": "2015-10-18T11:43:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268137",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:22" align="right">comment:22</div>

I've also merged in 6.9 (I am sorry for this, since it was not needed, but I didn't have the previous version available and did not want to want until it was compiled).

Set it back to needs_review.



---

archive/issue_events_267741.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2015-10-18T11:43:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267741"
}
```



---

archive/issue_events_267742.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2015-10-18T11:43:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267742"
}
```



---

archive/issue_events_267743.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-18T15:50:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267743"
}
```



---

archive/issue_events_267744.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-18T15:50:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267744"
}
```



---

archive/issue_comments_268138.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\none failing doctest",
    "created_at": "2015-10-18T15:50:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268138",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:23" align="right">comment:23</div>

one failing doctest



---

archive/issue_comments_268139.json:
```json
{
    "body": "Changed commit from **[`dd7cb13`](https://github.com/sagemath/sagetrac-mirror/commit/dd7cb139c411ebda5993f1a8cea320dbbf9b49ed)** to **[`99c3e9d`](https://github.com/sagemath/sagetrac-mirror/commit/99c3e9dd55fa1a99e9d726b1ad4aea253b0115f8)**",
    "created_at": "2015-10-18T16:28:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268139",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dd7cb13`](https://github.com/sagemath/sagetrac-mirror/commit/dd7cb139c411ebda5993f1a8cea320dbbf9b49ed)** to **[`99c3e9d`](https://github.com/sagemath/sagetrac-mirror/commit/99c3e9dd55fa1a99e9d726b1ad4aea253b0115f8)**



---

archive/issue_comments_268140.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99c3e9dd55fa1a99e9d726b1ad4aea253b0115f8\"><code>99c3e9d</code></a></td><td><code>Revert \"Trac #19033, comment 15: simplify import\" since imports changed on 6.10.beta0</code></td></tr></table>\n",
    "created_at": "2015-10-18T16:28:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268140",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99c3e9dd55fa1a99e9d726b1ad4aea253b0115f8"><code>99c3e9d</code></a></td><td><code>Revert "Trac #19033, comment 15: simplify import" since imports changed on 6.10.beta0</code></td></tr></table>




---

archive/issue_comments_268141.json:
```json
{
    "body": "Changed commit from **[`99c3e9d`](https://github.com/sagemath/sagetrac-mirror/commit/99c3e9dd55fa1a99e9d726b1ad4aea253b0115f8)** to **[`faacb5f`](https://github.com/sagemath/sagetrac-mirror/commit/faacb5fec0a838d4ab3aa1ce95c0198b491d59da)**",
    "created_at": "2015-10-18T16:30:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268141",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`99c3e9d`](https://github.com/sagemath/sagetrac-mirror/commit/99c3e9dd55fa1a99e9d726b1ad4aea253b0115f8)** to **[`faacb5f`](https://github.com/sagemath/sagetrac-mirror/commit/faacb5fec0a838d4ab3aa1ce95c0198b491d59da)**



---

archive/issue_comments_268142.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/faacb5fec0a838d4ab3aa1ce95c0198b491d59da\"><code>faacb5f</code></a></td><td><code>Merge tag '6.10.beta0' into t/19033/rif/bisect</code></td></tr></table>\n",
    "created_at": "2015-10-18T16:30:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268142",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/faacb5fec0a838d4ab3aa1ce95c0198b491d59da"><code>faacb5f</code></a></td><td><code>Merge tag '6.10.beta0' into t/19033/rif/bisect</code></td></tr></table>




---

archive/issue_events_267745.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2015-10-18T16:35:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267745"
}
```



---

archive/issue_events_267746.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2015-10-18T16:35:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267746"
}
```



---

archive/issue_comments_268143.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@fchapoton](#comment%3A23):\n> one failing doctest\n\nWas not there on 6.9.\n\nMerged 6.10.beta0 and reverted the changes from comment 15 of this ticket (change of imports). Back to needs_review.",
    "created_at": "2015-10-18T16:35:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268143",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@fchapoton](#comment%3A23):
> one failing doctest

Was not there on 6.9.

Merged 6.10.beta0 and reverted the changes from comment 15 of this ticket (change of imports). Back to needs_review.



---

archive/issue_comments_268144.json:
```json
{
    "body": "Changed commit from **[`faacb5f`](https://github.com/sagemath/sagetrac-mirror/commit/faacb5fec0a838d4ab3aa1ce95c0198b491d59da)** to **[`0dfca39`](https://github.com/sagemath/sagetrac-mirror/commit/0dfca39ab7ffe8693e9757d09c782fd938b0d3f4)**",
    "created_at": "2016-02-16T08:45:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268144",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`faacb5f`](https://github.com/sagemath/sagetrac-mirror/commit/faacb5fec0a838d4ab3aa1ce95c0198b491d59da)** to **[`0dfca39`](https://github.com/sagemath/sagetrac-mirror/commit/0dfca39ab7ffe8693e9757d09c782fd938b0d3f4)**



---

archive/issue_comments_268145.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0dfca39ab7ffe8693e9757d09c782fd938b0d3f4\"><code>0dfca39</code></a></td><td><code>Merge tag '7.1.beta3' into t/19033/rif/bisect</code></td></tr></table>\n",
    "created_at": "2016-02-16T08:45:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268145",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0dfca39ab7ffe8693e9757d09c782fd938b0d3f4"><code>0dfca39</code></a></td><td><code>Merge tag '7.1.beta3' into t/19033/rif/bisect</code></td></tr></table>




---

archive/issue_comments_268146.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nMerged 7.1.beta3.",
    "created_at": "2016-02-16T08:45:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268146",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:28" align="right">comment:28</div>

Merged 7.1.beta3.



---

archive/issue_events_267747.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-02-23T08:38:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267747"
}
```



---

archive/issue_events_267748.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-02-23T08:38:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267748"
}
```



---

archive/issue_comments_268147.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\ndoes not apply",
    "created_at": "2016-02-23T08:38:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268147",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:29" align="right">comment:29</div>

does not apply



---

archive/issue_comments_268148.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d378b1f1b591dde7af4d73b2ea3506efbdc1421b\"><code>d378b1f</code></a></td><td><code>Merge tag '7.1.beta4' into t/19033/rif/bisect</code></td></tr></table>\n",
    "created_at": "2016-02-23T09:06:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268148",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d378b1f1b591dde7af4d73b2ea3506efbdc1421b"><code>d378b1f</code></a></td><td><code>Merge tag '7.1.beta4' into t/19033/rif/bisect</code></td></tr></table>




---

archive/issue_comments_268149.json:
```json
{
    "body": "Changed commit from **[`0dfca39`](https://github.com/sagemath/sagetrac-mirror/commit/0dfca39ab7ffe8693e9757d09c782fd938b0d3f4)** to **[`d378b1f`](https://github.com/sagemath/sagetrac-mirror/commit/d378b1f1b591dde7af4d73b2ea3506efbdc1421b)**",
    "created_at": "2016-02-23T09:06:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268149",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0dfca39`](https://github.com/sagemath/sagetrac-mirror/commit/0dfca39ab7ffe8693e9757d09c782fd938b0d3f4)** to **[`d378b1f`](https://github.com/sagemath/sagetrac-mirror/commit/d378b1f1b591dde7af4d73b2ea3506efbdc1421b)**



---

archive/issue_events_267749.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-02-23T09:06:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267749"
}
```



---

archive/issue_events_267750.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-02-23T09:06:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267750"
}
```



---

archive/issue_comments_268150.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@fchapoton](#comment%3A29):\n> does not apply\n\nMerged in 7.1.beta4.",
    "created_at": "2016-02-23T09:06:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268150",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@fchapoton](#comment%3A29):
> does not apply

Merged in 7.1.beta4.



---

archive/issue_events_267751.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-02-19T07:10:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267751"
}
```



---

archive/issue_events_267752.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-02-19T07:10:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267752"
}
```



---

archive/issue_events_267753.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-02-19T07:10:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267753"
}
```



---

archive/issue_events_267754.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-02-19T07:10:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267754"
}
```



---

archive/issue_comments_268151.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\ndoes not apply",
    "created_at": "2018-02-19T07:10:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268151",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:32" align="right">comment:32</div>

does not apply



---

archive/issue_comments_268152.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nNote that arb already offers a bissection/newton scheme for root finding of analytic functions, see [arb_calc](http://arblib.org/arb_calc.html).",
    "created_at": "2018-02-19T07:36:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268152",
    "user": "https://github.com/videlec"
}
```

<div id="comment:33" align="right">comment:33</div>

Note that arb already offers a bissection/newton scheme for root finding of analytic functions, see [arb_calc](http://arblib.org/arb_calc.html).



---

archive/issue_comments_268153.json:
```json
{
    "body": "Changed commit from **[`d378b1f`](https://github.com/sagemath/sagetrac-mirror/commit/d378b1f1b591dde7af4d73b2ea3506efbdc1421b)** to **[`4f4b2c9`](https://github.com/sagemath/sagetrac-mirror/commit/4f4b2c9fbf56c032e5d3c5cfc31826deb11377f8)**",
    "created_at": "2019-03-27T16:54:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268153",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d378b1f`](https://github.com/sagemath/sagetrac-mirror/commit/d378b1f1b591dde7af4d73b2ea3506efbdc1421b)** to **[`4f4b2c9`](https://github.com/sagemath/sagetrac-mirror/commit/4f4b2c9fbf56c032e5d3c5cfc31826deb11377f8)**



---

archive/issue_comments_268154.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f4b2c9fbf56c032e5d3c5cfc31826deb11377f8\"><code>4f4b2c9</code></a></td><td><code>Merge tag '8.6' into u/dkrenn/rif/bisect</code></td></tr></table>\n",
    "created_at": "2019-03-27T16:54:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268154",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f4b2c9fbf56c032e5d3c5cfc31826deb11377f8"><code>4f4b2c9</code></a></td><td><code>Merge tag '8.6' into u/dkrenn/rif/bisect</code></td></tr></table>




---

archive/issue_comments_268155.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@videlec](#comment%3A33):\n> Note that arb already offers a bissection/newton scheme for root finding of analytic functions, see [arb_calc](http://arblib.org/arb_calc.html).\n\nGood to know, thanks.",
    "created_at": "2019-03-27T16:54:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268155",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@videlec](#comment%3A33):
> Note that arb already offers a bissection/newton scheme for root finding of analytic functions, see [arb_calc](http://arblib.org/arb_calc.html).

Good to know, thanks.



---

archive/issue_comments_268156.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nMerged in 8.6, so back to needs review again.\n\nWhen I see this correctly, all comments given on this ticket so far have been incorporated or answered, but noone gave a positive review three years ago.....I guess, however, we are close to a positive review after all. Can someone have a look again, please.",
    "created_at": "2019-03-27T16:57:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268156",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:36" align="right">comment:36</div>

Merged in 8.6, so back to needs review again.

When I see this correctly, all comments given on this ticket so far have been incorporated or answered, but noone gave a positive review three years ago.....I guess, however, we are close to a positive review after all. Can someone have a look again, please.



---

archive/issue_events_267755.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-27T16:57:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267755"
}
```



---

archive/issue_events_267756.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-27T16:57:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267756"
}
```



---

archive/issue_events_267757.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-03-31T16:47:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267757"
}
```



---

archive/issue_events_267758.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-03-31T16:47:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267758"
}
```



---

archive/issue_comments_268157.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\n[comment:15] is not addressed. `real_mpfi` is already globally cimported in `complex_interval.pyx`.",
    "created_at": "2019-03-31T16:51:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268157",
    "user": "https://github.com/videlec"
}
```

<div id="comment:38" align="right">comment:38</div>

[comment:15] is not addressed. `real_mpfi` is already globally cimported in `complex_interval.pyx`.



---

archive/issue_comments_268158.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nI don't think that \"bisection on success\"/\"bisection on failure\" is enough. In many instances you have better than a boolean test. Let me consider the situation where you want to isolate all roots of the function `f` (e.g. a square-free polynomial). Interval arithmetic allows you to:\n- prove that a cell contains a single zero (if `f(left)` and `f(right)` have different signs and `f'(cell)` does not vanish)\n- prove that a cell does not contain a zero (if `f(cell)` does not contain zero)\nIn this situation, you want to perform bisection if the two above certificate failed. It is a `True/False/Unknown` situation.\n\nI think that the bisection should be general enough to handle this search because it does provide a proof of what you are looking for. The return value would be a pairs of lists: the one you are interested in and the pieces for which bisection failed to determinate their status.\n\nAlso, isolating roots in an example such as\n\n```\nsage: def contains_zero(fct, cell):\n....:     return fct(cell).contains_zero()\nsage: result = bisect(lambda x: x^3-4*x+2, RIF(-10, 10), contains_zero)\n```\nwould be faster since you would not refine the already valid cells.",
    "created_at": "2019-03-31T17:08:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268158",
    "user": "https://github.com/videlec"
}
```

<div id="comment:39" align="right">comment:39</div>

I don't think that "bisection on success"/"bisection on failure" is enough. In many instances you have better than a boolean test. Let me consider the situation where you want to isolate all roots of the function `f` (e.g. a square-free polynomial). Interval arithmetic allows you to:
- prove that a cell contains a single zero (if `f(left)` and `f(right)` have different signs and `f'(cell)` does not vanish)
- prove that a cell does not contain a zero (if `f(cell)` does not contain zero)
In this situation, you want to perform bisection if the two above certificate failed. It is a `True/False/Unknown` situation.

I think that the bisection should be general enough to handle this search because it does provide a proof of what you are looking for. The return value would be a pairs of lists: the one you are interested in and the pieces for which bisection failed to determinate their status.

Also, isolating roots in an example such as

```
sage: def contains_zero(fct, cell):
....:     return fct(cell).contains_zero()
sage: result = bisect(lambda x: x^3-4*x+2, RIF(-10, 10), contains_zero)
```
would be faster since you would not refine the already valid cells.



---

archive/issue_comments_268159.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\n(for all this, you should have a look at `arb_calc_isolate_roots` that was already mentioned)",
    "created_at": "2019-03-31T17:11:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268159",
    "user": "https://github.com/videlec"
}
```

<div id="comment:40" align="right">comment:40</div>

(for all this, you should have a look at `arb_calc_isolate_roots` that was already mentioned)



---

archive/issue_comments_268160.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nThe following is a big waste.\n\n```\nif join_neighboring_cells:\n     verbose('joining neighboring cells...', level=1)\n     cells = result\n     result = []\n\n     while len(cells) > 0:\n         joined = cells.pop(0)\n         k = 0\n         while k < len(cells):\n             try:\n                 joined.intersection(cells[k])\n             except ValueError:\n                 k += 1\n             else:\n                 joined = joined.union(cells.pop(k))\n         result.append(joined)\n```\nThe intervals should be stored in order (a binary tree seems the most appropriate).",
    "created_at": "2019-03-31T17:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268160",
    "user": "https://github.com/videlec"
}
```

<div id="comment:41" align="right">comment:41</div>

The following is a big waste.

```
if join_neighboring_cells:
     verbose('joining neighboring cells...', level=1)
     cells = result
     result = []

     while len(cells) > 0:
         joined = cells.pop(0)
         k = 0
         while k < len(cells):
             try:
                 joined.intersection(cells[k])
             except ValueError:
                 k += 1
             else:
                 joined = joined.union(cells.pop(k))
         result.append(joined)
```
The intervals should be stored in order (a binary tree seems the most appropriate).



---

archive/issue_events_267759.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-03-31T17:13:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267759"
}
```



---

archive/issue_events_267760.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-03-31T17:13:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267760"
}
```



---

archive/issue_comments_268161.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@videlec](#comment%3A38):\n> [comment:15] is not addressed. `real_mpfi` is already globally cimported in `complex_interval.pyx`.\n\nDoesn't work:\n\n```\n        return real_mpfi.bisect(f, self, test, **kwds)\n                       ^\n------------------------------------------------------------\n\nsage/rings/complex_interval.pyx:2201:24: cimported module has no attribute 'bisect'\n```",
    "created_at": "2019-04-02T13:13:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268161",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@videlec](#comment%3A38):
> [comment:15] is not addressed. `real_mpfi` is already globally cimported in `complex_interval.pyx`.

Doesn't work:

```
        return real_mpfi.bisect(f, self, test, **kwds)
                       ^
------------------------------------------------------------

sage/rings/complex_interval.pyx:2201:24: cimported module has no attribute 'bisect'
```



---

archive/issue_comments_268162.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@videlec](#comment%3A39):\n> I don't think that \"bisection on success\"/\"bisection on failure\" is enough. In many instances you have better than a boolean test. Let me consider the situation where you want to isolate all roots of the function `f` (e.g. a square-free polynomial). Interval arithmetic allows you to:\n> - prove that a cell contains a single zero (if `f(left)` and `f(right)` have different signs and `f'(cell)` does not vanish)\n> - prove that a cell does not contain a zero (if `f(cell)` does not contain zero)\n> In this situation, you want to perform bisection if the two above certificate failed. It is a `True/False/Unknown` situation.\n> \n> I think that the bisection should be general enough to handle this search because it does provide a proof of what you are looking for. The return value would be a pairs of lists: the one you are interested in and the pieces for which bisection failed to determinate their status.\n\nI agree that at some point this would be an extension to do. However, I think that it should not be now and that the current implementation has its advantages:\n\n- The test at the moment is compatible and in the sense as comparisons etc. work in RIF/CIF:\n\n  ```\n  sage: RIF(1,3) < RIF(2,4)\n  False\n  ```\n  returns `True/False` and not unknown. I think there were a lot of discussions going on about this during Py3 comparison discussions. Apparently this is still so in SageMath, so this should be done consistently in all of the module.\n\n- It is easy to use in the sense what the input test-function should be/return and what the result of `bisect` will be. Therefore this function is suitable for the end user; one main goal of this function.\n\n- The proposed change has a different result; see below.\n\n> Also, isolating roots in an example such as\n> \n> ```\n> sage: def contains_zero(fct, cell):\n> ....:     return fct(cell).contains_zero()\n> sage: result = bisect(lambda x: x^3-4*x+2, RIF(-10, 10), contains_zero)\n> ```\n> would be faster since you would not refine the already valid cells.\n\nFaster yes, but gives a different result. The current implementation results in small intervals that satisfy the condition, whereas your proposed solution would find some possible large intervals. One could, of course, do this by the proposed functionality, but rather complicated by searching for the inverse and then inverting the result again, which speaks against the simplicity in usage.",
    "created_at": "2019-04-02T13:32:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268162",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@videlec](#comment%3A39):
> I don't think that "bisection on success"/"bisection on failure" is enough. In many instances you have better than a boolean test. Let me consider the situation where you want to isolate all roots of the function `f` (e.g. a square-free polynomial). Interval arithmetic allows you to:
> - prove that a cell contains a single zero (if `f(left)` and `f(right)` have different signs and `f'(cell)` does not vanish)
> - prove that a cell does not contain a zero (if `f(cell)` does not contain zero)
> In this situation, you want to perform bisection if the two above certificate failed. It is a `True/False/Unknown` situation.
> 
> I think that the bisection should be general enough to handle this search because it does provide a proof of what you are looking for. The return value would be a pairs of lists: the one you are interested in and the pieces for which bisection failed to determinate their status.

I agree that at some point this would be an extension to do. However, I think that it should not be now and that the current implementation has its advantages:

- The test at the moment is compatible and in the sense as comparisons etc. work in RIF/CIF:

  ```
  sage: RIF(1,3) < RIF(2,4)
  False
  ```
  returns `True/False` and not unknown. I think there were a lot of discussions going on about this during Py3 comparison discussions. Apparently this is still so in SageMath, so this should be done consistently in all of the module.

- It is easy to use in the sense what the input test-function should be/return and what the result of `bisect` will be. Therefore this function is suitable for the end user; one main goal of this function.

- The proposed change has a different result; see below.

> Also, isolating roots in an example such as
> 
> ```
> sage: def contains_zero(fct, cell):
> ....:     return fct(cell).contains_zero()
> sage: result = bisect(lambda x: x^3-4*x+2, RIF(-10, 10), contains_zero)
> ```
> would be faster since you would not refine the already valid cells.

Faster yes, but gives a different result. The current implementation results in small intervals that satisfy the condition, whereas your proposed solution would find some possible large intervals. One could, of course, do this by the proposed functionality, but rather complicated by searching for the inverse and then inverting the result again, which speaks against the simplicity in usage.



---

archive/issue_comments_268163.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@videlec](#comment%3A41):\n> The following is a big waste.\n> \n> ```\n> if join_neighboring_cells:\n>      verbose('joining neighboring cells...', level=1)\n>      cells = result\n>      result = []\n> \n>      while len(cells) > 0:\n>          joined = cells.pop(0)\n>          k = 0\n>          while k < len(cells):\n>              try:\n>                  joined.intersection(cells[k])\n>              except ValueError:\n>                  k += 1\n>              else:\n>                  joined = joined.union(cells.pop(k))\n>          result.append(joined)\n> ```\n> The intervals should be stored in order (a binary tree seems the most appropriate).\n\nThis can only be simplified if we talk about real intervals, but not if we talk about complex intervals, or do I miss something here?",
    "created_at": "2019-04-02T13:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268163",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@videlec](#comment%3A41):
> The following is a big waste.
> 
> ```
> if join_neighboring_cells:
>      verbose('joining neighboring cells...', level=1)
>      cells = result
>      result = []
> 
>      while len(cells) > 0:
>          joined = cells.pop(0)
>          k = 0
>          while k < len(cells):
>              try:
>                  joined.intersection(cells[k])
>              except ValueError:
>                  k += 1
>              else:
>                  joined = joined.union(cells.pop(k))
>          result.append(joined)
> ```
> The intervals should be stored in order (a binary tree seems the most appropriate).

This can only be simplified if we talk about real intervals, but not if we talk about complex intervals, or do I miss something here?



---

archive/issue_events_267761.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-04-02T13:33:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267761"
}
```



---

archive/issue_events_267762.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-04-02T13:33:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267762"
}
```



---

archive/issue_comments_268164.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@dkrenn](#comment%3A45):\n> Replying to [@videlec](#comment%3A41):\n> > The following is a big waste.\n> > \n> > ```\n> > if join_neighboring_cells:\n> >      verbose('joining neighboring cells...', level=1)\n> >      cells = result\n> >      result = []\n> > \n> >      while len(cells) > 0:\n> >          joined = cells.pop(0)\n> >          k = 0\n> >          while k < len(cells):\n> >              try:\n> >                  joined.intersection(cells[k])\n> >              except ValueError:\n> >                  k += 1\n> >              else:\n> >                  joined = joined.union(cells.pop(k))\n> >          result.append(joined)\n> > ```\n> > The intervals should be stored in order (a binary tree seems the most appropriate).\n\n> \n> This can only be simplified if we talk about real intervals, but not if we talk about complex intervals, or do I miss something here?\n\nIndeed. For complex intervals you want a quad-tree not a binary tree.",
    "created_at": "2019-04-02T13:52:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268164",
    "user": "https://github.com/videlec"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@dkrenn](#comment%3A45):
> Replying to [@videlec](#comment%3A41):
> > The following is a big waste.
> > 
> > ```
> > if join_neighboring_cells:
> >      verbose('joining neighboring cells...', level=1)
> >      cells = result
> >      result = []
> > 
> >      while len(cells) > 0:
> >          joined = cells.pop(0)
> >          k = 0
> >          while k < len(cells):
> >              try:
> >                  joined.intersection(cells[k])
> >              except ValueError:
> >                  k += 1
> >              else:
> >                  joined = joined.union(cells.pop(k))
> >          result.append(joined)
> > ```
> > The intervals should be stored in order (a binary tree seems the most appropriate).

> 
> This can only be simplified if we talk about real intervals, but not if we talk about complex intervals, or do I miss something here?

Indeed. For complex intervals you want a quad-tree not a binary tree.



---

archive/issue_comments_268165.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@dkrenn](#comment%3A44):\n> Replying to [@videlec](#comment%3A39):\n> > I don't think that \"bisection on success\"/\"bisection on failure\" is enough. In many instances you have better than a boolean test. Let me consider the situation where you want to isolate all roots of the function `f` (e.g. a square-free polynomial). Interval arithmetic allows you to:\n> > - prove that a cell contains a single zero (if `f(left)` and `f(right)` have different signs and `f'(cell)` does not vanish)\n> > - prove that a cell does not contain a zero (if `f(cell)` does not contain zero)\n> > In this situation, you want to perform bisection if the two above certificate failed. It is a `True/False/Unknown` situation.\n> > \n> > I think that the bisection should be general enough to handle this search because it does provide a proof of what you are looking for. The return value would be a pairs of lists: the one you are interested in and the pieces for which bisection failed to determinate their status.\n\n> \n> I agree that at some point this would be an extension to do.\n\nGood. Then it shoud be clear that all the functionalities will be forward compatible.\n\n> However, I think that it should not be now and that the current implementation has its advantages:\n> \n> - The test at the moment is compatible and in the sense as comparisons etc. work in RIF/CIF:\n> \n>   ```\n>   sage: RIF(1,3) < RIF(2,4)\n>   False\n>   ```\n>   returns `True/False` and not unknown. I think there were a lot of discussions going on about this during Py3 comparison discussions. Apparently this is still so in SageMath, so this should be done consistently in all of the module.\n\nThe workaround is very simple\n\n```\nsage: def is_really_less_than(a,b):\n....:     if a < b: return True\n....:     elif b <= a: return False\n....:     else: return Unknown\nsage: is_really_less_than(RIF(1,2), RIF(3,4))\nTrue\nsage: is_really_less_than(RIF(1,3), RIF(2,4))\nUnknown\n```\n\n> - It is easy to use in the sense what the input test-function should be/return and what the result of `bisect` will be. Therefore this function is suitable for the end user; one main goal of this function.\n> \n> - The proposed change has a different result; see below.\n> \n> > Also, isolating roots in an example such as\n> > \n> > ```\n> > sage: def contains_zero(fct, cell):\n> > ....:     return fct(cell).contains_zero()\n> > sage: result = bisect(lambda x: x^3-4*x+2, RIF(-10, 10), contains_zero)\n> > ```\n> > would be faster since you would not refine the already valid cells.\n\n> \n> Faster yes, but gives a different result. The current implementation results in small intervals that satisfy the condition, whereas your proposed solution would find some possible large intervals. One could, of course, do this by the proposed functionality, but rather complicated by searching for the inverse and then inverting the result again, which speaks against the simplicity in usage.\n\nWhen roots are isolated you typically switch to something else. If you know that f has a unique root in [0,1] you would not implement the bisection the way this function proceed. Moreover, if you want really small intervals, Newton method is better suited. So the fact that the code in the current branch does more than the minimum amount of work is a downside to me.",
    "created_at": "2019-04-02T14:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268165",
    "user": "https://github.com/videlec"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@dkrenn](#comment%3A44):
> Replying to [@videlec](#comment%3A39):
> > I don't think that "bisection on success"/"bisection on failure" is enough. In many instances you have better than a boolean test. Let me consider the situation where you want to isolate all roots of the function `f` (e.g. a square-free polynomial). Interval arithmetic allows you to:
> > - prove that a cell contains a single zero (if `f(left)` and `f(right)` have different signs and `f'(cell)` does not vanish)
> > - prove that a cell does not contain a zero (if `f(cell)` does not contain zero)
> > In this situation, you want to perform bisection if the two above certificate failed. It is a `True/False/Unknown` situation.
> > 
> > I think that the bisection should be general enough to handle this search because it does provide a proof of what you are looking for. The return value would be a pairs of lists: the one you are interested in and the pieces for which bisection failed to determinate their status.

> 
> I agree that at some point this would be an extension to do.

Good. Then it shoud be clear that all the functionalities will be forward compatible.

> However, I think that it should not be now and that the current implementation has its advantages:
> 
> - The test at the moment is compatible and in the sense as comparisons etc. work in RIF/CIF:
> 
>   ```
>   sage: RIF(1,3) < RIF(2,4)
>   False
>   ```
>   returns `True/False` and not unknown. I think there were a lot of discussions going on about this during Py3 comparison discussions. Apparently this is still so in SageMath, so this should be done consistently in all of the module.

The workaround is very simple

```
sage: def is_really_less_than(a,b):
....:     if a < b: return True
....:     elif b <= a: return False
....:     else: return Unknown
sage: is_really_less_than(RIF(1,2), RIF(3,4))
True
sage: is_really_less_than(RIF(1,3), RIF(2,4))
Unknown
```

> - It is easy to use in the sense what the input test-function should be/return and what the result of `bisect` will be. Therefore this function is suitable for the end user; one main goal of this function.
> 
> - The proposed change has a different result; see below.
> 
> > Also, isolating roots in an example such as
> > 
> > ```
> > sage: def contains_zero(fct, cell):
> > ....:     return fct(cell).contains_zero()
> > sage: result = bisect(lambda x: x^3-4*x+2, RIF(-10, 10), contains_zero)
> > ```
> > would be faster since you would not refine the already valid cells.

> 
> Faster yes, but gives a different result. The current implementation results in small intervals that satisfy the condition, whereas your proposed solution would find some possible large intervals. One could, of course, do this by the proposed functionality, but rather complicated by searching for the inverse and then inverting the result again, which speaks against the simplicity in usage.

When roots are isolated you typically switch to something else. If you know that f has a unique root in [0,1] you would not implement the bisection the way this function proceed. Moreover, if you want really small intervals, Newton method is better suited. So the fact that the code in the current branch does more than the minimum amount of work is a downside to me.



---

archive/issue_comments_268166.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nReplying to [@videlec](#comment%3A48):\n> Replying to [@dkrenn](#comment%3A44):\n> > Faster yes, but gives a different result. The current implementation results in small intervals that satisfy the condition, whereas your proposed solution would find some possible large intervals. One could, of course, do this by the proposed functionality, but rather complicated by searching for the inverse and then inverting the result again, which speaks against the simplicity in usage.\n\n> \n> When roots are isolated you typically switch to something else. If you know that f has a unique root in [0,1] you would not implement the bisection the way this function proceed. Moreover, if you want really small intervals, Newton method is better suited. So the fact that the code in the current branch does more than the minimum amount of work is a downside to me.\n\nNewton can only be done if the function is differentiable, which is not assumed by the current implementation.",
    "created_at": "2019-04-02T14:13:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268166",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:49" align="right">comment:49</div>

Replying to [@videlec](#comment%3A48):
> Replying to [@dkrenn](#comment%3A44):
> > Faster yes, but gives a different result. The current implementation results in small intervals that satisfy the condition, whereas your proposed solution would find some possible large intervals. One could, of course, do this by the proposed functionality, but rather complicated by searching for the inverse and then inverting the result again, which speaks against the simplicity in usage.

> 
> When roots are isolated you typically switch to something else. If you know that f has a unique root in [0,1] you would not implement the bisection the way this function proceed. Moreover, if you want really small intervals, Newton method is better suited. So the fact that the code in the current branch does more than the minimum amount of work is a downside to me.

Newton can only be done if the function is differentiable, which is not assumed by the current implementation.



---

archive/issue_comments_268167.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nReplying to [@videlec](#comment%3A47):\n> Replying to [@dkrenn](#comment%3A45):\n> > Replying to [@videlec](#comment%3A41):\n> > > The following is a big waste.\n> > > \n> > > ```\n> > > if join_neighboring_cells:\n> > >      verbose('joining neighboring cells...', level=1)\n> > >      cells = result\n> > >      result = []\n> > > \n> > >      while len(cells) > 0:\n> > >          joined = cells.pop(0)\n> > >          k = 0\n> > >          while k < len(cells):\n> > >              try:\n> > >                  joined.intersection(cells[k])\n> > >              except ValueError:\n> > >                  k += 1\n> > >              else:\n> > >                  joined = joined.union(cells.pop(k))\n> > >          result.append(joined)\n> > > ```\n> > > The intervals should be stored in order (a binary tree seems the most appropriate).\n\n> > \n> > This can only be simplified if we talk about real intervals, but not if we talk about complex intervals, or do I miss something here?\n\n> \n> Indeed. For complex intervals you want a quad-tree not a binary tree.\n\nFollow-up ticket #27595.",
    "created_at": "2019-04-02T14:37:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268167",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:50" align="right">comment:50</div>

Replying to [@videlec](#comment%3A47):
> Replying to [@dkrenn](#comment%3A45):
> > Replying to [@videlec](#comment%3A41):
> > > The following is a big waste.
> > > 
> > > ```
> > > if join_neighboring_cells:
> > >      verbose('joining neighboring cells...', level=1)
> > >      cells = result
> > >      result = []
> > > 
> > >      while len(cells) > 0:
> > >          joined = cells.pop(0)
> > >          k = 0
> > >          while k < len(cells):
> > >              try:
> > >                  joined.intersection(cells[k])
> > >              except ValueError:
> > >                  k += 1
> > >              else:
> > >                  joined = joined.union(cells.pop(k))
> > >          result.append(joined)
> > > ```
> > > The intervals should be stored in order (a binary tree seems the most appropriate).

> > 
> > This can only be simplified if we talk about real intervals, but not if we talk about complex intervals, or do I miss something here?

> 
> Indeed. For complex intervals you want a quad-tree not a binary tree.

Follow-up ticket #27595.



---

archive/issue_comments_268168.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@videlec](#comment%3A48):\n> Replying to [@dkrenn](#comment%3A44):\n> > Replying to [@videlec](#comment%3A39):\n> > > I don't think that \"bisection on success\"/\"bisection on failure\" is enough. In many instances you have better than a boolean test. Let me consider the situation where you want to isolate all roots of the function `f` (e.g. a square-free polynomial). Interval arithmetic allows you to:\n> > > - prove that a cell contains a single zero (if `f(left)` and `f(right)` have different signs and `f'(cell)` does not vanish)\n> > > - prove that a cell does not contain a zero (if `f(cell)` does not contain zero)\n> > > In this situation, you want to perform bisection if the two above certificate failed. It is a `True/False/Unknown` situation.\n> > > \n> > > I think that the bisection should be general enough to handle this search because it does provide a proof of what you are looking for. The return value would be a pairs of lists: the one you are interested in and the pieces for which bisection failed to determinate their status.\n\n> > \n> > I agree that at some point this would be an extension to do.\n\n> \n> Good. Then it shoud be clear that all the functionalities will be forward compatible.\n\nAfter all, this might be difficult, as already the output and the desired functionality seems to be different in our two cases. Do you have something particular in mind here?",
    "created_at": "2019-04-02T14:41:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268168",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@videlec](#comment%3A48):
> Replying to [@dkrenn](#comment%3A44):
> > Replying to [@videlec](#comment%3A39):
> > > I don't think that "bisection on success"/"bisection on failure" is enough. In many instances you have better than a boolean test. Let me consider the situation where you want to isolate all roots of the function `f` (e.g. a square-free polynomial). Interval arithmetic allows you to:
> > > - prove that a cell contains a single zero (if `f(left)` and `f(right)` have different signs and `f'(cell)` does not vanish)
> > > - prove that a cell does not contain a zero (if `f(cell)` does not contain zero)
> > > In this situation, you want to perform bisection if the two above certificate failed. It is a `True/False/Unknown` situation.
> > > 
> > > I think that the bisection should be general enough to handle this search because it does provide a proof of what you are looking for. The return value would be a pairs of lists: the one you are interested in and the pieces for which bisection failed to determinate their status.

> > 
> > I agree that at some point this would be an extension to do.

> 
> Good. Then it shoud be clear that all the functionalities will be forward compatible.

After all, this might be difficult, as already the output and the desired functionality seems to be different in our two cases. Do you have something particular in mind here?



---

archive/issue_events_267763.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267763"
}
```



---

archive/issue_events_267764.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267764"
}
```



---

archive/issue_comments_268169.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nTickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268169",
    "user": "https://github.com/embray"
}
```

<div id="comment:52" align="right">comment:52</div>

Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_events_267765.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267765"
}
```



---

archive/issue_events_267766.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267766"
}
```



---

archive/issue_comments_268170.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268170",
    "user": "https://github.com/embray"
}
```

<div id="comment:53" align="right">comment:53</div>

Ticket retargeted after milestone closed



---

archive/issue_events_267767.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267767"
}
```



---

archive/issue_events_267768.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267768"
}
```



---

archive/issue_comments_268171.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268171",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:54" align="right">comment:54</div>

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_267769.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267769"
}
```



---

archive/issue_events_267770.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267770"
}
```



---

archive/issue_events_267771.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267771"
}
```



---

archive/issue_events_267772.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267772"
}
```



---

archive/issue_comments_268172.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-15T22:07:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268172",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:56" align="right">comment:56</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_267773.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267773"
}
```



---

archive/issue_events_267774.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267774"
}
```



---

archive/issue_comments_268173.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268173",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:57" align="right">comment:57</div>

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_267775.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267775"
}
```



---

archive/issue_events_267776.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267776"
}
```



---

archive/issue_comments_268174.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nStalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19033#issuecomment-268174",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:58" align="right">comment:58</div>

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_events_267777.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T17:54:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267777"
}
```



---

archive/issue_events_267778.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T17:54:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267778"
}
```



---

archive/issue_events_267779.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267779"
}
```



---

archive/issue_events_267780.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19033",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19033#event-267780"
}
```
