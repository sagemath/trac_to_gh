# Issue 19632: Haemers srgs

archive/issues_019395.json:
```json
{
    "body": "Construction of srgs from [BvL84], sect 8.A\n\nCC:  @nathanncohen\n\nBranch/Commit: b2a888334e0ffd2719e822f180a3be4939271411\n\nReviewer: Nathann Cohen\n\nAuthor: Dima Pasechnik\n\nDependencies: #19463, #19624\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19632\n\n",
    "closed_at": "2015-12-06T21:42:37Z",
    "created_at": "2015-11-27T13:17:36Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Haemers srgs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19632",
    "user": "https://github.com/dimpase"
}
```
Construction of srgs from [BvL84], sect 8.A

CC:  @nathanncohen

Branch/Commit: b2a888334e0ffd2719e822f180a3be4939271411

Reviewer: Nathann Cohen

Author: Dima Pasechnik

Dependencies: #19463, #19624

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19632





---

archive/issue_comments_283567.json:
```json
{
    "body": "Attachment [ha.sage](tarball://root/attachments/some-uuid/ticket19632/ha.sage) by @dimpase created at 2015-11-27 13:19:41\n\na working Sage function to build them",
    "created_at": "2015-11-27T13:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283567",
    "user": "https://github.com/dimpase"
}
```

Attachment [ha.sage](tarball://root/attachments/some-uuid/ticket19632/ha.sage) by @dimpase created at 2015-11-27 13:19:41

a working Sage function to build them



---

archive/issue_comments_283568.json:
```json
{
    "body": "<a id='comment:1'></a>construction is working :-)",
    "created_at": "2015-11-27T13:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283568",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>construction is working :-)



---

archive/issue_comments_283569.json:
```json
{
    "body": "<a id='comment:2'></a>Great ! God, when I think that the only ones that may remain could be those awful RSHCD .. Makes me angry `:-P`",
    "created_at": "2015-11-27T13:22:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283569",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:2'></a>Great ! God, when I think that the only ones that may remain could be those awful RSHCD .. Makes me angry `:-P`



---

archive/issue_comments_283570.json:
```json
{
    "body": "<a id='comment:3'></a>Last 10 new commits:",
    "created_at": "2015-11-27T16:31:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283570",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>Last 10 new commits:



---

archive/issue_comments_283571.json:
```json
{
    "body": "<a id='comment:5'></a>in a rush, but looks OK, please review the last commit",
    "created_at": "2015-11-27T16:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283571",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>in a rush, but looks OK, please review the last commit



---

archive/issue_comments_283572.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-11-27T16:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283572",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_283573.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-27T19:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283573",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_283574.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-28T08:30:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283574",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_283575.json:
```json
{
    "body": "<a id='comment:8'></a>Hello Dima,\n\nI do not even understand how you can use this 'partition' argument given that it is read *after* a call to relabel(), and that this is, in theory at least, architecture dependent.\n\nNathann",
    "created_at": "2015-11-28T09:12:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283575",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>Hello Dima,

I do not even understand how you can use this 'partition' argument given that it is read *after* a call to relabel(), and that this is, in theory at least, architecture dependent.

Nathann



---

archive/issue_comments_283576.json:
```json
{
    "body": "<a id='comment:9'></a>P.S.: Could you give your variables full names instead of acronyms?",
    "created_at": "2015-11-28T09:14:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283576",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>P.S.: Could you give your variables full names instead of acronyms?



---

archive/issue_comments_283577.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:8 ncohen]:\n> Hello Dima,\n> \n> I do not even understand how you can use this 'partition' argument given that it is read *after* a call to relabel(), and that this is, in theory at least, architecture dependent.\n\n\nAre you saying that relabel() can reorder vertices? Indeed, the code depends on it keeping them \nin the same order.",
    "created_at": "2015-11-28T11:26:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283577",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>Replying to [comment:8 ncohen]:
> Hello Dima,
> 
> I do not even understand how you can use this 'partition' argument given that it is read *after* a call to relabel(), and that this is, in theory at least, architecture dependent.


Are you saying that relabel() can reorder vertices? Indeed, the code depends on it keeping them 
in the same order.



---

archive/issue_comments_283578.json:
```json
{
    "body": "<a id='comment:11'></a>> Are you saying that relabel() can reorder vertices? Indeed, the code depends on it keeping them \n> in the same order.\n\n\n'reorder' ? Nono, it will not 'reorder' them, i.e. the ith vertex of g.vertices() is the ith vertex of g.vertices() after a relabel\n\n```\n        if perm is None:\n            perm = dict({v:i for i,v in enumerate(self.vertices())})\n```\n\nBut if you have to explain in the doc what exactly the ith vertex represents when he provides a partition, well, we might as well use their original labels (i.e. before relabelling)\n\nNathann",
    "created_at": "2015-11-28T11:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283578",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>> Are you saying that relabel() can reorder vertices? Indeed, the code depends on it keeping them 
> in the same order.


'reorder' ? Nono, it will not 'reorder' them, i.e. the ith vertex of g.vertices() is the ith vertex of g.vertices() after a relabel

```
        if perm is None:
            perm = dict({v:i for i,v in enumerate(self.vertices())})
```

But if you have to explain in the doc what exactly the ith vertex represents when he provides a partition, well, we might as well use their original labels (i.e. before relabelling)

Nathann



---

archive/issue_comments_283579.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:11 ncohen]:\n> > Are you saying that relabel() can reorder vertices? Indeed, the code depends on it keeping them \n> > in the same order.\n\n> \n> 'reorder' ? Nono, it will not 'reorder' them, i.e. the ith vertex of g.vertices() is the ith vertex of g.vertices() after a relabel\n> \n> \n> ```\n>         if perm is None:\n>             perm = dict({v:i for i,v in enumerate(self.vertices())})\n> ```\n> \n> But if you have to explain in the doc what exactly the ith vertex represents when he provides a partition, well, we might as well use their original labels (i.e. before relabelling).\n\n`partition` is partition of the points of the underlying `hyperoval` (not a partition of vertices). \n\n```\n   * \"partition\" -- if \"None\" (default), pair each i-th point of\n     \"hyperoval\" with (i+1)-th. Otherwise, specifies the pairing in\n     the format ((i_1,i'_1),(i_2,i'_2),...).\n\n   * \"hyperoval\" -- a hyperoval defining T_2^*(q)^*. If \"None\"\n     (default), the classical hyperoval obatined from a conic is used.\n```",
    "created_at": "2015-11-28T11:39:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283579",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>Replying to [comment:11 ncohen]:
> > Are you saying that relabel() can reorder vertices? Indeed, the code depends on it keeping them 
> > in the same order.

> 
> 'reorder' ? Nono, it will not 'reorder' them, i.e. the ith vertex of g.vertices() is the ith vertex of g.vertices() after a relabel
> 
> 
> ```
>         if perm is None:
>             perm = dict({v:i for i,v in enumerate(self.vertices())})
> ```
> 
> But if you have to explain in the doc what exactly the ith vertex represents when he provides a partition, well, we might as well use their original labels (i.e. before relabelling).

`partition` is partition of the points of the underlying `hyperoval` (not a partition of vertices). 

```
   * "partition" -- if "None" (default), pair each i-th point of
     "hyperoval" with (i+1)-th. Otherwise, specifies the pairing in
     the format ((i_1,i'_1),(i_2,i'_2),...).

   * "hyperoval" -- a hyperoval defining T_2^*(q)^*. If "None"
     (default), the classical hyperoval obatined from a conic is used.
```



---

archive/issue_comments_283580.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-28T21:33:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283580",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_283581.json:
```json
{
    "body": "<a id='comment:14'></a>I'll wait for the dependencies to be merged before reviewing that. The merge commits everywhere make it uselessly more complicated.",
    "created_at": "2015-11-29T08:10:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283581",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'></a>I'll wait for the dependencies to be merged before reviewing that. The merge commits everywhere make it uselessly more complicated.



---

archive/issue_comments_283582.json:
```json
{
    "body": "<a id='comment:15'></a>Hello Dima,\n\nAs the end of december is coming fast, I started this review before the next beta. I added a commit at public/19632 that cleans a couple of things, and simplifies some code too. It would be really great if you could start thinking of what your computer does when you give it instructions, because a lot of computations was done for nothing.\n\nTwo remarks:\n\n- For me the following doctest is too long, even for a \"#long\" doctest. Recently some guys were trying to figure out how to do something like \"#long 2m\" doctests for a better filtering.\n\n```\nsage: %time g=graphs.HaemersGraph(8); g\nCPU times: user 11.1 s, sys: 20 ms, total: 11.1 s\nWall time: 11.1 s\n```\n\n- It seems that `partition` is not a partition of the vertex set but a partition of ... a partition of G into independent sets. Would it be possible to change the terminology a bit to avoid confusion?\n\nThanks,\n\nNathann",
    "created_at": "2015-12-04T12:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283582",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>Hello Dima,

As the end of december is coming fast, I started this review before the next beta. I added a commit at public/19632 that cleans a couple of things, and simplifies some code too. It would be really great if you could start thinking of what your computer does when you give it instructions, because a lot of computations was done for nothing.

Two remarks:

- For me the following doctest is too long, even for a "#long" doctest. Recently some guys were trying to figure out how to do something like "#long 2m" doctests for a better filtering.

```
sage: %time g=graphs.HaemersGraph(8); g
CPU times: user 11.1 s, sys: 20 ms, total: 11.1 s
Wall time: 11.1 s
```

- It seems that `partition` is not a partition of the vertex set but a partition of ... a partition of G into independent sets. Would it be possible to change the terminology a bit to avoid confusion?

Thanks,

Nathann



---

archive/issue_comments_283583.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-12-04T12:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283583",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_283584.json:
```json
{
    "body": "<a id='comment:16'></a>I'll rename `partition=` `hyperoval_matching=`, for that's what it is in reality, \nand make that long test into not tested...",
    "created_at": "2015-12-04T13:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283584",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>I'll rename `partition=` `hyperoval_matching=`, for that's what it is in reality, 
and make that long test into not tested...



---

archive/issue_comments_283585.json:
```json
{
    "body": "<a id='comment:17'></a>Works for me,\n\nNathann",
    "created_at": "2015-12-04T13:41:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283585",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:17'></a>Works for me,

Nathann



---

archive/issue_comments_283586.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-04T13:59:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_283587.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-12-04T13:59:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283587",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_283588.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-12-04T14:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283588",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_283589.json:
```json
{
    "body": "<a id='comment:20'></a>Thaaaaaaaaaaanks,\n\nNathann",
    "created_at": "2015-12-04T14:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283589",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'></a>Thaaaaaaaaaaanks,

Nathann



---

archive/issue_comments_283590.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-12-04T22:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283590",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_283591.json:
```json
{
    "body": "<a id='comment:21'></a>Merge conflict in src/doc/en/reference/coding/index.rst",
    "created_at": "2015-12-04T22:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283591",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'></a>Merge conflict in src/doc/en/reference/coding/index.rst



---

archive/issue_comments_283592.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-05T13:13:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283592",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_283593.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-12-05T13:14:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283593",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_283594.json:
```json
{
    "body": "<a id='comment:24'></a>Replying to [comment:23 ncohen]:\nThanks!",
    "created_at": "2015-12-06T01:04:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283594",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>Replying to [comment:23 ncohen]:
Thanks!



---

archive/issue_events_053954.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-06T21:42:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19632#event-53954"
}
```



---

archive/issue_comments_283595.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-12-06T21:42:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19632#issuecomment-283595",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
