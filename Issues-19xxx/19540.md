# Issue 19540: AsymptoticExpansion.factorial

archive/issues_019303.json:
```json
{
    "body": "Use existing Stirling approximation to calculate the factorial.\n\nCC:  @behackl @cheuberg\n\nBranch/Commit: 0e6a0c554fbff9ba6fd36f5309e9ec6e7a8eb7f3\n\nReviewer: Clemens Heuberger\n\nAuthor: Daniel Krenn\n\nDependencies: #19306, #19521, #19528, #19944\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19540\n\n",
    "closed_at": "2016-02-18T08:24:44Z",
    "created_at": "2015-11-07T00:24:45Z",
    "labels": [
        "component: asymptotic expansions"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "AsymptoticExpansion.factorial",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19540",
    "user": "https://github.com/dkrenn"
}
```
Use existing Stirling approximation to calculate the factorial.

CC:  @behackl @cheuberg

Branch/Commit: 0e6a0c554fbff9ba6fd36f5309e9ec6e7a8eb7f3

Reviewer: Clemens Heuberger

Author: Daniel Krenn

Dependencies: #19306, #19521, #19528, #19944

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19540





---

archive/issue_comments_350601.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dkrenn/asy/factorial\"",
    "created_at": "2015-11-07T00:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350601",
    "user": "https://github.com/dkrenn"
}
```

Changing branch from "" to "u/dkrenn/asy/factorial"



---

archive/issue_comments_350602.json:
```json
{
    "body": "Changing commit from \"\" to \"8858983adc355647a528bbc04f9999bda4e342d9\"",
    "created_at": "2015-11-07T00:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350602",
    "user": "https://github.com/dkrenn"
}
```

Changing commit from "" to "8858983adc355647a528bbc04f9999bda4e342d9"



---

archive/issue_comments_350603.json:
```json
{
    "body": "<a id='comment:2'></a>\nLast 10 new commits:\n|                                                                                                                                          |                                                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|\n|[6e5a098](http://git.sagemath.org/sage.git/commit/?id=6e5a098cc6cce8d67bd795067f1e0f9b688cf303)|`Merge branch 'u/dkrenn/symbolic-subring' of trac.sagemath.org:sage into coerce/inverse-action`|\n|[5638459](http://git.sagemath.org/sage.git/commit/?id=563845928f4cfacb54f46156e59c12ffa46dbdab)|`#19521: use coercion_reversed in InverseAction`|\n|[421e377](http://git.sagemath.org/sage.git/commit/?id=421e377a68a9160acdc630def97af10e7c24a33f)|`mutable poset map: remove elements ``None```|\n|[1d28240](http://git.sagemath.org/sage.git/commit/?id=1d28240e9f9368dd113c345350dbe50c2a29c257)|`term monoid: write change_parameter`|\n|[2c37889](http://git.sagemath.org/sage.git/commit/?id=2c37889d1c188d580e467553a8ae6264b7b16aaa)|`correct a bug in change_parameter`|\n|[bdcb72b](http://git.sagemath.org/sage.git/commit/?id=bdcb72be9df4b2e57a94be7d250e78e8b5105304)|`write map_coefficients`|\n|[15865eb](http://git.sagemath.org/sage.git/commit/?id=15865eb019806c18e086b349b878e253d8398f2d)|`Merge branches 'coerce/inverse-action' and 'asy/map_coefficients' into t/19306/asy/generators`|\n|[94f003a](http://git.sagemath.org/sage.git/commit/?id=94f003ad3728c6010879f8a4e06372946fe6566f)|`factorial`|\n|[5cbabc1](http://git.sagemath.org/sage.git/commit/?id=5cbabc1cc834ded0a9976c53689334e43350deb0)|`seealso and links`|\n|[8858983](http://git.sagemath.org/sage.git/commit/?id=8858983adc355647a528bbc04f9999bda4e342d9)|`correct :meth: --> :func:`|",
    "created_at": "2015-11-07T00:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350603",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:2'></a>
Last 10 new commits:
|                                                                                                                                          |                                                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
|[6e5a098](http://git.sagemath.org/sage.git/commit/?id=6e5a098cc6cce8d67bd795067f1e0f9b688cf303)|`Merge branch 'u/dkrenn/symbolic-subring' of trac.sagemath.org:sage into coerce/inverse-action`|
|[5638459](http://git.sagemath.org/sage.git/commit/?id=563845928f4cfacb54f46156e59c12ffa46dbdab)|`#19521: use coercion_reversed in InverseAction`|
|[421e377](http://git.sagemath.org/sage.git/commit/?id=421e377a68a9160acdc630def97af10e7c24a33f)|`mutable poset map: remove elements ``None```|
|[1d28240](http://git.sagemath.org/sage.git/commit/?id=1d28240e9f9368dd113c345350dbe50c2a29c257)|`term monoid: write change_parameter`|
|[2c37889](http://git.sagemath.org/sage.git/commit/?id=2c37889d1c188d580e467553a8ae6264b7b16aaa)|`correct a bug in change_parameter`|
|[bdcb72b](http://git.sagemath.org/sage.git/commit/?id=bdcb72be9df4b2e57a94be7d250e78e8b5105304)|`write map_coefficients`|
|[15865eb](http://git.sagemath.org/sage.git/commit/?id=15865eb019806c18e086b349b878e253d8398f2d)|`Merge branches 'coerce/inverse-action' and 'asy/map_coefficients' into t/19306/asy/generators`|
|[94f003a](http://git.sagemath.org/sage.git/commit/?id=94f003ad3728c6010879f8a4e06372946fe6566f)|`factorial`|
|[5cbabc1](http://git.sagemath.org/sage.git/commit/?id=5cbabc1cc834ded0a9976c53689334e43350deb0)|`seealso and links`|
|[8858983](http://git.sagemath.org/sage.git/commit/?id=8858983adc355647a528bbc04f9999bda4e342d9)|`correct :meth: --> :func:`|



---

archive/issue_comments_350604.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-11-07T00:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350604",
    "user": "https://github.com/dkrenn"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_350605.json:
```json
{
    "body": "<a id='comment:3'></a>\nIn principle, this would be fine; however, the following example fails:\n\n```\nsage: A.<m> = AsymptoticRing('m^QQ', QQ)\nsage: m.factorial()\nTraceback (most recent call last):\n...\nTypeError: ...\n>>>>>> *previous* ArithmeticError: Cannot build log(m)\nsince log(m) is not in Growth Group\nm^QQ * (e^(n*log(n)))^QQ * (e^n)^QQ * n^QQ * log(n)^QQ.\n```\nThe problem is that the method tries to build the correct growth group in `n` (hard-coded) but has no influence on the given growth group.\nAnd if we have something like `log(m).factorial()`, then everything gets more involved.\nThis either needs to be fixed or documented.",
    "created_at": "2016-02-04T16:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350605",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:3'></a>
In principle, this would be fine; however, the following example fails:

```
sage: A.<m> = AsymptoticRing('m^QQ', QQ)
sage: m.factorial()
Traceback (most recent call last):
...
TypeError: ...
>>>>>> *previous* ArithmeticError: Cannot build log(m)
since log(m) is not in Growth Group
m^QQ * (e^(n*log(n)))^QQ * (e^n)^QQ * n^QQ * log(n)^QQ.
```
The problem is that the method tries to build the correct growth group in `n` (hard-coded) but has no influence on the given growth group.
And if we have something like `log(m).factorial()`, then everything gets more involved.
This either needs to be fixed or documented.



---

archive/issue_comments_350606.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-02-04T16:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350606",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_350607.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Clemens Heuberger\"",
    "created_at": "2016-02-04T16:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350607",
    "user": "https://github.com/cheuberg"
}
```

Changing reviewer from "" to "Clemens Heuberger"



---

archive/issue_events_053813.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2016-02-04T16:06:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19540#event-53813"
}
```



---

archive/issue_comments_350608.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[5977604](http://git.sagemath.org/sage.git/commit/?id=5977604f6360901ef44c5cf56b29d1dbae9c03f6)|`Merge tag '7.1.beta3' into t/19540/asy/factorial`|\n|[8a43e7e](http://git.sagemath.org/sage.git/commit/?id=8a43e7ef1618115c4c7acec25d814c8579aaff08)|`Trac #19540: allow growth groups strings in TermMonoid factory`|\n|[0384e25](http://git.sagemath.org/sage.git/commit/?id=0384e25ec2afd296a50df47f9cb48fab4a42068a)|`Trac #19540: use is_one()`|\n|[3f0f855](http://git.sagemath.org/sage.git/commit/?id=3f0f855c98d9e9223b3ae52e8eb142dd2e4a832c)|`Trac #19540: variable_names for growth elements`|\n|[eb49c65](http://git.sagemath.org/sage.git/commit/?id=eb49c65c62473aadd2b4e8443b7ae605c008720c)|`Trac #19540: variable_names for terms`|\n|[5a4adf0](http://git.sagemath.org/sage.git/commit/?id=5a4adf02f75c502053b3b5f8b1b1474f75de5421)|`Trac #19540: variable_names for asymptotic expansions`|\n|[d9f2796](http://git.sagemath.org/sage.git/commit/?id=d9f2796d794e1e7c55e8fdb7cd352adf5f5ab9f5)|`Trac #19540: _factorial_ for terms`|\n|[c801853](http://git.sagemath.org/sage.git/commit/?id=c80185380b78ad14d8a9ac69f7e4294755bf43d3)|`Trac #19540: rewrite factorial`|\n|[139f7c8](http://git.sagemath.org/sage.git/commit/?id=139f7c8078f6e86549b43860eca815763f9dc160)|`Trac #19540: note on log(s).factorial()`|",
    "created_at": "2016-02-15T09:32:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350608",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[5977604](http://git.sagemath.org/sage.git/commit/?id=5977604f6360901ef44c5cf56b29d1dbae9c03f6)|`Merge tag '7.1.beta3' into t/19540/asy/factorial`|
|[8a43e7e](http://git.sagemath.org/sage.git/commit/?id=8a43e7ef1618115c4c7acec25d814c8579aaff08)|`Trac #19540: allow growth groups strings in TermMonoid factory`|
|[0384e25](http://git.sagemath.org/sage.git/commit/?id=0384e25ec2afd296a50df47f9cb48fab4a42068a)|`Trac #19540: use is_one()`|
|[3f0f855](http://git.sagemath.org/sage.git/commit/?id=3f0f855c98d9e9223b3ae52e8eb142dd2e4a832c)|`Trac #19540: variable_names for growth elements`|
|[eb49c65](http://git.sagemath.org/sage.git/commit/?id=eb49c65c62473aadd2b4e8443b7ae605c008720c)|`Trac #19540: variable_names for terms`|
|[5a4adf0](http://git.sagemath.org/sage.git/commit/?id=5a4adf02f75c502053b3b5f8b1b1474f75de5421)|`Trac #19540: variable_names for asymptotic expansions`|
|[d9f2796](http://git.sagemath.org/sage.git/commit/?id=d9f2796d794e1e7c55e8fdb7cd352adf5f5ab9f5)|`Trac #19540: _factorial_ for terms`|
|[c801853](http://git.sagemath.org/sage.git/commit/?id=c80185380b78ad14d8a9ac69f7e4294755bf43d3)|`Trac #19540: rewrite factorial`|
|[139f7c8](http://git.sagemath.org/sage.git/commit/?id=139f7c8078f6e86549b43860eca815763f9dc160)|`Trac #19540: note on log(s).factorial()`|



---

archive/issue_comments_350609.json:
```json
{
    "body": "Changing commit from \"8858983adc355647a528bbc04f9999bda4e342d9\" to \"139f7c8078f6e86549b43860eca815763f9dc160\"",
    "created_at": "2016-02-15T09:32:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350609",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8858983adc355647a528bbc04f9999bda4e342d9" to "139f7c8078f6e86549b43860eca815763f9dc160"



---

archive/issue_comments_350610.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-02-15T09:33:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350610",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_350611.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [cheuberg](#comment%3A3):\n> In principle, this would be fine; however, the following example fails:\n> \n> ```\n> sage: A.<m> = AsymptoticRing('m^QQ', QQ)\n> sage: m.factorial()\n> Traceback (most recent call last):\n> ...\n> TypeError: ...\n> >>>>>> *previous* ArithmeticError: Cannot build log(m)\n> since log(m) is not in Growth Group\n> m^QQ * (e^(n*log(n)))^QQ * (e^n)^QQ * n^QQ * log(n)^QQ.\n> ```\n> The problem is that the method tries to build the correct growth group in `n` (hard-coded) but has no influence on the given growth group.\n\n\nCorrected (needed more rewriting than thought, but now `factorial` can do much better)\n\n> And if we have something like `log(m).factorial()`, then everything gets more involved.\n> This either needs to be fixed or documented.\n\n\nDocumented.",
    "created_at": "2016-02-15T09:33:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350611",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:6'></a>
Replying to [cheuberg](#comment%3A3):
> In principle, this would be fine; however, the following example fails:
> 
> ```
> sage: A.<m> = AsymptoticRing('m^QQ', QQ)
> sage: m.factorial()
> Traceback (most recent call last):
> ...
> TypeError: ...
> >>>>>> *previous* ArithmeticError: Cannot build log(m)
> since log(m) is not in Growth Group
> m^QQ * (e^(n*log(n)))^QQ * (e^n)^QQ * n^QQ * log(n)^QQ.
> ```
> The problem is that the method tries to build the correct growth group in `n` (hard-coded) but has no influence on the given growth group.


Corrected (needed more rewriting than thought, but now `factorial` can do much better)

> And if we have something like `log(m).factorial()`, then everything gets more involved.
> This either needs to be fixed or documented.


Documented.



---

archive/issue_comments_350612.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                          |                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[456d8c3](http://git.sagemath.org/sage.git/commit/?id=456d8c383b55ab6ebbbd473370278180177326be)|`Trac #19969: correct whitespaces`|\n|[b540598](http://git.sagemath.org/sage.git/commit/?id=b540598bc12c3d4540b0d5114b2e399dff502157)|`Trac #19969: add an additional doctest`|\n|[984ca4d](http://git.sagemath.org/sage.git/commit/?id=984ca4dea63b7aebb9a0ecb62bf4c866e2e090d6)|`Merge branch 'u/dkrenn/asy/SA-generator-log' of git://trac.sagemath.org/sage into t/19944/asy/singularity-analysis-method`|\n|[e1e2ef3](http://git.sagemath.org/sage.git/commit/?id=e1e2ef38791901a5af0dc8884fefab521bbfe7c2)|`Trac #19944: minor restructure of code`|\n|[97249e7](http://git.sagemath.org/sage.git/commit/?id=97249e74a3e0ad2dbb325daefc16d8e0ad0d4f1f)|`Trac #19944: minor improvement of docstrings (whitespaces, punctation, ...)`|\n|[ad62c31](http://git.sagemath.org/sage.git/commit/?id=ad62c3185d95d1711feb65c33f6096d0662e5c84)|`Trac #19944: show element in NotImplementedError`|\n|[9ce7b35](http://git.sagemath.org/sage.git/commit/?id=9ce7b354e32efbbb775157bf7c8232fd5df01cb5)|`Trac #19944: exchange order of parameters var and zeta in _singularity_analysis_`|\n|[c79a6f7](http://git.sagemath.org/sage.git/commit/?id=c79a6f7bbb3f17454a1c6238193696e525a8c0ec)|`Trac #19944: exchange zeta and var in docstrings`|\n|[452c43b](http://git.sagemath.org/sage.git/commit/?id=452c43bdcd74b18f166b9dda4c0936f51032eacc)|`Trac #19944: _singularity_analysis_ methods: more precise documentation`|\n|[23948e4](http://git.sagemath.org/sage.git/commit/?id=23948e43b8038cfe7948fab2f5058cab8f734dbd)|`Merge branch 'u/cheuberg/asy/singularity-analysis-method' of git://trac.sagemath.org/sage into t/19540/asy/factorial`|",
    "created_at": "2016-02-15T09:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350612",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                          |                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[456d8c3](http://git.sagemath.org/sage.git/commit/?id=456d8c383b55ab6ebbbd473370278180177326be)|`Trac #19969: correct whitespaces`|
|[b540598](http://git.sagemath.org/sage.git/commit/?id=b540598bc12c3d4540b0d5114b2e399dff502157)|`Trac #19969: add an additional doctest`|
|[984ca4d](http://git.sagemath.org/sage.git/commit/?id=984ca4dea63b7aebb9a0ecb62bf4c866e2e090d6)|`Merge branch 'u/dkrenn/asy/SA-generator-log' of git://trac.sagemath.org/sage into t/19944/asy/singularity-analysis-method`|
|[e1e2ef3](http://git.sagemath.org/sage.git/commit/?id=e1e2ef38791901a5af0dc8884fefab521bbfe7c2)|`Trac #19944: minor restructure of code`|
|[97249e7](http://git.sagemath.org/sage.git/commit/?id=97249e74a3e0ad2dbb325daefc16d8e0ad0d4f1f)|`Trac #19944: minor improvement of docstrings (whitespaces, punctation, ...)`|
|[ad62c31](http://git.sagemath.org/sage.git/commit/?id=ad62c3185d95d1711feb65c33f6096d0662e5c84)|`Trac #19944: show element in NotImplementedError`|
|[9ce7b35](http://git.sagemath.org/sage.git/commit/?id=9ce7b354e32efbbb775157bf7c8232fd5df01cb5)|`Trac #19944: exchange order of parameters var and zeta in _singularity_analysis_`|
|[c79a6f7](http://git.sagemath.org/sage.git/commit/?id=c79a6f7bbb3f17454a1c6238193696e525a8c0ec)|`Trac #19944: exchange zeta and var in docstrings`|
|[452c43b](http://git.sagemath.org/sage.git/commit/?id=452c43bdcd74b18f166b9dda4c0936f51032eacc)|`Trac #19944: _singularity_analysis_ methods: more precise documentation`|
|[23948e4](http://git.sagemath.org/sage.git/commit/?id=23948e43b8038cfe7948fab2f5058cab8f734dbd)|`Merge branch 'u/cheuberg/asy/singularity-analysis-method' of git://trac.sagemath.org/sage into t/19540/asy/factorial`|



---

archive/issue_comments_350613.json:
```json
{
    "body": "Changing commit from \"139f7c8078f6e86549b43860eca815763f9dc160\" to \"23948e43b8038cfe7948fab2f5058cab8f734dbd\"",
    "created_at": "2016-02-15T09:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350613",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "139f7c8078f6e86549b43860eca815763f9dc160" to "23948e43b8038cfe7948fab2f5058cab8f734dbd"



---

archive/issue_comments_350614.json:
```json
{
    "body": "<a id='comment:8'></a>\nMerged #19944 due to conflicts.",
    "created_at": "2016-02-15T09:47:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350614",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:8'></a>
Merged #19944 due to conflicts.



---

archive/issue_comments_350615.json:
```json
{
    "body": "Changing dependencies from \"#19306, #19521, #19528\" to \"#19306, #19521, #19528, #19944\"",
    "created_at": "2016-02-15T09:47:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350615",
    "user": "https://github.com/dkrenn"
}
```

Changing dependencies from "#19306, #19521, #19528" to "#19306, #19521, #19528, #19944"



---

archive/issue_comments_350616.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2016-02-16T15:52:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350616",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_350617.json:
```json
{
    "body": "<a id='comment:9'></a>\n1. The growth elements call `self.parent()._var_.variable_names()`. I am wondering why they do not simply call `self.parent().variable_names()`.\n2. Why can't a generic growth element decide on its own? It could simply call\n\n```\nif self.is_one():\n   return tuple()\nelse:\n   return self.parent()._var_.variable_names()\n```\n   which would probably end in a desaster if called on a generic growth element, but we are not supposed to instantiate generic growth elements anyway ...\n\nThe rest is fine for me.",
    "created_at": "2016-02-16T15:52:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350617",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:9'></a>
1. The growth elements call `self.parent()._var_.variable_names()`. I am wondering why they do not simply call `self.parent().variable_names()`.
2. Why can't a generic growth element decide on its own? It could simply call

```
if self.is_one():
   return tuple()
else:
   return self.parent()._var_.variable_names()
```
   which would probably end in a desaster if called on a generic growth element, but we are not supposed to instantiate generic growth elements anyway ...

The rest is fine for me.



---

archive/issue_comments_350618.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [cheuberg](#comment%3A9):\n> 1. The growth elements call `self.parent()._var_.variable_names()`. I am wondering why they do not simply call `self.parent().variable_names()`.\n> 2. Why can't a generic growth element decide on its own? It could simply call\n> \n> ```\n> if self.is_one():\n>    return tuple()\n> else:\n>    return self.parent()._var_.variable_names()\n> ```\n>    which would probably end in a desaster if called on a generic growth element, but we are not supposed to instantiate generic growth elements anyway ...\n\n\n1+2: In the way it is it allows to build `n.factorial()` starting in `AsymptoticRing('m^QQ * n^QQ', QQ)`; `self.parent().variable_names()` would not allow this.",
    "created_at": "2016-02-16T15:56:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350618",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:10'></a>
Replying to [cheuberg](#comment%3A9):
> 1. The growth elements call `self.parent()._var_.variable_names()`. I am wondering why they do not simply call `self.parent().variable_names()`.
> 2. Why can't a generic growth element decide on its own? It could simply call
> 
> ```
> if self.is_one():
>    return tuple()
> else:
>    return self.parent()._var_.variable_names()
> ```
>    which would probably end in a desaster if called on a generic growth element, but we are not supposed to instantiate generic growth elements anyway ...


1+2: In the way it is it allows to build `n.factorial()` starting in `AsymptoticRing('m^QQ * n^QQ', QQ)`; `self.parent().variable_names()` would not allow this.



---

archive/issue_comments_350619.json:
```json
{
    "body": "<a id='comment:11'></a>\n1. This would not change functionality, but the parent has a method, why not calling it.\n2. The generic implementation proposed here would be usable for all growth groups except products, but those have to implement their own method anyway.",
    "created_at": "2016-02-16T17:13:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350619",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:11'></a>
1. This would not change functionality, but the parent has a method, why not calling it.
2. The generic implementation proposed here would be usable for all growth groups except products, but those have to implement their own method anyway.



---

archive/issue_comments_350620.json:
```json
{
    "body": "Changing commit from \"23948e43b8038cfe7948fab2f5058cab8f734dbd\" to \"3bd6573796bda4091a17b81bef1ede91e3295318\"",
    "created_at": "2016-02-16T19:25:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350620",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "23948e43b8038cfe7948fab2f5058cab8f734dbd" to "3bd6573796bda4091a17b81bef1ede91e3295318"



---

archive/issue_comments_350621.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[3bd6573](http://git.sagemath.org/sage.git/commit/?id=3bd6573796bda4091a17b81bef1ede91e3295318)|`Trac #19540: collect and compactify various variable_names methods`|",
    "created_at": "2016-02-16T19:25:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350621",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[3bd6573](http://git.sagemath.org/sage.git/commit/?id=3bd6573796bda4091a17b81bef1ede91e3295318)|`Trac #19540: collect and compactify various variable_names methods`|



---

archive/issue_comments_350622.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [cheuberg](#comment%3A11):\n> 1. This would not change functionality, but the parent has a method, why not calling it.\n> 2. The generic implementation proposed here would be usable for all growth groups except products, but those have to implement their own method anyway.\n\n\nNow I understand. Code rewritten.",
    "created_at": "2016-02-16T19:26:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350622",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:13'></a>
Replying to [cheuberg](#comment%3A11):
> 1. This would not change functionality, but the parent has a method, why not calling it.
> 2. The generic implementation proposed here would be usable for all growth groups except products, but those have to implement their own method anyway.


Now I understand. Code rewritten.



---

archive/issue_comments_350623.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2016-02-16T19:26:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350623",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_350624.json:
```json
{
    "body": "Changing branch from \"u/dkrenn/asy/factorial\" to \"u/cheuberg/asy/factorial\"",
    "created_at": "2016-02-17T16:20:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350624",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "u/dkrenn/asy/factorial" to "u/cheuberg/asy/factorial"



---

archive/issue_comments_350625.json:
```json
{
    "body": "Changing commit from \"3bd6573796bda4091a17b81bef1ede91e3295318\" to \"0e6a0c554fbff9ba6fd36f5309e9ec6e7a8eb7f3\"",
    "created_at": "2016-02-17T16:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350625",
    "user": "https://github.com/cheuberg"
}
```

Changing commit from "3bd6573796bda4091a17b81bef1ede91e3295318" to "0e6a0c554fbff9ba6fd36f5309e9ec6e7a8eb7f3"



---

archive/issue_comments_350626.json:
```json
{
    "body": "<a id='comment:15'></a>\nI added a doctest because I wanted to know what happens for a generic growth group. At first glance, it was surprising that I do get an `AttributeError` instead of a `NotImplementedError`. The method `is_one` seems to be contributed by the category.\n\nI noticed that the docstring of `GenericGrowthGroup` (and the other growth groups) says \"It has to be a subcategory of Join of Category of groups and Category of posets. This is also the default category if None is specified.\" which is a relict from the past.\n\nFurthermore, we have\n\n```\n    # set everything up to determine category\n    from sage.categories.sets_cat import Sets\n    from sage.categories.posets import Posets\n    from sage.categories.magmas import Magmas\n    from sage.categories.additive_magmas import AdditiveMagmas\n```\nin the class `GenericGrowthGroup` which shows all these Categories in the documentation, similar as #20045.\n\nShall we fix those in a separate ticket or right here?\n\nPlease cross-review my commit and set to positive_review if you are satisfied.\n\n---\nNew commits:\n|                                                                                                                                          |                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[0e6a0c5](http://git.sagemath.org/sage.git/commit/?id=0e6a0c554fbff9ba6fd36f5309e9ec6e7a8eb7f3)|`Trac #19540: additional doctest`|",
    "created_at": "2016-02-17T16:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350626",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:15'></a>
I added a doctest because I wanted to know what happens for a generic growth group. At first glance, it was surprising that I do get an `AttributeError` instead of a `NotImplementedError`. The method `is_one` seems to be contributed by the category.

I noticed that the docstring of `GenericGrowthGroup` (and the other growth groups) says "It has to be a subcategory of Join of Category of groups and Category of posets. This is also the default category if None is specified." which is a relict from the past.

Furthermore, we have

```
    # set everything up to determine category
    from sage.categories.sets_cat import Sets
    from sage.categories.posets import Posets
    from sage.categories.magmas import Magmas
    from sage.categories.additive_magmas import AdditiveMagmas
```
in the class `GenericGrowthGroup` which shows all these Categories in the documentation, similar as #20045.

Shall we fix those in a separate ticket or right here?

Please cross-review my commit and set to positive_review if you are satisfied.

---
New commits:
|                                                                                                                                          |                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[0e6a0c5](http://git.sagemath.org/sage.git/commit/?id=0e6a0c554fbff9ba6fd36f5309e9ec6e7a8eb7f3)|`Trac #19540: additional doctest`|



---

archive/issue_comments_350627.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [cheuberg](#comment%3A15):\n> I added a doctest because I wanted to know what happens for a generic growth group. At first glance, it was surprising that I do get an `AttributeError` instead of a `NotImplementedError`. The method `is_one` seems to be contributed by the category.\n> \n> I noticed that the docstring of `GenericGrowthGroup` (and the other growth groups) says \"It has to be a subcategory of Join of Category of groups and Category of posets. This is also the default category if None is specified.\" which is a relict from the past.\n> \n> Furthermore, we have\n> \n> ```\n>     # set everything up to determine category\n>     from sage.categories.sets_cat import Sets\n>     from sage.categories.posets import Posets\n>     from sage.categories.magmas import Magmas\n>     from sage.categories.additive_magmas import AdditiveMagmas\n> ```\n> in the class `GenericGrowthGroup` which shows all these Categories in the documentation, similar as #20045.\n> \n> Shall we fix those in a separate ticket or right here?\n\n\nThis is now #20077.\n\n> Please cross-review my commit and set to positive_review if you are satisfied.\n\n\nDone.",
    "created_at": "2016-02-17T18:38:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350627",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:16'></a>
Replying to [cheuberg](#comment%3A15):
> I added a doctest because I wanted to know what happens for a generic growth group. At first glance, it was surprising that I do get an `AttributeError` instead of a `NotImplementedError`. The method `is_one` seems to be contributed by the category.
> 
> I noticed that the docstring of `GenericGrowthGroup` (and the other growth groups) says "It has to be a subcategory of Join of Category of groups and Category of posets. This is also the default category if None is specified." which is a relict from the past.
> 
> Furthermore, we have
> 
> ```
>     # set everything up to determine category
>     from sage.categories.sets_cat import Sets
>     from sage.categories.posets import Posets
>     from sage.categories.magmas import Magmas
>     from sage.categories.additive_magmas import AdditiveMagmas
> ```
> in the class `GenericGrowthGroup` which shows all these Categories in the documentation, similar as #20045.
> 
> Shall we fix those in a separate ticket or right here?


This is now #20077.

> Please cross-review my commit and set to positive_review if you are satisfied.


Done.



---

archive/issue_comments_350628.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-02-17T18:38:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350628",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_350629.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-02-18T08:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350629",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_053814.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-02-18T08:24:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19540#event-53814"
}
```



---

archive/issue_comments_350630.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/asy/factorial\" to \"0e6a0c554fbff9ba6fd36f5309e9ec6e7a8eb7f3\"",
    "created_at": "2016-02-18T08:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19540#issuecomment-350630",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/cheuberg/asy/factorial" to "0e6a0c554fbff9ba6fd36f5309e9ec6e7a8eb7f3"
