# Issue 19615: interval-posets in Tamari again : hash and plot

archive/issues_019378.json:
```json
{
    "body": "#19593 was a failed attempt to correct the hash\n\nand let us also introduce a nice plot method, using the same coordinates\nas the existing latex method\n\n**CC:**  vivianepons @rodgzilla @jm58660\n\n**Branch/Commit:** [aa199f4a37fd29bb71df1a93f76d670fdb3749af](https://github.com/sagemath/sagetrac-mirror/commit/aa199f4a37fd29bb71df1a93f76d670fdb3749af)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19615\n\n",
    "closed_at": "2016-01-23T20:42:34Z",
    "created_at": "2015-11-23T09:51:54Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "interval-posets in Tamari again : hash and plot",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19615",
    "user": "https://github.com/fchapoton"
}
```
#19593 was a failed attempt to correct the hash

and let us also introduce a nice plot method, using the same coordinates
as the existing latex method

**CC:**  vivianepons @rodgzilla @jm58660

**Branch/Commit:** [aa199f4a37fd29bb71df1a93f76d670fdb3749af](https://github.com/sagemath/sagetrac-mirror/commit/aa199f4a37fd29bb71df1a93f76d670fdb3749af)

**Reviewer:** Travis Scrimshaw

**Author:** Frédéric Chapoton

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/19615





---

archive/issue_comments_355722.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af021c2947656cae8f737ceca658cecd5e5d8c62\">af021c2</a></td><td><code>interval-posets: really fixing hash, and introducing plot method</code></td></tr></table>\n",
    "created_at": "2015-11-23T09:52:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355722",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af021c2947656cae8f737ceca658cecd5e5d8c62">af021c2</a></td><td><code>interval-posets: really fixing hash, and introducing plot method</code></td></tr></table>




---

archive/issue_comments_355723.json:
```json
{
    "body": "**Commit:** [af021c2947656cae8f737ceca658cecd5e5d8c62](https://github.com/sagemath/sagetrac-mirror/commit/af021c2947656cae8f737ceca658cecd5e5d8c62)",
    "created_at": "2015-11-23T09:52:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355723",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [af021c2947656cae8f737ceca658cecd5e5d8c62](https://github.com/sagemath/sagetrac-mirror/commit/af021c2947656cae8f737ceca658cecd5e5d8c62)



---

archive/issue_comments_355724.json:
```json
{
    "body": "**Branch:** [u/chapoton/19615](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/19615)",
    "created_at": "2015-11-23T09:52:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355724",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/19615](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/19615)



---

archive/issue_comments_355725.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2015-11-23T15:45:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355725",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_355726.json:
```json
{
    "body": "<a id='comment:4'></a>\nbot is green.",
    "created_at": "2015-11-23T21:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355726",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
bot is green.



---

archive/issue_events_061290.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-12-21T05:58:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "milestone": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19615#event-61290"
}
```



---

archive/issue_comments_355727.json:
```json
{
    "body": "<a id='comment:6'></a>\nSeems to work and passed tests, but why `graph_border=True` as a default? It differs from `plot()` of other posets and graphs, and it is not even possible to override by user.\n\n(I did not read the node positioning code, just assumed that you moved working code block to another location, which seems to be the case.)",
    "created_at": "2015-12-21T07:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355727",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>
Seems to work and passed tests, but why `graph_border=True` as a default? It differs from `plot()` of other posets and graphs, and it is not even possible to override by user.

(I did not read the node positioning code, just assumed that you moved working code block to another location, which seems to be the case.)



---

archive/issue_comments_355728.json:
```json
{
    "body": "**Changing commit** from \"[af021c2947656cae8f737ceca658cecd5e5d8c62](https://github.com/sagemath/sagetrac-mirror/commit/af021c2947656cae8f737ceca658cecd5e5d8c62)\" to \"[e1e2da07ed921acedcc7a6f2b0b28551a3f851da](https://github.com/sagemath/sagetrac-mirror/commit/e1e2da07ed921acedcc7a6f2b0b28551a3f851da)\".",
    "created_at": "2015-12-21T10:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355728",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[af021c2947656cae8f737ceca658cecd5e5d8c62](https://github.com/sagemath/sagetrac-mirror/commit/af021c2947656cae8f737ceca658cecd5e5d8c62)" to "[e1e2da07ed921acedcc7a6f2b0b28551a3f851da](https://github.com/sagemath/sagetrac-mirror/commit/e1e2da07ed921acedcc7a6f2b0b28551a3f851da)".



---

archive/issue_comments_355729.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09228eaefa5c55f1599d65d1292ce6e457b74ce3\">09228ea</a></td><td><code>Merge branch 'u/chapoton/19615' into 6.10</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1e2da07ed921acedcc7a6f2b0b28551a3f851da\">e1e2da0</a></td><td><code>trac #19615 remove the border=True option</code></td></tr></table>\n",
    "created_at": "2015-12-21T10:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355729",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09228eaefa5c55f1599d65d1292ce6e457b74ce3">09228ea</a></td><td><code>Merge branch 'u/chapoton/19615' into 6.10</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1e2da07ed921acedcc7a6f2b0b28551a3f851da">e1e2da0</a></td><td><code>trac #19615 remove the border=True option</code></td></tr></table>




---

archive/issue_comments_355730.json:
```json
{
    "body": "<a id='comment:8'></a>\nHello, thanks for having a look.\n\nI have removed the `border=True` option.\n\nYes indeed, I just moved the cordinate-computing code. It should not have changed anything in the view method results. You may want to check that the latex pictures before and after the ticket are the same. You can get examples to look at from the `list(TamariIntervalPosets(5))` for instance.\n\nI think the hash is good to go. This is what I really need for my work.\n\nThere remains a question about the eventual possibility to choose the colors in \"plot\".\nI do not really care, but if you want, this can be done.\n\nFrederic",
    "created_at": "2015-12-21T10:31:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355730",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
Hello, thanks for having a look.

I have removed the `border=True` option.

Yes indeed, I just moved the cordinate-computing code. It should not have changed anything in the view method results. You may want to check that the latex pictures before and after the ticket are the same. You can get examples to look at from the `list(TamariIntervalPosets(5))` for instance.

I think the hash is good to go. This is what I really need for my work.

There remains a question about the eventual possibility to choose the colors in "plot".
I do not really care, but if you want, this can be done.

Frederic



---

archive/issue_comments_355731.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [chapoton](#comment%3A8):\n\n> Yes indeed, I just moved the cordinate-computing code. It should not have changed anything in the view method results. You may want to check that the latex pictures before and after the ticket are the same. You can get examples to look at from the `list(TamariIntervalPosets(5))` for instance.\n\n\nI did not test, but I tested with `dot2tex` installed and after `T = TamariIntervalPosets(6)` I got different pictures from `T[1350].plot()` and `T[1350]._latex_()`. Like one blue and two red lines missing. Node positioning is the same. Maybe you have tested only without `dot2tex`? (Compare for example to #18936 that has same kind of problem.)\n\n> There remains a question about the eventual possibility to choose the colors in \"plot\".\n> I do not really care, but if you want, this can be done.\n\n\nMaybe it best to start with #13827 and then think about general poset `plot()` and only after those think about colors in this one.",
    "created_at": "2015-12-21T10:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355731",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:9'></a>
Replying to [chapoton](#comment%3A8):

> Yes indeed, I just moved the cordinate-computing code. It should not have changed anything in the view method results. You may want to check that the latex pictures before and after the ticket are the same. You can get examples to look at from the `list(TamariIntervalPosets(5))` for instance.


I did not test, but I tested with `dot2tex` installed and after `T = TamariIntervalPosets(6)` I got different pictures from `T[1350].plot()` and `T[1350]._latex_()`. Like one blue and two red lines missing. Node positioning is the same. Maybe you have tested only without `dot2tex`? (Compare for example to #18936 that has same kind of problem.)

> There remains a question about the eventual possibility to choose the colors in "plot".
> I do not really care, but if you want, this can be done.


Maybe it best to start with #13827 and then think about general poset `plot()` and only after those think about colors in this one.



---

archive/issue_comments_355732.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [jmantysalo](#comment%3A9):\n> Replying to [chapoton](#comment%3A8):\n> \n> > Yes indeed, I just moved the cordinate-computing code. It should not have changed anything in the view method results. You may want to check that the latex pictures before and after the ticket are the same. You can get examples to look at from the `list(TamariIntervalPosets(5))` for instance.\n\n> \n> I did not test, but I tested with `dot2tex` installed and after `T = TamariIntervalPosets(6)` I got different pictures from `T[1350].plot()` and `T[1350]._latex_()`. Like one blue and two red lines missing. Node positioning is the same. Maybe you have tested only without `dot2tex`? (Compare for example to #18936 that has same kind of problem.)\n\n\nok, damn. I had checked on smaller examples, and the pictures were the same.\nI think one could simply add a warning/explanation that the pictures are different:\n\n* the plot is the Hasse diagram of the poset, with two colors for increasing/decreasing covers\n\n* the view is the union of two Hasse diagrams of the increasing forest and decreasing forest.\n\nWould you agree with this solution ?",
    "created_at": "2015-12-21T14:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355732",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
Replying to [jmantysalo](#comment%3A9):
> Replying to [chapoton](#comment%3A8):
> 
> > Yes indeed, I just moved the cordinate-computing code. It should not have changed anything in the view method results. You may want to check that the latex pictures before and after the ticket are the same. You can get examples to look at from the `list(TamariIntervalPosets(5))` for instance.

> 
> I did not test, but I tested with `dot2tex` installed and after `T = TamariIntervalPosets(6)` I got different pictures from `T[1350].plot()` and `T[1350]._latex_()`. Like one blue and two red lines missing. Node positioning is the same. Maybe you have tested only without `dot2tex`? (Compare for example to #18936 that has same kind of problem.)


ok, damn. I had checked on smaller examples, and the pictures were the same.
I think one could simply add a warning/explanation that the pictures are different:

* the plot is the Hasse diagram of the poset, with two colors for increasing/decreasing covers

* the view is the union of two Hasse diagrams of the increasing forest and decreasing forest.

Would you agree with this solution ?



---

archive/issue_comments_355733.json:
```json
{
    "body": "<a id='comment:11'></a>\nSo this was *not* a `dot2tex` issue?\n\nTo be able to comment your suggestion I must understand this better. I will comment this eventually, but for now this is ready for others to comment and review.",
    "created_at": "2015-12-21T18:49:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355733",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:11'></a>
So this was *not* a `dot2tex` issue?

To be able to comment your suggestion I must understand this better. I will comment this eventually, but for now this is ready for others to comment and review.



---

archive/issue_comments_355734.json:
```json
{
    "body": "**Changing commit** from \"[e1e2da07ed921acedcc7a6f2b0b28551a3f851da](https://github.com/sagemath/sagetrac-mirror/commit/e1e2da07ed921acedcc7a6f2b0b28551a3f851da)\" to \"[aa199f4a37fd29bb71df1a93f76d670fdb3749af](https://github.com/sagemath/sagetrac-mirror/commit/aa199f4a37fd29bb71df1a93f76d670fdb3749af)\".",
    "created_at": "2015-12-22T08:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355734",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e1e2da07ed921acedcc7a6f2b0b28551a3f851da](https://github.com/sagemath/sagetrac-mirror/commit/e1e2da07ed921acedcc7a6f2b0b28551a3f851da)" to "[aa199f4a37fd29bb71df1a93f76d670fdb3749af](https://github.com/sagemath/sagetrac-mirror/commit/aa199f4a37fd29bb71df1a93f76d670fdb3749af)".



---

archive/issue_comments_355735.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa199f4a37fd29bb71df1a93f76d670fdb3749af\">aa199f4</a></td><td><code>trac #19615 more explanations on difference between plot and view</code></td></tr></table>\n",
    "created_at": "2015-12-22T08:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355735",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa199f4a37fd29bb71df1a93f76d670fdb3749af">aa199f4</a></td><td><code>trac #19615 more explanations on difference between plot and view</code></td></tr></table>




---

archive/issue_comments_355736.json:
```json
{
    "body": "<a id='comment:13'></a>\nping ! please someone review ! Gregory ?",
    "created_at": "2016-01-20T09:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355736",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
ping ! please someone review ! Gregory ?



---

archive/issue_events_061291.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-01-21T20:13:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "milestone": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19615#event-61291"
}
```



---

archive/issue_events_061292.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-01-21T20:13:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19615#event-61292"
}
```



---

archive/issue_comments_355737.json:
```json
{
    "body": "<a id='comment:14'></a>\n***ping***",
    "created_at": "2016-01-21T20:13:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355737",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
***ping***



---

archive/issue_comments_355738.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2016-01-21T21:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355738",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_355739.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2016-01-21T21:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355739",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_355740.json:
```json
{
    "body": "<a id='comment:15'></a>\nLGTM. Perhaps as a follow-up, we could include the arrows in the latex version of a Tamari interval poset (so it matches the output of `plot`).",
    "created_at": "2016-01-21T21:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355740",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>
LGTM. Perhaps as a follow-up, we could include the arrows in the latex version of a Tamari interval poset (so it matches the output of `plot`).



---

archive/issue_comments_355741.json:
```json
{
    "body": "<a id='comment:16'></a>\nThanks Travis !",
    "created_at": "2016-01-22T10:05:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355741",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
Thanks Travis !



---

archive/issue_events_061293.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-23T20:42:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19615#event-61293"
}
```



---

archive/issue_comments_355742.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2016-01-23T20:42:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355742",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_355743.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/19615](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/19615)\" to \"[aa199f4a37fd29bb71df1a93f76d670fdb3749af](https://github.com/sagemath/sagetrac-mirror/commit/aa199f4a37fd29bb71df1a93f76d670fdb3749af)\".",
    "created_at": "2016-01-23T20:42:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19615#issuecomment-355743",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/19615](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/19615)" to "[aa199f4a37fd29bb71df1a93f76d670fdb3749af](https://github.com/sagemath/sagetrac-mirror/commit/aa199f4a37fd29bb71df1a93f76d670fdb3749af)".
