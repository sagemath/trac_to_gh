# Issue 19619: Simplify words.py

archive/issues_019382.json:
```json
{
    "assignees": [],
    "body": "Currently we have too many parent for words:\n- for finite and infinite words (`Words_all`, `Words_over_alphabet`, `Words_over_OrderedAlphabet`)\n- finite words (`FiniteWords_over_OrderedAlphabet`)\n- infinite words (`InfiniteWords_over_OrderedAlphabet`)\n- words of fixed length (`FiniteWords_length_k_over_OrderedAlphabet` and `Words_n`)\n\nThis lead to subtle bug like\n\n```\nsage: W = Words([0,1], finite=False, infinite=True)\nsage: u = W.an_element()\nsage: u[2:5].parent()   # a finite word !!\nInfinite Words over {0, 1}\n```\n\nThe proposal of this ticket is to have only four classes:\n- `FiniteWords`\n- `Words_n`: words of length `n` (as a slice of the one before)\n- `InfiniteWords` (or `FullShift`)\n- `FiniteOrInfiniteWords`\nThe parent `FiniteWords` should hence have a method `.shift()` that return the associated shift (e.g `u ** Infinity` will belong there). Similarly, the parent `InfiniteWords` should have a method `.factors()` that return the set of factors (and finite slices will belong there).\n\nWe also:\n\n- deprecate `size_of_alphabet` and `has_letter`\n- use a bit more of categories in `lyndon_word.py`\n- use more often `Word_char` if possible\n- implement a better iterator for periodic points that avoids computing huge power of the morphism (that is not always doable)\n\nCC:  @seblabbe\n\nBranch/Commit: **[`4fd6556`](https://github.com/sagemath/sagetrac-mirror/commit/4fd6556a85deb5b43c571ec7a200570e47e684f6)**\n\nReviewer: **S\u00e9bastien Labb\u00e9**\n\nAuthor: **Vincent Delecroix**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19619_\n\n",
    "closed_at": "2015-12-08T16:27:16Z",
    "created_at": "2015-11-24T22:40:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Simplify words.py",
    "type": "issue",
    "updated_at": "2015-12-08T16:27:16Z",
    "url": "https://github.com/sagemath/sage/issues/19619",
    "user": "https://github.com/videlec"
}
```
Currently we have too many parent for words:
- for finite and infinite words (`Words_all`, `Words_over_alphabet`, `Words_over_OrderedAlphabet`)
- finite words (`FiniteWords_over_OrderedAlphabet`)
- infinite words (`InfiniteWords_over_OrderedAlphabet`)
- words of fixed length (`FiniteWords_length_k_over_OrderedAlphabet` and `Words_n`)

This lead to subtle bug like

```
sage: W = Words([0,1], finite=False, infinite=True)
sage: u = W.an_element()
sage: u[2:5].parent()   # a finite word !!
Infinite Words over {0, 1}
```

The proposal of this ticket is to have only four classes:
- `FiniteWords`
- `Words_n`: words of length `n` (as a slice of the one before)
- `InfiniteWords` (or `FullShift`)
- `FiniteOrInfiniteWords`
The parent `FiniteWords` should hence have a method `.shift()` that return the associated shift (e.g `u ** Infinity` will belong there). Similarly, the parent `InfiniteWords` should have a method `.factors()` that return the set of factors (and finite slices will belong there).

We also:

- deprecate `size_of_alphabet` and `has_letter`
- use a bit more of categories in `lyndon_word.py`
- use more often `Word_char` if possible
- implement a better iterator for periodic points that avoids computing huge power of the morphism (that is not always doable)

CC:  @seblabbe

Branch/Commit: **[`4fd6556`](https://github.com/sagemath/sagetrac-mirror/commit/4fd6556a85deb5b43c571ec7a200570e47e684f6)**

Reviewer: **Sébastien Labbé**

Author: **Vincent Delecroix**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/19619_





---

archive/issue_events_277815.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-24T22:40:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277815"
}
```



---

archive/issue_events_277816.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-24T22:40:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277816"
}
```



---

archive/issue_events_277817.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-24T22:40:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277817"
}
```



---

archive/issue_events_277818.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-24T22:40:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277818"
}
```



---

archive/issue_comments_279849.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nSounds great. I will be reviewing this.",
    "created_at": "2015-11-25T09:55:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279849",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:1" align="right">comment:1</div>

Sounds great. I will be reviewing this.



---

archive/issue_comments_279850.json:
```json
{
    "body": "Branch: **[u/vdelecroix/19619](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/19619)**",
    "created_at": "2015-11-25T20:08:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279850",
    "user": "https://github.com/videlec"
}
```

Branch: **[u/vdelecroix/19619](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/19619)**



---

archive/issue_comments_279851.json:
```json
{
    "body": "Commit: **[`fc24b01`](https://github.com/sagemath/sagetrac-mirror/commit/fc24b013baa42774d80d1aef9d03009d676329fe)**",
    "created_at": "2015-11-25T20:08:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279851",
    "user": "https://github.com/videlec"
}
```

Commit: **[`fc24b01`](https://github.com/sagemath/sagetrac-mirror/commit/fc24b013baa42774d80d1aef9d03009d676329fe)**



---

archive/issue_comments_279852.json:
```json
{
    "body": "Author: **Vincent Delecroix**",
    "created_at": "2015-11-25T20:08:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279852",
    "user": "https://github.com/videlec"
}
```

Author: **Vincent Delecroix**



---

archive/issue_events_277819.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-25T20:08:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277819"
}
```



---

archive/issue_comments_279853.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nIt took me much more time than expected... It is not yet completely finished but all tests pass in `combinat/words/`, `combinat/lyndon_word.py` and `combinat/e_one_star.py`.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d945662611aa103611ada384c74908c058a9bcf\">4d94566</a></td><td><code>Trac 19619: simplify words.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc24b013baa42774d80d1aef9d03009d676329fe\">fc24b01</a></td><td><code>Trac 19619: fix Lyndon words</code></td></tr></table>\n",
    "created_at": "2015-11-25T20:08:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279853",
    "user": "https://github.com/videlec"
}
```

<div id="comment:2" align="right">comment:2</div>

It took me much more time than expected... It is not yet completely finished but all tests pass in `combinat/words/`, `combinat/lyndon_word.py` and `combinat/e_one_star.py`.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d945662611aa103611ada384c74908c058a9bcf">4d94566</a></td><td><code>Trac 19619: simplify words.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc24b013baa42774d80d1aef9d03009d676329fe">fc24b01</a></td><td><code>Trac 19619: fix Lyndon words</code></td></tr></table>




---

archive/issue_comments_279854.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,8 +13,16 @@\n Infinite Words over {0, 1}\n ```\n \n-The proposal of this ticket is to have only three classes:\n+The proposal of this ticket is to have only four classes:\n - `FiniteWords`\n - `Words_n`: words of length `n` (as a slice of the one before)\n - `InfiniteWords` (or `FullShift`)\n+- `FiniteAndInfiniteWords`\n The parent `FiniteWords` should hence have a method `.shift()` that return the associated shift (e.g `u ** Infinity` will belong there). Similarly, the parent `InfiniteWords` should have a method `.factors()` that return the set of factors (and finite slices will belong there).\n+\n+We also:\n+\n+- deprecate `size_of_alphabet` and `has_letter`\n+- use a bit more of categories in `lyndon_word.py`\n+- use more often `Word_char` if possible\n+- implement a better iterator for periodic points that avoids computing huge power of the morphism (that is not always doable)\n``````\n",
    "created_at": "2015-11-25T20:12:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279854",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,8 +13,16 @@
 Infinite Words over {0, 1}
 ```
 
-The proposal of this ticket is to have only three classes:
+The proposal of this ticket is to have only four classes:
 - `FiniteWords`
 - `Words_n`: words of length `n` (as a slice of the one before)
 - `InfiniteWords` (or `FullShift`)
+- `FiniteAndInfiniteWords`
 The parent `FiniteWords` should hence have a method `.shift()` that return the associated shift (e.g `u ** Infinity` will belong there). Similarly, the parent `InfiniteWords` should have a method `.factors()` that return the set of factors (and finite slices will belong there).
+
+We also:
+
+- deprecate `size_of_alphabet` and `has_letter`
+- use a bit more of categories in `lyndon_word.py`
+- use more often `Word_char` if possible
+- implement a better iterator for periodic points that avoids computing huge power of the morphism (that is not always doable)
``````




---

archive/issue_comments_279855.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e16fd47239c7ce091c6526e1eacf0e6948bd69c3\">e16fd47</a></td><td><code>Trac 19619: fix digraph generators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c86a5fff5812e75dc98454f4cb9217f73d537465\">c86a5ff</a></td><td><code>Trac 19619: fix continued fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ccf3844996cc9ee9fe64e8e916222c8a833da01\">3ccf384</a></td><td><code>Trac 19619: cardinality for set of words</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cdf5d7aa518e7a736c2152873636d6567fb9ab8\">3cdf5d7</a></td><td><code>Trac 19619: doc in algebras with basis</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eddb67cbd7ed7284b130b927fec09d97c42d8376\">eddb67c</a></td><td><code>Trac 19619: doc in finite state machine</code></td></tr></table>\n",
    "created_at": "2015-11-25T21:53:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279855",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e16fd47239c7ce091c6526e1eacf0e6948bd69c3">e16fd47</a></td><td><code>Trac 19619: fix digraph generators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c86a5fff5812e75dc98454f4cb9217f73d537465">c86a5ff</a></td><td><code>Trac 19619: fix continued fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ccf3844996cc9ee9fe64e8e916222c8a833da01">3ccf384</a></td><td><code>Trac 19619: cardinality for set of words</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cdf5d7aa518e7a736c2152873636d6567fb9ab8">3cdf5d7</a></td><td><code>Trac 19619: doc in algebras with basis</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eddb67cbd7ed7284b130b927fec09d97c42d8376">eddb67c</a></td><td><code>Trac 19619: doc in finite state machine</code></td></tr></table>




---

archive/issue_comments_279856.json:
```json
{
    "body": "Changed commit from **[`fc24b01`](https://github.com/sagemath/sagetrac-mirror/commit/fc24b013baa42774d80d1aef9d03009d676329fe)** to **[`eddb67c`](https://github.com/sagemath/sagetrac-mirror/commit/eddb67cbd7ed7284b130b927fec09d97c42d8376)**",
    "created_at": "2015-11-25T21:53:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279856",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fc24b01`](https://github.com/sagemath/sagetrac-mirror/commit/fc24b013baa42774d80d1aef9d03009d676329fe)** to **[`eddb67c`](https://github.com/sagemath/sagetrac-mirror/commit/eddb67cbd7ed7284b130b927fec09d97c42d8376)**



---

archive/issue_comments_279857.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0917c15693fc71c6f3b3d5795d0744f82d9da5f5\">0917c15</a></td><td><code>Trac 19619: fix unpickling</code></td></tr></table>\n",
    "created_at": "2015-11-25T22:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279857",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0917c15693fc71c6f3b3d5795d0744f82d9da5f5">0917c15</a></td><td><code>Trac 19619: fix unpickling</code></td></tr></table>




---

archive/issue_comments_279858.json:
```json
{
    "body": "Changed commit from **[`eddb67c`](https://github.com/sagemath/sagetrac-mirror/commit/eddb67cbd7ed7284b130b927fec09d97c42d8376)** to **[`0917c15`](https://github.com/sagemath/sagetrac-mirror/commit/0917c15693fc71c6f3b3d5795d0744f82d9da5f5)**",
    "created_at": "2015-11-25T22:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279858",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eddb67c`](https://github.com/sagemath/sagetrac-mirror/commit/eddb67cbd7ed7284b130b927fec09d97c42d8376)** to **[`0917c15`](https://github.com/sagemath/sagetrac-mirror/commit/0917c15693fc71c6f3b3d5795d0744f82d9da5f5)**



---

archive/issue_comments_279859.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nWhat a mess this unpickling stuff!!!",
    "created_at": "2015-11-25T22:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279859",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">comment:6</div>

What a mess this unpickling stuff!!!



---

archive/issue_comments_279860.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab9f0e10ff70cbb1a87f3f7179db7e572ed3771c\">ab9f0e1</a></td><td><code>Trac 19619: typo</code></td></tr></table>\n",
    "created_at": "2015-11-26T10:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279860",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab9f0e10ff70cbb1a87f3f7179db7e572ed3771c">ab9f0e1</a></td><td><code>Trac 19619: typo</code></td></tr></table>




---

archive/issue_comments_279861.json:
```json
{
    "body": "Changed commit from **[`0917c15`](https://github.com/sagemath/sagetrac-mirror/commit/0917c15693fc71c6f3b3d5795d0744f82d9da5f5)** to **[`ab9f0e1`](https://github.com/sagemath/sagetrac-mirror/commit/ab9f0e10ff70cbb1a87f3f7179db7e572ed3771c)**",
    "created_at": "2015-11-26T10:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279861",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0917c15`](https://github.com/sagemath/sagetrac-mirror/commit/0917c15693fc71c6f3b3d5795d0744f82d9da5f5)** to **[`ab9f0e1`](https://github.com/sagemath/sagetrac-mirror/commit/ab9f0e10ff70cbb1a87f3f7179db7e572ed3771c)**



---

archive/issue_comments_279862.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/661588fc93cd6d90caec33d1adfe5755983ae871\">661588f</a></td><td><code>Trac 19619: bad input block</code></td></tr></table>\n",
    "created_at": "2015-11-26T10:40:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279862",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/661588fc93cd6d90caec33d1adfe5755983ae871">661588f</a></td><td><code>Trac 19619: bad input block</code></td></tr></table>




---

archive/issue_comments_279863.json:
```json
{
    "body": "Changed commit from **[`ab9f0e1`](https://github.com/sagemath/sagetrac-mirror/commit/ab9f0e10ff70cbb1a87f3f7179db7e572ed3771c)** to **[`661588f`](https://github.com/sagemath/sagetrac-mirror/commit/661588fc93cd6d90caec33d1adfe5755983ae871)**",
    "created_at": "2015-11-26T10:40:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279863",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ab9f0e1`](https://github.com/sagemath/sagetrac-mirror/commit/ab9f0e10ff70cbb1a87f3f7179db7e572ed3771c)** to **[`661588f`](https://github.com/sagemath/sagetrac-mirror/commit/661588fc93cd6d90caec33d1adfe5755983ae871)**



---

archive/issue_comments_279864.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAll tests pass!",
    "created_at": "2015-11-26T14:13:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279864",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">comment:9</div>

All tests pass!



---

archive/issue_comments_279865.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nIs it ready for review? I saw a TODO in the diff...",
    "created_at": "2015-11-26T14:18:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279865",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:10" align="right">comment:10</div>

Is it ready for review? I saw a TODO in the diff...



---

archive/issue_comments_279866.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@seblabbe](#comment:10):\n> Is it ready for review? I saw a TODO in the diff...\n\nRead for review. The TODO can be removed. It was because of the `cmp_letters` method. Now its status is decided on construction as follows\n\n```\n        if alphabet.cardinality() == Infinity or \\\n           (alphabet.cardinality() < 36 and\n            all(alphabet.unrank(i) > alphabet.unrank(j) for\n            i in range(min(36,alphabet.cardinality())) for j in range(i))):\n            self.cmp_letters = cmp\n        else:\n            self.cmp_letters = self._cmp_letters\n```\nwhere `_cmp_letters` is the previous version which compares by ranking in the alphabet. It is of course not ideal, but I think that we should get rid of this `cmp_letters` anyway.",
    "created_at": "2015-11-26T14:23:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279866",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@seblabbe](#comment:10):
> Is it ready for review? I saw a TODO in the diff...

Read for review. The TODO can be removed. It was because of the `cmp_letters` method. Now its status is decided on construction as follows

```
        if alphabet.cardinality() == Infinity or \
           (alphabet.cardinality() < 36 and
            all(alphabet.unrank(i) > alphabet.unrank(j) for
            i in range(min(36,alphabet.cardinality())) for j in range(i))):
            self.cmp_letters = cmp
        else:
            self.cmp_letters = self._cmp_letters
```
where `_cmp_letters` is the previous version which compares by ranking in the alphabet. It is of course not ideal, but I think that we should get rid of this `cmp_letters` anyway.



---

archive/issue_comments_279867.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a706f496accea8937d708f4432925a895b0450f6\">a706f49</a></td><td><code>Trac 19619: remove the TODO</code></td></tr></table>\n",
    "created_at": "2015-11-26T17:29:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279867",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a706f496accea8937d708f4432925a895b0450f6">a706f49</a></td><td><code>Trac 19619: remove the TODO</code></td></tr></table>




---

archive/issue_comments_279868.json:
```json
{
    "body": "Changed commit from **[`661588f`](https://github.com/sagemath/sagetrac-mirror/commit/661588fc93cd6d90caec33d1adfe5755983ae871)** to **[`a706f49`](https://github.com/sagemath/sagetrac-mirror/commit/a706f496accea8937d708f4432925a895b0450f6)**",
    "created_at": "2015-11-26T17:29:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279868",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`661588f`](https://github.com/sagemath/sagetrac-mirror/commit/661588fc93cd6d90caec33d1adfe5755983ae871)** to **[`a706f49`](https://github.com/sagemath/sagetrac-mirror/commit/a706f496accea8937d708f4432925a895b0450f6)**



---

archive/issue_comments_279869.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSome methods are missing doctests apparently:\n\n```\nDecreased doctests in combinat/words/morphism.py: from 53 / 53 = 100% to 53 / 56 = 94%\nDecreased doctests in combinat/words/paths.py: from 57 / 57 = 100% to 57 / 59 = 96%\nDecreased doctests in combinat/words/words.py: from 45 / 45 = 100% to 63 / 66 = 95%\n```",
    "created_at": "2015-11-27T13:00:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279869",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:13" align="right">comment:13</div>

Some methods are missing doctests apparently:

```
Decreased doctests in combinat/words/morphism.py: from 53 / 53 = 100% to 53 / 56 = 94%
Decreased doctests in combinat/words/paths.py: from 57 / 57 = 100% to 57 / 59 = 96%
Decreased doctests in combinat/words/words.py: from 45 / 45 = 100% to 63 / 66 = 95%
```



---

archive/issue_comments_279870.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIs that a problem?",
    "created_at": "2015-11-27T13:18:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279870",
    "user": "https://github.com/videlec"
}
```

<div id="comment:14" align="right">comment:14</div>

Is that a problem?



---

archive/issue_comments_279871.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nIn `words.py`, I can add some:\n\n```\nTESTS:\n\n    sage: print \"hello\"\n    hello\n```\nbut I do not see the point. The missing doctest are in the deprecated class ``Words_all`` I do not see any relevant test...\n\nFor `morphism.py` and `paths.py` I will complete the missing ones.",
    "created_at": "2015-11-27T13:20:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279871",
    "user": "https://github.com/videlec"
}
```

<div id="comment:15" align="right">comment:15</div>

In `words.py`, I can add some:

```
TESTS:

    sage: print "hello"
    hello
```
but I do not see the point. The missing doctest are in the deprecated class ``Words_all`` I do not see any relevant test...

For `morphism.py` and `paths.py` I will complete the missing ones.



---

archive/issue_comments_279872.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bcc2d8678ed56cb0dca16b4647811834268b36b0\">bcc2d86</a></td><td><code>Trac 19619: more doc (and equality improvements)</code></td></tr></table>\n",
    "created_at": "2015-11-27T13:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279872",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bcc2d8678ed56cb0dca16b4647811834268b36b0">bcc2d86</a></td><td><code>Trac 19619: more doc (and equality improvements)</code></td></tr></table>




---

archive/issue_comments_279873.json:
```json
{
    "body": "Changed commit from **[`a706f49`](https://github.com/sagemath/sagetrac-mirror/commit/a706f496accea8937d708f4432925a895b0450f6)** to **[`bcc2d86`](https://github.com/sagemath/sagetrac-mirror/commit/bcc2d8678ed56cb0dca16b4647811834268b36b0)**",
    "created_at": "2015-11-27T13:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279873",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a706f49`](https://github.com/sagemath/sagetrac-mirror/commit/a706f496accea8937d708f4432925a895b0450f6)** to **[`bcc2d86`](https://github.com/sagemath/sagetrac-mirror/commit/bcc2d8678ed56cb0dca16b4647811834268b36b0)**



---

archive/issue_comments_279874.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThe ones at lines 302 and 1721 are not deprecated. The method `_cmp_letters` is tested with `cmp_letters` (?). To my opinion, the two methods that are deprecated should also be doctested. It will take three lines, show the user how to use those methods. Maybe with a pickle through an indirect doctest, I don't know. For the one at line 2429, say why this method must exist, it contains only \"pass\", why?\n\n```\n------------------------------------------------------------------------\nSCORE src/sage/combinat/words/words.py: 95.5% (63 of 66)\n\nMissing documentation:\n     * line 1721: def _element_classes(self)\n     * line 2424: def __setstate__(self, state)\n     * line 2429: def _element_constructor_(self)\n\nPossibly wrong (function name doesn't occur in doctests):\n     * line 302: def _cmp_letters(self, letter1, letter2)\n------------------------------------------------------------------------\n```",
    "created_at": "2015-11-27T15:03:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279874",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:17" align="right">comment:17</div>

The ones at lines 302 and 1721 are not deprecated. The method `_cmp_letters` is tested with `cmp_letters` (?). To my opinion, the two methods that are deprecated should also be doctested. It will take three lines, show the user how to use those methods. Maybe with a pickle through an indirect doctest, I don't know. For the one at line 2429, say why this method must exist, it contains only "pass", why?

```
------------------------------------------------------------------------
SCORE src/sage/combinat/words/words.py: 95.5% (63 of 66)

Missing documentation:
     * line 1721: def _element_classes(self)
     * line 2424: def __setstate__(self, state)
     * line 2429: def _element_constructor_(self)

Possibly wrong (function name doesn't occur in doctests):
     * line 302: def _cmp_letters(self, letter1, letter2)
------------------------------------------------------------------------
```



---

archive/issue_comments_279875.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29daae2736e3884b6513f021596a5c7ef0155f6e\">29daae2</a></td><td><code>Trac 19619: doc for _cmp_letters and _element_classes</code></td></tr></table>\n",
    "created_at": "2015-11-27T17:36:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279875",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29daae2736e3884b6513f021596a5c7ef0155f6e">29daae2</a></td><td><code>Trac 19619: doc for _cmp_letters and _element_classes</code></td></tr></table>




---

archive/issue_comments_279876.json:
```json
{
    "body": "Changed commit from **[`bcc2d86`](https://github.com/sagemath/sagetrac-mirror/commit/bcc2d8678ed56cb0dca16b4647811834268b36b0)** to **[`29daae2`](https://github.com/sagemath/sagetrac-mirror/commit/29daae2736e3884b6513f021596a5c7ef0155f6e)**",
    "created_at": "2015-11-27T17:36:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279876",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bcc2d86`](https://github.com/sagemath/sagetrac-mirror/commit/bcc2d8678ed56cb0dca16b4647811834268b36b0)** to **[`29daae2`](https://github.com/sagemath/sagetrac-mirror/commit/29daae2736e3884b6513f021596a5c7ef0155f6e)**



---

archive/issue_comments_279877.json:
```json
{
    "body": "Changed commit from **[`29daae2`](https://github.com/sagemath/sagetrac-mirror/commit/29daae2736e3884b6513f021596a5c7ef0155f6e)** to **[`4494886`](https://github.com/sagemath/sagetrac-mirror/commit/449488686e52fb15a2a333073eed39403803347f)**",
    "created_at": "2015-11-27T17:46:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279877",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`29daae2`](https://github.com/sagemath/sagetrac-mirror/commit/29daae2736e3884b6513f021596a5c7ef0155f6e)** to **[`4494886`](https://github.com/sagemath/sagetrac-mirror/commit/449488686e52fb15a2a333073eed39403803347f)**



---

archive/issue_comments_279878.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/449488686e52fb15a2a333073eed39403803347f\">4494886</a></td><td><code>Trac 19619: remove `__setstate__` and few words for _element_constructor_</code></td></tr></table>\n",
    "created_at": "2015-11-27T17:46:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279878",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/449488686e52fb15a2a333073eed39403803347f">4494886</a></td><td><code>Trac 19619: remove `__setstate__` and few words for _element_constructor_</code></td></tr></table>




---

archive/issue_comments_279879.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWhy `Words_n` inherits from `Parent` instead of `AbstractLanguage`?",
    "created_at": "2015-11-30T14:56:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279879",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:20" align="right">comment:20</div>

Why `Words_n` inherits from `Parent` instead of `AbstractLanguage`?



---

archive/issue_comments_279880.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nShould a parent return an element for which he is the parent?\n\n```\nsage: W = Words('abc') \nsage: W \nFinite and infinite words over {'a', 'b', 'c'}\nsage: W('aabbcc').parent()\nFinite words over {'a', 'b', 'c'}\nsage: W('aabbcc').parent() == W\nFalse   \n```\n\n```\nsage: W = Words(range(4))     \nsage: W(lambda n:n%4).parent() == W \nFalse  \n```",
    "created_at": "2015-11-30T15:15:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279880",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:21" align="right">comment:21</div>

Should a parent return an element for which he is the parent?

```
sage: W = Words('abc') 
sage: W 
Finite and infinite words over {'a', 'b', 'c'}
sage: W('aabbcc').parent()
Finite words over {'a', 'b', 'c'}
sage: W('aabbcc').parent() == W
False   
```

```
sage: W = Words(range(4))     
sage: W(lambda n:n%4).parent() == W 
False  
```



---

archive/issue_comments_279881.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@seblabbe](#comment:20):\n> Why `Words_n` inherits for `Parent` instead of `AbstractLanguage`?\n\n`AbstractLanguage` is designed to disappear. For the moment it just holds the `_alphabet` attributes and some deprecated methods. I am not sure that all language should keep this `_alphabet` attribute. That can be changed. Do we want that languages implement a method `alphabet` or simply provides an alphabet to the constructor of a base class?\n\n`Words_n` does not care about an attribute `_alphabet` since it is initialized with a `FiniteWords` as first argument. It is essentially an empty shell.",
    "created_at": "2015-11-30T15:19:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279881",
    "user": "https://github.com/videlec"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@seblabbe](#comment:20):
> Why `Words_n` inherits for `Parent` instead of `AbstractLanguage`?

`AbstractLanguage` is designed to disappear. For the moment it just holds the `_alphabet` attributes and some deprecated methods. I am not sure that all language should keep this `_alphabet` attribute. That can be changed. Do we want that languages implement a method `alphabet` or simply provides an alphabet to the constructor of a base class?

`Words_n` does not care about an attribute `_alphabet` since it is initialized with a `FiniteWords` as first argument. It is essentially an empty shell.



---

archive/issue_comments_279882.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@seblabbe](#comment:21):\n> Should a parent return an element for which he is the parent?\n\nThere are other parents doing the same\n\n```\nsage: NN.an_element().parent() == NN\nFalse\nsage: Primes().an_element().parent() == Primes()\nFalse\n```\nAnd this is the concept of facade (in the Sage category sense).\n\nWith my branch you always have:\n- finte words have a parent `FiniteWords`\n- infinite words have a parent `InfiniteWords`\n- words with indefinite status have a parent `FiniteOrInfiniteWords`\nIn particular\n\n```\nsage: W = Words('ab')\nsage: W('ab').parent() is W.finite_words()\nTrue\nsage: W(lambda n: 'a', length='infinite').parent() is W.infinite_words()\nTrue\nsage: W(iter(\"ab\"*100)).parent() is W\nTrue\n```",
    "created_at": "2015-11-30T15:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279882",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@seblabbe](#comment:21):
> Should a parent return an element for which he is the parent?

There are other parents doing the same

```
sage: NN.an_element().parent() == NN
False
sage: Primes().an_element().parent() == Primes()
False
```
And this is the concept of facade (in the Sage category sense).

With my branch you always have:
- finte words have a parent `FiniteWords`
- infinite words have a parent `InfiniteWords`
- words with indefinite status have a parent `FiniteOrInfiniteWords`
In particular

```
sage: W = Words('ab')
sage: W('ab').parent() is W.finite_words()
True
sage: W(lambda n: 'a', length='infinite').parent() is W.infinite_words()
True
sage: W(iter("ab"*100)).parent() is W
True
```



---

archive/issue_comments_279883.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@videlec](#comment:22):\n> `AbstractLanguage` is designed to disappear.\n\nIf so, say it in the docstring `__doc__` of `AbstractLanguage`. It helps to know what should be the next improvements to the code.\n\n> For the moment it just holds the `_alphabet` attributes and some deprecated methods.\n\nBut it contains some other nondeprecated methods too.",
    "created_at": "2015-11-30T15:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279883",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@videlec](#comment:22):
> `AbstractLanguage` is designed to disappear.

If so, say it in the docstring `__doc__` of `AbstractLanguage`. It helps to know what should be the next improvements to the code.

> For the moment it just holds the `_alphabet` attributes and some deprecated methods.

But it contains some other nondeprecated methods too.



---

archive/issue_comments_279884.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@seblabbe](#comment:24):\n> Replying to [@videlec](#comment:22):\n> > `AbstractLanguage` is designed to disappear.\n\n> \n> If so, say it in the docstring `__doc__` of `AbstractLanguage`. It helps to know what should be the next improvements to the code.\n> \n> > For the moment it just holds the `_alphabet` attributes and some deprecated methods.\n\n> \n> But it contains some other nondeprecated methods too.\n\nRight. Let say that it is an experimental abstraction of a potential `Language` base class... I will update the doc (not changing anything else).",
    "created_at": "2015-11-30T15:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279884",
    "user": "https://github.com/videlec"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@seblabbe](#comment:24):
> Replying to [@videlec](#comment:22):
> > `AbstractLanguage` is designed to disappear.

> 
> If so, say it in the docstring `__doc__` of `AbstractLanguage`. It helps to know what should be the next improvements to the code.
> 
> > For the moment it just holds the `_alphabet` attributes and some deprecated methods.

> 
> But it contains some other nondeprecated methods too.

Right. Let say that it is an experimental abstraction of a potential `Language` base class... I will update the doc (not changing anything else).



---

archive/issue_comments_279885.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@videlec](#comment:23):\n> With my branch you always have:\n> - finte words have a parent `FiniteWords`\n> - infinite words have a parent `InfiniteWords`\n> - words with indefinite status have a parent `FiniteOrInfiniteWords`\n\nIt is interesting that you write `FiniteOrInfiniteWords` here instead of `FiniteAndInfiniteWords` in the code because I was going to suggest to call that class `FiniteOrInfiniteWords` instead.",
    "created_at": "2015-11-30T15:29:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279885",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@videlec](#comment:23):
> With my branch you always have:
> - finte words have a parent `FiniteWords`
> - infinite words have a parent `InfiniteWords`
> - words with indefinite status have a parent `FiniteOrInfiniteWords`

It is interesting that you write `FiniteOrInfiniteWords` here instead of `FiniteAndInfiniteWords` in the code because I was going to suggest to call that class `FiniteOrInfiniteWords` instead.



---

archive/issue_comments_279886.json:
```json
{
    "body": "Changed commit from **[`4494886`](https://github.com/sagemath/sagetrac-mirror/commit/449488686e52fb15a2a333073eed39403803347f)** to **[`51c8f04`](https://github.com/sagemath/sagetrac-mirror/commit/51c8f041e399556e7b7e5feb340bc1314e3f1d40)**",
    "created_at": "2015-11-30T15:30:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279886",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4494886`](https://github.com/sagemath/sagetrac-mirror/commit/449488686e52fb15a2a333073eed39403803347f)** to **[`51c8f04`](https://github.com/sagemath/sagetrac-mirror/commit/51c8f041e399556e7b7e5feb340bc1314e3f1d40)**



---

archive/issue_comments_279887.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8f6921f265eb668dfc644f90aa16e74ab87696f\">a8f6921</a></td><td><code>merge u/vdelecroix/19619 in Sage-6.10.beta6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51c8f041e399556e7b7e5feb340bc1314e3f1d40\">51c8f04</a></td><td><code>Trac 19619: add doc to AbstractLanguage</code></td></tr></table>\n",
    "created_at": "2015-11-30T15:30:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279887",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8f6921f265eb668dfc644f90aa16e74ab87696f">a8f6921</a></td><td><code>merge u/vdelecroix/19619 in Sage-6.10.beta6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51c8f041e399556e7b7e5feb340bc1314e3f1d40">51c8f04</a></td><td><code>Trac 19619: add doc to AbstractLanguage</code></td></tr></table>




---

archive/issue_comments_279888.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@seblabbe](#comment:26):\n> Replying to [@videlec](#comment:23):\n> > With my branch you always have:\n> > - finte words have a parent `FiniteWords`\n> > - infinite words have a parent `InfiniteWords`\n> > - words with indefinite status have a parent `FiniteOrInfiniteWords`\n\n> \n> It is interesting that you write `FiniteOrInfiniteWords` here instead of `FiniteAndInfiniteWords` in the code because I was going to suggest to call that class `FiniteOrInfiniteWords` instead.\n\nOh right. It is clearly a union, hence `Or` makes more sense... will do it.",
    "created_at": "2015-11-30T15:31:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279888",
    "user": "https://github.com/videlec"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@seblabbe](#comment:26):
> Replying to [@videlec](#comment:23):
> > With my branch you always have:
> > - finte words have a parent `FiniteWords`
> > - infinite words have a parent `InfiniteWords`
> > - words with indefinite status have a parent `FiniteOrInfiniteWords`

> 
> It is interesting that you write `FiniteOrInfiniteWords` here instead of `FiniteAndInfiniteWords` in the code because I was going to suggest to call that class `FiniteOrInfiniteWords` instead.

Oh right. It is clearly a union, hence `Or` makes more sense... will do it.



---

archive/issue_comments_279889.json:
```json
{
    "body": "Changed commit from **[`51c8f04`](https://github.com/sagemath/sagetrac-mirror/commit/51c8f041e399556e7b7e5feb340bc1314e3f1d40)** to **[`7ee2e3c`](https://github.com/sagemath/sagetrac-mirror/commit/7ee2e3c52d273b51cef7993a5e605918a12a99ac)**",
    "created_at": "2015-11-30T15:32:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279889",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`51c8f04`](https://github.com/sagemath/sagetrac-mirror/commit/51c8f041e399556e7b7e5feb340bc1314e3f1d40)** to **[`7ee2e3c`](https://github.com/sagemath/sagetrac-mirror/commit/7ee2e3c52d273b51cef7993a5e605918a12a99ac)**



---

archive/issue_comments_279890.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ee2e3c52d273b51cef7993a5e605918a12a99ac\">7ee2e3c</a></td><td><code>Trac 19619: FiniteAndInfinite -> FiniteOrInfinite</code></td></tr></table>\n",
    "created_at": "2015-11-30T15:32:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279890",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ee2e3c52d273b51cef7993a5e605918a12a99ac">7ee2e3c</a></td><td><code>Trac 19619: FiniteAndInfinite -> FiniteOrInfinite</code></td></tr></table>




---

archive/issue_comments_279891.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,7 +17,7 @@\n - `FiniteWords`\n - `Words_n`: words of length `n` (as a slice of the one before)\n - `InfiniteWords` (or `FullShift`)\n-- `FiniteAndInfiniteWords`\n+- `FiniteOrInfiniteWords`\n The parent `FiniteWords` should hence have a method `.shift()` that return the associated shift (e.g `u ** Infinity` will belong there). Similarly, the parent `InfiniteWords` should have a method `.factors()` that return the set of factors (and finite slices will belong there).\n \n We also:\n``````\n",
    "created_at": "2015-11-30T15:35:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279891",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,7 +17,7 @@
 - `FiniteWords`
 - `Words_n`: words of length `n` (as a slice of the one before)
 - `InfiniteWords` (or `FullShift`)
-- `FiniteAndInfiniteWords`
+- `FiniteOrInfiniteWords`
 The parent `FiniteWords` should hence have a method `.shift()` that return the associated shift (e.g `u ** Infinity` will belong there). Similarly, the parent `InfiniteWords` should have a method `.factors()` that return the set of factors (and finite slices will belong there).
 
 We also:
``````




---

archive/issue_comments_279892.json:
```json
{
    "body": "Reviewer: **S\u00e9bastien Labb\u00e9**",
    "created_at": "2015-11-30T16:03:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279892",
    "user": "https://github.com/seblabbe"
}
```

Reviewer: **Sébastien Labbé**



---

archive/issue_comments_279893.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI am still not done with the review as I need more time to think and look at the code... Will continue this tomorrow.",
    "created_at": "2015-11-30T16:03:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279893",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:31" align="right">comment:31</div>

I am still not done with the review as I need more time to think and look at the code... Will continue this tomorrow.



---

archive/issue_comments_279894.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n- Are sure that we do not prefer the `__call__` to be implemented in one place in `AbstractLanguage`? Lot of documentation is a copy paste...\n  - Argument `length` in unused in `InfiniteWords.__call__`.\n  - Documentation of `InfiniteWords.__call__` should not mention list, str, tuple, char and the length argument.\n  - The below lines in `FiniteWords._word_from_word` seem useless. Same comment for `InfiniteWords._word_from_word`:\n\n```python\nfrom sage.combinat.words.finite_word import CallableFromListOfWords\nif isinstance(data._func, CallableFromListOfWords):\n    # The following line is important because, in this case,\n    # data._func is also a tuple (indeed\n    # CallableFromListOfWords inherits from tuple)\n    datatype = \"callable\"\n```\n- `Words_n.__call__` should include a `INPUTS:` block\n- The following imports are not used:\n\n```\nfrom sage.misc.mrange import xmrange\nfrom sage.structure.parent import Set_PythonType\nfrom sage.combinat.combinat import InfiniteAbstractCombinatorialClass\n```",
    "created_at": "2015-12-02T09:14:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279894",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:32" align="right">comment:32</div>

- Are sure that we do not prefer the `__call__` to be implemented in one place in `AbstractLanguage`? Lot of documentation is a copy paste...
  - Argument `length` in unused in `InfiniteWords.__call__`.
  - Documentation of `InfiniteWords.__call__` should not mention list, str, tuple, char and the length argument.
  - The below lines in `FiniteWords._word_from_word` seem useless. Same comment for `InfiniteWords._word_from_word`:

```python
from sage.combinat.words.finite_word import CallableFromListOfWords
if isinstance(data._func, CallableFromListOfWords):
    # The following line is important because, in this case,
    # data._func is also a tuple (indeed
    # CallableFromListOfWords inherits from tuple)
    datatype = "callable"
```
- `Words_n.__call__` should include a `INPUTS:` block
- The following imports are not used:

```
from sage.misc.mrange import xmrange
from sage.structure.parent import Set_PythonType
from sage.combinat.combinat import InfiniteAbstractCombinatorialClass
```



---

archive/issue_events_277820.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-12-02T09:14:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277820"
}
```



---

archive/issue_events_277821.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-12-02T09:14:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277821"
}
```



---

archive/issue_comments_279895.json:
```json
{
    "body": "Changed commit from **[`7ee2e3c`](https://github.com/sagemath/sagetrac-mirror/commit/7ee2e3c52d273b51cef7993a5e605918a12a99ac)** to **[`f8e4ca5`](https://github.com/sagemath/sagetrac-mirror/commit/f8e4ca55cb76eb29c67d656270f9ce5f6c95b0a0)**",
    "created_at": "2015-12-02T14:00:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279895",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7ee2e3c`](https://github.com/sagemath/sagetrac-mirror/commit/7ee2e3c52d273b51cef7993a5e605918a12a99ac)** to **[`f8e4ca5`](https://github.com/sagemath/sagetrac-mirror/commit/f8e4ca55cb76eb29c67d656270f9ce5f6c95b0a0)**



---

archive/issue_comments_279896.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8e4ca55cb76eb29c67d656270f9ce5f6c95b0a0\">f8e4ca5</a></td><td><code>Trac 19619: remove length arguments</code></td></tr></table>\n",
    "created_at": "2015-12-02T14:00:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279896",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8e4ca55cb76eb29c67d656270f9ce5f6c95b0a0">f8e4ca5</a></td><td><code>Trac 19619: remove length arguments</code></td></tr></table>




---

archive/issue_events_277822.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-12-02T14:03:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277822"
}
```



---

archive/issue_events_277823.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-12-02T14:03:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277823"
}
```



---

archive/issue_comments_279897.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@seblabbe](#comment:32):\n> - Are sure that we do not prefer the `__call__` to be implemented in one place in `AbstractLanguage`? Lot of documentation is a copy paste...\n\nDefinitely not. We do not want to impose the class of elements for (future) languages. Moreover:\n- you should not be able to build infinite words from `FiniteWords` or finite ones from `InfiniteWords`.\n- the code is now much simpler, isn't it?\n\nTo my mind, the documentation is completely useless. Which user will do\n\n```\nsage: W = Words('ab')\nsage: W.__call__?\n```",
    "created_at": "2015-12-02T14:03:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279897",
    "user": "https://github.com/videlec"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@seblabbe](#comment:32):
> - Are sure that we do not prefer the `__call__` to be implemented in one place in `AbstractLanguage`? Lot of documentation is a copy paste...

Definitely not. We do not want to impose the class of elements for (future) languages. Moreover:
- you should not be able to build infinite words from `FiniteWords` or finite ones from `InfiniteWords`.
- the code is now much simpler, isn't it?

To my mind, the documentation is completely useless. Which user will do

```
sage: W = Words('ab')
sage: W.__call__?
```



---

archive/issue_comments_279898.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nAs a very casual user of words: I would expect `FiniteOrInfiniteWords` to be `Words`...",
    "created_at": "2015-12-02T15:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279898",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:35" align="right">comment:35</div>

As a very casual user of words: I would expect `FiniteOrInfiniteWords` to be `Words`...



---

archive/issue_comments_279899.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@mantepse](#comment:35):\n> As a very casual user of words: I would expect `FiniteOrInfiniteWords` to be `Words`...\n\nOne problem is that `Words` is the name of the factory that dispatch to the actual classes `FiniteWords`, `InfiniteWords`, `FiniteOrInfiniteWords` or `Words_n`. Why do you care about the class names? You will never have to do\n\n```\nsage: FiniteOrInfiniteWords(my_alphabet)\n```",
    "created_at": "2015-12-02T15:12:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279899",
    "user": "https://github.com/videlec"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@mantepse](#comment:35):
> As a very casual user of words: I would expect `FiniteOrInfiniteWords` to be `Words`...

One problem is that `Words` is the name of the factory that dispatch to the actual classes `FiniteWords`, `InfiniteWords`, `FiniteOrInfiniteWords` or `Words_n`. Why do you care about the class names? You will never have to do

```
sage: FiniteOrInfiniteWords(my_alphabet)
```



---

archive/issue_comments_279900.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nOK, great, sorry for the noise!",
    "created_at": "2015-12-02T15:43:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279900",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:37" align="right">comment:37</div>

OK, great, sorry for the noise!



---

archive/issue_comments_279901.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nThe fourth item of my previous comment has not been answered.",
    "created_at": "2015-12-03T10:02:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279901",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:38" align="right">comment:38</div>

The fourth item of my previous comment has not been answered.



---

archive/issue_events_277824.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-12-03T10:02:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277824"
}
```



---

archive/issue_events_277825.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-12-03T10:02:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277825"
}
```



---

archive/issue_comments_279902.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa5ef782448a49b2b3b141b5d91a9ec44ba38064\">fa5ef78</a></td><td><code>Trac 19619: remove useless code</code></td></tr></table>\n",
    "created_at": "2015-12-03T11:56:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279902",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa5ef782448a49b2b3b141b5d91a9ec44ba38064">fa5ef78</a></td><td><code>Trac 19619: remove useless code</code></td></tr></table>




---

archive/issue_comments_279903.json:
```json
{
    "body": "Changed commit from **[`f8e4ca5`](https://github.com/sagemath/sagetrac-mirror/commit/f8e4ca55cb76eb29c67d656270f9ce5f6c95b0a0)** to **[`fa5ef78`](https://github.com/sagemath/sagetrac-mirror/commit/fa5ef782448a49b2b3b141b5d91a9ec44ba38064)**",
    "created_at": "2015-12-03T11:56:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279903",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f8e4ca5`](https://github.com/sagemath/sagetrac-mirror/commit/f8e4ca55cb76eb29c67d656270f9ce5f6c95b0a0)** to **[`fa5ef78`](https://github.com/sagemath/sagetrac-mirror/commit/fa5ef782448a49b2b3b141b5d91a9ec44ba38064)**



---

archive/issue_comments_279904.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@seblabbe](#comment:38):\n> The fourth item of my previous comment has not been answered.\n\nIndeed.",
    "created_at": "2015-12-03T11:57:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279904",
    "user": "https://github.com/videlec"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@seblabbe](#comment:38):
> The fourth item of my previous comment has not been answered.

Indeed.



---

archive/issue_events_277826.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-12-03T11:57:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277826"
}
```



---

archive/issue_events_277827.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-12-03T11:57:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277827"
}
```



---

archive/issue_events_277828.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-12-04T09:23:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277828"
}
```



---

archive/issue_events_277829.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-12-04T09:23:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277829"
}
```



---

archive/issue_comments_279905.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI think this comment inside `FiniteWords._word_from_word`\n\n```\n+            # this must be put first for the reason that CallableFromListOfWords\n+            # inherits from tuple\n```\n\nis unnecessary and date from the time were one method was doing everything for the creation of a word. Then, data could be a tuple or a `CallableFromListOfWords` which inherits from tuple explaining the reason we needed to test for `isinstance(data, CallableFromListOfWords)` first.\n\nNow, in that method, data is word (not a tuple neither a `CallableFromListOfWords`) so the isinstance tests can be done in any order. Question: what is best to test first?",
    "created_at": "2015-12-04T09:23:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279905",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:41" align="right">comment:41</div>

I think this comment inside `FiniteWords._word_from_word`

```
+            # this must be put first for the reason that CallableFromListOfWords
+            # inherits from tuple
```

is unnecessary and date from the time were one method was doing everything for the creation of a word. Then, data could be a tuple or a `CallableFromListOfWords` which inherits from tuple explaining the reason we needed to test for `isinstance(data, CallableFromListOfWords)` first.

Now, in that method, data is word (not a tuple neither a `CallableFromListOfWords`) so the isinstance tests can be done in any order. Question: what is best to test first?



---

archive/issue_comments_279906.json:
```json
{
    "body": "Changed commit from **[`fa5ef78`](https://github.com/sagemath/sagetrac-mirror/commit/fa5ef782448a49b2b3b141b5d91a9ec44ba38064)** to **[`dd103be`](https://github.com/sagemath/sagetrac-mirror/commit/dd103be6eff7e4dc98c6390162059bac319d02ce)**",
    "created_at": "2015-12-04T12:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279906",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fa5ef78`](https://github.com/sagemath/sagetrac-mirror/commit/fa5ef782448a49b2b3b141b5d91a9ec44ba38064)** to **[`dd103be`](https://github.com/sagemath/sagetrac-mirror/commit/dd103be6eff7e4dc98c6390162059bac319d02ce)**



---

archive/issue_comments_279907.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0db113abce41359ea6065757dc5f179cd93082ab\">0db113a</a></td><td><code>Trac 19619: simplifications in word constructors</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd103be6eff7e4dc98c6390162059bac319d02ce\">dd103be</a></td><td><code>Trac 19619: doctest failures + documentation</code></td></tr></table>\n",
    "created_at": "2015-12-04T12:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279907",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0db113abce41359ea6065757dc5f179cd93082ab">0db113a</a></td><td><code>Trac 19619: simplifications in word constructors</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd103be6eff7e4dc98c6390162059bac319d02ce">dd103be</a></td><td><code>Trac 19619: doctest failures + documentation</code></td></tr></table>




---

archive/issue_comments_279908.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nI tried to do my best for `FiniteWords._word_from_word`. I also removed `_word_from_callable` from `FiniteOrInfiniteWords` and simplified its `__call__`.",
    "created_at": "2015-12-04T12:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279908",
    "user": "https://github.com/videlec"
}
```

<div id="comment:43" align="right">comment:43</div>

I tried to do my best for `FiniteWords._word_from_word`. I also removed `_word_from_callable` from `FiniteOrInfiniteWords` and simplified its `__call__`.



---

archive/issue_events_277830.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-12-04T12:45:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277830"
}
```



---

archive/issue_events_277831.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-12-04T12:45:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277831"
}
```



---

archive/issue_comments_279909.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nI looked at the code. It looks good. But I now get (also reported by the patchbots):\n\n```\n----------------------------------------------------------------------\nsage -t --warn-long 31.0 permutation.py  # 1 doctest failed\nsage -t --warn-long 31.0 parking_functions.py  # 62 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2015-12-04T14:49:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279909",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:44" align="right">comment:44</div>

I looked at the code. It looks good. But I now get (also reported by the patchbots):

```
----------------------------------------------------------------------
sage -t --warn-long 31.0 permutation.py  # 1 doctest failed
sage -t --warn-long 31.0 parking_functions.py  # 62 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_events_277832.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-12-04T14:49:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277832"
}
```



---

archive/issue_events_277833.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-12-04T14:49:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277833"
}
```



---

archive/issue_comments_279910.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13e989e3ab16bcda4980b69d7f6afd65ab46b318\">13e989e</a></td><td><code>Trac 19619: fix wrong guessing</code></td></tr></table>\n",
    "created_at": "2015-12-04T15:16:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279910",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13e989e3ab16bcda4980b69d7f6afd65ab46b318">13e989e</a></td><td><code>Trac 19619: fix wrong guessing</code></td></tr></table>




---

archive/issue_comments_279911.json:
```json
{
    "body": "Changed commit from **[`dd103be`](https://github.com/sagemath/sagetrac-mirror/commit/dd103be6eff7e4dc98c6390162059bac319d02ce)** to **[`13e989e`](https://github.com/sagemath/sagetrac-mirror/commit/13e989e3ab16bcda4980b69d7f6afd65ab46b318)**",
    "created_at": "2015-12-04T15:16:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279911",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dd103be`](https://github.com/sagemath/sagetrac-mirror/commit/dd103be6eff7e4dc98c6390162059bac319d02ce)** to **[`13e989e`](https://github.com/sagemath/sagetrac-mirror/commit/13e989e3ab16bcda4980b69d7f6afd65ab46b318)**



---

archive/issue_events_277834.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-12-04T15:17:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277834"
}
```



---

archive/issue_events_277835.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-12-04T15:17:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277835"
}
```



---

archive/issue_comments_279912.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nRight. Permutations or parking functions are callable but should be considered as finite...",
    "created_at": "2015-12-04T15:17:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279912",
    "user": "https://github.com/videlec"
}
```

<div id="comment:46" align="right">comment:46</div>

Right. Permutations or parking functions are callable but should be considered as finite...



---

archive/issue_comments_279913.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI would prefer if the code of `FiniteOrInfiniteWords.__call__` be like the others `FiniteWords.__call__` and `InfiniteWords.__call__` in the sense that first the function does:\n\n```\nif datatype is not None:\n    #return directly the good word\n    if datatype in ['str', 'list', 'char', 'tuple']:\n        return etc...\nelse:\n    #guess the datatype, the length, etc.\n```\n\nif you agree. It makes the code easier to read and be convince anybody that it does the minimal and most efficient path in the function.\n\nDoing what you do in `InfiniteWords.__call__` essentially reverts ticket #17021 where that kind of guessing was done first. Note that to avoid duplication of code, it is possible that you will have to recreate `_word_from_callable` because of that... or maybe not.",
    "created_at": "2015-12-04T15:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279913",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:47" align="right">comment:47</div>

I would prefer if the code of `FiniteOrInfiniteWords.__call__` be like the others `FiniteWords.__call__` and `InfiniteWords.__call__` in the sense that first the function does:

```
if datatype is not None:
    #return directly the good word
    if datatype in ['str', 'list', 'char', 'tuple']:
        return etc...
else:
    #guess the datatype, the length, etc.
```

if you agree. It makes the code easier to read and be convince anybody that it does the minimal and most efficient path in the function.

Doing what you do in `InfiniteWords.__call__` essentially reverts ticket #17021 where that kind of guessing was done first. Note that to avoid duplication of code, it is possible that you will have to recreate `_word_from_callable` because of that... or maybe not.



---

archive/issue_comments_279914.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@seblabbe](#comment:47):\n> I would prefer if the code of `FiniteOrInfiniteWords.__call__` be like the others `FiniteWords.__call__` and `InfiniteWords.__call__` in the sense that first the function does:\n> \n> ` <SNIP> `\n> \n> if you agree. It makes the code easier to read and be convince anybody that it does the minimal and most efficient path in the function.\n> \n> Doing what you do in `InfiniteWords.__call__` essentially reverts ticket #17021 where that kind of guessing was done first. Note that to avoid duplication of code, it is possible that you will have to recreate `_word_from_callable` because of that... or maybe not.\n\nIf a user provides `datatype` **and** `length` there will be no guessing... And with what I changed the first step is to determine the length (in order to determine the parent). I do not see how to handle what you suggested without copy/paste.",
    "created_at": "2015-12-04T15:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279914",
    "user": "https://github.com/videlec"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@seblabbe](#comment:47):
> I would prefer if the code of `FiniteOrInfiniteWords.__call__` be like the others `FiniteWords.__call__` and `InfiniteWords.__call__` in the sense that first the function does:
> 
> ` <SNIP> `
> 
> if you agree. It makes the code easier to read and be convince anybody that it does the minimal and most efficient path in the function.
> 
> Doing what you do in `InfiniteWords.__call__` essentially reverts ticket #17021 where that kind of guessing was done first. Note that to avoid duplication of code, it is possible that you will have to recreate `_word_from_callable` because of that... or maybe not.

If a user provides `datatype` **and** `length` there will be no guessing... And with what I changed the first step is to determine the length (in order to determine the parent). I do not see how to handle what you suggested without copy/paste.



---

archive/issue_comments_279915.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nMoreover, the `length` guessing is based on what the user input as `datatype`...",
    "created_at": "2015-12-04T15:59:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279915",
    "user": "https://github.com/videlec"
}
```

<div id="comment:49" align="right">comment:49</div>

Moreover, the `length` guessing is based on what the user input as `datatype`...



---

archive/issue_comments_279916.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nSome timings with the branch\n\n```\nsage: W = Words()\nsage: FW = FiniteWords()\nsage: L = range(1000)\nsage: %timeit W(L, check=False)\n100000 loops, best of 3: 2.54 \u00b5s per loop\nsage: %timeit W(L, length=\"finite\", check=False)\n1000000 loops, best of 3: 1.58 \u00b5s per loop\nsage: %timeit W(L, datatype=\"list\", check=False)\n100000 loops, best of 3: 1.75 \u00b5s per loop\nsage: %timeit W(L, length=\"finite\", datatype=\"list\", check=False)\n1000000 loops, best of 3: 1.49 \u00b5s per loop\nsage: %timeit FW(L, check=False)\n1000000 loops, best of 3: 823 ns per loop\n```\nWhereas we have on develop\n\n```\nsage: W = Words()\nsage: %timeit W(L, check=False)\n1000000 loops, best of 3: 800 ns per loop\n```\nIt looks like the code in the branch is:\n- 3x slower now if nothing is provided\n- 2x slower if length or datatype is provided\n- 1x if call directly `FiniteWords`\nPlenty of reasons: more inheritance, more function calls.",
    "created_at": "2015-12-04T17:34:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279916",
    "user": "https://github.com/videlec"
}
```

<div id="comment:50" align="right">comment:50</div>

Some timings with the branch

```
sage: W = Words()
sage: FW = FiniteWords()
sage: L = range(1000)
sage: %timeit W(L, check=False)
100000 loops, best of 3: 2.54 µs per loop
sage: %timeit W(L, length="finite", check=False)
1000000 loops, best of 3: 1.58 µs per loop
sage: %timeit W(L, datatype="list", check=False)
100000 loops, best of 3: 1.75 µs per loop
sage: %timeit W(L, length="finite", datatype="list", check=False)
1000000 loops, best of 3: 1.49 µs per loop
sage: %timeit FW(L, check=False)
1000000 loops, best of 3: 823 ns per loop
```
Whereas we have on develop

```
sage: W = Words()
sage: %timeit W(L, check=False)
1000000 loops, best of 3: 800 ns per loop
```
It looks like the code in the branch is:
- 3x slower now if nothing is provided
- 2x slower if length or datatype is provided
- 1x if call directly `FiniteWords`
Plenty of reasons: more inheritance, more function calls.



---

archive/issue_comments_279917.json:
```json
{
    "body": "Changed commit from **[`13e989e`](https://github.com/sagemath/sagetrac-mirror/commit/13e989e3ab16bcda4980b69d7f6afd65ab46b318)** to **[`4fd6556`](https://github.com/sagemath/sagetrac-mirror/commit/4fd6556a85deb5b43c571ec7a200570e47e684f6)**",
    "created_at": "2015-12-06T14:10:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279917",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`13e989e`](https://github.com/sagemath/sagetrac-mirror/commit/13e989e3ab16bcda4980b69d7f6afd65ab46b318)** to **[`4fd6556`](https://github.com/sagemath/sagetrac-mirror/commit/4fd6556a85deb5b43c571ec7a200570e47e684f6)**



---

archive/issue_comments_279918.json:
```json
{
    "body": "<div id=\"comment:51\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fd6556a85deb5b43c571ec7a200570e47e684f6\">4fd6556</a></td><td><code>Trac 19619: merge into 6.10.beta7</code></td></tr></table>\n",
    "created_at": "2015-12-06T14:10:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279918",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fd6556a85deb5b43c571ec7a200570e47e684f6">4fd6556</a></td><td><code>Trac 19619: merge into 6.10.beta7</code></td></tr></table>




---

archive/issue_comments_279919.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nGood to go.",
    "created_at": "2015-12-07T16:05:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279919",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:52" align="right">comment:52</div>

Good to go.



---

archive/issue_events_277836.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-12-07T16:05:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277836"
}
```



---

archive/issue_events_277837.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-12-07T16:05:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277837"
}
```



---

archive/issue_comments_279920.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nGreat! Thanks for the review!",
    "created_at": "2015-12-07T16:07:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279920",
    "user": "https://github.com/videlec"
}
```

<div id="comment:53" align="right">comment:53</div>

Great! Thanks for the review!



---

archive/issue_comments_279921.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/19619](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/19619)** to **[`4fd6556`](https://github.com/sagemath/sagetrac-mirror/commit/4fd6556a85deb5b43c571ec7a200570e47e684f6)**",
    "created_at": "2015-12-08T16:27:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19619#issuecomment-279921",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vdelecroix/19619](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/19619)** to **[`4fd6556`](https://github.com/sagemath/sagetrac-mirror/commit/4fd6556a85deb5b43c571ec7a200570e47e684f6)**



---

archive/issue_events_277838.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-08T16:27:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277838"
}
```



---

archive/issue_events_277839.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "10b3951f121d5c651d0b197ee2a73b7155e8f871",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-12-08T16:27:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19619",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19619#event-277839"
}
```
