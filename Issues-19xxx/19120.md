# Issue 19120: efficient algorithm to compute continued fraction of a sum of continued fractions

archive/issues_018883.json:
```json
{
    "body": "Implement a method which, taking continued fraction x as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon\n\n```\nsage: 3*x\nsage: x+1\n```\n\n(overlaps with the following TODO item of sage/rings/continued_fraction.py:\nAdd Gosper\u2019s algorithm to compute the continued fraction of (ax + b)/(cx + d) knowing the one of x (see Gosper (1972, http://www.inwap.com/pdp10/hbaker/hakmem/cf.html), Knuth (1998, TAOCP vol 2, Exercise 4.5.3.15), Fowler (1999). See also Liardet, P. and Stambul, P. \u201cAlgebraic Computation with Continued Fractions.\u201d J. Number Th. 73, 92-121, 1998.)\n\nAssignee: @staroste\n\nCC:  @videlec @staroste\n\nKeywords: continued_fraction\n\nBranch/Commit: [8cafbb46fc9f1a5256e80f53ea37b6712d01652b](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)\n\nReviewer: Vincent Delecroix, Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Miroslav Kovar\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19120\n\n",
    "closed_at": "2020-11-07T16:23:27Z",
    "created_at": "2015-09-01T12:03:07Z",
    "labels": [
        "component: number theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "efficient algorithm to compute continued fraction of a sum of continued fractions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19120",
    "user": "https://github.com/staroste"
}
```
Implement a method which, taking continued fraction x as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon

```
sage: 3*x
sage: x+1
```

(overlaps with the following TODO item of sage/rings/continued_fraction.py:
Add Gosper’s algorithm to compute the continued fraction of (ax + b)/(cx + d) knowing the one of x (see Gosper (1972, http://www.inwap.com/pdp10/hbaker/hakmem/cf.html), Knuth (1998, TAOCP vol 2, Exercise 4.5.3.15), Fowler (1999). See also Liardet, P. and Stambul, P. “Algebraic Computation with Continued Fractions.” J. Number Th. 73, 92-121, 1998.)

Assignee: @staroste

CC:  @videlec @staroste

Keywords: continued_fraction

Branch/Commit: [8cafbb46fc9f1a5256e80f53ea37b6712d01652b](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)

Reviewer: Vincent Delecroix, Frédéric Chapoton

Author: Miroslav Kovar

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19120





---

archive/issue_comments_344179.json:
```json
{
    "body": "Branch: [u/mirgee/my_sage_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mirgee/my_sage_1)",
    "created_at": "2016-04-29T09:33:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344179",
    "user": "https://trac.sagemath.org/admin/accounts/users/mirgee"
}
```

Branch: [u/mirgee/my_sage_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mirgee/my_sage_1)



---

archive/issue_comments_344180.json:
```json
{
    "body": "Commit: [3fcc597e97e028f66e1fc1048338d6dd8f20a836](https://github.com/sagemath/sagetrac-mirror/commit/3fcc597e97e028f66e1fc1048338d6dd8f20a836)",
    "created_at": "2016-04-29T09:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344180",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Commit: [3fcc597e97e028f66e1fc1048338d6dd8f20a836](https://github.com/sagemath/sagetrac-mirror/commit/3fcc597e97e028f66e1fc1048338d6dd8f20a836)



---

archive/issue_comments_344181.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                          |                                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|\n|[171498b](https://github.com/sagemath/sagetrac-mirror/commit/171498b80ccc709218e887529932499cc72b4e14)|`Solved the big bug with the negative value of infinite continued fraction! :)`|\n|[7836c3e](https://github.com/sagemath/sagetrac-mirror/commit/7836c3e5b61a0e17415dba7b123595a3bb07b8ed)|`Don't know what changed. Backing up.`|\n|[7c6b445](https://github.com/sagemath/sagetrac-mirror/commit/7c6b445de3c08a8ff170ceee099f6ade143ad26b)|`Added a few lines to check for problem with singularity.`|\n|[56c76e2](https://github.com/sagemath/sagetrac-mirror/commit/56c76e2dea2484faf5e68c6e6bf706c2466693fb)|`Latest version... Don't know what changed :)`|\n|[3ab71ab](https://github.com/sagemath/sagetrac-mirror/commit/3ab71ab9e447fb55d6f1f0752ef2d2dd0a9e44d5)|`Done some code refactoring, tried to make the code simpler and more readable. I hope I didn't break it.`|\n|[2bd5194](https://github.com/sagemath/sagetrac-mirror/commit/2bd5194354ec2191a897988e0b724f16f1ef9289)|`Of course I broke something. Bug for infinite fractions fixed and code shortened.`|\n|[0dece4c](https://github.com/sagemath/sagetrac-mirror/commit/0dece4c011ea38f6dbb2e10826de51f8387040d1)|`Added a test and fixed associated bugs (hopefully).`|\n|[e246b63](https://github.com/sagemath/sagetrac-mirror/commit/e246b634e8638c9975bee48976297f92a1a78522)|`Added a test and fixed associated bugs (hopefully).`|\n|[f9714f8](https://github.com/sagemath/sagetrac-mirror/commit/f9714f84bf54f925b9e37e2723d3a0fa77e2a54b)|`Added check for arguments' validity.`|\n|[3fcc597](https://github.com/sagemath/sagetrac-mirror/commit/3fcc597e97e028f66e1fc1048338d6dd8f20a836)|`Moved Gosper iterator.`|",
    "created_at": "2016-04-29T09:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344181",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                          |                                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|
|[171498b](https://github.com/sagemath/sagetrac-mirror/commit/171498b80ccc709218e887529932499cc72b4e14)|`Solved the big bug with the negative value of infinite continued fraction! :)`|
|[7836c3e](https://github.com/sagemath/sagetrac-mirror/commit/7836c3e5b61a0e17415dba7b123595a3bb07b8ed)|`Don't know what changed. Backing up.`|
|[7c6b445](https://github.com/sagemath/sagetrac-mirror/commit/7c6b445de3c08a8ff170ceee099f6ade143ad26b)|`Added a few lines to check for problem with singularity.`|
|[56c76e2](https://github.com/sagemath/sagetrac-mirror/commit/56c76e2dea2484faf5e68c6e6bf706c2466693fb)|`Latest version... Don't know what changed :)`|
|[3ab71ab](https://github.com/sagemath/sagetrac-mirror/commit/3ab71ab9e447fb55d6f1f0752ef2d2dd0a9e44d5)|`Done some code refactoring, tried to make the code simpler and more readable. I hope I didn't break it.`|
|[2bd5194](https://github.com/sagemath/sagetrac-mirror/commit/2bd5194354ec2191a897988e0b724f16f1ef9289)|`Of course I broke something. Bug for infinite fractions fixed and code shortened.`|
|[0dece4c](https://github.com/sagemath/sagetrac-mirror/commit/0dece4c011ea38f6dbb2e10826de51f8387040d1)|`Added a test and fixed associated bugs (hopefully).`|
|[e246b63](https://github.com/sagemath/sagetrac-mirror/commit/e246b634e8638c9975bee48976297f92a1a78522)|`Added a test and fixed associated bugs (hopefully).`|
|[f9714f8](https://github.com/sagemath/sagetrac-mirror/commit/f9714f84bf54f925b9e37e2723d3a0fa77e2a54b)|`Added check for arguments' validity.`|
|[3fcc597](https://github.com/sagemath/sagetrac-mirror/commit/3fcc597e97e028f66e1fc1048338d6dd8f20a836)|`Moved Gosper iterator.`|



---

archive/issue_comments_344182.json:
```json
{
    "body": "Changing commit from \"[3fcc597e97e028f66e1fc1048338d6dd8f20a836](https://github.com/sagemath/sagetrac-mirror/commit/3fcc597e97e028f66e1fc1048338d6dd8f20a836)\" to \"[51f21d56f009aa01c8fd39a6409956ee935c0e9f](https://github.com/sagemath/sagetrac-mirror/commit/51f21d56f009aa01c8fd39a6409956ee935c0e9f)\"",
    "created_at": "2016-04-29T11:07:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344182",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[3fcc597e97e028f66e1fc1048338d6dd8f20a836](https://github.com/sagemath/sagetrac-mirror/commit/3fcc597e97e028f66e1fc1048338d6dd8f20a836)" to "[51f21d56f009aa01c8fd39a6409956ee935c0e9f](https://github.com/sagemath/sagetrac-mirror/commit/51f21d56f009aa01c8fd39a6409956ee935c0e9f)"



---

archive/issue_comments_344183.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[51f21d5](https://github.com/sagemath/sagetrac-mirror/commit/51f21d56f009aa01c8fd39a6409956ee935c0e9f)|`Better check coefficients using Integer.`|",
    "created_at": "2016-04-29T11:07:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344183",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[51f21d5](https://github.com/sagemath/sagetrac-mirror/commit/51f21d56f009aa01c8fd39a6409956ee935c0e9f)|`Better check coefficients using Integer.`|



---

archive/issue_comments_344184.json:
```json
{
    "body": "<a id='comment:4'></a>\nHello,\n\nSome remarks:\n\n1. You would better edit the description of this ticket to explain what you want to do.\n\n2. Your branch does not merge cleanly with the last beta. The reason is that you added a line in `lazy_list.pyx`: `from sage.rings.all import Infinity`. It is always better to base your work on the latest available version of the source code. You can consult the [developer manual](http://doc.sagemath.org/html/en/developer/manual_git.html).\n\n3. The commit message should reflect what is inside the commit. Not your mood at the time you did the commit.\n\n4. The file with gosper algorithm should not be in `sage/misc/`. Put it in the same directory as `continued_fraction.py`. And you would better call it `continued_fraction_gosper.py`.\n\n5. In `continued_fraction.py` you added the following in the comparison code\n\n```diff\n@@ -530,6 +530,8 @@ class ContinuedFraction_base(SageObject):\n             if a == ZZ_0 and b == ZZ_0 and i:  # rational case\n                 return 0\n             i += 1\n+            if i == 300:\n+                return 0\n```\n  I understand why you did it but it is definitely not a solution. What you can do is to raise a `RuntimeError` after a certain limit.\n\n6. All methods must be documented as explained in details in the [developer manual](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings).\n\nVincent",
    "created_at": "2016-04-29T18:11:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344184",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>
Hello,

Some remarks:

1. You would better edit the description of this ticket to explain what you want to do.

2. Your branch does not merge cleanly with the last beta. The reason is that you added a line in `lazy_list.pyx`: `from sage.rings.all import Infinity`. It is always better to base your work on the latest available version of the source code. You can consult the [developer manual](http://doc.sagemath.org/html/en/developer/manual_git.html).

3. The commit message should reflect what is inside the commit. Not your mood at the time you did the commit.

4. The file with gosper algorithm should not be in `sage/misc/`. Put it in the same directory as `continued_fraction.py`. And you would better call it `continued_fraction_gosper.py`.

5. In `continued_fraction.py` you added the following in the comparison code

```diff
@@ -530,6 +530,8 @@ class ContinuedFraction_base(SageObject):
             if a == ZZ_0 and b == ZZ_0 and i:  # rational case
                 return 0
             i += 1
+            if i == 300:
+                return 0
```
  I understand why you did it but it is definitely not a solution. What you can do is to raise a `RuntimeError` after a certain limit.

6. All methods must be documented as explained in details in the [developer manual](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings).

Vincent



---

archive/issue_comments_344185.json:
```json
{
    "body": "<a id='comment:5'></a>\nAnd last but not the least: it would be very nice to have Gosper algorithm within Sage!!",
    "created_at": "2016-04-29T19:16:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344185",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
And last but not the least: it would be very nice to have Gosper algorithm within Sage!!



---

archive/issue_comments_344186.json:
```json
{
    "body": "<a id='comment:6'></a>\nHi,\n\nthanks for the great input. \n\nAs for 5.: We need a way to compare instances of _infinite, and even though this is not a valid test, if enough terms are the same, the two continued fractions could be regarded as equal for most practical purposes. Another option would be to compare values, as in _real, but the problem is that\n\n1. value() method is by documentation optional,\n\n2. in case of _infinite, this would delegate the computation of value to RLF, which itself may use comparison,\n\n3. this solution would effectively do the same thing - compute the value of the operands with certain precision and then compare the intervals.\n\nWhat do you think?",
    "created_at": "2016-04-30T08:35:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344186",
    "user": "https://trac.sagemath.org/admin/accounts/users/mirgee"
}
```

<a id='comment:6'></a>
Hi,

thanks for the great input. 

As for 5.: We need a way to compare instances of _infinite, and even though this is not a valid test, if enough terms are the same, the two continued fractions could be regarded as equal for most practical purposes. Another option would be to compare values, as in _real, but the problem is that

1. value() method is by documentation optional,

2. in case of _infinite, this would delegate the computation of value to RLF, which itself may use comparison,

3. this solution would effectively do the same thing - compute the value of the operands with certain precision and then compare the intervals.

What do you think?



---

archive/issue_comments_344187.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n-knowing continued fractions of x and y, compute the continued fraction of x+y\n+Implement a method which, taking continued fractions of x and y as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon\n+\n+```\n+sage: 3*x\n+sage: x+1\n+```\n \n (overlaps with the following TODO item of sage/rings/continued_fraction.py:\n Add Gosper\u2019s algorithm to compute the continued fraction of (ax + b)/(cx + d) knowing the one of x (see Gosper (1972, http://www.inwap.com/pdp10/hbaker/hakmem/cf.html), Knuth (1998, TAOCP vol 2, Exercise 4.5.3.15), Fowler (1999). See also Liardet, P. and Stambul, P. \u201cAlgebraic Computation with Continued Fractions.\u201d J. Number Th. 73, 92-121, 1998.)\n``````\n",
    "created_at": "2016-04-30T08:39:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344187",
    "user": "https://trac.sagemath.org/admin/accounts/users/mirgee"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,9 @@
-knowing continued fractions of x and y, compute the continued fraction of x+y
+Implement a method which, taking continued fractions of x and y as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon
+
+```
+sage: 3*x
+sage: x+1
+```
 
 (overlaps with the following TODO item of sage/rings/continued_fraction.py:
 Add Gosper’s algorithm to compute the continued fraction of (ax + b)/(cx + d) knowing the one of x (see Gosper (1972, http://www.inwap.com/pdp10/hbaker/hakmem/cf.html), Knuth (1998, TAOCP vol 2, Exercise 4.5.3.15), Fowler (1999). See also Liardet, P. and Stambul, P. “Algebraic Computation with Continued Fractions.” J. Number Th. 73, 92-121, 1998.)
``````




---

archive/issue_comments_344188.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Implement a method which, taking continued fractions of x and y as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon\n+Implement a method which, taking continued fraction x as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon\n \n ```\n sage: 3*x\n``````\n",
    "created_at": "2016-04-30T08:40:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344188",
    "user": "https://trac.sagemath.org/admin/accounts/users/mirgee"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Implement a method which, taking continued fractions of x and y as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon
+Implement a method which, taking continued fraction x as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon
 
 ```
 sage: 3*x
``````




---

archive/issue_comments_344189.json:
```json
{
    "body": "Changing commit from \"[51f21d56f009aa01c8fd39a6409956ee935c0e9f](https://github.com/sagemath/sagetrac-mirror/commit/51f21d56f009aa01c8fd39a6409956ee935c0e9f)\" to \"[fa1173a4a5d7a2570212b7dbaa62faf7a9669b37](https://github.com/sagemath/sagetrac-mirror/commit/fa1173a4a5d7a2570212b7dbaa62faf7a9669b37)\"",
    "created_at": "2016-04-30T09:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344189",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[51f21d56f009aa01c8fd39a6409956ee935c0e9f](https://github.com/sagemath/sagetrac-mirror/commit/51f21d56f009aa01c8fd39a6409956ee935c0e9f)" to "[fa1173a4a5d7a2570212b7dbaa62faf7a9669b37](https://github.com/sagemath/sagetrac-mirror/commit/fa1173a4a5d7a2570212b7dbaa62faf7a9669b37)"



---

archive/issue_comments_344190.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|\n|[fa1173a](https://github.com/sagemath/sagetrac-mirror/commit/fa1173a4a5d7a2570212b7dbaa62faf7a9669b37)|`Moved and renamed the continued_fraction_gosper. Added some documentation.`|",
    "created_at": "2016-04-30T09:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344190",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
|[fa1173a](https://github.com/sagemath/sagetrac-mirror/commit/fa1173a4a5d7a2570212b7dbaa62faf7a9669b37)|`Moved and renamed the continued_fraction_gosper. Added some documentation.`|



---

archive/issue_comments_344191.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [mirgee](#comment%3A6):\n> Hi,\n> \n> thanks for the great input. \n> \n> As for 5.: We need a way to compare instances of _infinite, and even though this is not a valid test, if enough terms are the same, the two continued fractions could be regarded as equal for most practical purposes. Another option would be to compare values, as in _real, but the problem is that\n> \n> 1. value() method is by documentation optional,\n> \n> 2. in case of _infinite, this would delegate the computation of value to RLF, which itself may use comparison,\n> \n> 3. this solution would effectively do the same thing - compute the value of the operands with certain precision and then compare the intervals.\n> \n> What do you think?\n\n\nEverything would be better than an silent approximate comparison. If equality can not be decided just raise an error (see [Python exceptions](https://docs.python.org/2/tutorial/errors.html)). I think that in that case an `ArithmeticError` would make sense.\n\nIf you want to check equality up to some precision, you should do\n\n```\nsage: abs(cf1 - cf2) < 2**-100\n```\nor\n\n```\nsage: R = RealIntervalField(256)\nsage: R(cf1).overlaps(R(cf2))\n```",
    "created_at": "2016-04-30T15:34:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344191",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>
Replying to [mirgee](#comment%3A6):
> Hi,
> 
> thanks for the great input. 
> 
> As for 5.: We need a way to compare instances of _infinite, and even though this is not a valid test, if enough terms are the same, the two continued fractions could be regarded as equal for most practical purposes. Another option would be to compare values, as in _real, but the problem is that
> 
> 1. value() method is by documentation optional,
> 
> 2. in case of _infinite, this would delegate the computation of value to RLF, which itself may use comparison,
> 
> 3. this solution would effectively do the same thing - compute the value of the operands with certain precision and then compare the intervals.
> 
> What do you think?


Everything would be better than an silent approximate comparison. If equality can not be decided just raise an error (see [Python exceptions](https://docs.python.org/2/tutorial/errors.html)). I think that in that case an `ArithmeticError` would make sense.

If you want to check equality up to some precision, you should do

```
sage: abs(cf1 - cf2) < 2**-100
```
or

```
sage: R = RealIntervalField(256)
sage: R(cf1).overlaps(R(cf2))
```



---

archive/issue_comments_344192.json:
```json
{
    "body": "<a id='comment:11'></a>\nFor the sake of this ticket I would not implement something like `1+cf` or `3*cf` which needs some work. Having a method `apply_homography` would be enough for a first ticket. In order to include this first part in Sage you need to\n\n- make it compatible with the last version of Sage source code (see 2. in [comment:4]). By the way why did you make this change in `lazy_list.pyx`?\n\n- add doctests to each method or function",
    "created_at": "2016-04-30T15:46:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344192",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
For the sake of this ticket I would not implement something like `1+cf` or `3*cf` which needs some work. Having a method `apply_homography` would be enough for a first ticket. In order to include this first part in Sage you need to

- make it compatible with the last version of Sage source code (see 2. in [comment:4]). By the way why did you make this change in `lazy_list.pyx`?

- add doctests to each method or function



---

archive/issue_comments_344193.json:
```json
{
    "body": "<a id='comment:12'></a>\nThe change in `lazy_list()` is unnecessary and can be deleted. Personally I don't think it is necessary to add doctests for the simple helper functions, but I will comply with the standards and add them, no problem. I will also look into the the comparison.",
    "created_at": "2016-04-30T16:52:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344193",
    "user": "https://trac.sagemath.org/admin/accounts/users/mirgee"
}
```

<a id='comment:12'></a>
The change in `lazy_list()` is unnecessary and can be deleted. Personally I don't think it is necessary to add doctests for the simple helper functions, but I will comply with the standards and add them, no problem. I will also look into the the comparison.



---

archive/issue_comments_344194.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[fa492af](https://github.com/sagemath/sagetrac-mirror/commit/fa492afb7195f88f4862c6f99e20887d105ada17)|`Added more doctests in continued_fraction_gosper.py.`|\n|[fea8eb9](https://github.com/sagemath/sagetrac-mirror/commit/fea8eb997260a2a4d056fc26e4e72752a2e13702)|`Removed unnecessary comments.`|",
    "created_at": "2016-05-03T17:03:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344194",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[fa492af](https://github.com/sagemath/sagetrac-mirror/commit/fa492afb7195f88f4862c6f99e20887d105ada17)|`Added more doctests in continued_fraction_gosper.py.`|
|[fea8eb9](https://github.com/sagemath/sagetrac-mirror/commit/fea8eb997260a2a4d056fc26e4e72752a2e13702)|`Removed unnecessary comments.`|



---

archive/issue_comments_344195.json:
```json
{
    "body": "Changing commit from \"[fa1173a4a5d7a2570212b7dbaa62faf7a9669b37](https://github.com/sagemath/sagetrac-mirror/commit/fa1173a4a5d7a2570212b7dbaa62faf7a9669b37)\" to \"[fea8eb997260a2a4d056fc26e4e72752a2e13702](https://github.com/sagemath/sagetrac-mirror/commit/fea8eb997260a2a4d056fc26e4e72752a2e13702)\"",
    "created_at": "2016-05-03T17:03:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344195",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[fa1173a4a5d7a2570212b7dbaa62faf7a9669b37](https://github.com/sagemath/sagetrac-mirror/commit/fa1173a4a5d7a2570212b7dbaa62faf7a9669b37)" to "[fea8eb997260a2a4d056fc26e4e72752a2e13702](https://github.com/sagemath/sagetrac-mirror/commit/fea8eb997260a2a4d056fc26e4e72752a2e13702)"



---

archive/issue_comments_344196.json:
```json
{
    "body": "Changing commit from \"[fea8eb997260a2a4d056fc26e4e72752a2e13702](https://github.com/sagemath/sagetrac-mirror/commit/fea8eb997260a2a4d056fc26e4e72752a2e13702)\" to \"[92b8aa03f51c1d1abef29b5b4e2f657d267db9eb](https://github.com/sagemath/sagetrac-mirror/commit/92b8aa03f51c1d1abef29b5b4e2f657d267db9eb)\"",
    "created_at": "2016-05-04T09:17:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344196",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[fea8eb997260a2a4d056fc26e4e72752a2e13702](https://github.com/sagemath/sagetrac-mirror/commit/fea8eb997260a2a4d056fc26e4e72752a2e13702)" to "[92b8aa03f51c1d1abef29b5b4e2f657d267db9eb](https://github.com/sagemath/sagetrac-mirror/commit/92b8aa03f51c1d1abef29b5b4e2f657d267db9eb)"



---

archive/issue_comments_344197.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                                                                                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|[92b8aa0](https://github.com/sagemath/sagetrac-mirror/commit/92b8aa03f51c1d1abef29b5b4e2f657d267db9eb)|`Added more unit tests, replaced overwritten method quotients() with get preperiod length, so that all doctests pass. Added a few more doctests. Now all methods are accompanied with doctests.`|",
    "created_at": "2016-05-04T09:17:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344197",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                                                                                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|[92b8aa0](https://github.com/sagemath/sagetrac-mirror/commit/92b8aa03f51c1d1abef29b5b4e2f657d267db9eb)|`Added more unit tests, replaced overwritten method quotients() with get preperiod length, so that all doctests pass. Added a few more doctests. Now all methods are accompanied with doctests.`|



---

archive/issue_comments_344198.json:
```json
{
    "body": "Changing commit from \"[92b8aa03f51c1d1abef29b5b4e2f657d267db9eb](https://github.com/sagemath/sagetrac-mirror/commit/92b8aa03f51c1d1abef29b5b4e2f657d267db9eb)\" to \"[e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb](https://github.com/sagemath/sagetrac-mirror/commit/e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb)\"",
    "created_at": "2016-05-08T20:21:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344198",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[92b8aa03f51c1d1abef29b5b4e2f657d267db9eb](https://github.com/sagemath/sagetrac-mirror/commit/92b8aa03f51c1d1abef29b5b4e2f657d267db9eb)" to "[e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb](https://github.com/sagemath/sagetrac-mirror/commit/e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb)"



---

archive/issue_comments_344199.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                                                                                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|[e063f2f](https://github.com/sagemath/sagetrac-mirror/commit/e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb)|`Using a set of tuples instead of list of dictionaries for state tracking, should improve performance. Using lazy_list instead of Word for instances of infinite continued fractions.`|",
    "created_at": "2016-05-08T20:21:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344199",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                                                                                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|[e063f2f](https://github.com/sagemath/sagetrac-mirror/commit/e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb)|`Using a set of tuples instead of list of dictionaries for state tracking, should improve performance. Using lazy_list instead of Word for instances of infinite continued fractions.`|



---

archive/issue_comments_344200.json:
```json
{
    "body": "<a id='comment:16'></a>\nrebase, squashed, py3-compatible\n\n---\nNew commits:\n|                                                                                                                                          |                                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|\n|[3308c92](https://github.com/sagemath/sagetrac-mirror/commit/3308c92d78c4ef22373f2cf7cccaf5d2273f6a79)|`Implement Gosper algorithm for homographic action on continued fractions`|",
    "created_at": "2019-05-12T12:50:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344200",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
rebase, squashed, py3-compatible

---
New commits:
|                                                                                                                                          |                                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|
|[3308c92](https://github.com/sagemath/sagetrac-mirror/commit/3308c92d78c4ef22373f2cf7cccaf5d2273f6a79)|`Implement Gosper algorithm for homographic action on continued fractions`|



---

archive/issue_comments_344201.json:
```json
{
    "body": "Changing commit from \"[e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb](https://github.com/sagemath/sagetrac-mirror/commit/e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb)\" to \"[3308c92d78c4ef22373f2cf7cccaf5d2273f6a79](https://github.com/sagemath/sagetrac-mirror/commit/3308c92d78c4ef22373f2cf7cccaf5d2273f6a79)\"",
    "created_at": "2019-05-12T12:50:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344201",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "[e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb](https://github.com/sagemath/sagetrac-mirror/commit/e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb)" to "[3308c92d78c4ef22373f2cf7cccaf5d2273f6a79](https://github.com/sagemath/sagetrac-mirror/commit/3308c92d78c4ef22373f2cf7cccaf5d2273f6a79)"



---

archive/issue_comments_344202.json:
```json
{
    "body": "Changing branch from \"[u/mirgee/my_sage_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mirgee/my_sage_1)\" to \"[public/ticket/19120](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/19120)\"",
    "created_at": "2019-05-12T12:50:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344202",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "[u/mirgee/my_sage_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mirgee/my_sage_1)" to "[public/ticket/19120](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/19120)"



---

archive/issue_comments_344203.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[031088f](https://github.com/sagemath/sagetrac-mirror/commit/031088f7ca9b4a18530fb972729472f8e8d71a27)|`fix for py2: also define next`|",
    "created_at": "2019-05-12T20:06:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344203",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[031088f](https://github.com/sagemath/sagetrac-mirror/commit/031088f7ca9b4a18530fb972729472f8e8d71a27)|`fix for py2: also define next`|



---

archive/issue_comments_344204.json:
```json
{
    "body": "Changing commit from \"[3308c92d78c4ef22373f2cf7cccaf5d2273f6a79](https://github.com/sagemath/sagetrac-mirror/commit/3308c92d78c4ef22373f2cf7cccaf5d2273f6a79)\" to \"[031088f7ca9b4a18530fb972729472f8e8d71a27](https://github.com/sagemath/sagetrac-mirror/commit/031088f7ca9b4a18530fb972729472f8e8d71a27)\"",
    "created_at": "2019-05-12T20:06:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344204",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[3308c92d78c4ef22373f2cf7cccaf5d2273f6a79](https://github.com/sagemath/sagetrac-mirror/commit/3308c92d78c4ef22373f2cf7cccaf5d2273f6a79)" to "[031088f7ca9b4a18530fb972729472f8e8d71a27](https://github.com/sagemath/sagetrac-mirror/commit/031088f7ca9b4a18530fb972729472f8e8d71a27)"



---

archive/issue_comments_344205.json:
```json
{
    "body": "Changing keywords from \"continued fractions\" to \"continued_fraction\".",
    "created_at": "2020-09-24T11:21:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344205",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "continued fractions" to "continued_fraction".



---

archive/issue_comments_344206.json:
```json
{
    "body": "Changing commit from \"[031088f7ca9b4a18530fb972729472f8e8d71a27](https://github.com/sagemath/sagetrac-mirror/commit/031088f7ca9b4a18530fb972729472f8e8d71a27)\" to \"[aeb6da12b14ff152dd1ec02abdc0b8cfa35970af](https://github.com/sagemath/sagetrac-mirror/commit/aeb6da12b14ff152dd1ec02abdc0b8cfa35970af)\"",
    "created_at": "2020-09-24T11:41:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344206",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[031088f7ca9b4a18530fb972729472f8e8d71a27](https://github.com/sagemath/sagetrac-mirror/commit/031088f7ca9b4a18530fb972729472f8e8d71a27)" to "[aeb6da12b14ff152dd1ec02abdc0b8cfa35970af](https://github.com/sagemath/sagetrac-mirror/commit/aeb6da12b14ff152dd1ec02abdc0b8cfa35970af)"



---

archive/issue_comments_344207.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[aeb6da1](https://github.com/sagemath/sagetrac-mirror/commit/aeb6da12b14ff152dd1ec02abdc0b8cfa35970af)|`Merge branch 'public/ticket/19120' in 9.2.b12`|",
    "created_at": "2020-09-24T11:41:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344207",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[aeb6da1](https://github.com/sagemath/sagetrac-mirror/commit/aeb6da12b14ff152dd1ec02abdc0b8cfa35970af)|`Merge branch 'public/ticket/19120' in 9.2.b12`|



---

archive/issue_comments_344208.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-09-24T11:48:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344208",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_events_060408.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-09-24T11:58:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19120#event-60408"
}
```



---

archive/issue_comments_344209.json:
```json
{
    "body": "Changing commit from \"[aeb6da12b14ff152dd1ec02abdc0b8cfa35970af](https://github.com/sagemath/sagetrac-mirror/commit/aeb6da12b14ff152dd1ec02abdc0b8cfa35970af)\" to \"[fe2cd08a88e946b7dd9878d3c13d951fb159f376](https://github.com/sagemath/sagetrac-mirror/commit/fe2cd08a88e946b7dd9878d3c13d951fb159f376)\"",
    "created_at": "2020-09-24T12:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344209",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[aeb6da12b14ff152dd1ec02abdc0b8cfa35970af](https://github.com/sagemath/sagetrac-mirror/commit/aeb6da12b14ff152dd1ec02abdc0b8cfa35970af)" to "[fe2cd08a88e946b7dd9878d3c13d951fb159f376](https://github.com/sagemath/sagetrac-mirror/commit/fe2cd08a88e946b7dd9878d3c13d951fb159f376)"



---

archive/issue_comments_344210.json:
```json
{
    "body": "<a id='comment:22'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------|\n|[fe2cd08](https://github.com/sagemath/sagetrac-mirror/commit/fe2cd08a88e946b7dd9878d3c13d951fb159f376)|`fix one returns`|",
    "created_at": "2020-09-24T12:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344210",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
|[fe2cd08](https://github.com/sagemath/sagetrac-mirror/commit/fe2cd08a88e946b7dd9878d3c13d951fb159f376)|`fix one returns`|



---

archive/issue_comments_344211.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-09-24T16:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344211",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_344212.json:
```json
{
    "body": "<a id='comment:23'></a>\nnot suitable yet. I will provide a commit.",
    "created_at": "2020-09-24T16:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344212",
    "user": "https://github.com/videlec"
}
```

<a id='comment:23'></a>
not suitable yet. I will provide a commit.



---

archive/issue_comments_344213.json:
```json
{
    "body": "<a id='comment:24'></a>\nAuthor? (name in the git log is `John Doe <miroslav.kovar`@`concur.com>`)",
    "created_at": "2020-09-24T17:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344213",
    "user": "https://github.com/videlec"
}
```

<a id='comment:24'></a>
Author? (name in the git log is `John Doe <miroslav.kovar`@`concur.com>`)



---

archive/issue_comments_344214.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [vdelecroix](#comment%3A24):\n> Author? (name in the git log is `John Doe <miroslav.kovar`@`concur.com>`)\n\n\nI am the author: Miroslav Kovar (miroslavkovar`@`protonmail.com)",
    "created_at": "2020-09-24T17:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344214",
    "user": "https://trac.sagemath.org/admin/accounts/users/mirgee"
}
```

<a id='comment:25'></a>
Replying to [vdelecroix](#comment%3A24):
> Author? (name in the git log is `John Doe <miroslav.kovar`@`concur.com>`)


I am the author: Miroslav Kovar (miroslavkovar`@`protonmail.com)



---

archive/issue_comments_344215.json:
```json
{
    "body": "Changing commit from \"[fe2cd08a88e946b7dd9878d3c13d951fb159f376](https://github.com/sagemath/sagetrac-mirror/commit/fe2cd08a88e946b7dd9878d3c13d951fb159f376)\" to \"[81e069389c5944f1b26ecc7aac111bda7bc9b1c2](https://github.com/sagemath/sagetrac-mirror/commit/81e069389c5944f1b26ecc7aac111bda7bc9b1c2)\"",
    "created_at": "2020-09-24T17:59:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344215",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[fe2cd08a88e946b7dd9878d3c13d951fb159f376](https://github.com/sagemath/sagetrac-mirror/commit/fe2cd08a88e946b7dd9878d3c13d951fb159f376)" to "[81e069389c5944f1b26ecc7aac111bda7bc9b1c2](https://github.com/sagemath/sagetrac-mirror/commit/81e069389c5944f1b26ecc7aac111bda7bc9b1c2)"



---

archive/issue_comments_344216.json:
```json
{
    "body": "<a id='comment:26'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[81e0693](https://github.com/sagemath/sagetrac-mirror/commit/81e069389c5944f1b26ecc7aac111bda7bc9b1c2)|`fixes, documentation, copyright, optimization`|",
    "created_at": "2020-09-24T17:59:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[81e0693](https://github.com/sagemath/sagetrac-mirror/commit/81e069389c5944f1b26ecc7aac111bda7bc9b1c2)|`fixes, documentation, copyright, optimization`|



---

archive/issue_comments_344217.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [mirgee](#comment%3A25):\n> Replying to [vdelecroix](#comment%3A24):\n> > Author? (name in the git log is `John Doe <miroslav.kovar`@`concur.com>`)\n\n> \n> I am the author: Miroslav Kovar (miroslavkovar`@`protonmail.com)\n\n\nThanks. I put your name and mail in the copyright header of the file.",
    "created_at": "2020-09-24T17:59:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344217",
    "user": "https://github.com/videlec"
}
```

<a id='comment:27'></a>
Replying to [mirgee](#comment%3A25):
> Replying to [vdelecroix](#comment%3A24):
> > Author? (name in the git log is `John Doe <miroslav.kovar`@`concur.com>`)

> 
> I am the author: Miroslav Kovar (miroslavkovar`@`protonmail.com)


Thanks. I put your name and mail in the copyright header of the file.



---

archive/issue_comments_344218.json:
```json
{
    "body": "Author: Miroslav Kovar",
    "created_at": "2020-09-24T18:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344218",
    "user": "https://github.com/videlec"
}
```

Author: Miroslav Kovar



---

archive/issue_comments_344219.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-09-24T18:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344219",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_344220.json:
```json
{
    "body": "Reviewer: Vincent Delecroix",
    "created_at": "2020-09-24T18:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344220",
    "user": "https://github.com/videlec"
}
```

Reviewer: Vincent Delecroix



---

archive/issue_comments_344221.json:
```json
{
    "body": "<a id='comment:29'></a>\npatchbot plugins complain",
    "created_at": "2020-09-25T07:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344221",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:29'></a>
patchbot plugins complain



---

archive/issue_comments_344222.json:
```json
{
    "body": "<a id='comment:30'></a>\nLe reference [LS1998] a une allure bizarre, avec un P isol\u00e9",
    "created_at": "2020-09-25T07:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344222",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:30'></a>
Le reference [LS1998] a une allure bizarre, avec un P isolé



---

archive/issue_comments_344223.json:
```json
{
    "body": "Changing commit from \"[81e069389c5944f1b26ecc7aac111bda7bc9b1c2](https://github.com/sagemath/sagetrac-mirror/commit/81e069389c5944f1b26ecc7aac111bda7bc9b1c2)\" to \"[3323f09f75c96787cd0d7496aa4b761cd32fc1a0](https://github.com/sagemath/sagetrac-mirror/commit/3323f09f75c96787cd0d7496aa4b761cd32fc1a0)\"",
    "created_at": "2020-09-25T13:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344223",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[81e069389c5944f1b26ecc7aac111bda7bc9b1c2](https://github.com/sagemath/sagetrac-mirror/commit/81e069389c5944f1b26ecc7aac111bda7bc9b1c2)" to "[3323f09f75c96787cd0d7496aa4b761cd32fc1a0](https://github.com/sagemath/sagetrac-mirror/commit/3323f09f75c96787cd0d7496aa4b761cd32fc1a0)"



---

archive/issue_comments_344224.json:
```json
{
    "body": "<a id='comment:31'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[3323f09](https://github.com/sagemath/sagetrac-mirror/commit/3323f09f75c96787cd0d7496aa4b761cd32fc1a0)|`enoding, import, references`|",
    "created_at": "2020-09-25T13:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344224",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[3323f09](https://github.com/sagemath/sagetrac-mirror/commit/3323f09f75c96787cd0d7496aa4b761cd32fc1a0)|`enoding, import, references`|



---

archive/issue_comments_344225.json:
```json
{
    "body": "<a id='comment:32'></a>\nMerci. Pyflakes est encore pas content:\n\n```\nsrc/sage/rings/continued_fraction_gosper.py:37:1 'sage.rings.real_mpfr.RR' imported but unused\n```",
    "created_at": "2020-09-26T06:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344225",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:32'></a>
Merci. Pyflakes est encore pas content:

```
src/sage/rings/continued_fraction_gosper.py:37:1 'sage.rings.real_mpfr.RR' imported but unused
```



---

archive/issue_comments_344226.json:
```json
{
    "body": "Changing commit from \"[3323f09f75c96787cd0d7496aa4b761cd32fc1a0](https://github.com/sagemath/sagetrac-mirror/commit/3323f09f75c96787cd0d7496aa4b761cd32fc1a0)\" to \"[7161eafc6a96ba597d3b6165257cac1070f56ac1](https://github.com/sagemath/sagetrac-mirror/commit/7161eafc6a96ba597d3b6165257cac1070f56ac1)\"",
    "created_at": "2020-09-26T15:24:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344226",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[3323f09f75c96787cd0d7496aa4b761cd32fc1a0](https://github.com/sagemath/sagetrac-mirror/commit/3323f09f75c96787cd0d7496aa4b761cd32fc1a0)" to "[7161eafc6a96ba597d3b6165257cac1070f56ac1](https://github.com/sagemath/sagetrac-mirror/commit/7161eafc6a96ba597d3b6165257cac1070f56ac1)"



---

archive/issue_comments_344227.json:
```json
{
    "body": "<a id='comment:33'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[7161eaf](https://github.com/sagemath/sagetrac-mirror/commit/7161eafc6a96ba597d3b6165257cac1070f56ac1)|`remove unused import`|",
    "created_at": "2020-09-26T15:24:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344227",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[7161eaf](https://github.com/sagemath/sagetrac-mirror/commit/7161eafc6a96ba597d3b6165257cac1070f56ac1)|`remove unused import`|



---

archive/issue_comments_344228.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-09-26T15:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344228",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_344229.json:
```json
{
    "body": "<a id='comment:34'></a>\nThere is something wrong in the way infinity is handled. In the situation where we apply `x -> 1 / (qx - p)` to `x=p/q` Gosper iterator is empty. But currently `continued_fraction([])` is wrongly `0`.",
    "created_at": "2020-09-26T15:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344229",
    "user": "https://github.com/videlec"
}
```

<a id='comment:34'></a>
There is something wrong in the way infinity is handled. In the situation where we apply `x -> 1 / (qx - p)` to `x=p/q` Gosper iterator is empty. But currently `continued_fraction([])` is wrongly `0`.



---

archive/issue_comments_344230.json:
```json
{
    "body": "Changing commit from \"[7161eafc6a96ba597d3b6165257cac1070f56ac1](https://github.com/sagemath/sagetrac-mirror/commit/7161eafc6a96ba597d3b6165257cac1070f56ac1)\" to \"[8cafbb46fc9f1a5256e80f53ea37b6712d01652b](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)\"",
    "created_at": "2020-09-26T15:56:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344230",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[7161eafc6a96ba597d3b6165257cac1070f56ac1](https://github.com/sagemath/sagetrac-mirror/commit/7161eafc6a96ba597d3b6165257cac1070f56ac1)" to "[8cafbb46fc9f1a5256e80f53ea37b6712d01652b](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)"



---

archive/issue_comments_344231.json:
```json
{
    "body": "<a id='comment:35'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|\n|[8cafbb4](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)|`fix infinities in continued fraction and do not forward values`|",
    "created_at": "2020-09-26T15:56:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344231",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
|[8cafbb4](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)|`fix infinities in continued fraction and do not forward values`|



---

archive/issue_comments_344232.json:
```json
{
    "body": "<a id='comment:36'></a>\nfixed",
    "created_at": "2020-09-26T15:57:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344232",
    "user": "https://github.com/videlec"
}
```

<a id='comment:36'></a>
fixed



---

archive/issue_comments_344233.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-09-26T15:57:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344233",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_344234.json:
```json
{
    "body": "<a id='comment:37'></a>\nok, this seems to be ready for a positive review ?",
    "created_at": "2020-09-28T07:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344234",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:37'></a>
ok, this seems to be ready for a positive review ?



---

archive/issue_comments_344235.json:
```json
{
    "body": "Changing reviewer from \"Vincent Delecroix\" to \"Vincent Delecroix, Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2020-09-28T09:36:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344235",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "Vincent Delecroix" to "Vincent Delecroix, Frédéric Chapoton"



---

archive/issue_comments_344236.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-28T09:36:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344236",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_060409.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-07T16:23:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19120#event-60409"
}
```



---

archive/issue_comments_344237.json:
```json
{
    "body": "Changing branch from \"[public/ticket/19120](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/19120)\" to \"[8cafbb46fc9f1a5256e80f53ea37b6712d01652b](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)\"",
    "created_at": "2020-11-07T16:23:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344237",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[public/ticket/19120](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/19120)" to "[8cafbb46fc9f1a5256e80f53ea37b6712d01652b](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)"



---

archive/issue_comments_344238.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-11-07T16:23:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19120#issuecomment-344238",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
