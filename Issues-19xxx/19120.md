# Issue 19120: efficient algorithm to compute continued fraction of a sum of continued fractions

archive/issues_018883.json:
```json
{
    "assignees": [],
    "body": "Implement a method which, taking continued fraction x as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon\n\n```\nsage: 3*x\nsage: x+1\n```\n\n(overlaps with the following TODO item of sage/rings/continued_fraction.py:\nAdd Gosper\u2019s algorithm to compute the continued fraction of (ax + b)/(cx + d) knowing the one of x (see Gosper (1972, http://www.inwap.com/pdp10/hbaker/hakmem/cf.html), Knuth (1998, TAOCP vol 2, Exercise 4.5.3.15), Fowler (1999). See also Liardet, P. and Stambul, P. \u201cAlgebraic Computation with Continued Fractions.\u201d J. Number Th. 73, 92-121, 1998.)\n\nAssignee: **@staroste**\n\nCC:  @videlec @staroste\n\nKeywords: **continued_fraction**\n\nBranch/Commit: **[8cafbb4](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)**\n\nReviewer: **Vincent Delecroix, Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Miroslav Kovar**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19120_\n\n",
    "closed_at": "2020-11-07T16:23:27Z",
    "created_at": "2015-09-01T12:03:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "efficient algorithm to compute continued fraction of a sum of continued fractions",
    "type": "issue",
    "updated_at": "2020-11-07T16:23:27Z",
    "url": "https://github.com/sagemath/sage/issues/19120",
    "user": "https://github.com/staroste"
}
```
Implement a method which, taking continued fraction x as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon

```
sage: 3*x
sage: x+1
```

(overlaps with the following TODO item of sage/rings/continued_fraction.py:
Add Gosper’s algorithm to compute the continued fraction of (ax + b)/(cx + d) knowing the one of x (see Gosper (1972, http://www.inwap.com/pdp10/hbaker/hakmem/cf.html), Knuth (1998, TAOCP vol 2, Exercise 4.5.3.15), Fowler (1999). See also Liardet, P. and Stambul, P. “Algebraic Computation with Continued Fractions.” J. Number Th. 73, 92-121, 1998.)

Assignee: **@staroste**

CC:  @videlec @staroste

Keywords: **continued_fraction**

Branch/Commit: **[8cafbb4](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)**

Reviewer: **Vincent Delecroix, Frédéric Chapoton**

Author: **Miroslav Kovar**

_Issue created by migration from https://trac.sagemath.org/ticket/19120_





---

archive/issue_events_244472.json:
```json
{
    "actor": "https://github.com/staroste",
    "created_at": "2015-09-01T12:03:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244472"
}
```



---

archive/issue_events_244473.json:
```json
{
    "actor": "https://github.com/staroste",
    "created_at": "2015-09-01T12:03:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
    "label_color": "0000ff",
    "label_name": "component: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244473"
}
```



---

archive/issue_events_244474.json:
```json
{
    "actor": "https://github.com/staroste",
    "created_at": "2015-09-01T12:03:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244474"
}
```



---

archive/issue_events_244475.json:
```json
{
    "actor": "https://github.com/staroste",
    "created_at": "2015-09-01T12:03:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244475"
}
```



---

archive/issue_comments_272687.json:
```json
{
    "body": "Branch: **[u/mirgee/my_sage_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mirgee/my_sage_1)**",
    "created_at": "2016-04-29T09:33:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272687",
    "user": "https://github.com/sagetrac-mirgee"
}
```

Branch: **[u/mirgee/my_sage_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mirgee/my_sage_1)**



---

archive/issue_comments_272688.json:
```json
{
    "body": "Commit: **[3fcc597](https://github.com/sagemath/sagetrac-mirror/commit/3fcc597e97e028f66e1fc1048338d6dd8f20a836)**",
    "created_at": "2016-04-29T09:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272688",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[3fcc597](https://github.com/sagemath/sagetrac-mirror/commit/3fcc597e97e028f66e1fc1048338d6dd8f20a836)**



---

archive/issue_comments_272689.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/171498b80ccc709218e887529932499cc72b4e14\">171498b</a></td><td><code>Solved the big bug with the negative value of infinite continued fraction! :)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7836c3e5b61a0e17415dba7b123595a3bb07b8ed\">7836c3e</a></td><td><code>Don't know what changed. Backing up.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c6b445de3c08a8ff170ceee099f6ade143ad26b\">7c6b445</a></td><td><code>Added a few lines to check for problem with singularity.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56c76e2dea2484faf5e68c6e6bf706c2466693fb\">56c76e2</a></td><td><code>Latest version... Don't know what changed :)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ab71ab9e447fb55d6f1f0752ef2d2dd0a9e44d5\">3ab71ab</a></td><td><code>Done some code refactoring, tried to make the code simpler and more readable. I hope I didn't break it.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2bd5194354ec2191a897988e0b724f16f1ef9289\">2bd5194</a></td><td><code>Of course I broke something. Bug for infinite fractions fixed and code shortened.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0dece4c011ea38f6dbb2e10826de51f8387040d1\">0dece4c</a></td><td><code>Added a test and fixed associated bugs (hopefully).</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e246b634e8638c9975bee48976297f92a1a78522\">e246b63</a></td><td><code>Added a test and fixed associated bugs (hopefully).</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9714f84bf54f925b9e37e2723d3a0fa77e2a54b\">f9714f8</a></td><td><code>Added check for arguments' validity.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3fcc597e97e028f66e1fc1048338d6dd8f20a836\">3fcc597</a></td><td><code>Moved Gosper iterator.</code></td></tr></table>\n",
    "created_at": "2016-04-29T09:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272689",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/171498b80ccc709218e887529932499cc72b4e14">171498b</a></td><td><code>Solved the big bug with the negative value of infinite continued fraction! :)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7836c3e5b61a0e17415dba7b123595a3bb07b8ed">7836c3e</a></td><td><code>Don't know what changed. Backing up.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c6b445de3c08a8ff170ceee099f6ade143ad26b">7c6b445</a></td><td><code>Added a few lines to check for problem with singularity.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56c76e2dea2484faf5e68c6e6bf706c2466693fb">56c76e2</a></td><td><code>Latest version... Don't know what changed :)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ab71ab9e447fb55d6f1f0752ef2d2dd0a9e44d5">3ab71ab</a></td><td><code>Done some code refactoring, tried to make the code simpler and more readable. I hope I didn't break it.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2bd5194354ec2191a897988e0b724f16f1ef9289">2bd5194</a></td><td><code>Of course I broke something. Bug for infinite fractions fixed and code shortened.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0dece4c011ea38f6dbb2e10826de51f8387040d1">0dece4c</a></td><td><code>Added a test and fixed associated bugs (hopefully).</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e246b634e8638c9975bee48976297f92a1a78522">e246b63</a></td><td><code>Added a test and fixed associated bugs (hopefully).</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9714f84bf54f925b9e37e2723d3a0fa77e2a54b">f9714f8</a></td><td><code>Added check for arguments' validity.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3fcc597e97e028f66e1fc1048338d6dd8f20a836">3fcc597</a></td><td><code>Moved Gosper iterator.</code></td></tr></table>




---

archive/issue_comments_272690.json:
```json
{
    "body": "Changed commit from **[3fcc597](https://github.com/sagemath/sagetrac-mirror/commit/3fcc597e97e028f66e1fc1048338d6dd8f20a836)** to **[51f21d5](https://github.com/sagemath/sagetrac-mirror/commit/51f21d56f009aa01c8fd39a6409956ee935c0e9f)**",
    "created_at": "2016-04-29T11:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272690",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3fcc597](https://github.com/sagemath/sagetrac-mirror/commit/3fcc597e97e028f66e1fc1048338d6dd8f20a836)** to **[51f21d5](https://github.com/sagemath/sagetrac-mirror/commit/51f21d56f009aa01c8fd39a6409956ee935c0e9f)**



---

archive/issue_comments_272691.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51f21d56f009aa01c8fd39a6409956ee935c0e9f\">51f21d5</a></td><td><code>Better check coefficients using Integer.</code></td></tr></table>\n",
    "created_at": "2016-04-29T11:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272691",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51f21d56f009aa01c8fd39a6409956ee935c0e9f">51f21d5</a></td><td><code>Better check coefficients using Integer.</code></td></tr></table>




---

archive/issue_comments_272692.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nHello,\n\nSome remarks:\n\n1. You would better edit the description of this ticket to explain what you want to do.\n\n2. Your branch does not merge cleanly with the last beta. The reason is that you added a line in `lazy_list.pyx`: `from sage.rings.all import Infinity`. It is always better to base your work on the latest available version of the source code. You can consult the [developer manual](http://doc.sagemath.org/html/en/developer/manual_git.html).\n\n3. The commit message should reflect what is inside the commit. Not your mood at the time you did the commit.\n\n4. The file with gosper algorithm should not be in `sage/misc/`. Put it in the same directory as `continued_fraction.py`. And you would better call it `continued_fraction_gosper.py`.\n\n5. In `continued_fraction.py` you added the following in the comparison code\n\n```diff\n@@ -530,6 +530,8 @@ class ContinuedFraction_base(SageObject):\n             if a == ZZ_0 and b == ZZ_0 and i:  # rational case\n                 return 0\n             i += 1\n+            if i == 300:\n+                return 0\n```\n  I understand why you did it but it is definitely not a solution. What you can do is to raise a `RuntimeError` after a certain limit.\n\n6. All methods must be documented as explained in details in the [developer manual](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings).\n\nVincent",
    "created_at": "2016-04-29T18:11:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272692",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'>Comment 4:</a>
Hello,

Some remarks:

1. You would better edit the description of this ticket to explain what you want to do.

2. Your branch does not merge cleanly with the last beta. The reason is that you added a line in `lazy_list.pyx`: `from sage.rings.all import Infinity`. It is always better to base your work on the latest available version of the source code. You can consult the [developer manual](http://doc.sagemath.org/html/en/developer/manual_git.html).

3. The commit message should reflect what is inside the commit. Not your mood at the time you did the commit.

4. The file with gosper algorithm should not be in `sage/misc/`. Put it in the same directory as `continued_fraction.py`. And you would better call it `continued_fraction_gosper.py`.

5. In `continued_fraction.py` you added the following in the comparison code

```diff
@@ -530,6 +530,8 @@ class ContinuedFraction_base(SageObject):
             if a == ZZ_0 and b == ZZ_0 and i:  # rational case
                 return 0
             i += 1
+            if i == 300:
+                return 0
```
  I understand why you did it but it is definitely not a solution. What you can do is to raise a `RuntimeError` after a certain limit.

6. All methods must be documented as explained in details in the [developer manual](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings).

Vincent



---

archive/issue_comments_272693.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nAnd last but not the least: it would be very nice to have Gosper algorithm within Sage!!",
    "created_at": "2016-04-29T19:16:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272693",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'>Comment 5:</a>
And last but not the least: it would be very nice to have Gosper algorithm within Sage!!



---

archive/issue_comments_272694.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nHi,\n\nthanks for the great input. \n\nAs for 5.: We need a way to compare instances of _infinite, and even though this is not a valid test, if enough terms are the same, the two continued fractions could be regarded as equal for most practical purposes. Another option would be to compare values, as in _real, but the problem is that\n\n1. value() method is by documentation optional,\n\n2. in case of _infinite, this would delegate the computation of value to RLF, which itself may use comparison,\n\n3. this solution would effectively do the same thing - compute the value of the operands with certain precision and then compare the intervals.\n\nWhat do you think?",
    "created_at": "2016-04-30T08:35:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272694",
    "user": "https://github.com/sagetrac-mirgee"
}
```

<a id='comment:6'>Comment 6:</a>
Hi,

thanks for the great input. 

As for 5.: We need a way to compare instances of _infinite, and even though this is not a valid test, if enough terms are the same, the two continued fractions could be regarded as equal for most practical purposes. Another option would be to compare values, as in _real, but the problem is that

1. value() method is by documentation optional,

2. in case of _infinite, this would delegate the computation of value to RLF, which itself may use comparison,

3. this solution would effectively do the same thing - compute the value of the operands with certain precision and then compare the intervals.

What do you think?



---

archive/issue_comments_272695.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n-knowing continued fractions of x and y, compute the continued fraction of x+y\n+Implement a method which, taking continued fractions of x and y as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon\n+\n+```\n+sage: 3*x\n+sage: x+1\n+```\n \n (overlaps with the following TODO item of sage/rings/continued_fraction.py:\n Add Gosper\u2019s algorithm to compute the continued fraction of (ax + b)/(cx + d) knowing the one of x (see Gosper (1972, http://www.inwap.com/pdp10/hbaker/hakmem/cf.html), Knuth (1998, TAOCP vol 2, Exercise 4.5.3.15), Fowler (1999). See also Liardet, P. and Stambul, P. \u201cAlgebraic Computation with Continued Fractions.\u201d J. Number Th. 73, 92-121, 1998.)\n``````\n",
    "created_at": "2016-04-30T08:39:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272695",
    "user": "https://github.com/sagetrac-mirgee"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,9 @@
-knowing continued fractions of x and y, compute the continued fraction of x+y
+Implement a method which, taking continued fractions of x and y as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon
+
+```
+sage: 3*x
+sage: x+1
+```
 
 (overlaps with the following TODO item of sage/rings/continued_fraction.py:
 Add Gosper’s algorithm to compute the continued fraction of (ax + b)/(cx + d) knowing the one of x (see Gosper (1972, http://www.inwap.com/pdp10/hbaker/hakmem/cf.html), Knuth (1998, TAOCP vol 2, Exercise 4.5.3.15), Fowler (1999). See also Liardet, P. and Stambul, P. “Algebraic Computation with Continued Fractions.” J. Number Th. 73, 92-121, 1998.)
``````




---

archive/issue_comments_272696.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Implement a method which, taking continued fractions of x and y as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon\n+Implement a method which, taking continued fraction x as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon\n \n ```\n sage: 3*x\n``````\n",
    "created_at": "2016-04-30T08:40:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272696",
    "user": "https://github.com/sagetrac-mirgee"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Implement a method which, taking continued fractions of x and y as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon
+Implement a method which, taking continued fraction x as an input, computes the continued fraction of (a*x+b)/(c*x+d) using Gosper's algorithm. Call this method with proper arguments upon
 
 ```
 sage: 3*x
``````




---

archive/issue_comments_272697.json:
```json
{
    "body": "Changed commit from **[51f21d5](https://github.com/sagemath/sagetrac-mirror/commit/51f21d56f009aa01c8fd39a6409956ee935c0e9f)** to **[fa1173a](https://github.com/sagemath/sagetrac-mirror/commit/fa1173a4a5d7a2570212b7dbaa62faf7a9669b37)**",
    "created_at": "2016-04-30T09:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272697",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[51f21d5](https://github.com/sagemath/sagetrac-mirror/commit/51f21d56f009aa01c8fd39a6409956ee935c0e9f)** to **[fa1173a](https://github.com/sagemath/sagetrac-mirror/commit/fa1173a4a5d7a2570212b7dbaa62faf7a9669b37)**



---

archive/issue_comments_272698.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa1173a4a5d7a2570212b7dbaa62faf7a9669b37\">fa1173a</a></td><td><code>Moved and renamed the continued_fraction_gosper. Added some documentation.</code></td></tr></table>\n",
    "created_at": "2016-04-30T09:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272698",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa1173a4a5d7a2570212b7dbaa62faf7a9669b37">fa1173a</a></td><td><code>Moved and renamed the continued_fraction_gosper. Added some documentation.</code></td></tr></table>




---

archive/issue_comments_272699.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [mirgee](#comment%3A6):\n> Hi,\n> \n> thanks for the great input. \n> \n> As for 5.: We need a way to compare instances of _infinite, and even though this is not a valid test, if enough terms are the same, the two continued fractions could be regarded as equal for most practical purposes. Another option would be to compare values, as in _real, but the problem is that\n> \n> 1. value() method is by documentation optional,\n> \n> 2. in case of _infinite, this would delegate the computation of value to RLF, which itself may use comparison,\n> \n> 3. this solution would effectively do the same thing - compute the value of the operands with certain precision and then compare the intervals.\n> \n> What do you think?\n\nEverything would be better than an silent approximate comparison. If equality can not be decided just raise an error (see [Python exceptions](https://docs.python.org/2/tutorial/errors.html)). I think that in that case an `ArithmeticError` would make sense.\n\nIf you want to check equality up to some precision, you should do\n\n```\nsage: abs(cf1 - cf2) < 2**-100\n```\nor\n\n```\nsage: R = RealIntervalField(256)\nsage: R(cf1).overlaps(R(cf2))\n```",
    "created_at": "2016-04-30T15:34:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272699",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [mirgee](#comment%3A6):
> Hi,
> 
> thanks for the great input. 
> 
> As for 5.: We need a way to compare instances of _infinite, and even though this is not a valid test, if enough terms are the same, the two continued fractions could be regarded as equal for most practical purposes. Another option would be to compare values, as in _real, but the problem is that
> 
> 1. value() method is by documentation optional,
> 
> 2. in case of _infinite, this would delegate the computation of value to RLF, which itself may use comparison,
> 
> 3. this solution would effectively do the same thing - compute the value of the operands with certain precision and then compare the intervals.
> 
> What do you think?

Everything would be better than an silent approximate comparison. If equality can not be decided just raise an error (see [Python exceptions](https://docs.python.org/2/tutorial/errors.html)). I think that in that case an `ArithmeticError` would make sense.

If you want to check equality up to some precision, you should do

```
sage: abs(cf1 - cf2) < 2**-100
```
or

```
sage: R = RealIntervalField(256)
sage: R(cf1).overlaps(R(cf2))
```



---

archive/issue_comments_272700.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nFor the sake of this ticket I would not implement something like `1+cf` or `3*cf` which needs some work. Having a method `apply_homography` would be enough for a first ticket. In order to include this first part in Sage you need to\n\n- make it compatible with the last version of Sage source code (see 2. in [comment:4]). By the way why did you make this change in `lazy_list.pyx`?\n\n- add doctests to each method or function",
    "created_at": "2016-04-30T15:46:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272700",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'>Comment 11:</a>
For the sake of this ticket I would not implement something like `1+cf` or `3*cf` which needs some work. Having a method `apply_homography` would be enough for a first ticket. In order to include this first part in Sage you need to

- make it compatible with the last version of Sage source code (see 2. in [comment:4]). By the way why did you make this change in `lazy_list.pyx`?

- add doctests to each method or function



---

archive/issue_comments_272701.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nThe change in `lazy_list()` is unnecessary and can be deleted. Personally I don't think it is necessary to add doctests for the simple helper functions, but I will comply with the standards and add them, no problem. I will also look into the the comparison.",
    "created_at": "2016-04-30T16:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272701",
    "user": "https://github.com/sagetrac-mirgee"
}
```

<a id='comment:12'>Comment 12:</a>
The change in `lazy_list()` is unnecessary and can be deleted. Personally I don't think it is necessary to add doctests for the simple helper functions, but I will comply with the standards and add them, no problem. I will also look into the the comparison.



---

archive/issue_comments_272702.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa492afb7195f88f4862c6f99e20887d105ada17\">fa492af</a></td><td><code>Added more doctests in continued_fraction_gosper.py.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fea8eb997260a2a4d056fc26e4e72752a2e13702\">fea8eb9</a></td><td><code>Removed unnecessary comments.</code></td></tr></table>\n",
    "created_at": "2016-05-03T17:03:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272702",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa492afb7195f88f4862c6f99e20887d105ada17">fa492af</a></td><td><code>Added more doctests in continued_fraction_gosper.py.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fea8eb997260a2a4d056fc26e4e72752a2e13702">fea8eb9</a></td><td><code>Removed unnecessary comments.</code></td></tr></table>




---

archive/issue_comments_272703.json:
```json
{
    "body": "Changed commit from **[fa1173a](https://github.com/sagemath/sagetrac-mirror/commit/fa1173a4a5d7a2570212b7dbaa62faf7a9669b37)** to **[fea8eb9](https://github.com/sagemath/sagetrac-mirror/commit/fea8eb997260a2a4d056fc26e4e72752a2e13702)**",
    "created_at": "2016-05-03T17:03:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272703",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fa1173a](https://github.com/sagemath/sagetrac-mirror/commit/fa1173a4a5d7a2570212b7dbaa62faf7a9669b37)** to **[fea8eb9](https://github.com/sagemath/sagetrac-mirror/commit/fea8eb997260a2a4d056fc26e4e72752a2e13702)**



---

archive/issue_comments_272704.json:
```json
{
    "body": "Changed commit from **[fea8eb9](https://github.com/sagemath/sagetrac-mirror/commit/fea8eb997260a2a4d056fc26e4e72752a2e13702)** to **[92b8aa0](https://github.com/sagemath/sagetrac-mirror/commit/92b8aa03f51c1d1abef29b5b4e2f657d267db9eb)**",
    "created_at": "2016-05-04T09:17:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272704",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fea8eb9](https://github.com/sagemath/sagetrac-mirror/commit/fea8eb997260a2a4d056fc26e4e72752a2e13702)** to **[92b8aa0](https://github.com/sagemath/sagetrac-mirror/commit/92b8aa03f51c1d1abef29b5b4e2f657d267db9eb)**



---

archive/issue_comments_272705.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92b8aa03f51c1d1abef29b5b4e2f657d267db9eb\">92b8aa0</a></td><td><code>Added more unit tests, replaced overwritten method quotients() with get preperiod length, so that all doctests pass. Added a few more doctests. Now all methods are accompanied with doctests.</code></td></tr></table>\n",
    "created_at": "2016-05-04T09:17:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272705",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92b8aa03f51c1d1abef29b5b4e2f657d267db9eb">92b8aa0</a></td><td><code>Added more unit tests, replaced overwritten method quotients() with get preperiod length, so that all doctests pass. Added a few more doctests. Now all methods are accompanied with doctests.</code></td></tr></table>




---

archive/issue_comments_272706.json:
```json
{
    "body": "Changed commit from **[92b8aa0](https://github.com/sagemath/sagetrac-mirror/commit/92b8aa03f51c1d1abef29b5b4e2f657d267db9eb)** to **[e063f2f](https://github.com/sagemath/sagetrac-mirror/commit/e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb)**",
    "created_at": "2016-05-08T20:21:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272706",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[92b8aa0](https://github.com/sagemath/sagetrac-mirror/commit/92b8aa03f51c1d1abef29b5b4e2f657d267db9eb)** to **[e063f2f](https://github.com/sagemath/sagetrac-mirror/commit/e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb)**



---

archive/issue_comments_272707.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb\">e063f2f</a></td><td><code>Using a set of tuples instead of list of dictionaries for state tracking, should improve performance. Using lazy_list instead of Word for instances of infinite continued fractions.</code></td></tr></table>\n",
    "created_at": "2016-05-08T20:21:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272707",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'>Comment 15:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb">e063f2f</a></td><td><code>Using a set of tuples instead of list of dictionaries for state tracking, should improve performance. Using lazy_list instead of Word for instances of infinite continued fractions.</code></td></tr></table>




---

archive/issue_comments_272708.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nrebase, squashed, py3-compatible\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3308c92d78c4ef22373f2cf7cccaf5d2273f6a79\">3308c92</a></td><td><code>Implement Gosper algorithm for homographic action on continued fractions</code></td></tr></table>\n",
    "created_at": "2019-05-12T12:50:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272708",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'>Comment 16:</a>
rebase, squashed, py3-compatible

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3308c92d78c4ef22373f2cf7cccaf5d2273f6a79">3308c92</a></td><td><code>Implement Gosper algorithm for homographic action on continued fractions</code></td></tr></table>




---

archive/issue_comments_272709.json:
```json
{
    "body": "Changed commit from **[e063f2f](https://github.com/sagemath/sagetrac-mirror/commit/e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb)** to **[3308c92](https://github.com/sagemath/sagetrac-mirror/commit/3308c92d78c4ef22373f2cf7cccaf5d2273f6a79)**",
    "created_at": "2019-05-12T12:50:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272709",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[e063f2f](https://github.com/sagemath/sagetrac-mirror/commit/e063f2fbdb0d43ee4d75b13d23c1f88eb1d125cb)** to **[3308c92](https://github.com/sagemath/sagetrac-mirror/commit/3308c92d78c4ef22373f2cf7cccaf5d2273f6a79)**



---

archive/issue_comments_272710.json:
```json
{
    "body": "Changed branch from **[u/mirgee/my_sage_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mirgee/my_sage_1)** to **[public/ticket/19120](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/19120)**",
    "created_at": "2019-05-12T12:50:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272710",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/mirgee/my_sage_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mirgee/my_sage_1)** to **[public/ticket/19120](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/19120)**



---

archive/issue_comments_272711.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/031088f7ca9b4a18530fb972729472f8e8d71a27\">031088f</a></td><td><code>fix for py2: also define next</code></td></tr></table>\n",
    "created_at": "2019-05-12T20:06:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272711",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/031088f7ca9b4a18530fb972729472f8e8d71a27">031088f</a></td><td><code>fix for py2: also define next</code></td></tr></table>




---

archive/issue_comments_272712.json:
```json
{
    "body": "Changed commit from **[3308c92](https://github.com/sagemath/sagetrac-mirror/commit/3308c92d78c4ef22373f2cf7cccaf5d2273f6a79)** to **[031088f](https://github.com/sagemath/sagetrac-mirror/commit/031088f7ca9b4a18530fb972729472f8e8d71a27)**",
    "created_at": "2019-05-12T20:06:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272712",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3308c92](https://github.com/sagemath/sagetrac-mirror/commit/3308c92d78c4ef22373f2cf7cccaf5d2273f6a79)** to **[031088f](https://github.com/sagemath/sagetrac-mirror/commit/031088f7ca9b4a18530fb972729472f8e8d71a27)**



---

archive/issue_comments_272713.json:
```json
{
    "body": "Changed keywords from **continued fractions** to **continued_fraction**",
    "created_at": "2020-09-24T11:21:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272713",
    "user": "https://github.com/fchapoton"
}
```

Changed keywords from **continued fractions** to **continued_fraction**



---

archive/issue_comments_272714.json:
```json
{
    "body": "Changed commit from **[031088f](https://github.com/sagemath/sagetrac-mirror/commit/031088f7ca9b4a18530fb972729472f8e8d71a27)** to **[aeb6da1](https://github.com/sagemath/sagetrac-mirror/commit/aeb6da12b14ff152dd1ec02abdc0b8cfa35970af)**",
    "created_at": "2020-09-24T11:41:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272714",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[031088f](https://github.com/sagemath/sagetrac-mirror/commit/031088f7ca9b4a18530fb972729472f8e8d71a27)** to **[aeb6da1](https://github.com/sagemath/sagetrac-mirror/commit/aeb6da12b14ff152dd1ec02abdc0b8cfa35970af)**



---

archive/issue_comments_272715.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aeb6da12b14ff152dd1ec02abdc0b8cfa35970af\">aeb6da1</a></td><td><code>Merge branch 'public/ticket/19120' in 9.2.b12</code></td></tr></table>\n",
    "created_at": "2020-09-24T11:41:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272715",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aeb6da12b14ff152dd1ec02abdc0b8cfa35970af">aeb6da1</a></td><td><code>Merge branch 'public/ticket/19120' in 9.2.b12</code></td></tr></table>




---

archive/issue_events_244476.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-09-24T11:48:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244476"
}
```



---

archive/issue_events_244477.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-09-24T11:58:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244477"
}
```



---

archive/issue_comments_272716.json:
```json
{
    "body": "Changed commit from **[aeb6da1](https://github.com/sagemath/sagetrac-mirror/commit/aeb6da12b14ff152dd1ec02abdc0b8cfa35970af)** to **[fe2cd08](https://github.com/sagemath/sagetrac-mirror/commit/fe2cd08a88e946b7dd9878d3c13d951fb159f376)**",
    "created_at": "2020-09-24T12:06:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272716",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[aeb6da1](https://github.com/sagemath/sagetrac-mirror/commit/aeb6da12b14ff152dd1ec02abdc0b8cfa35970af)** to **[fe2cd08](https://github.com/sagemath/sagetrac-mirror/commit/fe2cd08a88e946b7dd9878d3c13d951fb159f376)**



---

archive/issue_comments_272717.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe2cd08a88e946b7dd9878d3c13d951fb159f376\">fe2cd08</a></td><td><code>fix one returns</code></td></tr></table>\n",
    "created_at": "2020-09-24T12:06:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272717",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'>Comment 22:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe2cd08a88e946b7dd9878d3c13d951fb159f376">fe2cd08</a></td><td><code>fix one returns</code></td></tr></table>




---

archive/issue_events_244478.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-09-24T16:53:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244478"
}
```



---

archive/issue_events_244479.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-09-24T16:53:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244479"
}
```



---

archive/issue_comments_272718.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nnot suitable yet. I will provide a commit.",
    "created_at": "2020-09-24T16:53:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272718",
    "user": "https://github.com/videlec"
}
```

<a id='comment:23'>Comment 23:</a>
not suitable yet. I will provide a commit.



---

archive/issue_comments_272719.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nAuthor? (name in the git log is `John Doe <miroslav.kovar@concur.com>`)",
    "created_at": "2020-09-24T17:11:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272719",
    "user": "https://github.com/videlec"
}
```

<a id='comment:24'>Comment 24:</a>
Author? (name in the git log is `John Doe <miroslav.kovar@concur.com>`)



---

archive/issue_comments_272720.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nReplying to [@videlec](#comment%3A24):\n> Author? (name in the git log is `John Doe <miroslav.kovar@concur.com>`)\n\nI am the author: Miroslav Kovar (miroslavkovar@protonmail.com)",
    "created_at": "2020-09-24T17:16:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272720",
    "user": "https://github.com/sagetrac-mirgee"
}
```

<a id='comment:25'>Comment 25:</a>
Replying to [@videlec](#comment%3A24):
> Author? (name in the git log is `John Doe <miroslav.kovar@concur.com>`)

I am the author: Miroslav Kovar (miroslavkovar@protonmail.com)



---

archive/issue_comments_272721.json:
```json
{
    "body": "Changed commit from **[fe2cd08](https://github.com/sagemath/sagetrac-mirror/commit/fe2cd08a88e946b7dd9878d3c13d951fb159f376)** to **[81e0693](https://github.com/sagemath/sagetrac-mirror/commit/81e069389c5944f1b26ecc7aac111bda7bc9b1c2)**",
    "created_at": "2020-09-24T17:59:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272721",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fe2cd08](https://github.com/sagemath/sagetrac-mirror/commit/fe2cd08a88e946b7dd9878d3c13d951fb159f376)** to **[81e0693](https://github.com/sagemath/sagetrac-mirror/commit/81e069389c5944f1b26ecc7aac111bda7bc9b1c2)**



---

archive/issue_comments_272722.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81e069389c5944f1b26ecc7aac111bda7bc9b1c2\">81e0693</a></td><td><code>fixes, documentation, copyright, optimization</code></td></tr></table>\n",
    "created_at": "2020-09-24T17:59:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272722",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:26'>Comment 26:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81e069389c5944f1b26ecc7aac111bda7bc9b1c2">81e0693</a></td><td><code>fixes, documentation, copyright, optimization</code></td></tr></table>




---

archive/issue_comments_272723.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nReplying to [mirgee](#comment%3A25):\n> Replying to [@videlec](#comment%3A24):\n> > Author? (name in the git log is `John Doe <miroslav.kovar@concur.com>`)\n\n> \n> I am the author: Miroslav Kovar (miroslavkovar@protonmail.com)\n\nThanks. I put your name and mail in the copyright header of the file.",
    "created_at": "2020-09-24T17:59:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272723",
    "user": "https://github.com/videlec"
}
```

<a id='comment:27'>Comment 27:</a>
Replying to [mirgee](#comment%3A25):
> Replying to [@videlec](#comment%3A24):
> > Author? (name in the git log is `John Doe <miroslav.kovar@concur.com>`)

> 
> I am the author: Miroslav Kovar (miroslavkovar@protonmail.com)

Thanks. I put your name and mail in the copyright header of the file.



---

archive/issue_comments_272724.json:
```json
{
    "body": "Author: **Miroslav Kovar**",
    "created_at": "2020-09-24T18:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272724",
    "user": "https://github.com/videlec"
}
```

Author: **Miroslav Kovar**



---

archive/issue_events_244480.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-09-24T18:00:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244480"
}
```



---

archive/issue_events_244481.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-09-24T18:00:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244481"
}
```



---

archive/issue_comments_272725.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2020-09-24T18:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272725",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_272726.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\npatchbot plugins complain",
    "created_at": "2020-09-25T07:24:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272726",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:29'>Comment 29:</a>
patchbot plugins complain



---

archive/issue_comments_272727.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nLe reference [LS1998] a une allure bizarre, avec un P isol\u00e9",
    "created_at": "2020-09-25T07:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272727",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:30'>Comment 30:</a>
Le reference [LS1998] a une allure bizarre, avec un P isolé



---

archive/issue_comments_272728.json:
```json
{
    "body": "Changed commit from **[81e0693](https://github.com/sagemath/sagetrac-mirror/commit/81e069389c5944f1b26ecc7aac111bda7bc9b1c2)** to **[3323f09](https://github.com/sagemath/sagetrac-mirror/commit/3323f09f75c96787cd0d7496aa4b761cd32fc1a0)**",
    "created_at": "2020-09-25T13:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272728",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[81e0693](https://github.com/sagemath/sagetrac-mirror/commit/81e069389c5944f1b26ecc7aac111bda7bc9b1c2)** to **[3323f09](https://github.com/sagemath/sagetrac-mirror/commit/3323f09f75c96787cd0d7496aa4b761cd32fc1a0)**



---

archive/issue_comments_272729.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3323f09f75c96787cd0d7496aa4b761cd32fc1a0\">3323f09</a></td><td><code>enoding, import, references</code></td></tr></table>\n",
    "created_at": "2020-09-25T13:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272729",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:31'>Comment 31:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3323f09f75c96787cd0d7496aa4b761cd32fc1a0">3323f09</a></td><td><code>enoding, import, references</code></td></tr></table>




---

archive/issue_comments_272730.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nMerci. Pyflakes est encore pas content:\n\n```\nsrc/sage/rings/continued_fraction_gosper.py:37:1 'sage.rings.real_mpfr.RR' imported but unused\n```",
    "created_at": "2020-09-26T06:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272730",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:32'>Comment 32:</a>
Merci. Pyflakes est encore pas content:

```
src/sage/rings/continued_fraction_gosper.py:37:1 'sage.rings.real_mpfr.RR' imported but unused
```



---

archive/issue_comments_272731.json:
```json
{
    "body": "Changed commit from **[3323f09](https://github.com/sagemath/sagetrac-mirror/commit/3323f09f75c96787cd0d7496aa4b761cd32fc1a0)** to **[7161eaf](https://github.com/sagemath/sagetrac-mirror/commit/7161eafc6a96ba597d3b6165257cac1070f56ac1)**",
    "created_at": "2020-09-26T15:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272731",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3323f09](https://github.com/sagemath/sagetrac-mirror/commit/3323f09f75c96787cd0d7496aa4b761cd32fc1a0)** to **[7161eaf](https://github.com/sagemath/sagetrac-mirror/commit/7161eafc6a96ba597d3b6165257cac1070f56ac1)**



---

archive/issue_comments_272732.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7161eafc6a96ba597d3b6165257cac1070f56ac1\">7161eaf</a></td><td><code>remove unused import</code></td></tr></table>\n",
    "created_at": "2020-09-26T15:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272732",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:33'>Comment 33:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7161eafc6a96ba597d3b6165257cac1070f56ac1">7161eaf</a></td><td><code>remove unused import</code></td></tr></table>




---

archive/issue_events_244482.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-09-26T15:42:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244482"
}
```



---

archive/issue_events_244483.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-09-26T15:42:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244483"
}
```



---

archive/issue_comments_272733.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nThere is something wrong in the way infinity is handled. In the situation where we apply `x -> 1 / (qx - p)` to `x=p/q` Gosper iterator is empty. But currently `continued_fraction([])` is wrongly `0`.",
    "created_at": "2020-09-26T15:42:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272733",
    "user": "https://github.com/videlec"
}
```

<a id='comment:34'>Comment 34:</a>
There is something wrong in the way infinity is handled. In the situation where we apply `x -> 1 / (qx - p)` to `x=p/q` Gosper iterator is empty. But currently `continued_fraction([])` is wrongly `0`.



---

archive/issue_comments_272734.json:
```json
{
    "body": "Changed commit from **[7161eaf](https://github.com/sagemath/sagetrac-mirror/commit/7161eafc6a96ba597d3b6165257cac1070f56ac1)** to **[8cafbb4](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)**",
    "created_at": "2020-09-26T15:56:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272734",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7161eaf](https://github.com/sagemath/sagetrac-mirror/commit/7161eafc6a96ba597d3b6165257cac1070f56ac1)** to **[8cafbb4](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)**



---

archive/issue_comments_272735.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b\">8cafbb4</a></td><td><code>fix infinities in continued fraction and do not forward values</code></td></tr></table>\n",
    "created_at": "2020-09-26T15:56:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272735",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:35'>Comment 35:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b">8cafbb4</a></td><td><code>fix infinities in continued fraction and do not forward values</code></td></tr></table>




---

archive/issue_comments_272736.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nfixed",
    "created_at": "2020-09-26T15:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272736",
    "user": "https://github.com/videlec"
}
```

<a id='comment:36'>Comment 36:</a>
fixed



---

archive/issue_events_244484.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-09-26T15:57:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244484"
}
```



---

archive/issue_events_244485.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-09-26T15:57:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244485"
}
```



---

archive/issue_comments_272737.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nok, this seems to be ready for a positive review ?",
    "created_at": "2020-09-28T07:42:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272737",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:37'>Comment 37:</a>
ok, this seems to be ready for a positive review ?



---

archive/issue_comments_272738.json:
```json
{
    "body": "Changed reviewer from **Vincent Delecroix** to **Vincent Delecroix, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2020-09-28T09:36:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272738",
    "user": "https://github.com/videlec"
}
```

Changed reviewer from **Vincent Delecroix** to **Vincent Delecroix, Frédéric Chapoton**



---

archive/issue_events_244486.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-09-28T09:36:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244486"
}
```



---

archive/issue_events_244487.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-09-28T09:36:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244487"
}
```



---

archive/issue_events_244488.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-07T16:23:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244488"
}
```



---

archive/issue_events_244489.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "be8479b04d030659f1cfea92cb24f665382d0a87",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-11-07T16:23:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19120#event-244489"
}
```



---

archive/issue_comments_272739.json:
```json
{
    "body": "Changed branch from **[public/ticket/19120](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/19120)** to **[8cafbb4](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)**",
    "created_at": "2020-11-07T16:23:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19120#issuecomment-272739",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/19120](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/19120)** to **[8cafbb4](https://github.com/sagemath/sagetrac-mirror/commit/8cafbb46fc9f1a5256e80f53ea37b6712d01652b)**
