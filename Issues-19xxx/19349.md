# Issue 19349: Apply #18731 again

archive/issues_019112.json:
```json
{
    "assignees": [],
    "body": "Some modifications made in #18731 disappeared in #18748. These should be applied again.\n\nCC:  @jhpalmieri\n\nComponent: **build**\n\nAuthor: **Jeroen Demeyer**\n\nBranch/Commit: **[`9258278`](https://github.com/sagemath/sagetrac-mirror/commit/92582788c1f3a01479f4414b466275120aa843ec)**\n\nReviewer: **John Palmieri**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19349_\n\n",
    "closed_at": "2015-10-14T21:03:40Z",
    "created_at": "2015-10-05T12:29:22Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Apply #18731 again",
    "type": "issue",
    "updated_at": "2015-10-14T21:03:40Z",
    "url": "https://github.com/sagemath/sage/issues/19349",
    "user": "https://github.com/jdemeyer"
}
```
Some modifications made in #18731 disappeared in #18748. These should be applied again.

CC:  @jhpalmieri

Component: **build**

Author: **Jeroen Demeyer**

Branch/Commit: **[`9258278`](https://github.com/sagemath/sagetrac-mirror/commit/92582788c1f3a01479f4414b466275120aa843ec)**

Reviewer: **John Palmieri**

_Issue created by migration from https://trac.sagemath.org/ticket/19349_





---

archive/issue_events_272048.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-05T12:29:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19349#event-272048"
}
```



---

archive/issue_events_272049.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-05T12:29:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19349#event-272049"
}
```



---

archive/issue_events_272050.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-05T12:29:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19349#event-272050"
}
```



---

archive/issue_events_272051.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-05T12:29:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19349#event-272051"
}
```



---

archive/issue_comments_274756.json:
```json
{
    "body": "Branch: **[u/jdemeyer/apply__18731_again](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/apply__18731_again)**",
    "created_at": "2015-10-05T12:39:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19349#issuecomment-274756",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/apply__18731_again](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/apply__18731_again)**



---

archive/issue_comments_274757.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5a0c4b0d9610c2eee9f8d25f929ae3047cb65df8\"><code>5a0c4b0</code></a></td><td><code>Better error handling in sage-download-file</code></td></tr></table>\n",
    "created_at": "2015-10-05T12:40:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19349#issuecomment-274757",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5a0c4b0d9610c2eee9f8d25f929ae3047cb65df8"><code>5a0c4b0</code></a></td><td><code>Better error handling in sage-download-file</code></td></tr></table>




---

archive/issue_comments_274758.json:
```json
{
    "body": "Commit: **[`5a0c4b0`](https://github.com/sagemath/sagetrac-mirror/commit/5a0c4b0d9610c2eee9f8d25f929ae3047cb65df8)**",
    "created_at": "2015-10-05T12:40:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19349#issuecomment-274758",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`5a0c4b0`](https://github.com/sagemath/sagetrac-mirror/commit/5a0c4b0d9610c2eee9f8d25f929ae3047cb65df8)**



---

archive/issue_events_272052.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-05T12:40:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19349#event-272052"
}
```



---

archive/issue_comments_274759.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Somehow some modifications made in #18731 disappeared in the git holes.\n+Some modifications made in #18731 disappeared in #18748. These should be applied again.\n``````\n",
    "created_at": "2015-10-05T12:52:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19349#issuecomment-274759",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Somehow some modifications made in #18731 disappeared in the git holes.
+Some modifications made in #18731 disappeared in #18748. These should be applied again.
``````




---

archive/issue_comments_274760.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nMagic string anti-pattern: https://en.wikipedia.org/wiki/Magic_string",
    "created_at": "2015-10-05T14:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19349#issuecomment-274760",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:5" align="right">comment:5</div>

Magic string anti-pattern: https://en.wikipedia.org/wiki/Magic_string



---

archive/issue_comments_274761.json:
```json
{
    "body": "Changed commit from **[`5a0c4b0`](https://github.com/sagemath/sagetrac-mirror/commit/5a0c4b0d9610c2eee9f8d25f929ae3047cb65df8)** to **[`088fdef`](https://github.com/sagemath/sagetrac-mirror/commit/088fdefb1e91ae460f67fa31344f6cb834d0b117)**",
    "created_at": "2015-10-05T14:45:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19349#issuecomment-274761",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5a0c4b0`](https://github.com/sagemath/sagetrac-mirror/commit/5a0c4b0d9610c2eee9f8d25f929ae3047cb65df8)** to **[`088fdef`](https://github.com/sagemath/sagetrac-mirror/commit/088fdefb1e91ae460f67fa31344f6cb834d0b117)**



---

archive/issue_comments_274762.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/088fdefb1e91ae460f67fa31344f6cb834d0b117\"><code>088fdef</code></a></td><td><code>Avoid magic string</code></td></tr></table>\n",
    "created_at": "2015-10-05T14:45:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19349#issuecomment-274762",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/088fdefb1e91ae460f67fa31344f6cb834d0b117"><code>088fdef</code></a></td><td><code>Avoid magic string</code></td></tr></table>




---

archive/issue_comments_274763.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIts still a magic string. If somebody were to change the magic value to\n\n```\nfastest_mirror = \"http:// fastest mirror\"\n```\nthen the program doesn't work any more. Fragile and difficult to follow.",
    "created_at": "2015-10-05T15:02:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19349#issuecomment-274763",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">comment:7</div>

Its still a magic string. If somebody were to change the magic value to

```
fastest_mirror = "http:// fastest mirror"
```
then the program doesn't work any more. Fragile and difficult to follow.



---

archive/issue_comments_274764.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92582788c1f3a01479f4414b466275120aa843ec\"><code>9258278</code></a></td><td><code>Avoid magic string</code></td></tr></table>\n",
    "created_at": "2015-10-05T15:12:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19349#issuecomment-274764",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92582788c1f3a01479f4414b466275120aa843ec"><code>9258278</code></a></td><td><code>Avoid magic string</code></td></tr></table>




---

archive/issue_comments_274765.json:
```json
{
    "body": "Changed commit from **[`088fdef`](https://github.com/sagemath/sagetrac-mirror/commit/088fdefb1e91ae460f67fa31344f6cb834d0b117)** to **[`9258278`](https://github.com/sagemath/sagetrac-mirror/commit/92582788c1f3a01479f4414b466275120aa843ec)**",
    "created_at": "2015-10-05T15:12:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19349#issuecomment-274765",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`088fdef`](https://github.com/sagemath/sagetrac-mirror/commit/088fdefb1e91ae460f67fa31344f6cb834d0b117)** to **[`9258278`](https://github.com/sagemath/sagetrac-mirror/commit/92582788c1f3a01479f4414b466275120aa843ec)**



---

archive/issue_comments_274766.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nBetter like this?",
    "created_at": "2015-10-05T15:12:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19349#issuecomment-274766",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Better like this?



---

archive/issue_comments_274767.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThe usual pattern is to throw exceptions that have the error message and catch them at the outermost level. Without relying on any local variable being in scope at the exception handler. But its an improvement, at least.",
    "created_at": "2015-10-05T15:22:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19349#issuecomment-274767",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">comment:10</div>

The usual pattern is to throw exceptions that have the error message and catch them at the outermost level. Without relying on any local variable being in scope at the exception handler. But its an improvement, at least.



---

archive/issue_events_272053.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-05T15:22:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19349#event-272053"
}
```



---

archive/issue_events_272054.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-05T15:22:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19349#event-272054"
}
```



---

archive/issue_comments_274768.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/apply__18731_again](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/apply__18731_again)** to **[`9258278`](https://github.com/sagemath/sagetrac-mirror/commit/92582788c1f3a01479f4414b466275120aa843ec)**",
    "created_at": "2015-10-14T21:03:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19349#issuecomment-274768",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/apply__18731_again](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/apply__18731_again)** to **[`9258278`](https://github.com/sagemath/sagetrac-mirror/commit/92582788c1f3a01479f4414b466275120aa843ec)**



---

archive/issue_events_272055.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-14T21:03:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19349#event-272055"
}
```



---

archive/issue_events_272056.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1bace59e99edb3a0cd44085722a3d57f14e97e7f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-10-14T21:03:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19349",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19349#event-272056"
}
```
