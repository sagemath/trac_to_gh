# Issue 19349: Apply #18731 again

archive/issues_019112.json:
```json
{
    "body": "Some modifications made in #18731 disappeared in #18748. These should be applied again.\n\nCC:  @jhpalmieri\n\nBranch/Commit: 92582788c1f3a01479f4414b466275120aa843ec\n\nReviewer: John Palmieri\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19349\n\n",
    "closed_at": "2015-10-14T21:03:40Z",
    "created_at": "2015-10-05T12:29:22Z",
    "labels": [
        "component: build",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Apply #18731 again",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19349",
    "user": "https://github.com/jdemeyer"
}
```
Some modifications made in #18731 disappeared in #18748. These should be applied again.

CC:  @jhpalmieri

Branch/Commit: 92582788c1f3a01479f4414b466275120aa843ec

Reviewer: John Palmieri

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19349





---

archive/issue_comments_346336.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/apply__18731_again\"",
    "created_at": "2015-10-05T12:39:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346336",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/apply__18731_again"



---

archive/issue_comments_346337.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[5a0c4b0](http://git.sagemath.org/sage.git/commit/?id=5a0c4b0d9610c2eee9f8d25f929ae3047cb65df8)|`Better error handling in sage-download-file`|",
    "created_at": "2015-10-05T12:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346337",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[5a0c4b0](http://git.sagemath.org/sage.git/commit/?id=5a0c4b0d9610c2eee9f8d25f929ae3047cb65df8)|`Better error handling in sage-download-file`|



---

archive/issue_comments_346338.json:
```json
{
    "body": "Changing commit from \"\" to \"5a0c4b0d9610c2eee9f8d25f929ae3047cb65df8\"",
    "created_at": "2015-10-05T12:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346338",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "5a0c4b0d9610c2eee9f8d25f929ae3047cb65df8"



---

archive/issue_comments_346339.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-10-05T12:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346339",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_346340.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Somehow some modifications made in #18731 disappeared in the git holes.\n+Some modifications made in #18731 disappeared in #18748. These should be applied again.\n``````\n",
    "created_at": "2015-10-05T12:52:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346340",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Somehow some modifications made in #18731 disappeared in the git holes.
+Some modifications made in #18731 disappeared in #18748. These should be applied again.
``````




---

archive/issue_comments_346341.json:
```json
{
    "body": "<a id='comment:5'></a>\nMagic string anti-pattern: https://en.wikipedia.org/wiki/Magic_string",
    "created_at": "2015-10-05T14:20:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346341",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'></a>
Magic string anti-pattern: https://en.wikipedia.org/wiki/Magic_string



---

archive/issue_comments_346342.json:
```json
{
    "body": "Changing commit from \"5a0c4b0d9610c2eee9f8d25f929ae3047cb65df8\" to \"088fdefb1e91ae460f67fa31344f6cb834d0b117\"",
    "created_at": "2015-10-05T14:45:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346342",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5a0c4b0d9610c2eee9f8d25f929ae3047cb65df8" to "088fdefb1e91ae460f67fa31344f6cb834d0b117"



---

archive/issue_comments_346343.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[088fdef](http://git.sagemath.org/sage.git/commit/?id=088fdefb1e91ae460f67fa31344f6cb834d0b117)|`Avoid magic string`|",
    "created_at": "2015-10-05T14:45:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346343",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[088fdef](http://git.sagemath.org/sage.git/commit/?id=088fdefb1e91ae460f67fa31344f6cb834d0b117)|`Avoid magic string`|



---

archive/issue_comments_346344.json:
```json
{
    "body": "<a id='comment:7'></a>\nIts still a magic string. If somebody were to change the magic value to\n\n```\nfastest_mirror = \"http:// fastest mirror\"\n```\nthen the program doesn't work any more. Fragile and difficult to follow.",
    "created_at": "2015-10-05T15:02:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346344",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'></a>
Its still a magic string. If somebody were to change the magic value to

```
fastest_mirror = "http:// fastest mirror"
```
then the program doesn't work any more. Fragile and difficult to follow.



---

archive/issue_comments_346345.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[9258278](http://git.sagemath.org/sage.git/commit/?id=92582788c1f3a01479f4414b466275120aa843ec)|`Avoid magic string`|",
    "created_at": "2015-10-05T15:12:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[9258278](http://git.sagemath.org/sage.git/commit/?id=92582788c1f3a01479f4414b466275120aa843ec)|`Avoid magic string`|



---

archive/issue_comments_346346.json:
```json
{
    "body": "Changing commit from \"088fdefb1e91ae460f67fa31344f6cb834d0b117\" to \"92582788c1f3a01479f4414b466275120aa843ec\"",
    "created_at": "2015-10-05T15:12:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346346",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "088fdefb1e91ae460f67fa31344f6cb834d0b117" to "92582788c1f3a01479f4414b466275120aa843ec"



---

archive/issue_comments_346347.json:
```json
{
    "body": "<a id='comment:9'></a>\nBetter like this?",
    "created_at": "2015-10-05T15:12:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346347",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
Better like this?



---

archive/issue_comments_346348.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe usual pattern is to throw exceptions that have the error message and catch them at the outermost level. Without relying on any local variable being in scope at the exception handler. But its an improvement, at least.",
    "created_at": "2015-10-05T15:22:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346348",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>
The usual pattern is to throw exceptions that have the error message and catch them at the outermost level. Without relying on any local variable being in scope at the exception handler. But its an improvement, at least.



---

archive/issue_comments_346349.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-05T15:22:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346349",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_346350.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/apply__18731_again\" to \"92582788c1f3a01479f4414b466275120aa843ec\"",
    "created_at": "2015-10-14T21:03:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346350",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/apply__18731_again" to "92582788c1f3a01479f4414b466275120aa843ec"



---

archive/issue_events_053550.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-14T21:03:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19349#event-53550"
}
```



---

archive/issue_comments_346351.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-10-14T21:03:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19349#issuecomment-346351",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
