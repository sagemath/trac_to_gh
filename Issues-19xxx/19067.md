# Issue 19067: Incomplete sentences in the automatically generated documentation

archive/issues_018830.json:
```json
{
    "body": "This branch fixes the following bug reported by Jori on #19061\n\n```\nsage: from sage.misc.rest_index_of_methods import gen_rest_table_index\nsage: def a():\n....:     r'''\n....:     Here is a very very very long sentence\n....:     that spans on several lines.\n....:\n....:     EXAMP...\n....:     '''\n....:     print \"hey\"\nsage: 'Here is a very very very long sentence that spans on several lines' in gen_rest_table_index([a])\nFalse\nsage: 'Here is a very very very long sentence' in gen_rest_table_index([a])\nTrue\n```\n\nNathann\n\n\n**CC:**  @jm58660 @johanrosenkilde\n\n**Branch/Commit:** [3728de720c632a5dabc09824000e6818c5716274](https://github.com/sagemath/sagetrac-mirror/commit/3728de720c632a5dabc09824000e6818c5716274)\n\n**Reviewer:** Marc Mezzarobba\n\n**Author:** Nathann Cohen\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19067\n\n",
    "closed_at": "2015-09-10T19:46:24Z",
    "created_at": "2015-08-21T08:11:31Z",
    "labels": [
        "component: documentation"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "Incomplete sentences in the automatically generated documentation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19067",
    "user": "https://github.com/nathanncohen"
}
```
This branch fixes the following bug reported by Jori on #19061

```
sage: from sage.misc.rest_index_of_methods import gen_rest_table_index
sage: def a():
....:     r'''
....:     Here is a very very very long sentence
....:     that spans on several lines.
....:
....:     EXAMP...
....:     '''
....:     print "hey"
sage: 'Here is a very very very long sentence that spans on several lines' in gen_rest_table_index([a])
False
sage: 'Here is a very very very long sentence' in gen_rest_table_index([a])
True
```

Nathann


**CC:**  @jm58660 @johanrosenkilde

**Branch/Commit:** [3728de720c632a5dabc09824000e6818c5716274](https://github.com/sagemath/sagetrac-mirror/commit/3728de720c632a5dabc09824000e6818c5716274)

**Reviewer:** Marc Mezzarobba

**Author:** Nathann Cohen

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/19067





---

archive/issue_comments_342633.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2015-08-21T08:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342633",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_342634.json:
```json
{
    "body": "**Branch:** [u/ncohen/19067](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19067)",
    "created_at": "2015-08-21T08:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342634",
    "user": "https://github.com/nathanncohen"
}
```

**Branch:** [u/ncohen/19067](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19067)



---

archive/issue_comments_342635.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n This branch fixes the following bug reported by Jori on #19061\n \n ```\n+sage: from sage.misc.rest_index_of_methods import gen_rest_table_index\n sage: def a():\n ....:     r'''\n ....:     Here is a very very very long sentence\n``````\n",
    "created_at": "2015-08-21T08:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342635",
    "user": "https://github.com/nathanncohen"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
 This branch fixes the following bug reported by Jori on #19061
 
 ```
+sage: from sage.misc.rest_index_of_methods import gen_rest_table_index
 sage: def a():
 ....:     r'''
 ....:     Here is a very very very long sentence
``````




---

archive/issue_comments_342636.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/329554600f4765cd6071f1255625ea94243da639\">3295546</a></td><td><code>trac #19067: Incomplete sentences in the automatically generated documentation</code></td></tr></table>\n",
    "created_at": "2015-08-21T08:13:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342636",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/329554600f4765cd6071f1255625ea94243da639">3295546</a></td><td><code>trac #19067: Incomplete sentences in the automatically generated documentation</code></td></tr></table>




---

archive/issue_comments_342637.json:
```json
{
    "body": "**Commit:** [329554600f4765cd6071f1255625ea94243da639](https://github.com/sagemath/sagetrac-mirror/commit/329554600f4765cd6071f1255625ea94243da639)",
    "created_at": "2015-08-21T08:13:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342637",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [329554600f4765cd6071f1255625ea94243da639](https://github.com/sagemath/sagetrac-mirror/commit/329554600f4765cd6071f1255625ea94243da639)



---

archive/issue_comments_342638.json:
```json
{
    "body": "<a id='comment:3'></a>\n\n```\n[combinat ] reading sources... [100%] sage/combinat/yang_baxter_graph\n[combinat ] loading cross citations...\n[combinat ] /home/jm58660/sage/local/lib/python2.7/site-packages/sage/combinat/designs/difference_family.py:docstring of sage.combinat.designs.difference_family:8: ERROR: \"csv-table\" widths do not match the number of columns in table (6).\n[combinat ] .. csv-table::\n[combinat ] :class: contentstable\n[combinat ] :widths: 30, 70\n[combinat ] :delim: |\n[combinat ] :func:`~sage.combinat.designs.difference_family.block_stabilizer` | Compute the left stabilizer of the block ``B`` under the action of ``G``.\n```\n\nA bug? I don't know.\n\nShould this be marked as dependency to #19061? It is quite meaningless without this, even if technically not dependig.",
    "created_at": "2015-08-21T08:28:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342638",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:3'></a>

```
[combinat ] reading sources... [100%] sage/combinat/yang_baxter_graph
[combinat ] loading cross citations...
[combinat ] /home/jm58660/sage/local/lib/python2.7/site-packages/sage/combinat/designs/difference_family.py:docstring of sage.combinat.designs.difference_family:8: ERROR: "csv-table" widths do not match the number of columns in table (6).
[combinat ] .. csv-table::
[combinat ] :class: contentstable
[combinat ] :widths: 30, 70
[combinat ] :delim: |
[combinat ] :func:`~sage.combinat.designs.difference_family.block_stabilizer` | Compute the left stabilizer of the block ``B`` under the action of ``G``.
```

A bug? I don't know.

Should this be marked as dependency to #19061? It is quite meaningless without this, even if technically not dependig.



---

archive/issue_comments_342639.json:
```json
{
    "body": "**Changing commit** from \"[329554600f4765cd6071f1255625ea94243da639](https://github.com/sagemath/sagetrac-mirror/commit/329554600f4765cd6071f1255625ea94243da639)\" to \"[4bc03ab80228f4f09f4de094390d275e614ab3d6](https://github.com/sagemath/sagetrac-mirror/commit/4bc03ab80228f4f09f4de094390d275e614ab3d6)\".",
    "created_at": "2015-08-21T09:21:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342639",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[329554600f4765cd6071f1255625ea94243da639](https://github.com/sagemath/sagetrac-mirror/commit/329554600f4765cd6071f1255625ea94243da639)" to "[4bc03ab80228f4f09f4de094390d275e614ab3d6](https://github.com/sagemath/sagetrac-mirror/commit/4bc03ab80228f4f09f4de094390d275e614ab3d6)".



---

archive/issue_comments_342640.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bc03ab80228f4f09f4de094390d275e614ab3d6\">4bc03ab</a></td><td><code>trac #19067: Change delimiter</code></td></tr></table>\n",
    "created_at": "2015-08-21T09:21:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342640",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bc03ab80228f4f09f4de094390d275e614ab3d6">4bc03ab</a></td><td><code>trac #19067: Change delimiter</code></td></tr></table>




---

archive/issue_comments_342641.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe problem was caused by a | character that appeared in the description of a function. The trouble is that | is the splitting character in those docstrings.\n\nIt is fixed.\n\n> Should this be marked as dependency to #19061?\n\n\nWith this last commit, I ready to bet that this ticket is now in conflict with #19061. I will have to fix the conflicts with a merge, but I would prefer this branch to be reviewed first, in order to avoid having to merge and re-merge things several times in case this review requires other changes.\n\nNathann",
    "created_at": "2015-08-21T09:24:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342641",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
The problem was caused by a | character that appeared in the description of a function. The trouble is that | is the splitting character in those docstrings.

It is fixed.

> Should this be marked as dependency to #19061?


With this last commit, I ready to bet that this ticket is now in conflict with #19061. I will have to fix the conflicts with a merge, but I would prefer this branch to be reviewed first, in order to avoid having to merge and re-merge things several times in case this review requires other changes.

Nathann



---

archive/issue_comments_342642.json:
```json
{
    "body": "<a id='comment:6'></a>\nThis seems to fail if I change one-line description\n\n```\nReturns the value of the M\\\"obius function - -\n```\n\n```\nReturns the value of the M\u00f6bius function - -\n```\n\nin `hasse_diagram.py`.",
    "created_at": "2015-09-01T07:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342642",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>
This seems to fail if I change one-line description

```
Returns the value of the M\"obius function - -
```

```
Returns the value of the Möbius function - -
```

in `hasse_diagram.py`.



---

archive/issue_comments_342643.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2015-09-01T07:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342643",
    "user": "https://github.com/jm58660"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_342644.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-09-01T09:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342644",
    "user": "https://github.com/jm58660"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_342645.json:
```json
{
    "body": "<a id='comment:7'></a>\nDuh. This is a bug, but not related to this ticket. Sorry.",
    "created_at": "2015-09-01T09:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342645",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:7'></a>
Duh. This is a bug, but not related to this ticket. Sorry.



---

archive/issue_comments_342646.json:
```json
{
    "body": "**Changing commit** from \"[4bc03ab80228f4f09f4de094390d275e614ab3d6](https://github.com/sagemath/sagetrac-mirror/commit/4bc03ab80228f4f09f4de094390d275e614ab3d6)\" to \"[f1b92bc9dbfb850aefedee265047a47b8728ded6](https://github.com/sagemath/sagetrac-mirror/commit/f1b92bc9dbfb850aefedee265047a47b8728ded6)\".",
    "created_at": "2015-09-01T09:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342646",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4bc03ab80228f4f09f4de094390d275e614ab3d6](https://github.com/sagemath/sagetrac-mirror/commit/4bc03ab80228f4f09f4de094390d275e614ab3d6)" to "[f1b92bc9dbfb850aefedee265047a47b8728ded6](https://github.com/sagemath/sagetrac-mirror/commit/f1b92bc9dbfb850aefedee265047a47b8728ded6)".



---

archive/issue_comments_342647.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91a84f26d7a78b36a0ee3b47e7dd9a35a1551ad0\">91a84f2</a></td><td><code>trac #19067: Merged with 6.9.beta4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1b92bc9dbfb850aefedee265047a47b8728ded6\">f1b92bc</a></td><td><code>trac #19067: Trailing whitespace</code></td></tr></table>\n",
    "created_at": "2015-09-01T09:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342647",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91a84f26d7a78b36a0ee3b47e7dd9a35a1551ad0">91a84f2</a></td><td><code>trac #19067: Merged with 6.9.beta4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1b92bc9dbfb850aefedee265047a47b8728ded6">f1b92bc</a></td><td><code>trac #19067: Trailing whitespace</code></td></tr></table>




---

archive/issue_comments_342648.json:
```json
{
    "body": "<a id='comment:9'></a>\nDo I understand correctly that the problem with `|` will come back if a docstring contains `@`? I don't like that much, especially now that `@` is becoming a Python operator!",
    "created_at": "2015-09-03T12:21:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342648",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:9'></a>
Do I understand correctly that the problem with `|` will come back if a docstring contains `@`? I don't like that much, especially now that `@` is becoming a Python operator!



---

archive/issue_comments_342649.json:
```json
{
    "body": "<a id='comment:10'></a>\n> Do I understand correctly that the problem with `|` will come back if a docstring contains `@`?\n\nOnly if the first line of the docstring contains it.\n\n> I don't like that much, especially now that `@` is becoming a Python operator!\n\n\nWell, then we will have to find a way around, i.e. expose a parameter to change the delimiter manually, if needed. This being said, I am no magician: I looked at the table of ASCII characters and tried to figure out one that I could use. I picked that one because I thought it was okay, but it can be whatever else you prefer.\n\nNathann",
    "created_at": "2015-09-03T14:26:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342649",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>
> Do I understand correctly that the problem with `|` will come back if a docstring contains `@`?

Only if the first line of the docstring contains it.

> I don't like that much, especially now that `@` is becoming a Python operator!


Well, then we will have to find a way around, i.e. expose a parameter to change the delimiter manually, if needed. This being said, I am no magician: I looked at the table of ASCII characters and tried to figure out one that I could use. I picked that one because I thought it was okay, but it can be whatever else you prefer.

Nathann



---

archive/issue_comments_342650.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [ncohen](#comment%3A10):\n\n> I looked at the table of ASCII characters and tried to figure out one that I could use.\n\n\nJust to confirm: the character is required to be in ASCII, not even ISO-8859-1?\n\nCan it be non-printing character, i.e. some code between 1 and 31?",
    "created_at": "2015-09-04T03:36:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342650",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:11'></a>
Replying to [ncohen](#comment%3A10):

> I looked at the table of ASCII characters and tried to figure out one that I could use.


Just to confirm: the character is required to be in ASCII, not even ISO-8859-1?

Can it be non-printing character, i.e. some code between 1 and 31?



---

archive/issue_comments_342651.json:
```json
{
    "body": "<a id='comment:12'></a>\n> Just to confirm: the character is required to be in ASCII, not even ISO-8859-1?\n> \n> Can it be non-printing character, i.e. some code between 1 and 31?\n\n\nI do not know more than you do on this matter.",
    "created_at": "2015-09-04T05:35:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342651",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>
> Just to confirm: the character is required to be in ASCII, not even ISO-8859-1?
> 
> Can it be non-printing character, i.e. some code between 1 and 31?


I do not know more than you do on this matter.



---

archive/issue_comments_342652.json:
```json
{
    "body": "<a id='comment:13'></a>\nI guess the natural choice would be U+001F (ASCII unit separator), but it doesn't seem to work:\n\n```\n...\n[graphs   ] Exception occurred:\n[graphs   ] File \"/home/marc/co/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/directives/__init__.py\", line 303, in unicode_code\n[graphs   ] if code.isdigit():                  # decimal number\n[graphs   ] AttributeError: 'NoneType' object has no attribute 'isdigit'\n...\n```",
    "created_at": "2015-09-04T08:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342652",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:13'></a>
I guess the natural choice would be U+001F (ASCII unit separator), but it doesn't seem to work:

```
...
[graphs   ] Exception occurred:
[graphs   ] File "/home/marc/co/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/directives/__init__.py", line 303, in unicode_code
[graphs   ] if code.isdigit():                  # decimal number
[graphs   ] AttributeError: 'NoneType' object has no attribute 'isdigit'
...
```



---

archive/issue_comments_342653.json:
```json
{
    "body": "<a id='comment:14'></a>\n...So I guess the fix on this ticket is better than nothing. But what about also adding a warning in the documentation of `rest_index_of_methods.py`?",
    "created_at": "2015-09-07T08:32:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342653",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:14'></a>
...So I guess the fix on this ticket is better than nothing. But what about also adding a warning in the documentation of `rest_index_of_methods.py`?



---

archive/issue_comments_342654.json:
```json
{
    "body": "**Changing commit** from \"[f1b92bc9dbfb850aefedee265047a47b8728ded6](https://github.com/sagemath/sagetrac-mirror/commit/f1b92bc9dbfb850aefedee265047a47b8728ded6)\" to \"[317d6d61dd030e5df134896b5556408fda14d8df](https://github.com/sagemath/sagetrac-mirror/commit/317d6d61dd030e5df134896b5556408fda14d8df)\".",
    "created_at": "2015-09-07T08:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342654",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f1b92bc9dbfb850aefedee265047a47b8728ded6](https://github.com/sagemath/sagetrac-mirror/commit/f1b92bc9dbfb850aefedee265047a47b8728ded6)" to "[317d6d61dd030e5df134896b5556408fda14d8df](https://github.com/sagemath/sagetrac-mirror/commit/317d6d61dd030e5df134896b5556408fda14d8df)".



---

archive/issue_comments_342655.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18baa7ecb0ef1c510b0141ae0b5d589d0b5b5d75\">18baa7e</a></td><td><code>trac #19067: Merged with 6.9.beta5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/317d6d61dd030e5df134896b5556408fda14d8df\">317d6d6</a></td><td><code>trac #19067: Warning</code></td></tr></table>\n",
    "created_at": "2015-09-07T08:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342655",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18baa7ecb0ef1c510b0141ae0b5d589d0b5b5d75">18baa7e</a></td><td><code>trac #19067: Merged with 6.9.beta5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/317d6d61dd030e5df134896b5556408fda14d8df">317d6d6</a></td><td><code>trac #19067: Warning</code></td></tr></table>




---

archive/issue_comments_342656.json:
```json
{
    "body": "<a id='comment:16'></a>\n> ...So I guess the fix on this ticket is better than nothing. But what about also adding a warning in the documentation of `rest_index_of_methods.py`?\n\n\nIs it okay like that?\n\nNathann",
    "created_at": "2015-09-07T08:46:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342656",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'></a>
> ...So I guess the fix on this ticket is better than nothing. But what about also adding a warning in the documentation of `rest_index_of_methods.py`?


Is it okay like that?

Nathann



---

archive/issue_comments_342657.json:
```json
{
    "body": "<a id='comment:17'></a>\nCould be better, if you would also warn against using non-accii characters in oneliners.\n\n(Think if *I* happen to found a great theorem! And then Sage can not handle \"Return M\u00e4ntysalo's foo of the bar\"! Not even have a warning! `;=)`)",
    "created_at": "2015-09-07T09:46:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342657",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:17'></a>
Could be better, if you would also warn against using non-accii characters in oneliners.

(Think if *I* happen to found a great theorem! And then Sage can not handle "Return Mäntysalo's foo of the bar"! Not even have a warning! `;=)`)



---

archive/issue_comments_342658.json:
```json
{
    "body": "<a id='comment:18'></a>\n> Could be better, if you would also warn against using non-accii characters in oneliners.\n\n\nI do not think that this branch has any effect on the matter. If you experience that it does, please propose a commit.\n\nNathann",
    "created_at": "2015-09-07T09:52:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342658",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:18'></a>
> Could be better, if you would also warn against using non-accii characters in oneliners.


I do not think that this branch has any effect on the matter. If you experience that it does, please propose a commit.

Nathann



---

archive/issue_comments_342659.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [ncohen](#comment%3A18):\n> > Could be better, if you would also warn against using non-accii characters in oneliners.\n\n> \n> I do not think that this branch has any effect on the matter.\n\n\nTrue. That is what I noticed in comment 7. But should there be a warning about non-ascii characters, now when there is about `@`?\n\nNot a big deal, of course. So don't let this prevent giving positive review.",
    "created_at": "2015-09-07T10:28:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342659",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:19'></a>
Replying to [ncohen](#comment%3A18):
> > Could be better, if you would also warn against using non-accii characters in oneliners.

> 
> I do not think that this branch has any effect on the matter.


True. That is what I noticed in comment 7. But should there be a warning about non-ascii characters, now when there is about `@`?

Not a big deal, of course. So don't let this prevent giving positive review.



---

archive/issue_comments_342660.json:
```json
{
    "body": "<a id='comment:20'></a>\n> True. That is what I noticed in comment 7. But should there be a warning about non-ascii characters, now when there is about `@`?\n\n\nCould you say clearly which kind of warning you expect to see? I cannot guess it.\n\nNathann",
    "created_at": "2015-09-07T10:38:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342660",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'></a>
> True. That is what I noticed in comment 7. But should there be a warning about non-ascii characters, now when there is about `@`?


Could you say clearly which kind of warning you expect to see? I cannot guess it.

Nathann



---

archive/issue_comments_342661.json:
```json
{
    "body": "<a id='comment:21'></a>\nHmmm... something like\n\n\"First sentence in the documentation of a function may not contain the '@' character, nor any non-ascii character.\n\nFirst restriction is because the ReST tables returned by this function use '@' as a delimiter for  cells. Second restriction follows from Sphinx internals.\"",
    "created_at": "2015-09-07T10:44:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342661",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:21'></a>
Hmmm... something like

"First sentence in the documentation of a function may not contain the '@' character, nor any non-ascii character.

First restriction is because the ReST tables returned by this function use '@' as a delimiter for  cells. Second restriction follows from Sphinx internals."



---

archive/issue_comments_342662.json:
```json
{
    "body": "<a id='comment:22'></a>\n> \"First sentence in the documentation of a function may not contain the '@' character, nor any non-ascii character.\n> \n> First restriction is because the ReST tables returned by this function use '@' as a delimiter for  cells. Second restriction follows from Sphinx internals.\"\n\n\nThe management of non-ascii characters has *nothing* to do with this branch. If you write a non-ascii character in the documentation of a function, sphinx will complain even if this code is not used. Similarly, if you add `# -*- coding: utf-8 -*-` at the beginning of your files, then non-ascii characters will work well, regadless of whether you use this code or not.\n\nNathann",
    "created_at": "2015-09-07T10:57:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342662",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'></a>
> "First sentence in the documentation of a function may not contain the '@' character, nor any non-ascii character.
> 
> First restriction is because the ReST tables returned by this function use '@' as a delimiter for  cells. Second restriction follows from Sphinx internals."


The management of non-ascii characters has *nothing* to do with this branch. If you write a non-ascii character in the documentation of a function, sphinx will complain even if this code is not used. Similarly, if you add `# -*- coding: utf-8 -*-` at the beginning of your files, then non-ascii characters will work well, regadless of whether you use this code or not.

Nathann



---

archive/issue_comments_342663.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [ncohen](#comment%3A22):\n\n> Similarly, if you add `# -*- coding: utf-8 -*-` at the beginning of your files, then non-ascii characters will work well, regadless of whether you use this code or not.\n\n\nNow I understood. There was `# -*- coding: utf-8 -*-` at `posets.py` but not in `hasse_diagram.py`. And I thank that the reason for the difference was that latter one uses `{INDEX_OF_FUNCTIONS}`.\n\nSorry.",
    "created_at": "2015-09-07T11:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342663",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:23'></a>
Replying to [ncohen](#comment%3A22):

> Similarly, if you add `# -*- coding: utf-8 -*-` at the beginning of your files, then non-ascii characters will work well, regadless of whether you use this code or not.


Now I understood. There was `# -*- coding: utf-8 -*-` at `posets.py` but not in `hasse_diagram.py`. And I thank that the reason for the difference was that latter one uses `{INDEX_OF_FUNCTIONS}`.

Sorry.



---

archive/issue_comments_342664.json:
```json
{
    "body": "<a id='comment:24'></a>\n<shakes hands>\n\nNo prob. Sphinx is a mess anyway.",
    "created_at": "2015-09-07T11:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342664",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>
<shakes hands>

No prob. Sphinx is a mess anyway.



---

archive/issue_comments_342665.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-09-09T12:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342665",
    "user": "https://github.com/mezzarobba"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_342666.json:
```json
{
    "body": "**Reviewer:** Marc Mezzarobba",
    "created_at": "2015-09-09T12:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342666",
    "user": "https://github.com/mezzarobba"
}
```

**Reviewer:** Marc Mezzarobba



---

archive/issue_comments_342667.json:
```json
{
    "body": "<a id='comment:26'></a>\nThank you!\n\nNathann",
    "created_at": "2015-09-09T13:01:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342667",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:26'></a>
Thank you!

Nathann



---

archive/issue_comments_342668.json:
```json
{
    "body": "<a id='comment:27'></a>\nPDF documentation doesn't build",
    "created_at": "2015-09-09T22:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342668",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'></a>
PDF documentation doesn't build



---

archive/issue_comments_342669.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2015-09-09T22:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342669",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_342670.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3728de720c632a5dabc09824000e6818c5716274\">3728de7</a></td><td><code>trac #19067: Typo.</code></td></tr></table>\n",
    "created_at": "2015-09-09T23:26:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342670",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3728de720c632a5dabc09824000e6818c5716274">3728de7</a></td><td><code>trac #19067: Typo.</code></td></tr></table>




---

archive/issue_comments_342671.json:
```json
{
    "body": "**Changing commit** from \"[317d6d61dd030e5df134896b5556408fda14d8df](https://github.com/sagemath/sagetrac-mirror/commit/317d6d61dd030e5df134896b5556408fda14d8df)\" to \"[3728de720c632a5dabc09824000e6818c5716274](https://github.com/sagemath/sagetrac-mirror/commit/3728de720c632a5dabc09824000e6818c5716274)\".",
    "created_at": "2015-09-09T23:26:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342671",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[317d6d61dd030e5df134896b5556408fda14d8df](https://github.com/sagemath/sagetrac-mirror/commit/317d6d61dd030e5df134896b5556408fda14d8df)" to "[3728de720c632a5dabc09824000e6818c5716274](https://github.com/sagemath/sagetrac-mirror/commit/3728de720c632a5dabc09824000e6818c5716274)".



---

archive/issue_comments_342672.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2015-09-09T23:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342672",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_342673.json:
```json
{
    "body": "<a id='comment:30'></a>\nThat came from a `\\\\` instead of `\\` in `coding/guava.py`.\n\nThe thing is that the docstrings of the code constructors do not respect the convention that the first line must be a short sentence describing the function, and as a result the first paragraph contains a *LOT* of text (including some latex).\n\nPreviously, only one (broken) sentence was displayed in the index. At least now the \"sentence\" is complete.\n\nNathann",
    "created_at": "2015-09-09T23:34:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342673",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:30'></a>
That came from a `\\` instead of `\` in `coding/guava.py`.

The thing is that the docstrings of the code constructors do not respect the convention that the first line must be a short sentence describing the function, and as a result the first paragraph contains a *LOT* of text (including some latex).

Previously, only one (broken) sentence was displayed in the index. At least now the "sentence" is complete.

Nathann



---

archive/issue_comments_342674.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [ncohen](#comment%3A30):\n\n> The thing is that the docstrings of the code constructors do not respect the convention that the first line must be a short sentence describing the function - -\n\n\nA meta-ticket about that? Do you have an easy way to get a list of those? I mean something like \"oneliners with more than one dot\" or \"oneliners with more then 150 characters\"?",
    "created_at": "2015-09-10T05:10:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342674",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:31'></a>
Replying to [ncohen](#comment%3A30):

> The thing is that the docstrings of the code constructors do not respect the convention that the first line must be a short sentence describing the function - -


A meta-ticket about that? Do you have an easy way to get a list of those? I mean something like "oneliners with more than one dot" or "oneliners with more then 150 characters"?



---

archive/issue_comments_342675.json:
```json
{
    "body": "<a id='comment:32'></a>\n> A meta-ticket about that?\n\n\nI do not want to see a meta-ticket again in my life.\n\n> Do you have an easy way to get a list of those?\n\n\nNo. I guess it has to be written \"from scratch\", or else it must be some long regexp.\n\n> I mean something like \"oneliners with more than one dot\" or \"oneliners with more then 150 characters\"?\n\n\nSomething line that.\n\nNathann",
    "created_at": "2015-09-10T06:31:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342675",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:32'></a>
> A meta-ticket about that?


I do not want to see a meta-ticket again in my life.

> Do you have an easy way to get a list of those?


No. I guess it has to be written "from scratch", or else it must be some long regexp.

> I mean something like "oneliners with more than one dot" or "oneliners with more then 150 characters"?


Something line that.

Nathann



---

archive/issue_comments_342676.json:
```json
{
    "body": "<a id='comment:33'></a>\nMost of the doc in `sage/coding` \"needs a bit of work\" to put it mildly. But I guess that's for a different ticket, and that your fix to make things compile is all that should go into this one...",
    "created_at": "2015-09-10T07:08:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342676",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:33'></a>
Most of the doc in `sage/coding` "needs a bit of work" to put it mildly. But I guess that's for a different ticket, and that your fix to make things compile is all that should go into this one...



---

archive/issue_comments_342677.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [ncohen](#comment%3A32):\n\n> No. I guess it has to be written \"from scratch\", or else it must be some long regexp.\n\n\nWhat? Long regexp? Those are always fun!\n\nBut actually this is easier with some bash magic. Here is one example:\n\n```\n(while egrep -m 1 '^    def [^_]'; do head -10 | egrep -m 1 -B 10 '^$' | tr '\\n' ' '; echo; done) <\nsrc/sage/combinat/posets/posets.py | tr -d '`' | egrep '.{250,}' -B 1 | egrep '^    def [^_]'\n```\n\nThis founds `level_sets()` and `coxeter_transformation()`.",
    "created_at": "2015-09-10T08:20:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342677",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:34'></a>
Replying to [ncohen](#comment%3A32):

> No. I guess it has to be written "from scratch", or else it must be some long regexp.


What? Long regexp? Those are always fun!

But actually this is easier with some bash magic. Here is one example:

```
(while egrep -m 1 '^    def [^_]'; do head -10 | egrep -m 1 -B 10 '^$' | tr '\n' ' '; echo; done) <
src/sage/combinat/posets/posets.py | tr -d '`' | egrep '.{250,}' -B 1 | egrep '^    def [^_]'
```

This founds `level_sets()` and `coxeter_transformation()`.



---

archive/issue_events_060291.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-10T19:46:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19067#event-60291"
}
```



---

archive/issue_comments_342678.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2015-09-10T19:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342678",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_342679.json:
```json
{
    "body": "**Changing branch** from \"[u/ncohen/19067](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19067)\" to \"[3728de720c632a5dabc09824000e6818c5716274](https://github.com/sagemath/sagetrac-mirror/commit/3728de720c632a5dabc09824000e6818c5716274)\".",
    "created_at": "2015-09-10T19:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19067",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19067#issuecomment-342679",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/ncohen/19067](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19067)" to "[3728de720c632a5dabc09824000e6818c5716274](https://github.com/sagemath/sagetrac-mirror/commit/3728de720c632a5dabc09824000e6818c5716274)".
