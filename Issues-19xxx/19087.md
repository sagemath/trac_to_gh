# Issue 19087: better checking for invalid plot options

archive/issues_018850.json:
```json
{
    "body": "CC:  @vbraun\n\nSage 6.5\n\n```\nsage: polar_plot(sec(x),(x,-pi/8,pi/8),ticks=[.1,None],aspect_ratio='auto')\n/Users/.../sage-6.5/local/lib/python2.7/site-packages/IPython/core/formatters.py:239: FormatterWarning: Exception in text/plain formatter: Expand the range of the independent variable to allow two multiples of your tick locator (option `ticks`).\n<snip>\nKeyError: 'text/plain'\n```\nCurrent beta:\n\n```\nsage: sage: polar_plot(sec(x),(x,-pi/8,pi/8),ticks=[.1,None],aspect_ratio='auto')\n/Users/.../sage/local/lib/python2.7/site-packages/sage/repl/rich_output/display_manager.py:570: RichReprWarning: Exception in _rich_repr_ while displaying object: unsupported operand type(s) for /: 'float' and 'str'\n  RichReprWarning,\nGraphics object consisting of 1 graphics primitive\n```\nBut no graphic shows up.   This warning is obviously *much* less helpful.  It is true that the warning in both cases only appears once.   Still this seems to be a fairly major regression.\n\nIssue created by migration from https://trac.sagemath.org/ticket/19087\n\n",
    "created_at": "2015-08-25T14:18:27Z",
    "labels": [
        "component: graphics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "better checking for invalid plot options",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19087",
    "user": "https://github.com/kcrisman"
}
```
CC:  @vbraun

Sage 6.5

```
sage: polar_plot(sec(x),(x,-pi/8,pi/8),ticks=[.1,None],aspect_ratio='auto')
/Users/.../sage-6.5/local/lib/python2.7/site-packages/IPython/core/formatters.py:239: FormatterWarning: Exception in text/plain formatter: Expand the range of the independent variable to allow two multiples of your tick locator (option `ticks`).
<snip>
KeyError: 'text/plain'
```
Current beta:

```
sage: sage: polar_plot(sec(x),(x,-pi/8,pi/8),ticks=[.1,None],aspect_ratio='auto')
/Users/.../sage/local/lib/python2.7/site-packages/sage/repl/rich_output/display_manager.py:570: RichReprWarning: Exception in _rich_repr_ while displaying object: unsupported operand type(s) for /: 'float' and 'str'
  RichReprWarning,
Graphics object consisting of 1 graphics primitive
```
But no graphic shows up.   This warning is obviously *much* less helpful.  It is true that the warning in both cases only appears once.   Still this seems to be a fairly major regression.

Issue created by migration from https://trac.sagemath.org/ticket/19087





---

archive/issue_comments_257655.json:
```json
{
    "body": "Its `aspect_ratio='automatic'`. Really the fault of plot for not verifying input and then tripping over its feet with useless diagnostics when its time to display the plot.",
    "created_at": "2015-08-25T15:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19087#issuecomment-257655",
    "user": "https://github.com/vbraun"
}
```

Its `aspect_ratio='automatic'`. Really the fault of plot for not verifying input and then tripping over its feet with useless diagnostics when its time to display the plot.



---

archive/issue_comments_257656.json:
```json
{
    "body": "I thought we had a `'auto'=='automatic'` in that event?  Man, I really have not been keeping up.\n\n```\nsage: polar_plot(sec(x),(x,-pi/8,pi/8),ticks=[.1,None],aspect_ratio='automatic') \n/Users/karl.crisman/Downloads/sage/local/lib/python2.7/site-packages/sage/repl/rich_output/display_manager.py:570: RichReprWarning: Exception in _rich_repr_ while displaying object: Expand the range of the independent variable to allow two multiples of your tick locator (option `ticks`).\n  RichReprWarning,\nGraphics object consisting of 1 graphics primitive\n```\nIt still shouldn't say it returns a graphic object, should it?",
    "created_at": "2015-08-25T15:58:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19087#issuecomment-257656",
    "user": "https://github.com/kcrisman"
}
```

I thought we had a `'auto'=='automatic'` in that event?  Man, I really have not been keeping up.

```
sage: polar_plot(sec(x),(x,-pi/8,pi/8),ticks=[.1,None],aspect_ratio='automatic') 
/Users/karl.crisman/Downloads/sage/local/lib/python2.7/site-packages/sage/repl/rich_output/display_manager.py:570: RichReprWarning: Exception in _rich_repr_ while displaying object: Expand the range of the independent variable to allow two multiples of your tick locator (option `ticks`).
  RichReprWarning,
Graphics object consisting of 1 graphics primitive
```
It still shouldn't say it returns a graphic object, should it?



---

archive/issue_comments_257657.json:
```json
{
    "body": "plot() does return a graphics object, this is precisely what is wrong with plot. It shouldn't return a graphics object if the input is invalid. But it does, and the graphics object can't display itself graphically.",
    "created_at": "2015-08-25T16:08:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19087#issuecomment-257657",
    "user": "https://github.com/vbraun"
}
```

plot() does return a graphics object, this is precisely what is wrong with plot. It shouldn't return a graphics object if the input is invalid. But it does, and the graphics object can't display itself graphically.



---

archive/issue_comments_257658.json:
```json
{
    "body": "Note that in the previous incarnation it didn't actually return anything, there was a `KeyError`...",
    "created_at": "2015-08-25T16:12:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19087#issuecomment-257658",
    "user": "https://github.com/kcrisman"
}
```

Note that in the previous incarnation it didn't actually return anything, there was a `KeyError`...
