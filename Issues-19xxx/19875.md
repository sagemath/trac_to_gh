# Issue 19875: Upgrade MathJax to 2.6

archive/issues_019638.json:
```json
{
    "assignees": [],
    "body": "Sage currently ships MathJax 2.5. [MathJax 2.6 was released 2015-12-30](https://www.mathjax.org/news/).\n\nUpgrading would solve the trailing vertical bar that appears after each\nmathjax-rendered formula in the Chrome and Opera browsers, see eg\n\nhttp://doc.sagemath.org/html/en/reference/rings_standard/index.html\n\nas a result of a known MathJax bug fixed in MathJax 2.6, see\n\nhttps://github.com/mathjax/MathJax/issues/1300\n\nand\n\nhttp://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line\n\nCC:  @sagetrac-tmonteil @egourgoulhon @vbraun @jdemeyer @kiwifb @kcrisman @novoselt @jhpalmieri\n\nBranch/Commit: **[c489394](https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056)**\n\nReviewer: **Miguel Marco**\n\nAuthor: **Volker Braun**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19875_\n\n",
    "closed_at": "2016-07-02T12:07:31Z",
    "created_at": "2016-01-12T18:03:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade MathJax to 2.6",
    "type": "issue",
    "updated_at": "2016-07-02T12:07:31Z",
    "url": "https://github.com/sagemath/sage/issues/19875",
    "user": "https://github.com/slel"
}
```
Sage currently ships MathJax 2.5. [MathJax 2.6 was released 2015-12-30](https://www.mathjax.org/news/).

Upgrading would solve the trailing vertical bar that appears after each
mathjax-rendered formula in the Chrome and Opera browsers, see eg

http://doc.sagemath.org/html/en/reference/rings_standard/index.html

as a result of a known MathJax bug fixed in MathJax 2.6, see

https://github.com/mathjax/MathJax/issues/1300

and

http://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line

CC:  @sagetrac-tmonteil @egourgoulhon @vbraun @jdemeyer @kiwifb @kcrisman @novoselt @jhpalmieri

Branch/Commit: **[c489394](https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056)**

Reviewer: **Miguel Marco**

Author: **Volker Braun**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/19875_





---

archive/issue_events_280981.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-01-12T18:03:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19875#event-280981"
}
```



---

archive/issue_events_280982.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-01-12T18:03:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19875#event-280982"
}
```



---

archive/issue_events_280983.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-01-12T18:03:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19875#event-280983"
}
```



---

archive/issue_events_280984.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-01-12T18:03:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19875#event-280984"
}
```



---

archive/issue_comments_284293.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nCc-ing possibly interested developers.",
    "created_at": "2016-01-12T18:13:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284293",
    "user": "https://github.com/slel"
}
```

<div id="comment:1" align="right">comment:1</div>

Cc-ing possibly interested developers.



---

archive/issue_comments_284294.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nApparently it's now 2.6.1.",
    "created_at": "2016-02-13T20:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284294",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

Apparently it's now 2.6.1.



---

archive/issue_comments_284295.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,14 @@\n Sage currently ships MathJax 2.5. [MathJax 2.6 was released 2015-12-30](https://www.mathjax.org/news/).\n+\n+Upgrading would solve the trailing vertical bar that appears after each\n+mathjax-rendered formula in the Chrome and Opera browsers, see eg\n+\n+http://doc.sagemath.org/html/en/reference/rings_standard/index.html\n+\n+as a result of a known MathJax bug fixed in MathJax 2.6, see\n+\n+https://github.com/mathjax/MathJax/issues/1300\n+\n+and\n+\n+http://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line\n``````\n",
    "created_at": "2016-06-03T07:14:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284295",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,14 @@
 Sage currently ships MathJax 2.5. [MathJax 2.6 was released 2015-12-30](https://www.mathjax.org/news/).
+
+Upgrading would solve the trailing vertical bar that appears after each
+mathjax-rendered formula in the Chrome and Opera browsers, see eg
+
+http://doc.sagemath.org/html/en/reference/rings_standard/index.html
+
+as a result of a known MathJax bug fixed in MathJax 2.6, see
+
+https://github.com/mathjax/MathJax/issues/1300
+
+and
+
+http://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line
``````




---

archive/issue_comments_284296.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nExpand description, add links to the trailing vertical bar bug.",
    "created_at": "2016-06-03T07:14:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284296",
    "user": "https://github.com/slel"
}
```

<div id="comment:3" align="right">comment:3</div>

Expand description, add links to the trailing vertical bar bug.



---

archive/issue_events_280985.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-06-03T07:14:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19875#event-280985"
}
```



---

archive/issue_events_280986.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-06-03T07:14:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19875#event-280986"
}
```



---

archive/issue_comments_284297.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI'm not sure if this is the ticket for it, but just regarding building the documentation, it would help to just point to mathjax's latest version in the CDN. Maybe, that could be an option, set by an env variable? But I have no idea how this is setup right now and how hard it would be to make the URL of mathjax dynamic.",
    "created_at": "2016-06-03T08:29:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284297",
    "user": "https://github.com/haraldschilly"
}
```

<div id="comment:4" align="right">comment:4</div>

I'm not sure if this is the ticket for it, but just regarding building the documentation, it would help to just point to mathjax's latest version in the CDN. Maybe, that could be an option, set by an env variable? But I have no idea how this is setup right now and how hard it would be to make the URL of mathjax dynamic.



---

archive/issue_comments_284298.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nMy life for SageMathCell definitely got easier after switching to CDN - not only I get automatic updates, but I also have a complete version of MathJax including image fonts which are necessary in some campus-wide (mis)configurations, but cannot be added to Sage because each documentation folder has to have a copy I was told...",
    "created_at": "2016-06-03T14:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284298",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:5" align="right">comment:5</div>

My life for SageMathCell definitely got easier after switching to CDN - not only I get automatic updates, but I also have a complete version of MathJax including image fonts which are necessary in some campus-wide (mis)configurations, but cannot be added to Sage because each documentation folder has to have a copy I was told...



---

archive/issue_comments_284299.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nAt the same time, notebook + docs should work without internet access...",
    "created_at": "2016-06-03T14:32:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284299",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:6" align="right">comment:6</div>

At the same time, notebook + docs should work without internet access...



---

archive/issue_comments_284300.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@vbraun](#comment:6):\n> At the same time, notebook + docs should work without internet access...\n\noh yes, I'm proposing to have an optional env variable, e.g. SMC_MATHJAX_URL, that's used instead of the default. I have no idea how hard this would be, but it would help in this case here -- i.e. I'm talking about the published doc.sagemath.org site, which obviously requires a working internet to view :-)",
    "created_at": "2016-06-03T15:33:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284300",
    "user": "https://github.com/haraldschilly"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@vbraun](#comment:6):
> At the same time, notebook + docs should work without internet access...

oh yes, I'm proposing to have an optional env variable, e.g. SMC_MATHJAX_URL, that's used instead of the default. I have no idea how hard this would be, but it would help in this case here -- i.e. I'm talking about the published doc.sagemath.org site, which obviously requires a working internet to view :-)



---

archive/issue_comments_284301.json:
```json
{
    "body": "Branch: **[u/vbraun/upgrade_mathjax_to_2_6](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_mathjax_to_2_6)**",
    "created_at": "2016-06-03T16:09:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284301",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/upgrade_mathjax_to_2_6](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_mathjax_to_2_6)**



---

archive/issue_comments_284302.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056\">c489394</a></td><td><code>Update to mathjax 2.6.1</code></td></tr></table>\n",
    "created_at": "2016-06-03T16:17:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284302",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:9"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056">c489394</a></td><td><code>Update to mathjax 2.6.1</code></td></tr></table>




---

archive/issue_comments_284303.json:
```json
{
    "body": "Commit: **[c489394](https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056)**",
    "created_at": "2016-06-03T16:17:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284303",
    "user": "https://github.com/vbraun"
}
```

Commit: **[c489394](https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056)**



---

archive/issue_events_280987.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-03T16:17:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19875#event-280987"
}
```



---

archive/issue_comments_284304.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2016-06-03T16:17:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284304",
    "user": "https://github.com/vbraun"
}
```

Author: **Volker Braun**



---

archive/issue_comments_284305.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThe black bar annoyed me more than once ;-)",
    "created_at": "2016-06-03T16:17:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284305",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">comment:10</div>

The black bar annoyed me more than once ;-)



---

archive/issue_comments_284306.json:
```json
{
    "body": "Reviewer: **Miguel Marco**",
    "created_at": "2016-07-01T18:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284306",
    "user": "https://github.com/miguelmarco"
}
```

Reviewer: **Miguel Marco**



---

archive/issue_events_280988.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2016-07-01T18:38:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19875#event-280988"
}
```



---

archive/issue_events_280989.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2016-07-01T18:38:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19875#event-280989"
}
```



---

archive/issue_comments_284307.json:
```json
{
    "body": "Changed branch from **[u/vbraun/upgrade_mathjax_to_2_6](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_mathjax_to_2_6)** to **[c489394](https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056)**",
    "created_at": "2016-07-02T12:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19875#issuecomment-284307",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/upgrade_mathjax_to_2_6](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_mathjax_to_2_6)** to **[c489394](https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056)**



---

archive/issue_events_280990.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-02T12:07:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19875#event-280990"
}
```



---

archive/issue_events_280991.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "243d16241e84c1d707ed7989c5b75184016a77d5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-07-02T12:07:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19875",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19875#event-280991"
}
```
