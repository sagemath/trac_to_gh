# Issue 19875: Upgrade MathJax to 2.6

archive/issues_019638.json:
```json
{
    "body": "Sage currently ships MathJax 2.5. [MathJax 2.6 was released 2015-12-30](https://www.mathjax.org/news/).\n\nUpgrading would solve the trailing vertical bar that appears after each\nmathjax-rendered formula in the Chrome and Opera browsers, see eg\n\nhttp://doc.sagemath.org/html/en/reference/rings_standard/index.html\n\nas a result of a known MathJax bug fixed in MathJax 2.6, see\n\nhttps://github.com/mathjax/MathJax/issues/1300\n\nand\n\nhttp://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line\n\nCC:  tmonteil @egourgoulhon @vbraun @jdemeyer @kiwifb @kcrisman @novoselt @jhpalmieri\n\nBranch/Commit: c4893941408ff5b48f4d9437912aef854e043056\n\nReviewer: Miguel Marco\n\nAuthor: Volker Braun\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19875\n\n",
    "closed_at": "2016-07-02T12:07:31Z",
    "created_at": "2016-01-12T18:03:32Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Upgrade MathJax to 2.6",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19875",
    "user": "https://github.com/slel"
}
```
Sage currently ships MathJax 2.5. [MathJax 2.6 was released 2015-12-30](https://www.mathjax.org/news/).

Upgrading would solve the trailing vertical bar that appears after each
mathjax-rendered formula in the Chrome and Opera browsers, see eg

http://doc.sagemath.org/html/en/reference/rings_standard/index.html

as a result of a known MathJax bug fixed in MathJax 2.6, see

https://github.com/mathjax/MathJax/issues/1300

and

http://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line

CC:  tmonteil @egourgoulhon @vbraun @jdemeyer @kiwifb @kcrisman @novoselt @jhpalmieri

Branch/Commit: c4893941408ff5b48f4d9437912aef854e043056

Reviewer: Miguel Marco

Author: Volker Braun

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19875





---

archive/issue_comments_287141.json:
```json
{
    "body": "<a id='comment:1'></a>Cc-ing possibly interested developers.",
    "created_at": "2016-01-12T18:13:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-287141",
    "user": "https://github.com/slel"
}
```

<a id='comment:1'></a>Cc-ing possibly interested developers.



---

archive/issue_comments_287142.json:
```json
{
    "body": "<a id='comment:2'></a>Apparently it's now 2.6.1.",
    "created_at": "2016-02-13T20:18:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-287142",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'></a>Apparently it's now 2.6.1.



---

archive/issue_comments_287143.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n Sage currently ships MathJax 2.5. [MathJax 2.6 was released 2015-12-30](https://www.mathjax.org/news/).\n+\n+Upgrading would solve the trailing vertical bar that appears after each\n+mathjax-rendered formula in the Chrome and Opera browsers, see eg\n+\n+http://doc.sagemath.org/html/en/reference/rings_standard/index.html\n+\n+as a result of a known MathJax bug fixed in MathJax 2.6, see\n+\n+https://github.com/mathjax/MathJax/issues/1300\n+\n+and\n+\n+http://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line\n \n Comment: 1\n \n``````\n",
    "created_at": "2016-06-03T07:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-287143",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,17 @@
 Sage currently ships MathJax 2.5. [MathJax 2.6 was released 2015-12-30](https://www.mathjax.org/news/).
+
+Upgrading would solve the trailing vertical bar that appears after each
+mathjax-rendered formula in the Chrome and Opera browsers, see eg
+
+http://doc.sagemath.org/html/en/reference/rings_standard/index.html
+
+as a result of a known MathJax bug fixed in MathJax 2.6, see
+
+https://github.com/mathjax/MathJax/issues/1300
+
+and
+
+http://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line
 
 Comment: 1
 
``````




---

archive/issue_comments_287144.json:
```json
{
    "body": "<a id='comment:3'></a>Expand description, add links to the trailing vertical bar bug.",
    "created_at": "2016-06-03T07:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-287144",
    "user": "https://github.com/slel"
}
```

<a id='comment:3'></a>Expand description, add links to the trailing vertical bar bug.



---

archive/issue_events_054330.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-06-03T07:14:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19875#event-54330"
}
```



---

archive/issue_comments_287145.json:
```json
{
    "body": "<a id='comment:4'></a>I'm not sure if this is the ticket for it, but just regarding building the documentation, it would help to just point to mathjax's latest version in the CDN. Maybe, that could be an option, set by an env variable? But I have no idea how this is setup right now and how hard it would be to make the URL of mathjax dynamic.",
    "created_at": "2016-06-03T08:29:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-287145",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:4'></a>I'm not sure if this is the ticket for it, but just regarding building the documentation, it would help to just point to mathjax's latest version in the CDN. Maybe, that could be an option, set by an env variable? But I have no idea how this is setup right now and how hard it would be to make the URL of mathjax dynamic.



---

archive/issue_comments_287146.json:
```json
{
    "body": "<a id='comment:5'></a>My life for SageMathCell definitely got easier after switching to CDN - not only I get automatic updates, but I also have a complete version of MathJax including image fonts which are necessary in some campus-wide (mis)configurations, but cannot be added to Sage because each documentation folder has to have a copy I was told...",
    "created_at": "2016-06-03T14:02:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-287146",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:5'></a>My life for SageMathCell definitely got easier after switching to CDN - not only I get automatic updates, but I also have a complete version of MathJax including image fonts which are necessary in some campus-wide (mis)configurations, but cannot be added to Sage because each documentation folder has to have a copy I was told...



---

archive/issue_comments_287147.json:
```json
{
    "body": "<a id='comment:6'></a>At the same time, notebook + docs should work without internet access...",
    "created_at": "2016-06-03T14:32:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-287147",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>At the same time, notebook + docs should work without internet access...



---

archive/issue_comments_287148.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 vbraun]:\n> At the same time, notebook + docs should work without internet access...\n\n\noh yes, I'm proposing to have an optional env variable, e.g. SMC_MATHJAX_URL, that's used instead of the default. I have no idea how hard this would be, but it would help in this case here -- i.e. I'm talking about the published doc.sagemath.org site, which obviously requires a working internet to view :-)",
    "created_at": "2016-06-03T15:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-287148",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:7'></a>Replying to [comment:6 vbraun]:
> At the same time, notebook + docs should work without internet access...


oh yes, I'm proposing to have an optional env variable, e.g. SMC_MATHJAX_URL, that's used instead of the default. I have no idea how hard this would be, but it would help in this case here -- i.e. I'm talking about the published doc.sagemath.org site, which obviously requires a working internet to view :-)



---

archive/issue_comments_287149.json:
```json
{
    "body": "<a id='comment:9'></a>New commits:",
    "created_at": "2016-06-03T16:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-287149",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'></a>New commits:



---

archive/issue_comments_287150.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-06-03T16:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-287150",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_287151.json:
```json
{
    "body": "<a id='comment:10'></a>The black bar annoyed me more than once ;-)",
    "created_at": "2016-06-03T16:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-287151",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>The black bar annoyed me more than once ;-)



---

archive/issue_comments_287152.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-07-01T18:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-287152",
    "user": "https://github.com/miguelmarco"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_287153.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-07-02T12:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-287153",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_054331.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-02T12:07:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19875#event-54331"
}
```
