# Issue 19875: Upgrade MathJax to 2.6

archive/issues_019638.json:
```json
{
    "body": "Sage currently ships MathJax 2.5. [MathJax 2.6 was released 2015-12-30](https://www.mathjax.org/news/).\n\nUpgrading would solve the trailing vertical bar that appears after each\nmathjax-rendered formula in the Chrome and Opera browsers, see eg\n\nhttp://doc.sagemath.org/html/en/reference/rings_standard/index.html\n\nas a result of a known MathJax bug fixed in MathJax 2.6, see\n\nhttps://github.com/mathjax/MathJax/issues/1300\n\nand\n\nhttp://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line\n\n**CC:**  tmonteil @egourgoulhon @vbraun @jdemeyer @kiwifb @kcrisman @novoselt @jhpalmieri\n\n**Branch/Commit:** [c4893941408ff5b48f4d9437912aef854e043056](https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056)\n\n**Reviewer:** Miguel Marco\n\n**Author:** Volker Braun\n\nIssue created by migration from https://trac.sagemath.org/ticket/19875\n\n",
    "closed_at": "2016-07-02T12:07:31Z",
    "created_at": "2016-01-12T18:03:32Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Upgrade MathJax to 2.6",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19875",
    "user": "https://github.com/slel"
}
```
Sage currently ships MathJax 2.5. [MathJax 2.6 was released 2015-12-30](https://www.mathjax.org/news/).

Upgrading would solve the trailing vertical bar that appears after each
mathjax-rendered formula in the Chrome and Opera browsers, see eg

http://doc.sagemath.org/html/en/reference/rings_standard/index.html

as a result of a known MathJax bug fixed in MathJax 2.6, see

https://github.com/mathjax/MathJax/issues/1300

and

http://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line

**CC:**  tmonteil @egourgoulhon @vbraun @jdemeyer @kiwifb @kcrisman @novoselt @jhpalmieri

**Branch/Commit:** [c4893941408ff5b48f4d9437912aef854e043056](https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056)

**Reviewer:** Miguel Marco

**Author:** Volker Braun

Issue created by migration from https://trac.sagemath.org/ticket/19875





---

archive/issue_comments_286737.json:
```json
{
    "body": "<a id='comment:1'></a>\nCc-ing possibly interested developers.",
    "created_at": "2016-01-12T18:13:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286737",
    "user": "https://github.com/slel"
}
```

<a id='comment:1'></a>
Cc-ing possibly interested developers.



---

archive/issue_comments_286738.json:
```json
{
    "body": "<a id='comment:2'></a>\nApparently it's now 2.6.1.",
    "created_at": "2016-02-13T20:18:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286738",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'></a>
Apparently it's now 2.6.1.



---

archive/issue_comments_286739.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,14 @@\n Sage currently ships MathJax 2.5. [MathJax 2.6 was released 2015-12-30](https://www.mathjax.org/news/).\n+\n+Upgrading would solve the trailing vertical bar that appears after each\n+mathjax-rendered formula in the Chrome and Opera browsers, see eg\n+\n+http://doc.sagemath.org/html/en/reference/rings_standard/index.html\n+\n+as a result of a known MathJax bug fixed in MathJax 2.6, see\n+\n+https://github.com/mathjax/MathJax/issues/1300\n+\n+and\n+\n+http://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line\n``````\n",
    "created_at": "2016-06-03T07:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286739",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,14 @@
 Sage currently ships MathJax 2.5. [MathJax 2.6 was released 2015-12-30](https://www.mathjax.org/news/).
+
+Upgrading would solve the trailing vertical bar that appears after each
+mathjax-rendered formula in the Chrome and Opera browsers, see eg
+
+http://doc.sagemath.org/html/en/reference/rings_standard/index.html
+
+as a result of a known MathJax bug fixed in MathJax 2.6, see
+
+https://github.com/mathjax/MathJax/issues/1300
+
+and
+
+http://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line
``````




---

archive/issue_comments_286740.json:
```json
{
    "body": "<a id='comment:3'></a>\nExpand description, add links to the trailing vertical bar bug.",
    "created_at": "2016-06-03T07:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286740",
    "user": "https://github.com/slel"
}
```

<a id='comment:3'></a>
Expand description, add links to the trailing vertical bar bug.



---

archive/issue_events_178482.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-06-03T07:14:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "milestone": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19875#event-178482"
}
```



---

archive/issue_events_178483.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-06-03T07:14:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19875#event-178483"
}
```



---

archive/issue_comments_286741.json:
```json
{
    "body": "<a id='comment:4'></a>\nI'm not sure if this is the ticket for it, but just regarding building the documentation, it would help to just point to mathjax's latest version in the CDN. Maybe, that could be an option, set by an env variable? But I have no idea how this is setup right now and how hard it would be to make the URL of mathjax dynamic.",
    "created_at": "2016-06-03T08:29:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286741",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:4'></a>
I'm not sure if this is the ticket for it, but just regarding building the documentation, it would help to just point to mathjax's latest version in the CDN. Maybe, that could be an option, set by an env variable? But I have no idea how this is setup right now and how hard it would be to make the URL of mathjax dynamic.



---

archive/issue_comments_286742.json:
```json
{
    "body": "<a id='comment:5'></a>\nMy life for SageMathCell definitely got easier after switching to CDN - not only I get automatic updates, but I also have a complete version of MathJax including image fonts which are necessary in some campus-wide (mis)configurations, but cannot be added to Sage because each documentation folder has to have a copy I was told...",
    "created_at": "2016-06-03T14:02:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286742",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:5'></a>
My life for SageMathCell definitely got easier after switching to CDN - not only I get automatic updates, but I also have a complete version of MathJax including image fonts which are necessary in some campus-wide (mis)configurations, but cannot be added to Sage because each documentation folder has to have a copy I was told...



---

archive/issue_comments_286743.json:
```json
{
    "body": "<a id='comment:6'></a>\nAt the same time, notebook + docs should work without internet access...",
    "created_at": "2016-06-03T14:32:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286743",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>
At the same time, notebook + docs should work without internet access...



---

archive/issue_comments_286744.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [vbraun](#comment%3A6):\n> At the same time, notebook + docs should work without internet access...\n\n\noh yes, I'm proposing to have an optional env variable, e.g. SMC_MATHJAX_URL, that's used instead of the default. I have no idea how hard this would be, but it would help in this case here -- i.e. I'm talking about the published doc.sagemath.org site, which obviously requires a working internet to view :-)",
    "created_at": "2016-06-03T15:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286744",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:7'></a>
Replying to [vbraun](#comment%3A6):
> At the same time, notebook + docs should work without internet access...


oh yes, I'm proposing to have an optional env variable, e.g. SMC_MATHJAX_URL, that's used instead of the default. I have no idea how hard this would be, but it would help in this case here -- i.e. I'm talking about the published doc.sagemath.org site, which obviously requires a working internet to view :-)



---

archive/issue_comments_286745.json:
```json
{
    "body": "**Branch:** [u/vbraun/upgrade_mathjax_to_2_6](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_mathjax_to_2_6)",
    "created_at": "2016-06-03T16:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286745",
    "user": "https://github.com/vbraun"
}
```

**Branch:** [u/vbraun/upgrade_mathjax_to_2_6](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_mathjax_to_2_6)



---

archive/issue_comments_286746.json:
```json
{
    "body": "<a id='comment:9'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056\">c489394</a></td><td><code>Update to mathjax 2.6.1</code></td></tr></table>\n",
    "created_at": "2016-06-03T16:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286746",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056">c489394</a></td><td><code>Update to mathjax 2.6.1</code></td></tr></table>




---

archive/issue_comments_286747.json:
```json
{
    "body": "**Commit:** [c4893941408ff5b48f4d9437912aef854e043056](https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056)",
    "created_at": "2016-06-03T16:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286747",
    "user": "https://github.com/vbraun"
}
```

**Commit:** [c4893941408ff5b48f4d9437912aef854e043056](https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056)



---

archive/issue_events_178484.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-03T16:17:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19875#event-178484"
}
```



---

archive/issue_comments_286748.json:
```json
{
    "body": "**Author:** Volker Braun",
    "created_at": "2016-06-03T16:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286748",
    "user": "https://github.com/vbraun"
}
```

**Author:** Volker Braun



---

archive/issue_comments_286749.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe black bar annoyed me more than once ;-)",
    "created_at": "2016-06-03T16:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286749",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>
The black bar annoyed me more than once ;-)



---

archive/issue_comments_286750.json:
```json
{
    "body": "**Reviewer:** Miguel Marco",
    "created_at": "2016-07-01T18:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286750",
    "user": "https://github.com/miguelmarco"
}
```

**Reviewer:** Miguel Marco



---

archive/issue_events_178485.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2016-07-01T18:38:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19875#event-178485"
}
```



---

archive/issue_events_178486.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2016-07-01T18:38:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19875#event-178486"
}
```



---

archive/issue_comments_286751.json:
```json
{
    "body": "**Changing branch** from \"[u/vbraun/upgrade_mathjax_to_2_6](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_mathjax_to_2_6)\" to \"[c4893941408ff5b48f4d9437912aef854e043056](https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056)\".",
    "created_at": "2016-07-02T12:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19875#issuecomment-286751",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/vbraun/upgrade_mathjax_to_2_6](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_mathjax_to_2_6)" to "[c4893941408ff5b48f4d9437912aef854e043056](https://github.com/sagemath/sagetrac-mirror/commit/c4893941408ff5b48f4d9437912aef854e043056)".



---

archive/issue_events_178487.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-02T12:07:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19875#event-178487"
}
```



---

archive/issue_events_178488.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-02T12:07:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19875",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19875#event-178488"
}
```
