# Issue 19858: Reproducible documentation build

archive/issues_019621.json:
```json
{
    "body": "Building twice the documentation from the same sources should produce the exact same result, byte for byte.  This requires removing hexadecimal addresses like `function <lambda> at 0xdeadbeef`.\n\nThis will make it easier to diff docs to review doc-related tickets.\n\nWith the branch applied, the only source of non-reproducibility is this one:\n\n```diff\ndiff -ru html1/en/reference/finance/sage/finance/stock.html html2/en/reference/finance/sage/finance/stock.html\n--- html1/en/reference/finance/sage/finance/stock.html  2016-01-14 23:06:42.738032047 +0100\n+++ html2/en/reference/finance/sage/finance/stock.html  2016-01-15 07:25:57.041963861 +0100\n@@ -271,7 +271,7 @@\n \n <dl class=\"method\">\n <dt id=\"sage.finance.stock.Stock.history\">\n-<tt class=\"descname\">history</tt><big>(</big><em>startdate='Jan+1</em>, <em>+1900'</em>, <em>enddate='Jan+14</em>, <em>+2016'</em>, <em>histperiod='daily'</em><big>)</big><a class=\"headerlink\" href=\"#sage.finance.stock.Stock.history\" title=\"Permalink to this definition\">\u00b6</a></dt>\n+<tt class=\"descname\">history</tt><big>(</big><em>startdate='Jan+1</em>, <em>+1900'</em>, <em>enddate='Jan+15</em>, <em>+2016'</em>, <em>histperiod='daily'</em><big>)</big><a class=\"headerlink\" href=\"#sage.finance.stock.Stock.history\" title=\"Permalink to this definition\">\u00b6</a></dt>\n <dd><p>Return an immutable sequence of historical price data\n for this stock, obtained from Google. OHLC data is stored\n internally as well. By default, returns the past year&#8217;s daily\n```\n\n**Branch/Commit:** [941a0f22b93594f96c3b243542e6288756c751bd](https://github.com/sagemath/sagetrac-mirror/commit/941a0f22b93594f96c3b243542e6288756c751bd)\n\n**Reviewer:** Volker Braun\n\n**Author:** Jeroen Demeyer\n\nIssue created by migration from https://trac.sagemath.org/ticket/19858\n\n",
    "closed_at": "2016-01-20T10:19:50Z",
    "created_at": "2016-01-10T21:57:31Z",
    "labels": [
        "component: documentation",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.0",
    "title": "Reproducible documentation build",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/19858",
    "user": "https://github.com/jdemeyer"
}
```
Building twice the documentation from the same sources should produce the exact same result, byte for byte.  This requires removing hexadecimal addresses like `function <lambda> at 0xdeadbeef`.

This will make it easier to diff docs to review doc-related tickets.

With the branch applied, the only source of non-reproducibility is this one:

```diff
diff -ru html1/en/reference/finance/sage/finance/stock.html html2/en/reference/finance/sage/finance/stock.html
--- html1/en/reference/finance/sage/finance/stock.html  2016-01-14 23:06:42.738032047 +0100
+++ html2/en/reference/finance/sage/finance/stock.html  2016-01-15 07:25:57.041963861 +0100
@@ -271,7 +271,7 @@
 
 <dl class="method">
 <dt id="sage.finance.stock.Stock.history">
-<tt class="descname">history</tt><big>(</big><em>startdate='Jan+1</em>, <em>+1900'</em>, <em>enddate='Jan+14</em>, <em>+2016'</em>, <em>histperiod='daily'</em><big>)</big><a class="headerlink" href="#sage.finance.stock.Stock.history" title="Permalink to this definition">¶</a></dt>
+<tt class="descname">history</tt><big>(</big><em>startdate='Jan+1</em>, <em>+1900'</em>, <em>enddate='Jan+15</em>, <em>+2016'</em>, <em>histperiod='daily'</em><big>)</big><a class="headerlink" href="#sage.finance.stock.Stock.history" title="Permalink to this definition">¶</a></dt>
 <dd><p>Return an immutable sequence of historical price data
 for this stock, obtained from Google. OHLC data is stored
 internally as well. By default, returns the past year&#8217;s daily
```

**Branch/Commit:** [941a0f22b93594f96c3b243542e6288756c751bd](https://github.com/sagemath/sagetrac-mirror/commit/941a0f22b93594f96c3b243542e6288756c751bd)

**Reviewer:** Volker Braun

**Author:** Jeroen Demeyer

Issue created by migration from https://trac.sagemath.org/ticket/19858





---

archive/issue_comments_286439.json:
```json
{
    "body": "**Branch:** [u/jdemeyer/reproducible_documentation_build](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/reproducible_documentation_build)",
    "created_at": "2016-01-14T22:05:05Z",
    "issue": "https://github.com/sagemath/sage/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19858#issuecomment-286439",
    "user": "https://github.com/jdemeyer"
}
```

**Branch:** [u/jdemeyer/reproducible_documentation_build](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/reproducible_documentation_build)



---

archive/issue_events_178343.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-15T06:47:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19858",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19858#event-178343"
}
```



---

archive/issue_comments_286440.json:
```json
{
    "body": "**Author:** Jeroen Demeyer",
    "created_at": "2016-01-15T06:47:39Z",
    "issue": "https://github.com/sagemath/sage/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19858#issuecomment-286440",
    "user": "https://github.com/jdemeyer"
}
```

**Author:** Jeroen Demeyer



---

archive/issue_comments_286441.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/941a0f22b93594f96c3b243542e6288756c751bd\">941a0f2</a></td><td><code>Remove hexadecimal addresses from argspec</code></td></tr></table>\n",
    "created_at": "2016-01-15T06:47:39Z",
    "issue": "https://github.com/sagemath/sage/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19858#issuecomment-286441",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/941a0f22b93594f96c3b243542e6288756c751bd">941a0f2</a></td><td><code>Remove hexadecimal addresses from argspec</code></td></tr></table>




---

archive/issue_comments_286442.json:
```json
{
    "body": "**Commit:** [941a0f22b93594f96c3b243542e6288756c751bd](https://github.com/sagemath/sagetrac-mirror/commit/941a0f22b93594f96c3b243542e6288756c751bd)",
    "created_at": "2016-01-15T06:47:39Z",
    "issue": "https://github.com/sagemath/sage/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19858#issuecomment-286442",
    "user": "https://github.com/jdemeyer"
}
```

**Commit:** [941a0f22b93594f96c3b243542e6288756c751bd](https://github.com/sagemath/sagetrac-mirror/commit/941a0f22b93594f96c3b243542e6288756c751bd)



---

archive/issue_comments_286443.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,20 @@\n-Building twice the documentation from the same sources should produce the exact same result, byte for byte.  The main current caveat is that the representation of default arguments sometimes contain session-dependent information like memory addresses for lambda functions.\n+Building twice the documentation from the same sources should produce the exact same result, byte for byte.  This requires removing hexadecimal addresses like `function <lambda> at 0xdeadbeef`.\n \n This will make it easier to diff docs to review doc-related tickets.\n+\n+With the branch applied, the only source of non-reproducibility is this one:\n+\n+```diff\n+diff -ru html1/en/reference/finance/sage/finance/stock.html html2/en/reference/finance/sage/finance/stock.html\n+--- html1/en/reference/finance/sage/finance/stock.html  2016-01-14 23:06:42.738032047 +0100\n++++ html2/en/reference/finance/sage/finance/stock.html  2016-01-15 07:25:57.041963861 +0100\n+@@ -271,7 +271,7 @@\n+ \n+ <dl class=\"method\">\n+ <dt id=\"sage.finance.stock.Stock.history\">\n+-<tt class=\"descname\">history</tt><big>(</big><em>startdate='Jan+1</em>, <em>+1900'</em>, <em>enddate='Jan+14</em>, <em>+2016'</em>, <em>histperiod='daily'</em><big>)</big><a class=\"headerlink\" href=\"#sage.finance.stock.Stock.history\" title=\"Permalink to this definition\">\u00b6</a></dt>\n++<tt class=\"descname\">history</tt><big>(</big><em>startdate='Jan+1</em>, <em>+1900'</em>, <em>enddate='Jan+15</em>, <em>+2016'</em>, <em>histperiod='daily'</em><big>)</big><a class=\"headerlink\" href=\"#sage.finance.stock.Stock.history\" title=\"Permalink to this definition\">\u00b6</a></dt>\n+ <dd><p>Return an immutable sequence of historical price data\n+ for this stock, obtained from Google. OHLC data is stored\n+ internally as well. By default, returns the past year&#8217;s daily\n+```\n``````\n",
    "created_at": "2016-01-15T06:49:12Z",
    "issue": "https://github.com/sagemath/sage/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19858#issuecomment-286443",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,20 @@
-Building twice the documentation from the same sources should produce the exact same result, byte for byte.  The main current caveat is that the representation of default arguments sometimes contain session-dependent information like memory addresses for lambda functions.
+Building twice the documentation from the same sources should produce the exact same result, byte for byte.  This requires removing hexadecimal addresses like `function <lambda> at 0xdeadbeef`.
 
 This will make it easier to diff docs to review doc-related tickets.
+
+With the branch applied, the only source of non-reproducibility is this one:
+
+```diff
+diff -ru html1/en/reference/finance/sage/finance/stock.html html2/en/reference/finance/sage/finance/stock.html
+--- html1/en/reference/finance/sage/finance/stock.html  2016-01-14 23:06:42.738032047 +0100
++++ html2/en/reference/finance/sage/finance/stock.html  2016-01-15 07:25:57.041963861 +0100
+@@ -271,7 +271,7 @@
+ 
+ <dl class="method">
+ <dt id="sage.finance.stock.Stock.history">
+-<tt class="descname">history</tt><big>(</big><em>startdate='Jan+1</em>, <em>+1900'</em>, <em>enddate='Jan+14</em>, <em>+2016'</em>, <em>histperiod='daily'</em><big>)</big><a class="headerlink" href="#sage.finance.stock.Stock.history" title="Permalink to this definition">¶</a></dt>
++<tt class="descname">history</tt><big>(</big><em>startdate='Jan+1</em>, <em>+1900'</em>, <em>enddate='Jan+15</em>, <em>+2016'</em>, <em>histperiod='daily'</em><big>)</big><a class="headerlink" href="#sage.finance.stock.Stock.history" title="Permalink to this definition">¶</a></dt>
+ <dd><p>Return an immutable sequence of historical price data
+ for this stock, obtained from Google. OHLC data is stored
+ internally as well. By default, returns the past year&#8217;s daily
+```
``````




---

archive/issue_events_178344.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-15T23:52:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19858",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19858#event-178344"
}
```



---

archive/issue_events_178345.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-15T23:52:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19858",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19858#event-178345"
}
```



---

archive/issue_comments_286444.json:
```json
{
    "body": "**Reviewer:** Volker Braun",
    "created_at": "2016-01-15T23:52:42Z",
    "issue": "https://github.com/sagemath/sage/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19858#issuecomment-286444",
    "user": "https://github.com/vbraun"
}
```

**Reviewer:** Volker Braun



---

archive/issue_comments_286445.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/reproducible_documentation_build](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/reproducible_documentation_build)\" to \"[941a0f22b93594f96c3b243542e6288756c751bd](https://github.com/sagemath/sagetrac-mirror/commit/941a0f22b93594f96c3b243542e6288756c751bd)\".",
    "created_at": "2016-01-20T10:19:50Z",
    "issue": "https://github.com/sagemath/sage/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19858#issuecomment-286445",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/reproducible_documentation_build](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/reproducible_documentation_build)" to "[941a0f22b93594f96c3b243542e6288756c751bd](https://github.com/sagemath/sagetrac-mirror/commit/941a0f22b93594f96c3b243542e6288756c751bd)".



---

archive/issue_events_178346.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-20T10:19:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19858",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19858#event-178346"
}
```



---

archive/issue_events_178347.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-20T10:19:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19858",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19858#event-178347"
}
```
