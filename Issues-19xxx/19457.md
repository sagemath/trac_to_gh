# Issue 19457: Generator for full binary trees

archive/issues_019220.json:
```json
{
    "body": "We add a generator for full binary trees, and two methods :\n\n- to_full() :\n    Return the full binary tree `bt` obtained from `self` by replacing\n    each leaf of `self` by nodes with two child leaves.\n\n- remove_nodes_with_two_child_leaves()\n    Return the binary tree obtained by replacing each node of `self`\n    with two child leaves, by a leaf.\n\nAssignee: patxiku\n\nCC:  @kevindilks\n\nKeywords: binary trees, full, days78\n\nBranch/Commit: 4e0586dff2b026140022cbf23bbe72de1b7079f5\n\nReviewer: Travis Scrimshaw, Vincent Delecroix, Kevin Dilks\n\nAuthor: Adrien Boussicault, B\u00e9r\u00e9nice Delcroix-Oger, Patxi Laborde-Zubieta\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19457\n\n",
    "closed_at": "2017-06-12T18:01:34Z",
    "created_at": "2015-10-22T13:28:04Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Generator for full binary trees",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19457",
    "user": "https://trac.sagemath.org/admin/accounts/users/patxiku"
}
```
We add a generator for full binary trees, and two methods :

- to_full() :
    Return the full binary tree `bt` obtained from `self` by replacing
    each leaf of `self` by nodes with two child leaves.

- remove_nodes_with_two_child_leaves()
    Return the binary tree obtained by replacing each node of `self`
    with two child leaves, by a leaf.

Assignee: patxiku

CC:  @kevindilks

Keywords: binary trees, full, days78

Branch/Commit: 4e0586dff2b026140022cbf23bbe72de1b7079f5

Reviewer: Travis Scrimshaw, Vincent Delecroix, Kevin Dilks

Author: Adrien Boussicault, Bérénice Delcroix-Oger, Patxi Laborde-Zubieta

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19457





---

archive/issue_comments_280444.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,6 +1,11 @@\n-We add a generator for full binary trees.\n+We add a generator for full binary trees, and two methods :\n+- to_full() :\n+    Return the full binary tree `bt` obtained from ``self`` by replacing\n+    each leaf of ``self`` by nodes with two child leaves.\n \n-Keywords: binary trees, full\n+- remove_nodes_with_two_child_leaves()\n+    Return the binary tree obtained by removing the nodes of ``self``\n+    with two child leaves.\n \n Author: Adrien Boussicault, B\u00e9r\u00e9nice Delcroix-Oger, Patxi Laborde-Zubieta\n \n```\n",
    "created_at": "2015-10-26T18:31:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280444",
    "user": "https://trac.sagemath.org/admin/accounts/users/patxiku"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,6 +1,11 @@
-We add a generator for full binary trees.
+We add a generator for full binary trees, and two methods :
+- to_full() :
+    Return the full binary tree `bt` obtained from ``self`` by replacing
+    each leaf of ``self`` by nodes with two child leaves.
 
-Keywords: binary trees, full
+- remove_nodes_with_two_child_leaves()
+    Return the binary tree obtained by removing the nodes of ``self``
+    with two child leaves.
 
 Author: Adrien Boussicault, Bérénice Delcroix-Oger, Patxi Laborde-Zubieta
 
```




---

archive/issue_comments_280445.json:
```json
{
    "body": "<a id='comment:3'></a>I would very much like this as I want to implement free magmatic algebras generated by a set `X` (which are indexed by complete binary trees and a word in the alphabet `X`). However the `to_full` will also add a leaf to internal nodes which do not have 2 children, and the other method will remove all leaves, correct?",
    "created_at": "2015-10-26T18:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280445",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>I would very much like this as I want to implement free magmatic algebras generated by a set `X` (which are indexed by complete binary trees and a word in the alphabet `X`). However the `to_full` will also add a leaf to internal nodes which do not have 2 children, and the other method will remove all leaves, correct?



---

archive/issue_comments_280446.json:
```json
{
    "body": "<a id='comment:4'></a>Yes.\n\nI use the terminology given by the definition used in the implementation of binary trees : (see the documentation of the class BinaryTree from sage.combinat.binary_tree)\n\n    Binary trees here mean ordered (a.k.a. plane) finite binary\n    trees, where \"ordered\" means that the children of each node are\n    ordered.\n\n    Binary trees contain nodes and leaves, where each node has two\n    children while each leaf has no children. The number of leaves\n    of a binary tree always equals the number of nodes plus `1`.\n\nReplying to [comment:3 tscrim]:\n> I would very much like this as I want to implement free magmatic algebras generated by a set `X` (which are indexed by complete binary trees and a word in the alphabet `X`). However the `to_full` will also add a leaf to internal nodes which do not have 2 children, and the other method will remove all leaves, correct?",
    "created_at": "2015-10-26T19:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280446",
    "user": "https://trac.sagemath.org/admin/accounts/users/patxiku"
}
```

<a id='comment:4'></a>Yes.

I use the terminology given by the definition used in the implementation of binary trees : (see the documentation of the class BinaryTree from sage.combinat.binary_tree)

    Binary trees here mean ordered (a.k.a. plane) finite binary
    trees, where "ordered" means that the children of each node are
    ordered.

    Binary trees contain nodes and leaves, where each node has two
    children while each leaf has no children. The number of leaves
    of a binary tree always equals the number of nodes plus `1`.

Replying to [comment:3 tscrim]:
> I would very much like this as I want to implement free magmatic algebras generated by a set `X` (which are indexed by complete binary trees and a word in the alphabet `X`). However the `to_full` will also add a leaf to internal nodes which do not have 2 children, and the other method will remove all leaves, correct?



---

archive/issue_comments_280447.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,11 @@\n+We add a generator for full binary trees, and two methods :\n+- to_full() :\n+    Return the full binary tree `bt` obtained from ``self`` by replacing\n+    each leaf of ``self`` by nodes with two child leaves.\n \n+- remove_nodes_with_two_child_leaves()\n+    Return the binary tree obtained by replacing each node of ``self``\n+    with two child leaves, by a leaf.\n \n Author: Adrien Boussicault, B\u00e9r\u00e9nice Delcroix-Oger, Patxi Laborde-Zubieta\n \n```\n",
    "created_at": "2015-10-26T19:16:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280447",
    "user": "https://trac.sagemath.org/admin/accounts/users/patxiku"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,11 @@
+We add a generator for full binary trees, and two methods :
+- to_full() :
+    Return the full binary tree `bt` obtained from ``self`` by replacing
+    each leaf of ``self`` by nodes with two child leaves.
 
+- remove_nodes_with_two_child_leaves()
+    Return the binary tree obtained by replacing each node of ``self``
+    with two child leaves, by a leaf.
 
 Author: Adrien Boussicault, Bérénice Delcroix-Oger, Patxi Laborde-Zubieta
 
```




---

archive/issue_comments_280448.json:
```json
{
    "body": "<a id='comment:7'></a>The definition in `BinaryTree` is not correct as it does not allow for the \"nodes\" with one element. IMO, a leaf is a node too.\n\nFrom a quick lookover, the reason why binary trees don't compare to full binary trees is that they have different parents. There is an abuse that `BinaryTrees_size` does not know it is a facade parent for `BinaryTrees_all`, but it is why the equality works. To make the equality work by continuing this abuse, you should make `FullBinaryTrees_all` act as a facade for `BinaryTrees_all`.\n\nLet me know when you're ready for me to do a formal review.\n\n---\nNew commits:",
    "created_at": "2015-10-26T22:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280448",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>The definition in `BinaryTree` is not correct as it does not allow for the "nodes" with one element. IMO, a leaf is a node too.

From a quick lookover, the reason why binary trees don't compare to full binary trees is that they have different parents. There is an abuse that `BinaryTrees_size` does not know it is a facade parent for `BinaryTrees_all`, but it is why the equality works. To make the equality work by continuing this abuse, you should make `FullBinaryTrees_all` act as a facade for `BinaryTrees_all`.

Let me know when you're ready for me to do a formal review.

---
New commits:



---

archive/issue_comments_280449.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-02-04T10:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280449",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_280450.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-02-04T13:15:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280450",
    "user": "https://trac.sagemath.org/admin/accounts/users/patxiku"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_280451.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n+We add a generator for full binary trees, and two methods :\n \n+- to_full() :\n+    Return the full binary tree `bt` obtained from `self` by replacing\n+    each leaf of `self` by nodes with two child leaves.\n+\n+- remove_nodes_with_two_child_leaves()\n+    Return the binary tree obtained by replacing each node of `self`\n+    with two child leaves, by a leaf.\n \n Author: Adrien Boussicault, B\u00e9r\u00e9nice Delcroix-Oger, Patxi Laborde-Zubieta\n \n```\n",
    "created_at": "2016-02-04T22:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280451",
    "user": "https://github.com/videlec"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,12 @@
+We add a generator for full binary trees, and two methods :
 
+- to_full() :
+    Return the full binary tree `bt` obtained from `self` by replacing
+    each leaf of `self` by nodes with two child leaves.
+
+- remove_nodes_with_two_child_leaves()
+    Return the binary tree obtained by replacing each node of `self`
+    with two child leaves, by a leaf.
 
 Author: Adrien Boussicault, Bérénice Delcroix-Oger, Patxi Laborde-Zubieta
 
```




---

archive/issue_comments_280452.json:
```json
{
    "body": "<a id='comment:10'></a>This is not an appropriate docstring\n\n```\nTODO : A name for nodes with two child leaves should be defined.\n```\n\nAs mentioned in [comment:7 comment:7], why aren't you using facade parents in both `FullBinaryTrees_all` and `FullBinaryTrees_size`? This is designed for parents for which elements have other parents. Like non negative integers\n\n```\nsage: NN.an_element().parent()\nInteger Ring\n```\nMoreover, you should not provide yourself `element_class`. This is intended to be done by the constructor of `Parent` from the nested class `Element`. In the case of a facade it makes no sense to have either a nested class `Element` or an `element_class`. Namely, the `_element_constructor_` should be something like\n\n```\ndef _element_constructor_(self, data):\n    return BinaryTree(data)\n```\n\nYou should put definitions of `FullBinaryTrees`.\n\nAvoid such call if possible\n\n```\nfor lft in self.__class__(2*i+1):\n```",
    "created_at": "2016-02-04T22:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280452",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>This is not an appropriate docstring

```
TODO : A name for nodes with two child leaves should be defined.
```

As mentioned in [comment:7 comment:7], why aren't you using facade parents in both `FullBinaryTrees_all` and `FullBinaryTrees_size`? This is designed for parents for which elements have other parents. Like non negative integers

```
sage: NN.an_element().parent()
Integer Ring
```
Moreover, you should not provide yourself `element_class`. This is intended to be done by the constructor of `Parent` from the nested class `Element`. In the case of a facade it makes no sense to have either a nested class `Element` or an `element_class`. Namely, the `_element_constructor_` should be something like

```
def _element_constructor_(self, data):
    return BinaryTree(data)
```

You should put definitions of `FullBinaryTrees`.

Avoid such call if possible

```
for lft in self.__class__(2*i+1):
```



---

archive/issue_comments_280453.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-02-04T22:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280453",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_053705.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-02-04T22:27:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19457#event-53705"
}
```



---

archive/issue_comments_280454.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-03-08T02:49:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280454",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_280455.json:
```json
{
    "body": "<a id='comment:11'></a>Okay, I have addressed my issues. I also fixed the facade parent issue for all binary trees (not just full). I also renamed the `remove_two`-something-a-rather into the more intuitive (and correct) `prune()` as it removes *all* leaves from a given (not necessarily full) tree. Vincent, if you agree with my changes, then please go ahead and set a positive review.\n\n---\nNew commits:",
    "created_at": "2016-03-08T02:49:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280455",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>Okay, I have addressed my issues. I also fixed the facade parent issue for all binary trees (not just full). I also renamed the `remove_two`-something-a-rather into the more intuitive (and correct) `prune()` as it removes *all* leaves from a given (not necessarily full) tree. Vincent, if you agree with my changes, then please go ahead and set a positive review.

---
New commits:



---

archive/issue_comments_280456.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-04-07T20:10:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280456",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_280457.json:
```json
{
    "body": "<a id='comment:12'></a>I don't think the definition of `to_full` you give is correct: `Return the minimal full binary tree that is strictly larger than ``self``.` With this definition, I would expect\n\n```\n  o                        o\n /                        / \\\no       -------->        o   o\n \\                      / \\\n  o                    o   o\n```\nAnd moreover it is easy to see that, in general, there is no unique binary tree strictly larger than a given one! Am I wrong? The only thing which makes sense the explicit definition you gave after. But in that case I would not use the name `to_full` for the method name (which should be reservered for the minimal binary tree larger or equal to self).\n\nYou should not use ```self``` (with the quote) in the documentation. In that form it explicitely refers to an argument of a function. And `self` should not be considered as an argument since this is a method. You are free to use `self` (in its standard english sense) or something more explicit like `this tree`.\n\nWhat is the point of defining locally a function `to_full_rec` which is used only once in the code?",
    "created_at": "2016-04-07T20:10:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280457",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'></a>I don't think the definition of `to_full` you give is correct: `Return the minimal full binary tree that is strictly larger than ``self``.` With this definition, I would expect

```
  o                        o
 /                        / \
o       -------->        o   o
 \                      / \
  o                    o   o
```
And moreover it is easy to see that, in general, there is no unique binary tree strictly larger than a given one! Am I wrong? The only thing which makes sense the explicit definition you gave after. But in that case I would not use the name `to_full` for the method name (which should be reservered for the minimal binary tree larger or equal to self).

You should not use ```self``` (with the quote) in the documentation. In that form it explicitely refers to an argument of a function. And `self` should not be considered as an argument since this is a method. You are free to use `self` (in its standard english sense) or something more explicit like `this tree`.

What is the point of defining locally a function `to_full_rec` which is used only once in the code?



---

archive/issue_comments_280458.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-30T00:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280458",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_280459.json:
```json
{
    "body": "<a id='comment:14'></a>Thank you Travis for taking care of the fa\u00e7ade issues, I did not know how to do it.\n\nI did not find a nice name to replace `to_full`.\n\nWhat about making a function `to_full` with an optional argument completion that can be equal to `minimal` or `bijective` :\n *`minimal` would give access to the operation you mentioned\n\n *`bijective` to the operation I wanted to implement initially",
    "created_at": "2016-06-30T01:15:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280459",
    "user": "https://trac.sagemath.org/admin/accounts/users/patxiku"
}
```

<a id='comment:14'></a>Thank you Travis for taking care of the façade issues, I did not know how to do it.

I did not find a nice name to replace `to_full`.

What about making a function `to_full` with an optional argument completion that can be equal to `minimal` or `bijective` :
 *`minimal` would give access to the operation you mentioned

 *`bijective` to the operation I wanted to implement initially



---

archive/issue_comments_280460.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-30T23:21:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280460",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_280461.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-01T07:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280461",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_280462.json:
```json
{
    "body": "<a id='comment:17'></a>I don't think `to_full` should have such an argument and instead have it be the bijection to full binary trees. If we wanted this extra functionality, it would be better served as another method `to_minimal_full`.\n\nPerhaps as another option, we rename `to_full` to the more verbose `to_full_binary_tree`. Although I do appreciate the more concise name.\n\nLastly, Vincent and I disagree with the inclusion of ```self``` in the docstrings in general. I do agree that it should not appear in the INPUT: block (unless special restrictions are needed), and I should have not included it as such. However, the rest of the file uses ```self```, so I think that is a good case to continue using it in this file.",
    "created_at": "2016-07-01T07:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280462",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:17'></a>I don't think `to_full` should have such an argument and instead have it be the bijection to full binary trees. If we wanted this extra functionality, it would be better served as another method `to_minimal_full`.

Perhaps as another option, we rename `to_full` to the more verbose `to_full_binary_tree`. Although I do appreciate the more concise name.

Lastly, Vincent and I disagree with the inclusion of ```self``` in the docstrings in general. I do agree that it should not appear in the INPUT: block (unless special restrictions are needed), and I should have not included it as such. However, the rest of the file uses ```self```, so I think that is a good case to continue using it in this file.



---

archive/issue_comments_280463.json:
```json
{
    "body": "Changing keywords from \"binary trees, full\" to \"binary trees, full, days78\".",
    "created_at": "2016-07-01T07:09:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280463",
    "user": "https://github.com/tscrim"
}
```

Changing keywords from "binary trees, full" to "binary trees, full, days78".



---

archive/issue_events_053706.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-07-01T07:09:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19457#event-53706"
}
```



---

archive/issue_events_053707.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-07-01T07:09:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19457#event-53707"
}
```



---

archive/issue_comments_280464.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-07-01T07:09:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280464",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_280465.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-14T07:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280465",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_280466.json:
```json
{
    "body": "<a id='comment:22'></a>I'm not entirely sure what Patchbot is complaining about with coverage, but pending that being something that can be ignored, feel free to set a positive review on my behalf.",
    "created_at": "2016-08-25T17:48:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280466",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:22'></a>I'm not entirely sure what Patchbot is complaining about with coverage, but pending that being something that can be ignored, feel free to set a positive review on my behalf.



---

archive/issue_comments_280467.json:
```json
{
    "body": "<a id='comment:23'></a>Patchbot is complaining about this (I believe):\n\n```\n+            k = (self._size - 1) / 2 # number of internal nodes\n+            for i in range(k):\n```\nIt says:\n\n```\n    TypeError: range() integer end argument expected, got float.\n```\nI assume you want `//`, not `/`, particularly with py3 in mind.",
    "created_at": "2016-09-03T04:28:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280467",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:23'></a>Patchbot is complaining about this (I believe):

```
+            k = (self._size - 1) / 2 # number of internal nodes
+            for i in range(k):
```
It says:

```
    TypeError: range() integer end argument expected, got float.
```
I assume you want `//`, not `/`, particularly with py3 in mind.



---

archive/issue_events_053708.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2016-09-03T04:28:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19457#event-53708"
}
```



---

archive/issue_events_053709.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2016-09-03T04:28:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19457#event-53709"
}
```



---

archive/issue_comments_280468.json:
```json
{
    "body": "<a id='comment:24'></a>Patchbot seems happy now.",
    "created_at": "2016-10-02T19:34:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280468",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:24'></a>Patchbot seems happy now.



---

archive/issue_comments_280469.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-10-02T19:34:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280469",
    "user": "https://github.com/kevindilks"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_280470.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-10-02T20:56:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280470",
    "user": "https://github.com/tscrim"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_280471.json:
```json
{
    "body": "<a id='comment:25'></a>comment:17",
    "created_at": "2016-10-02T20:56:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280471",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>comment:17



---

archive/issue_comments_280472.json:
```json
{
    "body": "<a id='comment:26'></a>I seem to be misremembering that I was justifying in comment:17. Thanks for finishing the review Kevin.",
    "created_at": "2016-10-03T04:14:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280472",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:26'></a>I seem to be misremembering that I was justifying in comment:17. Thanks for finishing the review Kevin.



---

archive/issue_comments_280473.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2016-10-03T04:14:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280473",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_280474.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2016-10-03T04:34:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280474",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_280475.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2016-10-03T04:34:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280475",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_280476.json:
```json
{
    "body": "<a id='comment:28'></a>From Darij's comment:23, I found and fixed a bug with the iteration of full binary trees. Kevin and/or Darij, can you verify?",
    "created_at": "2016-10-03T04:36:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280476",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'></a>From Darij's comment:23, I found and fixed a bug with the iteration of full binary trees. Kevin and/or Darij, can you verify?



---

archive/issue_comments_280477.json:
```json
{
    "body": "<a id='comment:29'></a>That one bug is fixed; that said, I haven't looked at the rest of the code properly.",
    "created_at": "2016-10-03T04:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280477",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:29'></a>That one bug is fixed; that said, I haven't looked at the rest of the code properly.



---

archive/issue_comments_280478.json:
```json
{
    "body": "<a id='comment:30'></a>All that needs to be checked in my last change (other reviewers, e.g., Kevin have handled the others).",
    "created_at": "2016-10-03T04:47:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280478",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:30'></a>All that needs to be checked in my last change (other reviewers, e.g., Kevin have handled the others).



---

archive/issue_comments_280479.json:
```json
{
    "body": "<a id='comment:31'></a>one typo: \"emptry\"",
    "created_at": "2017-01-05T21:05:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280479",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>one typo: "emptry"



---

archive/issue_events_053710.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-12T18:32:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19457#event-53710"
}
```



---

archive/issue_events_053711.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-12T18:32:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19457#event-53711"
}
```



---

archive/issue_comments_280480.json:
```json
{
    "body": "<a id='comment:33'></a>does not apply",
    "created_at": "2017-01-27T15:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280480",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:33'></a>does not apply



---

archive/issue_comments_280481.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-01-27T15:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280481",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_280482.json:
```json
{
    "body": "<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-04-16T22:24:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280482",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_280483.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-04-16T22:24:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280483",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_events_053712.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-04-16T22:24:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19457#event-53712"
}
```



---

archive/issue_events_053713.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-04-16T22:24:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19457#event-53713"
}
```



---

archive/issue_comments_280484.json:
```json
{
    "body": "<a id='comment:35'></a>Rebased and squashed.",
    "created_at": "2017-04-16T22:24:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280484",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:35'></a>Rebased and squashed.



---

archive/issue_comments_280485.json:
```json
{
    "body": "<a id='comment:36'></a>\n```\n+        Pruning the emptry tree is again the empty tree::\n```",
    "created_at": "2017-04-17T14:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280485",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:36'></a>
```
+        Pruning the emptry tree is again the empty tree::
```



---

archive/issue_comments_280486.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-17T15:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280486",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_280487.json:
```json
{
    "body": "<a id='comment:38'></a>Fixed (and patchbot came back green before the 1 character change).",
    "created_at": "2017-04-17T15:44:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280487",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:38'></a>Fixed (and patchbot came back green before the 1 character change).



---

archive/issue_comments_280488.json:
```json
{
    "body": "<a id='comment:39'></a>green bot, if somebody cares",
    "created_at": "2017-06-02T14:30:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280488",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:39'></a>green bot, if somebody cares



---

archive/issue_comments_280489.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-06T19:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280489",
    "user": "https://github.com/kevindilks"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_053714.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-12T18:01:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19457#event-53714"
}
```



---

archive/issue_comments_280490.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-12T18:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19457#issuecomment-280490",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
