# Issue 19302: Stopgap for Element.__hash__

archive/issues_019065.json:
```json
{
    "assignees": [],
    "body": "See [[#19016 comment:72](https://github.com/sagemath/sage/issues/19016#comment:72)]. Let us warn the users until this bug gets fixed.\n\nNathann\n\n---\n\nA discussion about this ticket is currently going on at [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/onJoCfuX3Lo).\n\nSee also: #19321, #19331\n\n\nReviewer: **Vincent Delecroix**\n\nComponent: **misc**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19302_\n\n",
    "closed_at": "2015-10-29T08:53:00Z",
    "created_at": "2015-09-28T18:34:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Stopgap for Element.__hash__",
    "type": "issue",
    "updated_at": "2015-10-29T08:53:00Z",
    "url": "https://github.com/sagemath/sage/issues/19302",
    "user": "https://github.com/nathanncohen"
}
```
See [[#19016 comment:72](https://github.com/sagemath/sage/issues/19016#comment:72)]. Let us warn the users until this bug gets fixed.

Nathann

---

A discussion about this ticket is currently going on at [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/onJoCfuX3Lo).

See also: #19321, #19331


Reviewer: **Vincent Delecroix**

Component: **misc**

_Issue created by migration from https://trac.sagemath.org/ticket/19302_





---

archive/issue_events_273868.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-09-28T18:34:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273868"
}
```



---

archive/issue_events_273869.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-09-28T18:34:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273869"
}
```



---

archive/issue_events_273870.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-09-28T18:34:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273870"
}
```



---

archive/issue_events_273871.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-09-28T18:35:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273871"
}
```



---

archive/issue_comments_273917.json:
```json
{
    "body": "Commit: **[c84d7c7](https://github.com/sagemath/sagetrac-mirror/commit/c84d7c704e90b5c762964118af6d06b59b9478fc)**",
    "created_at": "2015-09-28T18:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273917",
    "user": "https://github.com/nathanncohen"
}
```

Commit: **[c84d7c7](https://github.com/sagemath/sagetrac-mirror/commit/c84d7c704e90b5c762964118af6d06b59b9478fc)**



---

archive/issue_comments_273918.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c84d7c704e90b5c762964118af6d06b59b9478fc\">c84d7c7</a></td><td><code>trac #19302: Stopgap for #19016</code></td></tr></table>\n",
    "created_at": "2015-09-28T18:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273918",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c84d7c704e90b5c762964118af6d06b59b9478fc">c84d7c7</a></td><td><code>trac #19302: Stopgap for #19016</code></td></tr></table>




---

archive/issue_comments_273919.json:
```json
{
    "body": "Branch: **[public/19302](https://github.com/sagemath/sagetrac-mirror/tree/public/19302)**",
    "created_at": "2015-09-28T18:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273919",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[public/19302](https://github.com/sagemath/sagetrac-mirror/tree/public/19302)**



---

archive/issue_events_273872.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-09-28T18:36:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273872"
}
```



---

archive/issue_events_273873.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-09-28T18:36:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273873"
}
```



---

archive/issue_comments_273920.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI am ok with the stopgap. But I would like more consensus from developers. The most problem I have is that it is very intrusive\n\n```\nsage: G = FreeGroup(2)\nsage: x,y = G.gens()\nsage: H = G / [x**2, y**2]\n/opt/sage/src/bin/sage-ipython:1:\n********************************************************************************\nThe __hash__ method of Element is broken. Beware of any\nfunction that relies on it, as it may return wrong results.\nThis issue is being tracked at https://github.com/sagemath/sage/issues/19302.\n********************************************************************************\n```\nor\n\n```\nsage: p = Polyhedron([(1,1),(2,3),(4,5),(6,7)])\nsage: F = p.faces(2)\n/opt/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py:19557:\n********************************************************************************\nThe __hash__ method of Element is broken. Beware of\nany function that relies on it, as it may return wrong results.\nThis issue is being tracked at https://github.com/sagemath/sage/issues/19302.\n********************************************************************************\n```\n... which means that many people will run into that trouble. But \"annoying\" is better than \"wrong\". This is why I tend to agree with the proposal.\n\nAnother option, would be to move some of the commits from #19016 here (e.g. it would at least avoid the error on polyhedron). At the same time it will decrease the complexity of #19016 which is good. What do you think?\n\nVincent",
    "created_at": "2015-09-28T22:12:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273920",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

I am ok with the stopgap. But I would like more consensus from developers. The most problem I have is that it is very intrusive

```
sage: G = FreeGroup(2)
sage: x,y = G.gens()
sage: H = G / [x**2, y**2]
/opt/sage/src/bin/sage-ipython:1:
********************************************************************************
The __hash__ method of Element is broken. Beware of any
function that relies on it, as it may return wrong results.
This issue is being tracked at https://github.com/sagemath/sage/issues/19302.
********************************************************************************
```
or

```
sage: p = Polyhedron([(1,1),(2,3),(4,5),(6,7)])
sage: F = p.faces(2)
/opt/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py:19557:
********************************************************************************
The __hash__ method of Element is broken. Beware of
any function that relies on it, as it may return wrong results.
This issue is being tracked at https://github.com/sagemath/sage/issues/19302.
********************************************************************************
```
... which means that many people will run into that trouble. But "annoying" is better than "wrong". This is why I tend to agree with the proposal.

Another option, would be to move some of the commits from #19016 here (e.g. it would at least avoid the error on polyhedron). At the same time it will decrease the complexity of #19016 which is good. What do you think?

Vincent



---

archive/issue_comments_273921.json:
```json
{
    "body": "Changed commit from **[c84d7c7](https://github.com/sagemath/sagetrac-mirror/commit/c84d7c704e90b5c762964118af6d06b59b9478fc)** to **[bf004c2](https://github.com/sagemath/sagetrac-mirror/commit/bf004c2def5615b5bfe96338911d00d24f0119ac)**",
    "created_at": "2015-09-29T00:40:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273921",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c84d7c7](https://github.com/sagemath/sagetrac-mirror/commit/c84d7c704e90b5c762964118af6d06b59b9478fc)** to **[bf004c2](https://github.com/sagemath/sagetrac-mirror/commit/bf004c2def5615b5bfe96338911d00d24f0119ac)**



---

archive/issue_comments_273922.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8082762265b6f48cd7e97700a79d8f995ea2bfee\">8082762</a></td><td><code>Trac 19302: fix infinite polynomial elements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de053ad80f9af3e065cd6c1278c8c0d707b4de88\">de053ad</a></td><td><code>Trac 19302: fix similarity classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30eb651b3b19cfebbe2df8bf35c9619dee2ed06b\">30eb651</a></td><td><code>Trac 19302: fix Kleber tree hash value</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18880b8ceac0a862e7ab85b5e4a7e3f55147aaf1\">18880b8</a></td><td><code>Trac 19302: fix hash for Additive abelian group elements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e24d2dbc8792b1741114c7cb7552fa2210659c4b\">e24d2db</a></td><td><code>Trac 19302: fix fgp vector conversion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/418b53e67b96f138469174cbc4e954f94d40934d\">418b53e</a></td><td><code>Trac 19302: hash for polyhedra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/019d88f8e3867ba88e5ea3d83972fc388945ef43\">019d88f</a></td><td><code>Trac 19302: change output order in documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a9a678f29de60ad401c986349d677da42aaa557\">1a9a678</a></td><td><code>trac 19302: fix some non-deterministic doctests (and add some deterministic checks)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e74b04e027b22f7ad91d6ca0699ae8ea54d6c942\">e74b04e</a></td><td><code>trac 19302: doctest fixes and making some code deterministic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf004c2def5615b5bfe96338911d00d24f0119ac\">bf004c2</a></td><td><code>trac 19302: fix some doctests in polynomial/plural.pyx</code></td></tr></table>\n",
    "created_at": "2015-09-29T00:40:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273922",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8082762265b6f48cd7e97700a79d8f995ea2bfee">8082762</a></td><td><code>Trac 19302: fix infinite polynomial elements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de053ad80f9af3e065cd6c1278c8c0d707b4de88">de053ad</a></td><td><code>Trac 19302: fix similarity classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30eb651b3b19cfebbe2df8bf35c9619dee2ed06b">30eb651</a></td><td><code>Trac 19302: fix Kleber tree hash value</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18880b8ceac0a862e7ab85b5e4a7e3f55147aaf1">18880b8</a></td><td><code>Trac 19302: fix hash for Additive abelian group elements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e24d2dbc8792b1741114c7cb7552fa2210659c4b">e24d2db</a></td><td><code>Trac 19302: fix fgp vector conversion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/418b53e67b96f138469174cbc4e954f94d40934d">418b53e</a></td><td><code>Trac 19302: hash for polyhedra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/019d88f8e3867ba88e5ea3d83972fc388945ef43">019d88f</a></td><td><code>Trac 19302: change output order in documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a9a678f29de60ad401c986349d677da42aaa557">1a9a678</a></td><td><code>trac 19302: fix some non-deterministic doctests (and add some deterministic checks)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e74b04e027b22f7ad91d6ca0699ae8ea54d6c942">e74b04e</a></td><td><code>trac 19302: doctest fixes and making some code deterministic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf004c2def5615b5bfe96338911d00d24f0119ac">bf004c2</a></td><td><code>trac 19302: fix some doctests in polynomial/plural.pyx</code></td></tr></table>




---

archive/issue_comments_273923.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAll right. I backported what I could from #19016. It is just a proposition though.",
    "created_at": "2015-09-29T00:41:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273923",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5" align="right">comment:5</div>

All right. I backported what I could from #19016. It is just a proposition though.



---

archive/issue_comments_273924.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHello,\n\n> I am ok with the stopgap. But I would like more consensus from developers. The most problem I have is that it is very intrusive\n\nWell, it pops out absolutely everywhere because this bug is very very bad, and can generate wrong results absolutely everywhere.\n\n> Another option, would be to move some of the commits from #19016 here (e.g. it would at least avoid the error on polyhedron). At the same time it will decrease the complexity of #19016 which is good. What do you think?\n\nI think that it would make 1000x more sense to create a new ticket entitled \"some new hash functions\" (or something) and move your commits there rather than here. Splitting #19016 into subtickets does make sense, but I do not see a reason to merge it with this one.\n\nWhich you can also flag as 'blocker' if this is what you are after?...\n\nNathann",
    "created_at": "2015-09-29T03:37:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273924",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

Hello,

> I am ok with the stopgap. But I would like more consensus from developers. The most problem I have is that it is very intrusive

Well, it pops out absolutely everywhere because this bug is very very bad, and can generate wrong results absolutely everywhere.

> Another option, would be to move some of the commits from #19016 here (e.g. it would at least avoid the error on polyhedron). At the same time it will decrease the complexity of #19016 which is good. What do you think?

I think that it would make 1000x more sense to create a new ticket entitled "some new hash functions" (or something) and move your commits there rather than here. Splitting #19016 into subtickets does make sense, but I do not see a reason to merge it with this one.

Which you can also flag as 'blocker' if this is what you are after?...

Nathann



---

archive/issue_comments_273925.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@nathanncohen](#comment:6):\n> Well, it pops out absolutely everywhere because this bug is very very bad, and can generate wrong results absolutely everywhere.\n\nNo, it still needs a confluence of circumstances. It only leads to possibly wrong results for elements where elements that are considered equal can have different string representations. That can happen because generators get renamed (an operation that shouldn't be supported in sage) or because elements are not printed in a canonical form (either because such a form isn't attainable or because it's expensive to attain). There aren't that many parents in sage with that property (and we'll probably have to disallow hashing there). It's worth fixing, but you don't have to overstate the impact.",
    "created_at": "2015-09-29T07:52:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273925",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@nathanncohen](#comment:6):
> Well, it pops out absolutely everywhere because this bug is very very bad, and can generate wrong results absolutely everywhere.

No, it still needs a confluence of circumstances. It only leads to possibly wrong results for elements where elements that are considered equal can have different string representations. That can happen because generators get renamed (an operation that shouldn't be supported in sage) or because elements are not printed in a canonical form (either because such a form isn't attainable or because it's expensive to attain). There aren't that many parents in sage with that property (and we'll probably have to disallow hashing there). It's worth fixing, but you don't have to overstate the impact.



---

archive/issue_comments_273926.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n> It's worth fixing, but you don't have to overstate the impact.\n\nThis is a very entertaining opinion. I am glad that I do not have to convince you to change it in order to add this stopgap.\n\nNathann",
    "created_at": "2015-09-29T07:59:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273926",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:8" align="right">comment:8</div>

> It's worth fixing, but you don't have to overstate the impact.

This is a very entertaining opinion. I am glad that I do not have to convince you to change it in order to add this stopgap.

Nathann



---

archive/issue_comments_273927.json:
```json
{
    "body": "Changed commit from **[bf004c2](https://github.com/sagemath/sagetrac-mirror/commit/bf004c2def5615b5bfe96338911d00d24f0119ac)** to **[c84d7c7](https://github.com/sagemath/sagetrac-mirror/commit/c84d7c704e90b5c762964118af6d06b59b9478fc)**",
    "created_at": "2015-09-30T21:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273927",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bf004c2](https://github.com/sagemath/sagetrac-mirror/commit/bf004c2def5615b5bfe96338911d00d24f0119ac)** to **[c84d7c7](https://github.com/sagemath/sagetrac-mirror/commit/c84d7c704e90b5c762964118af6d06b59b9478fc)**



---

archive/issue_comments_273928.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-09-30T21:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273928",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_273929.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nBack to where it was. I propose to put #19321 as a dependency. How about that?\n\nVincent",
    "created_at": "2015-09-30T21:24:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273929",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">comment:10</div>

Back to where it was. I propose to put #19321 as a dependency. How about that?

Vincent



---

archive/issue_comments_273930.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nVincent: set #19321 to be a blocker if you think that it should be one.\n\nThere is no reason, however, why this one-liner should have a dependency.\n\nNathann",
    "created_at": "2015-10-01T06:09:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273930",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">comment:11</div>

Vincent: set #19321 to be a blocker if you think that it should be one.

There is no reason, however, why this one-liner should have a dependency.

Nathann



---

archive/issue_comments_273931.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nShouldn't the stopgap refer to #19016 (i.e. where the real issue is being tracked)",
    "created_at": "2015-10-01T09:06:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273931",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Shouldn't the stopgap refer to #19016 (i.e. where the real issue is being tracked)



---

archive/issue_comments_273932.json:
```json
{
    "body": "Changed commit from **[c84d7c7](https://github.com/sagemath/sagetrac-mirror/commit/c84d7c704e90b5c762964118af6d06b59b9478fc)** to **[39f4d3c](https://github.com/sagemath/sagetrac-mirror/commit/39f4d3cf9c82bc17097eb761e80a4033cc38148f)**",
    "created_at": "2015-10-01T09:14:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273932",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c84d7c7](https://github.com/sagemath/sagetrac-mirror/commit/c84d7c704e90b5c762964118af6d06b59b9478fc)** to **[39f4d3c](https://github.com/sagemath/sagetrac-mirror/commit/39f4d3cf9c82bc17097eb761e80a4033cc38148f)**



---

archive/issue_comments_273933.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39f4d3cf9c82bc17097eb761e80a4033cc38148f\">39f4d3c</a></td><td><code>trac #19302: Stopgap for #19016</code></td></tr></table>\n",
    "created_at": "2015-10-01T09:14:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273933",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39f4d3cf9c82bc17097eb761e80a4033cc38148f">39f4d3c</a></td><td><code>trac #19302: Stopgap for #19016</code></td></tr></table>




---

archive/issue_comments_273934.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThe exact same issue occurs with `Mod(3,5) == 8`.  Different hashes, compares equal. \n\nhttps://cloud.sagemath.com/projects/4a5f0542-5873-4eed-a85c-a18c706e8bcd/files/support/2015-10-01-081910-hash.sagews",
    "created_at": "2015-10-01T15:56:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273934",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:14" align="right">comment:14</div>

The exact same issue occurs with `Mod(3,5) == 8`.  Different hashes, compares equal. 

https://cloud.sagemath.com/projects/4a5f0542-5873-4eed-a85c-a18c706e8bcd/files/support/2015-10-01-081910-hash.sagews



---

archive/issue_comments_273935.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@williamstein](#comment:14):\n> The exact same issue occurs with `Mod(3,5) == 8`.  Different hashes, compares equal. \n\nI think the consensus was that this is a different issue: equality isn't transitive *across different parents*, and hence \"equal => equal hash\" cannot hold. However, within a parent we do need to try and keep \"==\" transitive, and we should try to have \"equal => equal hash\". In cases where we cannot do this, we should make elements unhashable. Via the \"_cache_key\" method we can still allow such objects to appear as part of cache keys.\n\nI do think that sage 6.9 could still have this flaw unflagged, but we should really try to fix 6.10 significantly in this respect, and progress has shown this is quite attainable (there probably plenty of other bad hashes around but the \"hash(str(self))\" catchall is definitely a bad offender)\n\nSo I'd say: merge the stopgap right after the 6.9 release to ensure we fix this stuff.",
    "created_at": "2015-10-01T17:32:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273935",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@williamstein](#comment:14):
> The exact same issue occurs with `Mod(3,5) == 8`.  Different hashes, compares equal. 

I think the consensus was that this is a different issue: equality isn't transitive *across different parents*, and hence "equal => equal hash" cannot hold. However, within a parent we do need to try and keep "==" transitive, and we should try to have "equal => equal hash". In cases where we cannot do this, we should make elements unhashable. Via the "_cache_key" method we can still allow such objects to appear as part of cache keys.

I do think that sage 6.9 could still have this flaw unflagged, but we should really try to fix 6.10 significantly in this respect, and progress has shown this is quite attainable (there probably plenty of other bad hashes around but the "hash(str(self))" catchall is definitely a bad offender)

So I'd say: merge the stopgap right after the 6.9 release to ensure we fix this stuff.



---

archive/issue_comments_273936.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAnother ticket I opened a while ago regarding hashes of objects with the same parent:\n\nhttp://trac.sagemath.org/ticket/15297\n\nI think Nils hits it on the head with regard to not having a default hash (what good is it anyway if you can't reliably use sets containing such objects?), and making some effort to have appropriate hashes within a parent. And I agree that this stopgap is unnecessary, because it has not become a more urgent problem than before.",
    "created_at": "2015-10-01T17:39:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273936",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:16" align="right">comment:16</div>

Another ticket I opened a while ago regarding hashes of objects with the same parent:

http://trac.sagemath.org/ticket/15297

I think Nils hits it on the head with regard to not having a default hash (what good is it anyway if you can't reliably use sets containing such objects?), and making some effort to have appropriate hashes within a parent. And I agree that this stopgap is unnecessary, because it has not become a more urgent problem than before.



---

archive/issue_comments_273937.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nMy position with the stopgap is pretty simple: if you know that there is a bug in the software that you develop, a bug that may make the user's code return bad answer, *do you tell the users*?\n\nOf course the bug did not appear yesterday, but today we know it exists.\n\nAnd you don't tell the users? That's irresponsible.\n\n(and, occasionally, contrary to our developer's manual)\n\nNathann",
    "created_at": "2015-10-01T17:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273937",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:17" align="right">comment:17</div>

My position with the stopgap is pretty simple: if you know that there is a bug in the software that you develop, a bug that may make the user's code return bad answer, *do you tell the users*?

Of course the bug did not appear yesterday, but today we know it exists.

And you don't tell the users? That's irresponsible.

(and, occasionally, contrary to our developer's manual)

Nathann



---

archive/issue_comments_273938.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n> And you don't tell the users? That's irresponsible.\n\nIt would be irresponsible if trac were secret.  Like the bug trackers that Matlab, Maple, mathematica, and Magma use. \n\nBut I know for a fact that Sage has hundreds (maybe thousands) of bugs.  That doesn't mean that every time you start Sage it should show a big message about that.   \n\nI was the one that came up with the stopgap idea for sage in the first place, so I really like it in most cases. \n\n -- William",
    "created_at": "2015-10-01T17:57:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273938",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:18" align="right">comment:18</div>

> And you don't tell the users? That's irresponsible.

It would be irresponsible if trac were secret.  Like the bug trackers that Matlab, Maple, mathematica, and Magma use. 

But I know for a fact that Sage has hundreds (maybe thousands) of bugs.  That doesn't mean that every time you start Sage it should show a big message about that.   

I was the one that came up with the stopgap idea for sage in the first place, so I really like it in most cases. 

 -- William



---

archive/issue_comments_273939.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nBesides, we *do* tell users:\n\nhttp://doc.sagemath.org/html/en/developer/coding_in_python.html#the-hash-special-method\n\nMaybe not in the most easily accessible place, but I feel like I've been aware of this ever since I started using Sage. I would *like* to have consistent hashes for elements with a common parent, but I know I can't count on it.\n\nAnyway: yes, something should be fixed, but no, I don't think it's urgent enough to print disconcerting warnings that make people think Sage is broken.",
    "created_at": "2015-10-01T18:03:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273939",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:19" align="right">comment:19</div>

Besides, we *do* tell users:

http://doc.sagemath.org/html/en/developer/coding_in_python.html#the-hash-special-method

Maybe not in the most easily accessible place, but I feel like I've been aware of this ever since I started using Sage. I would *like* to have consistent hashes for elements with a common parent, but I know I can't count on it.

Anyway: yes, something should be fixed, but no, I don't think it's urgent enough to print disconcerting warnings that make people think Sage is broken.



---

archive/issue_comments_273940.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n> It would be irresponsible if trac were secret.\n\nDo you seriously expect them to come here and figure it out?\n\nOr is the whole point of not having a stopgap to *not have them know* and, thus, not worry?\n\n> But I know for a fact that Sage has hundreds (maybe thousands) of bugs.  That doesn't mean that every time you start Sage it should show a big message about that.   \n\nYour code hygiene is a personal taste. All I can say is that this doesn't happen in graphs/, nor in combinat/designs/, nor in the LP code. Seems that we have different expectations.\n\n> I was the one that came up with the stopgap idea for sage in the first place, so I really like it in most cases. \n\nTo impress me you will have to enforce the idea when it takes guts to do so.\n\nNathann",
    "created_at": "2015-10-01T18:08:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273940",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:20" align="right">comment:20</div>

> It would be irresponsible if trac were secret.

Do you seriously expect them to come here and figure it out?

Or is the whole point of not having a stopgap to *not have them know* and, thus, not worry?

> But I know for a fact that Sage has hundreds (maybe thousands) of bugs.  That doesn't mean that every time you start Sage it should show a big message about that.   

Your code hygiene is a personal taste. All I can say is that this doesn't happen in graphs/, nor in combinat/designs/, nor in the LP code. Seems that we have different expectations.

> I was the one that came up with the stopgap idea for sage in the first place, so I really like it in most cases. 

To impress me you will have to enforce the idea when it takes guts to do so.

Nathann



---

archive/issue_comments_273941.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n> Besides, we *do* tell users:\n> \n> http://doc.sagemath.org/html/en/developer/coding_in_python.html#the-hash-special-method\n\nIt's funny how we have to explain everything in docstrings or users get it wrong, and on the other hand we expect to figure out hash issues by themselves while browsing the developer's manual. Bullshit.\n\n> Maybe not in the most easily accessible place, but I feel like I've been aware of this ever since I started using Sage.\n\nYou are a developer. As William for the developers/users ratio.\n\n> Anyway: yes, something should be fixed, but no, I don't think it's urgent enough to print disconcerting warnings that make people think Sage is broken.\n\nWTF. Sage *IS* broken. Don't you get it? Having to display a stopgap is a very bad thing, because it worries users, and what we have to do against it is not hide the stopgaps but FIX THE BUGS.\n\nNathann",
    "created_at": "2015-10-01T18:11:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273941",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:21" align="right">comment:21</div>

> Besides, we *do* tell users:
> 
> http://doc.sagemath.org/html/en/developer/coding_in_python.html#the-hash-special-method

It's funny how we have to explain everything in docstrings or users get it wrong, and on the other hand we expect to figure out hash issues by themselves while browsing the developer's manual. Bullshit.

> Maybe not in the most easily accessible place, but I feel like I've been aware of this ever since I started using Sage.

You are a developer. As William for the developers/users ratio.

> Anyway: yes, something should be fixed, but no, I don't think it's urgent enough to print disconcerting warnings that make people think Sage is broken.

WTF. Sage *IS* broken. Don't you get it? Having to display a stopgap is a very bad thing, because it worries users, and what we have to do against it is not hide the stopgaps but FIX THE BUGS.

Nathann



---

archive/issue_comments_273942.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nP.S.: I'm not sure I made my point clear: if you don't like to see a stopgap in Sage the fix is easy: review Vincent's tickets, and help him. That's the only way to deal with this honorably.",
    "created_at": "2015-10-01T18:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273942",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:22" align="right">comment:22</div>

P.S.: I'm not sure I made my point clear: if you don't like to see a stopgap in Sage the fix is easy: review Vincent's tickets, and help him. That's the only way to deal with this honorably.



---

archive/issue_comments_273943.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@nathanncohen](#comment:20):\n> > I was the one that came up with the stopgap idea for sage in the first place, so I really like it in most cases. \n\n> \n> To impress me you will have to enforce the idea when it takes guts to do so.\n\nI could care less about impressing you.\n\nI'm -1 to this stopgap in sage-6.9.  I'm +1 to this being merged at the beginning of sage-6.10 and fixed in sage-6.10.",
    "created_at": "2015-10-01T18:18:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273943",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@nathanncohen](#comment:20):
> > I was the one that came up with the stopgap idea for sage in the first place, so I really like it in most cases. 

> 
> To impress me you will have to enforce the idea when it takes guts to do so.

I could care less about impressing you.

I'm -1 to this stopgap in sage-6.9.  I'm +1 to this being merged at the beginning of sage-6.10 and fixed in sage-6.10.



---

archive/issue_comments_273944.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,10 @@\n See [[#19016 comment:72](https://github.com/sagemath/sage/issues/19016#comment:72)]. Let us warn the users until this bug gets fixed.\n \n Nathann\n+\n+---\n+\n+A discussion about this ticket is currently going on at [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/onJoCfuX3Lo).\n+\n+See also: #19321, #19331\n+\n``````\n",
    "created_at": "2015-10-02T00:42:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273944",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,10 @@
 See [[#19016 comment:72](https://github.com/sagemath/sage/issues/19016#comment:72)]. Let us warn the users until this bug gets fixed.
 
 Nathann
+
+---
+
+A discussion about this ticket is currently going on at [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/onJoCfuX3Lo).
+
+See also: #19321, #19331
+
``````




---

archive/issue_comments_273945.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nSince you want a review from me: -1\n\nWarnings need to be specific. There are lots of elements that have canonical representations, there hashing it is definitely a bit hacky but perfectly valid. \n\nThere is definitely room for improvement, but it skirts a bit the line of design choice with hashes and coercion.\n\nAttach the stopgap to finitely presented group elements if you want, or fix it in sage-6.10.",
    "created_at": "2015-10-02T09:48:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273945",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>

Since you want a review from me: -1

Warnings need to be specific. There are lots of elements that have canonical representations, there hashing it is definitely a bit hacky but perfectly valid. 

There is definitely room for improvement, but it skirts a bit the line of design choice with hashes and coercion.

Attach the stopgap to finitely presented group elements if you want, or fix it in sage-6.10.



---

archive/issue_events_273874.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-03T11:14:50Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273874"
}
```



---

archive/issue_events_273875.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-03T11:14:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273875"
}
```



---

archive/issue_comments_273946.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@williamstein](#comment:23):\n> I'm +1 to this being merged at the beginning of sage-6.10 and fixed in sage-6.10.  \n\nYou cannot really demand the second part (\"fixed in sage-6.10\"). Basically, at the end of the 6.10 release cycle, you might easily end up in the same situation as now. So any argument to not add the stopgap now is also a valid argument to not add the stopgap in the next release.\n\nI think the logical conclusion (which Volker seems to agree with) is simply to not add this stopgap and close this ticket as wontfix.",
    "created_at": "2015-10-08T16:21:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273946",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@williamstein](#comment:23):
> I'm +1 to this being merged at the beginning of sage-6.10 and fixed in sage-6.10.  

You cannot really demand the second part ("fixed in sage-6.10"). Basically, at the end of the 6.10 release cycle, you might easily end up in the same situation as now. So any argument to not add the stopgap now is also a valid argument to not add the stopgap in the next release.

I think the logical conclusion (which Volker seems to agree with) is simply to not add this stopgap and close this ticket as wontfix.



---

archive/issue_comments_273947.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\n> I think the logical conclusion (which Volker seems to agree with) is simply to not add this stopgap and close this ticket as wontfix.\n\nGrow a sense of responsibility. You know what lies ahead? We all get used to return wrong results and do not care anymore.\n\nAnd you can throw this piece of code to the junk, for nobody will trust it.\n\nNathann",
    "created_at": "2015-10-08T16:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273947",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:28" align="right">comment:28</div>

> I think the logical conclusion (which Volker seems to agree with) is simply to not add this stopgap and close this ticket as wontfix.

Grow a sense of responsibility. You know what lies ahead? We all get used to return wrong results and do not care anymore.

And you can throw this piece of code to the junk, for nobody will trust it.

Nathann



---

archive/issue_comments_273948.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@jdemeyer](#comment:27):\n> Replying to [@williamstein](#comment:23):\n> > I'm +1 to this being merged at the beginning of sage-6.10 and fixed in sage-6.10.  \n\n> You cannot really demand the second part (\"fixed in sage-6.10\"). Basically, at the end of the 6.10 release cycle, you might easily end up in the same situation as now. So any argument to not add the stopgap now is also a valid argument to not add the stopgap in the next release.\n> \n> I think the logical conclusion (which Volker seems to agree with) is simply to not add this stopgap and close this ticket as wontfix.\n\n+1\n\nNathann:\n>> Grow a sense of responsibility [...]\n\nJust fix the real problem ASAP instead of complaining.",
    "created_at": "2015-10-08T16:46:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273948",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@jdemeyer](#comment:27):
> Replying to [@williamstein](#comment:23):
> > I'm +1 to this being merged at the beginning of sage-6.10 and fixed in sage-6.10.  

> You cannot really demand the second part ("fixed in sage-6.10"). Basically, at the end of the 6.10 release cycle, you might easily end up in the same situation as now. So any argument to not add the stopgap now is also a valid argument to not add the stopgap in the next release.
> 
> I think the logical conclusion (which Volker seems to agree with) is simply to not add this stopgap and close this ticket as wontfix.

+1

Nathann:
>> Grow a sense of responsibility [...]

Just fix the real problem ASAP instead of complaining.



---

archive/issue_comments_273949.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\n> Just fix the real problem ASAP instead of complaining.\n\nTo quote Jeroen:\n\n> You cannot really demand the second part (\"fixed in sage-6.10\").\n\nThe only thing you are doing is setting us on the track to failure by weakening our quality procedures.\n\nNathann",
    "created_at": "2015-10-08T16:53:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273949",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:30" align="right">comment:30</div>

> Just fix the real problem ASAP instead of complaining.

To quote Jeroen:

> You cannot really demand the second part ("fixed in sage-6.10").

The only thing you are doing is setting us on the track to failure by weakening our quality procedures.

Nathann



---

archive/issue_comments_273950.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\n+1 to keeping this ticket open (with 6.10 milestone).\n\n-1 to closing it as wontfix.",
    "created_at": "2015-10-08T18:08:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273950",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

+1 to keeping this ticket open (with 6.10 milestone).

-1 to closing it as wontfix.



---

archive/issue_comments_273951.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nCan we just merge this now or merge #19016 now? Otherwise, we're going to be in the same mess coming 6.10, when merging #19016 is bad because of untested consequences.",
    "created_at": "2015-10-17T20:20:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273951",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:32" align="right">comment:32</div>

Can we just merge this now or merge #19016 now? Otherwise, we're going to be in the same mess coming 6.10, when merging #19016 is bad because of untested consequences.



---

archive/issue_comments_273952.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\n+1 to merging this now.",
    "created_at": "2015-10-17T20:29:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273952",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:33" align="right">comment:33</div>

+1 to merging this now.



---

archive/issue_comments_273953.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@nbruin](#comment:32):\n> Otherwise, we're going to be in the same mess coming 6.10\n\nI predicted this in [comment:27]\n\nI think that it really makes no sense to merge this ticket *now*. Either you think that the broken hash is serious enough to merit a stopgap, or you think it's not serious enough. There is really no way that it can be a serious problem in Sage 6.10, but not a serious problem in Sage 6.9.",
    "created_at": "2015-10-17T20:38:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273953",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@nbruin](#comment:32):
> Otherwise, we're going to be in the same mess coming 6.10

I predicted this in [comment:27]

I think that it really makes no sense to merge this ticket *now*. Either you think that the broken hash is serious enough to merit a stopgap, or you think it's not serious enough. There is really no way that it can be a serious problem in Sage 6.10, but not a serious problem in Sage 6.9.



---

archive/issue_comments_273954.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@jdemeyer](#comment:34):\n> I predicted this in [comment:27]\n> \n> I think that it really makes no sense to merge this ticket *now*. Either you think that the broken hash is serious enough to merit a stopgap, or you think it's not serious enough. There is really no way that it can be a serious problem in Sage 6.10, but not a serious problem in Sage 6.9.\n\nIt makes procedural sense because then people working on development will have a signal and an incentive to do something about relying on the bad hash. We are currently in a situation where we won't ever catch up, because people are adding new classes depending on the default hash at the same rate as we're trying to fix it (see the recently merged `sage.combinat.colored_permutations`). Those people should get a signal that they shouldn't be depending on that to-be-deprecated hash. The difference is that now we have a good shot at resolving this whole thing before releasing 6.10, whereas this issue received attention too late in the 6.9 cycle for that to be realistic.",
    "created_at": "2015-10-18T01:38:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273954",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@jdemeyer](#comment:34):
> I predicted this in [comment:27]
> 
> I think that it really makes no sense to merge this ticket *now*. Either you think that the broken hash is serious enough to merit a stopgap, or you think it's not serious enough. There is really no way that it can be a serious problem in Sage 6.10, but not a serious problem in Sage 6.9.

It makes procedural sense because then people working on development will have a signal and an incentive to do something about relying on the bad hash. We are currently in a situation where we won't ever catch up, because people are adding new classes depending on the default hash at the same rate as we're trying to fix it (see the recently merged `sage.combinat.colored_permutations`). Those people should get a signal that they shouldn't be depending on that to-be-deprecated hash. The difference is that now we have a good shot at resolving this whole thing before releasing 6.10, whereas this issue received attention too late in the 6.9 cycle for that to be realistic.



---

archive/issue_comments_273955.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nTo celebrate the merger of #19016, which removes the source for this stopgap.",
    "created_at": "2015-10-28T15:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273955",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:36" align="right">comment:36</div>

To celebrate the merger of #19016, which removes the source for this stopgap.



---

archive/issue_events_273876.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2015-10-28T15:19:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273876"
}
```



---

archive/issue_events_273877.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2015-10-28T15:19:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273877"
}
```



---

archive/issue_events_273878.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2015-10-28T15:19:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273878"
}
```



---

archive/issue_comments_273956.json:
```json
{
    "body": "Changed branch from **[public/19302](https://github.com/sagemath/sagetrac-mirror/tree/public/19302)** to none",
    "created_at": "2015-10-28T20:53:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273956",
    "user": "https://github.com/videlec"
}
```

Changed branch from **[public/19302](https://github.com/sagemath/sagetrac-mirror/tree/public/19302)** to none



---

archive/issue_comments_273957.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2015-10-28T20:53:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273957",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_273958.json:
```json
{
    "body": "Changed commit from **[39f4d3c](https://github.com/sagemath/sagetrac-mirror/commit/39f4d3cf9c82bc17097eb761e80a4033cc38148f)** to none",
    "created_at": "2015-10-28T20:53:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273958",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[39f4d3c](https://github.com/sagemath/sagetrac-mirror/commit/39f4d3cf9c82bc17097eb761e80a4033cc38148f)** to none



---

archive/issue_events_273879.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-10-28T20:53:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273879"
}
```



---

archive/issue_events_273880.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-10-28T20:53:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273880"
}
```



---

archive/issue_comments_273959.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nYipee!",
    "created_at": "2015-10-28T20:53:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273959",
    "user": "https://github.com/videlec"
}
```

<div id="comment:37" align="right">comment:37</div>

Yipee!



---

archive/issue_comments_273960.json:
```json
{
    "body": "Changed author from **Nathann Cohen** to none",
    "created_at": "2015-10-28T20:53:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19302#issuecomment-273960",
    "user": "https://github.com/videlec"
}
```

Changed author from **Nathann Cohen** to none



---

archive/issue_events_273881.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-29T08:53:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273881"
}
```



---

archive/issue_events_273882.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-29T08:53:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19302",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19302#event-273882"
}
```
