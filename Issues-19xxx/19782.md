# Issue 19782: Symlink lib64 -> lib

archive/issues_019545.json:
```json
{
    "body": "Symlink SAGE_LOCAL/lib64 -> SAGE_LOCAL/lib\n\n**configure tarball**: http://sage.ugent.be/www/jdemeyer/sage/configure-135.tar.gz\n\n**CC:**  @nexttime @jdemeyer\n\n**Branch:** [454b14b897e1f2ad1d32d84e8fa5f53c4892d548](https://github.com/sagemath/sagetrac-mirror/commit/454b14b897e1f2ad1d32d84e8fa5f53c4892d548)\n\n**Reviewer:** Jeroen Demeyer, Volker Braun\n\n**Author:** Volker Braun, Jeroen Demeyer\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19782\n\n",
    "closed_at": "2015-12-28T11:08:17Z",
    "created_at": "2015-12-25T13:36:26Z",
    "labels": [
        "component: build",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.0",
    "title": "Symlink lib64 -> lib",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19782",
    "user": "https://github.com/vbraun"
}
```
Symlink SAGE_LOCAL/lib64 -> SAGE_LOCAL/lib

**configure tarball**: http://sage.ugent.be/www/jdemeyer/sage/configure-135.tar.gz

**CC:**  @nexttime @jdemeyer

**Branch:** [454b14b897e1f2ad1d32d84e8fa5f53c4892d548](https://github.com/sagemath/sagetrac-mirror/commit/454b14b897e1f2ad1d32d84e8fa5f53c4892d548)

**Reviewer:** Jeroen Demeyer, Volker Braun

**Author:** Volker Braun, Jeroen Demeyer

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/19782





---

archive/issue_comments_359418.json:
```json
{
    "body": "**Branch:** [u/vbraun/symlink_lib64_to_lib](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/symlink_lib64_to_lib)",
    "created_at": "2015-12-25T17:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359418",
    "user": "https://github.com/vbraun"
}
```

**Branch:** [u/vbraun/symlink_lib64_to_lib](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/symlink_lib64_to_lib)



---

archive/issue_comments_359419.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c7c7d5d8fb4be59e7b60237986507b66a15f75c\">2c7c7d5</a></td><td><code>Symlink SAGE_LOCAL/lib64 -> SAGE_LOCAL/lib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be5991fd626d80f117df5ab42bfa6cf129b39ba6\">be5991f</a></td><td><code>Remove now-unnecessary lib64 rpath</code></td></tr></table>\n",
    "created_at": "2015-12-25T17:04:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359419",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c7c7d5d8fb4be59e7b60237986507b66a15f75c">2c7c7d5</a></td><td><code>Symlink SAGE_LOCAL/lib64 -> SAGE_LOCAL/lib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be5991fd626d80f117df5ab42bfa6cf129b39ba6">be5991f</a></td><td><code>Remove now-unnecessary lib64 rpath</code></td></tr></table>




---

archive/issue_comments_359420.json:
```json
{
    "body": "**Author:** Volker Braun",
    "created_at": "2015-12-25T17:04:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359420",
    "user": "https://github.com/vbraun"
}
```

**Author:** Volker Braun



---

archive/issue_comments_359421.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2015-12-25T17:04:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359421",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_359422.json:
```json
{
    "body": "**Commit:** [be5991fd626d80f117df5ab42bfa6cf129b39ba6](https://github.com/sagemath/sagetrac-mirror/commit/be5991fd626d80f117df5ab42bfa6cf129b39ba6)",
    "created_at": "2015-12-25T17:04:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359422",
    "user": "https://github.com/vbraun"
}
```

**Commit:** [be5991fd626d80f117df5ab42bfa6cf129b39ba6](https://github.com/sagemath/sagetrac-mirror/commit/be5991fd626d80f117df5ab42bfa6cf129b39ba6)



---

archive/issue_comments_359423.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Symlink SAGE_LOCAL/lib64 -> SAGE_LOCAL/lib\n``````\n",
    "created_at": "2015-12-25T17:05:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359423",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Symlink SAGE_LOCAL/lib64 -> SAGE_LOCAL/lib
``````




---

archive/issue_comments_359424.json:
```json
{
    "body": "**Dependencies:** #19776",
    "created_at": "2015-12-25T17:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359424",
    "user": "https://github.com/nexttime"
}
```

**Dependencies:** #19776



---

archive/issue_comments_359425.json:
```json
{
    "body": "<a id='comment:4'></a>\nHmmm, if `lib64` is still a folder, we could just copy (or move) its contents to `lib` and afterwards create the symlink anyway.\n\nI also thought we'd \"fix\" the GCC spkg w.r.t. this, as you said it's the only package which fills the `lib64` folder.",
    "created_at": "2015-12-25T17:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359425",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:4'></a>
Hmmm, if `lib64` is still a folder, we could just copy (or move) its contents to `lib` and afterwards create the symlink anyway.

I also thought we'd "fix" the GCC spkg w.r.t. this, as you said it's the only package which fills the `lib64` folder.



---

archive/issue_comments_359426.json:
```json
{
    "body": "<a id='comment:5'></a>\nOoops, it's the other way around.",
    "created_at": "2015-12-25T17:19:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359426",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:5'></a>
Ooops, it's the other way around.



---

archive/issue_comments_359427.json:
```json
{
    "body": "**Changing dependencies** from \"#19776\" to \"\".",
    "created_at": "2015-12-25T17:19:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359427",
    "user": "https://github.com/nexttime"
}
```

**Changing dependencies** from "#19776" to "".



---

archive/issue_comments_359428.json:
```json
{
    "body": "<a id='comment:6'></a>\n... or not even that.\n\nShouldn't we base one on the other?",
    "created_at": "2015-12-25T17:20:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359428",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:6'></a>
... or not even that.

Shouldn't we base one on the other?



---

archive/issue_comments_359429.json:
```json
{
    "body": "<a id='comment:7'></a>\nI'd rather not try to do upgrade it on the fly, just unnecessary complications when we don't have incremental updates 6.10 -> 7.0 anyways. You'd also need locking and/or atomic operation as it will be hit in parallel from separate make processes. \n\nI remember we tried to make gcc install to lib (instead lib64) but there is no easy way, its hardcoded. \n\nI know there is a conflict with #19776, will fix it when needed.",
    "created_at": "2015-12-25T18:14:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359429",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'></a>
I'd rather not try to do upgrade it on the fly, just unnecessary complications when we don't have incremental updates 6.10 -> 7.0 anyways. You'd also need locking and/or atomic operation as it will be hit in parallel from separate make processes. 

I remember we tried to make gcc install to lib (instead lib64) but there is no easy way, its hardcoded. 

I know there is a conflict with #19776, will fix it when needed.



---

archive/issue_comments_359430.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [vbraun](#comment%3A7):\n> I'd rather not try to do upgrade it on the fly, just unnecessary complications when we don't have incremental updates 6.10 -> 7.0 anyways.\n\n\nI agree.",
    "created_at": "2015-12-26T12:50:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359430",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>
Replying to [vbraun](#comment%3A7):
> I'd rather not try to do upgrade it on the fly, just unnecessary complications when we don't have incremental updates 6.10 -> 7.0 anyways.


I agree.



---

archive/issue_comments_359431.json:
```json
{
    "body": "<a id='comment:9'></a>\nI get the idea of the patch, but I would rather do it in `configure`. We are already creating the directory structure there, so it seems like a more logical place.",
    "created_at": "2015-12-26T12:53:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359431",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
I get the idea of the patch, but I would rather do it in `configure`. We are already creating the directory structure there, so it seems like a more logical place.



---

archive/issue_comments_359432.json:
```json
{
    "body": "**Changing branch** from \"[u/vbraun/symlink_lib64_to_lib](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/symlink_lib64_to_lib)\" to \"[u/jdemeyer/symlink_lib64_to_lib](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/symlink_lib64_to_lib)\".",
    "created_at": "2015-12-26T13:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359432",
    "user": "https://github.com/jdemeyer"
}
```

**Changing branch** from "[u/vbraun/symlink_lib64_to_lib](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/symlink_lib64_to_lib)" to "[u/jdemeyer/symlink_lib64_to_lib](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/symlink_lib64_to_lib)".



---

archive/issue_comments_359433.json:
```json
{
    "body": "**Changing commit** from \"[be5991fd626d80f117df5ab42bfa6cf129b39ba6](https://github.com/sagemath/sagetrac-mirror/commit/be5991fd626d80f117df5ab42bfa6cf129b39ba6)\" to \"[193d91eb19276e231017bb5d6280897c9d204469](https://github.com/sagemath/sagetrac-mirror/commit/193d91eb19276e231017bb5d6280897c9d204469)\".",
    "created_at": "2015-12-26T15:08:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359433",
    "user": "https://github.com/vbraun"
}
```

**Changing commit** from "[be5991fd626d80f117df5ab42bfa6cf129b39ba6](https://github.com/sagemath/sagetrac-mirror/commit/be5991fd626d80f117df5ab42bfa6cf129b39ba6)" to "[193d91eb19276e231017bb5d6280897c9d204469](https://github.com/sagemath/sagetrac-mirror/commit/193d91eb19276e231017bb5d6280897c9d204469)".



---

archive/issue_comments_359434.json:
```json
{
    "body": "<a id='comment:11'></a>\nI'd rather keep creation of `SAGE_LOCAL` stuff out of configure, ideally it should go into `make install` though we are not there yet.\n\nIf you do change configure then you need a new confball.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/032e8ddbc3b3eb6f75a7033b9e2818e381c11747\">032e8dd</a></td><td><code>Remove now-unnecessary lib64 rpath</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/193d91eb19276e231017bb5d6280897c9d204469\">193d91e</a></td><td><code>Symlink SAGE_LOCAL/lib64 -> SAGE_LOCAL/lib</code></td></tr></table>\n",
    "created_at": "2015-12-26T15:08:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359434",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
I'd rather keep creation of `SAGE_LOCAL` stuff out of configure, ideally it should go into `make install` though we are not there yet.

If you do change configure then you need a new confball.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/032e8ddbc3b3eb6f75a7033b9e2818e381c11747">032e8dd</a></td><td><code>Remove now-unnecessary lib64 rpath</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/193d91eb19276e231017bb5d6280897c9d204469">193d91e</a></td><td><code>Symlink SAGE_LOCAL/lib64 -> SAGE_LOCAL/lib</code></td></tr></table>




---

archive/issue_comments_359435.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [vbraun](#comment%3A11):\n> I'd rather keep creation of `SAGE_LOCAL` stuff out of configure\n\n\nWhy? I think this should be done as early as possible in the build process. It is convenient if all other scripts in Sage can assume the existence of the basic directory structure.\n\nAnd given that this basic directory structure is created by `configure`, it is most natural to create also the `lib64` symlink there.",
    "created_at": "2015-12-26T15:20:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359435",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
Replying to [vbraun](#comment%3A11):
> I'd rather keep creation of `SAGE_LOCAL` stuff out of configure


Why? I think this should be done as early as possible in the build process. It is convenient if all other scripts in Sage can assume the existence of the basic directory structure.

And given that this basic directory structure is created by `configure`, it is most natural to create also the `lib64` symlink there.



---

archive/issue_comments_359436.json:
```json
{
    "body": "**Changing author** from \"Volker Braun\" to \"Volker Braun, Jeroen Demeyer\".",
    "created_at": "2015-12-26T15:36:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359436",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "Volker Braun" to "Volker Braun, Jeroen Demeyer".



---

archive/issue_comments_359437.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n Symlink SAGE_LOCAL/lib64 -> SAGE_LOCAL/lib\n+\n+**configure tarball**: http://sage.ugent.be/www/jdemeyer/sage/configure-134.tar.gz\n``````\n",
    "created_at": "2015-12-26T15:36:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359437",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 Symlink SAGE_LOCAL/lib64 -> SAGE_LOCAL/lib
+
+**configure tarball**: http://sage.ugent.be/www/jdemeyer/sage/configure-134.tar.gz
``````




---

archive/issue_comments_359438.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer, Volker Braun",
    "created_at": "2015-12-26T15:36:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359438",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Jeroen Demeyer, Volker Braun



---

archive/issue_comments_359439.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Symlink SAGE_LOCAL/lib64 -> SAGE_LOCAL/lib\n \n-**configure tarball**: http://sage.ugent.be/www/jdemeyer/sage/configure-134.tar.gz\n+**configure tarball**: http://sage.ugent.be/www/jdemeyer/sage/configure-135.tar.gz\n``````\n",
    "created_at": "2015-12-26T15:38:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359439",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Symlink SAGE_LOCAL/lib64 -> SAGE_LOCAL/lib
 
-**configure tarball**: http://sage.ugent.be/www/jdemeyer/sage/configure-134.tar.gz
+**configure tarball**: http://sage.ugent.be/www/jdemeyer/sage/configure-135.tar.gz
``````




---

archive/issue_comments_359440.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/454b14b897e1f2ad1d32d84e8fa5f53c4892d548\">454b14b</a></td><td><code>Update configure version</code></td></tr></table>\n",
    "created_at": "2015-12-26T15:38:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359440",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/454b14b897e1f2ad1d32d84e8fa5f53c4892d548">454b14b</a></td><td><code>Update configure version</code></td></tr></table>




---

archive/issue_comments_359441.json:
```json
{
    "body": "**Changing commit** from \"[193d91eb19276e231017bb5d6280897c9d204469](https://github.com/sagemath/sagetrac-mirror/commit/193d91eb19276e231017bb5d6280897c9d204469)\" to \"[454b14b897e1f2ad1d32d84e8fa5f53c4892d548](https://github.com/sagemath/sagetrac-mirror/commit/454b14b897e1f2ad1d32d84e8fa5f53c4892d548)\".",
    "created_at": "2015-12-26T15:38:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359441",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[193d91eb19276e231017bb5d6280897c9d204469](https://github.com/sagemath/sagetrac-mirror/commit/193d91eb19276e231017bb5d6280897c9d204469)" to "[454b14b897e1f2ad1d32d84e8fa5f53c4892d548](https://github.com/sagemath/sagetrac-mirror/commit/454b14b897e1f2ad1d32d84e8fa5f53c4892d548)".



---

archive/issue_comments_359442.json:
```json
{
    "body": "<a id='comment:16'></a>\nConfigure does IMHO already too many things that it has no place to do; Why create install directories there? Its also testing package configuration for correctness (as opposed to during testing). Neither of these are typically done by configure. \n\nBesides being the wrong place, putting stuff into configure makes it also unnecessarily difficult to work on that in the future as it is an additional layer of inception (script writing shell script) and requires an arcane process of creating a new confball.  \n\nThat said if you insist on doing it the wrong way then I'd rather have the lib64 symlink than fix that particular configure insanity",
    "created_at": "2015-12-26T15:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359442",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>
Configure does IMHO already too many things that it has no place to do; Why create install directories there? Its also testing package configuration for correctness (as opposed to during testing). Neither of these are typically done by configure. 

Besides being the wrong place, putting stuff into configure makes it also unnecessarily difficult to work on that in the future as it is an additional layer of inception (script writing shell script) and requires an arcane process of creating a new confball.  

That said if you insist on doing it the wrong way then I'd rather have the lib64 symlink than fix that particular configure insanity



---

archive/issue_comments_359443.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [vbraun](#comment%3A16):\n> as it is an additional layer of inception\n\n\nThat's standard `configure` stuff, it don't see why it is a complication.\n\n> requires an arcane process of creating a new confball.\n\n\nThat's purely a \"release management\" thing. There is no fundamental reason for it, it's only because of your workflow.",
    "created_at": "2015-12-26T15:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359443",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
Replying to [vbraun](#comment%3A16):
> as it is an additional layer of inception


That's standard `configure` stuff, it don't see why it is a complication.

> requires an arcane process of creating a new confball.


That's purely a "release management" thing. There is no fundamental reason for it, it's only because of your workflow.



---

archive/issue_comments_359444.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [vbraun](#comment%3A16):\n> Why create install directories there?\n\n\nLike I said, this is for convenience. It allows for example `sage-env` and other scripts to assume that those directories exist. I agree it's non-standard, but really the whole Sage distribution is non-standard.",
    "created_at": "2015-12-26T15:55:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359444",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>
Replying to [vbraun](#comment%3A16):
> Why create install directories there?


Like I said, this is for convenience. It allows for example `sage-env` and other scripts to assume that those directories exist. I agree it's non-standard, but really the whole Sage distribution is non-standard.



---

archive/issue_comments_359445.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [jdemeyer](#comment%3A17):\n> That's standard `configure` stuff, it don't see why it is a complication.\n\n\nHow many Sage developers are comfortable working with configure.ac? Maybe 5%? \n\n> That's purely a \"release management\" thing. There is no fundamental reason for it, it's only because of your workflow.\n\n\nThere is a fundamental reason, OSX doesn't come with autotools so we can't do the configure.ac -> configure at the client. Any change to configure.ac necessarily entails further release steps, which is why I really don't like stuff thats absolutely not configureable in there.\n\nReplying to [jdemeyer](#comment%3A18):\n> It allows for example `sage-env` and other scripts to assume that those directories exist. \n\n\n`sage-env` shouldn't do anythning besides setting up the environment, it certainly shouldn't do anyhing different depending on how far along we are in the install process.",
    "created_at": "2015-12-26T16:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359445",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:19'></a>
Replying to [jdemeyer](#comment%3A17):
> That's standard `configure` stuff, it don't see why it is a complication.


How many Sage developers are comfortable working with configure.ac? Maybe 5%? 

> That's purely a "release management" thing. There is no fundamental reason for it, it's only because of your workflow.


There is a fundamental reason, OSX doesn't come with autotools so we can't do the configure.ac -> configure at the client. Any change to configure.ac necessarily entails further release steps, which is why I really don't like stuff thats absolutely not configureable in there.

Replying to [jdemeyer](#comment%3A18):
> It allows for example `sage-env` and other scripts to assume that those directories exist. 


`sage-env` shouldn't do anythning besides setting up the environment, it certainly shouldn't do anyhing different depending on how far along we are in the install process.



---

archive/issue_comments_359446.json:
```json
{
    "body": "<a id='comment:20'></a>\nIn any case, set this ticket to positive review from me if you don't want to change it.",
    "created_at": "2015-12-26T16:20:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359446",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'></a>
In any case, set this ticket to positive review from me if you don't want to change it.



---

archive/issue_comments_359447.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [vbraun](#comment%3A19):\n> There is a fundamental reason, OSX doesn't come with autotools so we can't do the configure.ac -> configure at the client.\n\n\n1. You could do a custom install of autotools on those clients.\n\n2. You could run `./bootstrap -s` on your \"release management\" machine and then copy over the `configure` tarball. This is easily automated.",
    "created_at": "2015-12-26T17:03:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359447",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>
Replying to [vbraun](#comment%3A19):
> There is a fundamental reason, OSX doesn't come with autotools so we can't do the configure.ac -> configure at the client.


1. You could do a custom install of autotools on those clients.

2. You could run `./bootstrap -s` on your "release management" machine and then copy over the `configure` tarball. This is easily automated.



---

archive/issue_comments_359448.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-12-26T17:03:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359448",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_359449.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2015-12-28T11:08:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359449",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_061598.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-28T11:08:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19782#event-61598"
}
```



---

archive/issue_comments_359450.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/symlink_lib64_to_lib](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/symlink_lib64_to_lib)\" to \"[454b14b897e1f2ad1d32d84e8fa5f53c4892d548](https://github.com/sagemath/sagetrac-mirror/commit/454b14b897e1f2ad1d32d84e8fa5f53c4892d548)\".",
    "created_at": "2015-12-28T11:08:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359450",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/symlink_lib64_to_lib](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/symlink_lib64_to_lib)" to "[454b14b897e1f2ad1d32d84e8fa5f53c4892d548](https://github.com/sagemath/sagetrac-mirror/commit/454b14b897e1f2ad1d32d84e8fa5f53c4892d548)".



---

archive/issue_comments_359451.json:
```json
{
    "body": "<a id='comment:24'></a>\nNothing in this ticket explains why this was deemed necessary.  I think I'll remove it.",
    "created_at": "2019-01-02T11:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359451",
    "user": "https://github.com/embray"
}
```

<a id='comment:24'></a>
Nothing in this ticket explains why this was deemed necessary.  I think I'll remove it.



---

archive/issue_comments_359452.json:
```json
{
    "body": "**Changing commit** from \"[454b14b897e1f2ad1d32d84e8fa5f53c4892d548](https://github.com/sagemath/sagetrac-mirror/commit/454b14b897e1f2ad1d32d84e8fa5f53c4892d548)\" to \"\".",
    "created_at": "2019-01-02T11:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359452",
    "user": "https://github.com/embray"
}
```

**Changing commit** from "[454b14b897e1f2ad1d32d84e8fa5f53c4892d548](https://github.com/sagemath/sagetrac-mirror/commit/454b14b897e1f2ad1d32d84e8fa5f53c4892d548)" to "".



---

archive/issue_comments_359453.json:
```json
{
    "body": "<a id='comment:25'></a>\nIn various places we assume that our shared libraries are in `$SAGE_LOCAL/lib`; If a package installs stuff in a different library folder like `$SAGE_LOCAL/lib64` then we won't be able to load it.",
    "created_at": "2019-01-02T12:17:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359453",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:25'></a>
In various places we assume that our shared libraries are in `$SAGE_LOCAL/lib`; If a package installs stuff in a different library folder like `$SAGE_LOCAL/lib64` then we won't be able to load it.



---

archive/issue_comments_359454.json:
```json
{
    "body": "<a id='comment:26'></a>\nWhat is installed to lib64, and what do you need to link to it?",
    "created_at": "2019-01-02T12:27:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359454",
    "user": "https://github.com/embray"
}
```

<a id='comment:26'></a>
What is installed to lib64, and what do you need to link to it?



---

archive/issue_comments_359455.json:
```json
{
    "body": "<a id='comment:27'></a>\nI don't have a comprehensive list of packages that attempt to install stuff in `lib64`, fwiw. Its likely to be platform-dependent, too.",
    "created_at": "2019-01-02T13:45:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359455",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'></a>
I don't have a comprehensive list of packages that attempt to install stuff in `lib64`, fwiw. Its likely to be platform-dependent, too.



---

archive/issue_comments_359456.json:
```json
{
    "body": "<a id='comment:28'></a>\nOther than gcc/gfortran I don't think there's anything that does, otherwise you would run into this same problem.",
    "created_at": "2019-01-02T14:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359456",
    "user": "https://github.com/embray"
}
```

<a id='comment:28'></a>
Other than gcc/gfortran I don't think there's anything that does, otherwise you would run into this same problem.



---

archive/issue_comments_359457.json:
```json
{
    "body": "<a id='comment:29'></a>\nI'm running into trouble related to this, I think.  I upgraded a Linux (Ubuntu  Bionic Beaver) version of Sage from something like 6.8, ran into a problem, followed the message to do `make distclean` first.  I made it to `gfortran` and that seems to compile fine, but then at the very end\n\n```\n[gfortran-7.2.0] make[8]: Leaving directory '/home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/gcc-build/x86_64-pc-linux-gnu/libatomic'\n[gfortran-7.2.0] make[7]: Leaving directory '/home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/gcc-build/x86_64-pc-linux-gnu/libatomic'\n[gfortran-7.2.0] make[6]: Leaving directory '/home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/gcc-build/x86_64-pc-linux-gnu/libatomic'\n[gfortran-7.2.0] make[5]: Leaving directory '/home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/gcc-build'\n[gfortran-7.2.0] make[4]: Leaving directory '/home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/gcc-build'\n[gfortran-7.2.0] \n[gfortran-7.2.0] real\t27m10.068s\n[gfortran-7.2.0] user\t24m8.801s\n[gfortran-7.2.0] sys\t2m36.607s\n[gfortran-7.2.0] Copying package files from temporary location /home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/inst to /home/crisman/sage/local\n[gfortran-7.2.0] cp: cannot overwrite non-directory '/home/crisman/sage/local/./lib64' with directory '/home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/inst/home/crisman/sage/local/./lib64'\n[gfortran-7.2.0] ************************************************************************\n[gfortran-7.2.0] Error copying files for gfortran-7.2.0.\n[gfortran-7.2.0] ************************************************************************\n[gfortran-7.2.0] Please email sage-devel (http://groups.google.com/group/sage-devel)\n[gfortran-7.2.0] explaining the problem and including the log file\n[gfortran-7.2.0]   /home/crisman/sage/logs/pkgs/gfortran-7.2.0.log\n[gfortran-7.2.0] Describe your computer, operating system, etc.\n[gfortran-7.2.0] ************************************************************************\n```\nI can report this on sage-devel as well (I doubt it is a particular release thing unless this was indeed a very recent change) if it would be found useful.  Otherwise I don't have a way to proceed.",
    "created_at": "2019-03-17T21:06:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19782",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19782#issuecomment-359457",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:29'></a>
I'm running into trouble related to this, I think.  I upgraded a Linux (Ubuntu  Bionic Beaver) version of Sage from something like 6.8, ran into a problem, followed the message to do `make distclean` first.  I made it to `gfortran` and that seems to compile fine, but then at the very end

```
[gfortran-7.2.0] make[8]: Leaving directory '/home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/gcc-build/x86_64-pc-linux-gnu/libatomic'
[gfortran-7.2.0] make[7]: Leaving directory '/home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/gcc-build/x86_64-pc-linux-gnu/libatomic'
[gfortran-7.2.0] make[6]: Leaving directory '/home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/gcc-build/x86_64-pc-linux-gnu/libatomic'
[gfortran-7.2.0] make[5]: Leaving directory '/home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/gcc-build'
[gfortran-7.2.0] make[4]: Leaving directory '/home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/gcc-build'
[gfortran-7.2.0] 
[gfortran-7.2.0] real	27m10.068s
[gfortran-7.2.0] user	24m8.801s
[gfortran-7.2.0] sys	2m36.607s
[gfortran-7.2.0] Copying package files from temporary location /home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/inst to /home/crisman/sage/local
[gfortran-7.2.0] cp: cannot overwrite non-directory '/home/crisman/sage/local/./lib64' with directory '/home/crisman/sage/local/var/tmp/sage/build/gfortran-7.2.0/inst/home/crisman/sage/local/./lib64'
[gfortran-7.2.0] ************************************************************************
[gfortran-7.2.0] Error copying files for gfortran-7.2.0.
[gfortran-7.2.0] ************************************************************************
[gfortran-7.2.0] Please email sage-devel (http://groups.google.com/group/sage-devel)
[gfortran-7.2.0] explaining the problem and including the log file
[gfortran-7.2.0]   /home/crisman/sage/logs/pkgs/gfortran-7.2.0.log
[gfortran-7.2.0] Describe your computer, operating system, etc.
[gfortran-7.2.0] ************************************************************************
```
I can report this on sage-devel as well (I doubt it is a particular release thing unless this was indeed a very recent change) if it would be found useful.  Otherwise I don't have a way to proceed.
