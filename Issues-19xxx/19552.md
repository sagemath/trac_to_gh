# Issue 19552: images and preimages for projective subscheme

archive/issues_019315.json:
```json
{
    "assignees": [],
    "body": "Compute the forward and inverse images for projective subschemes under projective morphisms.\n\nThe forward image can be computed with an elimination calculation and the preimage is simply composition with the map.\n\nThis includes orbit() and nth_iterate() functions for subschemes.\n\nAssignee: **@bhutz**\n\nKeywords: **subscheme iteration**\n\nBranch/Commit: **[01073fd](https://github.com/sagemath/sagetrac-mirror/commit/01073fd96ead38a53fe117da06578a97892a55fb)**\n\nReviewer: **Vincent Delecroix, Solomon Vishkautsan**\n\nAuthor: **Ben Hutz**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19552_\n\n",
    "closed_at": "2016-01-07T22:40:56Z",
    "created_at": "2015-11-08T19:38:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "images and preimages for projective subscheme",
    "type": "issue",
    "updated_at": "2016-01-07T22:40:56Z",
    "url": "https://github.com/sagemath/sage/issues/19552",
    "user": "https://github.com/bhutz"
}
```
Compute the forward and inverse images for projective subschemes under projective morphisms.

The forward image can be computed with an elimination calculation and the preimage is simply composition with the map.

This includes orbit() and nth_iterate() functions for subschemes.

Assignee: **@bhutz**

Keywords: **subscheme iteration**

Branch/Commit: **[01073fd](https://github.com/sagemath/sagetrac-mirror/commit/01073fd96ead38a53fe117da06578a97892a55fb)**

Reviewer: **Vincent Delecroix, Solomon Vishkautsan**

Author: **Ben Hutz**

_Issue created by migration from https://trac.sagemath.org/ticket/19552_





---

archive/issue_events_249844.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-11-08T19:38:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249844"
}
```



---

archive/issue_events_249845.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-11-08T19:38:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "component: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249845"
}
```



---

archive/issue_events_249846.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-11-08T19:38:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249846"
}
```



---

archive/issue_events_249847.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-11-08T19:38:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249847"
}
```



---

archive/issue_comments_281056.json:
```json
{
    "body": "Branch: **[u/bhutz/ticket/19552](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/19552)**",
    "created_at": "2015-11-09T22:12:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281056",
    "user": "https://github.com/bhutz"
}
```

Branch: **[u/bhutz/ticket/19552](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/19552)**



---

archive/issue_comments_281057.json:
```json
{
    "body": "Commit: **[8a0c020](https://github.com/sagemath/sagetrac-mirror/commit/8a0c020329824d932d1f3bb846455fad5547d1eb)**",
    "created_at": "2015-11-10T22:05:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281057",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[8a0c020](https://github.com/sagemath/sagetrac-mirror/commit/8a0c020329824d932d1f3bb846455fad5547d1eb)**



---

archive/issue_comments_281058.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a0c020329824d932d1f3bb846455fad5547d1eb\">8a0c020</a></td><td><code>19552: rearranged code placement, added checks</code></td></tr></table>\n",
    "created_at": "2015-11-10T22:05:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281058",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a0c020329824d932d1f3bb846455fad5547d1eb">8a0c020</a></td><td><code>19552: rearranged code placement, added checks</code></td></tr></table>




---

archive/issue_comments_281059.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0aac0fe06164bfb15e4bf792c3e90b219e1a119c\">0aac0fe</a></td><td><code>19552: removed leftover code</code></td></tr></table>\n",
    "created_at": "2015-11-10T22:07:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281059",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0aac0fe06164bfb15e4bf792c3e90b219e1a119c">0aac0fe</a></td><td><code>19552: removed leftover code</code></td></tr></table>




---

archive/issue_comments_281060.json:
```json
{
    "body": "Changed commit from **[8a0c020](https://github.com/sagemath/sagetrac-mirror/commit/8a0c020329824d932d1f3bb846455fad5547d1eb)** to **[0aac0fe](https://github.com/sagemath/sagetrac-mirror/commit/0aac0fe06164bfb15e4bf792c3e90b219e1a119c)**",
    "created_at": "2015-11-10T22:07:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281060",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8a0c020](https://github.com/sagemath/sagetrac-mirror/commit/8a0c020329824d932d1f3bb846455fad5547d1eb)** to **[0aac0fe](https://github.com/sagemath/sagetrac-mirror/commit/0aac0fe06164bfb15e4bf792c3e90b219e1a119c)**



---

archive/issue_comments_281061.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nThis is ready for another set of eyes.",
    "created_at": "2015-11-10T22:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281061",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:4'>Comment 4:</a>
This is ready for another set of eyes.



---

archive/issue_events_249848.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-11-10T22:14:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249848"
}
```



---

archive/issue_comments_281062.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Compute the forward and inverse images for projective subschemes under projective morphisms.\n \n The forward image can be computed with an elimination calculation and the preimage is simply composition with the map.\n+\n+This includes orbit() and nth_iterate() functions for subschemes.\n``````\n",
    "created_at": "2015-11-10T22:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281062",
    "user": "https://github.com/bhutz"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Compute the forward and inverse images for projective subschemes under projective morphisms.
 
 The forward image can be computed with an elimination calculation and the preimage is simply composition with the map.
+
+This includes orbit() and nth_iterate() functions for subschemes.
``````




---

archive/issue_comments_281063.json:
```json
{
    "body": "Author: **Ben Hutz**",
    "created_at": "2015-11-10T22:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281063",
    "user": "https://github.com/bhutz"
}
```

Author: **Ben Hutz**



---

archive/issue_comments_281064.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5635becc9dd31f1e81c10f5422b37607e3ecdaa3\">5635bec</a></td><td><code>19552: fix issue with symbolic base rings</code></td></tr></table>\n",
    "created_at": "2015-11-19T12:54:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281064",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5635becc9dd31f1e81c10f5422b37607e3ecdaa3">5635bec</a></td><td><code>19552: fix issue with symbolic base rings</code></td></tr></table>




---

archive/issue_comments_281065.json:
```json
{
    "body": "Changed commit from **[0aac0fe](https://github.com/sagemath/sagetrac-mirror/commit/0aac0fe06164bfb15e4bf792c3e90b219e1a119c)** to **[5635bec](https://github.com/sagemath/sagetrac-mirror/commit/5635becc9dd31f1e81c10f5422b37607e3ecdaa3)**",
    "created_at": "2015-11-19T12:54:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281065",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0aac0fe](https://github.com/sagemath/sagetrac-mirror/commit/0aac0fe06164bfb15e4bf792c3e90b219e1a119c)** to **[5635bec](https://github.com/sagemath/sagetrac-mirror/commit/5635becc9dd31f1e81c10f5422b37607e3ecdaa3)**



---

archive/issue_comments_281066.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nHello,\n\n1. Could you split the documentation strings into a **one line** description followed by a paragraph.\n\n2. For the input, I would prefer to follow the Python conventions\n\n- `x.orbit(f, 3)` -> `[x, f(x), f^2(x)]`\n- `x.orbit(f, 2, 5)` -> `[f^2(x), f^3(x), f^4(x)]`\n\n  In other words having a `def orbit(self, f, n, m=None)`.\n\n3. Is there really a need for that many functions:\n\n- `orbit` (this is achieved by a simple loop)\n- `nth_iterate` (this is more or less equivalent to `.orbit(f, (n,n+1))`).\n- `forward_image` (this is more or less equivalent to `.orbit(f, (0,1))`)... and why not using `f(self)` here? If this is needed by call, then it could be a private method `_forward_image`.\n- `preimage` (this should be equivalent to `.orbit(f, (-1,0))`)\n- `__call__`",
    "created_at": "2015-11-23T15:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281066",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'>Comment 6:</a>
Hello,

1. Could you split the documentation strings into a **one line** description followed by a paragraph.

2. For the input, I would prefer to follow the Python conventions

- `x.orbit(f, 3)` -> `[x, f(x), f^2(x)]`
- `x.orbit(f, 2, 5)` -> `[f^2(x), f^3(x), f^4(x)]`

  In other words having a `def orbit(self, f, n, m=None)`.

3. Is there really a need for that many functions:

- `orbit` (this is achieved by a simple loop)
- `nth_iterate` (this is more or less equivalent to `.orbit(f, (n,n+1))`).
- `forward_image` (this is more or less equivalent to `.orbit(f, (0,1))`)... and why not using `f(self)` here? If this is needed by call, then it could be a private method `_forward_image`.
- `preimage` (this should be equivalent to `.orbit(f, (-1,0))`)
- `__call__`



---

archive/issue_comments_281067.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2015-11-23T15:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281067",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_events_249849.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-23T15:05:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249849"
}
```



---

archive/issue_events_249850.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-23T15:05:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249850"
}
```



---

archive/issue_comments_281068.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\n1) I will update the docs.\n\n2) hmm..I was matching the inputs that are used for the orbit function for affine and projective points. I was not aware of the python conventions covering such a situation. If we follow them here, then the other functions should be changed to match. This is fine by me, but I'll make the other function changes in a separate ticket.\n\n3) `orbit` returns a list of points and `nth_iterate` returns a single point. I use the functions separately as they exists for points, so I continued the separation here. Combining them would make finding an nth-iterate slightly more cumbersome: you would have to create the list `orbit(f,(n,n+1))` and then get the first element out of that list. As I didn't think there was a significant drawback with making them 2 separate functions and as a user, I'd rather have two functions.\n\n`forward_image` is used by call and I debated making it private or not. I think with `nth_iterate` existing, I can make this private.\n\nusing `orbit` for preimages is a little shaky in my opinion. The forward images are single points(or varieties) but the preimages are collections of points (or varieties). Allowing something like `x.orbit(-2,2)` would return quite a strange object. So, I see this functionality as different. In the special case of automorphisms, using `orbit` for both would make sense, but I don't think it does in general.",
    "created_at": "2015-11-23T20:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281068",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:7'>Comment 7:</a>
1) I will update the docs.

2) hmm..I was matching the inputs that are used for the orbit function for affine and projective points. I was not aware of the python conventions covering such a situation. If we follow them here, then the other functions should be changed to match. This is fine by me, but I'll make the other function changes in a separate ticket.

3) `orbit` returns a list of points and `nth_iterate` returns a single point. I use the functions separately as they exists for points, so I continued the separation here. Combining them would make finding an nth-iterate slightly more cumbersome: you would have to create the list `orbit(f,(n,n+1))` and then get the first element out of that list. As I didn't think there was a significant drawback with making them 2 separate functions and as a user, I'd rather have two functions.

`forward_image` is used by call and I debated making it private or not. I think with `nth_iterate` existing, I can make this private.

using `orbit` for preimages is a little shaky in my opinion. The forward images are single points(or varieties) but the preimages are collections of points (or varieties). Allowing something like `x.orbit(-2,2)` would return quite a strange object. So, I see this functionality as different. In the special case of automorphisms, using `orbit` for both would make sense, but I don't think it does in general.



---

archive/issue_comments_281069.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@bhutz](#comment%3A7):\n> 2) hmm..I was matching the inputs that are used for the orbit function for affine and projective points. I was not aware of the python conventions covering such a situation. If we follow them here, then the other functions should be changed to match. This is fine by me, but I'll make the other function changes in a separate ticket.\n\nI see. Then for the sake of this ticket I guess it is better to follow the convention of the other dynamical functions. The advantage of the Python way is that it is faster to parse the argument (less type checking and avoid tuple constructions) and you have the property that\n\n```\norbit(n1,n2) + orbit(n2,n3) == orbit(n1,n3)\n```\nPlease let it for a later ticket (if you have time).\n\n> 3) `orbit` returns a list of points and ...\n\nThe only draw back I see is the multiplication of methods! I do not claim that any of them is useless.\n\n> `forward_image` is used by call and I debated making it private or not. I think with `nth_iterate` existing, I can make this private.\n\nOn the other hand, `nth_iterate` is very hard to found with tab-completion. If I would choose one name, I would go for `forward_image` (with an optional argument `order`). For word morphism (maps of the free monoid) there is an optional argument in `__call__`\n\n```\nsage: s = WordMorphism('a->ab,b->ba')\nsage: s('a')\nword: ab\nsage: s('a', 5)\nword: abbabaabbaababbabaababbaabbabaab\n```\nBut of course you can not found `__call__` with tab completion. But as it is a word morphism is a function it is natural to use the `my_map(x)` syntax instead of `x.forward_image(my_map)`. And actually, there is also\n\n```\nsage: w = Word('ab')\nsage: w.apply_morphism(s)\nword: abba\n```\nI guess it would be good to unify the terminology here...\n\n> using `orbit` for preimages is a little shaky in my opinion. The forward images are single points(or varieties) but the preimages are collections of points (or varieties).\n\nYou are right, I was thiking of bijective maps for which bi-sided orbits make sense.\n\n> Allowing something like `x.orbit(-2,2)` would return quite a strange object. So, I see this functionality as different. In the special case of automorphisms, using `orbit` for both would make sense, but I don't think it does in general.\n\nThis should be definitely disallowed in general!",
    "created_at": "2015-11-23T21:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281069",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@bhutz](#comment%3A7):
> 2) hmm..I was matching the inputs that are used for the orbit function for affine and projective points. I was not aware of the python conventions covering such a situation. If we follow them here, then the other functions should be changed to match. This is fine by me, but I'll make the other function changes in a separate ticket.

I see. Then for the sake of this ticket I guess it is better to follow the convention of the other dynamical functions. The advantage of the Python way is that it is faster to parse the argument (less type checking and avoid tuple constructions) and you have the property that

```
orbit(n1,n2) + orbit(n2,n3) == orbit(n1,n3)
```
Please let it for a later ticket (if you have time).

> 3) `orbit` returns a list of points and ...

The only draw back I see is the multiplication of methods! I do not claim that any of them is useless.

> `forward_image` is used by call and I debated making it private or not. I think with `nth_iterate` existing, I can make this private.

On the other hand, `nth_iterate` is very hard to found with tab-completion. If I would choose one name, I would go for `forward_image` (with an optional argument `order`). For word morphism (maps of the free monoid) there is an optional argument in `__call__`

```
sage: s = WordMorphism('a->ab,b->ba')
sage: s('a')
word: ab
sage: s('a', 5)
word: abbabaabbaababbabaababbaabbabaab
```
But of course you can not found `__call__` with tab completion. But as it is a word morphism is a function it is natural to use the `my_map(x)` syntax instead of `x.forward_image(my_map)`. And actually, there is also

```
sage: w = Word('ab')
sage: w.apply_morphism(s)
word: abba
```
I guess it would be good to unify the terminology here...

> using `orbit` for preimages is a little shaky in my opinion. The forward images are single points(or varieties) but the preimages are collections of points (or varieties).

You are right, I was thiking of bijective maps for which bi-sided orbits make sense.

> Allowing something like `x.orbit(-2,2)` would return quite a strange object. So, I see this functionality as different. In the special case of automorphisms, using `orbit` for both would make sense, but I don't think it does in general.

This should be definitely disallowed in general!



---

archive/issue_comments_281070.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45697b745f19b2387ed28afd7e787b84a4a238cb\">45697b7</a></td><td><code>19552: adjust docstrings, rename function</code></td></tr></table>\n",
    "created_at": "2015-11-24T02:14:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281070",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45697b745f19b2387ed28afd7e787b84a4a238cb">45697b7</a></td><td><code>19552: adjust docstrings, rename function</code></td></tr></table>




---

archive/issue_comments_281071.json:
```json
{
    "body": "Changed commit from **[5635bec](https://github.com/sagemath/sagetrac-mirror/commit/5635becc9dd31f1e81c10f5422b37607e3ecdaa3)** to **[45697b7](https://github.com/sagemath/sagetrac-mirror/commit/45697b745f19b2387ed28afd7e787b84a4a238cb)**",
    "created_at": "2015-11-24T02:14:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281071",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5635bec](https://github.com/sagemath/sagetrac-mirror/commit/5635becc9dd31f1e81c10f5422b37607e3ecdaa3)** to **[45697b7](https://github.com/sagemath/sagetrac-mirror/commit/45697b745f19b2387ed28afd7e787b84a4a238cb)**



---

archive/issue_comments_281072.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nDocs strings adjusted and `forward_image` now private.  I've made a note to myself to adjust how all the `orbit` functions take the parameters and this will be done in different ticket. As for the naming of the functions. These match all the other dynamics functionality and for this ticket I think that is most important. If it's necessary to choose more findable names, then these should be changed for all the dynamics functionality at the same time.",
    "created_at": "2015-11-24T02:20:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281072",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:10'>Comment 10:</a>
Docs strings adjusted and `forward_image` now private.  I've made a note to myself to adjust how all the `orbit` functions take the parameters and this will be done in different ticket. As for the naming of the functions. These match all the other dynamics functionality and for this ticket I think that is most important. If it's necessary to choose more findable names, then these should be changed for all the dynamics functionality at the same time.



---

archive/issue_events_249851.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-11-24T02:20:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249851"
}
```



---

archive/issue_events_249852.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-11-24T02:20:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249852"
}
```



---

archive/issue_events_249853.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-24T12:42:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249853"
}
```



---

archive/issue_events_249854.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-11-24T12:42:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249854"
}
```



---

archive/issue_comments_281073.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\n- In your first commit, you completely removed the file `schemes/generic/morphism.py`. Why is so?\n\n- test the error that are raised. And to fit with Python standards that was discussed on sage-devel, the error message should be lower case with no ponctuation at the end like the following\n\n```\nsage: [][1]\nTraceback (most recent call last):\n...\nIndexError: list index out of range\n```\n\n- change `if (isinstance(N,(list,tuple)) == False)` to `if not isinstance(N, (list,tuple))`. Similarly, change `if normalize == True` with `if normalize`.\n\n- In\n\n```\n+        except TypeError:\n+            raise TypeError(\"Orbit bounds must be integers\")\n```\n   or\n\n```\n+        except TypeError:\n+            raise TypeError(\"Iterate number must be an integer\")\n```\n   there is no need to catch a `TypeError` to raise a `TypeError`.\n\n- Why are you using a copy of `self` in `orbit`?\n\n- `a proejctive subscheme` -> `projective`. Moreover the output is **not** a projective subscheme but a list!\n\n- What is this line in the documentation of `orbit`\n\n```\nPerform the checks on subscheme initialization if ``check=True``\n```\n\n- The mention to `self` in the documentation should be avoided as much as possible. You can replace by `this scheme`.\n\n- You can simplify a bit the following in `nth_iterate`\n\n```\n+        if n == 0:\n+            return(self)\n+        else:\n+            Q = f(self)\n+            for i in range(2,n+1):\n+                Q = f(Q)\n+            return(Q)\n```\n  with\n\n```\nQ = self\nfor i in range(n):\n    Q = f(Q)\nreturn Q\n```\n\n- to make a list of zeros use `[0] * n` instead of `[0 for _ in range(n)]`.\n\n- In `preimage` you wrote `return the subscheme` why is this unique? why it does exist? The following looks fishy\n\n```\nsage: PS.<x,y,z> = ProjectiveSpace(ZZ, 2)\nsage: H = End(PS)\nsage: f = H([x^2, x^2, x^2])\nsage: X = PS.subscheme([x-y])\nsage: X.preimage(f)\nClosed subscheme of Projective Space of dimension 2 over Integer Ring defined by:\n  0\nsage: f(X.preimage(f))\nClosed subscheme of Projective Space of dimension 2 over Integer Ring defined by:\n  y - z,\n  x - z\n```",
    "created_at": "2015-11-24T12:42:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281073",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'>Comment 11:</a>
- In your first commit, you completely removed the file `schemes/generic/morphism.py`. Why is so?

- test the error that are raised. And to fit with Python standards that was discussed on sage-devel, the error message should be lower case with no ponctuation at the end like the following

```
sage: [][1]
Traceback (most recent call last):
...
IndexError: list index out of range
```

- change `if (isinstance(N,(list,tuple)) == False)` to `if not isinstance(N, (list,tuple))`. Similarly, change `if normalize == True` with `if normalize`.

- In

```
+        except TypeError:
+            raise TypeError("Orbit bounds must be integers")
```
   or

```
+        except TypeError:
+            raise TypeError("Iterate number must be an integer")
```
   there is no need to catch a `TypeError` to raise a `TypeError`.

- Why are you using a copy of `self` in `orbit`?

- `a proejctive subscheme` -> `projective`. Moreover the output is **not** a projective subscheme but a list!

- What is this line in the documentation of `orbit`

```
Perform the checks on subscheme initialization if ``check=True``
```

- The mention to `self` in the documentation should be avoided as much as possible. You can replace by `this scheme`.

- You can simplify a bit the following in `nth_iterate`

```
+        if n == 0:
+            return(self)
+        else:
+            Q = f(self)
+            for i in range(2,n+1):
+                Q = f(Q)
+            return(Q)
```
  with

```
Q = self
for i in range(n):
    Q = f(Q)
return Q
```

- to make a list of zeros use `[0] * n` instead of `[0 for _ in range(n)]`.

- In `preimage` you wrote `return the subscheme` why is this unique? why it does exist? The following looks fishy

```
sage: PS.<x,y,z> = ProjectiveSpace(ZZ, 2)
sage: H = End(PS)
sage: f = H([x^2, x^2, x^2])
sage: X = PS.subscheme([x-y])
sage: X.preimage(f)
Closed subscheme of Projective Space of dimension 2 over Integer Ring defined by:
  0
sage: f(X.preimage(f))
Closed subscheme of Projective Space of dimension 2 over Integer Ring defined by:
  y - z,
  x - z
```



---

archive/issue_comments_281074.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nI don't see how morphism.py got removed. It is still there locally for me and I gave no command to stop tracking it. I'll get that back in.\n\nyes, your example is an issue. I'll need to add a check that the map is a morphism otherwise lots of strange things can happen.",
    "created_at": "2015-11-24T14:05:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281074",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:12'>Comment 12:</a>
I don't see how morphism.py got removed. It is still there locally for me and I gave no command to stop tracking it. I'll get that back in.

yes, your example is an issue. I'll need to add a check that the map is a morphism otherwise lots of strange things can happen.



---

archive/issue_comments_281075.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df4701bddec0408e5074078888f8a1f784745c6c\">df4701b</a></td><td><code>19552: fix issues from review</code></td></tr></table>\n",
    "created_at": "2015-11-25T18:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281075",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df4701bddec0408e5074078888f8a1f784745c6c">df4701b</a></td><td><code>19552: fix issues from review</code></td></tr></table>




---

archive/issue_comments_281076.json:
```json
{
    "body": "Changed commit from **[45697b7](https://github.com/sagemath/sagetrac-mirror/commit/45697b745f19b2387ed28afd7e787b84a4a238cb)** to **[df4701b](https://github.com/sagemath/sagetrac-mirror/commit/df4701bddec0408e5074078888f8a1f784745c6c)**",
    "created_at": "2015-11-25T18:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281076",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[45697b7](https://github.com/sagemath/sagetrac-mirror/commit/45697b745f19b2387ed28afd7e787b84a4a238cb)** to **[df4701b](https://github.com/sagemath/sagetrac-mirror/commit/df4701bddec0408e5074078888f8a1f784745c6c)**



---

archive/issue_comments_281077.json:
```json
{
    "body": "Changed commit from **[df4701b](https://github.com/sagemath/sagetrac-mirror/commit/df4701bddec0408e5074078888f8a1f784745c6c)** to **[ab4c42d](https://github.com/sagemath/sagetrac-mirror/commit/ab4c42daa999e63000fe824f173a0eaa90defef8)**",
    "created_at": "2015-11-25T18:45:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281077",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[df4701b](https://github.com/sagemath/sagetrac-mirror/commit/df4701bddec0408e5074078888f8a1f784745c6c)** to **[ab4c42d](https://github.com/sagemath/sagetrac-mirror/commit/ab4c42daa999e63000fe824f173a0eaa90defef8)**



---

archive/issue_comments_281078.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab4c42daa999e63000fe824f173a0eaa90defef8\">ab4c42d</a></td><td><code>19552: fixes for orbit and nth_iterate</code></td></tr></table>\n",
    "created_at": "2015-11-25T18:45:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281078",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab4c42daa999e63000fe824f173a0eaa90defef8">ab4c42d</a></td><td><code>19552: fixes for orbit and nth_iterate</code></td></tr></table>




---

archive/issue_comments_281079.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nCorrections made. I guess I was just being overly cautious with the copy. It seems to work fine without (i.e., self remains unchanged).\n\nI greatly increased the spectrum of failure testing as well.\n\nAlso, I was overly ambitious in my coercing in `__call__` so I scaled that back slightly. I was able to produce a weird behavior with the example in algebraic_scheme.py line 2472. That example now raises an error.\n\nAs for generic/morphism.py. I couldn't find anything locally that was causing the deletion. Looking at each commit individually (locally and on trac), nowhere was it removed. Now that I've pushed these new commits up the issue seems to have gone away. I guess trac was just confused...",
    "created_at": "2015-11-25T18:52:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281079",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:15'>Comment 15:</a>
Corrections made. I guess I was just being overly cautious with the copy. It seems to work fine without (i.e., self remains unchanged).

I greatly increased the spectrum of failure testing as well.

Also, I was overly ambitious in my coercing in `__call__` so I scaled that back slightly. I was able to produce a weird behavior with the example in algebraic_scheme.py line 2472. That example now raises an error.

As for generic/morphism.py. I couldn't find anything locally that was causing the deletion. Looking at each commit individually (locally and on trac), nowhere was it removed. Now that I've pushed these new commits up the issue seems to have gone away. I guess trac was just confused...



---

archive/issue_events_249855.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-11-25T18:52:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249855"
}
```



---

archive/issue_events_249856.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-11-25T18:52:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249856"
}
```



---

archive/issue_comments_281080.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\n`from copy import copy` is not needed anymore in `algebraic_scheme.py`. There exists a very nice python tool for that\n\n```\n$ pyflakes src/sage/schemes/generic/algebraic_scheme.py \nsrc/sage/schemes/generic/algebraic_scheme.py:133: 'copy' imported but unused\nsrc/sage/schemes/generic/algebraic_scheme.py:140: 'is_MPolynomialRing' imported but unused\nsrc/sage/schemes/generic/algebraic_scheme.py:3238: local variable 'n' is assigned to but never used\n```\nOn the other hand there is still a `copy` in `projective_point.py`.\n\nAbout my comment about multiplication of methods, the code in `nth_iteration` is an exact copy paste of a portion of `orbit`...\n\nAnother oneliner simplification\n\n```\ndict = {}\nfor i in range(codom.dimension_relative()+1):\n    dict.update({R.gen(i): f[i]})\n```\ncan be written as\n\n```\ndict = {R.gen(i): f[i] for i in range(codom.dimension_relative()+1)}\n```\n\nI have no real competence to check the mathematical validity of the code. If you want somebody else to review that part you might ask on sage-devel.",
    "created_at": "2015-12-01T21:06:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281080",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'>Comment 16:</a>
`from copy import copy` is not needed anymore in `algebraic_scheme.py`. There exists a very nice python tool for that

```
$ pyflakes src/sage/schemes/generic/algebraic_scheme.py 
src/sage/schemes/generic/algebraic_scheme.py:133: 'copy' imported but unused
src/sage/schemes/generic/algebraic_scheme.py:140: 'is_MPolynomialRing' imported but unused
src/sage/schemes/generic/algebraic_scheme.py:3238: local variable 'n' is assigned to but never used
```
On the other hand there is still a `copy` in `projective_point.py`.

About my comment about multiplication of methods, the code in `nth_iteration` is an exact copy paste of a portion of `orbit`...

Another oneliner simplification

```
dict = {}
for i in range(codom.dimension_relative()+1):
    dict.update({R.gen(i): f[i]})
```
can be written as

```
dict = {R.gen(i): f[i] for i in range(codom.dimension_relative()+1)}
```

I have no real competence to check the mathematical validity of the code. If you want somebody else to review that part you might ask on sage-devel.



---

archive/issue_events_249857.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-12-01T21:06:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249857"
}
```



---

archive/issue_events_249858.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-12-01T21:06:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249858"
}
```



---

archive/issue_comments_281081.json:
```json
{
    "body": "Changed commit from **[ab4c42d](https://github.com/sagemath/sagetrac-mirror/commit/ab4c42daa999e63000fe824f173a0eaa90defef8)** to **[1ee5379](https://github.com/sagemath/sagetrac-mirror/commit/1ee5379e0ead79803de8100488d6c2549cea364a)**",
    "created_at": "2015-12-09T16:10:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281081",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ab4c42d](https://github.com/sagemath/sagetrac-mirror/commit/ab4c42daa999e63000fe824f173a0eaa90defef8)** to **[1ee5379](https://github.com/sagemath/sagetrac-mirror/commit/1ee5379e0ead79803de8100488d6c2549cea364a)**



---

archive/issue_comments_281082.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ee5379e0ead79803de8100488d6c2549cea364a\">1ee5379</a></td><td><code>19552: remove duplicated code</code></td></tr></table>\n",
    "created_at": "2015-12-09T16:10:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281082",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ee5379e0ead79803de8100488d6c2549cea364a">1ee5379</a></td><td><code>19552: remove duplicated code</code></td></tr></table>




---

archive/issue_events_249859.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-12-09T16:15:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249859"
}
```



---

archive/issue_events_249860.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-12-09T16:15:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249860"
}
```



---

archive/issue_comments_281083.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nah yes, I see what you mean. I've removed the duplicated code and now call `orbit` from `nth_iterate`. I also noticed that `kwds` was not used in the algebraic scheme iterate, so I removed that as well.",
    "created_at": "2015-12-09T16:15:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281083",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:18'>Comment 18:</a>
ah yes, I see what you mean. I've removed the duplicated code and now call `orbit` from `nth_iterate`. I also noticed that `kwds` was not used in the algebraic scheme iterate, so I removed that as well.



---

archive/issue_comments_281084.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d65e7ae78c3c29b428c9155bd89130c53f5c313\">1d65e7a</a></td><td><code>19552: add check parameter to forward and preimage</code></td></tr></table>\n",
    "created_at": "2015-12-16T19:38:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281084",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d65e7ae78c3c29b428c9155bd89130c53f5c313">1d65e7a</a></td><td><code>19552: add check parameter to forward and preimage</code></td></tr></table>




---

archive/issue_comments_281085.json:
```json
{
    "body": "Changed commit from **[1ee5379](https://github.com/sagemath/sagetrac-mirror/commit/1ee5379e0ead79803de8100488d6c2549cea364a)** to **[1d65e7a](https://github.com/sagemath/sagetrac-mirror/commit/1d65e7ae78c3c29b428c9155bd89130c53f5c313)**",
    "created_at": "2015-12-16T19:38:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281085",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1ee5379](https://github.com/sagemath/sagetrac-mirror/commit/1ee5379e0ead79803de8100488d6c2549cea364a)** to **[1d65e7a](https://github.com/sagemath/sagetrac-mirror/commit/1d65e7ae78c3c29b428c9155bd89130c53f5c313)**



---

archive/issue_comments_281086.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nadded a `check` parameter as the `is_morphism()` check can be very slow, especially for symbolic maps.",
    "created_at": "2015-12-16T19:39:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281086",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:20'>Comment 20:</a>
added a `check` parameter as the `is_morphism()` check can be very slow, especially for symbolic maps.



---

archive/issue_comments_281087.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nIt is better to make the keyword apparent in the function as in\n\n```\ndef f(param1=True, param2=False):\n    ....\n```\ninstead of\n\n```\ndef f(**kwds):\n    param1 = kwds.get('param1', True)\n    param2 = kwds.get('param2', False)\n    ...\n```\nThe reason is that with the former the tab completion works and you can see the list of keywords from the function signature.\n\nThere is still a\n\n```\nif (isinstance(N,(list,tuple))==False):\n```\nthat should be replaced with\n\n```\nif not isinstance(N,(list,tuple)):\n```",
    "created_at": "2015-12-24T16:17:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281087",
    "user": "https://github.com/videlec"
}
```

<a id='comment:21'>Comment 21:</a>
It is better to make the keyword apparent in the function as in

```
def f(param1=True, param2=False):
    ....
```
instead of

```
def f(**kwds):
    param1 = kwds.get('param1', True)
    param2 = kwds.get('param2', False)
    ...
```
The reason is that with the former the tab completion works and you can see the list of keywords from the function signature.

There is still a

```
if (isinstance(N,(list,tuple))==False):
```
that should be replaced with

```
if not isinstance(N,(list,tuple)):
```



---

archive/issue_comments_281088.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/373ecb8a933903a2625a95f90fc1ea36253aac1e\">373ecb8</a></td><td><code>19552: minor correction</code></td></tr></table>\n",
    "created_at": "2016-01-04T15:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281088",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'>Comment 22:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/373ecb8a933903a2625a95f90fc1ea36253aac1e">373ecb8</a></td><td><code>19552: minor correction</code></td></tr></table>




---

archive/issue_comments_281089.json:
```json
{
    "body": "Changed commit from **[1d65e7a](https://github.com/sagemath/sagetrac-mirror/commit/1d65e7ae78c3c29b428c9155bd89130c53f5c313)** to **[373ecb8](https://github.com/sagemath/sagetrac-mirror/commit/373ecb8a933903a2625a95f90fc1ea36253aac1e)**",
    "created_at": "2016-01-04T15:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281089",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1d65e7a](https://github.com/sagemath/sagetrac-mirror/commit/1d65e7ae78c3c29b428c9155bd89130c53f5c313)** to **[373ecb8](https://github.com/sagemath/sagetrac-mirror/commit/373ecb8a933903a2625a95f90fc1ea36253aac1e)**



---

archive/issue_comments_281090.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nIt seems that the code for __forward_image is implemented for any morphism P<sup>n</sup> -> P^m\u00a0^(or n-1, m-1 to be precise with the code), yet the examples are all for endomorphisms of projective space. I think it would be better to either add examples with different domain and codomain, or add an assertion that checks n=m and states otherwise that only endomorphisms are currently implemented.__",
    "created_at": "2016-01-04T21:01:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281090",
    "user": "https://github.com/sagetrac-wishcow"
}
```

<a id='comment:23'>Comment 23:</a>
It seems that the code for __forward_image is implemented for any morphism P<sup>n</sup> -> P^m^(or n-1, m-1 to be precise with the code), yet the examples are all for endomorphisms of projective space. I think it would be better to either add examples with different domain and codomain, or add an assertion that checks n=m and states otherwise that only endomorphisms are currently implemented.__



---

archive/issue_comments_281091.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nGood point. I do think the mathematics is fine for n != m as long as the map is a morphism (which requires m >=n). Let me think some more about it and then I'll probably add some additional examples.",
    "created_at": "2016-01-05T14:12:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281091",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:24'>Comment 24:</a>
Good point. I do think the mathematics is fine for n != m as long as the map is a morphism (which requires m >=n). Let me think some more about it and then I'll probably add some additional examples.



---

archive/issue_comments_281092.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nIf I may suggest giving examples of the Veronese embedding. This is well known and people should know what their output should be. (Sorry, the Segre embedding is of cartesian product, I am guessing forward_image is not implemented for this?)",
    "created_at": "2016-01-05T17:34:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281092",
    "user": "https://github.com/sagetrac-wishcow"
}
```

<a id='comment:25'>Comment 25:</a>
If I may suggest giving examples of the Veronese embedding. This is well known and people should know what their output should be. (Sorry, the Segre embedding is of cartesian product, I am guessing forward_image is not implemented for this?)



---

archive/issue_comments_281093.json:
```json
{
    "body": "Changed commit from **[373ecb8](https://github.com/sagemath/sagetrac-mirror/commit/373ecb8a933903a2625a95f90fc1ea36253aac1e)** to **[01073fd](https://github.com/sagemath/sagetrac-mirror/commit/01073fd96ead38a53fe117da06578a97892a55fb)**",
    "created_at": "2016-01-05T17:58:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281093",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[373ecb8](https://github.com/sagemath/sagetrac-mirror/commit/373ecb8a933903a2625a95f90fc1ea36253aac1e)** to **[01073fd](https://github.com/sagemath/sagetrac-mirror/commit/01073fd96ead38a53fe117da06578a97892a55fb)**



---

archive/issue_comments_281094.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01073fd96ead38a53fe117da06578a97892a55fb\">01073fd</a></td><td><code>19552: adding differing domain and codomain examples</code></td></tr></table>\n",
    "created_at": "2016-01-05T17:58:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281094",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:26'>Comment 26:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01073fd96ead38a53fe117da06578a97892a55fb">01073fd</a></td><td><code>19552: adding differing domain and codomain examples</code></td></tr></table>




---

archive/issue_comments_281095.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nExamples added. The veronese embedding is a good idea. I also did a couple dimension 0 examples for which the output is easily verified as well.\n\nNo, we can't do the segre embedding like this. However, Segre embedding is implemented for projective products.",
    "created_at": "2016-01-05T18:00:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281095",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:27'>Comment 27:</a>
Examples added. The veronese embedding is a good idea. I also did a couple dimension 0 examples for which the output is easily verified as well.

No, we can't do the segre embedding like this. However, Segre embedding is implemented for projective products.



---

archive/issue_comments_281096.json:
```json
{
    "body": "Changed reviewer from **Vincent Delecroix** to **Vincent Delecroix, Solomon Vishkautsan**",
    "created_at": "2016-01-05T18:01:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281096",
    "user": "https://github.com/sagetrac-wishcow"
}
```

Changed reviewer from **Vincent Delecroix** to **Vincent Delecroix, Solomon Vishkautsan**



---

archive/issue_events_249861.json:
```json
{
    "actor": "https://github.com/sagetrac-wishcow",
    "created_at": "2016-01-06T18:37:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249861"
}
```



---

archive/issue_events_249862.json:
```json
{
    "actor": "https://github.com/sagetrac-wishcow",
    "created_at": "2016-01-06T18:37:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249862"
}
```



---

archive/issue_comments_281097.json:
```json
{
    "body": "Changed branch from **[u/bhutz/ticket/19552](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/19552)** to **[01073fd](https://github.com/sagemath/sagetrac-mirror/commit/01073fd96ead38a53fe117da06578a97892a55fb)**",
    "created_at": "2016-01-07T22:40:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19552#issuecomment-281097",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/bhutz/ticket/19552](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/ticket/19552)** to **[01073fd](https://github.com/sagemath/sagetrac-mirror/commit/01073fd96ead38a53fe117da06578a97892a55fb)**



---

archive/issue_events_249863.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-07T22:40:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249863"
}
```



---

archive/issue_events_249864.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1d5925bf5ca2f040852c519c9ad580fb375be9aa",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-01-07T22:40:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19552",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19552#event-249864"
}
```
