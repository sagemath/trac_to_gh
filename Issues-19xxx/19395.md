# Issue 19395: Implement Tableau to sign matrix code

archive/issues_019158.json:
```json
{
    "body": "I would like to add code for Sage to turn a Tableau into a Sign Matrix.\n\nCC:  @tscrim @kevindilks @jessicapalencia\n\nKeywords: Tableau\n\nBranch/Commit: 3d34120abc4103c481247d4fcef79b28c3956f97\n\nReviewer: Kevin Dilks\n\nAuthor: Sara Solhjem\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19395\n\n",
    "closed_at": "2015-12-07T17:27:38Z",
    "created_at": "2015-10-12T16:17:32Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Implement Tableau to sign matrix code",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19395",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```
I would like to add code for Sage to turn a Tableau into a Sign Matrix.

CC:  @tscrim @kevindilks @jessicapalencia

Keywords: Tableau

Branch/Commit: 3d34120abc4103c481247d4fcef79b28c3956f97

Reviewer: Kevin Dilks

Author: Sara Solhjem

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19395





---

archive/issue_comments_347291.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-10-13T16:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347291",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_347292.json:
```json
{
    "body": "Changing branch from \"\" to \"u/ssolhjem/19395\"",
    "created_at": "2015-10-13T16:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347292",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

Changing branch from "" to "u/ssolhjem/19395"



---

archive/issue_comments_347293.json:
```json
{
    "body": "Changing commit from \"\" to \"5b006a1b94be67ac56c96921ee7c68df37d31495\"",
    "created_at": "2015-10-13T16:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347293",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

Changing commit from "" to "5b006a1b94be67ac56c96921ee7c68df37d31495"



---

archive/issue_comments_347294.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2015-10-13T16:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347294",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_347295.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Kevin Dilks\"",
    "created_at": "2015-10-13T18:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347295",
    "user": "https://github.com/kevindilks"
}
```

Changing reviewer from "" to "Kevin Dilks"



---

archive/issue_comments_347296.json:
```json
{
    "body": "<a id='comment:3'></a>In terms of documentation:\n\n* Change the two paragraphs after the first one into `INPUT` and `OUTPUT` blocks ( http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content ).\n* Change the start of the docstring from `\"\"\"` to `r\"\"\"`. This changes the way the text is read when compiled. Then things enclosed in two graves (like ```self```) will show up kind of bolded with a background, and is used to indicate variable names in the code. Things encased in a single set of graves will be read in math-mode. So things like numbers can go in there, and you can also do `'m\\times n'`, and it should tex that.\n\nIn terms of the code:\n* I wouldn't use sparse matrices. Your code goes through defines what the `partial_sum_matrix` and `sign_matrix` is at every single entry, so you're not taking advantage of the structure of sparse matrices. In fact, I picked a random SSYT of shape `[1000,999,998,...,2,1]` with `max_entry=10000`, and using sparse matrices was 4 times slower than not using sparse matrices.\n* Add some tests, one or two simple examples to check, one or two checking possible fringe cases (ie, making sure your code can handle things like the empty tableau, if such a thing exists).\n* Is m actually a parameter, or is m always the largest entry in the tableau? If it's always going to be the largest entry in the tableau, then it shouldn't be a parameter. But sometimes you want to consider the largest *possible* entry, in which case something like the SSYT `{[[1,1],[2]]`} would be a valid member of the set of SSYT of shape `[2,1]` with largest possible entry 3. In that case, I would change the name of the parameter m to `max_entry`. Make it default to the largest entry appearing in the tableau if the user doesn't specify a parameter. Your code should also check to make sure that any `{max_entry`} parameter entered into this method is at least as big as the largest entry in the tableau.",
    "created_at": "2015-10-13T20:06:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347296",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:3'></a>In terms of documentation:

* Change the two paragraphs after the first one into `INPUT` and `OUTPUT` blocks ( http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content ).
* Change the start of the docstring from `"""` to `r"""`. This changes the way the text is read when compiled. Then things enclosed in two graves (like ```self```) will show up kind of bolded with a background, and is used to indicate variable names in the code. Things encased in a single set of graves will be read in math-mode. So things like numbers can go in there, and you can also do `'m\times n'`, and it should tex that.

In terms of the code:
* I wouldn't use sparse matrices. Your code goes through defines what the `partial_sum_matrix` and `sign_matrix` is at every single entry, so you're not taking advantage of the structure of sparse matrices. In fact, I picked a random SSYT of shape `[1000,999,998,...,2,1]` with `max_entry=10000`, and using sparse matrices was 4 times slower than not using sparse matrices.
* Add some tests, one or two simple examples to check, one or two checking possible fringe cases (ie, making sure your code can handle things like the empty tableau, if such a thing exists).
* Is m actually a parameter, or is m always the largest entry in the tableau? If it's always going to be the largest entry in the tableau, then it shouldn't be a parameter. But sometimes you want to consider the largest *possible* entry, in which case something like the SSYT `{[[1,1],[2]]`} would be a valid member of the set of SSYT of shape `[2,1]` with largest possible entry 3. In that case, I would change the name of the parameter m to `max_entry`. Make it default to the largest entry appearing in the tableau if the user doesn't specify a parameter. Your code should also check to make sure that any `{max_entry`} parameter entered into this method is at least as big as the largest entry in the tableau.



---

archive/issue_comments_347297.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-10-13T20:06:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347297",
    "user": "https://github.com/kevindilks"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_347298.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 kdilks]:\n> In terms of the code:\n> * I wouldn't use sparse matrices. Your code goes through defines what the `partial_sum_matrix` and `sign_matrix` is at every single entry, so you're not taking advantage of the structure of sparse matrices. In fact, I picked a random SSYT of shape `[1000,999,998,...,2,1]` with `max_entry=10000`, and using sparse matrices was 4 times slower than not using sparse matrices.\n\n\nJust to expand on this a little bit, the way Sage creates sparse matrices is fairly bad. So just remove the `sparse=True` part from the `MatrixSpace` line.\n\nYou should also make sure that `self` is the name of the first argument to any method. This is a python convention that is very strictly followed.",
    "created_at": "2015-10-13T20:37:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347298",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>Replying to [comment:3 kdilks]:
> In terms of the code:
> * I wouldn't use sparse matrices. Your code goes through defines what the `partial_sum_matrix` and `sign_matrix` is at every single entry, so you're not taking advantage of the structure of sparse matrices. In fact, I picked a random SSYT of shape `[1000,999,998,...,2,1]` with `max_entry=10000`, and using sparse matrices was 4 times slower than not using sparse matrices.


Just to expand on this a little bit, the way Sage creates sparse matrices is fairly bad. So just remove the `sparse=True` part from the `MatrixSpace` line.

You should also make sure that `self` is the name of the first argument to any method. This is a python convention that is very strictly followed.



---

archive/issue_comments_347299.json:
```json
{
    "body": "Changing commit from \"5b006a1b94be67ac56c96921ee7c68df37d31495\" to \"22d38d0e56e09e4d12c7a4e31a65d119b342dbf1\"",
    "created_at": "2015-11-04T16:40:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347299",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5b006a1b94be67ac56c96921ee7c68df37d31495" to "22d38d0e56e09e4d12c7a4e31a65d119b342dbf1"



---

archive/issue_comments_347300.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-04T16:40:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347300",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_347301.json:
```json
{
    "body": "<a id='comment:6'></a>I made the suggested changes and all tests have passed.",
    "created_at": "2015-11-04T16:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347301",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

<a id='comment:6'></a>I made the suggested changes and all tests have passed.



---

archive/issue_comments_347302.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-11-04T16:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347302",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_347303.json:
```json
{
    "body": "Changing branch from \"u/ssolhjem/19395\" to \"u/kdilks/19395\"",
    "created_at": "2015-11-04T17:38:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347303",
    "user": "https://github.com/kevindilks"
}
```

Changing branch from "u/ssolhjem/19395" to "u/kdilks/19395"



---

archive/issue_comments_347304.json:
```json
{
    "body": "Changing commit from \"22d38d0e56e09e4d12c7a4e31a65d119b342dbf1\" to \"d2d18c8110c6c224ffba2c85c95166d4068d2af4\"",
    "created_at": "2015-11-04T17:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347304",
    "user": "https://github.com/kevindilks"
}
```

Changing commit from "22d38d0e56e09e4d12c7a4e31a65d119b342dbf1" to "d2d18c8110c6c224ffba2c85c95166d4068d2af4"



---

archive/issue_comments_347305.json:
```json
{
    "body": "<a id='comment:8'></a>Cleaned up the documentation a little bit. I also added a default parameter for `max_entry`.\n\n---\nNew commits:",
    "created_at": "2015-11-04T17:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347305",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:8'></a>Cleaned up the documentation a little bit. I also added a default parameter for `max_entry`.

---
New commits:



---

archive/issue_comments_347306.json:
```json
{
    "body": "<a id='comment:9'></a>* missing one blank line after `INPUT:`\n\n* `max_entry==None` should rather be `max_entry is None`",
    "created_at": "2015-11-04T17:59:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347306",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>* missing one blank line after `INPUT:`

* `max_entry==None` should rather be `max_entry is None`



---

archive/issue_comments_347307.json:
```json
{
    "body": "Changing commit from \"d2d18c8110c6c224ffba2c85c95166d4068d2af4\" to \"522807889d58e163696140bae0a0f40ff35d3c67\"",
    "created_at": "2015-12-02T16:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347307",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

Changing commit from "d2d18c8110c6c224ffba2c85c95166d4068d2af4" to "522807889d58e163696140bae0a0f40ff35d3c67"



---

archive/issue_comments_347308.json:
```json
{
    "body": "<a id='comment:10'></a>New commits:",
    "created_at": "2015-12-02T16:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347308",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

<a id='comment:10'></a>New commits:



---

archive/issue_comments_347309.json:
```json
{
    "body": "Changing branch from \"u/kdilks/19395\" to \"u/ssolhjem/signmatrix\"",
    "created_at": "2015-12-02T16:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347309",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

Changing branch from "u/kdilks/19395" to "u/ssolhjem/signmatrix"



---

archive/issue_comments_347310.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-02T17:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347310",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_347311.json:
```json
{
    "body": "Changing commit from \"522807889d58e163696140bae0a0f40ff35d3c67\" to \"e1814dbe539962dca73c767cd59c9d25f33dd579\"",
    "created_at": "2015-12-02T17:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347311",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "522807889d58e163696140bae0a0f40ff35d3c67" to "e1814dbe539962dca73c767cd59c9d25f33dd579"



---

archive/issue_comments_347312.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-12-02T18:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347312",
    "user": "https://github.com/kevindilks"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_347313.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-12-02T19:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347313",
    "user": "https://github.com/tscrim"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_347314.json:
```json
{
    "body": "<a id='comment:13'></a>One minor thing: `'m \\times n'` should be ``m \\times n``.",
    "created_at": "2015-12-02T19:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347314",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>One minor thing: `'m \times n'` should be ``m \times n``.



---

archive/issue_comments_347315.json:
```json
{
    "body": "Changing commit from \"e1814dbe539962dca73c767cd59c9d25f33dd579\" to \"3d34120abc4103c481247d4fcef79b28c3956f97\"",
    "created_at": "2015-12-05T22:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347315",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e1814dbe539962dca73c767cd59c9d25f33dd579" to "3d34120abc4103c481247d4fcef79b28c3956f97"



---

archive/issue_comments_347316.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-05T22:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_347317.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-12-05T22:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347317",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_347318.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-12-05T22:11:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347318",
    "user": "https://github.com/kevindilks"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_347319.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-12-07T17:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347319",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_053617.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-07T17:27:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19395#event-53617"
}
```



---

archive/issue_comments_347320.json:
```json
{
    "body": "Changing branch from \"u/ssolhjem/signmatrix\" to \"3d34120abc4103c481247d4fcef79b28c3956f97\"",
    "created_at": "2015-12-07T17:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19395#issuecomment-347320",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/ssolhjem/signmatrix" to "3d34120abc4103c481247d4fcef79b28c3956f97"
