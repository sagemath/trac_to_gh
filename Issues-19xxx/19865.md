# Issue 19865: Added functionality to compute zeta functions of nondegenerate hypersurfaces over finite fields

archive/issues_019628.json:
```json
{
    "body": "As part of his Ph.D. thesis, Malcolm Kotok implemented a function to compute zeta functions of nondegenerate hypersurfaces over finite fields, based on a paper of Sperber and Voight. We wish to incorporate this into Sage. For more information see: http://arxiv.org/abs/1112.4881\n\nCC:  malcolmkotok ursula @kedlaya\n\nKeywords: zeta, p-adic, L-function, sd87, sd91\n\nBranch: [public/ticket/19865](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/19865)\n\nAuthor: Heidi Goodson, Malcolm Kotok, Renate Scheidler, Mckenzie West, Ursula Whitcher\n\nStatus: new\n\nCommit: f6f615f4677ff62a429369e743f229f2b5d65d7d\n\nIssue created by migration from https://trac.sagemath.org/ticket/19865\n\n",
    "created_at": "2016-01-11T19:23:31Z",
    "labels": [
        "component: number theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Added functionality to compute zeta functions of nondegenerate hypersurfaces over finite fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19865",
    "user": "https://trac.sagemath.org/admin/accounts/users/malcolmkotok"
}
```
As part of his Ph.D. thesis, Malcolm Kotok implemented a function to compute zeta functions of nondegenerate hypersurfaces over finite fields, based on a paper of Sperber and Voight. We wish to incorporate this into Sage. For more information see: http://arxiv.org/abs/1112.4881

CC:  malcolmkotok ursula @kedlaya

Keywords: zeta, p-adic, L-function, sd87, sd91

Branch: [public/ticket/19865](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/19865)

Author: Heidi Goodson, Malcolm Kotok, Renate Scheidler, Mckenzie West, Ursula Whitcher

Status: new

Commit: f6f615f4677ff62a429369e743f229f2b5d65d7d

Issue created by migration from https://trac.sagemath.org/ticket/19865





---

archive/issue_comments_361030.json:
```json
{
    "body": "Changing author from \"\" to \"Malcolm Kotok\"",
    "created_at": "2016-01-11T22:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361030",
    "user": "https://trac.sagemath.org/admin/accounts/users/malcolmkotok"
}
```

Changing author from "" to "Malcolm Kotok"



---

archive/issue_comments_361031.json:
```json
{
    "body": "<a id='comment:2'></a>\nThere is also a project by Costa, Harvey, and myself to do a different computation of zeta functions of nondegenerate toric hypersurfaces, using Monsky-Washnitzer cohomology in place of Dwork's series method. It's not yet clear how these two methods will compare (the Sperber-Voight method is optimized towards sparse hypersurfaces somewhat more than our approach), so it would be valuable to have both!",
    "created_at": "2016-03-27T20:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361031",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:2'></a>
There is also a project by Costa, Harvey, and myself to do a different computation of zeta functions of nondegenerate toric hypersurfaces, using Monsky-Washnitzer cohomology in place of Dwork's series method. It's not yet clear how these two methods will compare (the Sperber-Voight method is optimized towards sparse hypersurfaces somewhat more than our approach), so it would be valuable to have both!



---

archive/issue_comments_361032.json:
```json
{
    "body": "<a id='comment:3'></a>\nNote also ticket #15239 regarding testing for nondegeneracy, which might be worth dealing with first.",
    "created_at": "2016-04-05T02:49:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361032",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:3'></a>
Note also ticket #15239 regarding testing for nondegeneracy, which might be worth dealing with first.



---

archive/issue_comments_361033.json:
```json
{
    "body": "Changing keywords from \"zeta, p-adic, L-function\" to \"zeta, p-adic, L-function, sd87\".",
    "created_at": "2017-07-17T17:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361033",
    "user": "https://github.com/roed314"
}
```

Changing keywords from "zeta, p-adic, L-function" to "zeta, p-adic, L-function, sd87".



---

archive/issue_comments_361034.json:
```json
{
    "body": "<a id='comment:5'></a>\nFor (my own) convenience, the link to the code is http://hdl.handle.net/1802/30832.\n\nRelated projects: #20265, #23863.",
    "created_at": "2017-09-23T04:17:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361034",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:5'></a>
For (my own) convenience, the link to the code is http://hdl.handle.net/1802/30832.

Related projects: #20265, #23863.



---

archive/issue_comments_361035.json:
```json
{
    "body": "Changing keywords from \"zeta, p-adic, L-function, sd87\" to \"zeta, p-adic, L-function, sd87, sd91\".",
    "created_at": "2017-09-26T03:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361035",
    "user": "https://github.com/kedlaya"
}
```

Changing keywords from "zeta, p-adic, L-function, sd87" to "zeta, p-adic, L-function, sd87, sd91".



---

archive/issue_comments_361036.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-As part of my Ph.D. thesis I am implementing a function to compute zeta functions of nondegenerate hypersurfaces over finite fields. I wish to incorporate this into Sage. For more information see: http://arxiv.org/abs/1112.4881\n+As part of his Ph.D. thesis, Malcolm Kotok implemented a function to compute zeta functions of nondegenerate hypersurfaces over finite fields, based on a paper of Sperber and Voight. We wish to incorporate this into Sage. For more information see: http://arxiv.org/abs/1112.4881\n``````\n",
    "created_at": "2017-09-30T22:00:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361036",
    "user": "https://trac.sagemath.org/admin/accounts/users/ursula"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-As part of my Ph.D. thesis I am implementing a function to compute zeta functions of nondegenerate hypersurfaces over finite fields. I wish to incorporate this into Sage. For more information see: http://arxiv.org/abs/1112.4881
+As part of his Ph.D. thesis, Malcolm Kotok implemented a function to compute zeta functions of nondegenerate hypersurfaces over finite fields, based on a paper of Sperber and Voight. We wish to incorporate this into Sage. For more information see: http://arxiv.org/abs/1112.4881
``````




---

archive/issue_comments_361037.json:
```json
{
    "body": "Changing author from \"Malcolm Kotok\" to \"Heidi Goodson, Malcolm Kotok, Renate Scheidler, Mckenzie West, Ursula Whitcher\"",
    "created_at": "2017-09-30T22:00:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361037",
    "user": "https://trac.sagemath.org/admin/accounts/users/ursula"
}
```

Changing author from "Malcolm Kotok" to "Heidi Goodson, Malcolm Kotok, Renate Scheidler, Mckenzie West, Ursula Whitcher"



---

archive/issue_comments_361038.json:
```json
{
    "body": "<a id='comment:8'></a>\nI tried this code about a year ago and it seemed to have some serious problems like it not finishing for a plane quartic curve over F_p (for any p). I wrote to Kotok about this, but never heard back from him. It could be some trivial issue, but it is hard to say.",
    "created_at": "2017-10-10T14:25:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361038",
    "user": "https://trac.sagemath.org/admin/accounts/users/jantuitman"
}
```

<a id='comment:8'></a>
I tried this code about a year ago and it seemed to have some serious problems like it not finishing for a plane quartic curve over F_p (for any p). I wrote to Kotok about this, but never heard back from him. It could be some trivial issue, but it is hard to say.



---

archive/issue_comments_361039.json:
```json
{
    "body": "<a id='comment:9'></a>\nMy understanding is that some successful experiments with the code were made at SD91. Maybe someone can push the result to trac so that the rest of us can help with stress-testing?",
    "created_at": "2017-10-11T05:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361039",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:9'></a>
My understanding is that some successful experiments with the code were made at SD91. Maybe someone can push the result to trac so that the rest of us can help with stress-testing?



---

archive/issue_comments_361040.json:
```json
{
    "body": "<a id='comment:10'></a>\nOk, here is what I'm talking about:\n\n\n```\nload(\"ffzeta.sage\");\nR.<x,y>=PolynomialRing(ZZ,2);\n\n# does work:\nQ=y^2-(x^3+x+1); p=13;\nffzeta(Q,p,verbose=True);\n\n# does not work:\nQ=y^4+(5*x-4)*y^3+(3*x^2+2*x-3)*y^2+(x^3+4*x^2-2*x+3)*y+(3*x^4-2*x^3-4*x^2+2*x+2); p=11;\nffzeta(Q,p,verbose=True);\n\n```",
    "created_at": "2017-10-11T09:49:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361040",
    "user": "https://trac.sagemath.org/admin/accounts/users/jantuitman"
}
```

<a id='comment:10'></a>
Ok, here is what I'm talking about:


```
load("ffzeta.sage");
R.<x,y>=PolynomialRing(ZZ,2);

# does work:
Q=y^2-(x^3+x+1); p=13;
ffzeta(Q,p,verbose=True);

# does not work:
Q=y^4+(5*x-4)*y^3+(3*x^2+2*x-3)*y^2+(x^3+4*x^2-2*x+3)*y+(3*x^4-2*x^3-4*x^2+2*x+2); p=11;
ffzeta(Q,p,verbose=True);

```



---

archive/issue_comments_361041.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe Sperber-Voight algorithm being implemented here has as a complexity parameter the number of interior monomials, so it probably doesn't stand much of a chance for dense equations (although descending it from Sage to Cython might help near the borderline).\n\nFor smooth projective hypersurfaces, we also have tickets #20265 (deformation) and #23863 (controlled reduction). For nondegenerate toric hypersurfaces, Edgar Costa has functioning C code doing controlled reduction, but I believe it is not yet available for public consumption.",
    "created_at": "2017-10-11T14:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361041",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:11'></a>
The Sperber-Voight algorithm being implemented here has as a complexity parameter the number of interior monomials, so it probably doesn't stand much of a chance for dense equations (although descending it from Sage to Cython might help near the borderline).

For smooth projective hypersurfaces, we also have tickets #20265 (deformation) and #23863 (controlled reduction). For nondegenerate toric hypersurfaces, Edgar Costa has functioning C code doing controlled reduction, but I believe it is not yet available for public consumption.



---

archive/issue_comments_361042.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mwest/ticket_19865\"",
    "created_at": "2017-10-20T14:30:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361042",
    "user": "https://github.com/mckenziewest"
}
```

Changing branch from "" to "u/mwest/ticket_19865"



---

archive/issue_comments_361043.json:
```json
{
    "body": "<a id='comment:13'></a>\nWe have some debugging to make this a method for polynomials.  There are definitely errors in the computation in the multivariate example at the beginning of the function.\n\n---\nNew commits:\n|                                                                                                                                          |                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|\n|[30f7aef](https://github.com/sagemath/sagetrac-mirror/commit/30f7aef1afb9d61bbb1d381aecf7ec6200e238ea)|`New function zeta_function has been added to multi_polynomial`|\n|[c6c8c8e](https://github.com/sagemath/sagetrac-mirror/commit/c6c8c8ec15cb66e6dd7833e4366450cc7777bb88)|`Kotok code added, zeta_function is a method of polynomials`|",
    "created_at": "2017-10-20T14:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361043",
    "user": "https://github.com/mckenziewest"
}
```

<a id='comment:13'></a>
We have some debugging to make this a method for polynomials.  There are definitely errors in the computation in the multivariate example at the beginning of the function.

---
New commits:
|                                                                                                                                          |                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
|[30f7aef](https://github.com/sagemath/sagetrac-mirror/commit/30f7aef1afb9d61bbb1d381aecf7ec6200e238ea)|`New function zeta_function has been added to multi_polynomial`|
|[c6c8c8e](https://github.com/sagemath/sagetrac-mirror/commit/c6c8c8ec15cb66e6dd7833e4366450cc7777bb88)|`Kotok code added, zeta_function is a method of polynomials`|



---

archive/issue_comments_361044.json:
```json
{
    "body": "Changing commit from \"\" to \"c6c8c8ec15cb66e6dd7833e4366450cc7777bb88\"",
    "created_at": "2017-10-20T14:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361044",
    "user": "https://github.com/mckenziewest"
}
```

Changing commit from "" to "c6c8c8ec15cb66e6dd7833e4366450cc7777bb88"



---

archive/issue_events_061743.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-10-08T14:13:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61743"
}
```



---

archive/issue_comments_361045.json:
```json
{
    "body": "Changing branch from \"u/mwest/ticket_19865\" to \"public/ticket/19865\"",
    "created_at": "2019-10-08T14:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361045",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/mwest/ticket_19865" to "public/ticket/19865"



---

archive/issue_comments_361046.json:
```json
{
    "body": "Changing commit from \"c6c8c8ec15cb66e6dd7833e4366450cc7777bb88\" to \"250c90003667a48409fb377bc6f1fafe09fa715c\"",
    "created_at": "2019-10-08T14:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361046",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "c6c8c8ec15cb66e6dd7833e4366450cc7777bb88" to "250c90003667a48409fb377bc6f1fafe09fa715c"



---

archive/issue_comments_361047.json:
```json
{
    "body": "<a id='comment:14'></a>\nNew commits:\n|                                                                                                                                          |                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|\n|[2422fb1](https://github.com/sagemath/sagetrac-mirror/commit/2422fb1816b3f72cec9d111583eab01f3629b4c4)|`New function zeta_function has been added to multi_polynomial`|\n|[250c900](https://github.com/sagemath/sagetrac-mirror/commit/250c90003667a48409fb377bc6f1fafe09fa715c)|`Kotok code added, zeta_function is a method of polynomials`|",
    "created_at": "2019-10-08T14:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361047",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
New commits:
|                                                                                                                                          |                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
|[2422fb1](https://github.com/sagemath/sagetrac-mirror/commit/2422fb1816b3f72cec9d111583eab01f3629b4c4)|`New function zeta_function has been added to multi_polynomial`|
|[250c900](https://github.com/sagemath/sagetrac-mirror/commit/250c90003667a48409fb377bc6f1fafe09fa715c)|`Kotok code added, zeta_function is a method of polynomials`|



---

archive/issue_comments_361048.json:
```json
{
    "body": "Changing commit from \"250c90003667a48409fb377bc6f1fafe09fa715c\" to \"85b7c2720d3617273e4abe94453988296e5e266e\"",
    "created_at": "2019-10-08T15:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361048",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "250c90003667a48409fb377bc6f1fafe09fa715c" to "85b7c2720d3617273e4abe94453988296e5e266e"



---

archive/issue_comments_361049.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|\n|[365349c](https://github.com/sagemath/sagetrac-mirror/commit/365349ccfd5cf80451f238eb94fe9cd10a605396)|`Kotok code added, zeta_function is a method of polynomials`|\n|[015104f](https://github.com/sagemath/sagetrac-mirror/commit/015104f327aef58fb3bd3ffd7e0ef0de10ccfa84)|`details`|\n|[85b7c27](https://github.com/sagemath/sagetrac-mirror/commit/85b7c2720d3617273e4abe94453988296e5e266e)|`moving to another file`|",
    "created_at": "2019-10-08T15:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361049",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|
|[365349c](https://github.com/sagemath/sagetrac-mirror/commit/365349ccfd5cf80451f238eb94fe9cd10a605396)|`Kotok code added, zeta_function is a method of polynomials`|
|[015104f](https://github.com/sagemath/sagetrac-mirror/commit/015104f327aef58fb3bd3ffd7e0ef0de10ccfa84)|`details`|
|[85b7c27](https://github.com/sagemath/sagetrac-mirror/commit/85b7c2720d3617273e4abe94453988296e5e266e)|`moving to another file`|



---

archive/issue_comments_361050.json:
```json
{
    "body": "Changing commit from \"85b7c2720d3617273e4abe94453988296e5e266e\" to \"f6f615f4677ff62a429369e743f229f2b5d65d7d\"",
    "created_at": "2019-10-08T15:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361050",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "85b7c2720d3617273e4abe94453988296e5e266e" to "f6f615f4677ff62a429369e743f229f2b5d65d7d"



---

archive/issue_comments_361051.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------|\n|[f6f615f](https://github.com/sagemath/sagetrac-mirror/commit/f6f615f4677ff62a429369e743f229f2b5d65d7d)|`details`|",
    "created_at": "2019-10-08T15:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |         |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------|
|[f6f615f](https://github.com/sagemath/sagetrac-mirror/commit/f6f615f4677ff62a429369e743f229f2b5d65d7d)|`details`|



---

archive/issue_comments_361052.json:
```json
{
    "body": "<a id='comment:17'></a>\nMaybe this could be saved ?",
    "created_at": "2019-10-08T16:11:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361052",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>
Maybe this could be saved ?



---

archive/issue_comments_361053.json:
```json
{
    "body": "<a id='comment:18'></a>\nJust tried this and there is still something wrong:\n\n```\nFile \"src/sage/rings/polynomial/multi_polynomial.pyx\", line 2494, in sage.rings.polynomial.multi_polynomial.MPolynomial.zeta_function\nFailed example:\n    (x^3+x+1-y^2).zeta_function(7)\nExpected:\n    (7*T^7 - 17*T^6 + 14*T^5 - 12*T^4 + 18*T^3 - 14*T^2 + 5*T - 1)/(7*T - 1)\nGot:\n    (-3*T^4 + 2*T^3 + 4*T^2 - 2*T - 1)/(7*T - 1)\n```\nI was not one of the people working on this at sd91, so I wouldn't know what the issue is.",
    "created_at": "2019-12-16T00:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361053",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:18'></a>
Just tried this and there is still something wrong:

```
File "src/sage/rings/polynomial/multi_polynomial.pyx", line 2494, in sage.rings.polynomial.multi_polynomial.MPolynomial.zeta_function
Failed example:
    (x^3+x+1-y^2).zeta_function(7)
Expected:
    (7*T^7 - 17*T^6 + 14*T^5 - 12*T^4 + 18*T^3 - 14*T^2 + 5*T - 1)/(7*T - 1)
Got:
    (-3*T^4 + 2*T^3 + 4*T^2 - 2*T - 1)/(7*T - 1)
```
I was not one of the people working on this at sd91, so I wouldn't know what the issue is.



---

archive/issue_comments_361054.json:
```json
{
    "body": "<a id='comment:19'></a>\nTicket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361054",
    "user": "https://github.com/embray"
}
```

<a id='comment:19'></a>
Ticket retargeted after milestone closed



---

archive/issue_events_061744.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61744"
}
```



---

archive/issue_events_061745.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61745"
}
```



---

archive/issue_comments_361055.json:
```json
{
    "body": "<a id='comment:20'></a>\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361055",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_061746.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61746"
}
```



---

archive/issue_events_061747.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61747"
}
```



---

archive/issue_comments_361056.json:
```json
{
    "body": "<a id='comment:21'></a>\nStill not sure what is going on here. This passage in `zeta_function.py` is nonsensical:\n\n```\n            # Reduce remaining part\n            meta = Gm.parent()(m * eta[i])\n            x_i = Gm.parent()(x[i])\n            Gmbar = -sum([x_i * meta.derivative(x_i) for i in range(n + 1)])\n```\nbut fixing it doesn't have any effect on the doctests (the terms in the sum are all zero anyway).\n\nAnother data point: the ratio of the answers with `affine=True` and `affine=False` is not correct either.",
    "created_at": "2020-08-14T21:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361056",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:21'></a>
Still not sure what is going on here. This passage in `zeta_function.py` is nonsensical:

```
            # Reduce remaining part
            meta = Gm.parent()(m * eta[i])
            x_i = Gm.parent()(x[i])
            Gmbar = -sum([x_i * meta.derivative(x_i) for i in range(n + 1)])
```
but fixing it doesn't have any effect on the doctests (the terms in the sum are all zero anyway).

Another data point: the ratio of the answers with `affine=True` and `affine=False` is not correct either.



---

archive/issue_events_061748.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61748"
}
```



---

archive/issue_events_061749.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61749"
}
```



---

archive/issue_events_061750.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61750"
}
```



---

archive/issue_events_061751.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61751"
}
```



---

archive/issue_comments_361057.json:
```json
{
    "body": "<a id='comment:23'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-361057",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_061752.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61752"
}
```



---

archive/issue_events_061753.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61753"
}
```



---

archive/issue_events_061754.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61754"
}
```



---

archive/issue_events_061755.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61755"
}
```



---

archive/issue_events_061756.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T04:32:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61756"
}
```



---

archive/issue_events_061757.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T04:32:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61757"
}
```



---

archive/issue_events_061758.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T16:33:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61758"
}
```



---

archive/issue_events_061759.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T16:33:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-61759"
}
```
