# Issue 19819: Update to pynac-0.6.0

archive/issues_019582.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nChanges vs 0.5.3:\n* fix expansion of `abs(power)` (#19797)\n* fix a wrong function option with `zeta/zeta2` (#19799)\n* fix wrong formula for `tan(...).imag()` (#19791)\n* fix `mpq_pythonhash` (#19310)\n* change hash type to `long` (#19310)\n* expand `exp(m/n*pi*I)` with trig functions if they can be expanded (#19738)\n* start changing libtool version with each release\n* performance: in `exp_eval` check for `Pi` and `I` before trying to divide\n* performance: much less canonicalizations of GMP rationals\n* performance: cache pseries coeff accesses in `pseries::mul_series`\n* performance: `GinacFunction`s for `cot/acot`\n* C++11: add `override` where possible\n\nhttps://github.com/pynac/pynac/releases/download/pynac-0.6.0/pynac-0.6.0.tar.bz2\n\nComponent: **packages: standard**\n\nAuthor: **Ralf Stephan**\n\nBranch/Commit: **[`33a4faa`](https://github.com/sagemath/sagetrac-mirror/commit/33a4faab1ff70d2d3b2f0d3f61248a61bae57149)**\n\nReviewer: **Jeroen Demeyer, Ralf Stephan**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19819_\n\n",
    "closed_at": "2016-01-07T22:40:58Z",
    "created_at": "2016-01-01T16:40:52Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update to pynac-0.6.0",
    "type": "issue",
    "updated_at": "2016-01-07T22:40:58Z",
    "url": "https://github.com/sagemath/sage/issues/19819",
    "user": "https://github.com/rwst"
}
```
<div id="comment:0"></div>

Changes vs 0.5.3:
* fix expansion of `abs(power)` (#19797)
* fix a wrong function option with `zeta/zeta2` (#19799)
* fix wrong formula for `tan(...).imag()` (#19791)
* fix `mpq_pythonhash` (#19310)
* change hash type to `long` (#19310)
* expand `exp(m/n*pi*I)` with trig functions if they can be expanded (#19738)
* start changing libtool version with each release
* performance: in `exp_eval` check for `Pi` and `I` before trying to divide
* performance: much less canonicalizations of GMP rationals
* performance: cache pseries coeff accesses in `pseries::mul_series`
* performance: `GinacFunction`s for `cot/acot`
* C++11: add `override` where possible

https://github.com/pynac/pynac/releases/download/pynac-0.6.0/pynac-0.6.0.tar.bz2

Component: **packages: standard**

Author: **Ralf Stephan**

Branch/Commit: **[`33a4faa`](https://github.com/sagemath/sagetrac-mirror/commit/33a4faab1ff70d2d3b2f0d3f61248a61bae57149)**

Reviewer: **Jeroen Demeyer, Ralf Stephan**

_Issue created by migration from https://trac.sagemath.org/ticket/19819_





---

archive/issue_events_277747.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-01T16:40:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277747"
}
```



---

archive/issue_events_277748.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-01T16:40:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277748"
}
```



---

archive/issue_events_277749.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-01T16:40:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277749"
}
```



---

archive/issue_events_277750.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-01T16:40:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277750"
}
```



---

archive/issue_comments_283153.json:
```json
{
    "body": "Replying to [@rwst](https://github.com/sagemath/sage/issues/19819#comment:0):\n> * change hash type to `int64_t` (#19310)\n\nWhy `int64_t`? The type should be `long`.",
    "created_at": "2016-01-01T17:50:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283153",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [@rwst](https://github.com/sagemath/sage/issues/19819#comment:0):
> * change hash type to `int64_t` (#19310)

Why `int64_t`? The type should be `long`.



---

archive/issue_comments_283154.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nReplying to [@jdemeyer](#comment%3A1):\n> Replying to [@rwst](https://github.com/sagemath/sage/issues/19819#comment:0):\n> > * change hash type to `int64_t` (#19310)\n> \n> \n> Why `int64_t`? The type should be `long`.\n\n`long` doesn't guarantee anything in term of width. If you want something that is 64bit wide, you better be explicit about it. The `C` standard is rather annoying when it comes to variable size, especially `long` types - unless I missed something in a newer version of the standard.",
    "created_at": "2016-01-01T22:25:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283154",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:2" align="right">comment:2</div>

Replying to [@jdemeyer](#comment%3A1):
> Replying to [@rwst](https://github.com/sagemath/sage/issues/19819#comment:0):
> > * change hash type to `int64_t` (#19310)
> 
> 
> Why `int64_t`? The type should be `long`.

`long` doesn't guarantee anything in term of width. If you want something that is 64bit wide, you better be explicit about it. The `C` standard is rather annoying when it comes to variable size, especially `long` types - unless I missed something in a newer version of the standard.



---

archive/issue_comments_283155.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@kiwifb](#comment%3A2):\n> If you want something that is 64bit wide\n\nWe don't.",
    "created_at": "2016-01-01T22:47:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283155",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@kiwifb](#comment%3A2):
> If you want something that is 64bit wide

We don't.



---

archive/issue_comments_283156.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@jdemeyer](#comment%3A3):\n> Replying to [@kiwifb](#comment%3A2):\n> > If you want something that is 64bit wide\n> \n> We don't.\n\nYou will get doctest fails (#19310) on 32-bit.",
    "created_at": "2016-01-02T06:32:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283156",
    "user": "https://github.com/rwst"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@jdemeyer](#comment%3A3):
> Replying to [@kiwifb](#comment%3A2):
> > If you want something that is 64bit wide
> 
> We don't.

You will get doctest fails (#19310) on 32-bit.



---

archive/issue_comments_283157.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAnd if you don't care about 32bit: `int64_t` is typedefed to `long` on 64bit. I won't rewrite this just because you don't like the look of `int64_t`.",
    "created_at": "2016-01-02T07:42:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283157",
    "user": "https://github.com/rwst"
}
```

<div id="comment:5" align="right">comment:5</div>

And if you don't care about 32bit: `int64_t` is typedefed to `long` on 64bit. I won't rewrite this just because you don't like the look of `int64_t`.



---

archive/issue_comments_283158.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@rwst](#comment%3A5):\n> And if you don't care about 32bit\n\nI care about 32 bit and about 64 bit.\n\n> I won't rewrite this just because you don't like the look of `int64_t`.\n\nI don't think you need to rewrite anything. A simple search-and-replace `int64_t` -> `long` would probably work.",
    "created_at": "2016-01-02T09:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283158",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@rwst](#comment%3A5):
> And if you don't care about 32bit

I care about 32 bit and about 64 bit.

> I won't rewrite this just because you don't like the look of `int64_t`.

I don't think you need to rewrite anything. A simple search-and-replace `int64_t` -> `long` would probably work.



---

archive/issue_comments_283159.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@rwst](#comment%3A4):\n> You will get doctest fails (#19310) on 32-bit.\n\nI don't understand this, can you elaborate?",
    "created_at": "2016-01-02T09:05:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283159",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@rwst](#comment%3A4):
> You will get doctest fails (#19310) on 32-bit.

I don't understand this, can you elaborate?



---

archive/issue_comments_283160.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n\n```\nsage: hash(SR(2^32))\n0\n```\nThis will be the result on 32bit if I use `long` and so pickles won't be usable on 64bit.",
    "created_at": "2016-01-02T09:22:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283160",
    "user": "https://github.com/rwst"
}
```

<div id="comment:8" align="right">comment:8</div>


```
sage: hash(SR(2^32))
0
```
This will be the result on 32bit if I use `long` and so pickles won't be usable on 64bit.



---

archive/issue_comments_283161.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@rwst](#comment%3A8):\n> so pickles won't be usable on 64bit.\n\nWhat has hashing to do with pickling?",
    "created_at": "2016-01-02T09:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283161",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@rwst](#comment%3A8):
> so pickles won't be usable on 64bit.

What has hashing to do with pickling?



---

archive/issue_comments_283162.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@rwst](#comment%3A8):\n> \n> ```\n> sage: hash(SR(2^32))\n> 0\n> ```\n> This will be the result on 32bit if I use `long`\n\nThat's also what the result *should* be on 32 bit. Are you implying that this is somehow wrong?",
    "created_at": "2016-01-02T09:29:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283162",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@rwst](#comment%3A8):
> 
> ```
> sage: hash(SR(2^32))
> 0
> ```
> This will be the result on 32bit if I use `long`

That's also what the result *should* be on 32 bit. Are you implying that this is somehow wrong?



---

archive/issue_comments_283163.json:
```json
{
    "body": "Branch: **[u/rws/19819-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-1)**",
    "created_at": "2016-01-02T09:40:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283163",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/19819-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-1)**



---

archive/issue_comments_283164.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI always love this. So that corrects some misunderstanding with me, many thanks. Before I do the next release could you please have a look at the branch? I'm sure I have made more mistakes.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea6a8fac59921b69c8e9caede213a697064e5494\"><code>ea6a8fa</code></a></td><td><code>proposed changes because of pynac-0.5.4</code></td></tr></table>\n",
    "created_at": "2016-01-02T09:40:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283164",
    "user": "https://github.com/rwst"
}
```

<div id="comment:12" align="right">comment:12</div>

I always love this. So that corrects some misunderstanding with me, many thanks. Before I do the next release could you please have a look at the branch? I'm sure I have made more mistakes.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea6a8fac59921b69c8e9caede213a697064e5494"><code>ea6a8fa</code></a></td><td><code>proposed changes because of pynac-0.5.4</code></td></tr></table>




---

archive/issue_comments_283165.json:
```json
{
    "body": "Commit: **[`ea6a8fa`](https://github.com/sagemath/sagetrac-mirror/commit/ea6a8fac59921b69c8e9caede213a697064e5494)**",
    "created_at": "2016-01-02T09:40:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283165",
    "user": "https://github.com/rwst"
}
```

Commit: **[`ea6a8fa`](https://github.com/sagemath/sagetrac-mirror/commit/ea6a8fac59921b69c8e9caede213a697064e5494)**



---

archive/issue_comments_283166.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThis is certainly right:\n\n```\n            sage: hash(SR(19/23)) == hash(19/23)\n            True\n            sage: hash(SR(2^32)) == hash(ZZ(2^32))\n            True\n```\nand it's exactly the reason why you want `hash(SR(2^32)) == 0` on 32-bit.",
    "created_at": "2016-01-02T09:55:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283166",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

This is certainly right:

```
            sage: hash(SR(19/23)) == hash(19/23)
            True
            sage: hash(SR(2^32)) == hash(ZZ(2^32))
            True
```
and it's exactly the reason why you want `hash(SR(2^32)) == 0` on 32-bit.



---

archive/issue_comments_283167.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI don't really understand the doctest changes of the form\n\n```diff\n-        sage: QQbar(e^(pi*I/3))\n+        sage: QQbar(exp(pi*I/3, hold=True))\n```",
    "created_at": "2016-01-02T09:56:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283167",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

I don't really understand the doctest changes of the form

```diff
-        sage: QQbar(e^(pi*I/3))
+        sage: QQbar(exp(pi*I/3, hold=True))
```



---

archive/issue_comments_283168.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nNor this one:\n\n```diff\n-        sage: N(integrate(sin(x^2)/(x^2), x, 1, infinity))\n-        0.285736646322853\n+        sage: N(integrate(sin(x^2)/(x^2), x, 1, infinity), prec=40)\n+        0.28573664632\n```",
    "created_at": "2016-01-02T09:58:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283168",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Nor this one:

```diff
-        sage: N(integrate(sin(x^2)/(x^2), x, 1, infinity))
-        0.285736646322853
+        sage: N(integrate(sin(x^2)/(x^2), x, 1, infinity), prec=40)
+        0.28573664632
```



---

archive/issue_comments_283169.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI would keep this doctest and mark it as `# not implemented` (it's a case where the original simplification was safe to do).\n\n```diff\n             sage: a,b = var('a b', domain='real')\n             sage: A = abs((a+I*b))^2\n-            sage: A.canonicalize_radical()\n-            a^2 + b^2\n```",
    "created_at": "2016-01-02T10:03:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283169",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

I would keep this doctest and mark it as `# not implemented` (it's a case where the original simplification was safe to do).

```diff
             sage: a,b = var('a b', domain='real')
             sage: A = abs((a+I*b))^2
-            sage: A.canonicalize_radical()
-            a^2 + b^2
```



---

archive/issue_comments_283170.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nLike I already said, this should be `long`:\n\n```\nint64_t gethash()\n```",
    "created_at": "2016-01-02T10:04:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283170",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

Like I already said, this should be `long`:

```
int64_t gethash()
```



---

archive/issue_comments_283171.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThat's it on first sight.\n\nBy the way, I think that this should be pynac-0.6.0 instead of pynax-0.5.4.",
    "created_at": "2016-01-02T10:18:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283171",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

That's it on first sight.

By the way, I think that this should be pynac-0.6.0 instead of pynax-0.5.4.



---

archive/issue_comments_283172.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@jdemeyer](#comment%3A14):\n> I don't really understand the doctest changes of the form\n> \n> ```diff\n> -        sage: QQbar(e^(pi*I/3))\n> +        sage: QQbar(exp(pi*I/3, hold=True))\n> ```\n\nThese I did mindlessly to preserve the result:\n\n```\nFailed example:\n    QQbar(e^(pi*I/3))\nExpected:\n    0.500000000000000? + 0.866025403784439?*I\nGot:\n    0.50000000000000000? + 0.866025403784439?*I\n```\nThis one cannot be fixed otherwise:\n\n```\nFailed example:\n    a.composition(exp(I*pi/3), exp)\nException raised:\n      File \"/home/ralf/sage/local/lib/python2.7/site-packages/sage/symbolic/expression_conversions.py\", line 866, in composition\n        operand, = ex.operands()\n    ValueError: too many values to unpack\n```\n\nReplying to [@jdemeyer](#comment%3A15):\n> Nor this one:\n> \n> ```diff\n> -        sage: N(integrate(sin(x^2)/(x^2), x, 1, infinity))\n> -        0.285736646322853\n> +        sage: N(integrate(sin(x^2)/(x^2), x, 1, infinity), prec=40)\n> +        0.28573664632\n> ```\n\nHow do you let the original succeed? Attempts with tolerance didn't work:\n\n```\nsage: N(integrate(sin(x^2)/(x^2), x, 1, infinity))\n0.285736646322853 + 6.93889390390723e-18*I\n```\n\n> By the way, I think that this should be pynac-0.6.0 instead of pynax-0.5.4.\n\nBecause of the interface change or the amount of changes?",
    "created_at": "2016-01-02T13:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283172",
    "user": "https://github.com/rwst"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@jdemeyer](#comment%3A14):
> I don't really understand the doctest changes of the form
> 
> ```diff
> -        sage: QQbar(e^(pi*I/3))
> +        sage: QQbar(exp(pi*I/3, hold=True))
> ```

These I did mindlessly to preserve the result:

```
Failed example:
    QQbar(e^(pi*I/3))
Expected:
    0.500000000000000? + 0.866025403784439?*I
Got:
    0.50000000000000000? + 0.866025403784439?*I
```
This one cannot be fixed otherwise:

```
Failed example:
    a.composition(exp(I*pi/3), exp)
Exception raised:
      File "/home/ralf/sage/local/lib/python2.7/site-packages/sage/symbolic/expression_conversions.py", line 866, in composition
        operand, = ex.operands()
    ValueError: too many values to unpack
```

Replying to [@jdemeyer](#comment%3A15):
> Nor this one:
> 
> ```diff
> -        sage: N(integrate(sin(x^2)/(x^2), x, 1, infinity))
> -        0.285736646322853
> +        sage: N(integrate(sin(x^2)/(x^2), x, 1, infinity), prec=40)
> +        0.28573664632
> ```

How do you let the original succeed? Attempts with tolerance didn't work:

```
sage: N(integrate(sin(x^2)/(x^2), x, 1, infinity))
0.285736646322853 + 6.93889390390723e-18*I
```

> By the way, I think that this should be pynac-0.6.0 instead of pynax-0.5.4.

Because of the interface change or the amount of changes?



---

archive/issue_comments_283173.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@rwst](#comment%3A19):\n> These I did mindlessly to preserve the result:\n\nI think it's better to keep the test and change the result. That would be a more effective test.\n\n> > By the way, I think that this should be pynac-0.6.0 instead of pynax-0.5.4.\n> \n> Because of the interface change or the amount of changes?\n\nBecause of backward-incompatible changes.",
    "created_at": "2016-01-02T14:03:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283173",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@rwst](#comment%3A19):
> These I did mindlessly to preserve the result:

I think it's better to keep the test and change the result. That would be a more effective test.

> > By the way, I think that this should be pynac-0.6.0 instead of pynax-0.5.4.
> 
> Because of the interface change or the amount of changes?

Because of backward-incompatible changes.



---

archive/issue_comments_283174.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@rwst](#comment%3A19):\n> \n> ```\n> sage: N(integrate(sin(x^2)/(x^2), x, 1, infinity))\n> 0.285736646322853 + 6.93889390390723e-18*I\n> ```\n\nThat's clearly a bug. You should **never** change a test in order to hide a bug. If you cannot make it work, use `# known bug` for this.",
    "created_at": "2016-01-02T14:07:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283174",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@rwst](#comment%3A19):
> 
> ```
> sage: N(integrate(sin(x^2)/(x^2), x, 1, infinity))
> 0.285736646322853 + 6.93889390390723e-18*I
> ```

That's clearly a bug. You should **never** change a test in order to hide a bug. If you cannot make it work, use `# known bug` for this.



---

archive/issue_events_277751.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-02T15:57:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277751"
}
```



---

archive/issue_events_277752.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-02T15:57:32Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "title_is": "Update to pynac-0.6.0",
    "title_was": "Update to pynac-0.5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277752"
}
```



---

archive/issue_comments_283175.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2016-01-02T15:57:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283175",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_comments_283176.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,9 @@\n-New in 0.5.4:\n+Changes vs 0.5.3:\n * fix expansion of `abs(power)` (#19797)\n * fix a wrong function option with `zeta/zeta2` (#19799)\n * fix wrong formula for `tan(...).imag()` (#19791)\n * fix `mpq_pythonhash` (#19310)\n-* change hash type to `int64_t` (#19310)\n+* change hash type to `long` (#19310)\n * expand `exp(m/n*pi*I)` with trig functions if they can be expanded (#19738)\n * start changing libtool version with each release\n * performance: in `exp_eval` check for `Pi` and `I` before trying to divide\n@@ -12,4 +12,4 @@\n * performance: `GinacFunction`s for `cot/acot`\n * C++11: add `override` where possible\n \n-https://github.com/pynac/pynac/releases/download/pynac-0.5.4/pynac-0.5.4.tar.bz2\n+https://github.com/pynac/pynac/releases/download/pynac-0.6.0/pynac-0.6.0.tar.bz2\n``````\n",
    "created_at": "2016-01-02T15:57:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283176",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,9 @@
-New in 0.5.4:
+Changes vs 0.5.3:
 * fix expansion of `abs(power)` (#19797)
 * fix a wrong function option with `zeta/zeta2` (#19799)
 * fix wrong formula for `tan(...).imag()` (#19791)
 * fix `mpq_pythonhash` (#19310)
-* change hash type to `int64_t` (#19310)
+* change hash type to `long` (#19310)
 * expand `exp(m/n*pi*I)` with trig functions if they can be expanded (#19738)
 * start changing libtool version with each release
 * performance: in `exp_eval` check for `Pi` and `I` before trying to divide
@@ -12,4 +12,4 @@
 * performance: `GinacFunction`s for `cot/acot`
 * C++11: add `override` where possible
 
-https://github.com/pynac/pynac/releases/download/pynac-0.5.4/pynac-0.5.4.tar.bz2
+https://github.com/pynac/pynac/releases/download/pynac-0.6.0/pynac-0.6.0.tar.bz2
``````




---

archive/issue_comments_283177.json:
```json
{
    "body": "Changed branch from **[u/rws/19819-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-1)** to **[u/rws/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-2)**",
    "created_at": "2016-01-02T15:57:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283177",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/19819-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-1)** to **[u/rws/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-2)**



---

archive/issue_comments_283178.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@jdemeyer](#comment%3A21):\n> That's clearly a bug. You should **never** change a test in order to hide a bug. If you cannot make it work, use `# known bug` for this.\n\nTiny detail: you should keep the correct output (without imag part).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b42c7642ad846b26a645e211e01a0f59e493a7f\"><code>2b42c76</code></a></td><td><code>pynac-0.6.0 pkg version/chksum, symbolic interface, cot/acot, doctest changes</code></td></tr></table>\n",
    "created_at": "2016-01-02T16:25:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283178",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@jdemeyer](#comment%3A21):
> That's clearly a bug. You should **never** change a test in order to hide a bug. If you cannot make it work, use `# known bug` for this.

Tiny detail: you should keep the correct output (without imag part).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b42c7642ad846b26a645e211e01a0f59e493a7f"><code>2b42c76</code></a></td><td><code>pynac-0.6.0 pkg version/chksum, symbolic interface, cot/acot, doctest changes</code></td></tr></table>




---

archive/issue_comments_283179.json:
```json
{
    "body": "Changed commit from **[`ea6a8fa`](https://github.com/sagemath/sagetrac-mirror/commit/ea6a8fac59921b69c8e9caede213a697064e5494)** to **[`2b42c76`](https://github.com/sagemath/sagetrac-mirror/commit/2b42c7642ad846b26a645e211e01a0f59e493a7f)**",
    "created_at": "2016-01-02T16:25:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283179",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`ea6a8fa`](https://github.com/sagemath/sagetrac-mirror/commit/ea6a8fac59921b69c8e9caede213a697064e5494)** to **[`2b42c76`](https://github.com/sagemath/sagetrac-mirror/commit/2b42c7642ad846b26a645e211e01a0f59e493a7f)**



---

archive/issue_comments_283180.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bd89e6e3be2a94223762a62374c87e0570403b2\"><code>4bd89e6</code></a></td><td><code>restore original doctest</code></td></tr></table>\n",
    "created_at": "2016-01-02T16:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283180",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bd89e6e3be2a94223762a62374c87e0570403b2"><code>4bd89e6</code></a></td><td><code>restore original doctest</code></td></tr></table>




---

archive/issue_comments_283181.json:
```json
{
    "body": "Changed commit from **[`2b42c76`](https://github.com/sagemath/sagetrac-mirror/commit/2b42c7642ad846b26a645e211e01a0f59e493a7f)** to **[`4bd89e6`](https://github.com/sagemath/sagetrac-mirror/commit/4bd89e6e3be2a94223762a62374c87e0570403b2)**",
    "created_at": "2016-01-02T16:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283181",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2b42c76`](https://github.com/sagemath/sagetrac-mirror/commit/2b42c7642ad846b26a645e211e01a0f59e493a7f)** to **[`4bd89e6`](https://github.com/sagemath/sagetrac-mirror/commit/4bd89e6e3be2a94223762a62374c87e0570403b2)**



---

archive/issue_comments_283182.json:
```json
{
    "body": "Changed branch from **[u/rws/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-2)** to **[u/jdemeyer/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/19819-2)**",
    "created_at": "2016-01-03T12:35:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283182",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/rws/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-2)** to **[u/jdemeyer/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/19819-2)**



---

archive/issue_comments_283183.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26af24d62b9c8ba4cdf1ce7f6406887f1c000262\"><code>26af24d</code></a></td><td><code>Minor pynac fixes</code></td></tr></table>\n",
    "created_at": "2016-01-03T12:36:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283183",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26af24d62b9c8ba4cdf1ce7f6406887f1c000262"><code>26af24d</code></a></td><td><code>Minor pynac fixes</code></td></tr></table>




---

archive/issue_comments_283184.json:
```json
{
    "body": "Changed commit from **[`4bd89e6`](https://github.com/sagemath/sagetrac-mirror/commit/4bd89e6e3be2a94223762a62374c87e0570403b2)** to **[`26af24d`](https://github.com/sagemath/sagetrac-mirror/commit/26af24d62b9c8ba4cdf1ce7f6406887f1c000262)**",
    "created_at": "2016-01-03T12:36:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283184",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`4bd89e6`](https://github.com/sagemath/sagetrac-mirror/commit/4bd89e6e3be2a94223762a62374c87e0570403b2)** to **[`26af24d`](https://github.com/sagemath/sagetrac-mirror/commit/26af24d62b9c8ba4cdf1ce7f6406887f1c000262)**



---

archive/issue_comments_283185.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2016-01-03T12:36:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283185",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_283186.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI am currently testing this on 32-bit. If that passes and you are happy with my last commit, then this is good to go.",
    "created_at": "2016-01-03T12:43:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283186",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

I am currently testing this on 32-bit. If that passes and you are happy with my last commit, then this is good to go.



---

archive/issue_comments_283187.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nThe changes are fine.",
    "created_at": "2016-01-03T13:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283187",
    "user": "https://github.com/rwst"
}
```

<div id="comment:29" align="right">comment:29</div>

The changes are fine.



---

archive/issue_comments_283188.json:
```json
{
    "body": "Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, Ralf Stephan**",
    "created_at": "2016-01-03T13:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283188",
    "user": "https://github.com/rwst"
}
```

Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, Ralf Stephan**



---

archive/issue_comments_283189.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nOn 32-bit:\n\n```\nsage -t --long --warn-long 133.0 src/sage/functions/other.py\n**********************************************************************\nFile \"src/sage/functions/other.py\", line 1684, in sage.functions.other.Function_beta.__init__\nFailed example:\n    beta(x/2,3)\nExpected:\n    beta(3, 1/2*x)\nGot:\n    beta(1/2*x, 3)\n**********************************************************************\n```\nand\n\n```\nsage -t --long --warn-long 133.0 src/sage/symbolic/expression.pyx\n**********************************************************************\nFile \"src/sage/symbolic/expression.pyx\", line 11113, in sage.symbolic.expression.Expression._plot_fast_callable\nFailed example:\n    b\nExpected:\n    10201.0\nGot:\n    10200.999999999998\n**********************************************************************\n```",
    "created_at": "2016-01-03T18:22:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283189",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

On 32-bit:

```
sage -t --long --warn-long 133.0 src/sage/functions/other.py
**********************************************************************
File "src/sage/functions/other.py", line 1684, in sage.functions.other.Function_beta.__init__
Failed example:
    beta(x/2,3)
Expected:
    beta(3, 1/2*x)
Got:
    beta(1/2*x, 3)
**********************************************************************
```
and

```
sage -t --long --warn-long 133.0 src/sage/symbolic/expression.pyx
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 11113, in sage.symbolic.expression.Expression._plot_fast_callable
Failed example:
    b
Expected:
    10201.0
Got:
    10200.999999999998
**********************************************************************
```



---

archive/issue_events_277753.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-03T18:22:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277753"
}
```



---

archive/issue_events_277754.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-03T18:22:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277754"
}
```



---

archive/issue_comments_283190.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae48eff1a88f8b7118674e662b625944f6b3d518\"><code>ae48eff</code></a></td><td><code>Doctest fixes for 32-bit</code></td></tr></table>\n",
    "created_at": "2016-01-03T19:04:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283190",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae48eff1a88f8b7118674e662b625944f6b3d518"><code>ae48eff</code></a></td><td><code>Doctest fixes for 32-bit</code></td></tr></table>




---

archive/issue_comments_283191.json:
```json
{
    "body": "Changed commit from **[`26af24d`](https://github.com/sagemath/sagetrac-mirror/commit/26af24d62b9c8ba4cdf1ce7f6406887f1c000262)** to **[`ae48eff`](https://github.com/sagemath/sagetrac-mirror/commit/ae48eff1a88f8b7118674e662b625944f6b3d518)**",
    "created_at": "2016-01-03T19:04:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283191",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`26af24d`](https://github.com/sagemath/sagetrac-mirror/commit/26af24d62b9c8ba4cdf1ce7f6406887f1c000262)** to **[`ae48eff`](https://github.com/sagemath/sagetrac-mirror/commit/ae48eff1a88f8b7118674e662b625944f6b3d518)**



---

archive/issue_events_277755.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-03T19:13:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277755"
}
```



---

archive/issue_events_277756.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-03T19:13:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277756"
}
```



---

archive/issue_comments_283192.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nFor me, this is good to go now.",
    "created_at": "2016-01-03T19:13:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283192",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

For me, this is good to go now.



---

archive/issue_events_277757.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-04T07:48:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277757"
}
```



---

archive/issue_events_277758.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-04T07:48:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277758"
}
```



---

archive/issue_comments_283193.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThanks!",
    "created_at": "2016-01-04T07:48:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283193",
    "user": "https://github.com/rwst"
}
```

<div id="comment:34" align="right">comment:34</div>

Thanks!



---

archive/issue_events_277759.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-04T17:29:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277759"
}
```



---

archive/issue_events_277760.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-04T17:29:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277760"
}
```



---

archive/issue_comments_283194.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\non OSX:\n\n```\nsage -t --long src/sage/functions/trig.py\n**********************************************************************\nFile \"src/sage/functions/trig.py\", line 618, in sage.functions.trig.Function_arccot.__init__\nFailed example:\n    RDF(arccot(1/2))\nExpected:\n    1.1071487177940904\nGot:\n    1.1071487177940906\n**********************************************************************\n1 item had failures:\n   1 of  11 in sage.functions.trig.Function_arccot.__init__\n    [209 tests, 1 failure, 2.88 s]\n```",
    "created_at": "2016-01-04T17:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283194",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:35" align="right">comment:35</div>

on OSX:

```
sage -t --long src/sage/functions/trig.py
**********************************************************************
File "src/sage/functions/trig.py", line 618, in sage.functions.trig.Function_arccot.__init__
Failed example:
    RDF(arccot(1/2))
Expected:
    1.1071487177940904
Got:
    1.1071487177940906
**********************************************************************
1 item had failures:
   1 of  11 in sage.functions.trig.Function_arccot.__init__
    [209 tests, 1 failure, 2.88 s]
```



---

archive/issue_comments_283195.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nThe actual value is `1.10714871779409050301` so on Linux it isn't right either. I'm not a FP expert, I guess that changing to `...905` and allowing some tolerance should suffice.",
    "created_at": "2016-01-05T07:58:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283195",
    "user": "https://github.com/rwst"
}
```

<div id="comment:36" align="right">comment:36</div>

The actual value is `1.10714871779409050301` so on Linux it isn't right either. I'm not a FP expert, I guess that changing to `...905` and allowing some tolerance should suffice.



---

archive/issue_comments_283196.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/19819-2)** to **[u/rws/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-2)**",
    "created_at": "2016-01-05T08:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283196",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/jdemeyer/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/19819-2)** to **[u/rws/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-2)**



---

archive/issue_comments_283197.json:
```json
{
    "body": "Changed commit from **[`ae48eff`](https://github.com/sagemath/sagetrac-mirror/commit/ae48eff1a88f8b7118674e662b625944f6b3d518)** to **[`e02457e`](https://github.com/sagemath/sagetrac-mirror/commit/e02457e7799d5a5518d27ab64c4809917969843b)**",
    "created_at": "2016-01-05T08:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283197",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[`ae48eff`](https://github.com/sagemath/sagetrac-mirror/commit/ae48eff1a88f8b7118674e662b625944f6b3d518)** to **[`e02457e`](https://github.com/sagemath/sagetrac-mirror/commit/e02457e7799d5a5518d27ab64c4809917969843b)**



---

archive/issue_events_277761.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-05T08:06:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277761"
}
```



---

archive/issue_events_277762.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-05T08:06:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277762"
}
```



---

archive/issue_comments_283198.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e02457e7799d5a5518d27ab64c4809917969843b\"><code>e02457e</code></a></td><td><code>allow tol because of OSX difference</code></td></tr></table>\n",
    "created_at": "2016-01-05T08:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283198",
    "user": "https://github.com/rwst"
}
```

<div id="comment:38"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e02457e7799d5a5518d27ab64c4809917969843b"><code>e02457e</code></a></td><td><code>allow tol because of OSX difference</code></td></tr></table>




---

archive/issue_comments_283199.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nDoesn't seem to work.",
    "created_at": "2016-01-05T08:11:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283199",
    "user": "https://github.com/rwst"
}
```

<div id="comment:39" align="right">comment:39</div>

Doesn't seem to work.



---

archive/issue_events_277763.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-05T08:20:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277763"
}
```



---

archive/issue_events_277764.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-05T08:20:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277764"
}
```



---

archive/issue_comments_283200.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI have no idea why changing `abs/rel`, `1e-14/2e-16`, or adding tabs won't work.",
    "created_at": "2016-01-05T08:20:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283200",
    "user": "https://github.com/rwst"
}
```

<div id="comment:40" align="right">comment:40</div>

I have no idea why changing `abs/rel`, `1e-14/2e-16`, or adding tabs won't work.



---

archive/issue_comments_283201.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI also cannot pull Jeroen's patches into my branch with `git trac pull u/jdemeyer/19819-2` so I set the branch back to his.\n\nEDIT: ok the pull works now\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26af24d62b9c8ba4cdf1ce7f6406887f1c000262\"><code>26af24d</code></a></td><td><code>Minor pynac fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae48eff1a88f8b7118674e662b625944f6b3d518\"><code>ae48eff</code></a></td><td><code>Doctest fixes for 32-bit</code></td></tr></table>\n",
    "created_at": "2016-01-05T08:24:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283201",
    "user": "https://github.com/rwst"
}
```

<div id="comment:41" align="right">comment:41</div>

I also cannot pull Jeroen's patches into my branch with `git trac pull u/jdemeyer/19819-2` so I set the branch back to his.

EDIT: ok the pull works now

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26af24d62b9c8ba4cdf1ce7f6406887f1c000262"><code>26af24d</code></a></td><td><code>Minor pynac fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae48eff1a88f8b7118674e662b625944f6b3d518"><code>ae48eff</code></a></td><td><code>Doctest fixes for 32-bit</code></td></tr></table>




---

archive/issue_comments_283202.json:
```json
{
    "body": "Changed branch from **[u/rws/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-2)** to **[u/jdemeyer/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/19819-2)**",
    "created_at": "2016-01-05T08:24:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283202",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-2)** to **[u/jdemeyer/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/19819-2)**



---

archive/issue_comments_283203.json:
```json
{
    "body": "Changed commit from **[`e02457e`](https://github.com/sagemath/sagetrac-mirror/commit/e02457e7799d5a5518d27ab64c4809917969843b)** to **[`ae48eff`](https://github.com/sagemath/sagetrac-mirror/commit/ae48eff1a88f8b7118674e662b625944f6b3d518)**",
    "created_at": "2016-01-05T08:24:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283203",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[`e02457e`](https://github.com/sagemath/sagetrac-mirror/commit/e02457e7799d5a5518d27ab64c4809917969843b)** to **[`ae48eff`](https://github.com/sagemath/sagetrac-mirror/commit/ae48eff1a88f8b7118674e662b625944f6b3d518)**



---

archive/issue_comments_283204.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nI'll look into the tolerance.",
    "created_at": "2016-01-05T09:01:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283204",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:42" align="right">comment:42</div>

I'll look into the tolerance.



---

archive/issue_comments_283205.json:
```json
{
    "body": "Changed commit from **[`ae48eff`](https://github.com/sagemath/sagetrac-mirror/commit/ae48eff1a88f8b7118674e662b625944f6b3d518)** to **[`5ea3457`](https://github.com/sagemath/sagetrac-mirror/commit/5ea3457f5d8459610cc5e0d1547a32c0682e6179)**",
    "created_at": "2016-01-05T09:15:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283205",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ae48eff`](https://github.com/sagemath/sagetrac-mirror/commit/ae48eff1a88f8b7118674e662b625944f6b3d518)** to **[`5ea3457`](https://github.com/sagemath/sagetrac-mirror/commit/5ea3457f5d8459610cc5e0d1547a32c0682e6179)**



---

archive/issue_comments_283206.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ea3457f5d8459610cc5e0d1547a32c0682e6179\"><code>5ea3457</code></a></td><td><code>allow tol because of OSX difference</code></td></tr></table>\n",
    "created_at": "2016-01-05T09:15:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283206",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ea3457f5d8459610cc5e0d1547a32c0682e6179"><code>5ea3457</code></a></td><td><code>allow tol because of OSX difference</code></td></tr></table>




---

archive/issue_events_277765.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-05T09:16:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277765"
}
```



---

archive/issue_events_277766.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-05T09:16:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277766"
}
```



---

archive/issue_comments_283207.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nThe `# abs tol` should be on the doctest line, not on the result line.",
    "created_at": "2016-01-05T09:16:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283207",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:44" align="right">comment:44</div>

The `# abs tol` should be on the doctest line, not on the result line.



---

archive/issue_comments_283208.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nThanks. One could argue the doctest consists of both lines but...",
    "created_at": "2016-01-05T10:03:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283208",
    "user": "https://github.com/rwst"
}
```

<div id="comment:45" align="right">comment:45</div>

Thanks. One could argue the doctest consists of both lines but...



---

archive/issue_comments_283209.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nI also found this with the previous version some machine, its unlikely to be fixed in the latest commit but I'm running it right now anyways:\n\n```\nsage -t --long src/sage/functions/other.py\n**********************************************************************\nFile \"src/sage/functions/other.py\", line 1684, in sage.functions.other.Function_beta.__init__\nFailed example:\n    beta(x/2,3)\nExpected:\n    beta(1/2*x, 3)  \nGot:\n    beta(3, 1/2*x)\n**********************************************************************\nFile \"src/sage/functions/other.py\", line 1691, in sage.functions.other.Function_beta.__init__\nFailed example:\n    beta(3,x+I)\nExpected:\n    beta(3, x + I)\nGot:\n    beta(x + I, 3)\n**********************************************************************\n1 item had failures:\n   2 of  16 in sage.functions.other.Function_beta.__init__\n    [491 tests, 2 failures, 16.51 s]\n```",
    "created_at": "2016-01-06T00:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283209",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:46" align="right">comment:46</div>

I also found this with the previous version some machine, its unlikely to be fixed in the latest commit but I'm running it right now anyways:

```
sage -t --long src/sage/functions/other.py
**********************************************************************
File "src/sage/functions/other.py", line 1684, in sage.functions.other.Function_beta.__init__
Failed example:
    beta(x/2,3)
Expected:
    beta(1/2*x, 3)  
Got:
    beta(3, 1/2*x)
**********************************************************************
File "src/sage/functions/other.py", line 1691, in sage.functions.other.Function_beta.__init__
Failed example:
    beta(3,x+I)
Expected:
    beta(3, x + I)
Got:
    beta(x + I, 3)
**********************************************************************
1 item had failures:
   2 of  16 in sage.functions.other.Function_beta.__init__
    [491 tests, 2 failures, 16.51 s]
```



---

archive/issue_comments_283210.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nWhile it would certainly be interesting but difficult to find out why this happens, it might also be an idea to write the doctests in a way that ignores order, like using sets.",
    "created_at": "2016-01-06T06:13:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283210",
    "user": "https://github.com/rwst"
}
```

<div id="comment:47" align="right">comment:47</div>

While it would certainly be interesting but difficult to find out why this happens, it might also be an idea to write the doctests in a way that ignores order, like using sets.



---

archive/issue_comments_283211.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@rwst](#comment%3A47):\n> While it would certainly be interesting but difficult to find out why this happens\n\nI think it has to do with hashes. Something like `beta(a, b)` gets reordered such that `hash(a) < hash(b)`.",
    "created_at": "2016-01-06T08:35:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283211",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@rwst](#comment%3A47):
> While it would certainly be interesting but difficult to find out why this happens

I think it has to do with hashes. Something like `beta(a, b)` gets reordered such that `hash(a) < hash(b)`.



---

archive/issue_comments_283212.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI guess ginac orders the beta arguments, which probably makes numerical sense but not with symbolic arguments. Really it should only sort arguments if they are numeric, though thats a minor bug. I'm also fine with just fixing up the doctests.",
    "created_at": "2016-01-06T09:13:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283212",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:49" align="right">comment:49</div>

I guess ginac orders the beta arguments, which probably makes numerical sense but not with symbolic arguments. Really it should only sort arguments if they are numeric, though thats a minor bug. I'm also fine with just fixing up the doctests.



---

archive/issue_events_277767.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-06T12:04:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277767"
}
```



---

archive/issue_events_277768.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-06T12:04:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277768"
}
```



---

archive/issue_comments_283213.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nLog files please...",
    "created_at": "2016-01-06T12:27:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283213",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:51" align="right">comment:51</div>

Log files please...



---

archive/issue_comments_283214.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nhttp://build.sagedev.org/release/builders/%20%20slow%20AIMS%20bu1510_32s02%20%28Ubuntu%2015.10%2032%20bit%29%20incremental/builds/41/steps/shell_4/logs/stdio",
    "created_at": "2016-01-06T12:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283214",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:52" align="right">comment:52</div>

http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20bu1510_32s02%20%28Ubuntu%2015.10%2032%20bit%29%20incremental/builds/41/steps/shell_4/logs/stdio



---

archive/issue_comments_283215.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nhttp://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20%28Ubuntu%2012.10%29%20incremental/builds/410/steps/shell_4/logs/stdio",
    "created_at": "2016-01-06T12:51:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283215",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:53" align="right">comment:53</div>

http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20%28Ubuntu%2012.10%29%20incremental/builds/410/steps/shell_4/logs/stdio



---

archive/issue_comments_283216.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/19819-2)** to **[u/rws/19819-3](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-3)**",
    "created_at": "2016-01-06T13:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283216",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/jdemeyer/19819-2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/19819-2)** to **[u/rws/19819-3](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-3)**



---

archive/issue_events_277769.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-06T13:47:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277769"
}
```



---

archive/issue_events_277770.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-01-06T13:47:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277770"
}
```



---

archive/issue_comments_283217.json:
```json
{
    "body": "Changed commit from **[`5ea3457`](https://github.com/sagemath/sagetrac-mirror/commit/5ea3457f5d8459610cc5e0d1547a32c0682e6179)** to **[`33a4faa`](https://github.com/sagemath/sagetrac-mirror/commit/33a4faab1ff70d2d3b2f0d3f61248a61bae57149)**",
    "created_at": "2016-01-06T13:47:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283217",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[`5ea3457`](https://github.com/sagemath/sagetrac-mirror/commit/5ea3457f5d8459610cc5e0d1547a32c0682e6179)** to **[`33a4faa`](https://github.com/sagemath/sagetrac-mirror/commit/33a4faab1ff70d2d3b2f0d3f61248a61bae57149)**



---

archive/issue_comments_283218.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nThis would be the order-independence solution. \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33a4faab1ff70d2d3b2f0d3f61248a61bae57149\"><code>33a4faa</code></a></td><td><code>19819: make beta function doctests order-independent</code></td></tr></table>\n",
    "created_at": "2016-01-06T13:47:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283218",
    "user": "https://github.com/rwst"
}
```

<div id="comment:55" align="right">comment:55</div>

This would be the order-independence solution. 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33a4faab1ff70d2d3b2f0d3f61248a61bae57149"><code>33a4faa</code></a></td><td><code>19819: make beta function doctests order-independent</code></td></tr></table>




---

archive/issue_events_277771.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-06T13:49:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277771"
}
```



---

archive/issue_events_277772.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-06T13:49:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277772"
}
```



---

archive/issue_comments_283219.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nI just looked into this a bit more and the re-ordering of `beta(a,b)` indeed depends on the hashes of `a` and `b`. Unfortunately, the hashes of expressions are random. So, in the case of\n\n```\nbeta(1/2*x, 3)\n```\nwe know that `hash(3) = 3` but the value of `hash(1/2*x)` is just random.",
    "created_at": "2016-01-06T15:14:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283219",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:57" align="right">comment:57</div>

I just looked into this a bit more and the re-ordering of `beta(a,b)` indeed depends on the hashes of `a` and `b`. Unfortunately, the hashes of expressions are random. So, in the case of

```
beta(1/2*x, 3)
```
we know that `hash(3) = 3` but the value of `hash(1/2*x)` is just random.



---

archive/issue_comments_283220.json:
```json
{
    "body": "Changed branch from **[u/rws/19819-3](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-3)** to **[`33a4faa`](https://github.com/sagemath/sagetrac-mirror/commit/33a4faab1ff70d2d3b2f0d3f61248a61bae57149)**",
    "created_at": "2016-01-07T22:40:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19819#issuecomment-283220",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/rws/19819-3](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19819-3)** to **[`33a4faa`](https://github.com/sagemath/sagetrac-mirror/commit/33a4faab1ff70d2d3b2f0d3f61248a61bae57149)**



---

archive/issue_events_277773.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-07T22:40:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277773"
}
```



---

archive/issue_events_277774.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "10815f5f61e20919c644ff9db42150c58c42671d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-01-07T22:40:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19819",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19819#event-277774"
}
```
