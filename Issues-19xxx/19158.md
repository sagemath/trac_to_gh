# Issue 19158: Undo the breaking of old-style packages

archive/issues_018921.json:
```json
{
    "body": "Ticket #19004 has the very user-unfriendly consequence that all old-style packages are effectively gone:\n\n```\n$ ./sage -i chomp\nAttempting to download package chomp\nError: could not find a package matching chomp\n       Try 'sage --package list' to see the available packages\n       Did you mean: csdp, gmp, cbc, cmake, cvxopt?\n```\n\nInstead of removing support for old-style packages, we should deprecate them.\n\nCC:  @nathanncohen @vbraun @jhpalmieri\n\nBranch/Commit: [3dda7044efe3c1aa9fac340dda0ce82ec9abc509](https://github.com/sagemath/sagetrac-mirror/commit/3dda7044efe3c1aa9fac340dda0ce82ec9abc509)\n\nReviewer: Travis Scrimshaw\n\nAuthor: Jeroen Demeyer\n\nDependencies: #19101\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19158\n\n",
    "closed_at": "2015-09-16T18:31:29Z",
    "created_at": "2015-09-07T20:28:29Z",
    "labels": [
        "component: scripts",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "Undo the breaking of old-style packages",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19158",
    "user": "https://github.com/jdemeyer"
}
```
Ticket #19004 has the very user-unfriendly consequence that all old-style packages are effectively gone:

```
$ ./sage -i chomp
Attempting to download package chomp
Error: could not find a package matching chomp
       Try 'sage --package list' to see the available packages
       Did you mean: csdp, gmp, cbc, cmake, cvxopt?
```

Instead of removing support for old-style packages, we should deprecate them.

CC:  @nathanncohen @vbraun @jhpalmieri

Branch/Commit: [3dda7044efe3c1aa9fac340dda0ce82ec9abc509](https://github.com/sagemath/sagetrac-mirror/commit/3dda7044efe3c1aa9fac340dda0ce82ec9abc509)

Reviewer: Travis Scrimshaw

Author: Jeroen Demeyer

Dependencies: #19101

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19158





---

archive/issue_comments_345243.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#19101\"",
    "created_at": "2015-09-07T20:29:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345243",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "" to "#19101"



---

archive/issue_comments_345244.json:
```json
{
    "body": "<a id='comment:2'></a>\nIMHO the only thing that needs to be done is make chomp a new-style package.\n\nThe mixture of old and new packages has always been broken. Let it die. We can support old packages as legacy but not mash it up with new packages in an utterly confusing manner to users.",
    "created_at": "2015-09-07T21:21:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345244",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'></a>
IMHO the only thing that needs to be done is make chomp a new-style package.

The mixture of old and new packages has always been broken. Let it die. We can support old packages as legacy but not mash it up with new packages in an utterly confusing manner to users.



---

archive/issue_comments_345245.json:
```json
{
    "body": "<a id='comment:3'></a>\n1. There has been no deprecation at all for this, which really goes against Sage's 1-year deprecation policy. You cannot just break user's work flows like this.\n\n2. Old-style packages still appear in various places in the documentation:\n\n- Various places document `sage -i chomp` (or other old-style packages)\n- `sage --optional` shows both new-style and old-style packages\n- We even have a page in the developer documentation about creating old-style packages.",
    "created_at": "2015-09-08T06:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345245",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>
1. There has been no deprecation at all for this, which really goes against Sage's 1-year deprecation policy. You cannot just break user's work flows like this.

2. Old-style packages still appear in various places in the documentation:

- Various places document `sage -i chomp` (or other old-style packages)
- `sage --optional` shows both new-style and old-style packages
- We even have a page in the developer documentation about creating old-style packages.



---

archive/issue_comments_345246.json:
```json
{
    "body": "<a id='comment:4'></a>\n1. There is no deprecation period for fixing bugs.\n2. The documentation should be fixed (Often we should just point people towards pip; Suggesting some ancient unmaintained spkg is yet another bug in itself)",
    "created_at": "2015-09-08T07:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345246",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'></a>
1. There is no deprecation period for fixing bugs.
2. The documentation should be fixed (Often we should just point people towards pip; Suggesting some ancient unmaintained spkg is yet another bug in itself)



---

archive/issue_comments_345247.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [vbraun](#comment%3A4):\n> 1. There is no deprecation period for fixing bugs.\n  \nThe fact that `sage -i chomp` used to install `chomp` is a bug??",
    "created_at": "2015-09-08T07:36:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345247",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Replying to [vbraun](#comment%3A4):
> 1. There is no deprecation period for fixing bugs.
  
The fact that `sage -i chomp` used to install `chomp` is a bug??



---

archive/issue_comments_345248.json:
```json
{
    "body": "<a id='comment:6'></a>\nThat `sage -i python` used to install an ancient Python is a bug. That the undesirable behavior of silently installing ancient packages happened to be somewhat(1) desirable for chomp doesn't make it less of a bug.\n\n(1) The chomp spkg actually doesn't compile with modern gcc due to tighter C++ checking\n\n```\n../include/capd/matrixAlgorithms/floatMatrixAlgorithms.hpp:245:159: error: redeclaration of 'template<class MatrixType> int chomp::matrixAlgorithms::symMatrixDiagonalize(const MatrixType&, MatrixType&, typename MatrixType::ScalarType)' may not have default arguments [-fpermissive]\n int symMatrixDiagonalize(const MatrixType& A, MatrixType& D, typename MatrixType::ScalarType diagonalizingRelTolerance = typename MatrixType::ScalarType(1e-5))\n                                                                                                                                                               ^\n../include/capd/matrixAlgorithms/floatMatrixAlgorithms.hpp:326:177: error: redeclaration of 'template<class MatrixType> typename MatrixType::ScalarType chomp::matrixAlgorithms::spectralRadiusOfSymMatrix(const MatrixType&, typename MatrixType::ScalarType)' may not have default arguments [-fpermissive]\n```",
    "created_at": "2015-09-08T08:09:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345248",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>
That `sage -i python` used to install an ancient Python is a bug. That the undesirable behavior of silently installing ancient packages happened to be somewhat(1) desirable for chomp doesn't make it less of a bug.

(1) The chomp spkg actually doesn't compile with modern gcc due to tighter C++ checking

```
../include/capd/matrixAlgorithms/floatMatrixAlgorithms.hpp:245:159: error: redeclaration of 'template<class MatrixType> int chomp::matrixAlgorithms::symMatrixDiagonalize(const MatrixType&, MatrixType&, typename MatrixType::ScalarType)' may not have default arguments [-fpermissive]
 int symMatrixDiagonalize(const MatrixType& A, MatrixType& D, typename MatrixType::ScalarType diagonalizingRelTolerance = typename MatrixType::ScalarType(1e-5))
                                                                                                                                                               ^
../include/capd/matrixAlgorithms/floatMatrixAlgorithms.hpp:326:177: error: redeclaration of 'template<class MatrixType> typename MatrixType::ScalarType chomp::matrixAlgorithms::spectralRadiusOfSymMatrix(const MatrixType&, typename MatrixType::ScalarType)' may not have default arguments [-fpermissive]
```



---

archive/issue_comments_345249.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [vbraun](#comment%3A6):\n> That `sage -i python` used to install an ancient Python is a bug.\nAgreed. But #19004 wasn't the right fix.\n\n> That the undesirable behavior of silently installing ancient packages happened to be somewhat(1) desirable for chomp doesn't make it less of a bug.\n\nThis ticket isn't about `chomp` at all, I'm just using that package as one example of an old-style package.",
    "created_at": "2015-09-08T08:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345249",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>
Replying to [vbraun](#comment%3A6):
> That `sage -i python` used to install an ancient Python is a bug.
Agreed. But #19004 wasn't the right fix.

> That the undesirable behavior of silently installing ancient packages happened to be somewhat(1) desirable for chomp doesn't make it less of a bug.

This ticket isn't about `chomp` at all, I'm just using that package as one example of an old-style package.



---

archive/issue_comments_345250.json:
```json
{
    "body": "<a id='comment:8'></a>\nIMHO we should have removed old spkgs a long time ago. It was ok during the transition period but has been causing us constant pain since then. We are much better of with #19004 than without. For every old-style package that you might actually want to install I can name you ten that are going to get in the way if you accidentally install them.",
    "created_at": "2015-09-08T08:40:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345250",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>
IMHO we should have removed old spkgs a long time ago. It was ok during the transition period but has been causing us constant pain since then. We are much better of with #19004 than without. For every old-style package that you might actually want to install I can name you ten that are going to get in the way if you accidentally install them.



---

archive/issue_comments_345251.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [vbraun](#comment%3A8):\n> IMHO we should have removed old spkgs a long time ago.\n\nBut we didn't, so we are currently stuck with them.\n\n> It was ok during the transition period but has been causing us constant pain since then.\n\nMaybe, but like I said: #19004 isn't the solution. The solution is warning users that they are installing old-style packages with a proper deprecation warning.",
    "created_at": "2015-09-08T09:57:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345251",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
Replying to [vbraun](#comment%3A8):
> IMHO we should have removed old spkgs a long time ago.

But we didn't, so we are currently stuck with them.

> It was ok during the transition period but has been causing us constant pain since then.

Maybe, but like I said: #19004 isn't the solution. The solution is warning users that they are installing old-style packages with a proper deprecation warning.



---

archive/issue_comments_345252.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [jdemeyer](#comment%3A9):\n> Maybe, but like I said: #19004 isn't the solution. The solution is warning users that they are installing old-style packages with a proper deprecation warning.\n\n\nNo, the solution is to not install broken/deprecated packages. Or, rather, make it difficult enough so that nobody does it accidentally.",
    "created_at": "2015-09-08T10:20:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345252",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>
Replying to [jdemeyer](#comment%3A9):
> Maybe, but like I said: #19004 isn't the solution. The solution is warning users that they are installing old-style packages with a proper deprecation warning.


No, the solution is to not install broken/deprecated packages. Or, rather, make it difficult enough so that nobody does it accidentally.



---

archive/issue_comments_345253.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/ticket/19158\"",
    "created_at": "2015-09-08T11:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345253",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/ticket/19158"



---

archive/issue_comments_345254.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-09-08T11:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345254",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_345255.json:
```json
{
    "body": "Changing commit from \"\" to \"39f1e4d655ee4c1cc4a2f8de35f0790583c040f9\"",
    "created_at": "2015-09-08T11:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345255",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "39f1e4d655ee4c1cc4a2f8de35f0790583c040f9"



---

archive/issue_comments_345256.json:
```json
{
    "body": "<a id='comment:12'></a>\nNew commits:\n|                                                                                                                                          |                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[31ff6e7](https://github.com/sagemath/sagetrac-mirror/commit/31ff6e7884b7154077abf29c66ab81c9da37a515)|`Parse sage-spkg options in sage-spkg`|\n|[cb05746](https://github.com/sagemath/sagetrac-mirror/commit/cb05746662de891c8444009150962c1b2bfe941f)|`Add sage --location option to run sage-location`|\n|[e856a8e](https://github.com/sagemath/sagetrac-mirror/commit/e856a8e872282fe7f059900559f5e589f1b016aa)|`Change sage -i to install with dependencies`|\n|[e105028](https://github.com/sagemath/sagetrac-mirror/commit/e105028888e726fd08f72a9e386227b9abc65bea)|`Revert sage-spkg changes from Trac #19004`|\n|[39f1e4d](https://github.com/sagemath/sagetrac-mirror/commit/39f1e4d655ee4c1cc4a2f8de35f0790583c040f9)|`Deprecate old-style packages`|",
    "created_at": "2015-09-08T11:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345256",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
New commits:
|                                                                                                                                          |                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[31ff6e7](https://github.com/sagemath/sagetrac-mirror/commit/31ff6e7884b7154077abf29c66ab81c9da37a515)|`Parse sage-spkg options in sage-spkg`|
|[cb05746](https://github.com/sagemath/sagetrac-mirror/commit/cb05746662de891c8444009150962c1b2bfe941f)|`Add sage --location option to run sage-location`|
|[e856a8e](https://github.com/sagemath/sagetrac-mirror/commit/e856a8e872282fe7f059900559f5e589f1b016aa)|`Change sage -i to install with dependencies`|
|[e105028](https://github.com/sagemath/sagetrac-mirror/commit/e105028888e726fd08f72a9e386227b9abc65bea)|`Revert sage-spkg changes from Trac #19004`|
|[39f1e4d](https://github.com/sagemath/sagetrac-mirror/commit/39f1e4d655ee4c1cc4a2f8de35f0790583c040f9)|`Deprecate old-style packages`|



---

archive/issue_comments_345257.json:
```json
{
    "body": "Changing author from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2015-09-08T11:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345257",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "" to "Jeroen Demeyer"



---

archive/issue_comments_345258.json:
```json
{
    "body": "<a id='comment:13'></a>\nI'm against",
    "created_at": "2015-09-08T11:57:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345258",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'></a>
I'm against



---

archive/issue_comments_345259.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [vbraun](#comment%3A13):\n> I'm against\n\n\nWell, I am against #19004.\n\nIs there any compromise possible? A solution which still allows users to install old-style packages?",
    "created_at": "2015-09-08T11:59:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345259",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
Replying to [vbraun](#comment%3A13):
> I'm against


Well, I am against #19004.

Is there any compromise possible? A solution which still allows users to install old-style packages?



---

archive/issue_comments_345260.json:
```json
{
    "body": "<a id='comment:15'></a>\nYou can install old-style packages, they just aren't searched for. If you want to try to compile chomp just run e.g.\n\n```\nsage -f http://files.sagemath.org/spkg/optional/chomp-20130518.p1.spkg\n```",
    "created_at": "2015-09-08T20:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345260",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'></a>
You can install old-style packages, they just aren't searched for. If you want to try to compile chomp just run e.g.

```
sage -f http://files.sagemath.org/spkg/optional/chomp-20130518.p1.spkg
```



---

archive/issue_comments_345261.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [vbraun](#comment%3A15):\n> You can install old-style packages, they just aren't searched for.\n\n\nThat's \"you can\" for a very dubious value of \"can\". To users, it really looks like the package is completely gone.",
    "created_at": "2015-09-08T21:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345261",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
Replying to [vbraun](#comment%3A15):
> You can install old-style packages, they just aren't searched for.


That's "you can" for a very dubious value of "can". To users, it really looks like the package is completely gone.



---

archive/issue_comments_345262.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This is really really bad:\n+Ticket #19004 has the very user-unfriendly consequence that all old-style packages are effectively gone:\n \n ```\n $ ./sage -i chomp\n@@ -7,3 +7,5 @@\n        Try 'sage --package list' to see the available packages\n        Did you mean: csdp, gmp, cbc, cmake, cvxopt?\n ```\n+\n+Instead of removing support for old-style packages, we should deprecate them.\n``````\n",
    "created_at": "2015-09-08T21:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345262",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This is really really bad:
+Ticket #19004 has the very user-unfriendly consequence that all old-style packages are effectively gone:
 
 ```
 $ ./sage -i chomp
@@ -7,3 +7,5 @@
        Try 'sage --package list' to see the available packages
        Did you mean: csdp, gmp, cbc, cmake, cvxopt?
 ```
+
+Instead of removing support for old-style packages, we should deprecate them.
``````




---

archive/issue_comments_345263.json:
```json
{
    "body": "<a id='comment:18'></a>\nAnd thats good because they are either huge nuisances (like \"python\") or just broken.",
    "created_at": "2015-09-08T21:59:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345263",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>
And thats good because they are either huge nuisances (like "python") or just broken.



---

archive/issue_comments_345264.json:
```json
{
    "body": "<a id='comment:19'></a>\nWe obviously cannot resolve this here, so I'm writing to sage-devel.",
    "created_at": "2015-09-09T07:32:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345264",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
We obviously cannot resolve this here, so I'm writing to sage-devel.



---

archive/issue_comments_345265.json:
```json
{
    "body": "<a id='comment:20'></a>\nAs I said on #19105, you shouldn't search \"standard\" packages on-line.",
    "created_at": "2015-09-11T18:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345265",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:20'></a>
As I said on #19105, you shouldn't search "standard" packages on-line.



---

archive/issue_comments_345266.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [jhpalmieri](#comment%3A20):\n> As I said on #19105, you shouldn't search \"standard\" packages on-line.\n\nSure, that's an easy change (although not very relevant if we merge #19105).\n\nBut I'm confused by your comment. Does it imply you're in favour of this ticket now?",
    "created_at": "2015-09-11T21:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345266",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>
Replying to [jhpalmieri](#comment%3A20):
> As I said on #19105, you shouldn't search "standard" packages on-line.

Sure, that's an easy change (although not very relevant if we merge #19105).

But I'm confused by your comment. Does it imply you're in favour of this ticket now?



---

archive/issue_comments_345267.json:
```json
{
    "body": "<a id='comment:22'></a>\nI don't think I ever said I wasn't in favor of it. My last post on the sage-devel thread said, \"I could also be easily persuaded to (B) if we don't allow \"sage -i python\" to install the old python-2.5 package.\"",
    "created_at": "2015-09-11T22:26:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345267",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:22'></a>
I don't think I ever said I wasn't in favor of it. My last post on the sage-devel thread said, "I could also be easily persuaded to (B) if we don't allow "sage -i python" to install the old python-2.5 package."



---

archive/issue_comments_345268.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[efd2725](https://github.com/sagemath/sagetrac-mirror/commit/efd2725fda77a95bbb84998facced905c18ae1af)|`Do not consider \"standard\" and \"archive\" packages`|",
    "created_at": "2015-09-14T08:22:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345268",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[efd2725](https://github.com/sagemath/sagetrac-mirror/commit/efd2725fda77a95bbb84998facced905c18ae1af)|`Do not consider "standard" and "archive" packages`|



---

archive/issue_comments_345269.json:
```json
{
    "body": "Changing commit from \"39f1e4d655ee4c1cc4a2f8de35f0790583c040f9\" to \"efd2725fda77a95bbb84998facced905c18ae1af\"",
    "created_at": "2015-09-14T08:22:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345269",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "39f1e4d655ee4c1cc4a2f8de35f0790583c040f9" to "efd2725fda77a95bbb84998facced905c18ae1af"



---

archive/issue_comments_345270.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [jhpalmieri](#comment%3A22):\n> My last post on the sage-devel thread said, \"I could also be easily persuaded to (B) if we don't allow \"sage -i python\" to install the old python-2.5 package.\"\n\n\nGreat! My last commit does that, since we no longer look for standard packages:\n\n```\nAttempting to download package python\n>>> Checking online list of optional packages.\n>>> Checking online list of experimental packages.\n>>> Checking online list of huge packages.\nError: could not find a package matching python\n       Try 'sage --package list' to see the available packages\n       Did you mean: cython, ipython, python2, python3, patch?\n```",
    "created_at": "2015-09-14T08:44:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345270",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'></a>
Replying to [jhpalmieri](#comment%3A22):
> My last post on the sage-devel thread said, "I could also be easily persuaded to (B) if we don't allow "sage -i python" to install the old python-2.5 package."


Great! My last commit does that, since we no longer look for standard packages:

```
Attempting to download package python
>>> Checking online list of optional packages.
>>> Checking online list of experimental packages.
>>> Checking online list of huge packages.
Error: could not find a package matching python
       Try 'sage --package list' to see the available packages
       Did you mean: cython, ipython, python2, python3, patch?
```



---

archive/issue_comments_345271.json:
```json
{
    "body": "<a id='comment:25'></a>\nGiven William Stein's support, I am still very convinced that we should move forward with this ticket.",
    "created_at": "2015-09-14T08:51:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345271",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>
Given William Stein's support, I am still very convinced that we should move forward with this ticket.



---

archive/issue_comments_345272.json:
```json
{
    "body": "<a id='comment:26'></a>\nI was able to install (old-style) chomp without any problems with this ticket. Moreover it doesn't let me install python. Overall I'm ready to set this to positive review except for an interface question.\n\nCould we add an option to the warning that if the user presses Y or enter (after perhaps a mandatory 5 second reading period) that the old-style spkg installs? If this is too difficult, then could we drop the sleep to 15 seconds or so (it's not that long of a message)?",
    "created_at": "2015-09-15T19:29:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345272",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:26'></a>
I was able to install (old-style) chomp without any problems with this ticket. Moreover it doesn't let me install python. Overall I'm ready to set this to positive review except for an interface question.

Could we add an option to the warning that if the user presses Y or enter (after perhaps a mandatory 5 second reading period) that the old-style spkg installs? If this is too difficult, then could we drop the sleep to 15 seconds or so (it's not that long of a message)?



---

archive/issue_comments_345273.json:
```json
{
    "body": "<a id='comment:27'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------|\n|[3dda704](https://github.com/sagemath/sagetrac-mirror/commit/3dda7044efe3c1aa9fac340dda0ce82ec9abc509)|`Improve prompt`|",
    "created_at": "2015-09-15T20:57:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345273",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------|
|[3dda704](https://github.com/sagemath/sagetrac-mirror/commit/3dda7044efe3c1aa9fac340dda0ce82ec9abc509)|`Improve prompt`|



---

archive/issue_comments_345274.json:
```json
{
    "body": "Changing commit from \"efd2725fda77a95bbb84998facced905c18ae1af\" to \"3dda7044efe3c1aa9fac340dda0ce82ec9abc509\"",
    "created_at": "2015-09-15T20:57:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345274",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "efd2725fda77a95bbb84998facced905c18ae1af" to "3dda7044efe3c1aa9fac340dda0ce82ec9abc509"



---

archive/issue_comments_345275.json:
```json
{
    "body": "<a id='comment:28'></a>\nLGTM. Thanks!",
    "created_at": "2015-09-15T21:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345275",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'></a>
LGTM. Thanks!



---

archive/issue_comments_345276.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-09-15T21:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345276",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_345277.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2015-09-15T21:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345277",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_345278.json:
```json
{
    "body": "<a id='comment:29'></a>\nUrgh thats so ugly I just threw up in my mouth a little. Ever wondered why none of the gnu coreutils does the ask + timeout? \n\nI expect you to fix the topcom/TOPCOM issue and do something about the totally broken packages.",
    "created_at": "2015-09-15T22:24:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345278",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'></a>
Urgh thats so ugly I just threw up in my mouth a little. Ever wondered why none of the gnu coreutils does the ask + timeout? 

I expect you to fix the topcom/TOPCOM issue and do something about the totally broken packages.



---

archive/issue_comments_345279.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [vbraun](#comment%3A29):\n> I expect you to fix the topcom/TOPCOM issue and do something about the totally broken packages.\n\n\nSee #19220 for `TOPCOM`. That and `python` are the two serious problems with old-style packages, as far as I understand. Other old-style packages may be broken, but that's not new. I don't know of any other packages which will break the Sage installation if you try to install them.",
    "created_at": "2015-09-16T02:54:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345279",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:30'></a>
Replying to [vbraun](#comment%3A29):
> I expect you to fix the topcom/TOPCOM issue and do something about the totally broken packages.


See #19220 for `TOPCOM`. That and `python` are the two serious problems with old-style packages, as far as I understand. Other old-style packages may be broken, but that's not new. I don't know of any other packages which will break the Sage installation if you try to install them.



---

archive/issue_comments_345280.json:
```json
{
    "body": "<a id='comment:31'></a>\nPython is handled on #19105.",
    "created_at": "2015-09-16T03:02:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345280",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:31'></a>
Python is handled on #19105.



---

archive/issue_comments_345281.json:
```json
{
    "body": "<a id='comment:32'></a>\nWell somebody has to go through the list. Fun things:\n* kash3 is binary-only. Somehow that wasn't OK for gap3 but you just re-enabled another optional binary-only package.\n* Anything that is pip installable is wayyy outdated, terrible UX to just use ancient cruft even if it works. Nobody even made a list of which packages fall in that category\n* The undocumented: soya_cvs-2006.05.09.spkg has no SPKG.txt, wtf is it and why is it a 9-year old cvs snapshot?\n\nAnd by \"somebody\", I mean somebody who was is favor of this ticket.",
    "created_at": "2015-09-16T07:54:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345281",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'></a>
Well somebody has to go through the list. Fun things:
* kash3 is binary-only. Somehow that wasn't OK for gap3 but you just re-enabled another optional binary-only package.
* Anything that is pip installable is wayyy outdated, terrible UX to just use ancient cruft even if it works. Nobody even made a list of which packages fall in that category
* The undocumented: soya_cvs-2006.05.09.spkg has no SPKG.txt, wtf is it and why is it a 9-year old cvs snapshot?

And by "somebody", I mean somebody who was is favor of this ticket.



---

archive/issue_comments_345282.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-09-16T18:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345282",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_060509.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-16T18:31:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19158#event-60509"
}
```



---

archive/issue_comments_345283.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/ticket/19158\" to \"3dda7044efe3c1aa9fac340dda0ce82ec9abc509\"",
    "created_at": "2015-09-16T18:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-345283",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/ticket/19158" to "3dda7044efe3c1aa9fac340dda0ce82ec9abc509"
