# Issue 19158: Undo the breaking of old-style packages

archive/issues_018921.json:
```json
{
    "assignees": [],
    "body": "Ticket #19004 has the very user-unfriendly consequence that all old-style packages are effectively gone:\n\n```\n$ ./sage -i chomp\nAttempting to download package chomp\nError: could not find a package matching chomp\n       Try 'sage --package list' to see the available packages\n       Did you mean: csdp, gmp, cbc, cmake, cvxopt?\n```\n\nInstead of removing support for old-style packages, we should deprecate them.\n\nDepends on #19101\n\nCC:  @nathanncohen @vbraun @jhpalmieri\n\nBranch/Commit: **[3dda704](https://github.com/sagemath/sagetrac-mirror/commit/3dda7044efe3c1aa9fac340dda0ce82ec9abc509)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19158_\n\n",
    "closed_at": "2015-09-16T18:31:29Z",
    "created_at": "2015-09-07T20:28:29Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20scripts",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Undo the breaking of old-style packages",
    "type": "issue",
    "updated_at": "2015-09-16T18:31:29Z",
    "url": "https://github.com/sagemath/sage/issues/19158",
    "user": "https://github.com/jdemeyer"
}
```
Ticket #19004 has the very user-unfriendly consequence that all old-style packages are effectively gone:

```
$ ./sage -i chomp
Attempting to download package chomp
Error: could not find a package matching chomp
       Try 'sage --package list' to see the available packages
       Did you mean: csdp, gmp, cbc, cmake, cvxopt?
```

Instead of removing support for old-style packages, we should deprecate them.

Depends on #19101

CC:  @nathanncohen @vbraun @jhpalmieri

Branch/Commit: **[3dda704](https://github.com/sagemath/sagetrac-mirror/commit/3dda7044efe3c1aa9fac340dda0ce82ec9abc509)**

Reviewer: **Travis Scrimshaw**

Author: **Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/19158_





---

archive/issue_events_245015.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-07T20:28:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19158#event-245015"
}
```



---

archive/issue_events_245016.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-07T20:28:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20scripts",
    "label_color": "000080",
    "label_name": "component: scripts",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19158#event-245016"
}
```



---

archive/issue_events_245017.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-07T20:28:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19158#event-245017"
}
```



---

archive/issue_events_245018.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-07T20:28:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19158#event-245018"
}
```



---

archive/issue_comments_273578.json:
```json
{
    "body": "Dependencies: **#19101**",
    "created_at": "2015-09-07T20:29:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273578",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#19101**



---

archive/issue_comments_273579.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nIMHO the only thing that needs to be done is make chomp a new-style package.\n\nThe mixture of old and new packages has always been broken. Let it die. We can support old packages as legacy but not mash it up with new packages in an utterly confusing manner to users.",
    "created_at": "2015-09-07T21:21:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273579",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'>Comment 2:</a>
IMHO the only thing that needs to be done is make chomp a new-style package.

The mixture of old and new packages has always been broken. Let it die. We can support old packages as legacy but not mash it up with new packages in an utterly confusing manner to users.



---

archive/issue_comments_273580.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\n1. There has been no deprecation at all for this, which really goes against Sage's 1-year deprecation policy. You cannot just break user's work flows like this.\n\n2. Old-style packages still appear in various places in the documentation:\n\n- Various places document `sage -i chomp` (or other old-style packages)\n- `sage --optional` shows both new-style and old-style packages\n- We even have a page in the developer documentation about creating old-style packages.",
    "created_at": "2015-09-08T06:23:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273580",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'>Comment 3:</a>
1. There has been no deprecation at all for this, which really goes against Sage's 1-year deprecation policy. You cannot just break user's work flows like this.

2. Old-style packages still appear in various places in the documentation:

- Various places document `sage -i chomp` (or other old-style packages)
- `sage --optional` shows both new-style and old-style packages
- We even have a page in the developer documentation about creating old-style packages.



---

archive/issue_comments_273581.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\n1. There is no deprecation period for fixing bugs.\n2. The documentation should be fixed (Often we should just point people towards pip; Suggesting some ancient unmaintained spkg is yet another bug in itself)",
    "created_at": "2015-09-08T07:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273581",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'>Comment 4:</a>
1. There is no deprecation period for fixing bugs.
2. The documentation should be fixed (Often we should just point people towards pip; Suggesting some ancient unmaintained spkg is yet another bug in itself)



---

archive/issue_comments_273582.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nReplying to [@vbraun](#comment%3A4):\n> 1. There is no deprecation period for fixing bugs.\n\nThe fact that `sage -i chomp` used to install `chomp` is a bug??",
    "created_at": "2015-09-08T07:36:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273582",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'>Comment 5:</a>
Replying to [@vbraun](#comment%3A4):
> 1. There is no deprecation period for fixing bugs.

The fact that `sage -i chomp` used to install `chomp` is a bug??



---

archive/issue_comments_273583.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nThat `sage -i python` used to install an ancient Python is a bug. That the undesirable behavior of silently installing ancient packages happened to be somewhat(1) desirable for chomp doesn't make it less of a bug.\n\n(1) The chomp spkg actually doesn't compile with modern gcc due to tighter C++ checking\n\n```\n../include/capd/matrixAlgorithms/floatMatrixAlgorithms.hpp:245:159: error: redeclaration of 'template<class MatrixType> int chomp::matrixAlgorithms::symMatrixDiagonalize(const MatrixType&, MatrixType&, typename MatrixType::ScalarType)' may not have default arguments [-fpermissive]\n int symMatrixDiagonalize(const MatrixType& A, MatrixType& D, typename MatrixType::ScalarType diagonalizingRelTolerance = typename MatrixType::ScalarType(1e-5))\n                                                                                                                                                               ^\n../include/capd/matrixAlgorithms/floatMatrixAlgorithms.hpp:326:177: error: redeclaration of 'template<class MatrixType> typename MatrixType::ScalarType chomp::matrixAlgorithms::spectralRadiusOfSymMatrix(const MatrixType&, typename MatrixType::ScalarType)' may not have default arguments [-fpermissive]\n```",
    "created_at": "2015-09-08T08:09:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273583",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'>Comment 6:</a>
That `sage -i python` used to install an ancient Python is a bug. That the undesirable behavior of silently installing ancient packages happened to be somewhat(1) desirable for chomp doesn't make it less of a bug.

(1) The chomp spkg actually doesn't compile with modern gcc due to tighter C++ checking

```
../include/capd/matrixAlgorithms/floatMatrixAlgorithms.hpp:245:159: error: redeclaration of 'template<class MatrixType> int chomp::matrixAlgorithms::symMatrixDiagonalize(const MatrixType&, MatrixType&, typename MatrixType::ScalarType)' may not have default arguments [-fpermissive]
 int symMatrixDiagonalize(const MatrixType& A, MatrixType& D, typename MatrixType::ScalarType diagonalizingRelTolerance = typename MatrixType::ScalarType(1e-5))
                                                                                                                                                               ^
../include/capd/matrixAlgorithms/floatMatrixAlgorithms.hpp:326:177: error: redeclaration of 'template<class MatrixType> typename MatrixType::ScalarType chomp::matrixAlgorithms::spectralRadiusOfSymMatrix(const MatrixType&, typename MatrixType::ScalarType)' may not have default arguments [-fpermissive]
```



---

archive/issue_comments_273584.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@vbraun](#comment%3A6):\n> That `sage -i python` used to install an ancient Python is a bug.\n\nAgreed. But #19004 wasn't the right fix.\n\n> That the undesirable behavior of silently installing ancient packages happened to be somewhat(1) desirable for chomp doesn't make it less of a bug.\n\nThis ticket isn't about `chomp` at all, I'm just using that package as one example of an old-style package.",
    "created_at": "2015-09-08T08:14:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273584",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@vbraun](#comment%3A6):
> That `sage -i python` used to install an ancient Python is a bug.

Agreed. But #19004 wasn't the right fix.

> That the undesirable behavior of silently installing ancient packages happened to be somewhat(1) desirable for chomp doesn't make it less of a bug.

This ticket isn't about `chomp` at all, I'm just using that package as one example of an old-style package.



---

archive/issue_comments_273585.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nIMHO we should have removed old spkgs a long time ago. It was ok during the transition period but has been causing us constant pain since then. We are much better of with #19004 than without. For every old-style package that you might actually want to install I can name you ten that are going to get in the way if you accidentally install them.",
    "created_at": "2015-09-08T08:40:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273585",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'>Comment 8:</a>
IMHO we should have removed old spkgs a long time ago. It was ok during the transition period but has been causing us constant pain since then. We are much better of with #19004 than without. For every old-style package that you might actually want to install I can name you ten that are going to get in the way if you accidentally install them.



---

archive/issue_comments_273586.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nReplying to [@vbraun](#comment%3A8):\n> IMHO we should have removed old spkgs a long time ago.\n\nBut we didn't, so we are currently stuck with them.\n\n> It was ok during the transition period but has been causing us constant pain since then.\n\nMaybe, but like I said: #19004 isn't the solution. The solution is warning users that they are installing old-style packages with a proper deprecation warning.",
    "created_at": "2015-09-08T09:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273586",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'>Comment 9:</a>
Replying to [@vbraun](#comment%3A8):
> IMHO we should have removed old spkgs a long time ago.

But we didn't, so we are currently stuck with them.

> It was ok during the transition period but has been causing us constant pain since then.

Maybe, but like I said: #19004 isn't the solution. The solution is warning users that they are installing old-style packages with a proper deprecation warning.



---

archive/issue_comments_273587.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@jdemeyer](#comment%3A9):\n> Maybe, but like I said: #19004 isn't the solution. The solution is warning users that they are installing old-style packages with a proper deprecation warning.\n\nNo, the solution is to not install broken/deprecated packages. Or, rather, make it difficult enough so that nobody does it accidentally.",
    "created_at": "2015-09-08T10:20:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273587",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@jdemeyer](#comment%3A9):
> Maybe, but like I said: #19004 isn't the solution. The solution is warning users that they are installing old-style packages with a proper deprecation warning.

No, the solution is to not install broken/deprecated packages. Or, rather, make it difficult enough so that nobody does it accidentally.



---

archive/issue_comments_273588.json:
```json
{
    "body": "Branch: **[u/jdemeyer/ticket/19158](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/19158)**",
    "created_at": "2015-09-08T11:49:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273588",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/ticket/19158](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/19158)**



---

archive/issue_events_245019.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-08T11:50:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19158#event-245019"
}
```



---

archive/issue_comments_273589.json:
```json
{
    "body": "Commit: **[39f1e4d](https://github.com/sagemath/sagetrac-mirror/commit/39f1e4d655ee4c1cc4a2f8de35f0790583c040f9)**",
    "created_at": "2015-09-08T11:50:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273589",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[39f1e4d](https://github.com/sagemath/sagetrac-mirror/commit/39f1e4d655ee4c1cc4a2f8de35f0790583c040f9)**



---

archive/issue_comments_273590.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31ff6e7884b7154077abf29c66ab81c9da37a515\">31ff6e7</a></td><td><code>Parse sage-spkg options in sage-spkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb05746662de891c8444009150962c1b2bfe941f\">cb05746</a></td><td><code>Add sage --location option to run sage-location</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e856a8e872282fe7f059900559f5e589f1b016aa\">e856a8e</a></td><td><code>Change sage -i to install with dependencies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e105028888e726fd08f72a9e386227b9abc65bea\">e105028</a></td><td><code>Revert sage-spkg changes from Trac #19004</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39f1e4d655ee4c1cc4a2f8de35f0790583c040f9\">39f1e4d</a></td><td><code>Deprecate old-style packages</code></td></tr></table>\n",
    "created_at": "2015-09-08T11:50:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273590",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'>Comment 12:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31ff6e7884b7154077abf29c66ab81c9da37a515">31ff6e7</a></td><td><code>Parse sage-spkg options in sage-spkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb05746662de891c8444009150962c1b2bfe941f">cb05746</a></td><td><code>Add sage --location option to run sage-location</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e856a8e872282fe7f059900559f5e589f1b016aa">e856a8e</a></td><td><code>Change sage -i to install with dependencies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e105028888e726fd08f72a9e386227b9abc65bea">e105028</a></td><td><code>Revert sage-spkg changes from Trac #19004</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39f1e4d655ee4c1cc4a2f8de35f0790583c040f9">39f1e4d</a></td><td><code>Deprecate old-style packages</code></td></tr></table>




---

archive/issue_comments_273591.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2015-09-08T11:50:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273591",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_273592.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nI'm against",
    "created_at": "2015-09-08T11:57:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273592",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'>Comment 13:</a>
I'm against



---

archive/issue_comments_273593.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@vbraun](#comment%3A13):\n> I'm against\n\nWell, I am against #19004.\n\nIs there any compromise possible? A solution which still allows users to install old-style packages?",
    "created_at": "2015-09-08T11:59:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273593",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@vbraun](#comment%3A13):
> I'm against

Well, I am against #19004.

Is there any compromise possible? A solution which still allows users to install old-style packages?



---

archive/issue_comments_273594.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nYou can install old-style packages, they just aren't searched for. If you want to try to compile chomp just run e.g.\n\n```\nsage -f http://files.sagemath.org/spkg/optional/chomp-20130518.p1.spkg\n```",
    "created_at": "2015-09-08T20:58:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273594",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'>Comment 15:</a>
You can install old-style packages, they just aren't searched for. If you want to try to compile chomp just run e.g.

```
sage -f http://files.sagemath.org/spkg/optional/chomp-20130518.p1.spkg
```



---

archive/issue_comments_273595.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [@vbraun](#comment%3A15):\n> You can install old-style packages, they just aren't searched for.\n\nThat's \"you can\" for a very dubious value of \"can\". To users, it really looks like the package is completely gone.",
    "created_at": "2015-09-08T21:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273595",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [@vbraun](#comment%3A15):
> You can install old-style packages, they just aren't searched for.

That's "you can" for a very dubious value of "can". To users, it really looks like the package is completely gone.



---

archive/issue_comments_273596.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This is really really bad:\n+Ticket #19004 has the very user-unfriendly consequence that all old-style packages are effectively gone:\n \n ```\n $ ./sage -i chomp\n@@ -7,3 +7,5 @@\n        Try 'sage --package list' to see the available packages\n        Did you mean: csdp, gmp, cbc, cmake, cvxopt?\n ```\n+\n+Instead of removing support for old-style packages, we should deprecate them.\n``````\n",
    "created_at": "2015-09-08T21:26:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273596",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This is really really bad:
+Ticket #19004 has the very user-unfriendly consequence that all old-style packages are effectively gone:
 
 ```
 $ ./sage -i chomp
@@ -7,3 +7,5 @@
        Try 'sage --package list' to see the available packages
        Did you mean: csdp, gmp, cbc, cmake, cvxopt?
 ```
+
+Instead of removing support for old-style packages, we should deprecate them.
``````




---

archive/issue_comments_273597.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nAnd thats good because they are either huge nuisances (like \"python\") or just broken.",
    "created_at": "2015-09-08T21:59:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273597",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'>Comment 18:</a>
And thats good because they are either huge nuisances (like "python") or just broken.



---

archive/issue_comments_273598.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nWe obviously cannot resolve this here, so I'm writing to sage-devel.",
    "created_at": "2015-09-09T07:32:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273598",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'>Comment 19:</a>
We obviously cannot resolve this here, so I'm writing to sage-devel.



---

archive/issue_comments_273599.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nAs I said on #19105, you shouldn't search \"standard\" packages on-line.",
    "created_at": "2015-09-11T18:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273599",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:20'>Comment 20:</a>
As I said on #19105, you shouldn't search "standard" packages on-line.



---

archive/issue_comments_273600.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@jhpalmieri](#comment%3A20):\n> As I said on #19105, you shouldn't search \"standard\" packages on-line.\n\nSure, that's an easy change (although not very relevant if we merge #19105).\n\nBut I'm confused by your comment. Does it imply you're in favour of this ticket now?",
    "created_at": "2015-09-11T21:39:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273600",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@jhpalmieri](#comment%3A20):
> As I said on #19105, you shouldn't search "standard" packages on-line.

Sure, that's an easy change (although not very relevant if we merge #19105).

But I'm confused by your comment. Does it imply you're in favour of this ticket now?



---

archive/issue_comments_273601.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nI don't think I ever said I wasn't in favor of it. My last post on the sage-devel thread said, \"I could also be easily persuaded to (B) if we don't allow \"sage -i python\" to install the old python-2.5 package.\"",
    "created_at": "2015-09-11T22:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273601",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:22'>Comment 22:</a>
I don't think I ever said I wasn't in favor of it. My last post on the sage-devel thread said, "I could also be easily persuaded to (B) if we don't allow "sage -i python" to install the old python-2.5 package."



---

archive/issue_comments_273602.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/efd2725fda77a95bbb84998facced905c18ae1af\">efd2725</a></td><td><code>Do not consider \"standard\" and \"archive\" packages</code></td></tr></table>\n",
    "created_at": "2015-09-14T08:22:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273602",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'>Comment 23:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/efd2725fda77a95bbb84998facced905c18ae1af">efd2725</a></td><td><code>Do not consider "standard" and "archive" packages</code></td></tr></table>




---

archive/issue_comments_273603.json:
```json
{
    "body": "Changed commit from **[39f1e4d](https://github.com/sagemath/sagetrac-mirror/commit/39f1e4d655ee4c1cc4a2f8de35f0790583c040f9)** to **[efd2725](https://github.com/sagemath/sagetrac-mirror/commit/efd2725fda77a95bbb84998facced905c18ae1af)**",
    "created_at": "2015-09-14T08:22:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273603",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[39f1e4d](https://github.com/sagemath/sagetrac-mirror/commit/39f1e4d655ee4c1cc4a2f8de35f0790583c040f9)** to **[efd2725](https://github.com/sagemath/sagetrac-mirror/commit/efd2725fda77a95bbb84998facced905c18ae1af)**



---

archive/issue_comments_273604.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nReplying to [@jhpalmieri](#comment%3A22):\n> My last post on the sage-devel thread said, \"I could also be easily persuaded to (B) if we don't allow \"sage -i python\" to install the old python-2.5 package.\"\n\nGreat! My last commit does that, since we no longer look for standard packages:\n\n```\nAttempting to download package python\n>>> Checking online list of optional packages.\n>>> Checking online list of experimental packages.\n>>> Checking online list of huge packages.\nError: could not find a package matching python\n       Try 'sage --package list' to see the available packages\n       Did you mean: cython, ipython, python2, python3, patch?\n```",
    "created_at": "2015-09-14T08:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273604",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'>Comment 24:</a>
Replying to [@jhpalmieri](#comment%3A22):
> My last post on the sage-devel thread said, "I could also be easily persuaded to (B) if we don't allow "sage -i python" to install the old python-2.5 package."

Great! My last commit does that, since we no longer look for standard packages:

```
Attempting to download package python
>>> Checking online list of optional packages.
>>> Checking online list of experimental packages.
>>> Checking online list of huge packages.
Error: could not find a package matching python
       Try 'sage --package list' to see the available packages
       Did you mean: cython, ipython, python2, python3, patch?
```



---

archive/issue_comments_273605.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nGiven William Stein's support, I am still very convinced that we should move forward with this ticket.",
    "created_at": "2015-09-14T08:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273605",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'>Comment 25:</a>
Given William Stein's support, I am still very convinced that we should move forward with this ticket.



---

archive/issue_comments_273606.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nI was able to install (old-style) chomp without any problems with this ticket. Moreover it doesn't let me install python. Overall I'm ready to set this to positive review except for an interface question.\n\nCould we add an option to the warning that if the user presses Y or enter (after perhaps a mandatory 5 second reading period) that the old-style spkg installs? If this is too difficult, then could we drop the sleep to 15 seconds or so (it's not that long of a message)?",
    "created_at": "2015-09-15T19:29:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273606",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:26'>Comment 26:</a>
I was able to install (old-style) chomp without any problems with this ticket. Moreover it doesn't let me install python. Overall I'm ready to set this to positive review except for an interface question.

Could we add an option to the warning that if the user presses Y or enter (after perhaps a mandatory 5 second reading period) that the old-style spkg installs? If this is too difficult, then could we drop the sleep to 15 seconds or so (it's not that long of a message)?



---

archive/issue_comments_273607.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3dda7044efe3c1aa9fac340dda0ce82ec9abc509\">3dda704</a></td><td><code>Improve prompt</code></td></tr></table>\n",
    "created_at": "2015-09-15T20:57:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273607",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3dda7044efe3c1aa9fac340dda0ce82ec9abc509">3dda704</a></td><td><code>Improve prompt</code></td></tr></table>




---

archive/issue_comments_273608.json:
```json
{
    "body": "Changed commit from **[efd2725](https://github.com/sagemath/sagetrac-mirror/commit/efd2725fda77a95bbb84998facced905c18ae1af)** to **[3dda704](https://github.com/sagemath/sagetrac-mirror/commit/3dda7044efe3c1aa9fac340dda0ce82ec9abc509)**",
    "created_at": "2015-09-15T20:57:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273608",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[efd2725](https://github.com/sagemath/sagetrac-mirror/commit/efd2725fda77a95bbb84998facced905c18ae1af)** to **[3dda704](https://github.com/sagemath/sagetrac-mirror/commit/3dda7044efe3c1aa9fac340dda0ce82ec9abc509)**



---

archive/issue_comments_273609.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nLGTM. Thanks!",
    "created_at": "2015-09-15T21:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273609",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'>Comment 28:</a>
LGTM. Thanks!



---

archive/issue_events_245020.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-09-15T21:10:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19158#event-245020"
}
```



---

archive/issue_events_245021.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-09-15T21:10:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19158#event-245021"
}
```



---

archive/issue_comments_273610.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2015-09-15T21:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273610",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_273611.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nUrgh thats so ugly I just threw up in my mouth a little. Ever wondered why none of the gnu coreutils does the ask + timeout? \n\nI expect you to fix the topcom/TOPCOM issue and do something about the totally broken packages.",
    "created_at": "2015-09-15T22:24:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273611",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'>Comment 29:</a>
Urgh thats so ugly I just threw up in my mouth a little. Ever wondered why none of the gnu coreutils does the ask + timeout? 

I expect you to fix the topcom/TOPCOM issue and do something about the totally broken packages.



---

archive/issue_comments_273612.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nReplying to [@vbraun](#comment%3A29):\n> I expect you to fix the topcom/TOPCOM issue and do something about the totally broken packages.\n\nSee #19220 for `TOPCOM`. That and `python` are the two serious problems with old-style packages, as far as I understand. Other old-style packages may be broken, but that's not new. I don't know of any other packages which will break the Sage installation if you try to install them.",
    "created_at": "2015-09-16T02:54:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273612",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:30'>Comment 30:</a>
Replying to [@vbraun](#comment%3A29):
> I expect you to fix the topcom/TOPCOM issue and do something about the totally broken packages.

See #19220 for `TOPCOM`. That and `python` are the two serious problems with old-style packages, as far as I understand. Other old-style packages may be broken, but that's not new. I don't know of any other packages which will break the Sage installation if you try to install them.



---

archive/issue_comments_273613.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nPython is handled on #19105.",
    "created_at": "2015-09-16T03:02:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273613",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:31'>Comment 31:</a>
Python is handled on #19105.



---

archive/issue_comments_273614.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nWell somebody has to go through the list. Fun things:\n* kash3 is binary-only. Somehow that wasn't OK for gap3 but you just re-enabled another optional binary-only package.\n* Anything that is pip installable is wayyy outdated, terrible UX to just use ancient cruft even if it works. Nobody even made a list of which packages fall in that category\n* The undocumented: soya_cvs-2006.05.09.spkg has no SPKG.txt, wtf is it and why is it a 9-year old cvs snapshot?\n\nAnd by \"somebody\", I mean somebody who was is favor of this ticket.",
    "created_at": "2015-09-16T07:54:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273614",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'>Comment 32:</a>
Well somebody has to go through the list. Fun things:
* kash3 is binary-only. Somehow that wasn't OK for gap3 but you just re-enabled another optional binary-only package.
* Anything that is pip installable is wayyy outdated, terrible UX to just use ancient cruft even if it works. Nobody even made a list of which packages fall in that category
* The undocumented: soya_cvs-2006.05.09.spkg has no SPKG.txt, wtf is it and why is it a 9-year old cvs snapshot?

And by "somebody", I mean somebody who was is favor of this ticket.



---

archive/issue_events_245022.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-16T18:31:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19158#event-245022"
}
```



---

archive/issue_events_245023.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8ea6605956fd0ed65a4f3572a80f9082f90391d5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-09-16T18:31:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19158#event-245023"
}
```



---

archive/issue_comments_273615.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/19158](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/19158)** to **[3dda704](https://github.com/sagemath/sagetrac-mirror/commit/3dda7044efe3c1aa9fac340dda0ce82ec9abc509)**",
    "created_at": "2015-09-16T18:31:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19158#issuecomment-273615",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/ticket/19158](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/19158)** to **[3dda704](https://github.com/sagemath/sagetrac-mirror/commit/3dda7044efe3c1aa9fac340dda0ce82ec9abc509)**
