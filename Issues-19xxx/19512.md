# Issue 19512: is_morphism for maps of products of projective spaces

archive/issues_019275.json:
```json
{
    "assignees": [],
    "body": "Implement a function to determine whether a given map between products of projective spaces is a morphism.\n\nCC:  @bhutz\n\nBranch/Commit: **[`ee5676f`](https://github.com/sagemath/sagetrac-mirror/commit/ee5676f3f02327ba15d9b9c13d337b4543b696a5)**\n\nReviewer: **Ben Hutz**\n\nAuthor: **Grayson Jorgenson**\n\nComponent: **algebraic geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19512_\n\n",
    "closed_at": "2015-11-10T14:00:29Z",
    "created_at": "2015-11-03T03:45:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "is_morphism for maps of products of projective spaces",
    "type": "issue",
    "updated_at": "2015-11-10T14:00:29Z",
    "url": "https://github.com/sagemath/sage/issues/19512",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```
Implement a function to determine whether a given map between products of projective spaces is a morphism.

CC:  @bhutz

Branch/Commit: **[`ee5676f`](https://github.com/sagemath/sagetrac-mirror/commit/ee5676f3f02327ba15d9b9c13d337b4543b696a5)**

Reviewer: **Ben Hutz**

Author: **Grayson Jorgenson**

Component: **algebraic geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/19512_





---

archive/issue_events_276505.json:
```json
{
    "actor": "https://github.com/sagetrac-gjorgenson",
    "created_at": "2015-11-03T03:45:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "c: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19512#event-276505"
}
```



---

archive/issue_events_276506.json:
```json
{
    "actor": "https://github.com/sagetrac-gjorgenson",
    "created_at": "2015-11-03T03:45:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19512#event-276506"
}
```



---

archive/issue_events_276507.json:
```json
{
    "actor": "https://github.com/sagetrac-gjorgenson",
    "created_at": "2015-11-03T03:45:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19512#event-276507"
}
```



---

archive/issue_comments_277685.json:
```json
{
    "body": "Branch: **[u/gjorgenson/ticket/19512](https://github.com/sagemath/sagetrac-mirror/tree/u/gjorgenson/ticket/19512)**",
    "created_at": "2015-11-03T04:11:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277685",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```

Branch: **[u/gjorgenson/ticket/19512](https://github.com/sagemath/sagetrac-mirror/tree/u/gjorgenson/ticket/19512)**



---

archive/issue_comments_277686.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bca35ddbb8d6518535b43e32ec34514fcd0ab8c8\"><code>bca35dd</code></a></td><td><code>19512: is_morphism implementation</code></td></tr></table>\n",
    "created_at": "2015-11-03T04:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277686",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bca35ddbb8d6518535b43e32ec34514fcd0ab8c8"><code>bca35dd</code></a></td><td><code>19512: is_morphism implementation</code></td></tr></table>




---

archive/issue_comments_277687.json:
```json
{
    "body": "Commit: **[`bca35dd`](https://github.com/sagemath/sagetrac-mirror/commit/bca35ddbb8d6518535b43e32ec34514fcd0ab8c8)**",
    "created_at": "2015-11-03T04:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277687",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`bca35dd`](https://github.com/sagemath/sagetrac-mirror/commit/bca35ddbb8d6518535b43e32ec34514fcd0ab8c8)**



---

archive/issue_events_276508.json:
```json
{
    "actor": "https://github.com/sagetrac-gjorgenson",
    "created_at": "2015-11-03T04:58:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19512#event-276508"
}
```



---

archive/issue_events_276509.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-11-03T13:55:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19512#event-276509"
}
```



---

archive/issue_events_276510.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-11-03T13:55:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19512#event-276510"
}
```



---

archive/issue_comments_277688.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nMapping down to each coordinate ring will only work when there is no mixing of coordinates in the map. So this approach will not work in general.",
    "created_at": "2015-11-03T13:55:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277688",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:4" align="right">comment:4</div>

Mapping down to each coordinate ring will only work when there is no mixing of coordinates in the map. So this approach will not work in general.



---

archive/issue_comments_277689.json:
```json
{
    "body": "Reviewer: **Ben Hutz**",
    "created_at": "2015-11-03T13:55:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277689",
    "user": "https://github.com/bhutz"
}
```

Reviewer: **Ben Hutz**



---

archive/issue_comments_277690.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIn thinking about this, I think it may be as simple as just checking the dimension of the ideal in the coordinate ring defined by the coordinates of the map. If this is 0, then a morphism and if it is >0, then it is not a morphism. i.e., you can basically duplicate the code from projective_morphism.py.\n\nWhat do you think?",
    "created_at": "2015-11-03T17:22:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277690",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:5" align="right">comment:5</div>

In thinking about this, I think it may be as simple as just checking the dimension of the ideal in the coordinate ring defined by the coordinates of the map. If this is 0, then a morphism and if it is >0, then it is not a morphism. i.e., you can basically duplicate the code from projective_morphism.py.

What do you think?



---

archive/issue_comments_277691.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nOops! I guess my approach wasn't truly componentwise to begin with since I ignored the possibility of mixed coordinates.\n\nWould checking the dimension of the ideal in the whole coordinate ring coincide with checking that the Segre embedding of the map is a projective morphism? It would be stricter than checking that the coordinates share no common zeros componentwise, right? Maps such as\n\n```\nT.<x,y,z,w,u,v> = ProductProjectiveSpaces([2,2],QQ)\nH = T.Hom(T)\nF = H([x^2*u,y^2*w,z^2*v,w^2,u^2,v^2])\n```\n\nwouldn't be considered morphisms with this check.",
    "created_at": "2015-11-04T04:43:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277691",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```

<div id="comment:6" align="right">comment:6</div>

Oops! I guess my approach wasn't truly componentwise to begin with since I ignored the possibility of mixed coordinates.

Would checking the dimension of the ideal in the whole coordinate ring coincide with checking that the Segre embedding of the map is a projective morphism? It would be stricter than checking that the coordinates share no common zeros componentwise, right? Maps such as

```
T.<x,y,z,w,u,v> = ProductProjectiveSpaces([2,2],QQ)
H = T.Hom(T)
F = H([x^2*u,y^2*w,z^2*v,w^2,u^2,v^2])
```

wouldn't be considered morphisms with this check.



---

archive/issue_comments_277692.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nanother puzzling example:\n\n```\nP.<x,y,z,w,u,v>=ProductProjectiveSpaces(QQ,[1,1,1])\nH=End(P)\nf=H([u,v,z^2,w^2,u^2,v^2])\n```\n\nIs this a morphism? It would fail the Segre embedding version (check if the Segre embedding was a morphism) and the dimension of the ideal is 2, but the indeterminacy locus is empty.",
    "created_at": "2015-11-04T19:00:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277692",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:7" align="right">comment:7</div>

another puzzling example:

```
P.<x,y,z,w,u,v>=ProductProjectiveSpaces(QQ,[1,1,1])
H=End(P)
f=H([u,v,z^2,w^2,u^2,v^2])
```

Is this a morphism? It would fail the Segre embedding version (check if the Segre embedding was a morphism) and the dimension of the ideal is 2, but the indeterminacy locus is empty.



---

archive/issue_comments_277693.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nActually, that example should be a morphism and does not fail the segre embedding check (it just isn't dominant). So the 0 dimensional check is (at least) not iff.\n\n\nOne solution that has come to mind is do something like define the subscheme of the productprojectivespaces for each set of coordinates of the map and check that there are no points on each such subscheme. Then we have a set of polynomials defined at every point in the product (the definition of a morphism)\n\nFor products of 2 projective spaces, the .dimension function works fine via segre embeddings, but calling dimension on the defining ideal for empty subschemes does not give the 'right' answer in products:\n\n```\nP.<x,y,z,u,v,w>=ProductProjectiveSpaces(QQ,[2,2])\nH=End(P)\nf=H([u,v,w,u^2,v^2,w^2])\nm=0\nfor i in range(P.num_components()):\n    t=P[i].dimension_relative()+1\n    X=P.subscheme(list(f)[m:m+t])\n    print X.defining_ideal().dimension(), X.defining_ideal().dimension() - P.num_components()\n    print \"dim:\",X.dimension()\n    m+=t    \n```\n\nat the moment segre embedding (and hence dimension) is only implemented for products of 2 projective spaces. It would be nice to get that to work in general, but maybe the solution for this particular function is to be dependent on the dimension function for subschemes and then improve the dimension function as part of a separate ticket.\n\nWhat do you think?",
    "created_at": "2015-11-05T01:32:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277693",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:8" align="right">comment:8</div>

Actually, that example should be a morphism and does not fail the segre embedding check (it just isn't dominant). So the 0 dimensional check is (at least) not iff.


One solution that has come to mind is do something like define the subscheme of the productprojectivespaces for each set of coordinates of the map and check that there are no points on each such subscheme. Then we have a set of polynomials defined at every point in the product (the definition of a morphism)

For products of 2 projective spaces, the .dimension function works fine via segre embeddings, but calling dimension on the defining ideal for empty subschemes does not give the 'right' answer in products:

```
P.<x,y,z,u,v,w>=ProductProjectiveSpaces(QQ,[2,2])
H=End(P)
f=H([u,v,w,u^2,v^2,w^2])
m=0
for i in range(P.num_components()):
    t=P[i].dimension_relative()+1
    X=P.subscheme(list(f)[m:m+t])
    print X.defining_ideal().dimension(), X.defining_ideal().dimension() - P.num_components()
    print "dim:",X.dimension()
    m+=t    
```

at the moment segre embedding (and hence dimension) is only implemented for products of 2 projective spaces. It would be nice to get that to work in general, but maybe the solution for this particular function is to be dependent on the dimension function for subschemes and then improve the dimension function as part of a separate ticket.

What do you think?



---

archive/issue_comments_277694.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI think that sounds good. It will restrict any function that needs is_morphism to working only with spaces with two components, but that's probably not too much of a problem for right now and just makes it higher priority to implement Segre embedding for general products. I've implemented it locally, so I will push it up here.",
    "created_at": "2015-11-06T03:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277694",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```

<div id="comment:9" align="right">comment:9</div>

I think that sounds good. It will restrict any function that needs is_morphism to working only with spaces with two components, but that's probably not too much of a problem for right now and just makes it higher priority to implement Segre embedding for general products. I've implemented it locally, so I will push it up here.



---

archive/issue_comments_277695.json:
```json
{
    "body": "Changed commit from **[`bca35dd`](https://github.com/sagemath/sagetrac-mirror/commit/bca35ddbb8d6518535b43e32ec34514fcd0ab8c8)** to **[`c65866a`](https://github.com/sagemath/sagetrac-mirror/commit/c65866abe29c01477544944371bac5fee6325aff)**",
    "created_at": "2015-11-06T03:27:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277695",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bca35dd`](https://github.com/sagemath/sagetrac-mirror/commit/bca35ddbb8d6518535b43e32ec34514fcd0ab8c8)** to **[`c65866a`](https://github.com/sagemath/sagetrac-mirror/commit/c65866abe29c01477544944371bac5fee6325aff)**



---

archive/issue_comments_277696.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c65866abe29c01477544944371bac5fee6325aff\"><code>c65866a</code></a></td><td><code>19512: Attempt at implementing new is_morphism check</code></td></tr></table>\n",
    "created_at": "2015-11-06T03:27:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277696",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c65866abe29c01477544944371bac5fee6325aff"><code>c65866a</code></a></td><td><code>19512: Attempt at implementing new is_morphism check</code></td></tr></table>




---

archive/issue_comments_277697.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nDoes this seem to be okay? I assumed in this implementation that the check is iff; is that correct? That is, if for a map there is a point on one of the subschemes, then the map is not a morphism?",
    "created_at": "2015-11-06T03:42:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277697",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```

<div id="comment:11" align="right">comment:11</div>

Does this seem to be okay? I assumed in this implementation that the check is iff; is that correct? That is, if for a map there is a point on one of the subschemes, then the map is not a morphism?



---

archive/issue_comments_277698.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nJust one issue here.\n\nWhen you are creating the subschemes you need to be careful about the domain and codomain. They may not be the same. You are correctly creating subschemes of the domain, but the groups of coordinates needs to go by the component dimensions of the codomain.",
    "created_at": "2015-11-06T17:23:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277698",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:12" align="right">comment:12</div>

Just one issue here.

When you are creating the subschemes you need to be careful about the domain and codomain. They may not be the same. You are correctly creating subschemes of the domain, but the groups of coordinates needs to go by the component dimensions of the codomain.



---

archive/issue_comments_277699.json:
```json
{
    "body": "Changed commit from **[`c65866a`](https://github.com/sagemath/sagetrac-mirror/commit/c65866abe29c01477544944371bac5fee6325aff)** to **[`f28a7df`](https://github.com/sagemath/sagetrac-mirror/commit/f28a7df331d742ca60cee361cd245a1fe1a50832)**",
    "created_at": "2015-11-07T03:17:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277699",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c65866a`](https://github.com/sagemath/sagetrac-mirror/commit/c65866abe29c01477544944371bac5fee6325aff)** to **[`f28a7df`](https://github.com/sagemath/sagetrac-mirror/commit/f28a7df331d742ca60cee361cd245a1fe1a50832)**



---

archive/issue_comments_277700.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f28a7df331d742ca60cee361cd245a1fe1a50832\"><code>f28a7df</code></a></td><td><code>19512: adapted is_morphism to accomodate maps with different domains and codomains</code></td></tr></table>\n",
    "created_at": "2015-11-07T03:17:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277700",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f28a7df331d742ca60cee361cd245a1fe1a50832"><code>f28a7df</code></a></td><td><code>19512: adapted is_morphism to accomodate maps with different domains and codomains</code></td></tr></table>




---

archive/issue_comments_277701.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAlright, here is a revision. While testing I found that the dimension function doesn't seem to work unless the base rings of the product spaces are fields:\n\n```\nP.<x,y,z,w,u> = ProductProjectiveSpaces([2,1],ZZ)\nH = End(P)\nf = H([x^2,y^2,z^2,w^2,u^2])\nX = P.subscheme(list(f)[0 : 3])\nX.dimension()\n```\n\nIs there any way around this?",
    "created_at": "2015-11-07T03:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277701",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```

<div id="comment:14" align="right">comment:14</div>

Alright, here is a revision. While testing I found that the dimension function doesn't seem to work unless the base rings of the product spaces are fields:

```
P.<x,y,z,w,u> = ProductProjectiveSpaces([2,1],ZZ)
H = End(P)
f = H([x^2,y^2,z^2,w^2,u^2])
X = P.subscheme(list(f)[0 : 3])
X.dimension()
```

Is there any way around this?



---

archive/issue_comments_277702.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nWell, just like is_morphism for polynomials, if given a ring, you can change to the fraction field. The real question is should that be implemented here or in dimension. Since improving dimension is more than a trivial project, I'd say to do the same thing here and when dimension is improved it can be updated.\n\nI don't think there are any adverse implications for changing to the fraction field (since dimension = dimension_relative), but I'll think some more about it when I review the updated version.",
    "created_at": "2015-11-07T12:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277702",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:15" align="right">comment:15</div>

Well, just like is_morphism for polynomials, if given a ring, you can change to the fraction field. The real question is should that be implemented here or in dimension. Since improving dimension is more than a trivial project, I'd say to do the same thing here and when dimension is improved it can be updated.

I don't think there are any adverse implications for changing to the fraction field (since dimension = dimension_relative), but I'll think some more about it when I review the updated version.



---

archive/issue_comments_277703.json:
```json
{
    "body": "Changed commit from **[`f28a7df`](https://github.com/sagemath/sagetrac-mirror/commit/f28a7df331d742ca60cee361cd245a1fe1a50832)** to **[`ee5676f`](https://github.com/sagemath/sagetrac-mirror/commit/ee5676f3f02327ba15d9b9c13d337b4543b696a5)**",
    "created_at": "2015-11-07T20:27:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277703",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f28a7df`](https://github.com/sagemath/sagetrac-mirror/commit/f28a7df331d742ca60cee361cd245a1fe1a50832)** to **[`ee5676f`](https://github.com/sagemath/sagetrac-mirror/commit/ee5676f3f02327ba15d9b9c13d337b4543b696a5)**



---

archive/issue_comments_277704.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee5676f3f02327ba15d9b9c13d337b4543b696a5\"><code>ee5676f</code></a></td><td><code>19512: base rings no longer required to be fields</code></td></tr></table>\n",
    "created_at": "2015-11-07T20:27:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277704",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee5676f3f02327ba15d9b9c13d337b4543b696a5"><code>ee5676f</code></a></td><td><code>19512: base rings no longer required to be fields</code></td></tr></table>




---

archive/issue_comments_277705.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOkay, now if the base ring isn't a field, I change_ring both the ambient space of the domain and the coordinate polynomials before performing the dimension check.",
    "created_at": "2015-11-07T20:39:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277705",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```

<div id="comment:17" align="right">comment:17</div>

Okay, now if the base ring isn't a field, I change_ring both the ambient space of the domain and the coordinate polynomials before performing the dimension check.



---

archive/issue_events_276511.json:
```json
{
    "actor": "https://github.com/sagetrac-gjorgenson",
    "created_at": "2015-11-07T20:39:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19512#event-276511"
}
```



---

archive/issue_events_276512.json:
```json
{
    "actor": "https://github.com/sagetrac-gjorgenson",
    "created_at": "2015-11-07T20:39:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19512#event-276512"
}
```



---

archive/issue_comments_277706.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis looks fine, but I've uncovered a few other simple errors in projective product morphisms that I've put in Trac #19551.",
    "created_at": "2015-11-08T19:35:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277706",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:18" align="right">comment:18</div>

This looks fine, but I've uncovered a few other simple errors in projective product morphisms that I've put in Trac #19551.



---

archive/issue_events_276513.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-11-08T19:35:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19512#event-276513"
}
```



---

archive/issue_events_276514.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2015-11-08T19:35:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19512#event-276514"
}
```



---

archive/issue_comments_277707.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThis ticket needs a milestone before it can be merged",
    "created_at": "2015-11-09T14:39:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277707",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:19" align="right">comment:19</div>

This ticket needs a milestone before it can be merged



---

archive/issue_events_276515.json:
```json
{
    "actor": "https://github.com/sagetrac-gjorgenson",
    "created_at": "2015-11-09T14:54:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19512#event-276515"
}
```



---

archive/issue_events_276516.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-10T14:00:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19512#event-276516"
}
```



---

archive/issue_events_276517.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6a5513d0fb9436097c9fd515f8b1675ba6633a8e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-11-10T14:00:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19512#event-276517"
}
```



---

archive/issue_comments_277708.json:
```json
{
    "body": "Changed branch from **[u/gjorgenson/ticket/19512](https://github.com/sagemath/sagetrac-mirror/tree/u/gjorgenson/ticket/19512)** to **[`ee5676f`](https://github.com/sagemath/sagetrac-mirror/commit/ee5676f3f02327ba15d9b9c13d337b4543b696a5)**",
    "created_at": "2015-11-10T14:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19512#issuecomment-277708",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gjorgenson/ticket/19512](https://github.com/sagemath/sagetrac-mirror/tree/u/gjorgenson/ticket/19512)** to **[`ee5676f`](https://github.com/sagemath/sagetrac-mirror/commit/ee5676f3f02327ba15d9b9c13d337b4543b696a5)**
