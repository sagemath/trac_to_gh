# Issue 19930: A proper class for Hamming codes

archive/issues_019693.json:
```json
{
    "body": "`codes.HammingCode` is not a constructor for a class, but a method which builds a generic linear code.\n\nThis ticket proposes a class implementation of Hamming codes, using the API introduced in #18099 which properly sets Hamming codes as a class. It also comes with a new generic encoder for codes built from a parity check matrix.\n\nCC:  @wdjoyner @ppurka @ClementPernet\n\nBranch/Commit: 2b6875adf5689fd87a0d9bc74fce262a5ca18be5\n\nReviewer: Cl\u00e9ment Pernet\n\nAuthor: David Lucas\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19930\n\n",
    "closed_at": "2016-03-20T23:41:40Z",
    "created_at": "2016-01-21T09:53:42Z",
    "labels": [
        "component: coding theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "A proper class for Hamming codes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19930",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```
`codes.HammingCode` is not a constructor for a class, but a method which builds a generic linear code.

This ticket proposes a class implementation of Hamming codes, using the API introduced in #18099 which properly sets Hamming codes as a class. It also comes with a new generic encoder for codes built from a parity check matrix.

CC:  @wdjoyner @ppurka @ClementPernet

Branch/Commit: 2b6875adf5689fd87a0d9bc74fce262a5ca18be5

Reviewer: Cl√©ment Pernet

Author: David Lucas

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19930





---

archive/issue_comments_359273.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dlucas/hamming_code\"",
    "created_at": "2016-01-21T09:55:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359273",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing branch from "" to "u/dlucas/hamming_code"



---

archive/issue_comments_359274.json:
```json
{
    "body": "<a id='comment:2'></a>\nI pushed the patch, this is now open for review.\n\nAlongside with the new classes, I also made the (very small) following changes:\n\n- an `isinstance` test in `codecan/autgroup_can_label.pyx` was based on the old API and thus was only working with instances of class `LinearCode`. I changed it so it works now with any linear code, specific code families included.\n\n- the method `__cmp__` in `AbstractLinearCode` was quite useless (imho), so I removed it.\n\nDavid \n\n---\nNew commits:\n|                                                                                                                                          |                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[25707e7](http://git.sagemath.org/sage.git/commit/?id=25707e7e862f8e44330a878423206c8657f31711)|`Cleaned up index of modules`|\n|[4bb269a](http://git.sagemath.org/sage.git/commit/?id=4bb269adc963b5bcd55f590ffd22dcc3eee88cb5)|`Merge branch 'cleanup_index_coding' into hamming_code`|\n|[c8c9cc9](http://git.sagemath.org/sage.git/commit/?id=c8c9cc97bf3bcd01a8c785fe28fa399b3ee59c13)|`Added a new encoder based on parity check matrix`|\n|[23c12cb](http://git.sagemath.org/sage.git/commit/?id=23c12cba66ef12a3a7a9351981564a0038d68f09)|`New class for Hamming codes`|\n|[c92e42c](http://git.sagemath.org/sage.git/commit/?id=c92e42c5da7fcbb166274fb4292ca759fad9facb)|`Fixed broken doctests in codecan folder, and changed an old insinstance test`|\n|[3b48dcb](http://git.sagemath.org/sage.git/commit/?id=3b48dcb4a7a10e578dfa5ae277191dafcece83ff)|`Fixed broken doctests, removed __cmp__ method`|",
    "created_at": "2016-01-21T10:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359274",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:2'></a>
I pushed the patch, this is now open for review.

Alongside with the new classes, I also made the (very small) following changes:

- an `isinstance` test in `codecan/autgroup_can_label.pyx` was based on the old API and thus was only working with instances of class `LinearCode`. I changed it so it works now with any linear code, specific code families included.

- the method `__cmp__` in `AbstractLinearCode` was quite useless (imho), so I removed it.

David 

---
New commits:
|                                                                                                                                          |                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[25707e7](http://git.sagemath.org/sage.git/commit/?id=25707e7e862f8e44330a878423206c8657f31711)|`Cleaned up index of modules`|
|[4bb269a](http://git.sagemath.org/sage.git/commit/?id=4bb269adc963b5bcd55f590ffd22dcc3eee88cb5)|`Merge branch 'cleanup_index_coding' into hamming_code`|
|[c8c9cc9](http://git.sagemath.org/sage.git/commit/?id=c8c9cc97bf3bcd01a8c785fe28fa399b3ee59c13)|`Added a new encoder based on parity check matrix`|
|[23c12cb](http://git.sagemath.org/sage.git/commit/?id=23c12cba66ef12a3a7a9351981564a0038d68f09)|`New class for Hamming codes`|
|[c92e42c](http://git.sagemath.org/sage.git/commit/?id=c92e42c5da7fcbb166274fb4292ca759fad9facb)|`Fixed broken doctests in codecan folder, and changed an old insinstance test`|
|[3b48dcb](http://git.sagemath.org/sage.git/commit/?id=3b48dcb4a7a10e578dfa5ae277191dafcece83ff)|`Fixed broken doctests, removed __cmp__ method`|



---

archive/issue_comments_359275.json:
```json
{
    "body": "Changing author from \"\" to \"David Lucas\"",
    "created_at": "2016-01-21T10:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359275",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing author from "" to "David Lucas"



---

archive/issue_comments_359276.json:
```json
{
    "body": "Changing commit from \"\" to \"3b48dcb4a7a10e578dfa5ae277191dafcece83ff\"",
    "created_at": "2016-01-21T10:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359276",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing commit from "" to "3b48dcb4a7a10e578dfa5ae277191dafcece83ff"



---

archive/issue_comments_359277.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-01-21T10:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359277",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_359278.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|\n|[a2177eb](http://git.sagemath.org/sage.git/commit/?id=a2177eb9f5c401bc433bd81c94cbc0ea97ed321b)|`Fixed import related to Hamming code in graphs/generators/smallgraphs.py`|",
    "created_at": "2016-01-21T13:06:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|
|[a2177eb](http://git.sagemath.org/sage.git/commit/?id=a2177eb9f5c401bc433bd81c94cbc0ea97ed321b)|`Fixed import related to Hamming code in graphs/generators/smallgraphs.py`|



---

archive/issue_comments_359279.json:
```json
{
    "body": "Changing commit from \"3b48dcb4a7a10e578dfa5ae277191dafcece83ff\" to \"a2177eb9f5c401bc433bd81c94cbc0ea97ed321b\"",
    "created_at": "2016-01-21T13:06:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359279",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3b48dcb4a7a10e578dfa5ae277191dafcece83ff" to "a2177eb9f5c401bc433bd81c94cbc0ea97ed321b"



---

archive/issue_comments_359280.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[cc237db](http://git.sagemath.org/sage.git/commit/?id=cc237dbde588780f06a3078a2fa17e20e288b118)|`Update to 7.1beta0`|\n|[cc49f28](http://git.sagemath.org/sage.git/commit/?id=cc49f28e7e3b2de8088d472588167034168820bb)|`Added references for computation of parity check matrix in non-binary field`|",
    "created_at": "2016-01-27T15:28:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359280",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[cc237db](http://git.sagemath.org/sage.git/commit/?id=cc237dbde588780f06a3078a2fa17e20e288b118)|`Update to 7.1beta0`|
|[cc49f28](http://git.sagemath.org/sage.git/commit/?id=cc49f28e7e3b2de8088d472588167034168820bb)|`Added references for computation of parity check matrix in non-binary field`|



---

archive/issue_comments_359281.json:
```json
{
    "body": "Changing commit from \"a2177eb9f5c401bc433bd81c94cbc0ea97ed321b\" to \"cc49f28e7e3b2de8088d472588167034168820bb\"",
    "created_at": "2016-01-27T15:28:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359281",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a2177eb9f5c401bc433bd81c94cbc0ea97ed321b" to "cc49f28e7e3b2de8088d472588167034168820bb"



---

archive/issue_comments_359282.json:
```json
{
    "body": "<a id='comment:5'></a>\nI updated this ticket to latest beta.\nI also added a note on `parity_check_matrix` method which points to some references on how to build Hamming codes over anything else than a binary field, as this is definitely non-standard. \n\nAlso note that with this ticket, the implementation of `codes.LinearCodeFromCheckMatrix` can be improved so it does not rely on the dual code but on the encoder introduced here (which saves computation at construction time). See follow-up ticket #19975 for this issue.\n\n---\nNew commits:\n|                                                                                                                                          |                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[cc237db](http://git.sagemath.org/sage.git/commit/?id=cc237dbde588780f06a3078a2fa17e20e288b118)|`Update to 7.1beta0`|\n|[cc49f28](http://git.sagemath.org/sage.git/commit/?id=cc49f28e7e3b2de8088d472588167034168820bb)|`Added references for computation of parity check matrix in non-binary field`|",
    "created_at": "2016-01-27T15:30:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359282",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:5'></a>
I updated this ticket to latest beta.
I also added a note on `parity_check_matrix` method which points to some references on how to build Hamming codes over anything else than a binary field, as this is definitely non-standard. 

Also note that with this ticket, the implementation of `codes.LinearCodeFromCheckMatrix` can be improved so it does not rely on the dual code but on the encoder introduced here (which saves computation at construction time). See follow-up ticket #19975 for this issue.

---
New commits:
|                                                                                                                                          |                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[cc237db](http://git.sagemath.org/sage.git/commit/?id=cc237dbde588780f06a3078a2fa17e20e288b118)|`Update to 7.1beta0`|
|[cc49f28](http://git.sagemath.org/sage.git/commit/?id=cc49f28e7e3b2de8088d472588167034168820bb)|`Added references for computation of parity check matrix in non-binary field`|



---

archive/issue_comments_359283.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[ca8396a](http://git.sagemath.org/sage.git/commit/?id=ca8396a9968a77a55025217aed2ff2e7eb164bf7)|`Updated to 7.1beta1 and fixed merge conflict`|",
    "created_at": "2016-02-01T10:02:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359283",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[ca8396a](http://git.sagemath.org/sage.git/commit/?id=ca8396a9968a77a55025217aed2ff2e7eb164bf7)|`Updated to 7.1beta1 and fixed merge conflict`|



---

archive/issue_comments_359284.json:
```json
{
    "body": "Changing commit from \"cc49f28e7e3b2de8088d472588167034168820bb\" to \"ca8396a9968a77a55025217aed2ff2e7eb164bf7\"",
    "created_at": "2016-02-01T10:02:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359284",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cc49f28e7e3b2de8088d472588167034168820bb" to "ca8396a9968a77a55025217aed2ff2e7eb164bf7"



---

archive/issue_comments_359285.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[055be55](http://git.sagemath.org/sage.git/commit/?id=055be557ec49c3ef1fbc9a6f7367487e0df63baf)|`Updated to 7.1beta3 and fixed conflicts`|",
    "created_at": "2016-02-17T10:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359285",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[055be55](http://git.sagemath.org/sage.git/commit/?id=055be557ec49c3ef1fbc9a6f7367487e0df63baf)|`Updated to 7.1beta3 and fixed conflicts`|



---

archive/issue_comments_359286.json:
```json
{
    "body": "Changing commit from \"ca8396a9968a77a55025217aed2ff2e7eb164bf7\" to \"055be557ec49c3ef1fbc9a6f7367487e0df63baf\"",
    "created_at": "2016-02-17T10:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359286",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ca8396a9968a77a55025217aed2ff2e7eb164bf7" to "055be557ec49c3ef1fbc9a6f7367487e0df63baf"



---

archive/issue_comments_359287.json:
```json
{
    "body": "<a id='comment:8'></a>\nI updated to latest beta and fixed merge conflicts. This is still open for review.",
    "created_at": "2016-02-17T10:35:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359287",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:8'></a>
I updated to latest beta and fixed merge conflicts. This is still open for review.



---

archive/issue_comments_359288.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[f8807be](http://git.sagemath.org/sage.git/commit/?id=f8807bed026d67ad62aaad84ccc70c99464a274a)|`Changed deprecated imports`|",
    "created_at": "2016-02-17T15:38:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359288",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[f8807be](http://git.sagemath.org/sage.git/commit/?id=f8807bed026d67ad62aaad84ccc70c99464a274a)|`Changed deprecated imports`|



---

archive/issue_comments_359289.json:
```json
{
    "body": "Changing commit from \"055be557ec49c3ef1fbc9a6f7367487e0df63baf\" to \"f8807bed026d67ad62aaad84ccc70c99464a274a\"",
    "created_at": "2016-02-17T15:38:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359289",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "055be557ec49c3ef1fbc9a6f7367487e0df63baf" to "f8807bed026d67ad62aaad84ccc70c99464a274a"



---

archive/issue_comments_359290.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[0dff97b](http://git.sagemath.org/sage.git/commit/?id=0dff97b48d12b6d2caf4917a20b6d51feca24b7d)|`Updated to 7.1beta5 and fixed conflict`|",
    "created_at": "2016-03-01T13:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359290",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[0dff97b](http://git.sagemath.org/sage.git/commit/?id=0dff97b48d12b6d2caf4917a20b6d51feca24b7d)|`Updated to 7.1beta5 and fixed conflict`|



---

archive/issue_comments_359291.json:
```json
{
    "body": "Changing commit from \"f8807bed026d67ad62aaad84ccc70c99464a274a\" to \"0dff97b48d12b6d2caf4917a20b6d51feca24b7d\"",
    "created_at": "2016-03-01T13:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359291",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f8807bed026d67ad62aaad84ccc70c99464a274a" to "0dff97b48d12b6d2caf4917a20b6d51feca24b7d"



---

archive/issue_comments_359292.json:
```json
{
    "body": "<a id='comment:12'></a>\nI updated to latest beta and fixed merge conflict. This is still open for review.",
    "created_at": "2016-03-01T13:53:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359292",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:12'></a>
I updated to latest beta and fixed merge conflict. This is still open for review.



---

archive/issue_comments_359293.json:
```json
{
    "body": "<a id='comment:14'></a>\nWhen comparing 2 Hamming codes in docstrings, you replaced the code comparaison by a comparison on the echelon form of their respective generating matrices.\n\nI suggest to avoid calling directly echelon_form method, and rather compare their systematic generator matrices (which is equivalent but seems clearer).\n\n```\nC1.generator_matrix_systematic()==C2.generator_matrix_systematic()\n```",
    "created_at": "2016-03-17T18:33:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359293",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:14'></a>
When comparing 2 Hamming codes in docstrings, you replaced the code comparaison by a comparison on the echelon form of their respective generating matrices.

I suggest to avoid calling directly echelon_form method, and rather compare their systematic generator matrices (which is equivalent but seems clearer).

```
C1.generator_matrix_systematic()==C2.generator_matrix_systematic()
```



---

archive/issue_comments_359294.json:
```json
{
    "body": "<a id='comment:15'></a>\nlines 156 to 161 of hamming_code.py: this code seems very odd to me. I do not see what you are trying to do here.\n- the two branches of the if then else block are identical.\n- The series of swaps being performed result in a cyclic rotation of the first m/2 rows and the last one. Is this really what is intended?\n\nIf, as I presume, you're trying to simply flip the order of the rows, then, try something like\n\n```\nH = H[::-1,:]\n```",
    "created_at": "2016-03-18T09:17:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359294",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:15'></a>
lines 156 to 161 of hamming_code.py: this code seems very odd to me. I do not see what you are trying to do here.
- the two branches of the if then else block are identical.
- The series of swaps being performed result in a cyclic rotation of the first m/2 rows and the last one. Is this really what is intended?

If, as I presume, you're trying to simply flip the order of the rows, then, try something like

```
H = H[::-1,:]
```



---

archive/issue_comments_359295.json:
```json
{
    "body": "<a id='comment:16'></a>\nThe rest of the modifications are ok to me. So once these 2 issues have been addressed, I'll be happy to give a positive review.",
    "created_at": "2016-03-18T09:30:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359295",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:16'></a>
The rest of the modifications are ok to me. So once these 2 issues have been addressed, I'll be happy to give a positive review.



---

archive/issue_comments_359296.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Cl\u00e9ment Pernet\"",
    "created_at": "2016-03-18T09:30:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359296",
    "user": "https://github.com/ClementPernet"
}
```

Changing reviewer from "" to "Cl√©ment Pernet"



---

archive/issue_comments_359297.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[99e5bf9](http://git.sagemath.org/sage.git/commit/?id=99e5bf9d201fa12bb2b2d130ea6a94d72c987c41)|`Update to latest beta`|\n|[bd7ee36](http://git.sagemath.org/sage.git/commit/?id=bd7ee3641d5a8ae775f2db046aa7a466131a8cfb)|`Small changes to doctests`|\n|[2b6875a](http://git.sagemath.org/sage.git/commit/?id=2b6875adf5689fd87a0d9bc74fce262a5ca18be5)|`Made code in parity-check_matrix smaller`|",
    "created_at": "2016-03-18T12:53:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359297",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[99e5bf9](http://git.sagemath.org/sage.git/commit/?id=99e5bf9d201fa12bb2b2d130ea6a94d72c987c41)|`Update to latest beta`|
|[bd7ee36](http://git.sagemath.org/sage.git/commit/?id=bd7ee3641d5a8ae775f2db046aa7a466131a8cfb)|`Small changes to doctests`|
|[2b6875a](http://git.sagemath.org/sage.git/commit/?id=2b6875adf5689fd87a0d9bc74fce262a5ca18be5)|`Made code in parity-check_matrix smaller`|



---

archive/issue_comments_359298.json:
```json
{
    "body": "Changing commit from \"0dff97b48d12b6d2caf4917a20b6d51feca24b7d\" to \"2b6875adf5689fd87a0d9bc74fce262a5ca18be5\"",
    "created_at": "2016-03-18T12:53:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359298",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0dff97b48d12b6d2caf4917a20b6d51feca24b7d" to "2b6875adf5689fd87a0d9bc74fce262a5ca18be5"



---

archive/issue_comments_359299.json:
```json
{
    "body": "<a id='comment:18'></a>\nHello,\n\nI made the changes.\n\nI also removed a test from `AbstractLinearCode`'s `__eq__` which was comparing the matrices of two codes. As it was not testing `__eq__` for codes at all, I simply deleted it.\n\nDavid",
    "created_at": "2016-03-18T12:55:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359299",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:18'></a>
Hello,

I made the changes.

I also removed a test from `AbstractLinearCode`'s `__eq__` which was comparing the matrices of two codes. As it was not testing `__eq__` for codes at all, I simply deleted it.

David



---

archive/issue_comments_359300.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-03-18T14:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359300",
    "user": "https://github.com/ClementPernet"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_359301.json:
```json
{
    "body": "<a id='comment:19'></a>\nAll good. Positive review.",
    "created_at": "2016-03-18T14:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359301",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:19'></a>
All good. Positive review.



---

archive/issue_events_054414.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-20T23:41:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19930#event-54414"
}
```



---

archive/issue_comments_359302.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-03-20T23:41:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359302",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_359303.json:
```json
{
    "body": "Changing branch from \"u/dlucas/hamming_code\" to \"2b6875adf5689fd87a0d9bc74fce262a5ca18be5\"",
    "created_at": "2016-03-20T23:41:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19930#issuecomment-359303",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dlucas/hamming_code" to "2b6875adf5689fd87a0d9bc74fce262a5ca18be5"
