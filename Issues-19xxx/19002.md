# Issue 19002: Change behavior for vacancy numbers

archive/issues_018765.json:
```json
{
    "body": "Currently, the input `i` for the method `get_vacancy_number` returns the vacancy number for the `i`th row. This prohibits the user from calculating vacancy numbers p<sub>k</sub><sup>(a)</sup>. This ticket makes the following changes:\n\n- the internal and public behavior;\n- changes `get_vacancy_number` to `vacancy_number`;\n- removes the `get_vacancy_numbers` method.\n\nThis is a backwards incompatible change.\n\nAssignee: sage-combinat\n\nCC:  sage-combinat @anneschilling @bsalisbury1\n\nKeywords: rigged configurations\n\nBranch/Commit: 737fb9840ddb72ff34afd0e27580e0adaa44683f\n\nReviewer: Anne Schilling\n\nAuthor: Travis Scrimshaw\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19002\n\n",
    "closed_at": "2015-09-17T09:24:12Z",
    "created_at": "2015-08-08T05:40:27Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "Change behavior for vacancy numbers",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19002",
    "user": "https://github.com/tscrim"
}
```
Currently, the input `i` for the method `get_vacancy_number` returns the vacancy number for the `i`th row. This prohibits the user from calculating vacancy numbers p<sub>k</sub><sup>(a)</sup>. This ticket makes the following changes:

- the internal and public behavior;
- changes `get_vacancy_number` to `vacancy_number`;
- removes the `get_vacancy_numbers` method.

This is a backwards incompatible change.

Assignee: sage-combinat

CC:  sage-combinat @anneschilling @bsalisbury1

Keywords: rigged configurations

Branch/Commit: 737fb9840ddb72ff34afd0e27580e0adaa44683f

Reviewer: Anne Schilling

Author: Travis Scrimshaw

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19002





---

archive/issue_comments_340716.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-Currently, the input `i` for the method `get_vacancy_number` returns the vacancy number for the `i`th row. This prohibits the user from calculating vacancy numbers p<sub>k</sub><sup>(a)</sup>. This ticket changes both the internal and public behavior.\n+Currently, the input `i` for the method `get_vacancy_number` returns the vacancy number for the `i`th row. This prohibits the user from calculating vacancy numbers p<sub>k</sub><sup>(a)</sup>. This ticket changes both the internal and public behavior; it also removes the `get_vacancy_numbers` method.\n \n-Note this is a backwards incompatible change.\n+This is a backwards incompatible change.\n``````\n",
    "created_at": "2015-08-08T05:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340716",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-Currently, the input `i` for the method `get_vacancy_number` returns the vacancy number for the `i`th row. This prohibits the user from calculating vacancy numbers p<sub>k</sub><sup>(a)</sup>. This ticket changes both the internal and public behavior.
+Currently, the input `i` for the method `get_vacancy_number` returns the vacancy number for the `i`th row. This prohibits the user from calculating vacancy numbers p<sub>k</sub><sup>(a)</sup>. This ticket changes both the internal and public behavior; it also removes the `get_vacancy_numbers` method.
 
-Note this is a backwards incompatible change.
+This is a backwards incompatible change.
``````




---

archive/issue_comments_340717.json:
```json
{
    "body": "<a id='comment:1'></a>\nI kinda wanted that 19000 ticket number. :P\n\n---\nNew commits:\n|                                                                                                                                          |                                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|\n|[070c2d9](https://github.com/sagemath/sagetrac-mirror/commit/070c2d92444389116716e5f5e4fbe34f745d8489)|`Changing behavior for vacancy numbers in rigged configurations.`|\n|[c1eea6f](https://github.com/sagemath/sagetrac-mirror/commit/c1eea6f06caa11b6d3a20ed7ca357b523e45b1b2)|`Removed i None input for _calc_vacancy_number`|",
    "created_at": "2015-08-08T05:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340717",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
I kinda wanted that 19000 ticket number. :P

---
New commits:
|                                                                                                                                          |                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
|[070c2d9](https://github.com/sagemath/sagetrac-mirror/commit/070c2d92444389116716e5f5e4fbe34f745d8489)|`Changing behavior for vacancy numbers in rigged configurations.`|
|[c1eea6f](https://github.com/sagemath/sagetrac-mirror/commit/c1eea6f06caa11b6d3a20ed7ca357b523e45b1b2)|`Removed i None input for _calc_vacancy_number`|



---

archive/issue_comments_340718.json:
```json
{
    "body": "Changing branch from \"\" to \"public/rigged_configurations/vacancy_numbers-19002\"",
    "created_at": "2015-08-08T05:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340718",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "" to "public/rigged_configurations/vacancy_numbers-19002"



---

archive/issue_comments_340719.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-08-08T05:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340719",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_340720.json:
```json
{
    "body": "Changing commit from \"\" to \"c1eea6f06caa11b6d3a20ed7ca357b523e45b1b2\"",
    "created_at": "2015-08-08T05:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340720",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "" to "c1eea6f06caa11b6d3a20ed7ca357b523e45b1b2"



---

archive/issue_comments_340721.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [tscrim](#comment%3A1):\n> I kinda wanted that 19000 ticket number. :P\n\n\nBesides the ticket number, the numbering of the rigged partitions seems to be off \n\n```\nsage: RC = RiggedConfigurations(['D',8,1],[[8,1],[6,3]])\nsage: H = RC.module_generators\nsage: rc = H[34]\nsage: rc\n\n(/)\n\n0[ ]0\n\n0[ ]0\n0[ ]0\n\n0[ ]0\n0[ ]0\n0[ ]0\n\n0[ ]0\n0[ ]0\n0[ ]0\n0[ ]0\n\n0[ ][ ]0\n0[ ]0\n0[ ]0\n0[ ]0\n0[ ]0\n\n0[ ][ ]0\n1[ ]1\n\n0[ ]0\n0[ ]0\n0[ ]0\n\nsage: rc[8]\n---------------------------------------------------------------------------\nIndexError                                Traceback (most recent call last)\n<ipython-input-28-f31668b6dd44> in <module>()\n----> 1 rc[Integer(8)]\n\n/Applications/sage/src/sage/structure/list_clone.pyx in sage.structure.list_clone.ClonableArray.__getitem__ (/Applications/sage/src/build/cythonized/sage/structure/list_clone.c:4586)()\n    651         if isinstance(key, slice):\n    652             self._list[key.start:key.stop:key.step]\n--> 653         return self._list[key]\n    654 \n    655     def __setitem__(self, int key, value):\n\nIndexError: list index out of range\n```\nI guess the indexing for `a` starts at 0 rather than `1`. But then the documentation is misleading since it is not the math labeling. Also, wouldn't it be useful to be able to do\n\n```\nrc.vacancy_number(a,i)\n```\n\nBest,\n\nAnne",
    "created_at": "2015-08-13T05:44:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340721",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:2'></a>
Replying to [tscrim](#comment%3A1):
> I kinda wanted that 19000 ticket number. :P


Besides the ticket number, the numbering of the rigged partitions seems to be off 

```
sage: RC = RiggedConfigurations(['D',8,1],[[8,1],[6,3]])
sage: H = RC.module_generators
sage: rc = H[34]
sage: rc

(/)

0[ ]0

0[ ]0
0[ ]0

0[ ]0
0[ ]0
0[ ]0

0[ ]0
0[ ]0
0[ ]0
0[ ]0

0[ ][ ]0
0[ ]0
0[ ]0
0[ ]0
0[ ]0

0[ ][ ]0
1[ ]1

0[ ]0
0[ ]0
0[ ]0

sage: rc[8]
---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
<ipython-input-28-f31668b6dd44> in <module>()
----> 1 rc[Integer(8)]

/Applications/sage/src/sage/structure/list_clone.pyx in sage.structure.list_clone.ClonableArray.__getitem__ (/Applications/sage/src/build/cythonized/sage/structure/list_clone.c:4586)()
    651         if isinstance(key, slice):
    652             self._list[key.start:key.stop:key.step]
--> 653         return self._list[key]
    654 
    655     def __setitem__(self, int key, value):

IndexError: list index out of range
```
I guess the indexing for `a` starts at 0 rather than `1`. But then the documentation is misleading since it is not the math labeling. Also, wouldn't it be useful to be able to do

```
rc.vacancy_number(a,i)
```

Best,

Anne



---

archive/issue_comments_340722.json:
```json
{
    "body": "Changing commit from \"c1eea6f06caa11b6d3a20ed7ca357b523e45b1b2\" to \"b42dc63a99f48dcc0309529dd65497e741a0884f\"",
    "created_at": "2015-08-23T18:40:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340722",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c1eea6f06caa11b6d3a20ed7ca357b523e45b1b2" to "b42dc63a99f48dcc0309529dd65497e741a0884f"



---

archive/issue_comments_340723.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                                                                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|\n|[effe2c4](https://github.com/sagemath/sagetrac-mirror/commit/effe2c40de46cb6f9956d05690bb0343112c7376)|`Merge branch 'public/rigged_configurations/vacancy_numbers-19002' of git://trac.sagemath.org/sage into public/rigged_configurations/vacancy_numbers-19002`|\n|[b42dc63](https://github.com/sagemath/sagetrac-mirror/commit/b42dc63a99f48dcc0309529dd65497e741a0884f)|`Changed get_vacancy_number -> vacancy_number() and added another example.`|",
    "created_at": "2015-08-23T18:40:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340723",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                                                                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|
|[effe2c4](https://github.com/sagemath/sagetrac-mirror/commit/effe2c40de46cb6f9956d05690bb0343112c7376)|`Merge branch 'public/rigged_configurations/vacancy_numbers-19002' of git://trac.sagemath.org/sage into public/rigged_configurations/vacancy_numbers-19002`|
|[b42dc63](https://github.com/sagemath/sagetrac-mirror/commit/b42dc63a99f48dcc0309529dd65497e741a0884f)|`Changed get_vacancy_number -> vacancy_number() and added another example.`|



---

archive/issue_comments_340724.json:
```json
{
    "body": "<a id='comment:4'></a>\nI've changed `get_vacancy_number` to `vacancy_number` and added the additional doctest as we discussed.",
    "created_at": "2015-08-23T18:45:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340724",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
I've changed `get_vacancy_number` to `vacancy_number` and added the additional doctest as we discussed.



---

archive/issue_comments_340725.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n-Currently, the input `i` for the method `get_vacancy_number` returns the vacancy number for the `i`th row. This prohibits the user from calculating vacancy numbers p<sub>k</sub><sup>(a)</sup>. This ticket changes both the internal and public behavior; it also removes the `get_vacancy_numbers` method.\n+Currently, the input `i` for the method `get_vacancy_number` returns the vacancy number for the `i`th row. This prohibits the user from calculating vacancy numbers p<sub>k</sub><sup>(a)</sup>. This ticket makes the following changes:\n+\n+- the internal and public behavior;\n+- changes `get_vacancy_number` to `vacancy_number`;\n+- removes the `get_vacancy_numbers` method.\n \n This is a backwards incompatible change.\n``````\n",
    "created_at": "2015-08-23T18:45:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340725",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
-Currently, the input `i` for the method `get_vacancy_number` returns the vacancy number for the `i`th row. This prohibits the user from calculating vacancy numbers p<sub>k</sub><sup>(a)</sup>. This ticket changes both the internal and public behavior; it also removes the `get_vacancy_numbers` method.
+Currently, the input `i` for the method `get_vacancy_number` returns the vacancy number for the `i`th row. This prohibits the user from calculating vacancy numbers p<sub>k</sub><sup>(a)</sup>. This ticket makes the following changes:
+
+- the internal and public behavior;
+- changes `get_vacancy_number` to `vacancy_number`;
+- removes the `get_vacancy_numbers` method.
 
 This is a backwards incompatible change.
``````




---

archive/issue_comments_340726.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|\n|[669d13e](https://github.com/sagemath/sagetrac-mirror/commit/669d13e85862f5c57010613e16910c1053b7b796)|`Merge branch 'develop' into public/rigged_configurations/vacancy_numbers-19002`|\n|[1c74a9b](https://github.com/sagemath/sagetrac-mirror/commit/1c74a9bc6fb8ab907c61d497314ff2bab8e4d27a)|`Fixed a whitespace issue.`|",
    "created_at": "2015-08-26T01:28:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340726",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|
|[669d13e](https://github.com/sagemath/sagetrac-mirror/commit/669d13e85862f5c57010613e16910c1053b7b796)|`Merge branch 'develop' into public/rigged_configurations/vacancy_numbers-19002`|
|[1c74a9b](https://github.com/sagemath/sagetrac-mirror/commit/1c74a9bc6fb8ab907c61d497314ff2bab8e4d27a)|`Fixed a whitespace issue.`|



---

archive/issue_comments_340727.json:
```json
{
    "body": "Changing commit from \"b42dc63a99f48dcc0309529dd65497e741a0884f\" to \"1c74a9bc6fb8ab907c61d497314ff2bab8e4d27a\"",
    "created_at": "2015-08-26T01:28:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340727",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b42dc63a99f48dcc0309529dd65497e741a0884f" to "1c74a9bc6fb8ab907c61d497314ff2bab8e4d27a"



---

archive/issue_comments_340728.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|\n|[737fb98](https://github.com/sagemath/sagetrac-mirror/commit/737fb9840ddb72ff34afd0e27580e0adaa44683f)|`Merge branch 'develop' into public/rigged_configurations/vacancy_numbers-19002`|",
    "created_at": "2015-09-15T23:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340728",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|
|[737fb98](https://github.com/sagemath/sagetrac-mirror/commit/737fb9840ddb72ff34afd0e27580e0adaa44683f)|`Merge branch 'develop' into public/rigged_configurations/vacancy_numbers-19002`|



---

archive/issue_comments_340729.json:
```json
{
    "body": "Changing commit from \"1c74a9bc6fb8ab907c61d497314ff2bab8e4d27a\" to \"737fb9840ddb72ff34afd0e27580e0adaa44683f\"",
    "created_at": "2015-09-15T23:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340729",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1c74a9bc6fb8ab907c61d497314ff2bab8e4d27a" to "737fb9840ddb72ff34afd0e27580e0adaa44683f"



---

archive/issue_comments_340730.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-09-16T00:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340730",
    "user": "https://github.com/anneschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_340731.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Anne Schilling\"",
    "created_at": "2015-09-16T00:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340731",
    "user": "https://github.com/anneschilling"
}
```

Changing reviewer from "" to "Anne Schilling"



---

archive/issue_comments_340732.json:
```json
{
    "body": "<a id='comment:8'></a>\nOk, this looks good to me now!",
    "created_at": "2015-09-16T00:15:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340732",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:8'></a>
Ok, this looks good to me now!



---

archive/issue_comments_340733.json:
```json
{
    "body": "<a id='comment:9'></a>\nThanks for doing the review!",
    "created_at": "2015-09-16T00:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340733",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
Thanks for doing the review!



---

archive/issue_comments_340734.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-09-17T09:24:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340734",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_060165.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-17T09:24:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19002#event-60165"
}
```



---

archive/issue_comments_340735.json:
```json
{
    "body": "Changing branch from \"public/rigged_configurations/vacancy_numbers-19002\" to \"737fb9840ddb72ff34afd0e27580e0adaa44683f\"",
    "created_at": "2015-09-17T09:24:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19002#issuecomment-340735",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/rigged_configurations/vacancy_numbers-19002" to "737fb9840ddb72ff34afd0e27580e0adaa44683f"
