# Issue 19957: Asymptotic ring: list plot comparing values

archive/issues_019720.json:
```json
{
    "body": "Implement a new helper method for plausibility check of asymptotic expansions.\n\nCC:  @dkrenn @behackl\n\nBranch/Commit: 5d6e9b2528fdafb7f9cf513e4d7f954fe1f06eba\n\nReviewer: Clemens Heuberger, Daniel Krenn\n\nAuthor: Benjamin Hackl, Clemens Heuberger\n\nDependencies: #19931, #19946\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19957\n\n",
    "closed_at": "2016-01-28T20:09:05Z",
    "created_at": "2016-01-25T06:43:48Z",
    "labels": [
        "component: asymptotic expansions"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "Asymptotic ring: list plot comparing values",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19957",
    "user": "https://github.com/cheuberg"
}
```
Implement a new helper method for plausibility check of asymptotic expansions.

CC:  @dkrenn @behackl

Branch/Commit: 5d6e9b2528fdafb7f9cf513e4d7f954fe1f06eba

Reviewer: Clemens Heuberger, Daniel Krenn

Author: Benjamin Hackl, Clemens Heuberger

Dependencies: #19931, #19946

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19957





---

archive/issue_comments_359862.json:
```json
{
    "body": "Changing branch from \"\" to \"u/cheuberg/asy/commpare-with-values\"",
    "created_at": "2016-01-25T07:26:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359862",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "" to "u/cheuberg/asy/commpare-with-values"



---

archive/issue_comments_359863.json:
```json
{
    "body": "Changing commit from \"\" to \"9be60a072f561272cd8e79961acda0dbbd269971\"",
    "created_at": "2016-01-25T07:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359863",
    "user": "https://github.com/cheuberg"
}
```

Changing commit from "" to "9be60a072f561272cd8e79961acda0dbbd269971"



---

archive/issue_comments_359864.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#19931\"",
    "created_at": "2016-01-25T07:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359864",
    "user": "https://github.com/cheuberg"
}
```

Changing dependencies from "" to "#19931"



---

archive/issue_comments_359865.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[8aa55e2](http://git.sagemath.org/sage.git/commit/?id=8aa55e2fe0bd8c448658de35a4e384809fe00d42)|`implement exact_part`|\n|[9be60a0](http://git.sagemath.org/sage.git/commit/?id=9be60a072f561272cd8e79961acda0dbbd269971)|`Trac #19957: Asymptotic ring: list plot comparing values`|",
    "created_at": "2016-01-25T07:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359865",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[8aa55e2](http://git.sagemath.org/sage.git/commit/?id=8aa55e2fe0bd8c448658de35a4e384809fe00d42)|`implement exact_part`|
|[9be60a0](http://git.sagemath.org/sage.git/commit/?id=9be60a072f561272cd8e79961acda0dbbd269971)|`Trac #19957: Asymptotic ring: list plot comparing values`|



---

archive/issue_comments_359866.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[fd6b4ec](http://git.sagemath.org/sage.git/commit/?id=fd6b4ec75f7917d326c3c1e4ab5b1f2b715a6c95)|`Trac #19957: additional doctests`|",
    "created_at": "2016-01-25T07:37:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359866",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[fd6b4ec](http://git.sagemath.org/sage.git/commit/?id=fd6b4ec75f7917d326c3c1e4ab5b1f2b715a6c95)|`Trac #19957: additional doctests`|



---

archive/issue_comments_359867.json:
```json
{
    "body": "Changing commit from \"9be60a072f561272cd8e79961acda0dbbd269971\" to \"fd6b4ec75f7917d326c3c1e4ab5b1f2b715a6c95\"",
    "created_at": "2016-01-25T07:37:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359867",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9be60a072f561272cd8e79961acda0dbbd269971" to "fd6b4ec75f7917d326c3c1e4ab5b1f2b715a6c95"



---

archive/issue_comments_359868.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-01-25T07:47:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359868",
    "user": "https://github.com/cheuberg"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_359869.json:
```json
{
    "body": "<a id='comment:5'></a>\nHi! I really like the idea of this ticket; graphic comparison is quite useful. Quick remarks:\n\n- should there be a keyword `scaled=True` with which the division by the error term can be controlled?\n- would it make sense to be able to compare against expansions without error term?\n- what do you think of a `PLOTS::`-section for the documentation?",
    "created_at": "2016-01-25T08:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359869",
    "user": "https://github.com/behackl"
}
```

<a id='comment:5'></a>
Hi! I really like the idea of this ticket; graphic comparison is quite useful. Quick remarks:

- should there be a keyword `scaled=True` with which the division by the error term can be controlled?
- would it make sense to be able to compare against expansions without error term?
- what do you think of a `PLOTS::`-section for the documentation?



---

archive/issue_comments_359870.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2016-01-25T08:01:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359870",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_359871.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [behackl](#comment%3A5):\n> Hi! I really like the idea of this ticket; graphic comparison is quite useful. Quick remarks:\n> \n> - should there be a keyword `scaled=True` with which the division by the error term can be controlled?\n\n\nwhat would `scaled=True` and `scaled=False` do?\n\n> - would it make sense to be able to compare against expansions without error term?\n\n\nif there is no error term, then there is no need to rescale nor plot,\n`all( ... for ...)` should do the trick in that case.\n\n> - what do you think of a `PLOTS::`-section for the documentation?\n\n\nWithin a finite amount of time, I could not get it to work. In any case, this is distinct from doctesting; thus one would have to repeat all commands to generate the plot. Sage preparsing apparently does not work here. Then I got a strange error message.\n\nFor doctests, I rather think that we might want to output the list itself instead of the list plot, perhaps already piped through `RIF` or something like that. That would make useful doctests (and could be used throughout the modules during review phases). Thus there could be a flag `return_list=True` or something like that (or a separate method computing the list which could be used in this method here ...).",
    "created_at": "2016-01-25T08:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359871",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:7'></a>
Replying to [behackl](#comment%3A5):
> Hi! I really like the idea of this ticket; graphic comparison is quite useful. Quick remarks:
> 
> - should there be a keyword `scaled=True` with which the division by the error term can be controlled?


what would `scaled=True` and `scaled=False` do?

> - would it make sense to be able to compare against expansions without error term?


if there is no error term, then there is no need to rescale nor plot,
`all( ... for ...)` should do the trick in that case.

> - what do you think of a `PLOTS::`-section for the documentation?


Within a finite amount of time, I could not get it to work. In any case, this is distinct from doctesting; thus one would have to repeat all commands to generate the plot. Sage preparsing apparently does not work here. Then I got a strange error message.

For doctests, I rather think that we might want to output the list itself instead of the list plot, perhaps already piped through `RIF` or something like that. That would make useful doctests (and could be used throughout the modules during review phases). Thus there could be a flag `return_list=True` or something like that (or a separate method computing the list which could be used in this method here ...).



---

archive/issue_comments_359872.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/asy/commpare-with-values\" to \"u/behackl/asy/compare-with-values\"",
    "created_at": "2016-01-25T23:50:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359872",
    "user": "https://github.com/behackl"
}
```

Changing branch from "u/cheuberg/asy/commpare-with-values" to "u/behackl/asy/compare-with-values"



---

archive/issue_comments_359873.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2016-01-25T23:50:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359873",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_359874.json:
```json
{
    "body": "Changing commit from \"fd6b4ec75f7917d326c3c1e4ab5b1f2b715a6c95\" to \"5b20379b8dafbf0467eb040d55bc0d857f2a1ea3\"",
    "created_at": "2016-01-25T23:50:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359874",
    "user": "https://github.com/behackl"
}
```

Changing commit from "fd6b4ec75f7917d326c3c1e4ab5b1f2b715a6c95" to "5b20379b8dafbf0467eb040d55bc0d857f2a1ea3"



---

archive/issue_comments_359875.json:
```json
{
    "body": "Changing author from \"Clemens Heuberger\" to \"Benjamin Hackl, Clemens Heuberger\"",
    "created_at": "2016-01-25T23:50:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359875",
    "user": "https://github.com/behackl"
}
```

Changing author from "Clemens Heuberger" to "Benjamin Hackl, Clemens Heuberger"



---

archive/issue_comments_359876.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [cheuberg](#comment%3A7):\n> > - should there be a keyword `scaled=True` with which the division by the error term can be controlled?\n \n> \n> what would `scaled=True` and `scaled=False` do?\n\n\nPlot the relative and the absolute error, respectively. Sometimes I like to look at both.\n\n> \n> > - what do you think of a `PLOTS::`-section for the documentation?\n \n> \n> Within a finite amount of time, I could not get it to work. In any case, this is distinct from doctesting; thus one would have to repeat all commands to generate the plot. Sage preparsing apparently does not work here. Then I got a strange error message.\n> \n\n\nI couldn't get it to work either: some strange error regarding coercion of a function to `SR` occurrs...\n\n> For doctests, I rather think that we might want to output the list itself instead of the list plot, perhaps already piped through `RIF` or something like that. That would make useful doctests (and could be used throughout the modules during review phases). Thus there could be a flag `return_list=True` or something like that (or a separate method computing the list which could be used in this method here ...).\n\n\nI've implemented parts of this: there are now two methods; one for computing the list of differences and one for actually plotting. Also, for the sake of convenience, I've added the option to input a symbolic expression containing at most one variable.\n\nRegarding the output: while I'd really like to have RIFs in the output of the difference method, unfortunately this causes problems for `list_plot`, e.g. try\n\n```\nsage: list_plot([(k, RIF(sqrt(k))) for k in srange(10)])\n```\nIf the difference should lie in a RIF, the list would have to be processed again before plotting.\n\nOpinions?\n\n---\nNew commits:\n|                                                                                                                                          |                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[83125aa](http://git.sagemath.org/sage.git/commit/?id=83125aa065b7dc7c5f0e2bd5d18f684b3e81c6c9)|`let compare_with_values return a list of tuples`|\n|[85bf9a0](http://git.sagemath.org/sage.git/commit/?id=85bf9a04e78124afb27bac5733dc50354f816eed)|`add rescaled-parameter`|\n|[d110580](http://git.sagemath.org/sage.git/commit/?id=d1105800bb03becdac4d6dbbe97a2640000d18fe)|`allow symbolic arguments for values`|\n|[b09ae92](http://git.sagemath.org/sage.git/commit/?id=b09ae927e5fc9da867b8239f1a96ff09e2a09fad)|`improve doctests with shorter workaround`|\n|[5b20379](http://git.sagemath.org/sage.git/commit/?id=5b20379b8dafbf0467eb040d55bc0d857f2a1ea3)|`add plot_comparison method`|",
    "created_at": "2016-01-25T23:50:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359876",
    "user": "https://github.com/behackl"
}
```

<a id='comment:8'></a>
Replying to [cheuberg](#comment%3A7):
> > - should there be a keyword `scaled=True` with which the division by the error term can be controlled?
 
> 
> what would `scaled=True` and `scaled=False` do?


Plot the relative and the absolute error, respectively. Sometimes I like to look at both.

> 
> > - what do you think of a `PLOTS::`-section for the documentation?
 
> 
> Within a finite amount of time, I could not get it to work. In any case, this is distinct from doctesting; thus one would have to repeat all commands to generate the plot. Sage preparsing apparently does not work here. Then I got a strange error message.
> 


I couldn't get it to work either: some strange error regarding coercion of a function to `SR` occurrs...

> For doctests, I rather think that we might want to output the list itself instead of the list plot, perhaps already piped through `RIF` or something like that. That would make useful doctests (and could be used throughout the modules during review phases). Thus there could be a flag `return_list=True` or something like that (or a separate method computing the list which could be used in this method here ...).


I've implemented parts of this: there are now two methods; one for computing the list of differences and one for actually plotting. Also, for the sake of convenience, I've added the option to input a symbolic expression containing at most one variable.

Regarding the output: while I'd really like to have RIFs in the output of the difference method, unfortunately this causes problems for `list_plot`, e.g. try

```
sage: list_plot([(k, RIF(sqrt(k))) for k in srange(10)])
```
If the difference should lie in a RIF, the list would have to be processed again before plotting.

Opinions?

---
New commits:
|                                                                                                                                          |                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[83125aa](http://git.sagemath.org/sage.git/commit/?id=83125aa065b7dc7c5f0e2bd5d18f684b3e81c6c9)|`let compare_with_values return a list of tuples`|
|[85bf9a0](http://git.sagemath.org/sage.git/commit/?id=85bf9a04e78124afb27bac5733dc50354f816eed)|`add rescaled-parameter`|
|[d110580](http://git.sagemath.org/sage.git/commit/?id=d1105800bb03becdac4d6dbbe97a2640000d18fe)|`allow symbolic arguments for values`|
|[b09ae92](http://git.sagemath.org/sage.git/commit/?id=b09ae927e5fc9da867b8239f1a96ff09e2a09fad)|`improve doctests with shorter workaround`|
|[5b20379](http://git.sagemath.org/sage.git/commit/?id=5b20379b8dafbf0467eb040d55bc0d857f2a1ea3)|`add plot_comparison method`|



---

archive/issue_comments_359877.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [behackl](#comment%3A8):\n> Regarding the output: while I'd really like to have RIFs in the output of the difference method, unfortunately this causes problems for `list_plot`, e.g. try\n> \n> ```\n> sage: list_plot([(k, RIF(sqrt(k))) for k in srange(10)])\n> ```\n> If the difference should lie in a RIF, the list would have to be processed again before plotting.\n\n\n#15011.",
    "created_at": "2016-01-26T07:29:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359877",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:9'></a>
Replying to [behackl](#comment%3A8):
> Regarding the output: while I'd really like to have RIFs in the output of the difference method, unfortunately this causes problems for `list_plot`, e.g. try
> 
> ```
> sage: list_plot([(k, RIF(sqrt(k))) for k in srange(10)])
> ```
> If the difference should lie in a RIF, the list would have to be processed again before plotting.


#15011.



---

archive/issue_comments_359878.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Clemens Heuberger\"",
    "created_at": "2016-01-26T12:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359878",
    "user": "https://github.com/cheuberg"
}
```

Changing reviewer from "" to "Clemens Heuberger"



---

archive/issue_comments_359879.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-01-26T12:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359879",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_359880.json:
```json
{
    "body": "<a id='comment:10'></a>\n1. `compare_with_value` should have a parameter `ring=RIF` and results should be converted into ring\n2. Examples section should still contain an example with a function\n3. `see also` block from `compare_with_value` to `plot_comparison`\n4. why `*kwargs` in the call of `list_plot` instead of `**kwargs`?\n5. Example with non-trivial arguments, i.e. setting a color.\n6. `plot_comparison` will then need conversion from RIF to RR; this could also check whether there is still precision left (relative error of 1% seems to be tolerable for a plot) and raise an error otherwise.\n7. `plot_comparison` should also accept a `ring`; it should be documented and treated to be a `RealIntervalField`.",
    "created_at": "2016-01-26T12:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359880",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:10'></a>
1. `compare_with_value` should have a parameter `ring=RIF` and results should be converted into ring
2. Examples section should still contain an example with a function
3. `see also` block from `compare_with_value` to `plot_comparison`
4. why `*kwargs` in the call of `list_plot` instead of `**kwargs`?
5. Example with non-trivial arguments, i.e. setting a color.
6. `plot_comparison` will then need conversion from RIF to RR; this could also check whether there is still precision left (relative error of 1% seems to be tolerable for a plot) and raise an error otherwise.
7. `plot_comparison` should also accept a `ring`; it should be documented and treated to be a `RealIntervalField`.



---

archive/issue_comments_359881.json:
```json
{
    "body": "Changing branch from \"u/behackl/asy/compare-with-values\" to \"u/cheuberg/asy/compare-with-values\"",
    "created_at": "2016-01-26T14:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359881",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "u/behackl/asy/compare-with-values" to "u/cheuberg/asy/compare-with-values"



---

archive/issue_comments_359882.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/asy/compare-with-values\" to \"u/behackl/asy/compare-with-values\"",
    "created_at": "2016-01-26T19:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359882",
    "user": "https://github.com/behackl"
}
```

Changing branch from "u/cheuberg/asy/compare-with-values" to "u/behackl/asy/compare-with-values"



---

archive/issue_comments_359883.json:
```json
{
    "body": "Changing commit from \"5b20379b8dafbf0467eb040d55bc0d857f2a1ea3\" to \"51668a9d5c0b8af1c11f9d5b1703e326e7b4d317\"",
    "created_at": "2016-01-26T19:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359883",
    "user": "https://github.com/behackl"
}
```

Changing commit from "5b20379b8dafbf0467eb040d55bc0d857f2a1ea3" to "51668a9d5c0b8af1c11f9d5b1703e326e7b4d317"



---

archive/issue_comments_359884.json:
```json
{
    "body": "<a id='comment:12'></a>\nThanks for looking over my adaptions!\n\nReplying to [cheuberg](#comment%3A10):\n> 1. `compare_with_value` should have a parameter `ring=RIF` and results should be converted into ring\n\n\nDone.\n\n> 2. Examples section should still contain an example with a function\n\n\nDone.\n\n> 3. `see also` block from `compare_with_value` to `plot_comparison`\n\n\nDone.\n\n> 4. why `*kwargs` in the call of `list_plot` instead of `**kwargs`?\n\n\nTypo. Fixed.\n\n> 5. Example with non-trivial arguments, i.e. setting a color.\n\n\nI've added a more sophisticated doctest.\n\n> 6. `plot_comparison` will then need conversion from RIF to RR; this could also check whether there is still precision left (relative error of 1% seems to be tolerable for a plot) and raise an error otherwise.\n\n\nDone. The check currently is for a relative diameter of less than `0.025`, which seems like a somewhat practical choice (the example with the harmonic numbers then works up to `n \\approx 500`).\n\n> 7. `plot_comparison` should also accept a `ring`; it should be documented and treated to be a `RealIntervalField`.\n\n\nDone.\n\nBack to `needs_review`.\n\n---\nNew commits:\n|                                                                                                                                          |                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[2041027](http://git.sagemath.org/sage.git/commit/?id=204102747facf31e42e48f79191ebac77b7f0acb)|`Trac #19957: reviewer commit`|\n|[0990eed](http://git.sagemath.org/sage.git/commit/?id=0990eedfee8f6d1df40249c3cadf4353a9bd6038)|`add ring-parameter for compare_with_value`|\n|[6d1de23](http://git.sagemath.org/sage.git/commit/?id=6d1de2306f6ad886a52a80ce7b4fa0e047ae3b0a)|`adapt doctests`|\n|[7a6c9bb](http://git.sagemath.org/sage.git/commit/?id=7a6c9bb344f3ca51d1ba4b00622a97978af72c59)|`add doctest with function`|\n|[7023a0e](http://git.sagemath.org/sage.git/commit/?id=7023a0ea2c422c9ce794ced64b7d35dda8942a97)|`add seealso-block`|\n|[f0f349d](http://git.sagemath.org/sage.git/commit/?id=f0f349dc3cfddcd858bf95a9cbeaef331046d8e6)|`add doctest with plot-options`|\n|[154299f](http://git.sagemath.org/sage.git/commit/?id=154299f78fc9d49896e5134cf341f6d9de774e05)|`let plot_comparison deal with RIFs`|\n|[79bbc61](http://git.sagemath.org/sage.git/commit/?id=79bbc618c4a664673d87d4c2135bad4b7e3b0c49)|`improve code in loop`|\n|[51668a9](http://git.sagemath.org/sage.git/commit/?id=51668a9d5c0b8af1c11f9d5b1703e326e7b4d317)|`add doctest for numerical noise check`|",
    "created_at": "2016-01-26T19:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359884",
    "user": "https://github.com/behackl"
}
```

<a id='comment:12'></a>
Thanks for looking over my adaptions!

Replying to [cheuberg](#comment%3A10):
> 1. `compare_with_value` should have a parameter `ring=RIF` and results should be converted into ring


Done.

> 2. Examples section should still contain an example with a function


Done.

> 3. `see also` block from `compare_with_value` to `plot_comparison`


Done.

> 4. why `*kwargs` in the call of `list_plot` instead of `**kwargs`?


Typo. Fixed.

> 5. Example with non-trivial arguments, i.e. setting a color.


I've added a more sophisticated doctest.

> 6. `plot_comparison` will then need conversion from RIF to RR; this could also check whether there is still precision left (relative error of 1% seems to be tolerable for a plot) and raise an error otherwise.


Done. The check currently is for a relative diameter of less than `0.025`, which seems like a somewhat practical choice (the example with the harmonic numbers then works up to `n \approx 500`).

> 7. `plot_comparison` should also accept a `ring`; it should be documented and treated to be a `RealIntervalField`.


Done.

Back to `needs_review`.

---
New commits:
|                                                                                                                                          |                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[2041027](http://git.sagemath.org/sage.git/commit/?id=204102747facf31e42e48f79191ebac77b7f0acb)|`Trac #19957: reviewer commit`|
|[0990eed](http://git.sagemath.org/sage.git/commit/?id=0990eedfee8f6d1df40249c3cadf4353a9bd6038)|`add ring-parameter for compare_with_value`|
|[6d1de23](http://git.sagemath.org/sage.git/commit/?id=6d1de2306f6ad886a52a80ce7b4fa0e047ae3b0a)|`adapt doctests`|
|[7a6c9bb](http://git.sagemath.org/sage.git/commit/?id=7a6c9bb344f3ca51d1ba4b00622a97978af72c59)|`add doctest with function`|
|[7023a0e](http://git.sagemath.org/sage.git/commit/?id=7023a0ea2c422c9ce794ced64b7d35dda8942a97)|`add seealso-block`|
|[f0f349d](http://git.sagemath.org/sage.git/commit/?id=f0f349dc3cfddcd858bf95a9cbeaef331046d8e6)|`add doctest with plot-options`|
|[154299f](http://git.sagemath.org/sage.git/commit/?id=154299f78fc9d49896e5134cf341f6d9de774e05)|`let plot_comparison deal with RIFs`|
|[79bbc61](http://git.sagemath.org/sage.git/commit/?id=79bbc618c4a664673d87d4c2135bad4b7e3b0c49)|`improve code in loop`|
|[51668a9](http://git.sagemath.org/sage.git/commit/?id=51668a9d5c0b8af1c11f9d5b1703e326e7b4d317)|`add doctest for numerical noise check`|



---

archive/issue_comments_359885.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-01-26T19:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359885",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_359886.json:
```json
{
    "body": "Changing branch from \"u/behackl/asy/compare-with-values\" to \"u/dkrenn/asy/compare-with-values\"",
    "created_at": "2016-01-27T08:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359886",
    "user": "https://github.com/dkrenn"
}
```

Changing branch from "u/behackl/asy/compare-with-values" to "u/dkrenn/asy/compare-with-values"



---

archive/issue_comments_359887.json:
```json
{
    "body": "Changing reviewer from \"Clemens Heuberger\" to \"Clemens Heuberger, Daniel Krenn\"",
    "created_at": "2016-01-27T09:29:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359887",
    "user": "https://github.com/dkrenn"
}
```

Changing reviewer from "Clemens Heuberger" to "Clemens Heuberger, Daniel Krenn"



---

archive/issue_comments_359888.json:
```json
{
    "body": "Changing commit from \"51668a9d5c0b8af1c11f9d5b1703e326e7b4d317\" to \"0632fd3d610aa1c53ecd9b562c67502cb4ac4986\"",
    "created_at": "2016-01-27T09:29:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359888",
    "user": "https://github.com/dkrenn"
}
```

Changing commit from "51668a9d5c0b8af1c11f9d5b1703e326e7b4d317" to "0632fd3d610aa1c53ecd9b562c67502cb4ac4986"



---

archive/issue_comments_359889.json:
```json
{
    "body": "<a id='comment:14'></a>\nI've added a couple of small commits during review. Please check.\n\nTwo comments:\n\n- I find the naming of a variable `e` confusing...maybe using `expansion` would be better?\n\n- In the plot the hard-coded `0.025` should be adjustable by a parameter.\n \n---\nNew commits:\n|                                                                                                                                          |                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[311141f](http://git.sagemath.org/sage.git/commit/?id=311141f470e02517b8a77a42a42e8c39366863ae)|`Trac 19957 review: minor code rewrite`|\n|[7337e61](http://git.sagemath.org/sage.git/commit/?id=7337e61b5fa3ee422d8a4388780e9a0c1c83fe3b)|`Trac 19957 review: restructure part of the code and remove inner list to make it better readable`|\n|[0632fd3](http://git.sagemath.org/sage.git/commit/?id=0632fd3d610aa1c53ecd9b562c67502cb4ac4986)|`Trac 19957 review: minor changes in doc`|",
    "created_at": "2016-01-27T09:29:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359889",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:14'></a>
I've added a couple of small commits during review. Please check.

Two comments:

- I find the naming of a variable `e` confusing...maybe using `expansion` would be better?

- In the plot the hard-coded `0.025` should be adjustable by a parameter.
 
---
New commits:
|                                                                                                                                          |                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[311141f](http://git.sagemath.org/sage.git/commit/?id=311141f470e02517b8a77a42a42e8c39366863ae)|`Trac 19957 review: minor code rewrite`|
|[7337e61](http://git.sagemath.org/sage.git/commit/?id=7337e61b5fa3ee422d8a4388780e9a0c1c83fe3b)|`Trac 19957 review: restructure part of the code and remove inner list to make it better readable`|
|[0632fd3](http://git.sagemath.org/sage.git/commit/?id=0632fd3d610aa1c53ecd9b562c67502cb4ac4986)|`Trac 19957 review: minor changes in doc`|



---

archive/issue_comments_359890.json:
```json
{
    "body": "Changing branch from \"u/dkrenn/asy/compare-with-values\" to \"u/cheuberg/asy/compare-with-values\"",
    "created_at": "2016-01-27T09:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359890",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "u/dkrenn/asy/compare-with-values" to "u/cheuberg/asy/compare-with-values"



---

archive/issue_comments_359891.json:
```json
{
    "body": "Changing commit from \"0632fd3d610aa1c53ecd9b562c67502cb4ac4986\" to \"5d6e9b2528fdafb7f9cf513e4d7f954fe1f06eba\"",
    "created_at": "2016-01-27T09:51:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359891",
    "user": "https://github.com/cheuberg"
}
```

Changing commit from "0632fd3d610aa1c53ecd9b562c67502cb4ac4986" to "5d6e9b2528fdafb7f9cf513e4d7f954fe1f06eba"



---

archive/issue_comments_359892.json:
```json
{
    "body": "<a id='comment:16'></a>\nI reviewed your changes and added a couple of commits. Please cross-review.\n\nReplying to [dkrenn](#comment%3A14):\n> Two comments:\n> \n> - I find the naming of a variable `e` confusing...maybe using `expansion` would be better?\n\n\nDone.\n\n> - In the plot the hard-coded `0.025` should be adjustable by a parameter.\n\n\nDone.\n\n---\nLast 10 new commits:\n|                                                                                                                                          |                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[7918417](http://git.sagemath.org/sage.git/commit/?id=7918417adce86770e782d2f7607f8be6f80c258d)|`Trac #19946: additional doctest`|\n|[1471336](http://git.sagemath.org/sage.git/commit/?id=1471336d55af25f699c0e09ae5689197bdb8e232)|`Trac #19946: rewrite and improve explaination of 1b62954`|\n|[9f9a23f](http://git.sagemath.org/sage.git/commit/?id=9f9a23f9807fa2ffe914516daa8b43f3a486d8d7)|`Trac #19961: document rpow`|\n|[101e4de](http://git.sagemath.org/sage.git/commit/?id=101e4dee74ef436884d2fe93bb4258b28fad4c80)|`Merge branch 'u/dkrenn/t/19961' of trac.sagemath.org:sage into t/19946`|\n|[7179c78](http://git.sagemath.org/sage.git/commit/?id=7179c784bbd69881e7505053ff5bfb50ecdb1371)|`Trac #19946: link from general doc to detailed explaination`|\n|[1259201](http://git.sagemath.org/sage.git/commit/?id=1259201fe2a01fd64adf0b21489ecb8f321a987f)|`Trac #19946: fix typo`|\n|[3d51289](http://git.sagemath.org/sage.git/commit/?id=3d512899bd93b737d14b7eb5eac8e319fb446f0d)|`Trac #19957: Merge #19946 to avoid work-around`|\n|[b606fdf](http://git.sagemath.org/sage.git/commit/?id=b606fdf0d722feac56cc6f6bec1fbbd846a1b6a8)|`Trac #19957: remove work-around for #19946`|\n|[4346994](http://git.sagemath.org/sage.git/commit/?id=434699487bb80a132143e774a864373c73c3ed5c)|`Trac #19957: rename e to expansion in doctests`|\n|[5d6e9b2](http://git.sagemath.org/sage.git/commit/?id=5d6e9b2528fdafb7f9cf513e4d7f954fe1f06eba)|`Trac #19957: Introduce parameter relative tolerance`|",
    "created_at": "2016-01-27T09:51:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359892",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:16'></a>
I reviewed your changes and added a couple of commits. Please cross-review.

Replying to [dkrenn](#comment%3A14):
> Two comments:
> 
> - I find the naming of a variable `e` confusing...maybe using `expansion` would be better?


Done.

> - In the plot the hard-coded `0.025` should be adjustable by a parameter.


Done.

---
Last 10 new commits:
|                                                                                                                                          |                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[7918417](http://git.sagemath.org/sage.git/commit/?id=7918417adce86770e782d2f7607f8be6f80c258d)|`Trac #19946: additional doctest`|
|[1471336](http://git.sagemath.org/sage.git/commit/?id=1471336d55af25f699c0e09ae5689197bdb8e232)|`Trac #19946: rewrite and improve explaination of 1b62954`|
|[9f9a23f](http://git.sagemath.org/sage.git/commit/?id=9f9a23f9807fa2ffe914516daa8b43f3a486d8d7)|`Trac #19961: document rpow`|
|[101e4de](http://git.sagemath.org/sage.git/commit/?id=101e4dee74ef436884d2fe93bb4258b28fad4c80)|`Merge branch 'u/dkrenn/t/19961' of trac.sagemath.org:sage into t/19946`|
|[7179c78](http://git.sagemath.org/sage.git/commit/?id=7179c784bbd69881e7505053ff5bfb50ecdb1371)|`Trac #19946: link from general doc to detailed explaination`|
|[1259201](http://git.sagemath.org/sage.git/commit/?id=1259201fe2a01fd64adf0b21489ecb8f321a987f)|`Trac #19946: fix typo`|
|[3d51289](http://git.sagemath.org/sage.git/commit/?id=3d512899bd93b737d14b7eb5eac8e319fb446f0d)|`Trac #19957: Merge #19946 to avoid work-around`|
|[b606fdf](http://git.sagemath.org/sage.git/commit/?id=b606fdf0d722feac56cc6f6bec1fbbd846a1b6a8)|`Trac #19957: remove work-around for #19946`|
|[4346994](http://git.sagemath.org/sage.git/commit/?id=434699487bb80a132143e774a864373c73c3ed5c)|`Trac #19957: rename e to expansion in doctests`|
|[5d6e9b2](http://git.sagemath.org/sage.git/commit/?id=5d6e9b2528fdafb7f9cf513e4d7f954fe1f06eba)|`Trac #19957: Introduce parameter relative tolerance`|



---

archive/issue_comments_359893.json:
```json
{
    "body": "Changing dependencies from \"#19931\" to \"#19931, #19946\"",
    "created_at": "2016-01-27T09:56:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359893",
    "user": "https://github.com/cheuberg"
}
```

Changing dependencies from "#19931" to "#19931, #19946"



---

archive/issue_comments_359894.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [cheuberg](#comment%3A16):\n> I reviewed your changes and added a couple of commits. Please cross-review.\n\n\nLook good.\n\n> Replying to [dkrenn](#comment%3A14):\n> > Two comments:\n> > \n> > - I find the naming of a variable `e` confusing...maybe using `expansion` would be better?\n \n> \n> Done.\n> \n> > - In the plot the hard-coded `0.025` should be adjustable by a parameter.\n \n> \n> Done.\n\n\nReviewed and good.",
    "created_at": "2016-01-27T10:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359894",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:18'></a>
Replying to [cheuberg](#comment%3A16):
> I reviewed your changes and added a couple of commits. Please cross-review.


Look good.

> Replying to [dkrenn](#comment%3A14):
> > Two comments:
> > 
> > - I find the naming of a variable `e` confusing...maybe using `expansion` would be better?
 
> 
> Done.
> 
> > - In the plot the hard-coded `0.025` should be adjustable by a parameter.
 
> 
> Done.


Reviewed and good.



---

archive/issue_comments_359895.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-01-27T10:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359895",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_054472.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-28T20:09:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19957#event-54472"
}
```



---

archive/issue_comments_359896.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/asy/compare-with-values\" to \"5d6e9b2528fdafb7f9cf513e4d7f954fe1f06eba\"",
    "created_at": "2016-01-28T20:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359896",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/cheuberg/asy/compare-with-values" to "5d6e9b2528fdafb7f9cf513e4d7f954fe1f06eba"



---

archive/issue_comments_359897.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-01-28T20:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19957",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19957#issuecomment-359897",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
