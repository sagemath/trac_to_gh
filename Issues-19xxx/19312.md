# Issue 19312: Update to pynac-0.5.2

archive/issues_019075.json:
```json
{
    "assignees": [],
    "body": "The next big Pynac update has:\n\n* libgmp `bigint`s and `bigrat`s instead of `Integer` and `Rational` Python objects\n* assumptions/domains can influence Pynac computation\n* sync elementary assumptions on symbols/functions with Pynac (#19035)\n* C++11 results in better code readability\n* better decisions through more info flags and logic\n* return `not implemented` and `undecidable` for some decisions (for math. logic changes see the #19040 description)\n* add inexact flag for possible expansions / FP simplifications\n* `abs()` expansion\n* `function::info()`\n* from GiNaC: Fix `pow(+(...),2).expand()`\n* remove some unused files and other cleanup; add missing autoconf macro;\n* some older memleaks closed\n\nhttps://github.com/pynac/pynac/releases/download/pynac-0.5.2/pynac-0.5.2.tar.bz2\n\nDepends on #19606\n\n**Branch/Commit:** [bdda35e186887d05bd50fac9db19b785a5109e2e](https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e)\n\n**Reviewer:** Jeroen Demeyer, Travis Scrimshaw\n\n**Author:** Ralf Stephan\n\nIssue created by migration from https://trac.sagemath.org/ticket/19312\n\n",
    "closed_at": "2015-12-03T23:23:19Z",
    "created_at": "2015-09-29T13:28:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update to pynac-0.5.2",
    "type": "issue",
    "updated_at": "2015-12-03T23:23:19Z",
    "url": "https://github.com/sagemath/sage/issues/19312",
    "user": "https://github.com/rwst"
}
```
The next big Pynac update has:

* libgmp `bigint`s and `bigrat`s instead of `Integer` and `Rational` Python objects
* assumptions/domains can influence Pynac computation
* sync elementary assumptions on symbols/functions with Pynac (#19035)
* C++11 results in better code readability
* better decisions through more info flags and logic
* return `not implemented` and `undecidable` for some decisions (for math. logic changes see the #19040 description)
* add inexact flag for possible expansions / FP simplifications
* `abs()` expansion
* `function::info()`
* from GiNaC: Fix `pow(+(...),2).expand()`
* remove some unused files and other cleanup; add missing autoconf macro;
* some older memleaks closed

https://github.com/pynac/pynac/releases/download/pynac-0.5.2/pynac-0.5.2.tar.bz2

Depends on #19606

**Branch/Commit:** [bdda35e186887d05bd50fac9db19b785a5109e2e](https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e)

**Reviewer:** Jeroen Demeyer, Travis Scrimshaw

**Author:** Ralf Stephan

Issue created by migration from https://trac.sagemath.org/ticket/19312





---

archive/issue_comments_276583.json:
```json
{
    "body": "**Dependencies:** #19298",
    "created_at": "2015-09-29T13:31:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276583",
    "user": "https://github.com/rwst"
}
```

**Dependencies:** #19298



---

archive/issue_comments_276584.json:
```json
{
    "body": "<a id='comment:2'></a>\nMind you, it's not here yet. Git master has half a dozen small but difficult to trace bugs.",
    "created_at": "2015-09-29T13:33:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276584",
    "user": "https://github.com/rwst"
}
```

<a id='comment:2'></a>
Mind you, it's not here yet. Git master has half a dozen small but difficult to trace bugs.



---

archive/issue_comments_276585.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,6 +2,6 @@\n \n * libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects\n * assumptions/domains can influence Pynac computation\n-* 64 bit hashes\n+* 64 bit hashes (#19310)\n * C++11 results in better code readability\n \n``````\n",
    "created_at": "2015-09-29T13:33:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276585",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,6 +2,6 @@
 
 * libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects
 * assumptions/domains can influence Pynac computation
-* 64 bit hashes
+* 64 bit hashes (#19310)
 * C++11 results in better code readability
 
``````




---

archive/issue_comments_276586.json:
```json
{
    "body": "**Branch:** [u/rws/19312-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-1)",
    "created_at": "2015-10-16T15:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276586",
    "user": "https://github.com/rwst"
}
```

**Branch:** [u/rws/19312-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-1)



---

archive/issue_events_173886.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-16T15:46:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173886"
}
```



---

archive/issue_comments_276587.json:
```json
{
    "body": "<a id='comment:4'></a>\nThis works and can be reviewed independently on machines with gcc>=4.6, but please wait with setting positive for the build system changes (i.e., #19298).\n\nThere are two failing doctests: one only happens on doctesting and needs the associated environment; the other is the \"pi in RIF\" doctest which presented a philosophical problem to Sage developers (see #17984) and thus cannot be resolved in my lifetime.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/281541d51402ede85191923946c8d1f2c0911938\">281541d</a></td><td><code>package version and checksum</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e56e7790be8a6021a998e1890f42c70cd691b6bf\">e56e779</a></td><td><code>C++11 compile switches</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/474fff61e327f45aea06606b6b3a435dc123188d\">474fff6</a></td><td><code>19312: pynac/Sage interface adaptations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b512158578b9161c87e9b63535874fef8d9ae2b\">5b51215</a></td><td><code>19312: link assume/forget to pynac</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/626fb47dcc6b17ada8dcea446d61ffa4c9f64d73\">626fb47</a></td><td><code>19312: core of math logic rewrite of Expression.__nonzero__(), dedicated is_zero</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b8a09e6373328a88fae33f189ce8e6907ae7d33\">9b8a09e</a></td><td><code>19312: code changes in consequence of ex.__nonzero__() math logic changes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/361e3d831ff66feb282ac29f0a2c70e04197cb9a\">361e3d8</a></td><td><code>19312: doc/doctest changes in consequence of math. logic changes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8421ab9a0ad240f631d434a00c6690bcb94676c3\">8421ab9</a></td><td><code>19312: other doc/doctest changes because of pynac changes</code></td></tr></table>\n",
    "created_at": "2015-10-16T15:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276587",
    "user": "https://github.com/rwst"
}
```

<a id='comment:4'></a>
This works and can be reviewed independently on machines with gcc>=4.6, but please wait with setting positive for the build system changes (i.e., #19298).

There are two failing doctests: one only happens on doctesting and needs the associated environment; the other is the "pi in RIF" doctest which presented a philosophical problem to Sage developers (see #17984) and thus cannot be resolved in my lifetime.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/281541d51402ede85191923946c8d1f2c0911938">281541d</a></td><td><code>package version and checksum</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e56e7790be8a6021a998e1890f42c70cd691b6bf">e56e779</a></td><td><code>C++11 compile switches</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/474fff61e327f45aea06606b6b3a435dc123188d">474fff6</a></td><td><code>19312: pynac/Sage interface adaptations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b512158578b9161c87e9b63535874fef8d9ae2b">5b51215</a></td><td><code>19312: link assume/forget to pynac</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/626fb47dcc6b17ada8dcea446d61ffa4c9f64d73">626fb47</a></td><td><code>19312: core of math logic rewrite of Expression.__nonzero__(), dedicated is_zero</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b8a09e6373328a88fae33f189ce8e6907ae7d33">9b8a09e</a></td><td><code>19312: code changes in consequence of ex.__nonzero__() math logic changes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/361e3d831ff66feb282ac29f0a2c70e04197cb9a">361e3d8</a></td><td><code>19312: doc/doctest changes in consequence of math. logic changes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8421ab9a0ad240f631d434a00c6690bcb94676c3">8421ab9</a></td><td><code>19312: other doc/doctest changes because of pynac changes</code></td></tr></table>




---

archive/issue_comments_276588.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,6 +2,15 @@\n \n * libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects\n * assumptions/domains can influence Pynac computation\n-* 64 bit hashes (#19310)\n * C++11 results in better code readability\n+* better decisions through more info flags and logic\n+* return `not implemented` and `undecidable` for some decisions (for matzh. logic changes see #19040 description)\n+* add inexact flag for possible expansions / FP simplifications\n+* `abs()` expansion\n+* `function::info()`\n+* from GiNaC: Fix `pow(+(...),2).expand()`\n+* remove some unused files and other cleanup; add missing autoconf macro;\n+* some older memleaks closed\n \n+https://github.com/pynac/pynac/releases/download/pynac-0.5.0/pynac-0.5.0.tar.bz2\n+\n``````\n",
    "created_at": "2015-10-16T15:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276588",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,6 +2,15 @@
 
 * libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects
 * assumptions/domains can influence Pynac computation
-* 64 bit hashes (#19310)
 * C++11 results in better code readability
+* better decisions through more info flags and logic
+* return `not implemented` and `undecidable` for some decisions (for matzh. logic changes see #19040 description)
+* add inexact flag for possible expansions / FP simplifications
+* `abs()` expansion
+* `function::info()`
+* from GiNaC: Fix `pow(+(...),2).expand()`
+* remove some unused files and other cleanup; add missing autoconf macro;
+* some older memleaks closed
 
+https://github.com/pynac/pynac/releases/download/pynac-0.5.0/pynac-0.5.0.tar.bz2
+
``````




---

archive/issue_comments_276589.json:
```json
{
    "body": "**Commit:** [8421ab9a0ad240f631d434a00c6690bcb94676c3](https://github.com/sagemath/sagetrac-mirror/commit/8421ab9a0ad240f631d434a00c6690bcb94676c3)",
    "created_at": "2015-10-16T15:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276589",
    "user": "https://github.com/rwst"
}
```

**Commit:** [8421ab9a0ad240f631d434a00c6690bcb94676c3](https://github.com/sagemath/sagetrac-mirror/commit/8421ab9a0ad240f631d434a00c6690bcb94676c3)



---

archive/issue_events_173887.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-16T15:51:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173887"
}
```



---

archive/issue_events_173888.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-16T15:51:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173888"
}
```



---

archive/issue_comments_276590.json:
```json
{
    "body": "**Author:** Ralf Stephan",
    "created_at": "2015-10-16T15:51:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276590",
    "user": "https://github.com/rwst"
}
```

**Author:** Ralf Stephan



---

archive/issue_comments_276591.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Provisional ticket for the next big Pynac update.\n+The next big Pynac update has:\n \n * libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects\n * assumptions/domains can influence Pynac computation\n``````\n",
    "created_at": "2015-10-16T15:52:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276591",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Provisional ticket for the next big Pynac update.
+The next big Pynac update has:
 
 * libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects
 * assumptions/domains can influence Pynac computation
``````




---

archive/issue_comments_276592.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n * assumptions/domains can influence Pynac computation\n * C++11 results in better code readability\n * better decisions through more info flags and logic\n-* return `not implemented` and `undecidable` for some decisions (for matzh. logic changes see #19040 description)\n+* return `not implemented` and `undecidable` for some decisions (for math. logic changes see the #19040 description)\n * add inexact flag for possible expansions / FP simplifications\n * `abs()` expansion\n * `function::info()`\n``````\n",
    "created_at": "2015-10-16T15:54:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276592",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 * assumptions/domains can influence Pynac computation
 * C++11 results in better code readability
 * better decisions through more info flags and logic
-* return `not implemented` and `undecidable` for some decisions (for matzh. logic changes see #19040 description)
+* return `not implemented` and `undecidable` for some decisions (for math. logic changes see the #19040 description)
 * add inexact flag for possible expansions / FP simplifications
 * `abs()` expansion
 * `function::info()`
``````




---

archive/issue_events_173889.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-16T18:28:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173889"
}
```



---

archive/issue_events_173890.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-16T18:28:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173890"
}
```



---

archive/issue_comments_276593.json:
```json
{
    "body": "<a id='comment:8'></a>\n\n```\nsage -t src/sage/plot/arc.py\n**********************************************************************\nFile \"src/sage/plot/arc.py\", line 66, in sage.plot.arc.Arc.__init__\nFailed example:\n    bool(A[0].angle == pi/4)\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"src/sage/plot/arc.py\", line 70, in sage.plot.arc.Arc.__init__\nFailed example:\n    bool(A[0].s2 == pi)\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n1 item had failures:\n   2 of  12 in sage.plot.arc.Arc.__init__\n    [47 tests, 2 failures, 2.28 s]\nsage -t src/sage/structure/parent.pyx\n**********************************************************************\nFile \"src/sage/structure/parent.pyx\", line 1227, in sage.structure.parent.Parent.__contains__\nFailed example:\n    pi in RIF # there is no element of RIF equal to pi\nExpected:\n    False\nGot:\n    True\n**********************************************************************\n```",
    "created_at": "2015-10-16T18:28:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276593",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>

```
sage -t src/sage/plot/arc.py
**********************************************************************
File "src/sage/plot/arc.py", line 66, in sage.plot.arc.Arc.__init__
Failed example:
    bool(A[0].angle == pi/4)
Expected:
    True
Got:
    False
**********************************************************************
File "src/sage/plot/arc.py", line 70, in sage.plot.arc.Arc.__init__
Failed example:
    bool(A[0].s2 == pi)
Expected:
    True
Got:
    False
**********************************************************************
1 item had failures:
   2 of  12 in sage.plot.arc.Arc.__init__
    [47 tests, 2 failures, 2.28 s]
sage -t src/sage/structure/parent.pyx
**********************************************************************
File "src/sage/structure/parent.pyx", line 1227, in sage.structure.parent.Parent.__contains__
Failed example:
    pi in RIF # there is no element of RIF equal to pi
Expected:
    False
Got:
    True
**********************************************************************
```



---

archive/issue_comments_276594.json:
```json
{
    "body": "**Changing commit** from \"[8421ab9a0ad240f631d434a00c6690bcb94676c3](https://github.com/sagemath/sagetrac-mirror/commit/8421ab9a0ad240f631d434a00c6690bcb94676c3)\" to \"[47842548bad14f96923220da7de6df6cab96a436](https://github.com/sagemath/sagetrac-mirror/commit/47842548bad14f96923220da7de6df6cab96a436)\".",
    "created_at": "2015-10-17T14:19:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276594",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[8421ab9a0ad240f631d434a00c6690bcb94676c3](https://github.com/sagemath/sagetrac-mirror/commit/8421ab9a0ad240f631d434a00c6690bcb94676c3)" to "[47842548bad14f96923220da7de6df6cab96a436](https://github.com/sagemath/sagetrac-mirror/commit/47842548bad14f96923220da7de6df6cab96a436)".



---

archive/issue_comments_276595.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47842548bad14f96923220da7de6df6cab96a436\">4784254</a></td><td><code>19312: fix omission, doctest</code></td></tr></table>\n",
    "created_at": "2015-10-17T14:19:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276595",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47842548bad14f96923220da7de6df6cab96a436">4784254</a></td><td><code>19312: fix omission, doctest</code></td></tr></table>




---

archive/issue_events_173891.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-17T14:19:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173891"
}
```



---

archive/issue_events_173892.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-17T14:19:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173892"
}
```



---

archive/issue_comments_276596.json:
```json
{
    "body": "<a id='comment:11'></a>\nI agree to try first a merge of #19040 to reduce the size of this patch.",
    "created_at": "2015-10-17T14:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276596",
    "user": "https://github.com/rwst"
}
```

<a id='comment:11'></a>
I agree to try first a merge of #19040 to reduce the size of this patch.



---

archive/issue_comments_276597.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [@rwst](#comment%3A11):\n> I agree to try first a merge of #19040 to reduce the size of this patch.\n\nThe other way around seems more logical to me: first merge this, then #19040.",
    "created_at": "2015-10-17T15:19:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276597",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
Replying to [@rwst](#comment%3A11):
> I agree to try first a merge of #19040 to reduce the size of this patch.

The other way around seems more logical to me: first merge this, then #19040.



---

archive/issue_comments_276598.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/19312-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-1)\" to \"[u/rws/19312-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-2)\".",
    "created_at": "2015-10-19T09:05:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276598",
    "user": "https://github.com/rwst"
}
```

**Changing branch** from "[u/rws/19312-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-1)" to "[u/rws/19312-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-2)".



---

archive/issue_comments_276599.json:
```json
{
    "body": "<a id='comment:14'></a>\nI excised the math logic changes. Please review.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a484464cd2cb08d159defaa602876204ad0038b\">3a48446</a></td><td><code>19312: package version and checksum</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc6a6c952d5b42cbb104fec48c14630e3b8fdfc3\">cc6a6c9</a></td><td><code>19312: C++11 compile switches</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/caa0aebc9cc2be0bbd555159813db58d6f315865\">caa0aeb</a></td><td><code>19312: pynac/Sage interface adaptations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a973071a06d7f4b2ff9fb0b154805bb12ee9de60\">a973071</a></td><td><code>19312: link assume/forget to pynac</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cf8edb35c4f540abd8f0adb1fb6f1f9b1ac122d\">6cf8edb</a></td><td><code>19312: changes in Expression.__nonzero__ due to Pynac interface change</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d340d9d9fcebc7ebd3a576d21eed540d056afee0\">d340d9d</a></td><td><code>19312: doctest adaptations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd68fd5b3138a56a1998788be4c92c90bae98263\">fd68fd5</a></td><td><code>19312: fix code for failing doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eeedddc1b81e4e9d2088283f21bac8c66476caa1\">eeedddc</a></td><td><code>19312: kludge to allow unchanged `__nonzero__` with pynac-0.5</code></td></tr></table>\n",
    "created_at": "2015-10-19T09:06:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276599",
    "user": "https://github.com/rwst"
}
```

<a id='comment:14'></a>
I excised the math logic changes. Please review.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a484464cd2cb08d159defaa602876204ad0038b">3a48446</a></td><td><code>19312: package version and checksum</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc6a6c952d5b42cbb104fec48c14630e3b8fdfc3">cc6a6c9</a></td><td><code>19312: C++11 compile switches</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/caa0aebc9cc2be0bbd555159813db58d6f315865">caa0aeb</a></td><td><code>19312: pynac/Sage interface adaptations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a973071a06d7f4b2ff9fb0b154805bb12ee9de60">a973071</a></td><td><code>19312: link assume/forget to pynac</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cf8edb35c4f540abd8f0adb1fb6f1f9b1ac122d">6cf8edb</a></td><td><code>19312: changes in Expression.__nonzero__ due to Pynac interface change</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d340d9d9fcebc7ebd3a576d21eed540d056afee0">d340d9d</a></td><td><code>19312: doctest adaptations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd68fd5b3138a56a1998788be4c92c90bae98263">fd68fd5</a></td><td><code>19312: fix code for failing doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eeedddc1b81e4e9d2088283f21bac8c66476caa1">eeedddc</a></td><td><code>19312: kludge to allow unchanged `__nonzero__` with pynac-0.5</code></td></tr></table>




---

archive/issue_comments_276600.json:
```json
{
    "body": "**Changing commit** from \"[47842548bad14f96923220da7de6df6cab96a436](https://github.com/sagemath/sagetrac-mirror/commit/47842548bad14f96923220da7de6df6cab96a436)\" to \"[eeedddc1b81e4e9d2088283f21bac8c66476caa1](https://github.com/sagemath/sagetrac-mirror/commit/eeedddc1b81e4e9d2088283f21bac8c66476caa1)\".",
    "created_at": "2015-10-19T09:06:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276600",
    "user": "https://github.com/rwst"
}
```

**Changing commit** from "[47842548bad14f96923220da7de6df6cab96a436](https://github.com/sagemath/sagetrac-mirror/commit/47842548bad14f96923220da7de6df6cab96a436)" to "[eeedddc1b81e4e9d2088283f21bac8c66476caa1](https://github.com/sagemath/sagetrac-mirror/commit/eeedddc1b81e4e9d2088283f21bac8c66476caa1)".



---

archive/issue_comments_276601.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,7 +1,8 @@\n The next big Pynac update has:\n \n-* libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects\n+* libgmp `bigint`s and `bigrat`s instead of `Integer` and `Rational` Python objects\n * assumptions/domains can influence Pynac computation\n+* sync elementary assumptions on symbols/functions with Pynac (#19035)\n * C++11 results in better code readability\n * better decisions through more info flags and logic\n * return `not implemented` and `undecidable` for some decisions (for math. logic changes see the #19040 description)\n``````\n",
    "created_at": "2015-10-19T14:25:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276601",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,7 +1,8 @@
 The next big Pynac update has:
 
-* libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects
+* libgmp `bigint`s and `bigrat`s instead of `Integer` and `Rational` Python objects
 * assumptions/domains can influence Pynac computation
+* sync elementary assumptions on symbols/functions with Pynac (#19035)
 * C++11 results in better code readability
 * better decisions through more info flags and logic
 * return `not implemented` and `undecidable` for some decisions (for math. logic changes see the #19040 description)
``````




---

archive/issue_comments_276602.json:
```json
{
    "body": "<a id='comment:16'></a>\nFYI - There is an `Unknown` located in `sage.misc.unknown`.",
    "created_at": "2015-10-21T11:32:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276602",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
FYI - There is an `Unknown` located in `sage.misc.unknown`.



---

archive/issue_comments_276603.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [@tscrim](#comment%3A16):\n> FYI - There is an `Unknown` located in `sage.misc.unknown`.\n\nThat would be useful for #19040, thanks!",
    "created_at": "2015-10-21T12:50:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276603",
    "user": "https://github.com/rwst"
}
```

<a id='comment:17'></a>
Replying to [@tscrim](#comment%3A16):
> FYI - There is an `Unknown` located in `sage.misc.unknown`.

That would be useful for #19040, thanks!



---

archive/issue_events_173893.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-11-22T16:31:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173893"
}
```



---

archive/issue_events_173894.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-11-22T16:31:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173894"
}
```



---

archive/issue_comments_276604.json:
```json
{
    "body": "<a id='comment:18'></a>\nNeeds a rebase.",
    "created_at": "2015-11-22T16:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276604",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>
Needs a rebase.



---

archive/issue_comments_276605.json:
```json
{
    "body": "<a id='comment:19'></a>\nIf you commit to the review I'll do the rebase.",
    "created_at": "2015-11-22T16:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276605",
    "user": "https://github.com/rwst"
}
```

<a id='comment:19'></a>
If you commit to the review I'll do the rebase.



---

archive/issue_comments_276606.json:
```json
{
    "body": "<a id='comment:20'></a>\nI should be able to do the review.",
    "created_at": "2015-11-22T16:54:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276606",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>
I should be able to do the review.



---

archive/issue_comments_276607.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da6fe01c1e399e829124c887f9be0b75f16f6e1e\">da6fe01</a></td><td><code>Merge branch 'develop' into t/19312/19312-2</code></td></tr></table>\n",
    "created_at": "2015-11-23T08:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276607",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da6fe01c1e399e829124c887f9be0b75f16f6e1e">da6fe01</a></td><td><code>Merge branch 'develop' into t/19312/19312-2</code></td></tr></table>




---

archive/issue_comments_276608.json:
```json
{
    "body": "**Changing commit** from \"[eeedddc1b81e4e9d2088283f21bac8c66476caa1](https://github.com/sagemath/sagetrac-mirror/commit/eeedddc1b81e4e9d2088283f21bac8c66476caa1)\" to \"[da6fe01c1e399e829124c887f9be0b75f16f6e1e](https://github.com/sagemath/sagetrac-mirror/commit/da6fe01c1e399e829124c887f9be0b75f16f6e1e)\".",
    "created_at": "2015-11-23T08:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276608",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[eeedddc1b81e4e9d2088283f21bac8c66476caa1](https://github.com/sagemath/sagetrac-mirror/commit/eeedddc1b81e4e9d2088283f21bac8c66476caa1)" to "[da6fe01c1e399e829124c887f9be0b75f16f6e1e](https://github.com/sagemath/sagetrac-mirror/commit/da6fe01c1e399e829124c887f9be0b75f16f6e1e)".



---

archive/issue_comments_276609.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798\">dfb2ba3</a></td><td><code>19321:fix typo</code></td></tr></table>\n",
    "created_at": "2015-11-23T08:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276609",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798">dfb2ba3</a></td><td><code>19321:fix typo</code></td></tr></table>




---

archive/issue_comments_276610.json:
```json
{
    "body": "**Changing commit** from \"[da6fe01c1e399e829124c887f9be0b75f16f6e1e](https://github.com/sagemath/sagetrac-mirror/commit/da6fe01c1e399e829124c887f9be0b75f16f6e1e)\" to \"[dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798](https://github.com/sagemath/sagetrac-mirror/commit/dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798)\".",
    "created_at": "2015-11-23T08:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276610",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[da6fe01c1e399e829124c887f9be0b75f16f6e1e](https://github.com/sagemath/sagetrac-mirror/commit/da6fe01c1e399e829124c887f9be0b75f16f6e1e)" to "[dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798](https://github.com/sagemath/sagetrac-mirror/commit/dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798)".



---

archive/issue_events_173895.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-23T08:36:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173895"
}
```



---

archive/issue_events_173896.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-23T08:36:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173896"
}
```



---

archive/issue_comments_276611.json:
```json
{
    "body": "<a id='comment:23'></a>\nGreat. So please review.",
    "created_at": "2015-11-23T08:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276611",
    "user": "https://github.com/rwst"
}
```

<a id='comment:23'></a>
Great. So please review.



---

archive/issue_comments_276612.json:
```json
{
    "body": "**Changing dependencies** from \"#19298\" to \"\".",
    "created_at": "2015-11-23T08:45:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276612",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#19298" to "".



---

archive/issue_comments_276613.json:
```json
{
    "body": "**Dependencies:** #19606",
    "created_at": "2015-11-23T08:46:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276613",
    "user": "https://github.com/jdemeyer"
}
```

**Dependencies:** #19606



---

archive/issue_comments_276614.json:
```json
{
    "body": "<a id='comment:25'></a>\nThis should be rebased on top of #19606.",
    "created_at": "2015-11-23T08:46:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276614",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>
This should be rebased on top of #19606.



---

archive/issue_comments_276615.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplace\n\n```\nif not (solution_dict == True or solution_dict == False)\n```\nby\n\n```\nif solution_dict is not True and solution_dict is not False\n```",
    "created_at": "2015-11-23T08:50:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276615",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>
Replace

```
if not (solution_dict == True or solution_dict == False)
```
by

```
if solution_dict is not True and solution_dict is not False
```



---

archive/issue_comments_276616.json:
```json
{
    "body": "<a id='comment:27'></a>\nWhy do you need the `__cmp__` method on `Constant`? Since we are trying to move to Python 3, we shouldn't add new `__cmp__` or `cmp()`.",
    "created_at": "2015-11-23T08:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276616",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>
Why do you need the `__cmp__` method on `Constant`? Since we are trying to move to Python 3, we shouldn't add new `__cmp__` or `cmp()`.



---

archive/issue_events_173897.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-23T08:53:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173897"
}
```



---

archive/issue_events_173898.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-23T08:53:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173898"
}
```



---

archive/issue_comments_276617.json:
```json
{
    "body": "<a id='comment:28'></a>\nIn `src/sage/calculus/desolvers.py`, I think you need to justify the changes\n\n```diff\n@@ -676,7 +676,7 @@ def desolve_laplace(de, dvar, ics=None, ivar=None):\n         dvar, ivar = dvar\n     elif ivar is None:\n         ivars = de.variables()\n-        ivars = [t for t in ivars if t != dvar]\n+        ivars = [t for t in ivars if t is not dvar]\n         if len(ivars) != 1:\n             raise ValueError(\"Unable to determine independent variable, please specify.\")\n         ivar = ivars[0]\n@@ -1182,7 +1181,7 @@ def desolve_rk4(de, dvar, ics=None, ivar=None, end_points=None, step=0.1, output\n \n     if ivar is None:\n         ivars = de.variables()\n-        ivars = [t for t in ivars if t != dvar]\n+        ivars = [t for t in ivars if repr(t) != repr(dvar)]\n         if len(ivars) != 1:\n             raise ValueError(\"Unable to determine independent variable, please specify.\")\n         ivar = ivars[0]\n```",
    "created_at": "2015-11-23T08:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276617",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>
In `src/sage/calculus/desolvers.py`, I think you need to justify the changes

```diff
@@ -676,7 +676,7 @@ def desolve_laplace(de, dvar, ics=None, ivar=None):
         dvar, ivar = dvar
     elif ivar is None:
         ivars = de.variables()
-        ivars = [t for t in ivars if t != dvar]
+        ivars = [t for t in ivars if t is not dvar]
         if len(ivars) != 1:
             raise ValueError("Unable to determine independent variable, please specify.")
         ivar = ivars[0]
@@ -1182,7 +1181,7 @@ def desolve_rk4(de, dvar, ics=None, ivar=None, end_points=None, step=0.1, output
 
     if ivar is None:
         ivars = de.variables()
-        ivars = [t for t in ivars if t != dvar]
+        ivars = [t for t in ivars if repr(t) != repr(dvar)]
         if len(ivars) != 1:
             raise ValueError("Unable to determine independent variable, please specify.")
         ivar = ivars[0]
```



---

archive/issue_comments_276618.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplace\n\n```\ncdef object py_integer_from_long(long x) except +:\n    cdef Integer z = PY_NEW(Integer)\n    mpz_set_si(z.value, x)\n    return z\n```\nby\n\n```\nfrom sage.rings.integer cimport smallInteger\n\ncdef py_integer_from_long(long x):\n    return smallInteger(x)\n```",
    "created_at": "2015-11-23T09:39:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276618",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:29'></a>
Replace

```
cdef object py_integer_from_long(long x) except +:
    cdef Integer z = PY_NEW(Integer)
    mpz_set_si(z.value, x)
    return z
```
by

```
from sage.rings.integer cimport smallInteger

cdef py_integer_from_long(long x):
    return smallInteger(x)
```



---

archive/issue_comments_276619.json:
```json
{
    "body": "<a id='comment:30'></a>\nI also don't understand the following doctest changes:\n\n```diff\n@@ -1148,7 +1148,8 @@ def desolve_rk4(de, dvar, ics=None, ivar=None, end_points=None, step=0.1, output\n \n     Variant 2 for input - more common in numerics::\n \n-        sage: x,y=var('x y')\n+        sage: _ = var('x,y')\n+        sage: f = function('f')(x)\n         sage: desolve_rk4(x*y*(2-y),y,ics=[0,1],end_points=1,step=0.5)\n         [[0, 1], [0.5, 1.12419127424558], [1.0, 1.461590162288825]]\n \n@@ -1156,15 +1157,13 @@ def desolve_rk4(de, dvar, ics=None, ivar=None, end_points=None, step=0.1, output\n     desolve function In this example we integrate bakwards, since\n     ``end_points < ics[0]``::\n \n-        sage: y=function('y')(x)\n-        sage: desolve_rk4(diff(y,x)+y*(y-1) == x-2,y,ics=[1,1],step=0.5, end_points=0)\n+        sage: desolve_rk4(diff(f,x)+f*(f-1) == x-2,f,ics=[1,1],step=0.5, end_points=0)\n         [[0.0, 8.904257108962112], [0.5, 1.909327945361535], [1, 1]]\n \n     Here we show how to plot simple pictures. For more advanced\n     aplications use list_plot instead. To see the resulting picture\n     use ``show(P)`` in Sage notebook. ::\n \n-        sage: x,y=var('x y')\n         sage: P=desolve_rk4(y*(2-y),y,ics=[0,.1],ivar=x,output='slope_field',end_points=[-4,6],thickness=3)\n \n     ALGORITHM:\n```",
    "created_at": "2015-11-23T09:42:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276619",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>
I also don't understand the following doctest changes:

```diff
@@ -1148,7 +1148,8 @@ def desolve_rk4(de, dvar, ics=None, ivar=None, end_points=None, step=0.1, output
 
     Variant 2 for input - more common in numerics::
 
-        sage: x,y=var('x y')
+        sage: _ = var('x,y')
+        sage: f = function('f')(x)
         sage: desolve_rk4(x*y*(2-y),y,ics=[0,1],end_points=1,step=0.5)
         [[0, 1], [0.5, 1.12419127424558], [1.0, 1.461590162288825]]
 
@@ -1156,15 +1157,13 @@ def desolve_rk4(de, dvar, ics=None, ivar=None, end_points=None, step=0.1, output
     desolve function In this example we integrate bakwards, since
     ``end_points < ics[0]``::
 
-        sage: y=function('y')(x)
-        sage: desolve_rk4(diff(y,x)+y*(y-1) == x-2,y,ics=[1,1],step=0.5, end_points=0)
+        sage: desolve_rk4(diff(f,x)+f*(f-1) == x-2,f,ics=[1,1],step=0.5, end_points=0)
         [[0.0, 8.904257108962112], [0.5, 1.909327945361535], [1, 1]]
 
     Here we show how to plot simple pictures. For more advanced
     aplications use list_plot instead. To see the resulting picture
     use ``show(P)`` in Sage notebook. ::
 
-        sage: x,y=var('x y')
         sage: P=desolve_rk4(y*(2-y),y,ics=[0,.1],ivar=x,output='slope_field',end_points=[-4,6],thickness=3)
 
     ALGORITHM:
```



---

archive/issue_comments_276620.json:
```json
{
    "body": "<a id='comment:31'></a>\nThere are various doctest failures:\n\n```\nsage -t --long src/sage/combinat/finite_state_machine.py\n**********************************************************************\nFile \"src/sage/combinat/finite_state_machine.py\", line 10001, in sage.combinat.finite_state_machine.FiniteStateMachine.?\nFailed example:\n    R.<phi> = NumberField(x^2-x-1, embedding=golden_ratio)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.combinat.finite_state_machine.FiniteStateMachine.?[11]>\", line 1, in <module>\n        R = NumberField(x**Integer(2)-x-Integer(1), embedding=golden_ratio, names=('phi',)); (phi,) = R._first_ngens(1)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py\", line 490, in NumberField\n        return NumberField_version2(polynomial=polynomial, name=name, check=check, embedding=embedding, latex_name=latex_name, assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)\n      File \"sage/structure/factory.pyx\", line 366, in sage.structure.factory.UniqueFactory.__call__ (build/cythonized/sage/structure/factory.c:1328)\n        return self.get_object(version, key, kwds)\n      File \"sage/structure/factory.pyx\", line 410, in sage.structure.factory.UniqueFactory.get_object (build/cythonized/sage/structure/factory.c:1734)\n        obj = self.create_object(version, key, **extra_args)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py\", line 612, in create_object\n        return NumberField_quadratic(polynomial, name, latex_name, check, embedding, assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py\", line 10070, in __init__\n        assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py\", line 6421, in __init__\n        assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py\", line 1202, in __init__\n        embedding = number_field_morphisms.create_embedding_from_approx(self, embedding)\n      File \"sage/rings/number_field/number_field_morphisms.pyx\", line 503, in sage.rings.number_field.number_field_morphisms.create_embedding_from_approx (build/cythonized/sage/rings/number_field/number_field_morphisms.c:7328)\n        raise ValueError, \"%s is not a root of the defining polynomial of %s\" % (gen_image, K)\n    ValueError: golden_ratio is not a root of the defining polynomial of Number Field in phi with defining polynomial x^2 - x - 1\n**********************************************************************\nFile \"src/sage/combinat/finite_state_machine.py\", line 10002, in sage.combinat.finite_state_machine.FiniteStateMachine.?\nFailed example:\n    N = NAFp.number_of_words(base_ring=R); N\nExpected:\n    1/5*(3*golden_ratio + 1)*golden_ratio^n\n    - 1/5*(3*golden_ratio - 4)*(-golden_ratio + 1)^n\nGot:\n    1/10*(1/2*sqrt(5) + 1/2)^n*(3*sqrt(5) + 5) - 1/10*(-1/2*sqrt(5) + 1/2)^n*(3*sqrt(5) - 5)\n**********************************************************************\nFile \"src/sage/functions/other.py\", line 1693, in sage.functions.other.Function_beta.__init__\nFailed example:\n    beta(1/3, 1/2)\nExpected:\n    beta(1/2, 1/3)\nGot:\n    beta(1/3, 1/2)\n**********************************************************************\n```",
    "created_at": "2015-11-23T12:20:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276620",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'></a>
There are various doctest failures:

```
sage -t --long src/sage/combinat/finite_state_machine.py
**********************************************************************
File "src/sage/combinat/finite_state_machine.py", line 10001, in sage.combinat.finite_state_machine.FiniteStateMachine.?
Failed example:
    R.<phi> = NumberField(x^2-x-1, embedding=golden_ratio)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.combinat.finite_state_machine.FiniteStateMachine.?[11]>", line 1, in <module>
        R = NumberField(x**Integer(2)-x-Integer(1), embedding=golden_ratio, names=('phi',)); (phi,) = R._first_ngens(1)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py", line 490, in NumberField
        return NumberField_version2(polynomial=polynomial, name=name, check=check, embedding=embedding, latex_name=latex_name, assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)
      File "sage/structure/factory.pyx", line 366, in sage.structure.factory.UniqueFactory.__call__ (build/cythonized/sage/structure/factory.c:1328)
        return self.get_object(version, key, kwds)
      File "sage/structure/factory.pyx", line 410, in sage.structure.factory.UniqueFactory.get_object (build/cythonized/sage/structure/factory.c:1734)
        obj = self.create_object(version, key, **extra_args)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py", line 612, in create_object
        return NumberField_quadratic(polynomial, name, latex_name, check, embedding, assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py", line 10070, in __init__
        assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py", line 6421, in __init__
        assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py", line 1202, in __init__
        embedding = number_field_morphisms.create_embedding_from_approx(self, embedding)
      File "sage/rings/number_field/number_field_morphisms.pyx", line 503, in sage.rings.number_field.number_field_morphisms.create_embedding_from_approx (build/cythonized/sage/rings/number_field/number_field_morphisms.c:7328)
        raise ValueError, "%s is not a root of the defining polynomial of %s" % (gen_image, K)
    ValueError: golden_ratio is not a root of the defining polynomial of Number Field in phi with defining polynomial x^2 - x - 1
**********************************************************************
File "src/sage/combinat/finite_state_machine.py", line 10002, in sage.combinat.finite_state_machine.FiniteStateMachine.?
Failed example:
    N = NAFp.number_of_words(base_ring=R); N
Expected:
    1/5*(3*golden_ratio + 1)*golden_ratio^n
    - 1/5*(3*golden_ratio - 4)*(-golden_ratio + 1)^n
Got:
    1/10*(1/2*sqrt(5) + 1/2)^n*(3*sqrt(5) + 5) - 1/10*(-1/2*sqrt(5) + 1/2)^n*(3*sqrt(5) - 5)
**********************************************************************
File "src/sage/functions/other.py", line 1693, in sage.functions.other.Function_beta.__init__
Failed example:
    beta(1/3, 1/2)
Expected:
    beta(1/2, 1/3)
Got:
    beta(1/3, 1/2)
**********************************************************************
```



---

archive/issue_comments_276621.json:
```json
{
    "body": "<a id='comment:32'></a>\nWhy do you use `except +` for non-`extern` functions? For example\n\n```\ncdef bint py_is_exact(object x) except +:\n    return isinstance(x, int) or isinstance(x, long) or isinstance(x, Integer) or \\\n           (isinstance(x, Element) and\n            ((<Element>x)._parent.is_exact() or (<Element>x)._parent == ring.SR))\n```",
    "created_at": "2015-11-23T13:04:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276621",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'></a>
Why do you use `except +` for non-`extern` functions? For example

```
cdef bint py_is_exact(object x) except +:
    return isinstance(x, int) or isinstance(x, long) or isinstance(x, Integer) or \
           (isinstance(x, Element) and
            ((<Element>x)._parent.is_exact() or (<Element>x)._parent == ring.SR))
```



---

archive/issue_comments_276622.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [@jdemeyer](#comment%3A32):\n> Why do you use `except +` for non-`extern` functions? For example\n> \n> ```\n> cdef bint py_is_exact(object x) except +:\n>     return isinstance(x, int) or isinstance(x, long) or isinstance(x, Integer) or \\\n>            (isinstance(x, Element) and\n>             ((<Element>x)._parent.is_exact() or (<Element>x)._parent == ring.SR))\n> ```\n\nI have just copied from `py_is_even` which is not extern either and written by yourself.",
    "created_at": "2015-11-23T14:04:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276622",
    "user": "https://github.com/rwst"
}
```

<a id='comment:33'></a>
Replying to [@jdemeyer](#comment%3A32):
> Why do you use `except +` for non-`extern` functions? For example
> 
> ```
> cdef bint py_is_exact(object x) except +:
>     return isinstance(x, int) or isinstance(x, long) or isinstance(x, Integer) or \
>            (isinstance(x, Element) and
>             ((<Element>x)._parent.is_exact() or (<Element>x)._parent == ring.SR))
> ```

I have just copied from `py_is_even` which is not extern either and written by yourself.



---

archive/issue_comments_276623.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [@rwst](#comment%3A33):\n> I have just copied from `py_is_even` which is not extern either\n\nWell, then `py_is_even` is wrong too. But ok, you can leave the `except +` for now, it's not a major problem.\n\n> and written by yourself.\n\nNo way. I may have been the last person to edit that line, but I certainly didn't write that function or the `except +`.",
    "created_at": "2015-11-23T14:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276623",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'></a>
Replying to [@rwst](#comment%3A33):
> I have just copied from `py_is_even` which is not extern either

Well, then `py_is_even` is wrong too. But ok, you can leave the `except +` for now, it's not a major problem.

> and written by yourself.

No way. I may have been the last person to edit that line, but I certainly didn't write that function or the `except +`.



---

archive/issue_comments_276624.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76733e4c003da3506ac1cc15bea61b7ca147de93\">76733e4</a></td><td><code>19312: address reviewer's comments</code></td></tr></table>\n",
    "created_at": "2015-11-23T14:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276624",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76733e4c003da3506ac1cc15bea61b7ca147de93">76733e4</a></td><td><code>19312: address reviewer's comments</code></td></tr></table>




---

archive/issue_comments_276625.json:
```json
{
    "body": "**Changing commit** from \"[dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798](https://github.com/sagemath/sagetrac-mirror/commit/dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798)\" to \"[76733e4c003da3506ac1cc15bea61b7ca147de93](https://github.com/sagemath/sagetrac-mirror/commit/76733e4c003da3506ac1cc15bea61b7ca147de93)\".",
    "created_at": "2015-11-23T14:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276625",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798](https://github.com/sagemath/sagetrac-mirror/commit/dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798)" to "[76733e4c003da3506ac1cc15bea61b7ca147de93](https://github.com/sagemath/sagetrac-mirror/commit/76733e4c003da3506ac1cc15bea61b7ca147de93)".



---

archive/issue_events_173899.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-23T14:47:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173899"
}
```



---

archive/issue_events_173900.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-23T14:47:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173900"
}
```



---

archive/issue_comments_276626.json:
```json
{
    "body": "<a id='comment:37'></a>\nHere are my current comments:\n\n- I also don't understand the changes on [comment:30](#comment%3A30).\n- `decl_assume` and `decl_forget` aren't doctested.\n- `raise TypeError('Cannot compare: ' + repr(self))`: I'm thinking that should be a `ValueError` since it depends on the value of the value of the expression. Also, to better conform with python, error messages are not sentences and should not start with a capital letter.\n- Could we change:\n\n  ```diff\n  -        if solution_dict is not True and solution_dict is not False:\n  +        if not isinstance(solution_dict, bool):\n  ```\n- I don't understand this change:\n\n  ```diff\n  diff --git a/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py b/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py\n  index 4840c05..f205b9c 100644\n  --- a/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py\n  +++ b/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py\n  @@ -1054,12 +1054,11 @@ def mobius_transform(A, z):\n           TypeError: A must be an invertible 2x2 matrix over the complex numbers or a symbolic ring\n   \n       The matrix can be symbolic or can be a matrix over the real\n  -    or complex numbers, but must be invertible::\n  -\n  -        sage: (a,b,c,d) = var('a,b,c,d');\n  -        sage: mobius_transform(matrix(2,[a,b,c,d]),I)\n  -        (I*a + b)/(I*c + d)\n  +    or complex numbers, but must be provably invertible::\n   \n  +        sage: (b,c) = var('b,c');\n  +        sage: mobius_transform(matrix(2,[1,b,c,b*c+1]),I)\n  +        (b + I)/(b*c + I*c + 1)\n           sage: mobius_transform(matrix(2,[0,0,0,0]),I)\n           Traceback (most recent call last):\n           ...\n  ```\n  I feel it obfuscates what the M\u00f6bius transform does.",
    "created_at": "2015-11-23T16:05:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276626",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:37'></a>
Here are my current comments:

- I also don't understand the changes on [comment:30](#comment%3A30).
- `decl_assume` and `decl_forget` aren't doctested.
- `raise TypeError('Cannot compare: ' + repr(self))`: I'm thinking that should be a `ValueError` since it depends on the value of the value of the expression. Also, to better conform with python, error messages are not sentences and should not start with a capital letter.
- Could we change:

  ```diff
  -        if solution_dict is not True and solution_dict is not False:
  +        if not isinstance(solution_dict, bool):
  ```
- I don't understand this change:

  ```diff
  diff --git a/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py b/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py
  index 4840c05..f205b9c 100644
  --- a/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py
  +++ b/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py
  @@ -1054,12 +1054,11 @@ def mobius_transform(A, z):
           TypeError: A must be an invertible 2x2 matrix over the complex numbers or a symbolic ring
   
       The matrix can be symbolic or can be a matrix over the real
  -    or complex numbers, but must be invertible::
  -
  -        sage: (a,b,c,d) = var('a,b,c,d');
  -        sage: mobius_transform(matrix(2,[a,b,c,d]),I)
  -        (I*a + b)/(I*c + d)
  +    or complex numbers, but must be provably invertible::
   
  +        sage: (b,c) = var('b,c');
  +        sage: mobius_transform(matrix(2,[1,b,c,b*c+1]),I)
  +        (b + I)/(b*c + I*c + 1)
           sage: mobius_transform(matrix(2,[0,0,0,0]),I)
           Traceback (most recent call last):
           ...
  ```
  I feel it obfuscates what the Mbius transform does.



---

archive/issue_comments_276627.json:
```json
{
    "body": "<a id='comment:38'></a>\nIn `src/sage/rings/number_field/number_field_morphisms.pyx`, can you import `test_relation_maxima` only when you need it?\n\nThis doctest loses its meaning now:\n\n```diff\ndiff --git a/src/sage/functions/other.py b/src/sage/functions/other.py\nindex 7fafc33..5769ce7 100644\n--- a/src/sage/functions/other.py\n+++ b/src/sage/functions/other.py\n@@ -1691,7 +1691,7 @@ class Function_beta(GinacFunction):\n         Ginac might reorder the arguments::\n \n             sage: beta(1/3, 1/2)\n-            beta(1/2, 1/3)\n+            beta(1/3, 1/2)\n \n         The result is symbolic if exact input is given::\n \n```",
    "created_at": "2015-11-23T16:07:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276627",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:38'></a>
In `src/sage/rings/number_field/number_field_morphisms.pyx`, can you import `test_relation_maxima` only when you need it?

This doctest loses its meaning now:

```diff
diff --git a/src/sage/functions/other.py b/src/sage/functions/other.py
index 7fafc33..5769ce7 100644
--- a/src/sage/functions/other.py
+++ b/src/sage/functions/other.py
@@ -1691,7 +1691,7 @@ class Function_beta(GinacFunction):
         Ginac might reorder the arguments::
 
             sage: beta(1/3, 1/2)
-            beta(1/2, 1/3)
+            beta(1/3, 1/2)
 
         The result is symbolic if exact input is given::
 
```



---

archive/issue_comments_276628.json:
```json
{
    "body": "<a id='comment:39'></a>\nThis is actually a bug:\n\n```diff\ndiff --git a/src/sage/symbolic/constants_c.pyx b/src/sage/symbolic/constants_c.pyx\nindex 340d20d..fb43864 100644\n--- a/src/sage/symbolic/constants_c.pyx\n+++ b/src/sage/symbolic/constants_c.pyx\n@@ -217,7 +217,7 @@ cdef class E(Expression):\n             sage: t = e^a; t\n             e^a\n             sage: t^b\n-            (e^a)^b\n+            e^a^b\n             sage: SR(1).exp()\n             e\n \n```\n\nUsually, `e<sup>a</sup>b` is interpreted as `e<sup>(a</sup>b)`:\n\n```\nsage: var('a,b')\n(a, b)\nsage: (e^a)^b\ne^a^b\nsage: e^a^b\ne^(a^b)\n```",
    "created_at": "2015-11-23T16:10:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276628",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:39'></a>
This is actually a bug:

```diff
diff --git a/src/sage/symbolic/constants_c.pyx b/src/sage/symbolic/constants_c.pyx
index 340d20d..fb43864 100644
--- a/src/sage/symbolic/constants_c.pyx
+++ b/src/sage/symbolic/constants_c.pyx
@@ -217,7 +217,7 @@ cdef class E(Expression):
             sage: t = e^a; t
             e^a
             sage: t^b
-            (e^a)^b
+            e^a^b
             sage: SR(1).exp()
             e
 
```

Usually, `e<sup>a</sup>b` is interpreted as `e<sup>(a</sup>b)`:

```
sage: var('a,b')
(a, b)
sage: (e^a)^b
e^a^b
sage: e^a^b
e^(a^b)
```



---

archive/issue_events_173901.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-23T16:10:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173901"
}
```



---

archive/issue_events_173902.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-23T16:10:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173902"
}
```



---

archive/issue_comments_276629.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [@jdemeyer](#comment%3A39):\n> Usually, `e<sup>a</sup>b` is interpreted as `e<sup>(a</sup>b)`:\n\nOh, that is serious.",
    "created_at": "2015-11-23T16:15:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276629",
    "user": "https://github.com/rwst"
}
```

<a id='comment:40'></a>
Replying to [@jdemeyer](#comment%3A39):
> Usually, `e<sup>a</sup>b` is interpreted as `e<sup>(a</sup>b)`:

Oh, that is serious.



---

archive/issue_comments_276630.json:
```json
{
    "body": "<a id='comment:41'></a>\nFor `__hash__`, could you also test a number which has a hash more than `2^32`, in order to test for #19310:\n\n```\nsage: hash(1e30)\n-442393380            # 32-bit\n5076964209140210896   # 64-bit\nsage: hash(SR(1e30))  # known bug #19310\n-442393380            # 32-bit\n5076964209140210896   # 64-bit\n```",
    "created_at": "2015-11-23T16:26:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276630",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:41'></a>
For `__hash__`, could you also test a number which has a hash more than `2^32`, in order to test for #19310:

```
sage: hash(1e30)
-442393380            # 32-bit
5076964209140210896   # 64-bit
sage: hash(SR(1e30))  # known bug #19310
-442393380            # 32-bit
5076964209140210896   # 64-bit
```



---

archive/issue_comments_276631.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [@tscrim](#comment%3A37):\n> - I also don't understand the changes on [comment:30](#comment%3A30).\n\nThey are reverted now. In the first branch of this ticket they were necessary.\n\n> - I don't understand this change:\n> @@ -1054,12 +1054,11 @@ def mobius_transform(A, z):\n>   I feel it obfuscates what the M\u00f6bius transform does.\n\nWell you can't give a transform of a noninvertible matrix, so I changed the example to one that is always invertible. I can revert to the original doctest but it will lead to problems in a later ticket.",
    "created_at": "2015-11-23T16:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276631",
    "user": "https://github.com/rwst"
}
```

<a id='comment:42'></a>
Replying to [@tscrim](#comment%3A37):
> - I also don't understand the changes on [comment:30](#comment%3A30).

They are reverted now. In the first branch of this ticket they were necessary.

> - I don't understand this change:
> @@ -1054,12 +1054,11 @@ def mobius_transform(A, z):
>   I feel it obfuscates what the Mbius transform does.

Well you can't give a transform of a noninvertible matrix, so I changed the example to one that is always invertible. I can revert to the original doctest but it will lead to problems in a later ticket.



---

archive/issue_comments_276632.json:
```json
{
    "body": "<a id='comment:43'></a>\nReplying to [@jdemeyer](#comment%3A41):\n> For `__hash__`, could you also test a number which has a hash more than `2^32`, in order to test for #19310:\n\nThat doesn't work in 0.5 but some work is already done. See https://github.com/pynac/pynac/issues/95",
    "created_at": "2015-11-23T16:39:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276632",
    "user": "https://github.com/rwst"
}
```

<a id='comment:43'></a>
Replying to [@jdemeyer](#comment%3A41):
> For `__hash__`, could you also test a number which has a hash more than `2^32`, in order to test for #19310:

That doesn't work in 0.5 but some work is already done. See https://github.com/pynac/pynac/issues/95



---

archive/issue_comments_276633.json:
```json
{
    "body": "<a id='comment:44'></a>\nReplying to [@rwst](#comment%3A42):\n> Replying to [@tscrim](#comment%3A37):\n> > - I don't understand this change:\n> > @@ -1054,12 +1054,11 @@ def mobius_transform(A, z):\n> >   I feel it obfuscates what the M\u00f6bius transform does.\n\n> Well you can't give a transform of a noninvertible matrix, so I changed the example to one that is always invertible. I can revert to the original doctest but it will lead to problems in a later ticket.\n\nUnless `a*d - b*c == 0`, then this is an invertible matrix, and this is a \"rare\" event for generic `a,b,c,d`. So I would say this is a safe test, or perhaps we can add an assumption that `a*d - b*c != 0`? Also could you tell me what ticket you are referring to or give some more details?",
    "created_at": "2015-11-23T18:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276633",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:44'></a>
Replying to [@rwst](#comment%3A42):
> Replying to [@tscrim](#comment%3A37):
> > - I don't understand this change:
> > @@ -1054,12 +1054,11 @@ def mobius_transform(A, z):
> >   I feel it obfuscates what the Mbius transform does.

> Well you can't give a transform of a noninvertible matrix, so I changed the example to one that is always invertible. I can revert to the original doctest but it will lead to problems in a later ticket.

Unless `a*d - b*c == 0`, then this is an invertible matrix, and this is a "rare" event for generic `a,b,c,d`. So I would say this is a safe test, or perhaps we can add an assumption that `a*d - b*c != 0`? Also could you tell me what ticket you are referring to or give some more details?



---

archive/issue_comments_276634.json:
```json
{
    "body": "<a id='comment:45'></a>\nReplying to [@tscrim](#comment%3A44):\n> Replying to [@rwst](#comment%3A42):\n> > Well you can't give a transform of a noninvertible matrix, so I changed the example to one that is always invertible. I can revert to the original doctest but it will lead to problems in a later ticket.\n\n> \n> Unless `a*d - b*c == 0`, then this is an invertible matrix, and this is a \"rare\" event for generic `a,b,c,d`. So I would say this is a safe test, or perhaps we can add an assumption that `a*d - b*c != 0`? Also could you tell me what ticket you are referring to or give some more details?\n\nIf I remember correctly there was a problem due to the `Expression.__nonzero__` changes in the first branch. So this might resurface with #19040. I'm sorry I can't give more details, let's just see about it whenever #19040 gets tackled.",
    "created_at": "2015-11-24T07:56:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276634",
    "user": "https://github.com/rwst"
}
```

<a id='comment:45'></a>
Replying to [@tscrim](#comment%3A44):
> Replying to [@rwst](#comment%3A42):
> > Well you can't give a transform of a noninvertible matrix, so I changed the example to one that is always invertible. I can revert to the original doctest but it will lead to problems in a later ticket.

> 
> Unless `a*d - b*c == 0`, then this is an invertible matrix, and this is a "rare" event for generic `a,b,c,d`. So I would say this is a safe test, or perhaps we can add an assumption that `a*d - b*c != 0`? Also could you tell me what ticket you are referring to or give some more details?

If I remember correctly there was a problem due to the `Expression.__nonzero__` changes in the first branch. So this might resurface with #19040. I'm sorry I can't give more details, let's just see about it whenever #19040 gets tackled.



---

archive/issue_comments_276635.json:
```json
{
    "body": "<a id='comment:46'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/976c80e1a04a58a50d70714da88f6df064952c38\">976c80e</a></td><td><code>19312: address reviewer's comments</code></td></tr></table>\n",
    "created_at": "2015-11-24T07:59:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276635",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:46'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/976c80e1a04a58a50d70714da88f6df064952c38">976c80e</a></td><td><code>19312: address reviewer's comments</code></td></tr></table>




---

archive/issue_comments_276636.json:
```json
{
    "body": "**Changing commit** from \"[76733e4c003da3506ac1cc15bea61b7ca147de93](https://github.com/sagemath/sagetrac-mirror/commit/76733e4c003da3506ac1cc15bea61b7ca147de93)\" to \"[976c80e1a04a58a50d70714da88f6df064952c38](https://github.com/sagemath/sagetrac-mirror/commit/976c80e1a04a58a50d70714da88f6df064952c38)\".",
    "created_at": "2015-11-24T07:59:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276636",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[76733e4c003da3506ac1cc15bea61b7ca147de93](https://github.com/sagemath/sagetrac-mirror/commit/76733e4c003da3506ac1cc15bea61b7ca147de93)" to "[976c80e1a04a58a50d70714da88f6df064952c38](https://github.com/sagemath/sagetrac-mirror/commit/976c80e1a04a58a50d70714da88f6df064952c38)".



---

archive/issue_comments_276637.json:
```json
{
    "body": "<a id='comment:47'></a>\nThis should cover everything except the exponentiation bug and...\n\nReplying to [@jdemeyer](#comment%3A25):\n> This should be rebased on top of #19606.\n\nAs I need to make a new release, and #19606 will be in the next beta I'll just do a rebase later.",
    "created_at": "2015-11-24T08:02:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276637",
    "user": "https://github.com/rwst"
}
```

<a id='comment:47'></a>
This should cover everything except the exponentiation bug and...

Replying to [@jdemeyer](#comment%3A25):
> This should be rebased on top of #19606.

As I need to make a new release, and #19606 will be in the next beta I'll just do a rebase later.



---

archive/issue_comments_276638.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer, Travis Scrimshaw",
    "created_at": "2015-11-24T08:42:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276638",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Jeroen Demeyer, Travis Scrimshaw



---

archive/issue_comments_276639.json:
```json
{
    "body": "<a id='comment:49'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9e4c7e917eb312c8ce7c9be73d0f964d9877bb8\">c9e4c7e</a></td><td><code>19312: build dir changes for version 0.5.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4\">c5f20d6</a></td><td><code>19312: doctest and some code fixes with pynac-0.5.1</code></td></tr></table>\n",
    "created_at": "2015-11-25T16:27:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276639",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:49'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9e4c7e917eb312c8ce7c9be73d0f964d9877bb8">c9e4c7e</a></td><td><code>19312: build dir changes for version 0.5.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4">c5f20d6</a></td><td><code>19312: doctest and some code fixes with pynac-0.5.1</code></td></tr></table>




---

archive/issue_comments_276640.json:
```json
{
    "body": "**Changing commit** from \"[976c80e1a04a58a50d70714da88f6df064952c38](https://github.com/sagemath/sagetrac-mirror/commit/976c80e1a04a58a50d70714da88f6df064952c38)\" to \"[c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4](https://github.com/sagemath/sagetrac-mirror/commit/c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4)\".",
    "created_at": "2015-11-25T16:27:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276640",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[976c80e1a04a58a50d70714da88f6df064952c38](https://github.com/sagemath/sagetrac-mirror/commit/976c80e1a04a58a50d70714da88f6df064952c38)" to "[c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4](https://github.com/sagemath/sagetrac-mirror/commit/c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4)".



---

archive/issue_comments_276641.json:
```json
{
    "body": "<a id='comment:50'></a>\npynac-0.5.1 fixed the exp bug (and contains a previous fix). This should be it.",
    "created_at": "2015-11-25T16:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276641",
    "user": "https://github.com/rwst"
}
```

<a id='comment:50'></a>
pynac-0.5.1 fixed the exp bug (and contains a previous fix). This should be it.



---

archive/issue_comments_276642.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -13,5 +13,4 @@\n * remove some unused files and other cleanup; add missing autoconf macro;\n * some older memleaks closed\n \n-https://github.com/pynac/pynac/releases/download/pynac-0.5.0/pynac-0.5.0.tar.bz2\n-\n+https://github.com/pynac/pynac/releases/download/pynac-0.5.1/pynac-0.5.1.tar.bz2\n``````\n",
    "created_at": "2015-11-25T16:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276642",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -13,5 +13,4 @@
 * remove some unused files and other cleanup; add missing autoconf macro;
 * some older memleaks closed
 
-https://github.com/pynac/pynac/releases/download/pynac-0.5.0/pynac-0.5.0.tar.bz2
-
+https://github.com/pynac/pynac/releases/download/pynac-0.5.1/pynac-0.5.1.tar.bz2
``````




---

archive/issue_events_173903.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-25T16:30:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "rename": {
        "from": "Update to pynac-0.5.0",
        "to": "Update to pynac-0.5.1"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173903"
}
```



---

archive/issue_events_173904.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-25T16:30:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173904"
}
```



---

archive/issue_events_173905.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-25T16:30:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173905"
}
```



---

archive/issue_comments_276643.json:
```json
{
    "body": "<a id='comment:51'></a>\nReplying to [@rwst](#comment%3A45):\n> If I remember correctly there was a problem due to the `Expression.__nonzero__` changes in the first branch. So this might resurface with #19040. I'm sorry I can't give more details, let's just see about it whenever #19040 gets tackled.\n\nI will be happy to work on it if there is a problem with #19040.\n\nI'm guessing changes of this type:\n\n```\n-        sage: x,y = var('x,y')\n+        sage: _ = var('x,y')\n```\nare because you're thinking towards #17958. However I don't think that takes away from the problem, but instead just makes the behavior harder to do find/replace for and makes it harder for the reader to understand what is going on in the doctest. Could you provide some other justification for these changes?",
    "created_at": "2015-11-26T00:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276643",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:51'></a>
Replying to [@rwst](#comment%3A45):
> If I remember correctly there was a problem due to the `Expression.__nonzero__` changes in the first branch. So this might resurface with #19040. I'm sorry I can't give more details, let's just see about it whenever #19040 gets tackled.

I will be happy to work on it if there is a problem with #19040.

I'm guessing changes of this type:

```
-        sage: x,y = var('x,y')
+        sage: _ = var('x,y')
```
are because you're thinking towards #17958. However I don't think that takes away from the problem, but instead just makes the behavior harder to do find/replace for and makes it harder for the reader to understand what is going on in the doctest. Could you provide some other justification for these changes?



---

archive/issue_comments_276644.json:
```json
{
    "body": "**Changing commit** from \"[c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4](https://github.com/sagemath/sagetrac-mirror/commit/c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4)\" to \"[065791ecfa672c2dec1752fd16a473d776625775](https://github.com/sagemath/sagetrac-mirror/commit/065791ecfa672c2dec1752fd16a473d776625775)\".",
    "created_at": "2015-11-26T06:56:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276644",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4](https://github.com/sagemath/sagetrac-mirror/commit/c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4)" to "[065791ecfa672c2dec1752fd16a473d776625775](https://github.com/sagemath/sagetrac-mirror/commit/065791ecfa672c2dec1752fd16a473d776625775)".



---

archive/issue_comments_276645.json:
```json
{
    "body": "<a id='comment:52'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/065791ecfa672c2dec1752fd16a473d776625775\">065791e</a></td><td><code>19312: address reviewer's comments</code></td></tr></table>\n",
    "created_at": "2015-11-26T06:56:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276645",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:52'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/065791ecfa672c2dec1752fd16a473d776625775">065791e</a></td><td><code>19312: address reviewer's comments</code></td></tr></table>




---

archive/issue_comments_276646.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [@tscrim](#comment%3A51):\n> I'm guessing changes of this type:\n> \n> ```\n> -        sage: x,y = var('x,y')\n> +        sage: _ = var('x,y')\n> ```\n> are because you're thinking towards #17958. However I don't think that takes away from the problem, but instead just makes the behavior harder to do find/replace for and makes it harder for the reader to understand what is going on in the doctest. Could you provide some other justification for these changes?\n\nIf you object to that you will have to stem the tide now by posting to sage-devel, because a recursive grep just showed about 30 instances of such usage in Sage (and certainly not all from me). Or open a separate ticket, please. Here they are now reverted.",
    "created_at": "2015-11-26T06:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276646",
    "user": "https://github.com/rwst"
}
```

<a id='comment:53'></a>
Replying to [@tscrim](#comment%3A51):
> I'm guessing changes of this type:
> 
> ```
> -        sage: x,y = var('x,y')
> +        sage: _ = var('x,y')
> ```
> are because you're thinking towards #17958. However I don't think that takes away from the problem, but instead just makes the behavior harder to do find/replace for and makes it harder for the reader to understand what is going on in the doctest. Could you provide some other justification for these changes?

If you object to that you will have to stem the tide now by posting to sage-devel, because a recursive grep just showed about 30 instances of such usage in Sage (and certainly not all from me). Or open a separate ticket, please. Here they are now reverted.



---

archive/issue_comments_276647.json:
```json
{
    "body": "<a id='comment:54'></a>\nThis\n\n```\nisinstance(rel, bool) and rel is True\n```\ncan be simplified to\n\n```\nrel is True\n```",
    "created_at": "2015-11-27T11:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276647",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:54'></a>
This

```
isinstance(rel, bool) and rel is True
```
can be simplified to

```
rel is True
```



---

archive/issue_comments_276648.json:
```json
{
    "body": "<a id='comment:55'></a>\nWhy this?\n\n```diff\ndiff --git a/src/sage/symbolic/constants.py b/src/sage/symbolic/constants.py\nindex 2b4d533..838f64f 100644\n--- a/src/sage/symbolic/constants.py\n+++ b/src/sage/symbolic/constants.py\n@@ -303,8 +303,6 @@ class Constant(object):\n             True\n             sage: p == s\n             False\n-            sage: p != s\n-            True\n         \"\"\"\n         return (self.__class__ == other.__class__ and\n                 self._name == other._name)\n```",
    "created_at": "2015-11-27T11:26:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276648",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:55'></a>
Why this?

```diff
diff --git a/src/sage/symbolic/constants.py b/src/sage/symbolic/constants.py
index 2b4d533..838f64f 100644
--- a/src/sage/symbolic/constants.py
+++ b/src/sage/symbolic/constants.py
@@ -303,8 +303,6 @@ class Constant(object):
             True
             sage: p == s
             False
-            sage: p != s
-            True
         """
         return (self.__class__ == other.__class__ and
                 self._name == other._name)
```



---

archive/issue_comments_276649.json:
```json
{
    "body": "<a id='comment:56'></a>\nThis is not valid LaTeX:\n\n```\ne^{\\sqrt{x}}^{x}\n```",
    "created_at": "2015-11-27T11:31:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276649",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:56'></a>
This is not valid LaTeX:

```
e^{\sqrt{x}}^{x}
```



---

archive/issue_events_173906.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-27T11:31:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173906"
}
```



---

archive/issue_events_173907.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-27T11:31:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173907"
}
```



---

archive/issue_comments_276650.json:
```json
{
    "body": "<a id='comment:57'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7e79817eed0f82ab7b65be738c60f858e3175c5\">d7e7981</a></td><td><code>build dir changes for 0.5.2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af71087f3627150731897d466fa395c7f661d290\">af71087</a></td><td><code>address reviewer's comments; add doctests</code></td></tr></table>\n",
    "created_at": "2015-11-27T14:30:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276650",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:57'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7e79817eed0f82ab7b65be738c60f858e3175c5">d7e7981</a></td><td><code>build dir changes for 0.5.2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af71087f3627150731897d466fa395c7f661d290">af71087</a></td><td><code>address reviewer's comments; add doctests</code></td></tr></table>




---

archive/issue_comments_276651.json:
```json
{
    "body": "**Changing commit** from \"[065791ecfa672c2dec1752fd16a473d776625775](https://github.com/sagemath/sagetrac-mirror/commit/065791ecfa672c2dec1752fd16a473d776625775)\" to \"[af71087f3627150731897d466fa395c7f661d290](https://github.com/sagemath/sagetrac-mirror/commit/af71087f3627150731897d466fa395c7f661d290)\".",
    "created_at": "2015-11-27T14:30:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276651",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[065791ecfa672c2dec1752fd16a473d776625775](https://github.com/sagemath/sagetrac-mirror/commit/065791ecfa672c2dec1752fd16a473d776625775)" to "[af71087f3627150731897d466fa395c7f661d290](https://github.com/sagemath/sagetrac-mirror/commit/af71087f3627150731897d466fa395c7f661d290)".



---

archive/issue_comments_276652.json:
```json
{
    "body": "<a id='comment:58'></a>\n> This is not valid LaTeX:\n\nIs changed. The doctest removal also was to satisfy the first branch. I have reincluded it. Another possible matter with #19040.",
    "created_at": "2015-11-27T14:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276652",
    "user": "https://github.com/rwst"
}
```

<a id='comment:58'></a>
> This is not valid LaTeX:

Is changed. The doctest removal also was to satisfy the first branch. I have reincluded it. Another possible matter with #19040.



---

archive/issue_comments_276653.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -13,4 +13,4 @@\n * remove some unused files and other cleanup; add missing autoconf macro;\n * some older memleaks closed\n \n-https://github.com/pynac/pynac/releases/download/pynac-0.5.1/pynac-0.5.1.tar.bz2\n+https://github.com/pynac/pynac/releases/download/pynac-0.5.2/pynac-0.5.2.tar.bz2\n``````\n",
    "created_at": "2015-11-27T14:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276653",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -13,4 +13,4 @@
 * remove some unused files and other cleanup; add missing autoconf macro;
 * some older memleaks closed
 
-https://github.com/pynac/pynac/releases/download/pynac-0.5.1/pynac-0.5.1.tar.bz2
+https://github.com/pynac/pynac/releases/download/pynac-0.5.2/pynac-0.5.2.tar.bz2
``````




---

archive/issue_events_173908.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-27T14:34:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173908"
}
```



---

archive/issue_events_173909.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-27T14:34:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173909"
}
```



---

archive/issue_events_173910.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-27T14:34:55Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "rename": {
        "from": "Update to pynac-0.5.1",
        "to": "Update to pynac-0.5.2"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173910"
}
```



---

archive/issue_comments_276654.json:
```json
{
    "body": "<a id='comment:60'></a>\nWhat is the definition of an \"undecidable relation\"? (see also the comments: [[comment:24](#comment%3A24)](https://github.com/sagemath/sage/issues/19040#comment:24) and [[comment:41](#comment%3A41)](https://github.com/sagemath/sage/issues/19040#comment:41) on #19040).",
    "created_at": "2015-11-27T20:09:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276654",
    "user": "https://github.com/videlec"
}
```

<a id='comment:60'></a>
What is the definition of an "undecidable relation"? (see also the comments: [[comment:24](#comment%3A24)](https://github.com/sagemath/sage/issues/19040#comment:24) and [[comment:41](#comment%3A41)](https://github.com/sagemath/sage/issues/19040#comment:41) on #19040).



---

archive/issue_comments_276655.json:
```json
{
    "body": "<a id='comment:61'></a>\nPlease see my reply there.",
    "created_at": "2015-11-28T07:20:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276655",
    "user": "https://github.com/rwst"
}
```

<a id='comment:61'></a>
Please see my reply there.



---

archive/issue_comments_276656.json:
```json
{
    "body": "<a id='comment:62'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c27be1795b55e170f3d8e927dfebace34b39abd\">6c27be1</a></td><td><code>Merge branch 'develop' into t/19312/19312-2</code></td></tr></table>\n",
    "created_at": "2015-11-28T08:59:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276656",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:62'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c27be1795b55e170f3d8e927dfebace34b39abd">6c27be1</a></td><td><code>Merge branch 'develop' into t/19312/19312-2</code></td></tr></table>




---

archive/issue_comments_276657.json:
```json
{
    "body": "**Changing commit** from \"[af71087f3627150731897d466fa395c7f661d290](https://github.com/sagemath/sagetrac-mirror/commit/af71087f3627150731897d466fa395c7f661d290)\" to \"[6c27be1795b55e170f3d8e927dfebace34b39abd](https://github.com/sagemath/sagetrac-mirror/commit/6c27be1795b55e170f3d8e927dfebace34b39abd)\".",
    "created_at": "2015-11-28T08:59:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276657",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[af71087f3627150731897d466fa395c7f661d290](https://github.com/sagemath/sagetrac-mirror/commit/af71087f3627150731897d466fa395c7f661d290)" to "[6c27be1795b55e170f3d8e927dfebace34b39abd](https://github.com/sagemath/sagetrac-mirror/commit/6c27be1795b55e170f3d8e927dfebace34b39abd)".



---

archive/issue_comments_276658.json:
```json
{
    "body": "<a id='comment:63'></a>\nThere still is\n\n```\ne^{\\sqrt{x}}^{x}\n```\nin `functions/log.py`.\n\nAlso, for the test in `hyperbolic_isometry.py`, if we add\n\n```\nsage: assume(a*d != b*c)\n```\nthen would that avoid issues with #19040?\n\nOther than that, I'm okay with the current state up to Jeroen's comments that haven't been addressed.",
    "created_at": "2015-11-29T03:40:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276658",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:63'></a>
There still is

```
e^{\sqrt{x}}^{x}
```
in `functions/log.py`.

Also, for the test in `hyperbolic_isometry.py`, if we add

```
sage: assume(a*d != b*c)
```
then would that avoid issues with #19040?

Other than that, I'm okay with the current state up to Jeroen's comments that haven't been addressed.



---

archive/issue_comments_276659.json:
```json
{
    "body": "<a id='comment:64'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7722756efa80d790e57f59a5b2010f82005b4a3f\">7722756</a></td><td><code>19312: fix doctest</code></td></tr></table>\n",
    "created_at": "2015-11-29T07:32:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276659",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:64'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7722756efa80d790e57f59a5b2010f82005b4a3f">7722756</a></td><td><code>19312: fix doctest</code></td></tr></table>




---

archive/issue_comments_276660.json:
```json
{
    "body": "**Changing commit** from \"[6c27be1795b55e170f3d8e927dfebace34b39abd](https://github.com/sagemath/sagetrac-mirror/commit/6c27be1795b55e170f3d8e927dfebace34b39abd)\" to \"[7722756efa80d790e57f59a5b2010f82005b4a3f](https://github.com/sagemath/sagetrac-mirror/commit/7722756efa80d790e57f59a5b2010f82005b4a3f)\".",
    "created_at": "2015-11-29T07:32:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276660",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[6c27be1795b55e170f3d8e927dfebace34b39abd](https://github.com/sagemath/sagetrac-mirror/commit/6c27be1795b55e170f3d8e927dfebace34b39abd)" to "[7722756efa80d790e57f59a5b2010f82005b4a3f](https://github.com/sagemath/sagetrac-mirror/commit/7722756efa80d790e57f59a5b2010f82005b4a3f)".



---

archive/issue_comments_276661.json:
```json
{
    "body": "<a id='comment:65'></a>\nReplying to [@tscrim](#comment%3A63):\n> Also, for the test in `hyperbolic_isometry.py`, if we add\n> \n> ```\n> sage: assume(a*d != b*c)\n> ```\n> then would that avoid issues with #19040?\n\nI'm unable to answer this at the moment but I appreciate the idea. Thanks for your review.",
    "created_at": "2015-11-29T07:33:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276661",
    "user": "https://github.com/rwst"
}
```

<a id='comment:65'></a>
Replying to [@tscrim](#comment%3A63):
> Also, for the test in `hyperbolic_isometry.py`, if we add
> 
> ```
> sage: assume(a*d != b*c)
> ```
> then would that avoid issues with #19040?

I'm unable to answer this at the moment but I appreciate the idea. Thanks for your review.



---

archive/issue_comments_276662.json:
```json
{
    "body": "<a id='comment:66'></a>\nRegarding #19606: Is `pynac` now linked with `gmp`? If so, you need to revert #19606 and you need to change the dependencies of the package.\n\nI have no other comments (which doesn't mean that I understand every change you made, but at least I don't see any obvious problems).",
    "created_at": "2015-11-29T13:49:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276662",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:66'></a>
Regarding #19606: Is `pynac` now linked with `gmp`? If so, you need to revert #19606 and you need to change the dependencies of the package.

I have no other comments (which doesn't mean that I understand every change you made, but at least I don't see any obvious problems).



---

archive/issue_events_173911.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-29T21:23:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173911"
}
```



---

archive/issue_events_173912.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-29T21:23:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173912"
}
```



---

archive/issue_comments_276663.json:
```json
{
    "body": "<a id='comment:68'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f71e3d8f9579f0b0b81f6dae477c3d61bcad689d\">f71e3d8</a></td><td><code>19312: add new pynac dependencies</code></td></tr></table>\n",
    "created_at": "2015-11-30T15:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276663",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:68'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f71e3d8f9579f0b0b81f6dae477c3d61bcad689d">f71e3d8</a></td><td><code>19312: add new pynac dependencies</code></td></tr></table>




---

archive/issue_comments_276664.json:
```json
{
    "body": "**Changing commit** from \"[7722756efa80d790e57f59a5b2010f82005b4a3f](https://github.com/sagemath/sagetrac-mirror/commit/7722756efa80d790e57f59a5b2010f82005b4a3f)\" to \"[f71e3d8f9579f0b0b81f6dae477c3d61bcad689d](https://github.com/sagemath/sagetrac-mirror/commit/f71e3d8f9579f0b0b81f6dae477c3d61bcad689d)\".",
    "created_at": "2015-11-30T15:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276664",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[7722756efa80d790e57f59a5b2010f82005b4a3f](https://github.com/sagemath/sagetrac-mirror/commit/7722756efa80d790e57f59a5b2010f82005b4a3f)" to "[f71e3d8f9579f0b0b81f6dae477c3d61bcad689d](https://github.com/sagemath/sagetrac-mirror/commit/f71e3d8f9579f0b0b81f6dae477c3d61bcad689d)".



---

archive/issue_events_173913.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-30T15:22:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173913"
}
```



---

archive/issue_events_173914.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-30T15:22:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173914"
}
```



---

archive/issue_comments_276665.json:
```json
{
    "body": "<a id='comment:69'></a>\nIndeed, thanks.",
    "created_at": "2015-11-30T15:22:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276665",
    "user": "https://github.com/rwst"
}
```

<a id='comment:69'></a>
Indeed, thanks.



---

archive/issue_events_173915.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-12-01T19:54:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173915"
}
```



---

archive/issue_events_173916.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-12-01T19:54:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173916"
}
```



---

archive/issue_comments_276666.json:
```json
{
    "body": "<a id='comment:70'></a>\nI think then we are good to go.",
    "created_at": "2015-12-01T19:54:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276666",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:70'></a>
I think then we are good to go.



---

archive/issue_comments_276667.json:
```json
{
    "body": "<a id='comment:71'></a>\n32-bit fails with\n\n```\nsage -t --long src/sage/symbolic/expression.pyx\n**********************************************************************\nFile \"src/sage/symbolic/expression.pyx\", line 1455, in sage.symbolic.expression.Expression.__hash__\nFailed example:\n    hash(SR(19.23))\nExpected:\n    2836855582\nGot:\n    -1458111714\n**********************************************************************\nFile \"src/sage/symbolic/expression.pyx\", line 1457, in sage.symbolic.expression.Expression.__hash__\nFailed example:\n    hash(19.23)\nExpected:\n    2836855582\nGot:\n    -1458111714\n**********************************************************************\n1 item had failures:\n   2 of  26 in sage.symbolic.expression.Expression.__hash__\n```",
    "created_at": "2015-12-02T23:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276667",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:71'></a>
32-bit fails with

```
sage -t --long src/sage/symbolic/expression.pyx
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 1455, in sage.symbolic.expression.Expression.__hash__
Failed example:
    hash(SR(19.23))
Expected:
    2836855582
Got:
    -1458111714
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 1457, in sage.symbolic.expression.Expression.__hash__
Failed example:
    hash(19.23)
Expected:
    2836855582
Got:
    -1458111714
**********************************************************************
1 item had failures:
   2 of  26 in sage.symbolic.expression.Expression.__hash__
```



---

archive/issue_events_173917.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-02T23:53:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173917"
}
```



---

archive/issue_events_173918.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-02T23:53:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173918"
}
```



---

archive/issue_comments_276668.json:
```json
{
    "body": "**Changing commit** from \"[f71e3d8f9579f0b0b81f6dae477c3d61bcad689d](https://github.com/sagemath/sagetrac-mirror/commit/f71e3d8f9579f0b0b81f6dae477c3d61bcad689d)\" to \"[bdda35e186887d05bd50fac9db19b785a5109e2e](https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e)\".",
    "created_at": "2015-12-03T08:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276668",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[f71e3d8f9579f0b0b81f6dae477c3d61bcad689d](https://github.com/sagemath/sagetrac-mirror/commit/f71e3d8f9579f0b0b81f6dae477c3d61bcad689d)" to "[bdda35e186887d05bd50fac9db19b785a5109e2e](https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e)".



---

archive/issue_comments_276669.json:
```json
{
    "body": "<a id='comment:72'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e\">bdda35e</a></td><td><code>19312: differentiate doctest result wrt 32/64 bit</code></td></tr></table>\n",
    "created_at": "2015-12-03T08:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276669",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:72'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e">bdda35e</a></td><td><code>19312: differentiate doctest result wrt 32/64 bit</code></td></tr></table>




---

archive/issue_events_173919.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-12-03T08:54:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173919"
}
```



---

archive/issue_events_173920.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-12-03T08:54:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173920"
}
```



---

archive/issue_events_173921.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-03T09:13:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173921"
}
```



---

archive/issue_events_173922.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-03T09:13:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173922"
}
```



---

archive/issue_events_173923.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-03T23:23:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173923"
}
```



---

archive/issue_events_173924.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "81a80a8ce72a898e890523ee1ff6a653ffd51a4d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-12-03T23:23:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-173924"
}
```



---

archive/issue_comments_276670.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/19312-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-2)\" to \"[bdda35e186887d05bd50fac9db19b785a5109e2e](https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e)\".",
    "created_at": "2015-12-03T23:23:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-276670",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/rws/19312-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-2)" to "[bdda35e186887d05bd50fac9db19b785a5109e2e](https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e)".
