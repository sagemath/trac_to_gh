# Issue 19312: Update to pynac-0.5.2

archive/issues_019075.json:
```json
{
    "assignees": [],
    "body": "The next big Pynac update has:\n\n* libgmp `bigint`s and `bigrat`s instead of `Integer` and `Rational` Python objects\n* assumptions/domains can influence Pynac computation\n* sync elementary assumptions on symbols/functions with Pynac (#19035)\n* C++11 results in better code readability\n* better decisions through more info flags and logic\n* return `not implemented` and `undecidable` for some decisions (for math. logic changes see the #19040 description)\n* add inexact flag for possible expansions / FP simplifications\n* `abs()` expansion\n* `function::info()`\n* from GiNaC: Fix `pow(+(...),2).expand()`\n* remove some unused files and other cleanup; add missing autoconf macro;\n* some older memleaks closed\n\nhttps://github.com/pynac/pynac/releases/download/pynac-0.5.2/pynac-0.5.2.tar.bz2\n\nDepends on #19606\n\nBranch/Commit: **[`bdda35e`](https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e)**\n\nReviewer: **Jeroen Demeyer, Travis Scrimshaw**\n\nAuthor: **Ralf Stephan**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19312_\n\n",
    "closed_at": "2015-12-03T23:23:19Z",
    "created_at": "2015-09-29T13:28:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update to pynac-0.5.2",
    "type": "issue",
    "updated_at": "2015-12-03T23:23:19Z",
    "url": "https://github.com/sagemath/sage/issues/19312",
    "user": "https://github.com/rwst"
}
```
The next big Pynac update has:

* libgmp `bigint`s and `bigrat`s instead of `Integer` and `Rational` Python objects
* assumptions/domains can influence Pynac computation
* sync elementary assumptions on symbols/functions with Pynac (#19035)
* C++11 results in better code readability
* better decisions through more info flags and logic
* return `not implemented` and `undecidable` for some decisions (for math. logic changes see the #19040 description)
* add inexact flag for possible expansions / FP simplifications
* `abs()` expansion
* `function::info()`
* from GiNaC: Fix `pow(+(...),2).expand()`
* remove some unused files and other cleanup; add missing autoconf macro;
* some older memleaks closed

https://github.com/pynac/pynac/releases/download/pynac-0.5.2/pynac-0.5.2.tar.bz2

Depends on #19606

Branch/Commit: **[`bdda35e`](https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e)**

Reviewer: **Jeroen Demeyer, Travis Scrimshaw**

Author: **Ralf Stephan**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/19312_





---

archive/issue_events_271566.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-09-29T13:28:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271566"
}
```



---

archive/issue_events_271567.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-09-29T13:28:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271567"
}
```



---

archive/issue_events_271568.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-09-29T13:28:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271568"
}
```



---

archive/issue_events_271569.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-09-29T13:28:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271569"
}
```



---

archive/issue_comments_274036.json:
```json
{
    "body": "Dependencies: **#19298**",
    "created_at": "2015-09-29T13:31:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274036",
    "user": "https://github.com/rwst"
}
```

Dependencies: **#19298**



---

archive/issue_comments_274037.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nMind you, it's not here yet. Git master has half a dozen small but difficult to trace bugs.",
    "created_at": "2015-09-29T13:33:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274037",
    "user": "https://github.com/rwst"
}
```

<div id="comment:2" align="right">comment:2</div>

Mind you, it's not here yet. Git master has half a dozen small but difficult to trace bugs.



---

archive/issue_comments_274038.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,6 @@\n \n * libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects\n * assumptions/domains can influence Pynac computation\n-* 64 bit hashes\n+* 64 bit hashes (#19310)\n * C++11 results in better code readability\n \n``````\n",
    "created_at": "2015-09-29T13:33:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274038",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,6 @@
 
 * libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects
 * assumptions/domains can influence Pynac computation
-* 64 bit hashes
+* 64 bit hashes (#19310)
 * C++11 results in better code readability
 
``````




---

archive/issue_comments_274039.json:
```json
{
    "body": "Branch: **[u/rws/19312-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-1)**",
    "created_at": "2015-10-16T15:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274039",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/19312-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-1)**



---

archive/issue_events_271570.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-16T15:46:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271570"
}
```



---

archive/issue_comments_274040.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThis works and can be reviewed independently on machines with gcc>=4.6, but please wait with setting positive for the build system changes (i.e., #19298).\n\nThere are two failing doctests: one only happens on doctesting and needs the associated environment; the other is the \"pi in RIF\" doctest which presented a philosophical problem to Sage developers (see #17984) and thus cannot be resolved in my lifetime.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/281541d51402ede85191923946c8d1f2c0911938\"><code>281541d</code></a></td><td><code>package version and checksum</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e56e7790be8a6021a998e1890f42c70cd691b6bf\"><code>e56e779</code></a></td><td><code>C++11 compile switches</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/474fff61e327f45aea06606b6b3a435dc123188d\"><code>474fff6</code></a></td><td><code>19312: pynac/Sage interface adaptations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b512158578b9161c87e9b63535874fef8d9ae2b\"><code>5b51215</code></a></td><td><code>19312: link assume/forget to pynac</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/626fb47dcc6b17ada8dcea446d61ffa4c9f64d73\"><code>626fb47</code></a></td><td><code>19312: core of math logic rewrite of Expression.__nonzero__(), dedicated is_zero</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b8a09e6373328a88fae33f189ce8e6907ae7d33\"><code>9b8a09e</code></a></td><td><code>19312: code changes in consequence of ex.__nonzero__() math logic changes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/361e3d831ff66feb282ac29f0a2c70e04197cb9a\"><code>361e3d8</code></a></td><td><code>19312: doc/doctest changes in consequence of math. logic changes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8421ab9a0ad240f631d434a00c6690bcb94676c3\"><code>8421ab9</code></a></td><td><code>19312: other doc/doctest changes because of pynac changes</code></td></tr></table>\n",
    "created_at": "2015-10-16T15:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274040",
    "user": "https://github.com/rwst"
}
```

<div id="comment:4" align="right">comment:4</div>

This works and can be reviewed independently on machines with gcc>=4.6, but please wait with setting positive for the build system changes (i.e., #19298).

There are two failing doctests: one only happens on doctesting and needs the associated environment; the other is the "pi in RIF" doctest which presented a philosophical problem to Sage developers (see #17984) and thus cannot be resolved in my lifetime.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/281541d51402ede85191923946c8d1f2c0911938"><code>281541d</code></a></td><td><code>package version and checksum</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e56e7790be8a6021a998e1890f42c70cd691b6bf"><code>e56e779</code></a></td><td><code>C++11 compile switches</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/474fff61e327f45aea06606b6b3a435dc123188d"><code>474fff6</code></a></td><td><code>19312: pynac/Sage interface adaptations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b512158578b9161c87e9b63535874fef8d9ae2b"><code>5b51215</code></a></td><td><code>19312: link assume/forget to pynac</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/626fb47dcc6b17ada8dcea446d61ffa4c9f64d73"><code>626fb47</code></a></td><td><code>19312: core of math logic rewrite of Expression.__nonzero__(), dedicated is_zero</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b8a09e6373328a88fae33f189ce8e6907ae7d33"><code>9b8a09e</code></a></td><td><code>19312: code changes in consequence of ex.__nonzero__() math logic changes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/361e3d831ff66feb282ac29f0a2c70e04197cb9a"><code>361e3d8</code></a></td><td><code>19312: doc/doctest changes in consequence of math. logic changes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8421ab9a0ad240f631d434a00c6690bcb94676c3"><code>8421ab9</code></a></td><td><code>19312: other doc/doctest changes because of pynac changes</code></td></tr></table>




---

archive/issue_comments_274041.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,15 @@\n \n * libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects\n * assumptions/domains can influence Pynac computation\n-* 64 bit hashes (#19310)\n * C++11 results in better code readability\n+* better decisions through more info flags and logic\n+* return `not implemented` and `undecidable` for some decisions (for matzh. logic changes see #19040 description)\n+* add inexact flag for possible expansions / FP simplifications\n+* `abs()` expansion\n+* `function::info()`\n+* from GiNaC: Fix `pow(+(...),2).expand()`\n+* remove some unused files and other cleanup; add missing autoconf macro;\n+* some older memleaks closed\n \n+https://github.com/pynac/pynac/releases/download/pynac-0.5.0/pynac-0.5.0.tar.bz2\n+\n``````\n",
    "created_at": "2015-10-16T15:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274041",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,15 @@
 
 * libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects
 * assumptions/domains can influence Pynac computation
-* 64 bit hashes (#19310)
 * C++11 results in better code readability
+* better decisions through more info flags and logic
+* return `not implemented` and `undecidable` for some decisions (for matzh. logic changes see #19040 description)
+* add inexact flag for possible expansions / FP simplifications
+* `abs()` expansion
+* `function::info()`
+* from GiNaC: Fix `pow(+(...),2).expand()`
+* remove some unused files and other cleanup; add missing autoconf macro;
+* some older memleaks closed
 
+https://github.com/pynac/pynac/releases/download/pynac-0.5.0/pynac-0.5.0.tar.bz2
+
``````




---

archive/issue_comments_274042.json:
```json
{
    "body": "Commit: **[`8421ab9`](https://github.com/sagemath/sagetrac-mirror/commit/8421ab9a0ad240f631d434a00c6690bcb94676c3)**",
    "created_at": "2015-10-16T15:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274042",
    "user": "https://github.com/rwst"
}
```

Commit: **[`8421ab9`](https://github.com/sagemath/sagetrac-mirror/commit/8421ab9a0ad240f631d434a00c6690bcb94676c3)**



---

archive/issue_events_271571.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-16T15:51:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271571"
}
```



---

archive/issue_events_271572.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-16T15:51:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271572"
}
```



---

archive/issue_comments_274043.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2015-10-16T15:51:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274043",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_comments_274044.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Provisional ticket for the next big Pynac update.\n+The next big Pynac update has:\n \n * libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects\n * assumptions/domains can influence Pynac computation\n``````\n",
    "created_at": "2015-10-16T15:52:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274044",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Provisional ticket for the next big Pynac update.
+The next big Pynac update has:
 
 * libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects
 * assumptions/domains can influence Pynac computation
``````




---

archive/issue_comments_274045.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n * assumptions/domains can influence Pynac computation\n * C++11 results in better code readability\n * better decisions through more info flags and logic\n-* return `not implemented` and `undecidable` for some decisions (for matzh. logic changes see #19040 description)\n+* return `not implemented` and `undecidable` for some decisions (for math. logic changes see the #19040 description)\n * add inexact flag for possible expansions / FP simplifications\n * `abs()` expansion\n * `function::info()`\n``````\n",
    "created_at": "2015-10-16T15:54:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274045",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 * assumptions/domains can influence Pynac computation
 * C++11 results in better code readability
 * better decisions through more info flags and logic
-* return `not implemented` and `undecidable` for some decisions (for matzh. logic changes see #19040 description)
+* return `not implemented` and `undecidable` for some decisions (for math. logic changes see the #19040 description)
 * add inexact flag for possible expansions / FP simplifications
 * `abs()` expansion
 * `function::info()`
``````




---

archive/issue_events_271573.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-16T18:28:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271573"
}
```



---

archive/issue_events_271574.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-16T18:28:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271574"
}
```



---

archive/issue_comments_274046.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n\n```\nsage -t src/sage/plot/arc.py\n**********************************************************************\nFile \"src/sage/plot/arc.py\", line 66, in sage.plot.arc.Arc.__init__\nFailed example:\n    bool(A[0].angle == pi/4)\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"src/sage/plot/arc.py\", line 70, in sage.plot.arc.Arc.__init__\nFailed example:\n    bool(A[0].s2 == pi)\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n1 item had failures:\n   2 of  12 in sage.plot.arc.Arc.__init__\n    [47 tests, 2 failures, 2.28 s]\nsage -t src/sage/structure/parent.pyx\n**********************************************************************\nFile \"src/sage/structure/parent.pyx\", line 1227, in sage.structure.parent.Parent.__contains__\nFailed example:\n    pi in RIF # there is no element of RIF equal to pi\nExpected:\n    False\nGot:\n    True\n**********************************************************************\n```",
    "created_at": "2015-10-16T18:28:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274046",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>


```
sage -t src/sage/plot/arc.py
**********************************************************************
File "src/sage/plot/arc.py", line 66, in sage.plot.arc.Arc.__init__
Failed example:
    bool(A[0].angle == pi/4)
Expected:
    True
Got:
    False
**********************************************************************
File "src/sage/plot/arc.py", line 70, in sage.plot.arc.Arc.__init__
Failed example:
    bool(A[0].s2 == pi)
Expected:
    True
Got:
    False
**********************************************************************
1 item had failures:
   2 of  12 in sage.plot.arc.Arc.__init__
    [47 tests, 2 failures, 2.28 s]
sage -t src/sage/structure/parent.pyx
**********************************************************************
File "src/sage/structure/parent.pyx", line 1227, in sage.structure.parent.Parent.__contains__
Failed example:
    pi in RIF # there is no element of RIF equal to pi
Expected:
    False
Got:
    True
**********************************************************************
```



---

archive/issue_comments_274047.json:
```json
{
    "body": "Changed commit from **[`8421ab9`](https://github.com/sagemath/sagetrac-mirror/commit/8421ab9a0ad240f631d434a00c6690bcb94676c3)** to **[`4784254`](https://github.com/sagemath/sagetrac-mirror/commit/47842548bad14f96923220da7de6df6cab96a436)**",
    "created_at": "2015-10-17T14:19:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274047",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8421ab9`](https://github.com/sagemath/sagetrac-mirror/commit/8421ab9a0ad240f631d434a00c6690bcb94676c3)** to **[`4784254`](https://github.com/sagemath/sagetrac-mirror/commit/47842548bad14f96923220da7de6df6cab96a436)**



---

archive/issue_comments_274048.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47842548bad14f96923220da7de6df6cab96a436\"><code>4784254</code></a></td><td><code>19312: fix omission, doctest</code></td></tr></table>\n",
    "created_at": "2015-10-17T14:19:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274048",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47842548bad14f96923220da7de6df6cab96a436"><code>4784254</code></a></td><td><code>19312: fix omission, doctest</code></td></tr></table>




---

archive/issue_events_271575.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-17T14:19:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271575"
}
```



---

archive/issue_events_271576.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-17T14:19:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271576"
}
```



---

archive/issue_comments_274049.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI agree to try first a merge of #19040 to reduce the size of this patch.",
    "created_at": "2015-10-17T14:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274049",
    "user": "https://github.com/rwst"
}
```

<div id="comment:11" align="right">comment:11</div>

I agree to try first a merge of #19040 to reduce the size of this patch.



---

archive/issue_comments_274050.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@rwst](#comment%3A11):\n> I agree to try first a merge of #19040 to reduce the size of this patch.\n\nThe other way around seems more logical to me: first merge this, then #19040.",
    "created_at": "2015-10-17T15:19:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274050",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@rwst](#comment%3A11):
> I agree to try first a merge of #19040 to reduce the size of this patch.

The other way around seems more logical to me: first merge this, then #19040.



---

archive/issue_comments_274051.json:
```json
{
    "body": "Changed branch from **[u/rws/19312-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-1)** to **[u/rws/19312-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-2)**",
    "created_at": "2015-10-19T09:05:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274051",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/19312-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-1)** to **[u/rws/19312-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-2)**



---

archive/issue_comments_274052.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI excised the math logic changes. Please review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a484464cd2cb08d159defaa602876204ad0038b\"><code>3a48446</code></a></td><td><code>19312: package version and checksum</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc6a6c952d5b42cbb104fec48c14630e3b8fdfc3\"><code>cc6a6c9</code></a></td><td><code>19312: C++11 compile switches</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/caa0aebc9cc2be0bbd555159813db58d6f315865\"><code>caa0aeb</code></a></td><td><code>19312: pynac/Sage interface adaptations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a973071a06d7f4b2ff9fb0b154805bb12ee9de60\"><code>a973071</code></a></td><td><code>19312: link assume/forget to pynac</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cf8edb35c4f540abd8f0adb1fb6f1f9b1ac122d\"><code>6cf8edb</code></a></td><td><code>19312: changes in Expression.__nonzero__ due to Pynac interface change</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d340d9d9fcebc7ebd3a576d21eed540d056afee0\"><code>d340d9d</code></a></td><td><code>19312: doctest adaptations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd68fd5b3138a56a1998788be4c92c90bae98263\"><code>fd68fd5</code></a></td><td><code>19312: fix code for failing doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eeedddc1b81e4e9d2088283f21bac8c66476caa1\"><code>eeedddc</code></a></td><td><code>19312: kludge to allow unchanged `__nonzero__` with pynac-0.5</code></td></tr></table>\n",
    "created_at": "2015-10-19T09:06:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274052",
    "user": "https://github.com/rwst"
}
```

<div id="comment:14" align="right">comment:14</div>

I excised the math logic changes. Please review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a484464cd2cb08d159defaa602876204ad0038b"><code>3a48446</code></a></td><td><code>19312: package version and checksum</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc6a6c952d5b42cbb104fec48c14630e3b8fdfc3"><code>cc6a6c9</code></a></td><td><code>19312: C++11 compile switches</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/caa0aebc9cc2be0bbd555159813db58d6f315865"><code>caa0aeb</code></a></td><td><code>19312: pynac/Sage interface adaptations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a973071a06d7f4b2ff9fb0b154805bb12ee9de60"><code>a973071</code></a></td><td><code>19312: link assume/forget to pynac</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cf8edb35c4f540abd8f0adb1fb6f1f9b1ac122d"><code>6cf8edb</code></a></td><td><code>19312: changes in Expression.__nonzero__ due to Pynac interface change</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d340d9d9fcebc7ebd3a576d21eed540d056afee0"><code>d340d9d</code></a></td><td><code>19312: doctest adaptations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd68fd5b3138a56a1998788be4c92c90bae98263"><code>fd68fd5</code></a></td><td><code>19312: fix code for failing doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eeedddc1b81e4e9d2088283f21bac8c66476caa1"><code>eeedddc</code></a></td><td><code>19312: kludge to allow unchanged `__nonzero__` with pynac-0.5</code></td></tr></table>




---

archive/issue_comments_274053.json:
```json
{
    "body": "Changed commit from **[`4784254`](https://github.com/sagemath/sagetrac-mirror/commit/47842548bad14f96923220da7de6df6cab96a436)** to **[`eeedddc`](https://github.com/sagemath/sagetrac-mirror/commit/eeedddc1b81e4e9d2088283f21bac8c66476caa1)**",
    "created_at": "2015-10-19T09:06:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274053",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[`4784254`](https://github.com/sagemath/sagetrac-mirror/commit/47842548bad14f96923220da7de6df6cab96a436)** to **[`eeedddc`](https://github.com/sagemath/sagetrac-mirror/commit/eeedddc1b81e4e9d2088283f21bac8c66476caa1)**



---

archive/issue_comments_274054.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,8 @@\n The next big Pynac update has:\n \n-* libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects\n+* libgmp `bigint`s and `bigrat`s instead of `Integer` and `Rational` Python objects\n * assumptions/domains can influence Pynac computation\n+* sync elementary assumptions on symbols/functions with Pynac (#19035)\n * C++11 results in better code readability\n * better decisions through more info flags and logic\n * return `not implemented` and `undecidable` for some decisions (for math. logic changes see the #19040 description)\n``````\n",
    "created_at": "2015-10-19T14:25:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274054",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,8 @@
 The next big Pynac update has:
 
-* libgmp `bigint`s and `bigrat`s instead of `ZZ` and `QQ` Python objects
+* libgmp `bigint`s and `bigrat`s instead of `Integer` and `Rational` Python objects
 * assumptions/domains can influence Pynac computation
+* sync elementary assumptions on symbols/functions with Pynac (#19035)
 * C++11 results in better code readability
 * better decisions through more info flags and logic
 * return `not implemented` and `undecidable` for some decisions (for math. logic changes see the #19040 description)
``````




---

archive/issue_comments_274055.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nFYI - There is an `Unknown` located in `sage.misc.unknown`.",
    "created_at": "2015-10-21T11:32:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274055",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:16" align="right">comment:16</div>

FYI - There is an `Unknown` located in `sage.misc.unknown`.



---

archive/issue_comments_274056.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@tscrim](#comment%3A16):\n> FYI - There is an `Unknown` located in `sage.misc.unknown`.\n\nThat would be useful for #19040, thanks!",
    "created_at": "2015-10-21T12:50:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274056",
    "user": "https://github.com/rwst"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@tscrim](#comment%3A16):
> FYI - There is an `Unknown` located in `sage.misc.unknown`.

That would be useful for #19040, thanks!



---

archive/issue_events_271577.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-11-22T16:31:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271577"
}
```



---

archive/issue_events_271578.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-11-22T16:31:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271578"
}
```



---

archive/issue_comments_274057.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nNeeds a rebase.",
    "created_at": "2015-11-22T16:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274057",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">comment:18</div>

Needs a rebase.



---

archive/issue_comments_274058.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nIf you commit to the review I'll do the rebase.",
    "created_at": "2015-11-22T16:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274058",
    "user": "https://github.com/rwst"
}
```

<div id="comment:19" align="right">comment:19</div>

If you commit to the review I'll do the rebase.



---

archive/issue_comments_274059.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI should be able to do the review.",
    "created_at": "2015-11-22T16:54:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274059",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

I should be able to do the review.



---

archive/issue_comments_274060.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da6fe01c1e399e829124c887f9be0b75f16f6e1e\"><code>da6fe01</code></a></td><td><code>Merge branch 'develop' into t/19312/19312-2</code></td></tr></table>\n",
    "created_at": "2015-11-23T08:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274060",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da6fe01c1e399e829124c887f9be0b75f16f6e1e"><code>da6fe01</code></a></td><td><code>Merge branch 'develop' into t/19312/19312-2</code></td></tr></table>




---

archive/issue_comments_274061.json:
```json
{
    "body": "Changed commit from **[`eeedddc`](https://github.com/sagemath/sagetrac-mirror/commit/eeedddc1b81e4e9d2088283f21bac8c66476caa1)** to **[`da6fe01`](https://github.com/sagemath/sagetrac-mirror/commit/da6fe01c1e399e829124c887f9be0b75f16f6e1e)**",
    "created_at": "2015-11-23T08:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274061",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eeedddc`](https://github.com/sagemath/sagetrac-mirror/commit/eeedddc1b81e4e9d2088283f21bac8c66476caa1)** to **[`da6fe01`](https://github.com/sagemath/sagetrac-mirror/commit/da6fe01c1e399e829124c887f9be0b75f16f6e1e)**



---

archive/issue_comments_274062.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798\"><code>dfb2ba3</code></a></td><td><code>19321:fix typo</code></td></tr></table>\n",
    "created_at": "2015-11-23T08:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274062",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798"><code>dfb2ba3</code></a></td><td><code>19321:fix typo</code></td></tr></table>




---

archive/issue_comments_274063.json:
```json
{
    "body": "Changed commit from **[`da6fe01`](https://github.com/sagemath/sagetrac-mirror/commit/da6fe01c1e399e829124c887f9be0b75f16f6e1e)** to **[`dfb2ba3`](https://github.com/sagemath/sagetrac-mirror/commit/dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798)**",
    "created_at": "2015-11-23T08:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274063",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`da6fe01`](https://github.com/sagemath/sagetrac-mirror/commit/da6fe01c1e399e829124c887f9be0b75f16f6e1e)** to **[`dfb2ba3`](https://github.com/sagemath/sagetrac-mirror/commit/dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798)**



---

archive/issue_events_271579.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-23T08:36:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271579"
}
```



---

archive/issue_events_271580.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-23T08:36:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271580"
}
```



---

archive/issue_comments_274064.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nGreat. So please review.",
    "created_at": "2015-11-23T08:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274064",
    "user": "https://github.com/rwst"
}
```

<div id="comment:23" align="right">comment:23</div>

Great. So please review.



---

archive/issue_comments_274065.json:
```json
{
    "body": "Changed dependencies from **#19298** to none",
    "created_at": "2015-11-23T08:45:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274065",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#19298** to none



---

archive/issue_comments_274066.json:
```json
{
    "body": "Dependencies: **#19606**",
    "created_at": "2015-11-23T08:46:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274066",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#19606**



---

archive/issue_comments_274067.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThis should be rebased on top of #19606.",
    "created_at": "2015-11-23T08:46:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274067",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

This should be rebased on top of #19606.



---

archive/issue_comments_274068.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplace\n\n```\nif not (solution_dict == True or solution_dict == False)\n```\nby\n\n```\nif solution_dict is not True and solution_dict is not False\n```",
    "created_at": "2015-11-23T08:50:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274068",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

Replace

```
if not (solution_dict == True or solution_dict == False)
```
by

```
if solution_dict is not True and solution_dict is not False
```



---

archive/issue_comments_274069.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nWhy do you need the `__cmp__` method on `Constant`? Since we are trying to move to Python 3, we shouldn't add new `__cmp__` or `cmp()`.",
    "created_at": "2015-11-23T08:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274069",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

Why do you need the `__cmp__` method on `Constant`? Since we are trying to move to Python 3, we shouldn't add new `__cmp__` or `cmp()`.



---

archive/issue_events_271581.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-23T08:53:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271581"
}
```



---

archive/issue_events_271582.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-23T08:53:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271582"
}
```



---

archive/issue_comments_274070.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIn `src/sage/calculus/desolvers.py`, I think you need to justify the changes\n\n```diff\n@@ -676,7 +676,7 @@ def desolve_laplace(de, dvar, ics=None, ivar=None):\n         dvar, ivar = dvar\n     elif ivar is None:\n         ivars = de.variables()\n-        ivars = [t for t in ivars if t != dvar]\n+        ivars = [t for t in ivars if t is not dvar]\n         if len(ivars) != 1:\n             raise ValueError(\"Unable to determine independent variable, please specify.\")\n         ivar = ivars[0]\n@@ -1182,7 +1181,7 @@ def desolve_rk4(de, dvar, ics=None, ivar=None, end_points=None, step=0.1, output\n \n     if ivar is None:\n         ivars = de.variables()\n-        ivars = [t for t in ivars if t != dvar]\n+        ivars = [t for t in ivars if repr(t) != repr(dvar)]\n         if len(ivars) != 1:\n             raise ValueError(\"Unable to determine independent variable, please specify.\")\n         ivar = ivars[0]\n```",
    "created_at": "2015-11-23T08:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274070",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

In `src/sage/calculus/desolvers.py`, I think you need to justify the changes

```diff
@@ -676,7 +676,7 @@ def desolve_laplace(de, dvar, ics=None, ivar=None):
         dvar, ivar = dvar
     elif ivar is None:
         ivars = de.variables()
-        ivars = [t for t in ivars if t != dvar]
+        ivars = [t for t in ivars if t is not dvar]
         if len(ivars) != 1:
             raise ValueError("Unable to determine independent variable, please specify.")
         ivar = ivars[0]
@@ -1182,7 +1181,7 @@ def desolve_rk4(de, dvar, ics=None, ivar=None, end_points=None, step=0.1, output
 
     if ivar is None:
         ivars = de.variables()
-        ivars = [t for t in ivars if t != dvar]
+        ivars = [t for t in ivars if repr(t) != repr(dvar)]
         if len(ivars) != 1:
             raise ValueError("Unable to determine independent variable, please specify.")
         ivar = ivars[0]
```



---

archive/issue_comments_274071.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplace\n\n```\ncdef object py_integer_from_long(long x) except +:\n    cdef Integer z = PY_NEW(Integer)\n    mpz_set_si(z.value, x)\n    return z\n```\nby\n\n```\nfrom sage.rings.integer cimport smallInteger\n\ncdef py_integer_from_long(long x):\n    return smallInteger(x)\n```",
    "created_at": "2015-11-23T09:39:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274071",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

Replace

```
cdef object py_integer_from_long(long x) except +:
    cdef Integer z = PY_NEW(Integer)
    mpz_set_si(z.value, x)
    return z
```
by

```
from sage.rings.integer cimport smallInteger

cdef py_integer_from_long(long x):
    return smallInteger(x)
```



---

archive/issue_comments_274072.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI also don't understand the following doctest changes:\n\n```diff\n@@ -1148,7 +1148,8 @@ def desolve_rk4(de, dvar, ics=None, ivar=None, end_points=None, step=0.1, output\n \n     Variant 2 for input - more common in numerics::\n \n-        sage: x,y=var('x y')\n+        sage: _ = var('x,y')\n+        sage: f = function('f')(x)\n         sage: desolve_rk4(x*y*(2-y),y,ics=[0,1],end_points=1,step=0.5)\n         [[0, 1], [0.5, 1.12419127424558], [1.0, 1.461590162288825]]\n \n@@ -1156,15 +1157,13 @@ def desolve_rk4(de, dvar, ics=None, ivar=None, end_points=None, step=0.1, output\n     desolve function In this example we integrate bakwards, since\n     ``end_points < ics[0]``::\n \n-        sage: y=function('y')(x)\n-        sage: desolve_rk4(diff(y,x)+y*(y-1) == x-2,y,ics=[1,1],step=0.5, end_points=0)\n+        sage: desolve_rk4(diff(f,x)+f*(f-1) == x-2,f,ics=[1,1],step=0.5, end_points=0)\n         [[0.0, 8.904257108962112], [0.5, 1.909327945361535], [1, 1]]\n \n     Here we show how to plot simple pictures. For more advanced\n     aplications use list_plot instead. To see the resulting picture\n     use ``show(P)`` in Sage notebook. ::\n \n-        sage: x,y=var('x y')\n         sage: P=desolve_rk4(y*(2-y),y,ics=[0,.1],ivar=x,output='slope_field',end_points=[-4,6],thickness=3)\n \n     ALGORITHM:\n```",
    "created_at": "2015-11-23T09:42:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274072",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

I also don't understand the following doctest changes:

```diff
@@ -1148,7 +1148,8 @@ def desolve_rk4(de, dvar, ics=None, ivar=None, end_points=None, step=0.1, output
 
     Variant 2 for input - more common in numerics::
 
-        sage: x,y=var('x y')
+        sage: _ = var('x,y')
+        sage: f = function('f')(x)
         sage: desolve_rk4(x*y*(2-y),y,ics=[0,1],end_points=1,step=0.5)
         [[0, 1], [0.5, 1.12419127424558], [1.0, 1.461590162288825]]
 
@@ -1156,15 +1157,13 @@ def desolve_rk4(de, dvar, ics=None, ivar=None, end_points=None, step=0.1, output
     desolve function In this example we integrate bakwards, since
     ``end_points < ics[0]``::
 
-        sage: y=function('y')(x)
-        sage: desolve_rk4(diff(y,x)+y*(y-1) == x-2,y,ics=[1,1],step=0.5, end_points=0)
+        sage: desolve_rk4(diff(f,x)+f*(f-1) == x-2,f,ics=[1,1],step=0.5, end_points=0)
         [[0.0, 8.904257108962112], [0.5, 1.909327945361535], [1, 1]]
 
     Here we show how to plot simple pictures. For more advanced
     aplications use list_plot instead. To see the resulting picture
     use ``show(P)`` in Sage notebook. ::
 
-        sage: x,y=var('x y')
         sage: P=desolve_rk4(y*(2-y),y,ics=[0,.1],ivar=x,output='slope_field',end_points=[-4,6],thickness=3)
 
     ALGORITHM:
```



---

archive/issue_comments_274073.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThere are various doctest failures:\n\n```\nsage -t --long src/sage/combinat/finite_state_machine.py\n**********************************************************************\nFile \"src/sage/combinat/finite_state_machine.py\", line 10001, in sage.combinat.finite_state_machine.FiniteStateMachine.?\nFailed example:\n    R.<phi> = NumberField(x^2-x-1, embedding=golden_ratio)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.combinat.finite_state_machine.FiniteStateMachine.?[11]>\", line 1, in <module>\n        R = NumberField(x**Integer(2)-x-Integer(1), embedding=golden_ratio, names=('phi',)); (phi,) = R._first_ngens(1)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py\", line 490, in NumberField\n        return NumberField_version2(polynomial=polynomial, name=name, check=check, embedding=embedding, latex_name=latex_name, assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)\n      File \"sage/structure/factory.pyx\", line 366, in sage.structure.factory.UniqueFactory.__call__ (build/cythonized/sage/structure/factory.c:1328)\n        return self.get_object(version, key, kwds)\n      File \"sage/structure/factory.pyx\", line 410, in sage.structure.factory.UniqueFactory.get_object (build/cythonized/sage/structure/factory.c:1734)\n        obj = self.create_object(version, key, **extra_args)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py\", line 612, in create_object\n        return NumberField_quadratic(polynomial, name, latex_name, check, embedding, assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py\", line 10070, in __init__\n        assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py\", line 6421, in __init__\n        assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py\", line 1202, in __init__\n        embedding = number_field_morphisms.create_embedding_from_approx(self, embedding)\n      File \"sage/rings/number_field/number_field_morphisms.pyx\", line 503, in sage.rings.number_field.number_field_morphisms.create_embedding_from_approx (build/cythonized/sage/rings/number_field/number_field_morphisms.c:7328)\n        raise ValueError, \"%s is not a root of the defining polynomial of %s\" % (gen_image, K)\n    ValueError: golden_ratio is not a root of the defining polynomial of Number Field in phi with defining polynomial x^2 - x - 1\n**********************************************************************\nFile \"src/sage/combinat/finite_state_machine.py\", line 10002, in sage.combinat.finite_state_machine.FiniteStateMachine.?\nFailed example:\n    N = NAFp.number_of_words(base_ring=R); N\nExpected:\n    1/5*(3*golden_ratio + 1)*golden_ratio^n\n    - 1/5*(3*golden_ratio - 4)*(-golden_ratio + 1)^n\nGot:\n    1/10*(1/2*sqrt(5) + 1/2)^n*(3*sqrt(5) + 5) - 1/10*(-1/2*sqrt(5) + 1/2)^n*(3*sqrt(5) - 5)\n**********************************************************************\nFile \"src/sage/functions/other.py\", line 1693, in sage.functions.other.Function_beta.__init__\nFailed example:\n    beta(1/3, 1/2)\nExpected:\n    beta(1/2, 1/3)\nGot:\n    beta(1/3, 1/2)\n**********************************************************************\n```",
    "created_at": "2015-11-23T12:20:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274073",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:31" align="right">comment:31</div>

There are various doctest failures:

```
sage -t --long src/sage/combinat/finite_state_machine.py
**********************************************************************
File "src/sage/combinat/finite_state_machine.py", line 10001, in sage.combinat.finite_state_machine.FiniteStateMachine.?
Failed example:
    R.<phi> = NumberField(x^2-x-1, embedding=golden_ratio)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.combinat.finite_state_machine.FiniteStateMachine.?[11]>", line 1, in <module>
        R = NumberField(x**Integer(2)-x-Integer(1), embedding=golden_ratio, names=('phi',)); (phi,) = R._first_ngens(1)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py", line 490, in NumberField
        return NumberField_version2(polynomial=polynomial, name=name, check=check, embedding=embedding, latex_name=latex_name, assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)
      File "sage/structure/factory.pyx", line 366, in sage.structure.factory.UniqueFactory.__call__ (build/cythonized/sage/structure/factory.c:1328)
        return self.get_object(version, key, kwds)
      File "sage/structure/factory.pyx", line 410, in sage.structure.factory.UniqueFactory.get_object (build/cythonized/sage/structure/factory.c:1734)
        obj = self.create_object(version, key, **extra_args)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py", line 612, in create_object
        return NumberField_quadratic(polynomial, name, latex_name, check, embedding, assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py", line 10070, in __init__
        assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py", line 6421, in __init__
        assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py", line 1202, in __init__
        embedding = number_field_morphisms.create_embedding_from_approx(self, embedding)
      File "sage/rings/number_field/number_field_morphisms.pyx", line 503, in sage.rings.number_field.number_field_morphisms.create_embedding_from_approx (build/cythonized/sage/rings/number_field/number_field_morphisms.c:7328)
        raise ValueError, "%s is not a root of the defining polynomial of %s" % (gen_image, K)
    ValueError: golden_ratio is not a root of the defining polynomial of Number Field in phi with defining polynomial x^2 - x - 1
**********************************************************************
File "src/sage/combinat/finite_state_machine.py", line 10002, in sage.combinat.finite_state_machine.FiniteStateMachine.?
Failed example:
    N = NAFp.number_of_words(base_ring=R); N
Expected:
    1/5*(3*golden_ratio + 1)*golden_ratio^n
    - 1/5*(3*golden_ratio - 4)*(-golden_ratio + 1)^n
Got:
    1/10*(1/2*sqrt(5) + 1/2)^n*(3*sqrt(5) + 5) - 1/10*(-1/2*sqrt(5) + 1/2)^n*(3*sqrt(5) - 5)
**********************************************************************
File "src/sage/functions/other.py", line 1693, in sage.functions.other.Function_beta.__init__
Failed example:
    beta(1/3, 1/2)
Expected:
    beta(1/2, 1/3)
Got:
    beta(1/3, 1/2)
**********************************************************************
```



---

archive/issue_comments_274074.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nWhy do you use `except +` for non-`extern` functions? For example\n\n```\ncdef bint py_is_exact(object x) except +:\n    return isinstance(x, int) or isinstance(x, long) or isinstance(x, Integer) or \\\n           (isinstance(x, Element) and\n            ((<Element>x)._parent.is_exact() or (<Element>x)._parent == ring.SR))\n```",
    "created_at": "2015-11-23T13:04:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274074",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

Why do you use `except +` for non-`extern` functions? For example

```
cdef bint py_is_exact(object x) except +:
    return isinstance(x, int) or isinstance(x, long) or isinstance(x, Integer) or \
           (isinstance(x, Element) and
            ((<Element>x)._parent.is_exact() or (<Element>x)._parent == ring.SR))
```



---

archive/issue_comments_274075.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@jdemeyer](#comment%3A32):\n> Why do you use `except +` for non-`extern` functions? For example\n> \n> ```\n> cdef bint py_is_exact(object x) except +:\n>     return isinstance(x, int) or isinstance(x, long) or isinstance(x, Integer) or \\\n>            (isinstance(x, Element) and\n>             ((<Element>x)._parent.is_exact() or (<Element>x)._parent == ring.SR))\n> ```\n\nI have just copied from `py_is_even` which is not extern either and written by yourself.",
    "created_at": "2015-11-23T14:04:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274075",
    "user": "https://github.com/rwst"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@jdemeyer](#comment%3A32):
> Why do you use `except +` for non-`extern` functions? For example
> 
> ```
> cdef bint py_is_exact(object x) except +:
>     return isinstance(x, int) or isinstance(x, long) or isinstance(x, Integer) or \
>            (isinstance(x, Element) and
>             ((<Element>x)._parent.is_exact() or (<Element>x)._parent == ring.SR))
> ```

I have just copied from `py_is_even` which is not extern either and written by yourself.



---

archive/issue_comments_274076.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@rwst](#comment%3A33):\n> I have just copied from `py_is_even` which is not extern either\n\nWell, then `py_is_even` is wrong too. But ok, you can leave the `except +` for now, it's not a major problem.\n\n> and written by yourself.\n\nNo way. I may have been the last person to edit that line, but I certainly didn't write that function or the `except +`.",
    "created_at": "2015-11-23T14:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274076",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@rwst](#comment%3A33):
> I have just copied from `py_is_even` which is not extern either

Well, then `py_is_even` is wrong too. But ok, you can leave the `except +` for now, it's not a major problem.

> and written by yourself.

No way. I may have been the last person to edit that line, but I certainly didn't write that function or the `except +`.



---

archive/issue_comments_274077.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76733e4c003da3506ac1cc15bea61b7ca147de93\"><code>76733e4</code></a></td><td><code>19312: address reviewer's comments</code></td></tr></table>\n",
    "created_at": "2015-11-23T14:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274077",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76733e4c003da3506ac1cc15bea61b7ca147de93"><code>76733e4</code></a></td><td><code>19312: address reviewer's comments</code></td></tr></table>




---

archive/issue_comments_274078.json:
```json
{
    "body": "Changed commit from **[`dfb2ba3`](https://github.com/sagemath/sagetrac-mirror/commit/dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798)** to **[`76733e4`](https://github.com/sagemath/sagetrac-mirror/commit/76733e4c003da3506ac1cc15bea61b7ca147de93)**",
    "created_at": "2015-11-23T14:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274078",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dfb2ba3`](https://github.com/sagemath/sagetrac-mirror/commit/dfb2ba3790253582ca7ec2e5eb6ce3c2aadbe798)** to **[`76733e4`](https://github.com/sagemath/sagetrac-mirror/commit/76733e4c003da3506ac1cc15bea61b7ca147de93)**



---

archive/issue_events_271583.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-23T14:47:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271583"
}
```



---

archive/issue_events_271584.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-23T14:47:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271584"
}
```



---

archive/issue_comments_274079.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nHere are my current comments:\n\n- I also don't understand the changes on [comment:30](#comment%3A30).\n- `decl_assume` and `decl_forget` aren't doctested.\n- `raise TypeError('Cannot compare: ' + repr(self))`: I'm thinking that should be a `ValueError` since it depends on the value of the value of the expression. Also, to better conform with python, error messages are not sentences and should not start with a capital letter.\n- Could we change:\n\n  ```diff\n  -        if solution_dict is not True and solution_dict is not False:\n  +        if not isinstance(solution_dict, bool):\n  ```\n- I don't understand this change:\n\n  ```diff\n  diff --git a/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py b/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py\n  index 4840c05..f205b9c 100644\n  --- a/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py\n  +++ b/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py\n  @@ -1054,12 +1054,11 @@ def mobius_transform(A, z):\n           TypeError: A must be an invertible 2x2 matrix over the complex numbers or a symbolic ring\n   \n       The matrix can be symbolic or can be a matrix over the real\n  -    or complex numbers, but must be invertible::\n  -\n  -        sage: (a,b,c,d) = var('a,b,c,d');\n  -        sage: mobius_transform(matrix(2,[a,b,c,d]),I)\n  -        (I*a + b)/(I*c + d)\n  +    or complex numbers, but must be provably invertible::\n   \n  +        sage: (b,c) = var('b,c');\n  +        sage: mobius_transform(matrix(2,[1,b,c,b*c+1]),I)\n  +        (b + I)/(b*c + I*c + 1)\n           sage: mobius_transform(matrix(2,[0,0,0,0]),I)\n           Traceback (most recent call last):\n           ...\n  ```\n  I feel it obfuscates what the M\u00f6bius transform does.",
    "created_at": "2015-11-23T16:05:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274079",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:37" align="right">comment:37</div>

Here are my current comments:

- I also don't understand the changes on [comment:30](#comment%3A30).
- `decl_assume` and `decl_forget` aren't doctested.
- `raise TypeError('Cannot compare: ' + repr(self))`: I'm thinking that should be a `ValueError` since it depends on the value of the value of the expression. Also, to better conform with python, error messages are not sentences and should not start with a capital letter.
- Could we change:

  ```diff
  -        if solution_dict is not True and solution_dict is not False:
  +        if not isinstance(solution_dict, bool):
  ```
- I don't understand this change:

  ```diff
  diff --git a/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py b/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py
  index 4840c05..f205b9c 100644
  --- a/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py
  +++ b/src/sage/geometry/hyperbolic_space/hyperbolic_isometry.py
  @@ -1054,12 +1054,11 @@ def mobius_transform(A, z):
           TypeError: A must be an invertible 2x2 matrix over the complex numbers or a symbolic ring
   
       The matrix can be symbolic or can be a matrix over the real
  -    or complex numbers, but must be invertible::
  -
  -        sage: (a,b,c,d) = var('a,b,c,d');
  -        sage: mobius_transform(matrix(2,[a,b,c,d]),I)
  -        (I*a + b)/(I*c + d)
  +    or complex numbers, but must be provably invertible::
   
  +        sage: (b,c) = var('b,c');
  +        sage: mobius_transform(matrix(2,[1,b,c,b*c+1]),I)
  +        (b + I)/(b*c + I*c + 1)
           sage: mobius_transform(matrix(2,[0,0,0,0]),I)
           Traceback (most recent call last):
           ...
  ```
  I feel it obfuscates what the Mbius transform does.



---

archive/issue_comments_274080.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nIn `src/sage/rings/number_field/number_field_morphisms.pyx`, can you import `test_relation_maxima` only when you need it?\n\nThis doctest loses its meaning now:\n\n```diff\ndiff --git a/src/sage/functions/other.py b/src/sage/functions/other.py\nindex 7fafc33..5769ce7 100644\n--- a/src/sage/functions/other.py\n+++ b/src/sage/functions/other.py\n@@ -1691,7 +1691,7 @@ class Function_beta(GinacFunction):\n         Ginac might reorder the arguments::\n \n             sage: beta(1/3, 1/2)\n-            beta(1/2, 1/3)\n+            beta(1/3, 1/2)\n \n         The result is symbolic if exact input is given::\n \n```",
    "created_at": "2015-11-23T16:07:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274080",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:38" align="right">comment:38</div>

In `src/sage/rings/number_field/number_field_morphisms.pyx`, can you import `test_relation_maxima` only when you need it?

This doctest loses its meaning now:

```diff
diff --git a/src/sage/functions/other.py b/src/sage/functions/other.py
index 7fafc33..5769ce7 100644
--- a/src/sage/functions/other.py
+++ b/src/sage/functions/other.py
@@ -1691,7 +1691,7 @@ class Function_beta(GinacFunction):
         Ginac might reorder the arguments::
 
             sage: beta(1/3, 1/2)
-            beta(1/2, 1/3)
+            beta(1/3, 1/2)
 
         The result is symbolic if exact input is given::
 
```



---

archive/issue_comments_274081.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nThis is actually a bug:\n\n```diff\ndiff --git a/src/sage/symbolic/constants_c.pyx b/src/sage/symbolic/constants_c.pyx\nindex 340d20d..fb43864 100644\n--- a/src/sage/symbolic/constants_c.pyx\n+++ b/src/sage/symbolic/constants_c.pyx\n@@ -217,7 +217,7 @@ cdef class E(Expression):\n             sage: t = e^a; t\n             e^a\n             sage: t^b\n-            (e^a)^b\n+            e^a^b\n             sage: SR(1).exp()\n             e\n \n```\n\nUsually, `e<sup>a</sup>b` is interpreted as `e<sup>(a</sup>b)`:\n\n```\nsage: var('a,b')\n(a, b)\nsage: (e^a)^b\ne^a^b\nsage: e^a^b\ne^(a^b)\n```",
    "created_at": "2015-11-23T16:10:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274081",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:39" align="right">comment:39</div>

This is actually a bug:

```diff
diff --git a/src/sage/symbolic/constants_c.pyx b/src/sage/symbolic/constants_c.pyx
index 340d20d..fb43864 100644
--- a/src/sage/symbolic/constants_c.pyx
+++ b/src/sage/symbolic/constants_c.pyx
@@ -217,7 +217,7 @@ cdef class E(Expression):
             sage: t = e^a; t
             e^a
             sage: t^b
-            (e^a)^b
+            e^a^b
             sage: SR(1).exp()
             e
 
```

Usually, `e<sup>a</sup>b` is interpreted as `e<sup>(a</sup>b)`:

```
sage: var('a,b')
(a, b)
sage: (e^a)^b
e^a^b
sage: e^a^b
e^(a^b)
```



---

archive/issue_events_271585.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-23T16:10:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271585"
}
```



---

archive/issue_events_271586.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-23T16:10:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271586"
}
```



---

archive/issue_comments_274082.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@jdemeyer](#comment%3A39):\n> Usually, `e<sup>a</sup>b` is interpreted as `e<sup>(a</sup>b)`:\n\nOh, that is serious.",
    "created_at": "2015-11-23T16:15:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274082",
    "user": "https://github.com/rwst"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@jdemeyer](#comment%3A39):
> Usually, `e<sup>a</sup>b` is interpreted as `e<sup>(a</sup>b)`:

Oh, that is serious.



---

archive/issue_comments_274083.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nFor `__hash__`, could you also test a number which has a hash more than `2^32`, in order to test for #19310:\n\n```\nsage: hash(1e30)\n-442393380            # 32-bit\n5076964209140210896   # 64-bit\nsage: hash(SR(1e30))  # known bug #19310\n-442393380            # 32-bit\n5076964209140210896   # 64-bit\n```",
    "created_at": "2015-11-23T16:26:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274083",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:41" align="right">comment:41</div>

For `__hash__`, could you also test a number which has a hash more than `2^32`, in order to test for #19310:

```
sage: hash(1e30)
-442393380            # 32-bit
5076964209140210896   # 64-bit
sage: hash(SR(1e30))  # known bug #19310
-442393380            # 32-bit
5076964209140210896   # 64-bit
```



---

archive/issue_comments_274084.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@tscrim](#comment%3A37):\n> - I also don't understand the changes on [comment:30](#comment%3A30).\n\nThey are reverted now. In the first branch of this ticket they were necessary.\n\n> - I don't understand this change:\n> @@ -1054,12 +1054,11 @@ def mobius_transform(A, z):\n>   I feel it obfuscates what the M\u00f6bius transform does.\n\nWell you can't give a transform of a noninvertible matrix, so I changed the example to one that is always invertible. I can revert to the original doctest but it will lead to problems in a later ticket.",
    "created_at": "2015-11-23T16:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274084",
    "user": "https://github.com/rwst"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@tscrim](#comment%3A37):
> - I also don't understand the changes on [comment:30](#comment%3A30).

They are reverted now. In the first branch of this ticket they were necessary.

> - I don't understand this change:
> @@ -1054,12 +1054,11 @@ def mobius_transform(A, z):
>   I feel it obfuscates what the Mbius transform does.

Well you can't give a transform of a noninvertible matrix, so I changed the example to one that is always invertible. I can revert to the original doctest but it will lead to problems in a later ticket.



---

archive/issue_comments_274085.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@jdemeyer](#comment%3A41):\n> For `__hash__`, could you also test a number which has a hash more than `2^32`, in order to test for #19310:\n\nThat doesn't work in 0.5 but some work is already done. See https://github.com/pynac/pynac/issues/95",
    "created_at": "2015-11-23T16:39:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274085",
    "user": "https://github.com/rwst"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@jdemeyer](#comment%3A41):
> For `__hash__`, could you also test a number which has a hash more than `2^32`, in order to test for #19310:

That doesn't work in 0.5 but some work is already done. See https://github.com/pynac/pynac/issues/95



---

archive/issue_comments_274086.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@rwst](#comment%3A42):\n> Replying to [@tscrim](#comment%3A37):\n> > - I don't understand this change:\n> > @@ -1054,12 +1054,11 @@ def mobius_transform(A, z):\n> >   I feel it obfuscates what the M\u00f6bius transform does.\n\n> Well you can't give a transform of a noninvertible matrix, so I changed the example to one that is always invertible. I can revert to the original doctest but it will lead to problems in a later ticket.\n\nUnless `a*d - b*c == 0`, then this is an invertible matrix, and this is a \"rare\" event for generic `a,b,c,d`. So I would say this is a safe test, or perhaps we can add an assumption that `a*d - b*c != 0`? Also could you tell me what ticket you are referring to or give some more details?",
    "created_at": "2015-11-23T18:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274086",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@rwst](#comment%3A42):
> Replying to [@tscrim](#comment%3A37):
> > - I don't understand this change:
> > @@ -1054,12 +1054,11 @@ def mobius_transform(A, z):
> >   I feel it obfuscates what the Mbius transform does.

> Well you can't give a transform of a noninvertible matrix, so I changed the example to one that is always invertible. I can revert to the original doctest but it will lead to problems in a later ticket.

Unless `a*d - b*c == 0`, then this is an invertible matrix, and this is a "rare" event for generic `a,b,c,d`. So I would say this is a safe test, or perhaps we can add an assumption that `a*d - b*c != 0`? Also could you tell me what ticket you are referring to or give some more details?



---

archive/issue_comments_274087.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@tscrim](#comment%3A44):\n> Replying to [@rwst](#comment%3A42):\n> > Well you can't give a transform of a noninvertible matrix, so I changed the example to one that is always invertible. I can revert to the original doctest but it will lead to problems in a later ticket.\n\n> \n> Unless `a*d - b*c == 0`, then this is an invertible matrix, and this is a \"rare\" event for generic `a,b,c,d`. So I would say this is a safe test, or perhaps we can add an assumption that `a*d - b*c != 0`? Also could you tell me what ticket you are referring to or give some more details?\n\nIf I remember correctly there was a problem due to the `Expression.__nonzero__` changes in the first branch. So this might resurface with #19040. I'm sorry I can't give more details, let's just see about it whenever #19040 gets tackled.",
    "created_at": "2015-11-24T07:56:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274087",
    "user": "https://github.com/rwst"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@tscrim](#comment%3A44):
> Replying to [@rwst](#comment%3A42):
> > Well you can't give a transform of a noninvertible matrix, so I changed the example to one that is always invertible. I can revert to the original doctest but it will lead to problems in a later ticket.

> 
> Unless `a*d - b*c == 0`, then this is an invertible matrix, and this is a "rare" event for generic `a,b,c,d`. So I would say this is a safe test, or perhaps we can add an assumption that `a*d - b*c != 0`? Also could you tell me what ticket you are referring to or give some more details?

If I remember correctly there was a problem due to the `Expression.__nonzero__` changes in the first branch. So this might resurface with #19040. I'm sorry I can't give more details, let's just see about it whenever #19040 gets tackled.



---

archive/issue_comments_274088.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/976c80e1a04a58a50d70714da88f6df064952c38\"><code>976c80e</code></a></td><td><code>19312: address reviewer's comments</code></td></tr></table>\n",
    "created_at": "2015-11-24T07:59:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274088",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/976c80e1a04a58a50d70714da88f6df064952c38"><code>976c80e</code></a></td><td><code>19312: address reviewer's comments</code></td></tr></table>




---

archive/issue_comments_274089.json:
```json
{
    "body": "Changed commit from **[`76733e4`](https://github.com/sagemath/sagetrac-mirror/commit/76733e4c003da3506ac1cc15bea61b7ca147de93)** to **[`976c80e`](https://github.com/sagemath/sagetrac-mirror/commit/976c80e1a04a58a50d70714da88f6df064952c38)**",
    "created_at": "2015-11-24T07:59:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274089",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`76733e4`](https://github.com/sagemath/sagetrac-mirror/commit/76733e4c003da3506ac1cc15bea61b7ca147de93)** to **[`976c80e`](https://github.com/sagemath/sagetrac-mirror/commit/976c80e1a04a58a50d70714da88f6df064952c38)**



---

archive/issue_comments_274090.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nThis should cover everything except the exponentiation bug and...\n\nReplying to [@jdemeyer](#comment%3A25):\n> This should be rebased on top of #19606.\n\nAs I need to make a new release, and #19606 will be in the next beta I'll just do a rebase later.",
    "created_at": "2015-11-24T08:02:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274090",
    "user": "https://github.com/rwst"
}
```

<div id="comment:47" align="right">comment:47</div>

This should cover everything except the exponentiation bug and...

Replying to [@jdemeyer](#comment%3A25):
> This should be rebased on top of #19606.

As I need to make a new release, and #19606 will be in the next beta I'll just do a rebase later.



---

archive/issue_comments_274091.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer, Travis Scrimshaw**",
    "created_at": "2015-11-24T08:42:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274091",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer, Travis Scrimshaw**



---

archive/issue_comments_274092.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9e4c7e917eb312c8ce7c9be73d0f964d9877bb8\"><code>c9e4c7e</code></a></td><td><code>19312: build dir changes for version 0.5.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4\"><code>c5f20d6</code></a></td><td><code>19312: doctest and some code fixes with pynac-0.5.1</code></td></tr></table>\n",
    "created_at": "2015-11-25T16:27:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274092",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9e4c7e917eb312c8ce7c9be73d0f964d9877bb8"><code>c9e4c7e</code></a></td><td><code>19312: build dir changes for version 0.5.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4"><code>c5f20d6</code></a></td><td><code>19312: doctest and some code fixes with pynac-0.5.1</code></td></tr></table>




---

archive/issue_comments_274093.json:
```json
{
    "body": "Changed commit from **[`976c80e`](https://github.com/sagemath/sagetrac-mirror/commit/976c80e1a04a58a50d70714da88f6df064952c38)** to **[`c5f20d6`](https://github.com/sagemath/sagetrac-mirror/commit/c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4)**",
    "created_at": "2015-11-25T16:27:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274093",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`976c80e`](https://github.com/sagemath/sagetrac-mirror/commit/976c80e1a04a58a50d70714da88f6df064952c38)** to **[`c5f20d6`](https://github.com/sagemath/sagetrac-mirror/commit/c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4)**



---

archive/issue_comments_274094.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\npynac-0.5.1 fixed the exp bug (and contains a previous fix). This should be it.",
    "created_at": "2015-11-25T16:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274094",
    "user": "https://github.com/rwst"
}
```

<div id="comment:50" align="right">comment:50</div>

pynac-0.5.1 fixed the exp bug (and contains a previous fix). This should be it.



---

archive/issue_comments_274095.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,5 +13,4 @@\n * remove some unused files and other cleanup; add missing autoconf macro;\n * some older memleaks closed\n \n-https://github.com/pynac/pynac/releases/download/pynac-0.5.0/pynac-0.5.0.tar.bz2\n-\n+https://github.com/pynac/pynac/releases/download/pynac-0.5.1/pynac-0.5.1.tar.bz2\n``````\n",
    "created_at": "2015-11-25T16:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274095",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,5 +13,4 @@
 * remove some unused files and other cleanup; add missing autoconf macro;
 * some older memleaks closed
 
-https://github.com/pynac/pynac/releases/download/pynac-0.5.0/pynac-0.5.0.tar.bz2
-
+https://github.com/pynac/pynac/releases/download/pynac-0.5.1/pynac-0.5.1.tar.bz2
``````




---

archive/issue_events_271587.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-25T16:30:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "title_is": "Update to pynac-0.5.1",
    "title_was": "Update to pynac-0.5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271587"
}
```



---

archive/issue_events_271588.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-25T16:30:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271588"
}
```



---

archive/issue_events_271589.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-25T16:30:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271589"
}
```



---

archive/issue_comments_274096.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@rwst](#comment%3A45):\n> If I remember correctly there was a problem due to the `Expression.__nonzero__` changes in the first branch. So this might resurface with #19040. I'm sorry I can't give more details, let's just see about it whenever #19040 gets tackled.\n\nI will be happy to work on it if there is a problem with #19040.\n\nI'm guessing changes of this type:\n\n```\n-        sage: x,y = var('x,y')\n+        sage: _ = var('x,y')\n```\nare because you're thinking towards #17958. However I don't think that takes away from the problem, but instead just makes the behavior harder to do find/replace for and makes it harder for the reader to understand what is going on in the doctest. Could you provide some other justification for these changes?",
    "created_at": "2015-11-26T00:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274096",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@rwst](#comment%3A45):
> If I remember correctly there was a problem due to the `Expression.__nonzero__` changes in the first branch. So this might resurface with #19040. I'm sorry I can't give more details, let's just see about it whenever #19040 gets tackled.

I will be happy to work on it if there is a problem with #19040.

I'm guessing changes of this type:

```
-        sage: x,y = var('x,y')
+        sage: _ = var('x,y')
```
are because you're thinking towards #17958. However I don't think that takes away from the problem, but instead just makes the behavior harder to do find/replace for and makes it harder for the reader to understand what is going on in the doctest. Could you provide some other justification for these changes?



---

archive/issue_comments_274097.json:
```json
{
    "body": "Changed commit from **[`c5f20d6`](https://github.com/sagemath/sagetrac-mirror/commit/c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4)** to **[`065791e`](https://github.com/sagemath/sagetrac-mirror/commit/065791ecfa672c2dec1752fd16a473d776625775)**",
    "created_at": "2015-11-26T06:56:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274097",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c5f20d6`](https://github.com/sagemath/sagetrac-mirror/commit/c5f20d691e9f9023223f92f2c7e47ed19b1dc2a4)** to **[`065791e`](https://github.com/sagemath/sagetrac-mirror/commit/065791ecfa672c2dec1752fd16a473d776625775)**



---

archive/issue_comments_274098.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/065791ecfa672c2dec1752fd16a473d776625775\"><code>065791e</code></a></td><td><code>19312: address reviewer's comments</code></td></tr></table>\n",
    "created_at": "2015-11-26T06:56:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274098",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/065791ecfa672c2dec1752fd16a473d776625775"><code>065791e</code></a></td><td><code>19312: address reviewer's comments</code></td></tr></table>




---

archive/issue_comments_274099.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@tscrim](#comment%3A51):\n> I'm guessing changes of this type:\n> \n> ```\n> -        sage: x,y = var('x,y')\n> +        sage: _ = var('x,y')\n> ```\n> are because you're thinking towards #17958. However I don't think that takes away from the problem, but instead just makes the behavior harder to do find/replace for and makes it harder for the reader to understand what is going on in the doctest. Could you provide some other justification for these changes?\n\nIf you object to that you will have to stem the tide now by posting to sage-devel, because a recursive grep just showed about 30 instances of such usage in Sage (and certainly not all from me). Or open a separate ticket, please. Here they are now reverted.",
    "created_at": "2015-11-26T06:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274099",
    "user": "https://github.com/rwst"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@tscrim](#comment%3A51):
> I'm guessing changes of this type:
> 
> ```
> -        sage: x,y = var('x,y')
> +        sage: _ = var('x,y')
> ```
> are because you're thinking towards #17958. However I don't think that takes away from the problem, but instead just makes the behavior harder to do find/replace for and makes it harder for the reader to understand what is going on in the doctest. Could you provide some other justification for these changes?

If you object to that you will have to stem the tide now by posting to sage-devel, because a recursive grep just showed about 30 instances of such usage in Sage (and certainly not all from me). Or open a separate ticket, please. Here they are now reverted.



---

archive/issue_comments_274100.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nThis\n\n```\nisinstance(rel, bool) and rel is True\n```\ncan be simplified to\n\n```\nrel is True\n```",
    "created_at": "2015-11-27T11:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274100",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:54" align="right">comment:54</div>

This

```
isinstance(rel, bool) and rel is True
```
can be simplified to

```
rel is True
```



---

archive/issue_comments_274101.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nWhy this?\n\n```diff\ndiff --git a/src/sage/symbolic/constants.py b/src/sage/symbolic/constants.py\nindex 2b4d533..838f64f 100644\n--- a/src/sage/symbolic/constants.py\n+++ b/src/sage/symbolic/constants.py\n@@ -303,8 +303,6 @@ class Constant(object):\n             True\n             sage: p == s\n             False\n-            sage: p != s\n-            True\n         \"\"\"\n         return (self.__class__ == other.__class__ and\n                 self._name == other._name)\n```",
    "created_at": "2015-11-27T11:26:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274101",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:55" align="right">comment:55</div>

Why this?

```diff
diff --git a/src/sage/symbolic/constants.py b/src/sage/symbolic/constants.py
index 2b4d533..838f64f 100644
--- a/src/sage/symbolic/constants.py
+++ b/src/sage/symbolic/constants.py
@@ -303,8 +303,6 @@ class Constant(object):
             True
             sage: p == s
             False
-            sage: p != s
-            True
         """
         return (self.__class__ == other.__class__ and
                 self._name == other._name)
```



---

archive/issue_comments_274102.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nThis is not valid LaTeX:\n\n```\ne^{\\sqrt{x}}^{x}\n```",
    "created_at": "2015-11-27T11:31:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274102",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:56" align="right">comment:56</div>

This is not valid LaTeX:

```
e^{\sqrt{x}}^{x}
```



---

archive/issue_events_271590.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-27T11:31:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271590"
}
```



---

archive/issue_events_271591.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-27T11:31:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271591"
}
```



---

archive/issue_comments_274103.json:
```json
{
    "body": "<div id=\"comment:57\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7e79817eed0f82ab7b65be738c60f858e3175c5\"><code>d7e7981</code></a></td><td><code>build dir changes for 0.5.2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af71087f3627150731897d466fa395c7f661d290\"><code>af71087</code></a></td><td><code>address reviewer's comments; add doctests</code></td></tr></table>\n",
    "created_at": "2015-11-27T14:30:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274103",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7e79817eed0f82ab7b65be738c60f858e3175c5"><code>d7e7981</code></a></td><td><code>build dir changes for 0.5.2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af71087f3627150731897d466fa395c7f661d290"><code>af71087</code></a></td><td><code>address reviewer's comments; add doctests</code></td></tr></table>




---

archive/issue_comments_274104.json:
```json
{
    "body": "Changed commit from **[`065791e`](https://github.com/sagemath/sagetrac-mirror/commit/065791ecfa672c2dec1752fd16a473d776625775)** to **[`af71087`](https://github.com/sagemath/sagetrac-mirror/commit/af71087f3627150731897d466fa395c7f661d290)**",
    "created_at": "2015-11-27T14:30:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274104",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`065791e`](https://github.com/sagemath/sagetrac-mirror/commit/065791ecfa672c2dec1752fd16a473d776625775)** to **[`af71087`](https://github.com/sagemath/sagetrac-mirror/commit/af71087f3627150731897d466fa395c7f661d290)**



---

archive/issue_comments_274105.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\n> This is not valid LaTeX:\n\nIs changed. The doctest removal also was to satisfy the first branch. I have reincluded it. Another possible matter with #19040.",
    "created_at": "2015-11-27T14:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274105",
    "user": "https://github.com/rwst"
}
```

<div id="comment:58" align="right">comment:58</div>

> This is not valid LaTeX:

Is changed. The doctest removal also was to satisfy the first branch. I have reincluded it. Another possible matter with #19040.



---

archive/issue_comments_274106.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,4 +13,4 @@\n * remove some unused files and other cleanup; add missing autoconf macro;\n * some older memleaks closed\n \n-https://github.com/pynac/pynac/releases/download/pynac-0.5.1/pynac-0.5.1.tar.bz2\n+https://github.com/pynac/pynac/releases/download/pynac-0.5.2/pynac-0.5.2.tar.bz2\n``````\n",
    "created_at": "2015-11-27T14:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274106",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,4 +13,4 @@
 * remove some unused files and other cleanup; add missing autoconf macro;
 * some older memleaks closed
 
-https://github.com/pynac/pynac/releases/download/pynac-0.5.1/pynac-0.5.1.tar.bz2
+https://github.com/pynac/pynac/releases/download/pynac-0.5.2/pynac-0.5.2.tar.bz2
``````




---

archive/issue_events_271592.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-27T14:34:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271592"
}
```



---

archive/issue_events_271593.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-27T14:34:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271593"
}
```



---

archive/issue_events_271594.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-27T14:34:55Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "title_is": "Update to pynac-0.5.2",
    "title_was": "Update to pynac-0.5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271594"
}
```



---

archive/issue_comments_274107.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nWhat is the definition of an \"undecidable relation\"? (see also the comments: [comment:24](https://github.com/sagemath/sage/issues/19040#comment:24) and [comment:41](https://github.com/sagemath/sage/issues/19040#comment:41) on #19040).",
    "created_at": "2015-11-27T20:09:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274107",
    "user": "https://github.com/videlec"
}
```

<div id="comment:60" align="right">comment:60</div>

What is the definition of an "undecidable relation"? (see also the comments: [comment:24](https://github.com/sagemath/sage/issues/19040#comment:24) and [comment:41](https://github.com/sagemath/sage/issues/19040#comment:41) on #19040).



---

archive/issue_comments_274108.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nPlease see my reply there.",
    "created_at": "2015-11-28T07:20:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274108",
    "user": "https://github.com/rwst"
}
```

<div id="comment:61" align="right">comment:61</div>

Please see my reply there.



---

archive/issue_comments_274109.json:
```json
{
    "body": "<div id=\"comment:62\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c27be1795b55e170f3d8e927dfebace34b39abd\"><code>6c27be1</code></a></td><td><code>Merge branch 'develop' into t/19312/19312-2</code></td></tr></table>\n",
    "created_at": "2015-11-28T08:59:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274109",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:62"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c27be1795b55e170f3d8e927dfebace34b39abd"><code>6c27be1</code></a></td><td><code>Merge branch 'develop' into t/19312/19312-2</code></td></tr></table>




---

archive/issue_comments_274110.json:
```json
{
    "body": "Changed commit from **[`af71087`](https://github.com/sagemath/sagetrac-mirror/commit/af71087f3627150731897d466fa395c7f661d290)** to **[`6c27be1`](https://github.com/sagemath/sagetrac-mirror/commit/6c27be1795b55e170f3d8e927dfebace34b39abd)**",
    "created_at": "2015-11-28T08:59:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274110",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`af71087`](https://github.com/sagemath/sagetrac-mirror/commit/af71087f3627150731897d466fa395c7f661d290)** to **[`6c27be1`](https://github.com/sagemath/sagetrac-mirror/commit/6c27be1795b55e170f3d8e927dfebace34b39abd)**



---

archive/issue_comments_274111.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nThere still is\n\n```\ne^{\\sqrt{x}}^{x}\n```\nin `functions/log.py`.\n\nAlso, for the test in `hyperbolic_isometry.py`, if we add\n\n```\nsage: assume(a*d != b*c)\n```\nthen would that avoid issues with #19040?\n\nOther than that, I'm okay with the current state up to Jeroen's comments that haven't been addressed.",
    "created_at": "2015-11-29T03:40:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274111",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:63" align="right">comment:63</div>

There still is

```
e^{\sqrt{x}}^{x}
```
in `functions/log.py`.

Also, for the test in `hyperbolic_isometry.py`, if we add

```
sage: assume(a*d != b*c)
```
then would that avoid issues with #19040?

Other than that, I'm okay with the current state up to Jeroen's comments that haven't been addressed.



---

archive/issue_comments_274112.json:
```json
{
    "body": "<div id=\"comment:64\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7722756efa80d790e57f59a5b2010f82005b4a3f\"><code>7722756</code></a></td><td><code>19312: fix doctest</code></td></tr></table>\n",
    "created_at": "2015-11-29T07:32:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274112",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:64"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7722756efa80d790e57f59a5b2010f82005b4a3f"><code>7722756</code></a></td><td><code>19312: fix doctest</code></td></tr></table>




---

archive/issue_comments_274113.json:
```json
{
    "body": "Changed commit from **[`6c27be1`](https://github.com/sagemath/sagetrac-mirror/commit/6c27be1795b55e170f3d8e927dfebace34b39abd)** to **[`7722756`](https://github.com/sagemath/sagetrac-mirror/commit/7722756efa80d790e57f59a5b2010f82005b4a3f)**",
    "created_at": "2015-11-29T07:32:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274113",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6c27be1`](https://github.com/sagemath/sagetrac-mirror/commit/6c27be1795b55e170f3d8e927dfebace34b39abd)** to **[`7722756`](https://github.com/sagemath/sagetrac-mirror/commit/7722756efa80d790e57f59a5b2010f82005b4a3f)**



---

archive/issue_comments_274114.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nReplying to [@tscrim](#comment%3A63):\n> Also, for the test in `hyperbolic_isometry.py`, if we add\n> \n> ```\n> sage: assume(a*d != b*c)\n> ```\n> then would that avoid issues with #19040?\n\nI'm unable to answer this at the moment but I appreciate the idea. Thanks for your review.",
    "created_at": "2015-11-29T07:33:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274114",
    "user": "https://github.com/rwst"
}
```

<div id="comment:65" align="right">comment:65</div>

Replying to [@tscrim](#comment%3A63):
> Also, for the test in `hyperbolic_isometry.py`, if we add
> 
> ```
> sage: assume(a*d != b*c)
> ```
> then would that avoid issues with #19040?

I'm unable to answer this at the moment but I appreciate the idea. Thanks for your review.



---

archive/issue_comments_274115.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nRegarding #19606: Is `pynac` now linked with `gmp`? If so, you need to revert #19606 and you need to change the dependencies of the package.\n\nI have no other comments (which doesn't mean that I understand every change you made, but at least I don't see any obvious problems).",
    "created_at": "2015-11-29T13:49:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274115",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:66" align="right">comment:66</div>

Regarding #19606: Is `pynac` now linked with `gmp`? If so, you need to revert #19606 and you need to change the dependencies of the package.

I have no other comments (which doesn't mean that I understand every change you made, but at least I don't see any obvious problems).



---

archive/issue_events_271595.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-29T21:23:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271595"
}
```



---

archive/issue_events_271596.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-29T21:23:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271596"
}
```



---

archive/issue_comments_274116.json:
```json
{
    "body": "<div id=\"comment:68\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f71e3d8f9579f0b0b81f6dae477c3d61bcad689d\"><code>f71e3d8</code></a></td><td><code>19312: add new pynac dependencies</code></td></tr></table>\n",
    "created_at": "2015-11-30T15:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274116",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:68"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f71e3d8f9579f0b0b81f6dae477c3d61bcad689d"><code>f71e3d8</code></a></td><td><code>19312: add new pynac dependencies</code></td></tr></table>




---

archive/issue_comments_274117.json:
```json
{
    "body": "Changed commit from **[`7722756`](https://github.com/sagemath/sagetrac-mirror/commit/7722756efa80d790e57f59a5b2010f82005b4a3f)** to **[`f71e3d8`](https://github.com/sagemath/sagetrac-mirror/commit/f71e3d8f9579f0b0b81f6dae477c3d61bcad689d)**",
    "created_at": "2015-11-30T15:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274117",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7722756`](https://github.com/sagemath/sagetrac-mirror/commit/7722756efa80d790e57f59a5b2010f82005b4a3f)** to **[`f71e3d8`](https://github.com/sagemath/sagetrac-mirror/commit/f71e3d8f9579f0b0b81f6dae477c3d61bcad689d)**



---

archive/issue_events_271597.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-30T15:22:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271597"
}
```



---

archive/issue_events_271598.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-11-30T15:22:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271598"
}
```



---

archive/issue_comments_274118.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nIndeed, thanks.",
    "created_at": "2015-11-30T15:22:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274118",
    "user": "https://github.com/rwst"
}
```

<div id="comment:69" align="right">comment:69</div>

Indeed, thanks.



---

archive/issue_events_271599.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-12-01T19:54:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271599"
}
```



---

archive/issue_events_271600.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-12-01T19:54:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271600"
}
```



---

archive/issue_comments_274119.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nI think then we are good to go.",
    "created_at": "2015-12-01T19:54:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274119",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:70" align="right">comment:70</div>

I think then we are good to go.



---

archive/issue_comments_274120.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\n32-bit fails with\n\n```\nsage -t --long src/sage/symbolic/expression.pyx\n**********************************************************************\nFile \"src/sage/symbolic/expression.pyx\", line 1455, in sage.symbolic.expression.Expression.__hash__\nFailed example:\n    hash(SR(19.23))\nExpected:\n    2836855582\nGot:\n    -1458111714\n**********************************************************************\nFile \"src/sage/symbolic/expression.pyx\", line 1457, in sage.symbolic.expression.Expression.__hash__\nFailed example:\n    hash(19.23)\nExpected:\n    2836855582\nGot:\n    -1458111714\n**********************************************************************\n1 item had failures:\n   2 of  26 in sage.symbolic.expression.Expression.__hash__\n```",
    "created_at": "2015-12-02T23:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274120",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:71" align="right">comment:71</div>

32-bit fails with

```
sage -t --long src/sage/symbolic/expression.pyx
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 1455, in sage.symbolic.expression.Expression.__hash__
Failed example:
    hash(SR(19.23))
Expected:
    2836855582
Got:
    -1458111714
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 1457, in sage.symbolic.expression.Expression.__hash__
Failed example:
    hash(19.23)
Expected:
    2836855582
Got:
    -1458111714
**********************************************************************
1 item had failures:
   2 of  26 in sage.symbolic.expression.Expression.__hash__
```



---

archive/issue_events_271601.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-02T23:53:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271601"
}
```



---

archive/issue_events_271602.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-02T23:53:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271602"
}
```



---

archive/issue_comments_274121.json:
```json
{
    "body": "Changed commit from **[`f71e3d8`](https://github.com/sagemath/sagetrac-mirror/commit/f71e3d8f9579f0b0b81f6dae477c3d61bcad689d)** to **[`bdda35e`](https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e)**",
    "created_at": "2015-12-03T08:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274121",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f71e3d8`](https://github.com/sagemath/sagetrac-mirror/commit/f71e3d8f9579f0b0b81f6dae477c3d61bcad689d)** to **[`bdda35e`](https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e)**



---

archive/issue_comments_274122.json:
```json
{
    "body": "<div id=\"comment:72\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e\"><code>bdda35e</code></a></td><td><code>19312: differentiate doctest result wrt 32/64 bit</code></td></tr></table>\n",
    "created_at": "2015-12-03T08:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274122",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:72"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e"><code>bdda35e</code></a></td><td><code>19312: differentiate doctest result wrt 32/64 bit</code></td></tr></table>




---

archive/issue_events_271603.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-12-03T08:54:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271603"
}
```



---

archive/issue_events_271604.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-12-03T08:54:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271604"
}
```



---

archive/issue_events_271605.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-03T09:13:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271605"
}
```



---

archive/issue_events_271606.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-03T09:13:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271606"
}
```



---

archive/issue_events_271607.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-03T23:23:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271607"
}
```



---

archive/issue_events_271608.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "81a80a8ce72a898e890523ee1ff6a653ffd51a4d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-12-03T23:23:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19312#event-271608"
}
```



---

archive/issue_comments_274123.json:
```json
{
    "body": "Changed branch from **[u/rws/19312-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-2)** to **[`bdda35e`](https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e)**",
    "created_at": "2015-12-03T23:23:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19312#issuecomment-274123",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/rws/19312-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/19312-2)** to **[`bdda35e`](https://github.com/sagemath/sagetrac-mirror/commit/bdda35e186887d05bd50fac9db19b785a5109e2e)**
