# Issue 19063: Coercions and basic arithmetic for complex balls

archive/issues_018826.json:
```json
{
    "body": "Implement field operations, basic complex number and ball methods (abs arg, conjugate, mid, rad...), and some conversions and coercions for complex balls. Also make a few changes to real balls for consistency.\n\nFollow-up tickets: #19152, #19082.\n\nCC:  @cheuberg\n\nKeywords: arb\n\nBranch/Commit: [fa41787b7f670f82ba79ad2fa9ebe67ef5c2eb24](https://github.com/sagemath/sagetrac-mirror/commit/fa41787b7f670f82ba79ad2fa9ebe67ef5c2eb24)\n\nReviewer: Clemens Heuberger, Marc Mezzarobba\n\nAuthor: Marc Mezzarobba, Clemens Heuberger\n\nDependencies: #18546\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19063\n\n",
    "closed_at": "2015-10-30T08:33:30Z",
    "created_at": "2015-08-20T16:46:58Z",
    "labels": [
        "component: numerical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Coercions and basic arithmetic for complex balls",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19063",
    "user": "https://github.com/mezzarobba"
}
```
Implement field operations, basic complex number and ball methods (abs arg, conjugate, mid, rad...), and some conversions and coercions for complex balls. Also make a few changes to real balls for consistency.

Follow-up tickets: #19152, #19082.

CC:  @cheuberg

Keywords: arb

Branch/Commit: [fa41787b7f670f82ba79ad2fa9ebe67ef5c2eb24](https://github.com/sagemath/sagetrac-mirror/commit/fa41787b7f670f82ba79ad2fa9ebe67ef5c2eb24)

Reviewer: Clemens Heuberger, Marc Mezzarobba

Author: Marc Mezzarobba, Clemens Heuberger

Dependencies: #18546

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19063





---

archive/issue_comments_342571.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mmezzarobba/19063-acb\"",
    "created_at": "2015-08-20T16:47:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342571",
    "user": "https://github.com/mezzarobba"
}
```

Changing branch from "" to "u/mmezzarobba/19063-acb"



---

archive/issue_comments_342572.json:
```json
{
    "body": "Changing commit from \"\" to \"8732ecb7f610a5e3c2d2d350cd83a73180b5e8be\"",
    "created_at": "2015-08-20T16:47:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342572",
    "user": "https://github.com/mezzarobba"
}
```

Changing commit from "" to "8732ecb7f610a5e3c2d2d350cd83a73180b5e8be"



---

archive/issue_comments_342573.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                          |                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[9524687](https://github.com/sagemath/sagetrac-mirror/commit/9524687de9e91f3fc11d1be2ab53f39d929228b3)|`ComplexBallField: implement some_elements()`|\n|[ad62199](https://github.com/sagemath/sagetrac-mirror/commit/ad621992629cb0b7808a5781f6825ba46480c1d4)|`Fix RealBall.mid(), implement ComplexBall.{mid(),squash()`}|\n|[c513c70](https://github.com/sagemath/sagetrac-mirror/commit/c513c70c48a0926104e0a0a46bff8f0d733440d1)|`ComplexBall: round(), accuracy(), trim()`|\n|[f9e13d6](https://github.com/sagemath/sagetrac-mirror/commit/f9e13d6526972153328ebd249af4a8c7261b8f8f)|`ComplexBall: conversions to ZZ, RR, RIF, CC, CIF`|\n|[4a7b5c4](https://github.com/sagemath/sagetrac-mirror/commit/4a7b5c4ab68bf1bfa090c785a13b2e329784b614)|`ComplexBallField: faster access to real field`|\n|[b4e82aa](https://github.com/sagemath/sagetrac-mirror/commit/b4e82aa56356fe6c445ad0a099571b1ad3dbf625)|`{Real,Complex}Ball: implement conversions to QQ`|\n|[5e1cbda](https://github.com/sagemath/sagetrac-mirror/commit/5e1cbda06201c009cd1f469bb428b3a33dcc491e)|`ComplexBall: containment and overlapping predicates`|\n|[d44c1b1](https://github.com/sagemath/sagetrac-mirror/commit/d44c1b1dfa8e1a292f8762fd4dc57652df2b08a3)|`ComplexBall: abs(), arg()`|\n|[62af563](https://github.com/sagemath/sagetrac-mirror/commit/62af56336580a076962d833c651cd18779ee8647)|`RealBall: implement abs()`|\n|[448bf24](https://github.com/sagemath/sagetrac-mirror/commit/448bf24a279abd46d4afdf6d9e0e2c01693da1f5)|`{Real,Complex}Ball: implement {above,below}_abs()`|",
    "created_at": "2015-08-25T07:18:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342573",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                          |                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[9524687](https://github.com/sagemath/sagetrac-mirror/commit/9524687de9e91f3fc11d1be2ab53f39d929228b3)|`ComplexBallField: implement some_elements()`|
|[ad62199](https://github.com/sagemath/sagetrac-mirror/commit/ad621992629cb0b7808a5781f6825ba46480c1d4)|`Fix RealBall.mid(), implement ComplexBall.{mid(),squash()`}|
|[c513c70](https://github.com/sagemath/sagetrac-mirror/commit/c513c70c48a0926104e0a0a46bff8f0d733440d1)|`ComplexBall: round(), accuracy(), trim()`|
|[f9e13d6](https://github.com/sagemath/sagetrac-mirror/commit/f9e13d6526972153328ebd249af4a8c7261b8f8f)|`ComplexBall: conversions to ZZ, RR, RIF, CC, CIF`|
|[4a7b5c4](https://github.com/sagemath/sagetrac-mirror/commit/4a7b5c4ab68bf1bfa090c785a13b2e329784b614)|`ComplexBallField: faster access to real field`|
|[b4e82aa](https://github.com/sagemath/sagetrac-mirror/commit/b4e82aa56356fe6c445ad0a099571b1ad3dbf625)|`{Real,Complex}Ball: implement conversions to QQ`|
|[5e1cbda](https://github.com/sagemath/sagetrac-mirror/commit/5e1cbda06201c009cd1f469bb428b3a33dcc491e)|`ComplexBall: containment and overlapping predicates`|
|[d44c1b1](https://github.com/sagemath/sagetrac-mirror/commit/d44c1b1dfa8e1a292f8762fd4dc57652df2b08a3)|`ComplexBall: abs(), arg()`|
|[62af563](https://github.com/sagemath/sagetrac-mirror/commit/62af56336580a076962d833c651cd18779ee8647)|`RealBall: implement abs()`|
|[448bf24](https://github.com/sagemath/sagetrac-mirror/commit/448bf24a279abd46d4afdf6d9e0e2c01693da1f5)|`{Real,Complex}Ball: implement {above,below}_abs()`|



---

archive/issue_comments_342574.json:
```json
{
    "body": "Changing commit from \"8732ecb7f610a5e3c2d2d350cd83a73180b5e8be\" to \"448bf24a279abd46d4afdf6d9e0e2c01693da1f5\"",
    "created_at": "2015-08-25T07:18:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342574",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8732ecb7f610a5e3c2d2d350cd83a73180b5e8be" to "448bf24a279abd46d4afdf6d9e0e2c01693da1f5"



---

archive/issue_comments_342575.json:
```json
{
    "body": "Changing keywords from \"\" to \"arb\".",
    "created_at": "2015-08-25T07:26:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342575",
    "user": "https://github.com/mezzarobba"
}
```

Changing keywords from "" to "arb".



---

archive/issue_comments_342576.json:
```json
{
    "body": "Changing author from \"\" to \"Marc Mezzarobba\"",
    "created_at": "2015-08-25T07:26:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342576",
    "user": "https://github.com/mezzarobba"
}
```

Changing author from "" to "Marc Mezzarobba"



---

archive/issue_comments_342577.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-08-25T07:26:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342577",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_342578.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+Implement field operations, basic complex number and ball methods (abs arg, conjugate, mid, rad...), and some conversions and coercions for complex balls. Also make a few changes to real balls for consistency.\n \n+Follow-up ticket: #19082.\n``````\n",
    "created_at": "2015-08-25T07:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342578",
    "user": "https://github.com/mezzarobba"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+Implement field operations, basic complex number and ball methods (abs arg, conjugate, mid, rad...), and some conversions and coercions for complex balls. Also make a few changes to real balls for consistency.
 
+Follow-up ticket: #19082.
``````




---

archive/issue_comments_342579.json:
```json
{
    "body": "<a id='comment:6'></a>\nI started reviewing this and just a few first comments ... \n\n* SEEALSO block at the beginning of complex_ball_acb.html: show human readable names of the modules instead of sage.rings....\n* `ComplexBallField.construction()`: one-sentence-description: Replace \"Returns\" by \"Return\" (see developper guide)\n* `ComplexBallField.gen()`, `.gens()`, `.ngens()`: Missing one-sentence-description",
    "created_at": "2015-09-04T09:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342579",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:6'></a>
I started reviewing this and just a few first comments ... 

* SEEALSO block at the beginning of complex_ball_acb.html: show human readable names of the modules instead of sage.rings....
* `ComplexBallField.construction()`: one-sentence-description: Replace "Returns" by "Return" (see developper guide)
* `ComplexBallField.gen()`, `.gens()`, `.ngens()`: Missing one-sentence-description



---

archive/issue_comments_342580.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[0196f69](https://github.com/sagemath/sagetrac-mirror/commit/0196f69eb2ab98bd6468bfd0152396d7c5d1e89d)|`ComplexBallField: minor documentation improvements`|",
    "created_at": "2015-09-04T11:40:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342580",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[0196f69](https://github.com/sagemath/sagetrac-mirror/commit/0196f69eb2ab98bd6468bfd0152396d7c5d1e89d)|`ComplexBallField: minor documentation improvements`|



---

archive/issue_comments_342581.json:
```json
{
    "body": "Changing commit from \"448bf24a279abd46d4afdf6d9e0e2c01693da1f5\" to \"0196f69eb2ab98bd6468bfd0152396d7c5d1e89d\"",
    "created_at": "2015-09-04T11:40:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342581",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "448bf24a279abd46d4afdf6d9e0e2c01693da1f5" to "0196f69eb2ab98bd6468bfd0152396d7c5d1e89d"



---

archive/issue_comments_342582.json:
```json
{
    "body": "Changing branch from \"u/mmezzarobba/19063-acb\" to \"u/cheuberg/19063-acb\"",
    "created_at": "2015-09-07T13:49:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342582",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "u/mmezzarobba/19063-acb" to "u/cheuberg/19063-acb"



---

archive/issue_comments_342583.json:
```json
{
    "body": "Changing commit from \"0196f69eb2ab98bd6468bfd0152396d7c5d1e89d\" to \"a33ceb40f76cd57791ad9e950fec234373278057\"",
    "created_at": "2015-09-07T13:51:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342583",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0196f69eb2ab98bd6468bfd0152396d7c5d1e89d" to "a33ceb40f76cd57791ad9e950fec234373278057"



---

archive/issue_comments_342584.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[6f7bea0](https://github.com/sagemath/sagetrac-mirror/commit/6f7bea07fa3a44fb9036262cc3562d2b5fd94429)|`Trac #19063: Fix indentation in doctest`|\n|[80fcc47](https://github.com/sagemath/sagetrac-mirror/commit/80fcc472bf28db4adcdbffa5250a18dbe7844722)|`Trac #19063: Simplify doctest`|\n|[cacf2ce](https://github.com/sagemath/sagetrac-mirror/commit/cacf2ce7250175d29e696584e00c0134b5d40cb6)|`Trac #19063: RESt formatting`|\n|[d05b9a2](https://github.com/sagemath/sagetrac-mirror/commit/d05b9a24bbf4ba39182588df3e411a5b9959a1d0)|`Trac #19063: Replace \"nonzero\" by \"True\"`|\n|[e214cc9](https://github.com/sagemath/sagetrac-mirror/commit/e214cc94957121d7df2f4e356c4b49b5f4a15ed5)|`fixup: true/false`|\n|[b52f52a](https://github.com/sagemath/sagetrac-mirror/commit/b52f52a5256ae07bbf8f8fece2768aeaf76a6a65)|`Trac #19063: replace a few \"int\" by \"bint\"`|\n|[a33ceb4](https://github.com/sagemath/sagetrac-mirror/commit/a33ceb40f76cd57791ad9e950fec234373278057)|`Trac #19063: Replace interval by ball in title`|",
    "created_at": "2015-09-07T13:51:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342584",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[6f7bea0](https://github.com/sagemath/sagetrac-mirror/commit/6f7bea07fa3a44fb9036262cc3562d2b5fd94429)|`Trac #19063: Fix indentation in doctest`|
|[80fcc47](https://github.com/sagemath/sagetrac-mirror/commit/80fcc472bf28db4adcdbffa5250a18dbe7844722)|`Trac #19063: Simplify doctest`|
|[cacf2ce](https://github.com/sagemath/sagetrac-mirror/commit/cacf2ce7250175d29e696584e00c0134b5d40cb6)|`Trac #19063: RESt formatting`|
|[d05b9a2](https://github.com/sagemath/sagetrac-mirror/commit/d05b9a24bbf4ba39182588df3e411a5b9959a1d0)|`Trac #19063: Replace "nonzero" by "True"`|
|[e214cc9](https://github.com/sagemath/sagetrac-mirror/commit/e214cc94957121d7df2f4e356c4b49b5f4a15ed5)|`fixup: true/false`|
|[b52f52a](https://github.com/sagemath/sagetrac-mirror/commit/b52f52a5256ae07bbf8f8fece2768aeaf76a6a65)|`Trac #19063: replace a few "int" by "bint"`|
|[a33ceb4](https://github.com/sagemath/sagetrac-mirror/commit/a33ceb40f76cd57791ad9e950fec234373278057)|`Trac #19063: Replace interval by ball in title`|



---

archive/issue_comments_342585.json:
```json
{
    "body": "<a id='comment:10'></a>\nI have now reviewed this patch and added a few reviewer commits.\n\nQuestions:\n\n* `ComplexBall.__init__`: why `Element.__init__` instead of `RingElement.__init__`\n\n* `.some_elements`: Is `1/3` intentional (this is an elaborate way of writing 0 in python)\n\n* Why is the representation `real - imag*I` restricted to exact negative imaginary parts and does not apply to\n  `1 + [-0.333]*I`\n\n* `.__contains__`, `.contains_exact`: why do we have two distinct methods here? Why is an integer or a rational as the argument of `.__contains__` not handeled separately by the relevant .acb functions?\n\nApart from that, a few documentation issues:\n\n* `_complex_mpfr_field_`: missing INPUT: section (parameter `parent`)\n\n* `_real_mpfi_`: missing INPUT: section (parameter parent), One-sentence-description mentions \"real number\" instead of \"real interval\".\n\n* `_mpfr_`: missing INPUT: section (parameter `parent`)\n\n* `.mid`, `.squash`: missing OUTPUT: section\n\n* `.mid` should have \"see also\" section (`.squash`)\n\n* `.identical` refers to a method `contains` which does not exist.\n\n* `.contains_exact`, `.identical`, `.overlaps`: missing INPUT: section (parameter `other`)",
    "created_at": "2015-09-07T13:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342585",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:10'></a>
I have now reviewed this patch and added a few reviewer commits.

Questions:

* `ComplexBall.__init__`: why `Element.__init__` instead of `RingElement.__init__`

* `.some_elements`: Is `1/3` intentional (this is an elaborate way of writing 0 in python)

* Why is the representation `real - imag*I` restricted to exact negative imaginary parts and does not apply to
  `1 + [-0.333]*I`

* `.__contains__`, `.contains_exact`: why do we have two distinct methods here? Why is an integer or a rational as the argument of `.__contains__` not handeled separately by the relevant .acb functions?

Apart from that, a few documentation issues:

* `_complex_mpfr_field_`: missing INPUT: section (parameter `parent`)

* `_real_mpfi_`: missing INPUT: section (parameter parent), One-sentence-description mentions "real number" instead of "real interval".

* `_mpfr_`: missing INPUT: section (parameter `parent`)

* `.mid`, `.squash`: missing OUTPUT: section

* `.mid` should have "see also" section (`.squash`)

* `.identical` refers to a method `contains` which does not exist.

* `.contains_exact`, `.identical`, `.overlaps`: missing INPUT: section (parameter `other`)



---

archive/issue_comments_342586.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-09-07T13:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342586",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_342587.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Clemens Heuberger\"",
    "created_at": "2015-09-07T13:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342587",
    "user": "https://github.com/cheuberg"
}
```

Changing reviewer from "" to "Clemens Heuberger"



---

archive/issue_comments_342588.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [cheuberg](#comment%3A10):\n> I have now reviewed this patch and added a few reviewer commits.\n\n\nThanks!\n\n> Questions:\n> \n> * `ComplexBall.__init__`: why `Element.__init__` instead of `RingElement.__init__`\n\n\nBecause I neglected to change it after changing the parent class. (I hate Python...)\n\n> * `.some_elements`: Is `1/3` intentional (this is an elaborate way of writing 0 in python)\n\n\nIt wasn't intentional.\n\n> * Why is the representation `real - imag*I` restricted to exact negative imaginary parts and does not apply to\n>   `1 + [-0.333]*I`\n\n\nThe old version would return things like `1.000000000000000 + - 0.5000000000000000*I` for exactly representable imaginary parts. I only implemented a minimal fix, thinking that the version with `... + [...]` was clear enough and perhaps clearer otherwise (especially for intervals containing zero), but I have no strong feelings either way.\n\n> * `.__contains__`, `.contains_exact`: why do we have two distinct methods here? Why is an integer or a rational as the argument of `.__contains__` not handeled separately by the relevant .acb functions?\n\n\nThe idea was to have a version that first converts its argument to a ball (and thus can accept a wide range of argument types), but may not recognize that the argument is contained in the other ball if the conversion is not precise enough, and a version for which a result of `False` always guarantees that the argument is not in the ball. We could just document for which argument types the result of `in` is guaranteed to be accurate, but I felt it'd be clearer that way. Here too, I'm open to discussion if you don't like that choice.\n\n> Apart from that, a few documentation issues:\n\n>\n> * `_complex_mpfr_field_`: missing INPUT: section (parameter `parent`)\n> \n> * `_real_mpfi_`: missing INPUT: section (parameter parent), One-sentence-description mentions \"real number\" instead of \"real interval\".\n> \n> * `_mpfr_`: missing INPUT: section (parameter `parent`)\n> \n> * `.mid`, `.squash`: missing OUTPUT: section\n> \n> * `.mid` should have \"see also\" section (`.squash`)\n> \n> * `.identical` refers to a method `contains` which does not exist.\n> \n> * `.contains_exact`, `.identical`, `.overlaps`: missing INPUT: section (parameter `other`)\n\n\nThanks. But note that the formal requirement of pointless INPUT/OUTPUT sections in docstrings is apparently going to be relaxed (#19041), so I'm not sure we need them INPUT sections every time you noted they were missing.",
    "created_at": "2015-09-07T15:31:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342588",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:11'></a>
Replying to [cheuberg](#comment%3A10):
> I have now reviewed this patch and added a few reviewer commits.


Thanks!

> Questions:
> 
> * `ComplexBall.__init__`: why `Element.__init__` instead of `RingElement.__init__`


Because I neglected to change it after changing the parent class. (I hate Python...)

> * `.some_elements`: Is `1/3` intentional (this is an elaborate way of writing 0 in python)


It wasn't intentional.

> * Why is the representation `real - imag*I` restricted to exact negative imaginary parts and does not apply to
>   `1 + [-0.333]*I`


The old version would return things like `1.000000000000000 + - 0.5000000000000000*I` for exactly representable imaginary parts. I only implemented a minimal fix, thinking that the version with `... + [...]` was clear enough and perhaps clearer otherwise (especially for intervals containing zero), but I have no strong feelings either way.

> * `.__contains__`, `.contains_exact`: why do we have two distinct methods here? Why is an integer or a rational as the argument of `.__contains__` not handeled separately by the relevant .acb functions?


The idea was to have a version that first converts its argument to a ball (and thus can accept a wide range of argument types), but may not recognize that the argument is contained in the other ball if the conversion is not precise enough, and a version for which a result of `False` always guarantees that the argument is not in the ball. We could just document for which argument types the result of `in` is guaranteed to be accurate, but I felt it'd be clearer that way. Here too, I'm open to discussion if you don't like that choice.

> Apart from that, a few documentation issues:

>
> * `_complex_mpfr_field_`: missing INPUT: section (parameter `parent`)
> 
> * `_real_mpfi_`: missing INPUT: section (parameter parent), One-sentence-description mentions "real number" instead of "real interval".
> 
> * `_mpfr_`: missing INPUT: section (parameter `parent`)
> 
> * `.mid`, `.squash`: missing OUTPUT: section
> 
> * `.mid` should have "see also" section (`.squash`)
> 
> * `.identical` refers to a method `contains` which does not exist.
> 
> * `.contains_exact`, `.identical`, `.overlaps`: missing INPUT: section (parameter `other`)


Thanks. But note that the formal requirement of pointless INPUT/OUTPUT sections in docstrings is apparently going to be relaxed (#19041), so I'm not sure we need them INPUT sections every time you noted they were missing.



---

archive/issue_comments_342589.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2015-09-07T15:53:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342589",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_342590.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [mmezzarobba](#comment%3A11):\n> > Questions:\n> > \n> > * `ComplexBall.__init__`: why `Element.__init__` instead of `RingElement.__init__`\n \n> \n> Because I neglected to change it after changing the parent class. (I hate Python...)\n\n\nIf I remember correctly, there is some reason not to use `super`.\n\n> > * Why is the representation `real - imag*I` restricted to exact negative imaginary parts and does not apply to\n> >   `1 + [-0.333]*I`\n \n> \n> The old version would return things like `1.000000000000000 + - 0.5000000000000000*I` for exactly representable imaginary parts. I only implemented a minimal fix, thinking that the version with `... + [...]` was clear enough and perhaps clearer otherwise (especially for intervals containing zero), but I have no strong feelings either way.\n\n\nNo strong feelings from my side; I was just wondering reading the code. For intervals containing the zero, it might indeed be strange.\n\n> \n> > * `.__contains__`, `.contains_exact`: why do we have two distinct methods here? Why is an integer or a rational as the argument of `.__contains__` not handeled separately by the relevant .acb functions?\n \n> \n> The idea was to have a version that first converts its argument to a ball (and thus can accept a wide range of argument types), but may not recognize that the argument is contained in the other ball if the conversion is not precise enough, and a version for which a result of `False` always guarantees that the argument is not in the ball. We could just document for which argument types the result of `in` is guaranteed to be accurate, but I felt it'd be clearer that way. Here too, I'm open to discussion if you don't like that choice.\n\n\nI think that `rational in ball` and `integer in ball` should give correct results in any case. \n\n> \n> > Apart from that, a few documentation issues:\n\n> >\n> > * `_complex_mpfr_field_`: missing INPUT: section (parameter `parent`)\n> > \n> > * `_real_mpfi_`: missing INPUT: section (parameter parent), One-sentence-description mentions \"real number\" instead of \"real interval\".\n> > \n> > * `_mpfr_`: missing INPUT: section (parameter `parent`)\n> > \n> > * `.mid`, `.squash`: missing OUTPUT: section\n> > \n> > * `.mid` should have \"see also\" section (`.squash`)\n> > \n> > * `.identical` refers to a method `contains` which does not exist.\n> > \n> > * `.contains_exact`, `.identical`, `.overlaps`: missing INPUT: section (parameter `other`)\n \n> \n> Thanks. But note that the formal requirement of pointless INPUT/OUTPUT sections in docstrings is apparently going to be relaxed (#19041), so I'm not sure we need them INPUT sections every time you noted they were missing.\n\n\nI know; the question is what is obvious and what not. My feelings are not very strong here.",
    "created_at": "2015-09-07T17:44:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342590",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:13'></a>
Replying to [mmezzarobba](#comment%3A11):
> > Questions:
> > 
> > * `ComplexBall.__init__`: why `Element.__init__` instead of `RingElement.__init__`
 
> 
> Because I neglected to change it after changing the parent class. (I hate Python...)


If I remember correctly, there is some reason not to use `super`.

> > * Why is the representation `real - imag*I` restricted to exact negative imaginary parts and does not apply to
> >   `1 + [-0.333]*I`
 
> 
> The old version would return things like `1.000000000000000 + - 0.5000000000000000*I` for exactly representable imaginary parts. I only implemented a minimal fix, thinking that the version with `... + [...]` was clear enough and perhaps clearer otherwise (especially for intervals containing zero), but I have no strong feelings either way.


No strong feelings from my side; I was just wondering reading the code. For intervals containing the zero, it might indeed be strange.

> 
> > * `.__contains__`, `.contains_exact`: why do we have two distinct methods here? Why is an integer or a rational as the argument of `.__contains__` not handeled separately by the relevant .acb functions?
 
> 
> The idea was to have a version that first converts its argument to a ball (and thus can accept a wide range of argument types), but may not recognize that the argument is contained in the other ball if the conversion is not precise enough, and a version for which a result of `False` always guarantees that the argument is not in the ball. We could just document for which argument types the result of `in` is guaranteed to be accurate, but I felt it'd be clearer that way. Here too, I'm open to discussion if you don't like that choice.


I think that `rational in ball` and `integer in ball` should give correct results in any case. 

> 
> > Apart from that, a few documentation issues:

> >
> > * `_complex_mpfr_field_`: missing INPUT: section (parameter `parent`)
> > 
> > * `_real_mpfi_`: missing INPUT: section (parameter parent), One-sentence-description mentions "real number" instead of "real interval".
> > 
> > * `_mpfr_`: missing INPUT: section (parameter `parent`)
> > 
> > * `.mid`, `.squash`: missing OUTPUT: section
> > 
> > * `.mid` should have "see also" section (`.squash`)
> > 
> > * `.identical` refers to a method `contains` which does not exist.
> > 
> > * `.contains_exact`, `.identical`, `.overlaps`: missing INPUT: section (parameter `other`)
 
> 
> Thanks. But note that the formal requirement of pointless INPUT/OUTPUT sections in docstrings is apparently going to be relaxed (#19041), so I'm not sure we need them INPUT sections every time you noted they were missing.


I know; the question is what is obvious and what not. My feelings are not very strong here.



---

archive/issue_comments_342591.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/19063-acb\" to \"u/mmezzarobba/19063-acb\"",
    "created_at": "2015-09-08T12:31:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342591",
    "user": "https://github.com/mezzarobba"
}
```

Changing branch from "u/cheuberg/19063-acb" to "u/mmezzarobba/19063-acb"



---

archive/issue_comments_342592.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-09-08T12:31:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342592",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_342593.json:
```json
{
    "body": "<a id='comment:14'></a>\nNew commits:\n|                                                                                                                                          |                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[ecc4636](https://github.com/sagemath/sagetrac-mirror/commit/ecc46368f1368266fdc438c3266a4fe7f488be5f)|`#19063 Implement reviewer's comments`|",
    "created_at": "2015-09-08T12:31:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342593",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:14'></a>
New commits:
|                                                                                                                                          |                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[ecc4636](https://github.com/sagemath/sagetrac-mirror/commit/ecc46368f1368266fdc438c3266a4fe7f488be5f)|`#19063 Implement reviewer's comments`|



---

archive/issue_comments_342594.json:
```json
{
    "body": "Changing commit from \"a33ceb40f76cd57791ad9e950fec234373278057\" to \"ecc46368f1368266fdc438c3266a4fe7f488be5f\"",
    "created_at": "2015-09-08T12:31:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342594",
    "user": "https://github.com/mezzarobba"
}
```

Changing commit from "a33ceb40f76cd57791ad9e950fec234373278057" to "ecc46368f1368266fdc438c3266a4fe7f488be5f"



---

archive/issue_comments_342595.json:
```json
{
    "body": "<a id='comment:15'></a>\nfine for me.",
    "created_at": "2015-09-08T18:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342595",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:15'></a>
fine for me.



---

archive/issue_comments_342596.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-09-08T18:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342596",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_342597.json:
```json
{
    "body": "<a id='comment:16'></a>\nThanks for the review!",
    "created_at": "2015-09-08T20:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342597",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:16'></a>
Thanks for the review!



---

archive/issue_comments_342598.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Implement field operations, basic complex number and ball methods (abs arg, conjugate, mid, rad...), and some conversions and coercions for complex balls. Also make a few changes to real balls for consistency.\n \n-Follow-up ticket: #19082.\n+Follow-up tickets: #19152, #19082.\n``````\n",
    "created_at": "2015-09-09T05:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342598",
    "user": "https://github.com/mezzarobba"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Implement field operations, basic complex number and ball methods (abs arg, conjugate, mid, rad...), and some conversions and coercions for complex balls. Also make a few changes to real balls for consistency.
 
-Follow-up ticket: #19082.
+Follow-up tickets: #19152, #19082.
``````




---

archive/issue_events_060280.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-18T12:07:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19063#event-60280"
}
```



---

archive/issue_comments_342599.json:
```json
{
    "body": "Changing branch from \"u/mmezzarobba/19063-acb\" to \"u/cheuberg/19063-acb\"",
    "created_at": "2015-09-24T13:02:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342599",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "u/mmezzarobba/19063-acb" to "u/cheuberg/19063-acb"



---

archive/issue_comments_342600.json:
```json
{
    "body": "<a id='comment:20'></a>\nI pushed a fix for the doctest issue on 32-bit (cf. #18546) but have not yet tested it under 32 bit.\n\n---\nNew commits:\n|                                                                                                                                          |                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[91c5184](https://github.com/sagemath/sagetrac-mirror/commit/91c518409c7ce601f3f8f2941e2b2a2ef49e4384)|`Trac #18546: remove optional - arb in real_mpfi`|\n|[dbae43d](https://github.com/sagemath/sagetrac-mirror/commit/dbae43dac540ed1ce221e8569e186b072a41b2f5)|`Trac #18546: make doctests 32-bit aware`|\n|[a872274](https://github.com/sagemath/sagetrac-mirror/commit/a872274d3c2fd987a7659ff1f5f3111e09cf6491)|`Trac #19063: Merge #18546 in preparation of doctest fix for 32 bit`|\n|[8479dd2](https://github.com/sagemath/sagetrac-mirror/commit/8479dd21f1709c0a9f4e234eb7b280dc6e39ca78)|`Trac #19063: fix doctests on 32 bit`|",
    "created_at": "2015-09-24T13:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342600",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:20'></a>
I pushed a fix for the doctest issue on 32-bit (cf. #18546) but have not yet tested it under 32 bit.

---
New commits:
|                                                                                                                                          |                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[91c5184](https://github.com/sagemath/sagetrac-mirror/commit/91c518409c7ce601f3f8f2941e2b2a2ef49e4384)|`Trac #18546: remove optional - arb in real_mpfi`|
|[dbae43d](https://github.com/sagemath/sagetrac-mirror/commit/dbae43dac540ed1ce221e8569e186b072a41b2f5)|`Trac #18546: make doctests 32-bit aware`|
|[a872274](https://github.com/sagemath/sagetrac-mirror/commit/a872274d3c2fd987a7659ff1f5f3111e09cf6491)|`Trac #19063: Merge #18546 in preparation of doctest fix for 32 bit`|
|[8479dd2](https://github.com/sagemath/sagetrac-mirror/commit/8479dd21f1709c0a9f4e234eb7b280dc6e39ca78)|`Trac #19063: fix doctests on 32 bit`|



---

archive/issue_comments_342601.json:
```json
{
    "body": "Changing commit from \"ecc46368f1368266fdc438c3266a4fe7f488be5f\" to \"8479dd21f1709c0a9f4e234eb7b280dc6e39ca78\"",
    "created_at": "2015-09-24T13:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342601",
    "user": "https://github.com/cheuberg"
}
```

Changing commit from "ecc46368f1368266fdc438c3266a4fe7f488be5f" to "8479dd21f1709c0a9f4e234eb7b280dc6e39ca78"



---

archive/issue_comments_342602.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2015-09-24T13:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342602",
    "user": "https://github.com/cheuberg"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_342603.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [cheuberg](#comment%3A20):\n> but have not yet tested it under 32 bit.\n\n\ntests on my (virtual) 32 bit machine pass.",
    "created_at": "2015-09-25T06:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342603",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:22'></a>
Replying to [cheuberg](#comment%3A20):
> but have not yet tested it under 32 bit.


tests on my (virtual) 32 bit machine pass.



---

archive/issue_events_060281.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-09-25T07:31:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19063#event-60281"
}
```



---

archive/issue_events_060282.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-09-25T07:31:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19063#event-60282"
}
```



---

archive/issue_comments_342604.json:
```json
{
    "body": "Changing reviewer from \"Clemens Heuberger\" to \"Clemens Heuberger, Marc Mezzarobba\"",
    "created_at": "2015-10-15T08:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342604",
    "user": "https://github.com/mezzarobba"
}
```

Changing reviewer from "Clemens Heuberger" to "Clemens Heuberger, Marc Mezzarobba"



---

archive/issue_comments_342605.json:
```json
{
    "body": "Changing author from \"Marc Mezzarobba\" to \"Marc Mezzarobba, Clemens Heuberger\"",
    "created_at": "2015-10-15T08:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342605",
    "user": "https://github.com/mezzarobba"
}
```

Changing author from "Marc Mezzarobba" to "Marc Mezzarobba, Clemens Heuberger"



---

archive/issue_comments_342606.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-15T08:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342606",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_342607.json:
```json
{
    "body": "<a id='comment:25'></a>\nJust a comment for a follow-up: it would be better to use method names more consistent with `RIF`/`CIF`:\n* `above_abs` and `below_abs` should be renamed `magnitude` and `mignitude` for analogy with `RIF` and, after #19403, also `CIF`.\n* `mid` should be `center`",
    "created_at": "2015-10-15T08:38:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342607",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>
Just a comment for a follow-up: it would be better to use method names more consistent with `RIF`/`CIF`:
* `above_abs` and `below_abs` should be renamed `magnitude` and `mignitude` for analogy with `RIF` and, after #19403, also `CIF`.
* `mid` should be `center`



---

archive/issue_comments_342608.json:
```json
{
    "body": "<a id='comment:26'></a>\nOr perhaps `above_abs` is not exactly the same as `magnitude` since the latter returns a real number instead of a ball. Still, it would be nice to implement `magnitude` like `RIF`.",
    "created_at": "2015-10-15T09:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342608",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>
Or perhaps `above_abs` is not exactly the same as `magnitude` since the latter returns a real number instead of a ball. Still, it would be nice to implement `magnitude` like `RIF`.



---

archive/issue_comments_342609.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [jdemeyer](#comment%3A26):\n> Or perhaps `above_abs` is not exactly the same as `magnitude` since the latter returns a real number instead of a ball. Still, it would be nice to implement `magnitude` like `RIF`.\n\n\nYes.\n\nRegarding `center()`, I'd prefer to keep the name `mid()`, if only to emphazise that the midpoint is part of the defining data of the ball (and thus always is exact, while `mpfi_mid()` involves a rounding), but I have nothing against adding `center()` as an alias.",
    "created_at": "2015-10-15T12:15:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342609",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:27'></a>
Replying to [jdemeyer](#comment%3A26):
> Or perhaps `above_abs` is not exactly the same as `magnitude` since the latter returns a real number instead of a ball. Still, it would be nice to implement `magnitude` like `RIF`.


Yes.

Regarding `center()`, I'd prefer to keep the name `mid()`, if only to emphazise that the midpoint is part of the defining data of the ball (and thus always is exact, while `mpfi_mid()` involves a rounding), but I have nothing against adding `center()` as an alias.



---

archive/issue_comments_342610.json:
```json
{
    "body": "Changing commit from \"8479dd21f1709c0a9f4e234eb7b280dc6e39ca78\" to \"\"",
    "created_at": "2015-10-15T12:38:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342610",
    "user": "https://github.com/mezzarobba"
}
```

Changing commit from "8479dd21f1709c0a9f4e234eb7b280dc6e39ca78" to ""



---

archive/issue_comments_342611.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/19063-acb\" to \"u/mmezzarob/19063-acb\"",
    "created_at": "2015-10-15T12:38:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342611",
    "user": "https://github.com/mezzarobba"
}
```

Changing branch from "u/cheuberg/19063-acb" to "u/mmezzarob/19063-acb"



---

archive/issue_comments_342612.json:
```json
{
    "body": "<a id='comment:29'></a>\nIt looks like the trac server ignored my push for some reason, but as far as I can tell the branch merges cleanly.",
    "created_at": "2015-10-15T12:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342612",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:29'></a>
It looks like the trac server ignored my push for some reason, but as far as I can tell the branch merges cleanly.



---

archive/issue_comments_342613.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [mmezzarobba](#comment%3A27):\n> Replying to [jdemeyer](#comment%3A26):\n> > Or perhaps `above_abs` is not exactly the same as `magnitude` since the latter returns a real number instead of a ball. Still, it would be nice to implement `magnitude` like `RIF`.\n\n> \n> Yes.\n> \n> Regarding `center()`, I'd prefer to keep the name `mid()`, if only to emphazise that the midpoint is part of the defining data of the ball (and thus always is exact, while `mpfi_mid()` involves a rounding), but I have nothing against adding `center()` as an alias.\n\n\nFor most practical purposes, the rounding or not is just an implementation detail. Personally, I would prefer to use just one method name (for example, I don't like that some types implement `prec()` and some implement `precision()` but not all implement both: that's just confusing). Given that `center()` has been around for a while, I would prefer to use `center()` (and only that) also for arb.",
    "created_at": "2015-10-15T13:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342613",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>
Replying to [mmezzarobba](#comment%3A27):
> Replying to [jdemeyer](#comment%3A26):
> > Or perhaps `above_abs` is not exactly the same as `magnitude` since the latter returns a real number instead of a ball. Still, it would be nice to implement `magnitude` like `RIF`.

> 
> Yes.
> 
> Regarding `center()`, I'd prefer to keep the name `mid()`, if only to emphazise that the midpoint is part of the defining data of the ball (and thus always is exact, while `mpfi_mid()` involves a rounding), but I have nothing against adding `center()` as an alias.


For most practical purposes, the rounding or not is just an implementation detail. Personally, I would prefer to use just one method name (for example, I don't like that some types implement `prec()` and some implement `precision()` but not all implement both: that's just confusing). Given that `center()` has been around for a while, I would prefer to use `center()` (and only that) also for arb.



---

archive/issue_comments_342614.json:
```json
{
    "body": "<a id='comment:31'></a>\nBy the way, I might be interesting in reviewing this ticket but only after the dependencies have been merged.",
    "created_at": "2015-10-15T13:40:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342614",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'></a>
By the way, I might be interesting in reviewing this ticket but only after the dependencies have been merged.



---

archive/issue_comments_342615.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [mmezzarobba](#comment%3A29):\n> It looks like the trac server ignored my push for some reason, but as far as I can tell the branch merges cleanly.\n\n\nThere is no branch...",
    "created_at": "2015-10-15T13:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342615",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'></a>
Replying to [mmezzarobba](#comment%3A29):
> It looks like the trac server ignored my push for some reason, but as far as I can tell the branch merges cleanly.


There is no branch...



---

archive/issue_comments_342616.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-10-15T13:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342616",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_342617.json:
```json
{
    "body": "Changing commit from \"\" to \"d13e70facf6b65b6655c91a5f87a61f4faf1d02f\"",
    "created_at": "2015-10-15T14:08:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342617",
    "user": "https://github.com/mezzarobba"
}
```

Changing commit from "" to "d13e70facf6b65b6655c91a5f87a61f4faf1d02f"



---

archive/issue_comments_342618.json:
```json
{
    "body": "Changing branch from \"u/mmezzarob/19063-acb\" to \"u/mmezzarobba/19063-acb\"",
    "created_at": "2015-10-15T14:08:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342618",
    "user": "https://github.com/mezzarobba"
}
```

Changing branch from "u/mmezzarob/19063-acb" to "u/mmezzarobba/19063-acb"



---

archive/issue_comments_342619.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [jdemeyer](#comment%3A32):\n> Replying to [mmezzarobba](#comment%3A29):\n> > It looks like the trac server ignored my push for some reason, but as far as I can tell the branch merges cleanly.\n\n> \n> There is no branch...\n\n\nOops, now I understand. Thanks!\n\n---\nLast 10 new commits:\n|                                                                                                                                          |                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[a7e94c2](https://github.com/sagemath/sagetrac-mirror/commit/a7e94c2e09d09f4fd474477100c801c6d2caef4c)|`ComplexBallField: minor documentation improvements`|\n|[ea906fd](https://github.com/sagemath/sagetrac-mirror/commit/ea906fd9dc936f6f2cd8d1e3a43ef323877696b2)|`Trac #19063: Fix indentation in doctest`|\n|[5886d73](https://github.com/sagemath/sagetrac-mirror/commit/5886d7368dd3df91e34845275c3ba8c2b0fdc35e)|`Trac #19063: Simplify doctest`|\n|[a2bf307](https://github.com/sagemath/sagetrac-mirror/commit/a2bf3078cedc8f7653feb2815c5065ebf69529ca)|`Trac #19063: RESt formatting`|\n|[57a1c38](https://github.com/sagemath/sagetrac-mirror/commit/57a1c38c6ff34d1bf2f0b87895aa7bf1c89a4b35)|`Trac #19063: Replace \"nonzero\" by \"True\"`|\n|[2dccd9b](https://github.com/sagemath/sagetrac-mirror/commit/2dccd9b541234ace62714f6711be2a678dfa4c9a)|`fixup: true/false`|\n|[48c70da](https://github.com/sagemath/sagetrac-mirror/commit/48c70da7bf74c3f3c8313f845a7d3055788daf6e)|`Trac #19063: replace a few \"int\" by \"bint\"`|\n|[91f9282](https://github.com/sagemath/sagetrac-mirror/commit/91f9282c6b1bca228fd0f49c1a2e5cee603240c4)|`Trac #19063: Replace interval by ball in title`|\n|[08d3d29](https://github.com/sagemath/sagetrac-mirror/commit/08d3d29d570f3bcba018b5796261dfd78a7d0a84)|`#19063 Implement reviewer's comments`|\n|[d13e70f](https://github.com/sagemath/sagetrac-mirror/commit/d13e70facf6b65b6655c91a5f87a61f4faf1d02f)|`Trac #19063: fix doctests on 32 bit`|",
    "created_at": "2015-10-15T14:08:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342619",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:33'></a>
Replying to [jdemeyer](#comment%3A32):
> Replying to [mmezzarobba](#comment%3A29):
> > It looks like the trac server ignored my push for some reason, but as far as I can tell the branch merges cleanly.

> 
> There is no branch...


Oops, now I understand. Thanks!

---
Last 10 new commits:
|                                                                                                                                          |                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[a7e94c2](https://github.com/sagemath/sagetrac-mirror/commit/a7e94c2e09d09f4fd474477100c801c6d2caef4c)|`ComplexBallField: minor documentation improvements`|
|[ea906fd](https://github.com/sagemath/sagetrac-mirror/commit/ea906fd9dc936f6f2cd8d1e3a43ef323877696b2)|`Trac #19063: Fix indentation in doctest`|
|[5886d73](https://github.com/sagemath/sagetrac-mirror/commit/5886d7368dd3df91e34845275c3ba8c2b0fdc35e)|`Trac #19063: Simplify doctest`|
|[a2bf307](https://github.com/sagemath/sagetrac-mirror/commit/a2bf3078cedc8f7653feb2815c5065ebf69529ca)|`Trac #19063: RESt formatting`|
|[57a1c38](https://github.com/sagemath/sagetrac-mirror/commit/57a1c38c6ff34d1bf2f0b87895aa7bf1c89a4b35)|`Trac #19063: Replace "nonzero" by "True"`|
|[2dccd9b](https://github.com/sagemath/sagetrac-mirror/commit/2dccd9b541234ace62714f6711be2a678dfa4c9a)|`fixup: true/false`|
|[48c70da](https://github.com/sagemath/sagetrac-mirror/commit/48c70da7bf74c3f3c8313f845a7d3055788daf6e)|`Trac #19063: replace a few "int" by "bint"`|
|[91f9282](https://github.com/sagemath/sagetrac-mirror/commit/91f9282c6b1bca228fd0f49c1a2e5cee603240c4)|`Trac #19063: Replace interval by ball in title`|
|[08d3d29](https://github.com/sagemath/sagetrac-mirror/commit/08d3d29d570f3bcba018b5796261dfd78a7d0a84)|`#19063 Implement reviewer's comments`|
|[d13e70f](https://github.com/sagemath/sagetrac-mirror/commit/d13e70facf6b65b6655c91a5f87a61f4faf1d02f)|`Trac #19063: fix doctests on 32 bit`|



---

archive/issue_comments_342620.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-10-15T14:09:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342620",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_342621.json:
```json
{
    "body": "Changing branch from \"u/mmezzarobba/19063-acb\" to \"u/cheuberg/19063-acb\"",
    "created_at": "2015-10-16T10:17:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342621",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "u/mmezzarobba/19063-acb" to "u/cheuberg/19063-acb"



---

archive/issue_comments_342622.json:
```json
{
    "body": "<a id='comment:36'></a>\nDid no longer merge cleanly with latest version of dependency #18546. Please check the merge.\n\n---\nNew commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[03a7a4f](https://github.com/sagemath/sagetrac-mirror/commit/03a7a4fba01ad29b359dd020a3e9d8d265e49d8b)|`Merge tag '6.10.beta0' into t/18546/18546-arb-std`|\n|[1091bfc](https://github.com/sagemath/sagetrac-mirror/commit/1091bfcc54fb9164a405ba0e1cb933037797bec7)|`Merge branch 't/18546/18546-arb-std-rebased' into t/19063/19063-acb`|",
    "created_at": "2015-10-16T10:18:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342622",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:36'></a>
Did no longer merge cleanly with latest version of dependency #18546. Please check the merge.

---
New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[03a7a4f](https://github.com/sagemath/sagetrac-mirror/commit/03a7a4fba01ad29b359dd020a3e9d8d265e49d8b)|`Merge tag '6.10.beta0' into t/18546/18546-arb-std`|
|[1091bfc](https://github.com/sagemath/sagetrac-mirror/commit/1091bfcc54fb9164a405ba0e1cb933037797bec7)|`Merge branch 't/18546/18546-arb-std-rebased' into t/19063/19063-acb`|



---

archive/issue_events_060283.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-10-16T10:18:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19063#event-60283"
}
```



---

archive/issue_events_060284.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-10-16T10:18:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19063#event-60284"
}
```



---

archive/issue_comments_342623.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2015-10-16T10:18:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342623",
    "user": "https://github.com/cheuberg"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_342624.json:
```json
{
    "body": "Changing commit from \"d13e70facf6b65b6655c91a5f87a61f4faf1d02f\" to \"1091bfcc54fb9164a405ba0e1cb933037797bec7\"",
    "created_at": "2015-10-16T10:18:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342624",
    "user": "https://github.com/cheuberg"
}
```

Changing commit from "d13e70facf6b65b6655c91a5f87a61f4faf1d02f" to "1091bfcc54fb9164a405ba0e1cb933037797bec7"



---

archive/issue_comments_342625.json:
```json
{
    "body": "Changing commit from \"1091bfcc54fb9164a405ba0e1cb933037797bec7\" to \"\"",
    "created_at": "2015-10-16T10:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342625",
    "user": "https://github.com/mezzarobba"
}
```

Changing commit from "1091bfcc54fb9164a405ba0e1cb933037797bec7" to ""



---

archive/issue_comments_342626.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/19063-acb\" to \"trac/u/mmezzarobba/19063-acb\"",
    "created_at": "2015-10-16T10:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342626",
    "user": "https://github.com/mezzarobba"
}
```

Changing branch from "u/cheuberg/19063-acb" to "trac/u/mmezzarobba/19063-acb"



---

archive/issue_comments_342627.json:
```json
{
    "body": "<a id='comment:37'></a>\nreplacing the branch by my version of the merge because I also rebased the follow-ups",
    "created_at": "2015-10-16T10:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342627",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:37'></a>
replacing the branch by my version of the merge because I also rebased the follow-ups



---

archive/issue_comments_342628.json:
```json
{
    "body": "Changing branch from \"trac/u/mmezzarobba/19063-acb\" to \"u/mmezzarobba/19063-acb\"",
    "created_at": "2015-10-16T10:57:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342628",
    "user": "https://github.com/mezzarobba"
}
```

Changing branch from "trac/u/mmezzarobba/19063-acb" to "u/mmezzarobba/19063-acb"



---

archive/issue_comments_342629.json:
```json
{
    "body": "Changing commit from \"\" to \"fa41787b7f670f82ba79ad2fa9ebe67ef5c2eb24\"",
    "created_at": "2015-10-16T10:57:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342629",
    "user": "https://github.com/mezzarobba"
}
```

Changing commit from "" to "fa41787b7f670f82ba79ad2fa9ebe67ef5c2eb24"



---

archive/issue_comments_342630.json:
```json
{
    "body": "<a id='comment:39'></a>\ncontent of both branches is equal. Thus back to positive.",
    "created_at": "2015-10-16T11:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342630",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:39'></a>
content of both branches is equal. Thus back to positive.



---

archive/issue_comments_342631.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-16T11:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342631",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_060285.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-30T08:33:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19063#event-60285"
}
```



---

archive/issue_comments_342632.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-10-30T08:33:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342632",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_342633.json:
```json
{
    "body": "Changing branch from \"u/mmezzarobba/19063-acb\" to \"fa41787b7f670f82ba79ad2fa9ebe67ef5c2eb24\"",
    "created_at": "2015-10-30T08:33:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19063#issuecomment-342633",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mmezzarobba/19063-acb" to "fa41787b7f670f82ba79ad2fa9ebe67ef5c2eb24"
