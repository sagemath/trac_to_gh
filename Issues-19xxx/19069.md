# Issue 19069: Expose matroid sum and matroid union to end users

archive/issues_018832.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nIn #19027 matroid union, sum, partition are implemented, but most are not made discoverable by end users. I propose the following two ways of doing that:\n\n* add import statements to sage/matroids/advanced.py\n* create a new \"submenu\" matroids.constructions (similar to matroids.named_matroids) for these and future other constructions. So we could do\n\n```\nsage: M = matroids.constructions.Union([M1, M2])\n```\n\nCC:  @chaoxu @sagetrac-yomcat @sagetrac-Rudi\n\nComponent: **matroid theory**\n\nAuthor: **Zach Gershkoff**\n\nBranch: **[`ed08f72`](https://github.com/sagemath/sagetrac-mirror/commit/ed08f729043c0db7709fc9b38bb1dde17804f15f)**\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19069_\n\n",
    "closed_at": "2017-06-22T07:23:20Z",
    "created_at": "2015-08-21T20:18:58Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20matroid%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20trivial%20/%205",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Expose matroid sum and matroid union to end users",
    "type": "issue",
    "updated_at": "2017-10-24T15:10:50Z",
    "url": "https://github.com/sagemath/sage/issues/19069",
    "user": "https://github.com/sagetrac-Stefan"
}
```
<div id="comment:0"></div>

In #19027 matroid union, sum, partition are implemented, but most are not made discoverable by end users. I propose the following two ways of doing that:

* add import statements to sage/matroids/advanced.py
* create a new "submenu" matroids.constructions (similar to matroids.named_matroids) for these and future other constructions. So we could do

```
sage: M = matroids.constructions.Union([M1, M2])
```

CC:  @chaoxu @sagetrac-yomcat @sagetrac-Rudi

Component: **matroid theory**

Author: **Zach Gershkoff**

Branch: **[`ed08f72`](https://github.com/sagemath/sagetrac-mirror/commit/ed08f729043c0db7709fc9b38bb1dde17804f15f)**

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/19069_





---

archive/issue_events_268262.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2015-08-21T20:18:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268262"
}
```



---

archive/issue_events_268263.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2015-08-21T20:18:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20matroid%20theory",
    "label_color": "0000ff",
    "label_name": "c: matroid theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268263"
}
```



---

archive/issue_events_268264.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2015-08-21T20:18:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20trivial%20/%205",
    "label_color": "fff9e5",
    "label_name": "p: trivial / 5",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268264"
}
```



---

archive/issue_events_268265.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2015-08-21T20:18:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268265"
}
```



---

archive/issue_comments_268869.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nLet me suggest also the following standard syntax:\n\n```\nsage: M = M1.union(M2)\n```\n\nTo do this, just create a `union` method for matroids. The benefits is that, after creating a matroid `M1`, the user can see all available features by typing `M1.<TAB>`.",
    "created_at": "2015-08-22T11:44:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268869",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:1" align="right">comment:1</div>

Let me suggest also the following standard syntax:

```
sage: M = M1.union(M2)
```

To do this, just create a `union` method for matroids. The benefits is that, after creating a matroid `M1`, the user can see all available features by typing `M1.<TAB>`.



---

archive/issue_comments_268870.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI agree with tmonteil that a `union` method for the Matroid class would be nice, that can take either a matroid or list of matroids as input. I would also definitely do the first of the two suggestions here (and document it inside the `union` method docstring). The second way can wait.\n\nI marked the other ticket asking for this as duplicate: #20357 .",
    "created_at": "2017-03-16T02:38:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268870",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:2" align="right">comment:2</div>

I agree with tmonteil that a `union` method for the Matroid class would be nice, that can take either a matroid or list of matroids as input. I would also definitely do the first of the two suggestions here (and document it inside the `union` method docstring). The second way can wait.

I marked the other ticket asking for this as duplicate: #20357 .



---

archive/issue_comments_268871.json:
```json
{
    "body": "Branch: **[u/zgershkoff/expose_matroid_sum_and_matroid_union_to_end_users](https://github.com/sagemath/sagetrac-mirror/tree/u/zgershkoff/expose_matroid_sum_and_matroid_union_to_end_users)**",
    "created_at": "2017-05-31T01:34:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268871",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

Branch: **[u/zgershkoff/expose_matroid_sum_and_matroid_union_to_end_users](https://github.com/sagemath/sagetrac-mirror/tree/u/zgershkoff/expose_matroid_sum_and_matroid_union_to_end_users)**



---

archive/issue_events_268266.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-05-31T01:37:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268266"
}
```



---

archive/issue_comments_268872.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI added a union method and it seems to work well enough. I wasn't able to get it to work with cython-- it kept giving me an error \"Expected an identifier\" when I defined the union method. I also unearthed some issues with the union method, but I can talk with Stefan about that later. For now, it's exposed.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27b724e9e753ffa572b6d8300aedee4382581a65\"><code>27b724e</code></a></td><td><code>Added union method to matroid.pyx</code></td></tr></table>\n",
    "created_at": "2017-05-31T01:37:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268872",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<div id="comment:4" align="right">comment:4</div>

I added a union method and it seems to work well enough. I wasn't able to get it to work with cython-- it kept giving me an error "Expected an identifier" when I defined the union method. I also unearthed some issues with the union method, but I can talk with Stefan about that later. For now, it's exposed.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27b724e9e753ffa572b6d8300aedee4382581a65"><code>27b724e</code></a></td><td><code>Added union method to matroid.pyx</code></td></tr></table>




---

archive/issue_comments_268873.json:
```json
{
    "body": "Commit: **[`27b724e`](https://github.com/sagemath/sagetrac-mirror/commit/27b724e9e753ffa572b6d8300aedee4382581a65)**",
    "created_at": "2017-05-31T01:37:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268873",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

Commit: **[`27b724e`](https://github.com/sagemath/sagetrac-mirror/commit/27b724e9e753ffa572b6d8300aedee4382581a65)**



---

archive/issue_comments_268874.json:
```json
{
    "body": "Changed commit from **[`27b724e`](https://github.com/sagemath/sagetrac-mirror/commit/27b724e9e753ffa572b6d8300aedee4382581a65)** to **[`51152ea`](https://github.com/sagemath/sagetrac-mirror/commit/51152ea69afe002d3b93517c92488298c47f37ba)**",
    "created_at": "2017-06-10T01:55:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268874",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`27b724e`](https://github.com/sagemath/sagetrac-mirror/commit/27b724e9e753ffa572b6d8300aedee4382581a65)** to **[`51152ea`](https://github.com/sagemath/sagetrac-mirror/commit/51152ea69afe002d3b93517c92488298c47f37ba)**



---

archive/issue_comments_268875.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51152ea69afe002d3b93517c92488298c47f37ba\"><code>51152ea</code></a></td><td><code>Attempt to cythonize. It doesn't compile, though.</code></td></tr></table>\n",
    "created_at": "2017-06-10T01:55:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268875",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51152ea69afe002d3b93517c92488298c47f37ba"><code>51152ea</code></a></td><td><code>Attempt to cythonize. It doesn't compile, though.</code></td></tr></table>




---

archive/issue_comments_268876.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n`_union()` is able to cythonize and everything compiles if `union()` is commented out, but with `union()` I get the following error and it won't compile.\n\n```\nError compiling Cython file:\n------------------------------------------------------------\n...\n        \"\"\"\n        if isinstance(matroids, Matroid):\n            matroids = [matroids]\n        # place this matroid at the beginning of the list\n        matroids.insert(0,self)\n        return _union(iter(matroids))\n                    ^\n------------------------------------------------------------\n\nsage/matroids/matroid.pyx:7772:21: undeclared name not builtin: _union\n```\n\nMore trouble with \"union\" being a reserved keyword, perhaps?",
    "created_at": "2017-06-10T01:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268876",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<div id="comment:6" align="right">comment:6</div>

`_union()` is able to cythonize and everything compiles if `union()` is commented out, but with `union()` I get the following error and it won't compile.

```
Error compiling Cython file:
------------------------------------------------------------
...
        """
        if isinstance(matroids, Matroid):
            matroids = [matroids]
        # place this matroid at the beginning of the list
        matroids.insert(0,self)
        return _union(iter(matroids))
                    ^
------------------------------------------------------------

sage/matroids/matroid.pyx:7772:21: undeclared name not builtin: _union
```

More trouble with "union" being a reserved keyword, perhaps?



---

archive/issue_comments_268877.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nDon't you want `self._union`? Also, I don't see the point of having a `_union` method since there is no real safety checks that need to be performed and everything computationally is handled by `MatroidUnion`.",
    "created_at": "2017-06-10T03:15:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268877",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

Don't you want `self._union`? Also, I don't see the point of having a `_union` method since there is no real safety checks that need to be performed and everything computationally is handled by `MatroidUnion`.



---

archive/issue_comments_268878.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nYes, I forgot the `self`.\n\nThe reason we need the `_union` method (Stefan helped me figure this out) is that \"union\" is a reserved keyword for Cython, so `cpdef union` gives the following error when compiling:\n\n```\nError compiling Cython file:\n------------------------------------------------------------\n...\n            Ternary matroid of rank 3 on 7 elements, type 0-\n        \"\"\"\n        from . import union_matroid\n        return union_matroid.MatroidUnion(matroids)\n\n    cpdef union(self, matroids):\n              ^\n------------------------------------------------------------\n\nsage/matroids/matroid.pyx:7747:15: Expected an identifier\n```\n\nSo instead we make `def union` sanitize the input and pass it to `cpdef _union`.",
    "created_at": "2017-06-10T21:55:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268878",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<div id="comment:8" align="right">comment:8</div>

Yes, I forgot the `self`.

The reason we need the `_union` method (Stefan helped me figure this out) is that "union" is a reserved keyword for Cython, so `cpdef union` gives the following error when compiling:

```
Error compiling Cython file:
------------------------------------------------------------
...
            Ternary matroid of rank 3 on 7 elements, type 0-
        """
        from . import union_matroid
        return union_matroid.MatroidUnion(matroids)

    cpdef union(self, matroids):
              ^
------------------------------------------------------------

sage/matroids/matroid.pyx:7747:15: Expected an identifier
```

So instead we make `def union` sanitize the input and pass it to `cpdef _union`.



---

archive/issue_comments_268879.json:
```json
{
    "body": "Changed commit from **[`51152ea`](https://github.com/sagemath/sagetrac-mirror/commit/51152ea69afe002d3b93517c92488298c47f37ba)** to **[`f4e6baf`](https://github.com/sagemath/sagetrac-mirror/commit/f4e6baf717bcfc33a11f9403c3c115e6c48aee42)**",
    "created_at": "2017-06-10T21:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268879",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`51152ea`](https://github.com/sagemath/sagetrac-mirror/commit/51152ea69afe002d3b93517c92488298c47f37ba)** to **[`f4e6baf`](https://github.com/sagemath/sagetrac-mirror/commit/f4e6baf717bcfc33a11f9403c3c115e6c48aee42)**



---

archive/issue_comments_268880.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4e6baf717bcfc33a11f9403c3c115e6c48aee42\"><code>f4e6baf</code></a></td><td><code>fix + extra input check</code></td></tr></table>\n",
    "created_at": "2017-06-10T21:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268880",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4e6baf717bcfc33a11f9403c3c115e6c48aee42"><code>f4e6baf</code></a></td><td><code>fix + extra input check</code></td></tr></table>




---

archive/issue_comments_268881.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI don't claim to know the benefit of using Cython when all it does is pass the input to another Cython method. I just know it works the way I had intended it now.\n\nPerhaps I should change it back to just Python?",
    "created_at": "2017-06-10T22:00:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268881",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<div id="comment:10" align="right">comment:10</div>

I don't claim to know the benefit of using Cython when all it does is pass the input to another Cython method. I just know it works the way I had intended it now.

Perhaps I should change it back to just Python?



---

archive/issue_events_268267.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-10T22:12:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268267"
}
```



---

archive/issue_events_268268.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-10T22:12:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268268"
}
```



---

archive/issue_comments_268882.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI'll take this off \"needs review\" until we decide.",
    "created_at": "2017-06-10T22:12:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268882",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<div id="comment:11" align="right">comment:11</div>

I'll take this off "needs review" until we decide.



---

archive/issue_events_268269.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-10T23:57:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268269"
}
```



---

archive/issue_events_268270.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-10T23:57:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268270"
}
```



---

archive/issue_comments_268883.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAh, I see, right. Well, there is an advantage to only having C code paths (I would make `_union` simply a `cdef` method because it should only be called from `def union`). However, you are going to have to do a number of Python calls when constructing the `MatroidUnion`, so having an extra Python function call for a lightweight function will not really change much. Especially since this is not likely to be called in tight loops and if you really wanted the most speed, you would just directly construct `MatriodUnion` anyways. So there should only be a Python `def union` IMO.",
    "created_at": "2017-06-10T23:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268883",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

Ah, I see, right. Well, there is an advantage to only having C code paths (I would make `_union` simply a `cdef` method because it should only be called from `def union`). However, you are going to have to do a number of Python calls when constructing the `MatroidUnion`, so having an extra Python function call for a lightweight function will not really change much. Especially since this is not likely to be called in tight loops and if you really wanted the most speed, you would just directly construct `MatriodUnion` anyways. So there should only be a Python `def union` IMO.



---

archive/issue_events_268271.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-10T23:57:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268271"
}
```



---

archive/issue_events_268272.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-10T23:57:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268272"
}
```



---

archive/issue_comments_268884.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI think I have come around to Travis' point of view. Only a \"def union\" will do for this one. Sorry for making you do extra work.\n\n--Stefan.",
    "created_at": "2017-06-11T01:32:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268884",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:13" align="right">comment:13</div>

I think I have come around to Travis' point of view. Only a "def union" will do for this one. Sorry for making you do extra work.

--Stefan.



---

archive/issue_events_268273.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2017-06-11T01:32:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268273"
}
```



---

archive/issue_events_268274.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2017-06-11T01:32:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268274"
}
```



---

archive/issue_comments_268885.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e82b0ee2b16073076a071e5d68b2aa131686ebd2\"><code>e82b0ee</code></a></td><td><code>Reduced to one Python method; added theory</code></td></tr></table>\n",
    "created_at": "2017-06-11T02:39:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268885",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e82b0ee2b16073076a071e5d68b2aa131686ebd2"><code>e82b0ee</code></a></td><td><code>Reduced to one Python method; added theory</code></td></tr></table>




---

archive/issue_comments_268886.json:
```json
{
    "body": "Changed commit from **[`f4e6baf`](https://github.com/sagemath/sagetrac-mirror/commit/f4e6baf717bcfc33a11f9403c3c115e6c48aee42)** to **[`e82b0ee`](https://github.com/sagemath/sagetrac-mirror/commit/e82b0ee2b16073076a071e5d68b2aa131686ebd2)**",
    "created_at": "2017-06-11T02:39:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268886",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f4e6baf`](https://github.com/sagemath/sagetrac-mirror/commit/f4e6baf717bcfc33a11f9403c3c115e6c48aee42)** to **[`e82b0ee`](https://github.com/sagemath/sagetrac-mirror/commit/e82b0ee2b16073076a071e5d68b2aa131686ebd2)**



---

archive/issue_comments_268887.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/914cd88bf9f0105c30576482357608d83b4a29b1\"><code>914cd88</code></a></td><td><code>Whitespace issues</code></td></tr></table>\n",
    "created_at": "2017-06-11T02:43:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268887",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/914cd88bf9f0105c30576482357608d83b4a29b1"><code>914cd88</code></a></td><td><code>Whitespace issues</code></td></tr></table>




---

archive/issue_comments_268888.json:
```json
{
    "body": "Changed commit from **[`e82b0ee`](https://github.com/sagemath/sagetrac-mirror/commit/e82b0ee2b16073076a071e5d68b2aa131686ebd2)** to **[`914cd88`](https://github.com/sagemath/sagetrac-mirror/commit/914cd88bf9f0105c30576482357608d83b4a29b1)**",
    "created_at": "2017-06-11T02:43:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268888",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e82b0ee`](https://github.com/sagemath/sagetrac-mirror/commit/e82b0ee2b16073076a071e5d68b2aa131686ebd2)** to **[`914cd88`](https://github.com/sagemath/sagetrac-mirror/commit/914cd88bf9f0105c30576482357608d83b4a29b1)**



---

archive/issue_comments_268889.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nNo worries. It was a good learning experience.",
    "created_at": "2017-06-11T02:43:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268889",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<div id="comment:16" align="right">comment:16</div>

No worries. It was a good learning experience.



---

archive/issue_events_268275.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-11T02:43:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268275"
}
```



---

archive/issue_events_268276.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-11T02:43:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268276"
}
```



---

archive/issue_comments_268890.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nShould we have `M.union([]) == M`?",
    "created_at": "2017-06-11T02:47:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268890",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:17" align="right">comment:17</div>

Should we have `M.union([]) == M`?



---

archive/issue_comments_268891.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04e17b08cd846f78d113dcfa6bfc16d7c12000b2\"><code>04e17b0</code></a></td><td><code>Addressed case of empty list</code></td></tr></table>\n",
    "created_at": "2017-06-11T03:03:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268891",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04e17b08cd846f78d113dcfa6bfc16d7c12000b2"><code>04e17b0</code></a></td><td><code>Addressed case of empty list</code></td></tr></table>




---

archive/issue_comments_268892.json:
```json
{
    "body": "Changed commit from **[`914cd88`](https://github.com/sagemath/sagetrac-mirror/commit/914cd88bf9f0105c30576482357608d83b4a29b1)** to **[`04e17b0`](https://github.com/sagemath/sagetrac-mirror/commit/04e17b08cd846f78d113dcfa6bfc16d7c12000b2)**",
    "created_at": "2017-06-11T03:03:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268892",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`914cd88`](https://github.com/sagemath/sagetrac-mirror/commit/914cd88bf9f0105c30576482357608d83b4a29b1)** to **[`04e17b0`](https://github.com/sagemath/sagetrac-mirror/commit/04e17b08cd846f78d113dcfa6bfc16d7c12000b2)**



---

archive/issue_comments_268893.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nMakes sense to me.",
    "created_at": "2017-06-11T03:04:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268893",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<div id="comment:19" align="right">comment:19</div>

Makes sense to me.



---

archive/issue_comments_268894.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2017-06-11T23:10:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268894",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_268895.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThis is not correct:\n\n```diff\n-        if matroids = []:\n+        if matroids == []:\n```\nOnce that is changed and you fill in the author name, you can set a positive review on my behalf.",
    "created_at": "2017-06-11T23:10:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268895",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

This is not correct:

```diff
-        if matroids = []:
+        if matroids == []:
```
Once that is changed and you fill in the author name, you can set a positive review on my behalf.



---

archive/issue_events_268277.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-11T23:10:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268277"
}
```



---

archive/issue_events_268278.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-11T23:10:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268278"
}
```



---

archive/issue_comments_268896.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nActually, a better test is `if not matroids:` as it is both faster and covers inputs like `()`. This would also pick up the empty matroid, which is okay as the union with the empty matroid should also not change the matroid and `MatroidUnion` should behave the same as other matroids, right? There is a case to be made that the output type is always the same, but I'm not convinced by that here. If we did want to enforce that, we just need to move the `isinstance(matroids, Matroid)` check first before `if not matroids:`.",
    "created_at": "2017-06-11T23:19:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268896",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:21" align="right">comment:21</div>

Actually, a better test is `if not matroids:` as it is both faster and covers inputs like `()`. This would also pick up the empty matroid, which is okay as the union with the empty matroid should also not change the matroid and `MatroidUnion` should behave the same as other matroids, right? There is a case to be made that the output type is always the same, but I'm not convinced by that here. If we did want to enforce that, we just need to move the `isinstance(matroids, Matroid)` check first before `if not matroids:`.



---

archive/issue_comments_268897.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0841bb8f7c0bb5a216457465d1b6c0d88ec0ba6d\"><code>0841bb8</code></a></td><td><code>repaired check for empty matroid</code></td></tr></table>\n",
    "created_at": "2017-06-13T23:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268897",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0841bb8f7c0bb5a216457465d1b6c0d88ec0ba6d"><code>0841bb8</code></a></td><td><code>repaired check for empty matroid</code></td></tr></table>




---

archive/issue_comments_268898.json:
```json
{
    "body": "Changed commit from **[`04e17b0`](https://github.com/sagemath/sagetrac-mirror/commit/04e17b08cd846f78d113dcfa6bfc16d7c12000b2)** to **[`0841bb8`](https://github.com/sagemath/sagetrac-mirror/commit/0841bb8f7c0bb5a216457465d1b6c0d88ec0ba6d)**",
    "created_at": "2017-06-13T23:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268898",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`04e17b0`](https://github.com/sagemath/sagetrac-mirror/commit/04e17b08cd846f78d113dcfa6bfc16d7c12000b2)** to **[`0841bb8`](https://github.com/sagemath/sagetrac-mirror/commit/0841bb8f7c0bb5a216457465d1b6c0d88ec0ba6d)**



---

archive/issue_events_268279.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-13T23:08:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268279"
}
```



---

archive/issue_events_268280.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-13T23:08:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268280"
}
```



---

archive/issue_comments_268899.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThat will teach me to make a commit before testing it.\n\nI'm not getting expected behavior with `M.union([])` where `M` is a matroid (in particular, I used the Fano).\n\nYou can also fool this with a list of empty matroids. I can make it take empty matroids out of the list, but we may be getting diminishing returns with the sanitizing.",
    "created_at": "2017-06-13T23:08:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268899",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<div id="comment:23" align="right">comment:23</div>

That will teach me to make a commit before testing it.

I'm not getting expected behavior with `M.union([])` where `M` is a matroid (in particular, I used the Fano).

You can also fool this with a list of empty matroids. I can make it take empty matroids out of the list, but we may be getting diminishing returns with the sanitizing.



---

archive/issue_comments_268900.json:
```json
{
    "body": "Changed commit from **[`0841bb8`](https://github.com/sagemath/sagetrac-mirror/commit/0841bb8f7c0bb5a216457465d1b6c0d88ec0ba6d)** to **[`d074c91`](https://github.com/sagemath/sagetrac-mirror/commit/d074c917d7ce52d8383b56b33bc59786d5ccee4d)**",
    "created_at": "2017-06-14T04:23:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268900",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0841bb8`](https://github.com/sagemath/sagetrac-mirror/commit/0841bb8f7c0bb5a216457465d1b6c0d88ec0ba6d)** to **[`d074c91`](https://github.com/sagemath/sagetrac-mirror/commit/d074c917d7ce52d8383b56b33bc59786d5ccee4d)**



---

archive/issue_comments_268901.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d074c917d7ce52d8383b56b33bc59786d5ccee4d\"><code>d074c91</code></a></td><td><code>additional input sanitizing</code></td></tr></table>\n",
    "created_at": "2017-06-14T04:23:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268901",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d074c917d7ce52d8383b56b33bc59786d5ccee4d"><code>d074c91</code></a></td><td><code>additional input sanitizing</code></td></tr></table>




---

archive/issue_comments_268902.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7a9f133e2c46b312fde41ec00afd742073ca52e\"><code>a7a9f13</code></a></td><td><code>one such test is probably enough</code></td></tr></table>\n",
    "created_at": "2017-06-14T04:36:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268902",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7a9f133e2c46b312fde41ec00afd742073ca52e"><code>a7a9f13</code></a></td><td><code>one such test is probably enough</code></td></tr></table>




---

archive/issue_comments_268903.json:
```json
{
    "body": "Changed commit from **[`d074c91`](https://github.com/sagemath/sagetrac-mirror/commit/d074c917d7ce52d8383b56b33bc59786d5ccee4d)** to **[`a7a9f13`](https://github.com/sagemath/sagetrac-mirror/commit/a7a9f133e2c46b312fde41ec00afd742073ca52e)**",
    "created_at": "2017-06-14T04:36:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268903",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d074c91`](https://github.com/sagemath/sagetrac-mirror/commit/d074c917d7ce52d8383b56b33bc59786d5ccee4d)** to **[`a7a9f13`](https://github.com/sagemath/sagetrac-mirror/commit/a7a9f133e2c46b312fde41ec00afd742073ca52e)**



---

archive/issue_events_268281.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-14T04:39:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268281"
}
```



---

archive/issue_events_268282.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-14T04:39:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268282"
}
```



---

archive/issue_comments_268904.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@sagetrac-zgershkoff](#comment%3A23):\n> I'm not getting expected behavior with `M.union([])`\n\nSorry, this was wrong. An error on my part.\n\nI rewrote it to filter out empty matroids from a list. I also figured that the cost of adding an empty matroid to the list and then removing it was worth the simplicity of not performing the same check twice.",
    "created_at": "2017-06-14T04:39:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268904",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@sagetrac-zgershkoff](#comment%3A23):
> I'm not getting expected behavior with `M.union([])`

Sorry, this was wrong. An error on my part.

I rewrote it to filter out empty matroids from a list. I also figured that the cost of adding an empty matroid to the list and then removing it was worth the simplicity of not performing the same check twice.



---

archive/issue_comments_268905.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/acd1dc902b0f6ef21d8f645667b0942ab5b71919\"><code>acd1dc9</code></a></td><td><code>typo in documentation</code></td></tr></table>\n",
    "created_at": "2017-06-14T04:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268905",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/acd1dc902b0f6ef21d8f645667b0942ab5b71919"><code>acd1dc9</code></a></td><td><code>typo in documentation</code></td></tr></table>




---

archive/issue_comments_268906.json:
```json
{
    "body": "Changed commit from **[`a7a9f13`](https://github.com/sagemath/sagetrac-mirror/commit/a7a9f133e2c46b312fde41ec00afd742073ca52e)** to **[`acd1dc9`](https://github.com/sagemath/sagetrac-mirror/commit/acd1dc902b0f6ef21d8f645667b0942ab5b71919)**",
    "created_at": "2017-06-14T04:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268906",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a7a9f13`](https://github.com/sagemath/sagetrac-mirror/commit/a7a9f133e2c46b312fde41ec00afd742073ca52e)** to **[`acd1dc9`](https://github.com/sagemath/sagetrac-mirror/commit/acd1dc902b0f6ef21d8f645667b0942ab5b71919)**



---

archive/issue_comments_268907.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nOne last thing, we don't typically write error messages as full sentences:\n\n```diff\n-                    raise TypeError(\"Can only take the union with a \"\n-                                     + \"matroid or list of matroids.\")\n+                    raise TypeError(\"can only take the union with a \"\n+                                     + \"matroid or list of matroids\")\n```\nOnce you make that change and add your real name to the authors, you can set a positive review on my behalf.",
    "created_at": "2017-06-17T04:29:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268907",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">comment:28</div>

One last thing, we don't typically write error messages as full sentences:

```diff
-                    raise TypeError("Can only take the union with a "
-                                     + "matroid or list of matroids.")
+                    raise TypeError("can only take the union with a "
+                                     + "matroid or list of matroids")
```
Once you make that change and add your real name to the authors, you can set a positive review on my behalf.



---

archive/issue_comments_268908.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed08f729043c0db7709fc9b38bb1dde17804f15f\"><code>ed08f72</code></a></td><td><code>changing error message to fit conventions</code></td></tr></table>\n",
    "created_at": "2017-06-17T19:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268908",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed08f729043c0db7709fc9b38bb1dde17804f15f"><code>ed08f72</code></a></td><td><code>changing error message to fit conventions</code></td></tr></table>




---

archive/issue_comments_268909.json:
```json
{
    "body": "Changed commit from **[`acd1dc9`](https://github.com/sagemath/sagetrac-mirror/commit/acd1dc902b0f6ef21d8f645667b0942ab5b71919)** to **[`ed08f72`](https://github.com/sagemath/sagetrac-mirror/commit/ed08f729043c0db7709fc9b38bb1dde17804f15f)**",
    "created_at": "2017-06-17T19:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268909",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`acd1dc9`](https://github.com/sagemath/sagetrac-mirror/commit/acd1dc902b0f6ef21d8f645667b0942ab5b71919)** to **[`ed08f72`](https://github.com/sagemath/sagetrac-mirror/commit/ed08f729043c0db7709fc9b38bb1dde17804f15f)**



---

archive/issue_events_268283.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-17T19:28:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268283"
}
```



---

archive/issue_events_268284.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-17T19:28:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268284"
}
```



---

archive/issue_comments_268910.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nDone.",
    "created_at": "2017-06-17T19:28:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268910",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<div id="comment:30" align="right">comment:30</div>

Done.



---

archive/issue_comments_268911.json:
```json
{
    "body": "Author: **Zachary Gershkoff**",
    "created_at": "2017-06-17T19:28:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268911",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

Author: **Zachary Gershkoff**



---

archive/issue_comments_268912.json:
```json
{
    "body": "Changed branch from **[u/zgershkoff/expose_matroid_sum_and_matroid_union_to_end_users](https://github.com/sagemath/sagetrac-mirror/tree/u/zgershkoff/expose_matroid_sum_and_matroid_union_to_end_users)** to **[`ed08f72`](https://github.com/sagemath/sagetrac-mirror/commit/ed08f729043c0db7709fc9b38bb1dde17804f15f)**",
    "created_at": "2017-06-22T07:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268912",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/zgershkoff/expose_matroid_sum_and_matroid_union_to_end_users](https://github.com/sagemath/sagetrac-mirror/tree/u/zgershkoff/expose_matroid_sum_and_matroid_union_to_end_users)** to **[`ed08f72`](https://github.com/sagemath/sagetrac-mirror/commit/ed08f729043c0db7709fc9b38bb1dde17804f15f)**



---

archive/issue_events_268285.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-22T07:23:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268285"
}
```



---

archive/issue_events_268286.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f09bdfae3557805c4c6cbd1b0d656a476f9478ac",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-06-22T07:23:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19069#event-268286"
}
```



---

archive/issue_comments_268913.json:
```json
{
    "body": "Changed author from **Zachary Gershkoff** to **Zach Gershkoff**",
    "created_at": "2017-10-24T15:10:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268913",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Zachary Gershkoff** to **Zach Gershkoff**



---

archive/issue_comments_268914.json:
```json
{
    "body": "Changed commit from **[`ed08f72`](https://github.com/sagemath/sagetrac-mirror/commit/ed08f729043c0db7709fc9b38bb1dde17804f15f)** to none",
    "created_at": "2017-10-24T15:10:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19069#issuecomment-268914",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`ed08f72`](https://github.com/sagemath/sagetrac-mirror/commit/ed08f729043c0db7709fc9b38bb1dde17804f15f)** to none
