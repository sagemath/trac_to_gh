# Issue 19249: Interface with TdLib

archive/issues_019012.json:
```json
{
    "assignees": [],
    "body": "    Interface for tdlib, a library concerning treedecompositions\n    \n    Containes the glue-code for\n- an exact algorithms for computing a treedecomposition/the treewidth of a graph\n\n**Upstream**: [http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.gz](http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.gz)\n\nCC:  @dcoudert\n\nBranch/Commit: **[`0308199`](https://github.com/sagemath/sagetrac-mirror/commit/030819926c0e666d6bef48674493a34dd6732b60)**\n\nReviewer: **Nathann Cohen**\n\nAuthor: **Lukas Larisch**\n\nComponent: **packages: experimental**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19249_\n\n",
    "closed_at": "2015-11-21T00:31:07Z",
    "created_at": "2015-09-19T23:03:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Interface with TdLib",
    "type": "issue",
    "updated_at": "2015-11-21T00:31:07Z",
    "url": "https://github.com/sagemath/sage/issues/19249",
    "user": "https://github.com/sagetrac-llarisch"
}
```
    Interface for tdlib, a library concerning treedecompositions
    
    Containes the glue-code for
- an exact algorithms for computing a treedecomposition/the treewidth of a graph

**Upstream**: [http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.gz](http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.gz)

CC:  @dcoudert

Branch/Commit: **[`0308199`](https://github.com/sagemath/sagetrac-mirror/commit/030819926c0e666d6bef48674493a34dd6732b60)**

Reviewer: **Nathann Cohen**

Author: **Lukas Larisch**

Component: **packages: experimental**

_Issue created by migration from https://trac.sagemath.org/ticket/19249_





---

archive/issue_events_274505.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-09-19T23:03:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274505"
}
```



---

archive/issue_events_274506.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-09-19T23:03:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274506"
}
```



---

archive/issue_events_274507.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-09-19T23:27:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274507"
}
```



---

archive/issue_events_274508.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-09-19T23:27:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
    "label_color": "000080",
    "label_name": "c: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274508"
}
```



---

archive/issue_events_274509.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-09-19T23:27:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274509"
}
```



---

archive/issue_events_274510.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-09-19T23:27:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274510"
}
```



---

archive/issue_comments_272913.json:
```json
{
    "body": "Branch: **[u/llarisch/interface_with_tdlib](https://github.com/sagemath/sagetrac-mirror/tree/u/llarisch/interface_with_tdlib)**",
    "created_at": "2015-09-19T23:32:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272913",
    "user": "https://github.com/sagetrac-llarisch"
}
```

Branch: **[u/llarisch/interface_with_tdlib](https://github.com/sagemath/sagetrac-mirror/tree/u/llarisch/interface_with_tdlib)**



---

archive/issue_comments_272914.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a6b47bd07da2a52d66439ba977ee31e832cf219\"><code>6a6b47b</code></a></td><td><code>Interface with TdLib, a library concerning treedecompositions</code></td></tr></table>\n",
    "created_at": "2015-09-19T23:35:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272914",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a6b47bd07da2a52d66439ba977ee31e832cf219"><code>6a6b47b</code></a></td><td><code>Interface with TdLib, a library concerning treedecompositions</code></td></tr></table>




---

archive/issue_comments_272915.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,8 @@\n+    Interface for tdlib, a library concerning treedecompositions\n+    \n+    Containes the glue-code for\n+- treewidth-lower bound algorithms\n+- heuristics for computing treedecompositions\n+- exact algorithms for computing a treedecomposition/the treewidth of a graph\n+- the seperator-algorithm (4-approximate)\n \n``````\n",
    "created_at": "2015-09-19T23:35:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272915",
    "user": "https://github.com/sagetrac-llarisch"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,8 @@
+    Interface for tdlib, a library concerning treedecompositions
+    
+    Containes the glue-code for
+- treewidth-lower bound algorithms
+- heuristics for computing treedecompositions
+- exact algorithms for computing a treedecomposition/the treewidth of a graph
+- the seperator-algorithm (4-approximate)
 
``````




---

archive/issue_comments_272916.json:
```json
{
    "body": "Commit: **[`6a6b47b`](https://github.com/sagemath/sagetrac-mirror/commit/6a6b47bd07da2a52d66439ba977ee31e832cf219)**",
    "created_at": "2015-09-19T23:35:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272916",
    "user": "https://github.com/sagetrac-llarisch"
}
```

Commit: **[`6a6b47b`](https://github.com/sagemath/sagetrac-mirror/commit/6a6b47bd07da2a52d66439ba977ee31e832cf219)**



---

archive/issue_comments_272917.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHello,\n\nThis looks very nice indeed, but because I expect the review to be rather long in this case, it would probably be best to start by exposing a reduced amount of features from your library. A general function to compute the treewidth exactly, for instance, would be ideal as we would be able to compare its output with what we already have (which is *slow*).\n\nFor a start, I guess that some things should be done directly in your library: is it necessary to have Sage apply a patch to it? Is there a reason why what your patch does cannot already be included in your code?\n\nYour makefile appears to be manual, and it would probably be best to have it created by autotools. I had to learn this not so long ago and I found it rather painful to learn, but the purpose is to make sure that your code will compile everywhere, so that you do not need to test every platform manually. I can probably help with that, as well as send you a pdf book that helped me a lot while learning it.\n\nFinally, I am not sure if you are aware that you can have C instructions in a 'def' function of a cython file. I see that you have several `cdef cython_<something>` functions with a `def <something>` couterpart, and there is no technical reason to do that. If you have another reason for doing this, then consider this remark as an mistake from my part.\n\nIs your code available on some web page? Is there a public repository for it? Are you the only author? Are there theoretical publications related to it? This kind of information would be interesting to us, and is expected to be found in a SPKG.txt file.\n\nhttp://doc.sagemath.org/html/en/developer/packaging.html#the-spkg-txt-file\n\nRegards,\n\nNathann",
    "created_at": "2015-09-20T12:50:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272917",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:4" align="right">comment:4</div>

Hello,

This looks very nice indeed, but because I expect the review to be rather long in this case, it would probably be best to start by exposing a reduced amount of features from your library. A general function to compute the treewidth exactly, for instance, would be ideal as we would be able to compare its output with what we already have (which is *slow*).

For a start, I guess that some things should be done directly in your library: is it necessary to have Sage apply a patch to it? Is there a reason why what your patch does cannot already be included in your code?

Your makefile appears to be manual, and it would probably be best to have it created by autotools. I had to learn this not so long ago and I found it rather painful to learn, but the purpose is to make sure that your code will compile everywhere, so that you do not need to test every platform manually. I can probably help with that, as well as send you a pdf book that helped me a lot while learning it.

Finally, I am not sure if you are aware that you can have C instructions in a 'def' function of a cython file. I see that you have several `cdef cython_<something>` functions with a `def <something>` couterpart, and there is no technical reason to do that. If you have another reason for doing this, then consider this remark as an mistake from my part.

Is your code available on some web page? Is there a public repository for it? Are you the only author? Are there theoretical publications related to it? This kind of information would be interesting to us, and is expected to be found in a SPKG.txt file.

http://doc.sagemath.org/html/en/developer/packaging.html#the-spkg-txt-file

Regards,

Nathann



---

archive/issue_comments_272918.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0beb7e2f63496e8a3cb3e210ed519e9445862fa5\"><code>0beb7e2</code></a></td><td><code>reduced functionality</code></td></tr></table>\n",
    "created_at": "2015-09-24T14:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272918",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0beb7e2f63496e8a3cb3e210ed519e9445862fa5"><code>0beb7e2</code></a></td><td><code>reduced functionality</code></td></tr></table>




---

archive/issue_comments_272919.json:
```json
{
    "body": "Changed commit from **[`6a6b47b`](https://github.com/sagemath/sagetrac-mirror/commit/6a6b47bd07da2a52d66439ba977ee31e832cf219)** to **[`0beb7e2`](https://github.com/sagemath/sagetrac-mirror/commit/0beb7e2f63496e8a3cb3e210ed519e9445862fa5)**",
    "created_at": "2015-09-24T14:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272919",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6a6b47b`](https://github.com/sagemath/sagetrac-mirror/commit/6a6b47bd07da2a52d66439ba977ee31e832cf219)** to **[`0beb7e2`](https://github.com/sagemath/sagetrac-mirror/commit/0beb7e2f63496e8a3cb3e210ed519e9445862fa5)**



---

archive/issue_comments_272920.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nWhile testing my version of an exact algorithm for treewidth against the sage version, i noticed that the sage version doesnt work: it is NOT sufficient to just consider the neighbourhood of computed cut. Counterexample:\n\nG = Graph()\nG.add_vertex(0)\nG.add_vertex(1)\nG.add_vertex(2)\nG.add_vertex(3)\nG.add_vertex(4)\nG.add_vertex(5)\nG.add_vertex(6)\nG.add_vertex(7)\nG.add_vertex(8)\nG.add_edge(0,2)\nG.add_edge(0,3)\nG.add_edge(0,5)\nG.add_edge(0,6)\nG.add_edge(1,4)\nG.add_edge(1,8)\nG.add_edge(2,8)\nG.add_edge(3,4)\nG.add_edge(4,5)\nG.add_edge(4,7)\nG.add_edge(6,8)\nG.add_edge(7,8)\nG.treewidth()\n\nBut G has treewidth 2. (you possibly have to change the vertex labeling to see the error).",
    "created_at": "2015-10-03T16:56:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272920",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:6" align="right">comment:6</div>

While testing my version of an exact algorithm for treewidth against the sage version, i noticed that the sage version doesnt work: it is NOT sufficient to just consider the neighbourhood of computed cut. Counterexample:

G = Graph()
G.add_vertex(0)
G.add_vertex(1)
G.add_vertex(2)
G.add_vertex(3)
G.add_vertex(4)
G.add_vertex(5)
G.add_vertex(6)
G.add_vertex(7)
G.add_vertex(8)
G.add_edge(0,2)
G.add_edge(0,3)
G.add_edge(0,5)
G.add_edge(0,6)
G.add_edge(1,4)
G.add_edge(1,8)
G.add_edge(2,8)
G.add_edge(3,4)
G.add_edge(4,5)
G.add_edge(4,7)
G.add_edge(6,8)
G.add_edge(7,8)
G.treewidth()

But G has treewidth 2. (you possibly have to change the vertex labeling to see the error).



---

archive/issue_comments_272921.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nRight, this graph clearly has width 2 `O_o`",
    "created_at": "2015-10-03T16:59:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272921",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

Right, this graph clearly has width 2 `O_o`



---

archive/issue_comments_272922.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@nathanncohen](#comment:7):\n> Right, this graph clearly has width 2 `O_o`\n\nAnd the error can be arbitrary bad. One can construct a graph, such that a cut is not connected in a graph and has to be included in a bag of a tree decomposition. Here it is {0,4,8}.",
    "created_at": "2015-10-03T17:21:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272922",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@nathanncohen](#comment:7):
> Right, this graph clearly has width 2 `O_o`

And the error can be arbitrary bad. One can construct a graph, such that a cut is not connected in a graph and has to be included in a bag of a tree decomposition. Here it is {0,4,8}.



---

archive/issue_comments_272923.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0bfdb9c20ce0c72b0c8143234d12c6d05cfa3bc\"><code>f0bfdb9</code></a></td><td><code>small enhancements</code></td></tr></table>\n",
    "created_at": "2015-10-04T02:47:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272923",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0bfdb9c20ce0c72b0c8143234d12c6d05cfa3bc"><code>f0bfdb9</code></a></td><td><code>small enhancements</code></td></tr></table>




---

archive/issue_comments_272924.json:
```json
{
    "body": "Changed commit from **[`0beb7e2`](https://github.com/sagemath/sagetrac-mirror/commit/0beb7e2f63496e8a3cb3e210ed519e9445862fa5)** to **[`f0bfdb9`](https://github.com/sagemath/sagetrac-mirror/commit/f0bfdb9c20ce0c72b0c8143234d12c6d05cfa3bc)**",
    "created_at": "2015-10-04T02:47:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272924",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0beb7e2`](https://github.com/sagemath/sagetrac-mirror/commit/0beb7e2f63496e8a3cb3e210ed519e9445862fa5)** to **[`f0bfdb9`](https://github.com/sagemath/sagetrac-mirror/commit/f0bfdb9c20ce0c72b0c8143234d12c6d05cfa3bc)**



---

archive/issue_comments_272925.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n>For a start, I guess that some things should be done directly in your library: is it necessary to >have Sage apply a patch to it? Is there a reason why what your patch does cannot already be >included in your code?\n\nI have to instantiante template functions and convert a \"sage graph\" to a boost graph.\n\n>Your makefile appears to be manual, and it would probably be best to have it created by autotools. >I had to learn this not so long ago and I found it rather painful to learn, but the purpose is to >make sure that your code will compile everywhere, so that you do not need to test every platform >manually. I can probably help with that, as well as send you a pdf book that helped me a lot while >learning it.\n\nIs there a minimal example for that? \n\nThe \"tdlib\"-part of the documentation has failed to build (UNABLE TO IMPORT MODULE): Is there some import-statement missing? What can be the reasons (its not the content of the *.pyx-file)?",
    "created_at": "2015-10-04T02:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272925",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:10" align="right">comment:10</div>

>For a start, I guess that some things should be done directly in your library: is it necessary to >have Sage apply a patch to it? Is there a reason why what your patch does cannot already be >included in your code?

I have to instantiante template functions and convert a "sage graph" to a boost graph.

>Your makefile appears to be manual, and it would probably be best to have it created by autotools. >I had to learn this not so long ago and I found it rather painful to learn, but the purpose is to >make sure that your code will compile everywhere, so that you do not need to test every platform >manually. I can probably help with that, as well as send you a pdf book that helped me a lot while >learning it.

Is there a minimal example for that? 

The "tdlib"-part of the documentation has failed to build (UNABLE TO IMPORT MODULE): Is there some import-statement missing? What can be the reasons (its not the content of the *.pyx-file)?



---

archive/issue_comments_272926.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n> I have to instantiante template functions and convert a \"sage graph\" to a boost graph.\n\nI still believe that you can do it without patching your code. Let your code deal with boost graphs only, and let Sage only call it on Boost instances (see sage/graphs/base/boost_graph.pyx). This issue should not be a reason to patch your library.\n\n> >Your makefile appears to be manual, and it would probably be best to have it created by autotools. >I had to learn this not so long ago and I found it rather painful to learn, but the purpose is to >make sure that your code will compile everywhere, so that you do not need to test every platform >manually. I can probably help with that, as well as send you a pdf book that helped me a lot while >learning it.\n\n> \n> Is there a minimal example for that? \n\nAll over internet. One that was done recently for Sage is there:\nhttps://github.com/graph-algorithms/edge-addition-planarity-suite\n\n> The \"tdlib\"-part of the documentation has failed to build (UNABLE TO IMPORT MODULE): Is there some import-statement missing? What can be the reasons (its not the content of the *.pyx-file)?\n\nProbably something like that:\nhttp://doc.sagemath.org/html/en/developer/sage_manuals.html#adding-a-new-file\n\nNathann",
    "created_at": "2015-10-04T05:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272926",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">comment:11</div>

> I have to instantiante template functions and convert a "sage graph" to a boost graph.

I still believe that you can do it without patching your code. Let your code deal with boost graphs only, and let Sage only call it on Boost instances (see sage/graphs/base/boost_graph.pyx). This issue should not be a reason to patch your library.

> >Your makefile appears to be manual, and it would probably be best to have it created by autotools. >I had to learn this not so long ago and I found it rather painful to learn, but the purpose is to >make sure that your code will compile everywhere, so that you do not need to test every platform >manually. I can probably help with that, as well as send you a pdf book that helped me a lot while >learning it.

> 
> Is there a minimal example for that? 

All over internet. One that was done recently for Sage is there:
https://github.com/graph-algorithms/edge-addition-planarity-suite

> The "tdlib"-part of the documentation has failed to build (UNABLE TO IMPORT MODULE): Is there some import-statement missing? What can be the reasons (its not the content of the *.pyx-file)?

Probably something like that:
http://doc.sagemath.org/html/en/developer/sage_manuals.html#adding-a-new-file

Nathann



---

archive/issue_comments_272927.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nOr, otherwise, because you should import your module like others, as it is done in all.py?",
    "created_at": "2015-10-04T05:47:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272927",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:12" align="right">comment:12</div>

Or, otherwise, because you should import your module like others, as it is done in all.py?



---

archive/issue_comments_272928.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nIs there a way to generate a boost graph with an appended struct? I've seen that\n\nctypedef BoostGraph[vecS, vecS, undirectedS,    vecS, EdgeWeight] BoostVecWeightedGraph\n\nexists, but I would need:\n\nctypedef BoostGraph[vecS, vecS, undirectedS,    vecS, X] BG,\n\nsuch that X is a vertex property. Is there a (not too complicated) way to realize this?",
    "created_at": "2015-10-04T20:06:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272928",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:13" align="right">comment:13</div>

Is there a way to generate a boost graph with an appended struct? I've seen that

ctypedef BoostGraph[vecS, vecS, undirectedS,    vecS, EdgeWeight] BoostVecWeightedGraph

exists, but I would need:

ctypedef BoostGraph[vecS, vecS, undirectedS,    vecS, X] BG,

such that X is a vertex property. Is there a (not too complicated) way to realize this?



---

archive/issue_comments_272929.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI do not know of one.",
    "created_at": "2015-10-04T20:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272929",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

I do not know of one.



---

archive/issue_comments_272930.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@nathanncohen](#comment:14):\n> I do not know of one.\n\nIn this case, the patches are inevitable (treedecompositions are boost graphs with a set as a vertex property). I could merely displace some graph conversion stuff into the library.. \n\n---\n\nDoes automake cp & rm files automatically? If this is the case: which flags have to be passed to autoconfig on the sage side in spkg-install? So far:\n\n\n```\nAC_INIT(tdlib, larisch@informatik.uni-frankfurt.de)\nAM_INIT_AUTOMAKE([subdir-objects] [foreign])\n\n# The version of the libtool library is of the form current:revision:age\n#\n# See http://www.gnu.org/software/libtool/manual/html_node/Updating-version-info.html\n#\n# When doing a release, they should be updated like this:\n# 1. If no interfaces changed, only implementations: just increment\n# revision.\n# 2. If interfaces were added, none removed: increment current, set\n# revision to zero and increment age.\n# 3. If interfaces were removed (breaks backward compatibility): increment\n# current, and set both revision and age to zero.\nLT_CURRENT=0\nLT_REVISION=0\nLT_AGE=0\nAC_SUBST(LT_CURRENT)\nAC_SUBST(LT_REVISION)\nAC_SUBST(LT_AGE)\n\nAC_PROG_CXX\nAC_PROG_LIBTOOL\nAC_PROG_INSTALL\n\nCXXFLAGS=\"-O3\"\n\nAC_OUTPUT(Makefile)\n```\n\n\n```\nlib_LTLIBRARIES = libtd.la\n\nlibtd_la_SOURCES = sage_tdlib.cpp\nlibtd_la_LDFLAGS = $(AM_LDFLAGS) -version-info @LT_CURRENT@:@LT_REVISION@:@LT_AGE@\n```",
    "created_at": "2015-10-04T20:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272930",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@nathanncohen](#comment:14):
> I do not know of one.

In this case, the patches are inevitable (treedecompositions are boost graphs with a set as a vertex property). I could merely displace some graph conversion stuff into the library.. 

---

Does automake cp & rm files automatically? If this is the case: which flags have to be passed to autoconfig on the sage side in spkg-install? So far:


```
AC_INIT(tdlib, larisch@informatik.uni-frankfurt.de)
AM_INIT_AUTOMAKE([subdir-objects] [foreign])

# The version of the libtool library is of the form current:revision:age
#
# See http://www.gnu.org/software/libtool/manual/html_node/Updating-version-info.html
#
# When doing a release, they should be updated like this:
# 1. If no interfaces changed, only implementations: just increment
# revision.
# 2. If interfaces were added, none removed: increment current, set
# revision to zero and increment age.
# 3. If interfaces were removed (breaks backward compatibility): increment
# current, and set both revision and age to zero.
LT_CURRENT=0
LT_REVISION=0
LT_AGE=0
AC_SUBST(LT_CURRENT)
AC_SUBST(LT_REVISION)
AC_SUBST(LT_AGE)

AC_PROG_CXX
AC_PROG_LIBTOOL
AC_PROG_INSTALL

CXXFLAGS="-O3"

AC_OUTPUT(Makefile)
```


```
lib_LTLIBRARIES = libtd.la

libtd_la_SOURCES = sage_tdlib.cpp
libtd_la_LDFLAGS = $(AM_LDFLAGS) -version-info @LT_CURRENT@:@LT_REVISION@:@LT_AGE@
```



---

archive/issue_comments_272931.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n> In this case, the patches are inevitable (treedecompositions are boost graphs with a set as a vertex property). I could merely displace some graph conversion stuff into the library.. \n\nYes. Your library has no reason to be able to handle Sage graph, so just write Sage code to call it with the kind of graph that it expects.\n\n> Does automake cp & rm files automatically? If this is the case: which flags have to be passed to autoconfig on the sage side in spkg-install? So far:\n\nI do not understand this question.\n\nNathann",
    "created_at": "2015-10-04T21:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272931",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

> In this case, the patches are inevitable (treedecompositions are boost graphs with a set as a vertex property). I could merely displace some graph conversion stuff into the library.. 

Yes. Your library has no reason to be able to handle Sage graph, so just write Sage code to call it with the kind of graph that it expects.

> Does automake cp & rm files automatically? If this is the case: which flags have to be passed to autoconfig on the sage side in spkg-install? So far:

I do not understand this question.

Nathann



---

archive/issue_comments_272932.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nHello,,\n\n> While testing my version of an exact algorithm for treewidth against the sage version, i noticed that the sage version doesnt work: it is NOT sufficient to just consider the neighbourhood of computed cut. Counterexample:\n\nThank you very much for this bug report. It has been fixed in #19358 (needs_review).\n\nNathann",
    "created_at": "2015-10-05T20:09:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272932",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:17" align="right">comment:17</div>

Hello,,

> While testing my version of an exact algorithm for treewidth against the sage version, i noticed that the sage version doesnt work: it is NOT sufficient to just consider the neighbourhood of computed cut. Counterexample:

Thank you very much for this bug report. It has been fixed in #19358 (needs_review).

Nathann



---

archive/issue_comments_272933.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7aa88c6dba8422d3a938b712873c43b2b9a0fff\"><code>a7aa88c</code></a></td><td><code>new build-system</code></td></tr></table>\n",
    "created_at": "2015-10-29T16:16:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272933",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7aa88c6dba8422d3a938b712873c43b2b9a0fff"><code>a7aa88c</code></a></td><td><code>new build-system</code></td></tr></table>




---

archive/issue_comments_272934.json:
```json
{
    "body": "Changed commit from **[`f0bfdb9`](https://github.com/sagemath/sagetrac-mirror/commit/f0bfdb9c20ce0c72b0c8143234d12c6d05cfa3bc)** to **[`a7aa88c`](https://github.com/sagemath/sagetrac-mirror/commit/a7aa88c6dba8422d3a938b712873c43b2b9a0fff)**",
    "created_at": "2015-10-29T16:16:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272934",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f0bfdb9`](https://github.com/sagemath/sagetrac-mirror/commit/f0bfdb9c20ce0c72b0c8143234d12c6d05cfa3bc)** to **[`a7aa88c`](https://github.com/sagemath/sagetrac-mirror/commit/a7aa88c6dba8422d3a938b712873c43b2b9a0fff)**



---

archive/issue_events_274511.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-10-29T16:35:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274511"
}
```



---

archive/issue_events_274512.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-10-29T16:35:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274512"
}
```



---

archive/issue_events_274513.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-10-29T16:35:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274513"
}
```



---

archive/issue_events_274514.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-29T20:30:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274514"
}
```



---

archive/issue_events_274515.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-29T20:30:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274515"
}
```



---

archive/issue_comments_272935.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nSome technical points: the source tarball is *not* meant to be committed, you should just provide a link on this ticket (or attach it to this ticket).\n\nSecond, can you write to upstream about the autotools-based build system? Ideally, it should be added to upstream instead of Sage.\n\nThird, autotools is not part of Sage: you must not run `autogen.sh` in `spkg-install`. If upstream does not want autotools, then you should put the autotools-based build system in the source tarball directly (both the autotools source files and the generated files).",
    "created_at": "2015-10-29T20:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272935",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Some technical points: the source tarball is *not* meant to be committed, you should just provide a link on this ticket (or attach it to this ticket).

Second, can you write to upstream about the autotools-based build system? Ideally, it should be added to upstream instead of Sage.

Third, autotools is not part of Sage: you must not run `autogen.sh` in `spkg-install`. If upstream does not want autotools, then you should put the autotools-based build system in the source tarball directly (both the autotools source files and the generated files).



---

archive/issue_comments_272936.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nTwo more details:\n\n1. Unfortunately you cannot add the `tdlib` module to the documentation, since we currently do not support \"optional\" documentation.\n\n2. Please undo the added whitespace to `module_list.py`.",
    "created_at": "2015-10-29T20:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272936",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Two more details:

1. Unfortunately you cannot add the `tdlib` module to the documentation, since we currently do not support "optional" documentation.

2. Please undo the added whitespace to `module_list.py`.



---

archive/issue_comments_272937.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nAlso, is there any reason that you have the file `sage_tdlib.hpp` twice? Surely, one time is enough. I even think that zero times is enough if you move the `.cpp` file to the Sage library and use [http://docs.cython.org/src/userguide/external_C_code.html#implementing-functions-in-c](http://docs.cython.org/src/userguide/external_C_code.html#implementing-functions-in-c)",
    "created_at": "2015-10-29T20:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272937",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

Also, is there any reason that you have the file `sage_tdlib.hpp` twice? Surely, one time is enough. I even think that zero times is enough if you move the `.cpp` file to the Sage library and use [http://docs.cython.org/src/userguide/external_C_code.html#implementing-functions-in-c](http://docs.cython.org/src/userguide/external_C_code.html#implementing-functions-in-c)



---

archive/issue_comments_272938.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nCould you remove the compiled libraries from the hidden directory .lib of your archive?",
    "created_at": "2015-10-30T09:30:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272938",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:23" align="right">comment:23</div>

Could you remove the compiled libraries from the hidden directory .lib of your archive?



---

archive/issue_comments_272939.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d661cb6b80fdd38506b5e52eb0a9f638ea6937ff\"><code>d661cb6</code></a></td><td><code>- removed entry in the doc</code></td></tr></table>\n",
    "created_at": "2015-10-30T15:41:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272939",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d661cb6b80fdd38506b5e52eb0a9f638ea6937ff"><code>d661cb6</code></a></td><td><code>- removed entry in the doc</code></td></tr></table>




---

archive/issue_comments_272940.json:
```json
{
    "body": "Changed commit from **[`a7aa88c`](https://github.com/sagemath/sagetrac-mirror/commit/a7aa88c6dba8422d3a938b712873c43b2b9a0fff)** to **[`d661cb6`](https://github.com/sagemath/sagetrac-mirror/commit/d661cb6b80fdd38506b5e52eb0a9f638ea6937ff)**",
    "created_at": "2015-10-30T15:41:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272940",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a7aa88c`](https://github.com/sagemath/sagetrac-mirror/commit/a7aa88c6dba8422d3a938b712873c43b2b9a0fff)** to **[`d661cb6`](https://github.com/sagemath/sagetrac-mirror/commit/d661cb6b80fdd38506b5e52eb0a9f638ea6937ff)**



---

archive/issue_comments_272941.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/140dde4d24f9cb25d227fda56abc46f0cdb3acc0\"><code>140dde4</code></a></td><td><code>reduced functionality</code></td></tr></table>\n",
    "created_at": "2015-10-30T15:45:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272941",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/140dde4d24f9cb25d227fda56abc46f0cdb3acc0"><code>140dde4</code></a></td><td><code>reduced functionality</code></td></tr></table>




---

archive/issue_comments_272942.json:
```json
{
    "body": "Changed commit from **[`d661cb6`](https://github.com/sagemath/sagetrac-mirror/commit/d661cb6b80fdd38506b5e52eb0a9f638ea6937ff)** to **[`140dde4`](https://github.com/sagemath/sagetrac-mirror/commit/140dde4d24f9cb25d227fda56abc46f0cdb3acc0)**",
    "created_at": "2015-10-30T15:45:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272942",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d661cb6`](https://github.com/sagemath/sagetrac-mirror/commit/d661cb6b80fdd38506b5e52eb0a9f638ea6937ff)** to **[`140dde4`](https://github.com/sagemath/sagetrac-mirror/commit/140dde4d24f9cb25d227fda56abc46f0cdb3acc0)**



---

archive/issue_comments_272943.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11f4521077b4f6cd5d2c9ec1cca8e2ccc4a8dfdc\"><code>11f4521</code></a></td><td><code>updated upstream contract</code></td></tr></table>\n",
    "created_at": "2015-10-30T15:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272943",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11f4521077b4f6cd5d2c9ec1cca8e2ccc4a8dfdc"><code>11f4521</code></a></td><td><code>updated upstream contract</code></td></tr></table>




---

archive/issue_comments_272944.json:
```json
{
    "body": "Changed commit from **[`140dde4`](https://github.com/sagemath/sagetrac-mirror/commit/140dde4d24f9cb25d227fda56abc46f0cdb3acc0)** to **[`11f4521`](https://github.com/sagemath/sagetrac-mirror/commit/11f4521077b4f6cd5d2c9ec1cca8e2ccc4a8dfdc)**",
    "created_at": "2015-10-30T15:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272944",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`140dde4`](https://github.com/sagemath/sagetrac-mirror/commit/140dde4d24f9cb25d227fda56abc46f0cdb3acc0)** to **[`11f4521`](https://github.com/sagemath/sagetrac-mirror/commit/11f4521077b4f6cd5d2c9ec1cca8e2ccc4a8dfdc)**



---

archive/issue_comments_272945.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nJust to be sure: The upstream tarballs are just copies of \"original tarballs\" and will be downloaded from sage mirrors?",
    "created_at": "2015-10-30T15:59:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272945",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:27" align="right">comment:27</div>

Just to be sure: The upstream tarballs are just copies of "original tarballs" and will be downloaded from sage mirrors?



---

archive/issue_comments_272946.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\n> Just to be sure: The upstream tarballs are just copies of \"original tarballs\" and will be downloaded from sage mirrors? \n\nIndeed. And when the original (aka 'upstream') tarball is updated (and if we want this update to be reflected in Sage) then we must open a ticket to update it. That's the workflow nowadays.\n\nNathann",
    "created_at": "2015-10-30T16:01:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272946",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:28" align="right">comment:28</div>

> Just to be sure: The upstream tarballs are just copies of "original tarballs" and will be downloaded from sage mirrors? 

Indeed. And when the original (aka 'upstream') tarball is updated (and if we want this update to be reflected in Sage) then we must open a ticket to update it. That's the workflow nowadays.

Nathann



---

archive/issue_comments_272947.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9bc9d3d4bc5f8490a19bb574a2861ccb31cfb5bd\"><code>9bc9d3d</code></a></td><td><code>rm tarball</code></td></tr></table>\n",
    "created_at": "2015-10-30T16:28:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272947",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9bc9d3d4bc5f8490a19bb574a2861ccb31cfb5bd"><code>9bc9d3d</code></a></td><td><code>rm tarball</code></td></tr></table>




---

archive/issue_comments_272948.json:
```json
{
    "body": "Changed commit from **[`11f4521`](https://github.com/sagemath/sagetrac-mirror/commit/11f4521077b4f6cd5d2c9ec1cca8e2ccc4a8dfdc)** to **[`9bc9d3d`](https://github.com/sagemath/sagetrac-mirror/commit/9bc9d3d4bc5f8490a19bb574a2861ccb31cfb5bd)**",
    "created_at": "2015-10-30T16:28:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272948",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`11f4521`](https://github.com/sagemath/sagetrac-mirror/commit/11f4521077b4f6cd5d2c9ec1cca8e2ccc4a8dfdc)** to **[`9bc9d3d`](https://github.com/sagemath/sagetrac-mirror/commit/9bc9d3d4bc5f8490a19bb574a2861ccb31cfb5bd)**



---

archive/issue_comments_272949.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\n(please don't forget to set the ticket's status to 'needs_review'  when you will be done with your modifications)\n\nNathann",
    "created_at": "2015-10-30T16:29:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272949",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:30" align="right">comment:30</div>

(please don't forget to set the ticket's status to 'needs_review'  when you will be done with your modifications)

Nathann



---

archive/issue_comments_272950.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f438342a8fe42f817ef8efac79b88309e9412768\"><code>f438342</code></a></td><td><code>fixed copy&paste error</code></td></tr></table>\n",
    "created_at": "2015-10-30T16:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272950",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f438342a8fe42f817ef8efac79b88309e9412768"><code>f438342</code></a></td><td><code>fixed copy&paste error</code></td></tr></table>




---

archive/issue_comments_272951.json:
```json
{
    "body": "Changed commit from **[`9bc9d3d`](https://github.com/sagemath/sagetrac-mirror/commit/9bc9d3d4bc5f8490a19bb574a2861ccb31cfb5bd)** to **[`f438342`](https://github.com/sagemath/sagetrac-mirror/commit/f438342a8fe42f817ef8efac79b88309e9412768)**",
    "created_at": "2015-10-30T16:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272951",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9bc9d3d`](https://github.com/sagemath/sagetrac-mirror/commit/9bc9d3d4bc5f8490a19bb574a2861ccb31cfb5bd)** to **[`f438342`](https://github.com/sagemath/sagetrac-mirror/commit/f438342a8fe42f817ef8efac79b88309e9412768)**



---

archive/issue_events_274516.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-10-30T16:40:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274516"
}
```



---

archive/issue_events_274517.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-10-30T16:40:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274517"
}
```



---

archive/issue_events_274518.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-31T10:47:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274518"
}
```



---

archive/issue_events_274519.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-31T10:47:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274519"
}
```



---

archive/issue_comments_272952.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2015-10-31T10:47:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272952",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_272953.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nHelloooooooooo Lukas,\n\nHere is another review:\n\n- From the url at which you placed your tarball I found your website, and this\n  page [1] really looks like \"TdLib's official page\". Could you add this url at\n  the end of the 'description' section of the SPKG.txt file?\n\n- It would be cool if your tarball contained a 'license' (or 'copying') file\n  asserting that it is licensed under the GPL2.\n\n- I do not understand why you need to copy/paste sage_tdlib.cpp into your\n  tarball if you want it to compile. Could you please explain me? In no other\n  package do we need to do such a thing. Usually the tarball works by itself,\n  and we have in Sage some interface code that is linked with it.\n\n- One such instance is the interface with boost. You will find it in the\n  following files:\n\n      sage/graphs/base/boost_graph.pyx\n      sage/graphs/base/boost_graph.pxd\n      sage/graphs/base/boost_interface.cpp\n\n- Your 'spkg-install' file copies files that you removed from your tarball\n  (i.e. ./.libs/*)\n\n- I do not understand what exactly this warning means. Could you tell me? `^^;`\n\n  ```\n  +#!!!!!!   NOTICE   !!!!!!!!\n  +#Sage vertices have to be named by unsigned integers\n  +#Sage bags of decompositions have to be lists of unsigned integers\n  +#!!!!!!!!!!!!!!!!!!!!!!!!!!\n  ```\n\n- Could you strip 'cython_' from the beginning of the functions you define?\n\n- The code of `get_width` can be replaced by:\n\n  ```\n  return max(len(x) for x in T)-1\n  ```\n\n- It is slightly incorrect to have your class `TreeDecomposition` inherit from\n  `Graph`, while having a function like `get_width` rely on the vertices' labels\n  (you assume that they are sets). Indeed, the vertices of a graph can be\n  relabeled, which would break this function. I don't think that you need this\n  class, to be honest.\n\n- We have something like `for(auto i: something)` in python. You can rewrite\n\n  ```\n  +    V_python = G.vertices()\n  +    for i in range(0, len(V_python)):\n  +        V.push_back(V_python[i])\n  ```\n  As\n\n  ```\n  +    for v in G:\n  +        V.push_back(v)\n  ```\n\n  (it occurs several times in your code)\n\n- Similarly (don't scream -- I know it can hurt when you see it for the first\n  time) you can write this in Python:\n\n  ```\n  a,b = 1,2\n  ```\n  Which means that this also works\n\n  ```\n  for u,v,l in G.edges():\n      E.push_back(u)\n      E.push_back(v)\n  ```\n  Note that if you don't need the labels, then this also works:\n\n  ```\n  for u,v in G.edges(labels=False):\n      E.push_back(u)\n      E.push_back(v)\n  ```\n\n- Some of your 'TEST' and 'EXAMPLE' tags are not indented as they should (4\n  spaces).\n\nNathann\n\n[1] http://www.tdi.informatik.uni-frankfurt.de/~lukas/",
    "created_at": "2015-10-31T10:47:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272953",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:33" align="right">comment:33</div>

Helloooooooooo Lukas,

Here is another review:

- From the url at which you placed your tarball I found your website, and this
  page [1] really looks like "TdLib's official page". Could you add this url at
  the end of the 'description' section of the SPKG.txt file?

- It would be cool if your tarball contained a 'license' (or 'copying') file
  asserting that it is licensed under the GPL2.

- I do not understand why you need to copy/paste sage_tdlib.cpp into your
  tarball if you want it to compile. Could you please explain me? In no other
  package do we need to do such a thing. Usually the tarball works by itself,
  and we have in Sage some interface code that is linked with it.

- One such instance is the interface with boost. You will find it in the
  following files:

      sage/graphs/base/boost_graph.pyx
      sage/graphs/base/boost_graph.pxd
      sage/graphs/base/boost_interface.cpp

- Your 'spkg-install' file copies files that you removed from your tarball
  (i.e. ./.libs/*)

- I do not understand what exactly this warning means. Could you tell me? `^^;`

  ```
  +#!!!!!!   NOTICE   !!!!!!!!
  +#Sage vertices have to be named by unsigned integers
  +#Sage bags of decompositions have to be lists of unsigned integers
  +#!!!!!!!!!!!!!!!!!!!!!!!!!!
  ```

- Could you strip 'cython_' from the beginning of the functions you define?

- The code of `get_width` can be replaced by:

  ```
  return max(len(x) for x in T)-1
  ```

- It is slightly incorrect to have your class `TreeDecomposition` inherit from
  `Graph`, while having a function like `get_width` rely on the vertices' labels
  (you assume that they are sets). Indeed, the vertices of a graph can be
  relabeled, which would break this function. I don't think that you need this
  class, to be honest.

- We have something like `for(auto i: something)` in python. You can rewrite

  ```
  +    V_python = G.vertices()
  +    for i in range(0, len(V_python)):
  +        V.push_back(V_python[i])
  ```
  As

  ```
  +    for v in G:
  +        V.push_back(v)
  ```

  (it occurs several times in your code)

- Similarly (don't scream -- I know it can hurt when you see it for the first
  time) you can write this in Python:

  ```
  a,b = 1,2
  ```
  Which means that this also works

  ```
  for u,v,l in G.edges():
      E.push_back(u)
      E.push_back(v)
  ```
  Note that if you don't need the labels, then this also works:

  ```
  for u,v in G.edges(labels=False):
      E.push_back(u)
      E.push_back(v)
  ```

- Some of your 'TEST' and 'EXAMPLE' tags are not indented as they should (4
  spaces).

Nathann

[1] http://www.tdi.informatik.uni-frankfurt.de/~lukas/



---

archive/issue_comments_272954.json:
```json
{
    "body": "Changed commit from **[`f438342`](https://github.com/sagemath/sagetrac-mirror/commit/f438342a8fe42f817ef8efac79b88309e9412768)** to **[`e968b23`](https://github.com/sagemath/sagetrac-mirror/commit/e968b23aa07a1d22cd9c8e05448f2eb186328df7)**",
    "created_at": "2015-11-01T19:38:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272954",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f438342`](https://github.com/sagemath/sagetrac-mirror/commit/f438342a8fe42f817ef8efac79b88309e9412768)** to **[`e968b23`](https://github.com/sagemath/sagetrac-mirror/commit/e968b23aa07a1d22cd9c8e05448f2eb186328df7)**



---

archive/issue_comments_272955.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e968b23aa07a1d22cd9c8e05448f2eb186328df7\"><code>e968b23</code></a></td><td><code>url in SPKG.txt, added LICENCE.txt (upstream), stripped cython_, replaced get_width, simplified some code (for auto i: ..), updated tests and examples</code></td></tr></table>\n",
    "created_at": "2015-11-01T19:38:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272955",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e968b23aa07a1d22cd9c8e05448f2eb186328df7"><code>e968b23</code></a></td><td><code>url in SPKG.txt, added LICENCE.txt (upstream), stripped cython_, replaced get_width, simplified some code (for auto i: ..), updated tests and examples</code></td></tr></table>




---

archive/issue_comments_272956.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nThanks for the hints!\n\n\n> - I do not understand why you need to copy/paste sage_tdlib.cpp into your\n>   tarball if you want it to compile. Could you please explain me? In no other\n>   package do we need to do such a thing. Usually the tarball works by itself,\n>   and we have in Sage some interface code that is linked with it.\n> \n> - One such instance is the interface with boost. You will find it in the\n>   following files:\n> \n>       sage/graphs/base/boost_graph.pyx\n>       sage/graphs/base/boost_graph.pxd\n>       sage/graphs/base/boost_interface.cpp\n> \n\nSince there is no cython-way to generate a boost graph with an appended struct for the vertices (boost_graph.pyx only supports appended structs for edges), a boost graph has to be generated manually (make_tdlib_graph in *.pyx, sage_tdlib_*). \n\nIf there would exist a cython-interface for the required graphs, one could build the *.so by instantiating the exact algorithm, which would require to copy a *.cpp file (that only containes a line that instantiates the exact algorithm) and a makefile into the tarball.\n\nDo you have a idea for this?\n\n\n> - Your 'spkg-install' file copies files that you removed from your tarball\n>   (i.e. ./.libs/*)\n\n./libs is generated by make (automake creates a .libs by default) -> ./libs should exist\n\n> - I do not understand what exactly this warning means. Could you tell me? `^^;`\n> \n>   ```\n>   +#!!!!!!   NOTICE   !!!!!!!!\n>   +#Sage vertices have to be named by unsigned integers\n>   +#Sage bags of decompositions have to be lists of unsigned integers\n>   +#!!!!!!!!!!!!!!!!!!!!!!!!!!\n>   ```\n\nG.vertices() should return a list of unsigned integers, e.g. treedecomposition_exact() does not work with TutteGraph(), since TutteGraph().vertices() returnes a list of tuples\n\n> - It is slightly incorrect to have your class `TreeDecomposition` inherit from\n>   `Graph`, while having a function like `get_width` rely on the vertices' labels\n>   (you assume that they are sets). Indeed, the vertices of a graph can be\n>   relabeled, which would break this function. I don't think that you need this\n>   class, to be honest.\n\nOk, i just thought something like that would be nice:\n\nsage: T = tdlib.treedecomposition_exact(G)\ntree decomposition of width 4 computed\nsage: T\nTreedecomposition of width 4 on 15 vertices <--\n\nWould it be better to use g.name(\"tree decompostion\") for this purposes?\n\nLukas",
    "created_at": "2015-11-01T20:21:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272956",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:35" align="right">comment:35</div>

Thanks for the hints!


> - I do not understand why you need to copy/paste sage_tdlib.cpp into your
>   tarball if you want it to compile. Could you please explain me? In no other
>   package do we need to do such a thing. Usually the tarball works by itself,
>   and we have in Sage some interface code that is linked with it.
> 
> - One such instance is the interface with boost. You will find it in the
>   following files:
> 
>       sage/graphs/base/boost_graph.pyx
>       sage/graphs/base/boost_graph.pxd
>       sage/graphs/base/boost_interface.cpp
> 

Since there is no cython-way to generate a boost graph with an appended struct for the vertices (boost_graph.pyx only supports appended structs for edges), a boost graph has to be generated manually (make_tdlib_graph in *.pyx, sage_tdlib_*). 

If there would exist a cython-interface for the required graphs, one could build the *.so by instantiating the exact algorithm, which would require to copy a *.cpp file (that only containes a line that instantiates the exact algorithm) and a makefile into the tarball.

Do you have a idea for this?


> - Your 'spkg-install' file copies files that you removed from your tarball
>   (i.e. ./.libs/*)

./libs is generated by make (automake creates a .libs by default) -> ./libs should exist

> - I do not understand what exactly this warning means. Could you tell me? `^^;`
> 
>   ```
>   +#!!!!!!   NOTICE   !!!!!!!!
>   +#Sage vertices have to be named by unsigned integers
>   +#Sage bags of decompositions have to be lists of unsigned integers
>   +#!!!!!!!!!!!!!!!!!!!!!!!!!!
>   ```

G.vertices() should return a list of unsigned integers, e.g. treedecomposition_exact() does not work with TutteGraph(), since TutteGraph().vertices() returnes a list of tuples

> - It is slightly incorrect to have your class `TreeDecomposition` inherit from
>   `Graph`, while having a function like `get_width` rely on the vertices' labels
>   (you assume that they are sets). Indeed, the vertices of a graph can be
>   relabeled, which would break this function. I don't think that you need this
>   class, to be honest.

Ok, i just thought something like that would be nice:

sage: T = tdlib.treedecomposition_exact(G)
tree decomposition of width 4 computed
sage: T
Treedecomposition of width 4 on 15 vertices <--

Would it be better to use g.name("tree decompostion") for this purposes?

Lukas



---

archive/issue_comments_272957.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nHellooooooooooooooo,\n\n> If there would exist a cython-interface for the required graphs, one could build the *.so by instantiating the exact algorithm, which would require to copy a *.cpp file (that only containes a line that instantiates the exact algorithm) and a makefile into the tarball.\n> \n> Do you have a idea for this?\n\nI'm still not understand exactly what you explain. I may be missing something obvious, but we will probably understand each other eventually:\n\nI understand from what you tell me that the graph data structure that is used in your library is not exactly a boost graph, but 'a boost graph plus something'.\n\nIf this 'something' is about a list of labels for vertices, then it probably means that boost_interface should be updated to handle it. If it is something more specific to tree-decompositions, then it should belong to the files you create.\n\nHere is how I see the situation (tell me if -- for some reason -- it does not apply):\n\n1) You have a library that take a data X as input, and returns a data Y as output. To us that is \"upstream's design decision\", and we usually have no control over X nor over Y.\n\n2) We have some Cython code that takes a graph, and converts it into format X. We call the library's functions on the data it expects, and get some data Y as a result, which we convert back into Cython/Python before handing it back to the user\n\n3) If, because of some limitation of Cython, we cannot directly convert Python into X (or turn Y into Python) then we can have another layer in the middle, i.e. a c++ file, which is what happens with boost_interface.\n\nThis way we adapt to whatever the library expect, and there is no need to have anything sage-related in the library.\n\n> > - Your 'spkg-install' file copies files that you removed from your tarball\n> >   (i.e. ./.libs/*)\n\n> \n> ./libs is generated by make (automake creates a .libs by default) -> ./libs should exist\n\nOh, I see. Usually the copying of the files produced by a 'make' is performed by 'make install'. Is there a reason why you don't use it?\n\n> G.vertices() should return a list of unsigned integers, e.g. treedecomposition_exact() does not work with TutteGraph(), since TutteGraph().vertices() returnes a list of tuples\n\nI see. That happens very often with any kind of 'efficient' code, as handling labels really is a hassle (trust me `:-/`). That shouldn't be a constraint on the user, however, but on ourselves. In those cases, we usually call the library's function on a *relabelled* copy of the graph (so that the vertices are integers), and apply the inverse treatment on its output so that the user gets what (s)he expects (and in particular so that (s)he can call the function on any kind of graph).\n\n> Ok, i just thought something like that would be nice:\n> \n> sage: T = tdlib.treedecomposition_exact(G)\n> tree decomposition of width 4 computed\n> sage: T\n> Treedecomposition of width 4 on 15 vertices <--\n> \n> Would it be better to use g.name(\"tree decompostion\") for this purposes?\n\nDefinitely `:-)`\n\nThanks,\n\nNathann",
    "created_at": "2015-11-01T20:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272957",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:36" align="right">comment:36</div>

Hellooooooooooooooo,

> If there would exist a cython-interface for the required graphs, one could build the *.so by instantiating the exact algorithm, which would require to copy a *.cpp file (that only containes a line that instantiates the exact algorithm) and a makefile into the tarball.
> 
> Do you have a idea for this?

I'm still not understand exactly what you explain. I may be missing something obvious, but we will probably understand each other eventually:

I understand from what you tell me that the graph data structure that is used in your library is not exactly a boost graph, but 'a boost graph plus something'.

If this 'something' is about a list of labels for vertices, then it probably means that boost_interface should be updated to handle it. If it is something more specific to tree-decompositions, then it should belong to the files you create.

Here is how I see the situation (tell me if -- for some reason -- it does not apply):

1) You have a library that take a data X as input, and returns a data Y as output. To us that is "upstream's design decision", and we usually have no control over X nor over Y.

2) We have some Cython code that takes a graph, and converts it into format X. We call the library's functions on the data it expects, and get some data Y as a result, which we convert back into Cython/Python before handing it back to the user

3) If, because of some limitation of Cython, we cannot directly convert Python into X (or turn Y into Python) then we can have another layer in the middle, i.e. a c++ file, which is what happens with boost_interface.

This way we adapt to whatever the library expect, and there is no need to have anything sage-related in the library.

> > - Your 'spkg-install' file copies files that you removed from your tarball
> >   (i.e. ./.libs/*)

> 
> ./libs is generated by make (automake creates a .libs by default) -> ./libs should exist

Oh, I see. Usually the copying of the files produced by a 'make' is performed by 'make install'. Is there a reason why you don't use it?

> G.vertices() should return a list of unsigned integers, e.g. treedecomposition_exact() does not work with TutteGraph(), since TutteGraph().vertices() returnes a list of tuples

I see. That happens very often with any kind of 'efficient' code, as handling labels really is a hassle (trust me `:-/`). That shouldn't be a constraint on the user, however, but on ourselves. In those cases, we usually call the library's function on a *relabelled* copy of the graph (so that the vertices are integers), and apply the inverse treatment on its output so that the user gets what (s)he expects (and in particular so that (s)he can call the function on any kind of graph).

> Ok, i just thought something like that would be nice:
> 
> sage: T = tdlib.treedecomposition_exact(G)
> tree decomposition of width 4 computed
> sage: T
> Treedecomposition of width 4 on 15 vertices <--
> 
> Would it be better to use g.name("tree decompostion") for this purposes?

Definitely `:-)`

Thanks,

Nathann



---

archive/issue_comments_272958.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nI forgot to add an example of this relabelling. What I do here may be sufficient for you, but you can look at the doc of 'relabel' (which handles more stuff)\n\n```\ng = graphs.KneserGraph(5,2)\nV = g.vertices()\ng_int = g.relabel(inplace=False) # uses the ordering of g.vertices() (see the doc)\nS_int = g_int.independent_set()\nS = [V[i] for i in S_int]\n```",
    "created_at": "2015-11-01T20:51:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272958",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:37" align="right">comment:37</div>

I forgot to add an example of this relabelling. What I do here may be sufficient for you, but you can look at the doc of 'relabel' (which handles more stuff)

```
g = graphs.KneserGraph(5,2)
V = g.vertices()
g_int = g.relabel(inplace=False) # uses the ordering of g.vertices() (see the doc)
S_int = g_int.independent_set()
S = [V[i] for i in S_int]
```



---

archive/issue_comments_272959.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02c1abc66cbf959086b8cb63ff642bf0fd70844f\"><code>02c1abc</code></a></td><td><code>updated spkg-install (make -> make install), removed class Treedecomposition (-> g.name())</code></td></tr></table>\n",
    "created_at": "2015-11-01T21:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272959",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02c1abc66cbf959086b8cb63ff642bf0fd70844f"><code>02c1abc</code></a></td><td><code>updated spkg-install (make -> make install), removed class Treedecomposition (-> g.name())</code></td></tr></table>




---

archive/issue_comments_272960.json:
```json
{
    "body": "Changed commit from **[`e968b23`](https://github.com/sagemath/sagetrac-mirror/commit/e968b23aa07a1d22cd9c8e05448f2eb186328df7)** to **[`02c1abc`](https://github.com/sagemath/sagetrac-mirror/commit/02c1abc66cbf959086b8cb63ff642bf0fd70844f)**",
    "created_at": "2015-11-01T21:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272960",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e968b23`](https://github.com/sagemath/sagetrac-mirror/commit/e968b23aa07a1d22cd9c8e05448f2eb186328df7)** to **[`02c1abc`](https://github.com/sagemath/sagetrac-mirror/commit/02c1abc66cbf959086b8cb63ff642bf0fd70844f)**



---

archive/issue_comments_272961.json:
```json
{
    "body": "Changed commit from **[`02c1abc`](https://github.com/sagemath/sagetrac-mirror/commit/02c1abc66cbf959086b8cb63ff642bf0fd70844f)** to **[`f27dfd1`](https://github.com/sagemath/sagetrac-mirror/commit/f27dfd1e754b1fb7c660c4a933a1770fa571b709)**",
    "created_at": "2015-11-01T21:42:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272961",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`02c1abc`](https://github.com/sagemath/sagetrac-mirror/commit/02c1abc66cbf959086b8cb63ff642bf0fd70844f)** to **[`f27dfd1`](https://github.com/sagemath/sagetrac-mirror/commit/f27dfd1e754b1fb7c660c4a933a1770fa571b709)**



---

archive/issue_comments_272962.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f27dfd1e754b1fb7c660c4a933a1770fa571b709\"><code>f27dfd1</code></a></td><td><code>added vertex relabeling (any vertex labeling should be supported now)</code></td></tr></table>\n",
    "created_at": "2015-11-01T21:42:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272962",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f27dfd1e754b1fb7c660c4a933a1770fa571b709"><code>f27dfd1</code></a></td><td><code>added vertex relabeling (any vertex labeling should be supported now)</code></td></tr></table>




---

archive/issue_comments_272963.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nHello,\n\nReplying to [@nathanncohen](#comment:36):\n> 3) If, because of some limitation of Cython, we cannot directly convert Python into X (or turn Y into Python) then we can have another layer in the middle, i.e. a c++ file, which is what happens with boost_interface.\n\nIn my opinion, this is the case and for that reason sage_tdlib.cpp exists. In addition, i cannot use boost_interface, since vertex properties are not covered there. As mentioned above, i need a \n\nctypedef BoostGraph[vecS, vecS, undirectedS, vecS, X] BG,\n\nwhere X is some struct. Concrete (see sage_tdlib.cpp):\n\nFor the input graph\n\n```\n\nstruct Vertex{\n    ...\n    ...\n    unsigned int id;\n    ...\n};\n\ntypedef boost::adjacency_list<boost::setS, boost::vecS, boost::undirectedS, Vertex> TD_graph_t;\n```\n\n\nAnd for the output treedecomposition:\n\n\n```\nstruct bag{\n    ...\n    ...\n    std::set<unsigned int> bag;\n    ...\n};\n\ntypedef boost::adjacency_list<boost::vecS, boost::vecS, boost::undirectedS, bag> TD_tree_dec_t;\n```\n\nThe reason for sage_tdlib.cpp is to do the conversion\n\nsage graph -> V,E as vectors -> boost graph\n\nand\n\nboost graph (tree decomposition) -> V, E, bags as vectors -> sage graph.\n\n> This way we adapt to whatever the library expect, and there is no need to have anything sage-related in the library.\n\nCurrently, nothing sage-related (except for the build-system) is in the library.\n\nLukas",
    "created_at": "2015-11-01T22:27:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272963",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:40" align="right">comment:40</div>

Hello,

Replying to [@nathanncohen](#comment:36):
> 3) If, because of some limitation of Cython, we cannot directly convert Python into X (or turn Y into Python) then we can have another layer in the middle, i.e. a c++ file, which is what happens with boost_interface.

In my opinion, this is the case and for that reason sage_tdlib.cpp exists. In addition, i cannot use boost_interface, since vertex properties are not covered there. As mentioned above, i need a 

ctypedef BoostGraph[vecS, vecS, undirectedS, vecS, X] BG,

where X is some struct. Concrete (see sage_tdlib.cpp):

For the input graph

```

struct Vertex{
    ...
    ...
    unsigned int id;
    ...
};

typedef boost::adjacency_list<boost::setS, boost::vecS, boost::undirectedS, Vertex> TD_graph_t;
```


And for the output treedecomposition:


```
struct bag{
    ...
    ...
    std::set<unsigned int> bag;
    ...
};

typedef boost::adjacency_list<boost::vecS, boost::vecS, boost::undirectedS, bag> TD_tree_dec_t;
```

The reason for sage_tdlib.cpp is to do the conversion

sage graph -> V,E as vectors -> boost graph

and

boost graph (tree decomposition) -> V, E, bags as vectors -> sage graph.

> This way we adapt to whatever the library expect, and there is no need to have anything sage-related in the library.

Currently, nothing sage-related (except for the build-system) is in the library.

Lukas



---

archive/issue_comments_272964.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nHelloooooooo Lucas !\n\nI see I see, thank you for the details. Why then do you need to copy `sage_tdlib.cpp` *inside* of your archive before compiling it? This is the thing that bothers me.\n\nNathann",
    "created_at": "2015-11-02T07:04:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272964",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:41" align="right">comment:41</div>

Helloooooooo Lucas !

I see I see, thank you for the details. Why then do you need to copy `sage_tdlib.cpp` *inside* of your archive before compiling it? This is the thing that bothers me.

Nathann



---

archive/issue_comments_272965.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nHello,\n\n\n> \n> I see I see, thank you for the details. Why then do you need to copy `sage_tdlib.cpp` *inside* of your archive before compiling it? This is the thing that bothers me.\n> \n\nI meant no harm by it =), i will fix that.\n\nWhere is the right place for the automake-generated makefiles and related stuff? Currently, this files are located in the tarball, but that is misguided since they refer to sage_tdlib.*. Maybe in some directory in spkg/tdlib along with sage_tdlib?",
    "created_at": "2015-11-02T07:20:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272965",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:42" align="right">comment:42</div>

Hello,


> 
> I see I see, thank you for the details. Why then do you need to copy `sage_tdlib.cpp` *inside* of your archive before compiling it? This is the thing that bothers me.
> 

I meant no harm by it =), i will fix that.

Where is the right place for the automake-generated makefiles and related stuff? Currently, this files are located in the tarball, but that is misguided since they refer to sage_tdlib.*. Maybe in some directory in spkg/tdlib along with sage_tdlib?



---

archive/issue_comments_272966.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@sagetrac-llarisch](#comment:42):\n> Where is the right place for the automake-generated makefiles and related stuff?\n\nIn the official upstream tarball.\n\n> Currently, this files are located in the tarball, but that is misguided since they refer to sage_tdlib.*.\n\nI think Nathann has been trying to tell you that the `sage_tdlib` files should not be in the upstream tarball, but in Sage itself. So then there is no problem.",
    "created_at": "2015-11-02T07:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272966",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@sagetrac-llarisch](#comment:42):
> Where is the right place for the automake-generated makefiles and related stuff?

In the official upstream tarball.

> Currently, this files are located in the tarball, but that is misguided since they refer to sage_tdlib.*.

I think Nathann has been trying to tell you that the `sage_tdlib` files should not be in the upstream tarball, but in Sage itself. So then there is no problem.



---

archive/issue_comments_272967.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nHelloooooo,\n\n> Where is the right place for the automake-generated makefiles and related stuff? Currently, this files are located in the tarball, but that is misguided since they refer to sage_tdlib.*. Maybe in some directory in spkg/tdlib along with sage_tdlib?\n\nWell, the automake-generated makefiles are usually in the tarball `^^;`\n\nWe don't consider those to be sage-specific. Makefiles are very common in the open-source world, as those things make sure that the code compiles on any platform. So usually, the tarballs we get come with those things in it, and spkg-install is some variation of 'configure && make && make install'.\n\nSomehow, your none of the files contained in your tarball (including the makefiles) should mention this sage_tdlib file.\n\nNathann",
    "created_at": "2015-11-02T07:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272967",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:44" align="right">comment:44</div>

Helloooooo,

> Where is the right place for the automake-generated makefiles and related stuff? Currently, this files are located in the tarball, but that is misguided since they refer to sage_tdlib.*. Maybe in some directory in spkg/tdlib along with sage_tdlib?

Well, the automake-generated makefiles are usually in the tarball `^^;`

We don't consider those to be sage-specific. Makefiles are very common in the open-source world, as those things make sure that the code compiles on any platform. So usually, the tarballs we get come with those things in it, and spkg-install is some variation of 'configure && make && make install'.

Somehow, your none of the files contained in your tarball (including the makefiles) should mention this sage_tdlib file.

Nathann



---

archive/issue_comments_272968.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nThe thing is that the library itself only consist of template functions, such that a makefile does not make sense, since external use of some library functions is supposed to generate the needed functions -> building a shared library out of the original tarball would not generate the necessary code. The code for the exact algorithm is generated by the call \n\ntreedec::exact_decomposition_cutset(G, T, lb);\n\nwith\n\ntypedef boost::adjacency_list<boost::setS, boost::listS, boost::undirectedS, Vertex> TD_graph_t;  \n\nTD_graph_t G;\n\nin sage_tdlib.cpp.",
    "created_at": "2015-11-02T07:45:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272968",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:45" align="right">comment:45</div>

The thing is that the library itself only consist of template functions, such that a makefile does not make sense, since external use of some library functions is supposed to generate the needed functions -> building a shared library out of the original tarball would not generate the necessary code. The code for the exact algorithm is generated by the call 

treedec::exact_decomposition_cutset(G, T, lb);

with

typedef boost::adjacency_list<boost::setS, boost::listS, boost::undirectedS, Vertex> TD_graph_t;  

TD_graph_t G;

in sage_tdlib.cpp.



---

archive/issue_comments_272969.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nHMmmmm.... `O_o`\n\nWell, then I guess all you need is to copy all you hpp files to SAGE_INCLUDE/tdlib/, and that's it?...\n\nNathann",
    "created_at": "2015-11-02T08:03:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272969",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:46" align="right">comment:46</div>

HMmmmm.... `O_o`

Well, then I guess all you need is to copy all you hpp files to SAGE_INCLUDE/tdlib/, and that's it?...

Nathann



---

archive/issue_comments_272970.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nPlease fill in your author name on this ticket.",
    "created_at": "2015-11-02T13:09:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272970",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:47" align="right">comment:47</div>

Please fill in your author name on this ticket.



---

archive/issue_comments_272971.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,4 @@\n - exact algorithms for computing a treedecomposition/the treewidth of a graph\n - the seperator-algorithm (4-approximate)\n \n+**Upstream**: [http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.gz](http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.gz)\n``````\n",
    "created_at": "2015-11-02T13:11:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272971",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,4 @@
 - exact algorithms for computing a treedecomposition/the treewidth of a graph
 - the seperator-algorithm (4-approximate)
 
+**Upstream**: [http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.gz](http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.gz)
``````




---

archive/issue_comments_272972.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nPlease remove this line from `SPKG.txt`:\n\n```\ntarball: http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.bz2\n```",
    "created_at": "2015-11-02T14:02:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272972",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:49" align="right">comment:49</div>

Please remove this line from `SPKG.txt`:

```
tarball: http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.bz2
```



---

archive/issue_comments_272973.json:
```json
{
    "body": "Changed commit from **[`f27dfd1`](https://github.com/sagemath/sagetrac-mirror/commit/f27dfd1e754b1fb7c660c4a933a1770fa571b709)** to **[`78d4ea8`](https://github.com/sagemath/sagetrac-mirror/commit/78d4ea8090cc9feca35ad9ac34d87758942b6aa8)**",
    "created_at": "2015-11-02T14:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272973",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f27dfd1`](https://github.com/sagemath/sagetrac-mirror/commit/f27dfd1e754b1fb7c660c4a933a1770fa571b709)** to **[`78d4ea8`](https://github.com/sagemath/sagetrac-mirror/commit/78d4ea8090cc9feca35ad9ac34d87758942b6aa8)**



---

archive/issue_comments_272974.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78d4ea8090cc9feca35ad9ac34d87758942b6aa8\"><code>78d4ea8</code></a></td><td><code>changes in SPKG.txt</code></td></tr></table>\n",
    "created_at": "2015-11-02T14:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272974",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78d4ea8090cc9feca35ad9ac34d87758942b6aa8"><code>78d4ea8</code></a></td><td><code>changes in SPKG.txt</code></td></tr></table>




---

archive/issue_comments_272975.json:
```json
{
    "body": "<div id=\"comment:51\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fd0847ec7c733bb7f1f5f88e43541a74276d125\"><code>8fd0847</code></a></td><td><code>new upstream build-system, changed spkg-install concerning this matter (./sage -i tdlib will copy the needful to SAGELOCAL/include/tdlib), glue code will made by distutils, added a call, that makes a tree decomposition small</code></td></tr></table>\n",
    "created_at": "2015-11-05T17:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272975",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fd0847ec7c733bb7f1f5f88e43541a74276d125"><code>8fd0847</code></a></td><td><code>new upstream build-system, changed spkg-install concerning this matter (./sage -i tdlib will copy the needful to SAGELOCAL/include/tdlib), glue code will made by distutils, added a call, that makes a tree decomposition small</code></td></tr></table>




---

archive/issue_comments_272976.json:
```json
{
    "body": "Changed commit from **[`78d4ea8`](https://github.com/sagemath/sagetrac-mirror/commit/78d4ea8090cc9feca35ad9ac34d87758942b6aa8)** to **[`8fd0847`](https://github.com/sagemath/sagetrac-mirror/commit/8fd0847ec7c733bb7f1f5f88e43541a74276d125)**",
    "created_at": "2015-11-05T17:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272976",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`78d4ea8`](https://github.com/sagemath/sagetrac-mirror/commit/78d4ea8090cc9feca35ad9ac34d87758942b6aa8)** to **[`8fd0847`](https://github.com/sagemath/sagetrac-mirror/commit/8fd0847ec7c733bb7f1f5f88e43541a74276d125)**



---

archive/issue_comments_272977.json:
```json
{
    "body": "Author: **llarisch**",
    "created_at": "2015-11-05T18:00:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272977",
    "user": "https://github.com/sagetrac-llarisch"
}
```

Author: **llarisch**



---

archive/issue_comments_272978.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nCurrent state:\n\n-Since tdlib is a template library, an installation just copies the headers to SAGELOCAL/include/tdlib\n\n-The sage-distutils build-system will build a shared library out of sage_tdlib.cpp and the headers in /include/tdlib\n\n-sage_tdlib.cpp is necessary until /base/boost_graph supportes vertex properties (especially std::set). currently, edge properties are supported and vertex properties are pre-defined by some vertex ids\n\n-Even if /base/boost_graph is updated, s.t. vertex properties are supported, some c-code layer is necessary for instanciating the library code with the needed type -> in each case, a c-code layer is necessary.\n\nLukas",
    "created_at": "2015-11-05T18:19:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272978",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:53" align="right">comment:53</div>

Current state:

-Since tdlib is a template library, an installation just copies the headers to SAGELOCAL/include/tdlib

-The sage-distutils build-system will build a shared library out of sage_tdlib.cpp and the headers in /include/tdlib

-sage_tdlib.cpp is necessary until /base/boost_graph supportes vertex properties (especially std::set). currently, edge properties are supported and vertex properties are pre-defined by some vertex ids

-Even if /base/boost_graph is updated, s.t. vertex properties are supported, some c-code layer is necessary for instanciating the library code with the needed type -> in each case, a c-code layer is necessary.

Lukas



---

archive/issue_comments_272979.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,6 @@\n     Interface for tdlib, a library concerning treedecompositions\n     \n     Containes the glue-code for\n-- treewidth-lower bound algorithms\n-- heuristics for computing treedecompositions\n-- exact algorithms for computing a treedecomposition/the treewidth of a graph\n-- the seperator-algorithm (4-approximate)\n+- an exact algorithms for computing a treedecomposition/the treewidth of a graph\n \n **Upstream**: [http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.gz](http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.gz)\n``````\n",
    "created_at": "2015-11-08T18:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272979",
    "user": "https://github.com/sagetrac-llarisch"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,6 @@
     Interface for tdlib, a library concerning treedecompositions
     
     Containes the glue-code for
-- treewidth-lower bound algorithms
-- heuristics for computing treedecompositions
-- exact algorithms for computing a treedecomposition/the treewidth of a graph
-- the seperator-algorithm (4-approximate)
+- an exact algorithms for computing a treedecomposition/the treewidth of a graph
 
 **Upstream**: [http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.gz](http://www.tdi.informatik.uni-frankfurt.de/~lukas/data/tdlib-0.3.1.tar.gz)
``````




---

archive/issue_events_274520.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-11-08T18:44:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274520"
}
```



---

archive/issue_events_274521.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-11-08T18:44:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274521"
}
```



---

archive/issue_comments_272980.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nHelloooooooo Lukas,\n\nI read and changed a couple of things in your code (mostly cleaning). I am trying to find a way to avoid this .cpp file. I added my two commits at u/ncohen/19249, which you can add atop of this branch if you agree with them.\n\nThanks,\n\nNathann",
    "created_at": "2015-11-09T14:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272980",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:55" align="right">comment:55</div>

Helloooooooo Lukas,

I read and changed a couple of things in your code (mostly cleaning). I am trying to find a way to avoid this .cpp file. I added my two commits at u/ncohen/19249, which you can add atop of this branch if you agree with them.

Thanks,

Nathann



---

archive/issue_comments_272981.json:
```json
{
    "body": "<div id=\"comment:56\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/648f0a85e41c7e59b855c5ae713ac2e4689347fd\"><code>648f0a8</code></a></td><td><code>trac #19249: Merged with 6.10.beta3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f1d4889e6ac5b9e7a1c669407b413e486393642\"><code>0f1d488</code></a></td><td><code>trac #19249: Documentation cleaning</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa2bf315807198f1c5f31f2984f9b0588fb62316\"><code>fa2bf31</code></a></td><td><code>trac #19249: remove functions not called anywhere</code></td></tr></table>\n",
    "created_at": "2015-11-09T18:11:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272981",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:56"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/648f0a85e41c7e59b855c5ae713ac2e4689347fd"><code>648f0a8</code></a></td><td><code>trac #19249: Merged with 6.10.beta3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f1d4889e6ac5b9e7a1c669407b413e486393642"><code>0f1d488</code></a></td><td><code>trac #19249: Documentation cleaning</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa2bf315807198f1c5f31f2984f9b0588fb62316"><code>fa2bf31</code></a></td><td><code>trac #19249: remove functions not called anywhere</code></td></tr></table>




---

archive/issue_comments_272982.json:
```json
{
    "body": "Changed commit from **[`8fd0847`](https://github.com/sagemath/sagetrac-mirror/commit/8fd0847ec7c733bb7f1f5f88e43541a74276d125)** to **[`fa2bf31`](https://github.com/sagemath/sagetrac-mirror/commit/fa2bf315807198f1c5f31f2984f9b0588fb62316)**",
    "created_at": "2015-11-09T18:11:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272982",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8fd0847`](https://github.com/sagemath/sagetrac-mirror/commit/8fd0847ec7c733bb7f1f5f88e43541a74276d125)** to **[`fa2bf31`](https://github.com/sagemath/sagetrac-mirror/commit/fa2bf315807198f1c5f31f2984f9b0588fb62316)**



---

archive/issue_comments_272983.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nHellooooooooooo Lukas !\n\nOkay, I give up `:-)`\n\nI tried to shortcut your .cpp file but I wasn't able to, and even though I may have gotten 'close' my solutions were very awkward and would probably be a shot in our feet if we ever need something more generic. Let it stay as it is.\n\nWhat would you think of modifying `Graph.treewidth` right now in order to make it call your library when it is installed?\n\nThe way we do it is (see `Graph.automorphism_group`) to have an 'algorithm' selector set to `None`  by default (which means 'use the best routine available'), which can also be defined manually if one wants to call Sage's algorithm or yours, explicitly.\n\nThis also lets us write doctests to check that both algorithms return the same value.\n\nEither way this ticket will soon be merged in Sage. Thanks,\n\nNathann",
    "created_at": "2015-11-16T10:24:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272983",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:57" align="right">comment:57</div>

Hellooooooooooo Lukas !

Okay, I give up `:-)`

I tried to shortcut your .cpp file but I wasn't able to, and even though I may have gotten 'close' my solutions were very awkward and would probably be a shot in our feet if we ever need something more generic. Let it stay as it is.

What would you think of modifying `Graph.treewidth` right now in order to make it call your library when it is installed?

The way we do it is (see `Graph.automorphism_group`) to have an 'algorithm' selector set to `None`  by default (which means 'use the best routine available'), which can also be defined manually if one wants to call Sage's algorithm or yours, explicitly.

This also lets us write doctests to check that both algorithms return the same value.

Either way this ticket will soon be merged in Sage. Thanks,

Nathann



---

archive/issue_comments_272984.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff1ca3ebeeeec0be3d255d5129f1cf7f114ac06c\"><code>ff1ca3e</code></a></td><td><code>changes in Graph.treewidth(): optional parameter 'algorithm'</code></td></tr></table>\n",
    "created_at": "2015-11-16T22:35:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272984",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff1ca3ebeeeec0be3d255d5129f1cf7f114ac06c"><code>ff1ca3e</code></a></td><td><code>changes in Graph.treewidth(): optional parameter 'algorithm'</code></td></tr></table>




---

archive/issue_comments_272985.json:
```json
{
    "body": "Changed commit from **[`fa2bf31`](https://github.com/sagemath/sagetrac-mirror/commit/fa2bf315807198f1c5f31f2984f9b0588fb62316)** to **[`ff1ca3e`](https://github.com/sagemath/sagetrac-mirror/commit/ff1ca3ebeeeec0be3d255d5129f1cf7f114ac06c)**",
    "created_at": "2015-11-16T22:35:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272985",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fa2bf31`](https://github.com/sagemath/sagetrac-mirror/commit/fa2bf315807198f1c5f31f2984f9b0588fb62316)** to **[`ff1ca3e`](https://github.com/sagemath/sagetrac-mirror/commit/ff1ca3ebeeeec0be3d255d5129f1cf7f114ac06c)**



---

archive/issue_comments_272986.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nHellooooooooo,\n\nThere were a couple of problems with error management and documentation. I pused a commit at public/19249. If you agree with it, then I guess this can go.\n\nNathann",
    "created_at": "2015-11-17T17:28:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272986",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:59" align="right">comment:59</div>

Hellooooooooo,

There were a couple of problems with error management and documentation. I pused a commit at public/19249. If you agree with it, then I guess this can go.

Nathann



---

archive/issue_comments_272987.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nReplying to [@nathanncohen](#comment:59):\n> Hellooooooooo,\n> \n> There were a couple of problems with error management and documentation. I pused a commit at public/19249. If you agree with it, then I guess this can go.\n> \n> Nathann\n\nI agree =)\n\nCurrently, the tdlib-algorithm computes the treewidth in each case and k is a lower bound on the resulting width. I will add some code to support the version 'treewidth < k?' soon. \n\nThanks for your review!\n\nLukas",
    "created_at": "2015-11-17T19:11:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272987",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:60" align="right">comment:60</div>

Replying to [@nathanncohen](#comment:59):
> Hellooooooooo,
> 
> There were a couple of problems with error management and documentation. I pused a commit at public/19249. If you agree with it, then I guess this can go.
> 
> Nathann

I agree =)

Currently, the tdlib-algorithm computes the treewidth in each case and k is a lower bound on the resulting width. I will add some code to support the version 'treewidth < k?' soon. 

Thanks for your review!

Lukas



---

archive/issue_comments_272988.json:
```json
{
    "body": "Changed author from **llarisch** to **Lukas Larisch**",
    "created_at": "2015-11-17T21:32:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272988",
    "user": "https://github.com/nathanncohen"
}
```

Changed author from **llarisch** to **Lukas Larisch**



---

archive/issue_comments_272989.json:
```json
{
    "body": "Changed branch from **[u/llarisch/interface_with_tdlib](https://github.com/sagemath/sagetrac-mirror/tree/u/llarisch/interface_with_tdlib)** to **[public/19249](https://github.com/sagemath/sagetrac-mirror/tree/public/19249)**",
    "created_at": "2015-11-17T21:33:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272989",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/llarisch/interface_with_tdlib](https://github.com/sagemath/sagetrac-mirror/tree/u/llarisch/interface_with_tdlib)** to **[public/19249](https://github.com/sagemath/sagetrac-mirror/tree/public/19249)**



---

archive/issue_comments_272990.json:
```json
{
    "body": "Changed commit from **[`ff1ca3e`](https://github.com/sagemath/sagetrac-mirror/commit/ff1ca3ebeeeec0be3d255d5129f1cf7f114ac06c)** to **[`6ca60db`](https://github.com/sagemath/sagetrac-mirror/commit/6ca60dbce626f50b31b1b1b256a8d76ad93fd9cc)**",
    "created_at": "2015-11-17T21:33:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272990",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[`ff1ca3e`](https://github.com/sagemath/sagetrac-mirror/commit/ff1ca3ebeeeec0be3d255d5129f1cf7f114ac06c)** to **[`6ca60db`](https://github.com/sagemath/sagetrac-mirror/commit/6ca60dbce626f50b31b1b1b256a8d76ad93fd9cc)**



---

archive/issue_comments_272991.json:
```json
{
    "body": "<div id=\"comment:62\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef54a760ab2cc9f7c86fe5b0cb527915a4b06750\"><code>ef54a76</code></a></td><td><code>trac #19591: Zoom+move a Graph d3js representation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5878c9bb5d0b68a359d0e3b64c140c0d530560d2\"><code>5878c9b</code></a></td><td><code>trac #19249: Merged with representation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ca60dbce626f50b31b1b1b256a8d76ad93fd9cc\"><code>6ca60db</code></a></td><td><code>trac #19249: Review and doc cleaning</code></td></tr></table>\n",
    "created_at": "2015-11-17T21:33:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272991",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:62"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef54a760ab2cc9f7c86fe5b0cb527915a4b06750"><code>ef54a76</code></a></td><td><code>trac #19591: Zoom+move a Graph d3js representation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5878c9bb5d0b68a359d0e3b64c140c0d530560d2"><code>5878c9b</code></a></td><td><code>trac #19249: Merged with representation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ca60dbce626f50b31b1b1b256a8d76ad93fd9cc"><code>6ca60db</code></a></td><td><code>trac #19249: Review and doc cleaning</code></td></tr></table>




---

archive/issue_comments_272992.json:
```json
{
    "body": "<div id=\"comment:63\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58dc59876fa566378034e0ed7d413533b7fb253b\"><code>58dc598</code></a></td><td><code>trac #19249: Merged with beta4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be9dc4a8ce12e298ed5eedbbc4b16a979af928d4\"><code>be9dc4a</code></a></td><td><code>trac #19249: Review and doc cleaning</code></td></tr></table>\n",
    "created_at": "2015-11-17T21:35:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272992",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:63"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58dc59876fa566378034e0ed7d413533b7fb253b"><code>58dc598</code></a></td><td><code>trac #19249: Merged with beta4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be9dc4a8ce12e298ed5eedbbc4b16a979af928d4"><code>be9dc4a</code></a></td><td><code>trac #19249: Review and doc cleaning</code></td></tr></table>




---

archive/issue_comments_272993.json:
```json
{
    "body": "Changed commit from **[`6ca60db`](https://github.com/sagemath/sagetrac-mirror/commit/6ca60dbce626f50b31b1b1b256a8d76ad93fd9cc)** to **[`be9dc4a`](https://github.com/sagemath/sagetrac-mirror/commit/be9dc4a8ce12e298ed5eedbbc4b16a979af928d4)**",
    "created_at": "2015-11-17T21:35:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272993",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6ca60db`](https://github.com/sagemath/sagetrac-mirror/commit/6ca60dbce626f50b31b1b1b256a8d76ad93fd9cc)** to **[`be9dc4a`](https://github.com/sagemath/sagetrac-mirror/commit/be9dc4a8ce12e298ed5eedbbc4b16a979af928d4)**



---

archive/issue_comments_272994.json:
```json
{
    "body": "<div id=\"comment:64\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee2f75ab849a0fcc4156589c7d56c907af38effe\"><code>ee2f75a</code></a></td><td><code>trac #19249: Review and doc cleaning</code></td></tr></table>\n",
    "created_at": "2015-11-17T21:36:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272994",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:64"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee2f75ab849a0fcc4156589c7d56c907af38effe"><code>ee2f75a</code></a></td><td><code>trac #19249: Review and doc cleaning</code></td></tr></table>




---

archive/issue_comments_272995.json:
```json
{
    "body": "Changed commit from **[`be9dc4a`](https://github.com/sagemath/sagetrac-mirror/commit/be9dc4a8ce12e298ed5eedbbc4b16a979af928d4)** to **[`ee2f75a`](https://github.com/sagemath/sagetrac-mirror/commit/ee2f75ab849a0fcc4156589c7d56c907af38effe)**",
    "created_at": "2015-11-17T21:36:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272995",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`be9dc4a`](https://github.com/sagemath/sagetrac-mirror/commit/be9dc4a8ce12e298ed5eedbbc4b16a979af928d4)** to **[`ee2f75a`](https://github.com/sagemath/sagetrac-mirror/commit/ee2f75ab849a0fcc4156589c7d56c907af38effe)**



---

archive/issue_comments_272996.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nErr.. Sorry with the mess with the git branch. It should now be in a correct state, with just a merging operation atop of your branch and a commit meant to clean the doc/code.\n\nIf you still have no problem with it, please change the ticket's status to `needs_review` on my behalf.\n\nThanks,\n\nNathann",
    "created_at": "2015-11-17T21:38:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272996",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:65" align="right">comment:65</div>

Err.. Sorry with the mess with the git branch. It should now be in a correct state, with just a merging operation atop of your branch and a commit meant to clean the doc/code.

If you still have no problem with it, please change the ticket's status to `needs_review` on my behalf.

Thanks,

Nathann



---

archive/issue_comments_272997.json:
```json
{
    "body": "<div id=\"comment:66\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4be4beca56646e3284ec1ef25dded29a92e1f48\"><code>e4be4be</code></a></td><td><code>trac #19249: Broken doctests</code></td></tr></table>\n",
    "created_at": "2015-11-17T21:44:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272997",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4be4beca56646e3284ec1ef25dded29a92e1f48"><code>e4be4be</code></a></td><td><code>trac #19249: Broken doctests</code></td></tr></table>




---

archive/issue_comments_272998.json:
```json
{
    "body": "Changed commit from **[`ee2f75a`](https://github.com/sagemath/sagetrac-mirror/commit/ee2f75ab849a0fcc4156589c7d56c907af38effe)** to **[`e4be4be`](https://github.com/sagemath/sagetrac-mirror/commit/e4be4beca56646e3284ec1ef25dded29a92e1f48)**",
    "created_at": "2015-11-17T21:44:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272998",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ee2f75a`](https://github.com/sagemath/sagetrac-mirror/commit/ee2f75ab849a0fcc4156589c7d56c907af38effe)** to **[`e4be4be`](https://github.com/sagemath/sagetrac-mirror/commit/e4be4beca56646e3284ec1ef25dded29a92e1f48)**



---

archive/issue_comments_272999.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nReplying to [@nathanncohen](#comment:65):\n> Err.. Sorry with the mess with the git branch. It should now be in a correct state, with just a merging operation atop of your branch and a commit meant to clean the doc/code.\n> \n> If you still have no problem with it, please change the ticket's status to `needs_review` on my behalf.\n> \n> Thanks,\n> \n> Nathann\n\nThe current state is already `needs_review` ?!",
    "created_at": "2015-11-17T22:00:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-272999",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:67" align="right">comment:67</div>

Replying to [@nathanncohen](#comment:65):
> Err.. Sorry with the mess with the git branch. It should now be in a correct state, with just a merging operation atop of your branch and a commit meant to clean the doc/code.
> 
> If you still have no problem with it, please change the ticket's status to `needs_review` on my behalf.
> 
> Thanks,
> 
> Nathann

The current state is already `needs_review` ?!



---

archive/issue_comments_273000.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nThat's only because I am an idiot. I meant 'positive_review'.",
    "created_at": "2015-11-18T12:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-273000",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:68" align="right">comment:68</div>

That's only because I am an idiot. I meant 'positive_review'.



---

archive/issue_comments_273001.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nIn build/pkgs/tdlib/type, the package type is set to `optional`. Is this correct?",
    "created_at": "2015-11-18T13:02:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-273001",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:69" align="right">comment:69</div>

In build/pkgs/tdlib/type, the package type is set to `optional`. Is this correct?



---

archive/issue_comments_273002.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nThere are still some problems with the trivial cases in the sage algorithm for treewidth:\n\n\n```\nsage: G = Graph()\nsage: G.treewidth() #should be -1\n0\nsage: G.add_vertex(1)\nsage: G.treewidth() #should be 0\n1\n```",
    "created_at": "2015-11-18T13:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-273002",
    "user": "https://github.com/sagetrac-llarisch"
}
```

<div id="comment:70" align="right">comment:70</div>

There are still some problems with the trivial cases in the sage algorithm for treewidth:


```
sage: G = Graph()
sage: G.treewidth() #should be -1
0
sage: G.add_vertex(1)
sage: G.treewidth() #should be 0
1
```



---

archive/issue_comments_273003.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nI think I fixed the second case in the commit I added here. The empty graph may also return 1, however. It has to be fixed but not necessarily in this ticket, so we can merge it anyway and fix that elsewhere.\n\nNathann",
    "created_at": "2015-11-18T18:04:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-273003",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:71" align="right">comment:71</div>

I think I fixed the second case in the commit I added here. The empty graph may also return 1, however. It has to be fixed but not necessarily in this ticket, so we can merge it anyway and fix that elsewhere.

Nathann



---

archive/issue_events_274522.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-11-18T18:22:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274522"
}
```



---

archive/issue_events_274523.json:
```json
{
    "actor": "https://github.com/sagetrac-llarisch",
    "created_at": "2015-11-18T18:22:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274523"
}
```



---

archive/issue_comments_273004.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nI think you should have removed the whitespace changes to `module_list.py` (see [comment:21]) but I guess it's too late now.",
    "created_at": "2015-11-18T20:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-273004",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:73" align="right">comment:73</div>

I think you should have removed the whitespace changes to `module_list.py` (see [comment:21]) but I guess it's too late now.



---

archive/issue_events_274524.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-19T14:15:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274524"
}
```



---

archive/issue_events_274525.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-19T14:15:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274525"
}
```



---

archive/issue_comments_273005.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\n\n```\nsage -t --long src/sage/graphs/graph.py\n**********************************************************************\nFile \"src/sage/graphs/graph.py\", line 2345, in sage.graphs.graph.Graph.treewidth\nFailed example:\n    Graph(1).treewidth()\nExpected:\n    0\nGot:\n    1\n**********************************************************************\nFile \"src/sage/graphs/graph.py\", line 2355, in sage.graphs.graph.Graph.treewidth\nFailed example:\n    graphs.PetersenGraph().treewidth(k=3,certificate=True)\nExpected:\n    Tree decomposition: Graph on 6 vertices\nGot:\n    False\n**********************************************************************\n1 item had failures:\n   2 of  30 in sage.graphs.graph.Graph.treewidth\n    [717 tests, 2 failures, 16.17 s]\nsage -t --long src/sage/graphs/graph_decompositions/tdlib.pyx\n**********************************************************************\nFile \"src/sage/graphs/graph_decompositions/tdlib.pyx\", line 126, in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact\nFailed example:\n    import sage.graphs.graph_decompositions.tdlib as tdlib\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.graph_decompositions.tdlib.treedecomposition_exact[0]>\", line 1, in <module>\n        import sage.graphs.graph_decompositions.tdlib as tdlib\n    ImportError: No module named tdlib\n**********************************************************************\nFile \"src/sage/graphs/graph_decompositions/tdlib.pyx\", line 128, in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact\nFailed example:\n    T = tdlib.treedecomposition_exact(G)\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.graph_decompositions.tdlib.treedecomposition_exact[2]>\", line 1, in <module>\n        T = tdlib.treedecomposition_exact(G)\n    NameError: name 'tdlib' is not defined\n**********************************************************************\nFile \"src/sage/graphs/graph_decompositions/tdlib.pyx\", line 129, in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact\nFailed example:\n    T.show(vertex_size=2000)\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.graph_decompositions.tdlib.treedecomposition_exact[3]>\", line 1, in <module>\n        T.show(vertex_size=Integer(2000))\n    NameError: name 'T' is not defined\n**********************************************************************\nFile \"src/sage/graphs/graph_decompositions/tdlib.pyx\", line 133, in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact\nFailed example:\n    import sage.graphs.graph_decompositions.tdlib as tdlib\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.graph_decompositions.tdlib.treedecomposition_exact[4]>\", line 1, in <module>\n        import sage.graphs.graph_decompositions.tdlib as tdlib\n    ImportError: No module named tdlib\n**********************************************************************\nFile \"src/sage/graphs/graph_decompositions/tdlib.pyx\", line 135, in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact\nFailed example:\n    T = tdlib.treedecomposition_exact(G)\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.graph_decompositions.tdlib.treedecomposition_exact[6]>\", line 1, in <module>\n        T = tdlib.treedecomposition_exact(G)\n    NameError: name 'tdlib' is not defined\n**********************************************************************\nFile \"src/sage/graphs/graph_decompositions/tdlib.pyx\", line 137, in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact\nFailed example:\n    T = tdlib.treedecomposition_exact(G)\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.graph_decompositions.tdlib.treedecomposition_exact[8]>\", line 1, in <module>\n        T = tdlib.treedecomposition_exact(G)\n    NameError: name 'tdlib' is not defined\n**********************************************************************\nFile \"src/sage/graphs/graph_decompositions/tdlib.pyx\", line 173, in sage.graphs.graph_decompositions.tdlib.get_width\nFailed example:\n    import sage.graphs.graph_decompositions.tdlib as tdlib\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.graph_decompositions.tdlib.get_width[0]>\", line 1, in <module>\n        import sage.graphs.graph_decompositions.tdlib as tdlib\n    ImportError: No module named tdlib\n**********************************************************************\nFile \"src/sage/graphs/graph_decompositions/tdlib.pyx\", line 175, in sage.graphs.graph_decompositions.tdlib.get_width\nFailed example:\n    T = tdlib.treedecomposition_exact(G)\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.graph_decompositions.tdlib.get_width[2]>\", line 1, in <module>\n        T = tdlib.treedecomposition_exact(G)\n    NameError: name 'tdlib' is not defined\n**********************************************************************\nFile \"src/sage/graphs/graph_decompositions/tdlib.pyx\", line 176, in sage.graphs.graph_decompositions.tdlib.get_width\nFailed example:\n    tdlib.get_width(T)\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.graph_decompositions.tdlib.get_width[3]>\", line 1, in <module>\n        tdlib.get_width(T)\n    NameError: name 'tdlib' is not defined\n**********************************************************************\n2 items had failures:\n   3 of   5 in sage.graphs.graph_decompositions.tdlib.get_width\n   6 of  10 in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact\n    [13 tests, 9 failures, 0.01 s]\n```",
    "created_at": "2015-11-19T14:15:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-273005",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:74" align="right">comment:74</div>


```
sage -t --long src/sage/graphs/graph.py
**********************************************************************
File "src/sage/graphs/graph.py", line 2345, in sage.graphs.graph.Graph.treewidth
Failed example:
    Graph(1).treewidth()
Expected:
    0
Got:
    1
**********************************************************************
File "src/sage/graphs/graph.py", line 2355, in sage.graphs.graph.Graph.treewidth
Failed example:
    graphs.PetersenGraph().treewidth(k=3,certificate=True)
Expected:
    Tree decomposition: Graph on 6 vertices
Got:
    False
**********************************************************************
1 item had failures:
   2 of  30 in sage.graphs.graph.Graph.treewidth
    [717 tests, 2 failures, 16.17 s]
sage -t --long src/sage/graphs/graph_decompositions/tdlib.pyx
**********************************************************************
File "src/sage/graphs/graph_decompositions/tdlib.pyx", line 126, in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact
Failed example:
    import sage.graphs.graph_decompositions.tdlib as tdlib
Exception raised:
    Traceback (most recent call last):
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.graph_decompositions.tdlib.treedecomposition_exact[0]>", line 1, in <module>
        import sage.graphs.graph_decompositions.tdlib as tdlib
    ImportError: No module named tdlib
**********************************************************************
File "src/sage/graphs/graph_decompositions/tdlib.pyx", line 128, in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact
Failed example:
    T = tdlib.treedecomposition_exact(G)
Exception raised:
    Traceback (most recent call last):
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.graph_decompositions.tdlib.treedecomposition_exact[2]>", line 1, in <module>
        T = tdlib.treedecomposition_exact(G)
    NameError: name 'tdlib' is not defined
**********************************************************************
File "src/sage/graphs/graph_decompositions/tdlib.pyx", line 129, in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact
Failed example:
    T.show(vertex_size=2000)
Exception raised:
    Traceback (most recent call last):
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.graph_decompositions.tdlib.treedecomposition_exact[3]>", line 1, in <module>
        T.show(vertex_size=Integer(2000))
    NameError: name 'T' is not defined
**********************************************************************
File "src/sage/graphs/graph_decompositions/tdlib.pyx", line 133, in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact
Failed example:
    import sage.graphs.graph_decompositions.tdlib as tdlib
Exception raised:
    Traceback (most recent call last):
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.graph_decompositions.tdlib.treedecomposition_exact[4]>", line 1, in <module>
        import sage.graphs.graph_decompositions.tdlib as tdlib
    ImportError: No module named tdlib
**********************************************************************
File "src/sage/graphs/graph_decompositions/tdlib.pyx", line 135, in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact
Failed example:
    T = tdlib.treedecomposition_exact(G)
Exception raised:
    Traceback (most recent call last):
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.graph_decompositions.tdlib.treedecomposition_exact[6]>", line 1, in <module>
        T = tdlib.treedecomposition_exact(G)
    NameError: name 'tdlib' is not defined
**********************************************************************
File "src/sage/graphs/graph_decompositions/tdlib.pyx", line 137, in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact
Failed example:
    T = tdlib.treedecomposition_exact(G)
Exception raised:
    Traceback (most recent call last):
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.graph_decompositions.tdlib.treedecomposition_exact[8]>", line 1, in <module>
        T = tdlib.treedecomposition_exact(G)
    NameError: name 'tdlib' is not defined
**********************************************************************
File "src/sage/graphs/graph_decompositions/tdlib.pyx", line 173, in sage.graphs.graph_decompositions.tdlib.get_width
Failed example:
    import sage.graphs.graph_decompositions.tdlib as tdlib
Exception raised:
    Traceback (most recent call last):
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.graph_decompositions.tdlib.get_width[0]>", line 1, in <module>
        import sage.graphs.graph_decompositions.tdlib as tdlib
    ImportError: No module named tdlib
**********************************************************************
File "src/sage/graphs/graph_decompositions/tdlib.pyx", line 175, in sage.graphs.graph_decompositions.tdlib.get_width
Failed example:
    T = tdlib.treedecomposition_exact(G)
Exception raised:
    Traceback (most recent call last):
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.graph_decompositions.tdlib.get_width[2]>", line 1, in <module>
        T = tdlib.treedecomposition_exact(G)
    NameError: name 'tdlib' is not defined
**********************************************************************
File "src/sage/graphs/graph_decompositions/tdlib.pyx", line 176, in sage.graphs.graph_decompositions.tdlib.get_width
Failed example:
    tdlib.get_width(T)
Exception raised:
    Traceback (most recent call last):
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.graph_decompositions.tdlib.get_width[3]>", line 1, in <module>
        tdlib.get_width(T)
    NameError: name 'tdlib' is not defined
**********************************************************************
2 items had failures:
   3 of   5 in sage.graphs.graph_decompositions.tdlib.get_width
   6 of  10 in sage.graphs.graph_decompositions.tdlib.treedecomposition_exact
    [13 tests, 9 failures, 0.01 s]
```



---

archive/issue_events_274526.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-11-19T14:32:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274526"
}
```



---

archive/issue_events_274527.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-11-19T14:32:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274527"
}
```



---

archive/issue_comments_273006.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nSorry, I was careless. 'optional' flags were missing in the second file, and the behaviour was sometimes wrong in the first one.\n\nLukas, as previously could you double check my last commit and change this ticket's status if you agree with it?\n\nNathann",
    "created_at": "2015-11-19T14:32:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-273006",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:75" align="right">comment:75</div>

Sorry, I was careless. 'optional' flags were missing in the second file, and the behaviour was sometimes wrong in the first one.

Lukas, as previously could you double check my last commit and change this ticket's status if you agree with it?

Nathann



---

archive/issue_comments_273007.json:
```json
{
    "body": "Changed commit from **[`e4be4be`](https://github.com/sagemath/sagetrac-mirror/commit/e4be4beca56646e3284ec1ef25dded29a92e1f48)** to **[`663b9a9`](https://github.com/sagemath/sagetrac-mirror/commit/663b9a9aa6a88904499877740913031fe791432a)**",
    "created_at": "2015-11-19T14:33:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-273007",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e4be4be`](https://github.com/sagemath/sagetrac-mirror/commit/e4be4beca56646e3284ec1ef25dded29a92e1f48)** to **[`663b9a9`](https://github.com/sagemath/sagetrac-mirror/commit/663b9a9aa6a88904499877740913031fe791432a)**



---

archive/issue_comments_273008.json:
```json
{
    "body": "<div id=\"comment:76\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/663b9a9aa6a88904499877740913031fe791432a\"><code>663b9a9</code></a></td><td><code>trac #19249: Broken doctests</code></td></tr></table>\n",
    "created_at": "2015-11-19T14:33:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-273008",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:76"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/663b9a9aa6a88904499877740913031fe791432a"><code>663b9a9</code></a></td><td><code>trac #19249: Broken doctests</code></td></tr></table>




---

archive/issue_comments_273009.json:
```json
{
    "body": "Changed commit from **[`663b9a9`](https://github.com/sagemath/sagetrac-mirror/commit/663b9a9aa6a88904499877740913031fe791432a)** to **[`0308199`](https://github.com/sagemath/sagetrac-mirror/commit/030819926c0e666d6bef48674493a34dd6732b60)**",
    "created_at": "2015-11-19T14:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-273009",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`663b9a9`](https://github.com/sagemath/sagetrac-mirror/commit/663b9a9aa6a88904499877740913031fe791432a)** to **[`0308199`](https://github.com/sagemath/sagetrac-mirror/commit/030819926c0e666d6bef48674493a34dd6732b60)**



---

archive/issue_comments_273010.json:
```json
{
    "body": "<div id=\"comment:77\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6bbdcff697e85f7ae6358e4b15b7d9c6d3ecff6\"><code>a6bbdcf</code></a></td><td><code>Interface with TdLib, a library concerning treedecompositions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/030819926c0e666d6bef48674493a34dd6732b60\"><code>0308199</code></a></td><td><code>trac #19249: Broken doctests</code></td></tr></table>\n",
    "created_at": "2015-11-19T14:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-273010",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:77"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6bbdcff697e85f7ae6358e4b15b7d9c6d3ecff6"><code>a6bbdcf</code></a></td><td><code>Interface with TdLib, a library concerning treedecompositions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/030819926c0e666d6bef48674493a34dd6732b60"><code>0308199</code></a></td><td><code>trac #19249: Broken doctests</code></td></tr></table>




---

archive/issue_comments_273011.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nI rebased and squashed the commits which were previously positively reviewed, removing the whitespace changes in `src/module_list.py`. [Nathann's commit](https://github.com/sagemath/sagetrac-mirror/commit/030819926c0e666d6bef48674493a34dd6732b60) still needs review.",
    "created_at": "2015-11-19T14:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-273011",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:78" align="right">comment:78</div>

I rebased and squashed the commits which were previously positively reviewed, removing the whitespace changes in `src/module_list.py`. [Nathann's commit](https://github.com/sagemath/sagetrac-mirror/commit/030819926c0e666d6bef48674493a34dd6732b60) still needs review.



---

archive/issue_events_274528.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-19T15:14:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274528"
}
```



---

archive/issue_events_274529.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-19T15:14:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274529"
}
```



---

archive/issue_events_274530.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-21T00:31:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274530"
}
```



---

archive/issue_events_274531.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f04c3c7bc1458c3a9c1f68c49811325500321d26",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-11-21T00:31:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19249#event-274531"
}
```



---

archive/issue_comments_273012.json:
```json
{
    "body": "Changed branch from **[public/19249](https://github.com/sagemath/sagetrac-mirror/tree/public/19249)** to **[`0308199`](https://github.com/sagemath/sagetrac-mirror/commit/030819926c0e666d6bef48674493a34dd6732b60)**",
    "created_at": "2015-11-21T00:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19249",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19249#issuecomment-273012",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/19249](https://github.com/sagemath/sagetrac-mirror/tree/public/19249)** to **[`0308199`](https://github.com/sagemath/sagetrac-mirror/commit/030819926c0e666d6bef48674493a34dd6732b60)**
