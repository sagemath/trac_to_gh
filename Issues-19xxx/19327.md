# Issue 19327: Symmetric group characters as bases of the symmetric functions

archive/issues_019090.json:
```json
{
    "body": "This ticket implements two inhomogeneous bases of the symmetric functions, one called the `irreducible_character` and the other `induced_trivial_character` and shorthands `st` and `ht`.  These bases play the roll for the symmetric group realized as permutation matrices that the Schur functions play to the character of the irreducible Gl_n representations.\n\nIn addition, two methods are added to the symmetric function element class.  One `eval_at_permutation_roots` that evaluates a symmetric function at the roots of unity of a permutation matrix with a given cycle type and the other, `character_to_frobenius_image`, interprets a symmetric function as a symmetric group character and computes the Frobenius image.\n\nCC:  @tscrim sage-combinat @alauve @saliola @darijgr\n\nKeywords: sf, sage-combinat\n\nBranch/Commit: 84f5917bbf3ffa4d7fc04b1abe2220e8871060b9\n\nReviewer: Travis Scrimshaw\n\nAuthor: Mike Zabrocki\n\nDependencies: #15536\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19327\n\n",
    "closed_at": "2015-11-03T23:59:23Z",
    "created_at": "2015-10-01T15:05:55Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Symmetric group characters as bases of the symmetric functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19327",
    "user": "https://github.com/zabrocki"
}
```
This ticket implements two inhomogeneous bases of the symmetric functions, one called the `irreducible_character` and the other `induced_trivial_character` and shorthands `st` and `ht`.  These bases play the roll for the symmetric group realized as permutation matrices that the Schur functions play to the character of the irreducible Gl_n representations.

In addition, two methods are added to the symmetric function element class.  One `eval_at_permutation_roots` that evaluates a symmetric function at the roots of unity of a permutation matrix with a given cycle type and the other, `character_to_frobenius_image`, interprets a symmetric function as a symmetric group character and computes the Frobenius image.

CC:  @tscrim sage-combinat @alauve @saliola @darijgr

Keywords: sf, sage-combinat

Branch/Commit: 84f5917bbf3ffa4d7fc04b1abe2220e8871060b9

Reviewer: Travis Scrimshaw

Author: Mike Zabrocki

Dependencies: #15536

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19327





---

archive/issue_comments_278684.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2015-10-02T12:07:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278684",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_278685.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-03T03:14:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278685",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_278686.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-05T11:32:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278686",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_278687.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-10-05T11:38:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278687",
    "user": "https://github.com/zabrocki"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_278688.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-05T11:43:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278688",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_278689.json:
```json
{
    "body": "<a id='comment:7'></a>You might be interested in #15536 (symplectic and orthogonal bases for `Sym` based off Chari and Kleber's work) and #17096 (filtered algebras).\n\nThere is also a failing doctest according to the patchbot.",
    "created_at": "2015-10-06T02:35:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278689",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>You might be interested in #15536 (symplectic and orthogonal bases for `Sym` based off Chari and Kleber's work) and #17096 (filtered algebras).

There is also a failing doctest according to the patchbot.



---

archive/issue_comments_278690.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-10-06T13:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278690",
    "user": "https://github.com/zabrocki"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_278691.json:
```json
{
    "body": "<a id='comment:8'></a>This basis is similar to those found in #15536.  In fact the orthogonal basis will have a positive expansion in the `irreducible_symmetric_group_character` basis (because permutation matrices are orthogonal).  As a result I've added the filtered algebras ticket as a dependency.  I checked and these bases also have an antipode problem and probably suffer from the same counit issue that the `sp` and `o` bases had at the start.\n\nI merged #17096 into this branch on my computer and compilings starting failing.  Given that I am on OSX 10.11 and Xcode 7 this means trouble for me because I have been in a precarious situation where compiling sage from scratch makes it unusable.",
    "created_at": "2015-10-06T13:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278691",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:8'></a>This basis is similar to those found in #15536.  In fact the orthogonal basis will have a positive expansion in the `irreducible_symmetric_group_character` basis (because permutation matrices are orthogonal).  As a result I've added the filtered algebras ticket as a dependency.  I checked and these bases also have an antipode problem and probably suffer from the same counit issue that the `sp` and `o` bases had at the start.

I merged #17096 into this branch on my computer and compilings starting failing.  Given that I am on OSX 10.11 and Xcode 7 this means trouble for me because I have been in a precarious situation where compiling sage from scratch makes it unusable.



---

archive/issue_comments_278692.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-06T13:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278692",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_278693.json:
```json
{
    "body": "<a id='comment:10'></a>Do you want me to make the changes to work with #17096 (similar to what I did in #15536) while compiling Sage for you as part of my review?",
    "created_at": "2015-10-06T21:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278693",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>Do you want me to make the changes to work with #17096 (similar to what I did in #15536) while compiling Sage for you as part of my review?



---

archive/issue_comments_278694.json:
```json
{
    "body": "<a id='comment:11'></a>If you are willing.  If I understand the changes, it is to merge with #17096, make sure that the `counit` works + put `graded=False` in the `SFA_generic.__init__`.  The two `TestSuite` docs will fail until the `counit` is correct on the basis.",
    "created_at": "2015-10-06T23:05:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278694",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:11'></a>If you are willing.  If I understand the changes, it is to merge with #17096, make sure that the `counit` works + put `graded=False` in the `SFA_generic.__init__`.  The two `TestSuite` docs will fail until the `counit` is correct on the basis.



---

archive/issue_comments_278695.json:
```json
{
    "body": "<a id='comment:12'></a>Okay, I've made both the counit and antipode work by coercion (although it seems that I don't need to do the former as `h[[]] <-> ht[[]] <-> st[[]]`). However, I'm still not getting the antipode test to pass. I would think any change of basis (as a filtered module) would preserve the Hopf algebra structure. I've checked that it is an isomorphism, but I don't get why it's not working. Thoughts?\n\n---\nLast 10 new commits:",
    "created_at": "2015-10-07T19:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278695",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>Okay, I've made both the counit and antipode work by coercion (although it seems that I don't need to do the former as `h[[]] <-> ht[[]] <-> st[[]]`). However, I'm still not getting the antipode test to pass. I would think any change of basis (as a filtered module) would preserve the Hopf algebra structure. I've checked that it is an isomorphism, but I don't get why it's not working. Thoughts?

---
Last 10 new commits:



---

archive/issue_comments_278696.json:
```json
{
    "body": "<a id='comment:13'></a>When you say it doesn't work, are you finding that it isn't an algebra homomorphism?  I think that was what was failing before.",
    "created_at": "2015-10-07T19:41:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278696",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:13'></a>When you say it doesn't work, are you finding that it isn't an algebra homomorphism?  I think that was what was failing before.



---

archive/issue_comments_278697.json:
```json
{
    "body": "<a id='comment:14'></a>No, it appears to be an algebra homomorphism:\n\n```\nsage: all(ht[la]*ht[mu] == ht(h(ht[la])*h(ht[mu])) for i in range(5) for la in Partitions(i) for j in range(5) for mu in Partitions(j))\nTrue\nsage: all(h[la]*h[mu] == h(ht(h[la])*ht(h[mu])) for i in range(5) for la in Partitions(i) for j in range(5) for mu in Partitions(j))\nTrue\nsage: ht.an_element() * ht.an_element() == ht(h(ht.an_element()) * h(ht.an_element()))\nTrue\n```",
    "created_at": "2015-10-07T21:46:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278697",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>No, it appears to be an algebra homomorphism:

```
sage: all(ht[la]*ht[mu] == ht(h(ht[la])*h(ht[mu])) for i in range(5) for la in Partitions(i) for j in range(5) for mu in Partitions(j))
True
sage: all(h[la]*h[mu] == h(ht(h[la])*ht(h[mu])) for i in range(5) for la in Partitions(i) for j in range(5) for mu in Partitions(j))
True
sage: ht.an_element() * ht.an_element() == ht(h(ht.an_element()) * h(ht.an_element()))
True
```



---

archive/issue_comments_278698.json:
```json
{
    "body": "<a id='comment:15'></a>Here is the cause of the doc tests failing.\n\n```\nsage: 7*st[[]]*st[[]]\nst[]\n```\nI have no idea where this error is coming from though.",
    "created_at": "2015-10-08T03:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278698",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:15'></a>Here is the cause of the doc tests failing.

```
sage: 7*st[[]]*st[[]]
st[]
```
I have no idea where this error is coming from though.



---

archive/issue_comments_278699.json:
```json
{
    "body": "<a id='comment:16'></a>OK, I found the error.  It is in `_other_to_self` and you need to change the line\n\n```\n-            return self([])\n+            return sexpr.coefficient([]) * self([])\n```\nI can't seem to push because I am ssh-ing to a remote non-OSX 10.11 Xcode 7 computer and git isn't set up properly.  When I get that working I will be able to push a change.",
    "created_at": "2015-10-08T04:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278699",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:16'></a>OK, I found the error.  It is in `_other_to_self` and you need to change the line

```
-            return self([])
+            return sexpr.coefficient([]) * self([])
```
I can't seem to push because I am ssh-ing to a remote non-OSX 10.11 Xcode 7 computer and git isn't set up properly.  When I get that working I will be able to push a change.



---

archive/issue_comments_278700.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-08T05:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278700",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_053499.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-10-08T05:15:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19327#event-53499"
}
```



---

archive/issue_comments_278701.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-10-08T05:15:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278701",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_278702.json:
```json
{
    "body": "<a id='comment:18'></a>Yep, that was the problem.",
    "created_at": "2015-10-08T05:15:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278702",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>Yep, that was the problem.



---

archive/issue_comments_278703.json:
```json
{
    "body": "<a id='comment:20'></a>So if you're happy with my changes, then I'm content to set a positive review.",
    "created_at": "2015-10-08T05:17:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278703",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>So if you're happy with my changes, then I'm content to set a positive review.



---

archive/issue_comments_278704.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2015-11-02T13:04:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278704",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_278705.json:
```json
{
    "body": "<a id='comment:22'></a>LGTM. Thanks.",
    "created_at": "2015-11-02T14:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278705",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>LGTM. Thanks.



---

archive/issue_comments_278706.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n This ticket implements two inhomogeneous bases of the symmetric functions, one called the \\`irreducible_character\\` and the other \\`induced_trivial_character\\` and shorthands \\`st\\` and \\`ht\\`.  These bases play the roll for the symmetric group realized as permutation matrices that the Schur functions play to the character of the irreducible Gl_n representations.\n \n-In addition, two methods are added to the symmetric function element class.  One \\`eval_at_permutation_roots\\` that evaluates a symmetric function at the roots of unity of a permutation matrix with a given cycle type and the other, \\`eval_at_permutation_roots\\`, interprets a symmetric function as a symmetric group character and computes the Frobenius image.\n+In addition, two methods are added to the symmetric function element class.  One \\`eval_at_permutation_roots\\` that evaluates a symmetric function at the roots of unity of a permutation matrix with a given cycle type and the other, \\`character_to_frobenius_image\\`, interprets a symmetric function as a symmetric group character and computes the Frobenius image.\n \n Author: Mike Zabrocki\n \n```\n",
    "created_at": "2015-11-02T15:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278706",
    "user": "https://github.com/zabrocki"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,6 +1,6 @@
 This ticket implements two inhomogeneous bases of the symmetric functions, one called the \`irreducible_character\` and the other \`induced_trivial_character\` and shorthands \`st\` and \`ht\`.  These bases play the roll for the symmetric group realized as permutation matrices that the Schur functions play to the character of the irreducible Gl_n representations.
 
-In addition, two methods are added to the symmetric function element class.  One \`eval_at_permutation_roots\` that evaluates a symmetric function at the roots of unity of a permutation matrix with a given cycle type and the other, \`eval_at_permutation_roots\`, interprets a symmetric function as a symmetric group character and computes the Frobenius image.
+In addition, two methods are added to the symmetric function element class.  One \`eval_at_permutation_roots\` that evaluates a symmetric function at the roots of unity of a permutation matrix with a given cycle type and the other, \`character_to_frobenius_image\`, interprets a symmetric function as a symmetric group character and computes the Frobenius image.
 
 Author: Mike Zabrocki
 
```




---

archive/issue_comments_278707.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-11-02T15:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278707",
    "user": "https://github.com/zabrocki"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_278708.json:
```json
{
    "body": "<a id='comment:23'></a>I've checked that all tests pass.",
    "created_at": "2015-11-02T15:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278708",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:23'></a>I've checked that all tests pass.



---

archive/issue_comments_278709.json:
```json
{
    "body": "<a id='comment:24'></a>I thought I had set it to positive review. Whoops. :P",
    "created_at": "2015-11-02T15:06:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278709",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:24'></a>I thought I had set it to positive review. Whoops. :P



---

archive/issue_comments_278710.json:
```json
{
    "body": "<a id='comment:25'></a>Thanks for the review and pushing forward on #15536 and this one.  Without finding a solution there, this ticket was going nowhere.",
    "created_at": "2015-11-02T16:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278710",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:25'></a>Thanks for the review and pushing forward on #15536 and this one.  Without finding a solution there, this ticket was going nowhere.



---

archive/issue_events_053500.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-03T23:59:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19327#event-53500"
}
```



---

archive/issue_comments_278711.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-11-03T23:59:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19327#issuecomment-278711",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
