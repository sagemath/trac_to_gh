# Issue 19538: Fix LaurentPolynomialRing coercion issues

archive/issues_019301.json:
```json
{
    "assignees": [],
    "body": "`LaurentPolynomialRing` has some issues when trying to compare elements from different rings:\n\n```\nsage: L1 = LaurentPolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')\nsage: L2 = LaurentPolynomialRing(ZZ, 'y0,y1,y2')\nsage: L2.gen(0) in L1\nFalse\nsage: L1(L2.gen(0))\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: tuple key must have same length as ngens\n```\n\nThe corresponding code for `PolynomialRing` yields\n\n```\nsage: P1 = PolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')\nsage: P2 = PolynomialRing(ZZ, 'y0,y1,y2')\nsage: P2.gen(0) in P1\nTrue\nsage: P1(P2.gen(0))\ny0\n```\n\n\nThis patch should fix them. In the process it also changes this somewhat weird behaviour:\n\n```\nsage: L = LaurentPolynomialRing(ZZ, 'x', 4)\nsage: R = LaurentPolynomialRing(ZZ, 'x3,x2,t,s')\nsage: R.inject_variables()\nDefining x3, x2, t, s\nsage: L(x3)\nx0\nsage: L(t)\nx2\n```\n\nNOTE: This behaviour still survives in `PolynomialRing`\n\n\nCC:  @sagetrac-drupel @tscrim\n\nBranch/Commit: **[`a1b0b8d`](https://github.com/sagemath/sagetrac-mirror/commit/a1b0b8d5369562bd122032af825bcdbd82ccb776)**\n\nReviewer: **Dylan Rupel**\n\nAuthor: **Salvatore Stella**\n\nComponent: **algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19538_\n\n",
    "closed_at": "2016-08-19T22:45:15Z",
    "created_at": "2015-11-06T15:28:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix LaurentPolynomialRing coercion issues",
    "type": "issue",
    "updated_at": "2016-08-19T22:45:15Z",
    "url": "https://github.com/sagemath/sage/issues/19538",
    "user": "https://github.com/etn40ff"
}
```
`LaurentPolynomialRing` has some issues when trying to compare elements from different rings:

```
sage: L1 = LaurentPolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')
sage: L2 = LaurentPolynomialRing(ZZ, 'y0,y1,y2')
sage: L2.gen(0) in L1
False
sage: L1(L2.gen(0))
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: tuple key must have same length as ngens
```

The corresponding code for `PolynomialRing` yields

```
sage: P1 = PolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')
sage: P2 = PolynomialRing(ZZ, 'y0,y1,y2')
sage: P2.gen(0) in P1
True
sage: P1(P2.gen(0))
y0
```


This patch should fix them. In the process it also changes this somewhat weird behaviour:

```
sage: L = LaurentPolynomialRing(ZZ, 'x', 4)
sage: R = LaurentPolynomialRing(ZZ, 'x3,x2,t,s')
sage: R.inject_variables()
Defining x3, x2, t, s
sage: L(x3)
x0
sage: L(t)
x2
```

NOTE: This behaviour still survives in `PolynomialRing`


CC:  @sagetrac-drupel @tscrim

Branch/Commit: **[`a1b0b8d`](https://github.com/sagemath/sagetrac-mirror/commit/a1b0b8d5369562bd122032af825bcdbd82ccb776)**

Reviewer: **Dylan Rupel**

Author: **Salvatore Stella**

Component: **algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/19538_





---

archive/issue_events_276829.json:
```json
{
    "actor": "https://github.com/etn40ff",
    "created_at": "2015-11-06T15:28:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276829"
}
```



---

archive/issue_events_276830.json:
```json
{
    "actor": "https://github.com/etn40ff",
    "created_at": "2015-11-06T15:28:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276830"
}
```



---

archive/issue_comments_278268.json:
```json
{
    "body": "Branch: **[u/etn40ff/sub_laurent_poly](https://github.com/sagemath/sagetrac-mirror/tree/u/etn40ff/sub_laurent_poly)**",
    "created_at": "2015-11-06T15:34:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278268",
    "user": "https://github.com/etn40ff"
}
```

Branch: **[u/etn40ff/sub_laurent_poly](https://github.com/sagemath/sagetrac-mirror/tree/u/etn40ff/sub_laurent_poly)**



---

archive/issue_comments_278269.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,26 @@\n+`LaurentPolynomialRing` has some issues when trying to compare elements from different rings:\n \n+```\n+sage: L = LaurentPolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')\n+sage: P = LaurentPolynomialRing(ZZ, 'y0,y1,y2')\n+sage: P.inject_variables()\n+Defining y0, y1, y2\n+sage: y0 in L\n+False\n+```\n+\n+This patch should fix them. In the process it also changes this somewhat weird behaviour:\n+\n+```\n+sage: L = LaurentPolynomialRing(ZZ, 'x', 4)\n+sage: R = LaurentPolynomialRing(ZZ, 'x3,x2,t,s')\n+sage: R.inject_variables()\n+Defining x3, x2, t, s\n+sage: L(x3)\n+x0\n+sage: L(t)\n+x2\n+```\n+\n+NOTE: This behaviour still survives in `PolynomialRing`\n+\n``````\n",
    "created_at": "2015-11-06T15:53:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278269",
    "user": "https://github.com/etn40ff"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,26 @@
+`LaurentPolynomialRing` has some issues when trying to compare elements from different rings:
 
+```
+sage: L = LaurentPolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')
+sage: P = LaurentPolynomialRing(ZZ, 'y0,y1,y2')
+sage: P.inject_variables()
+Defining y0, y1, y2
+sage: y0 in L
+False
+```
+
+This patch should fix them. In the process it also changes this somewhat weird behaviour:
+
+```
+sage: L = LaurentPolynomialRing(ZZ, 'x', 4)
+sage: R = LaurentPolynomialRing(ZZ, 'x3,x2,t,s')
+sage: R.inject_variables()
+Defining x3, x2, t, s
+sage: L(x3)
+x0
+sage: L(t)
+x2
+```
+
+NOTE: This behaviour still survives in `PolynomialRing`
+
``````




---

archive/issue_comments_278270.json:
```json
{
    "body": "Author: **Salvatore Stella**",
    "created_at": "2015-11-06T15:53:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278270",
    "user": "https://github.com/etn40ff"
}
```

Author: **Salvatore Stella**



---

archive/issue_events_276831.json:
```json
{
    "actor": "https://github.com/etn40ff",
    "created_at": "2015-11-06T15:53:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276831"
}
```



---

archive/issue_events_276832.json:
```json
{
    "actor": "https://github.com/etn40ff",
    "created_at": "2015-11-06T15:53:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276832"
}
```



---

archive/issue_events_276833.json:
```json
{
    "actor": "https://github.com/etn40ff",
    "created_at": "2015-11-06T15:53:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276833"
}
```



---

archive/issue_comments_278271.json:
```json
{
    "body": "Commit: **[`94635cc`](https://github.com/sagemath/sagetrac-mirror/commit/94635cc51e5ff4c02f13b6c7a65d944c07783374)**",
    "created_at": "2015-11-06T15:53:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278271",
    "user": "https://github.com/etn40ff"
}
```

Commit: **[`94635cc`](https://github.com/sagemath/sagetrac-mirror/commit/94635cc51e5ff4c02f13b6c7a65d944c07783374)**



---

archive/issue_events_276834.json:
```json
{
    "actor": "https://github.com/etn40ff",
    "created_at": "2015-11-06T15:53:17Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "title_is": "Fix LaurentPolynomialRing coercion issues",
    "title_was": "Fix LaurentPolynomialRing cohercion issues",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276834"
}
```



---

archive/issue_comments_278272.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cca7f1e6bf7b4a456ba7e527693f48297b9ca9cf\"><code>cca7f1e</code></a></td><td><code>Fix coercion for LaurentPolynomialRing</code></td></tr></table>\n",
    "created_at": "2015-11-06T16:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278272",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cca7f1e6bf7b4a456ba7e527693f48297b9ca9cf"><code>cca7f1e</code></a></td><td><code>Fix coercion for LaurentPolynomialRing</code></td></tr></table>




---

archive/issue_comments_278273.json:
```json
{
    "body": "Changed commit from **[`94635cc`](https://github.com/sagemath/sagetrac-mirror/commit/94635cc51e5ff4c02f13b6c7a65d944c07783374)** to **[`cca7f1e`](https://github.com/sagemath/sagetrac-mirror/commit/cca7f1e6bf7b4a456ba7e527693f48297b9ca9cf)**",
    "created_at": "2015-11-06T16:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278273",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`94635cc`](https://github.com/sagemath/sagetrac-mirror/commit/94635cc51e5ff4c02f13b6c7a65d944c07783374)** to **[`cca7f1e`](https://github.com/sagemath/sagetrac-mirror/commit/cca7f1e6bf7b4a456ba7e527693f48297b9ca9cf)**



---

archive/issue_comments_278274.json:
```json
{
    "body": "Changed branch from **[u/etn40ff/sub_laurent_poly](https://github.com/sagemath/sagetrac-mirror/tree/u/etn40ff/sub_laurent_poly)** to **[u/etn40ff/19358](https://github.com/sagemath/sagetrac-mirror/tree/u/etn40ff/19358)**",
    "created_at": "2015-11-06T18:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278274",
    "user": "https://github.com/etn40ff"
}
```

Changed branch from **[u/etn40ff/sub_laurent_poly](https://github.com/sagemath/sagetrac-mirror/tree/u/etn40ff/sub_laurent_poly)** to **[u/etn40ff/19358](https://github.com/sagemath/sagetrac-mirror/tree/u/etn40ff/19358)**



---

archive/issue_comments_278275.json:
```json
{
    "body": "Changed commit from **[`cca7f1e`](https://github.com/sagemath/sagetrac-mirror/commit/cca7f1e6bf7b4a456ba7e527693f48297b9ca9cf)** to **[`76ac433`](https://github.com/sagemath/sagetrac-mirror/commit/76ac4339b195762106d406516400f8468de844ef)**",
    "created_at": "2015-11-06T18:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278275",
    "user": "https://github.com/etn40ff"
}
```

Changed commit from **[`cca7f1e`](https://github.com/sagemath/sagetrac-mirror/commit/cca7f1e6bf7b4a456ba7e527693f48297b9ca9cf)** to **[`76ac433`](https://github.com/sagemath/sagetrac-mirror/commit/76ac4339b195762106d406516400f8468de844ef)**



---

archive/issue_comments_278276.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c784bce5c0a3823443b0033bf424f954d94810fa\"><code>c784bce</code></a></td><td><code>Fix coercion for LaurentPolynomialRing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76ac4339b195762106d406516400f8468de844ef\"><code>76ac433</code></a></td><td><code>Improved doctest</code></td></tr></table>\n",
    "created_at": "2015-11-06T18:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278276",
    "user": "https://github.com/etn40ff"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c784bce5c0a3823443b0033bf424f954d94810fa"><code>c784bce</code></a></td><td><code>Fix coercion for LaurentPolynomialRing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76ac4339b195762106d406516400f8468de844ef"><code>76ac433</code></a></td><td><code>Improved doctest</code></td></tr></table>




---

archive/issue_comments_278277.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\n* Is `x.parent().gens()` guaranteed to always come in the same order?\n* You use `x.parent().gens()` and also `parent`. Please use the better of the two always\n* Have you done some timing tests whether this slows down stuff?",
    "created_at": "2016-04-05T16:13:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278277",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:5" align="right">comment:5</div>

* Is `x.parent().gens()` guaranteed to always come in the same order?
* You use `x.parent().gens()` and also `parent`. Please use the better of the two always
* Have you done some timing tests whether this slows down stuff?



---

archive/issue_comments_278278.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nWith respect to the second point (conversion) the behavior should be the same as in `PolynomialRing`. Having two different conversion conventions is more confusing than having a \"bad\" one.",
    "created_at": "2016-04-05T17:27:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278278",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">comment:6</div>

With respect to the second point (conversion) the behavior should be the same as in `PolynomialRing`. Having two different conversion conventions is more confusing than having a "bad" one.



---

archive/issue_comments_278279.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n@stumpc5\n\n- `x.parent().gens()` should return `x.parent()._gens` which is a tuple\n  so the order should be fixed.\n\n- `x.parent().gens()` and also `parent` are in general different, the\n  whole purpose of this patch is to make sure that, when they differ, some\n  natural coercion can still be implemented.\n\n- I did not run precise tests but I expect the new version to be slower than the\n  old one (maybe even significantly slower); the point though is that the\n  current version is not working as it should. I could make a much faster\n  function that returns some hardcoded nonsense but it would clearly not be the\n  right function. More seriously I should run some benchmark, any idea on which?\n\n@videlec\n\nI agree that the behaviour of `LaurentPolynomialRing` and that of\n`PolynomialRing` should be the same. The point is that currently they are\nnot.\n\nFor example the same code in the ticket description evaluates to\n\n```\nsage: L = PolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')\nsage: P = PolynomialRing(ZZ, 'y0,y1,y2')\nsage: P.inject_variables()\nDefining y0, y1, y2\nsage: y0 in L\nTrue\nsage: L = PolynomialRing(ZZ, 'x', 4)\nsage: R = PolynomialRing(ZZ, 'x3,x2,t,s')\nsage: R.inject_variables()\nDefining x3, x2, t, s\nsage: L(x3)\nx0\nsage: L(t)\nx2\n```\n\nI do not know how to fix the first issue in the ticket description while leaving the second one as is. This patch just exchange one inconsistent behavior for another. Any Idea on how to deal with this in a more elegant/consistent/efficient way is extremely welcome.",
    "created_at": "2016-04-05T22:00:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278279",
    "user": "https://github.com/etn40ff"
}
```

<div id="comment:7" align="right">comment:7</div>

@stumpc5

- `x.parent().gens()` should return `x.parent()._gens` which is a tuple
  so the order should be fixed.

- `x.parent().gens()` and also `parent` are in general different, the
  whole purpose of this patch is to make sure that, when they differ, some
  natural coercion can still be implemented.

- I did not run precise tests but I expect the new version to be slower than the
  old one (maybe even significantly slower); the point though is that the
  current version is not working as it should. I could make a much faster
  function that returns some hardcoded nonsense but it would clearly not be the
  right function. More seriously I should run some benchmark, any idea on which?

@videlec

I agree that the behaviour of `LaurentPolynomialRing` and that of
`PolynomialRing` should be the same. The point is that currently they are
not.

For example the same code in the ticket description evaluates to

```
sage: L = PolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')
sage: P = PolynomialRing(ZZ, 'y0,y1,y2')
sage: P.inject_variables()
Defining y0, y1, y2
sage: y0 in L
True
sage: L = PolynomialRing(ZZ, 'x', 4)
sage: R = PolynomialRing(ZZ, 'x3,x2,t,s')
sage: R.inject_variables()
Defining x3, x2, t, s
sage: L(x3)
x0
sage: L(t)
x2
```

I do not know how to fix the first issue in the ticket description while leaving the second one as is. This patch just exchange one inconsistent behavior for another. Any Idea on how to deal with this in a more elegant/consistent/efficient way is extremely welcome.



---

archive/issue_comments_278280.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nUnless I did a mistake, the conversion rules are the same for `PolynomialRing` and `LaurentPolynomialRing` (but the semantic of the operation `in` is not as you noticed). The rules are as follows for a map `R -> S`:\n1. if the variables of `R` are included in the variables of `S` then the map `R -> S` is given by names of variables\n2. else if `R` has less or equal variables than `S`  then the map `R -> S` is given by the order of the variable\n3. else if some variable of `R` are present in `S` then there is a partial map considered\n4. otherwise an error is raised\n\n```\nsage: R1 = PolynomialRing(ZZ, 'x,y')\nsage: R2 = PolynomialRing(ZZ, 'x,t')\nsage: R3 = PolynomialRing(ZZ, 't,x')\nsage: R4 = PolynomialRing(ZZ, 'x,t,y')\nsage: map(R4, R1.gens()) # rule 1\n[x, y]\nsage: map(R4, R3.gens()) # rule 1\n[t, x]\nsage: map(R2, R1.gens())  # rule 2\n[x, t]\nsage: map(R1, R2.gens())  # rule 2\n[x, y]\nsage: R1(R4('y')) # rule 3\ny\nsage: R1(R4('t')) # rule 4\nTraceback (most recent call last):\n...\nTypeError: Could not find a mapping of the passed element to this ring.\n```\nThese rules should not change. You can have a look at the implementation of `_element_constructor_` for polynomial rings.",
    "created_at": "2016-04-06T00:49:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278280",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">comment:8</div>

Unless I did a mistake, the conversion rules are the same for `PolynomialRing` and `LaurentPolynomialRing` (but the semantic of the operation `in` is not as you noticed). The rules are as follows for a map `R -> S`:
1. if the variables of `R` are included in the variables of `S` then the map `R -> S` is given by names of variables
2. else if `R` has less or equal variables than `S`  then the map `R -> S` is given by the order of the variable
3. else if some variable of `R` are present in `S` then there is a partial map considered
4. otherwise an error is raised

```
sage: R1 = PolynomialRing(ZZ, 'x,y')
sage: R2 = PolynomialRing(ZZ, 'x,t')
sage: R3 = PolynomialRing(ZZ, 't,x')
sage: R4 = PolynomialRing(ZZ, 'x,t,y')
sage: map(R4, R1.gens()) # rule 1
[x, y]
sage: map(R4, R3.gens()) # rule 1
[t, x]
sage: map(R2, R1.gens())  # rule 2
[x, t]
sage: map(R1, R2.gens())  # rule 2
[x, y]
sage: R1(R4('y')) # rule 3
y
sage: R1(R4('t')) # rule 4
Traceback (most recent call last):
...
TypeError: Could not find a mapping of the passed element to this ring.
```
These rules should not change. You can have a look at the implementation of `_element_constructor_` for polynomial rings.



---

archive/issue_comments_278281.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nWhen I do the very same on `LaurentPolynomialRing`, I get into trouble, so I don't understand what you mean by \"the conversion rules are the same for `PolynomialRing` and `LaurentPolynomialRing`\", see\n\n```\nsage: R1 = LaurentPolynomialRing(ZZ, 'x,y')\nsage: R2 = LaurentPolynomialRing(ZZ, 'x,t')\nsage: R3 = LaurentPolynomialRing(ZZ, 't,x')\nsage: R4 = LaurentPolynomialRing(ZZ, 'x,t,y')\nsage: map(R4, R1.gens()) # rule 1            \n---------------------------------------------------------------------------\n...\nTypeError: tuple key must have same length as ngens\nsage: map(R4, R3.gens()) # rule 1            \n---------------------------------------------------------------------------\n...\nTypeError: tuple key must have same length as ngens\nsage: map(R1, R2.gens())  # rule 2           \n[x, y]\nsage: map(R2, R1.gens())  # rule 2           \n[x, t]\nsage: R1(R4('y')) # rule 3                   \n---------------------------------------------------------------------------\n...\nTypeError: tuple key must have same length as ngens\nsage: R1(R4('t')) # rule 4                   \n---------------------------------------------------------------------------\n...\nTypeError: tuple key must have same length as ngens\n```\nIs that behaviour what you expected?",
    "created_at": "2016-04-06T07:42:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278281",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:9" align="right">comment:9</div>

When I do the very same on `LaurentPolynomialRing`, I get into trouble, so I don't understand what you mean by "the conversion rules are the same for `PolynomialRing` and `LaurentPolynomialRing`", see

```
sage: R1 = LaurentPolynomialRing(ZZ, 'x,y')
sage: R2 = LaurentPolynomialRing(ZZ, 'x,t')
sage: R3 = LaurentPolynomialRing(ZZ, 't,x')
sage: R4 = LaurentPolynomialRing(ZZ, 'x,t,y')
sage: map(R4, R1.gens()) # rule 1            
---------------------------------------------------------------------------
...
TypeError: tuple key must have same length as ngens
sage: map(R4, R3.gens()) # rule 1            
---------------------------------------------------------------------------
...
TypeError: tuple key must have same length as ngens
sage: map(R1, R2.gens())  # rule 2           
[x, y]
sage: map(R2, R1.gens())  # rule 2           
[x, t]
sage: R1(R4('y')) # rule 3                   
---------------------------------------------------------------------------
...
TypeError: tuple key must have same length as ngens
sage: R1(R4('t')) # rule 4                   
---------------------------------------------------------------------------
...
TypeError: tuple key must have same length as ngens
```
Is that behaviour what you expected?



---

archive/issue_comments_278282.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI am not really happy about the formulation of rule 2. What I mean by this is\nthat I find this example extremely confusing because it maps `y` to `x`\nand `t` to `y`\n\n```\nsage: R1 = PolynomialRing(ZZ, 'x,y')\nsage: R5 = PolynomialRing(ZZ, 'y,t')\nsage: map(R1, R5.gens())  # rule 2\n[x, y]\n```\n\nWhat is the rationale behind it?",
    "created_at": "2016-04-06T08:54:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278282",
    "user": "https://github.com/etn40ff"
}
```

<div id="comment:10" align="right">comment:10</div>

I am not really happy about the formulation of rule 2. What I mean by this is
that I find this example extremely confusing because it maps `y` to `x`
and `t` to `y`

```
sage: R1 = PolynomialRing(ZZ, 'x,y')
sage: R5 = PolynomialRing(ZZ, 'y,t')
sage: map(R1, R5.gens())  # rule 2
[x, y]
```

What is the rationale behind it?



---

archive/issue_comments_278283.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@etn40ff](#comment:10):\n> I am not really happy about the formulation of rule 2. What I mean by this is\n> that I find this example extremely confusing because it maps `y` to `x`\n> and `t` to `y`\n> \n> ```\n> sage: R1 = PolynomialRing(ZZ, 'x,y')\n> sage: R5 = PolynomialRing(ZZ, 'y,t')\n> sage: map(R1, R5.gens())  # rule 2\n> [x, y]\n> ```\n> \n> What is the rationale behind it?\n\nI would say: \"A map between two rings is always better than a partial map\". Whatever you think it is how it works in Sage. If you want to change it you should ask more opinions on [sage-devel](https://groups.google.com/forum/#!forum/sage-devel).\n\nOne possibility would be to modify the rule 2 in the following form\n\n2'. else if `R` has less or equal variables than `S` then the map `R -> S` is given by a mapping of the variables of `R` into `S` first trying to match names and then in variable order.\n\nBut as I said, the place to discuss it is sage-devel and not a ticket.",
    "created_at": "2016-04-08T14:59:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278283",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@etn40ff](#comment:10):
> I am not really happy about the formulation of rule 2. What I mean by this is
> that I find this example extremely confusing because it maps `y` to `x`
> and `t` to `y`
> 
> ```
> sage: R1 = PolynomialRing(ZZ, 'x,y')
> sage: R5 = PolynomialRing(ZZ, 'y,t')
> sage: map(R1, R5.gens())  # rule 2
> [x, y]
> ```
> 
> What is the rationale behind it?

I would say: "A map between two rings is always better than a partial map". Whatever you think it is how it works in Sage. If you want to change it you should ask more opinions on [sage-devel](https://groups.google.com/forum/#!forum/sage-devel).

One possibility would be to modify the rule 2 in the following form

2'. else if `R` has less or equal variables than `S` then the map `R -> S` is given by a mapping of the variables of `R` into `S` first trying to match names and then in variable order.

But as I said, the place to discuss it is sage-devel and not a ticket.



---

archive/issue_comments_278284.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nWriting to the mailing list seems the best option here; I will do so shortly.\nThanks for the advice\n\nBTW: I think the bug description is describing the wrong issue so I will change it before writing to the list",
    "created_at": "2016-04-08T21:20:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278284",
    "user": "https://github.com/etn40ff"
}
```

<div id="comment:12" align="right">comment:12</div>

Writing to the mailing list seems the best option here; I will do so shortly.
Thanks for the advice

BTW: I think the bug description is describing the wrong issue so I will change it before writing to the list



---

archive/issue_comments_278285.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nLet me just add that we really should be consistent between laurent polynomials and ordinary polynomials.",
    "created_at": "2016-04-08T21:43:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278285",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Let me just add that we really should be consistent between laurent polynomials and ordinary polynomials.



---

archive/issue_comments_278286.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,13 +1,28 @@\n `LaurentPolynomialRing` has some issues when trying to compare elements from different rings:\n \n ```\n-sage: L = LaurentPolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')\n-sage: P = LaurentPolynomialRing(ZZ, 'y0,y1,y2')\n-sage: P.inject_variables()\n-Defining y0, y1, y2\n-sage: y0 in L\n+sage: L1 = LaurentPolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')\n+sage: L2 = LaurentPolynomialRing(ZZ, 'y0,y1,y2')\n+sage: L2.gen(0) in L1\n False\n+sage: L1(L2.gen(0))\n+---------------------------------------------------------------------------\n+TypeError                                 Traceback (most recent call last)\n+...\n+TypeError: tuple key must have same length as ngens\n ```\n+\n+The corresponding code for `PolynomialRing` yields\n+\n+```\n+sage: P1 = PolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')\n+sage: P2 = PolynomialRing(ZZ, 'y0,y1,y2')\n+sage: P2.gen(0) in P1\n+True\n+sage: P1(P2.gen(0))\n+y0\n+```\n+\n \n This patch should fix them. In the process it also changes this somewhat weird behaviour:\n \n``````\n",
    "created_at": "2016-04-08T22:30:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278286",
    "user": "https://github.com/etn40ff"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,13 +1,28 @@
 `LaurentPolynomialRing` has some issues when trying to compare elements from different rings:
 
 ```
-sage: L = LaurentPolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')
-sage: P = LaurentPolynomialRing(ZZ, 'y0,y1,y2')
-sage: P.inject_variables()
-Defining y0, y1, y2
-sage: y0 in L
+sage: L1 = LaurentPolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')
+sage: L2 = LaurentPolynomialRing(ZZ, 'y0,y1,y2')
+sage: L2.gen(0) in L1
 False
+sage: L1(L2.gen(0))
+---------------------------------------------------------------------------
+TypeError                                 Traceback (most recent call last)
+...
+TypeError: tuple key must have same length as ngens
 ```
+
+The corresponding code for `PolynomialRing` yields
+
+```
+sage: P1 = PolynomialRing(ZZ, 'x0,x1,x2,y0,y1,y2')
+sage: P2 = PolynomialRing(ZZ, 'y0,y1,y2')
+sage: P2.gen(0) in P1
+True
+sage: P1(P2.gen(0))
+y0
+```
+
 
 This patch should fix them. In the process it also changes this somewhat weird behaviour:
 
``````




---

archive/issue_comments_278287.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nRelated (I think) tickets: #5225, #16447, #10575.",
    "created_at": "2016-04-13T14:35:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278287",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:15" align="right">comment:15</div>

Related (I think) tickets: #5225, #16447, #10575.



---

archive/issue_comments_278288.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nJust to ping everyone on this, here is another issue with coercion on `LaurentPolynomialRing`\n\n```\nsage: R = LaurentPolynomialRing(QQ,'x',2)\nsage: S = LaurentPolynomialRing(QQ,'x',3)\nsage: f = S.coerce_map_from(R)\nsage: f\nConversion via _element_constructor_ map:\n  From: Multivariate Laurent Polynomial Ring in x0, x1 over Rational Field\n  To:   Multivariate Laurent Polynomial Ring in x0, x1, x2 over Rational Field\nsage: f(R.gen(0))\nTraceback (most recent call last):\n...\nTypeError: tuple key must have same length as ngens\n```\n\nOf course this work as expected on `PolynomialRing`",
    "created_at": "2016-08-06T15:15:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278288",
    "user": "https://github.com/etn40ff"
}
```

<div id="comment:16" align="right">comment:16</div>

Just to ping everyone on this, here is another issue with coercion on `LaurentPolynomialRing`

```
sage: R = LaurentPolynomialRing(QQ,'x',2)
sage: S = LaurentPolynomialRing(QQ,'x',3)
sage: f = S.coerce_map_from(R)
sage: f
Conversion via _element_constructor_ map:
  From: Multivariate Laurent Polynomial Ring in x0, x1 over Rational Field
  To:   Multivariate Laurent Polynomial Ring in x0, x1, x2 over Rational Field
sage: f(R.gen(0))
Traceback (most recent call last):
...
TypeError: tuple key must have same length as ngens
```

Of course this work as expected on `PolynomialRing`



---

archive/issue_comments_278289.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b7e7f187c43b1fe5206daa1a52d073010d1426c\"><code>5b7e7f1</code></a></td><td><code>Merge branch 'u/etn40ff/19358' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1b0b8d5369562bd122032af825bcdbd82ccb776\"><code>a1b0b8d</code></a></td><td><code>Now only making the minimum changes to fix coercions</code></td></tr></table>\n",
    "created_at": "2016-08-06T18:22:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278289",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b7e7f187c43b1fe5206daa1a52d073010d1426c"><code>5b7e7f1</code></a></td><td><code>Merge branch 'u/etn40ff/19358' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1b0b8d5369562bd122032af825bcdbd82ccb776"><code>a1b0b8d</code></a></td><td><code>Now only making the minimum changes to fix coercions</code></td></tr></table>




---

archive/issue_comments_278290.json:
```json
{
    "body": "Changed commit from **[`76ac433`](https://github.com/sagemath/sagetrac-mirror/commit/76ac4339b195762106d406516400f8468de844ef)** to **[`a1b0b8d`](https://github.com/sagemath/sagetrac-mirror/commit/a1b0b8d5369562bd122032af825bcdbd82ccb776)**",
    "created_at": "2016-08-06T18:22:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278290",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`76ac433`](https://github.com/sagemath/sagetrac-mirror/commit/76ac4339b195762106d406516400f8468de844ef)** to **[`a1b0b8d`](https://github.com/sagemath/sagetrac-mirror/commit/a1b0b8d5369562bd122032af825bcdbd82ccb776)**



---

archive/issue_comments_278291.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nDear All,\n\nas requested by vdelecroix I posted a question on sage-devel about this issue;\nVolker's reply was this:\n\n```\n   Let me try to summarize the expected behavior: If there is a coercion\n   of the base rings, then there should be a coercion to the (laurent)\n   polynomial ring with additional variables. The variables in the\n   different rings are identified using their name (and not index in\n   gens() or any other rule).\u00c2\n   sage: cm = get_coercion_model()\n   sage: R.<x> = QQ[]\n   sage: S.<x,t> = QQ[]\n   sage: cm.explain(R, S, operator.add)\n   Coercion on left operand via\n       Conversion map:\n         From: Univariate Polynomial Ring in x over Rational Field\n         To:   Multivariate Polynomial Ring in x, t over Rational\n   Field\n   Arithmetic performed after coercions.\n   Result lives in Multivariate Polynomial Ring in x, t over Rational\n   Field\n   Multivariate Polynomial Ring in x, t over Rational Field\n   No coercion if variable names are not strict subsets:\n   sage: T.<x,y> = QQ[]\n   sage: cm.explain(T, S, operator.add)\n   Unknown result parent.\n   But explicit conversion can still work, e.g. by falling back to the\n   index in gens():\n   sage: T(S.gen(0))\n   x\n   sage: T(S.gen(1))\n   y\n\n```\n\nAccordingly I modified this patch so that it only changes the old behaviour when trying to map a laurent polynomial `x` into a ring containing all the variables of `x.parent()`\n\nAfter the patch the behaviour is \n\n```\nsage: R = LaurentPolynomialRing(QQ,'x2,x0')\nsage: S = LaurentPolynomialRing(QQ,'x',3)\nsage: f = S.coerce_map_from(R)\nsage: f(R.gen(0) + R.gen(1)^2)\nx0^2 + x2\nsage: T = LaurentPolynomialRing(QQ,'x2,x0,t')\nsage: S.has_coerce_map_from(T)\nFalse\nsage: S(T.gen(0))\nx0\n```\n\nCould you please test this?",
    "created_at": "2016-08-06T18:36:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278291",
    "user": "https://github.com/etn40ff"
}
```

<div id="comment:18" align="right">comment:18</div>

Dear All,

as requested by vdelecroix I posted a question on sage-devel about this issue;
Volker's reply was this:

```
   Let me try to summarize the expected behavior: If there is a coercion
   of the base rings, then there should be a coercion to the (laurent)
   polynomial ring with additional variables. The variables in the
   different rings are identified using their name (and not index in
   gens() or any other rule).Â
   sage: cm = get_coercion_model()
   sage: R.<x> = QQ[]
   sage: S.<x,t> = QQ[]
   sage: cm.explain(R, S, operator.add)
   Coercion on left operand via
       Conversion map:
         From: Univariate Polynomial Ring in x over Rational Field
         To:   Multivariate Polynomial Ring in x, t over Rational
   Field
   Arithmetic performed after coercions.
   Result lives in Multivariate Polynomial Ring in x, t over Rational
   Field
   Multivariate Polynomial Ring in x, t over Rational Field
   No coercion if variable names are not strict subsets:
   sage: T.<x,y> = QQ[]
   sage: cm.explain(T, S, operator.add)
   Unknown result parent.
   But explicit conversion can still work, e.g. by falling back to the
   index in gens():
   sage: T(S.gen(0))
   x
   sage: T(S.gen(1))
   y

```

Accordingly I modified this patch so that it only changes the old behaviour when trying to map a laurent polynomial `x` into a ring containing all the variables of `x.parent()`

After the patch the behaviour is 

```
sage: R = LaurentPolynomialRing(QQ,'x2,x0')
sage: S = LaurentPolynomialRing(QQ,'x',3)
sage: f = S.coerce_map_from(R)
sage: f(R.gen(0) + R.gen(1)^2)
x0^2 + x2
sage: T = LaurentPolynomialRing(QQ,'x2,x0,t')
sage: S.has_coerce_map_from(T)
False
sage: S(T.gen(0))
x0
```

Could you please test this?



---

archive/issue_events_276835.json:
```json
{
    "actor": "https://github.com/sagetrac-drupel",
    "created_at": "2016-08-15T02:05:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276835"
}
```



---

archive/issue_events_276836.json:
```json
{
    "actor": "https://github.com/sagetrac-drupel",
    "created_at": "2016-08-15T02:05:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276836"
}
```



---

archive/issue_comments_278292.json:
```json
{
    "body": "Reviewer: **drupel**",
    "created_at": "2016-08-15T02:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278292",
    "user": "https://github.com/sagetrac-drupel"
}
```

Reviewer: **drupel**



---

archive/issue_comments_278293.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThe behavior of `LaurentPolynomialRing` coercions and conversions now conforms with the Sage standard as specified by Volker.  I am changing to positive review.",
    "created_at": "2016-08-15T02:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278293",
    "user": "https://github.com/sagetrac-drupel"
}
```

<div id="comment:19" align="right">comment:19</div>

The behavior of `LaurentPolynomialRing` coercions and conversions now conforms with the Sage standard as specified by Volker.  I am changing to positive review.



---

archive/issue_comments_278294.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThe reviewer name should be your real name",
    "created_at": "2016-08-15T19:29:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278294",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

The reviewer name should be your real name



---

archive/issue_events_276837.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-15T19:29:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276837"
}
```



---

archive/issue_events_276838.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-15T19:29:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276838"
}
```



---

archive/issue_comments_278295.json:
```json
{
    "body": "Changed reviewer from **drupel** to **Dylan Rupel**",
    "created_at": "2016-08-15T19:56:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278295",
    "user": "https://github.com/sagetrac-drupel"
}
```

Changed reviewer from **drupel** to **Dylan Rupel**



---

archive/issue_events_276839.json:
```json
{
    "actor": "https://github.com/sagetrac-drupel",
    "created_at": "2016-08-15T19:56:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276839"
}
```



---

archive/issue_events_276840.json:
```json
{
    "actor": "https://github.com/sagetrac-drupel",
    "created_at": "2016-08-15T19:56:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276840"
}
```



---

archive/issue_events_276841.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-19T22:45:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276841"
}
```



---

archive/issue_events_276842.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e5ef212afbc2c443d23726959c8b604bf421cc5b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-08-19T22:45:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19538#event-276842"
}
```



---

archive/issue_comments_278296.json:
```json
{
    "body": "Changed branch from **[u/etn40ff/19358](https://github.com/sagemath/sagetrac-mirror/tree/u/etn40ff/19358)** to **[`a1b0b8d`](https://github.com/sagemath/sagetrac-mirror/commit/a1b0b8d5369562bd122032af825bcdbd82ccb776)**",
    "created_at": "2016-08-19T22:45:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19538#issuecomment-278296",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/etn40ff/19358](https://github.com/sagemath/sagetrac-mirror/tree/u/etn40ff/19358)** to **[`a1b0b8d`](https://github.com/sagemath/sagetrac-mirror/commit/a1b0b8d5369562bd122032af825bcdbd82ccb776)**
