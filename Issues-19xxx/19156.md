# Issue 19156: Docbuilder intersphinx references have undeterministic <a> titles

archive/issues_018919.json:
```json
{
    "body": "When generating the documentation *from the exact same sources*, sometimes links\nappear as\n\n```\n<a title=\"(in Sage Reference Manual: Utilities v6.9.beta5)\">sage.misc.lazy_import</a>\n```\nand sometimes as\n\n```\n<a title=\"(in Sage Reference Manual v6.9.beta5)\">sage.misc.lazy_import</a>\n```\nand it's not clear why this happens.\n\nCC:  fhivert\n\nBranch/Commit: f4b68fc6539b1e8d156c4cc19e0132c374a49160\n\nReviewer: John Palmieri\n\nAuthor: Jeroen Demeyer\n\nDependencies: #19166\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19156\n\n",
    "closed_at": "2015-09-10T12:02:55Z",
    "created_at": "2015-09-07T19:50:34Z",
    "labels": [
        "component: documentation",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "Docbuilder intersphinx references have undeterministic <a> titles",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19156",
    "user": "https://github.com/jdemeyer"
}
```
When generating the documentation *from the exact same sources*, sometimes links
appear as

```
<a title="(in Sage Reference Manual: Utilities v6.9.beta5)">sage.misc.lazy_import</a>
```
and sometimes as

```
<a title="(in Sage Reference Manual v6.9.beta5)">sage.misc.lazy_import</a>
```
and it's not clear why this happens.

CC:  fhivert

Branch/Commit: f4b68fc6539b1e8d156c4cc19e0132c374a49160

Reviewer: John Palmieri

Author: Jeroen Demeyer

Dependencies: #19166

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19156





---

archive/issue_comments_341674.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/ticket/19156\"",
    "created_at": "2015-09-08T20:11:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341674",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/ticket/19156"



---

archive/issue_comments_341675.json:
```json
{
    "body": "<a id='comment:4'></a>\nNew commits:\n|                                                                                                                                          |                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[ff58c9c](http://git.sagemath.org/sage.git/commit/?id=ff58c9c41a7892a5a0c6462e6884c8ebeb366992)|`Replace conf.py copies by symlinks`|\n|[f4b68fc](http://git.sagemath.org/sage.git/commit/?id=f4b68fc6539b1e8d156c4cc19e0132c374a49160)|`Use name \"sagemath\" for main intersphinx mapping`|",
    "created_at": "2015-09-08T20:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341675",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
New commits:
|                                                                                                                                          |                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[ff58c9c](http://git.sagemath.org/sage.git/commit/?id=ff58c9c41a7892a5a0c6462e6884c8ebeb366992)|`Replace conf.py copies by symlinks`|
|[f4b68fc](http://git.sagemath.org/sage.git/commit/?id=f4b68fc6539b1e8d156c4cc19e0132c374a49160)|`Use name "sagemath" for main intersphinx mapping`|



---

archive/issue_comments_341676.json:
```json
{
    "body": "Changing commit from \"\" to \"f4b68fc6539b1e8d156c4cc19e0132c374a49160\"",
    "created_at": "2015-09-08T20:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341676",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "f4b68fc6539b1e8d156c4cc19e0132c374a49160"



---

archive/issue_comments_341677.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#19166\"",
    "created_at": "2015-09-08T20:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341677",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "" to "#19166"



---

archive/issue_comments_341678.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe changes make sense and the docs build. I don't know how to reproduce the cited problem, though, so I can't confirm that the changes fix it. Suggestions about where I could look?",
    "created_at": "2015-09-08T20:48:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341678",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'></a>
The changes make sense and the docs build. I don't know how to reproduce the cited problem, though, so I can't confirm that the changes fix it. Suggestions about where I could look?



---

archive/issue_comments_341679.json:
```json
{
    "body": "<a id='comment:6'></a>\nYou can grep the generated html documentation in `src/doc/output/html` for the string `(in Sage Reference Manual v6.9.beta5)`. The instances where it used to occur will be replaced by `(in Sage Reference Manual: $SUBDOC v6.9.beta5)` for some value of `$SUBDOC`.",
    "created_at": "2015-09-08T21:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341679",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
You can grep the generated html documentation in `src/doc/output/html` for the string `(in Sage Reference Manual v6.9.beta5)`. The instances where it used to occur will be replaced by `(in Sage Reference Manual: $SUBDOC v6.9.beta5)` for some value of `$SUBDOC`.



---

archive/issue_comments_341680.json:
```json
{
    "body": "<a id='comment:7'></a>\nTwo questions: is this ready for review? And is the intention to not have \"Sage Reference Manual v6.9.beta5\" but only \"Sage Reference Manual: $SUBDOC v6.9.beta5\"? That's what I'm seeing, and it sounds like that's what you want from your previous remark, but I wanted to make sure.",
    "created_at": "2015-09-08T22:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341680",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:7'></a>
Two questions: is this ready for review? And is the intention to not have "Sage Reference Manual v6.9.beta5" but only "Sage Reference Manual: $SUBDOC v6.9.beta5"? That's what I'm seeing, and it sounds like that's what you want from your previous remark, but I wanted to make sure.



---

archive/issue_comments_341681.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [jhpalmieri](#comment%3A7):\n> Two questions: is this ready for review?\n\nI still have to test myself.\n\n> And is the intention to not have \"Sage Reference Manual v6.9.beta5\" but only \"Sage Reference Manual: $SUBDOC v6.9.beta5\"? That's what I'm seeing, and it sounds like that's what you want from your previous remark, but I wanted to make sure.\n\nYes, I want `Sage Reference Manual: $SUBDOC v6.9.beta5`",
    "created_at": "2015-09-09T05:55:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341681",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>
Replying to [jhpalmieri](#comment%3A7):
> Two questions: is this ready for review?

I still have to test myself.

> And is the intention to not have "Sage Reference Manual v6.9.beta5" but only "Sage Reference Manual: $SUBDOC v6.9.beta5"? That's what I'm seeing, and it sounds like that's what you want from your previous remark, but I wanted to make sure.

Yes, I want `Sage Reference Manual: $SUBDOC v6.9.beta5`



---

archive/issue_comments_341682.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-09-09T08:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341682",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_341683.json:
```json
{
    "body": "Changing author from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2015-09-09T08:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341683",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "" to "Jeroen Demeyer"



---

archive/issue_comments_341684.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri\"",
    "created_at": "2015-09-09T14:36:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341684",
    "user": "https://github.com/jhpalmieri"
}
```

Changing reviewer from "" to "John Palmieri"



---

archive/issue_comments_341685.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-09-09T14:36:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341685",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_341686.json:
```json
{
    "body": "<a id='comment:11'></a>\nThanks!",
    "created_at": "2015-09-09T15:04:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341686",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Thanks!



---

archive/issue_comments_341687.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/ticket/19156\" to \"f4b68fc6539b1e8d156c4cc19e0132c374a49160\"",
    "created_at": "2015-09-10T12:02:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341687",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/ticket/19156" to "f4b68fc6539b1e8d156c4cc19e0132c374a49160"



---

archive/issue_events_053219.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-10T12:02:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19156#event-53219"
}
```



---

archive/issue_comments_341688.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-09-10T12:02:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19156#issuecomment-341688",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
