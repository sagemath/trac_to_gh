# Issue 19561: enforce Sage integers in Krawtchouk

archive/issues_019324.json:
```json
{
    "assignees": [],
    "body": "see https://groups.google.com/d/msg/sage-support/I7BAQTnS_mY/8G9s-6N1AwAJ\n\nif input parameters are `int`, division in the loop will get ugly\n\nCC:  @nbruin @ppurka\n\nBranch/Commit: **[2fe6d98](https://github.com/sagemath/sagetrac-mirror/commit/2fe6d982557ea6a0aa9479a2d737905d3d90ffca)**\n\nReviewer: **Punarbasu Purkayastha**\n\nAuthor: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19561_\n\n",
    "closed_at": "2015-11-12T22:44:27Z",
    "created_at": "2015-11-09T19:39:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20coding%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "enforce Sage integers in Krawtchouk",
    "type": "issue",
    "updated_at": "2015-11-12T22:44:27Z",
    "url": "https://github.com/sagemath/sage/issues/19561",
    "user": "https://github.com/dimpase"
}
```
see https://groups.google.com/d/msg/sage-support/I7BAQTnS_mY/8G9s-6N1AwAJ

if input parameters are `int`, division in the loop will get ugly

CC:  @nbruin @ppurka

Branch/Commit: **[2fe6d98](https://github.com/sagemath/sagetrac-mirror/commit/2fe6d982557ea6a0aa9479a2d737905d3d90ffca)**

Reviewer: **Punarbasu Purkayastha**

Author: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/19561_





---

archive/issue_events_259305.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-11-09T19:39:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19561#event-259305"
}
```



---

archive/issue_events_259306.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-11-09T19:39:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20coding%20theory",
    "label_color": "0000ff",
    "label_name": "component: coding theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19561#event-259306"
}
```



---

archive/issue_events_259307.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-11-09T19:39:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19561#event-259307"
}
```



---

archive/issue_events_259308.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-11-09T19:39:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19561#event-259308"
}
```



---

archive/issue_comments_281195.json:
```json
{
    "body": "Commit: **[55236c2](https://github.com/sagemath/sagetrac-mirror/commit/55236c20137ebf47f83b16359195480d9dc91e54)**",
    "created_at": "2015-11-09T23:28:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281195",
    "user": "https://github.com/dimpase"
}
```

Commit: **[55236c2](https://github.com/sagemath/sagetrac-mirror/commit/55236c20137ebf47f83b16359195480d9dc91e54)**



---

archive/issue_comments_281196.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nshould add a doctest...\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55236c20137ebf47f83b16359195480d9dc91e54\">55236c2</a></td><td><code>ZZify variables</code></td></tr></table>\n",
    "created_at": "2015-11-09T23:28:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281196",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:1" align="right">Comment 1</div>

should add a doctest...

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55236c20137ebf47f83b16359195480d9dc91e54">55236c2</a></td><td><code>ZZify variables</code></td></tr></table>




---

archive/issue_comments_281197.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2015-11-09T23:28:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281197",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_comments_281198.json:
```json
{
    "body": "Branch: **[u/dimpase/krawfix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/krawfix)**",
    "created_at": "2015-11-09T23:28:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281198",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/krawfix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/krawfix)**



---

archive/issue_comments_281199.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f84990f7fce7da69f705e60ad155fe68f3a0eac\">2f84990</a></td><td><code>ZZify variables, and add a doctest</code></td></tr></table>\n",
    "created_at": "2015-11-09T23:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281199",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f84990f7fce7da69f705e60ad155fe68f3a0eac">2f84990</a></td><td><code>ZZify variables, and add a doctest</code></td></tr></table>




---

archive/issue_comments_281200.json:
```json
{
    "body": "Changed commit from **[55236c2](https://github.com/sagemath/sagetrac-mirror/commit/55236c20137ebf47f83b16359195480d9dc91e54)** to **[2f84990](https://github.com/sagemath/sagetrac-mirror/commit/2f84990f7fce7da69f705e60ad155fe68f3a0eac)**",
    "created_at": "2015-11-09T23:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281200",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[55236c2](https://github.com/sagemath/sagetrac-mirror/commit/55236c20137ebf47f83b16359195480d9dc91e54)** to **[2f84990](https://github.com/sagemath/sagetrac-mirror/commit/2f84990f7fce7da69f705e60ad155fe68f3a0eac)**



---

archive/issue_events_259309.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-11-09T23:34:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19561#event-259309"
}
```



---

archive/issue_comments_281201.json:
```json
{
    "body": "Changed commit from **[2f84990](https://github.com/sagemath/sagetrac-mirror/commit/2f84990f7fce7da69f705e60ad155fe68f3a0eac)** to **[6e01640](https://github.com/sagemath/sagetrac-mirror/commit/6e0164088d20a33dab253f728bb144b80dfcf5f5)**",
    "created_at": "2015-11-09T23:48:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281201",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2f84990](https://github.com/sagemath/sagetrac-mirror/commit/2f84990f7fce7da69f705e60ad155fe68f3a0eac)** to **[6e01640](https://github.com/sagemath/sagetrac-mirror/commit/6e0164088d20a33dab253f728bb144b80dfcf5f5)**



---

archive/issue_comments_281202.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e0164088d20a33dab253f728bb144b80dfcf5f5\">6e01640</a></td><td><code>ZZify variables, and add a doctest</code></td></tr></table>\n",
    "created_at": "2015-11-09T23:48:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281202",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4" align="right">Comment 4</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e0164088d20a33dab253f728bb144b80dfcf5f5">6e01640</a></td><td><code>ZZify variables, and add a doctest</code></td></tr></table>




---

archive/issue_comments_281203.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nHi Dima,\n\n  Can you let n,q,i alone and just keep the changes\n`l = ZZ(l)` and\n`for j in srange(1,l+1):`\n\n  These changes should be enough to ensure that the correct coercions take place and the division does not become an integer division. I will send you a document from Matti Aaltonen which shows that almost all properties of Krawtchouks hold even for noninteger n,q,i. Alternatively, you can refer to his paper \"A new upper bound on nonbinary block codes\", M. Aaltonen, Discrete Maths, 83 (1990), 139-160.\n\nbasu.",
    "created_at": "2015-11-10T13:46:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281203",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:5" align="right">Comment 5</div>

Hi Dima,

  Can you let n,q,i alone and just keep the changes
`l = ZZ(l)` and
`for j in srange(1,l+1):`

  These changes should be enough to ensure that the correct coercions take place and the division does not become an integer division. I will send you a document from Matti Aaltonen which shows that almost all properties of Krawtchouks hold even for noninteger n,q,i. Alternatively, you can refer to his paper "A new upper bound on nonbinary block codes", M. Aaltonen, Discrete Maths, 83 (1990), 139-160.

basu.



---

archive/issue_comments_281204.json:
```json
{
    "body": "Changed commit from **[6e01640](https://github.com/sagemath/sagetrac-mirror/commit/6e0164088d20a33dab253f728bb144b80dfcf5f5)** to **[77da78e](https://github.com/sagemath/sagetrac-mirror/commit/77da78e91b809e246e060d4c2352a5991a4e8fdd)**",
    "created_at": "2015-11-10T17:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281204",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6e01640](https://github.com/sagemath/sagetrac-mirror/commit/6e0164088d20a33dab253f728bb144b80dfcf5f5)** to **[77da78e](https://github.com/sagemath/sagetrac-mirror/commit/77da78e91b809e246e060d4c2352a5991a4e8fdd)**



---

archive/issue_comments_281205.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77da78e91b809e246e060d4c2352a5991a4e8fdd\">77da78e</a></td><td><code>ZZify l, etc, add a doctest, rename i->x</code></td></tr></table>\n",
    "created_at": "2015-11-10T17:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281205",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77da78e91b809e246e060d4c2352a5991a4e8fdd">77da78e</a></td><td><code>ZZify l, etc, add a doctest, rename i->x</code></td></tr></table>




---

archive/issue_comments_281206.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nReplying to [@ppurka](#comment%3A5):\n> Hi Dima,\n> \n>   Can you let n,q,i alone and just keep the changes\n> `l = ZZ(l)` and\n> `for j in srange(1,l+1):`\n\nOK, done. I also renamed i to x, to make it look more like a polynomial...",
    "created_at": "2015-11-10T17:46:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281206",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">Comment 7</div>

Replying to [@ppurka](#comment%3A5):
> Hi Dima,
> 
>   Can you let n,q,i alone and just keep the changes
> `l = ZZ(l)` and
> `for j in srange(1,l+1):`

OK, done. I also renamed i to x, to make it look more like a polynomial...



---

archive/issue_comments_281207.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nI am not sure that the implementation is correct for the case where all these parameters are non-integer. It seems that sometimes the sum must become infinite...",
    "created_at": "2015-11-11T08:10:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281207",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:8" align="right">Comment 8</div>

I am not sure that the implementation is correct for the case where all these parameters are non-integer. It seems that sometimes the sum must become infinite...



---

archive/issue_comments_281208.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nReplying to [@dimpase](#comment%3A8):\n> I am not sure that the implementation is correct for the case where all these parameters are non-integer. It seems that sometimes the sum must become infinite...\n\nOK, I see; we should add the generating function definition of `K` to the documentation...",
    "created_at": "2015-11-11T09:24:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281208",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">Comment 9</div>

Replying to [@dimpase](#comment%3A8):
> I am not sure that the implementation is correct for the case where all these parameters are non-integer. It seems that sometimes the sum must become infinite...

OK, I see; we should add the generating function definition of `K` to the documentation...



---

archive/issue_comments_281209.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e0164088d20a33dab253f728bb144b80dfcf5f5\">6e01640</a></td><td><code>ZZify variables, and add a doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c666743894f8b1412362fb3f0b425b6290801b42\">c666743</a></td><td><code>added lots of docs and doctests</code></td></tr></table>\n",
    "created_at": "2015-11-11T11:09:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281209",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10" align="right">Comment 10</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e0164088d20a33dab253f728bb144b80dfcf5f5">6e01640</a></td><td><code>ZZify variables, and add a doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c666743894f8b1412362fb3f0b425b6290801b42">c666743</a></td><td><code>added lots of docs and doctests</code></td></tr></table>




---

archive/issue_comments_281210.json:
```json
{
    "body": "Changed commit from **[77da78e](https://github.com/sagemath/sagetrac-mirror/commit/77da78e91b809e246e060d4c2352a5991a4e8fdd)** to **[c666743](https://github.com/sagemath/sagetrac-mirror/commit/c666743894f8b1412362fb3f0b425b6290801b42)**",
    "created_at": "2015-11-11T11:09:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281210",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[77da78e](https://github.com/sagemath/sagetrac-mirror/commit/77da78e91b809e246e060d4c2352a5991a4e8fdd)** to **[c666743](https://github.com/sagemath/sagetrac-mirror/commit/c666743894f8b1412362fb3f0b425b6290801b42)**



---

archive/issue_comments_281211.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2dfdcfed2e78dda3e0b20d4e09f2e0494e98b562\">2dfdcfe</a></td><td><code>added lots of docs and doctests</code></td></tr></table>\n",
    "created_at": "2015-11-11T11:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281211",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11" align="right">Comment 11</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2dfdcfed2e78dda3e0b20d4e09f2e0494e98b562">2dfdcfe</a></td><td><code>added lots of docs and doctests</code></td></tr></table>




---

archive/issue_comments_281212.json:
```json
{
    "body": "Changed commit from **[c666743](https://github.com/sagemath/sagetrac-mirror/commit/c666743894f8b1412362fb3f0b425b6290801b42)** to **[2dfdcfe](https://github.com/sagemath/sagetrac-mirror/commit/2dfdcfed2e78dda3e0b20d4e09f2e0494e98b562)**",
    "created_at": "2015-11-11T11:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281212",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c666743](https://github.com/sagemath/sagetrac-mirror/commit/c666743894f8b1412362fb3f0b425b6290801b42)** to **[2dfdcfe](https://github.com/sagemath/sagetrac-mirror/commit/2dfdcfed2e78dda3e0b20d4e09f2e0494e98b562)**



---

archive/issue_comments_281213.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nCan you apply this patch? Otherwise the rest looks good:\n\n```diff\ndiff --git a/src/sage/coding/delsarte_bounds.py b/src/sage/coding/delsarte_bounds.py\nindex b4f05b6..cd78e3c 100644\n--- a/src/sage/coding/delsarte_bounds.py\n+++ b/src/sage/coding/delsarte_bounds.py\n@@ -21,7 +21,7 @@ def Krawtchouk(n,q,l,x,check=True):\n     Compute ``K^{n,q}_l(x)``, the Krawtchouk polynomial.\n \n     See :wikipedia:`Kravchuk_polynomials`; It is defined by the generating function\n-    `(1-(q-1)z)^{n-x}(1-z)^k=\\sum_{l} K^{n,q}_k(x)z^l` and is equal to\n+    `(1+(q-1)z)^{n-x}(1-z)^x=\\sum_{l} K^{n,q}_l(x)z^l` and is equal to\n \n     .. math::\n \n@@ -45,7 +45,7 @@ def Krawtchouk(n,q,l,x,check=True):\n \n     TESTS:\n \n-    check that the bug reported on #19561 is fixed::\n+    check that the bug reported on :trac:`19561` is fixed::\n \n         sage: Krawtchouk(3,2,3,3)\n         -1\n```\n\nEDIT: Fixed another typo.",
    "created_at": "2015-11-12T11:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281213",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:12" align="right">Comment 12</div>

Can you apply this patch? Otherwise the rest looks good:

```diff
diff --git a/src/sage/coding/delsarte_bounds.py b/src/sage/coding/delsarte_bounds.py
index b4f05b6..cd78e3c 100644
--- a/src/sage/coding/delsarte_bounds.py
+++ b/src/sage/coding/delsarte_bounds.py
@@ -21,7 +21,7 @@ def Krawtchouk(n,q,l,x,check=True):
     Compute ``K^{n,q}_l(x)``, the Krawtchouk polynomial.
 
     See :wikipedia:`Kravchuk_polynomials`; It is defined by the generating function
-    `(1-(q-1)z)^{n-x}(1-z)^k=\sum_{l} K^{n,q}_k(x)z^l` and is equal to
+    `(1+(q-1)z)^{n-x}(1-z)^x=\sum_{l} K^{n,q}_l(x)z^l` and is equal to
 
     .. math::
 
@@ -45,7 +45,7 @@ def Krawtchouk(n,q,l,x,check=True):
 
     TESTS:
 
-    check that the bug reported on #19561 is fixed::
+    check that the bug reported on :trac:`19561` is fixed::
 
         sage: Krawtchouk(3,2,3,3)
         -1
```

EDIT: Fixed another typo.



---

archive/issue_comments_281214.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nFixed another typo.. `1+(q-1)z`",
    "created_at": "2015-11-12T11:47:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281214",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:13" align="right">Comment 13</div>

Fixed another typo.. `1+(q-1)z`



---

archive/issue_comments_281215.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/333df741f014e41723c02bad68eb966feea26c4b\">333df74</a></td><td><code>added lots of docs and doctests and fixed some new typos</code></td></tr></table>\n",
    "created_at": "2015-11-12T12:20:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281215",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14" align="right">Comment 14</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/333df741f014e41723c02bad68eb966feea26c4b">333df74</a></td><td><code>added lots of docs and doctests and fixed some new typos</code></td></tr></table>




---

archive/issue_comments_281216.json:
```json
{
    "body": "Changed commit from **[2dfdcfe](https://github.com/sagemath/sagetrac-mirror/commit/2dfdcfed2e78dda3e0b20d4e09f2e0494e98b562)** to **[333df74](https://github.com/sagemath/sagetrac-mirror/commit/333df741f014e41723c02bad68eb966feea26c4b)**",
    "created_at": "2015-11-12T12:20:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281216",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2dfdcfe](https://github.com/sagemath/sagetrac-mirror/commit/2dfdcfed2e78dda3e0b20d4e09f2e0494e98b562)** to **[333df74](https://github.com/sagemath/sagetrac-mirror/commit/333df741f014e41723c02bad68eb966feea26c4b)**



---

archive/issue_comments_281217.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@ppurka](#comment%3A13):\n> Fixed another typo.. `1+(q-1)z`\n\nOK, all done",
    "created_at": "2015-11-12T12:21:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281217",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@ppurka](#comment%3A13):
> Fixed another typo.. `1+(q-1)z`

OK, all done



---

archive/issue_comments_281218.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nSorry, `:trac:19561` is missing the single backticks!",
    "created_at": "2015-11-12T13:00:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281218",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:16" align="right">Comment 16</div>

Sorry, `:trac:19561` is missing the single backticks!



---

archive/issue_comments_281219.json:
```json
{
    "body": "Changed commit from **[333df74](https://github.com/sagemath/sagetrac-mirror/commit/333df741f014e41723c02bad68eb966feea26c4b)** to **[2fe6d98](https://github.com/sagemath/sagetrac-mirror/commit/2fe6d982557ea6a0aa9479a2d737905d3d90ffca)**",
    "created_at": "2015-11-12T13:16:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281219",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[333df74](https://github.com/sagemath/sagetrac-mirror/commit/333df741f014e41723c02bad68eb966feea26c4b)** to **[2fe6d98](https://github.com/sagemath/sagetrac-mirror/commit/2fe6d982557ea6a0aa9479a2d737905d3d90ffca)**



---

archive/issue_comments_281220.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fe6d982557ea6a0aa9479a2d737905d3d90ffca\">2fe6d98</a></td><td><code>backticks</code></td></tr></table>\n",
    "created_at": "2015-11-12T13:16:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281220",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17" align="right">Comment 17</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fe6d982557ea6a0aa9479a2d737905d3d90ffca">2fe6d98</a></td><td><code>backticks</code></td></tr></table>




---

archive/issue_comments_281221.json:
```json
{
    "body": "Reviewer: **Punarbasu Purkayastha**",
    "created_at": "2015-11-12T13:51:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281221",
    "user": "https://github.com/ppurka"
}
```

Reviewer: **Punarbasu Purkayastha**



---

archive/issue_events_259310.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2015-11-12T13:51:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19561#event-259310"
}
```



---

archive/issue_events_259311.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2015-11-12T13:51:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19561#event-259311"
}
```



---

archive/issue_events_259312.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-12T22:44:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19561#event-259312"
}
```



---

archive/issue_events_259313.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8888057624c15e8c92ce991a113ebbb4bcd95b00",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-11-12T22:44:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19561#event-259313"
}
```



---

archive/issue_comments_281222.json:
```json
{
    "body": "Changed branch from **[u/dimpase/krawfix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/krawfix)** to **[2fe6d98](https://github.com/sagemath/sagetrac-mirror/commit/2fe6d982557ea6a0aa9479a2d737905d3d90ffca)**",
    "created_at": "2015-11-12T22:44:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19561#issuecomment-281222",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/krawfix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/krawfix)** to **[2fe6d98](https://github.com/sagemath/sagetrac-mirror/commit/2fe6d982557ea6a0aa9479a2d737905d3d90ffca)**
