# Issue 19440: Document the output type of Graph.matching(value_only=True)

archive/issues_019440.json:
```json
{
    "body": "CC:  @dcoudert\n\nCurrently the `Graph.matching` method returns a float or an integer when called with `value_only` set to `True`, depending on `use_edge_labels` option.\n\n```\nsage: G = graphs.RandomBipartite(10,10,0.5)\nsage: type(G.matching(value_only=True))\n<type 'float'>\n\nsage: type(G.matching(use_edge_labels=False,value_only=True))\n<type 'sage.rings.integer.Integer'>\n```\n\nLet us make this explicit in the documentation.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/19677\n\n",
    "closed_at": "2020-04-19T19:25:25Z",
    "created_at": "2015-12-07T16:59:02Z",
    "labels": [
        "component: graph theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Document the output type of Graph.matching(value_only=True)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19440",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```
CC:  @dcoudert

Currently the `Graph.matching` method returns a float or an integer when called with `value_only` set to `True`, depending on `use_edge_labels` option.

```
sage: G = graphs.RandomBipartite(10,10,0.5)
sage: type(G.matching(value_only=True))
<type 'float'>

sage: type(G.matching(use_edge_labels=False,value_only=True))
<type 'sage.rings.integer.Integer'>
```

Let us make this explicit in the documentation.


Issue created by migration from https://trac.sagemath.org/ticket/19677





---

archive/issue_comments_266975.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-12-07T17:05:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266975",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from new to needs_review.



---

archive/issue_events_054017.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2015-12-07T17:05:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19440#event-54017"
}
```



---

archive/issue_comments_266976.json:
```json
{
    "body": "Forget about it, i did not see that `use_edge_labels` was set to `True` by default and that in this case, it makes sense not to consider the value as a cardinal.",
    "created_at": "2015-12-07T17:05:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266976",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Forget about it, i did not see that `use_edge_labels` was set to `True` by default and that in this case, it makes sense not to consider the value as a cardinal.



---

archive/issue_comments_266977.json:
```json
{
    "body": "Finally i think that something is missing in the doc so that we do not have to read the source code to predict the output.",
    "created_at": "2015-12-09T10:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266977",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Finally i think that something is missing in the doc so that we do not have to read the source code to predict the output.



---

archive/issue_comments_266978.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-12-09T10:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266978",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_054018.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2015-12-09T10:12:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19440#event-54018"
}
```



---

archive/issue_events_054019.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2015-12-09T10:12:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19440#event-54019"
}
```



---

archive/issue_comments_266979.json:
```json
{
    "body": "Replying to [comment:2 tmonteil]:\n> Finally i think that something is missing in the doc so that we do not have to read the source code to predict the output.\n\n\nFollowing are the possible outputs, when calling `g.matching()`://\n\nCase 1: `value_only=False`, Only available output type is `<class 'list'>`//\n\nCase 2: `value_only=True`\n- Now if `use_edge_labels=False`, output is of type `<class 'sage.rings.integer.Integer'>`\n\n- Now if `use_edge_labels=True`, output can be:\n   \n\n(1) `<class 'sage.rings.real_mpfr.RealNumber'>`,\n    `<class'sage.rings.real_mpfr.RealLiteral'>`,                               \n  `<class 'sage.rings.integer.Integer'>`\n    using `algorithm = Edmonds`. \n\n\n(2) `<class 'float'>` using  `algorithm = LP`\n\nI want to know what's the scope for this ticket, is it to modify documentation to give possible output cases(list and values) or different output types (as mentioned above) or is it to modify code to give uniform outputs over different algorithms?",
    "created_at": "2020-03-31T08:45:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266979",
    "user": "https://github.com/vipul79321"
}
```

Replying to [comment:2 tmonteil]:
> Finally i think that something is missing in the doc so that we do not have to read the source code to predict the output.


Following are the possible outputs, when calling `g.matching()`://

Case 1: `value_only=False`, Only available output type is `<class 'list'>`//

Case 2: `value_only=True`
- Now if `use_edge_labels=False`, output is of type `<class 'sage.rings.integer.Integer'>`

- Now if `use_edge_labels=True`, output can be:
   

(1) `<class 'sage.rings.real_mpfr.RealNumber'>`,
    `<class'sage.rings.real_mpfr.RealLiteral'>`,                               
  `<class 'sage.rings.integer.Integer'>`
    using `algorithm = Edmonds`. 


(2) `<class 'float'>` using  `algorithm = LP`

I want to know what's the scope for this ticket, is it to modify documentation to give possible output cases(list and values) or different output types (as mentioned above) or is it to modify code to give uniform outputs over different algorithms?



---

archive/issue_comments_266980.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2020-03-31T08:45:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266980",
    "user": "https://github.com/vipul79321"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_266981.json:
```json
{
    "body": "If simple modifications could help unifying the outputs, it's a plus.",
    "created_at": "2020-03-31T10:51:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266981",
    "user": "https://github.com/dcoudert"
}
```

If simple modifications could help unifying the outputs, it's a plus.



---

archive/issue_comments_266982.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-04-01T13:22:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266982",
    "user": "https://github.com/vipul79321"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_266983.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-01T13:23:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266983",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_266984.json:
```json
{
    "body": "By default method `matching` gives a `list`. When `value_only=True`, methods gives `integer` when `use_edge_label=False` and `float` when `use_edge_label=False`.\n\n---\n\nSingle edge, integer label \n\n```\nsage: edge = [(1,2,4)]\nsage: g = Graph(edge)\nsage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))\n<class 'float'>\nsage: type(g.matching(algorithm='Edmonds',use_edge_labels=True,value_only=True))\n....: \n<class 'float'>\n```\n\n---\n\nSingle edge, float label\n\n```\nsage: edge = [(1,2,4.5)]\nsage: g = Graph(edge)\nsage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))\n<class 'float'>\nsage: type(g.matching(algorithm='Edmonds',use_edge_labels=True,value_only=True))\n....: \n<class 'float'>\n``` \n\n---\n\nMultiple edges, all integer labels\n\n```\nsage: edge = [(1,2,4), (2,3,5), (3,4,6), (4,1,2)]\nsage: g = Graph(edge)\nsage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))\n<class 'float'>\nsage: type(g.matching(algorithm='Edmonds',use_edge_labels=True,value_only=True))\n....: \n<class 'float'>\n```\n\n---\n\nMultiple edges, all non integer labels, but output becomes integer(only zero after decimal)\n\n```\nsage: edge = [(1,2,4.5), (2,3,5.5), (3,4,6.5), (4,1,2.5)]\nsage: g = Graph(edge)\nsage: g.matching(algorithm='LP',use_edge_labels=True,value_only=True)\n11.0\nsage: type(g.matching(algorithm='Edmonds',use_edge_labels=True,value_only=True))\n....: \n<class 'float'>\nsage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))\n<class 'float'>\n```\n\n---\n\nMultiple edges, all non integer labels and output also non integer\n\n```\nsage: edge = [(1,2,4.1), (2,3,5.5), (3,4,6.4), (4,1,2.7)]\nsage: g = Graph(edge)\nsage: g.matching(algorithm='LP',use_edge_labels=True,value_only=True)\n10.5\nsage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))\n<class 'float'>\nsage: type(g.matching(algorithm='Edmonds',use_edge_labels=True,value_only=True))\n....: \n<class 'float'>\n```",
    "created_at": "2020-04-01T13:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266984",
    "user": "https://github.com/vipul79321"
}
```

By default method `matching` gives a `list`. When `value_only=True`, methods gives `integer` when `use_edge_label=False` and `float` when `use_edge_label=False`.

---

Single edge, integer label 

```
sage: edge = [(1,2,4)]
sage: g = Graph(edge)
sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))
<class 'float'>
sage: type(g.matching(algorithm='Edmonds',use_edge_labels=True,value_only=True))
....: 
<class 'float'>
```

---

Single edge, float label

```
sage: edge = [(1,2,4.5)]
sage: g = Graph(edge)
sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))
<class 'float'>
sage: type(g.matching(algorithm='Edmonds',use_edge_labels=True,value_only=True))
....: 
<class 'float'>
``` 

---

Multiple edges, all integer labels

```
sage: edge = [(1,2,4), (2,3,5), (3,4,6), (4,1,2)]
sage: g = Graph(edge)
sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))
<class 'float'>
sage: type(g.matching(algorithm='Edmonds',use_edge_labels=True,value_only=True))
....: 
<class 'float'>
```

---

Multiple edges, all non integer labels, but output becomes integer(only zero after decimal)

```
sage: edge = [(1,2,4.5), (2,3,5.5), (3,4,6.5), (4,1,2.5)]
sage: g = Graph(edge)
sage: g.matching(algorithm='LP',use_edge_labels=True,value_only=True)
11.0
sage: type(g.matching(algorithm='Edmonds',use_edge_labels=True,value_only=True))
....: 
<class 'float'>
sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))
<class 'float'>
```

---

Multiple edges, all non integer labels and output also non integer

```
sage: edge = [(1,2,4.1), (2,3,5.5), (3,4,6.4), (4,1,2.7)]
sage: g = Graph(edge)
sage: g.matching(algorithm='LP',use_edge_labels=True,value_only=True)
10.5
sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))
<class 'float'>
sage: type(g.matching(algorithm='Edmonds',use_edge_labels=True,value_only=True))
....: 
<class 'float'>
```



---

archive/issue_comments_266985.json:
```json
{
    "body": "Replying to [comment:4 dcoudert]:\n> If simple modifications could help unifying the outputs, it's a plus.\n\nNow, do we need to modify the documentation too? \nIn my opinion current documentation conveys the output information quite well.",
    "created_at": "2020-04-01T13:27:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266985",
    "user": "https://github.com/vipul79321"
}
```

Replying to [comment:4 dcoudert]:
> If simple modifications could help unifying the outputs, it's a plus.

Now, do we need to modify the documentation too? 
In my opinion current documentation conveys the output information quite well.



---

archive/issue_comments_266986.json:
```json
{
    "body": "I'm not ok with proposed change. Currently, we have\n\n```\nsage: edge = [(1,2,4)]\nsage: g = Graph(edge)\nsage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))\n<class 'float'>\nsage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='GLPK'))\n<class 'float'>\nsage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='Cplex'))\n<class 'float'>\nsage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='Gurobi'))\n<class 'float'>\nsage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='PPL'))\n<class 'sage.rings.rational.Rational'>\n```\nand it is important to let the output be a rational when using PPL.\n\nActually, when all edge weights are integers, one could expect the output to be an integer (or a rational). So a more suitable solution could be to try to return an integer (or a rational) whenever possible, and a float otherwise.",
    "created_at": "2020-04-02T08:22:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266986",
    "user": "https://github.com/dcoudert"
}
```

I'm not ok with proposed change. Currently, we have

```
sage: edge = [(1,2,4)]
sage: g = Graph(edge)
sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))
<class 'float'>
sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='GLPK'))
<class 'float'>
sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='Cplex'))
<class 'float'>
sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='Gurobi'))
<class 'float'>
sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='PPL'))
<class 'sage.rings.rational.Rational'>
```
and it is important to let the output be a rational when using PPL.

Actually, when all edge weights are integers, one could expect the output to be an integer (or a rational). So a more suitable solution could be to try to return an integer (or a rational) whenever possible, and a float otherwise.



---

archive/issue_comments_266987.json:
```json
{
    "body": "Replying to [comment:9 dcoudert]:\n> I'm not ok with proposed change. Currently, we have\n> \n> ```\n> sage: edge = [(1,2,4)]\n> sage: g = Graph(edge)\n> sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))\n> <class 'float'>\n> sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='GLPK'))\n> <class 'float'>\n> sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='Cplex'))\n> <class 'float'>\n> sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='Gurobi'))\n> <class 'float'>\n> sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='PPL'))\n> <class 'sage.rings.rational.Rational'>\n> ```\n> and it is important to let the output be a rational when using PPL.\n> \n\nThe change that  I proposed is in the output of `Edmonds` algorithm, so there will be no change in output of `LP` algorithm. Correct me, if I am wrong.\n\n> Actually, when all edge weights are integers, one could expect the output to be an integer (or a rational). So a more suitable solution could be to try to return an integer (or a rational) whenever possible, and a float otherwise\n\n\n\nNow, to get integer value from `Edmonds` whenever possible, we can try the following:\n\n```\ns = sum(W[frozenset(e)] for e in d)\nif(isinstance(s,sage.rings.integer.Integer)\n    return s\nelse\n    return float(s)\n```",
    "created_at": "2020-04-02T13:38:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266987",
    "user": "https://github.com/vipul79321"
}
```

Replying to [comment:9 dcoudert]:
> I'm not ok with proposed change. Currently, we have
> 
> ```
> sage: edge = [(1,2,4)]
> sage: g = Graph(edge)
> sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True))
> <class 'float'>
> sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='GLPK'))
> <class 'float'>
> sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='Cplex'))
> <class 'float'>
> sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='Gurobi'))
> <class 'float'>
> sage: type(g.matching(algorithm='LP',use_edge_labels=True,value_only=True, solver='PPL'))
> <class 'sage.rings.rational.Rational'>
> ```
> and it is important to let the output be a rational when using PPL.
> 

The change that  I proposed is in the output of `Edmonds` algorithm, so there will be no change in output of `LP` algorithm. Correct me, if I am wrong.

> Actually, when all edge weights are integers, one could expect the output to be an integer (or a rational). So a more suitable solution could be to try to return an integer (or a rational) whenever possible, and a float otherwise



Now, to get integer value from `Edmonds` whenever possible, we can try the following:

```
s = sum(W[frozenset(e)] for e in d)
if(isinstance(s,sage.rings.integer.Integer)
    return s
else
    return float(s)
```



---

archive/issue_events_054020.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-04-04T14:46:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19440#event-54020"
}
```



---

archive/issue_events_054021.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-04-04T14:46:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19440#event-54021"
}
```



---

archive/issue_comments_266988.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2020-04-04T14:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266988",
    "user": "https://github.com/vipul79321"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_266989.json:
```json
{
    "body": "The solution you propose does not help. For instance, \n\n```\nsage: s = 3.0\nsage: isinstance(s, sage.rings.integer.Integer)\nFalse\n```\nand\n\n```\nsage: G = Graph([(1,2,3), (2,3,1.5)])\nsage: G.matching(use_edge_labels=True, value_only=True)\n3\nsage: H = Graph([(1,2,3), (2,3,3.5)])\nsage: H.matching(use_edge_labels=True, value_only=True)\n3.50000000000000\nsage: H = Graph([(1,2,3), (2,3,7/2)])\nsage: H.matching(use_edge_labels=True, value_only=True)\n7/2\nsage: H = Graph([(1,2,3.1), (2,3,7/2)])\nsage: H.matching(use_edge_labels=True, value_only=True)\n7/2\n```\n\nThe original goal of this ticket is to document that the type of the output varies depending on the types of the edge labels and also on the algorithm. I see no reason to force the output to float when it's not already an integer value.",
    "created_at": "2020-04-05T08:09:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266989",
    "user": "https://github.com/dcoudert"
}
```

The solution you propose does not help. For instance, 

```
sage: s = 3.0
sage: isinstance(s, sage.rings.integer.Integer)
False
```
and

```
sage: G = Graph([(1,2,3), (2,3,1.5)])
sage: G.matching(use_edge_labels=True, value_only=True)
3
sage: H = Graph([(1,2,3), (2,3,3.5)])
sage: H.matching(use_edge_labels=True, value_only=True)
3.50000000000000
sage: H = Graph([(1,2,3), (2,3,7/2)])
sage: H.matching(use_edge_labels=True, value_only=True)
7/2
sage: H = Graph([(1,2,3.1), (2,3,7/2)])
sage: H.matching(use_edge_labels=True, value_only=True)
7/2
```

The original goal of this ticket is to document that the type of the output varies depending on the types of the edge labels and also on the algorithm. I see no reason to force the output to float when it's not already an integer value.



---

archive/issue_comments_266990.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-12T06:29:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266990",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_266991.json:
```json
{
    "body": "Replying to [comment:12 dcoudert]:\n> The solution you propose does not help. For instance, \n> \n> ```\n> sage: s = 3.0\n> sage: isinstance(s, sage.rings.integer.Integer)\n> False\n> ```\n> and\n> \n> ```\n> sage: G = Graph([(1,2,3), (2,3,1.5)])\n> sage: G.matching(use_edge_labels=True, value_only=True)\n> 3\n> sage: H = Graph([(1,2,3), (2,3,3.5)])\n> sage: H.matching(use_edge_labels=True, value_only=True)\n> 3.50000000000000\n> sage: H = Graph([(1,2,3), (2,3,7/2)])\n> sage: H.matching(use_edge_labels=True, value_only=True)\n> 7/2\n> sage: H = Graph([(1,2,3.1), (2,3,7/2)])\n> sage: H.matching(use_edge_labels=True, value_only=True)\n> 7/2\n> ```\n> \n> The original goal of this ticket is to document that the type of the output varies depending on the types of the edge labels and also on the algorithm. I see no reason to force the output to float when it's not already an integer value.\n\n\nI have tried documenting the output. \nWe can also add some examples of comment17 in EXAMPLE block describing different output types.\nAny suggestions on this will be helpful.",
    "created_at": "2020-04-12T06:31:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266991",
    "user": "https://github.com/vipul79321"
}
```

Replying to [comment:12 dcoudert]:
> The solution you propose does not help. For instance, 
> 
> ```
> sage: s = 3.0
> sage: isinstance(s, sage.rings.integer.Integer)
> False
> ```
> and
> 
> ```
> sage: G = Graph([(1,2,3), (2,3,1.5)])
> sage: G.matching(use_edge_labels=True, value_only=True)
> 3
> sage: H = Graph([(1,2,3), (2,3,3.5)])
> sage: H.matching(use_edge_labels=True, value_only=True)
> 3.50000000000000
> sage: H = Graph([(1,2,3), (2,3,7/2)])
> sage: H.matching(use_edge_labels=True, value_only=True)
> 7/2
> sage: H = Graph([(1,2,3.1), (2,3,7/2)])
> sage: H.matching(use_edge_labels=True, value_only=True)
> 7/2
> ```
> 
> The original goal of this ticket is to document that the type of the output varies depending on the types of the edge labels and also on the algorithm. I see no reason to force the output to float when it's not already an integer value.


I have tried documenting the output. 
We can also add some examples of comment17 in EXAMPLE block describing different output types.
Any suggestions on this will be helpful.



---

archive/issue_comments_266992.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-04-12T11:31:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266992",
    "user": "https://github.com/vipul79321"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_events_054022.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19440#event-54022"
}
```



---

archive/issue_events_054023.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19440#event-54023"
}
```



---

archive/issue_comments_266993.json:
```json
{
    "body": "Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266993",
    "user": "https://github.com/mkoeppe"
}
```

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_266994.json:
```json
{
    "body": "This might be better (make sure to align on 80 columns).\n\n```diff\n-        - When ``value_only=False``, this method returns :class:`list` object\n-          containing edges in maximum matching of `G`.\n-\n-        - When ``value_only=True``, this method returns,\n-          sum of edge labels (default: ``1``) in maximum matching of `G`.\n-          Output type may vary according to edge labels or algorithm used.\n+        - When ``value_only=False``, this method returns the list of edges\n+          of a maximum matching of `G`.\n+\n+        - When ``value_only=True`` (default), this method returns the sum\n+          of the weights (default: ``1``) of the edges of a maximum matching of `G`.\n+          The type of the output may vary according to the type of the edge labels and the algorithm used.\n```",
    "created_at": "2020-04-15T16:58:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266994",
    "user": "https://github.com/dcoudert"
}
```

This might be better (make sure to align on 80 columns).

```diff
-        - When ``value_only=False``, this method returns :class:`list` object
-          containing edges in maximum matching of `G`.
-
-        - When ``value_only=True``, this method returns,
-          sum of edge labels (default: ``1``) in maximum matching of `G`.
-          Output type may vary according to edge labels or algorithm used.
+        - When ``value_only=False``, this method returns the list of edges
+          of a maximum matching of `G`.
+
+        - When ``value_only=True`` (default), this method returns the sum
+          of the weights (default: ``1``) of the edges of a maximum matching of `G`.
+          The type of the output may vary according to the type of the edge labels and the algorithm used.
```



---

archive/issue_comments_266995.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-16T14:30:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266995",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_266996.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-17T10:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266996",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_266997.json:
```json
{
    "body": "LGTM. I don't know how to document more precisely the large number of different cases anyway.",
    "created_at": "2020-04-17T10:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266997",
    "user": "https://github.com/dcoudert"
}
```

LGTM. I don't know how to document more precisely the large number of different cases anyway.



---

archive/issue_events_054024.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-19T19:25:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19440#event-54024"
}
```



---

archive/issue_comments_266998.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-19T19:25:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19440#issuecomment-266998",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_054025.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-02T02:15:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19440#event-54025"
}
```



---

archive/issue_events_054026.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-02T02:15:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19440",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19440#event-54026"
}
```
