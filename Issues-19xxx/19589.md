# Issue 19589: Upgrade MPIR to 2.7.2

archive/issues_019352.json:
```json
{
    "assignees": [],
    "body": "**Tarball**: [http://mpir.org/mpir-2.7.2.tar.bz2](http://mpir.org/mpir-2.7.2.tar.bz2)\n\nCC:  @nexttime @pipedream\n\nBranch: **[`6ffe790`](https://github.com/sagemath/sagetrac-mirror/commit/6ffe790828c50bf65087d56648daa88bc26b372f)**\n\nReviewer: **Fran\u00e7ois Bissey, Volker Braun, Leif Leonhardy**\n\nAuthor: **Jeroen Demeyer**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19589_\n\n",
    "closed_at": "2015-11-23T06:34:16Z",
    "created_at": "2015-11-16T12:27:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade MPIR to 2.7.2",
    "type": "issue",
    "updated_at": "2015-11-23T06:59:46Z",
    "url": "https://github.com/sagemath/sage/issues/19589",
    "user": "https://github.com/jdemeyer"
}
```
**Tarball**: [http://mpir.org/mpir-2.7.2.tar.bz2](http://mpir.org/mpir-2.7.2.tar.bz2)

CC:  @nexttime @pipedream

Branch: **[`6ffe790`](https://github.com/sagemath/sagetrac-mirror/commit/6ffe790828c50bf65087d56648daa88bc26b372f)**

Reviewer: **François Bissey, Volker Braun, Leif Leonhardy**

Author: **Jeroen Demeyer**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/19589_





---

archive/issue_events_278757.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-16T12:27:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278757"
}
```



---

archive/issue_events_278758.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-16T12:27:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278758"
}
```



---

archive/issue_events_278759.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-16T12:27:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278759"
}
```



---

archive/issue_events_278760.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-16T12:27:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278760"
}
```



---

archive/issue_comments_279141.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+**Tarball**: [http://mpir.org/mpir-2.7.1.tar.bz2](http://mpir.org/mpir-2.7.1.tar.bz2)\n``````\n",
    "created_at": "2015-11-16T13:56:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279141",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+**Tarball**: [http://mpir.org/mpir-2.7.1.tar.bz2](http://mpir.org/mpir-2.7.1.tar.bz2)
``````




---

archive/issue_comments_279142.json:
```json
{
    "body": "Branch: **[u/jdemeyer/upgrade_mpir_to_2_7_1](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_mpir_to_2_7_1)**",
    "created_at": "2015-11-17T06:43:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279142",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/upgrade_mpir_to_2_7_1](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_mpir_to_2_7_1)**



---

archive/issue_events_278761.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-17T08:43:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278761"
}
```



---

archive/issue_comments_279143.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ca243c806b350acb1c19c7613a1159f9592db2b\"><code>6ca243c</code></a></td><td><code>Upgrade to MPIR 2.7.1</code></td></tr></table>\n",
    "created_at": "2015-11-17T08:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279143",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ca243c806b350acb1c19c7613a1159f9592db2b"><code>6ca243c</code></a></td><td><code>Upgrade to MPIR 2.7.1</code></td></tr></table>




---

archive/issue_comments_279144.json:
```json
{
    "body": "Commit: **[`6ca243c`](https://github.com/sagemath/sagetrac-mirror/commit/6ca243c806b350acb1c19c7613a1159f9592db2b)**",
    "created_at": "2015-11-17T08:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279144",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`6ca243c`](https://github.com/sagemath/sagetrac-mirror/commit/6ca243c806b350acb1c19c7613a1159f9592db2b)**



---

archive/issue_comments_279145.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2015-11-17T10:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279145",
    "user": "https://github.com/kiwifb"
}
```

Reviewer: **François Bissey**



---

archive/issue_events_278762.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-11-17T10:32:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278762"
}
```



---

archive/issue_events_278763.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-11-17T10:32:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278763"
}
```



---

archive/issue_comments_279146.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nlgtm.",
    "created_at": "2015-11-17T10:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279146",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:4" align="right">comment:4</div>

lgtm.



---

archive/issue_events_278764.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-18T14:32:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278764"
}
```



---

archive/issue_events_278765.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-18T14:32:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278765"
}
```



---

archive/issue_comments_279147.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\ncauses some segfaults in libgmp on Debian and some Ubuntu versions:\n* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%207%2032%20bit%29%20incremental/builds/220/steps/shell_4/logs/stdio\n* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%207%2064%20bit%29%20incremental/builds/190/steps/shell_4/logs/stdio\n* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%208%2032%20bit%29%20incremental/builds/218/steps/shell_4/logs/stdio\n* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%208%2064%20bit%29%20incremental/builds/204/steps/shell_4/logs/stdio",
    "created_at": "2015-11-18T14:32:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279147",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:5" align="right">comment:5</div>

causes some segfaults in libgmp on Debian and some Ubuntu versions:
* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%207%2032%20bit%29%20incremental/builds/220/steps/shell_4/logs/stdio
* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%207%2064%20bit%29%20incremental/builds/190/steps/shell_4/logs/stdio
* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%208%2032%20bit%29%20incremental/builds/218/steps/shell_4/logs/stdio
* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%208%2064%20bit%29%20incremental/builds/204/steps/shell_4/logs/stdio



---

archive/issue_comments_279148.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nCan I get access to that machine?",
    "created_at": "2015-11-18T14:58:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279148",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Can I get access to that machine?



---

archive/issue_comments_279149.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nPS: There were also a whole bunch of different failures on ARM:\n http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20%28Ubuntu%2012.10%29%20incremental/builds/320/steps/shell_4/logs/stdio",
    "created_at": "2015-11-19T03:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279149",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">comment:7</div>

PS: There were also a whole bunch of different failures on ARM:
 http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20%28Ubuntu%2012.10%29%20incremental/builds/320/steps/shell_4/logs/stdio



---

archive/issue_comments_279150.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nFirst thing to try is to check with a clean build (after `make distclean`) to check if it might be a dependency issue.\n\nSecond thing to check is a different version of GCC.",
    "created_at": "2015-11-19T07:15:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279150",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

First thing to try is to check with a clean build (after `make distclean`) to check if it might be a dependency issue.

Second thing to check is a different version of GCC.



---

archive/issue_comments_279151.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@vbraun](#comment:5):\n> causes some segfaults in libgmp on Debian and some Ubuntu versions:\n> * http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%207%2032%20bit%29%20incremental/builds/220/steps/shell_4/logs/stdio\n\n```\n/mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmp.so.16(__gmpn_sub_n+0x30)[0xf64f0e58]\n------------------------------------------------------------------------\nAttaching gdb to process id 5890.\nUnable to start gdb (not installed?)\n\nGDB is not installed.\nInstall the gdb spkg (sage -i gdb) for enhanced tracebacks.\n```\n;-)",
    "created_at": "2015-11-19T07:36:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279151",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@vbraun](#comment:5):
> causes some segfaults in libgmp on Debian and some Ubuntu versions:
> * http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%207%2032%20bit%29%20incremental/builds/220/steps/shell_4/logs/stdio

```
/mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmp.so.16(__gmpn_sub_n+0x30)[0xf64f0e58]
------------------------------------------------------------------------
Attaching gdb to process id 5890.
Unable to start gdb (not installed?)

GDB is not installed.
Install the gdb spkg (sage -i gdb) for enhanced tracebacks.
```
;-)



---

archive/issue_comments_279152.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nDoes MPIR's test suite at all pass on that machine?  (Haswell in 32-bit mode; `x86/nehalem` for MPIR)",
    "created_at": "2015-11-19T09:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279152",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:11" align="right">comment:11</div>

Does MPIR's test suite at all pass on that machine?  (Haswell in 32-bit mode; `x86/nehalem` for MPIR)



---

archive/issue_comments_279153.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@nexttime](#comment:10):\n> \n> ```\n> .../sage_git/build/local/lib/libgmp.so.16(__gmpn_sub_n+0x30)[0xf64f0e58]\n> ```\n\nAFAICT, `libgmp.so.16` is MPIR 2.7.**0**, whereas -- for whatever reason ;-) -- MPIR 2.7.1 is `libgmp.so.10`*[*`.6.1`*]*.  (The latter may clash with GMP 6.0.0 btw.)\n\nSo probably you should follow Jeroen's advise to [first] try a clean build.",
    "created_at": "2015-11-19T09:59:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279153",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@nexttime](#comment:10):
> 
> ```
> .../sage_git/build/local/lib/libgmp.so.16(__gmpn_sub_n+0x30)[0xf64f0e58]
> ```

AFAICT, `libgmp.so.16` is MPIR 2.7.**0**, whereas -- for whatever reason ;-) -- MPIR 2.7.1 is `libgmp.so.10`*[*`.6.1`*]*.  (The latter may clash with GMP 6.0.0 btw.)

So probably you should follow Jeroen's advise to [first] try a clean build.



---

archive/issue_comments_279154.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nIn fact, we have\n\n```\n...\nBuild succeeded.\nRemoving old GMP/MPIR headers...\nNot removing old GMP/MPIR shared libraries, as other libraries\nand executables might still refer to them:\n-rw-r--r-- 1 buildbot buildbot 3418848 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmp.a\nlrwxrwxrwx 1 buildbot buildbot      16 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmp.so -> libgmp.so.16.0.0\nlrwxrwxrwx 1 buildbot buildbot      16 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmp.so.16 -> libgmp.so.16.0.0\n-rwxr-xr-x 1 buildbot buildbot 1949983 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmp.so.16.0.0\n-rw-r--r-- 1 buildbot buildbot  343410 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmpxx.a\nlrwxrwxrwx 1 buildbot buildbot      17 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmpxx.so -> libgmpxx.so.8.0.0\nlrwxrwxrwx 1 buildbot buildbot      17 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmpxx.so.8 -> libgmpxx.so.8.0.0\n-rwxr-xr-x 1 buildbot buildbot  195794 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmpxx.so.8.0.0\n-rw-r--r-- 1 buildbot buildbot 3418848 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpir.a\nlrwxrwxrwx 1 buildbot buildbot      17 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpir.so -> libmpir.so.16.0.0\nlrwxrwxrwx 1 buildbot buildbot      17 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpir.so.16 -> libmpir.so.16.0.0\n-rwxr-xr-x 1 buildbot buildbot 1949983 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpir.so.16.0.0\n-rw-r--r-- 1 buildbot buildbot  343410 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpirxx.a\nlrwxrwxrwx 1 buildbot buildbot      18 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpirxx.so -> libmpirxx.so.8.0.0\nlrwxrwxrwx 1 buildbot buildbot      18 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpirxx.so.8 -> libmpirxx.so.8.0.0\n-rwxr-xr-x 1 buildbot buildbot  195794 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpirxx.so.8.0.0\n(Libraries with the same version number will get updated though.)\nNow installing MPIR...\n...\nlibtool: install: /usr/bin/install -c .libs/libmpir.so.10.6.1 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpir.so.10.6.1\nlibtool: install: (cd /mnt/highperf/buildbot/slave/sage_git/build/local/lib && { ln -s -f libmpir.so.10.6.1 libmpir.so.10 || { rm -f libmpir.so.10 && ln -s libmpir.so.10.6.1 libmpir.so.10; }; })\nlibtool: install: (cd /mnt/highperf/buildbot/slave/sage_git/build/local/lib && { ln -s -f libmpir.so.10.6.1 libmpir.so || { rm -f libmpir.so && ln -s libmpir.so.10.6.1 libmpir.so; }; })\nlibtool: install: /usr/bin/install -c .libs/libmpir.lai /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpir.la\nlibtool: install: /usr/bin/install -c .libs/libgmp.so.10.6.1 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmp.so.10.6.1\nlibtool: install: (cd /mnt/highperf/buildbot/slave/sage_git/build/local/lib && { ln -s -f libgmp.so.10.6.1 libgmp.so.10 || { rm -f libgmp.so.10 && ln -s libgmp.so.10.6.1 libgmp.so.10; }; })\nlibtool: install: (cd /mnt/highperf/buildbot/slave/sage_git/build/local/lib && { ln -s -f libgmp.so.10.6.1 libgmp.so || { rm -f libgmp.so && ln -s libgmp.so.10.6.1 libgmp.so; }; })\n...\n```\nso it's definitely a dependency issue.",
    "created_at": "2015-11-19T10:16:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279154",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:13" align="right">comment:13</div>

In fact, we have

```
...
Build succeeded.
Removing old GMP/MPIR headers...
Not removing old GMP/MPIR shared libraries, as other libraries
and executables might still refer to them:
-rw-r--r-- 1 buildbot buildbot 3418848 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmp.a
lrwxrwxrwx 1 buildbot buildbot      16 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmp.so -> libgmp.so.16.0.0
lrwxrwxrwx 1 buildbot buildbot      16 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmp.so.16 -> libgmp.so.16.0.0
-rwxr-xr-x 1 buildbot buildbot 1949983 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmp.so.16.0.0
-rw-r--r-- 1 buildbot buildbot  343410 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmpxx.a
lrwxrwxrwx 1 buildbot buildbot      17 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmpxx.so -> libgmpxx.so.8.0.0
lrwxrwxrwx 1 buildbot buildbot      17 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmpxx.so.8 -> libgmpxx.so.8.0.0
-rwxr-xr-x 1 buildbot buildbot  195794 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmpxx.so.8.0.0
-rw-r--r-- 1 buildbot buildbot 3418848 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpir.a
lrwxrwxrwx 1 buildbot buildbot      17 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpir.so -> libmpir.so.16.0.0
lrwxrwxrwx 1 buildbot buildbot      17 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpir.so.16 -> libmpir.so.16.0.0
-rwxr-xr-x 1 buildbot buildbot 1949983 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpir.so.16.0.0
-rw-r--r-- 1 buildbot buildbot  343410 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpirxx.a
lrwxrwxrwx 1 buildbot buildbot      18 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpirxx.so -> libmpirxx.so.8.0.0
lrwxrwxrwx 1 buildbot buildbot      18 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpirxx.so.8 -> libmpirxx.so.8.0.0
-rwxr-xr-x 1 buildbot buildbot  195794 Nov 16 09:47 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpirxx.so.8.0.0
(Libraries with the same version number will get updated though.)
Now installing MPIR...
...
libtool: install: /usr/bin/install -c .libs/libmpir.so.10.6.1 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpir.so.10.6.1
libtool: install: (cd /mnt/highperf/buildbot/slave/sage_git/build/local/lib && { ln -s -f libmpir.so.10.6.1 libmpir.so.10 || { rm -f libmpir.so.10 && ln -s libmpir.so.10.6.1 libmpir.so.10; }; })
libtool: install: (cd /mnt/highperf/buildbot/slave/sage_git/build/local/lib && { ln -s -f libmpir.so.10.6.1 libmpir.so || { rm -f libmpir.so && ln -s libmpir.so.10.6.1 libmpir.so; }; })
libtool: install: /usr/bin/install -c .libs/libmpir.lai /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libmpir.la
libtool: install: /usr/bin/install -c .libs/libgmp.so.10.6.1 /mnt/highperf/buildbot/slave/sage_git/build/local/lib/libgmp.so.10.6.1
libtool: install: (cd /mnt/highperf/buildbot/slave/sage_git/build/local/lib && { ln -s -f libgmp.so.10.6.1 libgmp.so.10 || { rm -f libgmp.so.10 && ln -s libgmp.so.10.6.1 libgmp.so.10; }; })
libtool: install: (cd /mnt/highperf/buildbot/slave/sage_git/build/local/lib && { ln -s -f libgmp.so.10.6.1 libgmp.so || { rm -f libgmp.so && ln -s libgmp.so.10.6.1 libgmp.so; }; })
...
```
so it's definitely a dependency issue.



---

archive/issue_comments_279155.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nP.S.:  *Part of* the weird `.so` versioning (2.7.0 vs. 2.7.1) is due to superfluous trailing whitespace in `Makefile.am`, causing wrong arguments to libtool (corrected for libgmp in 2.7.1, but not libgmpxx).",
    "created_at": "2015-11-19T12:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279155",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:14" align="right">comment:14</div>

P.S.:  *Part of* the weird `.so` versioning (2.7.0 vs. 2.7.1) is due to superfluous trailing whitespace in `Makefile.am`, causing wrong arguments to libtool (corrected for libgmp in 2.7.1, but not libgmpxx).



---

archive/issue_comments_279156.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nIf it really is a dependency issue, I don't understand why not all buildbots have the same problem.",
    "created_at": "2015-11-19T12:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279156",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

If it really is a dependency issue, I don't understand why not all buildbots have the same problem.



---

archive/issue_comments_279157.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@jdemeyer](#comment:15):\n> If it really is a dependency issue, I don't understand why not all buildbots have the same problem.\n\nLuck perhaps.  And I'm not sure how `local/lib/` will look after another run of `ldconfig`...",
    "created_at": "2015-11-19T13:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279157",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@jdemeyer](#comment:15):
> If it really is a dependency issue, I don't understand why not all buildbots have the same problem.

Luck perhaps.  And I'm not sure how `local/lib/` will look after another run of `ldconfig`...



---

archive/issue_comments_279158.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nIt seems the last rebuilds of extension modules were only triggered by updates of NTL files.  ([http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20(Debian%207%2032%20bit)%20incremental/builds/220/steps/compile/logs/sage](http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20(Debian%207%2032%20bit)%20incremental/builds/220/steps/compile/logs/sage))",
    "created_at": "2015-11-19T13:19:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279158",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:17" align="right">comment:17</div>

It seems the last rebuilds of extension modules were only triggered by updates of NTL files.  ([http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20(Debian%207%2032%20bit)%20incremental/builds/220/steps/compile/logs/sage](http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20(Debian%207%2032%20bit)%20incremental/builds/220/steps/compile/logs/sage))



---

archive/issue_comments_279159.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nYes, some Sage library files still link to the old library:\n\n```\n$ ldd local/lib/python2.7/site-packages/sage/ext/interrupt/interrupt.so\n        linux-vdso.so.1 (0x00007fff7a9fe000)\n        libpari-gmp-2.8.so.0 => /usr/local/src/sage-config/local/lib/libpari-gmp-2.8.so.0 (0x00007fd474f7d000)\n        libgmp.so.16 => /usr/local/src/sage-config/local/lib/libgmp.so.16 (0x00007fd474d05000)\n        libpython2.7.so.1.0 => /usr/local/src/sage-config/local/lib/libpython2.7.so.1.0 (0x00007fd4748fa000)\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x00007fd4746a9000)\n        libc.so.6 => /lib64/libc.so.6 (0x00007fd474300000)\n        libm.so.6 => /lib64/libm.so.6 (0x00007fd474012000)\n        libgmp.so.10 => /usr/local/src/sage-config/local/lib/libgmp.so.10 (0x00007fd473d9d000)\n        libdl.so.2 => /lib64/libdl.so.2 (0x00007fd473b98000)\n        libutil.so.1 => /lib64/libutil.so.1 (0x00007fd473995000)\n        /lib64/ld-linux-x86-64.so.2 (0x00007fd475a29000)\n```",
    "created_at": "2015-11-19T15:02:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279159",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Yes, some Sage library files still link to the old library:

```
$ ldd local/lib/python2.7/site-packages/sage/ext/interrupt/interrupt.so
        linux-vdso.so.1 (0x00007fff7a9fe000)
        libpari-gmp-2.8.so.0 => /usr/local/src/sage-config/local/lib/libpari-gmp-2.8.so.0 (0x00007fd474f7d000)
        libgmp.so.16 => /usr/local/src/sage-config/local/lib/libgmp.so.16 (0x00007fd474d05000)
        libpython2.7.so.1.0 => /usr/local/src/sage-config/local/lib/libpython2.7.so.1.0 (0x00007fd4748fa000)
        libpthread.so.0 => /lib64/libpthread.so.0 (0x00007fd4746a9000)
        libc.so.6 => /lib64/libc.so.6 (0x00007fd474300000)
        libm.so.6 => /lib64/libm.so.6 (0x00007fd474012000)
        libgmp.so.10 => /usr/local/src/sage-config/local/lib/libgmp.so.10 (0x00007fd473d9d000)
        libdl.so.2 => /lib64/libdl.so.2 (0x00007fd473b98000)
        libutil.so.1 => /lib64/libutil.so.1 (0x00007fd473995000)
        /lib64/ld-linux-x86-64.so.2 (0x00007fd475a29000)
```



---

archive/issue_comments_279160.json:
```json
{
    "body": "Dependencies: **#19602**",
    "created_at": "2015-11-19T15:03:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279160",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#19602**



---

archive/issue_events_278766.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-19T15:03:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278766"
}
```



---

archive/issue_events_278767.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-19T15:03:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278767"
}
```



---

archive/issue_comments_279161.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nVolker, will your release-management script not merge positively reviewed tickets depending on a non-merged ticket?",
    "created_at": "2015-11-19T15:04:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279161",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Volker, will your release-management script not merge positively reviewed tickets depending on a non-merged ticket?



---

archive/issue_comments_279162.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nyes",
    "created_at": "2015-11-19T15:12:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279162",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">comment:21</div>

yes



---

archive/issue_comments_279163.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nIn principle, `LIBGMPXX_LT_REVISION` should get fixed as well.\n\n(In 2.7.1, we still end up with `-version-info 8:1 :4`, which leads to `libgmpxx.so.8.0.1`.)",
    "created_at": "2015-11-19T15:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279163",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:22" align="right">comment:22</div>

In principle, `LIBGMPXX_LT_REVISION` should get fixed as well.

(In 2.7.1, we still end up with `-version-info 8:1 :4`, which leads to `libgmpxx.so.8.0.1`.)



---

archive/issue_comments_279164.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@nexttime](#comment:22):\n> In principle, `LIBGMPXX_LT_REVISION` should get fixed as well.\n\nDoesn't really matter for Sage, but if you can send upstream a patch that would be great.",
    "created_at": "2015-11-19T15:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279164",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@nexttime](#comment:22):
> In principle, `LIBGMPXX_LT_REVISION` should get fixed as well.

Doesn't really matter for Sage, but if you can send upstream a patch that would be great.



---

archive/issue_comments_279165.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI propose to reissue MPIR-2.7.1 with fixed .so version numbering. \n\nLIBGMP_LT_CURRENT = 22\nLIBGMP_LT_REVISION = 1\nLIBGMP_LT_AGE = 6\n\nLIBGMPXX_LT_CURRENT = 12\nLIBGMPXX_LT_REVISION = 1\nLIBGMPXX_LT_AGE = 4\n\nwhich (I have checked) leads to 16.6.1 and 8.4.1.\n\nIs this ok with everyone?",
    "created_at": "2015-11-20T17:07:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279165",
    "user": "https://github.com/wbhart"
}
```

<div id="comment:24" align="right">comment:24</div>

I propose to reissue MPIR-2.7.1 with fixed .so version numbering. 

LIBGMP_LT_CURRENT = 22
LIBGMP_LT_REVISION = 1
LIBGMP_LT_AGE = 6

LIBGMPXX_LT_CURRENT = 12
LIBGMPXX_LT_REVISION = 1
LIBGMPXX_LT_AGE = 4

which (I have checked) leads to 16.6.1 and 8.4.1.

Is this ok with everyone?



---

archive/issue_comments_279166.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@wbhart](#comment:24):\n> I propose to reissue MPIR-2.7.1 with fixed .so version numbering. \n> \n> LIBGMP_LT_CURRENT = 22\n> LIBGMP_LT_REVISION = 1\n> LIBGMP_LT_AGE = 6\n> \n> LIBGMPXX_LT_CURRENT = 12\n> LIBGMPXX_LT_REVISION = 1\n> LIBGMPXX_LT_AGE = 4\n> \n> which (I have checked) leads to 16.6.1 and 8.4.1.\n> \n> Is this ok with everyone?\n\nTo avoid a \"downgrade\" compared to 2.7.0's mistaken version numbers I guess.\n\nI'd of course prefer fixing those of 2.7.0... B)\n\n\n\n\nWhile you're at it, some of the confusion presumably arose from the use of periods instead of colons (libtool syntax) in the version table, starting with MPIR 2.1.2 and on:\n\n```\n#\t  GMP\t   -version-info\n#       release   libgmp  libgmpxx libmp\n#        2.0.x      -        -       -\n#        3.0      3:0:0      -     3:0:0\n#        3.0.1    3:1:0      -     3:0:0\n#        3.1      4:0:1      -     4:0:1\n#        3.1.1    4:1:1      -     4:1:1\n#        4.0      5:0:2    3:0:0   4:2:1\n#        4.0.1    5:1:2    3:1:0   4:3:1\n#        4.1      6:0:3    3:2:0   4:4:1\n#        4.1.1    6:1:3    3:3:0   4:5:1\n#        4.1.2    6:2:3    3:4:0   4:6:1\n#        4.1.3    6:3:3    3:5:0   4:7:1\n#        4.1.4    6:3:3    3:5:0   4:7:1\tWRONG, same as 4.1.3!\n#        4.2      6:0:3    3:2:0   4:4:1\tREALLY WRONG, same as 4.1!\n#        4.2.1    7:1:4    4:1:1   4:10:1\n#\n#\t  MPIR\t   -version-info\n#       release   libgmp  libgmpxx libmp\n#\t0.9.0\t7:1:4\t4:1:1\t4:10:1   WRONG, same as GMP 4.2.1\n#\t1.0.0\t7:2:4\t4:2:1\t4:11:1\n#\t1.1.0\t7:3:4\t4:3:1\t4:12:1\n#\t1.2.0\t7:4:4\t4:4:1\t4:13:1\n#\t1.3.0\t8:0:0\t4:5:1\t4:14:1 \n#\t1.3.1\t8:1:0\t4:6:1\t0:0:0\n#\t2.0.0\t9:2:0\t4:7:1\n#\t2.1.0\t10:0:1\t4:8:1\n#\t2.1.1\t10:1:2\t4:9:2\n#\t2.1.2\t10.2.2\t4.10.2\n#\t2.1.3\t10.3.2\t4.11.2\n#\t2.1.4\t10.4.2\t4.12.2\n#\t2.2.0\t10.5.2\t4.13.2\n#\t2.2.1\t10.6.3\t4.14.3\n#\t2.3.0\t10.7.3\t4.15.3\n#\t2.3.1\t10.8.3\t4.16.3\n#\t2.4.0   11.0.4  4.17.3\n#\t2.5.0\t11.1.4\t4.18.3\n#\t2.5.1\t11.2.4\t4.19.3\n#\t2.5.2\t11.3.4\t4.20.3\n#\t2.6.0   11.0.5  4.21.3               Clearly wrong!!\n#       2.7.0   16.0.6  8.0.4                Attempt to correct wrt all prev \n#       2.7.1   16.1.6  8.1.4\n#\n# Starting at 3:0:0 is a slight abuse of the versioning system, but it\n# ensures we're past soname libgmp.so.2, which was used on Debian GNU/Linux\n# packages of gmp 2.  Pretend gmp 2 was 2:0:0, so the interface changes for\n# gmp 3 mean 3:0:0 is right.\n#\n# We interpret \"implementation changed\" in item \"1.\" above as meaning any\n# release, ie. the REVISION is incremented every time (if nothing else).\n# Even if we thought the code generated will be identical on all systems,\n# it's still good to get the shared library filename (like\n# libgmpxx.so.3.0.4) incrementing, to make it clear which GMP it's from.\n```\nYou could also add an extra column for the *resulting library version* (in period notation).",
    "created_at": "2015-11-20T17:57:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279166",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@wbhart](#comment:24):
> I propose to reissue MPIR-2.7.1 with fixed .so version numbering. 
> 
> LIBGMP_LT_CURRENT = 22
> LIBGMP_LT_REVISION = 1
> LIBGMP_LT_AGE = 6
> 
> LIBGMPXX_LT_CURRENT = 12
> LIBGMPXX_LT_REVISION = 1
> LIBGMPXX_LT_AGE = 4
> 
> which (I have checked) leads to 16.6.1 and 8.4.1.
> 
> Is this ok with everyone?

To avoid a "downgrade" compared to 2.7.0's mistaken version numbers I guess.

I'd of course prefer fixing those of 2.7.0... B)




While you're at it, some of the confusion presumably arose from the use of periods instead of colons (libtool syntax) in the version table, starting with MPIR 2.1.2 and on:

```
#	  GMP	   -version-info
#       release   libgmp  libgmpxx libmp
#        2.0.x      -        -       -
#        3.0      3:0:0      -     3:0:0
#        3.0.1    3:1:0      -     3:0:0
#        3.1      4:0:1      -     4:0:1
#        3.1.1    4:1:1      -     4:1:1
#        4.0      5:0:2    3:0:0   4:2:1
#        4.0.1    5:1:2    3:1:0   4:3:1
#        4.1      6:0:3    3:2:0   4:4:1
#        4.1.1    6:1:3    3:3:0   4:5:1
#        4.1.2    6:2:3    3:4:0   4:6:1
#        4.1.3    6:3:3    3:5:0   4:7:1
#        4.1.4    6:3:3    3:5:0   4:7:1	WRONG, same as 4.1.3!
#        4.2      6:0:3    3:2:0   4:4:1	REALLY WRONG, same as 4.1!
#        4.2.1    7:1:4    4:1:1   4:10:1
#
#	  MPIR	   -version-info
#       release   libgmp  libgmpxx libmp
#	0.9.0	7:1:4	4:1:1	4:10:1   WRONG, same as GMP 4.2.1
#	1.0.0	7:2:4	4:2:1	4:11:1
#	1.1.0	7:3:4	4:3:1	4:12:1
#	1.2.0	7:4:4	4:4:1	4:13:1
#	1.3.0	8:0:0	4:5:1	4:14:1 
#	1.3.1	8:1:0	4:6:1	0:0:0
#	2.0.0	9:2:0	4:7:1
#	2.1.0	10:0:1	4:8:1
#	2.1.1	10:1:2	4:9:2
#	2.1.2	10.2.2	4.10.2
#	2.1.3	10.3.2	4.11.2
#	2.1.4	10.4.2	4.12.2
#	2.2.0	10.5.2	4.13.2
#	2.2.1	10.6.3	4.14.3
#	2.3.0	10.7.3	4.15.3
#	2.3.1	10.8.3	4.16.3
#	2.4.0   11.0.4  4.17.3
#	2.5.0	11.1.4	4.18.3
#	2.5.1	11.2.4	4.19.3
#	2.5.2	11.3.4	4.20.3
#	2.6.0   11.0.5  4.21.3               Clearly wrong!!
#       2.7.0   16.0.6  8.0.4                Attempt to correct wrt all prev 
#       2.7.1   16.1.6  8.1.4
#
# Starting at 3:0:0 is a slight abuse of the versioning system, but it
# ensures we're past soname libgmp.so.2, which was used on Debian GNU/Linux
# packages of gmp 2.  Pretend gmp 2 was 2:0:0, so the interface changes for
# gmp 3 mean 3:0:0 is right.
#
# We interpret "implementation changed" in item "1." above as meaning any
# release, ie. the REVISION is incremented every time (if nothing else).
# Even if we thought the code generated will be identical on all systems,
# it's still good to get the shared library filename (like
# libgmpxx.so.3.0.4) incrementing, to make it clear which GMP it's from.
```
You could also add an extra column for the *resulting library version* (in period notation).



---

archive/issue_comments_279167.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nYeah, fixing 2.7.0 is obviously not possible. It's too widely deployed. It wouldn't fix it for us anyway. We can't even tell where it is picking up the broken GMP/MPIR from.\n\nAs for periods vs colons, I'm not sure what you mean. These are comments aren't they? Or are you telling me libtool actually reads the comments?\n\nAnother massive facepalm if so.",
    "created_at": "2015-11-20T18:01:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279167",
    "user": "https://github.com/wbhart"
}
```

<div id="comment:26" align="right">comment:26</div>

Yeah, fixing 2.7.0 is obviously not possible. It's too widely deployed. It wouldn't fix it for us anyway. We can't even tell where it is picking up the broken GMP/MPIR from.

As for periods vs colons, I'm not sure what you mean. These are comments aren't they? Or are you telling me libtool actually reads the comments?

Another massive facepalm if so.



---

archive/issue_comments_279168.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@wbhart](#comment:26):\n> Yeah, fixing 2.7.0 is obviously not possible. It's too widely deployed. It wouldn't fix it for us anyway. We can't even tell where it is picking up the broken GMP/MPIR from.\n\n`sudo invent time machine`\n\n\n> As for periods vs colons, I'm not sure what you mean. These are comments aren't they? Or are you telling me libtool actually reads the comments?\n\nNope, but the ordinary (human) reader is tempted to interpret \"22.1.6\" as the effective library version, as opposed to \"22:1:6\", which in contrast clearly(?) indicates a libtool CURRENT:REVISION:AGE tuple, the parameter passed to it, which the table is supposed to reflect or document.",
    "created_at": "2015-11-20T18:15:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279168",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@wbhart](#comment:26):
> Yeah, fixing 2.7.0 is obviously not possible. It's too widely deployed. It wouldn't fix it for us anyway. We can't even tell where it is picking up the broken GMP/MPIR from.

`sudo invent time machine`


> As for periods vs colons, I'm not sure what you mean. These are comments aren't they? Or are you telling me libtool actually reads the comments?

Nope, but the ordinary (human) reader is tempted to interpret "22.1.6" as the effective library version, as opposed to "22:1:6", which in contrast clearly(?) indicates a libtool CURRENT:REVISION:AGE tuple, the parameter passed to it, which the table is supposed to reflect or document.



---

archive/issue_comments_279169.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@nexttime](#comment:27):\n> Replying to [@wbhart](#comment:26):\n> > Yeah, fixing 2.7.0 is obviously not possible. It's too widely deployed. It wouldn't fix it for us anyway. We can't even tell where it is picking up the broken GMP/MPIR from.\n\n> \n> `sudo invent time machine`\n\n`sudo invent wave-motion gun`\n\n> \n> \n> > As for periods vs colons, I'm not sure what you mean. These are comments aren't they? Or are you telling me libtool actually reads the comments?\n\n> \n> Nope, but the ordinary (human) reader is tempted to interpret \"22.1.6\" as the effective library version, as opposed to \"22:1:6\", which in contrast clearly(?) indicates a libtool CURRENT:REVISION:AGE tuple, the parameter passed to it, which the table is supposed to reflect or document.\n> \n\nOk, well I fixed this in the `_repo_` by replacing all the dots with assorted punctuation :p.\n\nI'm going to push the fixed 2.7.1 which I had already prepared, to the website now.",
    "created_at": "2015-11-20T18:21:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279169",
    "user": "https://github.com/wbhart"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@nexttime](#comment:27):
> Replying to [@wbhart](#comment:26):
> > Yeah, fixing 2.7.0 is obviously not possible. It's too widely deployed. It wouldn't fix it for us anyway. We can't even tell where it is picking up the broken GMP/MPIR from.

> 
> `sudo invent time machine`

`sudo invent wave-motion gun`

> 
> 
> > As for periods vs colons, I'm not sure what you mean. These are comments aren't they? Or are you telling me libtool actually reads the comments?

> 
> Nope, but the ordinary (human) reader is tempted to interpret "22.1.6" as the effective library version, as opposed to "22:1:6", which in contrast clearly(?) indicates a libtool CURRENT:REVISION:AGE tuple, the parameter passed to it, which the table is supposed to reflect or document.
> 

Ok, well I fixed this in the `_repo_` by replacing all the dots with assorted punctuation :p.

I'm going to push the fixed 2.7.1 which I had already prepared, to the website now.



---

archive/issue_comments_279170.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@wbhart](#comment:28):\n> Replying to [@nexttime](#comment:27):\n> > Replying to [@wbhart](#comment:26):\n> > > Yeah, fixing 2.7.0 is obviously not possible. It's too widely deployed. It wouldn't fix it for us anyway. We can't even tell where it is picking up the broken GMP/MPIR from.\n\n> > \n> > `sudo invent time machine`\n\n> \n> `sudo invent wave-motion gun`\n\n[What if?](https://what-if.xkcd.com/87/)",
    "created_at": "2015-11-20T18:26:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279170",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@wbhart](#comment:28):
> Replying to [@nexttime](#comment:27):
> > Replying to [@wbhart](#comment:26):
> > > Yeah, fixing 2.7.0 is obviously not possible. It's too widely deployed. It wouldn't fix it for us anyway. We can't even tell where it is picking up the broken GMP/MPIR from.

> > 
> > `sudo invent time machine`

> 
> `sudo invent wave-motion gun`

[What if?](https://what-if.xkcd.com/87/)



---

archive/issue_events_278768.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-21T08:22:09Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "title_is": "Upgrade MPIR to 2.7.2",
    "title_was": "Upgrade MPIR to 2.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278768"
}
```



---

archive/issue_events_278769.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-21T08:22:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278769"
}
```



---

archive/issue_events_278770.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-21T08:22:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278770"
}
```



---

archive/issue_comments_279171.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-**Tarball**: [http://mpir.org/mpir-2.7.1.tar.bz2](http://mpir.org/mpir-2.7.1.tar.bz2)\n+**Tarball**: [http://mpir.org/mpir-2.7.2.tar.bz2](http://mpir.org/mpir-2.7.2.tar.bz2)\n``````\n",
    "created_at": "2015-11-21T08:22:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279171",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-**Tarball**: [http://mpir.org/mpir-2.7.1.tar.bz2](http://mpir.org/mpir-2.7.1.tar.bz2)
+**Tarball**: [http://mpir.org/mpir-2.7.2.tar.bz2](http://mpir.org/mpir-2.7.2.tar.bz2)
``````




---

archive/issue_comments_279172.json:
```json
{
    "body": "Changed dependencies from **#19602** to **#19606**",
    "created_at": "2015-11-21T08:22:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279172",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#19602** to **#19606**



---

archive/issue_comments_279173.json:
```json
{
    "body": "Changed dependencies from **#19606** to **#19606, #19610**",
    "created_at": "2015-11-21T08:23:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279173",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#19606** to **#19606, #19610**



---

archive/issue_comments_279174.json:
```json
{
    "body": "Changed commit from **[`6ca243c`](https://github.com/sagemath/sagetrac-mirror/commit/6ca243c806b350acb1c19c7613a1159f9592db2b)** to **[`6ffe790`](https://github.com/sagemath/sagetrac-mirror/commit/6ffe790828c50bf65087d56648daa88bc26b372f)**",
    "created_at": "2015-11-21T15:04:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279174",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6ca243c`](https://github.com/sagemath/sagetrac-mirror/commit/6ca243c806b350acb1c19c7613a1159f9592db2b)** to **[`6ffe790`](https://github.com/sagemath/sagetrac-mirror/commit/6ffe790828c50bf65087d56648daa88bc26b372f)**



---

archive/issue_comments_279175.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ffe790828c50bf65087d56648daa88bc26b372f\"><code>6ffe790</code></a></td><td><code>Upgrade to MPIR 2.7.2</code></td></tr></table>\n",
    "created_at": "2015-11-21T15:04:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279175",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ffe790828c50bf65087d56648daa88bc26b372f"><code>6ffe790</code></a></td><td><code>Upgrade to MPIR 2.7.2</code></td></tr></table>




---

archive/issue_events_278771.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-21T15:05:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278771"
}
```



---

archive/issue_events_278772.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-21T15:05:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278772"
}
```



---

archive/issue_comments_279176.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@jdemeyer](#comment:18):\n> Yes, some Sage library files still link to the old library:\n> \n> ```\n> $ ldd local/lib/python2.7/site-packages/sage/ext/interrupt/interrupt.so\n>         linux-vdso.so.1 (0x00007fff7a9fe000)\n>         libpari-gmp-2.8.so.0 => /usr/local/src/sage-config/local/lib/libpari-gmp-2.8.so.0 (0x00007fd474f7d000)\n>         libgmp.so.16 => /usr/local/src/sage-config/local/lib/libgmp.so.16 (0x00007fd474d05000)\n>         libpython2.7.so.1.0 => /usr/local/src/sage-config/local/lib/libpython2.7.so.1.0 (0x00007fd4748fa000)\n>         libpthread.so.0 => /lib64/libpthread.so.0 (0x00007fd4746a9000)\n>         libc.so.6 => /lib64/libc.so.6 (0x00007fd474300000)\n>         libm.so.6 => /lib64/libm.so.6 (0x00007fd474012000)\n>         libgmp.so.10 => /usr/local/src/sage-config/local/lib/libgmp.so.10 (0x00007fd473d9d000)\n>         libdl.so.2 => /lib64/libdl.so.2 (0x00007fd473b98000)\n>         libutil.so.1 => /lib64/libutil.so.1 (0x00007fd473995000)\n>         /lib64/ld-linux-x86-64.so.2 (0x00007fd475a29000)\n> ```\n\nJust for reference:  This is fixed by #19610 (`interrupt.so` will no longer get linked to PARI nor GMP, so it doesn't have to depend on MPIR/GMP either).",
    "created_at": "2015-11-21T16:52:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279176",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@jdemeyer](#comment:18):
> Yes, some Sage library files still link to the old library:
> 
> ```
> $ ldd local/lib/python2.7/site-packages/sage/ext/interrupt/interrupt.so
>         linux-vdso.so.1 (0x00007fff7a9fe000)
>         libpari-gmp-2.8.so.0 => /usr/local/src/sage-config/local/lib/libpari-gmp-2.8.so.0 (0x00007fd474f7d000)
>         libgmp.so.16 => /usr/local/src/sage-config/local/lib/libgmp.so.16 (0x00007fd474d05000)
>         libpython2.7.so.1.0 => /usr/local/src/sage-config/local/lib/libpython2.7.so.1.0 (0x00007fd4748fa000)
>         libpthread.so.0 => /lib64/libpthread.so.0 (0x00007fd4746a9000)
>         libc.so.6 => /lib64/libc.so.6 (0x00007fd474300000)
>         libm.so.6 => /lib64/libm.so.6 (0x00007fd474012000)
>         libgmp.so.10 => /usr/local/src/sage-config/local/lib/libgmp.so.10 (0x00007fd473d9d000)
>         libdl.so.2 => /lib64/libdl.so.2 (0x00007fd473b98000)
>         libutil.so.1 => /lib64/libutil.so.1 (0x00007fd473995000)
>         /lib64/ld-linux-x86-64.so.2 (0x00007fd475a29000)
> ```

Just for reference:  This is fixed by #19610 (`interrupt.so` will no longer get linked to PARI nor GMP, so it doesn't have to depend on MPIR/GMP either).



---

archive/issue_comments_279177.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nDo we really want to remove the test for #19280 in favour of not patching MPIR?\n\nCould we alternatively add a test to the Sage library?",
    "created_at": "2015-11-22T00:40:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279177",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:35" align="right">comment:35</div>

Do we really want to remove the test for #19280 in favour of not patching MPIR?

Could we alternatively add a test to the Sage library?



---

archive/issue_events_278773.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-11-22T00:40:32Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "subject": "https://github.com/nexttime",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278773"
}
```



---

archive/issue_events_278774.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-11-22T00:40:47Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "subject": "https://github.com/nexttime",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278774"
}
```



---

archive/issue_comments_279178.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nOtherwise positive review (modulo #19610 which needs review/info and the previous failures on ARM I cannot check -- I think the buildbot will try again).\n\nSince the major `.so` version of MPIR 2.7.2 is now the same as that of MPIR 2.7.0, this ticket does not really depend on #19610 (nor #19606) anymore.\n\nI also noticed a minor flaw in `spkg-install` w.r.t. the allegedly empty `CXXFLAGS` used, but it's unrelated (I think) to and IMHO beyond the scope of this ticket.",
    "created_at": "2015-11-22T01:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279178",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:37" align="right">comment:37</div>

Otherwise positive review (modulo #19610 which needs review/info and the previous failures on ARM I cannot check -- I think the buildbot will try again).

Since the major `.so` version of MPIR 2.7.2 is now the same as that of MPIR 2.7.0, this ticket does not really depend on #19610 (nor #19606) anymore.

I also noticed a minor flaw in `spkg-install` w.r.t. the allegedly empty `CXXFLAGS` used, but it's unrelated (I think) to and IMHO beyond the scope of this ticket.



---

archive/issue_comments_279179.json:
```json
{
    "body": "Changed reviewer from **Fran\u00e7ois Bissey** to **Fran\u00e7ois Bissey, Volker Braun, Leif Leonhardy**",
    "created_at": "2015-11-22T01:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279179",
    "user": "https://github.com/nexttime"
}
```

Changed reviewer from **François Bissey** to **François Bissey, Volker Braun, Leif Leonhardy**



---

archive/issue_events_278775.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-11-22T01:19:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278775"
}
```



---

archive/issue_events_278776.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-11-22T01:19:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278776"
}
```



---

archive/issue_comments_279180.json:
```json
{
    "body": "Changed dependencies from **#19606, #19610** to none",
    "created_at": "2015-11-22T01:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279180",
    "user": "https://github.com/nexttime"
}
```

Changed dependencies from **#19606, #19610** to none



---

archive/issue_comments_279181.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@nexttime](#comment:37):\n> Since the major `.so` version of MPIR 2.7.2 is now the same as that of MPIR 2.7.0, this ticket does not really depend on #19610 (nor #19606) anymore.\n\nAre you sure about this? The version number still changed, why does it matter which part of the version number changed?",
    "created_at": "2015-11-22T10:41:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279181",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@nexttime](#comment:37):
> Since the major `.so` version of MPIR 2.7.2 is now the same as that of MPIR 2.7.0, this ticket does not really depend on #19610 (nor #19606) anymore.

Are you sure about this? The version number still changed, why does it matter which part of the version number changed?



---

archive/issue_comments_279182.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@jdemeyer](#comment:38):\n> Replying to [@nexttime](#comment:37):\n> > Since the major `.so` version of MPIR 2.7.2 is now the same as that of MPIR 2.7.0, this ticket does not really depend on #19610 (nor #19606) anymore.\n\n> \n> Are you sure about this? The version number still changed, why does it matter which part of the version number changed?\n\nBecause the \"major\" `.so` version number (and only that) is part of the `soname`, in this case `libgmp.so.16` (for both MPIR 2.7.0, our current version, and MPIR 2.7.2; MPIR 2.7.1 did have `libgmp.so.10`, causing all that trouble -- in conjunction with overlinking *and* missing dependencies).",
    "created_at": "2015-11-22T12:14:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279182",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@jdemeyer](#comment:38):
> Replying to [@nexttime](#comment:37):
> > Since the major `.so` version of MPIR 2.7.2 is now the same as that of MPIR 2.7.0, this ticket does not really depend on #19610 (nor #19606) anymore.

> 
> Are you sure about this? The version number still changed, why does it matter which part of the version number changed?

Because the "major" `.so` version number (and only that) is part of the `soname`, in this case `libgmp.so.16` (for both MPIR 2.7.0, our current version, and MPIR 2.7.2; MPIR 2.7.1 did have `libgmp.so.10`, causing all that trouble -- in conjunction with overlinking *and* missing dependencies).



---

archive/issue_comments_279183.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/upgrade_mpir_to_2_7_1](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_mpir_to_2_7_1)** to **[`6ffe790`](https://github.com/sagemath/sagetrac-mirror/commit/6ffe790828c50bf65087d56648daa88bc26b372f)**",
    "created_at": "2015-11-23T06:34:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279183",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/upgrade_mpir_to_2_7_1](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_mpir_to_2_7_1)** to **[`6ffe790`](https://github.com/sagemath/sagetrac-mirror/commit/6ffe790828c50bf65087d56648daa88bc26b372f)**



---

archive/issue_events_278777.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-23T06:34:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278777"
}
```



---

archive/issue_events_278778.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "bb879a597d63af616bee8a6b938b1b91207c20ba",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-11-23T06:34:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19589#event-278778"
}
```



---

archive/issue_comments_279184.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nReplying to [@nexttime](#comment:37):\n> Otherwise positive review (modulo #19610 which needs review/info and the previous failures on ARM I cannot check -- I think the buildbot will try again).\n\nYep, there's now a successful build on ARM with MPIR 2.7.2:\n\n[http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20(Ubuntu%2012.10)%20incremental/builds/325](http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20(Ubuntu%2012.10)%20incremental/builds/325)",
    "created_at": "2015-11-23T06:50:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279184",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:41" align="right">comment:41</div>

Replying to [@nexttime](#comment:37):
> Otherwise positive review (modulo #19610 which needs review/info and the previous failures on ARM I cannot check -- I think the buildbot will try again).

Yep, there's now a successful build on ARM with MPIR 2.7.2:

[http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20(Ubuntu%2012.10)%20incremental/builds/325](http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20(Ubuntu%2012.10)%20incremental/builds/325)



---

archive/issue_comments_279185.json:
```json
{
    "body": "Changed commit from **[`6ffe790`](https://github.com/sagemath/sagetrac-mirror/commit/6ffe790828c50bf65087d56648daa88bc26b372f)** to none",
    "created_at": "2015-11-23T06:50:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279185",
    "user": "https://github.com/nexttime"
}
```

Changed commit from **[`6ffe790`](https://github.com/sagemath/sagetrac-mirror/commit/6ffe790828c50bf65087d56648daa88bc26b372f)** to none



---

archive/issue_comments_279186.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@nexttime](#comment:39):\n> Because the \"major\" `.so` version number (and only that) is part of the `soname`\n\nOK, makes sense.",
    "created_at": "2015-11-23T06:59:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19589#issuecomment-279186",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@nexttime](#comment:39):
> Because the "major" `.so` version number (and only that) is part of the `soname`

OK, makes sense.
