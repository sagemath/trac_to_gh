# Issue 19575: Conversion PARI t_STR -> Python str should not keep quotes

archive/issues_019338.json:
```json
{
    "assignees": [],
    "body": "This should be without quotes, similar to the difference between `repr()` and `str()` of a Python string:\n\n```\nsage: print pari('\"hello world\"')\n\"hello world\"\n```\n\nCC:  @pjbruin\n\nBranch/Commit: **[`1668133`](https://github.com/sagemath/sagetrac-mirror/commit/1668133626492e0b9e94b03fe98d67279e1cca3c)**\n\nReviewer: **Peter Bruin**\n\nAuthor: **Jeroen Demeyer**\n\nComponent: **interfaces: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19575_\n\n",
    "closed_at": "2015-11-16T01:33:41Z",
    "created_at": "2015-11-12T16:38:03Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interfaces%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Conversion PARI t_STR -> Python str should not keep quotes",
    "type": "issue",
    "updated_at": "2015-11-16T01:33:41Z",
    "url": "https://github.com/sagemath/sage/issues/19575",
    "user": "https://github.com/jdemeyer"
}
```
This should be without quotes, similar to the difference between `repr()` and `str()` of a Python string:

```
sage: print pari('"hello world"')
"hello world"
```

CC:  @pjbruin

Branch/Commit: **[`1668133`](https://github.com/sagemath/sagetrac-mirror/commit/1668133626492e0b9e94b03fe98d67279e1cca3c)**

Reviewer: **Peter Bruin**

Author: **Jeroen Demeyer**

Component: **interfaces: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/19575_





---

archive/issue_events_277271.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-12T16:38:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19575#event-277271"
}
```



---

archive/issue_events_277272.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-12T16:38:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces%3A%20optional",
    "label_color": "0000ff",
    "label_name": "c: interfaces: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19575#event-277272"
}
```



---

archive/issue_events_277273.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-12T16:38:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19575#event-277273"
}
```



---

archive/issue_events_277274.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-12T16:38:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19575#event-277274"
}
```



---

archive/issue_comments_278881.json:
```json
{
    "body": "Branch: **[u/jdemeyer/str_pari_gen](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/str_pari_gen)**",
    "created_at": "2015-11-12T16:39:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19575#issuecomment-278881",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/str_pari_gen](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/str_pari_gen)**



---

archive/issue_comments_278882.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29128c2ada7a6465d470336dbcc0e8061ea497f4\">29128c2</a></td><td><code>Implement conversion PARI t_STR -> Python string</code></td></tr></table>\n",
    "created_at": "2015-11-12T16:47:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19575#issuecomment-278882",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29128c2ada7a6465d470336dbcc0e8061ea497f4">29128c2</a></td><td><code>Implement conversion PARI t_STR -> Python string</code></td></tr></table>




---

archive/issue_comments_278883.json:
```json
{
    "body": "Commit: **[`29128c2`](https://github.com/sagemath/sagetrac-mirror/commit/29128c2ada7a6465d470336dbcc0e8061ea497f4)**",
    "created_at": "2015-11-12T16:47:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19575#issuecomment-278883",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`29128c2`](https://github.com/sagemath/sagetrac-mirror/commit/29128c2ada7a6465d470336dbcc0e8061ea497f4)**



---

archive/issue_events_277275.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-12T16:47:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19575#event-277275"
}
```



---

archive/issue_comments_278884.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n- The patchbot reports a doctest failure in `sage.interfaces.interface.InterfaceElement.__reduce__`.  I think the quoted version `\"abc\"` is the correct output.  Probably `gen.__reduce__()` should use `__repr__()` instead of `__str__()`.\n- It would look better to use `%r` in the error message that you change in the patch, and actually I would also prefer putting a space after the `=`, i.e.\n\n```\nraise TypeError(\"x (= %r) must be of type t_INT, but is of type %s\" % (x, x.type()))\n```\n(For the second point, maybe we can even remove the type check and rely on PARI to raise an error.)",
    "created_at": "2015-11-12T18:07:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19575#issuecomment-278884",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:3" align="right">comment:3</div>

- The patchbot reports a doctest failure in `sage.interfaces.interface.InterfaceElement.__reduce__`.  I think the quoted version `"abc"` is the correct output.  Probably `gen.__reduce__()` should use `__repr__()` instead of `__str__()`.
- It would look better to use `%r` in the error message that you change in the patch, and actually I would also prefer putting a space after the `=`, i.e.

```
raise TypeError("x (= %r) must be of type t_INT, but is of type %s" % (x, x.type()))
```
(For the second point, maybe we can even remove the type check and rely on PARI to raise an error.)



---

archive/issue_events_277276.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-11-12T18:07:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19575#event-277276"
}
```



---

archive/issue_events_277277.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-11-12T18:07:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19575#event-277277"
}
```



---

archive/issue_comments_278885.json:
```json
{
    "body": "Reviewer: **Peter Bruin**",
    "created_at": "2015-11-12T18:07:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19575#issuecomment-278885",
    "user": "https://github.com/pjbruin"
}
```

Reviewer: **Peter Bruin**



---

archive/issue_comments_278886.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/674fb90bf262c4710a3b1110680036dded6811b9\">674fb90</a></td><td><code>Use repr() for pickling</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1668133626492e0b9e94b03fe98d67279e1cca3c\">1668133</a></td><td><code>Do not check type in binary(), let PARI raise an error</code></td></tr></table>\n",
    "created_at": "2015-11-12T19:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19575#issuecomment-278886",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/674fb90bf262c4710a3b1110680036dded6811b9">674fb90</a></td><td><code>Use repr() for pickling</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1668133626492e0b9e94b03fe98d67279e1cca3c">1668133</a></td><td><code>Do not check type in binary(), let PARI raise an error</code></td></tr></table>




---

archive/issue_comments_278887.json:
```json
{
    "body": "Changed commit from **[`29128c2`](https://github.com/sagemath/sagetrac-mirror/commit/29128c2ada7a6465d470336dbcc0e8061ea497f4)** to **[`1668133`](https://github.com/sagemath/sagetrac-mirror/commit/1668133626492e0b9e94b03fe98d67279e1cca3c)**",
    "created_at": "2015-11-12T19:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19575#issuecomment-278887",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`29128c2`](https://github.com/sagemath/sagetrac-mirror/commit/29128c2ada7a6465d470336dbcc0e8061ea497f4)** to **[`1668133`](https://github.com/sagemath/sagetrac-mirror/commit/1668133626492e0b9e94b03fe98d67279e1cca3c)**



---

archive/issue_events_277278.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-12T21:40:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19575#event-277278"
}
```



---

archive/issue_events_277279.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-11-12T21:40:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19575#event-277279"
}
```



---

archive/issue_events_277280.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-11-12T21:53:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19575#event-277280"
}
```



---

archive/issue_events_277281.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-11-12T21:53:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19575#event-277281"
}
```



---

archive/issue_comments_278888.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nLooks good.",
    "created_at": "2015-11-12T21:53:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19575#issuecomment-278888",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:6" align="right">comment:6</div>

Looks good.



---

archive/issue_events_277282.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-16T01:33:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19575#event-277282"
}
```



---

archive/issue_events_277283.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d5d7b10d0d601c651bf68af825ed3c6a2fa48976",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-11-16T01:33:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19575#event-277283"
}
```



---

archive/issue_comments_278889.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/str_pari_gen](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/str_pari_gen)** to **[`1668133`](https://github.com/sagemath/sagetrac-mirror/commit/1668133626492e0b9e94b03fe98d67279e1cca3c)**",
    "created_at": "2015-11-16T01:33:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19575",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19575#issuecomment-278889",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/str_pari_gen](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/str_pari_gen)** to **[`1668133`](https://github.com/sagemath/sagetrac-mirror/commit/1668133626492e0b9e94b03fe98d67279e1cca3c)**
