# Issue 19916: Add arb algorithm for Bernoulli numbers

archive/issues_019679.json:
```json
{
    "assignees": [],
    "body": "\n\nBranch/Commit: **[`f5ed314`](https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Jeroen Demeyer**\n\nComponent: **number theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19916_\n\n",
    "closed_at": "2016-01-24T12:52:45Z",
    "created_at": "2016-01-20T10:00:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20number%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add arb algorithm for Bernoulli numbers",
    "type": "issue",
    "updated_at": "2016-01-24T12:52:45Z",
    "url": "https://github.com/sagemath/sage/issues/19916",
    "user": "https://github.com/jdemeyer"
}
```


Branch/Commit: **[`f5ed314`](https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd)**

Reviewer: **Vincent Delecroix**

Author: **Jeroen Demeyer**

Component: **number theory**

_Issue created by migration from https://trac.sagemath.org/ticket/19916_





---

archive/issue_events_281550.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-20T10:00:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-281550"
}
```



---

archive/issue_events_281551.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-20T10:00:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20number%20theory",
    "label_color": "0000ff",
    "label_name": "c: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-281551"
}
```



---

archive/issue_events_281552.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-20T10:00:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-281552"
}
```



---

archive/issue_events_281553.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-20T10:00:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-281553"
}
```



---

archive/issue_comments_285069.json:
```json
{
    "body": "Branch: **[u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers)**",
    "created_at": "2016-01-20T11:03:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-285069",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers)**



---

archive/issue_events_281554.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-20T11:05:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-281554"
}
```



---

archive/issue_comments_285070.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd\">f5ed314</a></td><td><code>Add arb algorithm for Bernoulli numbers</code></td></tr></table>\n",
    "created_at": "2016-01-20T11:05:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-285070",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd">f5ed314</a></td><td><code>Add arb algorithm for Bernoulli numbers</code></td></tr></table>




---

archive/issue_comments_285071.json:
```json
{
    "body": "Commit: **[`f5ed314`](https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd)**",
    "created_at": "2016-01-20T11:05:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-285071",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`f5ed314`](https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd)**



---

archive/issue_comments_285072.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2016-01-20T20:18:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-285072",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_285073.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nArb seems slower than everything... though it does not hurt to have one more algorithm. Note that arb can cache the results internally (intended to be used for evaluation of special functions).",
    "created_at": "2016-01-20T20:18:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-285073",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

Arb seems slower than everything... though it does not hurt to have one more algorithm. Note that arb can cache the results internally (intended to be used for evaluation of special functions).



---

archive/issue_events_281555.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-01-20T20:18:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-281555"
}
```



---

archive/issue_events_281556.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-01-20T20:18:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-281556"
}
```



---

archive/issue_comments_285074.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@videlec](#comment:3):\n> Arb seems slower than everything...\n\nReally? I also did some crude benchmarks and `arb` seems pretty close to `flint`, certainly faster than `pari` or `bernmm`. I will do some finer benchmarks later today. And we should probably get rid of the `bernmm` algorithm since we have 3 faster implementations in Sage now.",
    "created_at": "2016-01-20T20:37:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-285074",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@videlec](#comment:3):
> Arb seems slower than everything...

Really? I also did some crude benchmarks and `arb` seems pretty close to `flint`, certainly faster than `pari` or `bernmm`. I will do some finer benchmarks later today. And we should probably get rid of the `bernmm` algorithm since we have 3 faster implementations in Sage now.



---

archive/issue_comments_285075.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI got these timings calling the C libraries directly. The differences are insignificant.\n\n```\nn            arb         flint       pari\n100          5.19e-06    4.91e-06    6.65e-06\n1000         0.00017     0.000182    0.000234\n10000        0.0217      0.0218      0.0325\n100000       4.931       5.848       5.706\n1000000      547.378     574.585     623.222\n```",
    "created_at": "2016-01-21T15:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-285075",
    "user": "https://github.com/fredrik-johansson"
}
```

<div id="comment:5" align="right">comment:5</div>

I got these timings calling the C libraries directly. The differences are insignificant.

```
n            arb         flint       pari
100          5.19e-06    4.91e-06    6.65e-06
1000         0.00017     0.000182    0.000234
10000        0.0217      0.0218      0.0325
100000       4.931       5.848       5.706
1000000      547.378     574.585     623.222
```



---

archive/issue_comments_285076.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n`bernmm` is faster for n > 10<sup>5</sup>, approximately (it takes 4.96 s for n = 10<sup>5</sup>, and 279 s for n = 10<sup>6</sup>).",
    "created_at": "2016-01-21T15:33:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-285076",
    "user": "https://github.com/fredrik-johansson"
}
```

<div id="comment:6" align="right">comment:6</div>

`bernmm` is faster for n > 10<sup>5</sup>, approximately (it takes 4.96 s for n = 10<sup>5</sup>, and 279 s for n = 10<sup>6</sup>).



---

archive/issue_comments_285077.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers)** to **[`f5ed314`](https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd)**",
    "created_at": "2016-01-24T12:52:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-285077",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers)** to **[`f5ed314`](https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd)**



---

archive/issue_events_281557.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-24T12:52:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-281557"
}
```



---

archive/issue_events_281558.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3a56461b118b7797dc900d3971811af7d0e05eec",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-01-24T12:52:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-281558"
}
```
