# Issue 19916: Add arb algorithm for Bernoulli numbers

archive/issues_019679.json:
```json
{
    "body": "\n\nBranch/Commit: f5ed31434702faaf025bbde584fdd7fec28f66dd\n\nReviewer: Vincent Delecroix\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19916\n\n",
    "closed_at": "2016-01-24T12:52:45Z",
    "created_at": "2016-01-20T10:00:10Z",
    "labels": [
        "component: number theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "Add arb algorithm for Bernoulli numbers",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19916",
    "user": "https://github.com/jdemeyer"
}
```


Branch/Commit: f5ed31434702faaf025bbde584fdd7fec28f66dd

Reviewer: Vincent Delecroix

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19916





---

archive/issue_comments_358926.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers\"",
    "created_at": "2016-01-20T11:03:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19916#issuecomment-358926",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers"



---

archive/issue_comments_358927.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-01-20T11:05:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19916#issuecomment-358927",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_358928.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2016-01-20T11:05:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19916#issuecomment-358928",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_358929.json:
```json
{
    "body": "Changing commit from \"\" to \"f5ed31434702faaf025bbde584fdd7fec28f66dd\"",
    "created_at": "2016-01-20T11:05:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19916#issuecomment-358929",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "f5ed31434702faaf025bbde584fdd7fec28f66dd"



---

archive/issue_comments_358930.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2016-01-20T20:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19916#issuecomment-358930",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_358931.json:
```json
{
    "body": "<a id='comment:3'></a>Arb seems slower than everything... though it does not hurt to have one more algorithm. Note that arb can cache the results internally (intended to be used for evaluation of special functions).",
    "created_at": "2016-01-20T20:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19916#issuecomment-358931",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>Arb seems slower than everything... though it does not hurt to have one more algorithm. Note that arb can cache the results internally (intended to be used for evaluation of special functions).



---

archive/issue_comments_358932.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-01-20T20:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19916#issuecomment-358932",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_358933.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 vdelecroix]:\n> Arb seems slower than everything...\n\n\nReally? I also did some crude benchmarks and `arb` seems pretty close to `flint`, certainly faster than `pari` or `bernmm`. I will do some finer benchmarks later today. And we should probably get rid of the `bernmm` algorithm since we have 3 faster implementations in Sage now.",
    "created_at": "2016-01-20T20:37:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19916#issuecomment-358933",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>Replying to [comment:3 vdelecroix]:
> Arb seems slower than everything...


Really? I also did some crude benchmarks and `arb` seems pretty close to `flint`, certainly faster than `pari` or `bernmm`. I will do some finer benchmarks later today. And we should probably get rid of the `bernmm` algorithm since we have 3 faster implementations in Sage now.



---

archive/issue_comments_358934.json:
```json
{
    "body": "<a id='comment:5'></a>I got these timings calling the C libraries directly. The differences are insignificant.\n\n```\nn            arb         flint       pari\n100          5.19e-06    4.91e-06    6.65e-06\n1000         0.00017     0.000182    0.000234\n10000        0.0217      0.0218      0.0325\n100000       4.931       5.848       5.706\n1000000      547.378     574.585     623.222\n```",
    "created_at": "2016-01-21T15:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19916#issuecomment-358934",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:5'></a>I got these timings calling the C libraries directly. The differences are insignificant.

```
n            arb         flint       pari
100          5.19e-06    4.91e-06    6.65e-06
1000         0.00017     0.000182    0.000234
10000        0.0217      0.0218      0.0325
100000       4.931       5.848       5.706
1000000      547.378     574.585     623.222
```



---

archive/issue_comments_358935.json:
```json
{
    "body": "<a id='comment:6'></a>`bernmm` is faster for n > 10<sup>5</sup>, approximately (it takes 4.96 s for n = 10<sup>5</sup>, and 279 s for n = 10<sup>6</sup>).",
    "created_at": "2016-01-21T15:33:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19916#issuecomment-358935",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:6'></a>`bernmm` is faster for n > 10<sup>5</sup>, approximately (it takes 4.96 s for n = 10<sup>5</sup>, and 279 s for n = 10<sup>6</sup>).



---

archive/issue_comments_358936.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers\" to \"f5ed31434702faaf025bbde584fdd7fec28f66dd\"",
    "created_at": "2016-01-24T12:52:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19916#issuecomment-358936",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers" to "f5ed31434702faaf025bbde584fdd7fec28f66dd"



---

archive/issue_events_054396.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-24T12:52:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19916",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19916#event-54396"
}
```



---

archive/issue_comments_358937.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-01-24T12:52:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19916#issuecomment-358937",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
