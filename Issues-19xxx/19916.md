# Issue 19916: Add arb algorithm for Bernoulli numbers

archive/issues_019679.json:
```json
{
    "assignees": [],
    "body": "\n\nBranch/Commit: **[f5ed314](https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19916_\n\n",
    "closed_at": "2016-01-24T12:52:45Z",
    "created_at": "2016-01-20T10:00:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add arb algorithm for Bernoulli numbers",
    "type": "issue",
    "updated_at": "2016-01-24T12:52:45Z",
    "url": "https://github.com/sagemath/sage/issues/19916",
    "user": "https://github.com/jdemeyer"
}
```


Branch/Commit: **[f5ed314](https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd)**

Reviewer: **Vincent Delecroix**

Author: **Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/19916_





---

archive/issue_events_254183.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-20T10:00:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-254183"
}
```



---

archive/issue_events_254184.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-20T10:00:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
    "label_color": "0000ff",
    "label_name": "component: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-254184"
}
```



---

archive/issue_events_254185.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-20T10:00:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-254185"
}
```



---

archive/issue_events_254186.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-20T10:00:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-254186"
}
```



---

archive/issue_comments_287614.json:
```json
{
    "body": "Branch: **[u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers)**",
    "created_at": "2016-01-20T11:03:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-287614",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers)**



---

archive/issue_events_254187.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-20T11:05:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-254187"
}
```



---

archive/issue_comments_287615.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd\">f5ed314</a></td><td><code>Add arb algorithm for Bernoulli numbers</code></td></tr></table>\n",
    "created_at": "2016-01-20T11:05:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-287615",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'>Comment 2:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd">f5ed314</a></td><td><code>Add arb algorithm for Bernoulli numbers</code></td></tr></table>




---

archive/issue_comments_287616.json:
```json
{
    "body": "Commit: **[f5ed314](https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd)**",
    "created_at": "2016-01-20T11:05:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-287616",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[f5ed314](https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd)**



---

archive/issue_comments_287617.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2016-01-20T20:18:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-287617",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_287618.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nArb seems slower than everything... though it does not hurt to have one more algorithm. Note that arb can cache the results internally (intended to be used for evaluation of special functions).",
    "created_at": "2016-01-20T20:18:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-287618",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'>Comment 3:</a>
Arb seems slower than everything... though it does not hurt to have one more algorithm. Note that arb can cache the results internally (intended to be used for evaluation of special functions).



---

archive/issue_events_254188.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-01-20T20:18:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-254188"
}
```



---

archive/issue_events_254189.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-01-20T20:18:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-254189"
}
```



---

archive/issue_comments_287619.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nReplying to [@videlec](#comment%3A3):\n> Arb seems slower than everything...\n\nReally? I also did some crude benchmarks and `arb` seems pretty close to `flint`, certainly faster than `pari` or `bernmm`. I will do some finer benchmarks later today. And we should probably get rid of the `bernmm` algorithm since we have 3 faster implementations in Sage now.",
    "created_at": "2016-01-20T20:37:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-287619",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'>Comment 4:</a>
Replying to [@videlec](#comment%3A3):
> Arb seems slower than everything...

Really? I also did some crude benchmarks and `arb` seems pretty close to `flint`, certainly faster than `pari` or `bernmm`. I will do some finer benchmarks later today. And we should probably get rid of the `bernmm` algorithm since we have 3 faster implementations in Sage now.



---

archive/issue_comments_287620.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nI got these timings calling the C libraries directly. The differences are insignificant.\n\n```\nn            arb         flint       pari\n100          5.19e-06    4.91e-06    6.65e-06\n1000         0.00017     0.000182    0.000234\n10000        0.0217      0.0218      0.0325\n100000       4.931       5.848       5.706\n1000000      547.378     574.585     623.222\n```",
    "created_at": "2016-01-21T15:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-287620",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:5'>Comment 5:</a>
I got these timings calling the C libraries directly. The differences are insignificant.

```
n            arb         flint       pari
100          5.19e-06    4.91e-06    6.65e-06
1000         0.00017     0.000182    0.000234
10000        0.0217      0.0218      0.0325
100000       4.931       5.848       5.706
1000000      547.378     574.585     623.222
```



---

archive/issue_comments_287621.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\n`bernmm` is faster for n > 10<sup>5</sup>, approximately (it takes 4.96 s for n = 10<sup>5</sup>, and 279 s for n = 10<sup>6</sup>).",
    "created_at": "2016-01-21T15:33:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-287621",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:6'>Comment 6:</a>
`bernmm` is faster for n > 10<sup>5</sup>, approximately (it takes 4.96 s for n = 10<sup>5</sup>, and 279 s for n = 10<sup>6</sup>).



---

archive/issue_comments_287622.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers)** to **[f5ed314](https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd)**",
    "created_at": "2016-01-24T12:52:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19916#issuecomment-287622",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add_arb_algorithm_for_bernoulli_numbers)** to **[f5ed314](https://github.com/sagemath/sagetrac-mirror/commit/f5ed31434702faaf025bbde584fdd7fec28f66dd)**



---

archive/issue_events_254190.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-24T12:52:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-254190"
}
```



---

archive/issue_events_254191.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3a56461b118b7797dc900d3971811af7d0e05eec",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-01-24T12:52:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19916",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19916#event-254191"
}
```
