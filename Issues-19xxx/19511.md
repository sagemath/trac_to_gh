# Issue 19511: q-ary symmetric channel class for coding theory

archive/issues_019274.json:
```json
{
    "body": "This ticket proposes an implementation of q-ary symmetric channels using the structure described in #18269.\n\n**Branch/Commit:** [2a041fb3fc70f562503f1e4dbacfc38a1fa958e9](https://github.com/sagemath/sagetrac-mirror/commit/2a041fb3fc70f562503f1e4dbacfc38a1fa958e9)\n\n**Reviewer:** Johan Sebastian Rosenkilde Nielsen\n\n**Author:** David Lucas\n\nIssue created by migration from https://trac.sagemath.org/ticket/19511\n\n",
    "closed_at": "2016-01-28T17:14:16Z",
    "created_at": "2015-11-02T12:38:41Z",
    "labels": [
        "component: coding theory",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "title": "q-ary symmetric channel class for coding theory",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/19511",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```
This ticket proposes an implementation of q-ary symmetric channels using the structure described in #18269.

**Branch/Commit:** [2a041fb3fc70f562503f1e4dbacfc38a1fa958e9](https://github.com/sagemath/sagetrac-mirror/commit/2a041fb3fc70f562503f1e4dbacfc38a1fa958e9)

**Reviewer:** Johan Sebastian Rosenkilde Nielsen

**Author:** David Lucas

Issue created by migration from https://trac.sagemath.org/ticket/19511





---

archive/issue_comments_280127.json:
```json
{
    "body": "**Branch:** [u/dlucas/qsc](https://github.com/sagemath/sagetrac-mirror/tree/u/dlucas/qsc)",
    "created_at": "2015-11-02T12:40:20Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280127",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

**Branch:** [u/dlucas/qsc](https://github.com/sagemath/sagetrac-mirror/tree/u/dlucas/qsc)



---

archive/issue_events_175527.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/dlucas",
    "created_at": "2015-11-02T12:41:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19511#event-175527"
}
```



---

archive/issue_comments_280128.json:
```json
{
    "body": "**Commit:** [ebc58a141cef54897c6751dfd0598f29d2c54579](https://github.com/sagemath/sagetrac-mirror/commit/ebc58a141cef54897c6751dfd0598f29d2c54579)",
    "created_at": "2015-11-02T12:41:11Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280128",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

**Commit:** [ebc58a141cef54897c6751dfd0598f29d2c54579](https://github.com/sagemath/sagetrac-mirror/commit/ebc58a141cef54897c6751dfd0598f29d2c54579)



---

archive/issue_comments_280129.json:
```json
{
    "body": "<a id='comment:2'></a>\nI pushed the branch, this is now ready for review.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ebc58a141cef54897c6751dfd0598f29d2c54579\">ebc58a1</a></td><td><code>Added new channel : q-ary symmetric channel</code></td></tr></table>\n",
    "created_at": "2015-11-02T12:41:11Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280129",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:2'></a>
I pushed the branch, this is now ready for review.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ebc58a141cef54897c6751dfd0598f29d2c54579">ebc58a1</a></td><td><code>Added new channel : q-ary symmetric channel</code></td></tr></table>




---

archive/issue_comments_280130.json:
```json
{
    "body": "**Author:** David Lucas",
    "created_at": "2015-11-02T12:41:11Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280130",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

**Author:** David Lucas



---

archive/issue_comments_280131.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3887aabf6b74cd1d8cf4518a5dde6f008dc6173\">f3887aa</a></td><td><code>Update to latest beta</code></td></tr></table>\n",
    "created_at": "2015-11-03T09:42:50Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280131",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3887aabf6b74cd1d8cf4518a5dde6f008dc6173">f3887aa</a></td><td><code>Update to latest beta</code></td></tr></table>




---

archive/issue_comments_280132.json:
```json
{
    "body": "**Changing commit** from \"[ebc58a141cef54897c6751dfd0598f29d2c54579](https://github.com/sagemath/sagetrac-mirror/commit/ebc58a141cef54897c6751dfd0598f29d2c54579)\" to \"[f3887aabf6b74cd1d8cf4518a5dde6f008dc6173](https://github.com/sagemath/sagetrac-mirror/commit/f3887aabf6b74cd1d8cf4518a5dde6f008dc6173)\".",
    "created_at": "2015-11-03T09:42:50Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280132",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ebc58a141cef54897c6751dfd0598f29d2c54579](https://github.com/sagemath/sagetrac-mirror/commit/ebc58a141cef54897c6751dfd0598f29d2c54579)" to "[f3887aabf6b74cd1d8cf4518a5dde6f008dc6173](https://github.com/sagemath/sagetrac-mirror/commit/f3887aabf6b74cd1d8cf4518a5dde6f008dc6173)".



---

archive/issue_comments_280133.json:
```json
{
    "body": "**Changing commit** from \"[f3887aabf6b74cd1d8cf4518a5dde6f008dc6173](https://github.com/sagemath/sagetrac-mirror/commit/f3887aabf6b74cd1d8cf4518a5dde6f008dc6173)\" to \"[1a2c80fc81eb61d31a7dbee989839c2aae3b5cdc](https://github.com/sagemath/sagetrac-mirror/commit/1a2c80fc81eb61d31a7dbee989839c2aae3b5cdc)\".",
    "created_at": "2016-01-13T10:15:02Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280133",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f3887aabf6b74cd1d8cf4518a5dde6f008dc6173](https://github.com/sagemath/sagetrac-mirror/commit/f3887aabf6b74cd1d8cf4518a5dde6f008dc6173)" to "[1a2c80fc81eb61d31a7dbee989839c2aae3b5cdc](https://github.com/sagemath/sagetrac-mirror/commit/1a2c80fc81eb61d31a7dbee989839c2aae3b5cdc)".



---

archive/issue_comments_280134.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a2c80fc81eb61d31a7dbee989839c2aae3b5cdc\">1a2c80f</a></td><td><code>Updated to latest beta</code></td></tr></table>\n",
    "created_at": "2016-01-13T10:15:02Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280134",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a2c80fc81eb61d31a7dbee989839c2aae3b5cdc">1a2c80f</a></td><td><code>Updated to latest beta</code></td></tr></table>




---

archive/issue_comments_280135.json:
```json
{
    "body": "<a id='comment:5'></a>\nI updated this ticket to latest beta, it is still open for review.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a2c80fc81eb61d31a7dbee989839c2aae3b5cdc\">1a2c80f</a></td><td><code>Updated to latest beta</code></td></tr></table>\n",
    "created_at": "2016-01-13T10:16:07Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280135",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:5'></a>
I updated this ticket to latest beta, it is still open for review.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a2c80fc81eb61d31a7dbee989839c2aae3b5cdc">1a2c80f</a></td><td><code>Updated to latest beta</code></td></tr></table>




---

archive/issue_comments_280136.json:
```json
{
    "body": "**Changing branch** from \"[u/dlucas/qsc](https://github.com/sagemath/sagetrac-mirror/tree/u/dlucas/qsc)\" to \"[u/jsrn/qsc](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/qsc)\".",
    "created_at": "2016-01-19T21:14:59Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280136",
    "user": "https://github.com/johanrosenkilde"
}
```

**Changing branch** from "[u/dlucas/qsc](https://github.com/sagemath/sagetrac-mirror/tree/u/dlucas/qsc)" to "[u/jsrn/qsc](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/qsc)".



---

archive/issue_comments_280137.json:
```json
{
    "body": "<a id='comment:7'></a>\nHi,\nI had a look at the code. It looks fine :-) I clarified some documentation wrt. alphabets and spaces, please look at that. I also fixed a bug in the while-loop for adding errors.\n\nApart from that I have a few questions/requests:\n- Should this channel-intro text really be in the q-ary symmetric channels doc?\n- Can you please make a test that input space is of the form Sigma^n, and that Sigma has random_element\n- It would be nice with a \"probability_of_exactly_t_errors\" and a \"probability_of_at_most_t_errors\" method :-) But I don't insist for now, the channel is functioning as it is.\n\nBest,\nJohan\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac23bcc4387e05e1cdd5d8efd832381f59b7738f\">ac23bcc</a></td><td><code>Fixed a nasty bug. Clarified documentation wrt. alphabet.</code></td></tr></table>\n",
    "created_at": "2016-01-19T21:17:54Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280137",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:7'></a>
Hi,
I had a look at the code. It looks fine :-) I clarified some documentation wrt. alphabets and spaces, please look at that. I also fixed a bug in the while-loop for adding errors.

Apart from that I have a few questions/requests:
- Should this channel-intro text really be in the q-ary symmetric channels doc?
- Can you please make a test that input space is of the form Sigma^n, and that Sigma has random_element
- It would be nice with a "probability_of_exactly_t_errors" and a "probability_of_at_most_t_errors" method :-) But I don't insist for now, the channel is functioning as it is.

Best,
Johan

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac23bcc4387e05e1cdd5d8efd832381f59b7738f">ac23bcc</a></td><td><code>Fixed a nasty bug. Clarified documentation wrt. alphabet.</code></td></tr></table>




---

archive/issue_comments_280138.json:
```json
{
    "body": "**Changing commit** from \"[1a2c80fc81eb61d31a7dbee989839c2aae3b5cdc](https://github.com/sagemath/sagetrac-mirror/commit/1a2c80fc81eb61d31a7dbee989839c2aae3b5cdc)\" to \"[ac23bcc4387e05e1cdd5d8efd832381f59b7738f](https://github.com/sagemath/sagetrac-mirror/commit/ac23bcc4387e05e1cdd5d8efd832381f59b7738f)\".",
    "created_at": "2016-01-19T21:17:54Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280138",
    "user": "https://github.com/johanrosenkilde"
}
```

**Changing commit** from "[1a2c80fc81eb61d31a7dbee989839c2aae3b5cdc](https://github.com/sagemath/sagetrac-mirror/commit/1a2c80fc81eb61d31a7dbee989839c2aae3b5cdc)" to "[ac23bcc4387e05e1cdd5d8efd832381f59b7738f](https://github.com/sagemath/sagetrac-mirror/commit/ac23bcc4387e05e1cdd5d8efd832381f59b7738f)".



---

archive/issue_comments_280139.json:
```json
{
    "body": "**Changing branch** from \"[u/jsrn/qsc](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/qsc)\" to \"[u/dlucas/qsc](https://github.com/sagemath/sagetrac-mirror/tree/u/dlucas/qsc)\".",
    "created_at": "2016-01-20T13:14:45Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280139",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

**Changing branch** from "[u/jsrn/qsc](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/qsc)" to "[u/dlucas/qsc](https://github.com/sagemath/sagetrac-mirror/tree/u/dlucas/qsc)".



---

archive/issue_comments_280140.json:
```json
{
    "body": "**Changing commit** from \"[ac23bcc4387e05e1cdd5d8efd832381f59b7738f](https://github.com/sagemath/sagetrac-mirror/commit/ac23bcc4387e05e1cdd5d8efd832381f59b7738f)\" to \"[429b2902c76c94d63e0d9ab748fdbe6a5a100219](https://github.com/sagemath/sagetrac-mirror/commit/429b2902c76c94d63e0d9ab748fdbe6a5a100219)\".",
    "created_at": "2016-01-20T13:22:07Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280140",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

**Changing commit** from "[ac23bcc4387e05e1cdd5d8efd832381f59b7738f](https://github.com/sagemath/sagetrac-mirror/commit/ac23bcc4387e05e1cdd5d8efd832381f59b7738f)" to "[429b2902c76c94d63e0d9ab748fdbe6a5a100219](https://github.com/sagemath/sagetrac-mirror/commit/429b2902c76c94d63e0d9ab748fdbe6a5a100219)".



---

archive/issue_comments_280141.json:
```json
{
    "body": "<a id='comment:9'></a>\nHello,\n\nThanks for your remarks!\n\nI agree with your clarifications, and of course with your fix.\n\n> Should this channel-intro text really be in the q-ary symmetric channels doc? \n\n\nWell, I did that in the case one reads only the documentation for a channel class, and not the abstract class one. If you think it's useless, I'm ok to remove it.\n\n> Can you please make a test that input space is of the form Sigma^n, and that Sigma has random_element \n\n\nDone. Note that I wasn't able to find an example of a Sigma which can be of the form Sigma^n\nbut can not have a `random_element` method... \n\n>It would be nice with a \"probability_of_exactly_t_errors\" and a \"probability_of_at_most_t_errors\" method :-) But I don't insist for now, the channel is functioning as it is. \n\n\nNo need to insist, it's done ;) These two methods can be called on any instance of the class, with `t` as parameter. Maybe it can be better to propose generic methods, which take `epsilon`, `t` and `input_space.dimension()` as parameters, so the user can actually look for the best epsilon without having to construct the channel... As you prefer.\n\nBest,\n\nDavid\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e52e9590d7f7175e3237ec85d3c09dec95af4798\">e52e959</a></td><td><code>Updated to 7.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a224321ad758cf5c027de654bbd156f7c7b9bf2\">9a22432</a></td><td><code>Added checks on the input</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/429b2902c76c94d63e0d9ab748fdbe6a5a100219\">429b290</a></td><td><code>Added methods to estimate the number of errors</code></td></tr></table>\n",
    "created_at": "2016-01-20T13:22:07Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280141",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:9'></a>
Hello,

Thanks for your remarks!

I agree with your clarifications, and of course with your fix.

> Should this channel-intro text really be in the q-ary symmetric channels doc? 


Well, I did that in the case one reads only the documentation for a channel class, and not the abstract class one. If you think it's useless, I'm ok to remove it.

> Can you please make a test that input space is of the form Sigma^n, and that Sigma has random_element 


Done. Note that I wasn't able to find an example of a Sigma which can be of the form Sigma^n
but can not have a `random_element` method... 

>It would be nice with a "probability_of_exactly_t_errors" and a "probability_of_at_most_t_errors" method :-) But I don't insist for now, the channel is functioning as it is. 


No need to insist, it's done ;) These two methods can be called on any instance of the class, with `t` as parameter. Maybe it can be better to propose generic methods, which take `epsilon`, `t` and `input_space.dimension()` as parameters, so the user can actually look for the best epsilon without having to construct the channel... As you prefer.

Best,

David

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e52e9590d7f7175e3237ec85d3c09dec95af4798">e52e959</a></td><td><code>Updated to 7.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a224321ad758cf5c027de654bbd156f7c7b9bf2">9a22432</a></td><td><code>Added checks on the input</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/429b2902c76c94d63e0d9ab748fdbe6a5a100219">429b290</a></td><td><code>Added methods to estimate the number of errors</code></td></tr></table>




---

archive/issue_comments_280142.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe following doesn't work\n\n```\nsage: V = (ZZ.quo(12))^5\nsage: Chan = channels.QarySymmetricChannel(V, .2)\n```",
    "created_at": "2016-01-21T11:18:04Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280142",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:10'></a>
The following doesn't work

```
sage: V = (ZZ.quo(12))^5
sage: Chan = channels.QarySymmetricChannel(V, .2)
```



---

archive/issue_comments_280143.json:
```json
{
    "body": "<a id='comment:11'></a>\nHi,\n\n> Well, I did that in the case one reads only the documentation for a channel class, and not the abstract class one. If you think it's useless, I'm ok to remove it.\n\n\nI don't think it belongs there. But the text is nice, so perhaps it can be moved/merged somewhere else?\n\n> Done. Note that I wasn't able to find an example of a Sigma which can be of the form Sigma^n\n> but can not have a `random_element` method... \n\n\nHmm, I'm worried that the check for the \"dimension\" method is not the right thing to do. For instance, the following structure has a \"dimension\":\n\n```\n   X = CombinatorialFreeModule(QQ, [1,2])\n```\n\nBut I think that the last line of your `transmit_unsafe` is going to blow up on this structure. I don't think there is a bullet-proof-while-flexible way of checking for what we want. So perhaps your check at construction time could be a dummy `transmit_unsafe` call, and if that throws an exception, catch it and throw another exception telling the user that apparently his input space is not satisfactory.\n\nAnother thing: you added some text saying \"the input space has to be a vector space\", but if `\\Sigma` is not a field, then `\\Sigma^3` is not a vector space: it is a free module with a basis. Just write something like I did in the docstring that we check input space has the form `\\Sigma^n`.\n\n> No need to insist, it's done ;) These two methods can be called on any instance of the class, with `t` as parameter. Maybe it can be better to propose generic methods, which take `epsilon`, `t` and `input_space.dimension()` as parameters, so the user can actually look for the best epsilon without having to construct the channel... As you prefer.\n\n\nCool! I think having them available only non-static, after construction is\ncompletely fine. Your implementation of `at_most_t_errors` should sum over `exactly_t_errors` to avoid code-replication. I'm pretty sure you have an off-by-one error in the `exactly_t_errors` as well, since you're not summing the `t`'th error.\n\nBest,\nJohan",
    "created_at": "2016-01-21T11:28:52Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280143",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:11'></a>
Hi,

> Well, I did that in the case one reads only the documentation for a channel class, and not the abstract class one. If you think it's useless, I'm ok to remove it.


I don't think it belongs there. But the text is nice, so perhaps it can be moved/merged somewhere else?

> Done. Note that I wasn't able to find an example of a Sigma which can be of the form Sigma^n
> but can not have a `random_element` method... 


Hmm, I'm worried that the check for the "dimension" method is not the right thing to do. For instance, the following structure has a "dimension":

```
   X = CombinatorialFreeModule(QQ, [1,2])
```

But I think that the last line of your `transmit_unsafe` is going to blow up on this structure. I don't think there is a bullet-proof-while-flexible way of checking for what we want. So perhaps your check at construction time could be a dummy `transmit_unsafe` call, and if that throws an exception, catch it and throw another exception telling the user that apparently his input space is not satisfactory.

Another thing: you added some text saying "the input space has to be a vector space", but if `\Sigma` is not a field, then `\Sigma^3` is not a vector space: it is a free module with a basis. Just write something like I did in the docstring that we check input space has the form `\Sigma^n`.

> No need to insist, it's done ;) These two methods can be called on any instance of the class, with `t` as parameter. Maybe it can be better to propose generic methods, which take `epsilon`, `t` and `input_space.dimension()` as parameters, so the user can actually look for the best epsilon without having to construct the channel... As you prefer.


Cool! I think having them available only non-static, after construction is
completely fine. Your implementation of `at_most_t_errors` should sum over `exactly_t_errors` to avoid code-replication. I'm pretty sure you have an off-by-one error in the `exactly_t_errors` as well, since you're not summing the `t`'th error.

Best,
Johan



---

archive/issue_comments_280144.json:
```json
{
    "body": "<a id='comment:12'></a>\nJust a simple question before working on this again:\n\n> Your implementation of at_most_t_errors should sum over exactly_t_errors to avoid code-replication. \n\n\nThat was actually my first idea , but then I thought it's basically calling a method inside a loop. \nWell, I know it's not much of an optimization, but calling a method is slower than evaluating of an expression, isn't it?",
    "created_at": "2016-01-21T11:34:54Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280144",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:12'></a>
Just a simple question before working on this again:

> Your implementation of at_most_t_errors should sum over exactly_t_errors to avoid code-replication. 


That was actually my first idea , but then I thought it's basically calling a method inside a loop. 
Well, I know it's not much of an optimization, but calling a method is slower than evaluating of an expression, isn't it?



---

archive/issue_comments_280145.json:
```json
{
    "body": "<a id='comment:13'></a>\nTrue, but the loop is run `t < n` times, so it's not too bad. Better than code replication, I would say. Try to time it if you're worried.",
    "created_at": "2016-01-21T12:30:31Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280145",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:13'></a>
True, but the loop is run `t < n` times, so it's not too bad. Better than code replication, I would say. Try to time it if you're worried.



---

archive/issue_comments_280146.json:
```json
{
    "body": "**Changing commit** from \"[429b2902c76c94d63e0d9ab748fdbe6a5a100219](https://github.com/sagemath/sagetrac-mirror/commit/429b2902c76c94d63e0d9ab748fdbe6a5a100219)\" to \"[2a041fb3fc70f562503f1e4dbacfc38a1fa958e9](https://github.com/sagemath/sagetrac-mirror/commit/2a041fb3fc70f562503f1e4dbacfc38a1fa958e9)\".",
    "created_at": "2016-01-21T12:58:21Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280146",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[429b2902c76c94d63e0d9ab748fdbe6a5a100219](https://github.com/sagemath/sagetrac-mirror/commit/429b2902c76c94d63e0d9ab748fdbe6a5a100219)" to "[2a041fb3fc70f562503f1e4dbacfc38a1fa958e9](https://github.com/sagemath/sagetrac-mirror/commit/2a041fb3fc70f562503f1e4dbacfc38a1fa958e9)".



---

archive/issue_comments_280147.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb3349e6c44d9e8012a53c83c9575202b5d02ead\">eb3349e</a></td><td><code>Moved text related to the shortcut for Chan.transmit()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35fa1fd9b3637ad6ed362dd68896d0fba15e4ed4\">35fa1fd</a></td><td><code>Removed code replication and fixed error in probability_of_at_most_t_errors</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a041fb3fc70f562503f1e4dbacfc38a1fa958e9\">2a041fb</a></td><td><code>Fixed check on the input space</code></td></tr></table>\n",
    "created_at": "2016-01-21T12:58:21Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280147",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb3349e6c44d9e8012a53c83c9575202b5d02ead">eb3349e</a></td><td><code>Moved text related to the shortcut for Chan.transmit()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35fa1fd9b3637ad6ed362dd68896d0fba15e4ed4">35fa1fd</a></td><td><code>Removed code replication and fixed error in probability_of_at_most_t_errors</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a041fb3fc70f562503f1e4dbacfc38a1fa958e9">2a041fb</a></td><td><code>Fixed check on the input space</code></td></tr></table>




---

archive/issue_comments_280148.json:
```json
{
    "body": "<a id='comment:15'></a>\nI made the changes, it should be better now.",
    "created_at": "2016-01-21T13:00:38Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280148",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:15'></a>
I made the changes, it should be better now.



---

archive/issue_comments_280149.json:
```json
{
    "body": "<a id='comment:16'></a>\nOK. I'm giving this the green light. I'm pretty psyked about the following \"just working\":\n\n```\n   sage: MS = MatrixSpace(GF(3), 4, 4)\n   sage: Ch = channels.QarySymmetricChannel(MS, .3)\n   sage: Ch(MS.zero())\n   [0 0 0 1]\n   [1 0 0 0]\n   [0 2 1 2]\n   [0 0 0 0]\n```",
    "created_at": "2016-01-27T16:45:45Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280149",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:16'></a>
OK. I'm giving this the green light. I'm pretty psyked about the following "just working":

```
   sage: MS = MatrixSpace(GF(3), 4, 4)
   sage: Ch = channels.QarySymmetricChannel(MS, .3)
   sage: Ch(MS.zero())
   [0 0 0 1]
   [1 0 0 0]
   [0 2 1 2]
   [0 0 0 0]
```



---

archive/issue_comments_280150.json:
```json
{
    "body": "**Reviewer:** Johan Sebastian Rosenkilde Nielsen",
    "created_at": "2016-01-27T16:45:45Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280150",
    "user": "https://github.com/johanrosenkilde"
}
```

**Reviewer:** Johan Sebastian Rosenkilde Nielsen



---

archive/issue_events_175528.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2016-01-27T16:45:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19511#event-175528"
}
```



---

archive/issue_events_175529.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2016-01-27T16:45:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19511#event-175529"
}
```



---

archive/issue_events_175530.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-28T17:14:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19511#event-175530"
}
```



---

archive/issue_events_175531.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5177da74bedbfe0ed040df04805bd66f2c7f4910",
    "created_at": "2016-01-28T17:14:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19511#event-175531"
}
```



---

archive/issue_comments_280151.json:
```json
{
    "body": "**Changing branch** from \"[u/dlucas/qsc](https://github.com/sagemath/sagetrac-mirror/tree/u/dlucas/qsc)\" to \"[2a041fb3fc70f562503f1e4dbacfc38a1fa958e9](https://github.com/sagemath/sagetrac-mirror/commit/2a041fb3fc70f562503f1e4dbacfc38a1fa958e9)\".",
    "created_at": "2016-01-28T17:14:16Z",
    "issue": "https://github.com/sagemath/sage/issues/19511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19511#issuecomment-280151",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/dlucas/qsc](https://github.com/sagemath/sagetrac-mirror/tree/u/dlucas/qsc)" to "[2a041fb3fc70f562503f1e4dbacfc38a1fa958e9](https://github.com/sagemath/sagetrac-mirror/commit/2a041fb3fc70f562503f1e4dbacfc38a1fa958e9)".
