# Issue 19541: Implement Hecke insertion

archive/issues_019304.json:
```json
{
    "assignees": [],
    "body": "Hecke insertion is a variant of RSK which has interesting applications in\n\n- K-theoretic Schubert calculus,\n- representation theory of the 0-Hecke monoid, and\n- probability theory of the Plancherel-Hecke measure.\n\nFor a reference, see http://arxiv.org/abs/0801.1319.\n\nAssignee: **@sagetrac-sage-combinat**\n\nCC:  @sagetrac-sage-combinat @darijgr @nthiery\n\nKeywords: **hecke insertion, RSK**\n\nBranch/Commit: **[264484f](https://github.com/sagemath/sagetrac-mirror/commit/264484f43ee00899f6c39b5b5a896706c19e27e9)**\n\nReviewer: **Darij Grinberg**\n\nAuthor: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19541_\n\n",
    "closed_at": "2015-11-23T06:34:19Z",
    "created_at": "2015-11-07T05:49:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement Hecke insertion",
    "type": "issue",
    "updated_at": "2015-11-23T06:34:19Z",
    "url": "https://github.com/sagemath/sage/issues/19541",
    "user": "https://github.com/tscrim"
}
```
Hecke insertion is a variant of RSK which has interesting applications in

- K-theoretic Schubert calculus,
- representation theory of the 0-Hecke monoid, and
- probability theory of the Plancherel-Hecke measure.

For a reference, see http://arxiv.org/abs/0801.1319.

Assignee: **@sagetrac-sage-combinat**

CC:  @sagetrac-sage-combinat @darijgr @nthiery

Keywords: **hecke insertion, RSK**

Branch/Commit: **[264484f](https://github.com/sagemath/sagetrac-mirror/commit/264484f43ee00899f6c39b5b5a896706c19e27e9)**

Reviewer: **Darij Grinberg**

Author: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/19541_





---

archive/issue_events_259063.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-11-07T05:49:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19541#event-259063"
}
```



---

archive/issue_events_259064.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-11-07T05:49:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19541#event-259064"
}
```



---

archive/issue_events_259065.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-11-07T05:49:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19541#event-259065"
}
```



---

archive/issue_events_259066.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-11-07T05:49:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19541#event-259066"
}
```



---

archive/issue_comments_280871.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,5 @@\n - K-theoretic Schubert calculus,\n - representation theory of the 0-Hecke monoid, and\n - probability theory of the Plancherel-Hecke measure.\n+\n+For a reference, see http://arxiv.org/abs/0801.1319.\n``````\n",
    "created_at": "2015-11-07T05:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280871",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,5 @@
 - K-theoretic Schubert calculus,
 - representation theory of the 0-Hecke monoid, and
 - probability theory of the Plancherel-Hecke measure.
+
+For a reference, see http://arxiv.org/abs/0801.1319.
``````




---

archive/issue_comments_280872.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c64ff5ad8a1ae22ca664990f400647f21cb3f4e7\">c64ff5a</a></td><td><code>Implementation of Hecke insertion.</code></td></tr></table>\n",
    "created_at": "2015-11-07T05:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280872",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:1" align="right">Comment 1</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c64ff5ad8a1ae22ca664990f400647f21cb3f4e7">c64ff5a</a></td><td><code>Implementation of Hecke insertion.</code></td></tr></table>




---

archive/issue_comments_280873.json:
```json
{
    "body": "Commit: **[c64ff5a](https://github.com/sagemath/sagetrac-mirror/commit/c64ff5ad8a1ae22ca664990f400647f21cb3f4e7)**",
    "created_at": "2015-11-07T05:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280873",
    "user": "https://github.com/tscrim"
}
```

Commit: **[c64ff5a](https://github.com/sagemath/sagetrac-mirror/commit/c64ff5ad8a1ae22ca664990f400647f21cb3f4e7)**



---

archive/issue_events_259067.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-11-07T05:50:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19541#event-259067"
}
```



---

archive/issue_comments_280874.json:
```json
{
    "body": "Branch: **[public/combinat/hecke_insertion-19541](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/hecke_insertion-19541)**",
    "created_at": "2015-11-07T05:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280874",
    "user": "https://github.com/tscrim"
}
```

Branch: **[public/combinat/hecke_insertion-19541](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/hecke_insertion-19541)**



---

archive/issue_comments_280875.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a53e813c8ef328c509f4162aa9d0f4849c207ce\">1a53e81</a></td><td><code>Merge branch 'public/combinat/hecke_insertion-19541' of git://trac.sagemath.org/sage into hecke</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8b10348b37fd6fc755d3eb5ed1b01795c6e74ee\">f8b1034</a></td><td><code>review up to reverse insertion</code></td></tr></table>\n",
    "created_at": "2015-11-19T19:05:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280875",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a53e813c8ef328c509f4162aa9d0f4849c207ce">1a53e81</a></td><td><code>Merge branch 'public/combinat/hecke_insertion-19541' of git://trac.sagemath.org/sage into hecke</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8b10348b37fd6fc755d3eb5ed1b01795c6e74ee">f8b1034</a></td><td><code>review up to reverse insertion</code></td></tr></table>




---

archive/issue_comments_280876.json:
```json
{
    "body": "Changed commit from **[c64ff5a](https://github.com/sagemath/sagetrac-mirror/commit/c64ff5ad8a1ae22ca664990f400647f21cb3f4e7)** to **[f8b1034](https://github.com/sagemath/sagetrac-mirror/commit/f8b10348b37fd6fc755d3eb5ed1b01795c6e74ee)**",
    "created_at": "2015-11-19T19:05:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280876",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c64ff5a](https://github.com/sagemath/sagetrac-mirror/commit/c64ff5ad8a1ae22ca664990f400647f21cb3f4e7)** to **[f8b1034](https://github.com/sagemath/sagetrac-mirror/commit/f8b10348b37fd6fc755d3eb5ed1b01795c6e74ee)**



---

archive/issue_comments_280877.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThe comment\n\n```\n# We must have len(p[j-1]) > len(r), otherwise we would\n#   have added x to the previous row\n```\ncomes from if `len(p[j-1]) == len(r)` (recall `r = p[j]`) and we wanted to add the entry `x` to the end of `r`, then by the strictly increasing condition, we should have added `x` to the end of `p[j-1]`. It means that we can skip the check that `len(p[j-1]) > len(r)`.",
    "created_at": "2015-11-19T19:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280877",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:3" align="right">Comment 3</div>

The comment

```
# We must have len(p[j-1]) > len(r), otherwise we would
#   have added x to the previous row
```
comes from if `len(p[j-1]) == len(r)` (recall `r = p[j]`) and we wanted to add the entry `x` to the end of `r`, then by the strictly increasing condition, we should have added `x` to the end of `p[j-1]`. It means that we can skip the check that `len(p[j-1]) > len(r)`.



---

archive/issue_comments_280878.json:
```json
{
    "body": "Changed commit from **[f8b1034](https://github.com/sagemath/sagetrac-mirror/commit/f8b10348b37fd6fc755d3eb5ed1b01795c6e74ee)** to **[af8855b](https://github.com/sagemath/sagetrac-mirror/commit/af8855b741ff8fe7c945ce4a36b3ac357f83f791)**",
    "created_at": "2015-11-19T21:37:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280878",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f8b1034](https://github.com/sagemath/sagetrac-mirror/commit/f8b10348b37fd6fc755d3eb5ed1b01795c6e74ee)** to **[af8855b](https://github.com/sagemath/sagetrac-mirror/commit/af8855b741ff8fe7c945ce4a36b3ac357f83f791)**



---

archive/issue_comments_280879.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af8855b741ff8fe7c945ce4a36b3ac357f83f791\">af8855b</a></td><td><code>More documentation fixes</code></td></tr></table>\n",
    "created_at": "2015-11-19T21:37:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280879",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4" align="right">Comment 4</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af8855b741ff8fe7c945ce4a36b3ac357f83f791">af8855b</a></td><td><code>More documentation fixes</code></td></tr></table>




---

archive/issue_comments_280880.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nAh, I got it! I think my way of saying it is clearer, though.\n\nIn other news, am I seeing it right that `reversed(d.items())` and `reversed(row_dict.values())` are fragile? I'll replace them by safer things.",
    "created_at": "2015-11-19T21:38:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280880",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:5" align="right">Comment 5</div>

Ah, I got it! I think my way of saying it is clearer, though.

In other news, am I seeing it right that `reversed(d.items())` and `reversed(row_dict.values())` are fragile? I'll replace them by safer things.



---

archive/issue_comments_280881.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nReplying to [@darijgr](#comment%3A5):\n> Ah, I got it! I think my way of saying it is clearer, though.\n\nI won't argue.\n\n> In other news, am I seeing it right that `reversed(d.items())` and `reversed(row_dict.values())` are fragile? I'll replace them by safer things.\n\nAh, yes, those are bad. Should be `sorted(d.items(), key=lambda x: -x[0])` (the minus should do the reversal, otherwise just also add the `reverse=True`) and `sorted(row_dict.values(), reverse=True)` resp. I don't know what I was thinking...",
    "created_at": "2015-11-19T21:57:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280881",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">Comment 6</div>

Replying to [@darijgr](#comment%3A5):
> Ah, I got it! I think my way of saying it is clearer, though.

I won't argue.

> In other news, am I seeing it right that `reversed(d.items())` and `reversed(row_dict.values())` are fragile? I'll replace them by safer things.

Ah, yes, those are bad. Should be `sorted(d.items(), key=lambda x: -x[0])` (the minus should do the reversal, otherwise just also add the `reverse=True`) and `sorted(row_dict.values(), reverse=True)` resp. I don't know what I was thinking...



---

archive/issue_comments_280882.json:
```json
{
    "body": "Changed commit from **[af8855b](https://github.com/sagemath/sagetrac-mirror/commit/af8855b741ff8fe7c945ce4a36b3ac357f83f791)** to **[264484f](https://github.com/sagemath/sagetrac-mirror/commit/264484f43ee00899f6c39b5b5a896706c19e27e9)**",
    "created_at": "2015-11-19T23:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280882",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[af8855b](https://github.com/sagemath/sagetrac-mirror/commit/af8855b741ff8fe7c945ce4a36b3ac357f83f791)** to **[264484f](https://github.com/sagemath/sagetrac-mirror/commit/264484f43ee00899f6c39b5b5a896706c19e27e9)**



---

archive/issue_comments_280883.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/264484f43ee00899f6c39b5b5a896706c19e27e9\">264484f</a></td><td><code>rsk.py reviewed</code></td></tr></table>\n",
    "created_at": "2015-11-19T23:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280883",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/264484f43ee00899f6c39b5b5a896706c19e27e9">264484f</a></td><td><code>rsk.py reviewed</code></td></tr></table>




---

archive/issue_comments_280884.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nThanks for the prompt fix suggestion. The code now LGTM. I have added some weasel language (in one of my previous commits) to avoid creating the impression that the Hecke RSK algorithm is understood in the \"semistandard\" case (i.e., upper row is not (1, 2, ..., n)). If you have a source for this, please put it in a reference.",
    "created_at": "2015-11-19T23:04:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280884",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:8" align="right">Comment 8</div>

Thanks for the prompt fix suggestion. The code now LGTM. I have added some weasel language (in one of my previous commits) to avoid creating the impression that the Hecke RSK algorithm is understood in the "semistandard" case (i.e., upper row is not (1, 2, ..., n)). If you have a source for this, please put it in a reference.



---

archive/issue_events_259068.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-11-20T00:02:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19541#event-259068"
}
```



---

archive/issue_events_259069.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-11-20T00:02:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19541#event-259069"
}
```



---

archive/issue_comments_280885.json:
```json
{
    "body": "Reviewer: **Darij Grinberg**",
    "created_at": "2015-11-20T00:02:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280885",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Darij Grinberg**



---

archive/issue_comments_280886.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nI think my reference allows for it, but I'm okay with the language being there. Thanks for doing the review.",
    "created_at": "2015-11-20T00:02:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280886",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">Comment 9</div>

I think my reference allows for it, but I'm okay with the language being there. Thanks for doing the review.



---

archive/issue_events_259070.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-23T06:34:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19541#event-259070"
}
```



---

archive/issue_events_259071.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "20620105194cbaf03a30ab89ac536d77ffda01df",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-11-23T06:34:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19541#event-259071"
}
```



---

archive/issue_comments_280887.json:
```json
{
    "body": "Changed branch from **[public/combinat/hecke_insertion-19541](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/hecke_insertion-19541)** to **[264484f](https://github.com/sagemath/sagetrac-mirror/commit/264484f43ee00899f6c39b5b5a896706c19e27e9)**",
    "created_at": "2015-11-23T06:34:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19541#issuecomment-280887",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/combinat/hecke_insertion-19541](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/hecke_insertion-19541)** to **[264484f](https://github.com/sagemath/sagetrac-mirror/commit/264484f43ee00899f6c39b5b5a896706c19e27e9)**
