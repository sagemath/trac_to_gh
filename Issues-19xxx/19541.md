# Issue 19541: Implement Hecke insertion

archive/issues_019304.json:
```json
{
    "body": "Hecke insertion is a variant of RSK which has interesting applications in\n\n- K-theoretic Schubert calculus,\n- representation theory of the 0-Hecke monoid, and\n- probability theory of the Plancherel-Hecke measure.\n\nFor a reference, see http://arxiv.org/abs/0801.1319.\n\nAssignee: sage-combinat\n\nCC:  sage-combinat @darijgr @nthiery\n\nKeywords: hecke insertion, RSK\n\nBranch/Commit: 264484f43ee00899f6c39b5b5a896706c19e27e9\n\nReviewer: Darij Grinberg\n\nAuthor: Travis Scrimshaw\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19541\n\n",
    "closed_at": "2015-11-23T06:34:19Z",
    "created_at": "2015-11-07T05:49:08Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Implement Hecke insertion",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19541",
    "user": "https://github.com/tscrim"
}
```
Hecke insertion is a variant of RSK which has interesting applications in

- K-theoretic Schubert calculus,
- representation theory of the 0-Hecke monoid, and
- probability theory of the Plancherel-Hecke measure.

For a reference, see http://arxiv.org/abs/0801.1319.

Assignee: sage-combinat

CC:  sage-combinat @darijgr @nthiery

Keywords: hecke insertion, RSK

Branch/Commit: 264484f43ee00899f6c39b5b5a896706c19e27e9

Reviewer: Darij Grinberg

Author: Travis Scrimshaw

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19541





---

archive/issue_comments_281968.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,6 +3,8 @@\n - K-theoretic Schubert calculus,\n - representation theory of the 0-Hecke monoid, and\n - probability theory of the Plancherel-Hecke measure.\n+\n+For a reference, see http://arxiv.org/abs/0801.1319.\n \n Author: Travis Scrimshaw\n \n``````\n",
    "created_at": "2015-11-07T05:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19541#issuecomment-281968",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,6 +3,8 @@
 - K-theoretic Schubert calculus,
 - representation theory of the 0-Hecke monoid, and
 - probability theory of the Plancherel-Hecke measure.
+
+For a reference, see http://arxiv.org/abs/0801.1319.
 
 Author: Travis Scrimshaw
 
``````




---

archive/issue_comments_281969.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2015-11-07T05:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19541#issuecomment-281969",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_281970.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-11-07T05:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19541#issuecomment-281970",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_281971.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-19T19:05:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19541#issuecomment-281971",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_281972.json:
```json
{
    "body": "<a id='comment:3'></a>The comment\n\n```\n# We must have len(p[j-1]) > len(r), otherwise we would\n#   have added x to the previous row\n```\ncomes from if `len(p[j-1]) == len(r)` (recall `r = p[j]`) and we wanted to add the entry `x` to the end of `r`, then by the strictly increasing condition, we should have added `x` to the end of `p[j-1]`. It means that we can skip the check that `len(p[j-1]) > len(r)`.",
    "created_at": "2015-11-19T19:17:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19541#issuecomment-281972",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>The comment

```
# We must have len(p[j-1]) > len(r), otherwise we would
#   have added x to the previous row
```
comes from if `len(p[j-1]) == len(r)` (recall `r = p[j]`) and we wanted to add the entry `x` to the end of `r`, then by the strictly increasing condition, we should have added `x` to the end of `p[j-1]`. It means that we can skip the check that `len(p[j-1]) > len(r)`.



---

archive/issue_comments_281973.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-19T21:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19541#issuecomment-281973",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_281974.json:
```json
{
    "body": "<a id='comment:5'></a>Ah, I got it! I think my way of saying it is clearer, though.\n\nIn other news, am I seeing it right that `reversed(d.items())` and `reversed(row_dict.values())` are fragile? I'll replace them by safer things.",
    "created_at": "2015-11-19T21:38:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19541#issuecomment-281974",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:5'></a>Ah, I got it! I think my way of saying it is clearer, though.

In other news, am I seeing it right that `reversed(d.items())` and `reversed(row_dict.values())` are fragile? I'll replace them by safer things.



---

archive/issue_comments_281975.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 darij]:\n> Ah, I got it! I think my way of saying it is clearer, though.\n\n\nI won't argue.\n\n> In other news, am I seeing it right that `reversed(d.items())` and `reversed(row_dict.values())` are fragile? I'll replace them by safer things.\n\n\nAh, yes, those are bad. Should be `sorted(d.items(), key=lambda x: -x[0])` (the minus should do the reversal, otherwise just also add the `reverse=True`) and `sorted(row_dict.values(), reverse=True)` resp. I don't know what I was thinking...",
    "created_at": "2015-11-19T21:57:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19541#issuecomment-281975",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>Replying to [comment:5 darij]:
> Ah, I got it! I think my way of saying it is clearer, though.


I won't argue.

> In other news, am I seeing it right that `reversed(d.items())` and `reversed(row_dict.values())` are fragile? I'll replace them by safer things.


Ah, yes, those are bad. Should be `sorted(d.items(), key=lambda x: -x[0])` (the minus should do the reversal, otherwise just also add the `reverse=True`) and `sorted(row_dict.values(), reverse=True)` resp. I don't know what I was thinking...



---

archive/issue_comments_281976.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-19T23:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19541#issuecomment-281976",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_281977.json:
```json
{
    "body": "<a id='comment:8'></a>Thanks for the prompt fix suggestion. The code now LGTM. I have added some weasel language (in one of my previous commits) to avoid creating the impression that the Hecke RSK algorithm is understood in the \"semistandard\" case (i.e., upper row is not (1, 2, ..., n)). If you have a source for this, please put it in a reference.",
    "created_at": "2015-11-19T23:04:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19541#issuecomment-281977",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:8'></a>Thanks for the prompt fix suggestion. The code now LGTM. I have added some weasel language (in one of my previous commits) to avoid creating the impression that the Hecke RSK algorithm is understood in the "semistandard" case (i.e., upper row is not (1, 2, ..., n)). If you have a source for this, please put it in a reference.



---

archive/issue_comments_281978.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-11-20T00:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19541#issuecomment-281978",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_281979.json:
```json
{
    "body": "<a id='comment:9'></a>I think my reference allows for it, but I'm okay with the language being there. Thanks for doing the review.",
    "created_at": "2015-11-20T00:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19541#issuecomment-281979",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>I think my reference allows for it, but I'm okay with the language being there. Thanks for doing the review.



---

archive/issue_comments_281980.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-11-23T06:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19541#issuecomment-281980",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_053815.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-23T06:34:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19541",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19541#event-53815"
}
```
