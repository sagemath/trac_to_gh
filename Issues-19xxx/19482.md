# Issue 19482: Documentation for auto-generated index of functions

archive/issues_019245.json:
```json
{
    "assignees": [],
    "body": "This could have a place in the developer's manual, or it will be yet another dark feature.\n\nNathann\n\nBranch/Commit: **[u/ncohen/19482](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19482) @ [`757a9f4`](https://github.com/sagemath/sagetrac-mirror/commit/757a9f4a908db4be170f28a96c000a1358ac9f2d)**\n\nReviewer: **Jori M\u00e4ntysalo**\n\nAuthor: **Nathann Cohen**\n\nComponent: **documentation**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19482_\n\n",
    "closed_at": "2016-08-30T13:32:25Z",
    "created_at": "2015-10-27T09:16:03Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20documentation",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Documentation for auto-generated index of functions",
    "type": "issue",
    "updated_at": "2016-08-30T13:32:25Z",
    "url": "https://github.com/sagemath/sage/issues/19482",
    "user": "https://github.com/nathanncohen"
}
```
This could have a place in the developer's manual, or it will be yet another dark feature.

Nathann

Branch/Commit: **[u/ncohen/19482](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19482) @ [`757a9f4`](https://github.com/sagemath/sagetrac-mirror/commit/757a9f4a908db4be170f28a96c000a1358ac9f2d)**

Reviewer: **Jori Mäntysalo**

Author: **Nathann Cohen**

Component: **documentation**

_Issue created by migration from https://trac.sagemath.org/ticket/19482_





---

archive/issue_events_276137.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-27T09:16:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276137"
}
```



---

archive/issue_events_276138.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-27T09:16:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276138"
}
```



---

archive/issue_events_276139.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-27T09:16:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276139"
}
```



---

archive/issue_events_276140.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-27T09:16:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276140"
}
```



---

archive/issue_events_276141.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-27T09:16:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276141"
}
```



---

archive/issue_comments_277054.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/757a9f4a908db4be170f28a96c000a1358ac9f2d\">757a9f4</a></td><td><code>trac #19482: Documentation for auto-generated index of functions</code></td></tr></table>\n",
    "created_at": "2015-10-27T09:16:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277054",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/757a9f4a908db4be170f28a96c000a1358ac9f2d">757a9f4</a></td><td><code>trac #19482: Documentation for auto-generated index of functions</code></td></tr></table>




---

archive/issue_comments_277055.json:
```json
{
    "body": "Branch: **[u/ncohen/19482](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19482)**",
    "created_at": "2015-10-27T09:16:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277055",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/ncohen/19482](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19482)**



---

archive/issue_comments_277056.json:
```json
{
    "body": "Commit: **[`757a9f4`](https://github.com/sagemath/sagetrac-mirror/commit/757a9f4a908db4be170f28a96c000a1358ac9f2d)**",
    "created_at": "2015-10-27T09:16:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277056",
    "user": "https://github.com/nathanncohen"
}
```

Commit: **[`757a9f4`](https://github.com/sagemath/sagetrac-mirror/commit/757a9f4a908db4be170f28a96c000a1358ac9f2d)**



---

archive/issue_comments_277057.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI tried to follow instructions with `categories/finite_posets.py`, but got only\n\n```\ndocstring of sage.categories.finite_posets:11: WARNING: The \"csv-table\" directive requires content; none supplied.\n```\n\nI guess that I should change `__name__` to something. To what? And should it be told in these instructions?",
    "created_at": "2015-10-27T13:01:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277057",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:2" align="right">comment:2</div>

I tried to follow instructions with `categories/finite_posets.py`, but got only

```
docstring of sage.categories.finite_posets:11: WARNING: The "csv-table" directive requires content; none supplied.
```

I guess that I should change `__name__` to something. To what? And should it be told in these instructions?



---

archive/issue_comments_277058.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nYo,\n\n> I tried to follow instructions with `categories/finite_posets.py`, but got only\n> \n> ```\n> docstring of sage.categories.finite_posets:11: WARNING: The \"csv-table\" directive requires content; none supplied.\n> ```\n\nWould I be correct to guess that you followed the instructions for an index of *functions* in a file that does not define any?\n\nIn that file, I'd say that what you want are the methods of a specific class.\n\n> I guess that I should change `__name__` to something.\n\nNono, this should work.\n\n> And should it be told in these instructions?\n\nLet us first figure out what went wrong in your test.\n\nNathann",
    "created_at": "2015-10-27T13:08:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277058",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:3" align="right">comment:3</div>

Yo,

> I tried to follow instructions with `categories/finite_posets.py`, but got only
> 
> ```
> docstring of sage.categories.finite_posets:11: WARNING: The "csv-table" directive requires content; none supplied.
> ```

Would I be correct to guess that you followed the instructions for an index of *functions* in a file that does not define any?

In that file, I'd say that what you want are the methods of a specific class.

> I guess that I should change `__name__` to something.

Nono, this should work.

> And should it be told in these instructions?

Let us first figure out what went wrong in your test.

Nathann



---

archive/issue_comments_277059.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@nathanncohen](#comment:3):\n\n> Would I be correct to guess that you followed the instructions for an index of *functions* in a file that does not define any?\n\nThere is `is_lattice()`, `is_poset_isomorphism()` etc. defined in `categories/finite_posets.py`.",
    "created_at": "2015-10-27T13:19:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277059",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@nathanncohen](#comment:3):

> Would I be correct to guess that you followed the instructions for an index of *functions* in a file that does not define any?

There is `is_lattice()`, `is_poset_isomorphism()` etc. defined in `categories/finite_posets.py`.



---

archive/issue_comments_277060.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI just checked my terminology, but it seems correct: https://en.wikipedia.org/wiki/Method_(computer_programming)\n\nA 'method' is a function defined in a class. The functions are the functions defined in a module.\n\n```\nsage: import inspect\nsage: P = Poset()\nsage: inspect.ismethod(P.is_lattice)\nTrue\nsage: inspect.isfunction(P.is_lattice)\nFalse\n```\n\nNathann",
    "created_at": "2015-10-27T13:25:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277060",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">comment:5</div>

I just checked my terminology, but it seems correct: https://en.wikipedia.org/wiki/Method_(computer_programming)

A 'method' is a function defined in a class. The functions are the functions defined in a module.

```
sage: import inspect
sage: P = Poset()
sage: inspect.ismethod(P.is_lattice)
True
sage: inspect.isfunction(P.is_lattice)
False
```

Nathann



---

archive/issue_comments_277061.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@nathanncohen](#comment:5):\n\n> A 'method' is a function defined in a class. The functions are the functions defined in a module.\n\nOK. Now I tried to read `incidence_structures.py` and copypaste it to `finite_posets.py`. It start with\n\n```\nr\"\"\"\nFinite posets\n\nList of functions:\n\n{METHODS_OF_FinitePosets}\n\"\"\"\n```\n\nand ends\n\n```\nfrom sage.misc.rest_index_of_methods import gen_rest_table_index\n__doc__ = __doc__.format(METHODS_OF_FinitePosets=gen_rest_table_index(FinitePosets))\n```\n\nThere might be no problem at all for clever people, but I do not understand.",
    "created_at": "2015-10-28T10:37:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277061",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@nathanncohen](#comment:5):

> A 'method' is a function defined in a class. The functions are the functions defined in a module.

OK. Now I tried to read `incidence_structures.py` and copypaste it to `finite_posets.py`. It start with

```
r"""
Finite posets

List of functions:

{METHODS_OF_FinitePosets}
"""
```

and ends

```
from sage.misc.rest_index_of_methods import gen_rest_table_index
__doc__ = __doc__.format(METHODS_OF_FinitePosets=gen_rest_table_index(FinitePosets))
```

There might be no problem at all for clever people, but I do not understand.



---

archive/issue_comments_277062.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThat's because of the syntax of python's format thing:\n\n```\nsage: \"a is {a} and b is {b}\".format(a=4,b=5)\n'a is 4 and b is 5'\n```\n\nThen you have to know that `__doc__` is the name of the module's docstring (the string that starts with 'Finite posets'. And then `gen_rest_table_index` does its job from the class that you give it.\n\nI don't mind your telling me that it is not clear or has to be explained in the developer's manual: it would be cool if we don't have to explain how python works there, though. \n\nBut then perhaps those details should not appear in the developer's manual but rather on the module's doc of this `rest_index_of_methods` module.\n\nNathann",
    "created_at": "2015-10-28T10:42:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277062",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

That's because of the syntax of python's format thing:

```
sage: "a is {a} and b is {b}".format(a=4,b=5)
'a is 4 and b is 5'
```

Then you have to know that `__doc__` is the name of the module's docstring (the string that starts with 'Finite posets'. And then `gen_rest_table_index` does its job from the class that you give it.

I don't mind your telling me that it is not clear or has to be explained in the developer's manual: it would be cool if we don't have to explain how python works there, though. 

But then perhaps those details should not appear in the developer's manual but rather on the module's doc of this `rest_index_of_methods` module.

Nathann



---

archive/issue_comments_277063.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI guess the question is whether we really want widespread use of a hack that does large-ish string processing at each import (including during Sage startup).\n\nAn example for how to do things right is http://docs.astropy.org/en/stable/nddata/index.html, the auto-generated class table at the bottom is created only once while running sphinx to build the docs.",
    "created_at": "2015-11-24T22:26:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277063",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:8" align="right">comment:8</div>

I guess the question is whether we really want widespread use of a hack that does large-ish string processing at each import (including during Sage startup).

An example for how to do things right is http://docs.astropy.org/en/stable/nddata/index.html, the auto-generated class table at the bottom is created only once while running sphinx to build the docs.



---

archive/issue_comments_277064.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n> I guess the question is whether we really want widespread use of a hack that does large-ish string processing at each import (including during Sage startup).\n\nNot at all. The question here is whether you want the interface of this code to be documented, so that people can use it.\n\nHow it is implemented is a different problem, and you are most welcome to help if you think that it should be written differently.\n\nNathann",
    "created_at": "2015-11-25T07:33:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277064",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

> I guess the question is whether we really want widespread use of a hack that does large-ish string processing at each import (including during Sage startup).

Not at all. The question here is whether you want the interface of this code to be documented, so that people can use it.

How it is implemented is a different problem, and you are most welcome to help if you think that it should be written differently.

Nathann



---

archive/issue_comments_277065.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWhat you say is true, however. The way they do it (through Sphinx) is much cleaner. I haven't found the list of method of a given classes so far, but it's probably doable with their code.",
    "created_at": "2015-11-25T08:42:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277065",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:10" align="right">comment:10</div>

What you say is true, however. The way they do it (through Sphinx) is much cleaner. I haven't found the list of method of a given classes so far, but it's probably doable with their code.



---

archive/issue_comments_277066.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nBack to this one...\n\nI would not say \"Optionally, the module's documentation can include a list - -\", but something like \"Module documentation should include a list of all functions. If there are only few of them, the list can be generated - -\".\n\nMaybe after example it could also say something like \"The list will not contain functions that are deprecated or whose name start with underscore.\" I am not sure if this is good addition or just noise.\n\nAfter \"An index of **all methods** of a specific class - -\" add \"There is no automatic way to get a list of all functions defined in a module containing several classes.\"\n\n\"When a class/module defines many methods/functions it can become interesting - -\" should be \"When a class/module defines many methods/functions the list should be grouped thematically - -\".\n\nOtherwise I think that I have now understood how to use this and what can be done with automatic indexing.",
    "created_at": "2016-01-11T10:29:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277066",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:11" align="right">comment:11</div>

Back to this one...

I would not say "Optionally, the module's documentation can include a list - -", but something like "Module documentation should include a list of all functions. If there are only few of them, the list can be generated - -".

Maybe after example it could also say something like "The list will not contain functions that are deprecated or whose name start with underscore." I am not sure if this is good addition or just noise.

After "An index of **all methods** of a specific class - -" add "There is no automatic way to get a list of all functions defined in a module containing several classes."

"When a class/module defines many methods/functions it can become interesting - -" should be "When a class/module defines many methods/functions the list should be grouped thematically - -".

Otherwise I think that I have now understood how to use this and what can be done with automatic indexing.



---

archive/issue_comments_277067.json:
```json
{
    "body": "Reviewer: **Jori M\u00e4ntysalo**",
    "created_at": "2016-01-11T10:29:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277067",
    "user": "https://github.com/jm58660"
}
```

Reviewer: **Jori Mäntysalo**



---

archive/issue_events_276142.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-01-11T10:30:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276142"
}
```



---

archive/issue_events_276143.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-01-11T10:30:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276143"
}
```



---

archive/issue_comments_277068.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nYo !\n\n> I would not say \"Optionally, the module's documentation can include a list - -\", but something like \"Module documentation should include a list of all functions. If there are only few of them, the list can be generated - -\".\n\nHMmmm.. Sorry for nitpicking, but I don't allow myself to write rules in our developer's manual without a poll on sage-devel. Around 0% of our modules follow this rule at the moment, and phrasing it like that might say that we could refuse branches because they don't have it.\n\n> Maybe after example it could also say something like \"The list will not contain functions that are deprecated or whose name start with underscore.\" I am not sure if this is good addition or just noise.\n\nWell, to me this is more documentation specific to the reference manual. There is a link toward the rest_index_of_methods module that people can follow, and see what is there. So what you say is necessary <somewhere> but I don't personall believe it must be here.\n\n> After \"An index of **all methods** of a specific class - -\" add \"There is no automatic way to get a list of all functions defined in a module containing several classes.\"\n\nErrr... This sentence is 'wrong', technically. A function, by definition, does not belong to a class. A method, by definition, belongs to a class. You want to say that you cannot have one big table that mixes together the methods of different classes? That's rather expected, isn't it?.. `:-P`\n\n> \"When a class/module defines many methods/functions it can become interesting - -\" should be \"When a class/module defines many methods/functions the list should be grouped thematically - -\".\n\nSorry, same reason. I don't want to use 'should' here. I don't mind making tools available, though I don't want to force people to use them. Especially when some don't like them.\n\nNathann",
    "created_at": "2016-01-11T12:42:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277068",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

Yo !

> I would not say "Optionally, the module's documentation can include a list - -", but something like "Module documentation should include a list of all functions. If there are only few of them, the list can be generated - -".

HMmmm.. Sorry for nitpicking, but I don't allow myself to write rules in our developer's manual without a poll on sage-devel. Around 0% of our modules follow this rule at the moment, and phrasing it like that might say that we could refuse branches because they don't have it.

> Maybe after example it could also say something like "The list will not contain functions that are deprecated or whose name start with underscore." I am not sure if this is good addition or just noise.

Well, to me this is more documentation specific to the reference manual. There is a link toward the rest_index_of_methods module that people can follow, and see what is there. So what you say is necessary <somewhere> but I don't personall believe it must be here.

> After "An index of **all methods** of a specific class - -" add "There is no automatic way to get a list of all functions defined in a module containing several classes."

Errr... This sentence is 'wrong', technically. A function, by definition, does not belong to a class. A method, by definition, belongs to a class. You want to say that you cannot have one big table that mixes together the methods of different classes? That's rather expected, isn't it?.. `:-P`

> "When a class/module defines many methods/functions it can become interesting - -" should be "When a class/module defines many methods/functions the list should be grouped thematically - -".

Sorry, same reason. I don't want to use 'should' here. I don't mind making tools available, though I don't want to force people to use them. Especially when some don't like them.

Nathann



---

archive/issue_comments_277069.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nWarning: this slows down the module import and should at most be used for modules that are lazily imported.",
    "created_at": "2016-01-11T13:24:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277069",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:15" align="right">comment:15</div>

Warning: this slows down the module import and should at most be used for modules that are lazily imported.



---

archive/issue_comments_277070.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nSee? \"Can be used\". Not \"should be used\" `:-P`",
    "created_at": "2016-01-11T13:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277070",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

See? "Can be used". Not "should be used" `:-P`



---

archive/issue_comments_277071.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nIn any case, this is better with this addition than without, so I mark this as positive review. But some comments: \n\n[ By comment of vbraun in time of writing this I cancelled positive review. ]\n\nReplying to [@nathanncohen](#comment:14):\n\n> > After \"An index of **all methods** of a specific class - -\" add \"There is no automatic way to get a list of all functions defined in a module containing several classes.\"\n\n>\n>Errr... This sentence is 'wrong', technically. A function, by definition, does not belong to a class. A method, by definition, belongs to a class. You want to say that you cannot have one big table that mixes together the methods of different classes? That's rather expected, isn't it?.. `:-P`\n\nWell, it is not that strange to think that functions, methods, classes, and whatevers, defined in one file can be shown in one index.\n\n> > I would not say \"Optionally, the module's documentation can include a list - -\", but something like \"Module documentation should include a list of all functions. If there are only few of them, the list can be generated - -\".\n\n> \n> HMmmm.. Sorry for nitpicking, but I don't allow myself to write rules in our developer's manual without a poll on sage-devel. Around 0% of our modules follow this rule at the moment, and phrasing it like that might say that we could refuse branches because they don't have it.\n\nActually I would like to have a kind of rule that new modules must have an index. Not necessarily made with this, but somehow.\n\nBut this has been discussed before without result. You want only rules that are really rules; I would like to have also recommendations of the form \"Do X or say why you did not do.\"",
    "created_at": "2016-01-11T13:28:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277071",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:17" align="right">comment:17</div>

In any case, this is better with this addition than without, so I mark this as positive review. But some comments: 

[ By comment of vbraun in time of writing this I cancelled positive review. ]

Replying to [@nathanncohen](#comment:14):

> > After "An index of **all methods** of a specific class - -" add "There is no automatic way to get a list of all functions defined in a module containing several classes."

>
>Errr... This sentence is 'wrong', technically. A function, by definition, does not belong to a class. A method, by definition, belongs to a class. You want to say that you cannot have one big table that mixes together the methods of different classes? That's rather expected, isn't it?.. `:-P`

Well, it is not that strange to think that functions, methods, classes, and whatevers, defined in one file can be shown in one index.

> > I would not say "Optionally, the module's documentation can include a list - -", but something like "Module documentation should include a list of all functions. If there are only few of them, the list can be generated - -".

> 
> HMmmm.. Sorry for nitpicking, but I don't allow myself to write rules in our developer's manual without a poll on sage-devel. Around 0% of our modules follow this rule at the moment, and phrasing it like that might say that we could refuse branches because they don't have it.

Actually I would like to have a kind of rule that new modules must have an index. Not necessarily made with this, but somehow.

But this has been discussed before without result. You want only rules that are really rules; I would like to have also recommendations of the form "Do X or say why you did not do."



---

archive/issue_comments_277072.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n> Well, it is not that strange to think that functions, methods, classes, and whatevers, defined in one file can be shown in one index.\n\nWhat do you do when several classes have methods with the same name?\n\n> Actually I would like to have a kind of rule that new modules must have an index. Not necessarily made with this, but somehow.\n> \n> But this has been discussed before without result. You want only rules that are really rules; I would like to have also recommendations of the form \"Do X or say why you did not do.\"\n\nHmmmm... Well, then add a commit if you like?\n\nNathann",
    "created_at": "2016-01-11T13:34:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277072",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:18" align="right">comment:18</div>

> Well, it is not that strange to think that functions, methods, classes, and whatevers, defined in one file can be shown in one index.

What do you do when several classes have methods with the same name?

> Actually I would like to have a kind of rule that new modules must have an index. Not necessarily made with this, but somehow.
> 
> But this has been discussed before without result. You want only rules that are really rules; I would like to have also recommendations of the form "Do X or say why you did not do."

Hmmmm... Well, then add a commit if you like?

Nathann



---

archive/issue_comments_277073.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@nathanncohen](#comment:18):\n> > Well, it is not that strange to think that functions, methods, classes, and whatevers, defined in one file can be shown in one index.\n\n> \n> What do you do when several classes have methods with the same name?\n\nHave a link with class name added. ... ok, ok, bad idea.\n\n> Hmmmm... Well, then add a commit if you like?\n\nMaybe not for this one.\n\nBut anyways, should this be accepted or not? Volker, is a warning needed in this place, in the documentation of `gen_rest...()`, or in both? Or not at all?",
    "created_at": "2016-01-11T15:42:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277073",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@nathanncohen](#comment:18):
> > Well, it is not that strange to think that functions, methods, classes, and whatevers, defined in one file can be shown in one index.

> 
> What do you do when several classes have methods with the same name?

Have a link with class name added. ... ok, ok, bad idea.

> Hmmmm... Well, then add a commit if you like?

Maybe not for this one.

But anyways, should this be accepted or not? Volker, is a warning needed in this place, in the documentation of `gen_rest...()`, or in both? Or not at all?



---

archive/issue_comments_277074.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jm58660](#comment:19):\n\n> But anyways, should this be accepted or not? Volker, is a warning needed in this place, in the documentation of `gen_rest...()`, or in both? Or not at all?\n\nJust pinging... What should we do with this?",
    "created_at": "2016-02-10T05:42:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277074",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jm58660](#comment:19):

> But anyways, should this be accepted or not? Volker, is a warning needed in this place, in the documentation of `gen_rest...()`, or in both? Or not at all?

Just pinging... What should we do with this?



---

archive/issue_comments_277075.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n(test request from Jori. Please ignore)",
    "created_at": "2016-02-10T06:00:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277075",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:21" align="right">comment:21</div>

(test request from Jori. Please ignore)



---

archive/issue_comments_277076.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nGetting back to this one... Volker, I still think that Sage with this patch is better than Sage without. As Nathann said, without this we have another dark feature.",
    "created_at": "2016-04-25T07:50:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277076",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:22" align="right">comment:22</div>

Getting back to this one... Volker, I still think that Sage with this patch is better than Sage without. As Nathann said, without this we have another dark feature.



---

archive/issue_comments_277077.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nStartup time for Sage is also an issue, we are basically already borderline too slow to start. Doing more stuff at startup is not going to help. Related, the proposed syntax of slapping some magic stuff at the bottom of each page isn't something that you should do if you had a proper implementation. If you do it right (did you look at the astropy example?) then you wouldn't need the magic `__doc__ = ...` anyways. IMHO we should have a good implementation first before encouraging others to use it.",
    "created_at": "2016-04-25T08:47:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277077",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:23" align="right">comment:23</div>

Startup time for Sage is also an issue, we are basically already borderline too slow to start. Doing more stuff at startup is not going to help. Related, the proposed syntax of slapping some magic stuff at the bottom of each page isn't something that you should do if you had a proper implementation. If you do it right (did you look at the astropy example?) then you wouldn't need the magic `__doc__ = ...` anyways. IMHO we should have a good implementation first before encouraging others to use it.



---

archive/issue_comments_277078.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@vbraun](#comment:23):\n> IMHO we should have a good implementation first before encouraging others to use it.\n\nOK. And I think that we all agree that Sphinx gives headache to everyone.\n\nThere is now five files that uses this (2 in combinat, 2 in coding, 1 in graphs). Should we add some comment to those, just before `{INDEX_OF_FUNCTIONS}` to tell developers what is going on?",
    "created_at": "2016-04-25T11:27:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277078",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@vbraun](#comment:23):
> IMHO we should have a good implementation first before encouraging others to use it.

OK. And I think that we all agree that Sphinx gives headache to everyone.

There is now five files that uses this (2 in combinat, 2 in coding, 1 in graphs). Should we add some comment to those, just before `{INDEX_OF_FUNCTIONS}` to tell developers what is going on?



---

archive/issue_events_276144.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-07-04T13:10:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276144"
}
```



---

archive/issue_events_276145.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-07-04T13:10:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276145"
}
```



---

archive/issue_events_276146.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-07-04T13:10:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276146"
}
```



---

archive/issue_events_276147.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-07-04T13:10:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276147"
}
```



---

archive/issue_events_276148.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-07-04T13:10:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276148"
}
```



---

archive/issue_comments_277079.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nAs there does not seem to be common view, and Nathann has faded from developers (sad), I mark this as wontfix/positive. Volker, please revert if you have other opinion.",
    "created_at": "2016-07-04T13:10:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277079",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:25" align="right">comment:25</div>

As there does not seem to be common view, and Nathann has faded from developers (sad), I mark this as wontfix/positive. Volker, please revert if you have other opinion.



---

archive/issue_events_276149.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "a6a6a6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276149"
}
```



---

archive/issue_comments_277080.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nDetermined to be invalid/duplicate/wontfix (closing as \"wontfix\" as a catch-all resolution).",
    "created_at": "2016-08-30T13:32:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19482#issuecomment-277080",
    "user": "https://github.com/embray"
}
```

<div id="comment:26" align="right">comment:26</div>

Determined to be invalid/duplicate/wontfix (closing as "wontfix" as a catch-all resolution).



---

archive/issue_events_276150.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276150"
}
```



---

archive/issue_events_276151.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19482",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19482#event-276151"
}
```
