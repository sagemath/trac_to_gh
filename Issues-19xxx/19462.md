# Issue 19462: LinearCode.is_projective

archive/issues_019225.json:
```json
{
    "assignees": [],
    "body": "As the title says, this branch adds a very short function to LinearCode.\n\nNathann\n\nCC:  @johanrosenkilde dlucas @dimpase\n\nBranch/Commit: **[fc7e509](https://github.com/sagemath/sagetrac-mirror/commit/fc7e50975777e4f50e0c345cfdb0cf42f12740c5)**\n\nReviewer: **Johan Sebastian Rosenkilde Nielsen, Vincent Delecroix**\n\nAuthor: **Nathann Cohen**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19462_\n\n",
    "closed_at": "2015-10-29T16:34:57Z",
    "created_at": "2015-10-23T12:21:30Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20coding%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "LinearCode.is_projective",
    "type": "issue",
    "updated_at": "2015-10-29T16:34:57Z",
    "url": "https://github.com/sagemath/sage/issues/19462",
    "user": "https://github.com/nathanncohen"
}
```
As the title says, this branch adds a very short function to LinearCode.

Nathann

CC:  @johanrosenkilde dlucas @dimpase

Branch/Commit: **[fc7e509](https://github.com/sagemath/sagetrac-mirror/commit/fc7e50975777e4f50e0c345cfdb0cf42f12740c5)**

Reviewer: **Johan Sebastian Rosenkilde Nielsen, Vincent Delecroix**

Author: **Nathann Cohen**

_Issue created by migration from https://trac.sagemath.org/ticket/19462_





---

archive/issue_events_248784.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-23T12:21:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19462#event-248784"
}
```



---

archive/issue_events_248785.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-23T12:21:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20coding%20theory",
    "label_color": "0000ff",
    "label_name": "component: coding theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19462#event-248785"
}
```



---

archive/issue_events_248786.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-23T12:21:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19462#event-248786"
}
```



---

archive/issue_events_248787.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-23T12:21:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19462#event-248787"
}
```



---

archive/issue_comments_279195.json:
```json
{
    "body": "Branch: **[public/19462](https://github.com/sagemath/sagetrac-mirror/tree/public/19462)**",
    "created_at": "2015-10-23T12:22:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279195",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[public/19462](https://github.com/sagemath/sagetrac-mirror/tree/public/19462)**



---

archive/issue_comments_279196.json:
```json
{
    "body": "Commit: **[7272942](https://github.com/sagemath/sagetrac-mirror/commit/7272942710a80866935ba073fe0e8697d7a3f137)**",
    "created_at": "2015-10-23T12:22:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279196",
    "user": "https://github.com/nathanncohen"
}
```

Commit: **[7272942](https://github.com/sagemath/sagetrac-mirror/commit/7272942710a80866935ba073fe0e8697d7a3f137)**



---

archive/issue_comments_279197.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7272942710a80866935ba073fe0e8697d7a3f137\">7272942</a></td><td><code>trac #19462: LinearCode.is_projective</code></td></tr></table>\n",
    "created_at": "2015-10-23T12:22:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279197",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7272942710a80866935ba073fe0e8697d7a3f137">7272942</a></td><td><code>trac #19462: LinearCode.is_projective</code></td></tr></table>




---

archive/issue_events_248788.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-23T12:22:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19462#event-248788"
}
```



---

archive/issue_comments_279198.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nTypo in this line: \"[BS11] E, Byrne and A. Sneyd,\".  It should be \"[BS11] E. Byrne and A. Sneyd\"",
    "created_at": "2015-10-23T18:28:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279198",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:2'>Comment 2:</a>
Typo in this line: "[BS11] E, Byrne and A. Sneyd,".  It should be "[BS11] E. Byrne and A. Sneyd"



---

archive/issue_comments_279199.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a8d9701a24ab0437ff4e8fbf517bb47443ef425\">4a8d970</a></td><td><code>trac #19462: Typo</code></td></tr></table>\n",
    "created_at": "2015-10-23T18:35:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279199",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a8d9701a24ab0437ff4e8fbf517bb47443ef425">4a8d970</a></td><td><code>trac #19462: Typo</code></td></tr></table>




---

archive/issue_comments_279200.json:
```json
{
    "body": "Changed commit from **[7272942](https://github.com/sagemath/sagetrac-mirror/commit/7272942710a80866935ba073fe0e8697d7a3f137)** to **[4a8d970](https://github.com/sagemath/sagetrac-mirror/commit/4a8d9701a24ab0437ff4e8fbf517bb47443ef425)**",
    "created_at": "2015-10-23T18:35:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279200",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7272942](https://github.com/sagemath/sagetrac-mirror/commit/7272942710a80866935ba073fe0e8697d7a3f137)** to **[4a8d970](https://github.com/sagemath/sagetrac-mirror/commit/4a8d9701a24ab0437ff4e8fbf517bb47443ef425)**



---

archive/issue_comments_279201.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nOne simplification: Since your matrix has coefficient in a field, you can always normalize the rows. For each of them, choose the first coefficient which is nonzero, let say `a` and multiply your row by `1/a`. It gives a canonical representative of the row. Then, you just have to check that your normalized columns are distinct.\n\nThere might be already some code to do that somewhere... let me check.",
    "created_at": "2015-10-23T19:45:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279201",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'>Comment 4:</a>
One simplification: Since your matrix has coefficient in a field, you can always normalize the rows. For each of them, choose the first coefficient which is nonzero, let say `a` and multiply your row by `1/a`. It gives a canonical representative of the row. Then, you just have to check that your normalized columns are distinct.

There might be already some code to do that somewhere... let me check.



---

archive/issue_comments_279202.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\n> One simplification: Since your matrix has coefficient in a field\n\nWhy could I assume that the base ring is a field?\n\nNathann",
    "created_at": "2015-10-23T19:46:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279202",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'>Comment 5:</a>
> One simplification: Since your matrix has coefficient in a field

Why could I assume that the base ring is a field?

Nathann



---

archive/issue_comments_279203.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nUntil you review #6452, they will be...",
    "created_at": "2015-10-23T19:49:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279203",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'>Comment 6:</a>
Until you review #6452, they will be...



---

archive/issue_comments_279204.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI do not understand, could you say explicitly why we may be allowed to assume that the base ring is a field?",
    "created_at": "2015-10-23T19:57:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279204",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'>Comment 7:</a>
I do not understand, could you say explicitly why we may be allowed to assume that the base ring is a field?



---

archive/issue_comments_279205.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nCurrently in Sage you can only build linear codes over finite fields. The only tentative to generalize it (though only to the rings `ZZ/nZZ`) is #6452. Note that this ticket not add directly a new linear code function but rather focuses on having a nice class for submodules of `(ZZ/nZZ)^r` which is exactly what linear codes are about.\n\nAnd [wikipedia](https://en.wikipedia.org/wiki/Linear_code) says that linear code are over finite fields.\n\nEDIT: until the last paragraph where it is mentioned that some authors used linear code for code over rings.",
    "created_at": "2015-10-23T20:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279205",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'>Comment 8:</a>
Currently in Sage you can only build linear codes over finite fields. The only tentative to generalize it (though only to the rings `ZZ/nZZ`) is #6452. Note that this ticket not add directly a new linear code function but rather focuses on having a nice class for submodules of `(ZZ/nZZ)^r` which is exactly what linear codes are about.

And [wikipedia](https://en.wikipedia.org/wiki/Linear_code) says that linear code are over finite fields.

EDIT: until the last paragraph where it is mentioned that some authors used linear code for code over rings.



---

archive/issue_comments_279206.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nAnyway, you can do\n\n```\nif not self.base_ring() in Fields():\n    raise NotImplementedError\n```\nAnd if your field is `GF(2)` it should even be faster.\n\nCould you also add an example of **non** projective code?",
    "created_at": "2015-10-23T20:05:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279206",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'>Comment 9:</a>
Anyway, you can do

```
if not self.base_ring() in Fields():
    raise NotImplementedError
```
And if your field is `GF(2)` it should even be faster.

Could you also add an example of **non** projective code?



---

archive/issue_comments_279207.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nThe reason why I want to managed general rings is because the paper from which I took the definition (a link appears in the branch) explicitly mention rings. Thus I saw no reason to assume more.\n\nAlso, if we do assume that we have fields won't your patch -- that enables general rings for codes -- make this code invalid?\n\nNathann",
    "created_at": "2015-10-23T20:05:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279207",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'>Comment 10:</a>
The reason why I want to managed general rings is because the paper from which I took the definition (a link appears in the branch) explicitly mention rings. Thus I saw no reason to assume more.

Also, if we do assume that we have fields won't your patch -- that enables general rings for codes -- make this code invalid?

Nathann



---

archive/issue_comments_279208.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\n> Anyway, you can do\n> \n> ```\n> if not self.base_ring() in Fields():\n>     raise NotImplementedError\n> ```\n> And if your field is `GF(2)` it should even be faster.\n\nWhy on earth would you ask me to degrade my code to manage fields only, when it is meant to handle general rings and *you* tell me that rings will be supported by LinearCode eventually?\n\n> Could you also add an example of **non** projective code?\n\nIf you want.. I have to find one though...\n\nNathann",
    "created_at": "2015-10-23T20:07:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279208",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'>Comment 11:</a>
> Anyway, you can do
> 
> ```
> if not self.base_ring() in Fields():
>     raise NotImplementedError
> ```
> And if your field is `GF(2)` it should even be faster.

Why on earth would you ask me to degrade my code to manage fields only, when it is meant to handle general rings and *you* tell me that rings will be supported by LinearCode eventually?

> Could you also add an example of **non** projective code?

If you want.. I have to find one though...

Nathann



---

archive/issue_comments_279209.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nReplying to [@nathanncohen](#comment%3A11):\n> > Anyway, you can do\n> > \n> > ```\n> > if not self.base_ring() in Fields():\n> >     raise NotImplementedError\n> > ```\n> > And if your field is `GF(2)` it should even be faster.\n\n> \n> Why on earth would you ask me to degrade my code to manage fields only, when it is meant to handle general rings and *you* tell me that rings will be supported by LinearCode eventually?\n\nBecause checking duplicates in a list of size `|size of the field| x nrows` is longer than in a list of size `nrows`.\n\nI have no idea whether linear code over rings will be one day supported... ticket #6452 is just a first step. And I was just mentioning it to make some advertisement. But nobody cares.",
    "created_at": "2015-10-23T20:10:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279209",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'>Comment 12:</a>
Replying to [@nathanncohen](#comment%3A11):
> > Anyway, you can do
> > 
> > ```
> > if not self.base_ring() in Fields():
> >     raise NotImplementedError
> > ```
> > And if your field is `GF(2)` it should even be faster.

> 
> Why on earth would you ask me to degrade my code to manage fields only, when it is meant to handle general rings and *you* tell me that rings will be supported by LinearCode eventually?

Because checking duplicates in a list of size `|size of the field| x nrows` is longer than in a list of size `nrows`.

I have no idea whether linear code over rings will be one day supported... ticket #6452 is just a first step. And I was just mentioning it to make some advertisement. But nobody cares.



---

archive/issue_comments_279210.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\n> Because checking duplicates in a list of size `|size of the field| x nrows` is longer than in a list of size `nrows`.\n\nThis is a good justification for a field-specific version of this 5-lines algorithm. Not a justification for not supporting rings at all.\n\n> I have no idea whether linear code over rings will be one day supported... ticket #6452 is just a first step. And I was just mentioning it to make some advertisement. But nobody cares.\n\nI have no idea either, but unless it is written somewhere that we can assume fields only, you won't see me adding a code that assumes more than it should.\n\nNathann",
    "created_at": "2015-10-23T20:14:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279210",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'>Comment 13:</a>
> Because checking duplicates in a list of size `|size of the field| x nrows` is longer than in a list of size `nrows`.

This is a good justification for a field-specific version of this 5-lines algorithm. Not a justification for not supporting rings at all.

> I have no idea whether linear code over rings will be one day supported... ticket #6452 is just a first step. And I was just mentioning it to make some advertisement. But nobody cares.

I have no idea either, but unless it is written somewhere that we can assume fields only, you won't see me adding a code that assumes more than it should.

Nathann



---

archive/issue_comments_279211.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\n> And I was just mentioning it to make some advertisement. But nobody cares.\n\nTry to advertise it to people who you think should care. I review patches in less than three years, but on the other hand my field is graph theory. I forgot all I ever knew about rings.\n\nAbout this ticket: it seems that some part of the code 'assumes' that the ring is a field indeed:\n\n```\nsage: LinearCode(matrix.ones(IntegerModRing(6),5))\n...\nNotImplementedError: Echelon form not implemented over 'Ring of integers modulo 6'.\n```\n\nThough that is apparently because the 'rank' function is only implemented on fields. This notion exists on rings too, doesn't it? Though I expect that the definition would be pretty nasty `:-/`\n\n'on the paper', however:\n\n```\nsage: LinearCode(matrix.ones(IntegerModRing(3),5))\nLinear code of length 5, dimension 1 over Ring of integers modulo 3\n```\n\nThat's cheating, however, for\n\n```\nsage: IntegerModRing(3).is_field()\nTrue\n```\n\nNathann",
    "created_at": "2015-10-23T20:28:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279211",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'>Comment 14:</a>
> And I was just mentioning it to make some advertisement. But nobody cares.

Try to advertise it to people who you think should care. I review patches in less than three years, but on the other hand my field is graph theory. I forgot all I ever knew about rings.

About this ticket: it seems that some part of the code 'assumes' that the ring is a field indeed:

```
sage: LinearCode(matrix.ones(IntegerModRing(6),5))
...
NotImplementedError: Echelon form not implemented over 'Ring of integers modulo 6'.
```

Though that is apparently because the 'rank' function is only implemented on fields. This notion exists on rings too, doesn't it? Though I expect that the definition would be pretty nasty `:-/`

'on the paper', however:

```
sage: LinearCode(matrix.ones(IntegerModRing(3),5))
Linear code of length 5, dimension 1 over Ring of integers modulo 3
```

That's cheating, however, for

```
sage: IntegerModRing(3).is_field()
True
```

Nathann



---

archive/issue_comments_279212.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nAll of a sudden, however, I wonder about something... Given that the generator matrix is automatically replaced by a generator matrix with full rank, can this function return anything but 'True'?\n\nNathann",
    "created_at": "2015-10-23T20:30:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279212",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'>Comment 15:</a>
All of a sudden, however, I wonder about something... Given that the generator matrix is automatically replaced by a generator matrix with full rank, can this function return anything but 'True'?

Nathann



---

archive/issue_comments_279213.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [@nathanncohen](#comment%3A15):\n> All of a sudden, however, I wonder about something... Given that the generator matrix is automatically replaced by a generator matrix with full rank, can this function return anything but 'True'?\n\nAnyway, you should return\n\n```\nreturn len(set(RM)) == M.nrows()\n```\nto fit with the definition in the paper.",
    "created_at": "2015-10-23T21:05:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279213",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [@nathanncohen](#comment%3A15):
> All of a sudden, however, I wonder about something... Given that the generator matrix is automatically replaced by a generator matrix with full rank, can this function return anything but 'True'?

Anyway, you should return

```
return len(set(RM)) == M.nrows()
```
to fit with the definition in the paper.



---

archive/issue_comments_279214.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nAnd then\n\n```\nsage: sage: C = codes.LinearCode(matrix(GF(2),[[1,0,1],[1,1,1]]))\nsage: sage: C.is_projective()\nFalse\n```",
    "created_at": "2015-10-23T21:07:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279214",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'>Comment 17:</a>
And then

```
sage: sage: C = codes.LinearCode(matrix(GF(2),[[1,0,1],[1,1,1]]))
sage: sage: C.is_projective()
False
```



---

archive/issue_comments_279215.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nTrue. That got lost in the successive workaround of this mutable/immutable mess `>_<`\n\nNathann",
    "created_at": "2015-10-23T21:10:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279215",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:18'>Comment 18:</a>
True. That got lost in the successive workaround of this mutable/immutable mess `>_<`

Nathann



---

archive/issue_comments_279216.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/017089a65dc9ef2087762007590d43cde1832240\">017089a</a></td><td><code>trac #19462: Bugfix+doctest</code></td></tr></table>\n",
    "created_at": "2015-10-23T21:13:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279216",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/017089a65dc9ef2087762007590d43cde1832240">017089a</a></td><td><code>trac #19462: Bugfix+doctest</code></td></tr></table>




---

archive/issue_comments_279217.json:
```json
{
    "body": "Changed commit from **[4a8d970](https://github.com/sagemath/sagetrac-mirror/commit/4a8d9701a24ab0437ff4e8fbf517bb47443ef425)** to **[017089a](https://github.com/sagemath/sagetrac-mirror/commit/017089a65dc9ef2087762007590d43cde1832240)**",
    "created_at": "2015-10-23T21:13:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279217",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4a8d970](https://github.com/sagemath/sagetrac-mirror/commit/4a8d9701a24ab0437ff4e8fbf517bb47443ef425)** to **[017089a](https://github.com/sagemath/sagetrac-mirror/commit/017089a65dc9ef2087762007590d43cde1832240)**



---

archive/issue_comments_279218.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\ndedicated version for fields at `public/19462-bis`.",
    "created_at": "2015-10-23T21:40:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279218",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'>Comment 20:</a>
dedicated version for fields at `public/19462-bis`.



---

archive/issue_comments_279219.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\n`LinearCode` is beyond broken for rings. That the object cannot even be constructed is only the tip of the iceberg. The `ZZ/pZZ`-modules that Vincent implemented can form a base of a type of code over ring later on, but that will not inherit from `LinearCode` or `AbstractLinearCode` since there field assumption is everywhere. I don't know how much code sharing will be possible, but I doubt too much non-trivial code.\n\nAlso, I don't think it's high on anyone's list of priorities...\n\nI've also been discussing with David to change `LinearCode` so it doesn't\nmention rings anymore. It's stupid since they're clearly not supported.\n\nSo I agree with Vincent that it's nicer to have code run in linear time rather than quadratic.\n\nMoreover, I don't even think your code is correct over rings. Consider the\nfollowing generator matrix over ZZ mod 6:\n\n    [ 1  2  0 ]\n    [ 1  2  1 ]\n\nThis is clearly not projective since 2*c1 = c2.\nBut your code would compare\n\n    set([ c1 * (ZZ mod 6) ]) = { (0,0), (1, 1), (2,2), ..., (5,5) }\n    set([ c2 * (ZZ mod 6) ]) = { (0,0), (2,2), (4,4) }\n\nThus the check at the end would succeed, and you return `True`.",
    "created_at": "2015-10-23T21:41:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279219",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:21'>Comment 21:</a>
`LinearCode` is beyond broken for rings. That the object cannot even be constructed is only the tip of the iceberg. The `ZZ/pZZ`-modules that Vincent implemented can form a base of a type of code over ring later on, but that will not inherit from `LinearCode` or `AbstractLinearCode` since there field assumption is everywhere. I don't know how much code sharing will be possible, but I doubt too much non-trivial code.

Also, I don't think it's high on anyone's list of priorities...

I've also been discussing with David to change `LinearCode` so it doesn't
mention rings anymore. It's stupid since they're clearly not supported.

So I agree with Vincent that it's nicer to have code run in linear time rather than quadratic.

Moreover, I don't even think your code is correct over rings. Consider the
following generator matrix over ZZ mod 6:

    [ 1  2  0 ]
    [ 1  2  1 ]

This is clearly not projective since 2*c1 = c2.
But your code would compare

    set([ c1 * (ZZ mod 6) ]) = { (0,0), (1, 1), (2,2), ..., (5,5) }
    set([ c2 * (ZZ mod 6) ]) = { (0,0), (2,2), (4,4) }

Thus the check at the end would succeed, and you return `True`.



---

archive/issue_comments_279220.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nReplying to [@johanrosenkilde](#comment%3A21):\n> This is clearly not projective since 2*c1 = c2.\n\nIn the definition given in reference by Nathann, the condition is that `R c1 != R c2`... but of course, the definition is non-ambiguous over a field.\n\nVincent",
    "created_at": "2015-10-23T21:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279220",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'>Comment 22:</a>
Replying to [@johanrosenkilde](#comment%3A21):
> This is clearly not projective since 2*c1 = c2.

In the definition given in reference by Nathann, the condition is that `R c1 != R c2`... but of course, the definition is non-ambiguous over a field.

Vincent



---

archive/issue_comments_279221.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nAh, I see. Ok, so the code seems correct then :-)\n\nBut that's not what's usually understood by \"linearly independent\", I believe. If you, Nathann, insist on retaining the ring stuff, I suggest the definition be written out in full in the docstring (noone is going to look up a definition he believes he knows from high school).\n\nBest,\nJohan",
    "created_at": "2015-10-23T22:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279221",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:23'>Comment 23:</a>
Ah, I see. Ok, so the code seems correct then :-)

But that's not what's usually understood by "linearly independent", I believe. If you, Nathann, insist on retaining the ring stuff, I suggest the definition be written out in full in the docstring (noone is going to look up a definition he believes he knows from high school).

Best,
Johan



---

archive/issue_comments_279222.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nReplying to [@johanrosenkilde](#comment%3A23):\n> Ah, I see. Ok, so the code seems correct then :-)\n> \n> But that's not what's usually understood by \"linearly independent\", I believe. If you, Nathann, insist on retaining the ring stuff, I suggest the definition be written out in full in the docsring (noone is going to look up a definition he believes he knows from high school).\n\nyeah, I agree - even if one's high school linear algebra virginity has been lost to irresistible charms of commutative algebra, it's still quite unusual definition.",
    "created_at": "2015-10-23T22:51:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279222",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'>Comment 24:</a>
Replying to [@johanrosenkilde](#comment%3A23):
> Ah, I see. Ok, so the code seems correct then :-)
> 
> But that's not what's usually understood by "linearly independent", I believe. If you, Nathann, insist on retaining the ring stuff, I suggest the definition be written out in full in the docsring (noone is going to look up a definition he believes he knows from high school).

yeah, I agree - even if one's high school linear algebra virginity has been lost to irresistible charms of commutative algebra, it's still quite unusual definition.



---

archive/issue_comments_279223.json:
```json
{
    "body": "Changed commit from **[017089a](https://github.com/sagemath/sagetrac-mirror/commit/017089a65dc9ef2087762007590d43cde1832240)** to **[03f759a](https://github.com/sagemath/sagetrac-mirror/commit/03f759a5326645822fc56e0156487bcf4238fde0)**",
    "created_at": "2015-10-24T05:32:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279223",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[017089a](https://github.com/sagemath/sagetrac-mirror/commit/017089a65dc9ef2087762007590d43cde1832240)** to **[03f759a](https://github.com/sagemath/sagetrac-mirror/commit/03f759a5326645822fc56e0156487bcf4238fde0)**



---

archive/issue_comments_279224.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47d566defc92bb3ac9e7f7c8f4ac3e03965416dd\">47d566d</a></td><td><code>Trac 19461: optimized code for fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03f759a5326645822fc56e0156487bcf4238fde0\">03f759a</a></td><td><code>trac #19462: Enforce the unwritten assumption</code></td></tr></table>\n",
    "created_at": "2015-10-24T05:32:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279224",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>Comment 25:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47d566defc92bb3ac9e7f7c8f4ac3e03965416dd">47d566d</a></td><td><code>Trac 19461: optimized code for fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03f759a5326645822fc56e0156487bcf4238fde0">03f759a</a></td><td><code>trac #19462: Enforce the unwritten assumption</code></td></tr></table>




---

archive/issue_comments_279225.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nAnd actually in the reference Nathann gave, they consider codes over non-commutative finite rings! Which is indeed infinitely more general.\n\nNathann, for this version of the code, since you switched to a field implementation, could you adapt the documentation?",
    "created_at": "2015-10-24T12:26:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279225",
    "user": "https://github.com/videlec"
}
```

<a id='comment:26'>Comment 26:</a>
And actually in the reference Nathann gave, they consider codes over non-commutative finite rings! Which is indeed infinitely more general.

Nathann, for this version of the code, since you switched to a field implementation, could you adapt the documentation?



---

archive/issue_comments_279226.json:
```json
{
    "body": "Changed commit from **[03f759a](https://github.com/sagemath/sagetrac-mirror/commit/03f759a5326645822fc56e0156487bcf4238fde0)** to **[11e0f82](https://github.com/sagemath/sagetrac-mirror/commit/11e0f8295faa3497ad753728e2402932c2e4f362)**",
    "created_at": "2015-10-25T07:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279226",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[03f759a](https://github.com/sagemath/sagetrac-mirror/commit/03f759a5326645822fc56e0156487bcf4238fde0)** to **[11e0f82](https://github.com/sagemath/sagetrac-mirror/commit/11e0f8295faa3497ad753728e2402932c2e4f362)**



---

archive/issue_comments_279227.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11e0f8295faa3497ad753728e2402932c2e4f362\">11e0f82</a></td><td><code>trac #19462: ring->field</code></td></tr></table>\n",
    "created_at": "2015-10-25T07:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279227",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11e0f8295faa3497ad753728e2402932c2e4f362">11e0f82</a></td><td><code>trac #19462: ring->field</code></td></tr></table>




---

archive/issue_comments_279228.json:
```json
{
    "body": "Changed commit from **[11e0f82](https://github.com/sagemath/sagetrac-mirror/commit/11e0f8295faa3497ad753728e2402932c2e4f362)** to **[fc7e509](https://github.com/sagemath/sagetrac-mirror/commit/fc7e50975777e4f50e0c345cfdb0cf42f12740c5)**",
    "created_at": "2015-10-25T07:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279228",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[11e0f82](https://github.com/sagemath/sagetrac-mirror/commit/11e0f8295faa3497ad753728e2402932c2e4f362)** to **[fc7e509](https://github.com/sagemath/sagetrac-mirror/commit/fc7e50975777e4f50e0c345cfdb0cf42f12740c5)**



---

archive/issue_comments_279229.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc7e50975777e4f50e0c345cfdb0cf42f12740c5\">fc7e509</a></td><td><code>trac #19462: ring->field</code></td></tr></table>\n",
    "created_at": "2015-10-25T07:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279229",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:28'>Comment 28:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc7e50975777e4f50e0c345cfdb0cf42f12740c5">fc7e509</a></td><td><code>trac #19462: ring->field</code></td></tr></table>




---

archive/issue_events_248789.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-10-29T12:24:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19462#event-248789"
}
```



---

archive/issue_events_248790.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-10-29T12:24:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19462#event-248790"
}
```



---

archive/issue_comments_279230.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nGood to go!",
    "created_at": "2015-10-29T12:24:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279230",
    "user": "https://github.com/videlec"
}
```

<a id='comment:29'>Comment 29:</a>
Good to go!



---

archive/issue_comments_279231.json:
```json
{
    "body": "Reviewer: **Johan Sebastian Rosenkilde Nielsen, Vincent Delecroix**",
    "created_at": "2015-10-29T12:24:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279231",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Johan Sebastian Rosenkilde Nielsen, Vincent Delecroix**



---

archive/issue_comments_279232.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nThanks,\n\nNathann",
    "created_at": "2015-10-29T12:26:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279232",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:30'>Comment 30:</a>
Thanks,

Nathann



---

archive/issue_events_248791.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-29T16:34:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19462#event-248791"
}
```



---

archive/issue_events_248792.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4ca4f65ae1980e35b35b2014f3f6a686ea227ba2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-10-29T16:34:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19462#event-248792"
}
```



---

archive/issue_comments_279233.json:
```json
{
    "body": "Changed branch from **[public/19462](https://github.com/sagemath/sagetrac-mirror/tree/public/19462)** to **[fc7e509](https://github.com/sagemath/sagetrac-mirror/commit/fc7e50975777e4f50e0c345cfdb0cf42f12740c5)**",
    "created_at": "2015-10-29T16:34:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19462#issuecomment-279233",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/19462](https://github.com/sagemath/sagetrac-mirror/tree/public/19462)** to **[fc7e509](https://github.com/sagemath/sagetrac-mirror/commit/fc7e50975777e4f50e0c345cfdb0cf42f12740c5)**
