# Issue 19462: LinearCode.is_projective

archive/issues_019225.json:
```json
{
    "body": "As the title says, this branch adds a very short function to LinearCode.\n\nNathann\n\nCC:  @johanrosenkilde dlucas @dimpase\n\nBranch/Commit: fc7e50975777e4f50e0c345cfdb0cf42f12740c5\n\nReviewer: Johan Sebastian Rosenkilde Nielsen, Vincent Delecroix\n\nAuthor: Nathann Cohen\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19462\n\n",
    "closed_at": "2015-10-29T16:34:57Z",
    "created_at": "2015-10-23T12:21:30Z",
    "labels": [
        "component: coding theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "LinearCode.is_projective",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19462",
    "user": "https://github.com/nathanncohen"
}
```
As the title says, this branch adds a very short function to LinearCode.

Nathann

CC:  @johanrosenkilde dlucas @dimpase

Branch/Commit: fc7e50975777e4f50e0c345cfdb0cf42f12740c5

Reviewer: Johan Sebastian Rosenkilde Nielsen, Vincent Delecroix

Author: Nathann Cohen

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19462





---

archive/issue_comments_352068.json:
```json
{
    "body": "Changing branch from \"\" to \"public/19462\"",
    "created_at": "2015-10-23T12:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352068",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "public/19462"



---

archive/issue_comments_352069.json:
```json
{
    "body": "Changing commit from \"\" to \"7272942710a80866935ba073fe0e8697d7a3f137\"",
    "created_at": "2015-10-23T12:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352069",
    "user": "https://github.com/nathanncohen"
}
```

Changing commit from "" to "7272942710a80866935ba073fe0e8697d7a3f137"



---

archive/issue_comments_352070.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[7272942](https://github.com/sagemath/sagetrac-mirror/commit/7272942710a80866935ba073fe0e8697d7a3f137)|`trac #19462: LinearCode.is_projective`|",
    "created_at": "2015-10-23T12:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352070",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[7272942](https://github.com/sagemath/sagetrac-mirror/commit/7272942710a80866935ba073fe0e8697d7a3f137)|`trac #19462: LinearCode.is_projective`|



---

archive/issue_comments_352071.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-10-23T12:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352071",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_352072.json:
```json
{
    "body": "<a id='comment:2'></a>\nTypo in this line: \"[BS11] E, Byrne and A. Sneyd,\".  It should be \"[BS11] E. Byrne and A. Sneyd\"",
    "created_at": "2015-10-23T18:28:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352072",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:2'></a>
Typo in this line: "[BS11] E, Byrne and A. Sneyd,".  It should be "[BS11] E. Byrne and A. Sneyd"



---

archive/issue_comments_352073.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------|\n|[4a8d970](https://github.com/sagemath/sagetrac-mirror/commit/4a8d9701a24ab0437ff4e8fbf517bb47443ef425)|`trac #19462: Typo`|",
    "created_at": "2015-10-23T18:35:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352073",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
|[4a8d970](https://github.com/sagemath/sagetrac-mirror/commit/4a8d9701a24ab0437ff4e8fbf517bb47443ef425)|`trac #19462: Typo`|



---

archive/issue_comments_352074.json:
```json
{
    "body": "Changing commit from \"7272942710a80866935ba073fe0e8697d7a3f137\" to \"4a8d9701a24ab0437ff4e8fbf517bb47443ef425\"",
    "created_at": "2015-10-23T18:35:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352074",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7272942710a80866935ba073fe0e8697d7a3f137" to "4a8d9701a24ab0437ff4e8fbf517bb47443ef425"



---

archive/issue_comments_352075.json:
```json
{
    "body": "<a id='comment:4'></a>\nOne simplification: Since your matrix has coefficient in a field, you can always normalize the rows. For each of them, choose the first coefficient which is nonzero, let say `a` and multiply your row by `1/a`. It gives a canonical representative of the row. Then, you just have to check that your normalized columns are distinct.\n\nThere might be already some code to do that somewhere... let me check.",
    "created_at": "2015-10-23T19:45:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352075",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>
One simplification: Since your matrix has coefficient in a field, you can always normalize the rows. For each of them, choose the first coefficient which is nonzero, let say `a` and multiply your row by `1/a`. It gives a canonical representative of the row. Then, you just have to check that your normalized columns are distinct.

There might be already some code to do that somewhere... let me check.



---

archive/issue_comments_352076.json:
```json
{
    "body": "<a id='comment:5'></a>\n> One simplification: Since your matrix has coefficient in a field\n\n\nWhy could I assume that the base ring is a field?\n\nNathann",
    "created_at": "2015-10-23T19:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352076",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
> One simplification: Since your matrix has coefficient in a field


Why could I assume that the base ring is a field?

Nathann



---

archive/issue_comments_352077.json:
```json
{
    "body": "<a id='comment:6'></a>\nUntil you review #6452, they will be...",
    "created_at": "2015-10-23T19:49:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352077",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>
Until you review #6452, they will be...



---

archive/issue_comments_352078.json:
```json
{
    "body": "<a id='comment:7'></a>\nI do not understand, could you say explicitly why we may be allowed to assume that the base ring is a field?",
    "created_at": "2015-10-23T19:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352078",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>
I do not understand, could you say explicitly why we may be allowed to assume that the base ring is a field?



---

archive/issue_comments_352079.json:
```json
{
    "body": "<a id='comment:8'></a>\nCurrently in Sage you can only build linear codes over finite fields. The only tentative to generalize it (though only to the rings `ZZ/nZZ`) is #6452. Note that this ticket not add directly a new linear code function but rather focuses on having a nice class for submodules of `(ZZ/nZZ)^r` which is exactly what linear codes are about.\n\nAnd [wikipedia](https://en.wikipedia.org/wiki/Linear_code) says that linear code are over finite fields.\n\nEDIT: until the last paragraph where it is mentioned that some authors used linear code for code over rings.",
    "created_at": "2015-10-23T20:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352079",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>
Currently in Sage you can only build linear codes over finite fields. The only tentative to generalize it (though only to the rings `ZZ/nZZ`) is #6452. Note that this ticket not add directly a new linear code function but rather focuses on having a nice class for submodules of `(ZZ/nZZ)^r` which is exactly what linear codes are about.

And [wikipedia](https://en.wikipedia.org/wiki/Linear_code) says that linear code are over finite fields.

EDIT: until the last paragraph where it is mentioned that some authors used linear code for code over rings.



---

archive/issue_comments_352080.json:
```json
{
    "body": "<a id='comment:9'></a>\nAnyway, you can do\n\n```\nif not self.base_ring() in Fields():\n    raise NotImplementedError\n```\nAnd if your field is `GF(2)` it should even be faster.\n\nCould you also add an example of **non** projective code?",
    "created_at": "2015-10-23T20:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352080",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>
Anyway, you can do

```
if not self.base_ring() in Fields():
    raise NotImplementedError
```
And if your field is `GF(2)` it should even be faster.

Could you also add an example of **non** projective code?



---

archive/issue_comments_352081.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe reason why I want to managed general rings is because the paper from which I took the definition (a link appears in the branch) explicitly mention rings. Thus I saw no reason to assume more.\n\nAlso, if we do assume that we have fields won't your patch -- that enables general rings for codes -- make this code invalid?\n\nNathann",
    "created_at": "2015-10-23T20:05:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352081",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>
The reason why I want to managed general rings is because the paper from which I took the definition (a link appears in the branch) explicitly mention rings. Thus I saw no reason to assume more.

Also, if we do assume that we have fields won't your patch -- that enables general rings for codes -- make this code invalid?

Nathann



---

archive/issue_comments_352082.json:
```json
{
    "body": "<a id='comment:11'></a>\n> Anyway, you can do\n> \n> ```\n> if not self.base_ring() in Fields():\n>     raise NotImplementedError\n> ```\n> And if your field is `GF(2)` it should even be faster.\n\n\nWhy on earth would you ask me to degrade my code to manage fields only, when it is meant to handle general rings and *you* tell me that rings will be supported by LinearCode eventually?\n\n> Could you also add an example of **non** projective code?\n\n\nIf you want.. I have to find one though...\n\nNathann",
    "created_at": "2015-10-23T20:07:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352082",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>
> Anyway, you can do
> 
> ```
> if not self.base_ring() in Fields():
>     raise NotImplementedError
> ```
> And if your field is `GF(2)` it should even be faster.


Why on earth would you ask me to degrade my code to manage fields only, when it is meant to handle general rings and *you* tell me that rings will be supported by LinearCode eventually?

> Could you also add an example of **non** projective code?


If you want.. I have to find one though...

Nathann



---

archive/issue_comments_352083.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [ncohen](#comment%3A11):\n> > Anyway, you can do\n> > \n> > ```\n> > if not self.base_ring() in Fields():\n> >     raise NotImplementedError\n> > ```\n> > And if your field is `GF(2)` it should even be faster.\n\n> \n> Why on earth would you ask me to degrade my code to manage fields only, when it is meant to handle general rings and *you* tell me that rings will be supported by LinearCode eventually?\n\n\nBecause checking duplicates in a list of size `|size of the field| x nrows` is longer than in a list of size `nrows`.\n\nI have no idea whether linear code over rings will be one day supported... ticket #6452 is just a first step. And I was just mentioning it to make some advertisement. But nobody cares.",
    "created_at": "2015-10-23T20:10:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352083",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'></a>
Replying to [ncohen](#comment%3A11):
> > Anyway, you can do
> > 
> > ```
> > if not self.base_ring() in Fields():
> >     raise NotImplementedError
> > ```
> > And if your field is `GF(2)` it should even be faster.

> 
> Why on earth would you ask me to degrade my code to manage fields only, when it is meant to handle general rings and *you* tell me that rings will be supported by LinearCode eventually?


Because checking duplicates in a list of size `|size of the field| x nrows` is longer than in a list of size `nrows`.

I have no idea whether linear code over rings will be one day supported... ticket #6452 is just a first step. And I was just mentioning it to make some advertisement. But nobody cares.



---

archive/issue_comments_352084.json:
```json
{
    "body": "<a id='comment:13'></a>\n> Because checking duplicates in a list of size `|size of the field| x nrows` is longer than in a list of size `nrows`.\n\n\nThis is a good justification for a field-specific version of this 5-lines algorithm. Not a justification for not supporting rings at all.\n\n> I have no idea whether linear code over rings will be one day supported... ticket #6452 is just a first step. And I was just mentioning it to make some advertisement. But nobody cares.\n\n\nI have no idea either, but unless it is written somewhere that we can assume fields only, you won't see me adding a code that assumes more than it should.\n\nNathann",
    "created_at": "2015-10-23T20:14:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352084",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>
> Because checking duplicates in a list of size `|size of the field| x nrows` is longer than in a list of size `nrows`.


This is a good justification for a field-specific version of this 5-lines algorithm. Not a justification for not supporting rings at all.

> I have no idea whether linear code over rings will be one day supported... ticket #6452 is just a first step. And I was just mentioning it to make some advertisement. But nobody cares.


I have no idea either, but unless it is written somewhere that we can assume fields only, you won't see me adding a code that assumes more than it should.

Nathann



---

archive/issue_comments_352085.json:
```json
{
    "body": "<a id='comment:14'></a>\n> And I was just mentioning it to make some advertisement. But nobody cares.\n\n\nTry to advertise it to people who you think should care. I review patches in less than three years, but on the other hand my field is graph theory. I forgot all I ever knew about rings.\n\nAbout this ticket: it seems that some part of the code 'assumes' that the ring is a field indeed:\n\n```\nsage: LinearCode(matrix.ones(IntegerModRing(6),5))\n...\nNotImplementedError: Echelon form not implemented over 'Ring of integers modulo 6'.\n```\n\nThough that is apparently because the 'rank' function is only implemented on fields. This notion exists on rings too, doesn't it? Though I expect that the definition would be pretty nasty `:-/`\n\n'on the paper', however:\n\n```\nsage: LinearCode(matrix.ones(IntegerModRing(3),5))\nLinear code of length 5, dimension 1 over Ring of integers modulo 3\n```\n\nThat's cheating, however, for\n\n```\nsage: IntegerModRing(3).is_field()\nTrue\n```\n\nNathann",
    "created_at": "2015-10-23T20:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352085",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'></a>
> And I was just mentioning it to make some advertisement. But nobody cares.


Try to advertise it to people who you think should care. I review patches in less than three years, but on the other hand my field is graph theory. I forgot all I ever knew about rings.

About this ticket: it seems that some part of the code 'assumes' that the ring is a field indeed:

```
sage: LinearCode(matrix.ones(IntegerModRing(6),5))
...
NotImplementedError: Echelon form not implemented over 'Ring of integers modulo 6'.
```

Though that is apparently because the 'rank' function is only implemented on fields. This notion exists on rings too, doesn't it? Though I expect that the definition would be pretty nasty `:-/`

'on the paper', however:

```
sage: LinearCode(matrix.ones(IntegerModRing(3),5))
Linear code of length 5, dimension 1 over Ring of integers modulo 3
```

That's cheating, however, for

```
sage: IntegerModRing(3).is_field()
True
```

Nathann



---

archive/issue_comments_352086.json:
```json
{
    "body": "<a id='comment:15'></a>\nAll of a sudden, however, I wonder about something... Given that the generator matrix is automatically replaced by a generator matrix with full rank, can this function return anything but 'True'?\n\nNathann",
    "created_at": "2015-10-23T20:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352086",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>
All of a sudden, however, I wonder about something... Given that the generator matrix is automatically replaced by a generator matrix with full rank, can this function return anything but 'True'?

Nathann



---

archive/issue_comments_352087.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [ncohen](#comment%3A15):\n> All of a sudden, however, I wonder about something... Given that the generator matrix is automatically replaced by a generator matrix with full rank, can this function return anything but 'True'?\n\n\nAnyway, you should return\n\n```\nreturn len(set(RM)) == M.nrows()\n```\nto fit with the definition in the paper.",
    "created_at": "2015-10-23T21:05:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352087",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>
Replying to [ncohen](#comment%3A15):
> All of a sudden, however, I wonder about something... Given that the generator matrix is automatically replaced by a generator matrix with full rank, can this function return anything but 'True'?


Anyway, you should return

```
return len(set(RM)) == M.nrows()
```
to fit with the definition in the paper.



---

archive/issue_comments_352088.json:
```json
{
    "body": "<a id='comment:17'></a>\nAnd then\n\n```\nsage: sage: C = codes.LinearCode(matrix(GF(2),[[1,0,1],[1,1,1]]))\nsage: sage: C.is_projective()\nFalse\n```",
    "created_at": "2015-10-23T21:07:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352088",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'></a>
And then

```
sage: sage: C = codes.LinearCode(matrix(GF(2),[[1,0,1],[1,1,1]]))
sage: sage: C.is_projective()
False
```



---

archive/issue_comments_352089.json:
```json
{
    "body": "<a id='comment:18'></a>\nTrue. That got lost in the successive workaround of this mutable/immutable mess `>_<`\n\nNathann",
    "created_at": "2015-10-23T21:10:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352089",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:18'></a>
True. That got lost in the successive workaround of this mutable/immutable mess `>_<`

Nathann



---

archive/issue_comments_352090.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[017089a](https://github.com/sagemath/sagetrac-mirror/commit/017089a65dc9ef2087762007590d43cde1832240)|`trac #19462: Bugfix+doctest`|",
    "created_at": "2015-10-23T21:13:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352090",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[017089a](https://github.com/sagemath/sagetrac-mirror/commit/017089a65dc9ef2087762007590d43cde1832240)|`trac #19462: Bugfix+doctest`|



---

archive/issue_comments_352091.json:
```json
{
    "body": "Changing commit from \"4a8d9701a24ab0437ff4e8fbf517bb47443ef425\" to \"017089a65dc9ef2087762007590d43cde1832240\"",
    "created_at": "2015-10-23T21:13:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352091",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4a8d9701a24ab0437ff4e8fbf517bb47443ef425" to "017089a65dc9ef2087762007590d43cde1832240"



---

archive/issue_comments_352092.json:
```json
{
    "body": "<a id='comment:20'></a>\ndedicated version for fields at `public/19462-bis`.",
    "created_at": "2015-10-23T21:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352092",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'></a>
dedicated version for fields at `public/19462-bis`.



---

archive/issue_comments_352093.json:
```json
{
    "body": "<a id='comment:21'></a>\n`LinearCode` is beyond broken for rings. That the object cannot even be constructed is only the tip of the iceberg. The `ZZ/pZZ`-modules that Vincent implemented can form a base of a type of code over ring later on, but that will not inherit from `LinearCode` or `AbstractLinearCode` since there field assumption is everywhere. I don't know how much code sharing will be possible, but I doubt too much non-trivial code.\n\nAlso, I don't think it's high on anyone's list of priorities...\n\nI've also been discussing with David to change `LinearCode` so it doesn't\nmention rings anymore. It's stupid since they're clearly not supported.\n\nSo I agree with Vincent that it's nicer to have code run in linear time rather than quadratic.\n\nMoreover, I don't even think your code is correct over rings. Consider the\nfollowing generator matrix over ZZ mod 6:\n\n    [ 1  2  0 ]\n    [ 1  2  1 ]\n\nThis is clearly not projective since 2*c1 = c2.\nBut your code would compare\n\n    set([ c1 * (ZZ mod 6) ]) = { (0,0), (1, 1), (2,2), ..., (5,5) }\n    set([ c2 * (ZZ mod 6) ]) = { (0,0), (2,2), (4,4) }\n\nThus the check at the end would succeed, and you return `True`.",
    "created_at": "2015-10-23T21:41:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352093",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:21'></a>
`LinearCode` is beyond broken for rings. That the object cannot even be constructed is only the tip of the iceberg. The `ZZ/pZZ`-modules that Vincent implemented can form a base of a type of code over ring later on, but that will not inherit from `LinearCode` or `AbstractLinearCode` since there field assumption is everywhere. I don't know how much code sharing will be possible, but I doubt too much non-trivial code.

Also, I don't think it's high on anyone's list of priorities...

I've also been discussing with David to change `LinearCode` so it doesn't
mention rings anymore. It's stupid since they're clearly not supported.

So I agree with Vincent that it's nicer to have code run in linear time rather than quadratic.

Moreover, I don't even think your code is correct over rings. Consider the
following generator matrix over ZZ mod 6:

    [ 1  2  0 ]
    [ 1  2  1 ]

This is clearly not projective since 2*c1 = c2.
But your code would compare

    set([ c1 * (ZZ mod 6) ]) = { (0,0), (1, 1), (2,2), ..., (5,5) }
    set([ c2 * (ZZ mod 6) ]) = { (0,0), (2,2), (4,4) }

Thus the check at the end would succeed, and you return `True`.



---

archive/issue_comments_352094.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [jsrn](#comment%3A21):\n> This is clearly not projective since 2*c1 = c2.\n\n\nIn the definition given in reference by Nathann, the condition is that `R c1 != R c2`... but of course, the definition is non-ambiguous over a field.\n\nVincent",
    "created_at": "2015-10-23T21:49:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352094",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'></a>
Replying to [jsrn](#comment%3A21):
> This is clearly not projective since 2*c1 = c2.


In the definition given in reference by Nathann, the condition is that `R c1 != R c2`... but of course, the definition is non-ambiguous over a field.

Vincent



---

archive/issue_comments_352095.json:
```json
{
    "body": "<a id='comment:23'></a>\nAh, I see. Ok, so the code seems correct then :-)\n\nBut that's not what's usually understood by \"linearly independent\", I believe. If you, Nathann, insist on retaining the ring stuff, I suggest the definition be written out in full in the docstring (noone is going to look up a definition he believes he knows from high school).\n\nBest,\nJohan",
    "created_at": "2015-10-23T22:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352095",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:23'></a>
Ah, I see. Ok, so the code seems correct then :-)

But that's not what's usually understood by "linearly independent", I believe. If you, Nathann, insist on retaining the ring stuff, I suggest the definition be written out in full in the docstring (noone is going to look up a definition he believes he knows from high school).

Best,
Johan



---

archive/issue_comments_352096.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [jsrn](#comment%3A23):\n> Ah, I see. Ok, so the code seems correct then :-)\n> \n> But that's not what's usually understood by \"linearly independent\", I believe. If you, Nathann, insist on retaining the ring stuff, I suggest the definition be written out in full in the docsring (noone is going to look up a definition he believes he knows from high school).\n\n\nyeah, I agree - even if one's high school linear algebra virginity has been lost to irresistible charms of commutative algebra, it's still quite unusual definition.",
    "created_at": "2015-10-23T22:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352096",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>
Replying to [jsrn](#comment%3A23):
> Ah, I see. Ok, so the code seems correct then :-)
> 
> But that's not what's usually understood by "linearly independent", I believe. If you, Nathann, insist on retaining the ring stuff, I suggest the definition be written out in full in the docsring (noone is going to look up a definition he believes he knows from high school).


yeah, I agree - even if one's high school linear algebra virginity has been lost to irresistible charms of commutative algebra, it's still quite unusual definition.



---

archive/issue_comments_352097.json:
```json
{
    "body": "Changing commit from \"017089a65dc9ef2087762007590d43cde1832240\" to \"03f759a5326645822fc56e0156487bcf4238fde0\"",
    "created_at": "2015-10-24T05:32:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352097",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "017089a65dc9ef2087762007590d43cde1832240" to "03f759a5326645822fc56e0156487bcf4238fde0"



---

archive/issue_comments_352098.json:
```json
{
    "body": "<a id='comment:25'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[47d566d](https://github.com/sagemath/sagetrac-mirror/commit/47d566defc92bb3ac9e7f7c8f4ac3e03965416dd)|`Trac 19461: optimized code for fields`|\n|[03f759a](https://github.com/sagemath/sagetrac-mirror/commit/03f759a5326645822fc56e0156487bcf4238fde0)|`trac #19462: Enforce the unwritten assumption`|",
    "created_at": "2015-10-24T05:32:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[47d566d](https://github.com/sagemath/sagetrac-mirror/commit/47d566defc92bb3ac9e7f7c8f4ac3e03965416dd)|`Trac 19461: optimized code for fields`|
|[03f759a](https://github.com/sagemath/sagetrac-mirror/commit/03f759a5326645822fc56e0156487bcf4238fde0)|`trac #19462: Enforce the unwritten assumption`|



---

archive/issue_comments_352099.json:
```json
{
    "body": "<a id='comment:26'></a>\nAnd actually in the reference Nathann gave, they consider codes over non-commutative finite rings! Which is indeed infinitely more general.\n\nNathann, for this version of the code, since you switched to a field implementation, could you adapt the documentation?",
    "created_at": "2015-10-24T12:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352099",
    "user": "https://github.com/videlec"
}
```

<a id='comment:26'></a>
And actually in the reference Nathann gave, they consider codes over non-commutative finite rings! Which is indeed infinitely more general.

Nathann, for this version of the code, since you switched to a field implementation, could you adapt the documentation?



---

archive/issue_comments_352100.json:
```json
{
    "body": "Changing commit from \"03f759a5326645822fc56e0156487bcf4238fde0\" to \"11e0f8295faa3497ad753728e2402932c2e4f362\"",
    "created_at": "2015-10-25T07:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352100",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "03f759a5326645822fc56e0156487bcf4238fde0" to "11e0f8295faa3497ad753728e2402932c2e4f362"



---

archive/issue_comments_352101.json:
```json
{
    "body": "<a id='comment:27'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[11e0f82](https://github.com/sagemath/sagetrac-mirror/commit/11e0f8295faa3497ad753728e2402932c2e4f362)|`trac #19462: ring->field`|",
    "created_at": "2015-10-25T07:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352101",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                          |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[11e0f82](https://github.com/sagemath/sagetrac-mirror/commit/11e0f8295faa3497ad753728e2402932c2e4f362)|`trac #19462: ring->field`|



---

archive/issue_comments_352102.json:
```json
{
    "body": "Changing commit from \"11e0f8295faa3497ad753728e2402932c2e4f362\" to \"fc7e50975777e4f50e0c345cfdb0cf42f12740c5\"",
    "created_at": "2015-10-25T07:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352102",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "11e0f8295faa3497ad753728e2402932c2e4f362" to "fc7e50975777e4f50e0c345cfdb0cf42f12740c5"



---

archive/issue_comments_352103.json:
```json
{
    "body": "<a id='comment:28'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[fc7e509](https://github.com/sagemath/sagetrac-mirror/commit/fc7e50975777e4f50e0c345cfdb0cf42f12740c5)|`trac #19462: ring->field`|",
    "created_at": "2015-10-25T07:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352103",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                          |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[fc7e509](https://github.com/sagemath/sagetrac-mirror/commit/fc7e50975777e4f50e0c345cfdb0cf42f12740c5)|`trac #19462: ring->field`|



---

archive/issue_comments_352104.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-29T12:24:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352104",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_352105.json:
```json
{
    "body": "<a id='comment:29'></a>\nGood to go!",
    "created_at": "2015-10-29T12:24:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352105",
    "user": "https://github.com/videlec"
}
```

<a id='comment:29'></a>
Good to go!



---

archive/issue_comments_352106.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Johan Sebastian Rosenkilde Nielsen, Vincent Delecroix\"",
    "created_at": "2015-10-29T12:24:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352106",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Johan Sebastian Rosenkilde Nielsen, Vincent Delecroix"



---

archive/issue_comments_352107.json:
```json
{
    "body": "<a id='comment:30'></a>\nThanks,\n\nNathann",
    "created_at": "2015-10-29T12:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352107",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:30'></a>
Thanks,

Nathann



---

archive/issue_events_061062.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-29T16:34:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19462#event-61062"
}
```



---

archive/issue_comments_352108.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-10-29T16:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352108",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_352109.json:
```json
{
    "body": "Changing branch from \"public/19462\" to \"fc7e50975777e4f50e0c345cfdb0cf42f12740c5\"",
    "created_at": "2015-10-29T16:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19462#issuecomment-352109",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/19462" to "fc7e50975777e4f50e0c345cfdb0cf42f12740c5"
