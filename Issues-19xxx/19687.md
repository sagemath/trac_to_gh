# Issue 19687: upgrade cvxopt to version 1.1.8

archive/issues_019450.json:
```json
{
    "assignees": [],
    "body": "this is the current stable version\n\nThe tarball is here: http://users.ox.ac.uk/~coml0531/sage/cvxopt-1.1.8.tar.gz\n\nI removed html docs from the source (https://github.com/cvxopt/cvxopt/archive/1.1.8.tar.gz) to make it smaller.\n\n**CC:**  @jdemeyer @nathanncohen\n\n**Branch/Commit:** [79784f35dbb0752f160492dd574813e7e527f155](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)\n\n**Upstream:** Fixed upstream, but not in a stable release.\n\n**Reviewer:** Fran\u00e7ois Bissey\n\n**Author:** Dima Pasechnik\n\nIssue created by migration from https://trac.sagemath.org/ticket/19687\n\n",
    "closed_at": "2015-12-23T11:06:35Z",
    "created_at": "2015-12-09T21:52:21Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "upgrade cvxopt to version 1.1.8",
    "type": "issue",
    "updated_at": "2015-12-23T11:06:35Z",
    "url": "https://github.com/sagemath/sage/issues/19687",
    "user": "https://github.com/dimpase"
}
```
this is the current stable version

The tarball is here: http://users.ox.ac.uk/~coml0531/sage/cvxopt-1.1.8.tar.gz

I removed html docs from the source (https://github.com/cvxopt/cvxopt/archive/1.1.8.tar.gz) to make it smaller.

**CC:**  @jdemeyer @nathanncohen

**Branch/Commit:** [79784f35dbb0752f160492dd574813e7e527f155](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)

**Upstream:** Fixed upstream, but not in a stable release.

**Reviewer:** François Bissey

**Author:** Dima Pasechnik

Issue created by migration from https://trac.sagemath.org/ticket/19687





---

archive/issue_events_240459.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-09T21:52:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240459"
}
```



---

archive/issue_events_240460.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-09T21:52:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "08517b",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240460"
}
```



---

archive/issue_events_240461.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-09T21:52:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240461"
}
```



---

archive/issue_comments_283629.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n this is the current stable version\n+\n+The tarball is here: http://users.ox.ac.uk/~coml0531/sage/cvxopt-1.1.8.tar.gz\n+\n+I removed html docs from the source (https://github.com/cvxopt/cvxopt/archive/1.1.8.tar.gz) to make it smaller.\n``````\n",
    "created_at": "2015-12-09T22:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283629",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 this is the current stable version
+
+The tarball is here: http://users.ox.ac.uk/~coml0531/sage/cvxopt-1.1.8.tar.gz
+
+I removed html docs from the source (https://github.com/cvxopt/cvxopt/archive/1.1.8.tar.gz) to make it smaller.
``````




---

archive/issue_comments_283630.json:
```json
{
    "body": "**Branch:** [u/dimpase/19687](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/19687)",
    "created_at": "2015-12-09T22:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283630",
    "user": "https://github.com/dimpase"
}
```

**Branch:** [u/dimpase/19687](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/19687)



---

archive/issue_events_240462.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-09T22:24:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240462"
}
```



---

archive/issue_comments_283631.json:
```json
{
    "body": "<a id='comment:1'>**Comment 1:**</a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5\">c040534</a></td><td><code>update to 1.1.8</code></td></tr></table>\n",
    "created_at": "2015-12-09T22:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283631",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'>**Comment 1:**</a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5">c040534</a></td><td><code>update to 1.1.8</code></td></tr></table>




---

archive/issue_comments_283632.json:
```json
{
    "body": "**Commit:** [c0405346c6d4d57f0c57e9822f20198fc2ccbfc5](https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5)",
    "created_at": "2015-12-09T22:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283632",
    "user": "https://github.com/dimpase"
}
```

**Commit:** [c0405346c6d4d57f0c57e9822f20198fc2ccbfc5](https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5)



---

archive/issue_events_240463.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-12-11T20:38:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240463"
}
```



---

archive/issue_events_240464.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-12-11T20:38:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240464"
}
```



---

archive/issue_comments_283633.json:
```json
{
    "body": "**Reviewer:** Fran\u00e7ois Bissey",
    "created_at": "2015-12-11T20:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283633",
    "user": "https://github.com/kiwifb"
}
```

**Reviewer:** François Bissey



---

archive/issue_comments_283634.json:
```json
{
    "body": "<a id='comment:2'>**Comment 2:**</a>\nLooks good to me. No doctest broken on linux x86_64.",
    "created_at": "2015-12-11T20:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283634",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:2'>**Comment 2:**</a>
Looks good to me. No doctest broken on linux x86_64.



---

archive/issue_comments_283635.json:
```json
{
    "body": "<a id='comment:3'>**Comment 3:**</a>\nOn older linux (Ubuntu 12.04) I get \n\n```\nImportError: /mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cvxopt/amd.so: undefined symbol: clock_gettime\n```\naccording to man page, needs to \"link with -lrt (only for glibc versions before 2.17)\" but does not.",
    "created_at": "2015-12-21T19:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283635",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'>**Comment 3:**</a>
On older linux (Ubuntu 12.04) I get 

```
ImportError: /mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cvxopt/amd.so: undefined symbol: clock_gettime
```
according to man page, needs to "link with -lrt (only for glibc versions before 2.17)" but does not.



---

archive/issue_events_240465.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-21T19:02:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240465"
}
```



---

archive/issue_events_240466.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-21T19:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240466"
}
```



---

archive/issue_comments_283636.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nUpstream probably doesn't build on older machines. Should be trivial to fix.",
    "created_at": "2015-12-21T19:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283636",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'>**Comment 5:**</a>
Upstream probably doesn't build on older machines. Should be trivial to fix.



---

archive/issue_comments_283637.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\nReplying to [@vbraun](#comment%3A3):\n> On older linux (Ubuntu 12.04) I get \n> \n> ```\n> ImportError: /mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cvxopt/amd.so: undefined symbol: clock_gettime\n> ```\n> according to man page, needs to \"link with -lrt (only for glibc versions before 2.17)\" but does not.\n\nIt does not seem that testing glibc version tells you the right thing. Indeed, on Ubuntu 14.04, where this all works, I see\n\n```\n>>> import platform\n>>> platform.libc_ver() \n('glibc', '2.4')\n```\nAnd I don't even have librt. I will just add it unconditionally, for every Linux...",
    "created_at": "2015-12-21T20:50:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283637",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'>**Comment 6:**</a>
Replying to [@vbraun](#comment%3A3):
> On older linux (Ubuntu 12.04) I get 
> 
> ```
> ImportError: /mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cvxopt/amd.so: undefined symbol: clock_gettime
> ```
> according to man page, needs to "link with -lrt (only for glibc versions before 2.17)" but does not.

It does not seem that testing glibc version tells you the right thing. Indeed, on Ubuntu 14.04, where this all works, I see

```
>>> import platform
>>> platform.libc_ver() 
('glibc', '2.4')
```
And I don't even have librt. I will just add it unconditionally, for every Linux...



---

archive/issue_comments_283638.json:
```json
{
    "body": "**Changing commit** from \"[c0405346c6d4d57f0c57e9822f20198fc2ccbfc5](https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5)\" to \"[6390e86c33b9fdd7c47ee15592277ac7432926bb](https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb)\".",
    "created_at": "2015-12-21T20:55:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283638",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[c0405346c6d4d57f0c57e9822f20198fc2ccbfc5](https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5)" to "[6390e86c33b9fdd7c47ee15592277ac7432926bb](https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb)".



---

archive/issue_comments_283639.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c1e90dd081b4c239f1e765d1bec702f6fcf0adb\">8c1e90d</a></td><td><code>update to 1.1.8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb\">6390e86</a></td><td><code>add 'rt' to libs on linux</code></td></tr></table>\n",
    "created_at": "2015-12-21T20:55:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283639",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>**Comment 7:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c1e90dd081b4c239f1e765d1bec702f6fcf0adb">8c1e90d</a></td><td><code>update to 1.1.8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb">6390e86</a></td><td><code>add 'rt' to libs on linux</code></td></tr></table>




---

archive/issue_events_240467.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-21T20:57:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240467"
}
```



---

archive/issue_events_240468.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-21T20:57:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240468"
}
```



---

archive/issue_events_240469.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-21T20:57:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240469"
}
```



---

archive/issue_events_240470.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-21T20:57:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240470"
}
```



---

archive/issue_comments_283640.json:
```json
{
    "body": "**Upstream:** Not yet reported upstream; Will do shortly.",
    "created_at": "2015-12-21T20:57:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283640",
    "user": "https://github.com/dimpase"
}
```

**Upstream:** Not yet reported upstream; Will do shortly.



---

archive/issue_comments_283641.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\nWrong solution\n\n```\nif SUITESPARSE_EXT_LIB:\n    amd = Extension('amd',\n        libraries = ['amd','suitesparseconfig'],\n        include_dirs = [SUITESPARSE_INC_DIR],\n        library_dirs = [SUITESPARSE_LIB_DIR],\n        sources = ['src/C/amd.c'])\nelse:\n    amd = Extension('amd', \n        include_dirs = [ 'src/C/SuiteSparse/AMD/Include', \n            'src/C/SuiteSparse/SuiteSparse_config' ],\n        define_macros = MACROS,\n        sources = [ 'src/C/amd.c', 'src/C/SuiteSparse/SuiteSparse_config/SuiteSparse_config.c'] +\n        glob('src/C/SuiteSparse/AMD/Source/*.c') )\n```\nThe `amd` extension doesn't use `libraries` so I would be surprised if it worked by adding it to `BLAS_LIBS`.",
    "created_at": "2015-12-21T21:02:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283641",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:9'>**Comment 9:**</a>
Wrong solution

```
if SUITESPARSE_EXT_LIB:
    amd = Extension('amd',
        libraries = ['amd','suitesparseconfig'],
        include_dirs = [SUITESPARSE_INC_DIR],
        library_dirs = [SUITESPARSE_LIB_DIR],
        sources = ['src/C/amd.c'])
else:
    amd = Extension('amd', 
        include_dirs = [ 'src/C/SuiteSparse/AMD/Include', 
            'src/C/SuiteSparse/SuiteSparse_config' ],
        define_macros = MACROS,
        sources = [ 'src/C/amd.c', 'src/C/SuiteSparse/SuiteSparse_config/SuiteSparse_config.c'] +
        glob('src/C/SuiteSparse/AMD/Source/*.c') )
```
The `amd` extension doesn't use `libraries` so I would be surprised if it worked by adding it to `BLAS_LIBS`.



---

archive/issue_comments_283642.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2\">fdaeefa</a></td><td><code>add libs='rt' to amd ext.</code></td></tr></table>\n",
    "created_at": "2015-12-21T21:57:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283642",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>**Comment 10:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2">fdaeefa</a></td><td><code>add libs='rt' to amd ext.</code></td></tr></table>




---

archive/issue_comments_283643.json:
```json
{
    "body": "**Changing commit** from \"[6390e86c33b9fdd7c47ee15592277ac7432926bb](https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb)\" to \"[fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2](https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2)\".",
    "created_at": "2015-12-21T21:57:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283643",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[6390e86c33b9fdd7c47ee15592277ac7432926bb](https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb)" to "[fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2](https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2)".



---

archive/issue_comments_283644.json:
```json
{
    "body": "<a id='comment:11'>**Comment 11:**</a>\nright, it should have gone to the amd Extension chunk, sorry.\nThe patch is longer, as I fixed all the fizz, by cloning https://github.com/cvxopt/cvxopt\nand making a new patch using the old one.\nThen I just added `libraries=['rt']` unconditionally there -- should this be done for Linux only?",
    "created_at": "2015-12-21T22:00:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283644",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'>**Comment 11:**</a>
right, it should have gone to the amd Extension chunk, sorry.
The patch is longer, as I fixed all the fizz, by cloning https://github.com/cvxopt/cvxopt
and making a new patch using the old one.
Then I just added `libraries=['rt']` unconditionally there -- should this be done for Linux only?



---

archive/issue_comments_283645.json:
```json
{
    "body": "<a id='comment:12'>**Comment 12:**</a>\nNo `librt` on OS X as far as I can tell, I don't know about cygwin. I would restrict it.",
    "created_at": "2015-12-21T22:03:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283645",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'>**Comment 12:**</a>
No `librt` on OS X as far as I can tell, I don't know about cygwin. I would restrict it.



---

archive/issue_comments_283646.json:
```json
{
    "body": "<a id='comment:13'>**Comment 13:**</a>\n`clock_gettime` is not in the `AMD` code it is in the `SuiteSparse_config` I am checking the implications.",
    "created_at": "2015-12-21T22:14:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283646",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:13'>**Comment 13:**</a>
`clock_gettime` is not in the `AMD` code it is in the `SuiteSparse_config` I am checking the implications.



---

archive/issue_comments_283647.json:
```json
{
    "body": "**Changing commit** from \"[fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2](https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2)\" to \"[4b91b98e94b44d0559c97500eff70747cdf15271](https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271)\".",
    "created_at": "2015-12-21T22:23:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283647",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2](https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2)" to "[4b91b98e94b44d0559c97500eff70747cdf15271](https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271)".



---

archive/issue_comments_283648.json:
```json
{
    "body": "<a id='comment:14'>**Comment 14:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271\">4b91b98</a></td><td><code>add libs='rt' to amd ext (on linux only)</code></td></tr></table>\n",
    "created_at": "2015-12-21T22:23:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283648",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>**Comment 14:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271">4b91b98</a></td><td><code>add libs='rt' to amd ext (on linux only)</code></td></tr></table>




---

archive/issue_comments_283649.json:
```json
{
    "body": "<a id='comment:15'>**Comment 15:**</a>\nReplying to [@kiwifb](#comment%3A13):\n> `clock_gettime` is not in the `AMD` code it is in the `SuiteSparse_config` I am checking the implications.\n\nwell, the import error is in `amd.so`, and `src/C/SuiteSparse/SuiteSparse_config/SuiteSparse_config.c`\ngets complied into the amd extension. So this looks right what I do now...",
    "created_at": "2015-12-21T22:33:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283649",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'>**Comment 15:**</a>
Replying to [@kiwifb](#comment%3A13):
> `clock_gettime` is not in the `AMD` code it is in the `SuiteSparse_config` I am checking the implications.

well, the import error is in `amd.so`, and `src/C/SuiteSparse/SuiteSparse_config/SuiteSparse_config.c`
gets complied into the amd extension. So this looks right what I do now...



---

archive/issue_comments_283650.json:
```json
{
    "body": "**Changing commit** from \"[4b91b98e94b44d0559c97500eff70747cdf15271](https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271)\" to \"[e8c1e0a82f06364975b9b9f91c69de2443c9ad10](https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10)\".",
    "created_at": "2015-12-21T22:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283650",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[4b91b98e94b44d0559c97500eff70747cdf15271](https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271)" to "[e8c1e0a82f06364975b9b9f91c69de2443c9ad10](https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10)".



---

archive/issue_comments_283651.json:
```json
{
    "body": "<a id='comment:16'>**Comment 16:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10\">e8c1e0a</a></td><td><code>add libs='rt' to amd ext (on linux only)</code></td></tr></table>\n",
    "created_at": "2015-12-21T22:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283651",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>**Comment 16:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10">e8c1e0a</a></td><td><code>add libs='rt' to amd ext (on linux only)</code></td></tr></table>




---

archive/issue_comments_283652.json:
```json
{
    "body": "<a id='comment:17'>**Comment 17:**</a>\nVolker reported one failure, there may be other hidden behind the first one. That file is also included in `cholmod` and `umfpack` so they are potentially affected too. However the code should only be enabled if `SUITESPARSE_TIMER_ENABLED` is defined, in turn it depends on whether `NTIMER` is defined (which it is for `cholmod` and `umfpack` so in the end they won't be affected). A better solution in my opinion is to add `[('NTIMER', '1')]` to the line `define_macros` for the `amd` section.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10\">e8c1e0a</a></td><td><code>add libs='rt' to amd ext (on linux only)</code></td></tr></table>\n",
    "created_at": "2015-12-21T22:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283652",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:17'>**Comment 17:**</a>
Volker reported one failure, there may be other hidden behind the first one. That file is also included in `cholmod` and `umfpack` so they are potentially affected too. However the code should only be enabled if `SUITESPARSE_TIMER_ENABLED` is defined, in turn it depends on whether `NTIMER` is defined (which it is for `cholmod` and `umfpack` so in the end they won't be affected). A better solution in my opinion is to add `[('NTIMER', '1')]` to the line `define_macros` for the `amd` section.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10">e8c1e0a</a></td><td><code>add libs='rt' to amd ext (on linux only)</code></td></tr></table>




---

archive/issue_comments_283653.json:
```json
{
    "body": "<a id='comment:18'>**Comment 18:**</a>\nadding things like `[('NTIMER', '1')]` looks like going too far, as you're changing the behaviour of upstream code this way...",
    "created_at": "2015-12-21T23:03:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283653",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'>**Comment 18:**</a>
adding things like `[('NTIMER', '1')]` looks like going too far, as you're changing the behaviour of upstream code this way...



---

archive/issue_comments_283654.json:
```json
{
    "body": "<a id='comment:19'>**Comment 19:**</a>\nI don't think `cvxopt` cares about timing of the code, in fact `SuiteSparse_{tic,toc,time}` are used nowhere in `AMD`'s code. It is only enabled as part of `SuiteSparse_config.c` by accident I would argue. In contrast `cholmod` and `umfpack` have code that can use `SuiteSparse_time` and it is disabled on purpose in those. Those function are only used to measure performance, I don't think `cvxopt` would be doing it that way, if it was interested in measuring the performance of the `SuiteSparse` code.",
    "created_at": "2015-12-21T23:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283654",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:19'>**Comment 19:**</a>
I don't think `cvxopt` cares about timing of the code, in fact `SuiteSparse_{tic,toc,time}` are used nowhere in `AMD`'s code. It is only enabled as part of `SuiteSparse_config.c` by accident I would argue. In contrast `cholmod` and `umfpack` have code that can use `SuiteSparse_time` and it is disabled on purpose in those. Those function are only used to measure performance, I don't think `cvxopt` would be doing it that way, if it was interested in measuring the performance of the `SuiteSparse` code.



---

archive/issue_comments_283655.json:
```json
{
    "body": "<a id='comment:20'>**Comment 20:**</a>\nI would further argue that we should point to upstream that unless they want to use those timing functions in the future, `NTIMER` should be in the default macros variable that is currently empty.",
    "created_at": "2015-12-21T23:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283655",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:20'>**Comment 20:**</a>
I would further argue that we should point to upstream that unless they want to use those timing functions in the future, `NTIMER` should be in the default macros variable that is currently empty.



---

archive/issue_comments_283656.json:
```json
{
    "body": "<a id='comment:21'>**Comment 21:**</a>\nI just asked upstream [here](https://groups.google.com/d/msg/cvxopt/G57kX4Ocw0I/GDpeHcGlBwAJ) on this.",
    "created_at": "2015-12-21T23:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283656",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'>**Comment 21:**</a>
I just asked upstream [here](https://groups.google.com/d/msg/cvxopt/G57kX4Ocw0I/GDpeHcGlBwAJ) on this.



---

archive/issue_comments_283657.json:
```json
{
    "body": "**Changing upstream** from \"Not yet reported upstream; Will do shortly.\" to \"Reported upstream. No feedback yet.\".",
    "created_at": "2015-12-21T23:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283657",
    "user": "https://github.com/dimpase"
}
```

**Changing upstream** from "Not yet reported upstream; Will do shortly." to "Reported upstream. No feedback yet.".



---

archive/issue_comments_283658.json:
```json
{
    "body": "<a id='comment:22'>**Comment 22:**</a>\nOK, I'll add an argument: \n`SuiteSparse_config.c` is not part of `amd`'s sources. If you were using an external `suitesparse` install, you would have a `suitesparse_config` library and `amd` would get the functions from this library as needed. But here we have a custom system that makes `SuiteSparse_config.c` a part of the used `amd` source code and including all the function of `SuiteSparse_config.c` instead of just the one needed by `amd`. That include the timing functions.",
    "created_at": "2015-12-21T23:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283658",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:22'>**Comment 22:**</a>
OK, I'll add an argument: 
`SuiteSparse_config.c` is not part of `amd`'s sources. If you were using an external `suitesparse` install, you would have a `suitesparse_config` library and `amd` would get the functions from this library as needed. But here we have a custom system that makes `SuiteSparse_config.c` a part of the used `amd` source code and including all the function of `SuiteSparse_config.c` instead of just the one needed by `amd`. That include the timing functions.



---

archive/issue_comments_283659.json:
```json
{
    "body": "<a id='comment:23'>**Comment 23:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155\">79784f3</a></td><td><code>fix building amd ext</code></td></tr></table>\n",
    "created_at": "2015-12-22T19:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283659",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'>**Comment 23:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155">79784f3</a></td><td><code>fix building amd ext</code></td></tr></table>




---

archive/issue_comments_283660.json:
```json
{
    "body": "**Changing commit** from \"[e8c1e0a82f06364975b9b9f91c69de2443c9ad10](https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10)\" to \"[79784f35dbb0752f160492dd574813e7e527f155](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)\".",
    "created_at": "2015-12-22T19:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283660",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[e8c1e0a82f06364975b9b9f91c69de2443c9ad10](https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10)" to "[79784f35dbb0752f160492dd574813e7e527f155](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)".



---

archive/issue_comments_283661.json:
```json
{
    "body": "**Changing upstream** from \"Reported upstream. No feedback yet.\" to \"Fixed upstream, but not in a stable release.\".",
    "created_at": "2015-12-22T19:39:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283661",
    "user": "https://github.com/dimpase"
}
```

**Changing upstream** from "Reported upstream. No feedback yet." to "Fixed upstream, but not in a stable release.".



---

archive/issue_comments_283662.json:
```json
{
    "body": "<a id='comment:24'>**Comment 24:**</a>\nindeed, that was the right suggestion for the fix. The upstream fixed this in dev [here](https://github.com/cvxopt/cvxopt/commit/9d55fa22ec849d460444fa08d17a841f5b3e06c1?diff=unified) 3 weeks ago...\n\nplease see the latest commit update. \n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155\">79784f3</a></td><td><code>fix building amd ext</code></td></tr></table>\n",
    "created_at": "2015-12-22T19:39:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283662",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'>**Comment 24:**</a>
indeed, that was the right suggestion for the fix. The upstream fixed this in dev [here](https://github.com/cvxopt/cvxopt/commit/9d55fa22ec849d460444fa08d17a841f5b3e06c1?diff=unified) 3 weeks ago...

please see the latest commit update. 

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155">79784f3</a></td><td><code>fix building amd ext</code></td></tr></table>




---

archive/issue_comments_283663.json:
```json
{
    "body": "<a id='comment:25'>**Comment 25:**</a>\nI am happy with that resolution. Back to positive review.",
    "created_at": "2015-12-22T19:41:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283663",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:25'>**Comment 25:**</a>
I am happy with that resolution. Back to positive review.



---

archive/issue_events_240471.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-12-22T19:41:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240471"
}
```



---

archive/issue_events_240472.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-12-22T19:41:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240472"
}
```



---

archive/issue_comments_283664.json:
```json
{
    "body": "**Changing branch** from \"[u/dimpase/19687](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/19687)\" to \"[79784f35dbb0752f160492dd574813e7e527f155](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)\".",
    "created_at": "2015-12-23T11:06:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-283664",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/dimpase/19687](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/19687)" to "[79784f35dbb0752f160492dd574813e7e527f155](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)".



---

archive/issue_events_240473.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-23T11:06:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240473"
}
```



---

archive/issue_events_240474.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "31096e16a7e494738b323dae4740b8b32df0c9f2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-12-23T11:06:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-240474"
}
```
