# Issue 19687: upgrade cvxopt to version 1.1.8

archive/issues_019450.json:
```json
{
    "assignees": [],
    "body": "this is the current stable version\n\nThe tarball is here: http://users.ox.ac.uk/~coml0531/sage/cvxopt-1.1.8.tar.gz\n\nI removed html docs from the source (https://github.com/cvxopt/cvxopt/archive/1.1.8.tar.gz) to make it smaller.\n\nCC:  @jdemeyer @nathanncohen\n\nBranch/Commit: **[`79784f3`](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)**\n\nUpstream: **Fixed upstream, but not in a stable release.**\n\nReviewer: **Fran\u00e7ois Bissey**\n\nAuthor: **Dima Pasechnik**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19687_\n\n",
    "closed_at": "2015-12-23T11:06:35Z",
    "created_at": "2015-12-09T21:52:21Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "upgrade cvxopt to version 1.1.8",
    "type": "issue",
    "updated_at": "2015-12-23T11:06:35Z",
    "url": "https://github.com/sagemath/sage/issues/19687",
    "user": "https://github.com/dimpase"
}
```
this is the current stable version

The tarball is here: http://users.ox.ac.uk/~coml0531/sage/cvxopt-1.1.8.tar.gz

I removed html docs from the source (https://github.com/cvxopt/cvxopt/archive/1.1.8.tar.gz) to make it smaller.

CC:  @jdemeyer @nathanncohen

Branch/Commit: **[`79784f3`](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)**

Upstream: **Fixed upstream, but not in a stable release.**

Reviewer: **François Bissey**

Author: **Dima Pasechnik**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/19687_





---

archive/issue_events_276192.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-09T21:52:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276192"
}
```



---

archive/issue_events_276193.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-09T21:52:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276193"
}
```



---

archive/issue_events_276194.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-09T21:52:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276194"
}
```



---

archive/issue_events_276195.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-09T21:52:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276195"
}
```



---

archive/issue_comments_281075.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n this is the current stable version\n+\n+The tarball is here: http://users.ox.ac.uk/~coml0531/sage/cvxopt-1.1.8.tar.gz\n+\n+I removed html docs from the source (https://github.com/cvxopt/cvxopt/archive/1.1.8.tar.gz) to make it smaller.\n``````\n",
    "created_at": "2015-12-09T22:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281075",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 this is the current stable version
+
+The tarball is here: http://users.ox.ac.uk/~coml0531/sage/cvxopt-1.1.8.tar.gz
+
+I removed html docs from the source (https://github.com/cvxopt/cvxopt/archive/1.1.8.tar.gz) to make it smaller.
``````




---

archive/issue_comments_281076.json:
```json
{
    "body": "Branch: **[u/dimpase/19687](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/19687)**",
    "created_at": "2015-12-09T22:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281076",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/19687](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/19687)**



---

archive/issue_events_276196.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-09T22:24:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276196"
}
```



---

archive/issue_comments_281077.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5\"><code>c040534</code></a></td><td><code>update to 1.1.8</code></td></tr></table>\n",
    "created_at": "2015-12-09T22:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281077",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5"><code>c040534</code></a></td><td><code>update to 1.1.8</code></td></tr></table>




---

archive/issue_comments_281078.json:
```json
{
    "body": "Commit: **[`c040534`](https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5)**",
    "created_at": "2015-12-09T22:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281078",
    "user": "https://github.com/dimpase"
}
```

Commit: **[`c040534`](https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5)**



---

archive/issue_events_276197.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-12-11T20:38:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276197"
}
```



---

archive/issue_events_276198.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-12-11T20:38:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276198"
}
```



---

archive/issue_comments_281079.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2015-12-11T20:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281079",
    "user": "https://github.com/kiwifb"
}
```

Reviewer: **François Bissey**



---

archive/issue_comments_281080.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nLooks good to me. No doctest broken on linux x86_64.",
    "created_at": "2015-12-11T20:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281080",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:2" align="right">comment:2</div>

Looks good to me. No doctest broken on linux x86_64.



---

archive/issue_comments_281081.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nOn older linux (Ubuntu 12.04) I get \n\n```\nImportError: /mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cvxopt/amd.so: undefined symbol: clock_gettime\n```\naccording to man page, needs to \"link with -lrt (only for glibc versions before 2.17)\" but does not.",
    "created_at": "2015-12-21T19:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281081",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:3" align="right">comment:3</div>

On older linux (Ubuntu 12.04) I get 

```
ImportError: /mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cvxopt/amd.so: undefined symbol: clock_gettime
```
according to man page, needs to "link with -lrt (only for glibc versions before 2.17)" but does not.



---

archive/issue_events_276199.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-21T19:02:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276199"
}
```



---

archive/issue_events_276200.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-21T19:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276200"
}
```



---

archive/issue_comments_281082.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nUpstream probably doesn't build on older machines. Should be trivial to fix.",
    "created_at": "2015-12-21T19:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281082",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:5" align="right">comment:5</div>

Upstream probably doesn't build on older machines. Should be trivial to fix.



---

archive/issue_comments_281083.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@vbraun](#comment:3):\n> On older linux (Ubuntu 12.04) I get \n> \n> ```\n> ImportError: /mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cvxopt/amd.so: undefined symbol: clock_gettime\n> ```\n> according to man page, needs to \"link with -lrt (only for glibc versions before 2.17)\" but does not.\n\nIt does not seem that testing glibc version tells you the right thing. Indeed, on Ubuntu 14.04, where this all works, I see\n\n```\n>>> import platform\n>>> platform.libc_ver() \n('glibc', '2.4')\n```\nAnd I don't even have librt. I will just add it unconditionally, for every Linux...",
    "created_at": "2015-12-21T20:50:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281083",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@vbraun](#comment:3):
> On older linux (Ubuntu 12.04) I get 
> 
> ```
> ImportError: /mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cvxopt/amd.so: undefined symbol: clock_gettime
> ```
> according to man page, needs to "link with -lrt (only for glibc versions before 2.17)" but does not.

It does not seem that testing glibc version tells you the right thing. Indeed, on Ubuntu 14.04, where this all works, I see

```
>>> import platform
>>> platform.libc_ver() 
('glibc', '2.4')
```
And I don't even have librt. I will just add it unconditionally, for every Linux...



---

archive/issue_comments_281084.json:
```json
{
    "body": "Changed commit from **[`c040534`](https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5)** to **[`6390e86`](https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb)**",
    "created_at": "2015-12-21T20:55:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281084",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c040534`](https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5)** to **[`6390e86`](https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb)**



---

archive/issue_comments_281085.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c1e90dd081b4c239f1e765d1bec702f6fcf0adb\"><code>8c1e90d</code></a></td><td><code>update to 1.1.8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb\"><code>6390e86</code></a></td><td><code>add 'rt' to libs on linux</code></td></tr></table>\n",
    "created_at": "2015-12-21T20:55:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281085",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c1e90dd081b4c239f1e765d1bec702f6fcf0adb"><code>8c1e90d</code></a></td><td><code>update to 1.1.8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb"><code>6390e86</code></a></td><td><code>add 'rt' to libs on linux</code></td></tr></table>




---

archive/issue_events_276201.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-21T20:57:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276201"
}
```



---

archive/issue_events_276202.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-21T20:57:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276202"
}
```



---

archive/issue_events_276203.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-21T20:57:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276203"
}
```



---

archive/issue_events_276204.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-21T20:57:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276204"
}
```



---

archive/issue_comments_281086.json:
```json
{
    "body": "Upstream: **Not yet reported upstream; Will do shortly.**",
    "created_at": "2015-12-21T20:57:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281086",
    "user": "https://github.com/dimpase"
}
```

Upstream: **Not yet reported upstream; Will do shortly.**



---

archive/issue_comments_281087.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nWrong solution\n\n```\nif SUITESPARSE_EXT_LIB:\n    amd = Extension('amd',\n        libraries = ['amd','suitesparseconfig'],\n        include_dirs = [SUITESPARSE_INC_DIR],\n        library_dirs = [SUITESPARSE_LIB_DIR],\n        sources = ['src/C/amd.c'])\nelse:\n    amd = Extension('amd', \n        include_dirs = [ 'src/C/SuiteSparse/AMD/Include', \n            'src/C/SuiteSparse/SuiteSparse_config' ],\n        define_macros = MACROS,\n        sources = [ 'src/C/amd.c', 'src/C/SuiteSparse/SuiteSparse_config/SuiteSparse_config.c'] +\n        glob('src/C/SuiteSparse/AMD/Source/*.c') )\n```\nThe `amd` extension doesn't use `libraries` so I would be surprised if it worked by adding it to `BLAS_LIBS`.",
    "created_at": "2015-12-21T21:02:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281087",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:9" align="right">comment:9</div>

Wrong solution

```
if SUITESPARSE_EXT_LIB:
    amd = Extension('amd',
        libraries = ['amd','suitesparseconfig'],
        include_dirs = [SUITESPARSE_INC_DIR],
        library_dirs = [SUITESPARSE_LIB_DIR],
        sources = ['src/C/amd.c'])
else:
    amd = Extension('amd', 
        include_dirs = [ 'src/C/SuiteSparse/AMD/Include', 
            'src/C/SuiteSparse/SuiteSparse_config' ],
        define_macros = MACROS,
        sources = [ 'src/C/amd.c', 'src/C/SuiteSparse/SuiteSparse_config/SuiteSparse_config.c'] +
        glob('src/C/SuiteSparse/AMD/Source/*.c') )
```
The `amd` extension doesn't use `libraries` so I would be surprised if it worked by adding it to `BLAS_LIBS`.



---

archive/issue_comments_281088.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2\"><code>fdaeefa</code></a></td><td><code>add libs='rt' to amd ext.</code></td></tr></table>\n",
    "created_at": "2015-12-21T21:57:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281088",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2"><code>fdaeefa</code></a></td><td><code>add libs='rt' to amd ext.</code></td></tr></table>




---

archive/issue_comments_281089.json:
```json
{
    "body": "Changed commit from **[`6390e86`](https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb)** to **[`fdaeefa`](https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2)**",
    "created_at": "2015-12-21T21:57:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281089",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6390e86`](https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb)** to **[`fdaeefa`](https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2)**



---

archive/issue_comments_281090.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nright, it should have gone to the amd Extension chunk, sorry.\nThe patch is longer, as I fixed all the fizz, by cloning https://github.com/cvxopt/cvxopt\nand making a new patch using the old one.\nThen I just added `libraries=['rt']` unconditionally there -- should this be done for Linux only?",
    "created_at": "2015-12-21T22:00:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281090",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

right, it should have gone to the amd Extension chunk, sorry.
The patch is longer, as I fixed all the fizz, by cloning https://github.com/cvxopt/cvxopt
and making a new patch using the old one.
Then I just added `libraries=['rt']` unconditionally there -- should this be done for Linux only?



---

archive/issue_comments_281091.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nNo `librt` on OS X as far as I can tell, I don't know about cygwin. I would restrict it.",
    "created_at": "2015-12-21T22:03:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281091",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:12" align="right">comment:12</div>

No `librt` on OS X as far as I can tell, I don't know about cygwin. I would restrict it.



---

archive/issue_comments_281092.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n`clock_gettime` is not in the `AMD` code it is in the `SuiteSparse_config` I am checking the implications.",
    "created_at": "2015-12-21T22:14:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281092",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:13" align="right">comment:13</div>

`clock_gettime` is not in the `AMD` code it is in the `SuiteSparse_config` I am checking the implications.



---

archive/issue_comments_281093.json:
```json
{
    "body": "Changed commit from **[`fdaeefa`](https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2)** to **[`4b91b98`](https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271)**",
    "created_at": "2015-12-21T22:23:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281093",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fdaeefa`](https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2)** to **[`4b91b98`](https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271)**



---

archive/issue_comments_281094.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271\"><code>4b91b98</code></a></td><td><code>add libs='rt' to amd ext (on linux only)</code></td></tr></table>\n",
    "created_at": "2015-12-21T22:23:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281094",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271"><code>4b91b98</code></a></td><td><code>add libs='rt' to amd ext (on linux only)</code></td></tr></table>




---

archive/issue_comments_281095.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@kiwifb](#comment:13):\n> `clock_gettime` is not in the `AMD` code it is in the `SuiteSparse_config` I am checking the implications.\n\nwell, the import error is in `amd.so`, and `src/C/SuiteSparse/SuiteSparse_config/SuiteSparse_config.c`\ngets complied into the amd extension. So this looks right what I do now...",
    "created_at": "2015-12-21T22:33:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281095",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@kiwifb](#comment:13):
> `clock_gettime` is not in the `AMD` code it is in the `SuiteSparse_config` I am checking the implications.

well, the import error is in `amd.so`, and `src/C/SuiteSparse/SuiteSparse_config/SuiteSparse_config.c`
gets complied into the amd extension. So this looks right what I do now...



---

archive/issue_comments_281096.json:
```json
{
    "body": "Changed commit from **[`4b91b98`](https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271)** to **[`e8c1e0a`](https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10)**",
    "created_at": "2015-12-21T22:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281096",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4b91b98`](https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271)** to **[`e8c1e0a`](https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10)**



---

archive/issue_comments_281097.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10\"><code>e8c1e0a</code></a></td><td><code>add libs='rt' to amd ext (on linux only)</code></td></tr></table>\n",
    "created_at": "2015-12-21T22:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281097",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10"><code>e8c1e0a</code></a></td><td><code>add libs='rt' to amd ext (on linux only)</code></td></tr></table>




---

archive/issue_comments_281098.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nVolker reported one failure, there may be other hidden behind the first one. That file is also included in `cholmod` and `umfpack` so they are potentially affected too. However the code should only be enabled if `SUITESPARSE_TIMER_ENABLED` is defined, in turn it depends on whether `NTIMER` is defined (which it is for `cholmod` and `umfpack` so in the end they won't be affected). A better solution in my opinion is to add `[('NTIMER', '1')]` to the line `define_macros` for the `amd` section.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10\"><code>e8c1e0a</code></a></td><td><code>add libs='rt' to amd ext (on linux only)</code></td></tr></table>\n",
    "created_at": "2015-12-21T22:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281098",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">comment:17</div>

Volker reported one failure, there may be other hidden behind the first one. That file is also included in `cholmod` and `umfpack` so they are potentially affected too. However the code should only be enabled if `SUITESPARSE_TIMER_ENABLED` is defined, in turn it depends on whether `NTIMER` is defined (which it is for `cholmod` and `umfpack` so in the end they won't be affected). A better solution in my opinion is to add `[('NTIMER', '1')]` to the line `define_macros` for the `amd` section.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10"><code>e8c1e0a</code></a></td><td><code>add libs='rt' to amd ext (on linux only)</code></td></tr></table>




---

archive/issue_comments_281099.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nadding things like `[('NTIMER', '1')]` looks like going too far, as you're changing the behaviour of upstream code this way...",
    "created_at": "2015-12-21T23:03:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281099",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">comment:18</div>

adding things like `[('NTIMER', '1')]` looks like going too far, as you're changing the behaviour of upstream code this way...



---

archive/issue_comments_281100.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI don't think `cvxopt` cares about timing of the code, in fact `SuiteSparse_{tic,toc,time}` are used nowhere in `AMD`'s code. It is only enabled as part of `SuiteSparse_config.c` by accident I would argue. In contrast `cholmod` and `umfpack` have code that can use `SuiteSparse_time` and it is disabled on purpose in those. Those function are only used to measure performance, I don't think `cvxopt` would be doing it that way, if it was interested in measuring the performance of the `SuiteSparse` code.",
    "created_at": "2015-12-21T23:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281100",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:19" align="right">comment:19</div>

I don't think `cvxopt` cares about timing of the code, in fact `SuiteSparse_{tic,toc,time}` are used nowhere in `AMD`'s code. It is only enabled as part of `SuiteSparse_config.c` by accident I would argue. In contrast `cholmod` and `umfpack` have code that can use `SuiteSparse_time` and it is disabled on purpose in those. Those function are only used to measure performance, I don't think `cvxopt` would be doing it that way, if it was interested in measuring the performance of the `SuiteSparse` code.



---

archive/issue_comments_281101.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI would further argue that we should point to upstream that unless they want to use those timing functions in the future, `NTIMER` should be in the default macros variable that is currently empty.",
    "created_at": "2015-12-21T23:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281101",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:20" align="right">comment:20</div>

I would further argue that we should point to upstream that unless they want to use those timing functions in the future, `NTIMER` should be in the default macros variable that is currently empty.



---

archive/issue_comments_281102.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI just asked upstream [here](https://groups.google.com/d/msg/cvxopt/G57kX4Ocw0I/GDpeHcGlBwAJ) on this.",
    "created_at": "2015-12-21T23:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281102",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:21" align="right">comment:21</div>

I just asked upstream [here](https://groups.google.com/d/msg/cvxopt/G57kX4Ocw0I/GDpeHcGlBwAJ) on this.



---

archive/issue_comments_281103.json:
```json
{
    "body": "Changed upstream from **Not yet reported upstream; Will do shortly.** to **Reported upstream. No feedback yet.**",
    "created_at": "2015-12-21T23:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281103",
    "user": "https://github.com/dimpase"
}
```

Changed upstream from **Not yet reported upstream; Will do shortly.** to **Reported upstream. No feedback yet.**



---

archive/issue_comments_281104.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nOK, I'll add an argument: \n`SuiteSparse_config.c` is not part of `amd`'s sources. If you were using an external `suitesparse` install, you would have a `suitesparse_config` library and `amd` would get the functions from this library as needed. But here we have a custom system that makes `SuiteSparse_config.c` a part of the used `amd` source code and including all the function of `SuiteSparse_config.c` instead of just the one needed by `amd`. That include the timing functions.",
    "created_at": "2015-12-21T23:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281104",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:22" align="right">comment:22</div>

OK, I'll add an argument: 
`SuiteSparse_config.c` is not part of `amd`'s sources. If you were using an external `suitesparse` install, you would have a `suitesparse_config` library and `amd` would get the functions from this library as needed. But here we have a custom system that makes `SuiteSparse_config.c` a part of the used `amd` source code and including all the function of `SuiteSparse_config.c` instead of just the one needed by `amd`. That include the timing functions.



---

archive/issue_comments_281105.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155\"><code>79784f3</code></a></td><td><code>fix building amd ext</code></td></tr></table>\n",
    "created_at": "2015-12-22T19:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281105",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155"><code>79784f3</code></a></td><td><code>fix building amd ext</code></td></tr></table>




---

archive/issue_comments_281106.json:
```json
{
    "body": "Changed commit from **[`e8c1e0a`](https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10)** to **[`79784f3`](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)**",
    "created_at": "2015-12-22T19:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281106",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e8c1e0a`](https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10)** to **[`79784f3`](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)**



---

archive/issue_comments_281107.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2015-12-22T19:39:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281107",
    "user": "https://github.com/dimpase"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_281108.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nindeed, that was the right suggestion for the fix. The upstream fixed this in dev [here](https://github.com/cvxopt/cvxopt/commit/9d55fa22ec849d460444fa08d17a841f5b3e06c1?diff=unified) 3 weeks ago...\n\nplease see the latest commit update. \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155\"><code>79784f3</code></a></td><td><code>fix building amd ext</code></td></tr></table>\n",
    "created_at": "2015-12-22T19:39:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281108",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:24" align="right">comment:24</div>

indeed, that was the right suggestion for the fix. The upstream fixed this in dev [here](https://github.com/cvxopt/cvxopt/commit/9d55fa22ec849d460444fa08d17a841f5b3e06c1?diff=unified) 3 weeks ago...

please see the latest commit update. 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155"><code>79784f3</code></a></td><td><code>fix building amd ext</code></td></tr></table>




---

archive/issue_comments_281109.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI am happy with that resolution. Back to positive review.",
    "created_at": "2015-12-22T19:41:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281109",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:25" align="right">comment:25</div>

I am happy with that resolution. Back to positive review.



---

archive/issue_events_276205.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-12-22T19:41:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276205"
}
```



---

archive/issue_events_276206.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-12-22T19:41:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276206"
}
```



---

archive/issue_comments_281110.json:
```json
{
    "body": "Changed branch from **[u/dimpase/19687](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/19687)** to **[`79784f3`](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)**",
    "created_at": "2015-12-23T11:06:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19687#issuecomment-281110",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/19687](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/19687)** to **[`79784f3`](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)**



---

archive/issue_events_276207.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-23T11:06:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276207"
}
```



---

archive/issue_events_276208.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "31096e16a7e494738b323dae4740b8b32df0c9f2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-12-23T11:06:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19687",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19687#event-276208"
}
```
