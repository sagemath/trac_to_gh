# Issue 19687: upgrade cvxopt to version 1.1.8

archive/issues_019450.json:
```json
{
    "body": "this is the current stable version\n\nThe tarball is here: http://users.ox.ac.uk/~coml0531/sage/cvxopt-1.1.8.tar.gz\n\nI removed html docs from the source (https://github.com/cvxopt/cvxopt/archive/1.1.8.tar.gz) to make it smaller.\n\nCC:  @jdemeyer @nathanncohen\n\nBranch/Commit: [79784f35dbb0752f160492dd574813e7e527f155](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)\n\nUpstream: Fixed upstream, but not in a stable release.\n\nReviewer: Fran\u00e7ois Bissey\n\nAuthor: Dima Pasechnik\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/19687\n\n",
    "closed_at": "2015-12-23T11:06:35Z",
    "created_at": "2015-12-09T21:52:21Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.0",
    "title": "upgrade cvxopt to version 1.1.8",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19687",
    "user": "https://github.com/dimpase"
}
```
this is the current stable version

The tarball is here: http://users.ox.ac.uk/~coml0531/sage/cvxopt-1.1.8.tar.gz

I removed html docs from the source (https://github.com/cvxopt/cvxopt/archive/1.1.8.tar.gz) to make it smaller.

CC:  @jdemeyer @nathanncohen

Branch/Commit: [79784f35dbb0752f160492dd574813e7e527f155](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)

Upstream: Fixed upstream, but not in a stable release.

Reviewer: François Bissey

Author: Dima Pasechnik

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/19687





---

archive/issue_comments_357455.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n this is the current stable version\n+\n+The tarball is here: http://users.ox.ac.uk/~coml0531/sage/cvxopt-1.1.8.tar.gz\n+\n+I removed html docs from the source (https://github.com/cvxopt/cvxopt/archive/1.1.8.tar.gz) to make it smaller.\n``````\n",
    "created_at": "2015-12-09T22:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357455",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 this is the current stable version
+
+The tarball is here: http://users.ox.ac.uk/~coml0531/sage/cvxopt-1.1.8.tar.gz
+
+I removed html docs from the source (https://github.com/cvxopt/cvxopt/archive/1.1.8.tar.gz) to make it smaller.
``````




---

archive/issue_comments_357456.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dimpase/19687\"",
    "created_at": "2015-12-09T22:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357456",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "" to "u/dimpase/19687"



---

archive/issue_comments_357457.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-12-09T22:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357457",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_357458.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|\n|[c040534](https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5)|`update to 1.1.8`|",
    "created_at": "2015-12-09T22:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357458",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
|[c040534](https://github.com/sagemath/sagetrac-mirror/commit/c0405346c6d4d57f0c57e9822f20198fc2ccbfc5)|`update to 1.1.8`|



---

archive/issue_comments_357459.json:
```json
{
    "body": "Changing commit from \"\" to \"c0405346c6d4d57f0c57e9822f20198fc2ccbfc5\"",
    "created_at": "2015-12-09T22:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357459",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "" to "c0405346c6d4d57f0c57e9822f20198fc2ccbfc5"



---

archive/issue_comments_357460.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-12-11T20:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357460",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_357461.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fran\u00e7ois Bissey\"",
    "created_at": "2015-12-11T20:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357461",
    "user": "https://github.com/kiwifb"
}
```

Changing reviewer from "" to "François Bissey"



---

archive/issue_comments_357462.json:
```json
{
    "body": "<a id='comment:2'></a>\nLooks good to me. No doctest broken on linux x86_64.",
    "created_at": "2015-12-11T20:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357462",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:2'></a>
Looks good to me. No doctest broken on linux x86_64.



---

archive/issue_comments_357463.json:
```json
{
    "body": "<a id='comment:3'></a>\nOn older linux (Ubuntu 12.04) I get \n\n```\nImportError: /mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cvxopt/amd.so: undefined symbol: clock_gettime\n```\naccording to man page, needs to \"link with -lrt (only for glibc versions before 2.17)\" but does not.",
    "created_at": "2015-12-21T19:02:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357463",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>
On older linux (Ubuntu 12.04) I get 

```
ImportError: /mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cvxopt/amd.so: undefined symbol: clock_gettime
```
according to man page, needs to "link with -lrt (only for glibc versions before 2.17)" but does not.



---

archive/issue_comments_357464.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-12-21T19:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357464",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_357465.json:
```json
{
    "body": "<a id='comment:5'></a>\nUpstream probably doesn't build on older machines. Should be trivial to fix.",
    "created_at": "2015-12-21T19:12:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357465",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'></a>
Upstream probably doesn't build on older machines. Should be trivial to fix.



---

archive/issue_comments_357466.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [vbraun](#comment%3A3):\n> On older linux (Ubuntu 12.04) I get \n> \n> ```\n> ImportError: /mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cvxopt/amd.so: undefined symbol: clock_gettime\n> ```\n> according to man page, needs to \"link with -lrt (only for glibc versions before 2.17)\" but does not.\n\n\nIt does not seem that testing glibc version tells you the right thing. Indeed, on Ubuntu 14.04, where this all works, I see\n\n```\n>>> import platform\n>>> platform.libc_ver() \n('glibc', '2.4')\n```\nAnd I don't even have librt. I will just add it unconditionally, for every Linux...",
    "created_at": "2015-12-21T20:50:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357466",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
Replying to [vbraun](#comment%3A3):
> On older linux (Ubuntu 12.04) I get 
> 
> ```
> ImportError: /mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cvxopt/amd.so: undefined symbol: clock_gettime
> ```
> according to man page, needs to "link with -lrt (only for glibc versions before 2.17)" but does not.


It does not seem that testing glibc version tells you the right thing. Indeed, on Ubuntu 14.04, where this all works, I see

```
>>> import platform
>>> platform.libc_ver() 
('glibc', '2.4')
```
And I don't even have librt. I will just add it unconditionally, for every Linux...



---

archive/issue_comments_357467.json:
```json
{
    "body": "Changing commit from \"c0405346c6d4d57f0c57e9822f20198fc2ccbfc5\" to \"6390e86c33b9fdd7c47ee15592277ac7432926bb\"",
    "created_at": "2015-12-21T20:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357467",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c0405346c6d4d57f0c57e9822f20198fc2ccbfc5" to "6390e86c33b9fdd7c47ee15592277ac7432926bb"



---

archive/issue_comments_357468.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|\n|[8c1e90d](https://github.com/sagemath/sagetrac-mirror/commit/8c1e90dd081b4c239f1e765d1bec702f6fcf0adb)|`update to 1.1.8`|\n|[6390e86](https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb)|`add 'rt' to libs on linux`|",
    "created_at": "2015-12-21T20:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357468",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
|[8c1e90d](https://github.com/sagemath/sagetrac-mirror/commit/8c1e90dd081b4c239f1e765d1bec702f6fcf0adb)|`update to 1.1.8`|
|[6390e86](https://github.com/sagemath/sagetrac-mirror/commit/6390e86c33b9fdd7c47ee15592277ac7432926bb)|`add 'rt' to libs on linux`|



---

archive/issue_events_061438.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-12-21T20:57:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "milestone": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19687#event-61438"
}
```



---

archive/issue_comments_357469.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-12-21T20:57:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357469",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_357470.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Not yet reported upstream; Will do shortly.\"",
    "created_at": "2015-12-21T20:57:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357470",
    "user": "https://github.com/dimpase"
}
```

Changing upstream from "N/A" to "Not yet reported upstream; Will do shortly."



---

archive/issue_comments_357471.json:
```json
{
    "body": "<a id='comment:9'></a>\nWrong solution\n\n```\nif SUITESPARSE_EXT_LIB:\n    amd = Extension('amd',\n        libraries = ['amd','suitesparseconfig'],\n        include_dirs = [SUITESPARSE_INC_DIR],\n        library_dirs = [SUITESPARSE_LIB_DIR],\n        sources = ['src/C/amd.c'])\nelse:\n    amd = Extension('amd', \n        include_dirs = [ 'src/C/SuiteSparse/AMD/Include', \n            'src/C/SuiteSparse/SuiteSparse_config' ],\n        define_macros = MACROS,\n        sources = [ 'src/C/amd.c', 'src/C/SuiteSparse/SuiteSparse_config/SuiteSparse_config.c'] +\n        glob('src/C/SuiteSparse/AMD/Source/*.c') )\n```\nThe `amd` extension doesn't use `libraries` so I would be surprised if it worked by adding it to `BLAS_LIBS`.",
    "created_at": "2015-12-21T21:02:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357471",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:9'></a>
Wrong solution

```
if SUITESPARSE_EXT_LIB:
    amd = Extension('amd',
        libraries = ['amd','suitesparseconfig'],
        include_dirs = [SUITESPARSE_INC_DIR],
        library_dirs = [SUITESPARSE_LIB_DIR],
        sources = ['src/C/amd.c'])
else:
    amd = Extension('amd', 
        include_dirs = [ 'src/C/SuiteSparse/AMD/Include', 
            'src/C/SuiteSparse/SuiteSparse_config' ],
        define_macros = MACROS,
        sources = [ 'src/C/amd.c', 'src/C/SuiteSparse/SuiteSparse_config/SuiteSparse_config.c'] +
        glob('src/C/SuiteSparse/AMD/Source/*.c') )
```
The `amd` extension doesn't use `libraries` so I would be surprised if it worked by adding it to `BLAS_LIBS`.



---

archive/issue_comments_357472.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[fdaeefa](https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2)|`add libs='rt' to amd ext.`|",
    "created_at": "2015-12-21T21:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357472",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                           |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[fdaeefa](https://github.com/sagemath/sagetrac-mirror/commit/fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2)|`add libs='rt' to amd ext.`|



---

archive/issue_comments_357473.json:
```json
{
    "body": "Changing commit from \"6390e86c33b9fdd7c47ee15592277ac7432926bb\" to \"fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2\"",
    "created_at": "2015-12-21T21:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357473",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6390e86c33b9fdd7c47ee15592277ac7432926bb" to "fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2"



---

archive/issue_comments_357474.json:
```json
{
    "body": "<a id='comment:11'></a>\nright, it should have gone to the amd Extension chunk, sorry.\nThe patch is longer, as I fixed all the fizz, by cloning https://github.com/cvxopt/cvxopt\nand making a new patch using the old one.\nThen I just added `libraries=['rt']` unconditionally there -- should this be done for Linux only?",
    "created_at": "2015-12-21T22:00:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357474",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
right, it should have gone to the amd Extension chunk, sorry.
The patch is longer, as I fixed all the fizz, by cloning https://github.com/cvxopt/cvxopt
and making a new patch using the old one.
Then I just added `libraries=['rt']` unconditionally there -- should this be done for Linux only?



---

archive/issue_comments_357475.json:
```json
{
    "body": "<a id='comment:12'></a>\nNo `librt` on OS X as far as I can tell, I don't know about cygwin. I would restrict it.",
    "created_at": "2015-12-21T22:03:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357475",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'></a>
No `librt` on OS X as far as I can tell, I don't know about cygwin. I would restrict it.



---

archive/issue_comments_357476.json:
```json
{
    "body": "<a id='comment:13'></a>\n`clock_gettime` is not in the `AMD` code it is in the `SuiteSparse_config` I am checking the implications.",
    "created_at": "2015-12-21T22:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357476",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:13'></a>
`clock_gettime` is not in the `AMD` code it is in the `SuiteSparse_config` I am checking the implications.



---

archive/issue_comments_357477.json:
```json
{
    "body": "Changing commit from \"fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2\" to \"4b91b98e94b44d0559c97500eff70747cdf15271\"",
    "created_at": "2015-12-21T22:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357477",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fdaeefa041f7c55ab914afc13ce9dcbe2859c2b2" to "4b91b98e94b44d0559c97500eff70747cdf15271"



---

archive/issue_comments_357478.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[4b91b98](https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271)|`add libs='rt' to amd ext (on linux only)`|",
    "created_at": "2015-12-21T22:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357478",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[4b91b98](https://github.com/sagemath/sagetrac-mirror/commit/4b91b98e94b44d0559c97500eff70747cdf15271)|`add libs='rt' to amd ext (on linux only)`|



---

archive/issue_comments_357479.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [fbissey](#comment%3A13):\n> `clock_gettime` is not in the `AMD` code it is in the `SuiteSparse_config` I am checking the implications.\n\n\nwell, the import error is in `amd.so`, and `src/C/SuiteSparse/SuiteSparse_config/SuiteSparse_config.c`\ngets complied into the amd extension. So this looks right what I do now...",
    "created_at": "2015-12-21T22:33:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357479",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
Replying to [fbissey](#comment%3A13):
> `clock_gettime` is not in the `AMD` code it is in the `SuiteSparse_config` I am checking the implications.


well, the import error is in `amd.so`, and `src/C/SuiteSparse/SuiteSparse_config/SuiteSparse_config.c`
gets complied into the amd extension. So this looks right what I do now...



---

archive/issue_comments_357480.json:
```json
{
    "body": "Changing commit from \"4b91b98e94b44d0559c97500eff70747cdf15271\" to \"e8c1e0a82f06364975b9b9f91c69de2443c9ad10\"",
    "created_at": "2015-12-21T22:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357480",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4b91b98e94b44d0559c97500eff70747cdf15271" to "e8c1e0a82f06364975b9b9f91c69de2443c9ad10"



---

archive/issue_comments_357481.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[e8c1e0a](https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10)|`add libs='rt' to amd ext (on linux only)`|",
    "created_at": "2015-12-21T22:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357481",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[e8c1e0a](https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10)|`add libs='rt' to amd ext (on linux only)`|



---

archive/issue_comments_357482.json:
```json
{
    "body": "<a id='comment:17'></a>\nVolker reported one failure, there may be other hidden behind the first one. That file is also included in `cholmod` and `umfpack` so they are potentially affected too. However the code should only be enabled if `SUITESPARSE_TIMER_ENABLED` is defined, in turn it depends on whether `NTIMER` is defined (which it is for `cholmod` and `umfpack` so in the end they won't be affected). A better solution in my opinion is to add `[('NTIMER', '1')]` to the line `define_macros` for the `amd` section.\n\n---\nNew commits:\n|                                                                                                                                          |                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[e8c1e0a](https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10)|`add libs='rt' to amd ext (on linux only)`|",
    "created_at": "2015-12-21T22:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357482",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:17'></a>
Volker reported one failure, there may be other hidden behind the first one. That file is also included in `cholmod` and `umfpack` so they are potentially affected too. However the code should only be enabled if `SUITESPARSE_TIMER_ENABLED` is defined, in turn it depends on whether `NTIMER` is defined (which it is for `cholmod` and `umfpack` so in the end they won't be affected). A better solution in my opinion is to add `[('NTIMER', '1')]` to the line `define_macros` for the `amd` section.

---
New commits:
|                                                                                                                                          |                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[e8c1e0a](https://github.com/sagemath/sagetrac-mirror/commit/e8c1e0a82f06364975b9b9f91c69de2443c9ad10)|`add libs='rt' to amd ext (on linux only)`|



---

archive/issue_comments_357483.json:
```json
{
    "body": "<a id='comment:18'></a>\nadding things like `[('NTIMER', '1')]` looks like going too far, as you're changing the behaviour of upstream code this way...",
    "created_at": "2015-12-21T23:03:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357483",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>
adding things like `[('NTIMER', '1')]` looks like going too far, as you're changing the behaviour of upstream code this way...



---

archive/issue_comments_357484.json:
```json
{
    "body": "<a id='comment:19'></a>\nI don't think `cvxopt` cares about timing of the code, in fact `SuiteSparse_{tic,toc,time}` are used nowhere in `AMD`'s code. It is only enabled as part of `SuiteSparse_config.c` by accident I would argue. In contrast `cholmod` and `umfpack` have code that can use `SuiteSparse_time` and it is disabled on purpose in those. Those function are only used to measure performance, I don't think `cvxopt` would be doing it that way, if it was interested in measuring the performance of the `SuiteSparse` code.",
    "created_at": "2015-12-21T23:12:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357484",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:19'></a>
I don't think `cvxopt` cares about timing of the code, in fact `SuiteSparse_{tic,toc,time}` are used nowhere in `AMD`'s code. It is only enabled as part of `SuiteSparse_config.c` by accident I would argue. In contrast `cholmod` and `umfpack` have code that can use `SuiteSparse_time` and it is disabled on purpose in those. Those function are only used to measure performance, I don't think `cvxopt` would be doing it that way, if it was interested in measuring the performance of the `SuiteSparse` code.



---

archive/issue_comments_357485.json:
```json
{
    "body": "<a id='comment:20'></a>\nI would further argue that we should point to upstream that unless they want to use those timing functions in the future, `NTIMER` should be in the default macros variable that is currently empty.",
    "created_at": "2015-12-21T23:14:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357485",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:20'></a>
I would further argue that we should point to upstream that unless they want to use those timing functions in the future, `NTIMER` should be in the default macros variable that is currently empty.



---

archive/issue_comments_357486.json:
```json
{
    "body": "<a id='comment:21'></a>\nI just asked upstream [here](https://groups.google.com/d/msg/cvxopt/G57kX4Ocw0I/GDpeHcGlBwAJ) on this.",
    "created_at": "2015-12-21T23:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357486",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
I just asked upstream [here](https://groups.google.com/d/msg/cvxopt/G57kX4Ocw0I/GDpeHcGlBwAJ) on this.



---

archive/issue_comments_357487.json:
```json
{
    "body": "Changing upstream from \"Not yet reported upstream; Will do shortly.\" to \"Reported upstream. No feedback yet.\"",
    "created_at": "2015-12-21T23:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357487",
    "user": "https://github.com/dimpase"
}
```

Changing upstream from "Not yet reported upstream; Will do shortly." to "Reported upstream. No feedback yet."



---

archive/issue_comments_357488.json:
```json
{
    "body": "<a id='comment:22'></a>\nOK, I'll add an argument: \n`SuiteSparse_config.c` is not part of `amd`'s sources. If you were using an external `suitesparse` install, you would have a `suitesparse_config` library and `amd` would get the functions from this library as needed. But here we have a custom system that makes `SuiteSparse_config.c` a part of the used `amd` source code and including all the function of `SuiteSparse_config.c` instead of just the one needed by `amd`. That include the timing functions.",
    "created_at": "2015-12-21T23:36:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357488",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:22'></a>
OK, I'll add an argument: 
`SuiteSparse_config.c` is not part of `amd`'s sources. If you were using an external `suitesparse` install, you would have a `suitesparse_config` library and `amd` would get the functions from this library as needed. But here we have a custom system that makes `SuiteSparse_config.c` a part of the used `amd` source code and including all the function of `SuiteSparse_config.c` instead of just the one needed by `amd`. That include the timing functions.



---

archive/issue_comments_357489.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[79784f3](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)|`fix building amd ext`|",
    "created_at": "2015-12-22T19:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357489",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[79784f3](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)|`fix building amd ext`|



---

archive/issue_comments_357490.json:
```json
{
    "body": "Changing commit from \"e8c1e0a82f06364975b9b9f91c69de2443c9ad10\" to \"79784f35dbb0752f160492dd574813e7e527f155\"",
    "created_at": "2015-12-22T19:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357490",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e8c1e0a82f06364975b9b9f91c69de2443c9ad10" to "79784f35dbb0752f160492dd574813e7e527f155"



---

archive/issue_comments_357491.json:
```json
{
    "body": "Changing upstream from \"Reported upstream. No feedback yet.\" to \"Fixed upstream, but not in a stable release.\"",
    "created_at": "2015-12-22T19:39:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357491",
    "user": "https://github.com/dimpase"
}
```

Changing upstream from "Reported upstream. No feedback yet." to "Fixed upstream, but not in a stable release."



---

archive/issue_comments_357492.json:
```json
{
    "body": "<a id='comment:24'></a>\nindeed, that was the right suggestion for the fix. The upstream fixed this in dev [here](https://github.com/cvxopt/cvxopt/commit/9d55fa22ec849d460444fa08d17a841f5b3e06c1?diff=unified) 3 weeks ago...\n\nplease see the latest commit update. \n\n---\nNew commits:\n|                                                                                                                                          |                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[79784f3](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)|`fix building amd ext`|",
    "created_at": "2015-12-22T19:39:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357492",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>
indeed, that was the right suggestion for the fix. The upstream fixed this in dev [here](https://github.com/cvxopt/cvxopt/commit/9d55fa22ec849d460444fa08d17a841f5b3e06c1?diff=unified) 3 weeks ago...

please see the latest commit update. 

---
New commits:
|                                                                                                                                          |                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[79784f3](https://github.com/sagemath/sagetrac-mirror/commit/79784f35dbb0752f160492dd574813e7e527f155)|`fix building amd ext`|



---

archive/issue_comments_357493.json:
```json
{
    "body": "<a id='comment:25'></a>\nI am happy with that resolution. Back to positive review.",
    "created_at": "2015-12-22T19:41:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357493",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:25'></a>
I am happy with that resolution. Back to positive review.



---

archive/issue_comments_357494.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-12-22T19:41:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357494",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_357495.json:
```json
{
    "body": "Changing branch from \"u/dimpase/19687\" to \"79784f35dbb0752f160492dd574813e7e527f155\"",
    "created_at": "2015-12-23T11:06:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357495",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dimpase/19687" to "79784f35dbb0752f160492dd574813e7e527f155"



---

archive/issue_comments_357496.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-12-23T11:06:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19687#issuecomment-357496",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_061439.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-23T11:06:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19687",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19687#event-61439"
}
```
