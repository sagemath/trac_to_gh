# Issue 19910: degree is very slow on QQbar

archive/issues_019673.json:
```json
{
    "assignees": [],
    "body": "consider this with Sage 6.10:\n\n```\nsage: b=(QQ['x'](x^17-x+1)).roots(QQbar)[0][0]\nsage: a=(QQ['x'](x^3-x+1)).roots(QQbar)[0][0]\nsage: a.degree()\n3\nsage: b.degree()\n17\nsage: a\n-1.324717957244746?\nsage: b\n-1.042917732301787?\nsage: a+b\n-2.367635689546533?\nsage: %time (a+b).degree()\nCPU times: user 3.65 s, sys: 0 ns, total: 3.65 s\nWall time: 3.64 s\n51\n```\nWhy does it takes more than 3 seconds to compute `3*17`?\n\nCC:  @emmanuelthome\n\nReviewer: **Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19910_\n\n",
    "closed_at": "2016-02-23T22:58:33Z",
    "created_at": "2016-01-18T16:28:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/duplicate"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "degree is very slow on QQbar",
    "type": "issue",
    "updated_at": "2016-02-24T11:03:54Z",
    "url": "https://github.com/sagemath/sage/issues/19910",
    "user": "https://github.com/zimmermann6"
}
```
consider this with Sage 6.10:

```
sage: b=(QQ['x'](x^17-x+1)).roots(QQbar)[0][0]
sage: a=(QQ['x'](x^3-x+1)).roots(QQbar)[0][0]
sage: a.degree()
3
sage: b.degree()
17
sage: a
-1.324717957244746?
sage: b
-1.042917732301787?
sage: a+b
-2.367635689546533?
sage: %time (a+b).degree()
CPU times: user 3.65 s, sys: 0 ns, total: 3.65 s
Wall time: 3.64 s
51
```
Why does it takes more than 3 seconds to compute `3*17`?

CC:  @emmanuelthome

Reviewer: **Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/19910_





---

archive/issue_events_263607.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2016-01-18T16:28:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19910#event-263607"
}
```



---

archive/issue_events_263608.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2016-01-18T16:28:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20basic%20arithmetic",
    "label_color": "0000ff",
    "label_name": "component: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19910#event-263608"
}
```



---

archive/issue_events_263609.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2016-01-18T16:28:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19910#event-263609"
}
```



---

archive/issue_events_263610.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2016-01-18T16:28:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19910#event-263610"
}
```



---

archive/issue_comments_287482.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nDuplicate of #18333.",
    "created_at": "2016-01-18T16:52:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19910#issuecomment-287482",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:1" align="right">Comment 1</div>

Duplicate of #18333.



---

archive/issue_comments_287483.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2016-01-18T16:52:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19910#issuecomment-287483",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_263611.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-18T16:52:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19910#event-263611"
}
```



---

archive/issue_events_263612.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-18T16:52:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19910#event-263612"
}
```



---

archive/issue_events_263613.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-18T16:52:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19910#event-263613"
}
```



---

archive/issue_events_263614.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-18T16:52:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19910#event-263614"
}
```



---

archive/issue_events_263615.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-18T16:53:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19910#event-263615"
}
```



---

archive/issue_events_263616.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-18T16:53:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19910#event-263616"
}
```



---

archive/issue_comments_287484.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nYep. We should seriously get the resolvant code from #17886, #18356, #18242 into Sage!",
    "created_at": "2016-01-18T17:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19910#issuecomment-287484",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">Comment 3</div>

Yep. We should seriously get the resolvant code from #17886, #18356, #18242 into Sage!



---

archive/issue_comments_287485.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nAll right, x1000 improvement with #18356 (needs review)\n\n```\nsage: b=(QQ['x'](x^17-x+1)).roots(QQbar)[0][0]\nsage: pb = b.minpoly()\nsage: a=(QQ['x'](x^3-x+1)).roots(QQbar)[0][0]\nsage: pa = a.minpoly()\nsage: %time p = pa.composed_op(pb, operator.add)\nCPU times: user 4 ms, sys: 0 ns, total: 4 ms\nWall time: 3.04 ms\nsage: p.degree()\n51\n```",
    "created_at": "2016-01-18T19:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19910#issuecomment-287485",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">Comment 4</div>

All right, x1000 improvement with #18356 (needs review)

```
sage: b=(QQ['x'](x^17-x+1)).roots(QQbar)[0][0]
sage: pb = b.minpoly()
sage: a=(QQ['x'](x^3-x+1)).roots(QQbar)[0][0]
sage: pa = a.minpoly()
sage: %time p = pa.composed_op(pb, operator.add)
CPU times: user 4 ms, sys: 0 ns, total: 4 ms
Wall time: 3.04 ms
sage: p.degree()
51
```



---

archive/issue_comments_287486.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\n> All right, x1000 improvement with #18356 (needs review)\n\nexcellent!\nPaul",
    "created_at": "2016-01-19T08:17:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19910#issuecomment-287486",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:5" align="right">Comment 5</div>

> All right, x1000 improvement with #18356 (needs review)

excellent!
Paul



---

archive/issue_events_263617.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-02-23T22:58:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19910#event-263617"
}
```



---

archive/issue_events_263618.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-02-23T22:58:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19910#event-263618"
}
```



---

archive/issue_events_263619.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-02-23T22:58:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19910#event-263619"
}
```



---

archive/issue_comments_287487.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nI'm not sure we should close this ticket before #18356 gets a positive review and is closed too. Indeed, if for some reason #18356 never gets a positive review, this ticket will be lost.",
    "created_at": "2016-02-24T11:03:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19910#issuecomment-287487",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:7" align="right">Comment 7</div>

I'm not sure we should close this ticket before #18356 gets a positive review and is closed too. Indeed, if for some reason #18356 never gets a positive review, this ticket will be lost.
