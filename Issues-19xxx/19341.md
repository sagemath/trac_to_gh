# Issue 19341: Cleaning/Fix in combinat/matrices/hadamard_matrix

archive/issues_019104.json:
```json
{
    "assignees": [],
    "body": "As the title says. Generalizes the existing constructions, and fixes a bug in normalised_hadamard.\n\nNathann\n\nDepends on #19340\n\nCC:  @dimpase\n\nBranch/Commit: **[`1159010`](https://github.com/sagemath/sagetrac-mirror/commit/11590100b6520e833cf8de16732d85407d836214)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Nathann Cohen**\n\nComponent: **combinatorial designs**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/19341_\n\n",
    "closed_at": "2015-10-16T08:22:17Z",
    "created_at": "2015-10-03T21:50:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorial%20designs",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Cleaning/Fix in combinat/matrices/hadamard_matrix",
    "type": "issue",
    "updated_at": "2015-10-16T08:22:17Z",
    "url": "https://github.com/sagemath/sage/issues/19341",
    "user": "https://github.com/nathanncohen"
}
```
As the title says. Generalizes the existing constructions, and fixes a bug in normalised_hadamard.

Nathann

Depends on #19340

CC:  @dimpase

Branch/Commit: **[`1159010`](https://github.com/sagemath/sagetrac-mirror/commit/11590100b6520e833cf8de16732d85407d836214)**

Reviewer: **Dima Pasechnik**

Author: **Nathann Cohen**

Component: **combinatorial designs**

_Issue created by migration from https://trac.sagemath.org/ticket/19341_





---

archive/issue_events_274397.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-03T21:50:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19341#event-274397"
}
```



---

archive/issue_events_274398.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-03T21:50:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorial%20designs",
    "label_color": "0000ff",
    "label_name": "c: combinatorial designs",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19341#event-274398"
}
```



---

archive/issue_events_274399.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-03T21:50:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19341#event-274399"
}
```



---

archive/issue_events_274400.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-03T21:50:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19341#event-274400"
}
```



---

archive/issue_comments_274732.json:
```json
{
    "body": "Branch: **[u/ncohen/19341](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19341)**",
    "created_at": "2015-10-03T21:51:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274732",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/ncohen/19341](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19341)**



---

archive/issue_comments_274733.json:
```json
{
    "body": "Commit: **[`858e259`](https://github.com/sagemath/sagetrac-mirror/commit/858e25929ac6fef40bc762e660acba21f55f0d5d)**",
    "created_at": "2015-10-03T21:51:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274733",
    "user": "https://github.com/nathanncohen"
}
```

Commit: **[`858e259`](https://github.com/sagemath/sagetrac-mirror/commit/858e25929ac6fef40bc762e660acba21f55f0d5d)**



---

archive/issue_events_274401.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-10-03T21:51:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19341#event-274401"
}
```



---

archive/issue_comments_274734.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f465c96099ab3681ba1162eaf739c7768d8218ab\"><code>f465c96</code></a></td><td><code>trac #19340: Better interface for hadamard_matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/247a2bb4dcec180227cd9fb9bcd331a27a289016\"><code>247a2bb</code></a></td><td><code>trac #19340: Pre-existing bug that hid several paley constructions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/858e25929ac6fef40bc762e660acba21f55f0d5d\"><code>858e259</code></a></td><td><code>trac #19341: Cleaning/Fix in combinat/matrices/hadamard_matrix</code></td></tr></table>\n",
    "created_at": "2015-10-03T21:51:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274734",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f465c96099ab3681ba1162eaf739c7768d8218ab"><code>f465c96</code></a></td><td><code>trac #19340: Better interface for hadamard_matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/247a2bb4dcec180227cd9fb9bcd331a27a289016"><code>247a2bb</code></a></td><td><code>trac #19340: Pre-existing bug that hid several paley constructions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/858e25929ac6fef40bc762e660acba21f55f0d5d"><code>858e259</code></a></td><td><code>trac #19341: Cleaning/Fix in combinat/matrices/hadamard_matrix</code></td></tr></table>




---

archive/issue_comments_274735.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5a4bbff80f2aed2a5b549d6b64f215967bc5ec7\"><code>a5a4bbf</code></a></td><td><code>trac #19340: Pre-existing bug that hid several paley constructions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83bbce2b3d5e8940971f4fe3196e088d58fc018a\"><code>83bbce2</code></a></td><td><code>trac #19341: Cleaning/Fix in combinat/matrices/hadamard_matrix</code></td></tr></table>\n",
    "created_at": "2015-10-03T22:06:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274735",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5a4bbff80f2aed2a5b549d6b64f215967bc5ec7"><code>a5a4bbf</code></a></td><td><code>trac #19340: Pre-existing bug that hid several paley constructions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83bbce2b3d5e8940971f4fe3196e088d58fc018a"><code>83bbce2</code></a></td><td><code>trac #19341: Cleaning/Fix in combinat/matrices/hadamard_matrix</code></td></tr></table>




---

archive/issue_comments_274736.json:
```json
{
    "body": "Changed commit from **[`858e259`](https://github.com/sagemath/sagetrac-mirror/commit/858e25929ac6fef40bc762e660acba21f55f0d5d)** to **[`83bbce2`](https://github.com/sagemath/sagetrac-mirror/commit/83bbce2b3d5e8940971f4fe3196e088d58fc018a)**",
    "created_at": "2015-10-03T22:06:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274736",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`858e259`](https://github.com/sagemath/sagetrac-mirror/commit/858e25929ac6fef40bc762e660acba21f55f0d5d)** to **[`83bbce2`](https://github.com/sagemath/sagetrac-mirror/commit/83bbce2b3d5e8940971f4fe3196e088d58fc018a)**



---

archive/issue_comments_274737.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI pushed a branch at u/vdelecroix/19340 with one commit which creates a function hadamard_matrix_flint using flint.",
    "created_at": "2015-10-04T23:51:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274737",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

I pushed a branch at u/vdelecroix/19340 with one commit which creates a function hadamard_matrix_flint using flint.



---

archive/issue_comments_274738.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThen you will also have ton integrate it into `hadamard_matrix` if you want it to be merged with this branch. You can then write a doctest to compare it with the 'current' (i.e. after this branch) implementation of the paley matrices, which should be correct (but slower) now.\n\nNathann",
    "created_at": "2015-10-05T07:11:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274738",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:4" align="right">comment:4</div>

Then you will also have ton integrate it into `hadamard_matrix` if you want it to be merged with this branch. You can then write a doctest to compare it with the 'current' (i.e. after this branch) implementation of the paley matrices, which should be correct (but slower) now.

Nathann



---

archive/issue_comments_274739.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nplease don't use the coersion, unless really needed:\n\n```\nsage: # your implementation:\nsage: timeit('matrix(ZZ, [[2*((x-y).is_square()-.5) for x in K_list] for y in K_list])')\n5 loops, best of 3: 269 ms per loop\nsage: # a direct one:\nsage: timeit('matrix(ZZ, [[1 if (x-y).is_square() else -1 for x in K_list] for y in K_list])')\n25 loops, best of 3: 27.9 ms per loop\n```\n(this timing is for `p=3^5`)",
    "created_at": "2015-10-14T18:10:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274739",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

please don't use the coersion, unless really needed:

```
sage: # your implementation:
sage: timeit('matrix(ZZ, [[2*((x-y).is_square()-.5) for x in K_list] for y in K_list])')
5 loops, best of 3: 269 ms per loop
sage: # a direct one:
sage: timeit('matrix(ZZ, [[1 if (x-y).is_square() else -1 for x in K_list] for y in K_list])')
25 loops, best of 3: 27.9 ms per loop
```
(this timing is for `p=3^5`)



---

archive/issue_comments_274740.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHow am I supposed to write it instead?",
    "created_at": "2015-10-14T18:13:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274740",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

How am I supposed to write it instead?



---

archive/issue_comments_274741.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n`O_o`\n\nReally?... That's only because of float->ZZ ? `O_o`",
    "created_at": "2015-10-14T18:14:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274741",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

`O_o`

Really?... That's only because of float->ZZ ? `O_o`



---

archive/issue_comments_274742.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@nathanncohen](#comment:6):\n> How am I supposed to write it instead?\n\n\n```\n1 if (x-y).is_square() else -1\n```\ninstead of \n\n```\n2*((x-y).is_square()-.5)\n```\n\nmuch more readable too... ;-)",
    "created_at": "2015-10-14T18:19:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274742",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@nathanncohen](#comment:6):
> How am I supposed to write it instead?


```
1 if (x-y).is_square() else -1
```
instead of 

```
2*((x-y).is_square()-.5)
```

much more readable too... ;-)



---

archive/issue_comments_274743.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nWhat the hell. Just because I multiply a bool with an integer? What kind of language is that `O_o`",
    "created_at": "2015-10-14T18:20:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274743",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

What the hell. Just because I multiply a bool with an integer? What kind of language is that `O_o`



---

archive/issue_comments_274744.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAnyway. You are right. But I really did not expect such a diffrence `O_o`\n\nNathann",
    "created_at": "2015-10-14T18:21:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274744",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:10" align="right">comment:10</div>

Anyway. You are right. But I really did not expect such a diffrence `O_o`

Nathann



---

archive/issue_comments_274745.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@nathanncohen](#comment:9):\n> What the hell. Just because I multiply a bool with an integer? What kind of language is that `O_o`\n\n`python_digesting_a_rabbit`\n\nwell, there is also a float involved...",
    "created_at": "2015-10-14T18:23:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274745",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@nathanncohen](#comment:9):
> What the hell. Just because I multiply a bool with an integer? What kind of language is that `O_o`

`python_digesting_a_rabbit`

well, there is also a float involved...



---

archive/issue_comments_274746.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/105e16d3e20c97263a5357a71690798c5e6b479b\"><code>105e16d</code></a></td><td><code>trac #19341: Merged with 6.9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11590100b6520e833cf8de16732d85407d836214\"><code>1159010</code></a></td><td><code>trac #19341: Don't consider booleans as integers. Just don't.</code></td></tr></table>\n",
    "created_at": "2015-10-14T18:23:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274746",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/105e16d3e20c97263a5357a71690798c5e6b479b"><code>105e16d</code></a></td><td><code>trac #19341: Merged with 6.9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11590100b6520e833cf8de16732d85407d836214"><code>1159010</code></a></td><td><code>trac #19341: Don't consider booleans as integers. Just don't.</code></td></tr></table>




---

archive/issue_comments_274747.json:
```json
{
    "body": "Changed commit from **[`83bbce2`](https://github.com/sagemath/sagetrac-mirror/commit/83bbce2b3d5e8940971f4fe3196e088d58fc018a)** to **[`1159010`](https://github.com/sagemath/sagetrac-mirror/commit/11590100b6520e833cf8de16732d85407d836214)**",
    "created_at": "2015-10-14T18:23:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274747",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`83bbce2`](https://github.com/sagemath/sagetrac-mirror/commit/83bbce2b3d5e8940971f4fe3196e088d58fc018a)** to **[`1159010`](https://github.com/sagemath/sagetrac-mirror/commit/11590100b6520e833cf8de16732d85407d836214)**



---

archive/issue_comments_274748.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nwhy are there tests marked `# random` ?",
    "created_at": "2015-10-14T18:32:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274748",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

why are there tests marked `# random` ?



---

archive/issue_comments_274749.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2015-10-14T18:32:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274749",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_274750.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nby the way, `bool` is only a smaller part of the slowness:\n\n```\nsage: timeit('matrix(ZZ, [[1 if (x-y).is_square() else -1 for x in K_list] for y in K_list])')\n25 loops, best of 3: 27.9 ms per loop\nsage: timeit('matrix(ZZ, [[2*((x-y).is_square()-5) for x in K_list] for y in K_list])')\n5 loops, best of 3: 57.1 ms per loop\nsage: timeit('matrix(ZZ, [[2*((x-y).is_square()-.5) for x in K_list] for y in K_list])')\n5 loops, best of 3: 265 ms per loop\n```\nappearance of `float` causes most of the slowness.",
    "created_at": "2015-10-14T18:36:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274750",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">comment:14</div>

by the way, `bool` is only a smaller part of the slowness:

```
sage: timeit('matrix(ZZ, [[1 if (x-y).is_square() else -1 for x in K_list] for y in K_list])')
25 loops, best of 3: 27.9 ms per loop
sage: timeit('matrix(ZZ, [[2*((x-y).is_square()-5) for x in K_list] for y in K_list])')
5 loops, best of 3: 57.1 ms per loop
sage: timeit('matrix(ZZ, [[2*((x-y).is_square()-.5) for x in K_list] for y in K_list])')
5 loops, best of 3: 265 ms per loop
```
appearance of `float` causes most of the slowness.



---

archive/issue_comments_274751.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@dimpase](#comment:13):\n> why are there tests marked `# random` ?\n\nthe only possible source of randomness here I can imagine is in the construction of\nthe finite fields. But if you add `conway=True` then it's deterministic for sure, for Conway polynomial is unique for any given order...",
    "created_at": "2015-10-14T18:58:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274751",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@dimpase](#comment:13):
> why are there tests marked `# random` ?

the only possible source of randomness here I can imagine is in the construction of
the finite fields. But if you add `conway=True` then it's deterministic for sure, for Conway polynomial is unique for any given order...



---

archive/issue_comments_274752.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThe random is indeed caused by the finite field, and the order in which the elements are enumerated. Also these functions are now tested heavily, so whatever is returned by those functions should be what the user expects.",
    "created_at": "2015-10-14T19:21:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274752",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

The random is indeed caused by the finite field, and the order in which the elements are enumerated. Also these functions are now tested heavily, so whatever is returned by those functions should be what the user expects.



---

archive/issue_comments_274753.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOK, let's deal with FLINT matrices on another ticket.",
    "created_at": "2015-10-14T19:43:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274753",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

OK, let's deal with FLINT matrices on another ticket.



---

archive/issue_events_274402.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-10-14T19:43:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19341#event-274402"
}
```



---

archive/issue_events_274403.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-10-14T19:43:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19341#event-274403"
}
```



---

archive/issue_comments_274754.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nYep. At least it is correct now.\n\nThanks,\n\nNathann",
    "created_at": "2015-10-15T06:15:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274754",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:18" align="right">comment:18</div>

Yep. At least it is correct now.

Thanks,

Nathann



---

archive/issue_comments_274755.json:
```json
{
    "body": "Changed branch from **[u/ncohen/19341](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19341)** to **[`1159010`](https://github.com/sagemath/sagetrac-mirror/commit/11590100b6520e833cf8de16732d85407d836214)**",
    "created_at": "2015-10-16T08:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/19341#issuecomment-274755",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/ncohen/19341](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/19341)** to **[`1159010`](https://github.com/sagemath/sagetrac-mirror/commit/11590100b6520e833cf8de16732d85407d836214)**



---

archive/issue_events_274404.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-16T08:22:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19341#event-274404"
}
```



---

archive/issue_events_274405.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "db65de8bd9fc168faa50dd46123ca481f3b6f417",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-10-16T08:22:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/19341",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/19341#event-274405"
}
```
