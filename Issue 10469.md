# Issue 10469: Allow specifying coefficients of anticanonical hypersurfaces

Issue created by migration from https://trac.sagemath.org/ticket/10522

Original creator: novoselt

Original creation time: 2010-12-24 04:00:42

Assignee: AlexGhitza

CC:  vbraun

Currently one can only pick monomials which will be present in the defining polynomial of an anticanonical hypersurface of a CPR-Fano toric variety and choose names for coefficients of these monomials.

The patch allows using any rational functions as coefficients, in particular just concrete numbers. The base ring of the ambient space is automatically extended to include all coefficient names, but only if necessary.


---

Comment by novoselt created at 2010-12-24 04:56:53

Changing status from new to needs_review.


---

Comment by novoselt created at 2011-01-20 00:47:18

The new version applies without fuzz after #10525, although there is no real dependency.


---

Comment by vbraun created at 2011-01-28 21:11:17

Changing status from needs_review to needs_work.


---

Comment by vbraun created at 2011-01-28 21:11:17

I'd prefer it if "`Multivariate Polynomial Ring in no variables over Rational Field`" would just be "`Rational Field`" in this example:

```
sage: T2 = toric_varieties.P2().anticanonical_hypersurface(coefficients=[1,3,4,5,5])
sage: T2.coordinate_ring()
Quotient of Multivariate Polynomial Ring in x, y, z over Multivariate Polynomial Ring in no variables over Rational Field by the ideal (x^3 + 3*y^3 + 5*x*y*z + 4*z^3)
```

I think its within the scope of this ticket to get that right...


---

Comment by novoselt created at 2011-01-28 21:34:36

Good point, that definitely the behaviour I would like! So I added

```
    if not variables:
        return field
```



---

Comment by novoselt created at 2011-01-28 21:34:36

Changing status from needs_work to needs_review.


---

Comment by vbraun created at 2011-02-20 21:35:10

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2011-02-20 21:35:10

Looks good to me!


---

Comment by dsm created at 2011-02-23 12:02:11

Trivial typo: "if there is no such a natural map."


---

Comment by novoselt created at 2011-02-23 15:08:34

Replying to [comment:7 dsm]:
> Trivial typo: "if there is no such a natural map."

I don't understand where is the typo.


---

Comment by AlexGhitza created at 2011-02-23 21:16:23

Replying to [comment:8 novoselt]:
> Replying to [comment:7 dsm]:
> > Trivial typo: "if there is no such a natural map."
> 
> I don't understand where is the typo.

It should be "if there is no such natural map."


---

Comment by novoselt created at 2011-02-23 21:58:11

Removed "a"


---

Attachment

OK, fixed it, but it was not a typo, it was a mistake ;-)


---

Comment by jdemeyer created at 2011-03-08 21:46:05

Resolution: fixed
