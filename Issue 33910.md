# Issue 33910: Implement the quantum Clifford algebra at a root of unity

Issue created by migration from https://trac.sagemath.org/ticket/34147

Original creator: tscrim

Original creation time: 2022-07-11 02:01:56

CC:  chapoton

Keywords: quantum Clifford

This works for sufficiently large roots of unity: when q<sup>2k</sup> != 1. We provide a new implementation/basis when this q<sup>2k</sup> = 1.


---

Comment by tscrim created at 2022-07-11 02:13:29

A bit of refactoring to have some good programming practices. I also fixed a bug in the inverse not taking into account the coefficients and will use the (new-ish) general inverse code to check the generic case.
----
New commits:


---

Comment by tscrim created at 2022-07-11 02:13:29

Changing status from new to needs_review.


---

Comment by git created at 2022-07-12 01:44:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-07-13 16:08:10

please avoid using `except Exception`

otherwise looks good


---

Comment by git created at 2022-07-14 00:11:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2022-07-14 00:13:18

Replying to [comment:3 chapoton]:
> please avoid using `except Exception`

I couldn't figure out which exceptions to actually catch, so I decided to just let it fail.

(BTW, this type of catching is done elsewhere in Sage. What is your suggestion for catching exceptions when you want to catch basically all of them?)


---

Comment by chapoton created at 2022-07-14 06:23:08

here you may want to use the method `.fraction_field` and catch `AttributeError`


---

Comment by git created at 2022-07-15 05:36:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2022-07-15 05:37:27

Replying to [comment:6 chapoton]:
> here you may want to use the method `.fraction_field` and catch `AttributeError`

Fair point. I decided to use the `FractionField` function instead since that has a few other sageguards.


---

Comment by git created at 2022-08-02 01:30:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-08-06 09:04:30

linter badge says

```
sage/algebras/quantum_clifford.py:699:9: E306 expected 1 blank line before a nested definition, found 0
sage/algebras/quantum_clifford.py:738:9: E306 expected 1 blank line before a nested definition, found 0
2       E306 expected 1 blank line before a nested definition, found 0
```



---

Comment by git created at 2022-08-07 06:29:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2022-08-07 06:29:59

Fixed.


---

Comment by chapoton created at 2022-08-07 09:29:54

ok, then let it be.


---

Comment by chapoton created at 2022-08-07 09:29:54

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2022-08-07 09:38:28

Thank you!


---

Comment by vbraun created at 2022-08-29 11:24:57

Resolution: fixed
