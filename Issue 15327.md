# Issue 15327: Doc misformatting in toric varieties

Issue created by migration from Trac.

Original creator: SimonKing

Original creation time: 2013-12-22 00:07:41

CC:  vbraun

While building the docs, I noticed

```
[schemes  ] /home/king/Sage/git/sage/local/lib/python2.7/site-packages/sage/schemes/toric/library.py:docstring of sage.schemes.toric.library.ToricVarietyFactory.torus:7: WARNING: Inline interpreted text or phrase reference start-string without end-string.
```




---

Comment by SimonKing created at 2013-12-22 14:27:28

Volker, you are the author of `sage.schemes.toric.library`, so, you might know: Where can I find the source code of the unbound method `sage.schemes.toric.library.ToricVarietyFactory.torus`? I can't find it in the module, and seemingly it isn't inherited from a super class either. And while it is possible to see the source code with `sage.schemes.toric.library.ToricVarietyFactory.torus??`, I can't find it with `grep` anywhere in the sage sources, and `edit(sage.schemes.toric.library.ToricVarietyFactory.torus,'vim')` fails as well (it opens the last line of `sage/schemes/toric/library.py`).


---

Comment by vbraun created at 2013-12-22 14:46:51

I don't think we have that. I get

```
sage: sage.schemes.toric.library.ToricVarietyFactory.torus??
Object `sage.schemes.toric.library.ToricVarietyFactory.torus` not found.
```

You might have some cached old stuff in your src/doc/output directory, can you delete that and try again?


---

Comment by vbraun created at 2013-12-22 14:48:17

If you can see it on the command line, maybe try `sage -sync-build` to get rid of cached python stuff too. (after #15566)


---

Comment by SimonKing created at 2013-12-22 15:43:12

Replying to [comment:2 vbraun]:
> I don't think we have that. I get
> {{{
> sage: sage.schemes.toric.library.ToricVarietyFactory.torus??
> Object `sage.schemes.toric.library.ToricVarietyFactory.torus` not found.
> }}}

Interesting. I had that while I was reviewing #15562 and #15563.


---

Comment by vbraun created at 2013-12-22 15:53:50

The `torus` is from commit f00af8f6 and is a normal method in `src/sage/schemes/toric/library.py`. Actually, I wrote that ;-)


---

Comment by SimonKing created at 2013-12-22 15:56:55

Replying to [comment:5 vbraun]:
> The `torus` is from commit f00af8f6 and is a normal method in `src/sage/schemes/toric/library.py`. Actually, I wrote that ;-)

What ticket? I don't find the commit hash helpful.


---

Comment by SimonKing created at 2013-12-22 16:09:24

Anyway, it is in the develop branch. I needed to pull from trac before I got the torus method.


---

Comment by ncohen created at 2013-12-22 16:21:48

I'm working on this ticket, and fixing the broken links from the toric/ folder.

Nathann


---

Comment by SimonKing created at 2013-12-22 16:23:27

Replying to [comment:8 ncohen]:
> I'm working on this ticket, and fixing the broken links from the toric/ folder.
> 
> Nathann

On what ticket?? I am just pushing a rather trivial fix (namely: Remove one letter that Volker has accidentally put after a "`".


---

Comment by ncohen created at 2013-12-22 16:27:11

Ahahahah. Yeah yeah. Okay well, do it it's fine. I was trying to fix that and to do more stuff to improve the doc, but I just noticed that the reason why the doc will be HELL to fix is that those objects all use this category stuff, and it turns out I don't want to waste time with that `:-P`

These days I try to make the doc compile without warnings even when I use --warn-links to build the doc. It tells you when some sphinx links are broken, like the :meth:`whatever` links. And there are many such things in the toric/ folder, but even fixing the first one begins to be a nightmare `:-P`

Nathann


---

Comment by SimonKing created at 2013-12-22 16:50:08

Replying to [comment:10 ncohen]:
> These days I try to make the doc compile without warnings even when I use --warn-links to build the doc. It tells you when some sphinx links are broken, like the :meth:`whatever` links.

In this case, it was a `:func:`whatever`m` (note the additional "m" after the "whatever") that was responsible for breaking the link.

> And there are many such things in the toric/ folder, but even fixing the first one begins to be a nightmare `:-P`

Well, I found this first one rather easy `:-P`
----
New commits:


---

Comment by SimonKing created at 2013-12-22 16:50:08

Changing status from new to needs_review.


---

Comment by vbraun created at 2013-12-22 16:52:07

Thanks!


---

Comment by vbraun created at 2013-12-22 16:52:07

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2013-12-22 16:53:20

> > And there are many such things in the toric/ folder, but even fixing the first one begins to be a nightmare `:-P`
> 
> Well, I found this first one rather easy `:-P`

Ahahah. Well yep, but the link toward the `relations` method that you can find in the docstring of `relation_gens` of `chow_group.py` point toward nothing. This link, and many others, even if Sphinx just silently ignores it `:-/`

Nathann


---

Comment by vbraun created at 2013-12-23 12:44:13

Any reason for removing my name from "Reviewer:"? ;)


---

Comment by ncohen created at 2013-12-23 12:55:16

Ahem. None, sorry. I begun to answer before you set it, and my form contained an empty reviewer field when I clicked on "submit" `^^;`

Nathann


---

Comment by vbraun created at 2013-12-24 20:24:18

Resolution: fixed
