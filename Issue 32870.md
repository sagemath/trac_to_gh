# Issue 32870: Generic cholesky() fails on the trivial matrix

Issue created by migration from https://trac.sagemath.org/ticket/33107

Original creator: mjo

Original creation time: 2022-01-02 14:58:16


```
sage: A = matrix(QQ,[])
sage: A.cholesky()
...
IndexError: matrix index out of range
```


If we simply return `A` itself in this case, the definition of the decomposition is satisfied.



---

Comment by mjo created at 2022-01-02 16:19:48

Changing status from new to needs_review.


---

Comment by mjo created at 2022-01-02 16:19:48

New commits:


---

Comment by git created at 2022-01-02 16:20:49

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by @mwageringel created at 2022-01-03 16:31:43


```
sage: matrix(QQ, [[1]]).cholesky().is_immutable()
True
```


Usually, `.cholesky()` returns an immutable matrix. Should we do that in the 0Ã—0 case as well, for consistency? For example, the subdivisions could be mutated, otherwise.


---

Comment by git created at 2022-01-03 16:58:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @mwageringel created at 2022-01-04 11:40:09

Thanks.


---

Comment by @mwageringel created at 2022-01-04 11:40:09

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2022-01-30 15:39:13

Setting milestone to 9.6 now that 9.5 is out.


---

Comment by vbraun created at 2022-02-12 22:04:51

Resolution: fixed
