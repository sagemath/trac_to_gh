# Issue 31656: Fix timeout in sageinspect.py tests

archive/issues_031656.json:
```json
{
    "body": "CC:  @slel\n\nKeywords: timeout, speed\n\nI was browsing https://github.com/sagemath/sage/actions\nand noticed a lot of\n\n```\nsage -t --random-seed=0 src/sage/misc/sageinspect.py\n    Timed out\n```\nin many logs of **Run SAGE_ROOT/tox.ini**\n\nWe improve and significantly speed up one doctest,\nthereby fixing these timeouts.\n\nBefore:\n\n```\nsage -t --long --random-seed=0 src/sage/misc/sageinspect.py\n    [340 tests, 158.98 s]\n```\nAfter:\n\n```\nsage -t --long --random-seed=0 src/sage/misc/sageinspect.py\n    [340 tests, 34.82 s]\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/31893\n\n",
    "closed_at": "2021-06-19T20:58:47Z",
    "created_at": "2021-06-01T13:50:22Z",
    "labels": [
        "component: performance",
        "critical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Fix timeout in sageinspect.py tests",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31656",
    "user": "https://github.com/sheerluck"
}
```
CC:  @slel

Keywords: timeout, speed

I was browsing https://github.com/sagemath/sage/actions
and noticed a lot of

```
sage -t --random-seed=0 src/sage/misc/sageinspect.py
    Timed out
```
in many logs of **Run SAGE_ROOT/tox.ini**

We improve and significantly speed up one doctest,
thereby fixing these timeouts.

Before:

```
sage -t --long --random-seed=0 src/sage/misc/sageinspect.py
    [340 tests, 158.98 s]
```
After:

```
sage -t --long --random-seed=0 src/sage/misc/sageinspect.py
    [340 tests, 34.82 s]
```

Issue created by migration from https://trac.sagemath.org/ticket/31893





---

archive/issue_comments_451519.json:
```json
{
    "body": "Nice!  If ready for review, please add\nauthor full name and set to needs-review.",
    "created_at": "2021-06-01T15:25:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31656#issuecomment-451519",
    "user": "https://github.com/slel"
}
```

Nice!  If ready for review, please add
author full name and set to needs-review.



---

archive/issue_comments_451520.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-01T15:30:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31656#issuecomment-451520",
    "user": "https://github.com/sheerluck"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_451521.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-01T15:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31656#issuecomment-451521",
    "user": "https://github.com/slel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_451522.json:
```json
{
    "body": "Fantastic.",
    "created_at": "2021-06-01T15:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31656#issuecomment-451522",
    "user": "https://github.com/slel"
}
```

Fantastic.



---

archive/issue_comments_451523.json:
```json
{
    "body": "Changing keywords from \"\" to \"timeout, speed\".",
    "created_at": "2021-06-01T15:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31656#issuecomment-451523",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "timeout, speed".



---

archive/issue_comments_451524.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2021-06-01T15:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31656#issuecomment-451524",
    "user": "https://github.com/slel"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_451525.json:
```json
{
    "body": "seriously, guys, every time you run https://github.com/username/sage/actions/ without this branch merged in `develop`, one little kitten dies somewhere :-(\nPlease merge this branch in `develop` as soon as it is possible.",
    "created_at": "2021-06-07T08:01:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31656#issuecomment-451525",
    "user": "https://github.com/sheerluck"
}
```

seriously, guys, every time you run https://github.com/username/sage/actions/ without this branch merged in `develop`, one little kitten dies somewhere :-(
Please merge this branch in `develop` as soon as it is possible.



---

archive/issue_comments_451526.json:
```json
{
    "body": "Replying to [comment:5 gh-sheerluck]:\n> seriously, guys, every time you run https://github.com/username/sage/actions/ without this branch merged in `develop`, one little kitten dies somewhere :-(\n> Please merge this branch in `develop` as soon as it is possible.\n\n\nWell, some tickets have been waiting in positive review state since 2 months.",
    "created_at": "2021-06-07T09:38:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31656#issuecomment-451526",
    "user": "https://github.com/fchapoton"
}
```

Replying to [comment:5 gh-sheerluck]:
> seriously, guys, every time you run https://github.com/username/sage/actions/ without this branch merged in `develop`, one little kitten dies somewhere :-(
> Please merge this branch in `develop` as soon as it is possible.


Well, some tickets have been waiting in positive review state since 2 months.



---

archive/issue_comments_451527.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2021-06-07T09:38:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31656#issuecomment-451527",
    "user": "https://github.com/fchapoton"
}
```

Changing priority from major to critical.



---

archive/issue_comments_451528.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-06-19T20:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31656#issuecomment-451528",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_084258.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-19T20:58:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31656",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31656#event-84258"
}
```
