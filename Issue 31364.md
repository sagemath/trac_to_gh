# Issue 31364: threejs does not allow to rotate the object in any direction

archive/issues_031364.json:
```json
{
    "body": "CC:  egourgoulhon @jcamp0x2a paulmasson slelievre @guenterrote\n\nHere is an example to reproduce it yourself: \n\n\n```\ntheta,z=var('theta,z')\nc = cylindrical_plot3d(2,(theta,0,2*pi),(z,-5,5))\n```\n\n\nCompare\n\n\n```\nc.show(aspect_ratio=1)\n```\n\n\nwith\n\n\n```\nc.show(viewer='jmol', aspect_ratio=1)\n```\n\n\nIn the `threejs` case, it is only possible to rotate the cylinder around its own axis, and along one horizontal axis. For example, it seems impossible to turn the cylinder so that it looks horizontal.\n\nIssue created by migration from https://trac.sagemath.org/ticket/31601\n\n",
    "created_at": "2021-04-03T12:39:22Z",
    "labels": [
        "graphics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "threejs does not allow to rotate the object in any direction",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31364",
    "user": "tmonteil"
}
```
CC:  egourgoulhon @jcamp0x2a paulmasson slelievre @guenterrote

Here is an example to reproduce it yourself: 


```
theta,z=var('theta,z')
c = cylindrical_plot3d(2,(theta,0,2*pi),(z,-5,5))
```


Compare


```
c.show(aspect_ratio=1)
```


with


```
c.show(viewer='jmol', aspect_ratio=1)
```


In the `threejs` case, it is only possible to rotate the cylinder around its own axis, and along one horizontal axis. For example, it seems impossible to turn the cylinder so that it looks horizontal.

Issue created by migration from https://trac.sagemath.org/ticket/31601





---

archive/issue_comments_448790.json:
```json
{
    "body": "The viewer currently uses Three.js's `OrbitControls` to control the camera: https://threejs.org/examples/#misc_controls_orbit\n\nThree.js also has a `TrackballControls` that might be useable with a bit of modification to the viewer: https://threejs.org/examples/#misc_controls_trackball\n\nThe trackball controls have no fixed \"up\" direction like the orbit controls. Is that similar to what you had in mind?",
    "created_at": "2021-04-03T17:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31364#issuecomment-448790",
    "user": "@jcamp0x2a"
}
```

The viewer currently uses Three.js's `OrbitControls` to control the camera: https://threejs.org/examples/#misc_controls_orbit

Three.js also has a `TrackballControls` that might be useable with a bit of modification to the viewer: https://threejs.org/examples/#misc_controls_trackball

The trackball controls have no fixed "up" direction like the orbit controls. Is that similar to what you had in mind?



---

archive/issue_comments_448791.json:
```json
{
    "body": "Replying to [comment:1 gh-jcamp0x2a]:\n> The viewer currently uses Three.js's `OrbitControls` to control the camera: https://threejs.org/examples/#misc_controls_orbit\n> \n> Three.js also has a `TrackballControls` that might be useable with a bit of modification to the viewer: https://threejs.org/examples/#misc_controls_trackball\n> \n> The trackball controls have no fixed \"up\" direction like the orbit controls. Is that similar to what you had in mind?\n\nYes it seems that `TrackballControls` would do the job, though it should still be tested within Sage context.",
    "created_at": "2021-04-06T22:23:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31364#issuecomment-448791",
    "user": "tmonteil"
}
```

Replying to [comment:1 gh-jcamp0x2a]:
> The viewer currently uses Three.js's `OrbitControls` to control the camera: https://threejs.org/examples/#misc_controls_orbit
> 
> Three.js also has a `TrackballControls` that might be useable with a bit of modification to the viewer: https://threejs.org/examples/#misc_controls_trackball
> 
> The trackball controls have no fixed "up" direction like the orbit controls. Is that similar to what you had in mind?

Yes it seems that `TrackballControls` would do the job, though it should still be tested within Sage context.
