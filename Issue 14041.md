# Issue 14041: Cloning doesn't properly copy the _static doc directory

Issue created by migration from https://trac.sagemath.org/ticket/14245

Original creator: hivert

Original creation time: 2013-03-08 12:23:51

Assignee: mvngu

CC:  jhpalmieri leif niles hivert mguaypaq mhansen

Keywords: _static

Hi There,

When cloning Sage (eg: for combinat), the doc is copied but not properly:
Before the clone in
`doc/output/html/en/reference/numerical` there is a symlink `_static` to `../_static`. After the clone, it is an empty directory.

Maybe it should be a blocker !

Florent


---

Comment by hivert created at 2013-03-08 12:24:06

Changing type from enhancement to defect.


---

Comment by kcrisman created at 2013-03-08 12:41:43

Changing priority from critical to blocker.


---

Comment by jhpalmieri created at 2013-03-08 17:03:06

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2013-03-08 17:03:06

Changing keywords from "_static" to "_static clone".


---

Comment by jhpalmieri created at 2013-03-08 17:03:06

I think this patch will fix the problem. I also think that the sage-clone script could use some attention in general, but now is not the time.


---

Comment by hivert created at 2013-03-10 21:59:18

I'm testing this patch currently but I think I'll give it positive review.

Florent


---

Comment by hivert created at 2013-03-10 22:06:52

Hum ! The problem of copying the `_static` directory is fixed but there is another one: There is a lot of 

```
WARNING: toctree contains reference to nonexisting document '...'
```

and indeed the doc is empty. This should also be fixed. I'm investigating for the cause.


---

Comment by hivert created at 2013-03-10 22:41:04

Ok ! I think I got it. During cloning the directories such as

```
doc/en/reference/algebras/sage
doc/en/reference/calculus/sage
...
```

are note copied. Sorry I have to go to bed... I'll fix this tomorrow if no one beats me.


---

Comment by jhpalmieri created at 2013-03-10 23:34:18

Sorry, I missed that. Here's a better attempt.


---

Comment by jhpalmieri created at 2013-03-10 23:34:34

scripts repo


---

Attachment

Looks good to me. Thanks !


---

Comment by hivert created at 2013-03-10 23:50:17

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2013-03-10 23:58:09

I wonder if we should (on another ticket, like #13245) also disable docbuilding altogether when cloning...


---

Comment by leif created at 2013-03-11 04:18:48

Replying to [comment:9 jhpalmieri]:
> I wonder if we should (on another ticket, like #13245) also disable docbuilding altogether when cloning...

+N


---

Comment by jdemeyer created at 2013-03-13 10:51:32

Resolution: fixed
