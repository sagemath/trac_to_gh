# Issue 12724: make coverageall print the number of untested functions

Issue created by migration from Trac.

Original creator: AlexGhitza

Original creation time: 2012-05-01 22:02:28

Assignee: mvngu

Keywords: coverageall

The upcoming patch adds a line to the output of `sage -coverageall`, with the number of untested functions.  It also fixes a plural.  Here is an example of the new output:


```
[aghitza`@`cerelia sage-5.0.beta13]$ ./sage -coverageall devel/sage/sage/coding
ag_code.py: 100% (1 of 1)
binary_code.pyx: 91% (41 of 45)
code_bounds.py: 100% (17 of 17)
code_constructions.py: 96% (25 of 26)
decoder.py: 100% (3 of 3)
guava.py: 100% (3 of 3)
linear_code.py: 82% (52 of 63)
sd_codes.py: 20% (1 of 5)
source_coding/huffman.py: 100% (9 of 9)

Overall weighted coverage score:  88.1%
Total number of functions:  172
Number of untested functions:  20
We need    3 more function(s) to get to 90% coverage.
We need   11 more function(s) to get to 95% coverage.
We need   18 more function(s) to get to 99% coverage.
```



---

Comment by AlexGhitza created at 2012-05-01 22:15:34

scripts repo


---

Attachment


---

Comment by AlexGhitza created at 2012-05-01 22:25:04

Changing status from new to needs_review.


---

Comment by aapitzsch created at 2012-05-03 18:14:14

With the exact number of untested functions we don't have to estimate `scr` by

```
scr = 0
```


```
i = y.rfind(':')
j = y.rfind('%')
scr += int(y[i+1:j]) * float(n)
```

and should use

```
scr = (total - untested) * 100
```

instead.

Also take note of #5859.


---

Comment by aapitzsch created at 2012-05-03 18:14:14

Changing status from needs_review to needs_work.
