# Issue 34495: more opportunistic caching of elliptic-curve and point orders

Issue created by migration from https://trac.sagemath.org/ticket/34732

Original creator: lorenz

Original creation time: 2022-11-08 14:04:18

CC:  defeo cremona tscrim

This is a follow-up to #32786 with the following changes:

- Copy curve orders between domain and codomain for all `EllipticCurveHom` instances of nonzero degree, rather than (previously) just `EllipticCurveIsogeny` objects.
- Copy point orders when pushing a point through an isomorphism.
- Copy point orders when pushing a point through an isogeny of degree coprime to the point order.
- Rearrange some computations in the √élu code (#34303, #34614) to make (better) use of cached orders; in particular, this unbreaks the use of `.set_order()` on the kernel point prior to passing it to `EllipticCurveHom_velusqrt`. [Thanks to Jonathan Komada Eriksen for reporting this last issue.]


---

Comment by lorenz created at 2022-11-08 16:20:17

Changing status from new to needs_review.


---

Comment by tscrim created at 2022-11-15 08:40:11

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2022-11-15 08:40:11

LGTM.


---

Comment by vbraun created at 2022-11-20 12:13:31

Resolution: fixed
