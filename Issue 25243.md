# Issue 25243: upgrade cryptominisat (and put back as optional)

archive/issues_025243.json:
```json
{
    "body": "CC:  tmonteil embray saraedum slelievre\n\nUpstream cryptominisat fixed compilation issues. There is a prerelease available at\n\n    https://github.com/msoos/cryptominisat/releases/tag/5.6.0\n\nIssue created by migration from https://trac.sagemath.org/ticket/25480\n\n",
    "created_at": "2018-05-31T10:32:30Z",
    "labels": [
        "packages: optional",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "upgrade cryptominisat (and put back as optional)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25243",
    "user": "vdelecroix"
}
```
CC:  tmonteil embray saraedum slelievre

Upstream cryptominisat fixed compilation issues. There is a prerelease available at

    https://github.com/msoos/cryptominisat/releases/tag/5.6.0

Issue created by migration from https://trac.sagemath.org/ticket/25480





---

archive/issue_comments_355803.json:
```json
{
    "body": "Experimental branch (for the prerelease). I will update the branch as soon as the definitive release is out. Please test in the meantime (works for me with Python2 but did not check with Python3).\n----\nNew commits:",
    "created_at": "2018-05-31T10:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355803",
    "user": "vdelecroix"
}
```

Experimental branch (for the prerelease). I will update the branch as soon as the definitive release is out. Please test in the meantime (works for me with Python2 but did not check with Python3).
----
New commits:



---

archive/issue_comments_355804.json:
```json
{
    "body": "Changing keywords from \"\" to \"cryptominisat, upgrade\".",
    "created_at": "2018-05-31T10:58:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355804",
    "user": "slelievre"
}
```

Changing keywords from "" to "cryptominisat, upgrade".



---

archive/issue_comments_355805.json:
```json
{
    "body": "Cryptominisat 5.6.3 was released, do you mind using that instead of 5.6.1?",
    "created_at": "2018-06-11T12:09:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355805",
    "user": "slelievre"
}
```

Cryptominisat 5.6.3 was released, do you mind using that instead of 5.6.1?



---

archive/issue_comments_355806.json:
```json
{
    "body": "Still not able to build crypotiminisat (archlinux and gcc 8.1.1)\n\n```\n[ 84%] Building CXX object cmsat5-src/CMakeFiles/libcryptominisat5.dir/cryptominisat.cpp.o\ncd /opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src/cmsat5-src && /usr/lib/ccache/bin/g++  -DBOOST_TEST_DYN_LINK -DUSE_GAUSS -DUSE_M4RI -DUSE_ZLIB -Dlibcryptominisat5_EXPORTS -I/opt\n/sage/local/include -I/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src -I/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src/cmsat5-src  -mtune=native -Wall -Wextra -Wunused \n-Wsign-compare -fno-omit-frame-pointer -Wtype-limits -Wuninitialized -Wno-deprecated -Wstrict-aliasing -Wpointer-arith -Wpointer-arith -Wformat-nonliteral -Winit-self -Wparentheses -Wunreacha\nble-code -ggdb3 -Wlogical-op -Wrestrict -Wnull-dereference -Wdouble-promotion -Wshadow -Wformat=2 -Wextra-semi -pedantic -Wno-class-memaccess -fPIC   -g -pthread -O2 -mtune=native -fPIC -std=\ngnu++11 -o CMakeFiles/libcryptominisat5.dir/cryptominisat.cpp.o -c /opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src/src/cryptominisat.cpp\n../src/cryptominisat.cpp:1059:17: error: no declaration matches 'void CMSat::SATSolver::start_getting_small_clauses(uint32_t, uint32_t)'\n void DLL_PUBLIC SATSolver::start_getting_small_clauses(uint32_t max_len, uint32_t max_glue)\n                 ^~~~~~~~~\n../src/cryptominisat.cpp:1059:17: note: no functions named 'void CMSat::SATSolver::start_getting_small_clauses(uint32_t, uint32_t)'\nIn file included from ../src/cryptominisat.cpp:24:\n../../../../../../../include/cryptominisat5/cryptominisat.h:41:11: note: 'class CMSat::SATSolver' defined here\n     class SATSolver\n           ^~~~~~~~~\n../src/cryptominisat.cpp:1065:17: error: no declaration matches 'bool CMSat::SATSolver::get_next_small_clause(std::vector<CMSat::Lit>&)'\n bool DLL_PUBLIC SATSolver::get_next_small_clause(std::vector<Lit>& out)\n                 ^~~~~~~~~\n../src/cryptominisat.cpp:1065:17: note: no functions named 'bool CMSat::SATSolver::get_next_small_clause(std::vector<CMSat::Lit>&)'\nIn file included from ../src/cryptominisat.cpp:24:\n../../../../../../../include/cryptominisat5/cryptominisat.h:41:11: note: 'class CMSat::SATSolver' defined here\n     class SATSolver\n           ^~~~~~~~~\n../src/cryptominisat.cpp:1071:17: error: no declaration matches 'void CMSat::SATSolver::end_getting_small_clauses()'\n void DLL_PUBLIC SATSolver::end_getting_small_clauses()\n                 ^~~~~~~~~\n../src/cryptominisat.cpp:1071:17: note: no functions named 'void CMSat::SATSolver::end_getting_small_clauses()'\nIn file included from ../src/cryptominisat.cpp:24:\n../../../../../../../include/cryptominisat5/cryptominisat.h:41:11: note: 'class CMSat::SATSolver' defined here\n     class SATSolver\n           ^~~~~~~~~\nmake[4]: *** [cmsat5-src/CMakeFiles/libcryptominisat5.dir/build.make:596: cmsat5-src/CMakeFiles/libcryptominisat5.dir/cryptominisat.cpp.o] Error 1\nmake[4]: Leaving directory '/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src'\nmake[3]: *** [CMakeFiles/Makefile2:198: cmsat5-src/CMakeFiles/libcryptominisat5.dir/all] Error 2\nmake[3]: Leaving directory '/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src'\nmake[2]: *** [Makefile:130: all] Error 2\nmake[2]: Leaving directory '/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src'\n********************************************************************************\nError building cryptominisat-5.6.3\n********************************************************************************\n```\n",
    "created_at": "2018-06-17T10:00:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355806",
    "user": "vdelecroix"
}
```

Still not able to build crypotiminisat (archlinux and gcc 8.1.1)

```
[ 84%] Building CXX object cmsat5-src/CMakeFiles/libcryptominisat5.dir/cryptominisat.cpp.o
cd /opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src/cmsat5-src && /usr/lib/ccache/bin/g++  -DBOOST_TEST_DYN_LINK -DUSE_GAUSS -DUSE_M4RI -DUSE_ZLIB -Dlibcryptominisat5_EXPORTS -I/opt
/sage/local/include -I/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src -I/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src/cmsat5-src  -mtune=native -Wall -Wextra -Wunused 
-Wsign-compare -fno-omit-frame-pointer -Wtype-limits -Wuninitialized -Wno-deprecated -Wstrict-aliasing -Wpointer-arith -Wpointer-arith -Wformat-nonliteral -Winit-self -Wparentheses -Wunreacha
ble-code -ggdb3 -Wlogical-op -Wrestrict -Wnull-dereference -Wdouble-promotion -Wshadow -Wformat=2 -Wextra-semi -pedantic -Wno-class-memaccess -fPIC   -g -pthread -O2 -mtune=native -fPIC -std=
gnu++11 -o CMakeFiles/libcryptominisat5.dir/cryptominisat.cpp.o -c /opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src/src/cryptominisat.cpp
../src/cryptominisat.cpp:1059:17: error: no declaration matches 'void CMSat::SATSolver::start_getting_small_clauses(uint32_t, uint32_t)'
 void DLL_PUBLIC SATSolver::start_getting_small_clauses(uint32_t max_len, uint32_t max_glue)
                 ^~~~~~~~~
../src/cryptominisat.cpp:1059:17: note: no functions named 'void CMSat::SATSolver::start_getting_small_clauses(uint32_t, uint32_t)'
In file included from ../src/cryptominisat.cpp:24:
../../../../../../../include/cryptominisat5/cryptominisat.h:41:11: note: 'class CMSat::SATSolver' defined here
     class SATSolver
           ^~~~~~~~~
../src/cryptominisat.cpp:1065:17: error: no declaration matches 'bool CMSat::SATSolver::get_next_small_clause(std::vector<CMSat::Lit>&)'
 bool DLL_PUBLIC SATSolver::get_next_small_clause(std::vector<Lit>& out)
                 ^~~~~~~~~
../src/cryptominisat.cpp:1065:17: note: no functions named 'bool CMSat::SATSolver::get_next_small_clause(std::vector<CMSat::Lit>&)'
In file included from ../src/cryptominisat.cpp:24:
../../../../../../../include/cryptominisat5/cryptominisat.h:41:11: note: 'class CMSat::SATSolver' defined here
     class SATSolver
           ^~~~~~~~~
../src/cryptominisat.cpp:1071:17: error: no declaration matches 'void CMSat::SATSolver::end_getting_small_clauses()'
 void DLL_PUBLIC SATSolver::end_getting_small_clauses()
                 ^~~~~~~~~
../src/cryptominisat.cpp:1071:17: note: no functions named 'void CMSat::SATSolver::end_getting_small_clauses()'
In file included from ../src/cryptominisat.cpp:24:
../../../../../../../include/cryptominisat5/cryptominisat.h:41:11: note: 'class CMSat::SATSolver' defined here
     class SATSolver
           ^~~~~~~~~
make[4]: *** [cmsat5-src/CMakeFiles/libcryptominisat5.dir/build.make:596: cmsat5-src/CMakeFiles/libcryptominisat5.dir/cryptominisat.cpp.o] Error 1
make[4]: Leaving directory '/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src'
make[3]: *** [CMakeFiles/Makefile2:198: cmsat5-src/CMakeFiles/libcryptominisat5.dir/all] Error 2
make[3]: Leaving directory '/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src'
make[2]: *** [Makefile:130: all] Error 2
make[2]: Leaving directory '/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src'
********************************************************************************
Error building cryptominisat-5.6.3
********************************************************************************
```




---

archive/issue_comments_355807.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-06-17T10:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355807",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_355808.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-05T06:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355808",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_355809.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-05T06:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355809",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355810.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-05T06:38:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355810",
    "user": "vdelecroix"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_355811.json:
```json
{
    "body": "cryptominisat links to libm4ri, so that should be a normal dependency:\n\n```\n        linux-vdso64.so.1 =>  (0x00003fff925a0000)\n        libm4ri-0.0.20140914.so => /home/jdemeyer/sage-test/local/lib/libm4ri-0.0.20140914.so (0x00003fff923f0000)\n        libstdc++.so.6 => /usr/lib/powerpc64le-linux-gnu/libstdc++.so.6 (0x00003fff921d0000)\n        libm.so.6 => /lib/powerpc64le-linux-gnu/libm.so.6 (0x00003fff920e0000)\n        libgcc_s.so.1 => /lib/powerpc64le-linux-gnu/libgcc_s.so.1 (0x00003fff920b0000)\n        libpthread.so.0 => /lib/powerpc64le-linux-gnu/libpthread.so.0 (0x00003fff92070000)\n        libc.so.6 => /lib/powerpc64le-linux-gnu/libc.so.6 (0x00003fff91ea0000)\n        libpng16.so.16 => /home/jdemeyer/sage-test/local/lib/libpng16.so.16 (0x00003fff91e20000)\n        /lib64/ld64.so.2 (0x00003fff925c0000)\n        libz.so.1 => /home/jdemeyer/sage-test/local/lib/libz.so.1 (0x00003fff91de0000)\n```\n",
    "created_at": "2018-07-05T09:01:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355811",
    "user": "jdemeyer"
}
```

cryptominisat links to libm4ri, so that should be a normal dependency:

```
        linux-vdso64.so.1 =>  (0x00003fff925a0000)
        libm4ri-0.0.20140914.so => /home/jdemeyer/sage-test/local/lib/libm4ri-0.0.20140914.so (0x00003fff923f0000)
        libstdc++.so.6 => /usr/lib/powerpc64le-linux-gnu/libstdc++.so.6 (0x00003fff921d0000)
        libm.so.6 => /lib/powerpc64le-linux-gnu/libm.so.6 (0x00003fff920e0000)
        libgcc_s.so.1 => /lib/powerpc64le-linux-gnu/libgcc_s.so.1 (0x00003fff920b0000)
        libpthread.so.0 => /lib/powerpc64le-linux-gnu/libpthread.so.0 (0x00003fff92070000)
        libc.so.6 => /lib/powerpc64le-linux-gnu/libc.so.6 (0x00003fff91ea0000)
        libpng16.so.16 => /home/jdemeyer/sage-test/local/lib/libpng16.so.16 (0x00003fff91e20000)
        /lib64/ld64.so.2 (0x00003fff925c0000)
        libz.so.1 => /home/jdemeyer/sage-test/local/lib/libz.so.1 (0x00003fff91de0000)
```




---

archive/issue_comments_355812.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-05T09:01:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355812",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_355813.json:
```json
{
    "body": "Same for libz and libpng.",
    "created_at": "2018-07-05T09:03:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355813",
    "user": "jdemeyer"
}
```

Same for libz and libpng.



---

archive/issue_comments_355814.json:
```json
{
    "body": "This seems to build only Python 3 bindings. From the logfile:\n\n```\n-- Found PythonInterp: /home/jdemeyer/sage-git/local/bin/python3 (found suitable version \"3.6.1\", minimum required is \"3\")\n-- Found PythonLibs: /home/jdemeyer/sage-git/local/lib/libpython3.6m.so (found suitable version \"3.6.1\", minimum required is \"3\")\n-- Python 3 -- PYTHON_EXECUTABLE=/home/jdemeyer/sage-git/local/bin/python3\n-- Python 3 -- PYTHON_LIBRARIES=/home/jdemeyer/sage-git/local/lib/libpython3.6m.so\n-- Python 3 -- PYTHON_INCLUDE_DIRS=/home/jdemeyer/sage-git/local/include/python3.6m\n-- Python 3 -- PYTHONLIBS_VERSION_STRING=3.6.1\n```\n",
    "created_at": "2018-07-05T14:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355814",
    "user": "jdemeyer"
}
```

This seems to build only Python 3 bindings. From the logfile:

```
-- Found PythonInterp: /home/jdemeyer/sage-git/local/bin/python3 (found suitable version "3.6.1", minimum required is "3")
-- Found PythonLibs: /home/jdemeyer/sage-git/local/lib/libpython3.6m.so (found suitable version "3.6.1", minimum required is "3")
-- Python 3 -- PYTHON_EXECUTABLE=/home/jdemeyer/sage-git/local/bin/python3
-- Python 3 -- PYTHON_LIBRARIES=/home/jdemeyer/sage-git/local/lib/libpython3.6m.so
-- Python 3 -- PYTHON_INCLUDE_DIRS=/home/jdemeyer/sage-git/local/include/python3.6m
-- Python 3 -- PYTHONLIBS_VERSION_STRING=3.6.1
```




---

archive/issue_comments_355815.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-05T15:59:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355815",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355816.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-07-05T16:00:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355816",
    "user": "vdelecroix"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_355817.json:
```json
{
    "body": "It is apparently not possible to compile for both Python2 and Python3 (see [issue 498](https://github.com/msoos/cryptominisat/issues/498)). For now Python2 is forced.",
    "created_at": "2018-07-05T16:00:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355817",
    "user": "vdelecroix"
}
```

It is apparently not possible to compile for both Python2 and Python3 (see [issue 498](https://github.com/msoos/cryptominisat/issues/498)). For now Python2 is forced.



---

archive/issue_comments_355818.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-05T16:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355818",
    "user": "vdelecroix"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_355819.json:
```json
{
    "body": "This is annoying\n\n```\n-- Found m4ri: /usr/lib/libm4ri.so  \n-- OK, Found M4RI lib at /usr/lib/libm4ri.so and includes at /usr/include\n```\n\nshould be using the one from Sage...",
    "created_at": "2018-07-05T16:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355819",
    "user": "vdelecroix"
}
```

This is annoying

```
-- Found m4ri: /usr/lib/libm4ri.so  
-- OK, Found M4RI lib at /usr/lib/libm4ri.so and includes at /usr/include
```

should be using the one from Sage...



---

archive/issue_comments_355820.json:
```json
{
    "body": "Though linking looks fine\n\n```\n$ ldd /opt/sage/local/lib/libcryptominisat5.so\n...\n        libm4ri-0.0.20140914.so => /opt/sage/local/lib/libm4ri-0.0.20140914.so (0x00007f10dc270000)\n...\n```\n",
    "created_at": "2018-07-05T16:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355820",
    "user": "vdelecroix"
}
```

Though linking looks fine

```
$ ldd /opt/sage/local/lib/libcryptominisat5.so
...
        libm4ri-0.0.20140914.so => /opt/sage/local/lib/libm4ri-0.0.20140914.so (0x00007f10dc270000)
...
```




---

archive/issue_comments_355821.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-09T14:40:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355821",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_355822.json:
```json
{
    "body": "rebased on rc0. Installation should work with both python2 and python3.\n\nI was not able to properly fix the configuration to detect m4ri nicely.",
    "created_at": "2018-07-09T14:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355822",
    "user": "vdelecroix"
}
```

rebased on rc0. Installation should work with both python2 and python3.

I was not able to properly fix the configuration to detect m4ri nicely.



---

archive/issue_comments_355823.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-07-09T14:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355823",
    "user": "vdelecroix"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_355824.json:
```json
{
    "body": "[comment:13]",
    "created_at": "2018-07-09T18:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355824",
    "user": "jdemeyer"
}
```

[comment:13]



---

archive/issue_comments_355825.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-09T18:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355825",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_355826.json:
```json
{
    "body": "Not happy with?\n\n```diff\ndiff --git a/build/pkgs/cryptominisat/dependencies b/build/pkgs/cryptominisat/dependencies\nindex df51e31274..a199426946 100644\n--- a/build/pkgs/cryptominisat/dependencies\n+++ b/build/pkgs/cryptominisat/dependencies\n@@ -1,4 +1,4 @@\n-$(PYTHON) | cmake sqlite m4ri boost_cropped\n+$(PYTHON) | cmake sqlite m4ri boost_cropped zlib libpng\n```\n",
    "created_at": "2018-07-10T07:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355826",
    "user": "vdelecroix"
}
```

Not happy with?

```diff
diff --git a/build/pkgs/cryptominisat/dependencies b/build/pkgs/cryptominisat/dependencies
index df51e31274..a199426946 100644
--- a/build/pkgs/cryptominisat/dependencies
+++ b/build/pkgs/cryptominisat/dependencies
@@ -1,4 +1,4 @@
-$(PYTHON) | cmake sqlite m4ri boost_cropped
+$(PYTHON) | cmake sqlite m4ri boost_cropped zlib libpng
```




---

archive/issue_comments_355827.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2018-07-10T07:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355827",
    "user": "vdelecroix"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_355828.json:
```json
{
    "body": "I meant **normal dependencies** meaning before the `|` symbol.",
    "created_at": "2018-07-10T07:32:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355828",
    "user": "jdemeyer"
}
```

I meant **normal dependencies** meaning before the `|` symbol.



---

archive/issue_comments_355829.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-10T19:57:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355829",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355830.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2018-07-10T19:59:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355830",
    "user": "vdelecroix"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_355831.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-11T11:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355831",
    "user": "embray"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_355832.json:
```json
{
    "body": "*sigh* It seems shortly after [my fix to DESTDIR support](https://github.com/msoos/cryptominisat/commit/697e4c446c58219b0075f2956a4a71df87447e69) they broke it again with https://github.com/msoos/cryptominisat/commit/63a629f5e363a467abff1fa29becf42fe55b79f9 and https://github.com/msoos/cryptominisat/commit/b3cd73f369d4ea14f12824f0f3c4a06a9aa0e1b1 by not understanding the difference between \"root\", \"prefix\", and \"DESTDIR\".  I will raise this issue once again upstream, but in the meantime, unless we want to wait for another upstream release, this will have to be patched again...",
    "created_at": "2018-07-11T11:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355832",
    "user": "embray"
}
```

*sigh* It seems shortly after [my fix to DESTDIR support](https://github.com/msoos/cryptominisat/commit/697e4c446c58219b0075f2956a4a71df87447e69) they broke it again with https://github.com/msoos/cryptominisat/commit/63a629f5e363a467abff1fa29becf42fe55b79f9 and https://github.com/msoos/cryptominisat/commit/b3cd73f369d4ea14f12824f0f3c4a06a9aa0e1b1 by not understanding the difference between "root", "prefix", and "DESTDIR".  I will raise this issue once again upstream, but in the meantime, unless we want to wait for another upstream release, this will have to be patched again...



---

archive/issue_comments_355833.json:
```json
{
    "body": "Upstream PR if you want to make a patch from it: https://github.com/msoos/cryptominisat/pull/499",
    "created_at": "2018-07-11T11:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355833",
    "user": "embray"
}
```

Upstream PR if you want to make a patch from it: https://github.com/msoos/cryptominisat/pull/499



---

archive/issue_comments_355834.json:
```json
{
    "body": "Other than that issue, LGTM.",
    "created_at": "2018-07-11T11:51:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355834",
    "user": "embray"
}
```

Other than that issue, LGTM.



---

archive/issue_comments_355835.json:
```json
{
    "body": "Cryptominisat 5.6.4 was released. Would be nice to get this in Sage 8.4.",
    "created_at": "2018-08-05T16:09:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355835",
    "user": "slelievre"
}
```

Cryptominisat 5.6.4 was released. Would be nice to get this in Sage 8.4.



---

archive/issue_comments_355836.json:
```json
{
    "body": "CryptoMiniSat 5.6.5 is out and contains Erik's fix, let's see how it works.",
    "created_at": "2018-09-11T08:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355836",
    "user": "tmonteil"
}
```

CryptoMiniSat 5.6.5 is out and contains Erik's fix, let's see how it works.



---

archive/issue_comments_355837.json:
```json
{
    "body": "Attachment [cryptominisat-5.6.5.log](tarball://root/attachments/some-uuid/ticket25480/cryptominisat-5.6.5.log) by tmonteil created at 2018-09-11 08:20:36",
    "created_at": "2018-09-11T08:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355837",
    "user": "tmonteil"
}
```

Attachment [cryptominisat-5.6.5.log](tarball://root/attachments/some-uuid/ticket25480/cryptominisat-5.6.5.log) by tmonteil created at 2018-09-11 08:20:36



---

archive/issue_comments_355838.json:
```json
{
    "body": "Not happy (see log).\n----\nNew commits:",
    "created_at": "2018-09-11T08:21:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355838",
    "user": "tmonteil"
}
```

Not happy (see log).
----
New commits:



---

archive/issue_comments_355839.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-21T17:03:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355839",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355840.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-12-21T17:06:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355840",
    "user": "tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_355841.json:
```json
{
    "body": "Seems to work well with 5.6.6 ! The only problem i found is when the `help2man` command from the `autotools` experimental package is available.",
    "created_at": "2018-12-21T17:06:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355841",
    "user": "tmonteil"
}
```

Seems to work well with 5.6.6 ! The only problem i found is when the `help2man` command from the `autotools` experimental package is available.



---

archive/issue_comments_355842.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-04T20:15:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355842",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355843.json:
```json
{
    "body": "I updated a doctest coming from #26676 (which has been merged). Still needs review.",
    "created_at": "2019-01-04T20:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355843",
    "user": "tmonteil"
}
```

I updated a doctest coming from #26676 (which has been merged). Still needs review.



---

archive/issue_comments_355844.json:
```json
{
    "body": "builds fine and tests pass for me.",
    "created_at": "2019-01-05T08:30:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355844",
    "user": "vdelecroix"
}
```

builds fine and tests pass for me.



---

archive/issue_comments_355845.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-05T08:30:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355845",
    "user": "vdelecroix"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_355846.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-01-23T14:18:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25243#issuecomment-355846",
    "user": "vbraun"
}
```

Resolution: fixed
