# Issue 22989: py3: some care for cmp in schemes

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2017-06-12 19:50:32

another step to python3


---

Comment by chapoton created at 2017-06-12 19:58:49

New commits:


---

Comment by chapoton created at 2017-06-12 19:58:49

Changing status from new to needs_review.


---

Comment by git created at 2017-06-12 20:02:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-06-14 19:48:41

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2017-06-14 19:48:41

triggers many doctest failures  :(


---

Comment by tscrim created at 2017-06-16 13:42:52

From looking at the patchbot log:

```
File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage/categories/homset.py", line 1035, in __cmp__
 else: return cmp(self._codomain, other._codomain)
File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage/schemes/generic/ambient_space.py", line 83, in __cmp__
```

So it might be fixed by #23239. Although, I think it also makes sense to remove the `__cmp__` from `schemes/generic/ambient_space.py` as it is not something we want to require any more.


---

Comment by chapoton created at 2017-06-16 14:05:55

yes, #23239 was intended to prepare the ground for this ticket, indeed.

Let us wait until #23239 is closed.


---

Comment by chapoton created at 2017-06-23 06:11:00

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2017-06-23 06:11:00

this should be ready, let us wait for a patchbot report


---

Comment by chapoton created at 2017-06-23 11:42:57

bot seems to be morally green


---

Comment by tscrim created at 2017-06-23 11:56:02

Nitpick: `True` should be code format. Once done, you can set to a positive review. Or if you don't care enough, feel free to set to a positive review.


---

Comment by git created at 2017-06-23 12:13:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-06-23 12:14:17

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2017-06-23 12:14:17

done, and thanks a lot !


---

Comment by vbraun created at 2017-06-25 15:45:14

Resolution: fixed
