# Issue 19641: LatticePoset: add is_coatomic, simpler code

Issue created by migration from Trac.

Original creator: jmantysalo

Original creation time: 2016-01-13 11:32:57

CC:  chapoton

Keywords: latticeposet

This simple patch adds `is_coatomic()` and simplifies the code. Also broken link to `pseudocomplement()` is corrected.


---

Comment by jmantysalo created at 2016-01-13 11:37:21

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2016-01-13 11:37:21

Volker, what is the policy on rc-phase to new patches? There is a small error (by myself) in the index of functions on `lattices.py`. It is corrected in this patch along with other change.

But no animals will be harm if this is delayd to 7.1.
----
New commits:


---

Comment by jmantysalo created at 2016-02-18 05:24:28

No comments for a month... `ping`.


---

Comment by chapoton created at 2016-03-09 20:42:35

Why do you change ('simplify') the code ? What you propose has to run over all the lattice, even after it has already found more join irreducibles than atoms..


---

Comment by jmantysalo created at 2016-03-10 07:44:34

Replying to [comment:4 chapoton]:
> Why do you change ('simplify') the code ? What you propose has to run over all the lattice, even after it has already found more join irreducibles than atoms..

I tested with


```
B10 = Posets.BooleanLattice(10)
B10_ = B10.with_bounds()
```


and then timed both


```
[B10.is_atomic() for i in range(1000)].count(True)
[B10_.is_atomic() for i in range(1000)].count(True)
```


For `B10` the time drops from 5,57 second to 0,85 seconds, for `B10_` it raised from 0,78 to 0,85 seconds. But I can revert this back if you want.

(It is not reasonable to think about something like `BooleanLattice(20)`, as just `BooleanLattice(12)` takes 43 seconds to complete.)


---

Comment by chapoton created at 2016-03-10 16:29:13

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2016-03-10 16:29:13

ok, then.. Good enough for me.


---

Comment by vbraun created at 2016-03-23 23:55:02

Resolution: fixed
