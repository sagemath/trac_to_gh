# Issue 10061: With imag, sqrt and subs I get 0==1

Issue created by migration from https://trac.sagemath.org/ticket/10062

Original creator: fmaltey

Original creation time: 2010-10-03 14:38:15

Assignee: burcin

CC:  kcrisman

I use Sage 4.5.3


```
var('m') ; y=sqrt(m^2-1)
y(m=0)         # =I, is right
imag(y)        # =.... feels right, arctan2(0,-1)=pi when m=0
imag(y(m=0))   # =1, is right
(imag(y))(m=0) # is 0 and I don't understand why ! 
```



---

Comment by burcin created at 2010-10-16 21:09:46

Changing status from new to needs_review.


---

Comment by burcin created at 2010-10-16 21:09:46

This was caused by the problem reported at #10064. The `arctan2()` automatic evaluation function checks if the second argument is positive, line 1062 of `inifcns_trans.cpp` in pynac:


```
		// atan2(0, x), x real and positive -> 0
		if (x.info(info_flags::positive))
			return _ex0;
```


attachment:trac_10062-doctest.patch adds a doctest to check this.


---

Comment by ohanar created at 2010-11-01 20:17:39

Did you mean to check if #10064 was fixed?


---

Comment by was created at 2010-11-03 19:47:28

I think putting 10062 in the patch is ok.


---

Comment by kcrisman created at 2011-03-12 03:43:31

Putting as 'needs info' until #10064 is resolved.


---

Comment by kcrisman created at 2011-03-12 03:43:31

Changing status from needs_review to needs_info.


---

Attachment


---

Comment by burcin created at 2013-06-03 14:09:53

Changing status from needs_info to needs_review.


---

Comment by burcin created at 2013-06-03 14:09:53

The underlying problem #7160 was finally fixed (by #13213). Please review this simple doctest patch.


---

Comment by tscrim created at 2013-06-03 14:41:43

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2013-06-03 14:41:43

Looks good to me.


---

Comment by jdemeyer created at 2013-06-06 12:31:01

Resolution: fixed
