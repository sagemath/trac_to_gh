# Issue 15779: FiniteStateMachine.__and__ calls intersection and FiniteStateMachine.__or__ calls union.

Issue created by migration from https://trac.sagemath.org/ticket/16016

Original creator: skropf

Original creation time: 2014-03-26 16:16:20

CC:  dkrenn cheuberg slabbe

Keywords: finite_state_machine

Nevertheless, intersection and union are still not implemented. Thus, this only changes the names of the functions. Previously `__mul__` called intersection and `__add__` called union.

This is an answer to one of the comments in ticket:15078#comment:32.


---

Comment by ncohen created at 2014-03-26 17:01:10

I believe that | and + should be aliases for union. That's how it works for sets already

```
sage: Set([1,2,3])+Set([3,4,6])
{1, 2, 3, 4, 6}
sage: Set([1,2,3])|Set([3,4,6])
{1, 2, 3, 4, 6}
```


And for graphs only + is defined

```
sage: graphs.PetersenGraph() + graphs.ChvatalGraph()
Petersen graph disjoint_union Chvatal graph: Graph on 22 vertices
sage: graphs.PetersenGraph() | graphs.ChvatalGraph()
...
TypeError: unsupported operand type(s) for |: 'Graph' and 'Graph'
```


If you agree with that you can add a `__or__ = __add__` after the function's definition `:-)`

Nathann


---

Comment by skropf created at 2014-03-27 06:59:39

Changing status from new to needs_review.


---

Comment by ncohen created at 2014-03-27 08:49:25

Changing status from needs_review to needs_info.


---

Comment by ncohen created at 2014-03-27 08:49:25

Well, could you answer yesterday's question ? What do you think ?

Nathann


---

Comment by skropf created at 2014-03-27 09:39:58

For me, that sounds good. But I would like to wait for possible other opinions on this topic before I change it, since originally it was suggested to use only `__or__` (instead of `__add__`).

I will wait until Monday.


---

Comment by git created at 2014-03-31 08:16:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by skropf created at 2014-03-31 08:20:08

Now `__add__` does the same as `__or__`, as suggested above.


---

Comment by skropf created at 2014-03-31 08:20:08

Changing status from needs_info to needs_review.


---

Comment by ncohen created at 2014-03-31 08:39:13

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2014-03-31 08:39:13

Oooooooooookayyyyyyyyyyyyyyyyyyyyyyyy !!!

http://grooveshark.com/s/Let+s+Bang/3S4pl4?src=5

Nathann


---

Comment by ncohen created at 2014-03-31 08:40:24

OOops, nononono. It does not pass tests `:-)`


```
sage -t --long finite_state_machine.py  # 2 doctests failed
```



---

Comment by ncohen created at 2014-03-31 08:40:24

Changing status from positive_review to needs_work.


---

Comment by slabbe created at 2014-03-31 11:09:46

Replying to [comment:5 skropf]:
> For me, that sounds good. But I would like to wait for possible other opinions on this topic before I change it, since originally it was suggested to use only `__or__` (instead of `__add__`).
> 
> I will wait until Monday.

I am Ok for `__add__` having the same behavior as `__or__`.

But, do we agree that `__mul__` should not link to `__and__` ? To me, if A and B are two automata, A * B means the concatenation of them, not the intersection.

SÃ©bastien


---

Comment by ncohen created at 2014-03-31 11:27:18

Yepyep, in the current patch we only have an alias from add to or.

Nathann


---

Comment by skropf created at 2014-03-31 11:45:42

Replying to [comment:9 ncohen]:
> OOops, nononono. It does not pass tests `:-)`
> 
> {{{
> sage -t --long finite_state_machine.py  # 2 doctests failed
> }}}

I don't know what you mean. For me, all doctests pass. 

Can you check it again, please, and tell me your error messages?


---

Comment by ncohen created at 2014-03-31 11:50:33

My mistake ! I must have forgotten to recompile or something. Sorry for that, good to go `:-)`

Nathann


---

Comment by ncohen created at 2014-03-31 11:50:33

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2014-03-31 21:12:22

Resolution: fixed
