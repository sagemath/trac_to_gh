# Issue 11284: Make the Magma interface able to convert number field elements from Magma to Sage

archive/issues_011284.json:
```json
{
    "body": "Assignee: @williamstein\n\nCC:  @mstreng\n\nKeywords: magma interface number field element convert\n\nApparently the Magma interface can't do this yet. See #11455 for examples. If I understand it correctly, this requires adding code for `FldNumElt` to `data/extcode/magma/sage/basic.m`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11456\n\n",
    "created_at": "2011-06-09T14:55:39Z",
    "labels": [
        "interfaces",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.2",
    "title": "Make the Magma interface able to convert number field elements from Magma to Sage",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11284",
    "user": "@mstreng"
}
```
Assignee: @williamstein

CC:  @mstreng

Keywords: magma interface number field element convert

Apparently the Magma interface can't do this yet. See #11455 for examples. If I understand it correctly, this requires adding code for `FldNumElt` to `data/extcode/magma/sage/basic.m`.

Issue created by migration from https://trac.sagemath.org/ticket/11456





---

archive/issue_comments_124355.json:
```json
{
    "body": "Beware that number fields in Magma can have bases that are not power bases:\n\n```\n> K<a,b>:=NumberField([x^2-2,x^2-3]:Abs);\n> Sqrt(K!6);   \n-a*b\n> Eltseq(Sqrt(K!6));\n[ 0, 0, 0, -1 ]\n> OK:=LLL(IntegerRing(K));\n> L:=FieldOfFractions(OK); //this uses the basis of OK\n> Eltseq(Sqrt(L!6));      \n[ 0, 1, 2, 0 ]\n```\n\nNumber fields can be relative too, but that is the same in Pari.",
    "created_at": "2011-06-09T15:50:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124355",
    "user": "@nbruin"
}
```

Beware that number fields in Magma can have bases that are not power bases:

```
> K<a,b>:=NumberField([x^2-2,x^2-3]:Abs);
> Sqrt(K!6);   
-a*b
> Eltseq(Sqrt(K!6));
[ 0, 0, 0, -1 ]
> OK:=LLL(IntegerRing(K));
> L:=FieldOfFractions(OK); //this uses the basis of OK
> Eltseq(Sqrt(L!6));      
[ 0, 1, 2, 0 ]
```

Number fields can be relative too, but that is the same in Pari.



---

archive/issue_comments_124356.json:
```json
{
    "body": "Replying to [comment:1 nbruin]:\n> Beware that number fields in Magma can have bases that are not power bases:\nThanks for the warning!",
    "created_at": "2011-06-09T20:19:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124356",
    "user": "@mstreng"
}
```

Replying to [comment:1 nbruin]:
> Beware that number fields in Magma can have bases that are not power bases:
Thanks for the warning!



---

archive/issue_comments_124357.json:
```json
{
    "body": "not finished yet",
    "created_at": "2011-06-29T17:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124357",
    "user": "@mstreng"
}
```

not finished yet



---

archive/issue_comments_124358.json:
```json
{
    "body": "Attachment [trac_11456_doctests.patch](tarball://root/attachments/some-uuid/ticket11456/trac_11456_doctests.patch) by @mstreng created at 2011-07-01 14:13:43\n\npatch for extcode to convert number fields and their elements to Sage",
    "created_at": "2011-07-01T14:13:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124358",
    "user": "@mstreng"
}
```

Attachment [trac_11456_doctests.patch](tarball://root/attachments/some-uuid/ticket11456/trac_11456_doctests.patch) by @mstreng created at 2011-07-01 14:13:43

patch for extcode to convert number fields and their elements to Sage



---

archive/issue_comments_124359.json:
```json
{
    "body": "Attachment [trac_11456_extcode.patch](tarball://root/attachments/some-uuid/ticket11456/trac_11456_extcode.patch) by @mstreng created at 2011-07-01 14:15:00\n\npatch for sage source code that provides documentation for the extcode patch (and converts relative number fields to Magma)",
    "created_at": "2011-07-01T14:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124359",
    "user": "@mstreng"
}
```

Attachment [trac_11456_extcode.patch](tarball://root/attachments/some-uuid/ticket11456/trac_11456_extcode.patch) by @mstreng created at 2011-07-01 14:15:00

patch for sage source code that provides documentation for the extcode patch (and converts relative number fields to Magma)



---

archive/issue_comments_124360.json:
```json
{
    "body": "Attachment [trac_11456_sage.patch](tarball://root/attachments/some-uuid/ticket11456/trac_11456_sage.patch) by @mstreng created at 2011-07-01 14:25:06\n\nThe file trac_11456_doctests.patch can be removed.",
    "created_at": "2011-07-01T14:25:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124360",
    "user": "@mstreng"
}
```

Attachment [trac_11456_sage.patch](tarball://root/attachments/some-uuid/ticket11456/trac_11456_sage.patch) by @mstreng created at 2011-07-01 14:25:06

The file trac_11456_doctests.patch can be removed.



---

archive/issue_comments_124361.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-07-01T14:25:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124361",
    "user": "@mstreng"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_124362.json:
```json
{
    "body": "NOTE: I just noticed that these patches conflict with #11580.  One or the other may need to be rebased...\n\nI read through this patch, applied it, and tested it, and it looks good to me.  This is much needed functionality, and much care was taken in writing it.",
    "created_at": "2011-07-17T13:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124362",
    "user": "@williamstein"
}
```

NOTE: I just noticed that these patches conflict with #11580.  One or the other may need to be rebased...

I read through this patch, applied it, and tested it, and it looks good to me.  This is much needed functionality, and much care was taken in writing it.



---

archive/issue_comments_124363.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-07-17T13:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124363",
    "user": "@williamstein"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_124364.json:
```json
{
    "body": "Replying to [comment:4 was]:\n> NOTE: I just noticed that these patches conflict with #11580.  One or the other may need to be rebased...\n\ns/may need to/must/",
    "created_at": "2011-07-28T10:45:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124364",
    "user": "@jdemeyer"
}
```

Replying to [comment:4 was]:
> NOTE: I just noticed that these patches conflict with #11580.  One or the other may need to be rebased...

s/may need to/must/



---

archive/issue_comments_124365.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-07-28T10:45:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124365",
    "user": "@jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_124366.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2011-07-29T15:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124366",
    "user": "@mstreng"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_124367.json:
```json
{
    "body": "I'm putting this one back to positive review, since I've given #11580 a negative one.",
    "created_at": "2011-07-29T15:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124367",
    "user": "@mstreng"
}
```

I'm putting this one back to positive review, since I've given #11580 a negative one.



---

archive/issue_comments_124368.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-08-02T19:45:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11284#issuecomment-124368",
    "user": "@jdemeyer"
}
```

Resolution: fixed
