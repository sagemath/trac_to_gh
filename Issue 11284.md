# Issue 11284: Make the Magma interface able to convert number field elements from Magma to Sage

Issue created by migration from Trac.

Original creator: mstreng

Original creation time: 2011-06-09 14:55:39

Assignee: was

CC:  mstreng

Keywords: magma interface number field element convert

Apparently the Magma interface can't do this yet. See #11455 for examples. If I understand it correctly, this requires adding code for `FldNumElt` to `data/extcode/magma/sage/basic.m`.


---

Comment by nbruin created at 2011-06-09 15:50:15

Beware that number fields in Magma can have bases that are not power bases:

```
> K<a,b>:=NumberField([x^2-2,x^2-3]:Abs);
> Sqrt(K!6);   
-a*b
> Eltseq(Sqrt(K!6));
[ 0, 0, 0, -1 ]
> OK:=LLL(IntegerRing(K));
> L:=FieldOfFractions(OK); //this uses the basis of OK
> Eltseq(Sqrt(L!6));      
[ 0, 1, 2, 0 ]
```

Number fields can be relative too, but that is the same in Pari.


---

Comment by mstreng created at 2011-06-09 20:19:46

Replying to [comment:1 nbruin]:
> Beware that number fields in Magma can have bases that are not power bases:
Thanks for the warning!


---

Comment by mstreng created at 2011-06-29 17:25:13

not finished yet


---

Attachment

patch for extcode to convert number fields and their elements to Sage


---

Attachment

patch for sage source code that provides documentation for the extcode patch (and converts relative number fields to Magma)


---

Attachment

The file trac_11456_doctests.patch can be removed.


---

Comment by mstreng created at 2011-07-01 14:25:06

Changing status from new to needs_review.


---

Comment by was created at 2011-07-17 13:58:55

NOTE: I just noticed that these patches conflict with #11580.  One or the other may need to be rebased...

I read through this patch, applied it, and tested it, and it looks good to me.  This is much needed functionality, and much care was taken in writing it.


---

Comment by was created at 2011-07-17 13:58:55

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-07-28 10:45:09

Replying to [comment:4 was]:
> NOTE: I just noticed that these patches conflict with #11580.  One or the other may need to be rebased...

s/may need to/must/


---

Comment by jdemeyer created at 2011-07-28 10:45:09

Changing status from positive_review to needs_work.


---

Comment by mstreng created at 2011-07-29 15:55:52

Changing status from needs_work to positive_review.


---

Comment by mstreng created at 2011-07-29 15:55:52

I'm putting this one back to positive review, since I've given #11580 a negative one.


---

Comment by jdemeyer created at 2011-08-02 19:45:51

Resolution: fixed
