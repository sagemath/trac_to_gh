# Issue 13364: Quaternion Orders over Number Fields

Issue created by migration from Trac.

Original creator: aly.deines

Original creation time: 2012-10-04 15:30:09

Assignee: AlexGhitza

CC:  schisholm daniels

Keywords: quaternion, order

Generalizes the code for quaternion orders of quaternion algebras over QQ to allow for quaternion orders of quaternion algebras over number fields.


---

Attachment


---

Comment by aly.deines created at 2012-10-04 17:12:54

Changing status from new to needs_review.


---

Comment by aly.deines created at 2012-11-09 18:17:45

Changing status from needs_review to needs_work.


---

Comment by tornaria created at 2014-08-26 11:59:29

Rebased the patch to sage-6.4.beta1 and moved to git


---

Comment by aly.deines created at 2014-08-26 16:12:29

Changing status from needs_work to needs_review.


---

Comment by git created at 2014-08-27 14:42:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tornaria created at 2014-08-27 15:13:13

I've pushed a bunch of reviewer commits, the log explains them (esp f824306).

There's still a bug, namely when the base field is QQ and a pseudo-basis is given, the current code will just ignore the ideals.


---

Comment by aly.deines created at 2014-08-27 15:14:59

Okay.  I'll get on that.


---

Comment by aly.deines created at 2014-08-27 15:14:59

Changing status from needs_review to needs_work.


---

Comment by git created at 2014-08-27 23:20:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tornaria created at 2014-08-27 23:27:18

Changing status from needs_work to needs_review.


---

Comment by tornaria created at 2014-08-27 23:27:18

I'm happy with this now. Since I made a lot of changes I'm leaving it as _needs_review_.


---

Comment by git created at 2014-08-29 09:09:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-08-29 12:44:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-09-06 21:57:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mmasdeu created at 2014-09-12 13:21:40

Changing status from needs_review to needs_work.


---

Comment by mmasdeu created at 2014-09-12 13:23:55

I started reviewing it, and made some changes. Some are to make it more pythonic, some are for clarity.

I've set it to needs_work because the patch fails when using quaternion algebras not defined over number fields:

```
sage: A.<i,j,k> = QuaternionAlgebra(ZZ['x'].fraction_field(),-1,-1)
sage: A.quaternion_order([1,i,j,k])                                
---------------------------------------------------------------------------
UnboundLocalError                         Traceback (most recent call last)
...
UnboundLocalError: local variable 'M1' referenced before assignment
```



---

Comment by jdemeyer created at 2015-05-30 10:32:46

Just a remark: this functionality is in PARI now, so you could just try to wrap PARI.


---

Comment by aurel created at 2017-03-02 23:07:57

With Marc Masdeu, we checked that this is still compiling after rebasing on develop. We intend to have a look at this ticket.
----
Last 10 new commits:
