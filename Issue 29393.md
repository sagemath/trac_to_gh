# Issue 29393: spkg-configure.m4 for libhomfly

Issue created by migration from https://trac.sagemath.org/ticket/29630

Original creator: @thierry-FreeBSD

Original creation time: 2020-05-01 17:43:38

CC:  tscrim mjo dimpase @sheerluck

Keywords: libhomfly; spkg-configure; system packages

This ticket adds an spkg-configure.m4 for libhomfly, in order to use it from a system package if possible (see #27330).

No problem detected with this one: Sage builds flawlessy with the system package on FreeBSD.


---

Comment by @thierry-FreeBSD created at 2020-05-01 17:44:41

To be put under build/pkgs/libhomfly


---

Attachment

On Debian there is libhomfly-dev, version 1.02r5 (Sage has 1.02r4)


---

Comment by mkoeppe created at 2020-08-06 02:41:31

https://repology.org/project/libhomfly/versions


---

Comment by dimpase created at 2020-08-11 20:42:38

New commits:


---

Comment by dimpase created at 2020-08-11 20:42:38

Changing status from new to needs_review.


---

Comment by dimpase created at 2020-08-12 18:45:55

tests run on https://github.com/dimpase/sage/pull/16


---

Comment by mjo created at 2020-08-12 20:43:54

I just added libhomfly to Gentoo as `sci-libs/libhomfly` so that can be put in `gentoo.txt`. The system copy is detected fine FWIW.


---

Comment by git created at 2020-08-12 21:30:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2020-08-12 21:30:38

Replying to [comment:8 mjo]:
> I just added libhomfly to Gentoo as `sci-libs/libhomfly` so that can be put in `gentoo.txt`. The system copy is detected fine FWIW.

OK, done, thanks.


---

Comment by git created at 2020-08-13 14:26:44

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2020-09-02 23:09:10

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2020-09-06 02:09:40

`debian-buster-standard` (https://github.com/sagemath/sage/runs/1068090166):

```
E: Unable to locate package libhomfly
```

Need to add `IGNORE_MISSING_SYSTEM_PACKAGES=yes` for this platform in `tox.ini`. 
Best done on top of #27754 to avoid a merge conflict


---

Comment by mkoeppe created at 2020-09-06 02:10:14

Same on `ubuntu-eoan-standard`


---

Comment by mkoeppe created at 2020-09-06 02:16:12

Changing status from needs_review to needs_work.


---

Comment by dimpase created at 2020-09-07 09:29:03

please feel free to add commits, or open a followup ticket and waive this one through.

I have little idea about IGNORE_MISSING_SYSTEM_PACKAGES (it's undocumented as of 9.2.beta12), I can only gather it has something to do with generated docker images.


---

Comment by mkoeppe created at 2020-09-21 15:31:07

Actually this was just bad package info, fixed in #30626.


---

Comment by mkoeppe created at 2020-09-21 16:01:29

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2020-09-21 16:01:29

New commits:


---

Comment by mkoeppe created at 2020-09-22 19:34:15

Changing status from needs_review to positive_review.


---

Comment by git created at 2020-09-22 19:37:33

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2020-09-22 19:37:33

Changing status from positive_review to needs_review.


---

Comment by mkoeppe created at 2020-09-22 19:38:07

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-11-15 22:47:38

Resolution: fixed
