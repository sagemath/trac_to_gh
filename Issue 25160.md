# Issue 25160: Smaller coefficients in element_with_valuation for function field valuations

Issue created by migration from Trac.

Original creator: saraedum

Original creation time: 2018-05-19 02:47:26

CC:  swewers

Currently,

```
sage: K.<a> = NumberField(x^3+6)
sage: v = QQ.valuation(2).extension(K)
sage: R.<x> = K[]
sage: w = GaussValuation(R, v).augmentation(x, 1/123)
sage: K.<x> = FunctionField(K)
sage: w = w.extension(K)
sage: w.element_with_valuation(122/123)
x^122
sage: w.element_with_valuation(1)
x^123
```


Of course `2/x` and `2` would be much better choices here.


---

Comment by git created at 2018-05-19 14:11:35

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-05-28 12:04:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2018-05-28 12:05:13

This needs review but I have not run doctests yet. Let's see what the patchbot says.


---

Comment by saraedum created at 2018-05-28 12:05:13

Changing status from new to needs_review.


---

Comment by saraedum created at 2018-06-11 07:48:59

Changing status from needs_review to needs_work.


---

Comment by git created at 2018-06-11 16:49:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2018-06-11 16:50:00

Changing status from needs_work to needs_review.


---

Comment by saraedum created at 2018-06-11 16:50:00

New commits:


---

Comment by git created at 2018-07-04 16:38:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-07-04 16:50:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-07-24 15:34:02

One patchbot has its pyflakes plugin red. Could you take care of that ?


---

Comment by git created at 2018-07-26 17:00:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by swewers created at 2018-07-26 19:08:15

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-08-05 08:18:17

Resolution: fixed
