# Issue 29479: Splitting Algebras

archive/issues_029479.json:
```json
{
    "body": "CC:  @tscrim\n\nKeywords: splitting polynomial roots\n\n*Splitting algebras* have been considered by [Dan Laksov, Anders Thorup](http://www.iumj.indiana.edu/IUMJ/fulltext.php?artid=4791&year=2012&volume=61), [Torsten Ekedahl](https://www.worldscientific.com/doi/abs/10.1142/S0219498805001034) and others in order to study intersection theory of Grassmann and other flag schemes. Similarily as *splitting fields* they can be considered as extensions of rings containing all the roots of a given monic polynomial over that ring under the assumption that its Galois group is the symmetric group of order equal to the polynomial's degree.\n\nThus they can be used as a tool to express elements of a ring generated by `n` indeterminates in terms of symmetric functions in these indeterminates.\n\nThis ticket realizes splitting algebras by a recursive quotient ring construction splitting off some linear factor of the polynomial in each recursive step. Accordingly it will be inherited from class `PolynomialQuotientRing`.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/29716\n\n",
    "created_at": "2020-05-20T07:23:03Z",
    "labels": [
        "commutative algebra",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Splitting Algebras",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29479",
    "user": "@soehms"
}
```
CC:  @tscrim

Keywords: splitting polynomial roots

*Splitting algebras* have been considered by [Dan Laksov, Anders Thorup](http://www.iumj.indiana.edu/IUMJ/fulltext.php?artid=4791&year=2012&volume=61), [Torsten Ekedahl](https://www.worldscientific.com/doi/abs/10.1142/S0219498805001034) and others in order to study intersection theory of Grassmann and other flag schemes. Similarily as *splitting fields* they can be considered as extensions of rings containing all the roots of a given monic polynomial over that ring under the assumption that its Galois group is the symmetric group of order equal to the polynomial's degree.

Thus they can be used as a tool to express elements of a ring generated by `n` indeterminates in terms of symmetric functions in these indeterminates.

This ticket realizes splitting algebras by a recursive quotient ring construction splitting off some linear factor of the polynomial in each recursive step. Accordingly it will be inherited from class `PolynomialQuotientRing`.


Issue created by migration from https://trac.sagemath.org/ticket/29716





---

archive/issue_comments_418429.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-05-24T06:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29479#issuecomment-418429",
    "user": "@soehms"
}
```

New commits:



---

archive/issue_comments_418430.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-05-24T06:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29479#issuecomment-418430",
    "user": "@soehms"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_418431.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-28T16:58:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29479#issuecomment-418431",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418432.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-29T09:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29479#issuecomment-418432",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418433.json:
```json
{
    "body": "I made it through the ticket, and mostly I changed some minor things. However, there is one more serious issue that I don't know how to fix:\n\n```\nsage: from sage.algebras.splitting_algebra import SplittingAlgebra\n....: L.<u, v, w> = LaurentPolynomialRing(ZZ); x = polygen(L)\n....: S.<X, Y> = SplittingAlgebra(x^3 - u*x^2 + v*x - w)\n....: (X, Y)\n....: \n(Y, X)\n```\n\nThe names of the generators do not match, but I don't know how much confusion this will cause to users or how much this even makes sense. Could you clarify about what you expect to happen here?\n----\nNew commits:",
    "created_at": "2020-06-08T03:28:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29479#issuecomment-418433",
    "user": "@tscrim"
}
```

I made it through the ticket, and mostly I changed some minor things. However, there is one more serious issue that I don't know how to fix:

```
sage: from sage.algebras.splitting_algebra import SplittingAlgebra
....: L.<u, v, w> = LaurentPolynomialRing(ZZ); x = polygen(L)
....: S.<X, Y> = SplittingAlgebra(x^3 - u*x^2 + v*x - w)
....: (X, Y)
....: 
(Y, X)
```

The names of the generators do not match, but I don't know how much confusion this will cause to users or how much this even makes sense. Could you clarify about what you expect to happen here?
----
New commits:



---

archive/issue_comments_418434.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2020-06-08T03:28:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29479#issuecomment-418434",
    "user": "@tscrim"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_418435.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-15T21:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29479#issuecomment-418435",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418436.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-06-15T21:14:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29479#issuecomment-418436",
    "user": "@soehms"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_418437.json:
```json
{
    "body": "Replying to [comment:5 tscrim]:\n> I made it through the ticket, and mostly I changed some minor things. \n\nThanks for all these PEP8 corrections! I'm suprised that the two missing supression of the warning didn't cause a doctest failure.\n\n> However, there is one more serious issue that I don't know how to fix:\n> {{{\n> sage: from sage.algebras.splitting_algebra import SplittingAlgebra\n> ....: L.<u, v, w> = LaurentPolynomialRing(ZZ); x = polygen(L)\n> ....: S.<X, Y> = SplittingAlgebra(x^3 - u*x^2 + v*x - w)\n> ....: (X, Y)\n> ....: \n> (Y, X)\n> }}}\n> The names of the generators do not match, but I don't know how much confusion this will cause to users or how much this even makes sense. Could you clarify about what you expect to happen here?\n\n\nI didn't realize the exchange of the indeterminates and this is definitely not intended. The reason for this is that I provided the `_first_ngens` by means of the recursive construction. But, since `X` is adjoined first and than `Y` this lead to the wrong order.\n\nI dropped the method `gens_recursive` since it is needed nowhere else and replaced its invocation by the usage of the first `n` `splitting_roots` which are in the correct order.\n\nI omit a separate test for this bug, since it is implicit in this change\n\n\n```diff\n-            (X + 1)*Y\n+            X*Y + X\n```\n",
    "created_at": "2020-06-15T21:14:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29479#issuecomment-418437",
    "user": "@soehms"
}
```

Replying to [comment:5 tscrim]:
> I made it through the ticket, and mostly I changed some minor things. 

Thanks for all these PEP8 corrections! I'm suprised that the two missing supression of the warning didn't cause a doctest failure.

> However, there is one more serious issue that I don't know how to fix:
> {{{
> sage: from sage.algebras.splitting_algebra import SplittingAlgebra
> ....: L.<u, v, w> = LaurentPolynomialRing(ZZ); x = polygen(L)
> ....: S.<X, Y> = SplittingAlgebra(x^3 - u*x^2 + v*x - w)
> ....: (X, Y)
> ....: 
> (Y, X)
> }}}
> The names of the generators do not match, but I don't know how much confusion this will cause to users or how much this even makes sense. Could you clarify about what you expect to happen here?


I didn't realize the exchange of the indeterminates and this is definitely not intended. The reason for this is that I provided the `_first_ngens` by means of the recursive construction. But, since `X` is adjoined first and than `Y` this lead to the wrong order.

I dropped the method `gens_recursive` since it is needed nowhere else and replaced its invocation by the usage of the first `n` `splitting_roots` which are in the correct order.

I omit a separate test for this bug, since it is implicit in this change


```diff
-            (X + 1)*Y
+            X*Y + X
```




---

archive/issue_comments_418438.json:
```json
{
    "body": "Thank you. LGTM now.",
    "created_at": "2020-06-23T00:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29479#issuecomment-418438",
    "user": "@tscrim"
}
```

Thank you. LGTM now.



---

archive/issue_comments_418439.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-23T00:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29479#issuecomment-418439",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_418440.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-06-24T23:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29479#issuecomment-418440",
    "user": "@vbraun"
}
```

Resolution: fixed
