# Issue 19839: coefficients_of_generating_function fails for log-singularity with zeta != 1

archive/issues_019839.json:
```json
{
    "body": "CC:  @dkrenn @cheuberg\n\n\n```\nsage: A.<n> = AsymptoticRing('QQ^n * n^QQ', QQ)\nsage: def f(z):\n....:     return log(1-2*z)\nsage: A.coefficients_of_generating_function(f, (1/2,), precision=5)\nTraceback (most recent call last):\n...\nTypeError: Cannot apply the substitution rules {Z: n} on -1/2*2^Z*Z^(-1) + O(2^Z*Z^(-3)) in Asymptotic Ring <(Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring)> over Symbolic Ring.\n> *previous* TypeError: Cannot substitute in -1/2*2^Z*Z^(-1) + O(2^Z*Z^(-3)) in Asymptotic Ring <(Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring)> over Symbolic Ring.\n>> *previous* TypeError: Cannot substitute in O(2^Z*Z^(-3)) in O-Term Monoid (Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring) with implicit coefficients in Symbolic Ring.\n>>> *previous* TypeError: Cannot substitute in 2^Z*Z^(-3) in Growth Group (Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring).\n>>>> *previous* TypeError: Cannot substitute in 2^Z in Growth Group (Symbolic Constants Subring)^Z.\n>>>>> *previous* TypeError: no canonical coercion from Asymptotic Ring <n^QQ * QQ^n> over Rational Field to Symbolic Constants Subring\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/20076\n\n",
    "created_at": "2016-02-17T10:46:00Z",
    "labels": [
        "asymptotic expansions",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "coefficients_of_generating_function fails for log-singularity with zeta != 1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19839",
    "user": "@behackl"
}
```
CC:  @dkrenn @cheuberg


```
sage: A.<n> = AsymptoticRing('QQ^n * n^QQ', QQ)
sage: def f(z):
....:     return log(1-2*z)
sage: A.coefficients_of_generating_function(f, (1/2,), precision=5)
Traceback (most recent call last):
...
TypeError: Cannot apply the substitution rules {Z: n} on -1/2*2^Z*Z^(-1) + O(2^Z*Z^(-3)) in Asymptotic Ring <(Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring)> over Symbolic Ring.
> *previous* TypeError: Cannot substitute in -1/2*2^Z*Z^(-1) + O(2^Z*Z^(-3)) in Asymptotic Ring <(Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring)> over Symbolic Ring.
>> *previous* TypeError: Cannot substitute in O(2^Z*Z^(-3)) in O-Term Monoid (Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring) with implicit coefficients in Symbolic Ring.
>>> *previous* TypeError: Cannot substitute in 2^Z*Z^(-3) in Growth Group (Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring).
>>>> *previous* TypeError: Cannot substitute in 2^Z in Growth Group (Symbolic Constants Subring)^Z.
>>>>> *previous* TypeError: no canonical coercion from Asymptotic Ring <n^QQ * QQ^n> over Rational Field to Symbolic Constants Subring
```


Issue created by migration from https://trac.sagemath.org/ticket/20076





---

archive/issue_comments_272641.json:
```json
{
    "body": "This is just a very quick fix the behavior; the exception that might occur should be handled as well.\n----\nLast 10 new commits:",
    "created_at": "2016-02-17T11:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19839#issuecomment-272641",
    "user": "@behackl"
}
```

This is just a very quick fix the behavior; the exception that might occur should be handled as well.
----
Last 10 new commits:
