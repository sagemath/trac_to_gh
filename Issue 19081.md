# Issue 19081: Implement inverse_of_unit for IntegerModRing

Issue created by migration from Trac.

Original creator: bruno

Original creation time: 2015-09-30 11:01:27

This (small) patch allows one to compute the inverse of a unit in an `IntegerModRing`. It provides the following functionality:


```python
sage: R = IntegerModRing(10)
sage: R(7).inverse_of_unit()
3
sage: R(4).inverse_of_unit() # 4 is not a unit in ZZ/10ZZ
Traceback (most recent call last):
...
ZeroDivisionError: Inverse does not exist.
```



---

Comment by bruno created at 2015-09-30 11:03:12

New commits:


---

Comment by bruno created at 2015-09-30 11:03:12

Changing status from new to needs_review.


---

Comment by klee created at 2015-10-02 00:54:43

Why do we need this? You can use `^-1` for the same result.


```
sage: R=IntegerModRing(10)
sage: R(7)^-1
3
sage: R(4)^-1
---------------------------------------------------------------------------
ZeroDivisionError                         Traceback (most recent call last)
...
ZeroDivisionError: Inverse does not exist.
```



---

Comment by bruno created at 2015-10-02 08:43:33

Replying to [comment:3 klee]:
> Why do we need this? You can use `^-1` for the same result.
> 
> {{{
> sage: R=IntegerModRing(10)
> sage: R(7)^-1
> 3
> sage: R(4)^-1
> ---------------------------------------------------------------------------
> ZeroDivisionError                         Traceback (most recent call last)
> ...
> ZeroDivisionError: Inverse does not exist.
> }}}

That's right... I did not think to try to use `^-1` and I found weird not to have an `inverse` function for these rings. And using `^-1` is actually faster than my code! So it makes no sense to include my code within Sage. Yet, since many rings implement a method `inverse_of_unit`, it may add some unity (or consistency) to have one here too. So please let me know what you think is more appropriate between:

  * simply marking this ticket as "won't fix" and not providing the method `inverse_of_unit`;
  * replacing my code by something like `return self^-1` to provide a method `inverse_of_unit`.

Note that both are fine to me, I do not have a real preference for any of the two solutions.


---

Comment by klee created at 2015-10-02 09:16:40

Replying to [comment:4 bruno]:
>   * replacing my code by something like `return self^-1` to provide a method `inverse_of_unit`.

As this `inverse_of_unit` does not implement a special algorithm to compute the inverse, it should not be a method of `IntegerModRing`. On the other hand, adding `inverse_of_unit` method to a general ring as a more intuitive alternative to `^-1` seems not a good idea. Is it really more intuitive? I would suggest `multiplicative_inverse`. Anyway, this is a separate issue.

I advise you to ask in Sage support or Sage devel first if you think you found something missing in Sage.

I will mark this ticket as "won't fix"


---

Comment by bruno created at 2015-10-02 09:21:36

Replying to [comment:5 klee]:
> Replying to [comment:4 bruno]:
> >   * replacing my code by something like `return self^-1` to provide a method `inverse_of_unit`.
> 
> As this `inverse_of_unit` does not implement a special algorithm to compute the inverse, it should not be a method of `IntegerModRing`. On the other hand, adding `inverse_of_unit` method to a general ring as a more intuitive alternative to `^-1` seems not a good idea. Is it really more intuitive? I would suggest `multiplicative_inverse`. Anyway, this is a separate issue.
> 
> I advise you to ask in Sage support or Sage devel first if you think you found something missing in Sage.
> 
> I will mark this ticket as "won't fix"
> 

OK, that's fine!


---

Comment by klee created at 2015-10-02 09:24:20

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-10-03 11:15:47

Resolution: wontfix
