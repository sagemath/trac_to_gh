# Issue 29112: Parallelize Make to improve performance

Issue created by migration from https://trac.sagemath.org/ticket/29349

Original creator: @coolsidd

Original creation time: 2020-03-17 09:15:35




---

Comment by git created at 2020-03-17 09:40:06

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by @coolsidd created at 2020-03-17 09:40:54

Just by adding the simple one-liner of nproc improves the performance of make a lot on my machine will add the stats soon.


---

Comment by @coolsidd created at 2020-03-17 09:51:28

Changing type from PLEASE CHANGE to enhancement.


---

Comment by @coolsidd created at 2020-03-17 09:51:28

Set assignee to @coolsidd.


---

Comment by jhpalmieri created at 2020-03-17 15:59:43

I think it's much better to make "-j" an option for users. It is already advertised in the top-level README.md file and also in the Sage installation guide:

http://doc.sagemath.org/html/en/installation/source.html#step-by-step-installation-procedure
http://doc.sagemath.org/html/en/installation/source.html#environment-variables

Note also that if someone is using a shared machine, it may not be appropriate for them to use all of the machine's available processing power. Finally, `nproc` is not available on OS X. I don't know how widely it is available or what other options there are. The script `src/bin/sage-num-threads.py` is a cross-platform replacement.


---

Comment by mkoeppe created at 2020-03-21 14:13:44

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-03-21 14:13:44

I agree with jhpalmieri and propose to close this ticket


---

Comment by @coolsidd created at 2020-03-21 16:30:43

Agreed. Don't know what I was thinking when I opened this ticket, even the code does not make sense.


---

Comment by jhpalmieri created at 2020-03-21 16:55:10

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2020-03-21 20:02:40

Resolution: invalid
