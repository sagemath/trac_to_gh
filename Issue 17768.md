# Issue 17768: Group algebra of nonstandard symmetric groups broken

archive/issues_017768.json:
```json
{
    "body": "CC:  sage-combinat @tscrim @avirmaux @nthiery\n\nKeywords: symmetric group, group algebra, permutations\n\nI have recorded the problem in #16926. Quoting src/sage/groups/perm_gps/permgroup_named.py:\n\n\n```\n    def algebra(self, base_ring):\n        \"\"\"\n        Return the symmetric group algebra associated to ``self``.\n\n        .. WARNING::\n\n            This is broken!\n\n                sage: S = SymmetricGroup([2,3,5])\n                sage: S.an_element()\n                (2,3,5)\n                sage: S.algebra(QQ)(_)\n                Traceback (most recent call last):\n                ...\n                ValueError: The permutation has length 3 but its maximal element is 5. Some\n                 element may be repeated, or an element is missing, but there is something\n                 wrong with its length.\n\n            Best make it a usual group algebra with none of the bells and whistles\n            of the SGA but with functioning methods.\n\n        EXAMPLES::\n\n            sage: S4 = SymmetricGroup(4)\n            sage: S4.algebra(QQ)\n            Symmetric group algebra of order 4 over Rational Field\n        \"\"\"\n        from sage.combinat.symmetric_group_algebra import SymmetricGroupAlgebra\n        return SymmetricGroupAlgebra(base_ring, self)\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/18005\n\n",
    "created_at": "2015-03-20T05:15:28Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Group algebra of nonstandard symmetric groups broken",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17768",
    "user": "https://github.com/darijgr"
}
```
CC:  sage-combinat @tscrim @avirmaux @nthiery

Keywords: symmetric group, group algebra, permutations

I have recorded the problem in #16926. Quoting src/sage/groups/perm_gps/permgroup_named.py:


```
    def algebra(self, base_ring):
        """
        Return the symmetric group algebra associated to ``self``.

        .. WARNING::

            This is broken!

                sage: S = SymmetricGroup([2,3,5])
                sage: S.an_element()
                (2,3,5)
                sage: S.algebra(QQ)(_)
                Traceback (most recent call last):
                ...
                ValueError: The permutation has length 3 but its maximal element is 5. Some
                 element may be repeated, or an element is missing, but there is something
                 wrong with its length.

            Best make it a usual group algebra with none of the bells and whistles
            of the SGA but with functioning methods.

        EXAMPLES::

            sage: S4 = SymmetricGroup(4)
            sage: S4.algebra(QQ)
            Symmetric group algebra of order 4 over Rational Field
        """
        from sage.combinat.symmetric_group_algebra import SymmetricGroupAlgebra
        return SymmetricGroupAlgebra(base_ring, self)
```


Issue created by migration from https://trac.sagemath.org/ticket/18005





---

archive/issue_comments_237788.json:
```json
{
    "body": "I just implemented that in #16926; this ticket can probably be closed as duplicate.",
    "created_at": "2015-03-20T05:26:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17768#issuecomment-237788",
    "user": "https://github.com/nthiery"
}
```

I just implemented that in #16926; this ticket can probably be closed as duplicate.



---

archive/issue_comments_237789.json:
```json
{
    "body": "Great job! Can I ask you to review my doctests? (probably half a minute of work, thanks!)",
    "created_at": "2015-03-20T05:28:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17768#issuecomment-237789",
    "user": "https://github.com/darijgr"
}
```

Great job! Can I ask you to review my doctests? (probably half a minute of work, thanks!)



---

archive/issue_comments_237790.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-20T05:36:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17768#issuecomment-237790",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_237791.json:
```json
{
    "body": "Done.",
    "created_at": "2015-03-20T05:36:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17768#issuecomment-237791",
    "user": "https://github.com/tscrim"
}
```

Done.



---

archive/issue_comments_237792.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-03-20T05:36:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17768#issuecomment-237792",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_237793.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2015-03-21T09:31:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17768#issuecomment-237793",
    "user": "https://github.com/vbraun"
}
```

Resolution: duplicate
