# Issue 19519: Upgrade to GSL 2.1

archive/issues_019519.json:
```json
{
    "body": "CC:  fbissey\n\n**Upstream**: http://gnu.xl-mirror.nl/gsl/gsl-2.1.tar.gz\n\nIssue created by migration from https://trac.sagemath.org/ticket/19756\n\n",
    "created_at": "2015-12-21T20:28:32Z",
    "labels": [
        "packages: standard",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.0",
    "title": "Upgrade to GSL 2.1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19519",
    "user": "jdemeyer"
}
```
CC:  fbissey

**Upstream**: http://gnu.xl-mirror.nl/gsl/gsl-2.1.tar.gz

Issue created by migration from https://trac.sagemath.org/ticket/19756





---

archive/issue_comments_268201.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-21T21:29:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268201",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_268202.json:
```json
{
    "body": "Did you try this upgrade? I'm getting strange doctest failures (e.g. in `src/sage/schemes`) that I cannot really relate to GSL.",
    "created_at": "2015-12-22T09:55:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268202",
    "user": "jdemeyer"
}
```

Did you try this upgrade? I'm getting strange doctest failures (e.g. in `src/sage/schemes`) that I cannot really relate to GSL.



---

archive/issue_comments_268203.json:
```json
{
    "body": "No, I haven't, this ticket was the first time I knew about this release this morning (~10hours ago).",
    "created_at": "2015-12-22T09:59:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268203",
    "user": "fbissey"
}
```

No, I haven't, this ticket was the first time I knew about this release this morning (~10hours ago).



---

archive/issue_comments_268204.json:
```json
{
    "body": "OK, got it. The problem is really with the building of the interpreters.",
    "created_at": "2015-12-22T10:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268204",
    "user": "jdemeyer"
}
```

OK, got it. The problem is really with the building of the interpreters.



---

archive/issue_comments_268205.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-12-22T11:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268205",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_268206.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-12-22T16:03:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268206",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_268207.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-12-22T22:38:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268207",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_268208.json:
```json
{
    "body": "I don't seem to have any issue with just upgrading `gsl` without touching anything else.",
    "created_at": "2015-12-22T22:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268208",
    "user": "fbissey"
}
```

I don't seem to have any issue with just upgrading `gsl` without touching anything else.



---

archive/issue_comments_268209.json:
```json
{
    "body": "Replying to [comment:11 fbissey]:\n> I don't seem to have any issue with just upgrading `gsl` without touching anything else.\n\nBuilding from scratch or upgrading? The problem here lies in the build system, so it's only visible when upgrading.",
    "created_at": "2015-12-23T07:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268209",
    "user": "jdemeyer"
}
```

Replying to [comment:11 fbissey]:
> I don't seem to have any issue with just upgrading `gsl` without touching anything else.

Building from scratch or upgrading? The problem here lies in the build system, so it's only visible when upgrading.



---

archive/issue_comments_268210.json:
```json
{
    "body": "I tested upgrading in sage-on-gentoo, I had to rebuild `cvxopt` and `sage` itself but I am somewhat decoupled from some part of the main build system - I guess it count as \"from scratch\" since I build the whole of the sage library.",
    "created_at": "2015-12-23T07:20:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268210",
    "user": "fbissey"
}
```

I tested upgrading in sage-on-gentoo, I had to rebuild `cvxopt` and `sage` itself but I am somewhat decoupled from some part of the main build system - I guess it count as "from scratch" since I build the whole of the sage library.



---

archive/issue_comments_268211.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-12-23T11:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268211",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_268212.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-12-23T11:19:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268212",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_268213.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-12-23T11:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268213",
    "user": "jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_268214.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-12-27T17:05:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268214",
    "user": "vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_268215.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-12-28T14:57:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268215",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_268216.json:
```json
{
    "body": "Testsuite fails on arando:\n\n```\nmake -j1  check-TESTS\nmake[5]: Entering directory `/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/gsl-2.1/src/multifit'\nmake[6]: Entering directory `/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/gsl-2.1/src/multifit'\nFAIL: test\nmake[7]: Entering directory `/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/gsl-2.1/src/multifit'\nmake[7]: Nothing to be done for `all'.\nmake[7]: Leaving directory `/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/gsl-2.1/src/multifit'\n============================================================================\nTestsuite summary for gsl 2.1\n============================================================================\n# TOTAL: 1\n# PASS:  0\n# SKIP:  0\n# XFAIL: 0\n# FAIL:  1\n# XPASS: 0\n# ERROR: 0\n============================================================================\nSee multifit/test-suite.log\n============================================================================\n```\n\nhttp://build.sagedev.org/release/builders/%20%20fast%20Oxford%20arando%20%28Ubuntu%2013.04%20i686%29%20incremental/builds/742/steps/compile/logs/gsl",
    "created_at": "2015-12-28T14:57:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268216",
    "user": "vbraun"
}
```

Testsuite fails on arando:

```
make -j1  check-TESTS
make[5]: Entering directory `/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/gsl-2.1/src/multifit'
make[6]: Entering directory `/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/gsl-2.1/src/multifit'
FAIL: test
make[7]: Entering directory `/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/gsl-2.1/src/multifit'
make[7]: Nothing to be done for `all'.
make[7]: Leaving directory `/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/gsl-2.1/src/multifit'
============================================================================
Testsuite summary for gsl 2.1
============================================================================
# TOTAL: 1
# PASS:  0
# SKIP:  0
# XFAIL: 0
# FAIL:  1
# XPASS: 0
# ERROR: 0
============================================================================
See multifit/test-suite.log
============================================================================
```

http://build.sagedev.org/release/builders/%20%20fast%20Oxford%20arando%20%28Ubuntu%2013.04%20i686%29%20incremental/builds/742/steps/compile/logs/gsl



---

archive/issue_comments_268217.json:
```json
{
    "body": "Replying to [comment:19 vbraun]:\n> Testsuite fails on arando\n\nSame issue as #19797 (but not easily fixed on i386 unfortunately).",
    "created_at": "2015-12-29T22:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268217",
    "user": "jdemeyer"
}
```

Replying to [comment:19 vbraun]:
> Testsuite fails on arando

Same issue as #19797 (but not easily fixed on i386 unfortunately).



---

archive/issue_comments_268218.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-01-07T09:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268218",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_268219.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2016-01-07T09:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268219",
    "user": "jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_268220.json:
```json
{
    "body": "The *current* version of GSL (version 1.16) also fails its testsuite on arando, so I see no reason to hold back GSL 2.1 for this.",
    "created_at": "2016-01-07T09:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268220",
    "user": "jdemeyer"
}
```

The *current* version of GSL (version 1.16) also fails its testsuite on arando, so I see no reason to hold back GSL 2.1 for this.



---

archive/issue_comments_268221.json:
```json
{
    "body": "The current gsl testsuite works on arando: http://build.sagedev.org/release/builders/%20%20fast%20Oxford%20arando%20%28Ubuntu%2013.04%20i686%29%20full/builds/126/steps/compile_1/logs/gsl\n\nBut we can just ignore it, not every testsuite works on every buildbot machine.",
    "created_at": "2016-01-07T17:44:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268221",
    "user": "vbraun"
}
```

The current gsl testsuite works on arando: http://build.sagedev.org/release/builders/%20%20fast%20Oxford%20arando%20%28Ubuntu%2013.04%20i686%29%20full/builds/126/steps/compile_1/logs/gsl

But we can just ignore it, not every testsuite works on every buildbot machine.



---

archive/issue_comments_268222.json:
```json
{
    "body": "That's strange, when I ran the testsuite it failed. Maybe there is some environment variable influencing the build?",
    "created_at": "2016-01-07T20:55:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268222",
    "user": "jdemeyer"
}
```

That's strange, when I ran the testsuite it failed. Maybe there is some environment variable influencing the build?



---

archive/issue_comments_268223.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-01-07T22:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19519#issuecomment-268223",
    "user": "vbraun"
}
```

Resolution: fixed
