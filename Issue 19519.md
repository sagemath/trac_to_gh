# Issue 19519: Upgrade to GSL 2.1

Issue created by migration from https://trac.sagemath.org/ticket/19756

Original creator: jdemeyer

Original creation time: 2015-12-21 20:28:32

CC:  fbissey

*Upstream*: http://gnu.xl-mirror.nl/gsl/gsl-2.1.tar.gz


---

Comment by git created at 2015-12-21 21:29:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2015-12-22 09:55:33

Did you try this upgrade? I'm getting strange doctest failures (e.g. in `src/sage/schemes`) that I cannot really relate to GSL.


---

Comment by fbissey created at 2015-12-22 09:59:49

No, I haven't, this ticket was the first time I knew about this release this morning (~10hours ago).


---

Comment by jdemeyer created at 2015-12-22 10:04:51

OK, got it. The problem is really with the building of the interpreters.


---

Comment by git created at 2015-12-22 11:44:56

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2015-12-22 16:03:36

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2015-12-22 22:38:32

Changing status from needs_review to needs_work.


---

Comment by fbissey created at 2015-12-22 22:44:10

I don't seem to have any issue with just upgrading `gsl` without touching anything else.


---

Comment by jdemeyer created at 2015-12-23 07:09:54

Replying to [comment:11 fbissey]:
> I don't seem to have any issue with just upgrading `gsl` without touching anything else.

Building from scratch or upgrading? The problem here lies in the build system, so it's only visible when upgrading.


---

Comment by fbissey created at 2015-12-23 07:20:19

I tested upgrading in sage-on-gentoo, I had to rebuild `cvxopt` and `sage` itself but I am somewhat decoupled from some part of the main build system - I guess it count as "from scratch" since I build the whole of the sage library.


---

Comment by git created at 2015-12-23 11:12:17

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2015-12-23 11:19:08

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2015-12-23 11:19:50

Changing status from needs_work to needs_review.


---

Comment by vbraun created at 2015-12-27 17:05:25

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-12-28 14:57:13

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2015-12-28 14:57:13

Testsuite fails on arando:

```
make -j1  check-TESTS
make[5]: Entering directory `/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/gsl-2.1/src/multifit'
make[6]: Entering directory `/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/gsl-2.1/src/multifit'
FAIL: test
make[7]: Entering directory `/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/gsl-2.1/src/multifit'
make[7]: Nothing to be done for `all'.
make[7]: Leaving directory `/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/gsl-2.1/src/multifit'
============================================================================
Testsuite summary for gsl 2.1
============================================================================
# TOTAL: 1
# PASS:  0
# SKIP:  0
# XFAIL: 0
# FAIL:  1
# XPASS: 0
# ERROR: 0
============================================================================
See multifit/test-suite.log
============================================================================
```

http://build.sagedev.org/release/builders/%20%20fast%20Oxford%20arando%20%28Ubuntu%2013.04%20i686%29%20incremental/builds/742/steps/compile/logs/gsl


---

Comment by jdemeyer created at 2015-12-29 22:23:53

Replying to [comment:19 vbraun]:
> Testsuite fails on arando

Same issue as #19797 (but not easily fixed on i386 unfortunately).


---

Comment by git created at 2016-01-07 09:53:22

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2016-01-07 09:55:46

Changing status from needs_work to positive_review.


---

Comment by jdemeyer created at 2016-01-07 09:55:46

The _current_ version of GSL (version 1.16) also fails its testsuite on arando, so I see no reason to hold back GSL 2.1 for this.


---

Comment by vbraun created at 2016-01-07 17:44:46

The current gsl testsuite works on arando: http://build.sagedev.org/release/builders/%20%20fast%20Oxford%20arando%20%28Ubuntu%2013.04%20i686%29%20full/builds/126/steps/compile_1/logs/gsl

But we can just ignore it, not every testsuite works on every buildbot machine.


---

Comment by jdemeyer created at 2016-01-07 20:55:31

That's strange, when I ran the testsuite it failed. Maybe there is some environment variable influencing the build?


---

Comment by vbraun created at 2016-01-07 22:41:02

Resolution: fixed
