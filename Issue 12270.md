# Issue 12270: singular does not state return types of main methods

archive/issues_012270.json:
```json
{
    "body": "Assignee: GeorgSWeber\n\nThis breaks building with clang.\n\nI've posted an spkg fixes this (and #12441) at [http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/singular-3-1-3-3.p5.spkg](http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/singular-3-1-3-3.p5.spkg). (This is a review spkg in case there are more issues with clang down the road.)\n\nIssue created by migration from https://trac.sagemath.org/ticket/12442\n\n",
    "created_at": "2012-02-04T20:16:54Z",
    "labels": [
        "build",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "singular does not state return types of main methods",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12270",
    "user": "ohanar"
}
```
Assignee: GeorgSWeber

This breaks building with clang.

I've posted an spkg fixes this (and #12441) at [http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/singular-3-1-3-3.p5.spkg](http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/singular-3-1-3-3.p5.spkg). (This is a review spkg in case there are more issues with clang down the road.)

Issue created by migration from https://trac.sagemath.org/ticket/12442





---

archive/issue_comments_144119.json:
```json
{
    "body": "Attachment [singular-main-returns.patch](tarball://root/attachments/some-uuid/ticket12442/singular-main-returns.patch) by ohanar created at 2012-02-04 20:17:12\n\nfor review purposes",
    "created_at": "2012-02-04T20:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144119",
    "user": "ohanar"
}
```

Attachment [singular-main-returns.patch](tarball://root/attachments/some-uuid/ticket12442/singular-main-returns.patch) by ohanar created at 2012-02-04 20:17:12

for review purposes



---

archive/issue_comments_144120.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-02-04T20:17:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144120",
    "user": "ohanar"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_144121.json:
```json
{
    "body": "FWIW, otherwise patch looks good... ;-)",
    "created_at": "2012-04-08T01:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144121",
    "user": "leif"
}
```

FWIW, otherwise patch looks good... ;-)



---

archive/issue_comments_144122.json:
```json
{
    "body": "Changing keywords from \"\" to \"spkg\".",
    "created_at": "2012-04-08T01:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144122",
    "user": "leif"
}
```

Changing keywords from "" to "spkg".



---

archive/issue_comments_144123.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-04-08T01:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144123",
    "user": "leif"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_144124.json:
```json
{
    "body": "Has this been reported upstream (http://www.singular.uni-kl.de:8002/trac/newticket)?",
    "created_at": "2012-08-03T06:48:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144124",
    "user": "jdemeyer"
}
```

Has this been reported upstream (http://www.singular.uni-kl.de:8002/trac/newticket)?



---

archive/issue_comments_144125.json:
```json
{
    "body": "Looks like there were meanwhile more instances (in Singular 3-1-5), although at least some of them are in test code which does not necessarily get built.",
    "created_at": "2013-06-03T21:08:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144125",
    "user": "leif"
}
```

Looks like there were meanwhile more instances (in Singular 3-1-5), although at least some of them are in test code which does not necessarily get built.



---

archive/issue_comments_144126.json:
```json
{
    "body": "Just to make you aware of #14737 (new spkg presumably coming up soon).",
    "created_at": "2013-06-13T15:20:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144126",
    "user": "leif"
}
```

Just to make you aware of #14737 (new spkg presumably coming up soon).



---

archive/issue_comments_144127.json:
```json
{
    "body": "Might be fixed by #14333, try sage-6.2.beta0 when its out and report back...",
    "created_at": "2014-01-31T23:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144127",
    "user": "vbraun"
}
```

Might be fixed by #14333, try sage-6.2.beta0 when its out and report back...



---

archive/issue_comments_144128.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2014-01-31T23:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144128",
    "user": "vbraun"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_144129.json:
```json
{
    "body": "Changing component from build to packages: standard.",
    "created_at": "2014-02-04T08:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144129",
    "user": "jdemeyer"
}
```

Changing component from build to packages: standard.



---

archive/issue_comments_144130.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2014-05-17T16:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144130",
    "user": "leif"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_144131.json:
```json
{
    "body": "Replying to [comment:10 vbraun]:\n> Might be fixed by #14333, try sage-6.2.beta0 when its out and report back...\n\nNope, it isn't:\n\n\n```\nlibparse.l:967:1: error: C++ requires a type specifier for all declarations\n```\n\n\n(as of Sage 6.2 / singular-3.1.6.p1)",
    "created_at": "2014-05-17T16:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144131",
    "user": "leif"
}
```

Replying to [comment:10 vbraun]:
> Might be fixed by #14333, try sage-6.2.beta0 when its out and report back...

Nope, it isn't:


```
libparse.l:967:1: error: C++ requires a type specifier for all declarations
```


(as of Sage 6.2 / singular-3.1.6.p1)



---

archive/issue_comments_144132.json:
```json
{
    "body": "To be put into `build/pkgs/singular/patches/`.",
    "created_at": "2014-05-17T17:11:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144132",
    "user": "leif"
}
```

To be put into `build/pkgs/singular/patches/`.



---

archive/issue_comments_144133.json:
```json
{
    "body": "Attachment [singular-3.1.6-no_return_type.patch](tarball://root/attachments/some-uuid/ticket12442/singular-3.1.6-no_return_type.patch) by leif created at 2014-05-17 17:14:17\n\nReplying to [comment:13 leif]:\n> Replying to [comment:10 vbraun]:\n> > Might be fixed by #14333, try sage-6.2.beta0 when its out and report back...\n> \n> Nope, it isn't:\n> \n> {{{\n> libparse.l:967:1: error: C++ requires a type specifier for all declarations\n> }}}\n> \n> (as of Sage 6.2 / singular-3.1.6.p1)\n\nNew patch for Singular 3.1.6 [attachment:singular-3.1.6-no_return_type.patch attached].  (No branch [yet], also because of #13331.)",
    "created_at": "2014-05-17T17:14:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144133",
    "user": "leif"
}
```

Attachment [singular-3.1.6-no_return_type.patch](tarball://root/attachments/some-uuid/ticket12442/singular-3.1.6-no_return_type.patch) by leif created at 2014-05-17 17:14:17

Replying to [comment:13 leif]:
> Replying to [comment:10 vbraun]:
> > Might be fixed by #14333, try sage-6.2.beta0 when its out and report back...
> 
> Nope, it isn't:
> 
> {{{
> libparse.l:967:1: error: C++ requires a type specifier for all declarations
> }}}
> 
> (as of Sage 6.2 / singular-3.1.6.p1)

New patch for Singular 3.1.6 [attachment:singular-3.1.6-no_return_type.patch attached].  (No branch [yet], also because of #13331.)



---

archive/issue_comments_144134.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-17T17:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144134",
    "user": "leif"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_144135.json:
```json
{
    "body": "Anyway...",
    "created_at": "2014-05-17T17:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144135",
    "user": "leif"
}
```

Anyway...



---

archive/issue_comments_144136.json:
```json
{
    "body": "Anyone feels like reviewing this if I create a branch?\nThen I'll move to #13331.",
    "created_at": "2014-07-16T13:42:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144136",
    "user": "jpflori"
}
```

Anyone feels like reviewing this if I create a branch?
Then I'll move to #13331.



---

archive/issue_comments_144137.json:
```json
{
    "body": "This is fixed in Singular-4.0",
    "created_at": "2014-07-16T15:01:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144137",
    "user": "vbraun"
}
```

This is fixed in Singular-4.0



---

archive/issue_comments_144138.json:
```json
{
    "body": "Great, but is it officially released (I'm aware there is tarball available) and is there anyone working on porting Sage to the new Singular interface?",
    "created_at": "2014-07-16T15:04:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144138",
    "user": "jpflori"
}
```

Great, but is it officially released (I'm aware there is tarball available) and is there anyone working on porting Sage to the new Singular interface?



---

archive/issue_comments_144139.json:
```json
{
    "body": "Well the webpage still points to 3-1-6. If you want to patch 3-1-6 in the interim then go ahead, all I'm saying is that this will fix itself sooner or later. How much of a priority is building Sage with clang?",
    "created_at": "2014-07-16T15:08:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144139",
    "user": "vbraun"
}
```

Well the webpage still points to 3-1-6. If you want to patch 3-1-6 in the interim then go ahead, all I'm saying is that this will fix itself sooner or later. How much of a priority is building Sage with clang?



---

archive/issue_comments_144140.json:
```json
{
    "body": "Actually I don't care, but I'd like to get #13331 in and this one was mentioned there.",
    "created_at": "2014-07-17T08:27:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144140",
    "user": "jpflori"
}
```

Actually I don't care, but I'd like to get #13331 in and this one was mentioned there.



---

archive/issue_comments_144141.json:
```json
{
    "body": "Still builds fine with the trivial patch, and it makes sense to me.\n\nI assume this was actually tested with clang, so positive review.",
    "created_at": "2014-07-17T08:34:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144141",
    "user": "jpflori"
}
```

Still builds fine with the trivial patch, and it makes sense to me.

I assume this was actually tested with clang, so positive review.



---

archive/issue_comments_144142.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-07-17T08:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144142",
    "user": "jpflori"
}
```

New commits:



---

archive/issue_comments_144143.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-17T08:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144143",
    "user": "jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_144144.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-07-18T03:48:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12270#issuecomment-144144",
    "user": "vbraun"
}
```

Resolution: fixed
