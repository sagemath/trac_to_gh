# Issue 29517: Remove packages that handle backporting from Python 3 to Python 2

archive/issues_029517.json:
```json
{
    "body": "Keywords: sd109\n\nRemove\n\n- backports_abc\n- backports_functools_lru_cache\n- backports_shutil_get_terminal_size\n- backports_ssl_match_hostname\n- configparser\n- enum34\n- functools32\n- future\n- ipaddress\n- pathlib2\n- singledispatch\n- subprocess32\n- typing\n\nAlso remove the use of `six` in the build process. (There are still many uses of `six` in the Sage library, and also the package `traitlets` uses it, so we cannot delete `six` now.)\n\nShould we also remove `sagenb`? That would let us remove\n\n- flask\n- flask_autoindex\n- flask_babel\n- flask_oldsessions\n- flask_openid\n- flask_silk\n- sagenb\n- twisted ? (it may be used by terminado when it is present, but terminado may function fine without it)\n- werkzeug\n\nIf the sagenb removal is a good idea, it could also be done on a separate ticket.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29754\n\n",
    "created_at": "2020-05-28T20:32:49Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Remove packages that handle backporting from Python 3 to Python 2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29517",
    "user": "https://github.com/jhpalmieri"
}
```
Keywords: sd109

Remove

- backports_abc
- backports_functools_lru_cache
- backports_shutil_get_terminal_size
- backports_ssl_match_hostname
- configparser
- enum34
- functools32
- future
- ipaddress
- pathlib2
- singledispatch
- subprocess32
- typing

Also remove the use of `six` in the build process. (There are still many uses of `six` in the Sage library, and also the package `traitlets` uses it, so we cannot delete `six` now.)

Should we also remove `sagenb`? That would let us remove

- flask
- flask_autoindex
- flask_babel
- flask_oldsessions
- flask_openid
- flask_silk
- sagenb
- twisted ? (it may be used by terminado when it is present, but terminado may function fine without it)
- werkzeug

If the sagenb removal is a good idea, it could also be done on a separate ticket.

Issue created by migration from https://trac.sagemath.org/ticket/29754





---

archive/issue_comments_418579.json:
```json
{
    "body": "sagenb should go, too, it doesn't work in py3.",
    "created_at": "2020-05-28T20:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418579",
    "user": "https://github.com/dimpase"
}
```

sagenb should go, too, it doesn't work in py3.



---

archive/issue_comments_418580.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-05-28T21:53:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418580",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_418581.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-05-28T21:53:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418581",
    "user": "https://github.com/jhpalmieri"
}
```

New commits:



---

archive/issue_comments_418582.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-05-28T22:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418582",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_418583.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-05-28T22:37:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418583",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_418584.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-05-28T22:40:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418584",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_418585.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-05-28T22:41:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418585",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_418586.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-05-28T22:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_418587.json:
```json
{
    "body": "I have to test my new branch. I'll set it back to \"needs review\" when that's done.",
    "created_at": "2020-05-28T22:52:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418587",
    "user": "https://github.com/jhpalmieri"
}
```

I have to test my new branch. I'll set it back to "needs review" when that's done.



---

archive/issue_comments_418588.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2020-05-28T22:52:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418588",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_418589.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-05-29T01:46:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418589",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_418590.json:
```json
{
    "body": "Okay, ready for review.\n\n---\nNew commits:",
    "created_at": "2020-05-29T01:46:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418590",
    "user": "https://github.com/jhpalmieri"
}
```

Okay, ready for review.

---
New commits:



---

archive/issue_comments_418591.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-05-29T22:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418591",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_418592.json:
```json
{
    "body": "lgtm",
    "created_at": "2020-05-29T22:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418592",
    "user": "https://github.com/dimpase"
}
```

lgtm



---

archive/issue_comments_418593.json:
```json
{
    "body": "Thanks, but as you and Matthias noted on another ticket, this needs rebasing. I'll work on that.",
    "created_at": "2020-05-29T23:06:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418593",
    "user": "https://github.com/jhpalmieri"
}
```

Thanks, but as you and Matthias noted on another ticket, this needs rebasing. I'll work on that.



---

archive/issue_comments_418594.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2020-05-29T23:06:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418594",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_418595.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-05-30T04:13:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418595",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_418596.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-05-30T04:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418596",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_418597.json:
```json
{
    "body": "Rebased to #29757.",
    "created_at": "2020-05-30T04:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418597",
    "user": "https://github.com/jhpalmieri"
}
```

Rebased to #29757.



---

archive/issue_comments_418598.json:
```json
{
    "body": "Can `zope_interface` also be removed?\n\n```\n$ grep zope_interface build/pkgs/*/dependencies\nbuild/pkgs/twisted/dependencies:$(PYTHON) | $(PYTHON_TOOLCHAIN) zope_interface\n```",
    "created_at": "2020-06-06T17:06:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418598",
    "user": "https://github.com/mkoeppe"
}
```

Can `zope_interface` also be removed?

```
$ grep zope_interface build/pkgs/*/dependencies
build/pkgs/twisted/dependencies:$(PYTHON) | $(PYTHON_TOOLCHAIN) zope_interface
```



---

archive/issue_comments_418599.json:
```json
{
    "body": "I tested this meanwhile, it works. Most probably zope_interface may go too, it only is mentioned  in doctests (and as a dependence of removed here twisted)",
    "created_at": "2020-06-06T17:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418599",
    "user": "https://github.com/dimpase"
}
```

I tested this meanwhile, it works. Most probably zope_interface may go too, it only is mentioned  in doctests (and as a dependence of removed here twisted)



---

archive/issue_comments_418600.json:
```json
{
    "body": "If this version here works, let's get this ticket in, and do the `zope_interface` removal on a follow-up ticket.",
    "created_at": "2020-06-06T17:42:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418600",
    "user": "https://github.com/mkoeppe"
}
```

If this version here works, let's get this ticket in, and do the `zope_interface` removal on a follow-up ticket.



---

archive/issue_comments_418601.json:
```json
{
    "body": "This could happen on #29803.",
    "created_at": "2020-06-06T17:42:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418601",
    "user": "https://github.com/mkoeppe"
}
```

This could happen on #29803.



---

archive/issue_comments_418602.json:
```json
{
    "body": "Removal of `zope_interface` is now done on #29803, actually I changed it to a dummy script package there so that #29803 is independent of this one here.",
    "created_at": "2020-06-06T18:19:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418602",
    "user": "https://github.com/mkoeppe"
}
```

Removal of `zope_interface` is now done on #29803, actually I changed it to a dummy script package there so that #29803 is independent of this one here.



---

archive/issue_comments_418603.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-06T20:54:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418603",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_418604.json:
```json
{
    "body": "lgtm",
    "created_at": "2020-06-06T20:54:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418604",
    "user": "https://github.com/dimpase"
}
```

lgtm



---

archive/issue_comments_418605.json:
```json
{
    "body": "Conflicts with #29745",
    "created_at": "2020-06-06T21:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418605",
    "user": "https://github.com/mkoeppe"
}
```

Conflicts with #29745



---

archive/issue_comments_418606.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-06-06T21:28:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418606",
    "user": "https://github.com/mkoeppe"
}
```

New commits:



---

archive/issue_comments_418607.json:
```json
{
    "body": "Follow-up: #29823",
    "created_at": "2020-06-07T21:07:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418607",
    "user": "https://github.com/mkoeppe"
}
```

Follow-up: #29823



---

archive/issue_comments_418608.json:
```json
{
    "body": "Another follow-up: #29878",
    "created_at": "2020-06-16T20:42:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418608",
    "user": "https://github.com/jhpalmieri"
}
```

Another follow-up: #29878



---

archive/issue_comments_418609.json:
```json
{
    "body": "And another: #29885 (remove \"sage -n sagenb\" as an advertised option, and strip the SageNB code from the `sage-notebook` script).",
    "created_at": "2020-06-17T23:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418609",
    "user": "https://github.com/jhpalmieri"
}
```

And another: #29885 (remove "sage -n sagenb" as an advertised option, and strip the SageNB code from the `sage-notebook` script).



---

archive/issue_comments_418610.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-06-24T23:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418610",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_418611.json:
```json
{
    "body": "Merge conflict",
    "created_at": "2020-06-24T23:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418611",
    "user": "https://github.com/vbraun"
}
```

Merge conflict



---

archive/issue_comments_418612.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2020-06-25T00:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418612",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_418613.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2020-06-25T00:03:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418613",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_418614.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-06-26T16:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418614",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_418615.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2020-06-26T16:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418615",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_418616.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-26T16:33:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418616",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_418617.json:
```json
{
    "body": "merged in the latest beta",
    "created_at": "2020-06-26T16:33:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418617",
    "user": "https://github.com/mkoeppe"
}
```

merged in the latest beta



---

archive/issue_events_076126.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-27T09:26:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29517#event-76126"
}
```



---

archive/issue_comments_418618.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-06-27T09:26:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29517#issuecomment-418618",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
