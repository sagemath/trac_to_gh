# Issue 17234: Rich output and the IPython Notebook

archive/issues_016997.json:
```json
{
    "assignees": [],
    "body": "This framework separates the construction of rich output (images, mathjax, 3d scenes, ...) from the viewer details. Displaying rich output is handled by interchangeable plugins that encapsulate the differences between various notebooks, the command line, etc.\n\nAs a side effect, mathjax output in the ipython notebook works now.\n\nDepends on #16996\nDepends on #16640\nDepends on #17284\n\nCC:  @novoselt @ohanar @gagern\n\nBranch: **[`a173e92`](https://github.com/sagemath/sagetrac-mirror/commit/a173e92ae42f3fb9fda3c70963ff29dcdffca7e6)**\n\nReviewer: **R. Andrew Ohana, Emmanuel Charpentier**\n\nAuthor: **Volker Braun**\n\nComponent: **graphics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17234_\n\n",
    "closed_at": "2015-03-03T00:25:16Z",
    "created_at": "2014-10-27T14:18:35Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Rich output and the IPython Notebook",
    "type": "issue",
    "updated_at": "2015-04-03T04:05:05Z",
    "url": "https://github.com/sagemath/sage/issues/17234",
    "user": "https://github.com/vbraun"
}
```
This framework separates the construction of rich output (images, mathjax, 3d scenes, ...) from the viewer details. Displaying rich output is handled by interchangeable plugins that encapsulate the differences between various notebooks, the command line, etc.

As a side effect, mathjax output in the ipython notebook works now.

Depends on #16996
Depends on #16640
Depends on #17284

CC:  @novoselt @ohanar @gagern

Branch: **[`a173e92`](https://github.com/sagemath/sagetrac-mirror/commit/a173e92ae42f3fb9fda3c70963ff29dcdffca7e6)**

Reviewer: **R. Andrew Ohana, Emmanuel Charpentier**

Author: **Volker Braun**

Component: **graphics**

_Issue created by migration from https://trac.sagemath.org/ticket/17234_





---

archive/issue_events_246020.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-27T14:18:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246020"
}
```



---

archive/issue_events_246021.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-27T14:18:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246021"
}
```



---

archive/issue_comments_229279.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Followup from #16996\n``````\n",
    "created_at": "2014-10-27T14:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229279",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Followup from #16996
``````




---

archive/issue_events_246022.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-27T14:20:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "000080",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246022"
}
```



---

archive/issue_events_246023.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-27T14:20:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246023"
}
```



---

archive/issue_comments_229280.json:
```json
{
    "body": "Dependencies: **#16996, #16640**",
    "created_at": "2014-11-04T21:37:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229280",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#16996, #16640**



---

archive/issue_events_246024.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-04T21:37:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "000080",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246024"
}
```



---

archive/issue_events_246025.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-04T21:37:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246025"
}
```



---

archive/issue_comments_229281.json:
```json
{
    "body": "Changed dependencies from **#16996, #16640** to **#16996, #16640, #17284**",
    "created_at": "2014-11-04T21:37:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229281",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#16996, #16640** to **#16996, #16640, #17284**



---

archive/issue_comments_229282.json:
```json
{
    "body": "Branch: **[u/vbraun/rich_output_and_the_ipython_notebook](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/rich_output_and_the_ipython_notebook)**",
    "created_at": "2014-12-05T14:27:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229282",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/rich_output_and_the_ipython_notebook](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/rich_output_and_the_ipython_notebook)**



---

archive/issue_comments_229283.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bac881576cbe06722f06c6d4d7967b7983777c0\"><code>1bac881</code></a></td><td><code>WIP</code></td></tr></table>\n",
    "created_at": "2014-12-27T22:44:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229283",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bac881576cbe06722f06c6d4d7967b7983777c0"><code>1bac881</code></a></td><td><code>WIP</code></td></tr></table>




---

archive/issue_comments_229284.json:
```json
{
    "body": "Commit: **[`1bac881`](https://github.com/sagemath/sagetrac-mirror/commit/1bac881576cbe06722f06c6d4d7967b7983777c0)**",
    "created_at": "2014-12-27T22:44:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229284",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`1bac881`](https://github.com/sagemath/sagetrac-mirror/commit/1bac881576cbe06722f06c6d4d7967b7983777c0)**



---

archive/issue_comments_229285.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e1c35522ffa063c01ade492c9cefd1bfa4a9823\"><code>9e1c355</code></a></td><td><code>WIP</code></td></tr></table>\n",
    "created_at": "2014-12-30T23:36:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229285",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e1c35522ffa063c01ade492c9cefd1bfa4a9823"><code>9e1c355</code></a></td><td><code>WIP</code></td></tr></table>




---

archive/issue_comments_229286.json:
```json
{
    "body": "Changed commit from **[`1bac881`](https://github.com/sagemath/sagetrac-mirror/commit/1bac881576cbe06722f06c6d4d7967b7983777c0)** to **[`9e1c355`](https://github.com/sagemath/sagetrac-mirror/commit/9e1c35522ffa063c01ade492c9cefd1bfa4a9823)**",
    "created_at": "2014-12-30T23:36:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229286",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1bac881`](https://github.com/sagemath/sagetrac-mirror/commit/1bac881576cbe06722f06c6d4d7967b7983777c0)** to **[`9e1c355`](https://github.com/sagemath/sagetrac-mirror/commit/9e1c35522ffa063c01ade492c9cefd1bfa4a9823)**



---

archive/issue_comments_229287.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b902167a1565ae44784352e33c0fb89913a42bc3\"><code>b902167</code></a></td><td><code>WIP</code></td></tr></table>\n",
    "created_at": "2015-01-01T23:24:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229287",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b902167a1565ae44784352e33c0fb89913a42bc3"><code>b902167</code></a></td><td><code>WIP</code></td></tr></table>




---

archive/issue_comments_229288.json:
```json
{
    "body": "Changed commit from **[`9e1c355`](https://github.com/sagemath/sagetrac-mirror/commit/9e1c35522ffa063c01ade492c9cefd1bfa4a9823)** to **[`b902167`](https://github.com/sagemath/sagetrac-mirror/commit/b902167a1565ae44784352e33c0fb89913a42bc3)**",
    "created_at": "2015-01-01T23:24:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229288",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9e1c355`](https://github.com/sagemath/sagetrac-mirror/commit/9e1c35522ffa063c01ade492c9cefd1bfa4a9823)** to **[`b902167`](https://github.com/sagemath/sagetrac-mirror/commit/b902167a1565ae44784352e33c0fb89913a42bc3)**



---

archive/issue_comments_229289.json:
```json
{
    "body": "Changed commit from **[`b902167`](https://github.com/sagemath/sagetrac-mirror/commit/b902167a1565ae44784352e33c0fb89913a42bc3)** to **[`14c147e`](https://github.com/sagemath/sagetrac-mirror/commit/14c147e89d1da0939764301e4e09ba5ccdbe4856)**",
    "created_at": "2015-01-25T12:43:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229289",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b902167`](https://github.com/sagemath/sagetrac-mirror/commit/b902167a1565ae44784352e33c0fb89913a42bc3)** to **[`14c147e`](https://github.com/sagemath/sagetrac-mirror/commit/14c147e89d1da0939764301e4e09ba5ccdbe4856)**



---

archive/issue_comments_229290.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14c147e89d1da0939764301e4e09ba5ccdbe4856\"><code>14c147e</code></a></td><td><code>WIP</code></td></tr></table>\n",
    "created_at": "2015-01-25T12:43:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229290",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14c147e89d1da0939764301e4e09ba5ccdbe4856"><code>14c147e</code></a></td><td><code>WIP</code></td></tr></table>




---

archive/issue_comments_229291.json:
```json
{
    "body": "Changed commit from **[`14c147e`](https://github.com/sagemath/sagetrac-mirror/commit/14c147e89d1da0939764301e4e09ba5ccdbe4856)** to **[`3411efa`](https://github.com/sagemath/sagetrac-mirror/commit/3411efa27dc074ddada3365a65cde2fb70e3db3c)**",
    "created_at": "2015-01-25T15:33:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229291",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`14c147e`](https://github.com/sagemath/sagetrac-mirror/commit/14c147e89d1da0939764301e4e09ba5ccdbe4856)** to **[`3411efa`](https://github.com/sagemath/sagetrac-mirror/commit/3411efa27dc074ddada3365a65cde2fb70e3db3c)**



---

archive/issue_comments_229292.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3411efa27dc074ddada3365a65cde2fb70e3db3c\"><code>3411efa</code></a></td><td><code>test</code></td></tr></table>\n",
    "created_at": "2015-01-25T15:33:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229292",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3411efa27dc074ddada3365a65cde2fb70e3db3c"><code>3411efa</code></a></td><td><code>test</code></td></tr></table>




---

archive/issue_comments_229293.json:
```json
{
    "body": "Changed commit from **[`3411efa`](https://github.com/sagemath/sagetrac-mirror/commit/3411efa27dc074ddada3365a65cde2fb70e3db3c)** to **[`14c147e`](https://github.com/sagemath/sagetrac-mirror/commit/14c147e89d1da0939764301e4e09ba5ccdbe4856)**",
    "created_at": "2015-01-25T15:38:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229293",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3411efa`](https://github.com/sagemath/sagetrac-mirror/commit/3411efa27dc074ddada3365a65cde2fb70e3db3c)** to **[`14c147e`](https://github.com/sagemath/sagetrac-mirror/commit/14c147e89d1da0939764301e4e09ba5ccdbe4856)**



---

archive/issue_comments_229294.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-01-25T15:38:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229294",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_229295.json:
```json
{
    "body": "Changed commit from **[`14c147e`](https://github.com/sagemath/sagetrac-mirror/commit/14c147e89d1da0939764301e4e09ba5ccdbe4856)** to **[`f78a5d3`](https://github.com/sagemath/sagetrac-mirror/commit/f78a5d3c07381f328bbc8a34db84f659c945f27e)**",
    "created_at": "2015-02-08T11:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229295",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`14c147e`](https://github.com/sagemath/sagetrac-mirror/commit/14c147e89d1da0939764301e4e09ba5ccdbe4856)** to **[`f78a5d3`](https://github.com/sagemath/sagetrac-mirror/commit/f78a5d3c07381f328bbc8a34db84f659c945f27e)**



---

archive/issue_comments_229296.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc4e54ab361c1f8fe6d05d168512d127f4fed4d9\"><code>fc4e54a</code></a></td><td><code>WIP</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/830e4638072cb4bfc7c2a11037eac2353f33ce71\"><code>830e463</code></a></td><td><code>rebase, minor fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07adf4538e11f435c033b4f63fbc5d70d2328d1f\"><code>07adf45</code></a></td><td><code>save builtins._</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f78a5d3c07381f328bbc8a34db84f659c945f27e\"><code>f78a5d3</code></a></td><td><code>WIP: SageNB jmol</code></td></tr></table>\n",
    "created_at": "2015-02-08T11:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229296",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc4e54ab361c1f8fe6d05d168512d127f4fed4d9"><code>fc4e54a</code></a></td><td><code>WIP</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/830e4638072cb4bfc7c2a11037eac2353f33ce71"><code>830e463</code></a></td><td><code>rebase, minor fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07adf4538e11f435c033b4f63fbc5d70d2328d1f"><code>07adf45</code></a></td><td><code>save builtins._</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f78a5d3c07381f328bbc8a34db84f659c945f27e"><code>f78a5d3</code></a></td><td><code>WIP: SageNB jmol</code></td></tr></table>




---

archive/issue_comments_229297.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72967035f11732d9f9a336a54b5c949ec30b687c\"><code>7296703</code></a></td><td><code>WIP</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed9bc271a3c69c10ae14f5de10f2bb4b0f7e9218\"><code>ed9bc27</code></a></td><td><code>rebase, minor fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8f8386d007e9fc5b46cc93b363ee001d97d9c7a\"><code>f8f8386</code></a></td><td><code>save builtins._</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a88a042e4dd0ad693acd04166702e88fc59fe874\"><code>a88a042</code></a></td><td><code>WIP: SageNB jmol</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5dc00909b94bcdfc89d9bd463da693692f853cfb\"><code>5dc0090</code></a></td><td><code>Make SageNB j(s)mol work</code></td></tr></table>\n",
    "created_at": "2015-02-08T23:56:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229297",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72967035f11732d9f9a336a54b5c949ec30b687c"><code>7296703</code></a></td><td><code>WIP</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed9bc271a3c69c10ae14f5de10f2bb4b0f7e9218"><code>ed9bc27</code></a></td><td><code>rebase, minor fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8f8386d007e9fc5b46cc93b363ee001d97d9c7a"><code>f8f8386</code></a></td><td><code>save builtins._</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a88a042e4dd0ad693acd04166702e88fc59fe874"><code>a88a042</code></a></td><td><code>WIP: SageNB jmol</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5dc00909b94bcdfc89d9bd463da693692f853cfb"><code>5dc0090</code></a></td><td><code>Make SageNB j(s)mol work</code></td></tr></table>




---

archive/issue_comments_229298.json:
```json
{
    "body": "Changed commit from **[`f78a5d3`](https://github.com/sagemath/sagetrac-mirror/commit/f78a5d3c07381f328bbc8a34db84f659c945f27e)** to **[`5dc0090`](https://github.com/sagemath/sagetrac-mirror/commit/5dc00909b94bcdfc89d9bd463da693692f853cfb)**",
    "created_at": "2015-02-08T23:56:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229298",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f78a5d3`](https://github.com/sagemath/sagetrac-mirror/commit/f78a5d3c07381f328bbc8a34db84f659c945f27e)** to **[`5dc0090`](https://github.com/sagemath/sagetrac-mirror/commit/5dc00909b94bcdfc89d9bd463da693692f853cfb)**



---

archive/issue_comments_229299.json:
```json
{
    "body": "Changed commit from **[`5dc0090`](https://github.com/sagemath/sagetrac-mirror/commit/5dc00909b94bcdfc89d9bd463da693692f853cfb)** to **[`7633dc3`](https://github.com/sagemath/sagetrac-mirror/commit/7633dc373e4b6c38c0cd72fe99fb8f816d733c53)**",
    "created_at": "2015-02-11T01:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229299",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5dc0090`](https://github.com/sagemath/sagetrac-mirror/commit/5dc00909b94bcdfc89d9bd463da693692f853cfb)** to **[`7633dc3`](https://github.com/sagemath/sagetrac-mirror/commit/7633dc373e4b6c38c0cd72fe99fb8f816d733c53)**



---

archive/issue_comments_229300.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db74693194861b18d414530cda411f71aaa5ec0a\"><code>db74693</code></a></td><td><code>make sagenb temp filen world-readable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a13e0f16369b22c81d64c40db5d4f99b7fe11869\"><code>a13e0f1</code></a></td><td><code>Add canvas3d graphics support</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7633dc373e4b6c38c0cd72fe99fb8f816d733c53\"><code>7633dc3</code></a></td><td><code>hook up the Java3d (sage3d) viewer</code></td></tr></table>\n",
    "created_at": "2015-02-11T01:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229300",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db74693194861b18d414530cda411f71aaa5ec0a"><code>db74693</code></a></td><td><code>make sagenb temp filen world-readable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a13e0f16369b22c81d64c40db5d4f99b7fe11869"><code>a13e0f1</code></a></td><td><code>Add canvas3d graphics support</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7633dc373e4b6c38c0cd72fe99fb8f816d733c53"><code>7633dc3</code></a></td><td><code>hook up the Java3d (sage3d) viewer</code></td></tr></table>




---

archive/issue_comments_229301.json:
```json
{
    "body": "Changed commit from **[`7633dc3`](https://github.com/sagemath/sagetrac-mirror/commit/7633dc373e4b6c38c0cd72fe99fb8f816d733c53)** to **[`037d0eb`](https://github.com/sagemath/sagetrac-mirror/commit/037d0ebcdc35c1b10800c3b89eaa117147b8fe5f)**",
    "created_at": "2015-02-11T22:13:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229301",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7633dc3`](https://github.com/sagemath/sagetrac-mirror/commit/7633dc373e4b6c38c0cd72fe99fb8f816d733c53)** to **[`037d0eb`](https://github.com/sagemath/sagetrac-mirror/commit/037d0ebcdc35c1b10800c3b89eaa117147b8fe5f)**



---

archive/issue_comments_229302.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/037d0ebcdc35c1b10800c3b89eaa117147b8fe5f\"><code>037d0eb</code></a></td><td><code>Finish lightwave support</code></td></tr></table>\n",
    "created_at": "2015-02-11T22:13:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229302",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/037d0ebcdc35c1b10800c3b89eaa117147b8fe5f"><code>037d0eb</code></a></td><td><code>Finish lightwave support</code></td></tr></table>




---

archive/issue_comments_229303.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nRegarding changes of the form\n\n```diff\n- def show(self, filename=None, dpi=DEFAULT_DPI, figsize=None, axes=None, **kwds):\n+ def show(self, **kwds):\n```\nI also tried once to make the same simplification as you but people complained.\n\nSee discussion starting at [[#16533 comment:25](https://github.com/sagemath/sage/issues/16533#comment:25)]",
    "created_at": "2015-02-12T20:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229303",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Regarding changes of the form

```diff
- def show(self, filename=None, dpi=DEFAULT_DPI, figsize=None, axes=None, **kwds):
+ def show(self, **kwds):
```
I also tried once to make the same simplification as you but people complained.

See discussion starting at [[#16533 comment:25](https://github.com/sagemath/sage/issues/16533#comment:25)]



---

archive/issue_comments_229304.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOn the plus side the filename keyword is removed, too: you actually have to call `save()` to save now.  We could add a deprecation workaround but really that was never the intent of the `show()` method nor match its documentation.",
    "created_at": "2015-02-12T20:38:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229304",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:17" align="right">comment:17</div>

On the plus side the filename keyword is removed, too: you actually have to call `save()` to save now.  We could add a deprecation workaround but really that was never the intent of the `show()` method nor match its documentation.



---

archive/issue_comments_229305.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/867cf2af36c82d0931068bed27f125ed2b8d9d6a\"><code>867cf2a</code></a></td><td><code>WIP</code></td></tr></table>\n",
    "created_at": "2015-02-15T01:38:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229305",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/867cf2af36c82d0931068bed27f125ed2b8d9d6a"><code>867cf2a</code></a></td><td><code>WIP</code></td></tr></table>




---

archive/issue_comments_229306.json:
```json
{
    "body": "Changed commit from **[`037d0eb`](https://github.com/sagemath/sagetrac-mirror/commit/037d0ebcdc35c1b10800c3b89eaa117147b8fe5f)** to **[`867cf2a`](https://github.com/sagemath/sagetrac-mirror/commit/867cf2af36c82d0931068bed27f125ed2b8d9d6a)**",
    "created_at": "2015-02-15T01:38:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229306",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`037d0eb`](https://github.com/sagemath/sagetrac-mirror/commit/037d0ebcdc35c1b10800c3b89eaa117147b8fe5f)** to **[`867cf2a`](https://github.com/sagemath/sagetrac-mirror/commit/867cf2af36c82d0931068bed27f125ed2b8d9d6a)**



---

archive/issue_comments_229307.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7747261d04e4ff0105fb514a2109b2d014396e2a\"><code>7747261</code></a></td><td><code>Rich output framework</code></td></tr></table>\n",
    "created_at": "2015-02-15T09:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229307",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7747261d04e4ff0105fb514a2109b2d014396e2a"><code>7747261</code></a></td><td><code>Rich output framework</code></td></tr></table>




---

archive/issue_comments_229308.json:
```json
{
    "body": "Changed commit from **[`867cf2a`](https://github.com/sagemath/sagetrac-mirror/commit/867cf2af36c82d0931068bed27f125ed2b8d9d6a)** to **[`7747261`](https://github.com/sagemath/sagetrac-mirror/commit/7747261d04e4ff0105fb514a2109b2d014396e2a)**",
    "created_at": "2015-02-15T09:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229308",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`867cf2a`](https://github.com/sagemath/sagetrac-mirror/commit/867cf2af36c82d0931068bed27f125ed2b8d9d6a)** to **[`7747261`](https://github.com/sagemath/sagetrac-mirror/commit/7747261d04e4ff0105fb514a2109b2d014396e2a)**



---

archive/issue_comments_229309.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2015-02-15T09:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229309",
    "user": "https://github.com/vbraun"
}
```

Author: **Volker Braun**



---

archive/issue_comments_229310.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,2 @@\n-Followup from #16996\n+This framework separates the construction of rich output (images, mathjax, 3d scenes, ...) from the viewer details. Displaying rich output is handled by interchangeable plugins that encapsulate the differences between various notebooks, the command line, etc.\n+\n``````\n",
    "created_at": "2015-02-15T09:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229310",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,2 @@
-Followup from #16996
+This framework separates the construction of rich output (images, mathjax, 3d scenes, ...) from the viewer details. Displaying rich output is handled by interchangeable plugins that encapsulate the differences between various notebooks, the command line, etc.
+
``````




---

archive/issue_comments_229311.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThis is now feature complete and all doctests pass. I will not rebase the branch any more, all future additions will be incremental.\n\nThe only thing missing is some documentation.",
    "created_at": "2015-02-15T09:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229311",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

This is now feature complete and all doctests pass. I will not rebase the branch any more, all future additions will be incremental.

The only thing missing is some documentation.



---

archive/issue_comments_229312.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,3 @@\n This framework separates the construction of rich output (images, mathjax, 3d scenes, ...) from the viewer details. Displaying rich output is handled by interchangeable plugins that encapsulate the differences between various notebooks, the command line, etc.\n \n+As a side effect, mathjax output in the ipython notebook works now.\n``````\n",
    "created_at": "2015-02-15T09:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229312",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,3 @@
 This framework separates the construction of rich output (images, mathjax, 3d scenes, ...) from the viewer details. Displaying rich output is handled by interchangeable plugins that encapsulate the differences between various notebooks, the command line, etc.
 
+As a side effect, mathjax output in the ipython notebook works now.
``````




---

archive/issue_comments_229313.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dc42d971ba53322fb089307178294b5c3e32fac\"><code>7dc42d9</code></a></td><td><code>More documentation</code></td></tr></table>\n",
    "created_at": "2015-02-19T00:21:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229313",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dc42d971ba53322fb089307178294b5c3e32fac"><code>7dc42d9</code></a></td><td><code>More documentation</code></td></tr></table>




---

archive/issue_comments_229314.json:
```json
{
    "body": "Changed commit from **[`7747261`](https://github.com/sagemath/sagetrac-mirror/commit/7747261d04e4ff0105fb514a2109b2d014396e2a)** to **[`7dc42d9`](https://github.com/sagemath/sagetrac-mirror/commit/7dc42d971ba53322fb089307178294b5c3e32fac)**",
    "created_at": "2015-02-19T00:21:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229314",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7747261`](https://github.com/sagemath/sagetrac-mirror/commit/7747261d04e4ff0105fb514a2109b2d014396e2a)** to **[`7dc42d9`](https://github.com/sagemath/sagetrac-mirror/commit/7dc42d971ba53322fb089307178294b5c3e32fac)**



---

archive/issue_events_246026.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-19T00:31:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246026"
}
```



---

archive/issue_comments_229315.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nDocumentation is complete now, ready for review.",
    "created_at": "2015-02-19T00:31:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229315",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

Documentation is complete now, ready for review.



---

archive/issue_events_246027.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-02-19T06:14:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246027"
}
```



---

archive/issue_events_246028.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-02-19T06:14:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246028"
}
```



---

archive/issue_comments_229316.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nSome comments for now:\n\n* It seems like the `show` method should maybe get moved to the `SageObject` class. It pops up everywhere, is more or less the same (other than supporting some deprecated functionality in a small handful of places) and as far as I can tell should work for every child of `SageObject`.\n* Similarly, in graphics.py, a bit of refactoring could be done by creating a common parent for `Graphics` and `GraphicsArray` (maybe something like `GraphicsBase`)\n* In `sage.repl.formatter` there is presumably a debugging print statement still left in `SagePlainTextFormatter`.\n* In the module docstring for `sage.repl.image` you mention the class `SageImage`, which you presumably renamed to just be `Image`. I didn't see any other instances of this, but it warrants a double check.\n* In `sage.repl.interpreter` it would be good to at least have trivial docstrings for the new methods as well as `# not tested` doctests -- hopefully it reduces the number of coverage complaints (even though it is a bit silly in this case).\n* For the display magic, you deprecate some old values, maybe add a proper `deprecation`? (or maybe this doesn't work well with magics, I don't know)\n* The only the first pdf assertion in validate method for the doctest backend is being tested at the moment.\n* The `display_immediately` method on the IPython notebook backend currently does return something.\n* The `display_immediately` doctest for the test backend is actually testing the base backend.\n* For the various backends, wouldn't it make more sense for the supported_types to return frozensets rather than sets (since really the supported types aren't mutable). You do this later in the display manager.\n* For the display manager, why don't you just make a it have a unique instance (either by using a metaclass, or by using `__new__`) rather than just assert that there is only one instance?\n\nOnce I get a chance to test it and give it a second pass I'll add some more comments. It would also be good to get someone familiar with SageNB to take a look at this, since I have no idea what hacks SageNB depends on and can't really review the SageNB backend.",
    "created_at": "2015-02-19T06:14:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229316",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:25" align="right">comment:25</div>

Some comments for now:

* It seems like the `show` method should maybe get moved to the `SageObject` class. It pops up everywhere, is more or less the same (other than supporting some deprecated functionality in a small handful of places) and as far as I can tell should work for every child of `SageObject`.
* Similarly, in graphics.py, a bit of refactoring could be done by creating a common parent for `Graphics` and `GraphicsArray` (maybe something like `GraphicsBase`)
* In `sage.repl.formatter` there is presumably a debugging print statement still left in `SagePlainTextFormatter`.
* In the module docstring for `sage.repl.image` you mention the class `SageImage`, which you presumably renamed to just be `Image`. I didn't see any other instances of this, but it warrants a double check.
* In `sage.repl.interpreter` it would be good to at least have trivial docstrings for the new methods as well as `# not tested` doctests -- hopefully it reduces the number of coverage complaints (even though it is a bit silly in this case).
* For the display magic, you deprecate some old values, maybe add a proper `deprecation`? (or maybe this doesn't work well with magics, I don't know)
* The only the first pdf assertion in validate method for the doctest backend is being tested at the moment.
* The `display_immediately` method on the IPython notebook backend currently does return something.
* The `display_immediately` doctest for the test backend is actually testing the base backend.
* For the various backends, wouldn't it make more sense for the supported_types to return frozensets rather than sets (since really the supported types aren't mutable). You do this later in the display manager.
* For the display manager, why don't you just make a it have a unique instance (either by using a metaclass, or by using `__new__`) rather than just assert that there is only one instance?

Once I get a chance to test it and give it a second pass I'll add some more comments. It would also be good to get someone familiar with SageNB to take a look at this, since I have no idea what hacks SageNB depends on and can't really review the SageNB backend.



---

archive/issue_comments_229317.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\n1, 2) I agree on the first two, but I don't want to do any further refactoring on this ticket. It is already way too big...\n\n3) is actually never used, thouugh it might be handy to have a plain IPython formatter. I've clarified the documentation.\n\n6) its still not clear to me what the best syntax is, so for now I think its easiest to just allow different combinations. But I don't like \"simple\" (not expressive, better: \"plain\") and \"typeset\" (probably better: \"mathjax\").\n\n7) was supposed to be `OutputImageDvi`, fixed.\n\n10) The backend supported_output can return any iterable. The display manager then turns that into a nice frozen set and performs checks and type demotion. Nobody interacts with the backends directly, the display manager intentionally has no public accessor for the current backend.\n\n11) Just for simplicity, the display manager's type isn't global so you already have to work to try to make a second instance. You aren't going to accidentally call the ctor.",
    "created_at": "2015-02-20T01:10:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229317",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:26" align="right">comment:26</div>

1, 2) I agree on the first two, but I don't want to do any further refactoring on this ticket. It is already way too big...

3) is actually never used, thouugh it might be handy to have a plain IPython formatter. I've clarified the documentation.

6) its still not clear to me what the best syntax is, so for now I think its easiest to just allow different combinations. But I don't like "simple" (not expressive, better: "plain") and "typeset" (probably better: "mathjax").

7) was supposed to be `OutputImageDvi`, fixed.

10) The backend supported_output can return any iterable. The display manager then turns that into a nice frozen set and performs checks and type demotion. Nobody interacts with the backends directly, the display manager intentionally has no public accessor for the current backend.

11) Just for simplicity, the display manager's type isn't global so you already have to work to try to make a second instance. You aren't going to accidentally call the ctor.



---

archive/issue_comments_229318.json:
```json
{
    "body": "Changed commit from **[`7dc42d9`](https://github.com/sagemath/sagetrac-mirror/commit/7dc42d971ba53322fb089307178294b5c3e32fac)** to **[`2d915f0`](https://github.com/sagemath/sagetrac-mirror/commit/2d915f086b25c7c72cf1fc9d0dd441015abd9fad)**",
    "created_at": "2015-02-20T01:22:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229318",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7dc42d9`](https://github.com/sagemath/sagetrac-mirror/commit/7dc42d971ba53322fb089307178294b5c3e32fac)** to **[`2d915f0`](https://github.com/sagemath/sagetrac-mirror/commit/2d915f086b25c7c72cf1fc9d0dd441015abd9fad)**



---

archive/issue_comments_229319.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d915f086b25c7c72cf1fc9d0dd441015abd9fad\"><code>2d915f0</code></a></td><td><code>Fix Andrews comments</code></td></tr></table>\n",
    "created_at": "2015-02-20T01:22:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229319",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d915f086b25c7c72cf1fc9d0dd441015abd9fad"><code>2d915f0</code></a></td><td><code>Fix Andrews comments</code></td></tr></table>




---

archive/issue_comments_229320.json:
```json
{
    "body": "Reviewer: **Andrew Ohana**",
    "created_at": "2015-02-20T01:25:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229320",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Andrew Ohana**



---

archive/issue_events_246029.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-20T01:25:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246029"
}
```



---

archive/issue_events_246030.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-20T01:25:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246030"
}
```



---

archive/issue_events_246031.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-02-21T00:25:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246031"
}
```



---

archive/issue_events_246032.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-02-21T00:25:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246032"
}
```



---

archive/issue_comments_229321.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nA few more comments:\n\n1. I think it would be better to have a latex output type rather than a mathjax output type -- different backends might use different renders for latex, (e.g. the command line currently uses the pdflatex command + a pdf viewer). This should work fine with ipython which supports the text/latex MIME type (which it renders with mathjax).\n\n2. Sure, we can hold off on the show stuff for another ticket, this is already quite big. (Note for future ticket) From talking with William, he convinced me that `show` should be an alias for `pretty_print`, which should always tries to use a rich output for an object (falling back on the plain text), while the plain `print` function should always use the plain text for the object.\n\n3. I don't really like right now how the graphics and text are treated very differently at the moment -- the graphics object are responsible for creating their own output types, while the display manager/backend is responsible for creating text output types. I would define both ascii art and latex output as rich output rather than plain text output, and would then move the logic for an object's rich output to the `_rich_repr_` method of the object itself (in this case it would go into `SageObject._rich_repr_`).\n\n4. I'm getting a lot of doctests failing under `sage.plot` (I can attach a log if you aren't getting them). A lot of them are fixed with changing `tachyon.png.save` to `tachyon.png.save_as` on line 244 of `sage.plot.plot3d.base` (this also fixes 3d plots in SageNB for me).",
    "created_at": "2015-02-21T00:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229321",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:29" align="right">comment:29</div>

A few more comments:

1. I think it would be better to have a latex output type rather than a mathjax output type -- different backends might use different renders for latex, (e.g. the command line currently uses the pdflatex command + a pdf viewer). This should work fine with ipython which supports the text/latex MIME type (which it renders with mathjax).

2. Sure, we can hold off on the show stuff for another ticket, this is already quite big. (Note for future ticket) From talking with William, he convinced me that `show` should be an alias for `pretty_print`, which should always tries to use a rich output for an object (falling back on the plain text), while the plain `print` function should always use the plain text for the object.

3. I don't really like right now how the graphics and text are treated very differently at the moment -- the graphics object are responsible for creating their own output types, while the display manager/backend is responsible for creating text output types. I would define both ascii art and latex output as rich output rather than plain text output, and would then move the logic for an object's rich output to the `_rich_repr_` method of the object itself (in this case it would go into `SageObject._rich_repr_`).

4. I'm getting a lot of doctests failing under `sage.plot` (I can attach a log if you aren't getting them). A lot of them are fixed with changing `tachyon.png.save` to `tachyon.png.save_as` on line 244 of `sage.plot.plot3d.base` (this also fixes 3d plots in SageNB for me).



---

archive/issue_comments_229322.json:
```json
{
    "body": "Changed reviewer from **Andrew Ohana** to **R. Andrew Ohana**",
    "created_at": "2015-02-21T00:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229322",
    "user": "https://github.com/ohanar"
}
```

Changed reviewer from **Andrew Ohana** to **R. Andrew Ohana**



---

archive/issue_comments_229323.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be577ff8984fb70f4bd4963dbc4ec6aa3274201d\"><code>be577ff</code></a></td><td><code>Rename Lightwave -> Wavefront obj</code></td></tr></table>\n",
    "created_at": "2015-02-21T00:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229323",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be577ff8984fb70f4bd4963dbc4ec6aa3274201d"><code>be577ff</code></a></td><td><code>Rename Lightwave -> Wavefront obj</code></td></tr></table>




---

archive/issue_comments_229324.json:
```json
{
    "body": "Changed commit from **[`2d915f0`](https://github.com/sagemath/sagetrac-mirror/commit/2d915f086b25c7c72cf1fc9d0dd441015abd9fad)** to **[`be577ff`](https://github.com/sagemath/sagetrac-mirror/commit/be577ff8984fb70f4bd4963dbc4ec6aa3274201d)**",
    "created_at": "2015-02-21T00:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229324",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2d915f0`](https://github.com/sagemath/sagetrac-mirror/commit/2d915f086b25c7c72cf1fc9d0dd441015abd9fad)** to **[`be577ff`](https://github.com/sagemath/sagetrac-mirror/commit/be577ff8984fb70f4bd4963dbc4ec6aa3274201d)**



---

archive/issue_comments_229325.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\n1) sounds good, I can make the change\n\n2) agree but thats yet another ticket for sure. a better name for the `viewer='...'` keyword option that works also for plain text / latex / 2d animation formats / ... would be nice, too. (see also: #17783)\n\n3) our text formatters are special in that they also apply to non-Sage objects, namely tall Python list and alike. So we can't just move them to `SageObject._rich_repr_`\n\n4) I see, I have Java installed and you don't. Fixed.",
    "created_at": "2015-02-21T01:06:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229325",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:31" align="right">comment:31</div>

1) sounds good, I can make the change

2) agree but thats yet another ticket for sure. a better name for the `viewer='...'` keyword option that works also for plain text / latex / 2d animation formats / ... would be nice, too. (see also: #17783)

3) our text formatters are special in that they also apply to non-Sage objects, namely tall Python list and alike. So we can't just move them to `SageObject._rich_repr_`

4) I see, I have Java installed and you don't. Fixed.



---

archive/issue_comments_229326.json:
```json
{
    "body": "Changed commit from **[`be577ff`](https://github.com/sagemath/sagetrac-mirror/commit/be577ff8984fb70f4bd4963dbc4ec6aa3274201d)** to **[`af73513`](https://github.com/sagemath/sagetrac-mirror/commit/af73513af04815e472d1983c4d1d648e0eb780f4)**",
    "created_at": "2015-02-21T01:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229326",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`be577ff`](https://github.com/sagemath/sagetrac-mirror/commit/be577ff8984fb70f4bd4963dbc4ec6aa3274201d)** to **[`af73513`](https://github.com/sagemath/sagetrac-mirror/commit/af73513af04815e472d1983c4d1d648e0eb780f4)**



---

archive/issue_comments_229327.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af73513af04815e472d1983c4d1d648e0eb780f4\"><code>af73513</code></a></td><td><code>Fix saving 3d preview image without java</code></td></tr></table>\n",
    "created_at": "2015-02-21T01:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229327",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af73513af04815e472d1983c4d1d648e0eb780f4"><code>af73513</code></a></td><td><code>Fix saving 3d preview image without java</code></td></tr></table>




---

archive/issue_comments_229328.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI've opened #17821 to collect the ideas for refactoring `show` / `pretty_print`",
    "created_at": "2015-02-21T01:13:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229328",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:33" align="right">comment:33</div>

I've opened #17821 to collect the ideas for refactoring `show` / `pretty_print`



---

archive/issue_comments_229329.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5b31e40b9881d3b5ce4a5fb6a4681a0731ea7cc\"><code>f5b31e4</code></a></td><td><code>Rename mathjax -> latex in rich output types</code></td></tr></table>\n",
    "created_at": "2015-02-21T12:19:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229329",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5b31e40b9881d3b5ce4a5fb6a4681a0731ea7cc"><code>f5b31e4</code></a></td><td><code>Rename mathjax -> latex in rich output types</code></td></tr></table>




---

archive/issue_comments_229330.json:
```json
{
    "body": "Changed commit from **[`af73513`](https://github.com/sagemath/sagetrac-mirror/commit/af73513af04815e472d1983c4d1d648e0eb780f4)** to **[`f5b31e4`](https://github.com/sagemath/sagetrac-mirror/commit/f5b31e40b9881d3b5ce4a5fb6a4681a0731ea7cc)**",
    "created_at": "2015-02-21T12:19:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229330",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`af73513`](https://github.com/sagemath/sagetrac-mirror/commit/af73513af04815e472d1983c4d1d648e0eb780f4)** to **[`f5b31e4`](https://github.com/sagemath/sagetrac-mirror/commit/f5b31e40b9881d3b5ce4a5fb6a4681a0731ea7cc)**



---

archive/issue_events_246033.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-21T12:20:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246033"
}
```



---

archive/issue_events_246034.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-21T12:20:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246034"
}
```



---

archive/issue_comments_229331.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82b4bc1d00adee5f209309ec880d7a82c3ad18f2\"><code>82b4bc1</code></a></td><td><code>use the plot3d viewer keyword</code></td></tr></table>\n",
    "created_at": "2015-02-21T18:20:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229331",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82b4bc1d00adee5f209309ec880d7a82c3ad18f2"><code>82b4bc1</code></a></td><td><code>use the plot3d viewer keyword</code></td></tr></table>




---

archive/issue_comments_229332.json:
```json
{
    "body": "Changed commit from **[`f5b31e4`](https://github.com/sagemath/sagetrac-mirror/commit/f5b31e40b9881d3b5ce4a5fb6a4681a0731ea7cc)** to **[`82b4bc1`](https://github.com/sagemath/sagetrac-mirror/commit/82b4bc1d00adee5f209309ec880d7a82c3ad18f2)**",
    "created_at": "2015-02-21T18:20:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229332",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f5b31e4`](https://github.com/sagemath/sagetrac-mirror/commit/f5b31e40b9881d3b5ce4a5fb6a4681a0731ea7cc)** to **[`82b4bc1`](https://github.com/sagemath/sagetrac-mirror/commit/82b4bc1d00adee5f209309ec880d7a82c3ad18f2)**



---

archive/issue_comments_229333.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nRegarding point 3:\n\nBut they don't work consistently, which is precisely the problem with trying to handle the all text with the display manager (the object itself is always going to know best how to represent itself). For instance, the tall list stuff only works for lists and tuples, not sets or dicts or even Sage's Set_object.\n\nI would rather see something like a `_call_plain_repr` method that checks whether an object is a builtin type that we are giving a our own repr method to, and then call our repr method in that case (rather than the the built in one).\n\nRegardless, there would be a lot of redoing of stuff to make something like that work, so it is probably best to put in another ticket anyway.\n\n---\n\nI'm still getting doctest errors on my machine (which as you can tell, doesn't have too much on it). I'll attach a log in a moment.",
    "created_at": "2015-02-25T23:08:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229333",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:37" align="right">comment:37</div>

Regarding point 3:

But they don't work consistently, which is precisely the problem with trying to handle the all text with the display manager (the object itself is always going to know best how to represent itself). For instance, the tall list stuff only works for lists and tuples, not sets or dicts or even Sage's Set_object.

I would rather see something like a `_call_plain_repr` method that checks whether an object is a builtin type that we are giving a our own repr method to, and then call our repr method in that case (rather than the the built in one).

Regardless, there would be a lot of redoing of stuff to make something like that work, so it is probably best to put in another ticket anyway.

---

I'm still getting doctest errors on my machine (which as you can tell, doesn't have too much on it). I'll attach a log in a moment.



---

archive/issue_events_246035.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-02-25T23:15:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246035"
}
```



---

archive/issue_events_246036.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-02-25T23:15:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246036"
}
```



---

archive/issue_comments_229334.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nImho the ascii art is the right way to do it, boxes that are aware of height/width and baseline. Then assemble containers etc. Maybe make ascii art the default at one point. I hesitate to kludge too much on top of the plain text, this would lead to massive changes to the Sage libray doctests.",
    "created_at": "2015-02-25T23:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229334",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:39" align="right">comment:39</div>

Imho the ascii art is the right way to do it, boxes that are aware of height/width and baseline. Then assemble containers etc. Maybe make ascii art the default at one point. I hesitate to kludge too much on top of the plain text, this would lead to massive changes to the Sage libray doctests.



---

archive/issue_comments_229335.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nSure, in that case in the `_call_rich_repr` method you could do something special for builtin python objects.",
    "created_at": "2015-02-25T23:23:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229335",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:40" align="right">comment:40</div>

Sure, in that case in the `_call_rich_repr` method you could do something special for builtin python objects.



---

archive/issue_comments_229336.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nOk, your libpng puts out a different sub-version of png and no imagemagick/ffmpeg. I'll fix it when I have some time.\n\nThere is already a framework around `_ascii_art_()` methods, so I would recommend to build on top of that.",
    "created_at": "2015-02-25T23:25:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229336",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:41" align="right">comment:41</div>

Ok, your libpng puts out a different sub-version of png and no imagemagick/ffmpeg. I'll fix it when I have some time.

There is already a framework around `_ascii_art_()` methods, so I would recommend to build on top of that.



---

archive/issue_comments_229337.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nApparently fixes #17858 - I haven't personally confirmed this.",
    "created_at": "2015-02-26T17:10:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229337",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:42" align="right">comment:42</div>

Apparently fixes #17858 - I haven't personally confirmed this.



---

archive/issue_comments_229338.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nThe failing tests for PNG output actually don't work in the released Sage either, e.g.\n\n```\nsage: sum([dodecahedron(center=[2.5*x, 0, 0], color=(1, 0, 0, x/10)) for x in range(2)]).show(viewer='tachyon')\n``` \nproduces no output. It does create a 0-byte png file, and this ticket is the first to test whether it starts with the PNG magic. The tachyon source file is invalid, but tachyon apparently returns 0 on error.",
    "created_at": "2015-02-26T19:31:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229338",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:43" align="right">comment:43</div>

The failing tests for PNG output actually don't work in the released Sage either, e.g.

```
sage: sum([dodecahedron(center=[2.5*x, 0, 0], color=(1, 0, 0, x/10)) for x in range(2)]).show(viewer='tachyon')
``` 
produces no output. It does create a 0-byte png file, and this ticket is the first to test whether it starts with the PNG magic. The tachyon source file is invalid, but tachyon apparently returns 0 on error.



---

archive/issue_comments_229339.json:
```json
{
    "body": "Changed commit from **[`82b4bc1`](https://github.com/sagemath/sagetrac-mirror/commit/82b4bc1d00adee5f209309ec880d7a82c3ad18f2)** to **[`2c34e3a`](https://github.com/sagemath/sagetrac-mirror/commit/2c34e3aebb4d7bfb68758e4258381948386305da)**",
    "created_at": "2015-02-26T23:23:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229339",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`82b4bc1`](https://github.com/sagemath/sagetrac-mirror/commit/82b4bc1d00adee5f209309ec880d7a82c3ad18f2)** to **[`2c34e3a`](https://github.com/sagemath/sagetrac-mirror/commit/2c34e3aebb4d7bfb68758e4258381948386305da)**



---

archive/issue_comments_229340.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c34e3aebb4d7bfb68758e4258381948386305da\"><code>2c34e3a</code></a></td><td><code>Check for Tachyon errors, remove the non-blocking tachyion option</code></td></tr></table>\n",
    "created_at": "2015-02-26T23:23:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229340",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c34e3aebb4d7bfb68758e4258381948386305da"><code>2c34e3a</code></a></td><td><code>Check for Tachyon errors, remove the non-blocking tachyion option</code></td></tr></table>




---

archive/issue_comments_229341.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc9a5af4a97236ab06555724ab81ba9717fedb0d\"><code>cc9a5af</code></a></td><td><code>Normalize plot data (like texture opacity) to float</code></td></tr></table>\n",
    "created_at": "2015-02-27T00:24:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229341",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc9a5af4a97236ab06555724ab81ba9717fedb0d"><code>cc9a5af</code></a></td><td><code>Normalize plot data (like texture opacity) to float</code></td></tr></table>




---

archive/issue_comments_229342.json:
```json
{
    "body": "Changed commit from **[`2c34e3a`](https://github.com/sagemath/sagetrac-mirror/commit/2c34e3aebb4d7bfb68758e4258381948386305da)** to **[`cc9a5af`](https://github.com/sagemath/sagetrac-mirror/commit/cc9a5af4a97236ab06555724ab81ba9717fedb0d)**",
    "created_at": "2015-02-27T00:24:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229342",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2c34e3a`](https://github.com/sagemath/sagetrac-mirror/commit/2c34e3aebb4d7bfb68758e4258381948386305da)** to **[`cc9a5af`](https://github.com/sagemath/sagetrac-mirror/commit/cc9a5af4a97236ab06555724ab81ba9717fedb0d)**



---

archive/issue_comments_229343.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nThe problem was that tachyon doesn't understand rational input like \"Opacity 1/10\". Fixed by normalizing everything to float before handing it to plotting backends.",
    "created_at": "2015-02-27T00:25:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229343",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:46" align="right">comment:46</div>

The problem was that tachyon doesn't understand rational input like "Opacity 1/10". Fixed by normalizing everything to float before handing it to plotting backends.



---

archive/issue_comments_229344.json:
```json
{
    "body": "Changed commit from **[`cc9a5af`](https://github.com/sagemath/sagetrac-mirror/commit/cc9a5af4a97236ab06555724ab81ba9717fedb0d)** to **[`37ae94a`](https://github.com/sagemath/sagetrac-mirror/commit/37ae94afecee8011327f72b64405365ee5430bde)**",
    "created_at": "2015-02-27T00:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229344",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cc9a5af`](https://github.com/sagemath/sagetrac-mirror/commit/cc9a5af4a97236ab06555724ab81ba9717fedb0d)** to **[`37ae94a`](https://github.com/sagemath/sagetrac-mirror/commit/37ae94afecee8011327f72b64405365ee5430bde)**



---

archive/issue_comments_229345.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37ae94afecee8011327f72b64405365ee5430bde\"><code>37ae94a</code></a></td><td><code>Mark all animations that require ImageMagick as #optional</code></td></tr></table>\n",
    "created_at": "2015-02-27T00:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229345",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37ae94afecee8011327f72b64405365ee5430bde"><code>37ae94a</code></a></td><td><code>Mark all animations that require ImageMagick as #optional</code></td></tr></table>




---

archive/issue_comments_229346.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nThis should fix all of your doctest failures",
    "created_at": "2015-02-27T00:34:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229346",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:48" align="right">comment:48</div>

This should fix all of your doctest failures



---

archive/issue_comments_229347.json:
```json
{
    "body": "Attachment: **[failing_doctests.log](https://github.com/sagemath/sage/files/ticket17234/failing_doctests.log)**",
    "created_at": "2015-02-27T04:06:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229347",
    "user": "https://github.com/ohanar"
}
```

Attachment: **[failing_doctests.log](https://github.com/sagemath/sage/files/ticket17234/failing_doctests.log)**



---

archive/issue_comments_229348.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI've attached other various doctest failures throughout the library. They look trivial (just missed).",
    "created_at": "2015-02-27T04:08:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229348",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:49" align="right">comment:49</div>

I've attached other various doctest failures throughout the library. They look trivial (just missed).



---

archive/issue_comments_229349.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29853da7890b555e1a172ec224748946a9e8a208\"><code>29853da</code></a></td><td><code>fix remaining doctest failures</code></td></tr></table>\n",
    "created_at": "2015-02-27T08:46:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229349",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29853da7890b555e1a172ec224748946a9e8a208"><code>29853da</code></a></td><td><code>fix remaining doctest failures</code></td></tr></table>




---

archive/issue_comments_229350.json:
```json
{
    "body": "Changed commit from **[`37ae94a`](https://github.com/sagemath/sagetrac-mirror/commit/37ae94afecee8011327f72b64405365ee5430bde)** to **[`29853da`](https://github.com/sagemath/sagetrac-mirror/commit/29853da7890b555e1a172ec224748946a9e8a208)**",
    "created_at": "2015-02-27T08:46:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229350",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`37ae94a`](https://github.com/sagemath/sagetrac-mirror/commit/37ae94afecee8011327f72b64405365ee5430bde)** to **[`29853da`](https://github.com/sagemath/sagetrac-mirror/commit/29853da7890b555e1a172ec224748946a9e8a208)**



---

archive/issue_comments_229351.json:
```json
{
    "body": "<div id=\"comment:51\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57469c622c0f69c14444e14c4b697995d496ee5c\"><code>57469c6</code></a></td><td><code>correct file permissions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c6becd7cb44b4049471f5e53879ead2ad571cf2\"><code>6c6becd</code></a></td><td><code>mark more animation doctess as optional ImageMagick</code></td></tr></table>\n",
    "created_at": "2015-02-27T23:47:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229351",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57469c622c0f69c14444e14c4b697995d496ee5c"><code>57469c6</code></a></td><td><code>correct file permissions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c6becd7cb44b4049471f5e53879ead2ad571cf2"><code>6c6becd</code></a></td><td><code>mark more animation doctess as optional ImageMagick</code></td></tr></table>




---

archive/issue_comments_229352.json:
```json
{
    "body": "Changed commit from **[`29853da`](https://github.com/sagemath/sagetrac-mirror/commit/29853da7890b555e1a172ec224748946a9e8a208)** to **[`6c6becd`](https://github.com/sagemath/sagetrac-mirror/commit/6c6becd7cb44b4049471f5e53879ead2ad571cf2)**",
    "created_at": "2015-02-27T23:47:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229352",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`29853da`](https://github.com/sagemath/sagetrac-mirror/commit/29853da7890b555e1a172ec224748946a9e8a208)** to **[`6c6becd`](https://github.com/sagemath/sagetrac-mirror/commit/6c6becd7cb44b4049471f5e53879ead2ad571cf2)**



---

archive/issue_comments_229353.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nReplying to [@sagetrac-git](#comment:51):\n\n[ ... ]\n\nA couple data point for this commit (6.6 beta1 built from scratch + this trac branch) :\n1) code builds OK, but doc building fails (\" make doc-clean && make \" succeeds).\n2) in the Ipython notebook :\n- %display typeset gives typeset (MathJax) output. At last ! This was my motivation for testing this branch.\n- %display ascii_art fails for not having an output stream\n- %display simple restores default output (whew...)\n- no 3D viewer available but tachyon.\"jmol\" and \"canvas3d\" fail silently, \"java3d\" gives a deprecation warning pointing to \"wavefront\", which fails silently.\n\nHoping this helps.",
    "created_at": "2015-02-28T09:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229353",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:52" align="right">comment:52</div>

Replying to [@sagetrac-git](#comment:51):

[ ... ]

A couple data point for this commit (6.6 beta1 built from scratch + this trac branch) :
1) code builds OK, but doc building fails (" make doc-clean && make " succeeds).
2) in the Ipython notebook :
- %display typeset gives typeset (MathJax) output. At last ! This was my motivation for testing this branch.
- %display ascii_art fails for not having an output stream
- %display simple restores default output (whew...)
- no 3D viewer available but tachyon."jmol" and "canvas3d" fail silently, "java3d" gives a deprecation warning pointing to "wavefront", which fails silently.

Hoping this helps.



---

archive/issue_comments_229354.json:
```json
{
    "body": "Changed commit from **[`6c6becd`](https://github.com/sagemath/sagetrac-mirror/commit/6c6becd7cb44b4049471f5e53879ead2ad571cf2)** to **[`38c6db0`](https://github.com/sagemath/sagetrac-mirror/commit/38c6db0e5af5d217b7b07cb0d820fee1075a8012)**",
    "created_at": "2015-02-28T10:58:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229354",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6c6becd`](https://github.com/sagemath/sagetrac-mirror/commit/6c6becd7cb44b4049471f5e53879ead2ad571cf2)** to **[`38c6db0`](https://github.com/sagemath/sagetrac-mirror/commit/38c6db0e5af5d217b7b07cb0d820fee1075a8012)**



---

archive/issue_comments_229355.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38c6db0e5af5d217b7b07cb0d820fee1075a8012\"><code>38c6db0</code></a></td><td><code>Fix ascii art in the IPython notebook</code></td></tr></table>\n",
    "created_at": "2015-02-28T10:58:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229355",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38c6db0e5af5d217b7b07cb0d820fee1075a8012"><code>38c6db0</code></a></td><td><code>Fix ascii art in the IPython notebook</code></td></tr></table>




---

archive/issue_comments_229356.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nI fixed the ascii art issue.\n\nI'm aware that there is still no 3d graphics in the notebook at this point, but that should go to another ticket.",
    "created_at": "2015-02-28T11:00:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229356",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:54" align="right">comment:54</div>

I fixed the ascii art issue.

I'm aware that there is still no 3d graphics in the notebook at this point, but that should go to another ticket.



---

archive/issue_comments_229357.json:
```json
{
    "body": "<div id=\"comment:55\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c17bced498bc2eb9bd10519ffc6dc6d9ab7a142\"><code>7c17bce</code></a></td><td><code>Fix documentation build</code></td></tr></table>\n",
    "created_at": "2015-02-28T12:41:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229357",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c17bced498bc2eb9bd10519ffc6dc6d9ab7a142"><code>7c17bce</code></a></td><td><code>Fix documentation build</code></td></tr></table>




---

archive/issue_comments_229358.json:
```json
{
    "body": "Changed commit from **[`38c6db0`](https://github.com/sagemath/sagetrac-mirror/commit/38c6db0e5af5d217b7b07cb0d820fee1075a8012)** to **[`7c17bce`](https://github.com/sagemath/sagetrac-mirror/commit/7c17bced498bc2eb9bd10519ffc6dc6d9ab7a142)**",
    "created_at": "2015-02-28T12:41:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229358",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`38c6db0`](https://github.com/sagemath/sagetrac-mirror/commit/38c6db0e5af5d217b7b07cb0d820fee1075a8012)** to **[`7c17bce`](https://github.com/sagemath/sagetrac-mirror/commit/7c17bced498bc2eb9bd10519ffc6dc6d9ab7a142)**



---

archive/issue_comments_229359.json:
```json
{
    "body": "<div id=\"comment:56\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcbc5884e9252b75734c125fb436eb26c8d798d6\"><code>fcbc588</code></a></td><td><code>fix the last missing optional ImageMagick</code></td></tr></table>\n",
    "created_at": "2015-02-28T14:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229359",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:56"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcbc5884e9252b75734c125fb436eb26c8d798d6"><code>fcbc588</code></a></td><td><code>fix the last missing optional ImageMagick</code></td></tr></table>




---

archive/issue_comments_229360.json:
```json
{
    "body": "Changed commit from **[`7c17bce`](https://github.com/sagemath/sagetrac-mirror/commit/7c17bced498bc2eb9bd10519ffc6dc6d9ab7a142)** to **[`fcbc588`](https://github.com/sagemath/sagetrac-mirror/commit/fcbc5884e9252b75734c125fb436eb26c8d798d6)**",
    "created_at": "2015-02-28T14:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229360",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7c17bce`](https://github.com/sagemath/sagetrac-mirror/commit/7c17bced498bc2eb9bd10519ffc6dc6d9ab7a142)** to **[`fcbc588`](https://github.com/sagemath/sagetrac-mirror/commit/fcbc5884e9252b75734c125fb436eb26c8d798d6)**



---

archive/issue_comments_229361.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nDoctests now also pass without ImageMagick",
    "created_at": "2015-02-28T14:58:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229361",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:57" align="right">comment:57</div>

Doctests now also pass without ImageMagick



---

archive/issue_events_246037.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-28T14:58:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246037"
}
```



---

archive/issue_events_246038.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-28T14:58:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246038"
}
```



---

archive/issue_comments_229362.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nI got 3 failures after \"ID 215-02-28-17-11-36-39ff4408\", testlong got three failures in src/sage/plot/plot3d/base.pyx (see below) , all bound to 3D graphics. The rest got no failures.\n\nI got no build failure after integrating the last commit(s), but I did **not** rebuild from scratch.\n\nIs that enough for \"positive review\" ? Do you need a scratch build (long since serial : I didn't integrate #17839...) ?\n\nHTH.\n\nThe three errors :\n\n```\ncharpent@asus16-ec:/usr/local/sage-6.6$ sage -t --long --warn-long 24.8 src/sage/plot/plot3d/base.pyx\nRunning doctests with ID 2015-02-28-19-11-29-0b70177c.\nGit branch: t/17234/rich_output_and_the_ipython_notebook\nDoctesting 1 file.\nsage -t --long --warn-long 24.8 src/sage/plot/plot3d/base.pyx\n**********************************************************************\nFile \"src/sage/plot/plot3d/base.pyx\", line 1422, in sage.plot.plot3d.base.Graphics3d.save_image\nFailed example:\n    G.save_image(gif)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/sage-6.6/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 492, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/sage-6.6/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 854, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.plot.plot3d.base.Graphics3d.save_image[5]>\", line 1, in <module>\n        G.save_image(gif)\n      File \"sage/plot/plot3d/base.pyx\", line 1434, in sage.plot.plot3d.base.Graphics3d.save_image (build/cythonized/sage/plot/plot3d/base.c:16182)\n        Image.open(png).save(filename)\n      File \"build/bdist.linux-x86_64/egg/PIL/Image.py\", line 2006, in open\n        raise IOError(\"cannot identify image file\")\n    IOError: cannot identify image file\n**********************************************************************\nFile \"src/sage/plot/plot3d/base.pyx\", line 1423, in sage.plot.plot3d.base.Graphics3d.save_image\nFailed example:\n    assert open(gif).read().startswith('GIF')\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/sage-6.6/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 492, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/sage-6.6/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 854, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.plot.plot3d.base.Graphics3d.save_image[6]>\", line 1, in <module>\n        assert open(gif).read().startswith('GIF')\n    AssertionError\n**********************************************************************\nFile \"src/sage/plot/plot3d/base.pyx\", line 1474, in sage.plot.plot3d.base.Graphics3d.save\nFailed example:\n    cube().save(tmp_filename(ext='.gif'))\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/sage-6.6/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 492, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/sage-6.6/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 854, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.plot.plot3d.base.Graphics3d.save[5]>\", line 1, in <module>\n        cube().save(tmp_filename(ext='.gif'))\n      File \"sage/plot/plot3d/base.pyx\", line 1480, in sage.plot.plot3d.base.Graphics3d.save (build/cythonized/sage/plot/plot3d/base.c:16543)\n        self.save_image(filename)\n      File \"sage/plot/plot3d/base.pyx\", line 1434, in sage.plot.plot3d.base.Graphics3d.save_image (build/cythonized/sage/plot/plot3d/base.c:16182)\n        Image.open(png).save(filename)\n      File \"build/bdist.linux-x86_64/egg/PIL/Image.py\", line 2006, in open\n        raise IOError(\"cannot identify image file\")\n    IOError: cannot identify image file\n**********************************************************************\n2 items had failures:\n   1 of   7 in sage.plot.plot3d.base.Graphics3d.save\n   2 of   8 in sage.plot.plot3d.base.Graphics3d.save_image\n    [297 tests, 3 failures, 44.46 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 24.8 src/sage/plot/plot3d/base.pyx  # 3 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 44.6 seconds\n    cpu time: 1.3 seconds\n    cumulative wall time: 44.5 seconds\n```",
    "created_at": "2015-02-28T18:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229362",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:58" align="right">comment:58</div>

I got 3 failures after "ID 215-02-28-17-11-36-39ff4408", testlong got three failures in src/sage/plot/plot3d/base.pyx (see below) , all bound to 3D graphics. The rest got no failures.

I got no build failure after integrating the last commit(s), but I did **not** rebuild from scratch.

Is that enough for "positive review" ? Do you need a scratch build (long since serial : I didn't integrate #17839...) ?

HTH.

The three errors :

```
charpent@asus16-ec:/usr/local/sage-6.6$ sage -t --long --warn-long 24.8 src/sage/plot/plot3d/base.pyx
Running doctests with ID 2015-02-28-19-11-29-0b70177c.
Git branch: t/17234/rich_output_and_the_ipython_notebook
Doctesting 1 file.
sage -t --long --warn-long 24.8 src/sage/plot/plot3d/base.pyx
**********************************************************************
File "src/sage/plot/plot3d/base.pyx", line 1422, in sage.plot.plot3d.base.Graphics3d.save_image
Failed example:
    G.save_image(gif)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/sage-6.6/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 492, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/sage-6.6/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 854, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.plot.plot3d.base.Graphics3d.save_image[5]>", line 1, in <module>
        G.save_image(gif)
      File "sage/plot/plot3d/base.pyx", line 1434, in sage.plot.plot3d.base.Graphics3d.save_image (build/cythonized/sage/plot/plot3d/base.c:16182)
        Image.open(png).save(filename)
      File "build/bdist.linux-x86_64/egg/PIL/Image.py", line 2006, in open
        raise IOError("cannot identify image file")
    IOError: cannot identify image file
**********************************************************************
File "src/sage/plot/plot3d/base.pyx", line 1423, in sage.plot.plot3d.base.Graphics3d.save_image
Failed example:
    assert open(gif).read().startswith('GIF')
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/sage-6.6/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 492, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/sage-6.6/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 854, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.plot.plot3d.base.Graphics3d.save_image[6]>", line 1, in <module>
        assert open(gif).read().startswith('GIF')
    AssertionError
**********************************************************************
File "src/sage/plot/plot3d/base.pyx", line 1474, in sage.plot.plot3d.base.Graphics3d.save
Failed example:
    cube().save(tmp_filename(ext='.gif'))
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/sage-6.6/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 492, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/sage-6.6/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 854, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.plot.plot3d.base.Graphics3d.save[5]>", line 1, in <module>
        cube().save(tmp_filename(ext='.gif'))
      File "sage/plot/plot3d/base.pyx", line 1480, in sage.plot.plot3d.base.Graphics3d.save (build/cythonized/sage/plot/plot3d/base.c:16543)
        self.save_image(filename)
      File "sage/plot/plot3d/base.pyx", line 1434, in sage.plot.plot3d.base.Graphics3d.save_image (build/cythonized/sage/plot/plot3d/base.c:16182)
        Image.open(png).save(filename)
      File "build/bdist.linux-x86_64/egg/PIL/Image.py", line 2006, in open
        raise IOError("cannot identify image file")
    IOError: cannot identify image file
**********************************************************************
2 items had failures:
   1 of   7 in sage.plot.plot3d.base.Graphics3d.save
   2 of   8 in sage.plot.plot3d.base.Graphics3d.save_image
    [297 tests, 3 failures, 44.46 s]
----------------------------------------------------------------------
sage -t --long --warn-long 24.8 src/sage/plot/plot3d/base.pyx  # 3 doctests failed
----------------------------------------------------------------------
Total time for all tests: 44.6 seconds
    cpu time: 1.3 seconds
    cumulative wall time: 44.5 seconds
```



---

archive/issue_comments_229363.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nI don't know what \"ID 215-02-28-17-11-36-39ff4408\" is, but these failures might be the same ones that I fixed in cc9a5af.",
    "created_at": "2015-02-28T18:38:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229363",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:59" align="right">comment:59</div>

I don't know what "ID 215-02-28-17-11-36-39ff4408" is, but these failures might be the same ones that I fixed in cc9a5af.



---

archive/issue_comments_229364.json:
```json
{
    "body": "Changed commit from **[`fcbc588`](https://github.com/sagemath/sagetrac-mirror/commit/fcbc5884e9252b75734c125fb436eb26c8d798d6)** to **[`a173e92`](https://github.com/sagemath/sagetrac-mirror/commit/a173e92ae42f3fb9fda3c70963ff29dcdffca7e6)**",
    "created_at": "2015-03-01T00:17:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229364",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fcbc588`](https://github.com/sagemath/sagetrac-mirror/commit/fcbc5884e9252b75734c125fb436eb26c8d798d6)** to **[`a173e92`](https://github.com/sagemath/sagetrac-mirror/commit/a173e92ae42f3fb9fda3c70963ff29dcdffca7e6)**



---

archive/issue_comments_229365.json:
```json
{
    "body": "<div id=\"comment:60\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a173e92ae42f3fb9fda3c70963ff29dcdffca7e6\"><code>a173e92</code></a></td><td><code>Do not change permissions on doctest sample files</code></td></tr></table>\n",
    "created_at": "2015-03-01T00:17:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229365",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:60"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a173e92ae42f3fb9fda3c70963ff29dcdffca7e6"><code>a173e92</code></a></td><td><code>Do not change permissions on doctest sample files</code></td></tr></table>




---

archive/issue_comments_229366.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nPassed tests on the buildbot!",
    "created_at": "2015-03-01T08:40:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229366",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:61" align="right">comment:61</div>

Passed tests on the buildbot!



---

archive/issue_events_246039.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2015-03-01T14:12:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246039"
}
```



---

archive/issue_events_246040.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2015-03-01T14:12:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246040"
}
```



---

archive/issue_comments_229367.json:
```json
{
    "body": "Changed reviewer from **R. Andrew Ohana** to **R. Andrew Ohana, Emmanuel Charpentier**",
    "created_at": "2015-03-01T14:12:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229367",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changed reviewer from **R. Andrew Ohana** to **R. Andrew Ohana, Emmanuel Charpentier**



---

archive/issue_comments_229368.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\na173e92 builds without a hitch and passes (p)testlong with no failure ; the Ipython notebook is functional and displays Mathjax and asci art ==> positive review.\n\nThe (temporary) loss of 3D plotting is a (small) nuisance, though. Are there already tickets to watch for  this functionality ?\n\nI also note that plot3d(..) or p1=plot3d(...) ; p1 does display in the Ipython notebook, as long as no argument of plot3d has to be passed to show() and friends. Is this \"vestigial\" (or \"embryonic\") 3D displaying the intended behaviour ?",
    "created_at": "2015-03-01T14:12:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229368",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:62" align="right">comment:62</div>

a173e92 builds without a hitch and passes (p)testlong with no failure ; the Ipython notebook is functional and displays Mathjax and asci art ==> positive review.

The (temporary) loss of 3D plotting is a (small) nuisance, though. Are there already tickets to watch for  this functionality ?

I also note that plot3d(..) or p1=plot3d(...) ; p1 does display in the Ipython notebook, as long as no argument of plot3d has to be passed to show() and friends. Is this "vestigial" (or "embryonic") 3D displaying the intended behaviour ?



---

archive/issue_comments_229369.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\n> The (temporary) loss of 3D plotting is a (small) nuisance, though.\n\nI assume you mean only in the IPython notebook, not in the sagenb?",
    "created_at": "2015-03-02T15:58:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229369",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:63" align="right">comment:63</div>

> The (temporary) loss of 3D plotting is a (small) nuisance, though.

I assume you mean only in the IPython notebook, not in the sagenb?



---

archive/issue_comments_229370.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nReplying to [@kcrisman](#comment:63):\n> > The (temporary) loss of 3D plotting is a (small) nuisance, though.\n\n> I assume you mean only in the IPython notebook, not in the sagenb?\n\nYes, indeed. My curiosity was towards the notebook functionality : the Ipython notebook, wit its one-file container, is a real boon. \n\nBut, for me at least, not having typeset math (or at least decent ascii_art display) is a pain. So I'm eager to see an Ipython notebook with typesetting functionality.",
    "created_at": "2015-03-02T21:25:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229370",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:64" align="right">comment:64</div>

Replying to [@kcrisman](#comment:63):
> > The (temporary) loss of 3D plotting is a (small) nuisance, though.

> I assume you mean only in the IPython notebook, not in the sagenb?

Yes, indeed. My curiosity was towards the notebook functionality : the Ipython notebook, wit its one-file container, is a real boon. 

But, for me at least, not having typeset math (or at least decent ascii_art display) is a pain. So I'm eager to see an Ipython notebook with typesetting functionality.



---

archive/issue_events_246041.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-03T00:25:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246041"
}
```



---

archive/issue_events_246042.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d09e783767da7491583d037ee99a7e41fa256788",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-03-03T00:25:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17234#event-246042"
}
```



---

archive/issue_comments_229371.json:
```json
{
    "body": "Changed branch from **[u/vbraun/rich_output_and_the_ipython_notebook](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/rich_output_and_the_ipython_notebook)** to **[`a173e92`](https://github.com/sagemath/sagetrac-mirror/commit/a173e92ae42f3fb9fda3c70963ff29dcdffca7e6)**",
    "created_at": "2015-03-03T00:25:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229371",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/rich_output_and_the_ipython_notebook](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/rich_output_and_the_ipython_notebook)** to **[`a173e92`](https://github.com/sagemath/sagetrac-mirror/commit/a173e92ae42f3fb9fda3c70963ff29dcdffca7e6)**



---

archive/issue_comments_229372.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nThe changes committed here interfere heavily with my work from #7298 for animations displayed in the HTML5 `<video>` tag, and raise new questions for #16650 about APNG integration. I'd be very happy if the people involved in landing this code here could have a look at those tickets as well, advise how to proceed there and perhaps re-evaluate some design decisions made here.",
    "created_at": "2015-03-12T01:02:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229372",
    "user": "https://github.com/gagern"
}
```

<div id="comment:66" align="right">comment:66</div>

The changes committed here interfere heavily with my work from #7298 for animations displayed in the HTML5 `<video>` tag, and raise new questions for #16650 about APNG integration. I'd be very happy if the people involved in landing this code here could have a look at those tickets as well, advise how to proceed there and perhaps re-evaluate some design decisions made here.



---

archive/issue_comments_229373.json:
```json
{
    "body": "Changed commit from **[`a173e92`](https://github.com/sagemath/sagetrac-mirror/commit/a173e92ae42f3fb9fda3c70963ff29dcdffca7e6)** to none",
    "created_at": "2015-03-12T01:02:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229373",
    "user": "https://github.com/gagern"
}
```

Changed commit from **[`a173e92`](https://github.com/sagemath/sagetrac-mirror/commit/a173e92ae42f3fb9fda3c70963ff29dcdffca7e6)** to none



---

archive/issue_comments_229374.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nVolker - what is the relation between stuff here and `EMBEDDED_MODE`? The latter is still spread over the source.",
    "created_at": "2015-03-16T19:54:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229374",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:67" align="right">comment:67</div>

Volker - what is the relation between stuff here and `EMBEDDED_MODE`? The latter is still spread over the source.



---

archive/issue_comments_229375.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nThis ticket wasn't about removing the remaining 55 occurrences of `EMBEDDED_MODE`, thats another job... It should be removed, but its going to take time.",
    "created_at": "2015-03-16T20:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229375",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:68" align="right">comment:68</div>

This ticket wasn't about removing the remaining 55 occurrences of `EMBEDDED_MODE`, thats another job... It should be removed, but its going to take time.



---

archive/issue_comments_229376.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nI would like to use this to typeset the output in Emacs, but I need some sort of delimiters on the latex, so that I don't try to typeset backtraces, the result of print statements, etc.  In fact, it would be nice to have both plain text and latex outputs properly delimited so that I can switch between the two. e.g. display the plain text until the latex rendering is finished.\n\nDoes it make sense to add a OutputDelimitedLatex class and update BackendIPythonCommandline?  I run an ipython shell from inside Emacs.",
    "created_at": "2015-04-02T04:49:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229376",
    "user": "https://github.com/gvol"
}
```

<div id="comment:69" align="right">comment:69</div>

I would like to use this to typeset the output in Emacs, but I need some sort of delimiters on the latex, so that I don't try to typeset backtraces, the result of print statements, etc.  In fact, it would be nice to have both plain text and latex outputs properly delimited so that I can switch between the two. e.g. display the plain text until the latex rendering is finished.

Does it make sense to add a OutputDelimitedLatex class and update BackendIPythonCommandline?  I run an ipython shell from inside Emacs.



---

archive/issue_comments_229377.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nReplying to [@gvol](#comment:69): \n> Does it make sense to add a OutputDelimitedLatex class and update BackendIPythonCommandline?  I run an ipython shell from inside Emacs.  \n\nI have a very experimental branch at u/iandrus/emacs-typeset-output with the basics of what I'm thinking of.  It's definitely not finished, but if the general approach seems reasonable, I'll polish it up and open a ticket etc.",
    "created_at": "2015-04-02T05:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229377",
    "user": "https://github.com/gvol"
}
```

<div id="comment:70" align="right">comment:70</div>

Replying to [@gvol](#comment:69): 
> Does it make sense to add a OutputDelimitedLatex class and update BackendIPythonCommandline?  I run an ipython shell from inside Emacs.  

I have a very experimental branch at u/iandrus/emacs-typeset-output with the basics of what I'm thinking of.  It's definitely not finished, but if the general approach seems reasonable, I'll polish it up and open a ticket etc.



---

archive/issue_comments_229378.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nIMHO emacs-mode should define its own backend, possibly by inheriting from the ipython command line backend. Thats why there are pluggable backends. Then you can format OutputLatex in precisely the way the emacs-mode needs without stepping on anybody else's toes.",
    "created_at": "2015-04-02T08:16:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229378",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:71" align="right">comment:71</div>

IMHO emacs-mode should define its own backend, possibly by inheriting from the ipython command line backend. Thats why there are pluggable backends. Then you can format OutputLatex in precisely the way the emacs-mode needs without stepping on anybody else's toes.



---

archive/issue_comments_229379.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nReplying to [@vbraun](#comment:71):\n> IMHO emacs-mode should define its own backend, possibly by inheriting from the ipython command line backend. Thats why there are pluggable backends. Then you can format OutputLatex in precisely the way the emacs-mode needs without stepping on anybody else's toes.\n\nThanks.  I opened #18115 with the new approach.  It seems to work, but I've probably forgotten something.",
    "created_at": "2015-04-03T04:05:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17234#issuecomment-229379",
    "user": "https://github.com/gvol"
}
```

<div id="comment:72" align="right">comment:72</div>

Replying to [@vbraun](#comment:71):
> IMHO emacs-mode should define its own backend, possibly by inheriting from the ipython command line backend. Thats why there are pluggable backends. Then you can format OutputLatex in precisely the way the emacs-mode needs without stepping on anybody else's toes.

Thanks.  I opened #18115 with the new approach.  It seems to work, but I've probably forgotten something.
