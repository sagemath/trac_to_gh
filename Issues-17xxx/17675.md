# Issue 17675: xgcd(2,2) hangs forever in ZZ['x']

archive/issues_017438.json:
```json
{
    "body": "On sage-6.5.beta6 we have\n\n```\nsage: R.<x> = ZZ['x']\nsage: R(2).xgcd(R(2))   # be prepared to wait\n```\nIt is a problem in our way to use the FLINT function `fmpz_poly_xgcd`. As Bill reported on [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/pDXdjGVvap8) it does not work for input which are constant polynomials (note that it is already a bit more general that what is indicated in FLINT documentation: *the function assumes that f and g are primitive (have Gaussian content equal to 1). The result is undefined otherwise.*)\n\nSee also this [FLINT bug report](https://github.com/wbhart/flint2/issues/112).\n\nCC:  wbhart\n\nBranch/Commit: cf9d62b6b0961ece59ae1e3cfdff6becc8da5b57\n\nUpstream: Reported upstream. Developers deny it's a bug.\n\nReviewer: Ralf Stephan\n\nAuthor: Vincent Delecroix\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17675\n\n",
    "closed_at": "2015-01-29T13:26:06Z",
    "created_at": "2015-01-27T01:37:21Z",
    "labels": [
        "component: algebra",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "xgcd(2,2) hangs forever in ZZ['x']",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17675",
    "user": "https://github.com/videlec"
}
```
On sage-6.5.beta6 we have

```
sage: R.<x> = ZZ['x']
sage: R(2).xgcd(R(2))   # be prepared to wait
```
It is a problem in our way to use the FLINT function `fmpz_poly_xgcd`. As Bill reported on [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/pDXdjGVvap8) it does not work for input which are constant polynomials (note that it is already a bit more general that what is indicated in FLINT documentation: *the function assumes that f and g are primitive (have Gaussian content equal to 1). The result is undefined otherwise.*)

See also this [FLINT bug report](https://github.com/wbhart/flint2/issues/112).

CC:  wbhart

Branch/Commit: cf9d62b6b0961ece59ae1e3cfdff6becc8da5b57

Upstream: Reported upstream. Developers deny it's a bug.

Reviewer: Ralf Stephan

Author: Vincent Delecroix

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17675





---

archive/issue_comments_298340.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Reported upstream. No feedback yet.\"",
    "created_at": "2015-01-27T14:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298340",
    "user": "https://github.com/rwst"
}
```

Changing upstream from "N/A" to "Reported upstream. No feedback yet."



---

archive/issue_comments_298341.json:
```json
{
    "body": "<a id='comment:2'></a>\nReported at https://github.com/wbhart/flint2/issues/112",
    "created_at": "2015-01-27T14:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298341",
    "user": "https://github.com/rwst"
}
```

<a id='comment:2'></a>
Reported at https://github.com/wbhart/flint2/issues/112



---

archive/issue_comments_298342.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,6 @@\n sage: R.<x> = ZZ['x']\n sage: R(2).xgcd(R(2))   # be prepared to wait\n ```\n-It is possibly a problem with our FLINT interface with the function `fmpz_poly_xgcd`.\n+Seems to be a problem in FLINT (the function `fmpz_poly_xgcd`). See this [bug report](https://github.com/wbhart/flint2/issues/112).\n+\n+As soon as the issue is fixed on the FLINT side, we should add the above test somewhere in Sage (probably in the xgcd function of integer polynomials).\n``````\n",
    "created_at": "2015-01-27T15:19:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298342",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,6 @@
 sage: R.<x> = ZZ['x']
 sage: R(2).xgcd(R(2))   # be prepared to wait
 ```
-It is possibly a problem with our FLINT interface with the function `fmpz_poly_xgcd`.
+Seems to be a problem in FLINT (the function `fmpz_poly_xgcd`). See this [bug report](https://github.com/wbhart/flint2/issues/112).
+
+As soon as the issue is fixed on the FLINT side, we should add the above test somewhere in Sage (probably in the xgcd function of integer polynomials).
``````




---

archive/issue_comments_298343.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [rws](#comment%3A2):\n> Reported at https://github.com/wbhart/flint2/issues/112\n\n\nThanks Ralf! I was not enough familiar to FLINT (and it was late after the bug tracking) to write the sample program.\n\nVincent",
    "created_at": "2015-01-27T15:19:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298343",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>
Replying to [rws](#comment%3A2):
> Reported at https://github.com/wbhart/flint2/issues/112


Thanks Ralf! I was not enough familiar to FLINT (and it was late after the bug tracking) to write the sample program.

Vincent



---

archive/issue_comments_298344.json:
```json
{
    "body": "Changing upstream from \"Reported upstream. No feedback yet.\" to \"Reported upstream. Developers deny it's a bug.\"",
    "created_at": "2015-01-27T15:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298344",
    "user": "https://github.com/rwst"
}
```

Changing upstream from "Reported upstream. No feedback yet." to "Reported upstream. Developers deny it's a bug."



---

archive/issue_comments_298345.json:
```json
{
    "body": "<a id='comment:5'></a>\nAs reported by Bill on [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/pDXdjGVvap8) the only trouble was for constant input. In the commit I just treat this case first in the function xgcd... needs review!\n\nVincent\n\n---\nNew commits:\n|                                                                                                                                          |                                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[d05ac70](https://github.com/sagemath/sagetrac-mirror/commit/d05ac70434cafd7986e5e01671e1982e7fc8ffdc)|`trac #17675: fix xgcd of constant integer polynomials`|",
    "created_at": "2015-01-27T16:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298345",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
As reported by Bill on [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/pDXdjGVvap8) the only trouble was for constant input. In the commit I just treat this case first in the function xgcd... needs review!

Vincent

---
New commits:
|                                                                                                                                          |                                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[d05ac70](https://github.com/sagemath/sagetrac-mirror/commit/d05ac70434cafd7986e5e01671e1982e7fc8ffdc)|`trac #17675: fix xgcd of constant integer polynomials`|



---

archive/issue_comments_298346.json:
```json
{
    "body": "Changing branch from \"\" to \"u/vdelecroix/17675\"",
    "created_at": "2015-01-27T16:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298346",
    "user": "https://github.com/videlec"
}
```

Changing branch from "" to "u/vdelecroix/17675"



---

archive/issue_comments_298347.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-01-27T16:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298347",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_298348.json:
```json
{
    "body": "Changing commit from \"\" to \"d05ac70434cafd7986e5e01671e1982e7fc8ffdc\"",
    "created_at": "2015-01-27T16:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298348",
    "user": "https://github.com/videlec"
}
```

Changing commit from "" to "d05ac70434cafd7986e5e01671e1982e7fc8ffdc"



---

archive/issue_comments_298349.json:
```json
{
    "body": "<a id='comment:6'></a>\nTypos found: `sucht that`, `trivial casess`.",
    "created_at": "2015-01-27T16:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298349",
    "user": "https://github.com/rwst"
}
```

<a id='comment:6'></a>
Typos found: `sucht that`, `trivial casess`.



---

archive/issue_comments_298350.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[a439152](https://github.com/sagemath/sagetrac-mirror/commit/a439152b4971501edd7e856d8e2c62681c6c9d08)|`trac #17675: doc typo`|",
    "created_at": "2015-01-27T16:41:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298350",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[a439152](https://github.com/sagemath/sagetrac-mirror/commit/a439152b4971501edd7e856d8e2c62681c6c9d08)|`trac #17675: doc typo`|



---

archive/issue_comments_298351.json:
```json
{
    "body": "Changing commit from \"d05ac70434cafd7986e5e01671e1982e7fc8ffdc\" to \"a439152b4971501edd7e856d8e2c62681c6c9d08\"",
    "created_at": "2015-01-27T16:41:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298351",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d05ac70434cafd7986e5e01671e1982e7fc8ffdc" to "a439152b4971501edd7e856d8e2c62681c6c9d08"



---

archive/issue_comments_298352.json:
```json
{
    "body": "Changing commit from \"a439152b4971501edd7e856d8e2c62681c6c9d08\" to \"f0d7ca3a02d79b66820aad2289ba5d0809ec9c3e\"",
    "created_at": "2015-01-27T16:42:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298352",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a439152b4971501edd7e856d8e2c62681c6c9d08" to "f0d7ca3a02d79b66820aad2289ba5d0809ec9c3e"



---

archive/issue_comments_298353.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[f0d7ca3](https://github.com/sagemath/sagetrac-mirror/commit/f0d7ca3a02d79b66820aad2289ba5d0809ec9c3e)|`trac #17675: doc typo`|",
    "created_at": "2015-01-27T16:42:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298353",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[f0d7ca3](https://github.com/sagemath/sagetrac-mirror/commit/f0d7ca3a02d79b66820aad2289ba5d0809ec9c3e)|`trac #17675: doc typo`|



---

archive/issue_comments_298354.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,6 @@\n sage: R.<x> = ZZ['x']\n sage: R(2).xgcd(R(2))   # be prepared to wait\n ```\n-Seems to be a problem in FLINT (the function `fmpz_poly_xgcd`). See this [bug report](https://github.com/wbhart/flint2/issues/112).\n+It is a problem in our way to use the FLINT function `fmpz_poly_xgcd`. As Bill reported on [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/pDXdjGVvap8) it does not work for input which are constant polynomials (note that it is already a bit more general that what is indicated in FLINT documentation: *the function assumes that f and g are primitive (have Gaussian content equal to 1). The result is undefined otherwise.*)\n \n-As soon as the issue is fixed on the FLINT side, we should add the above test somewhere in Sage (probably in the xgcd function of integer polynomials).\n+See also this [FLINT bug report](https://github.com/wbhart/flint2/issues/112).\n``````\n",
    "created_at": "2015-01-27T16:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298354",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,6 @@
 sage: R.<x> = ZZ['x']
 sage: R(2).xgcd(R(2))   # be prepared to wait
 ```
-Seems to be a problem in FLINT (the function `fmpz_poly_xgcd`). See this [bug report](https://github.com/wbhart/flint2/issues/112).
+It is a problem in our way to use the FLINT function `fmpz_poly_xgcd`. As Bill reported on [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/pDXdjGVvap8) it does not work for input which are constant polynomials (note that it is already a bit more general that what is indicated in FLINT documentation: *the function assumes that f and g are primitive (have Gaussian content equal to 1). The result is undefined otherwise.*)
 
-As soon as the issue is fixed on the FLINT side, we should add the above test somewhere in Sage (probably in the xgcd function of integer polynomials).
+See also this [FLINT bug report](https://github.com/wbhart/flint2/issues/112).
``````




---

archive/issue_comments_298355.json:
```json
{
    "body": "Changing branch from \"u/vdelecroix/17675\" to \"u/rws/17675\"",
    "created_at": "2015-01-28T09:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298355",
    "user": "https://github.com/rwst"
}
```

Changing branch from "u/vdelecroix/17675" to "u/rws/17675"



---

archive/issue_comments_298356.json:
```json
{
    "body": "<a id='comment:11'></a>\nI fixed a typo. Looks fine now and passes `make ptestlong`. I dare to fill the author field with your name.\n\n---\nNew commits:\n|                                                                                                                                          |                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[cf9d62b](https://github.com/sagemath/sagetrac-mirror/commit/cf9d62b6b0961ece59ae1e3cfdff6becc8da5b57)|`17675: reviewer's patch: fix typo`|",
    "created_at": "2015-01-28T09:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298356",
    "user": "https://github.com/rwst"
}
```

<a id='comment:11'></a>
I fixed a typo. Looks fine now and passes `make ptestlong`. I dare to fill the author field with your name.

---
New commits:
|                                                                                                                                          |                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[cf9d62b](https://github.com/sagemath/sagetrac-mirror/commit/cf9d62b6b0961ece59ae1e3cfdff6becc8da5b57)|`17675: reviewer's patch: fix typo`|



---

archive/issue_comments_298357.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-01-28T09:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298357",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_298358.json:
```json
{
    "body": "Changing commit from \"f0d7ca3a02d79b66820aad2289ba5d0809ec9c3e\" to \"cf9d62b6b0961ece59ae1e3cfdff6becc8da5b57\"",
    "created_at": "2015-01-28T09:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298358",
    "user": "https://github.com/rwst"
}
```

Changing commit from "f0d7ca3a02d79b66820aad2289ba5d0809ec9c3e" to "cf9d62b6b0961ece59ae1e3cfdff6becc8da5b57"



---

archive/issue_comments_298359.json:
```json
{
    "body": "Changing author from \"\" to \"Vincent Delecroix\"",
    "created_at": "2015-01-28T09:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298359",
    "user": "https://github.com/rwst"
}
```

Changing author from "" to "Vincent Delecroix"



---

archive/issue_comments_298360.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Ralf Stephan\"",
    "created_at": "2015-01-28T09:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298360",
    "user": "https://github.com/rwst"
}
```

Changing reviewer from "" to "Ralf Stephan"



---

archive/issue_comments_298361.json:
```json
{
    "body": "<a id='comment:12'></a>\nGreat! Thanks for the quick review.\n\nVincent",
    "created_at": "2015-01-28T11:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298361",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'></a>
Great! Thanks for the quick review.

Vincent



---

archive/issue_events_065324.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-29T13:26:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17675#event-65324"
}
```



---

archive/issue_comments_298362.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-01-29T13:26:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298362",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_298363.json:
```json
{
    "body": "Changing branch from \"u/rws/17675\" to \"cf9d62b6b0961ece59ae1e3cfdff6becc8da5b57\"",
    "created_at": "2015-01-29T13:26:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17675#issuecomment-298363",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/rws/17675" to "cf9d62b6b0961ece59ae1e3cfdff6becc8da5b57"
