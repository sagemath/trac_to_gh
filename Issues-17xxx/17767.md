# Issue 17767: Simplify cythonization of sage.misc

archive/issues_017530.json:
```json
{
    "assignees": [],
    "body": "I'm breaking down #15410 into individual tickets in the hopes that makes it easier to review.\n\n\nBranch: **[`8b0d4ba`](https://github.com/sagemath/sagetrac-mirror/commit/8b0d4bac65673292b5640769c357a27c70c62404)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Robert Bradshaw**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17767_\n\n",
    "closed_at": "2015-02-18T01:26:50Z",
    "created_at": "2015-02-11T06:15:34Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Simplify cythonization of sage.misc",
    "type": "issue",
    "updated_at": "2015-04-17T11:59:15Z",
    "url": "https://github.com/sagemath/sage/issues/17767",
    "user": "https://github.com/robertwb"
}
```
I'm breaking down #15410 into individual tickets in the hopes that makes it easier to review.


Branch: **[`8b0d4ba`](https://github.com/sagemath/sagetrac-mirror/commit/8b0d4bac65673292b5640769c357a27c70c62404)**

Reviewer: **Jeroen Demeyer**

Author: **Robert Bradshaw**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/17767_





---

archive/issue_events_254211.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2015-02-11T06:15:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17767#event-254211"
}
```



---

archive/issue_events_254212.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2015-02-11T06:15:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17767#event-254212"
}
```



---

archive/issue_events_254213.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2015-02-11T06:15:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17767#event-254213"
}
```



---

archive/issue_events_254214.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2015-02-11T06:15:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17767#event-254214"
}
```



---

archive/issue_comments_239944.json:
```json
{
    "body": "Branch: **[u/robertwb/17767-simplify-misc](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17767-simplify-misc)**",
    "created_at": "2015-02-11T06:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17767#issuecomment-239944",
    "user": "https://github.com/robertwb"
}
```

Branch: **[u/robertwb/17767-simplify-misc](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17767-simplify-misc)**



---

archive/issue_events_254215.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2015-02-11T06:18:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17767#event-254215"
}
```



---

archive/issue_comments_239945.json:
```json
{
    "body": "Changed branch from **[u/robertwb/17767-simplify-misc](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17767-simplify-misc)** to none",
    "created_at": "2015-02-11T06:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17767#issuecomment-239945",
    "user": "https://github.com/robertwb"
}
```

Changed branch from **[u/robertwb/17767-simplify-misc](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17767-simplify-misc)** to none



---

archive/issue_comments_239946.json:
```json
{
    "body": "Branch: **[u/robertwb/17767-simplify-misc](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17767-simplify-misc)**",
    "created_at": "2015-02-11T06:18:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17767#issuecomment-239946",
    "user": "https://github.com/robertwb"
}
```

Branch: **[u/robertwb/17767-simplify-misc](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17767-simplify-misc)**



---

archive/issue_comments_239947.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe only minor downside is that the order of Cythonization is random, no longer in the alphabetical order specified in `module_list.py`.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b0d4bac65673292b5640769c357a27c70c62404\"><code>8b0d4ba</code></a></td><td><code>Simplify cythonization of sage.misc.</code></td></tr></table>\n",
    "created_at": "2015-02-11T11:18:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17767#issuecomment-239947",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

The only minor downside is that the order of Cythonization is random, no longer in the alphabetical order specified in `module_list.py`.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b0d4bac65673292b5640769c357a27c70c62404"><code>8b0d4ba</code></a></td><td><code>Simplify cythonization of sage.misc.</code></td></tr></table>




---

archive/issue_comments_239948.json:
```json
{
    "body": "Commit: **[`8b0d4ba`](https://github.com/sagemath/sagetrac-mirror/commit/8b0d4bac65673292b5640769c357a27c70c62404)**",
    "created_at": "2015-02-11T11:18:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17767#issuecomment-239948",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`8b0d4ba`](https://github.com/sagemath/sagetrac-mirror/commit/8b0d4bac65673292b5640769c357a27c70c62404)**



---

archive/issue_comments_239949.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-02-11T11:18:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17767#issuecomment-239949",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_254216.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-11T11:18:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17767#event-254216"
}
```



---

archive/issue_events_254217.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-11T11:18:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17767#event-254217"
}
```



---

archive/issue_comments_239950.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThanks for looking at these!\n\nThe order is not random, it's (1) pyx files that were modified themselves, then (2) extensions that directly depend on modified files, then (3) everything else. This lets you catch errors early. Within each subgroup things are sorted alphabetically. (That should already be happening.)",
    "created_at": "2015-02-12T05:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17767#issuecomment-239950",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:5" align="right">comment:5</div>

Thanks for looking at these!

The order is not random, it's (1) pyx files that were modified themselves, then (2) extensions that directly depend on modified files, then (3) everything else. This lets you catch errors early. Within each subgroup things are sorted alphabetically. (That should already be happening.)



---

archive/issue_events_254218.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-18T01:26:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17767#event-254218"
}
```



---

archive/issue_events_254219.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "996be0a1929f7dd3d6d425fcd0e375d5fd46f852",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-02-18T01:26:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17767#event-254219"
}
```



---

archive/issue_comments_239951.json:
```json
{
    "body": "Changed branch from **[u/robertwb/17767-simplify-misc](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17767-simplify-misc)** to **[`8b0d4ba`](https://github.com/sagemath/sagetrac-mirror/commit/8b0d4bac65673292b5640769c357a27c70c62404)**",
    "created_at": "2015-02-18T01:26:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17767#issuecomment-239951",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/robertwb/17767-simplify-misc](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17767-simplify-misc)** to **[`8b0d4ba`](https://github.com/sagemath/sagetrac-mirror/commit/8b0d4bac65673292b5640769c357a27c70c62404)**



---

archive/issue_comments_239952.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nSince this commit, `misc/darwin_utilities.pyx` (which should only be included on Darwin, see `module_list.py`) is included on all platforms (and, incidentally, fails on cygwin). Should it be moved to a directory of its own?",
    "created_at": "2015-02-21T09:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17767#issuecomment-239952",
    "user": "https://github.com/sagetrac-gouezel"
}
```

<div id="comment:7" align="right">comment:7</div>

Since this commit, `misc/darwin_utilities.pyx` (which should only be included on Darwin, see `module_list.py`) is included on all platforms (and, incidentally, fails on cygwin). Should it be moved to a directory of its own?



---

archive/issue_comments_239953.json:
```json
{
    "body": "Changed commit from **[`8b0d4ba`](https://github.com/sagemath/sagetrac-mirror/commit/8b0d4bac65673292b5640769c357a27c70c62404)** to none",
    "created_at": "2015-02-21T09:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17767#issuecomment-239953",
    "user": "https://github.com/sagetrac-gouezel"
}
```

Changed commit from **[`8b0d4ba`](https://github.com/sagemath/sagetrac-mirror/commit/8b0d4bac65673292b5640769c357a27c70c62404)** to none



---

archive/issue_comments_239954.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI concur with sebastien (who I guess also noticed some new modules should be linked to gmp)...\nMaybe we could use the `skip_build` thingy from #18145 to solve the darwin thing.",
    "created_at": "2015-04-17T11:54:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17767#issuecomment-239954",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:8" align="right">comment:8</div>

I concur with sebastien (who I guess also noticed some new modules should be linked to gmp)...
Maybe we could use the `skip_build` thingy from #18145 to solve the darwin thing.



---

archive/issue_comments_239955.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThis has indeed been solved by #18145 (see also #17961).\n\nThe missing links to gmp are in #17962.",
    "created_at": "2015-04-17T11:59:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17767#issuecomment-239955",
    "user": "https://github.com/sagetrac-gouezel"
}
```

<div id="comment:9" align="right">comment:9</div>

This has indeed been solved by #18145 (see also #17961).

The missing links to gmp are in #17962.
