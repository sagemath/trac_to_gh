# Issue 17470: Let exponentiation of polynomial using FLINT nmod type be interrupted

archive/issues_017233.json:
```json
{
    "assignees": [],
    "body": "\n```\nsage: p = next_prime(2**30)\nsage: k = GF(p)\nsage: x = polygen(k)\nsage: x**p\nCTRL+C....\n```\n\nCC:  @vbraun @jdemeyer\n\nBranch/Commit: **[0706674](https://github.com/sagemath/sagetrac-mirror/commit/0706674121ae5da25e0d3f9d9a47da0cc1c6cc6f)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Jean-Pierre Flori**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17470_\n\n",
    "closed_at": "2014-12-21T21:45:16Z",
    "created_at": "2014-12-08T18:12:41Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20finite%20rings",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Let exponentiation of polynomial using FLINT nmod type be interrupted",
    "type": "issue",
    "updated_at": "2014-12-21T21:45:16Z",
    "url": "https://github.com/sagemath/sage/issues/17470",
    "user": "https://github.com/sagetrac-jpflori"
}
```

```
sage: p = next_prime(2**30)
sage: k = GF(p)
sage: x = polygen(k)
sage: x**p
CTRL+C....
```

CC:  @vbraun @jdemeyer

Branch/Commit: **[0706674](https://github.com/sagemath/sagetrac-mirror/commit/0706674121ae5da25e0d3f9d9a47da0cc1c6cc6f)**

Reviewer: **Jeroen Demeyer**

Author: **Jean-Pierre Flori**

_Issue created by migration from https://trac.sagemath.org/ticket/17470_





---

archive/issue_events_231365.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2014-12-08T18:12:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231365"
}
```



---

archive/issue_events_231366.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2014-12-08T18:12:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20finite%20rings",
    "label_color": "0000ff",
    "label_name": "component: finite rings",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231366"
}
```



---

archive/issue_events_231367.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2014-12-08T18:12:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231367"
}
```



---

archive/issue_events_231368.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2014-12-08T18:12:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231368"
}
```



---

archive/issue_events_231369.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2014-12-09T11:10:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231369"
}
```



---

archive/issue_comments_236567.json:
```json
{
    "body": "Commit: **[ef28e27](https://github.com/sagemath/sagetrac-mirror/commit/ef28e279723adb97ee90c4f01e016decd5bcbc4b)**",
    "created_at": "2014-12-09T11:10:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236567",
    "user": "https://github.com/sagetrac-jpflori"
}
```

Commit: **[ef28e27](https://github.com/sagemath/sagetrac-mirror/commit/ef28e279723adb97ee90c4f01e016decd5bcbc4b)**



---

archive/issue_comments_236568.json:
```json
{
    "body": "Author: **Jean-Pierre Flori**",
    "created_at": "2014-12-09T11:10:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236568",
    "user": "https://github.com/sagetrac-jpflori"
}
```

Author: **Jean-Pierre Flori**



---

archive/issue_comments_236569.json:
```json
{
    "body": "Branch: **[u/jpflori/ticket/17470](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/17470)**",
    "created_at": "2014-12-09T11:10:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236569",
    "user": "https://github.com/sagetrac-jpflori"
}
```

Branch: **[u/jpflori/ticket/17470](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/17470)**



---

archive/issue_comments_236570.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0aed331ca64eb9186fb8a9b462f42415df96b1cb\">0aed331</a></td><td><code>Make modular exponentiation of polynomial using FLINT interruptable.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef28e279723adb97ee90c4f01e016decd5bcbc4b\">ef28e27</a></td><td><code>Better fix for exponentiation of polys using FLINT nmod and test.</code></td></tr></table>\n",
    "created_at": "2014-12-09T11:10:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236570",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<div id="comment:1" align="right">Comment 1</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0aed331ca64eb9186fb8a9b462f42415df96b1cb">0aed331</a></td><td><code>Make modular exponentiation of polynomial using FLINT interruptable.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef28e279723adb97ee90c4f01e016decd5bcbc4b">ef28e27</a></td><td><code>Better fix for exponentiation of polys using FLINT nmod and test.</code></td></tr></table>




---

archive/issue_comments_236571.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n \n ```\n-sage: k = GF(next_prime(2**30))\n+sage: p = next_prime(2**30)\n+sage: k = GF(p)\n sage: x = polygen(k)\n sage: x**p\n CTRL+C....\n``````\n",
    "created_at": "2014-12-09T11:10:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236571",
    "user": "https://github.com/sagetrac-jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
 
 ```
-sage: k = GF(next_prime(2**30))
+sage: p = next_prime(2**30)
+sage: k = GF(p)
 sage: x = polygen(k)
 sage: x**p
 CTRL+C....
``````




---

archive/issue_events_231370.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-12-09T12:42:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231370"
}
```



---

archive/issue_events_231371.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-12-09T12:42:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231371"
}
```



---

archive/issue_comments_236572.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\n`cdefs.pxi` should be `interrupt.pxi`",
    "created_at": "2014-12-09T12:42:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236572",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">Comment 2</div>

`cdefs.pxi` should be `interrupt.pxi`



---

archive/issue_comments_236573.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nI know it's not the topic of this ticket, but why is this code not implemented as direct calls to either `nmod_poly_pow()` or `nmod_poly_powmod_mpz_binexp()`?",
    "created_at": "2014-12-09T12:49:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236573",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">Comment 3</div>

I know it's not the topic of this ticket, but why is this code not implemented as direct calls to either `nmod_poly_pow()` or `nmod_poly_powmod_mpz_binexp()`?



---

archive/issue_comments_236574.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nAlso, `celement_pow` doesn't seem to be documented anywhere...\n\nI do give positive_review to the addition of `sig_on()` and `sig_off()` and the doctest changes.",
    "created_at": "2014-12-09T12:57:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236574",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">Comment 4</div>

Also, `celement_pow` doesn't seem to be documented anywhere...

I do give positive_review to the addition of `sig_on()` and `sig_off()` and the doctest changes.



---

archive/issue_comments_236575.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nActually,\n\n```\nsage: alarm(1)\nsage: x^n\n```\nshould be\n\n```\nsage: alarm(1); x^n\n```",
    "created_at": "2014-12-09T12:58:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236575",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">Comment 5</div>

Actually,

```
sage: alarm(1)
sage: x^n
```
should be

```
sage: alarm(1); x^n
```



---

archive/issue_comments_236576.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nI created #17476 as possible \"meta-ticket\".",
    "created_at": "2014-12-09T13:12:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236576",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">Comment 6</div>

I created #17476 as possible "meta-ticket".



---

archive/issue_comments_236577.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nReplying to [@jdemeyer](#comment%3A3):\n> I know it's not the topic of this ticket, but why is this code not implemented as direct calls to either `nmod_poly_pow()` or `nmod_poly_powmod_mpz_binexp()`?\n\nMaybe because the file was written 6 years ago on top of FLINT 1.x :)",
    "created_at": "2014-12-09T13:55:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236577",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<div id="comment:7" align="right">Comment 7</div>

Replying to [@jdemeyer](#comment%3A3):
> I know it's not the topic of this ticket, but why is this code not implemented as direct calls to either `nmod_poly_pow()` or `nmod_poly_powmod_mpz_binexp()`?

Maybe because the file was written 6 years ago on top of FLINT 1.x :)



---

archive/issue_comments_236578.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nAs far as old stuff which needs update is concerned, we should also rewrite the NTL wrapping code now that Cython understands C++.",
    "created_at": "2014-12-09T13:56:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236578",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<div id="comment:8" align="right">Comment 8</div>

As far as old stuff which needs update is concerned, we should also rewrite the NTL wrapping code now that Cython understands C++.



---

archive/issue_comments_236579.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12539c99d347b1747b33e4a2b3f3258ed40789d8\">12539c9</a></td><td><code>Cleanup exponentiation for polynomial over finite fields using FLINT.</code></td></tr></table>\n",
    "created_at": "2014-12-09T17:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236579",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9" align="right">Comment 9</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12539c99d347b1747b33e4a2b3f3258ed40789d8">12539c9</a></td><td><code>Cleanup exponentiation for polynomial over finite fields using FLINT.</code></td></tr></table>




---

archive/issue_comments_236580.json:
```json
{
    "body": "Changed commit from **[ef28e27](https://github.com/sagemath/sagetrac-mirror/commit/ef28e279723adb97ee90c4f01e016decd5bcbc4b)** to **[12539c9](https://github.com/sagemath/sagetrac-mirror/commit/12539c99d347b1747b33e4a2b3f3258ed40789d8)**",
    "created_at": "2014-12-09T17:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236580",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ef28e27](https://github.com/sagemath/sagetrac-mirror/commit/ef28e279723adb97ee90c4f01e016decd5bcbc4b)** to **[12539c9](https://github.com/sagemath/sagetrac-mirror/commit/12539c99d347b1747b33e4a2b3f3258ed40789d8)**



---

archive/issue_events_231372.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2014-12-09T17:16:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231372"
}
```



---

archive/issue_events_231373.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2014-12-09T17:16:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231373"
}
```



---

archive/issue_events_231374.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-12-15T07:18:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231374"
}
```



---

archive/issue_events_231375.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-12-15T07:18:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231375"
}
```



---

archive/issue_comments_236581.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nI get\n\n```\nsage -t --long src/sage/libs/flint/nmod_poly_linkage.pxi\n**********************************************************************\nFile \"src/sage/libs/flint/nmod_poly_linkage.pxi\", line 498, in sage.libs.flint.nmod_poly_linkage.celement_pow\nFailed example:\n    alarm(1); x^n\nExpected:\n    Traceback (most recent call last):\n    ...\n    AlarmInterrupt\nGot:\n    Exception (FLINT memory_manager). Unable to allocate memory.\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 488, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 851, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.flint.nmod_poly_linkage.celement_pow[20]>\", line 1, in <module>\n        alarm(Integer(1)); x**n\n      File \"sage/rings/polynomial/polynomial_template.pxi\", line 625, in sage.rings.polynomial.polynomial_zmod_flint.Polynomial_template.__pow__ (build/cythonized/sage/rings/polynomial/polynomial_zmod_flint.cpp:10790)\n      File \"sage/libs/flint/nmod_poly_linkage.pxi\", line 508, in sage.rings.polynomial.polynomial_zmod_flint.celement_pow (build/cythonized/sage/rings/polynomial/polynomial_zmod_flint.cpp:4815)\n      File \"sage/ext/c_lib.pyx\", line 85, in sage.ext.c_lib.sig_raise_exception (build/cythonized/sage/ext/c_lib.c:971)\n    RuntimeError: Aborted\n**********************************************************************\n```",
    "created_at": "2014-12-15T07:18:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236581",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">Comment 11</div>

I get

```
sage -t --long src/sage/libs/flint/nmod_poly_linkage.pxi
**********************************************************************
File "src/sage/libs/flint/nmod_poly_linkage.pxi", line 498, in sage.libs.flint.nmod_poly_linkage.celement_pow
Failed example:
    alarm(1); x^n
Expected:
    Traceback (most recent call last):
    ...
    AlarmInterrupt
Got:
    Exception (FLINT memory_manager). Unable to allocate memory.
    Traceback (most recent call last):
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 488, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 851, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.flint.nmod_poly_linkage.celement_pow[20]>", line 1, in <module>
        alarm(Integer(1)); x**n
      File "sage/rings/polynomial/polynomial_template.pxi", line 625, in sage.rings.polynomial.polynomial_zmod_flint.Polynomial_template.__pow__ (build/cythonized/sage/rings/polynomial/polynomial_zmod_flint.cpp:10790)
      File "sage/libs/flint/nmod_poly_linkage.pxi", line 508, in sage.rings.polynomial.polynomial_zmod_flint.celement_pow (build/cythonized/sage/rings/polynomial/polynomial_zmod_flint.cpp:4815)
      File "sage/ext/c_lib.pyx", line 85, in sage.ext.c_lib.sig_raise_exception (build/cythonized/sage/ext/c_lib.c:971)
    RuntimeError: Aborted
**********************************************************************
```



---

archive/issue_comments_236582.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nIndeed...\nActually I think it will be quite hard to find a test that won't spuriously cause memory errors.\n\nExponentiation without modular reduction will be either too fast or eat up all the memory.\nAnd modular exponentiation is just fast as well and we can only use `long`s as exponents right now.",
    "created_at": "2014-12-16T09:38:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236582",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<div id="comment:12" align="right">Comment 12</div>

Indeed...
Actually I think it will be quite hard to find a test that won't spuriously cause memory errors.

Exponentiation without modular reduction will be either too fast or eat up all the memory.
And modular exponentiation is just fast as well and we can only use `long`s as exponents right now.



---

archive/issue_comments_236583.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nProposal: choose `n` such that the test passes with 2GB of virtual memory (use `ulimit -v 2000000` to test this). If needed, make the alarm time shorter.",
    "created_at": "2014-12-16T10:13:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236583",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">Comment 13</div>

Proposal: choose `n` such that the test passes with 2GB of virtual memory (use `ulimit -v 2000000` to test this). If needed, make the alarm time shorter.



---

archive/issue_comments_236584.json:
```json
{
    "body": "Changed commit from **[12539c9](https://github.com/sagemath/sagetrac-mirror/commit/12539c99d347b1747b33e4a2b3f3258ed40789d8)** to **[c781c24](https://github.com/sagemath/sagetrac-mirror/commit/c781c2498e3fc5f4402a3c22d4aa9228649f8614)**",
    "created_at": "2014-12-17T11:09:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236584",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[12539c9](https://github.com/sagemath/sagetrac-mirror/commit/12539c99d347b1747b33e4a2b3f3258ed40789d8)** to **[c781c24](https://github.com/sagemath/sagetrac-mirror/commit/c781c2498e3fc5f4402a3c22d4aa9228649f8614)**



---

archive/issue_comments_236585.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c781c2498e3fc5f4402a3c22d4aa9228649f8614\">c781c24</a></td><td><code>Modify FLINT exponentiation test to pass with <= 2Gb of virtual mem.</code></td></tr></table>\n",
    "created_at": "2014-12-17T11:09:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236585",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14" align="right">Comment 14</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c781c2498e3fc5f4402a3c22d4aa9228649f8614">c781c24</a></td><td><code>Modify FLINT exponentiation test to pass with <= 2Gb of virtual mem.</code></td></tr></table>




---

archive/issue_events_231376.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2014-12-17T11:11:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231376"
}
```



---

archive/issue_events_231377.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2014-12-17T11:11:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231377"
}
```



---

archive/issue_comments_236586.json:
```json
{
    "body": "Changed branch from **[u/jpflori/ticket/17470](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/17470)** to **[u/jdemeyer/ticket/17470](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/17470)**",
    "created_at": "2014-12-18T12:34:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236586",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/jpflori/ticket/17470](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/17470)** to **[u/jdemeyer/ticket/17470](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/17470)**



---

archive/issue_comments_236587.json:
```json
{
    "body": "Changed commit from **[c781c24](https://github.com/sagemath/sagetrac-mirror/commit/c781c2498e3fc5f4402a3c22d4aa9228649f8614)** to **[0706674](https://github.com/sagemath/sagetrac-mirror/commit/0706674121ae5da25e0d3f9d9a47da0cc1c6cc6f)**",
    "created_at": "2014-12-19T16:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236587",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[c781c24](https://github.com/sagemath/sagetrac-mirror/commit/c781c2498e3fc5f4402a3c22d4aa9228649f8614)** to **[0706674](https://github.com/sagemath/sagetrac-mirror/commit/0706674121ae5da25e0d3f9d9a47da0cc1c6cc6f)**



---

archive/issue_comments_236588.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nI modified the test slightly. Other than that, the patch looks good.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0706674121ae5da25e0d3f9d9a47da0cc1c6cc6f\">0706674</a></td><td><code>Modify doctest</code></td></tr></table>\n",
    "created_at": "2014-12-19T16:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236588",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">Comment 17</div>

I modified the test slightly. Other than that, the patch looks good.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0706674121ae5da25e0d3f9d9a47da0cc1c6cc6f">0706674</a></td><td><code>Modify doctest</code></td></tr></table>




---

archive/issue_comments_236589.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2014-12-19T17:11:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236589",
    "user": "https://github.com/sagetrac-jpflori"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_236590.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nI assume this means positive review...",
    "created_at": "2014-12-19T17:11:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236590",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<div id="comment:18" align="right">Comment 18</div>

I assume this means positive review...



---

archive/issue_events_231378.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2014-12-19T17:11:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231378"
}
```



---

archive/issue_events_231379.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2014-12-19T17:11:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231379"
}
```



---

archive/issue_comments_236591.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/17470](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/17470)** to **[0706674](https://github.com/sagemath/sagetrac-mirror/commit/0706674121ae5da25e0d3f9d9a47da0cc1c6cc6f)**",
    "created_at": "2014-12-21T21:45:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17470#issuecomment-236591",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/ticket/17470](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/17470)** to **[0706674](https://github.com/sagemath/sagetrac-mirror/commit/0706674121ae5da25e0d3f9d9a47da0cc1c6cc6f)**



---

archive/issue_events_231380.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-12-21T21:45:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231380"
}
```



---

archive/issue_events_231381.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e2dc8515cf12f8ee0d32ee1084217fbdfd7d2faa",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-12-21T21:45:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17470",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17470#event-231381"
}
```
