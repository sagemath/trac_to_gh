# Issue 17517: Implement roots of polynomials over SR

archive/issues_017280.json:
```json
{
    "assignees": [],
    "body": "The following should work:\n\n```\nsage: R.<x> = QQ[]\nsage: (x^2 + 2).roots(SR)\n[-sqrt(-2), sqrt(-2)]\n```\n\nThis could easily be done by first finding the roots in `QQbar` and then converting to `SR`.\n\nCC:  @gagern\n\nBranch/Commit: **[472c754](https://github.com/sagemath/sagetrac-mirror/commit/472c754f6b833011877484e0ce944a5d2ad9d3e0)**\n\nReviewer: **Ralf Stephan**\n\nAuthor: **Martin von Gagern**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17517_\n\n",
    "closed_at": "2015-01-23T23:40:41Z",
    "created_at": "2014-12-16T22:07:01Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement roots of polynomials over SR",
    "type": "issue",
    "updated_at": "2015-01-23T23:40:41Z",
    "url": "https://github.com/sagemath/sage/issues/17517",
    "user": "https://github.com/jdemeyer"
}
```
The following should work:

```
sage: R.<x> = QQ[]
sage: (x^2 + 2).roots(SR)
[-sqrt(-2), sqrt(-2)]
```

This could easily be done by first finding the roots in `QQbar` and then converting to `SR`.

CC:  @gagern

Branch/Commit: **[472c754](https://github.com/sagemath/sagetrac-mirror/commit/472c754f6b833011877484e0ce944a5d2ad9d3e0)**

Reviewer: **Ralf Stephan**

Author: **Martin von Gagern**

_Issue created by migration from https://trac.sagemath.org/ticket/17517_





---

archive/issue_events_232024.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-12-16T22:07:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17517#event-232024"
}
```



---

archive/issue_events_232025.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-12-16T22:07:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
    "label_color": "0000ff",
    "label_name": "component: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17517#event-232025"
}
```



---

archive/issue_events_232026.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-12-16T22:07:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17517#event-232026"
}
```



---

archive/issue_events_232027.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-12-16T22:07:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17517#event-232027"
}
```



---

archive/issue_comments_237422.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nI'm not sure that converting roots to `QQbar` first makes much sense. As it is now, conversion from `QQbar` to `SR` works by first finding *all* radical symbolic roots and then identifying the matching one. For this use case here, we wouldn't have to worry about that matching step. And we could avoid the computation for root isolation as well. Therefore, unless something changes dramatically in how these things work, I'd rather implement this conversion directly, and then perhaps have the radical expressions for algebraic numbers call that. If you agree, feel free to remove the dependency on #14239.",
    "created_at": "2014-12-17T00:40:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17517#issuecomment-237422",
    "user": "https://github.com/gagern"
}
```

<a id='comment:2'>Comment 2:</a>
I'm not sure that converting roots to `QQbar` first makes much sense. As it is now, conversion from `QQbar` to `SR` works by first finding *all* radical symbolic roots and then identifying the matching one. For this use case here, we wouldn't have to worry about that matching step. And we could avoid the computation for root isolation as well. Therefore, unless something changes dramatically in how these things work, I'd rather implement this conversion directly, and then perhaps have the radical expressions for algebraic numbers call that. If you agree, feel free to remove the dependency on #14239.



---

archive/issue_comments_237423.json:
```json
{
    "body": "Branch: **[u/gagern/ticket/17517](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/17517)**",
    "created_at": "2015-01-08T14:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17517#issuecomment-237423",
    "user": "https://github.com/gagern"
}
```

Branch: **[u/gagern/ticket/17517](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/17517)**



---

archive/issue_comments_237424.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nI decided to implement this without waiting on #17516. We can always add an extra code path for that later on. I consider this method the canonical place to compute radical expressions for polynomials, so I've adapted the approach via `Expression.solve` I've been using in other places as well. If this gets accepted quickly, I might even change #14239 to make use of this.\n\nThere is one situation I just thought of: if the coefficients are from `AA` or `QQbar`, then my current implementation will fail. In that situation your original suggestion, of computing roots in `QQbar` and then turning them into symbolic expressions, starts to make a lot of sense. But I'd rather handle that in a separate ticket, since such polynomials are much rarer and that code really would depend on #14239 which, as I just suggested, could benefit from depending on this implementation here.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/472c754f6b833011877484e0ce944a5d2ad9d3e0\">472c754</a></td><td><code>Implement symbolic (radical) roots of polynomials.</code></td></tr></table>\n",
    "created_at": "2015-01-08T14:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17517#issuecomment-237424",
    "user": "https://github.com/gagern"
}
```

<a id='comment:4'>Comment 4:</a>
I decided to implement this without waiting on #17516. We can always add an extra code path for that later on. I consider this method the canonical place to compute radical expressions for polynomials, so I've adapted the approach via `Expression.solve` I've been using in other places as well. If this gets accepted quickly, I might even change #14239 to make use of this.

There is one situation I just thought of: if the coefficients are from `AA` or `QQbar`, then my current implementation will fail. In that situation your original suggestion, of computing roots in `QQbar` and then turning them into symbolic expressions, starts to make a lot of sense. But I'd rather handle that in a separate ticket, since such polynomials are much rarer and that code really would depend on #14239 which, as I just suggested, could benefit from depending on this implementation here.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/472c754f6b833011877484e0ce944a5d2ad9d3e0">472c754</a></td><td><code>Implement symbolic (radical) roots of polynomials.</code></td></tr></table>




---

archive/issue_comments_237425.json:
```json
{
    "body": "Author: **Martin von Gagern**",
    "created_at": "2015-01-08T14:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17517#issuecomment-237425",
    "user": "https://github.com/gagern"
}
```

Author: **Martin von Gagern**



---

archive/issue_events_232028.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2015-01-08T14:38:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17517#event-232028"
}
```



---

archive/issue_comments_237426.json:
```json
{
    "body": "Commit: **[472c754](https://github.com/sagemath/sagetrac-mirror/commit/472c754f6b833011877484e0ce944a5d2ad9d3e0)**",
    "created_at": "2015-01-08T14:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17517#issuecomment-237426",
    "user": "https://github.com/gagern"
}
```

Commit: **[472c754](https://github.com/sagemath/sagetrac-mirror/commit/472c754f6b833011877484e0ce944a5d2ad9d3e0)**



---

archive/issue_comments_237427.json:
```json
{
    "body": "Changed dependencies from **#14239** to none",
    "created_at": "2015-01-08T14:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17517#issuecomment-237427",
    "user": "https://github.com/gagern"
}
```

Changed dependencies from **#14239** to none



---

archive/issue_events_232029.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-01-17T07:38:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17517#event-232029"
}
```



---

archive/issue_events_232030.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-01-17T07:38:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17517#event-232030"
}
```



---

archive/issue_comments_237428.json:
```json
{
    "body": "Reviewer: **Ralf Stephan**",
    "created_at": "2015-01-17T07:38:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17517#issuecomment-237428",
    "user": "https://github.com/rwst"
}
```

Reviewer: **Ralf Stephan**



---

archive/issue_comments_237429.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nEasy ticket, passes `make ptestlong`.",
    "created_at": "2015-01-17T07:38:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17517#issuecomment-237429",
    "user": "https://github.com/rwst"
}
```

<a id='comment:5'>Comment 5:</a>
Easy ticket, passes `make ptestlong`.



---

archive/issue_comments_237430.json:
```json
{
    "body": "Changed branch from **[u/gagern/ticket/17517](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/17517)** to **[472c754](https://github.com/sagemath/sagetrac-mirror/commit/472c754f6b833011877484e0ce944a5d2ad9d3e0)**",
    "created_at": "2015-01-23T23:40:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17517#issuecomment-237430",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gagern/ticket/17517](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/17517)** to **[472c754](https://github.com/sagemath/sagetrac-mirror/commit/472c754f6b833011877484e0ce944a5d2ad9d3e0)**



---

archive/issue_events_232031.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-23T23:40:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17517#event-232031"
}
```



---

archive/issue_events_232032.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "437c7b379a299d7a37c6a80b132949af814e199f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-01-23T23:40:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17517",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17517#event-232032"
}
```
