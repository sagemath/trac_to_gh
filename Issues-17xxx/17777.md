# Issue 17777: unsigned infinity cannot be coerced into SR

archive/issues_017540.json:
```json
{
    "body": "This is needed e.g. by `BuiltinFunction`s returning that value (#17678).\n\n```\nsage: from sage.rings.infinity import infinity, unsigned_infinity\nsage: SR.coerce(infinity)\n+Infinity\nsage: SR.coerce(unsigned_infinity)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-5-164e151d39b6> in <module>()\n----> 1 SR.coerce(unsigned_infinity)\n\n/home/ralf/sage/src/sage/structure/parent.pyx in sage.structure.parent.Parent.coerce (build/cythonized/sage/structure/parent.c:10777)()\n   1290             return False\n   1291 \n-> 1292     cpdef coerce(self, x):\n   1293         \"\"\"\n   1294         Return x as an element of self, if and only if there is a canonical\n\n/home/ralf/sage/src/sage/structure/parent.pyx in sage.structure.parent.Parent.coerce (build/cythonized/sage/structure/parent.c:10711)()\n   1317                 except Exception:\n   1318                     _record_exception()\n-> 1319             raise TypeError(\"no canonical coercion from %s to %s\" % (parent_c(x), self))\n   1320         else:\n   1321             return (<map.Map>mor)._call_(x)\n\nTypeError: no canonical coercion from The Unsigned Infinity Ring to Symbolic Ring\n```\n\n**Branch:** [u/mmezzarobba/17777-infinity_to_SR](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/17777-infinity_to_SR)\n\n**Commit:** [3a3fd027c33f1bab636ac761caf636ce8fe8bfad](https://github.com/sagemath/sagetrac-mirror/commit/3a3fd027c33f1bab636ac761caf636ce8fe8bfad)\n\n**Reviewer:** Karl-Dieter Crisman, Marc Mezzarobba\n\n**Author:** Ralf Stephan\n\nIssue created by migration from https://trac.sagemath.org/ticket/17777\n\n",
    "created_at": "2015-02-13T17:13:55Z",
    "labels": [
        "component: symbolics",
        "bug",
        "needs info"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.2",
    "title": "unsigned infinity cannot be coerced into SR",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/17777",
    "user": "https://github.com/rwst"
}
```
This is needed e.g. by `BuiltinFunction`s returning that value (#17678).

```
sage: from sage.rings.infinity import infinity, unsigned_infinity
sage: SR.coerce(infinity)
+Infinity
sage: SR.coerce(unsigned_infinity)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-5-164e151d39b6> in <module>()
----> 1 SR.coerce(unsigned_infinity)

/home/ralf/sage/src/sage/structure/parent.pyx in sage.structure.parent.Parent.coerce (build/cythonized/sage/structure/parent.c:10777)()
   1290             return False
   1291 
-> 1292     cpdef coerce(self, x):
   1293         """
   1294         Return x as an element of self, if and only if there is a canonical

/home/ralf/sage/src/sage/structure/parent.pyx in sage.structure.parent.Parent.coerce (build/cythonized/sage/structure/parent.c:10711)()
   1317                 except Exception:
   1318                     _record_exception()
-> 1319             raise TypeError("no canonical coercion from %s to %s" % (parent_c(x), self))
   1320         else:
   1321             return (<map.Map>mor)._call_(x)

TypeError: no canonical coercion from The Unsigned Infinity Ring to Symbolic Ring
```

**Branch:** [u/mmezzarobba/17777-infinity_to_SR](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/17777-infinity_to_SR)

**Commit:** [3a3fd027c33f1bab636ac761caf636ce8fe8bfad](https://github.com/sagemath/sagetrac-mirror/commit/3a3fd027c33f1bab636ac761caf636ce8fe8bfad)

**Reviewer:** Karl-Dieter Crisman, Marc Mezzarobba

**Author:** Ralf Stephan

Issue created by migration from https://trac.sagemath.org/ticket/17777





---

archive/issue_comments_242539.json:
```json
{
    "body": "**Branch:** [u/rws/unsigned_infinity_cannot_be_coerced_into_sr](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/unsigned_infinity_cannot_be_coerced_into_sr)",
    "created_at": "2015-02-14T07:49:28Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242539",
    "user": "https://github.com/rwst"
}
```

**Branch:** [u/rws/unsigned_infinity_cannot_be_coerced_into_sr](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/unsigned_infinity_cannot_be_coerced_into_sr)



---

archive/issue_comments_242540.json:
```json
{
    "body": "**Author:** Ralf Stephan",
    "created_at": "2015-02-14T07:51:05Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242540",
    "user": "https://github.com/rwst"
}
```

**Author:** Ralf Stephan



---

archive/issue_events_159495.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-14T07:51:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "label": "component: algebra",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159495"
}
```



---

archive/issue_events_159496.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-14T07:51:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "label": "component: symbolics",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159496"
}
```



---

archive/issue_comments_242541.json:
```json
{
    "body": "**Commit:** [17d1aa13d11212f2c1e0b1485c7dc094c20fae0c](https://github.com/sagemath/sagetrac-mirror/commit/17d1aa13d11212f2c1e0b1485c7dc094c20fae0c)",
    "created_at": "2015-02-14T07:51:05Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242541",
    "user": "https://github.com/rwst"
}
```

**Commit:** [17d1aa13d11212f2c1e0b1485c7dc094c20fae0c](https://github.com/sagemath/sagetrac-mirror/commit/17d1aa13d11212f2c1e0b1485c7dc094c20fae0c)



---

archive/issue_events_159497.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-14T07:51:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159497"
}
```



---

archive/issue_comments_242542.json:
```json
{
    "body": "<a id='comment:2'></a>\nIs that all? That would be easier than thought.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17d1aa13d11212f2c1e0b1485c7dc094c20fae0c\">17d1aa1</a></td><td><code>17777: coerce unsigned infinity into SR</code></td></tr></table>\n",
    "created_at": "2015-02-14T07:51:05Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242542",
    "user": "https://github.com/rwst"
}
```

<a id='comment:2'></a>
Is that all? That would be easier than thought.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17d1aa13d11212f2c1e0b1485c7dc094c20fae0c">17d1aa1</a></td><td><code>17777: coerce unsigned infinity into SR</code></td></tr></table>




---

archive/issue_comments_242543.json:
```json
{
    "body": "<a id='comment:3'></a>\n\n```\nsage -t --long src/sage/symbolic/expression.pyx  # 1 doctest failed\nsage -t --long src/sage/rings/infinity.py  # 1 doctest failed\nsage -t --long src/sage/doctest/control.py  # 2 doctests failed\n```",
    "created_at": "2015-02-26T09:34:20Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242543",
    "user": "https://github.com/rwst"
}
```

<a id='comment:3'></a>

```
sage -t --long src/sage/symbolic/expression.pyx  # 1 doctest failed
sage -t --long src/sage/rings/infinity.py  # 1 doctest failed
sage -t --long src/sage/doctest/control.py  # 2 doctests failed
```



---

archive/issue_events_159498.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-26T09:34:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159498"
}
```



---

archive/issue_events_159499.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-26T09:34:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159499"
}
```



---

archive/issue_comments_242544.json:
```json
{
    "body": "**Changing commit** from \"[17d1aa13d11212f2c1e0b1485c7dc094c20fae0c](https://github.com/sagemath/sagetrac-mirror/commit/17d1aa13d11212f2c1e0b1485c7dc094c20fae0c)\" to \"[5609e513405ba231b522ff68d8f88fe9cf0caeff](https://github.com/sagemath/sagetrac-mirror/commit/5609e513405ba231b522ff68d8f88fe9cf0caeff)\".",
    "created_at": "2015-03-04T17:26:07Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242544",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[17d1aa13d11212f2c1e0b1485c7dc094c20fae0c](https://github.com/sagemath/sagetrac-mirror/commit/17d1aa13d11212f2c1e0b1485c7dc094c20fae0c)" to "[5609e513405ba231b522ff68d8f88fe9cf0caeff](https://github.com/sagemath/sagetrac-mirror/commit/5609e513405ba231b522ff68d8f88fe9cf0caeff)".



---

archive/issue_comments_242545.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d05dd2364323ad1caf0119eeb545943a41df357\">0d05dd2</a></td><td><code>Merge branch 'develop' into t/17777/unsigned_infinity_cannot_be_coerced_into_sr</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3330a2f639fa0e9231d938bfb0a151bb436b641c\">3330a2f</a></td><td><code>Merge branch 'develop' into t/17777/unsigned_infinity_cannot_be_coerced_into_sr</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5609e513405ba231b522ff68d8f88fe9cf0caeff\">5609e51</a></td><td><code>17777: fix doctests</code></td></tr></table>\n",
    "created_at": "2015-03-04T17:26:07Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242545",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d05dd2364323ad1caf0119eeb545943a41df357">0d05dd2</a></td><td><code>Merge branch 'develop' into t/17777/unsigned_infinity_cannot_be_coerced_into_sr</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3330a2f639fa0e9231d938bfb0a151bb436b641c">3330a2f</a></td><td><code>Merge branch 'develop' into t/17777/unsigned_infinity_cannot_be_coerced_into_sr</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5609e513405ba231b522ff68d8f88fe9cf0caeff">5609e51</a></td><td><code>17777: fix doctests</code></td></tr></table>




---

archive/issue_events_159500.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-04T17:26:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159500"
}
```



---

archive/issue_events_159501.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-04T17:26:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159501"
}
```



---

archive/issue_events_159502.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-04T17:26:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "milestone": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159502"
}
```



---

archive/issue_events_159503.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-04T17:26:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159503"
}
```



---

archive/issue_comments_242546.json:
```json
{
    "body": "<a id='comment:6'></a>\nThe docstring of `sage.rings.infinity` states that:\n\n  The rules for arithmetic are that the unsigned infinity ring does not canonically coerce to any other ring, and all other rings canonically coerce to the unsigned infinity ring, sending all elements to the single element \"a number less than infinity\" of the unsigned infinity ring. Arithmetic and comparisons then take place in the unsigned infinity ring, where all arithmetic operations that are well-defined are defined.\n\n  [...]\n\n  Any ordered ring coerces to the infinity ring in the obvious way.\n\nSo if I understand correctly `SR` already didn't respect this specification. But this makes me wonder if your patch won't make comparisons with infinities even more inconsistent. If you understand the issues at hand better than I do, can you explain how this is all supposed to work?",
    "created_at": "2015-03-12T15:09:23Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242546",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:6'></a>
The docstring of `sage.rings.infinity` states that:

  The rules for arithmetic are that the unsigned infinity ring does not canonically coerce to any other ring, and all other rings canonically coerce to the unsigned infinity ring, sending all elements to the single element "a number less than infinity" of the unsigned infinity ring. Arithmetic and comparisons then take place in the unsigned infinity ring, where all arithmetic operations that are well-defined are defined.

  [...]

  Any ordered ring coerces to the infinity ring in the obvious way.

So if I understand correctly `SR` already didn't respect this specification. But this makes me wonder if your patch won't make comparisons with infinities even more inconsistent. If you understand the issues at hand better than I do, can you explain how this is all supposed to work?



---

archive/issue_comments_242547.json:
```json
{
    "body": "<a id='comment:7'></a>\nI think the issue is that `SR` is even more special (see e.g. https://groups.google.com/d/topic/sage-devel/Oip2hzvjFZQ/discussion the posting by Volker). Everything coerces to it.",
    "created_at": "2015-03-12T15:46:17Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242547",
    "user": "https://github.com/rwst"
}
```

<a id='comment:7'></a>
I think the issue is that `SR` is even more special (see e.g. https://groups.google.com/d/topic/sage-devel/Oip2hzvjFZQ/discussion the posting by Volker). Everything coerces to it.



---

archive/issue_comments_242548.json:
```json
{
    "body": "<a id='comment:8'></a>\nThis blocks #17678.",
    "created_at": "2015-05-12T15:10:09Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242548",
    "user": "https://github.com/rwst"
}
```

<a id='comment:8'></a>
This blocks #17678.



---

archive/issue_comments_242549.json:
```json
{
    "body": "<a id='comment:9'></a>\nSo... I'm not sure I understand the question of the last two comments.   I don't have any objections to this but don't want to step on anyone's toes, and it (obviously) helps #17678.",
    "created_at": "2015-05-21T16:41:23Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242549",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:9'></a>
So... I'm not sure I understand the question of the last two comments.   I don't have any objections to this but don't want to step on anyone's toes, and it (obviously) helps #17678.



---

archive/issue_comments_242550.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe cited \"The rules for arithmetic are that the unsigned infinity ring does not canonically coerce to any other ring, and all other rings canonically coerce to the unsigned infinity ring...\" is obviously wrong because the symbolic ring already has this notion. Example: `SR` could have a constant `aleph2` which the infinity rings are unable to handle right now, but `SR` can handle everything thrown at it. My guess is that the cited documentation simply ignored `SR` because it's not a typical algebraic object and doesn't fit the algebraists' concepts. Tough luck.",
    "created_at": "2015-05-24T15:21:30Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242550",
    "user": "https://github.com/rwst"
}
```

<a id='comment:10'></a>
The cited "The rules for arithmetic are that the unsigned infinity ring does not canonically coerce to any other ring, and all other rings canonically coerce to the unsigned infinity ring..." is obviously wrong because the symbolic ring already has this notion. Example: `SR` could have a constant `aleph2` which the infinity rings are unable to handle right now, but `SR` can handle everything thrown at it. My guess is that the cited documentation simply ignored `SR` because it's not a typical algebraic object and doesn't fit the algebraists' concepts. Tough luck.



---

archive/issue_comments_242551.json:
```json
{
    "body": "<a id='comment:11'></a>\nYeah, I agree that the symbolic ring isn't a ring in the ordinary sense.  Maybe this ticket could upgrade that documentation as well with a brief note?  (mmezzarobba, would that satisfy your concerns?)",
    "created_at": "2015-05-28T15:16:18Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242551",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:11'></a>
Yeah, I agree that the symbolic ring isn't a ring in the ordinary sense.  Maybe this ticket could upgrade that documentation as well with a brief note?  (mmezzarobba, would that satisfy your concerns?)



---

archive/issue_comments_242552.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [kcrisman](#comment%3A11):\n> Yeah, I agree that the symbolic ring isn't a ring in the ordinary sense.  Maybe this ticket could upgrade that documentation as well with a brief note?  (mmezzarobba, would that satisfy your concerns?)\n\nI have no strong opinion regarding whether there should be a coercion from SR to infinity rings, from infinity rings to SR, or neither. I was just pointing out that the proposed change would contradict the documentation. And yes, I guess improving that documentation is a good idea in any case!",
    "created_at": "2015-05-28T16:17:35Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242552",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:12'></a>
Replying to [kcrisman](#comment%3A11):
> Yeah, I agree that the symbolic ring isn't a ring in the ordinary sense.  Maybe this ticket could upgrade that documentation as well with a brief note?  (mmezzarobba, would that satisfy your concerns?)

I have no strong opinion regarding whether there should be a coercion from SR to infinity rings, from infinity rings to SR, or neither. I was just pointing out that the proposed change would contradict the documentation. And yes, I guess improving that documentation is a good idea in any case!



---

archive/issue_events_159504.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2015-05-28T17:22:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159504"
}
```



---

archive/issue_events_159505.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2015-05-28T17:22:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159505"
}
```



---

archive/issue_comments_242553.json:
```json
{
    "body": "<a id='comment:13'></a>\nOkay, let's just make sure it's clear, then.",
    "created_at": "2015-05-28T17:22:46Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242553",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:13'></a>
Okay, let's just make sure it's clear, then.



---

archive/issue_comments_242554.json:
```json
{
    "body": "**Work Issues:** improve doc to make clear SR isn't a ring",
    "created_at": "2015-05-28T17:22:46Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242554",
    "user": "https://github.com/kcrisman"
}
```

**Work Issues:** improve doc to make clear SR isn't a ring



---

archive/issue_comments_242555.json:
```json
{
    "body": "**Changing commit** from \"[5609e513405ba231b522ff68d8f88fe9cf0caeff](https://github.com/sagemath/sagetrac-mirror/commit/5609e513405ba231b522ff68d8f88fe9cf0caeff)\" to \"[0f19e9c4f9eb5e07a7d37d77847daf6b8b9fba82](https://github.com/sagemath/sagetrac-mirror/commit/0f19e9c4f9eb5e07a7d37d77847daf6b8b9fba82)\".",
    "created_at": "2015-06-10T15:31:11Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242555",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5609e513405ba231b522ff68d8f88fe9cf0caeff](https://github.com/sagemath/sagetrac-mirror/commit/5609e513405ba231b522ff68d8f88fe9cf0caeff)" to "[0f19e9c4f9eb5e07a7d37d77847daf6b8b9fba82](https://github.com/sagemath/sagetrac-mirror/commit/0f19e9c4f9eb5e07a7d37d77847daf6b8b9fba82)".



---

archive/issue_comments_242556.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0bcc32c8064f64838ea761163e7e8cb070b25b3\">a0bcc32</a></td><td><code>Merge branch 'develop' into t/17777/unsigned_infinity_cannot_be_coerced_into_sr</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f19e9c4f9eb5e07a7d37d77847daf6b8b9fba82\">0f19e9c</a></td><td><code>17777: add note to make documentation consistent with ticket</code></td></tr></table>\n",
    "created_at": "2015-06-10T15:31:11Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242556",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0bcc32c8064f64838ea761163e7e8cb070b25b3">a0bcc32</a></td><td><code>Merge branch 'develop' into t/17777/unsigned_infinity_cannot_be_coerced_into_sr</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f19e9c4f9eb5e07a7d37d77847daf6b8b9fba82">0f19e9c</a></td><td><code>17777: add note to make documentation consistent with ticket</code></td></tr></table>




---

archive/issue_events_159506.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-06-10T15:31:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159506"
}
```



---

archive/issue_events_159507.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-06-10T15:31:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159507"
}
```



---

archive/issue_comments_242557.json:
```json
{
    "body": "<a id='comment:16'></a>\nI like it but I think maybe it belongs in the first part of the paragraph [comment:6](#comment%3A6) mentions.\n\n> The rules for arithmetic are that the unsigned infinity ring does not canonically coerce to any other ring, and all other rings canonically coerce to the unsigned infinity ring, sending all elements to the single element \"a number less than infinity\" of the unsigned infinity ring. Arithmetic and comparisons then take place in the unsigned infinity ring, where all arithmetic operations that are well-defined are defined\n\nmmezz... would this doc change satisfy you?",
    "created_at": "2015-06-10T19:10:21Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242557",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'></a>
I like it but I think maybe it belongs in the first part of the paragraph [comment:6](#comment%3A6) mentions.

> The rules for arithmetic are that the unsigned infinity ring does not canonically coerce to any other ring, and all other rings canonically coerce to the unsigned infinity ring, sending all elements to the single element "a number less than infinity" of the unsigned infinity ring. Arithmetic and comparisons then take place in the unsigned infinity ring, where all arithmetic operations that are well-defined are defined

mmezz... would this doc change satisfy you?



---

archive/issue_comments_242558.json:
```json
{
    "body": "<a id='comment:17'></a>\nping?",
    "created_at": "2015-10-20T12:42:31Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242558",
    "user": "https://github.com/rwst"
}
```

<a id='comment:17'></a>
ping?



---

archive/issue_comments_242559.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [kcrisman](#comment%3A16):\n> I like it but I think maybe it belongs in the first part of the paragraph [comment:6](#comment%3A6) mentions.\n> \n> > The rules for arithmetic are that the unsigned infinity ring does not canonically coerce to any other ring, and all other rings canonically coerce to the unsigned infinity ring, sending all elements to the single element \"a number less than infinity\" of the unsigned infinity ring. Arithmetic and comparisons then take place in the unsigned infinity ring, where all arithmetic operations that are well-defined are defined\n\n> \n> mmezz... would this doc change satisfy you?\n\nSure. And my apologies for taking so long to reply, I somehow missed your question or forgot about it until Ralph's ping.",
    "created_at": "2015-10-22T13:23:59Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242559",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:18'></a>
Replying to [kcrisman](#comment%3A16):
> I like it but I think maybe it belongs in the first part of the paragraph [comment:6](#comment%3A6) mentions.
> 
> > The rules for arithmetic are that the unsigned infinity ring does not canonically coerce to any other ring, and all other rings canonically coerce to the unsigned infinity ring, sending all elements to the single element "a number less than infinity" of the unsigned infinity ring. Arithmetic and comparisons then take place in the unsigned infinity ring, where all arithmetic operations that are well-defined are defined

> 
> mmezz... would this doc change satisfy you?

Sure. And my apologies for taking so long to reply, I somehow missed your question or forgot about it until Ralph's ping.



---

archive/issue_comments_242560.json:
```json
{
    "body": "**Changing commit** from \"[0f19e9c4f9eb5e07a7d37d77847daf6b8b9fba82](https://github.com/sagemath/sagetrac-mirror/commit/0f19e9c4f9eb5e07a7d37d77847daf6b8b9fba82)\" to \"[3a3fd027c33f1bab636ac761caf636ce8fe8bfad](https://github.com/sagemath/sagetrac-mirror/commit/3a3fd027c33f1bab636ac761caf636ce8fe8bfad)\".",
    "created_at": "2016-03-27T10:22:28Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242560",
    "user": "https://github.com/mezzarobba"
}
```

**Changing commit** from "[0f19e9c4f9eb5e07a7d37d77847daf6b8b9fba82](https://github.com/sagemath/sagetrac-mirror/commit/0f19e9c4f9eb5e07a7d37d77847daf6b8b9fba82)" to "[3a3fd027c33f1bab636ac761caf636ce8fe8bfad](https://github.com/sagemath/sagetrac-mirror/commit/3a3fd027c33f1bab636ac761caf636ce8fe8bfad)".



---

archive/issue_comments_242561.json:
```json
{
    "body": "**Reviewer:** Karl-Dieter Crisman, Marc Mezzarobba",
    "created_at": "2016-03-27T10:22:28Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242561",
    "user": "https://github.com/mezzarobba"
}
```

**Reviewer:** Karl-Dieter Crisman, Marc Mezzarobba



---

archive/issue_comments_242562.json:
```json
{
    "body": "**Changing work issues** from \"improve doc to make clear SR isn't a ring\" to \"\".",
    "created_at": "2016-03-27T10:22:28Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242562",
    "user": "https://github.com/mezzarobba"
}
```

**Changing work issues** from "improve doc to make clear SR isn't a ring" to "".



---

archive/issue_comments_242563.json:
```json
{
    "body": "<a id='comment:19'></a>\nI made (essentially) the change discussed in the last few comments. Please feel free to set the ticket to positive review if you agree with the last commit.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a3fd027c33f1bab636ac761caf636ce8fe8bfad\">3a3fd02</a></td><td><code>#17777 improve description of coercions from/to UnsignedInfinityRing</code></td></tr></table>\n",
    "created_at": "2016-03-27T10:22:28Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242563",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:19'></a>
I made (essentially) the change discussed in the last few comments. Please feel free to set the ticket to positive review if you agree with the last commit.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a3fd027c33f1bab636ac761caf636ce8fe8bfad">3a3fd02</a></td><td><code>#17777 improve description of coercions from/to UnsignedInfinityRing</code></td></tr></table>




---

archive/issue_comments_242564.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/unsigned_infinity_cannot_be_coerced_into_sr](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/unsigned_infinity_cannot_be_coerced_into_sr)\" to \"[u/mmezzarobba/17777-infinity_to_SR](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/17777-infinity_to_SR)\".",
    "created_at": "2016-03-27T10:22:28Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242564",
    "user": "https://github.com/mezzarobba"
}
```

**Changing branch** from "[u/rws/unsigned_infinity_cannot_be_coerced_into_sr](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/unsigned_infinity_cannot_be_coerced_into_sr)" to "[u/mmezzarobba/17777-infinity_to_SR](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/17777-infinity_to_SR)".



---

archive/issue_events_159508.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2016-03-27T10:22:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159508"
}
```



---

archive/issue_events_159509.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2016-03-27T10:22:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159509"
}
```



---

archive/issue_comments_242565.json:
```json
{
    "body": "<a id='comment:20'></a>\nWait: with this change, lots rings would coerce into `SR` both directly and through `InfinityRing`, with different results. But coercions are supposed to form a commutative diagram. I understand that both the infinity ring and the symbolic ring are a bit special, and that, with the current coercion discovery algorithm, things probably will work fine even if that assumption is broken... but still, I really don't like the idea of breaking it if that can be avoided.\n\nIs there really no other way to make infinities and symbolic expression play well together? For example, what about having `SR` coerce into the infinity ring (and making the global identifier `infinity` refer to `SR(infinity)`?) Or, perhaps better, adding an intermediate \u201csymbolic infinity ring\u201d that would coerce into both `SR` and `InfinityRing`, but have no ingoing coercions?",
    "created_at": "2016-03-27T12:13:25Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242565",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:20'></a>
Wait: with this change, lots rings would coerce into `SR` both directly and through `InfinityRing`, with different results. But coercions are supposed to form a commutative diagram. I understand that both the infinity ring and the symbolic ring are a bit special, and that, with the current coercion discovery algorithm, things probably will work fine even if that assumption is broken... but still, I really don't like the idea of breaking it if that can be avoided.

Is there really no other way to make infinities and symbolic expression play well together? For example, what about having `SR` coerce into the infinity ring (and making the global identifier `infinity` refer to `SR(infinity)`?) Or, perhaps better, adding an intermediate “symbolic infinity ring” that would coerce into both `SR` and `InfinityRing`, but have no ingoing coercions?



---

archive/issue_events_159510.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2016-03-27T12:13:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159510"
}
```



---

archive/issue_events_159511.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2016-03-27T12:13:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17777#event-159511"
}
```



---

archive/issue_comments_242566.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [mmezzarobba](#comment%3A20):\n> Is there really no other way to make infinities and symbolic expression play well together? For example, what about having `SR` coerce into the infinity ring (and making the global identifier `infinity` refer to `SR(infinity)`?) Or, perhaps better, adding an intermediate \u201csymbolic infinity ring\u201d that would coerce into both `SR` and `InfinityRing`, but have no ingoing coercions?\n\nThat sounds feasible, since SR can have subrings now.",
    "created_at": "2016-03-27T12:41:04Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242566",
    "user": "https://github.com/rwst"
}
```

<a id='comment:21'></a>
Replying to [mmezzarobba](#comment%3A20):
> Is there really no other way to make infinities and symbolic expression play well together? For example, what about having `SR` coerce into the infinity ring (and making the global identifier `infinity` refer to `SR(infinity)`?) Or, perhaps better, adding an intermediate “symbolic infinity ring” that would coerce into both `SR` and `InfinityRing`, but have no ingoing coercions?

That sounds feasible, since SR can have subrings now.



---

archive/issue_comments_242567.json:
```json
{
    "body": "<a id='comment:22'></a>\nActually, I'm wondering if *all* symbolic constants shouldn't be part of a special parent, say the \u201cset of symbolic constants\u201d, with no operations at all defined on it (so that they can be used only after being coerced to something else). That would make it easy to support operations like `pi + 1.0`, `exp(infinity)`... with no artificial coercions from `SR`.",
    "created_at": "2016-03-27T12:51:55Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242567",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:22'></a>
Actually, I'm wondering if *all* symbolic constants shouldn't be part of a special parent, say the “set of symbolic constants”, with no operations at all defined on it (so that they can be used only after being coerced to something else). That would make it easy to support operations like `pi + 1.0`, `exp(infinity)`... with no artificial coercions from `SR`.



---

archive/issue_comments_242568.json:
```json
{
    "body": "<a id='comment:23'></a>\nSee also #19439.",
    "created_at": "2016-07-19T07:01:34Z",
    "issue": "https://github.com/sagemath/sage/issues/17777",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17777#issuecomment-242568",
    "user": "https://github.com/rwst"
}
```

<a id='comment:23'></a>
See also #19439.
