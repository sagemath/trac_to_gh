# Issue 17410: unambiguously doctest longest_path()

archive/issues_017173.json:
```json
{
    "body": "A doctest or longest_path() is ambiguous :\n\n```\nsage: l = [(0, 1), (0, 3), (2, 0)]\nsage: G = DiGraph(l)\nsage: G.longest_path().edges()\n[(0, 3, None), (2, 0, None)]\n```\n\nStarting with sage 6.5beta1, sage gives the equally valid answer \n\n```\n[(0, 1, None), (2, 0, None)]\n```\nbut this is detected as a failure by sage ptestlong.\n\nSo let's use a problem with a unique solution.\n\nBranch/Commit: 52c5c08ea0e189c25b2513f80a0355ecb421c713\n\nReviewer: Vincent Delecroix\n\nAuthor: Emmanuel Charpentier\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17410\n\n",
    "closed_at": "2014-11-29T01:06:53Z",
    "created_at": "2014-11-27T20:06:47Z",
    "labels": [
        "component: graph theory",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "unambiguously doctest longest_path()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17410",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
A doctest or longest_path() is ambiguous :

```
sage: l = [(0, 1), (0, 3), (2, 0)]
sage: G = DiGraph(l)
sage: G.longest_path().edges()
[(0, 3, None), (2, 0, None)]
```

Starting with sage 6.5beta1, sage gives the equally valid answer 

```
[(0, 1, None), (2, 0, None)]
```
but this is detected as a failure by sage ptestlong.

So let's use a problem with a unique solution.

Branch/Commit: 52c5c08ea0e189c25b2513f80a0355ecb421c713

Reviewer: Vincent Delecroix

Author: Emmanuel Charpentier

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17410





---

archive/issue_comments_242896.json:
```json
{
    "body": "<a id='comment:2'></a>Passes \"make ptestlong\"\n\n---\nNew commits:",
    "created_at": "2014-11-27T20:46:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17410#issuecomment-242896",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:2'></a>Passes "make ptestlong"

---
New commits:



---

archive/issue_comments_242897.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-11-27T20:46:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17410#issuecomment-242897",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_242898.json:
```json
{
    "body": "<a id='comment:3'></a>Hello,\n\nAre you sure that it is unique ? Why the output can not be the same path in the other direction\n\n```\n[(3, 4, None), (2, 0, None), (0, 3, None)]\n```\nEDIT: it is not even sure that the list of edges is output in any sorted way, is it ?\n\nYou can at least test the length, or the vertices/edges as a set.\n\nVincent",
    "created_at": "2014-11-27T20:50:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17410#issuecomment-242898",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>Hello,

Are you sure that it is unique ? Why the output can not be the same path in the other direction

```
[(3, 4, None), (2, 0, None), (0, 3, None)]
```
EDIT: it is not even sure that the list of edges is output in any sorted way, is it ?

You can at least test the length, or the vertices/edges as a set.

Vincent



---

archive/issue_comments_242899.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-27T21:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17410#issuecomment-242899",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_242900.json:
```json
{
    "body": "<a id='comment:5'></a>Damn. You're right. The path is unique (G is directed). But edges() has no special reason to sort them in any specified way. So the new version tests only set equality.\n\nThis passes \"make ptestlong\".\n\nAnd you're co-author.",
    "created_at": "2014-11-27T21:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17410#issuecomment-242900",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:5'></a>Damn. You're right. The path is unique (G is directed). But edges() has no special reason to sort them in any specified way. So the new version tests only set equality.

This passes "make ptestlong".

And you're co-author.



---

archive/issue_comments_242901.json:
```json
{
    "body": "<a id='comment:6'></a>Hi Emmanuel,\n\nI changed my status from author to reviewer. That's more reasonable.\n\nwhy `bool(something)` instead of `something` like in\n\n```\nsage: p = G.longest_path()\nsage: set(p.edges(labels=False)) == {(0,3), (2,0), (3,4)}\nTrue\n```\n(and by the way, the option `labels=False` of the method `.edges` is really cool)\n\nSorry for being so picky.\n\nVincent",
    "created_at": "2014-11-28T00:04:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17410#issuecomment-242901",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>Hi Emmanuel,

I changed my status from author to reviewer. That's more reasonable.

why `bool(something)` instead of `something` like in

```
sage: p = G.longest_path()
sage: set(p.edges(labels=False)) == {(0,3), (2,0), (3,4)}
True
```
(and by the way, the option `labels=False` of the method `.edges` is really cool)

Sorry for being so picky.

Vincent



---

archive/issue_comments_242902.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-28T08:58:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17410#issuecomment-242902",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_242903.json:
```json
{
    "body": "<a id='comment:8'></a>New commit, up to reviewer's cosmetic wishes.\n\nPasses \"make ptestlong\".",
    "created_at": "2014-11-28T09:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17410#issuecomment-242903",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:8'></a>New commit, up to reviewer's cosmetic wishes.

Passes "make ptestlong".



---

archive/issue_comments_242904.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-28T13:25:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17410#issuecomment-242904",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_242905.json:
```json
{
    "body": "<a id='comment:9'></a>Wonderful ;-) Thanks.\n\nVincent",
    "created_at": "2014-11-28T13:25:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17410#issuecomment-242905",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>Wonderful ;-) Thanks.

Vincent



---

archive/issue_events_050141.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-29T01:06:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17410",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17410#event-50141"
}
```



---

archive/issue_comments_242906.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-11-29T01:06:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17410#issuecomment-242906",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
