# Issue 17368: Make pip a standard package

archive/issues_017131.json:
```json
{
    "body": "Though this package is less than 1 year old, there seems to be a large consensus about this, see the following thread:\n\nhttps://groups.google.com/forum/#!msg/sage-devel/e48IruDu7Kg/bKf_RL4SNk8J\nhttp://thread.gmane.org/gmane.comp.mathematics.sage.devel/71580\n\n\nBranch/Commit: 7380e00fcfecfc5d563b82ba5383cdea9b8f8ba7\n\nReviewer: Andrey Novoseltsev, Jeroen Demeyer\n\nAuthor: Thierry Monteil\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17368\n\n",
    "closed_at": "2014-12-16T13:57:19Z",
    "created_at": "2014-11-19T14:43:02Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "Make pip a standard package",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17368",
    "user": "https://github.com/a-andre"
}
```
Though this package is less than 1 year old, there seems to be a large consensus about this, see the following thread:

https://groups.google.com/forum/#!msg/sage-devel/e48IruDu7Kg/bKf_RL4SNk8J
http://thread.gmane.org/gmane.comp.mathematics.sage.devel/71580


Branch/Commit: 7380e00fcfecfc5d563b82ba5383cdea9b8f8ba7

Reviewer: Andrey Novoseltsev, Jeroen Demeyer

Author: Thierry Monteil

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17368





---

archive/issue_comments_298813.json:
```json
{
    "body": "Changing branch from \"\" to \"u/tmonteil/make_pip_a_standard_package\"",
    "created_at": "2014-11-19T23:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298813",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing branch from "" to "u/tmonteil/make_pip_a_standard_package"



---

archive/issue_comments_298814.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[107e511](https://github.com/sagemath/sagetrac-mirror/commit/107e511f3857ccef93a01d2c22a6caa51b9ecf23)|`#17368 forgot to modify install script.`|",
    "created_at": "2014-11-22T14:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298814",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[107e511](https://github.com/sagemath/sagetrac-mirror/commit/107e511f3857ccef93a01d2c22a6caa51b9ecf23)|`#17368 forgot to modify install script.`|



---

archive/issue_comments_298815.json:
```json
{
    "body": "Changing commit from \"\" to \"107e511f3857ccef93a01d2c22a6caa51b9ecf23\"",
    "created_at": "2014-11-22T14:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298815",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "107e511f3857ccef93a01d2c22a6caa51b9ecf23"



---

archive/issue_comments_298816.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n+Though this package is less than 1 year old, there seems to be a large consensus about this, see the following thread:\n \n+https://groups.google.com/forum/#!msg/sage-devel/e48IruDu7Kg/bKf_RL4SNk8J\n+http://osdir.com/ml/sage-devel/2014-04/msg00394.html\n+\n``````\n",
    "created_at": "2014-11-22T14:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298816",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
+Though this package is less than 1 year old, there seems to be a large consensus about this, see the following thread:
 
+https://groups.google.com/forum/#!msg/sage-devel/e48IruDu7Kg/bKf_RL4SNk8J
+http://osdir.com/ml/sage-devel/2014-04/msg00394.html
+
``````




---

archive/issue_comments_298817.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-11-22T14:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298817",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_298818.json:
```json
{
    "body": "Changing author from \"\" to \"Thierry Monteil\"",
    "created_at": "2014-11-22T14:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298818",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing author from "" to "Thierry Monteil"



---

archive/issue_comments_298819.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[013e2e2](https://github.com/sagemath/sagetrac-mirror/commit/013e2e27978d4b48dd38ee3a00825f385286b0ba)|`#17368 remove a test related to pip being optional.`|",
    "created_at": "2014-11-22T14:32:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298819",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[013e2e2](https://github.com/sagemath/sagetrac-mirror/commit/013e2e27978d4b48dd38ee3a00825f385286b0ba)|`#17368 remove a test related to pip being optional.`|



---

archive/issue_comments_298820.json:
```json
{
    "body": "Changing commit from \"107e511f3857ccef93a01d2c22a6caa51b9ecf23\" to \"013e2e27978d4b48dd38ee3a00825f385286b0ba\"",
    "created_at": "2014-11-22T14:32:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298820",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "107e511f3857ccef93a01d2c22a6caa51b9ecf23" to "013e2e27978d4b48dd38ee3a00825f385286b0ba"



---

archive/issue_comments_298821.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-12-01T23:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298821",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_298822.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Andrey Novoseltsev\"",
    "created_at": "2014-12-01T23:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298822",
    "user": "https://github.com/novoselt"
}
```

Changing reviewer from "" to "Andrey Novoseltsev"



---

archive/issue_comments_298823.json:
```json
{
    "body": "<a id='comment:6'></a>\n\n```\npip-1.5.6\n====================================================\nSetting up build directory for pip-1.5.6\nFinished set up\n****************************************************\nHost system:\nLinux tamiyo 3.7.10-gentoo #4 SMP PREEMPT Thu Oct 31 21:23:56 CET 2013 x86_64 Intel(R) Core(TM) i7-2640M CPU @ 2.80GHz GenuineIntel GNU/Linux\n****************************************************\nC compiler: gcc\nC compiler version:\nUsing built-in specs.\nCOLLECT_GCC=/usr/x86_64-pc-linux-gnu/gcc-bin/4.6.4/gcc\nCOLLECT_LTO_WRAPPER=/usr/libexec/gcc/x86_64-pc-linux-gnu/4.6.4/lto-wrapper\nTarget: x86_64-pc-linux-gnu\nConfigured with: /var/tmp/portage/sys-devel/gcc-4.6.4/work/gcc-4.6.4/configure --host=x86_64-pc-linux-gnu --build=x86_64-pc-linux-gnu --prefix=/usr --bindir=/usr/x86_64-pc-linux-gnu/gcc-bin/4.6.4 --includedir=/usr/lib/gcc/x86_64-pc-linux-gnu/4.6.4/include --datadir=/usr/share/gcc-data/x86_64-pc-linux-gnu/4.6.4 --mandir=/usr/share/gcc-data/x86_64-pc-linux-gnu/4.6.4/man --infodir=/usr/share/gcc-data/x86_64-pc-linux-gnu/4.6.4/info --with-gxx-include-dir=/usr/lib/gcc/x86_64-pc-linux-gnu/4.6.4/include/g++-v4 --with-python-dir=/share/gcc-data/x86_64-pc-linux-gnu/4.6.4/python --enable-languages=c,c++,fortran --enable-obsolete --enable-secureplt --disable-werror --with-system-zlib --enable-nls --without-included-gettext --enable-checking=release --with-bugurl=https://bugs.gentoo.org/ --with-pkgversion='Gentoo 4.6.4 p1.2, pie-0.5.2' --enable-libstdcxx-time --enable-shared --enable-threads=posix --enable-__cxa_atexit --enable-clocale=gnu --enable-multilib --disable-altivec --disable-fixed-point --enable-targets=all --disable-libgcj --enable-libgomp --disable-libmudflap --disable-libssp --enable-lto --without-cloog --without-ppl\nThread model: posix\ngcc version 4.6.4 (Gentoo 4.6.4 p1.2, pie-0.5.2) \n****************************************************\nTraceback (most recent call last):\n  File \"setup.py\", line 6, in <module>\n    from setuptools import setup, find_packages\nImportError: No module named setuptools\n```",
    "created_at": "2014-12-02T09:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298823",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>

```
pip-1.5.6
====================================================
Setting up build directory for pip-1.5.6
Finished set up
****************************************************
Host system:
Linux tamiyo 3.7.10-gentoo #4 SMP PREEMPT Thu Oct 31 21:23:56 CET 2013 x86_64 Intel(R) Core(TM) i7-2640M CPU @ 2.80GHz GenuineIntel GNU/Linux
****************************************************
C compiler: gcc
C compiler version:
Using built-in specs.
COLLECT_GCC=/usr/x86_64-pc-linux-gnu/gcc-bin/4.6.4/gcc
COLLECT_LTO_WRAPPER=/usr/libexec/gcc/x86_64-pc-linux-gnu/4.6.4/lto-wrapper
Target: x86_64-pc-linux-gnu
Configured with: /var/tmp/portage/sys-devel/gcc-4.6.4/work/gcc-4.6.4/configure --host=x86_64-pc-linux-gnu --build=x86_64-pc-linux-gnu --prefix=/usr --bindir=/usr/x86_64-pc-linux-gnu/gcc-bin/4.6.4 --includedir=/usr/lib/gcc/x86_64-pc-linux-gnu/4.6.4/include --datadir=/usr/share/gcc-data/x86_64-pc-linux-gnu/4.6.4 --mandir=/usr/share/gcc-data/x86_64-pc-linux-gnu/4.6.4/man --infodir=/usr/share/gcc-data/x86_64-pc-linux-gnu/4.6.4/info --with-gxx-include-dir=/usr/lib/gcc/x86_64-pc-linux-gnu/4.6.4/include/g++-v4 --with-python-dir=/share/gcc-data/x86_64-pc-linux-gnu/4.6.4/python --enable-languages=c,c++,fortran --enable-obsolete --enable-secureplt --disable-werror --with-system-zlib --enable-nls --without-included-gettext --enable-checking=release --with-bugurl=https://bugs.gentoo.org/ --with-pkgversion='Gentoo 4.6.4 p1.2, pie-0.5.2' --enable-libstdcxx-time --enable-shared --enable-threads=posix --enable-__cxa_atexit --enable-clocale=gnu --enable-multilib --disable-altivec --disable-fixed-point --enable-targets=all --disable-libgcj --enable-libgomp --disable-libmudflap --disable-libssp --enable-lto --without-cloog --without-ppl
Thread model: posix
gcc version 4.6.4 (Gentoo 4.6.4 p1.2, pie-0.5.2) 
****************************************************
Traceback (most recent call last):
  File "setup.py", line 6, in <module>
    from setuptools import setup, find_packages
ImportError: No module named setuptools
```



---

archive/issue_comments_298824.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-12-02T09:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298824",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_298825.json:
```json
{
    "body": "<a id='comment:7'></a>\nNote that for pip to work, python must be built with OpenSSL support. Otherwise one gets\n\n```\nImportError: cannot import name HTTPSHandler\n```\nSo if we make pip a standard package, we would have to make OpenSSL a requirement for sage again (and/or use the openssl package for sage)",
    "created_at": "2014-12-03T09:05:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298825",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:7'></a>
Note that for pip to work, python must be built with OpenSSL support. Otherwise one gets

```
ImportError: cannot import name HTTPSHandler
```
So if we make pip a standard package, we would have to make OpenSSL a requirement for sage again (and/or use the openssl package for sage)



---

archive/issue_comments_298826.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [jdemeyer](#comment%3A6):\n> pip-1.5.6\n> [...]\n> ImportError: No module named setuptools\n\n\nThanks for noticing, it worked for me and `setuptools` was not indicated as a dependency in `SPKG.txt`. I will fix this soon (but i am working on another branch from another version right now).",
    "created_at": "2014-12-03T09:10:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298826",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:8'></a>
Replying to [jdemeyer](#comment%3A6):
> pip-1.5.6
> [...]
> ImportError: No module named setuptools


Thanks for noticing, it worked for me and `setuptools` was not indicated as a dependency in `SPKG.txt`. I will fix this soon (but i am working on another branch from another version right now).



---

archive/issue_comments_298827.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [nbruin](#comment%3A7):\n> Note that for pip to work, python must be built with OpenSSL support. Otherwise one gets\n> \n> ```\n> ImportError: cannot import name HTTPSHandler\n> ```\n> So if we make pip a standard package, we would have to make OpenSSL a requirement for sage again (and/or use the openssl package for sage)\n\n\nThis is a more serious issue, since IIRC, `openssl` can not be a standard package because of licensing stuff (which i do not understand well). Do you know if `HTTPSHandler` works with other SSL implementations (e.g. gnuTLS) ?",
    "created_at": "2014-12-03T09:15:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298827",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:9'></a>
Replying to [nbruin](#comment%3A7):
> Note that for pip to work, python must be built with OpenSSL support. Otherwise one gets
> 
> ```
> ImportError: cannot import name HTTPSHandler
> ```
> So if we make pip a standard package, we would have to make OpenSSL a requirement for sage again (and/or use the openssl package for sage)


This is a more serious issue, since IIRC, `openssl` can not be a standard package because of licensing stuff (which i do not understand well). Do you know if `HTTPSHandler` works with other SSL implementations (e.g. gnuTLS) ?



---

archive/issue_comments_298828.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [tmonteil](#comment%3A9):\n> This is a more serious issue, since IIRC, `openssl` can not be a standard package because of licensing stuff (which i do not understand well). Do you know if `HTTPSHandler` works with other SSL implementations (e.g. gnuTLS) ?\n\n\nIt depends on whether python's standard \"Lib/ssl.py\" module can be made to work with another implementation. As far as I can tell, `Modules/_ssl.c` is the real implementation underneath and that file looks like it's wired into `openssl` (it imports its headers unconditionally without alternatives listed). There may exist drop-in replacements? It's the kind of module you do not want to take any chances with because of security.\n\nSolution I see:\n- pip is not *essential* for basic sage functionality, so while it's standard, its functioning can be conditional on recommended dependencies (rather than making them hard dependencies).\n- these dependencies can be met by a system-wide openssl install or by `sage -i openssl; make`\n\nThe big problem would probably be how we ship binaries, where \"remaking\" isn't an option. Can we just build WITH system openssl support and not include the shared library? Hopefully that would only lead to a fail at `import ssl`.",
    "created_at": "2014-12-03T16:34:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298828",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:10'></a>
Replying to [tmonteil](#comment%3A9):
> This is a more serious issue, since IIRC, `openssl` can not be a standard package because of licensing stuff (which i do not understand well). Do you know if `HTTPSHandler` works with other SSL implementations (e.g. gnuTLS) ?


It depends on whether python's standard "Lib/ssl.py" module can be made to work with another implementation. As far as I can tell, `Modules/_ssl.c` is the real implementation underneath and that file looks like it's wired into `openssl` (it imports its headers unconditionally without alternatives listed). There may exist drop-in replacements? It's the kind of module you do not want to take any chances with because of security.

Solution I see:
- pip is not *essential* for basic sage functionality, so while it's standard, its functioning can be conditional on recommended dependencies (rather than making them hard dependencies).
- these dependencies can be met by a system-wide openssl install or by `sage -i openssl; make`

The big problem would probably be how we ship binaries, where "remaking" isn't an option. Can we just build WITH system openssl support and not include the shared library? Hopefully that would only lead to a fail at `import ssl`.



---

archive/issue_comments_298829.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[bf37567](https://github.com/sagemath/sagetrac-mirror/commit/bf375679641dcd174babbc95f883551f3349b627)|`#17368 : add setuptools as a dependency.`|\n|[7380e00](https://github.com/sagemath/sagetrac-mirror/commit/7380e00fcfecfc5d563b82ba5383cdea9b8f8ba7)|`#17368 add pip to COPYING.txt`|",
    "created_at": "2014-12-08T13:11:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298829",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[bf37567](https://github.com/sagemath/sagetrac-mirror/commit/bf375679641dcd174babbc95f883551f3349b627)|`#17368 : add setuptools as a dependency.`|
|[7380e00](https://github.com/sagemath/sagetrac-mirror/commit/7380e00fcfecfc5d563b82ba5383cdea9b8f8ba7)|`#17368 add pip to COPYING.txt`|



---

archive/issue_comments_298830.json:
```json
{
    "body": "Changing commit from \"013e2e27978d4b48dd38ee3a00825f385286b0ba\" to \"7380e00fcfecfc5d563b82ba5383cdea9b8f8ba7\"",
    "created_at": "2014-12-08T13:11:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298830",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "013e2e27978d4b48dd38ee3a00825f385286b0ba" to "7380e00fcfecfc5d563b82ba5383cdea9b8f8ba7"



---

archive/issue_comments_298831.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n Though this package is less than 1 year old, there seems to be a large consensus about this, see the following thread:\n \n https://groups.google.com/forum/#!msg/sage-devel/e48IruDu7Kg/bKf_RL4SNk8J\n-http://osdir.com/ml/sage-devel/2014-04/msg00394.html\n+http://thread.gmane.org/gmane.comp.mathematics.sage.devel/71580\n \n``````\n",
    "created_at": "2014-12-09T17:36:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298831",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 Though this package is less than 1 year old, there seems to be a large consensus about this, see the following thread:
 
 https://groups.google.com/forum/#!msg/sage-devel/e48IruDu7Kg/bKf_RL4SNk8J
-http://osdir.com/ml/sage-devel/2014-04/msg00394.html
+http://thread.gmane.org/gmane.comp.mathematics.sage.devel/71580
 
``````




---

archive/issue_comments_298832.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [nbruin](#comment%3A10):\n> The big problem would probably be how we ship binaries, where \"remaking\" isn't an option. Can we just build WITH system openssl support and not include the shared library? Hopefully that would only lead to a fail at `import ssl`.\n\n\nIf i understand correctly, official Sage binaries are built with the system's libssl-dev, so there should not be a problem for those (the user only have to install the libssl package from her distro to have it working).\n\nIt seems also that a similar dependency problem happens for ipython notebook:\nhttps://groups.google.com/forum/#!topic/sage-release/1teX_pCj8w0\nhttp://article.gmane.org/gmane.comp.mathematics.sage.release/2310",
    "created_at": "2014-12-09T17:36:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298832",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:12'></a>
Replying to [nbruin](#comment%3A10):
> The big problem would probably be how we ship binaries, where "remaking" isn't an option. Can we just build WITH system openssl support and not include the shared library? Hopefully that would only lead to a fail at `import ssl`.


If i understand correctly, official Sage binaries are built with the system's libssl-dev, so there should not be a problem for those (the user only have to install the libssl package from her distro to have it working).

It seems also that a similar dependency problem happens for ipython notebook:
https://groups.google.com/forum/#!topic/sage-release/1teX_pCj8w0
http://article.gmane.org/gmane.comp.mathematics.sage.release/2310



---

archive/issue_comments_298833.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-12-09T17:36:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298833",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_298834.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [nbruin](#comment%3A10):\n>  - pip is not *essential* for basic sage functionality, so while it's standard, its functioning can be conditional on recommended dependencies (rather than making them hard dependencies).\n \nThis is true for the moment, but we have to ensure that this remains true, that we never use `pip` to install a standard package.",
    "created_at": "2014-12-09T18:02:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298834",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
Replying to [nbruin](#comment%3A10):
>  - pip is not *essential* for basic sage functionality, so while it's standard, its functioning can be conditional on recommended dependencies (rather than making them hard dependencies).
 
This is true for the moment, but we have to ensure that this remains true, that we never use `pip` to install a standard package.



---

archive/issue_comments_298835.json:
```json
{
    "body": "<a id='comment:14'></a>\nBut part of the argument for having pip as standard is precisely to use it to install some of the packages, isn't it? Maybe openssl has to be made into a standard dependency. Both sagenb and ipython notebooks have issues without it already.",
    "created_at": "2014-12-11T21:57:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298835",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:14'></a>
But part of the argument for having pip as standard is precisely to use it to install some of the packages, isn't it? Maybe openssl has to be made into a standard dependency. Both sagenb and ipython notebooks have issues without it already.



---

archive/issue_comments_298836.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [novoselt](#comment%3A14):\n> But part of the argument for having pip as standard is precisely to use it to install some of the packages, isn't it?\n\n\nI'm not so sure it is. I certainly don't think it's desirable that building sage from a pre-downloaded tarball would need internet access to download further components. For one thing it would make it possible to get \"failure to build sage due to inavailability of www.pypi.org\", (or whatever error would result in if that were to happen).",
    "created_at": "2014-12-12T01:39:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298836",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:15'></a>
Replying to [novoselt](#comment%3A14):
> But part of the argument for having pip as standard is precisely to use it to install some of the packages, isn't it?


I'm not so sure it is. I certainly don't think it's desirable that building sage from a pre-downloaded tarball would need internet access to download further components. For one thing it would make it possible to get "failure to build sage due to inavailability of www.pypi.org", (or whatever error would result in if that were to happen).



---

archive/issue_comments_298837.json:
```json
{
    "body": "<a id='comment:16'></a>\nIt has functionality to install pre-downloaded packages. Perhaps there will be no need for security library for this use.",
    "created_at": "2014-12-12T01:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298837",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:16'></a>
It has functionality to install pre-downloaded packages. Perhaps there will be no need for security library for this use.



---

archive/issue_comments_298838.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [novoselt](#comment%3A16):\n> It has functionality to install pre-downloaded packages.\n\nOn the other hand, for pre-downloaded Python packages, usually a simple `python setup.py install` works, so there is no real gain from using `pip`. For standard packages, we already have a build system which works.\n\nI thought the main motivation for `pip` was to be able to easily install *optional* packages.",
    "created_at": "2014-12-12T09:48:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298838",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
Replying to [novoselt](#comment%3A16):
> It has functionality to install pre-downloaded packages.

On the other hand, for pre-downloaded Python packages, usually a simple `python setup.py install` works, so there is no real gain from using `pip`. For standard packages, we already have a build system which works.

I thought the main motivation for `pip` was to be able to easily install *optional* packages.



---

archive/issue_comments_298839.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [tmonteil](#comment%3A12):\n> If i understand correctly, official Sage binaries are built with the system's libssl-dev, so there should not be a problem for those (the user only have to install the libssl package from her distro to have it working).\n\n\nYet it is surprisingly easy to miss that dependency. My system (fedora) ended up having a system python where openssl works, but sage-python builds without its support. I would not have minded if the build would have warned me at the start that openssl support isn't present and/or offered to download the openssl.spkg.",
    "created_at": "2014-12-12T11:27:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298839",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:18'></a>
Replying to [tmonteil](#comment%3A12):
> If i understand correctly, official Sage binaries are built with the system's libssl-dev, so there should not be a problem for those (the user only have to install the libssl package from her distro to have it working).


Yet it is surprisingly easy to miss that dependency. My system (fedora) ended up having a system python where openssl works, but sage-python builds without its support. I would not have minded if the build would have warned me at the start that openssl support isn't present and/or offered to download the openssl.spkg.



---

archive/issue_comments_298840.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [nbruin](#comment%3A18):\n> I would not have minded if the build would have warned me at the start that openssl support isn't present and/or offered to download the openssl.spkg.\n\nI would mind since I don't care about OpenSSL.\n\nAnyway, back to the ticket: I'm testing the build now and if that works, it can be set back to positive_review.",
    "created_at": "2014-12-13T08:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298840",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
Replying to [nbruin](#comment%3A18):
> I would not have minded if the build would have warned me at the start that openssl support isn't present and/or offered to download the openssl.spkg.

I would mind since I don't care about OpenSSL.

Anyway, back to the ticket: I'm testing the build now and if that works, it can be set back to positive_review.



---

archive/issue_comments_298841.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-12-13T08:12:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298841",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_298842.json:
```json
{
    "body": "Changing reviewer from \"Andrey Novoseltsev\" to \"Andrey Novoseltsev, Jeroen Demeyer\"",
    "created_at": "2014-12-13T08:12:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298842",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "Andrey Novoseltsev" to "Andrey Novoseltsev, Jeroen Demeyer"



---

archive/issue_comments_298843.json:
```json
{
    "body": "Changing branch from \"u/tmonteil/make_pip_a_standard_package\" to \"7380e00fcfecfc5d563b82ba5383cdea9b8f8ba7\"",
    "created_at": "2014-12-16T13:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298843",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/tmonteil/make_pip_a_standard_package" to "7380e00fcfecfc5d563b82ba5383cdea9b8f8ba7"



---

archive/issue_events_056951.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-12-16T13:57:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17368#event-56951"
}
```



---

archive/issue_comments_298844.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-12-16T13:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17368#issuecomment-298844",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
