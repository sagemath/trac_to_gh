# Issue 17170: Sagenb graphics displayhook

archive/issues_016933.json:
```json
{
    "body": "The displayhook does not do the right thing in the sagenb notebook.\n\n**Branch:** [76b191a978a580a2d78e2b4c1fa55854e7261319](https://github.com/sagemath/sagetrac-mirror/commit/76b191a978a580a2d78e2b4c1fa55854e7261319)\n\n**Reviewer:** Karl-Dieter Crisman, Punarbasu Purkayastha\n\n**Author:** Volker Braun\n\nIssue created by migration from https://trac.sagemath.org/ticket/17170\n\n",
    "closed_at": "2014-10-29T10:39:31Z",
    "created_at": "2014-10-17T18:37:23Z",
    "labels": [
        "component: graphics",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "title": "Sagenb graphics displayhook",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/17170",
    "user": "https://github.com/vbraun"
}
```
The displayhook does not do the right thing in the sagenb notebook.

**Branch:** [76b191a978a580a2d78e2b4c1fa55854e7261319](https://github.com/sagemath/sagetrac-mirror/commit/76b191a978a580a2d78e2b4c1fa55854e7261319)

**Reviewer:** Karl-Dieter Crisman, Punarbasu Purkayastha

**Author:** Volker Braun

Issue created by migration from https://trac.sagemath.org/ticket/17170





---

archive/issue_events_154082.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-10-17T19:37:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "label": "blocker",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17170#event-154082"
}
```



---

archive/issue_comments_230383.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis breaks all sagenb graphics done without `show(...)`, so blocker.",
    "created_at": "2014-10-17T19:37:31Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230383",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'></a>
This breaks all sagenb graphics done without `show(...)`, so blocker.



---

archive/issue_comments_230384.json:
```json
{
    "body": "**Branch:** [u/vbraun/sagenb_graphics_displayhook](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sagenb_graphics_displayhook)",
    "created_at": "2014-10-17T23:12:40Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230384",
    "user": "https://github.com/vbraun"
}
```

**Branch:** [u/vbraun/sagenb_graphics_displayhook](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sagenb_graphics_displayhook)



---

archive/issue_events_154083.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-17T23:13:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17170#event-154083"
}
```



---

archive/issue_comments_230385.json:
```json
{
    "body": "**Author:** Volker Braun",
    "created_at": "2014-10-17T23:13:00Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230385",
    "user": "https://github.com/vbraun"
}
```

**Author:** Volker Braun



---

archive/issue_comments_230386.json:
```json
{
    "body": "<a id='comment:3'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76b191a978a580a2d78e2b4c1fa55854e7261319\">76b191a</a></td><td><code>Fix SageNB graphics</code></td></tr></table>\n",
    "created_at": "2014-10-17T23:13:00Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230386",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76b191a978a580a2d78e2b4c1fa55854e7261319">76b191a</a></td><td><code>Fix SageNB graphics</code></td></tr></table>




---

archive/issue_comments_230387.json:
```json
{
    "body": "**Commit:** [76b191a978a580a2d78e2b4c1fa55854e7261319](https://github.com/sagemath/sagetrac-mirror/commit/76b191a978a580a2d78e2b4c1fa55854e7261319)",
    "created_at": "2014-10-17T23:13:00Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230387",
    "user": "https://github.com/vbraun"
}
```

**Commit:** [76b191a978a580a2d78e2b4c1fa55854e7261319](https://github.com/sagemath/sagetrac-mirror/commit/76b191a978a580a2d78e2b4c1fa55854e7261319)



---

archive/issue_comments_230388.json:
```json
{
    "body": "<a id='comment:4'></a>\nSeems to work properly in command line and for 2d in the notebook.  It'll be a moment before I can try with 3d (at least jmol, didn't think about tachyon) with the union of this and the new jmol, though the \"static\" image turned up okay, so I guess this works that way too.\n\nDoesn't\n\n```\nif isinstance(obj, SageObject) and hasattr(obj, '_graphics_'):\n```\ncover both 2d and 3d graphics?  \n\nAlso, you probably should do at least a minimal doctest for `sagenb_embedding` and `save_as`.\n\nFinally, what with all the changes to display stuff I think that it would be well worth asking for a little extra testing of any rc for this series *visually*.",
    "created_at": "2014-10-20T14:03:26Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230388",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>
Seems to work properly in command line and for 2d in the notebook.  It'll be a moment before I can try with 3d (at least jmol, didn't think about tachyon) with the union of this and the new jmol, though the "static" image turned up okay, so I guess this works that way too.

Doesn't

```
if isinstance(obj, SageObject) and hasattr(obj, '_graphics_'):
```
cover both 2d and 3d graphics?  

Also, you probably should do at least a minimal doctest for `sagenb_embedding` and `save_as`.

Finally, what with all the changes to display stuff I think that it would be well worth asking for a little extra testing of any rc for this series *visually*.



---

archive/issue_comments_230389.json:
```json
{
    "body": "<a id='comment:5'></a>\nAlso, you should probably have someone test on Linux and definitely have someone test who hasn't been messing around with different sagenb branches and possibly got something mixed up because of that :)",
    "created_at": "2014-10-20T14:41:51Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230389",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>
Also, you should probably have someone test on Linux and definitely have someone test who hasn't been messing around with different sagenb branches and possibly got something mixed up because of that :)



---

archive/issue_comments_230390.json:
```json
{
    "body": "<a id='comment:6'></a>\nHmm, I have a question here.  Probably due to the change in the way 3d is handled?\n* If you make a standard 2d plot like `plot(1-x,(x,0,1))`, evaluate, and then go back to *that same cell* and change it to something else like `plot(1-x^2,(x,0,1))`, the graphic changes.  But:\n* Try doing a Jsmol, and then try changing *that* notebook cell and re-evaluating.  If you don't have the \"Load 3D Live\" checkbox clicked, you'll think you changed it - but you didn't!  As soon as you make it live, it's the exact same one as before.  If you have the live checkbox clicked (this refers to #16004, for those who come new to this) then this is quite obvious.\n\nIf it helps, the filenames are definitely changing:\n\n```\n$ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82\nsage0-size500-155928955.jmol.zip\tsage0-size500.jmol\n$ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82\nsage0-size500-938371752.jmol.zip\tsage0-size500.jmol\n$ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82\nsage0-size500-522166844.jmol.zip\tsage0-size500.jmol\n$ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82\nsage0-size500-996347389.jmol.zip\tsage0-size500.jmol\n```\nbut I suspect that something is *not* being overwritten somewhere.",
    "created_at": "2014-10-20T19:32:41Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230390",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>
Hmm, I have a question here.  Probably due to the change in the way 3d is handled?
* If you make a standard 2d plot like `plot(1-x,(x,0,1))`, evaluate, and then go back to *that same cell* and change it to something else like `plot(1-x^2,(x,0,1))`, the graphic changes.  But:
* Try doing a Jsmol, and then try changing *that* notebook cell and re-evaluating.  If you don't have the "Load 3D Live" checkbox clicked, you'll think you changed it - but you didn't!  As soon as you make it live, it's the exact same one as before.  If you have the live checkbox clicked (this refers to #16004, for those who come new to this) then this is quite obvious.

If it helps, the filenames are definitely changing:

```
$ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82
sage0-size500-155928955.jmol.zip	sage0-size500.jmol
$ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82
sage0-size500-938371752.jmol.zip	sage0-size500.jmol
$ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82
sage0-size500-522166844.jmol.zip	sage0-size500.jmol
$ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82
sage0-size500-996347389.jmol.zip	sage0-size500.jmol
```
but I suspect that something is *not* being overwritten somewhere.



---

archive/issue_comments_230391.json:
```json
{
    "body": "<a id='comment:7'></a>\n> Hmm, I have a question here.  Probably due to the change in the way 3d is handled?\n\nOkay, I can confirm this problem is unrelated to this change.",
    "created_at": "2014-10-20T20:00:01Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230391",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'></a>
> Hmm, I have a question here.  Probably due to the change in the way 3d is handled?

Okay, I can confirm this problem is unrelated to this change.



---

archive/issue_comments_230392.json:
```json
{
    "body": "<a id='comment:8'></a>\nThis is very odd.  My test of Jmol/JSmol does not reproduce the problem you report. I am using the latest from #17020 and #16004.  Something must be out of wack.",
    "created_at": "2014-10-20T20:03:04Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230392",
    "user": "https://github.com/gutow"
}
```

<a id='comment:8'></a>
This is very odd.  My test of Jmol/JSmol does not reproduce the problem you report. I am using the latest from #17020 and #16004.  Something must be out of wack.



---

archive/issue_comments_230393.json:
```json
{
    "body": "<a id='comment:9'></a>\n>>>Hmm, I have a question here. Probably due to the change in the way 3d is handled?\n\n>> Okay, I can confirm this problem is unrelated to this change.\n> This is very odd.  My test of Jmol/JSmol does not reproduce the problem you report. I am using the latest from #17020 and #16004.  Something must be out of wack.\n\nIs it using this ticket, I assume?  If you're not using the latest development Sage + this ticket, and you are NOT experiencing this problem, then maybe this ticket is the problem after all, though I thought I had ruled it out.",
    "created_at": "2014-10-20T20:36:18Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230393",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:9'></a>
>>>Hmm, I have a question here. Probably due to the change in the way 3d is handled?

>> Okay, I can confirm this problem is unrelated to this change.
> This is very odd.  My test of Jmol/JSmol does not reproduce the problem you report. I am using the latest from #17020 and #16004.  Something must be out of wack.

Is it using this ticket, I assume?  If you're not using the latest development Sage + this ticket, and you are NOT experiencing this problem, then maybe this ticket is the problem after all, though I thought I had ruled it out.



---

archive/issue_comments_230394.json:
```json
{
    "body": "<a id='comment:10'></a>\nI have a feeling that this patch has exposed a latent caching issue (see [this comment](https://github.com/sagemath/sage/issues/16004#comment:118)) in the way the notebook handles the script that actually launches the jmol.  I believe I have two different fixes at that ticket ([here](https://github.com/sagemath/sage/issues/16004#comment:125) and [comment:126:ticket16004 here]), so I think we can go ahead and have people review this - especially it would be helpful for people who have NOT been involved with the jsmol transition to just confirm that this doesn't cause caching problems for 3d plots in the current Sage.\n\nNeeds work for the doctesting.",
    "created_at": "2014-10-21T16:49:54Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230394",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>
I have a feeling that this patch has exposed a latent caching issue (see [this comment](https://github.com/sagemath/sage/issues/16004#comment:118)) in the way the notebook handles the script that actually launches the jmol.  I believe I have two different fixes at that ticket ([here](https://github.com/sagemath/sage/issues/16004#comment:125) and [comment:126:ticket16004 here]), so I think we can go ahead and have people review this - especially it would be helpful for people who have NOT been involved with the jsmol transition to just confirm that this doesn't cause caching problems for 3d plots in the current Sage.

Needs work for the doctesting.



---

archive/issue_comments_230395.json:
```json
{
    "body": "**Reviewer:** Karl-Dieter Crisman",
    "created_at": "2014-10-21T16:49:54Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230395",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Karl-Dieter Crisman



---

archive/issue_events_154084.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-10-21T16:49:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17170#event-154084"
}
```



---

archive/issue_events_154085.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-10-21T16:49:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17170#event-154085"
}
```



---

archive/issue_comments_230396.json:
```json
{
    "body": "<a id='comment:11'></a>\nI'm not going to add doctests to `graphics_file.py`, that needs to be rewritten in a future ticket anyways.",
    "created_at": "2014-10-22T16:23:55Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230396",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
I'm not going to add doctests to `graphics_file.py`, that needs to be rewritten in a future ticket anyways.



---

archive/issue_events_154086.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-22T16:23:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17170#event-154086"
}
```



---

archive/issue_events_154087.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-22T16:23:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17170#event-154087"
}
```



---

archive/issue_comments_230397.json:
```json
{
    "body": "<a id='comment:12'></a>\nUmm... but the big unbreakable rule?  I could apply that argument to LOTS of files that need to be rewritten!",
    "created_at": "2014-10-22T16:31:19Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230397",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>
Umm... but the big unbreakable rule?  I could apply that argument to LOTS of files that need to be rewritten!



---

archive/issue_comments_230398.json:
```json
{
    "body": "<a id='comment:13'></a>\nSee #16996",
    "created_at": "2014-10-22T17:20:45Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230398",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'></a>
See #16996



---

archive/issue_comments_230399.json:
```json
{
    "body": "<a id='comment:14'></a>\n> See #16996\n\nDo you mean [this comment](https://github.com/sagemath/sage/issues/16996#comment:49)?    But note that said ticket hasn't even been opened (see [here](https://github.com/sagemath/sage/issues/16996#comment:51)).",
    "created_at": "2014-10-22T17:29:10Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230399",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'></a>
> See #16996

Do you mean [this comment](https://github.com/sagemath/sage/issues/16996#comment:49)?    But note that said ticket hasn't even been opened (see [here](https://github.com/sagemath/sage/issues/16996#comment:51)).



---

archive/issue_comments_230400.json:
```json
{
    "body": "<a id='comment:15'></a>\nFeel free to open a ticket...",
    "created_at": "2014-10-24T10:28:03Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230400",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'></a>
Feel free to open a ticket...



---

archive/issue_events_154088.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-10-27T22:54:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17170#event-154088"
}
```



---

archive/issue_events_154089.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-10-27T22:54:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17170#event-154089"
}
```



---

archive/issue_comments_230401.json:
```json
{
    "body": "<a id='comment:16'></a>\nPasses all doctests and plots work again. Why is this not positive review?",
    "created_at": "2014-10-27T22:54:08Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230401",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:16'></a>
Passes all doctests and plots work again. Why is this not positive review?



---

archive/issue_comments_230402.json:
```json
{
    "body": "**Changing reviewer** from \"Karl-Dieter Crisman\" to \"Karl-Dieter Crisman, Punarbasu Purkayastha\".",
    "created_at": "2014-10-28T00:21:32Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230402",
    "user": "https://github.com/kcrisman"
}
```

**Changing reviewer** from "Karl-Dieter Crisman" to "Karl-Dieter Crisman, Punarbasu Purkayastha".



---

archive/issue_comments_230403.json:
```json
{
    "body": "<a id='comment:17'></a>\n> Passes all doctests and plots work again. Why is this not positive review?\n\nBecause we needed a reviewer, and I didn't have time to actually read the code in detail in this area I am less familiar with.  But several others have tested it as well.",
    "created_at": "2014-10-28T00:21:32Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230403",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:17'></a>
> Passes all doctests and plots work again. Why is this not positive review?

Because we needed a reviewer, and I didn't have time to actually read the code in detail in this area I am less familiar with.  But several others have tested it as well.



---

archive/issue_comments_230404.json:
```json
{
    "body": "**Changing branch** from \"[u/vbraun/sagenb_graphics_displayhook](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sagenb_graphics_displayhook)\" to \"[76b191a978a580a2d78e2b4c1fa55854e7261319](https://github.com/sagemath/sagetrac-mirror/commit/76b191a978a580a2d78e2b4c1fa55854e7261319)\".",
    "created_at": "2014-10-29T10:39:31Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230404",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/vbraun/sagenb_graphics_displayhook](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sagenb_graphics_displayhook)" to "[76b191a978a580a2d78e2b4c1fa55854e7261319](https://github.com/sagemath/sagetrac-mirror/commit/76b191a978a580a2d78e2b4c1fa55854e7261319)".



---

archive/issue_events_154090.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-29T10:39:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17170#event-154090"
}
```



---

archive/issue_events_154091.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5c934c4fc8c61f5a4bc5c89cf5885f5a394e2aaa",
    "created_at": "2014-10-29T10:39:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17170#event-154091"
}
```



---

archive/issue_comments_230405.json:
```json
{
    "body": "<a id='comment:19'></a>\nDo we need the\n\n```\nif sage.doctest.DOCTEST_MODE:\n    return\n```\nlines in `sagenb_embedding`? I'm removing them in #16640 and it doesn't seem to break anything.",
    "created_at": "2014-10-31T18:08:32Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230405",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
Do we need the

```
if sage.doctest.DOCTEST_MODE:
    return
```
lines in `sagenb_embedding`? I'm removing them in #16640 and it doesn't seem to break anything.



---

archive/issue_comments_230406.json:
```json
{
    "body": "**Changing commit** from \"[76b191a978a580a2d78e2b4c1fa55854e7261319](https://github.com/sagemath/sagetrac-mirror/commit/76b191a978a580a2d78e2b4c1fa55854e7261319)\" to \"\".",
    "created_at": "2014-10-31T18:08:32Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230406",
    "user": "https://github.com/jdemeyer"
}
```

**Changing commit** from "[76b191a978a580a2d78e2b4c1fa55854e7261319](https://github.com/sagemath/sagetrac-mirror/commit/76b191a978a580a2d78e2b4c1fa55854e7261319)" to "".



---

archive/issue_comments_230407.json:
```json
{
    "body": "<a id='comment:20'></a>\nProbably not needed.",
    "created_at": "2014-10-31T18:27:12Z",
    "issue": "https://github.com/sagemath/sage/issues/17170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17170#issuecomment-230407",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'></a>
Probably not needed.
