# Issue 17433: projective point equality fails for quotient base rings

archive/issues_017196.json:
```json
{
    "body": "Since the coordinates of the points are lifted, the current equality check fails to detect equality over quotient rings. The comparisons need to be done in the base ring.\n\n```\nP.<x,y>=ProjectiveSpace(Zmod(10),1)\np1=P(1/3,1)\np2=P.point([1,3],False)\np1==p2\n```\n\nAssignee: @bhutz\n\nReviewer: Joao Alberto de Faria\n\nAuthor: Ben Hutz\n\nBranch: 660e6247fa4aaa927b302fb191dd3ed71df05b32\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17433\n\n",
    "closed_at": "2015-01-02T15:46:17Z",
    "created_at": "2014-12-02T21:16:14Z",
    "labels": [
        "component: algebraic geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "projective point equality fails for quotient base rings",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17433",
    "user": "https://github.com/bhutz"
}
```
Since the coordinates of the points are lifted, the current equality check fails to detect equality over quotient rings. The comparisons need to be done in the base ring.

```
P.<x,y>=ProjectiveSpace(Zmod(10),1)
p1=P(1/3,1)
p2=P.point([1,3],False)
p1==p2
```

Assignee: @bhutz

Reviewer: Joao Alberto de Faria

Author: Ben Hutz

Branch: 660e6247fa4aaa927b302fb191dd3ed71df05b32

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17433





---

archive/issue_comments_228284.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-08T16:07:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228284",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228285.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-08T16:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228285",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228286.json:
```json
{
    "body": "<a id='comment:4'></a>The fix has the coordinate of the points in the base ring. This was true for fields but not for rings (the coordinates of quotient rings were lifted). Now it is consistent and this fixes the equality comparison as well.",
    "created_at": "2014-12-08T16:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228286",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:4'></a>The fix has the coordinate of the points in the base ring. This was true for fields but not for rings (the coordinates of quotient rings were lifted). Now it is consistent and this fixes the equality comparison as well.



---

archive/issue_comments_228287.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-12-08T16:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228287",
    "user": "https://github.com/bhutz"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_228288.json:
```json
{
    "body": "<a id='comment:5'></a>Looked over the code, everything ran clean on my end",
    "created_at": "2014-12-12T16:03:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228288",
    "user": "https://trac.sagemath.org/admin/accounts/users/jdefaria"
}
```

<a id='comment:5'></a>Looked over the code, everything ran clean on my end



---

archive/issue_comments_228289.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-12-12T16:03:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228289",
    "user": "https://trac.sagemath.org/admin/accounts/users/jdefaria"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_228290.json:
```json
{
    "body": "<a id='comment:6'></a>Author/reviewer name missing",
    "created_at": "2014-12-15T23:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228290",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>Author/reviewer name missing



---

archive/issue_comments_228291.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-12-15T23:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228291",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_228292.json:
```json
{
    "body": "<a id='comment:7'></a>**Ping** Plus a rebase is needed.",
    "created_at": "2014-12-21T01:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228292",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>**Ping** Plus a rebase is needed.



---

archive/issue_comments_228293.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-21T17:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228293",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228294.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-12-21T19:52:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228294",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_228295.json:
```json
{
    "body": "<a id='comment:10'></a>I thought I did a bad job on the merge since it still wasn't merging with the master. So I backed up one commit and redid the merge. I did resolve what I thought was the conflict in projective_point.py both times...",
    "created_at": "2014-12-21T19:55:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228295",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:10'></a>I thought I did a bad job on the merge since it still wasn't merging with the master. So I backed up one commit and redid the merge. I did resolve what I thought was the conflict in projective_point.py both times...



---

archive/issue_comments_228296.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-12-21T21:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228296",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_228297.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-12-21T21:05:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228297",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_228298.json:
```json
{
    "body": "<a id='comment:12'></a>ok. I think I finally have the merge working. I had to split it slightly into two commits.",
    "created_at": "2014-12-21T21:05:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228298",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:12'></a>ok. I think I finally have the merge working. I had to split it slightly into two commits.



---

archive/issue_comments_228299.json:
```json
{
    "body": "<a id='comment:13'></a>No merge problems (sometimes trac can be fickle). Also I allowed myself to do some trivial whitespace changes.\n\n---\nNew commits:",
    "created_at": "2014-12-21T23:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228299",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>No merge problems (sometimes trac can be fickle). Also I allowed myself to do some trivial whitespace changes.

---
New commits:



---

archive/issue_comments_228300.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-12-21T23:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228300",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_228301.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-01-02T15:46:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17433#issuecomment-228301",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_050170.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-02T15:46:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17433",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17433#event-50170"
}
```
