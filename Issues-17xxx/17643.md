# Issue 17643: Update scipy to 0.16.1

archive/issues_017406.json:
```json
{
    "assignees": [],
    "body": "Upgrade to scipy 0.16.1 this is intended to be done at the same time as numpy 1.10.1 and matplotlib 1.5.0 as noted in the ticket dependencies.\n\n[http://www.lmona.de/files/sage/scipy-0.16.1.tar.gz](http://www.lmona.de/files/sage/scipy-0.16.1.tar.gz)\n\n\nComponent: **packages: standard**\n\nAuthor: **Fran\u00e7ois Bissey**\n\nBranch/Commit: **[`cc6accc`](https://github.com/sagemath/sagetrac-mirror/commit/cc6accce6a2b0622296f6c2c9f3f21395dfcc046)**\n\nReviewer: **Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17643_\n\n",
    "closed_at": "2015-11-24T13:01:14Z",
    "created_at": "2015-01-16T10:28:42Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update scipy to 0.16.1",
    "type": "issue",
    "updated_at": "2015-11-24T13:01:14Z",
    "url": "https://github.com/sagemath/sage/issues/17643",
    "user": "https://github.com/jpflori"
}
```
Upgrade to scipy 0.16.1 this is intended to be done at the same time as numpy 1.10.1 and matplotlib 1.5.0 as noted in the ticket dependencies.

[http://www.lmona.de/files/sage/scipy-0.16.1.tar.gz](http://www.lmona.de/files/sage/scipy-0.16.1.tar.gz)


Component: **packages: standard**

Author: **François Bissey**

Branch/Commit: **[`cc6accc`](https://github.com/sagemath/sagetrac-mirror/commit/cc6accce6a2b0622296f6c2c9f3f21395dfcc046)**

Reviewer: **Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/17643_





---

archive/issue_events_249082.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2015-01-16T10:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249082"
}
```



---

archive/issue_events_249083.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2015-01-16T10:28:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249083"
}
```



---

archive/issue_events_249084.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2015-01-16T10:28:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249084"
}
```



---

archive/issue_events_249085.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2015-01-16T10:28:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249085"
}
```



---

archive/issue_comments_237807.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nDidn't know it was out. Not in the Gentoo tree yet so I have no idea so far.",
    "created_at": "2015-01-16T11:12:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237807",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:1" align="right">comment:1</div>

Didn't know it was out. Not in the Gentoo tree yet so I have no idea so far.



---

archive/issue_comments_237808.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nscipy 0.16.0 is out, one doctest broken:\n\n```\nsage -t --long usr/share/doc/sage/en/faq/faq-usage.rst\nRunning doctests with ID 2015-08-05-11-07-08-20037f0b.\nUsing --optional=optional,sage\nDoctesting 1 file.\nsage -t --long --warn-long 64.8 usr/share/doc/sage/en/faq/faq-usage.rst\n**********************************************************************\nFile \"usr/share/doc/sage/en/faq/faq-usage.rst\", line 351, in faq-usage\nFailed example:\n    stats.ttest_ind(list([1,2,3,4,5]),list([2,3,4,5,.6]))\nExpected:\n    (array(0.07675295564533369), 0.94070490247380478)\nGot:\n    Ttest_indResult(statistic=array(0.07675295564533369), pvalue=0.94070490247380478)\n**********************************************************************\n1 item had failures:\n   1 of  36 in faq-usage\n    [24 tests, 1 failure, 0.68 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 64.8 usr/share/doc/sage/en/faq/faq-usage.rst  # 1 doctest failed\n----------------------------------------------------------------------\n```\nthis is on top of 6.9.beta0.",
    "created_at": "2015-08-05T01:22:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237808",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:2" align="right">comment:2</div>

scipy 0.16.0 is out, one doctest broken:

```
sage -t --long usr/share/doc/sage/en/faq/faq-usage.rst
Running doctests with ID 2015-08-05-11-07-08-20037f0b.
Using --optional=optional,sage
Doctesting 1 file.
sage -t --long --warn-long 64.8 usr/share/doc/sage/en/faq/faq-usage.rst
**********************************************************************
File "usr/share/doc/sage/en/faq/faq-usage.rst", line 351, in faq-usage
Failed example:
    stats.ttest_ind(list([1,2,3,4,5]),list([2,3,4,5,.6]))
Expected:
    (array(0.07675295564533369), 0.94070490247380478)
Got:
    Ttest_indResult(statistic=array(0.07675295564533369), pvalue=0.94070490247380478)
**********************************************************************
1 item had failures:
   1 of  36 in faq-usage
    [24 tests, 1 failure, 0.68 s]
----------------------------------------------------------------------
sage -t --long --warn-long 64.8 usr/share/doc/sage/en/faq/faq-usage.rst  # 1 doctest failed
----------------------------------------------------------------------
```
this is on top of 6.9.beta0.



---

archive/issue_events_249086.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-11-08T21:55:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249086"
}
```



---

archive/issue_events_249087.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-11-08T21:55:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249087"
}
```



---

archive/issue_comments_237809.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-http://sourceforge.net/projects/scipy/files/scipy/0.15.0/scipy-0.15.0.tar.gz/download\n+http://sourceforge.net/projects/scipy/files/scipy/0.16.1/scipy-0.16.1.tar.gz/download\n``````\n",
    "created_at": "2015-11-08T21:55:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237809",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-http://sourceforge.net/projects/scipy/files/scipy/0.15.0/scipy-0.15.0.tar.gz/download
+http://sourceforge.net/projects/scipy/files/scipy/0.16.1/scipy-0.16.1.tar.gz/download
``````




---

archive/issue_events_249088.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-11-08T21:55:51Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "title_is": "Update scipy to 0.16.1",
    "title_was": "Update scipy to 0.15",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249088"
}
```



---

archive/issue_comments_237810.json:
```json
{
    "body": "Branch: **[u/fbissey/scipy_0.16.1](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/scipy_0.16.1)**",
    "created_at": "2015-11-08T23:17:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237810",
    "user": "https://github.com/kiwifb"
}
```

Branch: **[u/fbissey/scipy_0.16.1](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/scipy_0.16.1)**



---

archive/issue_comments_237811.json:
```json
{
    "body": "Commit: **[`f3ff139`](https://github.com/sagemath/sagetrac-mirror/commit/f3ff13922552d775a054cec05af925351370de44)**",
    "created_at": "2015-11-08T23:17:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237811",
    "user": "https://github.com/kiwifb"
}
```

Commit: **[`f3ff139`](https://github.com/sagemath/sagetrac-mirror/commit/f3ff13922552d775a054cec05af925351370de44)**



---

archive/issue_comments_237812.json:
```json
{
    "body": "Author: **Fran\u00e7ois Bissey**",
    "created_at": "2015-11-08T23:17:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237812",
    "user": "https://github.com/kiwifb"
}
```

Author: **François Bissey**



---

archive/issue_comments_237813.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05c84c141df61f5a6b257a03d836a3e888bd2605\"><code>05c84c1</code></a></td><td><code>upgrade to numpy 1.10.1, updating the package including a few cherrypicked patch from master</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de8f740bc2ed3ace26d8997b121bf39037ee7e62\"><code>de8f740</code></a></td><td><code>Merge branch 'develop' into numpy-1.10</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ebdf8996a28c1452d9ec546948bebcd46e2be457\"><code>ebdf899</code></a></td><td><code>Fix to get rid of the problem with result_type. Pending upstream approval or suggestion of an alternative.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d12591fa90dc88929a27bf684b0e41c564f785c3\"><code>d12591f</code></a></td><td><code>Upgarde matplotlib to 1.5.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3ff13922552d775a054cec05af925351370de44\"><code>f3ff139</code></a></td><td><code>Fix the doctest warning by adding it to the expected out. I am expecting the warning to originate from matplotlib and to be</code></td></tr></table>\n",
    "created_at": "2015-11-08T23:17:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237813",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05c84c141df61f5a6b257a03d836a3e888bd2605"><code>05c84c1</code></a></td><td><code>upgrade to numpy 1.10.1, updating the package including a few cherrypicked patch from master</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de8f740bc2ed3ace26d8997b121bf39037ee7e62"><code>de8f740</code></a></td><td><code>Merge branch 'develop' into numpy-1.10</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ebdf8996a28c1452d9ec546948bebcd46e2be457"><code>ebdf899</code></a></td><td><code>Fix to get rid of the problem with result_type. Pending upstream approval or suggestion of an alternative.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d12591fa90dc88929a27bf684b0e41c564f785c3"><code>d12591f</code></a></td><td><code>Upgarde matplotlib to 1.5.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3ff13922552d775a054cec05af925351370de44"><code>f3ff139</code></a></td><td><code>Fix the doctest warning by adding it to the expected out. I am expecting the warning to originate from matplotlib and to be</code></td></tr></table>




---

archive/issue_comments_237814.json:
```json
{
    "body": "Dependencies: **#17642 #19556**",
    "created_at": "2015-11-08T23:18:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237814",
    "user": "https://github.com/kiwifb"
}
```

Dependencies: **#17642 #19556**



---

archive/issue_comments_237815.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n-http://sourceforge.net/projects/scipy/files/scipy/0.16.1/scipy-0.16.1.tar.gz/download\n+Upgrade to scipy 0.16.1 this is intended to be done at the same time as numpy 1.10.1 and matplotlib 1.5.0 as noted in the ticket dependencies.\n+\n+[http://www.lmona.de/files/sage/scipy-0.16.1.tar.gz](http://www.lmona.de/files/sage/scipy-0.16.1.tar.gz)\n+\n``````\n",
    "created_at": "2015-11-09T00:32:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237815",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
-http://sourceforge.net/projects/scipy/files/scipy/0.16.1/scipy-0.16.1.tar.gz/download
+Upgrade to scipy 0.16.1 this is intended to be done at the same time as numpy 1.10.1 and matplotlib 1.5.0 as noted in the ticket dependencies.
+
+[http://www.lmona.de/files/sage/scipy-0.16.1.tar.gz](http://www.lmona.de/files/sage/scipy-0.16.1.tar.gz)
+
``````




---

archive/issue_comments_237816.json:
```json
{
    "body": "Changed commit from **[`f3ff139`](https://github.com/sagemath/sagetrac-mirror/commit/f3ff13922552d775a054cec05af925351370de44)** to **[`31669f2`](https://github.com/sagemath/sagetrac-mirror/commit/31669f2db8ae1ae6484fb5654ab049caa418a15b)**",
    "created_at": "2015-11-09T00:59:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237816",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f3ff139`](https://github.com/sagemath/sagetrac-mirror/commit/f3ff13922552d775a054cec05af925351370de44)** to **[`31669f2`](https://github.com/sagemath/sagetrac-mirror/commit/31669f2db8ae1ae6484fb5654ab049caa418a15b)**



---

archive/issue_comments_237817.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31669f2db8ae1ae6484fb5654ab049caa418a15b\"><code>31669f2</code></a></td><td><code>Correct further warnings</code></td></tr></table>\n",
    "created_at": "2015-11-09T00:59:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237817",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31669f2db8ae1ae6484fb5654ab049caa418a15b"><code>31669f2</code></a></td><td><code>Correct further warnings</code></td></tr></table>




---

archive/issue_comments_237818.json:
```json
{
    "body": "Changed commit from **[`31669f2`](https://github.com/sagemath/sagetrac-mirror/commit/31669f2db8ae1ae6484fb5654ab049caa418a15b)** to **[`b21be98`](https://github.com/sagemath/sagetrac-mirror/commit/b21be98e75eb044998b061e5f8da47ddf6a810a3)**",
    "created_at": "2015-11-09T01:55:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237818",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`31669f2`](https://github.com/sagemath/sagetrac-mirror/commit/31669f2db8ae1ae6484fb5654ab049caa418a15b)** to **[`b21be98`](https://github.com/sagemath/sagetrac-mirror/commit/b21be98e75eb044998b061e5f8da47ddf6a810a3)**



---

archive/issue_comments_237819.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b21be98e75eb044998b061e5f8da47ddf6a810a3\"><code>b21be98</code></a></td><td><code>Removing line numbers from doctest</code></td></tr></table>\n",
    "created_at": "2015-11-09T01:55:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237819",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b21be98e75eb044998b061e5f8da47ddf6a810a3"><code>b21be98</code></a></td><td><code>Removing line numbers from doctest</code></td></tr></table>




---

archive/issue_comments_237820.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nNew branch compatible with the new push at #19556 coming soon.",
    "created_at": "2015-11-10T11:57:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237820",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:9" align="right">comment:9</div>

New branch compatible with the new push at #19556 coming soon.



---

archive/issue_comments_237821.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7177516cc66f8f7d45d07fca792ea1b7f192437d\"><code>7177516</code></a></td><td><code>Upgrade matplotlib to 1.5.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ce23d0b4e38511902bbb663d8d6cf936ed08040\"><code>7ce23d0</code></a></td><td><code>Fix deprecation warnings in doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7ac0a7e81a194dbc1e026bc6dba0046fbe5b23e\"><code>c7ac0a7</code></a></td><td><code>Updated numpy patch according to feedback from upstream</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52a45f40f7ba9869373039ceb891ce21ab6ad747\"><code>52a45f4</code></a></td><td><code>Merge branch 'numpy-1.10' into mpl-1.5.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a733692a9282719747cf4d3f8c5f8cec885420f9\"><code>a733692</code></a></td><td><code>remove test for a limitation that doesn't exist anymore.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d59bad6f1aec57f7d0f4cb7b057a990d8ce3dcf\"><code>6d59bad</code></a></td><td><code>Upgrade to scipy 0.16.1 and fix affected doctest</code></td></tr></table>\n",
    "created_at": "2015-11-10T22:33:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237821",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:10"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7177516cc66f8f7d45d07fca792ea1b7f192437d"><code>7177516</code></a></td><td><code>Upgrade matplotlib to 1.5.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ce23d0b4e38511902bbb663d8d6cf936ed08040"><code>7ce23d0</code></a></td><td><code>Fix deprecation warnings in doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7ac0a7e81a194dbc1e026bc6dba0046fbe5b23e"><code>c7ac0a7</code></a></td><td><code>Updated numpy patch according to feedback from upstream</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52a45f40f7ba9869373039ceb891ce21ab6ad747"><code>52a45f4</code></a></td><td><code>Merge branch 'numpy-1.10' into mpl-1.5.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a733692a9282719747cf4d3f8c5f8cec885420f9"><code>a733692</code></a></td><td><code>remove test for a limitation that doesn't exist anymore.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d59bad6f1aec57f7d0f4cb7b057a990d8ce3dcf"><code>6d59bad</code></a></td><td><code>Upgrade to scipy 0.16.1 and fix affected doctest</code></td></tr></table>




---

archive/issue_comments_237822.json:
```json
{
    "body": "Changed commit from **[`b21be98`](https://github.com/sagemath/sagetrac-mirror/commit/b21be98e75eb044998b061e5f8da47ddf6a810a3)** to **[`6d59bad`](https://github.com/sagemath/sagetrac-mirror/commit/6d59bad6f1aec57f7d0f4cb7b057a990d8ce3dcf)**",
    "created_at": "2015-11-10T22:33:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237822",
    "user": "https://github.com/kiwifb"
}
```

Changed commit from **[`b21be98`](https://github.com/sagemath/sagetrac-mirror/commit/b21be98e75eb044998b061e5f8da47ddf6a810a3)** to **[`6d59bad`](https://github.com/sagemath/sagetrac-mirror/commit/6d59bad6f1aec57f7d0f4cb7b057a990d8ce3dcf)**



---

archive/issue_comments_237823.json:
```json
{
    "body": "Changed branch from **[u/fbissey/scipy_0.16.1](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/scipy_0.16.1)** to **[u/fbissey/scipy-0.16.1](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/scipy-0.16.1)**",
    "created_at": "2015-11-10T22:33:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237823",
    "user": "https://github.com/kiwifb"
}
```

Changed branch from **[u/fbissey/scipy_0.16.1](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/scipy_0.16.1)** to **[u/fbissey/scipy-0.16.1](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/scipy-0.16.1)**



---

archive/issue_events_249089.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-11-11T00:21:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249089"
}
```



---

archive/issue_comments_237824.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nJust a confirmation that with the three tickets applied all tests pass (debian 64bits).\n\nCould you replace\n\n```\nif np.array_equal(vert1, tpath.vertices) and np.array_equal(code1, tpath.codes):\n     return True\nelse:\n     return False\n```\nwith\n\n```\nreturn np.array_equal(vert1, tpath.vertices) and np.array_equal(code1, tpath.codes)\n```\nOr there is a reason to let it as you did?",
    "created_at": "2015-11-13T13:29:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237824",
    "user": "https://github.com/videlec"
}
```

<div id="comment:12" align="right">comment:12</div>

Just a confirmation that with the three tickets applied all tests pass (debian 64bits).

Could you replace

```
if np.array_equal(vert1, tpath.vertices) and np.array_equal(code1, tpath.codes):
     return True
else:
     return False
```
with

```
return np.array_equal(vert1, tpath.vertices) and np.array_equal(code1, tpath.codes)
```
Or there is a reason to let it as you did?



---

archive/issue_comments_237825.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nNo reason I didn't do that. I was so focused in finding a replacement for that particular line (it took some effort for me) that I didn't realise the code could be streamlined. \nI will make the change your suggest in a few hours. Would you otherwise be happy to review positively the tickets?",
    "created_at": "2015-11-13T19:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237825",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:13" align="right">comment:13</div>

No reason I didn't do that. I was so focused in finding a replacement for that particular line (it took some effort for me) that I didn't realise the code could be streamlined. 
I will make the change your suggest in a few hours. Would you otherwise be happy to review positively the tickets?



---

archive/issue_comments_237826.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04997f676565a3f9154540135f48e36e22e57337\"><code>04997f6</code></a></td><td><code>Simplify flow in arrow.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b383de997ace1bc57564e4297c82b4b0a85a040\"><code>8b383de</code></a></td><td><code>Merge branch 'mpl-1.5.0' into scipy0.16.1</code></td></tr></table>\n",
    "created_at": "2015-11-14T07:48:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237826",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04997f676565a3f9154540135f48e36e22e57337"><code>04997f6</code></a></td><td><code>Simplify flow in arrow.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b383de997ace1bc57564e4297c82b4b0a85a040"><code>8b383de</code></a></td><td><code>Merge branch 'mpl-1.5.0' into scipy0.16.1</code></td></tr></table>




---

archive/issue_comments_237827.json:
```json
{
    "body": "Changed commit from **[`6d59bad`](https://github.com/sagemath/sagetrac-mirror/commit/6d59bad6f1aec57f7d0f4cb7b057a990d8ce3dcf)** to **[`8b383de`](https://github.com/sagemath/sagetrac-mirror/commit/8b383de997ace1bc57564e4297c82b4b0a85a040)**",
    "created_at": "2015-11-14T07:48:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237827",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6d59bad`](https://github.com/sagemath/sagetrac-mirror/commit/6d59bad6f1aec57f7d0f4cb7b057a990d8ce3dcf)** to **[`8b383de`](https://github.com/sagemath/sagetrac-mirror/commit/8b383de997ace1bc57564e4297c82b4b0a85a040)**



---

archive/issue_comments_237828.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@kiwifb](#comment%3A13):\n\n> I will make the change your suggest in a few hours. Would you otherwise be happy to review positively the tickets?\n\nAll done.",
    "created_at": "2015-11-14T07:50:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237828",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@kiwifb](#comment%3A13):

> I will make the change your suggest in a few hours. Would you otherwise be happy to review positively the tickets?

All done.



---

archive/issue_events_249090.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-22T21:08:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249090"
}
```



---

archive/issue_events_249091.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-22T21:08:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249091"
}
```



---

archive/issue_comments_237829.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2015-11-22T21:08:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237829",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_events_249092.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-23T06:32:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249092"
}
```



---

archive/issue_events_249093.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-23T06:32:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249093"
}
```



---

archive/issue_comments_237830.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nFails on arm\n\n```\ngfortran: error: unrecognized command line option '-msse2'\nerror: Command \"gfortran -Wall -g -ffixed-form -fno-second-underscore -fPIC -O2 -march=x86-64 -DMS_WIN64 -mtune=generic -msse2 -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -c -c scipy/fftpack/src/dfftpack/dfftf1.f -o build/temp.linux-armv7l-2.7/scipy/fftpack/src/dfftpack/dfftf1.o\" failed with exit status 1\n```\nhttp://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20%28Ubuntu%2012.10%29%20incremental/builds/327/steps/compile/logs/scipy",
    "created_at": "2015-11-23T06:32:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237830",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:17" align="right">comment:17</div>

Fails on arm

```
gfortran: error: unrecognized command line option '-msse2'
error: Command "gfortran -Wall -g -ffixed-form -fno-second-underscore -fPIC -O2 -march=x86-64 -DMS_WIN64 -mtune=generic -msse2 -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -c -c scipy/fftpack/src/dfftpack/dfftf1.f -o build/temp.linux-armv7l-2.7/scipy/fftpack/src/dfftpack/dfftf1.o" failed with exit status 1
```
http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20%28Ubuntu%2012.10%29%20incremental/builds/327/steps/compile/logs/scipy



---

archive/issue_comments_237831.json:
```json
{
    "body": "Changed dependencies from **#17642 #19556** to **#19556**",
    "created_at": "2015-11-23T06:36:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237831",
    "user": "https://github.com/vbraun"
}
```

Changed dependencies from **#17642 #19556** to **#19556**



---

archive/issue_comments_237832.json:
```json
{
    "body": "Changed dependencies from **#19556** to none",
    "created_at": "2015-11-23T06:37:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237832",
    "user": "https://github.com/vbraun"
}
```

Changed dependencies from **#19556** to none



---

archive/issue_comments_237833.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nSerious fail from distutils\n\n```\ncustomize Gnu95FCompiler\ncustomize Gnu95FCompiler using build_clib\nbuilding 'dfftpack' library\ncompiling Fortran sources\nFortran f77 compiler: gfortran -Wall -g -ffixed-form -fno-second-underscore -fPIC -O2 -march=x86-64 -DMS_WIN64 -mtune=generic -msse2\nFortran f90 compiler: gfortran -Wall -g -fno-second-underscore -fPIC -O2 -march=x86-64 -DMS_WIN64 -mtune=generic -msse2\nFortran fix compiler: gfortran -Wall -g -ffixed-form -fno-second-underscore -Wall -g -fno-second-underscore -fPIC -O2 -march=x86-64 -DMS_WIN64 -mtune=generic -msse2\n```\narm being mistaken for windows64?",
    "created_at": "2015-11-23T07:37:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237833",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:20" align="right">comment:20</div>

Serious fail from distutils

```
customize Gnu95FCompiler
customize Gnu95FCompiler using build_clib
building 'dfftpack' library
compiling Fortran sources
Fortran f77 compiler: gfortran -Wall -g -ffixed-form -fno-second-underscore -fPIC -O2 -march=x86-64 -DMS_WIN64 -mtune=generic -msse2
Fortran f90 compiler: gfortran -Wall -g -fno-second-underscore -fPIC -O2 -march=x86-64 -DMS_WIN64 -mtune=generic -msse2
Fortran fix compiler: gfortran -Wall -g -ffixed-form -fno-second-underscore -Wall -g -fno-second-underscore -fPIC -O2 -march=x86-64 -DMS_WIN64 -mtune=generic -msse2
```
arm being mistaken for windows64?



---

archive/issue_comments_237834.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nLooking around distros that provide `arm` support I am wondering how it was building on arm before. I think none of fedora, debian or gentoo have trouble with arm but they all pass `config_fc --noarch` to `setup.py` which was done at some point in sage but has been removed a while ago.\n\nI note from [https://pkgs.fedoraproject.org/cgit/numpy.git/tree/numpy.spec](https://pkgs.fedoraproject.org/cgit/numpy.git/tree/numpy.spec)\n\n```\n* Wed Oct 14 2015 Thomas Spura <tomspur@fedoraproject.org> - 1:1.10.1-3\n- Remove fortran flags or arm would build with -march=x86-64\n```\n\nI am guessing from this that the bug is recent but because everyone but `sage` passes `--noarch` it did go unnoticed in `scipy`. I'll add it and put this back to need_review.",
    "created_at": "2015-11-23T08:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237834",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:21" align="right">comment:21</div>

Looking around distros that provide `arm` support I am wondering how it was building on arm before. I think none of fedora, debian or gentoo have trouble with arm but they all pass `config_fc --noarch` to `setup.py` which was done at some point in sage but has been removed a while ago.

I note from [https://pkgs.fedoraproject.org/cgit/numpy.git/tree/numpy.spec](https://pkgs.fedoraproject.org/cgit/numpy.git/tree/numpy.spec)

```
* Wed Oct 14 2015 Thomas Spura <tomspur@fedoraproject.org> - 1:1.10.1-3
- Remove fortran flags or arm would build with -march=x86-64
```

I am guessing from this that the bug is recent but because everyone but `sage` passes `--noarch` it did go unnoticed in `scipy`. I'll add it and put this back to need_review.



---

archive/issue_comments_237835.json:
```json
{
    "body": "Changed commit from **[`8b383de`](https://github.com/sagemath/sagetrac-mirror/commit/8b383de997ace1bc57564e4297c82b4b0a85a040)** to **[`d40c0e9`](https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0)**",
    "created_at": "2015-11-23T09:03:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237835",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8b383de`](https://github.com/sagemath/sagetrac-mirror/commit/8b383de997ace1bc57564e4297c82b4b0a85a040)** to **[`d40c0e9`](https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0)**



---

archive/issue_comments_237836.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0\"><code>d40c0e9</code></a></td><td><code>Adding \"config_fc --noarch\" to setup.py call so we don't get miscompilation on ARM.</code></td></tr></table>\n",
    "created_at": "2015-11-23T09:03:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237836",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0"><code>d40c0e9</code></a></td><td><code>Adding "config_fc --noarch" to setup.py call so we don't get miscompilation on ARM.</code></td></tr></table>




---

archive/issue_events_249094.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-11-23T09:05:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249094"
}
```



---

archive/issue_events_249095.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-11-23T09:05:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249095"
}
```



---

archive/issue_comments_237837.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nCan you report it somewhere upstream?",
    "created_at": "2015-11-23T09:20:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237837",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

Can you report it somewhere upstream?



---

archive/issue_events_249096.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-23T09:20:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249096"
}
```



---

archive/issue_events_249097.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-23T09:20:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249097"
}
```



---

archive/issue_comments_237838.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI'll look into it. I am guessing it is technically a bug in `numpy`'s distutils rather than `scipy` but I have no idea how to fix it or how it happens.",
    "created_at": "2015-11-23T09:25:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237838",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:25" align="right">comment:25</div>

I'll look into it. I am guessing it is technically a bug in `numpy`'s distutils rather than `scipy` but I have no idea how to fix it or how it happens.



---

archive/issue_comments_237839.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nIt looks like someone already acted in upstream `numpy`, I guess an option is to try to backport the commit in the `numpy` we ship.\n[https://github.com/numpy/numpy/commit/a08437e12d6b6796f4b0beda49bce9adc37db63d](https://github.com/numpy/numpy/commit/a08437e12d6b6796f4b0beda49bce9adc37db63d)",
    "created_at": "2015-11-23T09:32:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237839",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:26" align="right">comment:26</div>

It looks like someone already acted in upstream `numpy`, I guess an option is to try to backport the commit in the `numpy` we ship.
[https://github.com/numpy/numpy/commit/a08437e12d6b6796f4b0beda49bce9adc37db63d](https://github.com/numpy/numpy/commit/a08437e12d6b6796f4b0beda49bce9adc37db63d)



---

archive/issue_comments_237840.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI think I might have removed the `no_arch` stuff when I began to clean up the spkg mess.\nBackporting the fix looks a good idea for a further ticket.\nOr we just wait for a numpy version bump.",
    "created_at": "2015-11-23T09:47:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237840",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:27" align="right">comment:27</div>

I think I might have removed the `no_arch` stuff when I began to clean up the spkg mess.
Backporting the fix looks a good idea for a further ticket.
Or we just wait for a numpy version bump.



---

archive/issue_comments_237841.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@jpflori](#comment%3A27):\n> Backporting the fix looks a good idea for a further ticket.\n> Or we just wait for a numpy version bump.\n\nThe danger with those two scenario is that the removal will be forgotten. However considering that everyone else has it with some variations (Gentoo has `noopt` and fedora has `fcompiler=gunf95` [or something]) I guess it doesn't hurt to keep it.",
    "created_at": "2015-11-23T09:55:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237841",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@jpflori](#comment%3A27):
> Backporting the fix looks a good idea for a further ticket.
> Or we just wait for a numpy version bump.

The danger with those two scenario is that the removal will be forgotten. However considering that everyone else has it with some variations (Gentoo has `noopt` and fedora has `fcompiler=gunf95` [or something]) I guess it doesn't hurt to keep it.



---

archive/issue_comments_237842.json:
```json
{
    "body": "Changed branch from **[u/fbissey/scipy-0.16.1](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/scipy-0.16.1)** to **[`d40c0e9`](https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0)**",
    "created_at": "2015-11-23T18:08:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237842",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/fbissey/scipy-0.16.1](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/scipy-0.16.1)** to **[`d40c0e9`](https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0)**



---

archive/issue_events_249098.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-23T18:08:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249098"
}
```



---

archive/issue_events_249099.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-23T18:08:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249099"
}
```



---

archive/issue_comments_237843.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI must say I spent a bit of my night worrying that it was the wrong fix. Good that it really works.",
    "created_at": "2015-11-23T20:14:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237843",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:30" align="right">comment:30</div>

I must say I spent a bit of my night worrying that it was the wrong fix. Good that it really works.



---

archive/issue_comments_237844.json:
```json
{
    "body": "Changed commit from **[`d40c0e9`](https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0)** to none",
    "created_at": "2015-11-23T20:14:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237844",
    "user": "https://github.com/kiwifb"
}
```

Changed commit from **[`d40c0e9`](https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0)** to none



---

archive/issue_events_249100.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-23T21:46:38Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249100"
}
```



---

archive/issue_comments_237845.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nArgh still doesn't work... http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20%28Ubuntu%2012.10%29%20incremental/builds/330/steps/compile/logs/scipy\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ebdf8996a28c1452d9ec546948bebcd46e2be457\"><code>ebdf899</code></a></td><td><code>Fix to get rid of the problem with result_type. Pending upstream approval or suggestion of an alternative.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7177516cc66f8f7d45d07fca792ea1b7f192437d\"><code>7177516</code></a></td><td><code>Upgrade matplotlib to 1.5.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ce23d0b4e38511902bbb663d8d6cf936ed08040\"><code>7ce23d0</code></a></td><td><code>Fix deprecation warnings in doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7ac0a7e81a194dbc1e026bc6dba0046fbe5b23e\"><code>c7ac0a7</code></a></td><td><code>Updated numpy patch according to feedback from upstream</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52a45f40f7ba9869373039ceb891ce21ab6ad747\"><code>52a45f4</code></a></td><td><code>Merge branch 'numpy-1.10' into mpl-1.5.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a733692a9282719747cf4d3f8c5f8cec885420f9\"><code>a733692</code></a></td><td><code>remove test for a limitation that doesn't exist anymore.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d59bad6f1aec57f7d0f4cb7b057a990d8ce3dcf\"><code>6d59bad</code></a></td><td><code>Upgrade to scipy 0.16.1 and fix affected doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04997f676565a3f9154540135f48e36e22e57337\"><code>04997f6</code></a></td><td><code>Simplify flow in arrow.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b383de997ace1bc57564e4297c82b4b0a85a040\"><code>8b383de</code></a></td><td><code>Merge branch 'mpl-1.5.0' into scipy0.16.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0\"><code>d40c0e9</code></a></td><td><code>Adding \"config_fc --noarch\" to setup.py call so we don't get miscompilation on ARM.</code></td></tr></table>\n",
    "created_at": "2015-11-23T21:46:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237845",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:31" align="right">comment:31</div>

Argh still doesn't work... http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20%28Ubuntu%2012.10%29%20incremental/builds/330/steps/compile/logs/scipy

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ebdf8996a28c1452d9ec546948bebcd46e2be457"><code>ebdf899</code></a></td><td><code>Fix to get rid of the problem with result_type. Pending upstream approval or suggestion of an alternative.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7177516cc66f8f7d45d07fca792ea1b7f192437d"><code>7177516</code></a></td><td><code>Upgrade matplotlib to 1.5.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ce23d0b4e38511902bbb663d8d6cf936ed08040"><code>7ce23d0</code></a></td><td><code>Fix deprecation warnings in doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7ac0a7e81a194dbc1e026bc6dba0046fbe5b23e"><code>c7ac0a7</code></a></td><td><code>Updated numpy patch according to feedback from upstream</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52a45f40f7ba9869373039ceb891ce21ab6ad747"><code>52a45f4</code></a></td><td><code>Merge branch 'numpy-1.10' into mpl-1.5.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a733692a9282719747cf4d3f8c5f8cec885420f9"><code>a733692</code></a></td><td><code>remove test for a limitation that doesn't exist anymore.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d59bad6f1aec57f7d0f4cb7b057a990d8ce3dcf"><code>6d59bad</code></a></td><td><code>Upgrade to scipy 0.16.1 and fix affected doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04997f676565a3f9154540135f48e36e22e57337"><code>04997f6</code></a></td><td><code>Simplify flow in arrow.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b383de997ace1bc57564e4297c82b4b0a85a040"><code>8b383de</code></a></td><td><code>Merge branch 'mpl-1.5.0' into scipy0.16.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0"><code>d40c0e9</code></a></td><td><code>Adding "config_fc --noarch" to setup.py call so we don't get miscompilation on ARM.</code></td></tr></table>




---

archive/issue_comments_237846.json:
```json
{
    "body": "Changed branch from **[`d40c0e9`](https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0)** to **[u/fbissey/scipy-0.16.1](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/scipy-0.16.1)**",
    "created_at": "2015-11-23T21:46:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237846",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[`d40c0e9`](https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0)** to **[u/fbissey/scipy-0.16.1](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/scipy-0.16.1)**



---

archive/issue_comments_237847.json:
```json
{
    "body": "Commit: **[`d40c0e9`](https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0)**",
    "created_at": "2015-11-23T21:46:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237847",
    "user": "https://github.com/vbraun"
}
```

Commit: **[`d40c0e9`](https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0)**



---

archive/issue_comments_237848.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nOK so I was right to worry it was the wrong fix. I'll remove the last commit on the scipy branch and add the upstream commit in `numpy`. I guess if I had gone for `noopt` instead of `noarch` it would have worked.",
    "created_at": "2015-11-23T21:49:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237848",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:32" align="right">comment:32</div>

OK so I was right to worry it was the wrong fix. I'll remove the last commit on the scipy branch and add the upstream commit in `numpy`. I guess if I had gone for `noopt` instead of `noarch` it would have worked.



---

archive/issue_comments_237849.json:
```json
{
    "body": "Changed commit from **[`d40c0e9`](https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0)** to **[`93a8c3d`](https://github.com/sagemath/sagetrac-mirror/commit/93a8c3d8da5af43e14d2cbb63b3df77da9aa0c06)**",
    "created_at": "2015-11-23T21:51:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237849",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d40c0e9`](https://github.com/sagemath/sagetrac-mirror/commit/d40c0e9a97ca9d2a0a05b7596ab84d368ea97bc0)** to **[`93a8c3d`](https://github.com/sagemath/sagetrac-mirror/commit/93a8c3d8da5af43e14d2cbb63b3df77da9aa0c06)**



---

archive/issue_comments_237850.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93a8c3d8da5af43e14d2cbb63b3df77da9aa0c06\"><code>93a8c3d</code></a></td><td><code>Revert \"Adding \"config_fc --noarch\" to setup.py call so we don't get miscompilation on ARM.\"</code></td></tr></table>\n",
    "created_at": "2015-11-23T21:51:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237850",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93a8c3d8da5af43e14d2cbb63b3df77da9aa0c06"><code>93a8c3d</code></a></td><td><code>Revert "Adding "config_fc --noarch" to setup.py call so we don't get miscompilation on ARM."</code></td></tr></table>




---

archive/issue_comments_237851.json:
```json
{
    "body": "Changed commit from **[`93a8c3d`](https://github.com/sagemath/sagetrac-mirror/commit/93a8c3d8da5af43e14d2cbb63b3df77da9aa0c06)** to **[`cc6accc`](https://github.com/sagemath/sagetrac-mirror/commit/cc6accce6a2b0622296f6c2c9f3f21395dfcc046)**",
    "created_at": "2015-11-23T22:03:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237851",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`93a8c3d`](https://github.com/sagemath/sagetrac-mirror/commit/93a8c3d8da5af43e14d2cbb63b3df77da9aa0c06)** to **[`cc6accc`](https://github.com/sagemath/sagetrac-mirror/commit/cc6accce6a2b0622296f6c2c9f3f21395dfcc046)**



---

archive/issue_comments_237852.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c6e94c90c5a92bbf7dd81fea22c60b120fafb85\"><code>9c6e94c</code></a></td><td><code>Add upstream patch to reverse inclusion of mingwin64 support. It cause ARM to be taken for win64!</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/414fccfbffcb484112e8354ece1dff4dc09bbeed\"><code>414fccf</code></a></td><td><code>Merge branch 'numpy-1.10' into mpl-1.5.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc6accce6a2b0622296f6c2c9f3f21395dfcc046\"><code>cc6accc</code></a></td><td><code>Merge branch 'mpl-1.5.0' into scipy0.16.1</code></td></tr></table>\n",
    "created_at": "2015-11-23T22:03:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237852",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c6e94c90c5a92bbf7dd81fea22c60b120fafb85"><code>9c6e94c</code></a></td><td><code>Add upstream patch to reverse inclusion of mingwin64 support. It cause ARM to be taken for win64!</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/414fccfbffcb484112e8354ece1dff4dc09bbeed"><code>414fccf</code></a></td><td><code>Merge branch 'numpy-1.10' into mpl-1.5.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc6accce6a2b0622296f6c2c9f3f21395dfcc046"><code>cc6accc</code></a></td><td><code>Merge branch 'mpl-1.5.0' into scipy0.16.1</code></td></tr></table>




---

archive/issue_events_249101.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-11-23T22:07:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249101"
}
```



---

archive/issue_comments_237853.json:
```json
{
    "body": "Changed branch from **[u/fbissey/scipy-0.16.1](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/scipy-0.16.1)** to **[`cc6accc`](https://github.com/sagemath/sagetrac-mirror/commit/cc6accce6a2b0622296f6c2c9f3f21395dfcc046)**",
    "created_at": "2015-11-24T13:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17643#issuecomment-237853",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/fbissey/scipy-0.16.1](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/scipy-0.16.1)** to **[`cc6accc`](https://github.com/sagemath/sagetrac-mirror/commit/cc6accce6a2b0622296f6c2c9f3f21395dfcc046)**



---

archive/issue_events_249102.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-24T13:01:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249102"
}
```



---

archive/issue_events_249103.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "aabd221487bdcdd1f765d4067e6d426720046d17",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-11-24T13:01:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17643",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17643#event-249103"
}
```
