# Issue 17927: Discarded arguments in IntegerVector

archive/issues_017690.json:
```json
{
    "body": "As reported in #17898, `IntegerVector` ignores some of its arguments\n\n```\nsage: list(IntegerVectors(4, length=3, min_part=1)) # a bug?\n[[4], [3, 1], [2, 2], [2, 1, 1], [1, 3], [1, 2, 1], [1, 1, 2], [1, 1, 1, 1]\n```\n\nThis branch makes it raise exceptions where it should\n\nNathann\n\nCC:  @jhpalmieri @jdemeyer @anneschilling @tscrim @videlec combinat @nthiery\n\nBranch/Commit: [4301c4cbdb48a00e9950292b7ce2e84a2b0388c0](https://github.com/sagemath/sagetrac-mirror/commit/4301c4cbdb48a00e9950292b7ce2e84a2b0388c0)\n\nReviewer: Nicolas M. Thi\u00e9ry\n\nAuthor: Nathann Cohen\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17927\n\n",
    "closed_at": "2015-04-19T16:45:00Z",
    "created_at": "2015-03-11T08:02:01Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Discarded arguments in IntegerVector",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17927",
    "user": "https://github.com/nathanncohen"
}
```
As reported in #17898, `IntegerVector` ignores some of its arguments

```
sage: list(IntegerVectors(4, length=3, min_part=1)) # a bug?
[[4], [3, 1], [2, 2], [2, 1, 1], [1, 3], [1, 2, 1], [1, 1, 2], [1, 1, 1, 1]
```

This branch makes it raise exceptions where it should

Nathann

CC:  @jhpalmieri @jdemeyer @anneschilling @tscrim @videlec combinat @nthiery

Branch/Commit: [4301c4cbdb48a00e9950292b7ce2e84a2b0388c0](https://github.com/sagemath/sagetrac-mirror/commit/4301c4cbdb48a00e9950292b7ce2e84a2b0388c0)

Reviewer: Nicolas M. Thi√©ry

Author: Nathann Cohen

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17927





---

archive/issue_comments_311838.json:
```json
{
    "body": "Changing commit from \"\" to \"7dcfefbc3dc8e20eabbe1d88bd9100b2873b0582\"",
    "created_at": "2015-03-11T09:37:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311838",
    "user": "https://github.com/nathanncohen"
}
```

Changing commit from "" to "7dcfefbc3dc8e20eabbe1d88bd9100b2873b0582"



---

archive/issue_comments_311839.json:
```json
{
    "body": "Changing branch from \"\" to \"public/17927\"",
    "created_at": "2015-03-11T09:37:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311839",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "public/17927"



---

archive/issue_comments_311840.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[7dcfefb](https://github.com/sagemath/sagetrac-mirror/commit/7dcfefbc3dc8e20eabbe1d88bd9100b2873b0582)|`trac #17927: Discarded arguments in IntegerVector`|",
    "created_at": "2015-03-11T09:37:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311840",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[7dcfefb](https://github.com/sagemath/sagetrac-mirror/commit/7dcfefbc3dc8e20eabbe1d88bd9100b2873b0582)|`trac #17927: Discarded arguments in IntegerVector`|



---

archive/issue_comments_311841.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-11T09:37:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311841",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_311842.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[f566dbf](https://github.com/sagemath/sagetrac-mirror/commit/f566dbf932955b91f1148d8ac2aca77e081a85c1)|`trac #17927: Discarded arguments in IntegerVector`|",
    "created_at": "2015-03-11T09:45:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311842",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[f566dbf](https://github.com/sagemath/sagetrac-mirror/commit/f566dbf932955b91f1148d8ac2aca77e081a85c1)|`trac #17927: Discarded arguments in IntegerVector`|



---

archive/issue_comments_311843.json:
```json
{
    "body": "Changing commit from \"7dcfefbc3dc8e20eabbe1d88bd9100b2873b0582\" to \"f566dbf932955b91f1148d8ac2aca77e081a85c1\"",
    "created_at": "2015-03-11T09:45:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311843",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7dcfefbc3dc8e20eabbe1d88bd9100b2873b0582" to "f566dbf932955b91f1148d8ac2aca77e081a85c1"



---

archive/issue_comments_311844.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[4b5ef53](https://github.com/sagemath/sagetrac-mirror/commit/4b5ef5365d54a0e32bf693b35440faddf8262686)|`trac #17927: Discarded arguments in IntegerVector`|",
    "created_at": "2015-03-12T09:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311844",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[4b5ef53](https://github.com/sagemath/sagetrac-mirror/commit/4b5ef5365d54a0e32bf693b35440faddf8262686)|`trac #17927: Discarded arguments in IntegerVector`|



---

archive/issue_comments_311845.json:
```json
{
    "body": "Changing commit from \"f566dbf932955b91f1148d8ac2aca77e081a85c1\" to \"4b5ef5365d54a0e32bf693b35440faddf8262686\"",
    "created_at": "2015-03-12T09:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311845",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f566dbf932955b91f1148d8ac2aca77e081a85c1" to "4b5ef5365d54a0e32bf693b35440faddf8262686"



---

archive/issue_comments_311846.json:
```json
{
    "body": "<a id='comment:5'></a>\nI just updated the patch. It is not simpler, as all arguments are actually forwarded to the functions, which then refuse the ones that they do not accept. This way Python raises the exceptions for us.\n\nNathann",
    "created_at": "2015-03-12T09:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311846",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
I just updated the patch. It is not simpler, as all arguments are actually forwarded to the functions, which then refuse the ones that they do not accept. This way Python raises the exceptions for us.

Nathann



---

archive/issue_comments_311847.json:
```json
{
    "body": "<a id='comment:6'></a>\nNote that it would be cool to actually conert the input to either Python integer or Sage integers (and also make the output uniform, i.e. being list of Python integer or list of Sage integers but mixing both can lead to disaster):\n\n```\nsage: V = IntegerVectors(4/1, 3/1)\nsage: a = V.first()\nsage: a in V\nFalse\nsage: type(a[0])\n<type 'sage.rings.rational.Rational'>\nsage: type(a[1])\n<type 'int'>\n```\nNot exactly the topic of the ticket but I bumped into that issue and saw this ticket in the trac list...\n\nVincent",
    "created_at": "2015-03-14T22:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311847",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>
Note that it would be cool to actually conert the input to either Python integer or Sage integers (and also make the output uniform, i.e. being list of Python integer or list of Sage integers but mixing both can lead to disaster):

```
sage: V = IntegerVectors(4/1, 3/1)
sage: a = V.first()
sage: a in V
False
sage: type(a[0])
<type 'sage.rings.rational.Rational'>
sage: type(a[1])
<type 'int'>
```
Not exactly the topic of the ticket but I bumped into that issue and saw this ticket in the trac list...

Vincent



---

archive/issue_comments_311848.json:
```json
{
    "body": "<a id='comment:7'></a>\n> Not exactly the topic of the ticket but I bumped into that issue and saw this ticket in the trac list...\n\n\nIt would already be very cool if this ticket could be reviewed as it is. I wonder if anybody uses that class, but the number of inconsistencies it contains is amazing.\n\nNathann",
    "created_at": "2015-03-15T12:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311848",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>
> Not exactly the topic of the ticket but I bumped into that issue and saw this ticket in the trac list...


It would already be very cool if this ticket could be reviewed as it is. I wonder if anybody uses that class, but the number of inconsistencies it contains is amazing.

Nathann



---

archive/issue_comments_311849.json:
```json
{
    "body": "<a id='comment:8'></a>\nGuys ?...",
    "created_at": "2015-03-25T16:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311849",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>
Guys ?...



---

archive/issue_comments_311850.json:
```json
{
    "body": "<a id='comment:9'></a>\nI am still waiting for an answer to [comment:51:ticket:17979] (that ticket also makes changes to `IntegerVectors`)",
    "created_at": "2015-03-25T16:31:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311850",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
I am still waiting for an answer to [comment:51:ticket:17979] (that ticket also makes changes to `IntegerVectors`)



---

archive/issue_comments_311851.json:
```json
{
    "body": "<a id='comment:10'></a>\n> I am still waiting for an answer to [comment:51:ticket:17979] (that ticket also makes changes to `IntegerVectors`)\n\n\nOh. I see.\n\nWell, it's up to you.. But I am not sure that they will answer soon, and if they do nothing will change before #17979 gets merged too... SOooo well.\n\nAs you like.\n\nNathann",
    "created_at": "2015-03-25T16:36:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311851",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>
> I am still waiting for an answer to [comment:51:ticket:17979] (that ticket also makes changes to `IntegerVectors`)


Oh. I see.

Well, it's up to you.. But I am not sure that they will answer soon, and if they do nothing will change before #17979 gets merged too... SOooo well.

As you like.

Nathann



---

archive/issue_comments_311852.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-04-14T20:32:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311852",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_311853.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#18109\"",
    "created_at": "2015-04-14T21:12:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311853",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "" to "#18109"



---

archive/issue_comments_311854.json:
```json
{
    "body": "<a id='comment:13'></a>\nI don't know whether it really should depend on #18109, but at least it should be checked that there is no conflict.",
    "created_at": "2015-04-14T21:14:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311854",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
I don't know whether it really should depend on #18109, but at least it should be checked that there is no conflict.



---

archive/issue_comments_311855.json:
```json
{
    "body": "<a id='comment:14'></a>\nNicolas said that he would do it (in[comment:465](#comment%3A465):ticket:17979). Could you? These bugs need to be fixed too. Thanks,\n\nNathann",
    "created_at": "2015-04-15T07:37:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311855",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'></a>
Nicolas said that he would do it (in[comment:465](#comment%3A465):ticket:17979). Could you? These bugs need to be fixed too. Thanks,

Nathann



---

archive/issue_comments_311856.json:
```json
{
    "body": "<a id='comment:15'></a>\nI actually done a good chunk of work in this direction. However I very\nsoon realized that, to avoid changing a lot of doctests temporarilly\nand reverting them back later on, we really want to have a class for\ninteger vectors of a given length (with constraints). A disjoint union is not enough. Indeed quite some of the doctests are about things like checking containment which is not available with a disjoint union.\n\nThe natural thing to implement this class is to base it on\n`IntegerLists` (not `IntegerListsLex`). Since the code base for the\nlater is in a state of flux, I'd rather wait a couple days and base\nthe work on #18109. I also want to focus on other things with people\nduring the Sage days here. I guess it would be doable within the next\ntwo week.\n\nOr we can go for a temporary solution, but it feels like just\nadditional work for not much value: casual users won't benefit from\nwork here before 6.7 anyway, we are not in total rush.",
    "created_at": "2015-04-15T12:10:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311856",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:15'></a>
I actually done a good chunk of work in this direction. However I very
soon realized that, to avoid changing a lot of doctests temporarilly
and reverting them back later on, we really want to have a class for
integer vectors of a given length (with constraints). A disjoint union is not enough. Indeed quite some of the doctests are about things like checking containment which is not available with a disjoint union.

The natural thing to implement this class is to base it on
`IntegerLists` (not `IntegerListsLex`). Since the code base for the
later is in a state of flux, I'd rather wait a couple days and base
the work on #18109. I also want to focus on other things with people
during the Sage days here. I guess it would be doable within the next
two week.

Or we can go for a temporary solution, but it feels like just
additional work for not much value: casual users won't benefit from
work here before 6.7 anyway, we are not in total rush.



---

archive/issue_comments_311857.json:
```json
{
    "body": "<a id='comment:16'></a>\nNicolas,\n\nYou told me that you would rebase this ticket on top of #17979 once that it will be merged. Could you honor this promise?\n\nWe work differently on many things. I need to be able to trust people I work with. You also know that I never believed in 'ticket that will be written later', or 'code in a state of flux'. This branch was in `needs_review` 5 weeks ago, and has not been reviewed because we were waiting on your ticket #17979.\n\nPlease do not let my work go to waste after we waited for you.\n\nNathann",
    "created_at": "2015-04-15T12:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311857",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'></a>
Nicolas,

You told me that you would rebase this ticket on top of #17979 once that it will be merged. Could you honor this promise?

We work differently on many things. I need to be able to trust people I work with. You also know that I never believed in 'ticket that will be written later', or 'code in a state of flux'. This branch was in `needs_review` 5 weeks ago, and has not been reviewed because we were waiting on your ticket #17979.

Please do not let my work go to waste after we waited for you.

Nathann



---

archive/issue_comments_311858.json:
```json
{
    "body": "<a id='comment:17'></a>\nI can do that. But this really amounts in doing a crappy workaround now, breaking and \"fixing\" existing tests (sorry, but that's exactly what some of your changes are doing). I believe it's more efficient to shoot directly for the right thing. On other occasions you complain to me that I should not indulge myself with such temporary fixes.\n\nI'd appreciate if I could decide myself what's the right approach in work I handle. You are not my boss.",
    "created_at": "2015-04-15T13:02:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311858",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:17'></a>
I can do that. But this really amounts in doing a crappy workaround now, breaking and "fixing" existing tests (sorry, but that's exactly what some of your changes are doing). I believe it's more efficient to shoot directly for the right thing. On other occasions you complain to me that I should not indulge myself with such temporary fixes.

I'd appreciate if I could decide myself what's the right approach in work I handle. You are not my boss.



---

archive/issue_comments_311859.json:
```json
{
    "body": "<a id='comment:18'></a>\n> I'd appreciate if I could decide myself what's the right approach in work I handle. You are not my boss.\n\n\nYou make promises that you do not keep.",
    "created_at": "2015-04-15T13:05:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311859",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:18'></a>
> I'd appreciate if I could decide myself what's the right approach in work I handle. You are not my boss.


You make promises that you do not keep.



---

archive/issue_comments_311860.json:
```json
{
    "body": "<a id='comment:19'></a>\n(currently rebasing the code)",
    "created_at": "2015-04-15T13:14:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311860",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'></a>
(currently rebasing the code)



---

archive/issue_comments_311861.json:
```json
{
    "body": "Changing commit from \"4b5ef5365d54a0e32bf693b35440faddf8262686\" to \"40c709f85d80a15c9be831f0d4b471b60c2f2107\"",
    "created_at": "2015-04-15T13:24:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311861",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4b5ef5365d54a0e32bf693b35440faddf8262686" to "40c709f85d80a15c9be831f0d4b471b60c2f2107"



---

archive/issue_comments_311862.json:
```json
{
    "body": "<a id='comment:20'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[40c709f](https://github.com/sagemath/sagetrac-mirror/commit/40c709f85d80a15c9be831f0d4b471b60c2f2107)|`trac #17927: Discarded arguments in IntegerVector`|",
    "created_at": "2015-04-15T13:24:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311862",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[40c709f](https://github.com/sagemath/sagetrac-mirror/commit/40c709f85d80a15c9be831f0d4b471b60c2f2107)|`trac #17927: Discarded arguments in IntegerVector`|



---

archive/issue_comments_311863.json:
```json
{
    "body": "<a id='comment:21'></a>\nHere it is. Actually, most of what the patch did had been re-done in #17979, and all that is left to do here is raise an exception when `IntegerVectors(length=3)` is called.\n\nNathann",
    "created_at": "2015-04-15T13:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311863",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:21'></a>
Here it is. Actually, most of what the patch did had been re-done in #17979, and all that is left to do here is raise an exception when `IntegerVectors(length=3)` is called.

Nathann



---

archive/issue_comments_311864.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-04-15T13:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311864",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_311865.json:
```json
{
    "body": "Changing dependencies from \"#18109\" to \"\"",
    "created_at": "2015-04-15T13:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311865",
    "user": "https://github.com/nathanncohen"
}
```

Changing dependencies from "#18109" to ""



---

archive/issue_comments_311866.json:
```json
{
    "body": "<a id='comment:22'></a>\nAnd there are no conflicts with #18109.",
    "created_at": "2015-04-15T13:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311866",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'></a>
And there are no conflicts with #18109.



---

archive/issue_comments_311867.json:
```json
{
    "body": "<a id='comment:23'></a>\nIt was *your* decision to take over my work because *you* felt it was better to have this intermediate step. I was going to fullfill way more than my promise. Now you wasted my time, since I will need to rebase my work.\n\nIf you want to discourage people, that's the way to proceed.",
    "created_at": "2015-04-15T14:01:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311867",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:23'></a>
It was *your* decision to take over my work because *you* felt it was better to have this intermediate step. I was going to fullfill way more than my promise. Now you wasted my time, since I will need to rebase my work.

If you want to discourage people, that's the way to proceed.



---

archive/issue_comments_311868.json:
```json
{
    "body": "<a id='comment:24'></a>\n> It was *your* decision to take over my work because *you* felt it was better to have this intermediate step.\n\n\nWhat ? To take over your work? `O_o`\n\nI created this ticket when #17898 (which removed the stopgap) was reviewed (see[comment:63](#comment%3A63):ticket:17898).\n\n> I was going to fullfill way more than my promise.\n\n\n17 months ago you were also going to fix cartesian products (#15425). See also #18182 which was created yesterday. And there are many many things that you were going to fix 3 or 5 years ago.\n\n> Now you wasted my time, since I will need to rebase my work.\n\n\nI don't know what work you are talking about. But since I created this ticket 5 weeks ago, I guess that you should base your work on top of this ticket instead of asking me to rebase mine.\n\nNathann",
    "created_at": "2015-04-15T14:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311868",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>
> It was *your* decision to take over my work because *you* felt it was better to have this intermediate step.


What ? To take over your work? `O_o`

I created this ticket when #17898 (which removed the stopgap) was reviewed (see[comment:63](#comment%3A63):ticket:17898).

> I was going to fullfill way more than my promise.


17 months ago you were also going to fix cartesian products (#15425). See also #18182 which was created yesterday. And there are many many things that you were going to fix 3 or 5 years ago.

> Now you wasted my time, since I will need to rebase my work.


I don't know what work you are talking about. But since I created this ticket 5 weeks ago, I guess that you should base your work on top of this ticket instead of asking me to rebase mine.

Nathann



---

archive/issue_comments_311869.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-04-16T04:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311869",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_311870.json:
```json
{
    "body": "<a id='comment:25'></a>\n\n```\nsage: [0,0,0,0] in IntegerVectors(0, 3)\nFalse\nsage: [3,1,2,4] in IntegerVectors(None, 3) # oops\nTrue\n```",
    "created_at": "2015-04-16T04:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311870",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:25'></a>

```
sage: [0,0,0,0] in IntegerVectors(0, 3)
False
sage: [3,1,2,4] in IntegerVectors(None, 3) # oops
True
```



---

archive/issue_comments_311871.json:
```json
{
    "body": "Changing commit from \"40c709f85d80a15c9be831f0d4b471b60c2f2107\" to \"4301c4cbdb48a00e9950292b7ce2e84a2b0388c0\"",
    "created_at": "2015-04-16T06:48:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311871",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "40c709f85d80a15c9be831f0d4b471b60c2f2107" to "4301c4cbdb48a00e9950292b7ce2e84a2b0388c0"



---

archive/issue_comments_311872.json:
```json
{
    "body": "<a id='comment:26'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[4301c4c](https://github.com/sagemath/sagetrac-mirror/commit/4301c4cbdb48a00e9950292b7ce2e84a2b0388c0)|`trac #17927: n=None and k!=None not supported`|",
    "created_at": "2015-04-16T06:48:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311872",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[4301c4c](https://github.com/sagemath/sagetrac-mirror/commit/4301c4cbdb48a00e9950292b7ce2e84a2b0388c0)|`trac #17927: n=None and k!=None not supported`|



---

archive/issue_comments_311873.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-04-16T07:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311873",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_311874.json:
```json
{
    "body": "<a id='comment:28'></a>\nThis achieves what the ticket claims, and it's better to have an error than something possibly wrong. This will require undoing some stuff once the real fix will come, but if that makes you happy to have this intermediate step, I can live with that.\nPositive review.",
    "created_at": "2015-04-16T14:48:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311874",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:28'></a>
This achieves what the ticket claims, and it's better to have an error than something possibly wrong. This will require undoing some stuff once the real fix will come, but if that makes you happy to have this intermediate step, I can live with that.
Positive review.



---

archive/issue_comments_311875.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-16T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311875",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_311876.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [ncohen](#comment%3A21):\n> Here it is. Actually, most of what the patch did had been re-done in #17979\n\n\nIndeed, I had taken a lead advance on my promise, by merging in a good part of your work at the occasion where it was most productive for to do it.",
    "created_at": "2015-04-16T14:50:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311876",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:30'></a>
Replying to [ncohen](#comment%3A21):
> Here it is. Actually, most of what the patch did had been re-done in #17979


Indeed, I had taken a lead advance on my promise, by merging in a good part of your work at the occasion where it was most productive for to do it.



---

archive/issue_comments_311877.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [ncohen](#comment%3A24):\n> > It was *your* decision to take over my work because *you* felt it was better to have this intermediate step.\n\n> \n> What ? To take over your work? `O_o`\n\n\nBy \"my work\" here, I meant \"rebasing your branch on top of #17979\".\n\n> 17 months ago you were also going to fix cartesian products (#15425).\n\n\nThis is a long run task. More than half of the items are already\nachieved.\n\n> See also #18182 which was created yesterday.\n\n\n#18182 is not a fix. It's a new feature. Beside I am actively helping\nout Daniel who is working on it here at Sage Days 67.\n\nWhen contributing infrastructure one certainly is responsible for\nmaking sure that the infrastructure is robust, and that the basic\napplications are available. But there is no reason why one should\nimplement each and every application of the infrastructure.\n\n>  And there are many many things that you were going to fix 3 or 5 years ago.\n\n\nAnd I did many of them, and in particular I believe I did all for\nwhich I had set a specific timeline. And in the mean time I did a lot\nof infrastructure, refactoring, and finalization work, prioritized\naccording to the needs of many people.\n\nNow, and again, you are not my boss to judge on how I prioritize on\nthe many tasks that needs to be done.\n\n> I don't know what work you are talking about.\n\n\n3 hours of hard work on a proper cleanup of integer vectors (currently\nstashed out), that I now need to rebase when it would have been more\nproductive to do all at once.\n\nAnyway, done with this ticket. Bye.",
    "created_at": "2015-04-16T15:23:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311877",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:31'></a>
Replying to [ncohen](#comment%3A24):
> > It was *your* decision to take over my work because *you* felt it was better to have this intermediate step.

> 
> What ? To take over your work? `O_o`


By "my work" here, I meant "rebasing your branch on top of #17979".

> 17 months ago you were also going to fix cartesian products (#15425).


This is a long run task. More than half of the items are already
achieved.

> See also #18182 which was created yesterday.


#18182 is not a fix. It's a new feature. Beside I am actively helping
out Daniel who is working on it here at Sage Days 67.

When contributing infrastructure one certainly is responsible for
making sure that the infrastructure is robust, and that the basic
applications are available. But there is no reason why one should
implement each and every application of the infrastructure.

>  And there are many many things that you were going to fix 3 or 5 years ago.


And I did many of them, and in particular I believe I did all for
which I had set a specific timeline. And in the mean time I did a lot
of infrastructure, refactoring, and finalization work, prioritized
according to the needs of many people.

Now, and again, you are not my boss to judge on how I prioritize on
the many tasks that needs to be done.

> I don't know what work you are talking about.


3 hours of hard work on a proper cleanup of integer vectors (currently
stashed out), that I now need to rebase when it would have been more
productive to do all at once.

Anyway, done with this ticket. Bye.



---

archive/issue_comments_311878.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-04-18T23:40:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311878",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_311879.json:
```json
{
    "body": "<a id='comment:32'></a>\nreviewer name",
    "created_at": "2015-04-18T23:40:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311879",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'></a>
reviewer name



---

archive/issue_comments_311880.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-04-19T05:34:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311880",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_311881.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Nicolas M. Thi\u00e9ry\"",
    "created_at": "2015-04-19T05:34:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311881",
    "user": "https://github.com/nathanncohen"
}
```

Changing reviewer from "" to "Nicolas M. Thi√©ry"



---

archive/issue_comments_311882.json:
```json
{
    "body": "Changing branch from \"public/17927\" to \"4301c4cbdb48a00e9950292b7ce2e84a2b0388c0\"",
    "created_at": "2015-04-19T16:45:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311882",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/17927" to "4301c4cbdb48a00e9950292b7ce2e84a2b0388c0"



---

archive/issue_events_058041.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-19T16:45:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17927#event-58041"
}
```



---

archive/issue_comments_311883.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-19T16:45:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17927#issuecomment-311883",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
