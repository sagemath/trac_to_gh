# Issue 17841: --only-bad and --summary arguments for sage-coverage

archive/issues_017604.json:
```json
{
    "body": "Add two arguments for sage-coverage\n\n- `--only-bad` to print only informations about bad files\n- `--summary` to print only a summary\n\nWe also introduce the usage of the `argparse` python module. Because of that we automatically win an extra option `-h` and a nice display of the help.\n\n**CC:**  tmonteil @nathanncohen\n\n**Branch/Commit:** [f7f147a1c509ae71f6e68a5d8ae2128394a2f42d](https://github.com/sagemath/sagetrac-mirror/commit/f7f147a1c509ae71f6e68a5d8ae2128394a2f42d)\n\n**Reviewer:** Nathann Cohen\n\n**Author:** Vincent Delecroix\n\nIssue created by migration from https://trac.sagemath.org/ticket/17841\n\n",
    "closed_at": "2015-02-24T00:39:13Z",
    "created_at": "2015-02-23T14:45:09Z",
    "labels": [
        "component: scripts",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "--only-bad and --summary arguments for sage-coverage",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17841",
    "user": "https://github.com/videlec"
}
```
Add two arguments for sage-coverage

- `--only-bad` to print only informations about bad files
- `--summary` to print only a summary

We also introduce the usage of the `argparse` python module. Because of that we automatically win an extra option `-h` and a nice display of the help.

**CC:**  tmonteil @nathanncohen

**Branch/Commit:** [f7f147a1c509ae71f6e68a5d8ae2128394a2f42d](https://github.com/sagemath/sagetrac-mirror/commit/f7f147a1c509ae71f6e68a5d8ae2128394a2f42d)

**Reviewer:** Nathann Cohen

**Author:** Vincent Delecroix

Issue created by migration from https://trac.sagemath.org/ticket/17841





---

archive/issue_comments_292818.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2015-02-23T14:49:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292818",
    "user": "https://github.com/videlec"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_292819.json:
```json
{
    "body": "**Branch:** [u/vdelecroix/17841](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17841)",
    "created_at": "2015-02-23T14:49:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292819",
    "user": "https://github.com/videlec"
}
```

**Branch:** [u/vdelecroix/17841](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17841)



---

archive/issue_comments_292820.json:
```json
{
    "body": "**Commit:** [6c5572a1fa16fc529594784d5fcea86df8c66fd8](https://github.com/sagemath/sagetrac-mirror/commit/6c5572a1fa16fc529594784d5fcea86df8c66fd8)",
    "created_at": "2015-02-23T14:49:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292820",
    "user": "https://github.com/videlec"
}
```

**Commit:** [6c5572a1fa16fc529594784d5fcea86df8c66fd8](https://github.com/sagemath/sagetrac-mirror/commit/6c5572a1fa16fc529594784d5fcea86df8c66fd8)



---

archive/issue_comments_292821.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,4 +3,4 @@\n - `--only-bad` to print only informations about bad files\n - `--summary` to print only a summary\n \n-We also introduce the usage of the `argparse` python module.\n+We also introduce the usage of the `argparse` python module. Because of that we automatically win an extra option `-h` and a nice display of the help.\n``````\n",
    "created_at": "2015-02-23T14:50:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292821",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,4 +3,4 @@
 - `--only-bad` to print only informations about bad files
 - `--summary` to print only a summary
 
-We also introduce the usage of the `argparse` python module.
+We also introduce the usage of the `argparse` python module. Because of that we automatically win an extra option `-h` and a nice display of the help.
``````




---

archive/issue_comments_292822.json:
```json
{
    "body": "**Changing commit** from \"[6c5572a1fa16fc529594784d5fcea86df8c66fd8](https://github.com/sagemath/sagetrac-mirror/commit/6c5572a1fa16fc529594784d5fcea86df8c66fd8)\" to \"[c1359b2a3fc5336735af6815c16a200e658af0f1](https://github.com/sagemath/sagetrac-mirror/commit/c1359b2a3fc5336735af6815c16a200e658af0f1)\".",
    "created_at": "2015-02-23T14:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292822",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6c5572a1fa16fc529594784d5fcea86df8c66fd8](https://github.com/sagemath/sagetrac-mirror/commit/6c5572a1fa16fc529594784d5fcea86df8c66fd8)" to "[c1359b2a3fc5336735af6815c16a200e658af0f1](https://github.com/sagemath/sagetrac-mirror/commit/c1359b2a3fc5336735af6815c16a200e658af0f1)".



---

archive/issue_comments_292823.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1359b2a3fc5336735af6815c16a200e658af0f1\">c1359b2</a></td><td><code>trac #17841: enhanced sage-coverage</code></td></tr></table>\n",
    "created_at": "2015-02-23T14:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292823",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1359b2a3fc5336735af6815c16a200e658af0f1">c1359b2</a></td><td><code>trac #17841: enhanced sage-coverage</code></td></tr></table>




---

archive/issue_comments_292824.json:
```json
{
    "body": "**Changing commit** from \"[c1359b2a3fc5336735af6815c16a200e658af0f1](https://github.com/sagemath/sagetrac-mirror/commit/c1359b2a3fc5336735af6815c16a200e658af0f1)\" to \"[b9a2562f2b646c49d439cbb4d40d45f1555eabc4](https://github.com/sagemath/sagetrac-mirror/commit/b9a2562f2b646c49d439cbb4d40d45f1555eabc4)\".",
    "created_at": "2015-02-23T16:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292824",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c1359b2a3fc5336735af6815c16a200e658af0f1](https://github.com/sagemath/sagetrac-mirror/commit/c1359b2a3fc5336735af6815c16a200e658af0f1)" to "[b9a2562f2b646c49d439cbb4d40d45f1555eabc4](https://github.com/sagemath/sagetrac-mirror/commit/b9a2562f2b646c49d439cbb4d40d45f1555eabc4)".



---

archive/issue_comments_292825.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b9a2562f2b646c49d439cbb4d40d45f1555eabc4\">b9a2562</a></td><td><code>trac #17841: remove the '-' in the summary</code></td></tr></table>\n",
    "created_at": "2015-02-23T16:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292825",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b9a2562f2b646c49d439cbb4d40d45f1555eabc4">b9a2562</a></td><td><code>trac #17841: remove the '-' in the summary</code></td></tr></table>




---

archive/issue_comments_292826.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/caf841a9cb818cc54d1949a4b63a7fecb41ff780\">caf841a</a></td><td><code>trac #17841: nb of files with bad doc in the summary</code></td></tr></table>\n",
    "created_at": "2015-02-23T16:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292826",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/caf841a9cb818cc54d1949a4b63a7fecb41ff780">caf841a</a></td><td><code>trac #17841: nb of files with bad doc in the summary</code></td></tr></table>




---

archive/issue_comments_292827.json:
```json
{
    "body": "**Changing commit** from \"[b9a2562f2b646c49d439cbb4d40d45f1555eabc4](https://github.com/sagemath/sagetrac-mirror/commit/b9a2562f2b646c49d439cbb4d40d45f1555eabc4)\" to \"[caf841a9cb818cc54d1949a4b63a7fecb41ff780](https://github.com/sagemath/sagetrac-mirror/commit/caf841a9cb818cc54d1949a4b63a7fecb41ff780)\".",
    "created_at": "2015-02-23T16:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292827",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b9a2562f2b646c49d439cbb4d40d45f1555eabc4](https://github.com/sagemath/sagetrac-mirror/commit/b9a2562f2b646c49d439cbb4d40d45f1555eabc4)" to "[caf841a9cb818cc54d1949a4b63a7fecb41ff780](https://github.com/sagemath/sagetrac-mirror/commit/caf841a9cb818cc54d1949a4b63a7fecb41ff780)".



---

archive/issue_comments_292828.json:
```json
{
    "body": "output of sage-coverage --summary .",
    "created_at": "2015-02-23T16:19:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292828",
    "user": "https://github.com/videlec"
}
```

output of sage-coverage --summary .



---

archive/attachments_020637.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "bad_files.txt",
    "asset_url": "tarball://root/attachments/some-uuid/ticket17841/bad_files.txt",
    "created_at": "2015-02-23T16:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.txt",
    "user": "https://github.com/videlec"
}
```



---

archive/issue_comments_292829.json:
```json
{
    "body": "<a id='comment:6'></a>\nIn [This is the Trac macro *attachment:bad_files.txt* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:bad_files.txt-macro) (= output of `sage-coverage --summary $SAGE_ROOT/src/sage`) one can see that we have\n- 401 files with wrong documentation\n- 1514 functions with no doc\n- 563 functions with no test\n- 310 doctest are potentially wrong",
    "created_at": "2015-02-23T16:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292829",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>
In [This is the Trac macro *attachment:bad_files.txt* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:bad_files.txt-macro) (= output of `sage-coverage --summary $SAGE_ROOT/src/sage`) one can see that we have
- 401 files with wrong documentation
- 1514 functions with no doc
- 563 functions with no test
- 310 doctest are potentially wrong



---

archive/issue_comments_292830.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/854f13d0940e24afa2dc04565d20a35ea8687516\">854f13d</a></td><td><code>trac #17841: show the global score in the summary</code></td></tr></table>\n",
    "created_at": "2015-02-23T16:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292830",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/854f13d0940e24afa2dc04565d20a35ea8687516">854f13d</a></td><td><code>trac #17841: show the global score in the summary</code></td></tr></table>




---

archive/issue_comments_292831.json:
```json
{
    "body": "**Changing commit** from \"[caf841a9cb818cc54d1949a4b63a7fecb41ff780](https://github.com/sagemath/sagetrac-mirror/commit/caf841a9cb818cc54d1949a4b63a7fecb41ff780)\" to \"[854f13d0940e24afa2dc04565d20a35ea8687516](https://github.com/sagemath/sagetrac-mirror/commit/854f13d0940e24afa2dc04565d20a35ea8687516)\".",
    "created_at": "2015-02-23T16:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292831",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[caf841a9cb818cc54d1949a4b63a7fecb41ff780](https://github.com/sagemath/sagetrac-mirror/commit/caf841a9cb818cc54d1949a4b63a7fecb41ff780)" to "[854f13d0940e24afa2dc04565d20a35ea8687516](https://github.com/sagemath/sagetrac-mirror/commit/854f13d0940e24afa2dc04565d20a35ea8687516)".



---

archive/issue_comments_292832.json:
```json
{
    "body": "<a id='comment:8'></a>\nI added a commit at public/17841. If that's fine for you, then I guess it can go.\n\nNathann",
    "created_at": "2015-02-23T16:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292832",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>
I added a commit at public/17841. If that's fine for you, then I guess it can go.

Nathann



---

archive/issue_comments_292833.json:
```json
{
    "body": "**Reviewer:** Nathann Cohen",
    "created_at": "2015-02-23T16:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292833",
    "user": "https://github.com/nathanncohen"
}
```

**Reviewer:** Nathann Cohen



---

archive/issue_comments_292834.json:
```json
{
    "body": "**Changing commit** from \"[854f13d0940e24afa2dc04565d20a35ea8687516](https://github.com/sagemath/sagetrac-mirror/commit/854f13d0940e24afa2dc04565d20a35ea8687516)\" to \"[f7f147a1c509ae71f6e68a5d8ae2128394a2f42d](https://github.com/sagemath/sagetrac-mirror/commit/f7f147a1c509ae71f6e68a5d8ae2128394a2f42d)\".",
    "created_at": "2015-02-23T17:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292834",
    "user": "https://github.com/videlec"
}
```

**Changing commit** from "[854f13d0940e24afa2dc04565d20a35ea8687516](https://github.com/sagemath/sagetrac-mirror/commit/854f13d0940e24afa2dc04565d20a35ea8687516)" to "[f7f147a1c509ae71f6e68a5d8ae2128394a2f42d](https://github.com/sagemath/sagetrac-mirror/commit/f7f147a1c509ae71f6e68a5d8ae2128394a2f42d)".



---

archive/issue_comments_292835.json:
```json
{
    "body": "<a id='comment:9'></a>\nYour version did not work because of the variable `first` not being available.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad4cfd2a8426ea1ae8655503c7b86ca62cf233a0\">ad4cfd2</a></td><td><code>trac #17841: Review</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7f147a1c509ae71f6e68a5d8ae2128394a2f42d\">f7f147a</a></td><td><code>trac #17841: missing \"global first\"</code></td></tr></table>\n",
    "created_at": "2015-02-23T17:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292835",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>
Your version did not work because of the variable `first` not being available.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad4cfd2a8426ea1ae8655503c7b86ca62cf233a0">ad4cfd2</a></td><td><code>trac #17841: Review</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7f147a1c509ae71f6e68a5d8ae2128394a2f42d">f7f147a</a></td><td><code>trac #17841: missing "global first"</code></td></tr></table>




---

archive/issue_comments_292836.json:
```json
{
    "body": "**Changing branch** from \"[u/vdelecroix/17841](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17841)\" to \"[public/17841](https://github.com/sagemath/sagetrac-mirror/tree/public/17841)\".",
    "created_at": "2015-02-23T17:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292836",
    "user": "https://github.com/videlec"
}
```

**Changing branch** from "[u/vdelecroix/17841](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17841)" to "[public/17841](https://github.com/sagemath/sagetrac-mirror/tree/public/17841)".



---

archive/issue_comments_292837.json:
```json
{
    "body": "<a id='comment:10'></a>\n`O_o`\n\nWeird.. I thought that I had run that script to test that `^^;;;`\n\nNathann",
    "created_at": "2015-02-23T17:01:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292837",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>
`O_o`

Weird.. I thought that I had run that script to test that `^^;;;`

Nathann



---

archive/issue_comments_292838.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-02-23T17:01:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292838",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_292839.json:
```json
{
    "body": "<a id='comment:12'></a>\nThanks!\n\n(possibly you did not run it without any of the long option)",
    "created_at": "2015-02-23T17:02:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292839",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'></a>
Thanks!

(possibly you did not run it without any of the long option)



---

archive/issue_comments_292840.json:
```json
{
    "body": "**Changing branch** from \"[public/17841](https://github.com/sagemath/sagetrac-mirror/tree/public/17841)\" to \"[f7f147a1c509ae71f6e68a5d8ae2128394a2f42d](https://github.com/sagemath/sagetrac-mirror/commit/f7f147a1c509ae71f6e68a5d8ae2128394a2f42d)\".",
    "created_at": "2015-02-24T00:39:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17841#issuecomment-292840",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/17841](https://github.com/sagemath/sagetrac-mirror/tree/public/17841)" to "[f7f147a1c509ae71f6e68a5d8ae2128394a2f42d](https://github.com/sagemath/sagetrac-mirror/commit/f7f147a1c509ae71f6e68a5d8ae2128394a2f42d)".



---

archive/issue_events_058127.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-24T00:39:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17841",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17841#event-58127"
}
```
