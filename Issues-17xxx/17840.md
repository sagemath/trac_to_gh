# Issue 17840: Factorization of multivariate polynomials over the integers

archive/issues_017603.json:
```json
{
    "assignees": [],
    "body": "Currently, Sage does not know how to factor multivariate polynomials over the integers:\n\n```python\nsage: R.<x,y> = ZZ[]\nsage: p = 12 * (x*y - 1) * (x + 2*y + 3)\nsage: p.factor()\nTraceback (most recent call last):\n...\nNotImplementedError: Factorization of multivariate polynomials over non-fields is not implemented.\n```\n\nI propose to implement it using the factorization over `QQ`. Of course it may not be the best possible solution, but at least it is some (temporary?) workaround. This now gives:\n\n```python\nsage: R.<x,y> = ZZ[]\nsage: p = 12 * (x*y - 1) * (x + 2*y + 3)\nsage: p.factor()\n2^2 * 3 * (x + 2*y + 3) * (x*y - 1)\n```\n\nKeywords: **multivariate integer polynomial**\n\nBranch: **[`c41d743`](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Bruno Grenet**\n\nComponent: **factorization**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17840_\n\n",
    "closed_at": "2015-05-25T07:29:53Z",
    "created_at": "2015-02-23T14:00:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20factorization",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Factorization of multivariate polynomials over the integers",
    "type": "issue",
    "updated_at": "2016-04-15T07:47:03Z",
    "url": "https://github.com/sagemath/sage/issues/17840",
    "user": "https://github.com/bgrenet"
}
```
Currently, Sage does not know how to factor multivariate polynomials over the integers:

```python
sage: R.<x,y> = ZZ[]
sage: p = 12 * (x*y - 1) * (x + 2*y + 3)
sage: p.factor()
Traceback (most recent call last):
...
NotImplementedError: Factorization of multivariate polynomials over non-fields is not implemented.
```

I propose to implement it using the factorization over `QQ`. Of course it may not be the best possible solution, but at least it is some (temporary?) workaround. This now gives:

```python
sage: R.<x,y> = ZZ[]
sage: p = 12 * (x*y - 1) * (x + 2*y + 3)
sage: p.factor()
2^2 * 3 * (x + 2*y + 3) * (x*y - 1)
```

Keywords: **multivariate integer polynomial**

Branch: **[`c41d743`](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)**

Reviewer: **Jeroen Demeyer**

Author: **Bruno Grenet**

Component: **factorization**

_Issue created by migration from https://trac.sagemath.org/ticket/17840_





---

archive/issue_events_251610.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T14:00:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251610"
}
```



---

archive/issue_events_251611.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T14:00:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20factorization",
    "label_color": "0000ff",
    "label_name": "c: factorization",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251611"
}
```



---

archive/issue_events_251612.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T14:00:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251612"
}
```



---

archive/issue_events_251613.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T14:00:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251613"
}
```



---

archive/issue_comments_241236.json:
```json
{
    "body": "Branch: **[u/bruno/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/bruno/factorization_of_multivariate_polynomials_over_the_integers)**",
    "created_at": "2015-02-23T14:09:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241236",
    "user": "https://github.com/bgrenet"
}
```

Branch: **[u/bruno/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/bruno/factorization_of_multivariate_polynomials_over_the_integers)**



---

archive/issue_comments_241237.json:
```json
{
    "body": "Commit: **[`60bffcb`](https://github.com/sagemath/sagetrac-mirror/commit/60bffcb71e5220ecb07045c8870be8b84bc5d3bb)**",
    "created_at": "2015-02-23T14:10:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241237",
    "user": "https://github.com/bgrenet"
}
```

Commit: **[`60bffcb`](https://github.com/sagemath/sagetrac-mirror/commit/60bffcb71e5220ecb07045c8870be8b84bc5d3bb)**



---

archive/issue_comments_241238.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60bffcb71e5220ecb07045c8870be8b84bc5d3bb\"><code>60bffcb</code></a></td><td><code>Add factorization of multivariate polynomials over the integers</code></td></tr></table>\n",
    "created_at": "2015-02-23T14:10:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241238",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60bffcb71e5220ecb07045c8870be8b84bc5d3bb"><code>60bffcb</code></a></td><td><code>Add factorization of multivariate polynomials over the integers</code></td></tr></table>




---

archive/issue_events_251614.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T14:10:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251614"
}
```



---

archive/issue_events_251615.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-23T14:19:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251615"
}
```



---

archive/issue_events_251616.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-23T14:19:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251616"
}
```



---

archive/issue_comments_241239.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAdd a doctest with a negative sign to show that signs are preserved.",
    "created_at": "2015-02-23T14:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241239",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

Add a doctest with a negative sign to show that signs are preserved.



---

archive/issue_comments_241240.json:
```json
{
    "body": "Changed commit from **[`60bffcb`](https://github.com/sagemath/sagetrac-mirror/commit/60bffcb71e5220ecb07045c8870be8b84bc5d3bb)** to **[`28f89b6`](https://github.com/sagemath/sagetrac-mirror/commit/28f89b6a73649d8c93c4ab0a5bb92f43b6ac785d)**",
    "created_at": "2015-02-23T19:33:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241240",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`60bffcb`](https://github.com/sagemath/sagetrac-mirror/commit/60bffcb71e5220ecb07045c8870be8b84bc5d3bb)** to **[`28f89b6`](https://github.com/sagemath/sagetrac-mirror/commit/28f89b6a73649d8c93c4ab0a5bb92f43b6ac785d)**



---

archive/issue_comments_241241.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28f89b6a73649d8c93c4ab0a5bb92f43b6ac785d\"><code>28f89b6</code></a></td><td><code>Sign are now preserved + improvements</code></td></tr></table>\n",
    "created_at": "2015-02-23T19:33:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241241",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28f89b6a73649d8c93c4ab0a5bb92f43b6ac785d"><code>28f89b6</code></a></td><td><code>Sign are now preserved + improvements</code></td></tr></table>




---

archive/issue_comments_241242.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@jdemeyer](#comment:3):\n> Add a doctest with a negative sign to show that signs are preserved.\n\nThey were not! Thanks for spotting this `:-)`.",
    "created_at": "2015-02-23T19:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241242",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@jdemeyer](#comment:3):
> Add a doctest with a negative sign to show that signs are preserved.

They were not! Thanks for spotting this `:-)`.



---

archive/issue_events_251617.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T19:34:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251617"
}
```



---

archive/issue_events_251618.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T19:34:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251618"
}
```



---

archive/issue_comments_241243.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI have a question: Since the computation for non-fields is enclosed inside a `try`/`except` construction, if a computation is long and interrupted with `Ctrl+c`, a `KeyboardInterrupt` exception is raised and caught by the `except` to raise a `NotImplementedError` exception.\n\nWhat is a correct solution so that it does not return `NotImplementedError`? \n\n* Should the `KeyboardInterrupt` exception be filtered?\n* Should the `try`/`except` be enclosed in `sig_on()`/`sig_off()`?\n* Something else?",
    "created_at": "2015-02-23T20:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241243",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:6" align="right">comment:6</div>

I have a question: Since the computation for non-fields is enclosed inside a `try`/`except` construction, if a computation is long and interrupted with `Ctrl+c`, a `KeyboardInterrupt` exception is raised and caught by the `except` to raise a `NotImplementedError` exception.

What is a correct solution so that it does not return `NotImplementedError`? 

* Should the `KeyboardInterrupt` exception be filtered?
* Should the `try`/`except` be enclosed in `sig_on()`/`sig_off()`?
* Something else?



---

archive/issue_events_251619.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-24T09:40:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251619"
}
```



---

archive/issue_events_251620.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-24T09:40:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251620"
}
```



---

archive/issue_comments_241244.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nUse `except Exception:` instead of a bare `except:`",
    "created_at": "2015-02-24T09:40:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241244",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

Use `except Exception:` instead of a bare `except:`



---

archive/issue_comments_241245.json:
```json
{
    "body": "Changed commit from **[`28f89b6`](https://github.com/sagemath/sagetrac-mirror/commit/28f89b6a73649d8c93c4ab0a5bb92f43b6ac785d)** to **[`2f1962e`](https://github.com/sagemath/sagetrac-mirror/commit/2f1962e623f4ab8ae305e05306579dfd0b4c2ce8)**",
    "created_at": "2015-02-24T09:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241245",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`28f89b6`](https://github.com/sagemath/sagetrac-mirror/commit/28f89b6a73649d8c93c4ab0a5bb92f43b6ac785d)** to **[`2f1962e`](https://github.com/sagemath/sagetrac-mirror/commit/2f1962e623f4ab8ae305e05306579dfd0b4c2ce8)**



---

archive/issue_comments_241246.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f1962e623f4ab8ae305e05306579dfd0b4c2ce8\"><code>2f1962e</code></a></td><td><code>Exception better handled</code></td></tr></table>\n",
    "created_at": "2015-02-24T09:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241246",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f1962e623f4ab8ae305e05306579dfd0b4c2ce8"><code>2f1962e</code></a></td><td><code>Exception better handled</code></td></tr></table>




---

archive/issue_comments_241247.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@jdemeyer](#comment:7):\n> Use `except Exception:` instead of a bare `except:`\n\nThank you!",
    "created_at": "2015-02-24T09:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241247",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@jdemeyer](#comment:7):
> Use `except Exception:` instead of a bare `except:`

Thank you!



---

archive/issue_events_251621.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-24T09:55:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251621"
}
```



---

archive/issue_events_251622.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-24T09:55:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251622"
}
```



---

archive/issue_comments_241248.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nYou should add an example where the factorisation currently fails (say, over the ring of integers of some number field).",
    "created_at": "2015-02-24T14:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241248",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

You should add an example where the factorisation currently fails (say, over the ring of integers of some number field).



---

archive/issue_events_251623.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-24T14:09:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251623"
}
```



---

archive/issue_events_251624.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-24T14:09:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251624"
}
```



---

archive/issue_comments_241249.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@jdemeyer](#comment:10):\n> You should add an example where the factorisation currently fails (say, over the ring of integers of some number field).\n\nActually, polynomials over the ring of integers of a number field belong to the class `MPolynomial_polydict` (defined in `multi_polynomial_element.py`) and not to `MPolynomial_libsingular` (defined in `multi_polynomial_libsingular.pyx`). So it does not make sense to test this in this file.\u00b9\n\nIt would be interesting to have such an example of a non-working case. Though I do not know for which ring(s) do the polynomials belong to the class `MPolynomial_libsingular`.\n\n\u00b9 One may do the same thing for rings of integers of a number field to obtain a factorization algorithm. The point is that the returned factors are not in the rings of integers in this case, so we have to reconstruct them. It's a bit more work than in the current case.",
    "created_at": "2015-02-24T14:54:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241249",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@jdemeyer](#comment:10):
> You should add an example where the factorisation currently fails (say, over the ring of integers of some number field).

Actually, polynomials over the ring of integers of a number field belong to the class `MPolynomial_polydict` (defined in `multi_polynomial_element.py`) and not to `MPolynomial_libsingular` (defined in `multi_polynomial_libsingular.pyx`). So it does not make sense to test this in this file.¹

It would be interesting to have such an example of a non-working case. Though I do not know for which ring(s) do the polynomials belong to the class `MPolynomial_libsingular`.

¹ One may do the same thing for rings of integers of a number field to obtain a factorization algorithm. The point is that the returned factors are not in the rings of integers in this case, so we have to reconstruct them. It's a bit more work than in the current case.



---

archive/issue_comments_241250.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e773f480e56b1b6496ab99f0a9d34623c364998\"><code>0e773f4</code></a></td><td><code>Doctest ZZ/nZZ</code></td></tr></table>\n",
    "created_at": "2015-02-27T10:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241250",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e773f480e56b1b6496ab99f0a9d34623c364998"><code>0e773f4</code></a></td><td><code>Doctest ZZ/nZZ</code></td></tr></table>




---

archive/issue_comments_241251.json:
```json
{
    "body": "Changed commit from **[`2f1962e`](https://github.com/sagemath/sagetrac-mirror/commit/2f1962e623f4ab8ae305e05306579dfd0b4c2ce8)** to **[`0e773f4`](https://github.com/sagemath/sagetrac-mirror/commit/0e773f480e56b1b6496ab99f0a9d34623c364998)**",
    "created_at": "2015-02-27T10:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241251",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2f1962e`](https://github.com/sagemath/sagetrac-mirror/commit/2f1962e623f4ab8ae305e05306579dfd0b4c2ce8)** to **[`0e773f4`](https://github.com/sagemath/sagetrac-mirror/commit/0e773f480e56b1b6496ab99f0a9d34623c364998)**



---

archive/issue_comments_241252.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@bgrenet](#comment:12):\n> It would be interesting to have such an example of a non-working case. Though I do not know for which ring(s) do the polynomials belong to the class `MPolynomial_libsingular`.\n\nI haven't been able to find a non-field integral domain `D`, different from `ZZ`, such that `D['x','y']` belongs to `MPolynomial_libsingular`. So I add a doctest for `Zmod(4)['x','y']` for which the factorization indeed fails.",
    "created_at": "2015-02-27T10:29:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241252",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@bgrenet](#comment:12):
> It would be interesting to have such an example of a non-working case. Though I do not know for which ring(s) do the polynomials belong to the class `MPolynomial_libsingular`.

I haven't been able to find a non-field integral domain `D`, different from `ZZ`, such that `D['x','y']` belongs to `MPolynomial_libsingular`. So I add a doctest for `Zmod(4)['x','y']` for which the factorization indeed fails.



---

archive/issue_events_251625.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-27T10:29:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251625"
}
```



---

archive/issue_events_251626.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-27T10:29:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251626"
}
```



---

archive/issue_events_251627.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-23T18:45:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251627"
}
```



---

archive/issue_events_251628.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-23T18:45:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251628"
}
```



---

archive/issue_comments_241253.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nSome comments:\n\n1. Replace `raise Exception, \"Message.\"` by `raise Exception(\"message\")`.\n\n2. Is the check for integral domain really needed? If it's not an integral domain, it will be caught by the branch below.\n\n3. Why did you add the check for symbolic ring? If it's needed, there should also be a doctest added for this case.\n\n4. The message `Factorization of multivariate polynomials over Symbolic Ring is not implemented. Consider using multivariate polynomial rings instead.` is confusing, it essentially says \"factorization of multivariate polynomials is not supported, use multivariate polynomials instead\".",
    "created_at": "2015-03-23T18:45:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241253",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Some comments:

1. Replace `raise Exception, "Message."` by `raise Exception("message")`.

2. Is the check for integral domain really needed? If it's not an integral domain, it will be caught by the branch below.

3. Why did you add the check for symbolic ring? If it's needed, there should also be a doctest added for this case.

4. The message `Factorization of multivariate polynomials over Symbolic Ring is not implemented. Consider using multivariate polynomial rings instead.` is confusing, it essentially says "factorization of multivariate polynomials is not supported, use multivariate polynomials instead".



---

archive/issue_comments_241254.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-03-23T18:45:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241254",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_241255.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffe8f4578766dc50cf648e94b7274dce2425318d\"><code>ffe8f45</code></a></td><td><code>Remove useless (?) tests</code></td></tr></table>\n",
    "created_at": "2015-03-25T14:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241255",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffe8f4578766dc50cf648e94b7274dce2425318d"><code>ffe8f45</code></a></td><td><code>Remove useless (?) tests</code></td></tr></table>




---

archive/issue_comments_241256.json:
```json
{
    "body": "Changed commit from **[`0e773f4`](https://github.com/sagemath/sagetrac-mirror/commit/0e773f480e56b1b6496ab99f0a9d34623c364998)** to **[`ffe8f45`](https://github.com/sagemath/sagetrac-mirror/commit/ffe8f4578766dc50cf648e94b7274dce2425318d)**",
    "created_at": "2015-03-25T14:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241256",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0e773f4`](https://github.com/sagemath/sagetrac-mirror/commit/0e773f480e56b1b6496ab99f0a9d34623c364998)** to **[`ffe8f45`](https://github.com/sagemath/sagetrac-mirror/commit/ffe8f4578766dc50cf648e94b7274dce2425318d)**



---

archive/issue_events_251629.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-03-25T14:27:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251629"
}
```



---

archive/issue_events_251630.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-03-25T14:27:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251630"
}
```



---

archive/issue_comments_241257.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@jdemeyer](#comment:15):\n\n> 1. Replace `raise Exception, \"Message.\"` by `raise Exception(\"message\")`.\n\nDone.\n\n> 2. Is the check for integral domain really needed? If it's not an integral domain, it will be caught by the branch below.\n> 3. Why did you add the check for symbolic ring? If it's needed, there should also be a doctest added for this case.\n\nThese both tests were not really needed. I added them in order to give more meaningful error messages. Now, the error message for the `SymbolicRing` is kind of weird, but the test I added was probably not the right place where to correct this.\u00b9 \n\nFor non-integral domains, you know have that `multivariate factorization over Ring of integers modulo 4 is not implemented` (for instance) while with the previous version it said that the factorization over non-integral rings is not implemented. I personally find the previous message more informative, but that is a matter of taste and I am also fine with the current message.\n\n\n> 4. The message `Factorization of multivariate polynomials over Symbolic Ring is not implemented. Consider using multivariate polynomial rings instead.` is confusing, it essentially says \"factorization of multivariate polynomials is not supported, use multivariate polynomials instead\".\n\nNot relevant anymore, though I agree with the confusing aspect of this message!\n\n\u00b9 The main problem is that the `SymbolicRing` has no `is_finite()` method. Thus we get a `NotImplementedError` which is not very informative. See #18054.",
    "created_at": "2015-03-25T14:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241257",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@jdemeyer](#comment:15):

> 1. Replace `raise Exception, "Message."` by `raise Exception("message")`.

Done.

> 2. Is the check for integral domain really needed? If it's not an integral domain, it will be caught by the branch below.
> 3. Why did you add the check for symbolic ring? If it's needed, there should also be a doctest added for this case.

These both tests were not really needed. I added them in order to give more meaningful error messages. Now, the error message for the `SymbolicRing` is kind of weird, but the test I added was probably not the right place where to correct this.¹ 

For non-integral domains, you know have that `multivariate factorization over Ring of integers modulo 4 is not implemented` (for instance) while with the previous version it said that the factorization over non-integral rings is not implemented. I personally find the previous message more informative, but that is a matter of taste and I am also fine with the current message.


> 4. The message `Factorization of multivariate polynomials over Symbolic Ring is not implemented. Consider using multivariate polynomial rings instead.` is confusing, it essentially says "factorization of multivariate polynomials is not supported, use multivariate polynomials instead".

Not relevant anymore, though I agree with the confusing aspect of this message!

¹ The main problem is that the `SymbolicRing` has no `is_finite()` method. Thus we get a `NotImplementedError` which is not very informative. See #18054.



---

archive/issue_comments_241258.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nRelated: #2179",
    "created_at": "2015-04-13T16:23:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241258",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:18" align="right">comment:18</div>

Related: #2179



---

archive/issue_comments_241259.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nIt seems that the code proposed in #2179 is not in its current form ready to use (based on his author's comments). There was supposed to be some improved version, but since it is already 7 years old, we should maybe ignore it for now?",
    "created_at": "2015-04-22T13:43:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241259",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:19" align="right">comment:19</div>

It seems that the code proposed in #2179 is not in its current form ready to use (based on his author's comments). There was supposed to be some improved version, but since it is already 7 years old, we should maybe ignore it for now?



---

archive/issue_comments_241260.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nYes, probably, I was only pointing out the other ticket just in case there was something relevant there.",
    "created_at": "2015-04-22T15:10:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241260",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:20" align="right">comment:20</div>

Yes, probably, I was only pointing out the other ticket just in case there was something relevant there.



---

archive/issue_comments_241261.json:
```json
{
    "body": "Changed branch from **[u/bruno/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/bruno/factorization_of_multivariate_polynomials_over_the_integers)** to **[u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers)**",
    "created_at": "2015-05-24T09:45:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241261",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/bruno/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/bruno/factorization_of_multivariate_polynomials_over_the_integers)** to **[u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers)**



---

archive/issue_events_251631.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-24T09:47:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251631"
}
```



---

archive/issue_events_251632.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-24T09:47:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251632"
}
```



---

archive/issue_comments_241262.json:
```json
{
    "body": "Changed commit from **[`ffe8f45`](https://github.com/sagemath/sagetrac-mirror/commit/ffe8f4578766dc50cf648e94b7274dce2425318d)** to **[`c41d743`](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)**",
    "created_at": "2015-05-24T09:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241262",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`ffe8f45`](https://github.com/sagemath/sagetrac-mirror/commit/ffe8f4578766dc50cf648e94b7274dce2425318d)** to **[`c41d743`](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)**



---

archive/issue_comments_241263.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd\"><code>c41d743</code></a></td><td><code>Minor review changes</code></td></tr></table>\n",
    "created_at": "2015-05-24T09:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241263",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd"><code>c41d743</code></a></td><td><code>Minor review changes</code></td></tr></table>




---

archive/issue_comments_241264.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers)** to **[`c41d743`](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)**",
    "created_at": "2015-05-25T07:29:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241264",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers)** to **[`c41d743`](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)**



---

archive/issue_events_251633.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-25T07:29:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251633"
}
```



---

archive/issue_events_251634.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "52dced6cebade18cb8dd46491aed95484525e6d8",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-05-25T07:29:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-251634"
}
```



---

archive/issue_comments_241265.json:
```json
{
    "body": "Changed commit from **[`c41d743`](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)** to none",
    "created_at": "2016-04-15T07:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241265",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`c41d743`](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)** to none



---

archive/issue_comments_241266.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nsee #20435 for something going wrong",
    "created_at": "2016-04-15T07:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-241266",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">comment:24</div>

see #20435 for something going wrong
