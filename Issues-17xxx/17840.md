# Issue 17840: Factorization of multivariate polynomials over the integers

archive/issues_017603.json:
```json
{
    "assignees": [],
    "body": "Currently, Sage does not know how to factor multivariate polynomials over the integers:\n\n```python\nsage: R.<x,y> = ZZ[]\nsage: p = 12 * (x*y - 1) * (x + 2*y + 3)\nsage: p.factor()\nTraceback (most recent call last):\n...\nNotImplementedError: Factorization of multivariate polynomials over non-fields is not implemented.\n```\n\nI propose to implement it using the factorization over `QQ`. Of course it may not be the best possible solution, but at least it is some (temporary?) workaround. This now gives:\n\n```python\nsage: R.<x,y> = ZZ[]\nsage: p = 12 * (x*y - 1) * (x + 2*y + 3)\nsage: p.factor()\n2^2 * 3 * (x + 2*y + 3) * (x*y - 1)\n```\n\nKeywords: **multivariate integer polynomial**\n\nBranch: **[c41d743](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Bruno Grenet**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17840_\n\n",
    "closed_at": "2015-05-25T07:29:53Z",
    "created_at": "2015-02-23T14:00:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20factorization",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Factorization of multivariate polynomials over the integers",
    "type": "issue",
    "updated_at": "2016-04-15T07:47:03Z",
    "url": "https://github.com/sagemath/sage/issues/17840",
    "user": "https://github.com/bgrenet"
}
```
Currently, Sage does not know how to factor multivariate polynomials over the integers:

```python
sage: R.<x,y> = ZZ[]
sage: p = 12 * (x*y - 1) * (x + 2*y + 3)
sage: p.factor()
Traceback (most recent call last):
...
NotImplementedError: Factorization of multivariate polynomials over non-fields is not implemented.
```

I propose to implement it using the factorization over `QQ`. Of course it may not be the best possible solution, but at least it is some (temporary?) workaround. This now gives:

```python
sage: R.<x,y> = ZZ[]
sage: p = 12 * (x*y - 1) * (x + 2*y + 3)
sage: p.factor()
2^2 * 3 * (x + 2*y + 3) * (x*y - 1)
```

Keywords: **multivariate integer polynomial**

Branch: **[c41d743](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)**

Reviewer: **Jeroen Demeyer**

Author: **Bruno Grenet**

_Issue created by migration from https://trac.sagemath.org/ticket/17840_





---

archive/issue_events_227720.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T14:00:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227720"
}
```



---

archive/issue_events_227721.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T14:00:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20factorization",
    "label_color": "0000ff",
    "label_name": "component: factorization",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227721"
}
```



---

archive/issue_events_227722.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T14:00:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227722"
}
```



---

archive/issue_events_227723.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T14:00:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227723"
}
```



---

archive/issue_comments_243805.json:
```json
{
    "body": "Branch: **[u/bruno/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/bruno/factorization_of_multivariate_polynomials_over_the_integers)**",
    "created_at": "2015-02-23T14:09:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243805",
    "user": "https://github.com/bgrenet"
}
```

Branch: **[u/bruno/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/bruno/factorization_of_multivariate_polynomials_over_the_integers)**



---

archive/issue_comments_243806.json:
```json
{
    "body": "Commit: **[60bffcb](https://github.com/sagemath/sagetrac-mirror/commit/60bffcb71e5220ecb07045c8870be8b84bc5d3bb)**",
    "created_at": "2015-02-23T14:10:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243806",
    "user": "https://github.com/bgrenet"
}
```

Commit: **[60bffcb](https://github.com/sagemath/sagetrac-mirror/commit/60bffcb71e5220ecb07045c8870be8b84bc5d3bb)**



---

archive/issue_comments_243807.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60bffcb71e5220ecb07045c8870be8b84bc5d3bb\">60bffcb</a></td><td><code>Add factorization of multivariate polynomials over the integers</code></td></tr></table>\n",
    "created_at": "2015-02-23T14:10:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243807",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:2'>Comment 2:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60bffcb71e5220ecb07045c8870be8b84bc5d3bb">60bffcb</a></td><td><code>Add factorization of multivariate polynomials over the integers</code></td></tr></table>




---

archive/issue_events_227724.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T14:10:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227724"
}
```



---

archive/issue_events_227725.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-23T14:19:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227725"
}
```



---

archive/issue_events_227726.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-23T14:19:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227726"
}
```



---

archive/issue_comments_243808.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nAdd a doctest with a negative sign to show that signs are preserved.",
    "created_at": "2015-02-23T14:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243808",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'>Comment 3:</a>
Add a doctest with a negative sign to show that signs are preserved.



---

archive/issue_comments_243809.json:
```json
{
    "body": "Changed commit from **[60bffcb](https://github.com/sagemath/sagetrac-mirror/commit/60bffcb71e5220ecb07045c8870be8b84bc5d3bb)** to **[28f89b6](https://github.com/sagemath/sagetrac-mirror/commit/28f89b6a73649d8c93c4ab0a5bb92f43b6ac785d)**",
    "created_at": "2015-02-23T19:33:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243809",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[60bffcb](https://github.com/sagemath/sagetrac-mirror/commit/60bffcb71e5220ecb07045c8870be8b84bc5d3bb)** to **[28f89b6](https://github.com/sagemath/sagetrac-mirror/commit/28f89b6a73649d8c93c4ab0a5bb92f43b6ac785d)**



---

archive/issue_comments_243810.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28f89b6a73649d8c93c4ab0a5bb92f43b6ac785d\">28f89b6</a></td><td><code>Sign are now preserved + improvements</code></td></tr></table>\n",
    "created_at": "2015-02-23T19:33:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243810",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28f89b6a73649d8c93c4ab0a5bb92f43b6ac785d">28f89b6</a></td><td><code>Sign are now preserved + improvements</code></td></tr></table>




---

archive/issue_comments_243811.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nReplying to [@jdemeyer](#comment%3A3):\n> Add a doctest with a negative sign to show that signs are preserved.\n\nThey were not! Thanks for spotting this `:-)`.",
    "created_at": "2015-02-23T19:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243811",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:5'>Comment 5:</a>
Replying to [@jdemeyer](#comment%3A3):
> Add a doctest with a negative sign to show that signs are preserved.

They were not! Thanks for spotting this `:-)`.



---

archive/issue_events_227727.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T19:34:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227727"
}
```



---

archive/issue_events_227728.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-23T19:34:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227728"
}
```



---

archive/issue_comments_243812.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nI have a question: Since the computation for non-fields is enclosed inside a `try`/`except` construction, if a computation is long and interrupted with `Ctrl+c`, a `KeyboardInterrupt` exception is raised and caught by the `except` to raise a `NotImplementedError` exception.\n\nWhat is a correct solution so that it does not return `NotImplementedError`? \n\n* Should the `KeyboardInterrupt` exception be filtered?\n* Should the `try`/`except` be enclosed in `sig_on()`/`sig_off()`?\n* Something else?",
    "created_at": "2015-02-23T20:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243812",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:6'>Comment 6:</a>
I have a question: Since the computation for non-fields is enclosed inside a `try`/`except` construction, if a computation is long and interrupted with `Ctrl+c`, a `KeyboardInterrupt` exception is raised and caught by the `except` to raise a `NotImplementedError` exception.

What is a correct solution so that it does not return `NotImplementedError`? 

* Should the `KeyboardInterrupt` exception be filtered?
* Should the `try`/`except` be enclosed in `sig_on()`/`sig_off()`?
* Something else?



---

archive/issue_events_227729.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-24T09:40:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227729"
}
```



---

archive/issue_events_227730.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-24T09:40:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227730"
}
```



---

archive/issue_comments_243813.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nUse `except Exception:` instead of a bare `except:`",
    "created_at": "2015-02-24T09:40:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243813",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'>Comment 7:</a>
Use `except Exception:` instead of a bare `except:`



---

archive/issue_comments_243814.json:
```json
{
    "body": "Changed commit from **[28f89b6](https://github.com/sagemath/sagetrac-mirror/commit/28f89b6a73649d8c93c4ab0a5bb92f43b6ac785d)** to **[2f1962e](https://github.com/sagemath/sagetrac-mirror/commit/2f1962e623f4ab8ae305e05306579dfd0b4c2ce8)**",
    "created_at": "2015-02-24T09:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243814",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[28f89b6](https://github.com/sagemath/sagetrac-mirror/commit/28f89b6a73649d8c93c4ab0a5bb92f43b6ac785d)** to **[2f1962e](https://github.com/sagemath/sagetrac-mirror/commit/2f1962e623f4ab8ae305e05306579dfd0b4c2ce8)**



---

archive/issue_comments_243815.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f1962e623f4ab8ae305e05306579dfd0b4c2ce8\">2f1962e</a></td><td><code>Exception better handled</code></td></tr></table>\n",
    "created_at": "2015-02-24T09:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243815",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f1962e623f4ab8ae305e05306579dfd0b4c2ce8">2f1962e</a></td><td><code>Exception better handled</code></td></tr></table>




---

archive/issue_comments_243816.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nReplying to [@jdemeyer](#comment%3A7):\n> Use `except Exception:` instead of a bare `except:`\n\nThank you!",
    "created_at": "2015-02-24T09:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243816",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:9'>Comment 9:</a>
Replying to [@jdemeyer](#comment%3A7):
> Use `except Exception:` instead of a bare `except:`

Thank you!



---

archive/issue_events_227731.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-24T09:55:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227731"
}
```



---

archive/issue_events_227732.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-24T09:55:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227732"
}
```



---

archive/issue_comments_243817.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nYou should add an example where the factorisation currently fails (say, over the ring of integers of some number field).",
    "created_at": "2015-02-24T14:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243817",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'>Comment 10:</a>
You should add an example where the factorisation currently fails (say, over the ring of integers of some number field).



---

archive/issue_events_227733.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-24T14:09:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227733"
}
```



---

archive/issue_events_227734.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-24T14:09:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227734"
}
```



---

archive/issue_comments_243818.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nReplying to [@jdemeyer](#comment%3A10):\n> You should add an example where the factorisation currently fails (say, over the ring of integers of some number field).\n\nActually, polynomials over the ring of integers of a number field belong to the class `MPolynomial_polydict` (defined in `multi_polynomial_element.py`) and not to `MPolynomial_libsingular` (defined in `multi_polynomial_libsingular.pyx`). So it does not make sense to test this in this file.\u00b9\n\nIt would be interesting to have such an example of a non-working case. Though I do not know for which ring(s) do the polynomials belong to the class `MPolynomial_libsingular`.\n\n\u00b9 One may do the same thing for rings of integers of a number field to obtain a factorization algorithm. The point is that the returned factors are not in the rings of integers in this case, so we have to reconstruct them. It's a bit more work than in the current case.",
    "created_at": "2015-02-24T14:54:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243818",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:12'>Comment 12:</a>
Replying to [@jdemeyer](#comment%3A10):
> You should add an example where the factorisation currently fails (say, over the ring of integers of some number field).

Actually, polynomials over the ring of integers of a number field belong to the class `MPolynomial_polydict` (defined in `multi_polynomial_element.py`) and not to `MPolynomial_libsingular` (defined in `multi_polynomial_libsingular.pyx`). So it does not make sense to test this in this file.¹

It would be interesting to have such an example of a non-working case. Though I do not know for which ring(s) do the polynomials belong to the class `MPolynomial_libsingular`.

¹ One may do the same thing for rings of integers of a number field to obtain a factorization algorithm. The point is that the returned factors are not in the rings of integers in this case, so we have to reconstruct them. It's a bit more work than in the current case.



---

archive/issue_comments_243819.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e773f480e56b1b6496ab99f0a9d34623c364998\">0e773f4</a></td><td><code>Doctest ZZ/nZZ</code></td></tr></table>\n",
    "created_at": "2015-02-27T10:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243819",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e773f480e56b1b6496ab99f0a9d34623c364998">0e773f4</a></td><td><code>Doctest ZZ/nZZ</code></td></tr></table>




---

archive/issue_comments_243820.json:
```json
{
    "body": "Changed commit from **[2f1962e](https://github.com/sagemath/sagetrac-mirror/commit/2f1962e623f4ab8ae305e05306579dfd0b4c2ce8)** to **[0e773f4](https://github.com/sagemath/sagetrac-mirror/commit/0e773f480e56b1b6496ab99f0a9d34623c364998)**",
    "created_at": "2015-02-27T10:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243820",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2f1962e](https://github.com/sagemath/sagetrac-mirror/commit/2f1962e623f4ab8ae305e05306579dfd0b4c2ce8)** to **[0e773f4](https://github.com/sagemath/sagetrac-mirror/commit/0e773f480e56b1b6496ab99f0a9d34623c364998)**



---

archive/issue_comments_243821.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@bgrenet](#comment%3A12):\n> It would be interesting to have such an example of a non-working case. Though I do not know for which ring(s) do the polynomials belong to the class `MPolynomial_libsingular`.\n\nI haven't been able to find a non-field integral domain `D`, different from `ZZ`, such that `D['x','y']` belongs to `MPolynomial_libsingular`. So I add a doctest for `Zmod(4)['x','y']` for which the factorization indeed fails.",
    "created_at": "2015-02-27T10:29:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243821",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@bgrenet](#comment%3A12):
> It would be interesting to have such an example of a non-working case. Though I do not know for which ring(s) do the polynomials belong to the class `MPolynomial_libsingular`.

I haven't been able to find a non-field integral domain `D`, different from `ZZ`, such that `D['x','y']` belongs to `MPolynomial_libsingular`. So I add a doctest for `Zmod(4)['x','y']` for which the factorization indeed fails.



---

archive/issue_events_227735.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-27T10:29:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227735"
}
```



---

archive/issue_events_227736.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-02-27T10:29:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227736"
}
```



---

archive/issue_events_227737.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-23T18:45:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227737"
}
```



---

archive/issue_events_227738.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-23T18:45:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227738"
}
```



---

archive/issue_comments_243822.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nSome comments:\n\n1. Replace `raise Exception, \"Message.\"` by `raise Exception(\"message\")`.\n\n2. Is the check for integral domain really needed? If it's not an integral domain, it will be caught by the branch below.\n\n3. Why did you add the check for symbolic ring? If it's needed, there should also be a doctest added for this case.\n\n4. The message `Factorization of multivariate polynomials over Symbolic Ring is not implemented. Consider using multivariate polynomial rings instead.` is confusing, it essentially says \"factorization of multivariate polynomials is not supported, use multivariate polynomials instead\".",
    "created_at": "2015-03-23T18:45:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243822",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'>Comment 15:</a>
Some comments:

1. Replace `raise Exception, "Message."` by `raise Exception("message")`.

2. Is the check for integral domain really needed? If it's not an integral domain, it will be caught by the branch below.

3. Why did you add the check for symbolic ring? If it's needed, there should also be a doctest added for this case.

4. The message `Factorization of multivariate polynomials over Symbolic Ring is not implemented. Consider using multivariate polynomial rings instead.` is confusing, it essentially says "factorization of multivariate polynomials is not supported, use multivariate polynomials instead".



---

archive/issue_comments_243823.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-03-23T18:45:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243823",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_243824.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffe8f4578766dc50cf648e94b7274dce2425318d\">ffe8f45</a></td><td><code>Remove useless (?) tests</code></td></tr></table>\n",
    "created_at": "2015-03-25T14:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243824",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffe8f4578766dc50cf648e94b7274dce2425318d">ffe8f45</a></td><td><code>Remove useless (?) tests</code></td></tr></table>




---

archive/issue_comments_243825.json:
```json
{
    "body": "Changed commit from **[0e773f4](https://github.com/sagemath/sagetrac-mirror/commit/0e773f480e56b1b6496ab99f0a9d34623c364998)** to **[ffe8f45](https://github.com/sagemath/sagetrac-mirror/commit/ffe8f4578766dc50cf648e94b7274dce2425318d)**",
    "created_at": "2015-03-25T14:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243825",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0e773f4](https://github.com/sagemath/sagetrac-mirror/commit/0e773f480e56b1b6496ab99f0a9d34623c364998)** to **[ffe8f45](https://github.com/sagemath/sagetrac-mirror/commit/ffe8f4578766dc50cf648e94b7274dce2425318d)**



---

archive/issue_events_227739.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-03-25T14:27:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227739"
}
```



---

archive/issue_events_227740.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2015-03-25T14:27:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227740"
}
```



---

archive/issue_comments_243826.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nReplying to [@jdemeyer](#comment%3A15):\n\n> 1. Replace `raise Exception, \"Message.\"` by `raise Exception(\"message\")`.\n\nDone.\n\n> 2. Is the check for integral domain really needed? If it's not an integral domain, it will be caught by the branch below.\n> 3. Why did you add the check for symbolic ring? If it's needed, there should also be a doctest added for this case.\n\nThese both tests were not really needed. I added them in order to give more meaningful error messages. Now, the error message for the `SymbolicRing` is kind of weird, but the test I added was probably not the right place where to correct this.\u00b9 \n\nFor non-integral domains, you know have that `multivariate factorization over Ring of integers modulo 4 is not implemented` (for instance) while with the previous version it said that the factorization over non-integral rings is not implemented. I personally find the previous message more informative, but that is a matter of taste and I am also fine with the current message.\n\n\n> 4. The message `Factorization of multivariate polynomials over Symbolic Ring is not implemented. Consider using multivariate polynomial rings instead.` is confusing, it essentially says \"factorization of multivariate polynomials is not supported, use multivariate polynomials instead\".\n\nNot relevant anymore, though I agree with the confusing aspect of this message!\n\n\u00b9 The main problem is that the `SymbolicRing` has no `is_finite()` method. Thus we get a `NotImplementedError` which is not very informative. See #18054.",
    "created_at": "2015-03-25T14:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243826",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:17'>Comment 17:</a>
Replying to [@jdemeyer](#comment%3A15):

> 1. Replace `raise Exception, "Message."` by `raise Exception("message")`.

Done.

> 2. Is the check for integral domain really needed? If it's not an integral domain, it will be caught by the branch below.
> 3. Why did you add the check for symbolic ring? If it's needed, there should also be a doctest added for this case.

These both tests were not really needed. I added them in order to give more meaningful error messages. Now, the error message for the `SymbolicRing` is kind of weird, but the test I added was probably not the right place where to correct this.¹ 

For non-integral domains, you know have that `multivariate factorization over Ring of integers modulo 4 is not implemented` (for instance) while with the previous version it said that the factorization over non-integral rings is not implemented. I personally find the previous message more informative, but that is a matter of taste and I am also fine with the current message.


> 4. The message `Factorization of multivariate polynomials over Symbolic Ring is not implemented. Consider using multivariate polynomial rings instead.` is confusing, it essentially says "factorization of multivariate polynomials is not supported, use multivariate polynomials instead".

Not relevant anymore, though I agree with the confusing aspect of this message!

¹ The main problem is that the `SymbolicRing` has no `is_finite()` method. Thus we get a `NotImplementedError` which is not very informative. See #18054.



---

archive/issue_comments_243827.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nRelated: #2179",
    "created_at": "2015-04-13T16:23:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243827",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:18'>Comment 18:</a>
Related: #2179



---

archive/issue_comments_243828.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nIt seems that the code proposed in #2179 is not in its current form ready to use (based on his author's comments). There was supposed to be some improved version, but since it is already 7 years old, we should maybe ignore it for now?",
    "created_at": "2015-04-22T13:43:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243828",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:19'>Comment 19:</a>
It seems that the code proposed in #2179 is not in its current form ready to use (based on his author's comments). There was supposed to be some improved version, but since it is already 7 years old, we should maybe ignore it for now?



---

archive/issue_comments_243829.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nYes, probably, I was only pointing out the other ticket just in case there was something relevant there.",
    "created_at": "2015-04-22T15:10:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243829",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:20'>Comment 20:</a>
Yes, probably, I was only pointing out the other ticket just in case there was something relevant there.



---

archive/issue_comments_243830.json:
```json
{
    "body": "Changed branch from **[u/bruno/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/bruno/factorization_of_multivariate_polynomials_over_the_integers)** to **[u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers)**",
    "created_at": "2015-05-24T09:45:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243830",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/bruno/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/bruno/factorization_of_multivariate_polynomials_over_the_integers)** to **[u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers)**



---

archive/issue_events_227741.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-24T09:47:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227741"
}
```



---

archive/issue_events_227742.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-24T09:47:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227742"
}
```



---

archive/issue_comments_243831.json:
```json
{
    "body": "Changed commit from **[ffe8f45](https://github.com/sagemath/sagetrac-mirror/commit/ffe8f4578766dc50cf648e94b7274dce2425318d)** to **[c41d743](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)**",
    "created_at": "2015-05-24T09:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243831",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[ffe8f45](https://github.com/sagemath/sagetrac-mirror/commit/ffe8f4578766dc50cf648e94b7274dce2425318d)** to **[c41d743](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)**



---

archive/issue_comments_243832.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd\">c41d743</a></td><td><code>Minor review changes</code></td></tr></table>\n",
    "created_at": "2015-05-24T09:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243832",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'>Comment 22:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd">c41d743</a></td><td><code>Minor review changes</code></td></tr></table>




---

archive/issue_comments_243833.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers)** to **[c41d743](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)**",
    "created_at": "2015-05-25T07:29:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243833",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/factorization_of_multivariate_polynomials_over_the_integers)** to **[c41d743](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)**



---

archive/issue_events_227743.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-25T07:29:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227743"
}
```



---

archive/issue_events_227744.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "52dced6cebade18cb8dd46491aed95484525e6d8",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-05-25T07:29:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17840#event-227744"
}
```



---

archive/issue_comments_243834.json:
```json
{
    "body": "Changed commit from **[c41d743](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)** to none",
    "created_at": "2016-04-15T07:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243834",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[c41d743](https://github.com/sagemath/sagetrac-mirror/commit/c41d743d8733ab8ccd00aee7bde2312cb4751cbd)** to none



---

archive/issue_comments_243835.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nsee #20435 for something going wrong",
    "created_at": "2016-04-15T07:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17840#issuecomment-243835",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'>Comment 24:</a>
see #20435 for something going wrong
