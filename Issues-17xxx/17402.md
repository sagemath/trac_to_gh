# Issue 17402: SR.power_series cannot handle symbolic series

archive/issues_017165.json:
```json
{
    "body": "Keywords: conversion, ring\n\n```\nsage: x=var('x')\nsage: s=(1/(1-x)).series(x,6)\nsage: ps=s.power_series(SR)\nsage: ps\nx^5 + x^4 + x^3 + x^2 + x + Order(x^6) + 1 + O(x)\nsage: ps=s.power_series(QQ)\n...\nTypeError: unable to convert 1 + 1*x + 1*x^2 + 1*x^3 + 1*x^4 + 1*x^5 + Order(x^6) to a rational\n```\nThis is analogous to #16203 and can be worked around using `truncate()` but really should work out of the box.\n\nIssue created by migration from https://trac.sagemath.org/ticket/17402\n\n",
    "closed_at": "2016-02-24T19:35:30Z",
    "created_at": "2014-11-26T13:50:22Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "SR.power_series cannot handle symbolic series",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17402",
    "user": "https://github.com/rwst"
}
```
Keywords: conversion, ring

```
sage: x=var('x')
sage: s=(1/(1-x)).series(x,6)
sage: ps=s.power_series(SR)
sage: ps
x^5 + x^4 + x^3 + x^2 + x + Order(x^6) + 1 + O(x)
sage: ps=s.power_series(QQ)
...
TypeError: unable to convert 1 + 1*x + 1*x^2 + 1*x^3 + 1*x^4 + 1*x^5 + Order(x^6) to a rational
```
This is analogous to #16203 and can be worked around using `truncate()` but really should work out of the box.

Issue created by migration from https://trac.sagemath.org/ticket/17402





---

archive/issue_comments_227908.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-12-04T15:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17402#issuecomment-227908",
    "user": "https://github.com/rwst"
}
```

New commits:



---

archive/issue_comments_227909.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-12-04T15:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17402#issuecomment-227909",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_227910.json:
```json
{
    "body": "Changing keywords from \"\" to \"conversion, ring\".",
    "created_at": "2014-12-04T15:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17402#issuecomment-227910",
    "user": "https://github.com/rwst"
}
```

Changing keywords from "" to "conversion, ring".



---

archive/issue_comments_227911.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-04T15:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17402#issuecomment-227911",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_227912.json:
```json
{
    "body": "Made dependent from #17659; all squashed into one commit.\n\n---\nNew commits:",
    "created_at": "2015-01-25T16:55:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17402#issuecomment-227912",
    "user": "https://github.com/rwst"
}
```

Made dependent from #17659; all squashed into one commit.

---
New commits:



---

archive/issue_comments_227913.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-23T16:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17402#issuecomment-227913",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_227914.json:
```json
{
    "body": "Passes all patchbot tests.",
    "created_at": "2015-04-20T06:22:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17402#issuecomment-227914",
    "user": "https://github.com/rwst"
}
```

Passes all patchbot tests.



---

archive/issue_events_050118.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-20T15:49:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17402#event-50118"
}
```



---

archive/issue_comments_227915.json:
```json
{
    "body": "Pending because #17659 is pending.",
    "created_at": "2015-04-20T15:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17402#issuecomment-227915",
    "user": "https://github.com/rwst"
}
```

Pending because #17659 is pending.



---

archive/issue_comments_227916.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-02-05T07:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17402#issuecomment-227916",
    "user": "https://github.com/rwst"
}
```

New commits:



---

archive/issue_events_050119.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-02-05T07:14:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17402#event-50119"
}
```



---

archive/issue_events_050120.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-02-05T07:14:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17402#event-50120"
}
```



---

archive/issue_comments_227917.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-02-23T22:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17402#issuecomment-227917",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_227918.json:
```json
{
    "body": "The diff shown by the branch link of this ticket is different than what I get with `git trac pull` into develop. I hope this is just a trac problem.",
    "created_at": "2016-02-24T06:23:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17402#issuecomment-227918",
    "user": "https://github.com/rwst"
}
```

The diff shown by the branch link of this ticket is different than what I get with `git trac pull` into develop. I hope this is just a trac problem.



---

archive/issue_events_050121.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-02-24T19:35:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17402#event-50121"
}
```



---

archive/issue_comments_227919.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-02-24T19:35:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17402",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17402#issuecomment-227919",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
