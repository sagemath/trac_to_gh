# Issue 17224: Fix pickling of NC rings with weighted term order

archive/issues_016987.json:
```json
{
    "body": "The term order is pickled by the name rather than the object `TermOrder`. This causes problems for term orders which need additional arguments.\n\n```\nsage: from sage.rings.polynomial.term_order import TermOrder\nsage: F.<x,y> = FreeAlgebra(QQ)\nsage: g = F.g_algebra({y*x:-x*y}, order=TermOrder('wdegrevlex', [1,2]))\nsage: loads(dumps(g)) # Boom\n```\n\nAssignee: @tscrim\n\nCC:  @miguelmarco @jhpalmieri\n\nBranch/Commit: 13a552e4bc9fca71db81f6d2bd1a766f8d782e8f\n\nReviewer: Miguel Marco\n\nAuthor: Travis Scrimshaw\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17224\n\n",
    "closed_at": "2014-10-27T16:02:24Z",
    "created_at": "2014-10-26T00:44:26Z",
    "labels": [
        "component: pickling",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Fix pickling of NC rings with weighted term order",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17224",
    "user": "https://github.com/tscrim"
}
```
The term order is pickled by the name rather than the object `TermOrder`. This causes problems for term orders which need additional arguments.

```
sage: from sage.rings.polynomial.term_order import TermOrder
sage: F.<x,y> = FreeAlgebra(QQ)
sage: g = F.g_algebra({y*x:-x*y}, order=TermOrder('wdegrevlex', [1,2]))
sage: loads(dumps(g)) # Boom
```

Assignee: @tscrim

CC:  @miguelmarco @jhpalmieri

Branch/Commit: 13a552e4bc9fca71db81f6d2bd1a766f8d782e8f

Reviewer: Miguel Marco

Author: Travis Scrimshaw

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17224





---

archive/issue_comments_286979.json:
```json
{
    "body": "<a id='comment:1'></a>\n1 hour of my life for 2 lines... Needs review.\n\n---\nNew commits:\n|                                                                                                                                          |                                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[13a552e](https://github.com/sagemath/sagetrac-mirror/commit/13a552e4bc9fca71db81f6d2bd1a766f8d782e8f)|`Fix for pickling NC rings with weighted term order.`|",
    "created_at": "2014-10-26T06:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17224",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17224#issuecomment-286979",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
1 hour of my life for 2 lines... Needs review.

---
New commits:
|                                                                                                                                          |                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[13a552e](https://github.com/sagemath/sagetrac-mirror/commit/13a552e4bc9fca71db81f6d2bd1a766f8d782e8f)|`Fix for pickling NC rings with weighted term order.`|



---

archive/issue_comments_286980.json:
```json
{
    "body": "Changing branch from \"\" to \"public/pickling/term_order_NC_plural-17224\"",
    "created_at": "2014-10-26T06:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17224",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17224#issuecomment-286980",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "" to "public/pickling/term_order_NC_plural-17224"



---

archive/issue_comments_286981.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-10-26T06:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17224",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17224#issuecomment-286981",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_286982.json:
```json
{
    "body": "Changing commit from \"\" to \"13a552e4bc9fca71db81f6d2bd1a766f8d782e8f\"",
    "created_at": "2014-10-26T06:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17224",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17224#issuecomment-286982",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "" to "13a552e4bc9fca71db81f6d2bd1a766f8d782e8f"



---

archive/issue_comments_286983.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,8 @@\n The term order is pickled by the name rather than the object `TermOrder`. This causes problems for term orders which need additional arguments.\n+\n+```\n+sage: from sage.rings.polynomial.term_order import TermOrder\n+sage: F.<x,y> = FreeAlgebra(QQ)\n+sage: g = F.g_algebra({y*x:-x*y}, order=TermOrder('wdegrevlex', [1,2]))\n+sage: loads(dumps(g)) # Boom\n+```\n``````\n",
    "created_at": "2014-10-26T06:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17224",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17224#issuecomment-286983",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,8 @@
 The term order is pickled by the name rather than the object `TermOrder`. This causes problems for term orders which need additional arguments.
+
+```
+sage: from sage.rings.polynomial.term_order import TermOrder
+sage: F.<x,y> = FreeAlgebra(QQ)
+sage: g = F.g_algebra({y*x:-x*y}, order=TermOrder('wdegrevlex', [1,2]))
+sage: loads(dumps(g)) # Boom
+```
``````




---

archive/issue_comments_286984.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-27T00:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17224",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17224#issuecomment-286984",
    "user": "https://github.com/miguelmarco"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_286985.json:
```json
{
    "body": "<a id='comment:2'></a>\nLooks good",
    "created_at": "2014-10-27T00:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17224",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17224#issuecomment-286985",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:2'></a>
Looks good



---

archive/issue_comments_286986.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Miguel Marco\"",
    "created_at": "2014-10-27T00:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17224",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17224#issuecomment-286986",
    "user": "https://github.com/miguelmarco"
}
```

Changing reviewer from "" to "Miguel Marco"



---

archive/issue_comments_286987.json:
```json
{
    "body": "Changing branch from \"public/pickling/term_order_NC_plural-17224\" to \"13a552e4bc9fca71db81f6d2bd1a766f8d782e8f\"",
    "created_at": "2014-10-27T16:02:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17224",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17224#issuecomment-286987",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/pickling/term_order_NC_plural-17224" to "13a552e4bc9fca71db81f6d2bd1a766f8d782e8f"



---

archive/issue_events_064477.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-27T16:02:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17224",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17224#event-64477"
}
```



---

archive/issue_comments_286988.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-10-27T16:02:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17224",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17224#issuecomment-286988",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
