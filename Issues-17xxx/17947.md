# Issue 17947: implement the cluster fans

archive/issues_017710.json:
```json
{
    "body": "Fans play an important role in cluster algebra theory. Let's have them in.\n\nCC:  gmoose05 @jplab\n\nKeywords: cluster, fan, Sage Days 64.5\n\nBranch/Commit: 97214cfb04c33355ec82ff3af0662d96b6502e73\n\nReviewer: Jean-Philippe Labb\u00e9\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17947\n\n",
    "closed_at": "2015-10-16T18:42:44Z",
    "created_at": "2015-03-13T15:20:16Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "implement the cluster fans",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17947",
    "user": "https://github.com/fchapoton"
}
```
Fans play an important role in cluster algebra theory. Let's have them in.

CC:  gmoose05 @jplab

Keywords: cluster, fan, Sage Days 64.5

Branch/Commit: 97214cfb04c33355ec82ff3af0662d96b6502e73

Reviewer: Jean-Philippe Labbé

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17947





---

archive/issue_comments_304141.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-13T15:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304141",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_304142.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/17947\"",
    "created_at": "2015-03-13T15:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304142",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/17947"



---

archive/issue_comments_304143.json:
```json
{
    "body": "Changing commit from \"\" to \"66173bd0290a13e922a4ca0499f911e0646eb80b\"",
    "created_at": "2015-03-13T15:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304143",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "66173bd0290a13e922a4ca0499f911e0646eb80b"



---

archive/issue_comments_304144.json:
```json
{
    "body": "Changing keywords from \"\" to \"cluster, fan\".",
    "created_at": "2015-03-13T15:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304144",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "cluster, fan".



---

archive/issue_comments_304145.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[66173bd](https://github.com/sagemath/sagetrac-mirror/commit/66173bd0290a13e922a4ca0499f911e0646eb80b)|`trac #17947 implement the cluster fans`|",
    "created_at": "2015-03-13T15:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304145",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[66173bd](https://github.com/sagemath/sagetrac-mirror/commit/66173bd0290a13e922a4ca0499f911e0646eb80b)|`trac #17947 implement the cluster fans`|



---

archive/issue_comments_304146.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[07cd33c](https://github.com/sagemath/sagetrac-mirror/commit/07cd33c875465cff46f4d46dc3a14691eff85eb6)|`trac #17947 details about cluster fan`|",
    "created_at": "2015-03-13T15:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304146",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[07cd33c](https://github.com/sagemath/sagetrac-mirror/commit/07cd33c875465cff46f4d46dc3a14691eff85eb6)|`trac #17947 details about cluster fan`|



---

archive/issue_comments_304147.json:
```json
{
    "body": "Changing commit from \"66173bd0290a13e922a4ca0499f911e0646eb80b\" to \"07cd33c875465cff46f4d46dc3a14691eff85eb6\"",
    "created_at": "2015-03-13T15:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304147",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "66173bd0290a13e922a4ca0499f911e0646eb80b" to "07cd33c875465cff46f4d46dc3a14691eff85eb6"



---

archive/issue_comments_304148.json:
```json
{
    "body": "<a id='comment:3'></a>\nCare to define it in the docstring?\n\nI've always wanted to understand what Nathan is talking about all the time, but I never got over my laziness to read up on it. I guess this is my chance :) Thanks a lot.",
    "created_at": "2015-03-13T17:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304148",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:3'></a>
Care to define it in the docstring?

I've always wanted to understand what Nathan is talking about all the time, but I never got over my laziness to read up on it. I guess this is my chance :) Thanks a lot.



---

archive/issue_comments_304149.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[9628ba3](https://github.com/sagemath/sagetrac-mirror/commit/9628ba3adff463a4d57a030bd75a57ae2b7aea44)|`trac #17947 more doc`|",
    "created_at": "2015-03-16T16:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304149",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[9628ba3](https://github.com/sagemath/sagetrac-mirror/commit/9628ba3adff463a4d57a030bd75a57ae2b7aea44)|`trac #17947 more doc`|



---

archive/issue_comments_304150.json:
```json
{
    "body": "Changing commit from \"07cd33c875465cff46f4d46dc3a14691eff85eb6\" to \"9628ba3adff463a4d57a030bd75a57ae2b7aea44\"",
    "created_at": "2015-03-16T16:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304150",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "07cd33c875465cff46f4d46dc3a14691eff85eb6" to "9628ba3adff463a4d57a030bd75a57ae2b7aea44"



---

archive/issue_comments_304151.json:
```json
{
    "body": "<a id='comment:5'></a>\nThanks -- this makes things a lot less scarier. I feel I need some more help, though. Is a simplicial fan the same as a simplicial complex but with \"simplex\" replaced by \"simplicial cone\"? How exactly do the vectors `d` in `\\ZZ^n` give rise to a cone? Is the cone corresponding to a cluster simply the set of all nonnegative linear combinations of the denominator vectors? What is a smooth fan? Why do you require acyclicity; isn't finite-type enough?",
    "created_at": "2015-03-17T01:10:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304151",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:5'></a>
Thanks -- this makes things a lot less scarier. I feel I need some more help, though. Is a simplicial fan the same as a simplicial complex but with "simplex" replaced by "simplicial cone"? How exactly do the vectors `d` in `\ZZ^n` give rise to a cone? Is the cone corresponding to a cluster simply the set of all nonnegative linear combinations of the denominator vectors? What is a smooth fan? Why do you require acyclicity; isn't finite-type enough?



---

archive/issue_comments_304152.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [darij](#comment%3A5):\n> Thanks -- this makes things a lot less scarier. I feel I need some more help, though.\n\n\nYes. I hope you do not want all these explanations to be written in the doc ?\n\n> Is a simplicial fan the same as a simplicial complex but with \"simplex\" replaced by \"simplicial cone\"? \n\n\nYes, essentially, but not quite because some convexity issues enter the definition. For the exact definition of a fan, see Fulton book on toric varieties for example. A simplicial fan is a fan where every cone is simplicial, namely has the minimal number of generators wrt its dimension.\n\n>How exactly do the vectors `d` in `\\ZZ^n` give rise to a cone?\n\n\nThe d associated with variables in a given cluster span the rays of a cone.\n\n>Is the cone corresponding to a cluster simply the set of all nonnegative linear combinations of the denominator vectors?\n\n\nYes.\n\n> What is a smooth fan? \n\n\na smooth fan is a simplicial fan such that each cone is smooth. A smooth cone is a simplicial cone whose rays define a basis of the lattice (they have determinant +-1)\n\nThis is related to the smoothness of the toric variety associated to the fan.\n\n> Why do you require acyclicity; isn't finite-type enough?\n\n\nNo, with this version of the fan. If you apply it to the cyclic quiver with 3 vertices, the result is not an interesting fan (in particular it is not smooth). There is maybe another version of the fan using the g-vector instead. I do not remember the details right now.",
    "created_at": "2015-03-17T08:25:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304152",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
Replying to [darij](#comment%3A5):
> Thanks -- this makes things a lot less scarier. I feel I need some more help, though.


Yes. I hope you do not want all these explanations to be written in the doc ?

> Is a simplicial fan the same as a simplicial complex but with "simplex" replaced by "simplicial cone"? 


Yes, essentially, but not quite because some convexity issues enter the definition. For the exact definition of a fan, see Fulton book on toric varieties for example. A simplicial fan is a fan where every cone is simplicial, namely has the minimal number of generators wrt its dimension.

>How exactly do the vectors `d` in `\ZZ^n` give rise to a cone?


The d associated with variables in a given cluster span the rays of a cone.

>Is the cone corresponding to a cluster simply the set of all nonnegative linear combinations of the denominator vectors?


Yes.

> What is a smooth fan? 


a smooth fan is a simplicial fan such that each cone is smooth. A smooth cone is a simplicial cone whose rays define a basis of the lattice (they have determinant +-1)

This is related to the smoothness of the toric variety associated to the fan.

> Why do you require acyclicity; isn't finite-type enough?


No, with this version of the fan. If you apply it to the cyclic quiver with 3 vertices, the result is not an interesting fan (in particular it is not smooth). There is maybe another version of the fan using the g-vector instead. I do not remember the details right now.



---

archive/issue_comments_304153.json:
```json
{
    "body": "Changing branch from \"u/chapoton/17947\" to \"public/ticket/17947\"",
    "created_at": "2015-04-02T03:08:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304153",
    "user": "https://github.com/darijgr"
}
```

Changing branch from "u/chapoton/17947" to "public/ticket/17947"



---

archive/issue_comments_304154.json:
```json
{
    "body": "<a id='comment:7'></a>\nOK, I am not able to review this, but thank you a lot for the explanations. I still don't know what almost positive roots are, how `Cone` infers its lattice, etc., so I'll defer to someone more familiar with these things, though the code does look good to me.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|\n|[db09838](https://github.com/sagemath/sagetrac-mirror/commit/db09838602327daaeb4597fefb3bb124c7af1b60)|`Merge branch 'u/chapoton/17947' of git://trac.sagemath.org/sage into fan`|\n|[fb98b4d](https://github.com/sagemath/sagetrac-mirror/commit/fb98b4d01681aa841740eef28ae2f1e3490d3793)|`doc improvements to quiver.py:`|",
    "created_at": "2015-04-02T03:08:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304154",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:7'></a>
OK, I am not able to review this, but thank you a lot for the explanations. I still don't know what almost positive roots are, how `Cone` infers its lattice, etc., so I'll defer to someone more familiar with these things, though the code does look good to me.

---
New commits:
|                                                                                                                                          |                                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|
|[db09838](https://github.com/sagemath/sagetrac-mirror/commit/db09838602327daaeb4597fefb3bb124c7af1b60)|`Merge branch 'u/chapoton/17947' of git://trac.sagemath.org/sage into fan`|
|[fb98b4d](https://github.com/sagemath/sagetrac-mirror/commit/fb98b4d01681aa841740eef28ae2f1e3490d3793)|`doc improvements to quiver.py:`|



---

archive/issue_comments_304155.json:
```json
{
    "body": "Changing commit from \"9628ba3adff463a4d57a030bd75a57ae2b7aea44\" to \"fb98b4d01681aa841740eef28ae2f1e3490d3793\"",
    "created_at": "2015-04-02T03:08:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304155",
    "user": "https://github.com/darijgr"
}
```

Changing commit from "9628ba3adff463a4d57a030bd75a57ae2b7aea44" to "fb98b4d01681aa841740eef28ae2f1e3490d3793"



---

archive/issue_comments_304156.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|\n|[82ed222](https://github.com/sagemath/sagetrac-mirror/commit/82ed22231efa4aa698097a885b43f5fa07b82422)|`trivial doc fix`|",
    "created_at": "2015-04-02T03:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304156",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
|[82ed222](https://github.com/sagemath/sagetrac-mirror/commit/82ed22231efa4aa698097a885b43f5fa07b82422)|`trivial doc fix`|



---

archive/issue_comments_304157.json:
```json
{
    "body": "Changing commit from \"fb98b4d01681aa841740eef28ae2f1e3490d3793\" to \"82ed22231efa4aa698097a885b43f5fa07b82422\"",
    "created_at": "2015-04-02T03:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304157",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fb98b4d01681aa841740eef28ae2f1e3490d3793" to "82ed22231efa4aa698097a885b43f5fa07b82422"



---

archive/issue_events_065839.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-15T06:39:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17947#event-65839"
}
```



---

archive/issue_events_065840.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-05-22T20:26:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17947#event-65840"
}
```



---

archive/issue_events_065841.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-05-22T20:26:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17947#event-65841"
}
```



---

archive/issue_comments_304158.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[c3b9534](https://github.com/sagemath/sagetrac-mirror/commit/c3b95349edcb24c3d9037ad271658e13890cbafb)|`Merge branch 'develop' into t/17947/public/ticket/17947`|\n|[b6e225a](https://github.com/sagemath/sagetrac-mirror/commit/b6e225a8dd952fb267c488c7cc97cfbd56823fb2)|`Add d-vector to ClusterSeed`|\n|[d18903f](https://github.com/sagemath/sagetrac-mirror/commit/d18903f10330bced19b96e56df66e38222312a0a)|`Add d-matrix to ClusterSeed`|\n|[b2a8278](https://github.com/sagemath/sagetrac-mirror/commit/b2a8278e1d7a9e6d7f637ae5b5eaa92a315af258)|`Removed trailing spaces`|\n|[9f56277](https://github.com/sagemath/sagetrac-mirror/commit/9f562773d0df255d3610f6b86cf634a3327711f9)|`Merge remote-tracking branch 'origin/u/etn40ff/add_d_vectors' into t/17947/public/ticket/17947`|\n|[df182e5](https://github.com/sagemath/sagetrac-mirror/commit/df182e500b4723fbf2a87aa4b565293397d8f904)|`I changed the name of the function fan to d_vector_fan.`|",
    "created_at": "2015-06-03T17:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304158",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[c3b9534](https://github.com/sagemath/sagetrac-mirror/commit/c3b95349edcb24c3d9037ad271658e13890cbafb)|`Merge branch 'develop' into t/17947/public/ticket/17947`|
|[b6e225a](https://github.com/sagemath/sagetrac-mirror/commit/b6e225a8dd952fb267c488c7cc97cfbd56823fb2)|`Add d-vector to ClusterSeed`|
|[d18903f](https://github.com/sagemath/sagetrac-mirror/commit/d18903f10330bced19b96e56df66e38222312a0a)|`Add d-matrix to ClusterSeed`|
|[b2a8278](https://github.com/sagemath/sagetrac-mirror/commit/b2a8278e1d7a9e6d7f637ae5b5eaa92a315af258)|`Removed trailing spaces`|
|[9f56277](https://github.com/sagemath/sagetrac-mirror/commit/9f562773d0df255d3610f6b86cf634a3327711f9)|`Merge remote-tracking branch 'origin/u/etn40ff/add_d_vectors' into t/17947/public/ticket/17947`|
|[df182e5](https://github.com/sagemath/sagetrac-mirror/commit/df182e500b4723fbf2a87aa4b565293397d8f904)|`I changed the name of the function fan to d_vector_fan.`|



---

archive/issue_comments_304159.json:
```json
{
    "body": "Changing commit from \"82ed22231efa4aa698097a885b43f5fa07b82422\" to \"df182e500b4723fbf2a87aa4b565293397d8f904\"",
    "created_at": "2015-06-03T17:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304159",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "82ed22231efa4aa698097a885b43f5fa07b82422" to "df182e500b4723fbf2a87aa4b565293397d8f904"



---

archive/issue_comments_304160.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#18588\"",
    "created_at": "2015-06-03T17:16:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304160",
    "user": "https://trac.sagemath.org/admin/accounts/users/vpilaud"
}
```

Changing dependencies from "" to "#18588"



---

archive/issue_comments_304161.json:
```json
{
    "body": "<a id='comment:14'></a>\nI attempt my first Sage Days on cluster algebras, and I wanted to implant d-vector fans and g-vector fans. I realized that this was already partially done in this ticket. For the functions d_vector_fan and g_vector_fan to be coherent, I merged with #18588 which implements the d_matrix function.",
    "created_at": "2015-06-03T17:25:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304161",
    "user": "https://trac.sagemath.org/admin/accounts/users/vpilaud"
}
```

<a id='comment:14'></a>
I attempt my first Sage Days on cluster algebras, and I wanted to implant d-vector fans and g-vector fans. I realized that this was already partially done in this ticket. For the functions d_vector_fan and g_vector_fan to be coherent, I merged with #18588 which implements the d_matrix function.



---

archive/issue_comments_304162.json:
```json
{
    "body": "Changing keywords from \"cluster, fan\" to \"cluster, fan, Sage Days 64.5\".",
    "created_at": "2015-06-03T17:25:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304162",
    "user": "https://trac.sagemath.org/admin/accounts/users/vpilaud"
}
```

Changing keywords from "cluster, fan" to "cluster, fan, Sage Days 64.5".



---

archive/issue_comments_304163.json:
```json
{
    "body": "<a id='comment:15'></a>\nHi!\n\nI would be happy to review this ticket!\n\nIt will be quite handy!",
    "created_at": "2015-06-03T17:52:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304163",
    "user": "https://github.com/jplab"
}
```

<a id='comment:15'></a>
Hi!

I would be happy to review this ticket!

It will be quite handy!



---

archive/issue_comments_304164.json:
```json
{
    "body": "<a id='comment:16'></a>\nDuplicate import\n\n```\n+        from cluster_seed import ClusterSeed\n+        from cluster_seed import ClusterSeed\n```",
    "created_at": "2015-06-05T07:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304164",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
Duplicate import

```
+        from cluster_seed import ClusterSeed
+        from cluster_seed import ClusterSeed
```



---

archive/issue_comments_304165.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-06-05T07:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304165",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_304166.json:
```json
{
    "body": "Changing commit from \"df182e500b4723fbf2a87aa4b565293397d8f904\" to \"0eea07be8e10af1b0606cc3ecd4c3040e10339b9\"",
    "created_at": "2015-06-06T15:50:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304166",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "df182e500b4723fbf2a87aa4b565293397d8f904" to "0eea07be8e10af1b0606cc3ecd4c3040e10339b9"



---

archive/issue_comments_304167.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|\n|[0eea07b](https://github.com/sagemath/sagetrac-mirror/commit/0eea07be8e10af1b0606cc3ecd4c3040e10339b9)|`remove duplicate import, as well as a non-necessary import`|",
    "created_at": "2015-06-06T15:50:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304167",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|
|[0eea07b](https://github.com/sagemath/sagetrac-mirror/commit/0eea07be8e10af1b0606cc3ecd4c3040e10339b9)|`remove duplicate import, as well as a non-necessary import`|



---

archive/issue_comments_304168.json:
```json
{
    "body": "<a id='comment:18'></a>\nThere are blank lines that contain white spaces in the function d_vector_fan in the quiver.py file.\n\nOtherwise it looks good to me.",
    "created_at": "2015-06-07T09:35:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304168",
    "user": "https://github.com/jplab"
}
```

<a id='comment:18'></a>
There are blank lines that contain white spaces in the function d_vector_fan in the quiver.py file.

Otherwise it looks good to me.



---

archive/issue_comments_304169.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[9b2eb28](https://github.com/sagemath/sagetrac-mirror/commit/9b2eb28f846abdb61f5fa30a8568d59ac0c5673f)|`Merge branch 'public/ticket/17947' into 6.8.b6`|\n|[2b1e105](https://github.com/sagemath/sagetrac-mirror/commit/2b1e105e52ff12082a58680b52d8e144aeb51cb0)|`trac #17947 taking care of trailing whitespaces`|",
    "created_at": "2015-06-29T17:52:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304169",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[9b2eb28](https://github.com/sagemath/sagetrac-mirror/commit/9b2eb28f846abdb61f5fa30a8568d59ac0c5673f)|`Merge branch 'public/ticket/17947' into 6.8.b6`|
|[2b1e105](https://github.com/sagemath/sagetrac-mirror/commit/2b1e105e52ff12082a58680b52d8e144aeb51cb0)|`trac #17947 taking care of trailing whitespaces`|



---

archive/issue_comments_304170.json:
```json
{
    "body": "Changing commit from \"0eea07be8e10af1b0606cc3ecd4c3040e10339b9\" to \"2b1e105e52ff12082a58680b52d8e144aeb51cb0\"",
    "created_at": "2015-06-29T17:52:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304170",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0eea07be8e10af1b0606cc3ecd4c3040e10339b9" to "2b1e105e52ff12082a58680b52d8e144aeb51cb0"



---

archive/issue_comments_304171.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-06-29T17:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304171",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_304172.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[74a57fc](https://github.com/sagemath/sagetrac-mirror/commit/74a57fc25b2987562510312e0f06c0558a530f4b)|`Merge branch 'public/ticket/17947' into 6.9.b6`|",
    "created_at": "2015-09-12T08:38:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304172",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[74a57fc](https://github.com/sagemath/sagetrac-mirror/commit/74a57fc25b2987562510312e0f06c0558a530f4b)|`Merge branch 'public/ticket/17947' into 6.9.b6`|



---

archive/issue_comments_304173.json:
```json
{
    "body": "Changing commit from \"2b1e105e52ff12082a58680b52d8e144aeb51cb0\" to \"74a57fc25b2987562510312e0f06c0558a530f4b\"",
    "created_at": "2015-09-12T08:38:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304173",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2b1e105e52ff12082a58680b52d8e144aeb51cb0" to "74a57fc25b2987562510312e0f06c0558a530f4b"



---

archive/issue_events_065842.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-13T19:30:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17947#event-65842"
}
```



---

archive/issue_events_065843.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-13T19:30:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17947#event-65843"
}
```



---

archive/issue_comments_304174.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[97214cf](https://github.com/sagemath/sagetrac-mirror/commit/97214cfb04c33355ec82ff3af0662d96b6502e73)|`Merge branch 'public/ticket/17947' into 6.9.rc0`|",
    "created_at": "2015-09-25T12:43:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304174",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[97214cf](https://github.com/sagemath/sagetrac-mirror/commit/97214cfb04c33355ec82ff3af0662d96b6502e73)|`Merge branch 'public/ticket/17947' into 6.9.rc0`|



---

archive/issue_comments_304175.json:
```json
{
    "body": "Changing commit from \"74a57fc25b2987562510312e0f06c0558a530f4b\" to \"97214cfb04c33355ec82ff3af0662d96b6502e73\"",
    "created_at": "2015-09-25T12:43:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "74a57fc25b2987562510312e0f06c0558a530f4b" to "97214cfb04c33355ec82ff3af0662d96b6502e73"



---

archive/issue_comments_304176.json:
```json
{
    "body": "<a id='comment:24'></a>\nPing ? The patchbot has given a green light !",
    "created_at": "2015-09-29T07:50:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304176",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'></a>
Ping ? The patchbot has given a green light !



---

archive/issue_comments_304177.json:
```json
{
    "body": "<a id='comment:25'></a>\nRe-ping ? this should be an easy ticket !",
    "created_at": "2015-10-07T18:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304177",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:25'></a>
Re-ping ? this should be an easy ticket !



---

archive/issue_comments_304178.json:
```json
{
    "body": "<a id='comment:26'></a>\nAll test passed on sage-6.9.\n\nThis looks good to me. I set this as positive review.",
    "created_at": "2015-10-12T14:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304178",
    "user": "https://github.com/jplab"
}
```

<a id='comment:26'></a>
All test passed on sage-6.9.

This looks good to me. I set this as positive review.



---

archive/issue_comments_304179.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-12T14:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304179",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_304180.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jean-Philippe Labb\u00e9\"",
    "created_at": "2015-10-12T14:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304180",
    "user": "https://github.com/jplab"
}
```

Changing reviewer from "" to "Jean-Philippe Labbé"



---

archive/issue_comments_304181.json:
```json
{
    "body": "<a id='comment:27'></a>\nThanks a lot ! Maybe you could also look at #16209 ?",
    "created_at": "2015-10-12T16:54:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304181",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:27'></a>
Thanks a lot ! Maybe you could also look at #16209 ?



---

archive/issue_events_065844.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-14T07:29:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17947#event-65844"
}
```



---

archive/issue_events_065845.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-14T07:29:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17947#event-65845"
}
```



---

archive/issue_comments_304182.json:
```json
{
    "body": "<a id='comment:29'></a>\nJust a PSA: Your ticket will never be merged if it depends on a invalid/wontfix ticket. At least not until that one is being merged into the git tree.",
    "created_at": "2015-10-15T19:41:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304182",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'></a>
Just a PSA: Your ticket will never be merged if it depends on a invalid/wontfix ticket. At least not until that one is being merged into the git tree.



---

archive/issue_comments_304183.json:
```json
{
    "body": "<a id='comment:30'></a>\nok, thanks. Let us remove the dependency then. It has been taken care of in another ticket.",
    "created_at": "2015-10-15T19:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304183",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:30'></a>
ok, thanks. Let us remove the dependency then. It has been taken care of in another ticket.



---

archive/issue_comments_304184.json:
```json
{
    "body": "Changing dependencies from \"#18588\" to \"\"",
    "created_at": "2015-10-15T19:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304184",
    "user": "https://github.com/fchapoton"
}
```

Changing dependencies from "#18588" to ""



---

archive/issue_comments_304185.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-10-16T18:42:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304185",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_065846.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-16T18:42:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17947#event-65846"
}
```



---

archive/issue_comments_304186.json:
```json
{
    "body": "Changing branch from \"public/ticket/17947\" to \"97214cfb04c33355ec82ff3af0662d96b6502e73\"",
    "created_at": "2015-10-16T18:42:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17947#issuecomment-304186",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/ticket/17947" to "97214cfb04c33355ec82ff3af0662d96b6502e73"
