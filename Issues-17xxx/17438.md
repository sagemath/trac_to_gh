# Issue 17438: coefficients of symbolic expressions revamp

archive/issues_017201.json:
```json
{
    "body": "The ticket asks for\n* adding a `sparse` parameter to `Expression.coefficients()`, default `True`\n* removing/deprecating the `coeff` and `coeffs` aliases\n* implement `Expression.list()`, simply calling `coefficients(sparse=False)`\n\nThis appears to be consensus for polynomials in the thread https://groups.google.com/forum/?hl=en#!topic/sage-devel/IHirUHTWnuA \n\n\n**Keywords:** list, polynomial, coeff\n\n**Branch/Commit:** [0fec129b1055535de50cf4e5c663662e0d877742](https://github.com/sagemath/sagetrac-mirror/commit/0fec129b1055535de50cf4e5c663662e0d877742)\n\n**Reviewer:** John Perry\n\n**Author:** Ralf Stephan\n\nIssue created by migration from https://trac.sagemath.org/ticket/17438\n\n",
    "closed_at": "2014-12-21T21:45:18Z",
    "created_at": "2014-12-03T09:27:25Z",
    "labels": [
        "component: symbolics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.5",
    "title": "coefficients of symbolic expressions revamp",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/17438",
    "user": "https://github.com/rwst"
}
```
The ticket asks for
* adding a `sparse` parameter to `Expression.coefficients()`, default `True`
* removing/deprecating the `coeff` and `coeffs` aliases
* implement `Expression.list()`, simply calling `coefficients(sparse=False)`

This appears to be consensus for polynomials in the thread https://groups.google.com/forum/?hl=en#!topic/sage-devel/IHirUHTWnuA 


**Keywords:** list, polynomial, coeff

**Branch/Commit:** [0fec129b1055535de50cf4e5c663662e0d877742](https://github.com/sagemath/sagetrac-mirror/commit/0fec129b1055535de50cf4e5c663662e0d877742)

**Reviewer:** John Perry

**Author:** Ralf Stephan

Issue created by migration from https://trac.sagemath.org/ticket/17438





---

archive/issue_comments_235828.json:
```json
{
    "body": "<a id='comment:1'></a>\nOK, noninteger exponents will throw an exception with `sparse=False`. Any better idea?",
    "created_at": "2014-12-03T10:10:50Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235828",
    "user": "https://github.com/rwst"
}
```

<a id='comment:1'></a>
OK, noninteger exponents will throw an exception with `sparse=False`. Any better idea?



---

archive/issue_comments_235829.json:
```json
{
    "body": "**Branch:** [u/rws/coefficients_of_symbolic_expressions_revamp](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/coefficients_of_symbolic_expressions_revamp)",
    "created_at": "2014-12-03T15:07:05Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235829",
    "user": "https://github.com/rwst"
}
```

**Branch:** [u/rws/coefficients_of_symbolic_expressions_revamp](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/coefficients_of_symbolic_expressions_revamp)



---

archive/issue_comments_235830.json:
```json
{
    "body": "**Commit:** [9452fa934b8064657743e4ba32869430304fdb13](https://github.com/sagemath/sagetrac-mirror/commit/9452fa934b8064657743e4ba32869430304fdb13)",
    "created_at": "2014-12-04T09:31:29Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235830",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [9452fa934b8064657743e4ba32869430304fdb13](https://github.com/sagemath/sagetrac-mirror/commit/9452fa934b8064657743e4ba32869430304fdb13)



---

archive/issue_comments_235831.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9452fa934b8064657743e4ba32869430304fdb13\">9452fa9</a></td><td><code>17438: deprecate ex.coeff/coeffs()</code></td></tr></table>\n",
    "created_at": "2014-12-04T09:31:29Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235831",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9452fa934b8064657743e4ba32869430304fdb13">9452fa9</a></td><td><code>17438: deprecate ex.coeff/coeffs()</code></td></tr></table>




---

archive/issue_comments_235832.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fec129b1055535de50cf4e5c663662e0d877742\">0fec129</a></td><td><code>17438: implement ex.list()</code></td></tr></table>\n",
    "created_at": "2014-12-04T09:49:03Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235832",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fec129b1055535de50cf4e5c663662e0d877742">0fec129</a></td><td><code>17438: implement ex.list()</code></td></tr></table>




---

archive/issue_comments_235833.json:
```json
{
    "body": "**Changing commit** from \"[9452fa934b8064657743e4ba32869430304fdb13](https://github.com/sagemath/sagetrac-mirror/commit/9452fa934b8064657743e4ba32869430304fdb13)\" to \"[0fec129b1055535de50cf4e5c663662e0d877742](https://github.com/sagemath/sagetrac-mirror/commit/0fec129b1055535de50cf4e5c663662e0d877742)\".",
    "created_at": "2014-12-04T09:49:03Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235833",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9452fa934b8064657743e4ba32869430304fdb13](https://github.com/sagemath/sagetrac-mirror/commit/9452fa934b8064657743e4ba32869430304fdb13)" to "[0fec129b1055535de50cf4e5c663662e0d877742](https://github.com/sagemath/sagetrac-mirror/commit/0fec129b1055535de50cf4e5c663662e0d877742)".



---

archive/issue_events_156439.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-12-04T09:49:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17438#event-156439"
}
```



---

archive/issue_comments_235834.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"list, polynomial, coeff\".",
    "created_at": "2014-12-04T09:50:44Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235834",
    "user": "https://github.com/rwst"
}
```

**Changing keywords** from "" to "list, polynomial, coeff".



---

archive/issue_comments_235835.json:
```json
{
    "body": "**Author:** Ralf Stephan",
    "created_at": "2014-12-04T09:50:44Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235835",
    "user": "https://github.com/rwst"
}
```

**Author:** Ralf Stephan



---

archive/issue_comments_235836.json:
```json
{
    "body": "<a id='comment:7'></a>\nI'm looking at this now. I'm sorry for the delay; I only finished traveling this past weekend.\n\nUnfortunately, it looks like the delay will take even longer, because after checking out your branch, Sage wants to recompile every blessed Cython file... as usual... and it just failed on 'sage/algebras/quatalg/quaternion_algebra_cython.pyx'. Great.\n\nAny ideas?",
    "created_at": "2014-12-16T13:54:19Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235836",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:7'></a>
I'm looking at this now. I'm sorry for the delay; I only finished traveling this past weekend.

Unfortunately, it looks like the delay will take even longer, because after checking out your branch, Sage wants to recompile every blessed Cython file... as usual... and it just failed on 'sage/algebras/quatalg/quaternion_algebra_cython.pyx'. Great.

Any ideas?



---

archive/issue_comments_235837.json:
```json
{
    "body": "<a id='comment:8'></a>\nI've left that temporary branch, deleted it, & am first rebuilding the develop branch. I'll try again when Sage quits compiling all the Cython files. The good news is that it made it past `sage/algebras/quatalg/quaternion_algebra_cython.pyx`. :-)",
    "created_at": "2014-12-16T14:17:43Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235837",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:8'></a>
I've left that temporary branch, deleted it, & am first rebuilding the develop branch. I'll try again when Sage quits compiling all the Cython files. The good news is that it made it past `sage/algebras/quatalg/quaternion_algebra_cython.pyx`. :-)



---

archive/issue_comments_235838.json:
```json
{
    "body": "<a id='comment:9'></a>\nImporting fails, again. Failure occurs in the same place, but the first message that looks like an error is this:\n\n```\nmissing cimport in module 'cpython.slice': ./sage/rings/number_field/number_field_element.pxd\n```\nDunno how to proceed from here. FWIW I'm trying to build from my Sage-6.3 develop branch. Do I have to download Sage-6.4, or even a recent beta of Sage-6.5?",
    "created_at": "2014-12-16T15:19:22Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235838",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:9'></a>
Importing fails, again. Failure occurs in the same place, but the first message that looks like an error is this:

```
missing cimport in module 'cpython.slice': ./sage/rings/number_field/number_field_element.pxd
```
Dunno how to proceed from here. FWIW I'm trying to build from my Sage-6.3 develop branch. Do I have to download Sage-6.4, or even a recent beta of Sage-6.5?



---

archive/issue_comments_235839.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe branch is based on 6.5beta1 and the newest develop is beta2. Do you want me to merge beta2 into the branch?",
    "created_at": "2014-12-16T15:21:04Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235839",
    "user": "https://github.com/rwst"
}
```

<a id='comment:10'></a>
The branch is based on 6.5beta1 and the newest develop is beta2. Do you want me to merge beta2 into the branch?



---

archive/issue_comments_235840.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [rws](#comment%3A10):\n> The branch is based on 6.5beta1 and the newest develop is beta2. Do you want me to merge beta2 into the branch?\n\n\nI have no idea. Let me try downloading & building 6.5beta1 first, then applying your patch. (I imagine I can find 6.5beta1 online.) That will take a few hours, so I'll know what to ask at that point, which (for me) may be tomorrow. Sorry again for the delay.\n\n*Edit:* Yup! I found 6.5beta1 online without too much work.",
    "created_at": "2014-12-16T16:05:14Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235840",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:11'></a>
Replying to [rws](#comment%3A10):
> The branch is based on 6.5beta1 and the newest develop is beta2. Do you want me to merge beta2 into the branch?


I have no idea. Let me try downloading & building 6.5beta1 first, then applying your patch. (I imagine I can find 6.5beta1 online.) That will take a few hours, so I'll know what to ask at that point, which (for me) may be tomorrow. Sorry again for the delay.

*Edit:* Yup! I found 6.5beta1 online without too much work.



---

archive/issue_comments_235841.json:
```json
{
    "body": "<a id='comment:12'></a>\nYou really should use git so you don't need to download tarballs. How would you apply this branch or upload trac without git, anyway?",
    "created_at": "2014-12-16T16:29:46Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235841",
    "user": "https://github.com/rwst"
}
```

<a id='comment:12'></a>
You really should use git so you don't need to download tarballs. How would you apply this branch or upload trac without git, anyway?



---

archive/issue_comments_235842.json:
```json
{
    "body": "<a id='comment:13'></a>\n\n```diff\n+ val = l[0][1]\n+ if val < 0:\n+ raise ValueError(\"Cannot return dense coefficient list with negative valuation.\")\n```\n\nI can understand the rationale behind this `ValueError`. Yet, couldn't this be useful in some cases to have a dense list of coefficients, even if the first one is not the constant coefficient? In some sense, since the user has to specify `sparse=dense`, she knows what she is doing. I feel like it is better not to raise exceptions when a meaningful (and not too misleading) answer exists.\n\nYet, I just checked the situation for Laurent polynomials and it appears that only the list of nonzero coefficients can be computed. That is the implementation you propose is consistent with the case of Laurent polynomials.",
    "created_at": "2014-12-16T16:46:03Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235842",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:13'></a>

```diff
+ val = l[0][1]
+ if val < 0:
+ raise ValueError("Cannot return dense coefficient list with negative valuation.")
```

I can understand the rationale behind this `ValueError`. Yet, couldn't this be useful in some cases to have a dense list of coefficients, even if the first one is not the constant coefficient? In some sense, since the user has to specify `sparse=dense`, she knows what she is doing. I feel like it is better not to raise exceptions when a meaningful (and not too misleading) answer exists.

Yet, I just checked the situation for Laurent polynomials and it appears that only the list of nonzero coefficients can be computed. That is the implementation you propose is consistent with the case of Laurent polynomials.



---

archive/issue_comments_235843.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [rws](#comment%3A12):\n> You really should use git so you don't need to download tarballs. How would you apply this branch or upload trac without git, anyway?\n\n\nI **am** using git, and following the sage developer manual, to boot. How would I upgrade source from 6.3 to 6.5 without downloading the latest tar ball? even if I did, how would I avoid recompiling source when there are so many changes between branches?",
    "created_at": "2014-12-16T16:50:15Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235843",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:14'></a>
Replying to [rws](#comment%3A12):
> You really should use git so you don't need to download tarballs. How would you apply this branch or upload trac without git, anyway?


I **am** using git, and following the sage developer manual, to boot. How would I upgrade source from 6.3 to 6.5 without downloading the latest tar ball? even if I did, how would I avoid recompiling source when there are so many changes between branches?



---

archive/issue_comments_235844.json:
```json
{
    "body": "<a id='comment:15'></a>\nGiven you have cloned `github.com/sagemath/sage` twice (master, develop) you checkout develop and say `git pull`. Whatever version you had, now you have 6.5beta2. Whenever you `git trac checkout 17438` you will have the version that I was using on upload, i.e., 6.5beta1.\n\nThe best strategy for you with an old clone would be to pull HEAD (=6.5beta2), `make clean; make` then `git trac checkout 17438`, and now NOT `make` but `sage -b`. Also, installing ccache is very very recommended.",
    "created_at": "2014-12-16T16:57:45Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235844",
    "user": "https://github.com/rwst"
}
```

<a id='comment:15'></a>
Given you have cloned `github.com/sagemath/sage` twice (master, develop) you checkout develop and say `git pull`. Whatever version you had, now you have 6.5beta2. Whenever you `git trac checkout 17438` you will have the version that I was using on upload, i.e., 6.5beta1.

The best strategy for you with an old clone would be to pull HEAD (=6.5beta2), `make clean; make` then `git trac checkout 17438`, and now NOT `make` but `sage -b`. Also, installing ccache is very very recommended.



---

archive/issue_comments_235845.json:
```json
{
    "body": "<a id='comment:16'></a>\nI forgot: Did I say that without `git-trac` development is tedious? Highly recommended.",
    "created_at": "2014-12-16T16:59:46Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235845",
    "user": "https://github.com/rwst"
}
```

<a id='comment:16'></a>
I forgot: Did I say that without `git-trac` development is tedious? Highly recommended.



---

archive/issue_comments_235846.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [rws](#comment%3A15):\n> Given you have cloned `github.com/sagemath/sage` twice (master, develop) you checkout develop and say `git pull`. Whatever version you had, now you have 6.5beta2. Whenever you `git trac checkout 17438` you will have the version that I was using on upload, i.e., 6.5beta1.\n\n\nOK, yes, I have a master; I have a develop; I had switched to develop (`checkout develop`) & recompiled. But I did not do a `git pull`, because the developer's manual says nothing* about that, aside from pulling, say, a particular branch (which is what I did: I pulled your branch, and compilation failed). Also, the Sage Developer's Guide says to create a new branch for a ticket (`git checkout` **`-b`** `my_branch FETCH_HEAD`) so that's what I did. Was that wrong, too?\n\n> The best strategy for you with an old clone would be to pull HEAD (=6.5beta2), `make clean; make` then `git trac checkout 17438`, and now NOT `make` but `sage -b`. Also, installing ccache is very very recommended.\n\n\nI could try that, though right now I have 6.5beta1 compiling, so I might as well stick with that for the time being.\n\n> Did I say that without `git-trac` development is tedious? Highly recommended.\n\n\nLots of people recommend it, but the Developer's Guide doesn't (\"you'll have to learn git eventually, anyway, so why not start now?\") and I'm actually working with other projects that use git (though not very much yet, & not very in-depth... just commit & push mostly).\n\n*I now see that it says nothing about that *in the section on checking out tickets.* In the section on *getting changes* it tells the reader, `git pull trac u/user/description`. Not sure if this is a contradiction, or something to be done sequentially, but I didn't infer that it was to be done sequentially, if so. So that could explain something.",
    "created_at": "2014-12-16T17:15:59Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235846",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:17'></a>
Replying to [rws](#comment%3A15):
> Given you have cloned `github.com/sagemath/sage` twice (master, develop) you checkout develop and say `git pull`. Whatever version you had, now you have 6.5beta2. Whenever you `git trac checkout 17438` you will have the version that I was using on upload, i.e., 6.5beta1.


OK, yes, I have a master; I have a develop; I had switched to develop (`checkout develop`) & recompiled. But I did not do a `git pull`, because the developer's manual says nothing* about that, aside from pulling, say, a particular branch (which is what I did: I pulled your branch, and compilation failed). Also, the Sage Developer's Guide says to create a new branch for a ticket (`git checkout` **`-b`** `my_branch FETCH_HEAD`) so that's what I did. Was that wrong, too?

> The best strategy for you with an old clone would be to pull HEAD (=6.5beta2), `make clean; make` then `git trac checkout 17438`, and now NOT `make` but `sage -b`. Also, installing ccache is very very recommended.


I could try that, though right now I have 6.5beta1 compiling, so I might as well stick with that for the time being.

> Did I say that without `git-trac` development is tedious? Highly recommended.


Lots of people recommend it, but the Developer's Guide doesn't ("you'll have to learn git eventually, anyway, so why not start now?") and I'm actually working with other projects that use git (though not very much yet, & not very in-depth... just commit & push mostly).

*I now see that it says nothing about that *in the section on checking out tickets.* In the section on *getting changes* it tells the reader, `git pull trac u/user/description`. Not sure if this is a contradiction, or something to be done sequentially, but I didn't infer that it was to be done sequentially, if so. So that could explain something.



---

archive/issue_comments_235847.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [rws](#comment%3A15):\n> ... then `git trac checkout 17438`, and now NOT `make` but `sage -b`.\n\n\nAlso, I typically use `sage -b`, and invoke `make` only when first building sage. There was a discussion a while back on sage-devel about the fact that `sage -b` unnecessarily forces recompilation sometimes when only a couple of Python files have changed, and that was the first I recall reading that one is supposed to `make` Sage even during development at times.",
    "created_at": "2014-12-16T17:22:25Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235847",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:18'></a>
Replying to [rws](#comment%3A15):
> ... then `git trac checkout 17438`, and now NOT `make` but `sage -b`.


Also, I typically use `sage -b`, and invoke `make` only when first building sage. There was a discussion a while back on sage-devel about the fact that `sage -b` unnecessarily forces recompilation sometimes when only a couple of Python files have changed, and that was the first I recall reading that one is supposed to `make` Sage even during development at times.



---

archive/issue_comments_235848.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [john_perry](#comment%3A17):\n> ... Also, the Sage Developer's Guide says to create a new branch for a ticket (`git checkout` **`-b`** `my_branch FETCH_HEAD`) so that's what I did. Was that wrong, too?\n  \nNo, there are several ways to skin a cat.\n> `git pull trac u/user/description`. Not sure if this is a contradiction...\n\nThat is actually not `git-trac` but using git with the argument `trac` (which is set in your `.git/config`.\n\nIt may well be that you will only appreciate the `git-trac` tool when you're more familiar with git and Sage. For why `git pull` is done: as developer you always want to work in your own projects with the newest code---this does a sync with the repo.",
    "created_at": "2014-12-16T17:34:48Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235848",
    "user": "https://github.com/rwst"
}
```

<a id='comment:19'></a>
Replying to [john_perry](#comment%3A17):
> ... Also, the Sage Developer's Guide says to create a new branch for a ticket (`git checkout` **`-b`** `my_branch FETCH_HEAD`) so that's what I did. Was that wrong, too?
  
No, there are several ways to skin a cat.
> `git pull trac u/user/description`. Not sure if this is a contradiction...

That is actually not `git-trac` but using git with the argument `trac` (which is set in your `.git/config`.

It may well be that you will only appreciate the `git-trac` tool when you're more familiar with git and Sage. For why `git pull` is done: as developer you always want to work in your own projects with the newest code---this does a sync with the repo.



---

archive/issue_comments_235849.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [rws](#comment%3A19):\n> For why `git pull` is done: as developer you always want to work in your own projects with the newest code---this does a sync with the repo.\n\n\nEither way, I still seem stuck with a two-hour recompilation, except that at the moment I'm getting it from *both* the tarball *and* the git pull. :-)",
    "created_at": "2014-12-16T17:41:43Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235849",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:20'></a>
Replying to [rws](#comment%3A19):
> For why `git pull` is done: as developer you always want to work in your own projects with the newest code---this does a sync with the repo.


Either way, I still seem stuck with a two-hour recompilation, except that at the moment I'm getting it from *both* the tarball *and* the git pull. :-)



---

archive/issue_comments_235850.json:
```json
{
    "body": "<a id='comment:21'></a>\nAfter updating my `develop` branch per your instructions, importing your branch still prompts Sage to recompile Cython code, with near-immediate failure at `sage/algebras/quatalg/quaternion_algebra_cython.pyx`. (I appreciate the near-immediate failure. Failure 30 minutes into recompilation Cython would be mildly annoying.)\n\nI'll try anew when the fresh compile of 6.5 finishes. That could take a while; right now it's working on ppl.",
    "created_at": "2014-12-16T19:47:56Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235850",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:21'></a>
After updating my `develop` branch per your instructions, importing your branch still prompts Sage to recompile Cython code, with near-immediate failure at `sage/algebras/quatalg/quaternion_algebra_cython.pyx`. (I appreciate the near-immediate failure. Failure 30 minutes into recompilation Cython would be mildly annoying.)

I'll try anew when the fresh compile of 6.5 finishes. That could take a while; right now it's working on ppl.



---

archive/issue_comments_235851.json:
```json
{
    "body": "<a id='comment:22'></a>\nI was able to merge it into the fresh build of 6.5. Compiled with no problems; now running doctests.\n\nI'm going to open a new ticket \"soon\" for my version. Would you advise opening a new branch on top of this ticket, or opening a new branch from my develop branch & going from there?",
    "created_at": "2014-12-17T03:58:27Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235851",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:22'></a>
I was able to merge it into the fresh build of 6.5. Compiled with no problems; now running doctests.

I'm going to open a new ticket "soon" for my version. Would you advise opening a new branch on top of this ticket, or opening a new branch from my develop branch & going from there?



---

archive/issue_comments_235852.json:
```json
{
    "body": "<a id='comment:23'></a>\nRan `sage -tp 2 -a` to ensure all doctests were run, since this has potentially wide ramifications. Did not run long doctests, since I don't see how they'd reveal anything different, but I can upon request. Doctests pass, reference documentation builds, code review makes sense, new doctests included to cover deprecation &c. Positive review.",
    "created_at": "2014-12-17T06:20:05Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235852",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:23'></a>
Ran `sage -tp 2 -a` to ensure all doctests were run, since this has potentially wide ramifications. Did not run long doctests, since I don't see how they'd reveal anything different, but I can upon request. Doctests pass, reference documentation builds, code review makes sense, new doctests included to cover deprecation &c. Positive review.



---

archive/issue_events_156440.json:
```json
{
    "actor": "https://github.com/johnperry-math",
    "created_at": "2014-12-17T06:20:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17438#event-156440"
}
```



---

archive/issue_events_156441.json:
```json
{
    "actor": "https://github.com/johnperry-math",
    "created_at": "2014-12-17T06:20:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17438#event-156441"
}
```



---

archive/issue_comments_235853.json:
```json
{
    "body": "<a id='comment:24'></a>\nThanks fo the review!\n\nReplying to [john_perry](#comment%3A22):\n> Would you advise opening a new branch on top of this ticket, or opening a new branch from my develop branch & going from there?\n\nI rechecked that all changed code in this ticket concerns symbolic expressions. Merging would only be necessary in case of merge conflict or a dependency on that code. But the `rings/` code is completely independent of the `symbolics/` code, as far as I know (and it should be).",
    "created_at": "2014-12-17T08:41:16Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235853",
    "user": "https://github.com/rwst"
}
```

<a id='comment:24'></a>
Thanks fo the review!

Replying to [john_perry](#comment%3A22):
> Would you advise opening a new branch on top of this ticket, or opening a new branch from my develop branch & going from there?

I rechecked that all changed code in this ticket concerns symbolic expressions. Merging would only be necessary in case of merge conflict or a dependency on that code. But the `rings/` code is completely independent of the `symbolics/` code, as far as I know (and it should be).



---

archive/issue_events_156442.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-12-17T23:21:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17438#event-156442"
}
```



---

archive/issue_events_156443.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-12-17T23:21:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17438#event-156443"
}
```



---

archive/issue_comments_235854.json:
```json
{
    "body": "<a id='comment:25'></a>\nreviewer name",
    "created_at": "2014-12-17T23:21:42Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235854",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:25'></a>
reviewer name



---

archive/issue_events_156444.json:
```json
{
    "actor": "https://github.com/johnperry-math",
    "created_at": "2014-12-17T23:27:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17438#event-156444"
}
```



---

archive/issue_events_156445.json:
```json
{
    "actor": "https://github.com/johnperry-math",
    "created_at": "2014-12-17T23:27:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17438#event-156445"
}
```



---

archive/issue_comments_235855.json:
```json
{
    "body": "**Reviewer:** john_perry",
    "created_at": "2014-12-17T23:27:59Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235855",
    "user": "https://github.com/johnperry-math"
}
```

**Reviewer:** john_perry



---

archive/issue_comments_235856.json:
```json
{
    "body": "<a id='comment:26'></a>\nSorry about that.",
    "created_at": "2014-12-17T23:27:59Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235856",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:26'></a>
Sorry about that.



---

archive/issue_comments_235857.json:
```json
{
    "body": "<a id='comment:27'></a>\nThe reviewer name is supposed to be your real name, not the trac account name.",
    "created_at": "2014-12-17T23:29:00Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235857",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'></a>
The reviewer name is supposed to be your real name, not the trac account name.



---

archive/issue_events_156446.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-12-18T07:37:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17438#event-156446"
}
```



---

archive/issue_events_156447.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-12-18T07:37:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17438#event-156447"
}
```



---

archive/issue_comments_235858.json:
```json
{
    "body": "<a id='comment:29'></a>\n\"`john_perry`\" changed to \"John Perry\". Let me know if it needs more changes.",
    "created_at": "2014-12-18T07:47:26Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235858",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:29'></a>
"`john_perry`" changed to "John Perry". Let me know if it needs more changes.



---

archive/issue_comments_235859.json:
```json
{
    "body": "**Changing reviewer** from \"john_perry\" to \"John Perry\".",
    "created_at": "2014-12-18T07:47:26Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235859",
    "user": "https://github.com/johnperry-math"
}
```

**Changing reviewer** from "john_perry" to "John Perry".



---

archive/issue_events_156448.json:
```json
{
    "actor": "https://github.com/johnperry-math",
    "created_at": "2014-12-18T07:47:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17438#event-156448"
}
```



---

archive/issue_events_156449.json:
```json
{
    "actor": "https://github.com/johnperry-math",
    "created_at": "2014-12-18T07:47:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17438#event-156449"
}
```



---

archive/issue_comments_235860.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/coefficients_of_symbolic_expressions_revamp](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/coefficients_of_symbolic_expressions_revamp)\" to \"[0fec129b1055535de50cf4e5c663662e0d877742](https://github.com/sagemath/sagetrac-mirror/commit/0fec129b1055535de50cf4e5c663662e0d877742)\".",
    "created_at": "2014-12-21T21:45:18Z",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17438#issuecomment-235860",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/rws/coefficients_of_symbolic_expressions_revamp](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/coefficients_of_symbolic_expressions_revamp)" to "[0fec129b1055535de50cf4e5c663662e0d877742](https://github.com/sagemath/sagetrac-mirror/commit/0fec129b1055535de50cf4e5c663662e0d877742)".



---

archive/issue_events_156450.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-12-21T21:45:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17438#event-156450"
}
```



---

archive/issue_events_156451.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b82e5e8e2d261b4082bfd1aa6d7b65ce23e99378",
    "created_at": "2014-12-21T21:45:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17438",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17438#event-156451"
}
```
