# Issue 17292: Make transparency work in jmol

archive/issues_017055.json:
```json
{
    "assignees": [],
    "body": "See [here](https://github.com/sagemath/sage/issues/16004#comment:150), where it is pointed out that we need to upgrade the `platformspeed` variable in the js in order for things to work properly for transparency in jsmol.\n\nUpstream package at http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.1.tar\n\nCC:  @novoselt @gutow @vbraun @strogdon @ppurka\n\nBranch/Commit: **[`63b2a0b`](https://github.com/sagemath/sagetrac-mirror/commit/63b2a0b449d046e909e16f1ef8367b658a878ae1)**\n\nUpstream: **Fixed upstream, in a later stable release.**\n\nReviewer: **Jonathan Gutow, Andrey Novoseltsev**\n\nAuthor: **Karl-Dieter Crisman**\n\nComponent: **notebook**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17292_\n\n",
    "closed_at": "2014-11-11T17:00:05Z",
    "created_at": "2014-11-05T13:02:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make transparency work in jmol",
    "type": "issue",
    "updated_at": "2014-11-11T17:00:05Z",
    "url": "https://github.com/sagemath/sage/issues/17292",
    "user": "https://github.com/kcrisman"
}
```
See [here](https://github.com/sagemath/sage/issues/16004#comment:150), where it is pointed out that we need to upgrade the `platformspeed` variable in the js in order for things to work properly for transparency in jsmol.

Upstream package at http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.1.tar

CC:  @novoselt @gutow @vbraun @strogdon @ppurka

Branch/Commit: **[`63b2a0b`](https://github.com/sagemath/sagetrac-mirror/commit/63b2a0b449d046e909e16f1ef8367b658a878ae1)**

Upstream: **Fixed upstream, in a later stable release.**

Reviewer: **Jonathan Gutow, Andrey Novoseltsev**

Author: **Karl-Dieter Crisman**

Component: **notebook**

_Issue created by migration from https://trac.sagemath.org/ticket/17292_





---

archive/issue_events_247951.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-05T13:02:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247951"
}
```



---

archive/issue_events_247952.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-05T13:02:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247952"
}
```



---

archive/issue_events_247953.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-05T13:02:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247953"
}
```



---

archive/issue_events_247954.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-05T13:02:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247954"
}
```



---

archive/issue_comments_230939.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\n[The Jmol wiki](http://wiki.jmol.org/index.php/JSmol_pros_and_cons) says\n> HTML5 is significantly slower than Java. For large systems it is strongly advised to use the set platformSpeed setting (or allow the user to set that). Smaller molecules (<10,000 atoms) are handled quite well. Large molecules (>20,000 atoms; see table at right) may be slow to load and process.\n\nAlso note it says IE is \"unworkably slow\" with the jsmol option, though I don't know how authoritative this is.\n\nAt the very least, maybe we need a little documentation for this somewhere, in addition to setting this.  I don't think we want to get in the business of checking whether a plot has transparency and then sending a message to Jmol...",
    "created_at": "2014-11-05T13:46:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230939",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:1" align="right">comment:1</div>

[The Jmol wiki](http://wiki.jmol.org/index.php/JSmol_pros_and_cons) says
> HTML5 is significantly slower than Java. For large systems it is strongly advised to use the set platformSpeed setting (or allow the user to set that). Smaller molecules (<10,000 atoms) are handled quite well. Large molecules (>20,000 atoms; see table at right) may be slow to load and process.

Also note it says IE is "unworkably slow" with the jsmol option, though I don't know how authoritative this is.

At the very least, maybe we need a little documentation for this somewhere, in addition to setting this.  I don't think we want to get in the business of checking whether a plot has transparency and then sending a message to Jmol...



---

archive/issue_comments_230940.json:
```json
{
    "body": "Upstream: **Workaround found; Bug reported upstream.**",
    "created_at": "2014-11-05T13:49:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230940",
    "user": "https://github.com/kcrisman"
}
```

Upstream: **Workaround found; Bug reported upstream.**



---

archive/issue_comments_230941.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nSee https://github.com/sagemath/sagenb/issues/254 for upstream.",
    "created_at": "2014-11-05T13:49:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230941",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

See https://github.com/sagemath/sagenb/issues/254 for upstream.



---

archive/issue_comments_230942.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nHold up, is it only while *spinning*/moving that this is not supported?  I can confirm this.  Maybe in that case this could be downgraded.  What do you guys think?\n\nUpdate: In fact, this also happens whenever right-clicking on the menu.  In addition, the \"animation\" menu is whited-out.  Finally, it even seems to happen with the java, not just jsmol version.  Is that possible?",
    "created_at": "2014-11-05T16:34:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230942",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:3" align="right">comment:3</div>

Hold up, is it only while *spinning*/moving that this is not supported?  I can confirm this.  Maybe in that case this could be downgraded.  What do you guys think?

Update: In fact, this also happens whenever right-clicking on the menu.  In addition, the "animation" menu is whited-out.  Finally, it even seems to happen with the java, not just jsmol version.  Is that possible?



---

archive/issue_comments_230943.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAnd we couldn't do it dynamically easily in any case because there is some horrendous minification that goes on with notebook_dynamic.js which is where the relevant file is included.",
    "created_at": "2014-11-05T16:43:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230943",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:4" align="right">comment:4</div>

And we couldn't do it dynamically easily in any case because there is some horrendous minification that goes on with notebook_dynamic.js which is where the relevant file is included.



---

archive/issue_comments_230944.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe animation menu still is whited-out with speed 7, though now the transparency indeed works.  Plots with many points are indeed perhaps *even* slower, and are truly much faster with the java.  That said, I don't know that they are enough slower for me to notice that much, because they are just very slow without java.  (This only applies to the really big plot points, of course, not defaults.)\n\nMaybe this needs some really obvious documentation to \"use java for big plots\" in the plot3d documentation, maybe even in the \"Help\" link that one clicks for the notebook.  I don't want to go back to Sage 3d graphics being unusable on many browsers.  And this was truly a one-character change.",
    "created_at": "2014-11-05T17:52:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230944",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">comment:5</div>

The animation menu still is whited-out with speed 7, though now the transparency indeed works.  Plots with many points are indeed perhaps *even* slower, and are truly much faster with the java.  That said, I don't know that they are enough slower for me to notice that much, because they are just very slow without java.  (This only applies to the really big plot points, of course, not defaults.)

Maybe this needs some really obvious documentation to "use java for big plots" in the plot3d documentation, maybe even in the "Help" link that one clicks for the notebook.  I don't want to go back to Sage 3d graphics being unusable on many browsers.  And this was truly a one-character change.



---

archive/issue_comments_230945.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nPersonally I find it extremely annoying that transparency changes when I click on a plot, since it is not just hiding some parts, it is greatly changing/flashing the whole thing.\n\nOn a more objective note - the point of transparency is to be able to see things which are hidden otherwise to get a better sense of the plot. And the point of spinning the plot around is the same. With this new setting you can only benefit from one or the other but not both.\n\nRegarding speed issues - can we get some examples of Sage plots which we should \"test\"? Just getting things slow with many points is a bit pointless - for what plots it is really necessary to increase the number of points?",
    "created_at": "2014-11-05T19:48:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230945",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:6" align="right">comment:6</div>

Personally I find it extremely annoying that transparency changes when I click on a plot, since it is not just hiding some parts, it is greatly changing/flashing the whole thing.

On a more objective note - the point of transparency is to be able to see things which are hidden otherwise to get a better sense of the plot. And the point of spinning the plot around is the same. With this new setting you can only benefit from one or the other but not both.

Regarding speed issues - can we get some examples of Sage plots which we should "test"? Just getting things slow with many points is a bit pointless - for what plots it is really necessary to increase the number of points?



---

archive/issue_comments_230946.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n> On a more objective note - the point of transparency is to be able to see things which are hidden otherwise to get a better sense of the plot. And the point of spinning the plot around is the same. With this new setting you can only benefit from one or the other but not both.\n\nYes.  Well, changing the platform speed will be the way to go, then.  Can you take care of the sagenb package for this iteration?\n> Regarding speed issues - can we get some examples of Sage plots which we should \"test\"? Just getting things slow with many points is a bit pointless - for what plots it is really necessary to increase the number of points?\n\nNo no, I always use something like\n\n```\nvar('y')\nplot3d(sin(x^2+y^2),(x,0,10),(y,0,10))\n```\nwhere an increased number of points makes a *very* noticeable difference.",
    "created_at": "2014-11-05T20:26:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230946",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:7" align="right">comment:7</div>

> On a more objective note - the point of transparency is to be able to see things which are hidden otherwise to get a better sense of the plot. And the point of spinning the plot around is the same. With this new setting you can only benefit from one or the other but not both.

Yes.  Well, changing the platform speed will be the way to go, then.  Can you take care of the sagenb package for this iteration?
> Regarding speed issues - can we get some examples of Sage plots which we should "test"? Just getting things slow with many points is a bit pointless - for what plots it is really necessary to increase the number of points?

No no, I always use something like

```
var('y')
plot3d(sin(x^2+y^2),(x,0,10),(y,0,10))
```
where an increased number of points makes a *very* noticeable difference.



---

archive/issue_comments_230947.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nPlaying some more, platformspeed 6 is the first one which shows the plot at all during rotation, 7 includes transparency, and 8 includes antialiasing as well. Which is greatly affecting shape and size of \"thick curves\" and \"fat points\". In fact, with 8 I can see no differences while rotating and while not rotating and I think this should be the default (it certainly was the default before). I don't know what is changing between 8 and 10.\n\nWith 200 points your sin plot works OK for me and while on 6 it may be faster, it is not at all the difference between OK and unusable. This is on a fast desktop (4GHz cores) and I'll try to test on a slower machine as well, however I am for default of 8 regardless of outcomes.\n\nAs for packaging the next version - I am hesitant to commit since I tend to lag behind...",
    "created_at": "2014-11-05T20:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230947",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:8" align="right">comment:8</div>

Playing some more, platformspeed 6 is the first one which shows the plot at all during rotation, 7 includes transparency, and 8 includes antialiasing as well. Which is greatly affecting shape and size of "thick curves" and "fat points". In fact, with 8 I can see no differences while rotating and while not rotating and I think this should be the default (it certainly was the default before). I don't know what is changing between 8 and 10.

With 200 points your sin plot works OK for me and while on 6 it may be faster, it is not at all the difference between OK and unusable. This is on a fast desktop (4GHz cores) and I'll try to test on a slower machine as well, however I am for default of 8 regardless of outcomes.

As for packaging the next version - I am hesitant to commit since I tend to lag behind...



---

archive/issue_comments_230948.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nJust noticed this. Should the individuals listed opposite Authors: really be opposite Cc:",
    "created_at": "2014-11-06T00:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230948",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:9" align="right">comment:9</div>

Just noticed this. Should the individuals listed opposite Authors: really be opposite Cc:



---

archive/issue_comments_230949.json:
```json
{
    "body": "Changed author from **novoselt, gutow, vbraun, strogdon** to none",
    "created_at": "2014-11-06T00:36:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230949",
    "user": "https://github.com/novoselt"
}
```

Changed author from **novoselt, gutow, vbraun, strogdon** to none



---

archive/issue_comments_230950.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n> Just noticed this. Should the individuals listed opposite Authors: really be opposite Cc:\n\nWow, I *really* must have been in a hurry when I opened this one!  Sorry.",
    "created_at": "2014-11-06T01:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230950",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:11" align="right">comment:11</div>

> Just noticed this. Should the individuals listed opposite Authors: really be opposite Cc:

Wow, I *really* must have been in a hurry when I opened this one!  Sorry.



---

archive/issue_comments_230951.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n> Playing some more, platformspeed 6 is the first one which shows the plot at all during rotation, 7 includes transparency, and 8 includes antialiasing as well. Which is greatly affecting shape and size of \"thick curves\" and \"fat points\". In fact, with 8 I can see no differences while rotating and while not rotating and I think this should be the default (it certainly was the default before). I don't know what is changing between 8 and 10.\n\nI'm not sure it's changing anything.\n> With 200 points your sin plot works OK for me and while on 6 it may be faster, it is not at all the difference between OK and unusable. This is on a fast desktop (4GHz cores) and I'll try to test on a slower machine as well, however I am for default of 8 regardless of outcomes.\n\nIt's definitely very, very slow for me on my 2.3 GHz i7.  Probably also depends on the browser.  (By the way, for some reason I can use Java in Chrome; maybe it's just Chromium where it doesn't work.)  I really wouldn't go above the 7 in case it really does do something.   Among other reasons, because the doc for this at http://chemapps.stolaf.edu/jmol/jsmol/test2.htm suggests that for tablets or other mobile devices one will have problems with higher values.",
    "created_at": "2014-11-06T01:46:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230951",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:12" align="right">comment:12</div>

> Playing some more, platformspeed 6 is the first one which shows the plot at all during rotation, 7 includes transparency, and 8 includes antialiasing as well. Which is greatly affecting shape and size of "thick curves" and "fat points". In fact, with 8 I can see no differences while rotating and while not rotating and I think this should be the default (it certainly was the default before). I don't know what is changing between 8 and 10.

I'm not sure it's changing anything.
> With 200 points your sin plot works OK for me and while on 6 it may be faster, it is not at all the difference between OK and unusable. This is on a fast desktop (4GHz cores) and I'll try to test on a slower machine as well, however I am for default of 8 regardless of outcomes.

It's definitely very, very slow for me on my 2.3 GHz i7.  Probably also depends on the browser.  (By the way, for some reason I can use Java in Chrome; maybe it's just Chromium where it doesn't work.)  I really wouldn't go above the 7 in case it really does do something.   Among other reasons, because the doc for this at http://chemapps.stolaf.edu/jmol/jsmol/test2.htm suggests that for tablets or other mobile devices one will have problems with higher values.



---

archive/issue_comments_230952.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI'm pretty sure I picked 6 because that was the only thing that worked OK on tablets.  Unfortunately, I do not have a test server set up with 6.4.rc1 on which to retest this.  Here's a way we can all do device checking and report back.  I have some web pages set up that have complex enough things that we should be able to tell.\n1. go to [hybrid orbitals](http://www.uwosh.edu/faculty_staff/gutow/Orbitals/N/sp3%20hybrid.shtml)\n2. select a different orbital in each popup\n3. set two of them to transparent\n4. set another to mesh\n5. use the right-click menu to bring up the console\n6. test \"set platformspeed = X\", where X = 6  through 8.\n7. report back with device details.\n\n(may not work on all touch devices as I have had trouble getting the equivalent of a right-click)\n\nMy first report:\ni3 portable that tops out at 1.8 GHZ (usually runs at 800 MHz) 8 or higher is fine on. Tested in Firefox and Chromium on Ubuntu 14.04.",
    "created_at": "2014-11-06T02:28:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230952",
    "user": "https://github.com/gutow"
}
```

<div id="comment:13" align="right">comment:13</div>

I'm pretty sure I picked 6 because that was the only thing that worked OK on tablets.  Unfortunately, I do not have a test server set up with 6.4.rc1 on which to retest this.  Here's a way we can all do device checking and report back.  I have some web pages set up that have complex enough things that we should be able to tell.
1. go to [hybrid orbitals](http://www.uwosh.edu/faculty_staff/gutow/Orbitals/N/sp3%20hybrid.shtml)
2. select a different orbital in each popup
3. set two of them to transparent
4. set another to mesh
5. use the right-click menu to bring up the console
6. test "set platformspeed = X", where X = 6  through 8.
7. report back with device details.

(may not work on all touch devices as I have had trouble getting the equivalent of a right-click)

My first report:
i3 portable that tops out at 1.8 GHZ (usually runs at 800 MHz) 8 or higher is fine on. Tested in Firefox and Chromium on Ubuntu 14.04.



---

archive/issue_comments_230953.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nBetter test page [Standard JSmol test page](http://chemapps.stolaf.edu/jmol/jsmol/test2.htm)\n\n1. select pmesh `\"data/sage.pmesh\"` from about 2/3 of the way down the second column of links.\n2. try the different platforms speeds by clicking on the numbers below the image",
    "created_at": "2014-11-06T02:41:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230953",
    "user": "https://github.com/gutow"
}
```

<div id="comment:14" align="right">comment:14</div>

Better test page [Standard JSmol test page](http://chemapps.stolaf.edu/jmol/jsmol/test2.htm)

1. select pmesh `"data/sage.pmesh"` from about 2/3 of the way down the second column of links.
2. try the different platforms speeds by clicking on the numbers below the image



---

archive/issue_comments_230954.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOriginal Ipad: 7 is acceptable, 8 is not.",
    "created_at": "2014-11-06T03:37:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230954",
    "user": "https://github.com/gutow"
}
```

<div id="comment:15" align="right">comment:15</div>

Original Ipad: 7 is acceptable, 8 is not.



---

archive/issue_comments_230955.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThanks for the test, Jonathan!\n\nOn my over **TEN YEARS OLD** laptop with Athlon 64 1.8GHz (and GeForce MX440 Go videocard) it works just fine with 8. On the other hand, three.js on this machine is completely unusable since WebGL is not supported and canvas is incredibly slow (many seconds to render a frame).\n\nWhile supporting old mobile devices is noble, I think that complicated 3D plots with a lot of points are more likely to be viewed on computers with adequate resources.\n\nNote also that the current situation (for a year) is that rotatable 3D plots are not working at all on all devices. With 8 we will get a great renderer for desktops/laptops and perhaps more recent tablets as well. And while with 7 situation is satisfactory as well, I still would prefer not to compromise - spinning manually or automatically is the most natural way to look at 3D plots and the higher quality we can achieve the better.",
    "created_at": "2014-11-06T04:41:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230955",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:16" align="right">comment:16</div>

Thanks for the test, Jonathan!

On my over **TEN YEARS OLD** laptop with Athlon 64 1.8GHz (and GeForce MX440 Go videocard) it works just fine with 8. On the other hand, three.js on this machine is completely unusable since WebGL is not supported and canvas is incredibly slow (many seconds to render a frame).

While supporting old mobile devices is noble, I think that complicated 3D plots with a lot of points are more likely to be viewed on computers with adequate resources.

Note also that the current situation (for a year) is that rotatable 3D plots are not working at all on all devices. With 8 we will get a great renderer for desktops/laptops and perhaps more recent tablets as well. And while with 7 situation is satisfactory as well, I still would prefer not to compromise - spinning manually or automatically is the most natural way to look at 3D plots and the higher quality we can achieve the better.



---

archive/issue_comments_230956.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nWhat about handheld devices like phones, many are less capable then my original Ipad? Anybody got an iphone 4, droid mini, of galaxy III?",
    "created_at": "2014-11-06T05:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230956",
    "user": "https://github.com/gutow"
}
```

<div id="comment:17" align="right">comment:17</div>

What about handheld devices like phones, many are less capable then my original Ipad? Anybody got an iphone 4, droid mini, of galaxy III?



---

archive/issue_comments_230957.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nLet's make plots work first on real computers, please. Some of use use Sage for their work. I doubt that anybody is writing a paper or teaching classes on their iPhone 4. \n\nIt would be easy enough to add a javascript to pick out mobile devices depending on media query and degrade display, e.g. \n\n```\nvar fast = window.matchMedia( \"(min-width: 500px)\" );\n```\nwith a suitable try/catch for browser that don't support it.",
    "created_at": "2014-11-06T11:29:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230957",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">comment:18</div>

Let's make plots work first on real computers, please. Some of use use Sage for their work. I doubt that anybody is writing a paper or teaching classes on their iPhone 4. 

It would be easy enough to add a javascript to pick out mobile devices depending on media query and degrade display, e.g. 

```
var fast = window.matchMedia( "(min-width: 500px)" );
```
with a suitable try/catch for browser that don't support it.



---

archive/issue_comments_230958.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAlso, jsmol knows how long it takes to render each frame, right? It should just dynamically adjust the rendering quality to achieve >=30fps",
    "created_at": "2014-11-06T11:39:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230958",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:19" align="right">comment:19</div>

Also, jsmol knows how long it takes to render each frame, right? It should just dynamically adjust the rendering quality to achieve >=30fps



---

archive/issue_comments_230959.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nIMHO this is not a blocker, more of an annoyance.",
    "created_at": "2014-11-06T11:40:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230959",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

IMHO this is not a blocker, more of an annoyance.



---

archive/issue_comments_230960.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n> IMHO this is not a blocker, more of an annoyance.\n\nOnce I realized that it was only for rotation, I was thinking of downgrading to critical, but Andrey's point was actually fairly compelling.\n\nAndrey and Jonathan, we can either fix this *fast* or dither about choices and not get it in.  I think 7 is a good compromise but I don't think we are going to have the energy to put in some extra javascript, or at least I won't.\n\n---\n\n> I doubt that anybody is writing a paper or teaching classes on their iPhone 4. \n\nVolker, you wrote the Android app - how does it deal with 3d images?  (I don't have iOS or Android so I can't test this, and the current Google Play page doesn't have an example pictured.)  If the apps using cell server aren't doing 3d graphics anyway, then I wouldn't worry about it, it's relatively less frequent that people are doing intense graphics on such platforms, I imagine, since sagenb isn't optimized for mobile devices (at all).\n\nIncidentally, the recent reviews at [the Android app site](https://play.google.com/store/apps/details?id=org.sagemath.droid&hl=en) are fairly negative - that's sad, because from everything I heard it was actually pretty awesome.  I don't think sagecell has been having problems - or has it?\n\n> Also, jsmol knows how long it takes to render each frame, right? It should just dynamically adjust the rendering quality to achieve >=30fps\n\nJonathan can report that upstream...",
    "created_at": "2014-11-06T13:30:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230960",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:21" align="right">comment:21</div>

> IMHO this is not a blocker, more of an annoyance.

Once I realized that it was only for rotation, I was thinking of downgrading to critical, but Andrey's point was actually fairly compelling.

Andrey and Jonathan, we can either fix this *fast* or dither about choices and not get it in.  I think 7 is a good compromise but I don't think we are going to have the energy to put in some extra javascript, or at least I won't.

---

> I doubt that anybody is writing a paper or teaching classes on their iPhone 4. 

Volker, you wrote the Android app - how does it deal with 3d images?  (I don't have iOS or Android so I can't test this, and the current Google Play page doesn't have an example pictured.)  If the apps using cell server aren't doing 3d graphics anyway, then I wouldn't worry about it, it's relatively less frequent that people are doing intense graphics on such platforms, I imagine, since sagenb isn't optimized for mobile devices (at all).

Incidentally, the recent reviews at [the Android app site](https://play.google.com/store/apps/details?id=org.sagemath.droid&hl=en) are fairly negative - that's sad, because from everything I heard it was actually pretty awesome.  I don't think sagecell has been having problems - or has it?

> Also, jsmol knows how long it takes to render each frame, right? It should just dynamically adjust the rendering quality to achieve >=30fps

Jonathan can report that upstream...



---

archive/issue_comments_230961.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nJava applets are not supported on Android.",
    "created_at": "2014-11-06T13:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230961",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:22" align="right">comment:22</div>

Java applets are not supported on Android.



---

archive/issue_comments_230962.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n> Java applets are not supported on Android.\n\nThanks, I didn't think about it that way.  And on iOS I guess you need various workarounds.  \n\nSo in other words, before the only option for 3d plotting in Sage on most tablets was canvas3d or Tachyon, neither of which are particularly good for that type of thing (spinning etc.).  Now, presumably we *will* be able to support them, even if pretty darn slow.\n\nSo come to consensus on 7 or 8, given those constraints, and then we can always try to add something later to detect browsers - if really necessary.",
    "created_at": "2014-11-06T13:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230962",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:23" align="right">comment:23</div>

> Java applets are not supported on Android.

Thanks, I didn't think about it that way.  And on iOS I guess you need various workarounds.  

So in other words, before the only option for 3d plotting in Sage on most tablets was canvas3d or Tachyon, neither of which are particularly good for that type of thing (spinning etc.).  Now, presumably we *will* be able to support them, even if pretty darn slow.

So come to consensus on 7 or 8, given those constraints, and then we can always try to add something later to detect browsers - if really necessary.



---

archive/issue_comments_230963.json:
```json
{
    "body": "Branch: **[u/gutow/new_jmol](https://github.com/sagemath/sagetrac-mirror/tree/u/gutow/new_jmol)**",
    "created_at": "2014-11-06T14:16:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230963",
    "user": "https://github.com/gutow"
}
```

Branch: **[u/gutow/new_jmol](https://github.com/sagemath/sagetrac-mirror/tree/u/gutow/new_jmol)**



---

archive/issue_comments_230964.json:
```json
{
    "body": "Commit: **[`a529db2`](https://github.com/sagemath/sagetrac-mirror/commit/a529db2a9e792b4cdc952976335122aa9ce64219)**",
    "created_at": "2014-11-06T14:17:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230964",
    "user": "https://github.com/gutow"
}
```

Commit: **[`a529db2`](https://github.com/sagemath/sagetrac-mirror/commit/a529db2a9e792b4cdc952976335122aa9ce64219)**



---

archive/issue_events_247955.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-11-06T14:17:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247955"
}
```



---

archive/issue_comments_230965.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThe commit I just pushed sets the default speed to 8.  Test please.\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4636610c9555d8eb747af7ee6d9489193035e996\"><code>4636610</code></a></td><td><code>Cache bust for jsmol (including on Chrome)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ca7bc6a9abc8b9f7385a05ae2eaf8e1897eb028\"><code>7ca7bc6</code></a></td><td><code>Merge pull request #3 from vbraun/new_jmol</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0d787058591a3408b25424e237de7217f9f16ec\"><code>f0d7870</code></a></td><td><code>Correct introspection js</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34a6a00faa7fb26484b77c7819760cd4d3ae45e6\"><code>34a6a00</code></a></td><td><code>CSS for introspect dialog style</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b00705be4873090fc3a5740a77fc7d1689416249\"><code>b00705b</code></a></td><td><code>Update CSS for styling dialog</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b16304ae17eafadbe896fbd3a3dd1a49dca0261\"><code>4b16304</code></a></td><td><code>Update sass for introspect dialog change</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72cc162d6fe161a18b1bcb7f22088685a55f6a19\"><code>72cc162</code></a></td><td><code>Merge branch 'testjsmol' of https://github.com/kcrisman/sagenb into kcrisman-css</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2417e485c4e849dd9aaea0701ff37ad2a8f28097\"><code>2417e48</code></a></td><td><code>Final changes for CSS to work properly on introspection popout</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ba586109789e91e00d2c75ff765558dc8b35dfd\"><code>6ba5861</code></a></td><td><code>Merge pull request #1 from kcrisman/testjsmol</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a529db2a9e792b4cdc952976335122aa9ce64219\"><code>a529db2</code></a></td><td><code>Improve JSmol/Jmol rendering during spin \"set platformspeed=8\"</code></td></tr></table>\n",
    "created_at": "2014-11-06T14:17:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230965",
    "user": "https://github.com/gutow"
}
```

<div id="comment:25" align="right">comment:25</div>

The commit I just pushed sets the default speed to 8.  Test please.

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4636610c9555d8eb747af7ee6d9489193035e996"><code>4636610</code></a></td><td><code>Cache bust for jsmol (including on Chrome)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ca7bc6a9abc8b9f7385a05ae2eaf8e1897eb028"><code>7ca7bc6</code></a></td><td><code>Merge pull request #3 from vbraun/new_jmol</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0d787058591a3408b25424e237de7217f9f16ec"><code>f0d7870</code></a></td><td><code>Correct introspection js</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34a6a00faa7fb26484b77c7819760cd4d3ae45e6"><code>34a6a00</code></a></td><td><code>CSS for introspect dialog style</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b00705be4873090fc3a5740a77fc7d1689416249"><code>b00705b</code></a></td><td><code>Update CSS for styling dialog</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b16304ae17eafadbe896fbd3a3dd1a49dca0261"><code>4b16304</code></a></td><td><code>Update sass for introspect dialog change</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72cc162d6fe161a18b1bcb7f22088685a55f6a19"><code>72cc162</code></a></td><td><code>Merge branch 'testjsmol' of https://github.com/kcrisman/sagenb into kcrisman-css</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2417e485c4e849dd9aaea0701ff37ad2a8f28097"><code>2417e48</code></a></td><td><code>Final changes for CSS to work properly on introspection popout</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ba586109789e91e00d2c75ff765558dc8b35dfd"><code>6ba5861</code></a></td><td><code>Merge pull request #1 from kcrisman/testjsmol</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a529db2a9e792b4cdc952976335122aa9ce64219"><code>a529db2</code></a></td><td><code>Improve JSmol/Jmol rendering during spin "set platformspeed=8"</code></td></tr></table>




---

archive/issue_comments_230966.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nFailed automerge suggests I missed some more recent commits (not sure how).  The last one is the one-liner we need.  It cannot conflict with anything else.",
    "created_at": "2014-11-06T14:20:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230966",
    "user": "https://github.com/gutow"
}
```

<div id="comment:26" align="right">comment:26</div>

Failed automerge suggests I missed some more recent commits (not sure how).  The last one is the one-liner we need.  It cannot conflict with anything else.



---

archive/issue_comments_230967.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nYou can't do it from here anyway, it has to be upstream, and then you can link to https://github.com/sagemath/sagenb/issues/254 from there.  I'm sorry, it continues to be very annoying that the sagenb is \"upstream\", I know...\n\nAnyway, I can just make the commit myself there as well without having to do any pushing, if you like.",
    "created_at": "2014-11-06T14:24:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230967",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:27" align="right">comment:27</div>

You can't do it from here anyway, it has to be upstream, and then you can link to https://github.com/sagemath/sagenb/issues/254 from there.  I'm sorry, it continues to be very annoying that the sagenb is "upstream", I know...

Anyway, I can just make the commit myself there as well without having to do any pushing, if you like.



---

archive/issue_comments_230968.json:
```json
{
    "body": "Work Issues: **new sagenb release**",
    "created_at": "2014-11-06T14:58:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230968",
    "user": "https://github.com/kcrisman"
}
```

Work Issues: **new sagenb release**



---

archive/issue_events_247956.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-06T14:58:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247956"
}
```



---

archive/issue_events_247957.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-06T14:58:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247957"
}
```



---

archive/issue_comments_230969.json:
```json
{
    "body": "Author: **Karl-Dieter Crisman**",
    "created_at": "2014-11-06T14:58:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230969",
    "user": "https://github.com/kcrisman"
}
```

Author: **Karl-Dieter Crisman**



---

archive/issue_comments_230970.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nOkay, confirmed and done at [this commit](https://github.com/sagemath/sagenb/commit/f5eef910f7791ed80a0538193dc2ba00c84d0c09).\n\nNow we just need a new sagenb release, probably waiting on https://github.com/sagemath/sagenb/issues/256 to be fixed.",
    "created_at": "2014-11-06T14:58:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230970",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:28" align="right">comment:28</div>

Okay, confirmed and done at [this commit](https://github.com/sagemath/sagenb/commit/f5eef910f7791ed80a0538193dc2ba00c84d0c09).

Now we just need a new sagenb release, probably waiting on https://github.com/sagemath/sagenb/issues/256 to be fixed.



---

archive/issue_comments_230971.json:
```json
{
    "body": "Reviewer: **Jonathan Gutow, Andrey Novoseltsev**",
    "created_at": "2014-11-06T14:58:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230971",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Jonathan Gutow, Andrey Novoseltsev**



---

archive/issue_comments_230972.json:
```json
{
    "body": "Changed upstream from **Workaround found; Bug reported upstream.** to **Fixed upstream, in a later stable release.**",
    "created_at": "2014-11-06T14:58:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230972",
    "user": "https://github.com/kcrisman"
}
```

Changed upstream from **Workaround found; Bug reported upstream.** to **Fixed upstream, in a later stable release.**



---

archive/issue_comments_230973.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nRegarding Android app: there were issues caused/exposed by my server setup changes that Volker has fixed at https://github.com/sagemath/sagecell/commit/8e5c8722e03bcd0bcd7a9fa67cf9c925ad99f7bf\n\nSageCell uses Java Jmol by default (meaning it is not working almost anywhere) and has some three.js support separate from SMC. Not sure what will happen when I merge all these changes, but probably JS Jmol will not just work magically ;-)",
    "created_at": "2014-11-06T17:21:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230973",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:29" align="right">comment:29</div>

Regarding Android app: there were issues caused/exposed by my server setup changes that Volker has fixed at https://github.com/sagemath/sagecell/commit/8e5c8722e03bcd0bcd7a9fa67cf9c925ad99f7bf

SageCell uses Java Jmol by default (meaning it is not working almost anywhere) and has some three.js support separate from SMC. Not sure what will happen when I merge all these changes, but probably JS Jmol will not just work magically ;-)



---

archive/issue_comments_230974.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\n> Regarding Android app: there were issues caused/exposed by my server setup changes that Volker has fixed at https://github.com/sagemath/sagecell/commit/8e5c8722e03bcd0bcd7a9fa67cf9c925ad99f7bf\n\nNice - probably good to change it soon, given all the angry reviews showing up on the app website.\n\n> SageCell uses Java Jmol by default (meaning it is not working almost anywhere) and has some three.js support separate from SMC. Not sure what will happen when I merge all these changes, but probably JS Jmol will not just work magically ;-)\n\nI think it should, right?  I forgot about the three.js stuff.",
    "created_at": "2014-11-06T17:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230974",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:30" align="right">comment:30</div>

> Regarding Android app: there were issues caused/exposed by my server setup changes that Volker has fixed at https://github.com/sagemath/sagecell/commit/8e5c8722e03bcd0bcd7a9fa67cf9c925ad99f7bf

Nice - probably good to change it soon, given all the angry reviews showing up on the app website.

> SageCell uses Java Jmol by default (meaning it is not working almost anywhere) and has some three.js support separate from SMC. Not sure what will happen when I merge all these changes, but probably JS Jmol will not just work magically ;-)

I think it should, right?  I forgot about the three.js stuff.



---

archive/issue_comments_230975.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nChange what soon? sagecell.sagemath.org has been running the fixed version shortly after Volker's fix and Android app was updated a couple days after it. My understanding is that it is working now.\n\nAnd given that !SageNB and SageCell have different resulting HTML and SageCell patches graphics code in Sage, I do not expect new Jmol work there right away. But we'll see!",
    "created_at": "2014-11-06T17:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230975",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:31" align="right">comment:31</div>

Change what soon? sagecell.sagemath.org has been running the fixed version shortly after Volker's fix and Android app was updated a couple days after it. My understanding is that it is working now.

And given that !SageNB and SageCell have different resulting HTML and SageCell patches graphics code in Sage, I do not expect new Jmol work there right away. But we'll see!



---

archive/issue_comments_230976.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n> Change what soon? sagecell.sagemath.org has been running the fixed version shortly after Volker's fix and Android app was updated a couple days after it. My understanding is that it is working now.\n\nOh, I didn't realize that - I guess I saw a review from October there, but it looks like you must have fixed it shortly thereafter.\n\n> And given that !SageNB and SageCell have different resulting HTML and SageCell patches graphics code in Sage, I do not expect new Jmol work there right away. But we'll see!\n\nHmm, that may be.  Let me know (not on this ticket, email) and I can test if you have a demo server at some point).",
    "created_at": "2014-11-06T17:38:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230976",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:32" align="right">comment:32</div>

> Change what soon? sagecell.sagemath.org has been running the fixed version shortly after Volker's fix and Android app was updated a couple days after it. My understanding is that it is working now.

Oh, I didn't realize that - I guess I saw a review from October there, but it looks like you must have fixed it shortly thereafter.

> And given that !SageNB and SageCell have different resulting HTML and SageCell patches graphics code in Sage, I do not expect new Jmol work there right away. But we'll see!

Hmm, that may be.  Let me know (not on this ticket, email) and I can test if you have a demo server at some point).



---

archive/issue_comments_230977.json:
```json
{
    "body": "Changed commit from **[`a529db2`](https://github.com/sagemath/sagetrac-mirror/commit/a529db2a9e792b4cdc952976335122aa9ce64219)** to none",
    "created_at": "2014-11-06T20:06:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230977",
    "user": "https://github.com/kcrisman"
}
```

Changed commit from **[`a529db2`](https://github.com/sagemath/sagetrac-mirror/commit/a529db2a9e792b4cdc952976335122aa9ce64219)** to none



---

archive/issue_comments_230978.json:
```json
{
    "body": "Changed branch from **[u/gutow/new_jmol](https://github.com/sagemath/sagetrac-mirror/tree/u/gutow/new_jmol)** to none",
    "created_at": "2014-11-06T20:06:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230978",
    "user": "https://github.com/kcrisman"
}
```

Changed branch from **[u/gutow/new_jmol](https://github.com/sagemath/sagetrac-mirror/tree/u/gutow/new_jmol)** to none



---

archive/issue_events_247958.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-07T03:00:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247958"
}
```



---

archive/issue_events_247959.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-07T03:00:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "000080",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247959"
}
```



---

archive/issue_comments_230979.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nWhats the plan for making a new sagenb release?",
    "created_at": "2014-11-09T12:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230979",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:35" align="right">comment:35</div>

Whats the plan for making a new sagenb release?



---

archive/issue_comments_230980.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nPlan is to do it today; I was waiting for the review of https://github.com/sagemath/sagenb/pull/259 though ppurka seemed to think there was something else \"wrong\" (but not badly) with `dist.sh`...",
    "created_at": "2014-11-10T13:11:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230980",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:36" align="right">comment:36</div>

Plan is to do it today; I was waiting for the review of https://github.com/sagemath/sagenb/pull/259 though ppurka seemed to think there was something else "wrong" (but not badly) with `dist.sh`...



---

archive/issue_comments_230981.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nI already fixed dist.sh in sagenb master.",
    "created_at": "2014-11-10T13:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230981",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:37" align="right">comment:37</div>

I already fixed dist.sh in sagenb master.



---

archive/issue_comments_230982.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\n> I already fixed dist.sh in sagenb master.\n\nOh!  I didn't see that, sagenb doesn't give me auto-notifications except on my own stuff - I assume that is configurable, though.",
    "created_at": "2014-11-10T13:35:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230982",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:38" align="right">comment:38</div>

> I already fixed dist.sh in sagenb master.

Oh!  I didn't see that, sagenb doesn't give me auto-notifications except on my own stuff - I assume that is configurable, though.



---

archive/issue_comments_230983.json:
```json
{
    "body": "Branch: **[u/kcrisman/17292](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/17292)**",
    "created_at": "2014-11-10T17:19:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230983",
    "user": "https://github.com/kcrisman"
}
```

Branch: **[u/kcrisman/17292](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/17292)**



---

archive/issue_events_247960.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-10T17:19:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247960"
}
```



---

archive/issue_events_247961.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-10T17:19:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247961"
}
```



---

archive/issue_comments_230984.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63b2a0b449d046e909e16f1ef8367b658a878ae1\"><code>63b2a0b</code></a></td><td><code>Upgrade sagenb to version 0.11.1</code></td></tr></table>\n",
    "created_at": "2014-11-10T17:19:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230984",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:39"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63b2a0b449d046e909e16f1ef8367b658a878ae1"><code>63b2a0b</code></a></td><td><code>Upgrade sagenb to version 0.11.1</code></td></tr></table>




---

archive/issue_comments_230985.json:
```json
{
    "body": "Commit: **[`63b2a0b`](https://github.com/sagemath/sagetrac-mirror/commit/63b2a0b449d046e909e16f1ef8367b658a878ae1)**",
    "created_at": "2014-11-10T17:19:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230985",
    "user": "https://github.com/kcrisman"
}
```

Commit: **[`63b2a0b`](https://github.com/sagemath/sagetrac-mirror/commit/63b2a0b449d046e909e16f1ef8367b658a878ae1)**



---

archive/issue_comments_230986.json:
```json
{
    "body": "Changed work issues from **new sagenb release** to none",
    "created_at": "2014-11-10T17:19:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230986",
    "user": "https://github.com/kcrisman"
}
```

Changed work issues from **new sagenb release** to none



---

archive/issue_comments_230987.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n See [here](https://github.com/sagemath/sage/issues/16004#comment:150), where it is pointed out that we need to upgrade the `platformspeed` variable in the js in order for things to work properly for transparency in jsmol.\n+\n+Upstream package at http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.1.tar\n``````\n",
    "created_at": "2014-11-10T17:19:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230987",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 See [here](https://github.com/sagemath/sage/issues/16004#comment:150), where it is pointed out that we need to upgrade the `platformspeed` variable in the js in order for things to work properly for transparency in jsmol.
+
+Upstream package at http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.1.tar
``````




---

archive/issue_comments_230988.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nOn the branch of the ticket:\n\n```\n$ sage -i http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.1.tar\n...\nFinished extraction\n/home/novoselt/sage/src/bin/sage-spkg: line 598: cd: sagenb-0.11.1.tar: No such file or directory\nError: after extracting, the directory sagenb-0.11.1.tar does not exist\n```\n\nAm I doing something wrong?",
    "created_at": "2014-11-10T19:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230988",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:40" align="right">comment:40</div>

On the branch of the ticket:

```
$ sage -i http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.1.tar
...
Finished extraction
/home/novoselt/sage/src/bin/sage-spkg: line 598: cd: sagenb-0.11.1.tar: No such file or directory
Error: after extracting, the directory sagenb-0.11.1.tar does not exist
```

Am I doing something wrong?



---

archive/issue_comments_230989.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nYou need to download the file yourself and put it into the upstream/ folder",
    "created_at": "2014-11-10T19:23:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230989",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:41" align="right">comment:41</div>

You need to download the file yourself and put it into the upstream/ folder



---

archive/issue_comments_230990.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nIt works! (As expected ;-))",
    "created_at": "2014-11-10T19:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230990",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:42" align="right">comment:42</div>

It works! (As expected ;-))



---

archive/issue_events_247962.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2014-11-10T19:50:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247962"
}
```



---

archive/issue_events_247963.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2014-11-10T19:50:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247963"
}
```



---

archive/issue_comments_230991.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\n> You need to download the file yourself and put it into the upstream/ folder\n\nBut I think that syntax used to work, correct?\n> It works! (As expected ;-))\n\nLet's hope there are finally no more issues!",
    "created_at": "2014-11-10T21:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230991",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:43" align="right">comment:43</div>

> You need to download the file yourself and put it into the upstream/ folder

But I think that syntax used to work, correct?
> It works! (As expected ;-))

Let's hope there are finally no more issues!



---

archive/issue_events_247964.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-11T17:00:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247964"
}
```



---

archive/issue_events_247965.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ff619e754d8814a7fe413427fdf20cdefbc2ca69",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-11-11T17:00:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17292#event-247965"
}
```



---

archive/issue_comments_230992.json:
```json
{
    "body": "Changed branch from **[u/kcrisman/17292](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/17292)** to **[`63b2a0b`](https://github.com/sagemath/sagetrac-mirror/commit/63b2a0b449d046e909e16f1ef8367b658a878ae1)**",
    "created_at": "2014-11-11T17:00:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17292#issuecomment-230992",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/kcrisman/17292](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/17292)** to **[`63b2a0b`](https://github.com/sagemath/sagetrac-mirror/commit/63b2a0b449d046e909e16f1ef8367b658a878ae1)**
