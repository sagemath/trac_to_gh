# Issue 17226: LatticePoset: add Frattini sublattice

archive/issues_016989.json:
```json
{
    "body": "Add a function that computes the Frattini sublattice, i.e. intersection of all proper sublattices of a lattice. AFAIK there is no known good algorithm for this. Maybe making even a slow function will make it easier to search for one.\n\n\nCC:  @tscrim\n\nKeywords: poset, lattice\n\nReviewer: Travis Scrimshaw\n\nAuthor: Jori M\u00e4ntysalo\n\nBranch: 24c94064ec51c2e539e6197c51e58d0769221c2d\n\nDependencies: #18567\n\nCommit: 24c94064ec51c2e539e6197c51e58d0769221c2d\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17226\n\n",
    "closed_at": "2015-09-01T14:06:54Z",
    "created_at": "2014-10-26T10:02:25Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "LatticePoset: add Frattini sublattice",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17226",
    "user": "https://github.com/jm58660"
}
```
Add a function that computes the Frattini sublattice, i.e. intersection of all proper sublattices of a lattice. AFAIK there is no known good algorithm for this. Maybe making even a slow function will make it easier to search for one.


CC:  @tscrim

Keywords: poset, lattice

Reviewer: Travis Scrimshaw

Author: Jori MÃ¤ntysalo

Branch: 24c94064ec51c2e539e6197c51e58d0769221c2d

Dependencies: #18567

Commit: 24c94064ec51c2e539e6197c51e58d0769221c2d

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17226





---

archive/issue_comments_225000.json:
```json
{
    "body": "Changing keywords from \"\" to \"poset, lattice\".",
    "created_at": "2014-11-23T07:46:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225000",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "poset, lattice".



---

archive/issue_comments_225001.json:
```json
{
    "body": "<a id='comment:6'></a>Travis, you might want to check this. I think that I did something wrong, as there is now included code for `maximal_sublattices()`, which should be only dependence. But at least you can see the new function.\n\nIt is not easy to find good example lattice. I'll continue searching. Maybe something with three maximal sublattices and so that the Frattini sublattice will something more than just a chain, but not almost all elements.\n\n---\nNew commits:",
    "created_at": "2015-08-25T07:20:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225001",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>Travis, you might want to check this. I think that I did something wrong, as there is now included code for `maximal_sublattices()`, which should be only dependence. But at least you can see the new function.

It is not easy to find good example lattice. I'll continue searching. Maybe something with three maximal sublattices and so that the Frattini sublattice will something more than just a chain, but not almost all elements.

---
New commits:



---

archive/issue_events_049870.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-08-25T07:20:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17226#event-49870"
}
```



---

archive/issue_comments_225002.json:
```json
{
    "body": "<a id='comment:7'></a>No, what you did is correct. You should merge in the dependency branches. If you don't need to, then there is no dependency. There are ways you can look at the differences in the code from one branch to another using git:\n\n```\ngit diff commit1 commit2\n```\nwhere `commit1` and `commit2` can be names of branches (which are simply pointers to commits).",
    "created_at": "2015-08-25T16:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225002",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>No, what you did is correct. You should merge in the dependency branches. If you don't need to, then there is no dependency. There are ways you can look at the differences in the code from one branch to another using git:

```
git diff commit1 commit2
```
where `commit1` and `commit2` can be names of branches (which are simply pointers to commits).



---

archive/issue_comments_225003.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-26T07:59:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225003",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_225004.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-08-26T08:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225004",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_225005.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:7 tscrim]:\n> No, what you did is correct.\n\n\nGood.\n\nThen I mark this as needs_review. I also added this and `maximal_sublattices()` to index of functions.\n\nI put the symbol of Frattini sublattice to documentation. Maybe it helps the reader, maybe not? I also use definition where Frattini sublattice of a lattice without proper sublattices (i.e. 1-element lattice) is the lattice itself. Compare to Frattini subgroup of 1-element group.\n\nI did not found any good and simple example. But they can be added later.",
    "created_at": "2015-08-26T08:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225005",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:9'></a>Replying to [comment:7 tscrim]:
> No, what you did is correct.


Good.

Then I mark this as needs_review. I also added this and `maximal_sublattices()` to index of functions.

I put the symbol of Frattini sublattice to documentation. Maybe it helps the reader, maybe not? I also use definition where Frattini sublattice of a lattice without proper sublattices (i.e. 1-element lattice) is the lattice itself. Compare to Frattini subgroup of 1-element group.

I did not found any good and simple example. But they can be added later.



---

archive/issue_comments_225006.json:
```json
{
    "body": "<a id='comment:10'></a>Btw, creation of a lattice always [pre]computes join and meet matrices. Now, a function returning lattice could precompute them faster - in this case just by taking right rows and colums from the matrices of original lattice.\n\nThis is not done here. I suppose that we got faster lattice creation in the future.",
    "created_at": "2015-08-26T10:15:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225006",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:10'></a>Btw, creation of a lattice always [pre]computes join and meet matrices. Now, a function returning lattice could precompute them faster - in this case just by taking right rows and colums from the matrices of original lattice.

This is not done here. I suppose that we got faster lattice creation in the future.



---

archive/issue_comments_225007.json:
```json
{
    "body": "<a id='comment:11'></a>Two minor nitpicks:\n\n```diff\n-        Frattini sublattice `\\Phi(L)` is the intersection of all\n+        The Frattini sublattice `\\Phi(L)` is the intersection of all\n         proper maximal sublattices of `L`. It is also the set of\n         \"non-generators\" - if the sublattice generated by set `S` of\n-        elements is whole lattice then also `S \\setminus \\Phi(L)`\n+        elements is whole lattice, then also `S \\setminus \\Phi(L)`\n         generates whole lattice.\n```\nOnce that's done, go ahead and set a positive review on my behalf. Thanks.\n\nI agree that using the join and meet matrices of the ambient lattice could be used to speedup sublattice creation. However, as you said, this would be a separate ticket.",
    "created_at": "2015-08-27T03:12:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225007",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>Two minor nitpicks:

```diff
-        Frattini sublattice `\Phi(L)` is the intersection of all
+        The Frattini sublattice `\Phi(L)` is the intersection of all
         proper maximal sublattices of `L`. It is also the set of
         "non-generators" - if the sublattice generated by set `S` of
-        elements is whole lattice then also `S \setminus \Phi(L)`
+        elements is whole lattice, then also `S \setminus \Phi(L)`
         generates whole lattice.
```
Once that's done, go ahead and set a positive review on my behalf. Thanks.

I agree that using the join and meet matrices of the ambient lattice could be used to speedup sublattice creation. However, as you said, this would be a separate ticket.



---

archive/issue_comments_225008.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-27T05:18:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225008",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_225009.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:11 tscrim]:\n\n> Two minor nitpicks:\n\n\nThanks. I corrected them. Can you still make a little check (and put on positive_review if it is good): I also added a todo-note to `hasse_diagram.py`, just to not forget it.",
    "created_at": "2015-08-27T05:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225009",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:13'></a>Replying to [comment:11 tscrim]:

> Two minor nitpicks:


Thanks. I corrected them. Can you still make a little check (and put on positive_review if it is good): I also added a todo-note to `hasse_diagram.py`, just to not forget it.



---

archive/issue_comments_225010.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-31T12:15:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225010",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_225011.json:
```json
{
    "body": "<a id='comment:15'></a>I removed the note, so that I can put this to positive_review as said by tscrim on comment 11.\n\nI may optimize this later, but for now it seems that I got several tickets on queue.",
    "created_at": "2015-08-31T12:17:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225011",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:15'></a>I removed the note, so that I can put this to positive_review as said by tscrim on comment 11.

I may optimize this later, but for now it seems that I got several tickets on queue.



---

archive/issue_comments_225012.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-08-31T12:17:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225012",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_225013.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-09-01T14:06:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17226#issuecomment-225013",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_049871.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-01T14:06:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17226",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17226#event-49871"
}
```
