# Issue 17941: Automatic guess of the groups in a GDD

archive/issues_017704.json:
```json
{
    "body": "This branch lets one define a GDD without specifying its groups. The automatic guess is performed in the `is_group_divisible_design` routine, as it also requires to list the pairs which appear in a block.\n\nNathann\n\nCC:  @nathanncohen @brettpim danziger @videlec\n\nKeywords: group divisible design, block design\n\nBranch/Commit: 7336c5c42f3f6272e55f578d4bbb392ec6ee3f6e\n\nReviewer: Vincent Delecroix\n\nAuthor: Nathann Cohen\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17941\n\n",
    "closed_at": "2015-06-08T20:28:48Z",
    "created_at": "2015-03-12T20:28:24Z",
    "labels": [
        "component: combinatorial designs"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Automatic guess of the groups in a GDD",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17941",
    "user": "https://github.com/brettpim"
}
```
This branch lets one define a GDD without specifying its groups. The automatic guess is performed in the `is_group_divisible_design` routine, as it also requires to list the pairs which appear in a block.

Nathann

CC:  @nathanncohen @brettpim danziger @videlec

Keywords: group divisible design, block design

Branch/Commit: 7336c5c42f3f6272e55f578d4bbb392ec6ee3f6e

Reviewer: Vincent Delecroix

Author: Nathann Cohen

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17941





---

archive/issue_comments_312146.json:
```json
{
    "body": "Changing branch from \"\" to \"public/17941\"",
    "created_at": "2015-03-15T12:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312146",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "public/17941"



---

archive/issue_comments_312147.json:
```json
{
    "body": "Changing author from \"\" to \"Nathann Cohen\"",
    "created_at": "2015-03-15T12:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312147",
    "user": "https://github.com/nathanncohen"
}
```

Changing author from "" to "Nathann Cohen"



---

archive/issue_events_058055.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "rename": {
        "from": "is_group_divisible_design enhancement",
        "to": "Automatic guess of the groups in a GDD"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17941#event-58055"
}
```



---

archive/issue_comments_312148.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-Add group divisible Incidence Structure checking which does not require user to hand groups to the method?  What would be most efficient method to do this?\n+This branch lets one define a GDD without specifying its groups. The automatic guess is performed in the `is_group_divisible_design` routine, as it also requires to list the pairs which appear in a block.\n+\n+Nathann\n``````\n",
    "created_at": "2015-03-15T12:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312148",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-Add group divisible Incidence Structure checking which does not require user to hand groups to the method?  What would be most efficient method to do this?
+This branch lets one define a GDD without specifying its groups. The automatic guess is performed in the `is_group_divisible_design` routine, as it also requires to list the pairs which appear in a block.
+
+Nathann
``````




---

archive/issue_comments_312149.json:
```json
{
    "body": "Changing commit from \"\" to \"6859373952230f33639e3eb021e2dc0fd1670dc6\"",
    "created_at": "2015-03-15T12:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312149",
    "user": "https://github.com/nathanncohen"
}
```

Changing commit from "" to "6859373952230f33639e3eb021e2dc0fd1670dc6"



---

archive/issue_comments_312150.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[6859373](https://github.com/sagemath/sagetrac-mirror/commit/6859373952230f33639e3eb021e2dc0fd1670dc6)|`trac #17941: Automatic guess of the groups in a GDD`|",
    "created_at": "2015-03-15T12:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312150",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[6859373](https://github.com/sagemath/sagetrac-mirror/commit/6859373952230f33639e3eb021e2dc0fd1670dc6)|`trac #17941: Automatic guess of the groups in a GDD`|



---

archive/issue_comments_312151.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-15T12:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312151",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_312152.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-16T09:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312152",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_312153.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2015-05-16T09:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312153",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_312154.json:
```json
{
    "body": "<a id='comment:2'></a>\n\n```\nsage -t --long src/sage/combinat/designs/designs_pyx.pyx\n**********************************************************************\nFile \"src/sage/combinat/designs/designs_pyx.pyx\", line 207, in sage.combinat.designs.designs_pyx.is_group_divisible_design\nFailed example:\n    is_group_divisible_design([range(40)],[[\"e\",2]],40,G=[5],lambd=1,verbose=True)\nExpected:\n    a group has size 40 while G=[5]\n    False\nGot:\n    e does not belong to [0,...,39]\n    False\n**********************************************************************\n```",
    "created_at": "2015-05-16T09:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312154",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'></a>

```
sage -t --long src/sage/combinat/designs/designs_pyx.pyx
**********************************************************************
File "src/sage/combinat/designs/designs_pyx.pyx", line 207, in sage.combinat.designs.designs_pyx.is_group_divisible_design
Failed example:
    is_group_divisible_design([range(40)],[["e",2]],40,G=[5],lambd=1,verbose=True)
Expected:
    a group has size 40 while G=[5]
    False
Got:
    e does not belong to [0,...,39]
    False
**********************************************************************
```



---

archive/issue_comments_312155.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[a328329](https://github.com/sagemath/sagetrac-mirror/commit/a32832909584aa7b8e510c04016aa95cc4dbc689)|`trac #17941: Automatic guess of the groups in a GDD`|\n|[884a359](https://github.com/sagemath/sagetrac-mirror/commit/884a359e7b5cf4d65000bbf67d9fa4aaf63c7bdb)|`trac #17941: Broken doctest`|",
    "created_at": "2015-05-16T10:25:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312155",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[a328329](https://github.com/sagemath/sagetrac-mirror/commit/a32832909584aa7b8e510c04016aa95cc4dbc689)|`trac #17941: Automatic guess of the groups in a GDD`|
|[884a359](https://github.com/sagemath/sagetrac-mirror/commit/884a359e7b5cf4d65000bbf67d9fa4aaf63c7bdb)|`trac #17941: Broken doctest`|



---

archive/issue_comments_312156.json:
```json
{
    "body": "Changing commit from \"6859373952230f33639e3eb021e2dc0fd1670dc6\" to \"884a359e7b5cf4d65000bbf67d9fa4aaf63c7bdb\"",
    "created_at": "2015-05-16T10:25:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312156",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6859373952230f33639e3eb021e2dc0fd1670dc6" to "884a359e7b5cf4d65000bbf67d9fa4aaf63c7bdb"



---

archive/issue_comments_312157.json:
```json
{
    "body": "<a id='comment:4'></a>\nSorry ! rebased and fixed.\n\nNathann",
    "created_at": "2015-05-16T10:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312157",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>
Sorry ! rebased and fixed.

Nathann



---

archive/issue_comments_312158.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-16T10:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312158",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_312159.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-06-01T19:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312159",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_312160.json:
```json
{
    "body": "<a id='comment:5'></a>\nHello,\n\nShouldn't\n\n```\nif matrix[i*n+j] == 0:\n    ...\n```\nbe\n\n```\nif matrix[i*n+j] < l:\n   ...\n```\nThis suggest to add an example with `lambd > 1`.\n\nVincent",
    "created_at": "2015-06-01T19:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312160",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
Hello,

Shouldn't

```
if matrix[i*n+j] == 0:
    ...
```
be

```
if matrix[i*n+j] < l:
   ...
```
This suggest to add an example with `lambd > 1`.

Vincent



---

archive/issue_comments_312161.json:
```json
{
    "body": "<a id='comment:6'></a>\nHello,\n\n> Shouldn't\n> \n> ```\n> if matrix[i*n+j] == 0:\n>     ...\n> ```\n> be\n> \n> ```\n> if matrix[i*n+j] < l:\n>    ...\n> ```\n\n\nBoth work. Consider the whole matrix: for the design to be a GDD, it must have two types of entries only: `0` or `l`.\n\n1) If the matrix is a real GDD, you can see that the two are equivalent\n2) If the matrix is not a GDD, the 'error' message will differ. (wrong size of groups, or a pair not present the right number of times, or two points of a group contained in the same set, ...)\n\n> This suggest to add an example with `lambd > 1`.\n\n\nDo you have an example in mind?\n\nNathann",
    "created_at": "2015-06-02T10:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312161",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'></a>
Hello,

> Shouldn't
> 
> ```
> if matrix[i*n+j] == 0:
>     ...
> ```
> be
> 
> ```
> if matrix[i*n+j] < l:
>    ...
> ```


Both work. Consider the whole matrix: for the design to be a GDD, it must have two types of entries only: `0` or `l`.

1) If the matrix is a real GDD, you can see that the two are equivalent
2) If the matrix is not a GDD, the 'error' message will differ. (wrong size of groups, or a pair not present the right number of times, or two points of a group contained in the same set, ...)

> This suggest to add an example with `lambd > 1`.


Do you have an example in mind?

Nathann



---

archive/issue_comments_312162.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-06-02T10:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312162",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_312163.json:
```json
{
    "body": "Changing commit from \"884a359e7b5cf4d65000bbf67d9fa4aaf63c7bdb\" to \"7336c5c42f3f6272e55f578d4bbb392ec6ee3f6e\"",
    "created_at": "2015-06-07T13:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312163",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "884a359e7b5cf4d65000bbf67d9fa4aaf63c7bdb" to "7336c5c42f3f6272e55f578d4bbb392ec6ee3f6e"



---

archive/issue_comments_312164.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[7336c5c](https://github.com/sagemath/sagetrac-mirror/commit/7336c5c42f3f6272e55f578d4bbb392ec6ee3f6e)|`Trac #17941: one missing sage_free + doc`|",
    "created_at": "2015-06-07T13:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312164",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[7336c5c](https://github.com/sagemath/sagetrac-mirror/commit/7336c5c42f3f6272e55f578d4bbb392ec6ee3f6e)|`Trac #17941: one missing sage_free + doc`|



---

archive/issue_comments_312165.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [ncohen](#comment%3A6):\n> Hello,\n> \n> > Shouldn't\n> > <SNIP>\n\n> \n> Both work. Consider the whole matrix: for the design to be a GDD, it must have two types of entries only: `0` or `l`.\n\n\nright!\n\n> > This suggest to add an example with `lambd > 1`.\n\n> \n> Do you have an example in mind?\n\n\nI added a dummy example.\n\nI am done with the review. Tell me what you think of `\u200b7336c5c`.\n\nVincent",
    "created_at": "2015-06-07T13:07:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312165",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>
Replying to [ncohen](#comment%3A6):
> Hello,
> 
> > Shouldn't
> > <SNIP>

> 
> Both work. Consider the whole matrix: for the design to be a GDD, it must have two types of entries only: `0` or `l`.


right!

> > This suggest to add an example with `lambd > 1`.

> 
> Do you have an example in mind?


I added a dummy example.

I am done with the review. Tell me what you think of `​7336c5c`.

Vincent



---

archive/issue_comments_312166.json:
```json
{
    "body": "<a id='comment:9'></a>\nOops. Thanks for the 'free' I forgot!\n\nNathann",
    "created_at": "2015-06-07T18:03:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312166",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>
Oops. Thanks for the 'free' I forgot!

Nathann



---

archive/issue_comments_312167.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-07T18:03:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312167",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_312168.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-08T20:28:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312168",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_312169.json:
```json
{
    "body": "Changing branch from \"public/17941\" to \"7336c5c42f3f6272e55f578d4bbb392ec6ee3f6e\"",
    "created_at": "2015-06-08T20:28:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17941#issuecomment-312169",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/17941" to "7336c5c42f3f6272e55f578d4bbb392ec6ee3f6e"



---

archive/issue_events_058056.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-08T20:28:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17941",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17941#event-58056"
}
```
