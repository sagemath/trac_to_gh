# Issue 17456: Speedup TIDES interface

archive/issues_017219.json:
```json
{
    "body": "Right now the interface to TIDES does a lot of symbolic expresion comparisons, which is very slow. This patch changes those comparisons to the corresponding strings, which is much faster.\n\nAs an example, the following problem:\n\n```\nsage: from sage.interfaces.tides import genfiles_mintides\nsage: f(x,t) = [sin(x*t)+cos(x)/sqrt(1+x^2+log(x)-5*exp(x^2+1))]\nsage: %time genfiles_mintides('/dev/null', '/dev/null', f, [1], 0, 10, 10, output='/dev/null')\nCPU times: user 9.31 s, sys: 46 ms, total: 9.35 s\nWall time: 9.32 s\n```\n\nWith the patch is reduced to:\n\n```\nsage: from sage.interfaces.tides import genfiles_mintides\nsage: f(x,t) = [sin(x*t)+cos(x)/sqrt(1+x^2+log(x)-5*exp(x^2+1))]\nsage: %time genfiles_mintides('/dev/null', '/dev/null', f, [1], 0, 10, 10, output='/dev/null')\nCPU times: user 838 ms, sys: 24 ms, total: 862 ms\nWall time: 854 ms\n```\n\n\n\n**CC:**  @vbraun @jdemeyer @videlec imark\n\n**Keywords:** TIDES,\n\n**Branch/Commit:** [3ae6f7cb84c34f323c15e7ba423231aead5876bf](https://github.com/sagemath/sagetrac-mirror/commit/3ae6f7cb84c34f323c15e7ba423231aead5876bf)\n\n**Reviewer:** Marcos Rodriguez\n\n**Author:** Miguel Marco\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17456\n\n",
    "closed_at": "2014-12-15T13:31:26Z",
    "created_at": "2014-12-07T18:14:31Z",
    "labels": [
        "component: interfaces"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "Speedup TIDES interface",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17456",
    "user": "https://github.com/miguelmarco"
}
```
Right now the interface to TIDES does a lot of symbolic expresion comparisons, which is very slow. This patch changes those comparisons to the corresponding strings, which is much faster.

As an example, the following problem:

```
sage: from sage.interfaces.tides import genfiles_mintides
sage: f(x,t) = [sin(x*t)+cos(x)/sqrt(1+x^2+log(x)-5*exp(x^2+1))]
sage: %time genfiles_mintides('/dev/null', '/dev/null', f, [1], 0, 10, 10, output='/dev/null')
CPU times: user 9.31 s, sys: 46 ms, total: 9.35 s
Wall time: 9.32 s
```

With the patch is reduced to:

```
sage: from sage.interfaces.tides import genfiles_mintides
sage: f(x,t) = [sin(x*t)+cos(x)/sqrt(1+x^2+log(x)-5*exp(x^2+1))]
sage: %time genfiles_mintides('/dev/null', '/dev/null', f, [1], 0, 10, 10, output='/dev/null')
CPU times: user 838 ms, sys: 24 ms, total: 862 ms
Wall time: 854 ms
```



**CC:**  @vbraun @jdemeyer @videlec imark

**Keywords:** TIDES,

**Branch/Commit:** [3ae6f7cb84c34f323c15e7ba423231aead5876bf](https://github.com/sagemath/sagetrac-mirror/commit/3ae6f7cb84c34f323c15e7ba423231aead5876bf)

**Reviewer:** Marcos Rodriguez

**Author:** Miguel Marco

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/17456





---

archive/issue_comments_300669.json:
```json
{
    "body": "**Branch:** [u/mmarco/ticket/17456](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17456)",
    "created_at": "2014-12-07T18:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17456#issuecomment-300669",
    "user": "https://github.com/miguelmarco"
}
```

**Branch:** [u/mmarco/ticket/17456](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17456)



---

archive/issue_comments_300670.json:
```json
{
    "body": "**Commit:** [3ae6f7cb84c34f323c15e7ba423231aead5876bf](https://github.com/sagemath/sagetrac-mirror/commit/3ae6f7cb84c34f323c15e7ba423231aead5876bf)",
    "created_at": "2014-12-07T18:26:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17456#issuecomment-300670",
    "user": "https://github.com/miguelmarco"
}
```

**Commit:** [3ae6f7cb84c34f323c15e7ba423231aead5876bf](https://github.com/sagemath/sagetrac-mirror/commit/3ae6f7cb84c34f323c15e7ba423231aead5876bf)



---

archive/issue_events_057109.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/17456",
    "rename": {
        "from": "Sppedup TIDES interface",
        "to": "Speedup TIDES interface"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17456#event-57109"
}
```



---

archive/issue_comments_300671.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ae6f7cb84c34f323c15e7ba423231aead5876bf\">3ae6f7c</a></td><td><code>comparison by strings in tides interface</code></td></tr></table>\n",
    "created_at": "2014-12-07T18:26:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17456#issuecomment-300671",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ae6f7cb84c34f323c15e7ba423231aead5876bf">3ae6f7c</a></td><td><code>comparison by strings in tides interface</code></td></tr></table>




---

archive/issue_comments_300672.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2014-12-07T18:33:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17456#issuecomment-300672",
    "user": "https://github.com/miguelmarco"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_300673.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2014-12-11T12:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17456#issuecomment-300673",
    "user": "https://trac.sagemath.org/admin/accounts/users/iMark"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_300674.json:
```json
{
    "body": "<a id='comment:4'></a>\nLooks good to me.\nI tested and the code in a quite complex example is the same",
    "created_at": "2014-12-11T12:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17456#issuecomment-300674",
    "user": "https://trac.sagemath.org/admin/accounts/users/iMark"
}
```

<a id='comment:4'></a>
Looks good to me.
I tested and the code in a quite complex example is the same



---

archive/issue_comments_300675.json:
```json
{
    "body": "**Reviewer:** Marcos Rodriguez",
    "created_at": "2014-12-11T12:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17456#issuecomment-300675",
    "user": "https://trac.sagemath.org/admin/accounts/users/iMark"
}
```

**Reviewer:** Marcos Rodriguez



---

archive/issue_comments_300676.json:
```json
{
    "body": "**Changing branch** from \"[u/mmarco/ticket/17456](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17456)\" to \"[3ae6f7cb84c34f323c15e7ba423231aead5876bf](https://github.com/sagemath/sagetrac-mirror/commit/3ae6f7cb84c34f323c15e7ba423231aead5876bf)\".",
    "created_at": "2014-12-15T13:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17456#issuecomment-300676",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mmarco/ticket/17456](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17456)" to "[3ae6f7cb84c34f323c15e7ba423231aead5876bf](https://github.com/sagemath/sagetrac-mirror/commit/3ae6f7cb84c34f323c15e7ba423231aead5876bf)".



---

archive/issue_comments_300677.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2014-12-15T13:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17456#issuecomment-300677",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_057110.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-12-15T13:31:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17456",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17456#event-57110"
}
```
