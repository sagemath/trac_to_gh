# Issue 17965: Uniformize the API to compute the inverse of an element

archive/issues_017728.json:
```json
{
    "body": "Some classes in Sage implement the inverse of an element through the\ninverse method:\n\n```\nmistral-/opt/sage/src/sage>grep \"def inverse(\" **/*.py\nalgebras/finite_dimensional_algebras/finite_dimensional_algebra_element.py:    def inverse(self):\nalgebras/iwahori_hecke_algebra.py:            def inverse(self):\ncategories/coxeter_groups.py:        def inverse(self):\ncombinat/affine_permutation.py:    def inverse(self):\ncombinat/permutation.py:    def inverse(self):\ncombinat/tableau_tuple.py:    def inverse(self,k):\ncrypto/classical_cipher.py:    def inverse(self):\ncrypto/classical_cipher.py:    def inverse(self):\ncrypto/classical_cipher.py:    def inverse(self):\ncrypto/classical_cipher.py:    def inverse(self):\ndynamics/interval_exchanges/iet.py:    def inverse(self):\ngroups/abelian_gps/element_base.py:    def inverse(self):\ngroups/abelian_gps/values.py:    def inverse(self):\ngroups/affine_gps/group_element.py:    def inverse(self):\nmodules/matrix_morphism.py:    def inverse(self):\nrings/number_field/class_group.py:    def inverse(self):\nrings/universal_cyclotomic_field/universal_cyclotomic_field.py:        def inverse(self):\nschemes/elliptic_curves/formal_group.py:    def inverse(self, prec=20):\nschemes/elliptic_curves/weierstrass_transform.py:    def inverse(self):\n```\n\nSome other through the `__invert__` method:\n\n```\nmistral-/opt/sage/src/sage>grep \"def __invert__(\" **/*.py \ncategories/algebras_with_basis.py:        def __invert__(self):\ncategories/magmas.py:                def __invert__(self):\ncategories/modules_with_basis.py:    def __invert__(self):\ncategories/modules_with_basis.py:    def __invert__(self):\ncombinat/combinatorial_algebra.py:    def __invert__(self):\ncombinat/sf/dual.py:        def __invert__(self):\ncombinat/species/generating_series.py:    def __invert__(self):\ngroups/indexed_free_group.py:        def __invert__(self):\ngroups/indexed_free_group.py:        def __invert__(self):\ngroups/matrix_gps/group_element.py:    def __invert__(self):\ngroups/raag.py:        def __invert__(self):\nlibs/coxeter3/coxeter_group.py:        def __invert__(self):\nlogic/boolformula.py:    def __invert__(self):\nmisc/sage_input.py:    def __invert__(self):\nmodular/dirichlet.py:    def __invert__(self):\nmodular/local_comp/smoothchar.py:    def __invert__(self):\nmodules/matrix_morphism.py:    def __invert__(self):\nrings/continued_fraction.py:    def __invert__(self):\nrings/finite_rings/element_ext_pari.py:    def __invert__(self):\nrings/function_field/function_field_ideal.py:    def __invert__(self):\nrings/infinity.py:    def __invert__(self):\nrings/multi_power_series_ring_element.py:    def __invert__(self):\nrings/number_field/morphism.py:    def __invert__(self):\nrings/number_field/number_field_ideal.py:    def __invert__(self):\nrings/number_field/number_field_ideal_rel.py:    def __invert__(self):\nrings/pari_ring.py:    def __invert__(self):\nrings/polynomial/polynomial_quotient_ring_element.py:    def __invert__(self):\nrings/qqbar.py:    def __invert__(self):\nrings/quotient_ring_element.py:    def __invert__(self):\nrings/universal_cyclotomic_field/universal_cyclotomic_field.py:        def __invert__(self):\nsandpiles/sandpile.py:    def __invert__(self):\nschemes/elliptic_curves/heegner.py:    def __invert__(self):\nschemes/elliptic_curves/height.py:    def __invert__(self):\nschemes/elliptic_curves/weierstrass_morphism.py:    def __invert__(self):\nschemes/elliptic_curves/weierstrass_morphism.py:    def __invert__(self):\nschemes/hyperelliptic_curves/monsky_washnitzer.py:    def __invert__(self):\nstructure/factorization.py:    def __invert__(self):\n```\n\nUsually they provide a crosslink so that `__invert__` and\n`inverse` are equivalent, but this is done on a case by case bases,\nso of course such links are missing here and there:\n\n```\nsage: ~AA(sqrt(~2))\n1.414213562373095?\nsage: AA(sqrt(~2)).inverse()\n...\nAttributeError: 'AlgebraicReal' object has no attribute 'inverse'\n```\n\n```\nsage: R.<u,v,w> = QQ[]\nsage: f = EllipticCurve_from_cubic(u^3 + v^3 + w^3, [1,-1,0], morphism=True)\nsage: f.inverse()\nScheme morphism:\n...\nsage: ~f\n...\nTypeError: bad operand type for unary ~: 'WeierstrassTransformationWithInverse_class'\n```\n\n\nShall we change the code to systematically implement `__invert__` as\nper Python's convention, and then implement the cross link `inverse`\n-> `__invert__` once for all high up in the class hierarchy,\ntypically in `Magmas.ElementMethods`?\n\nCaveat: this won't cover all cases since we have invertible elements\nthat don't belong to a magma; e.g. a isomorphisms between two\ndifferent parents; so it will still be necessary to handle a couple\nspecial cases by hand.\n\nSee also comment about `__inverse__` in\nsage.categories.coxeter_groups.py around line 699.\n\nNote: the default implementation ~f = 1/f provided by Element should\nprobably be implemented in `Monoids.ElementMethods`; see also #17692.\n\nNote: the qqbar classes also implement an `invert` method, but that's\nfor a slightly different use case. So we may, or not, want to make\nthis uniform too. `invert` does not fit Sage's usual verb/noun\nconvention since it's a verb while it is not inplace.\n\n\nCC:  @saliola @videlec simonking @slel @tscrim\n\nBranch/Commit: 312a91d4f327802ca1e6d48975cd1d221128833e\n\nReviewer: Travis Scrimshaw\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17965\n\n",
    "closed_at": "2022-09-20T20:23:21Z",
    "created_at": "2015-03-16T17:41:01Z",
    "labels": [
        "component: categories",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Uniformize the API to compute the inverse of an element",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17965",
    "user": "https://github.com/nthiery"
}
```
Some classes in Sage implement the inverse of an element through the
inverse method:

```
mistral-/opt/sage/src/sage>grep "def inverse(" **/*.py
algebras/finite_dimensional_algebras/finite_dimensional_algebra_element.py:    def inverse(self):
algebras/iwahori_hecke_algebra.py:            def inverse(self):
categories/coxeter_groups.py:        def inverse(self):
combinat/affine_permutation.py:    def inverse(self):
combinat/permutation.py:    def inverse(self):
combinat/tableau_tuple.py:    def inverse(self,k):
crypto/classical_cipher.py:    def inverse(self):
crypto/classical_cipher.py:    def inverse(self):
crypto/classical_cipher.py:    def inverse(self):
crypto/classical_cipher.py:    def inverse(self):
dynamics/interval_exchanges/iet.py:    def inverse(self):
groups/abelian_gps/element_base.py:    def inverse(self):
groups/abelian_gps/values.py:    def inverse(self):
groups/affine_gps/group_element.py:    def inverse(self):
modules/matrix_morphism.py:    def inverse(self):
rings/number_field/class_group.py:    def inverse(self):
rings/universal_cyclotomic_field/universal_cyclotomic_field.py:        def inverse(self):
schemes/elliptic_curves/formal_group.py:    def inverse(self, prec=20):
schemes/elliptic_curves/weierstrass_transform.py:    def inverse(self):
```

Some other through the `__invert__` method:

```
mistral-/opt/sage/src/sage>grep "def __invert__(" **/*.py 
categories/algebras_with_basis.py:        def __invert__(self):
categories/magmas.py:                def __invert__(self):
categories/modules_with_basis.py:    def __invert__(self):
categories/modules_with_basis.py:    def __invert__(self):
combinat/combinatorial_algebra.py:    def __invert__(self):
combinat/sf/dual.py:        def __invert__(self):
combinat/species/generating_series.py:    def __invert__(self):
groups/indexed_free_group.py:        def __invert__(self):
groups/indexed_free_group.py:        def __invert__(self):
groups/matrix_gps/group_element.py:    def __invert__(self):
groups/raag.py:        def __invert__(self):
libs/coxeter3/coxeter_group.py:        def __invert__(self):
logic/boolformula.py:    def __invert__(self):
misc/sage_input.py:    def __invert__(self):
modular/dirichlet.py:    def __invert__(self):
modular/local_comp/smoothchar.py:    def __invert__(self):
modules/matrix_morphism.py:    def __invert__(self):
rings/continued_fraction.py:    def __invert__(self):
rings/finite_rings/element_ext_pari.py:    def __invert__(self):
rings/function_field/function_field_ideal.py:    def __invert__(self):
rings/infinity.py:    def __invert__(self):
rings/multi_power_series_ring_element.py:    def __invert__(self):
rings/number_field/morphism.py:    def __invert__(self):
rings/number_field/number_field_ideal.py:    def __invert__(self):
rings/number_field/number_field_ideal_rel.py:    def __invert__(self):
rings/pari_ring.py:    def __invert__(self):
rings/polynomial/polynomial_quotient_ring_element.py:    def __invert__(self):
rings/qqbar.py:    def __invert__(self):
rings/quotient_ring_element.py:    def __invert__(self):
rings/universal_cyclotomic_field/universal_cyclotomic_field.py:        def __invert__(self):
sandpiles/sandpile.py:    def __invert__(self):
schemes/elliptic_curves/heegner.py:    def __invert__(self):
schemes/elliptic_curves/height.py:    def __invert__(self):
schemes/elliptic_curves/weierstrass_morphism.py:    def __invert__(self):
schemes/elliptic_curves/weierstrass_morphism.py:    def __invert__(self):
schemes/hyperelliptic_curves/monsky_washnitzer.py:    def __invert__(self):
structure/factorization.py:    def __invert__(self):
```

Usually they provide a crosslink so that `__invert__` and
`inverse` are equivalent, but this is done on a case by case bases,
so of course such links are missing here and there:

```
sage: ~AA(sqrt(~2))
1.414213562373095?
sage: AA(sqrt(~2)).inverse()
...
AttributeError: 'AlgebraicReal' object has no attribute 'inverse'
```

```
sage: R.<u,v,w> = QQ[]
sage: f = EllipticCurve_from_cubic(u^3 + v^3 + w^3, [1,-1,0], morphism=True)
sage: f.inverse()
Scheme morphism:
...
sage: ~f
...
TypeError: bad operand type for unary ~: 'WeierstrassTransformationWithInverse_class'
```


Shall we change the code to systematically implement `__invert__` as
per Python's convention, and then implement the cross link `inverse`
-> `__invert__` once for all high up in the class hierarchy,
typically in `Magmas.ElementMethods`?

Caveat: this won't cover all cases since we have invertible elements
that don't belong to a magma; e.g. a isomorphisms between two
different parents; so it will still be necessary to handle a couple
special cases by hand.

See also comment about `__inverse__` in
sage.categories.coxeter_groups.py around line 699.

Note: the default implementation ~f = 1/f provided by Element should
probably be implemented in `Monoids.ElementMethods`; see also #17692.

Note: the qqbar classes also implement an `invert` method, but that's
for a slightly different use case. So we may, or not, want to make
this uniform too. `invert` does not fit Sage's usual verb/noun
convention since it's a verb while it is not inplace.


CC:  @saliola @videlec simonking @slel @tscrim

Branch/Commit: 312a91d4f327802ca1e6d48975cd1d221128833e

Reviewer: Travis Scrimshaw

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17965





---

archive/issue_comments_304483.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -24,7 +24,7 @@\n schemes/elliptic_curves/weierstrass_transform.py:    def inverse(self):\n ```\n \n-Some other through the ``__invert__`` method:\n+Some other through the `__invert__` method:\n \n ```\n mistral-/opt/sage/src/sage>grep \"def __invert__(\" **/*.py \n@@ -67,8 +67,8 @@\n structure/factorization.py:    def __invert__(self):\n ```\n \n-Usually they provide a crosslink so that ``__invert__`` and\n-``inverse`` are equivalent, but this is done on a case by case bases,\n+Usually they provide a crosslink so that `__invert__` and\n+`inverse` are equivalent, but this is done on a case by case bases,\n so of course such links are missing here and there:\n \n ```\n@@ -91,23 +91,23 @@\n ```\n \n \n-Shall we change the code to systematically implement ``__invert__`` as\n-per Python's convention, and then implement the cross link ``inverse``\n--> ``__invert__`` once for all high up in the class hierarchy,\n-typically in Magmas.ElementMethods?\n+Shall we change the code to systematically implement `__invert__` as\n+per Python's convention, and then implement the cross link `inverse`\n+-> `__invert__` once for all high up in the class hierarchy,\n+typically in `Magmas.ElementMethods`?\n \n Caveat: this won't cover all cases since we have invertible elements\n that don't belong to a magma; e.g. a isomorphisms between two\n different parents; so it will still be necessary to handle a couple\n special cases by hand.\n \n-See also comment about ``__inverse__`` in\n+See also comment about `__inverse__` in\n sage.categories.coxeter_groups.py around line 699.\n \n Note: the default implementation ~f = 1/f provided by Element should\n-probably be implemented in Monoids.ElementMethods; see also #17692.\n+probably be implemented in `Monoids.ElementMethods`; see also #17692.\n \n-Note: the qqbar classes also implement an \"invert\" method, but that's\n+Note: the qqbar classes also implement an `invert` method, but that's\n for a slightly different use case. So we may, or not, want to make\n this uniform too. `invert` does not fit Sage's usual verb/noun\n convention since it's a verb while it is not inplace.\n``````\n",
    "created_at": "2015-03-16T17:42:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304483",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -24,7 +24,7 @@
 schemes/elliptic_curves/weierstrass_transform.py:    def inverse(self):
 ```
 
-Some other through the ``__invert__`` method:
+Some other through the `__invert__` method:
 
 ```
 mistral-/opt/sage/src/sage>grep "def __invert__(" **/*.py 
@@ -67,8 +67,8 @@
 structure/factorization.py:    def __invert__(self):
 ```
 
-Usually they provide a crosslink so that ``__invert__`` and
-``inverse`` are equivalent, but this is done on a case by case bases,
+Usually they provide a crosslink so that `__invert__` and
+`inverse` are equivalent, but this is done on a case by case bases,
 so of course such links are missing here and there:
 
 ```
@@ -91,23 +91,23 @@
 ```
 
 
-Shall we change the code to systematically implement ``__invert__`` as
-per Python's convention, and then implement the cross link ``inverse``
--> ``__invert__`` once for all high up in the class hierarchy,
-typically in Magmas.ElementMethods?
+Shall we change the code to systematically implement `__invert__` as
+per Python's convention, and then implement the cross link `inverse`
+-> `__invert__` once for all high up in the class hierarchy,
+typically in `Magmas.ElementMethods`?
 
 Caveat: this won't cover all cases since we have invertible elements
 that don't belong to a magma; e.g. a isomorphisms between two
 different parents; so it will still be necessary to handle a couple
 special cases by hand.
 
-See also comment about ``__inverse__`` in
+See also comment about `__inverse__` in
 sage.categories.coxeter_groups.py around line 699.
 
 Note: the default implementation ~f = 1/f provided by Element should
-probably be implemented in Monoids.ElementMethods; see also #17692.
+probably be implemented in `Monoids.ElementMethods`; see also #17692.
 
-Note: the qqbar classes also implement an "invert" method, but that's
+Note: the qqbar classes also implement an `invert` method, but that's
 for a slightly different use case. So we may, or not, want to make
 this uniform too. `invert` does not fit Sage's usual verb/noun
 convention since it's a verb while it is not inplace.
``````




---

archive/issue_comments_304484.json:
```json
{
    "body": "Changing commit from \"\" to \"99d9b6cbb562c87e87ca0fc2a6465b387e486157\"",
    "created_at": "2020-07-07T14:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304484",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "99d9b6cbb562c87e87ca0fc2a6465b387e486157"



---

archive/issue_comments_304485.json:
```json
{
    "body": "Changing author from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2020-07-07T14:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304485",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Frédéric Chapoton"



---

archive/issue_comments_304486.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-07-07T14:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304486",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_304487.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/17965\"",
    "created_at": "2020-07-07T14:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304487",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/17965"



---

archive/issue_comments_304488.json:
```json
{
    "body": "<a id='comment:2'></a>\nHere is a first attempt. Opinions ?\n\n---\nNew commits:\n|                                                                                                                                          |                                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|\n|[99d9b6c](https://github.com/sagemath/sagetrac-mirror/commit/99d9b6cbb562c87e87ca0fc2a6465b387e486157)|`convert some .inverse to .__invert__ and make a global alias in magmas cat`|",
    "created_at": "2020-07-07T14:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304488",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
Here is a first attempt. Opinions ?

---
New commits:
|                                                                                                                                          |                                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
|[99d9b6c](https://github.com/sagemath/sagetrac-mirror/commit/99d9b6cbb562c87e87ca0fc2a6465b387e486157)|`convert some .inverse to .__invert__ and make a global alias in magmas cat`|



---

archive/issue_comments_304489.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[1a1ec14](https://github.com/sagemath/sagetrac-mirror/commit/1a1ec14fcae40bc98284b74ef3a2d3d5e55461a6)|`fix some details`|",
    "created_at": "2020-07-07T17:27:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304489",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[1a1ec14](https://github.com/sagemath/sagetrac-mirror/commit/1a1ec14fcae40bc98284b74ef3a2d3d5e55461a6)|`fix some details`|



---

archive/issue_comments_304490.json:
```json
{
    "body": "Changing commit from \"99d9b6cbb562c87e87ca0fc2a6465b387e486157\" to \"1a1ec14fcae40bc98284b74ef3a2d3d5e55461a6\"",
    "created_at": "2020-07-07T17:27:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304490",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "99d9b6cbb562c87e87ca0fc2a6465b387e486157" to "1a1ec14fcae40bc98284b74ef3a2d3d5e55461a6"



---

archive/issue_comments_304491.json:
```json
{
    "body": "<a id='comment:4'></a>\nIn general I think unifying this is a good idea. Something to keep in mind is that `__invert__` will not show up in the documentation, by default. If in some cases there are extensive examples, it could be added to the documentation using `automethod`, though. Probably this is not needed for most of the elements, but in #29723 (inverses of ring homomorphisms) this is the reason why I linked `__invert__` to `inverse`.",
    "created_at": "2020-07-07T19:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304491",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:4'></a>
In general I think unifying this is a good idea. Something to keep in mind is that `__invert__` will not show up in the documentation, by default. If in some cases there are extensive examples, it could be added to the documentation using `automethod`, though. Probably this is not needed for most of the elements, but in #29723 (inverses of ring homomorphisms) this is the reason why I linked `__invert__` to `inverse`.



---

archive/issue_comments_304492.json:
```json
{
    "body": "Changing commit from \"1a1ec14fcae40bc98284b74ef3a2d3d5e55461a6\" to \"9d5692d26c4bf8ad4aa8eb1a9f2cbaab5f35b842\"",
    "created_at": "2020-07-07T19:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304492",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1a1ec14fcae40bc98284b74ef3a2d3d5e55461a6" to "9d5692d26c4bf8ad4aa8eb1a9f2cbaab5f35b842"



---

archive/issue_comments_304493.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[9d5692d](https://github.com/sagemath/sagetrac-mirror/commit/9d5692d26c4bf8ad4aa8eb1a9f2cbaab5f35b842)|`fix some doctests in polynomial quotient rings`|",
    "created_at": "2020-07-07T19:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304493",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[9d5692d](https://github.com/sagemath/sagetrac-mirror/commit/9d5692d26c4bf8ad4aa8eb1a9f2cbaab5f35b842)|`fix some doctests in polynomial quotient rings`|



---

archive/issue_events_065869.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-07-07T19:44:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65869"
}
```



---

archive/issue_comments_304494.json:
```json
{
    "body": "Changing commit from \"9d5692d26c4bf8ad4aa8eb1a9f2cbaab5f35b842\" to \"fbc929ef8a01b017641838c47287e141ea96f8f4\"",
    "created_at": "2020-07-08T06:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304494",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9d5692d26c4bf8ad4aa8eb1a9f2cbaab5f35b842" to "fbc929ef8a01b017641838c47287e141ea96f8f4"



---

archive/issue_comments_304495.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|\n|[fbc929e](https://github.com/sagemath/sagetrac-mirror/commit/fbc929ef8a01b017641838c47287e141ea96f8f4)|`some pycodestyle details (breaking some lines after : and ;)`|",
    "created_at": "2020-07-08T06:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304495",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|
|[fbc929e](https://github.com/sagemath/sagetrac-mirror/commit/fbc929ef8a01b017641838c47287e141ea96f8f4)|`some pycodestyle details (breaking some lines after : and ;)`|



---

archive/issue_comments_304496.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[2962668](https://github.com/sagemath/sagetrac-mirror/commit/2962668d234c07498c652c66f8b2de44479dcd21)|`fix one wrong use of parent`|",
    "created_at": "2020-07-08T06:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304496",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[2962668](https://github.com/sagemath/sagetrac-mirror/commit/2962668d234c07498c652c66f8b2de44479dcd21)|`fix one wrong use of parent`|



---

archive/issue_comments_304497.json:
```json
{
    "body": "Changing commit from \"fbc929ef8a01b017641838c47287e141ea96f8f4\" to \"2962668d234c07498c652c66f8b2de44479dcd21\"",
    "created_at": "2020-07-08T06:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304497",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fbc929ef8a01b017641838c47287e141ea96f8f4" to "2962668d234c07498c652c66f8b2de44479dcd21"



---

archive/issue_comments_304498.json:
```json
{
    "body": "<a id='comment:9'></a>\noh, boy, now with an infinite loop in\n\n```\nsage -t --long --warn-long 61.5 src/sage/monoids/free_monoid_element.py\n```",
    "created_at": "2020-07-08T06:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304498",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
oh, boy, now with an infinite loop in

```
sage -t --long --warn-long 61.5 src/sage/monoids/free_monoid_element.py
```



---

archive/issue_comments_304499.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-13T07:37:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304499",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_304500.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|\n|[637f8bd](https://github.com/sagemath/sagetrac-mirror/commit/637f8bd7ed9cf957385b5b289e0d5fda948d60e0)|`Merge branch 'u/chapoton/17965' of ssh://trac.sagemath.org:22/sage in 9.2.b8`|\n|[5e7e19a](https://github.com/sagemath/sagetrac-mirror/commit/5e7e19afded220ad7e88b6362e7f98448a46df04)|`tentative fix, move inversion to monoids`|",
    "created_at": "2020-08-19T08:09:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304500",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
|[637f8bd](https://github.com/sagemath/sagetrac-mirror/commit/637f8bd7ed9cf957385b5b289e0d5fda948d60e0)|`Merge branch 'u/chapoton/17965' of ssh://trac.sagemath.org:22/sage in 9.2.b8`|
|[5e7e19a](https://github.com/sagemath/sagetrac-mirror/commit/5e7e19afded220ad7e88b6362e7f98448a46df04)|`tentative fix, move inversion to monoids`|



---

archive/issue_comments_304501.json:
```json
{
    "body": "Changing commit from \"2962668d234c07498c652c66f8b2de44479dcd21\" to \"5e7e19afded220ad7e88b6362e7f98448a46df04\"",
    "created_at": "2020-08-19T08:09:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304501",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2962668d234c07498c652c66f8b2de44479dcd21" to "5e7e19afded220ad7e88b6362e7f98448a46df04"



---

archive/issue_events_065870.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65870"
}
```



---

archive/issue_events_065871.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65871"
}
```



---

archive/issue_comments_304502.json:
```json
{
    "body": "Changing commit from \"5e7e19afded220ad7e88b6362e7f98448a46df04\" to \"dc2e65f80dbd67279f37e07f24b861c0cc7d7e27\"",
    "created_at": "2020-11-01T12:40:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304502",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5e7e19afded220ad7e88b6362e7f98448a46df04" to "dc2e65f80dbd67279f37e07f24b861c0cc7d7e27"



---

archive/issue_comments_304503.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[dc2e65f](https://github.com/sagemath/sagetrac-mirror/commit/dc2e65f80dbd67279f37e07f24b861c0cc7d7e27)|`Merge branch 'u/chapoton/17965' in 9.3.b0`|",
    "created_at": "2020-11-01T12:40:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304503",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[dc2e65f](https://github.com/sagemath/sagetrac-mirror/commit/dc2e65f80dbd67279f37e07f24b861c0cc7d7e27)|`Merge branch 'u/chapoton/17965' in 9.3.b0`|



---

archive/issue_comments_304504.json:
```json
{
    "body": "Changing commit from \"dc2e65f80dbd67279f37e07f24b861c0cc7d7e27\" to \"bc7fe1e67d9788991fdb5f1487d14c3ac44a4f68\"",
    "created_at": "2020-11-08T09:17:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304504",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dc2e65f80dbd67279f37e07f24b861c0cc7d7e27" to "bc7fe1e67d9788991fdb5f1487d14c3ac44a4f68"



---

archive/issue_comments_304505.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[7ddf35e](https://github.com/sagemath/sagetrac-mirror/commit/7ddf35e281803a19e497c368d25a1f7ea82f8ec4)|`Merge branch 'u/chapoton/17965' in 9.3.b1`|\n|[bc7fe1e](https://github.com/sagemath/sagetrac-mirror/commit/bc7fe1e67d9788991fdb5f1487d14c3ac44a4f68)|`add doctests in free_monoid_element`|",
    "created_at": "2020-11-08T09:17:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304505",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[7ddf35e](https://github.com/sagemath/sagetrac-mirror/commit/7ddf35e281803a19e497c368d25a1f7ea82f8ec4)|`Merge branch 'u/chapoton/17965' in 9.3.b1`|
|[bc7fe1e](https://github.com/sagemath/sagetrac-mirror/commit/bc7fe1e67d9788991fdb5f1487d14c3ac44a4f68)|`add doctests in free_monoid_element`|



---

archive/issue_comments_304506.json:
```json
{
    "body": "<a id='comment:15'></a>\nI am thinking to move the \"Inverse\" axioms from magmas to monoids. \n\nBecause the notion of inverse does not really make sense in magmas, where left and right inverses can be different.\n\n```\nsrc/sage/categories/magmas.py:        class Inverse(CategoryWithAxiom):\n```",
    "created_at": "2020-11-08T09:23:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304506",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'></a>
I am thinking to move the "Inverse" axioms from magmas to monoids. 

Because the notion of inverse does not really make sense in magmas, where left and right inverses can be different.

```
src/sage/categories/magmas.py:        class Inverse(CategoryWithAxiom):
```



---

archive/issue_comments_304507.json:
```json
{
    "body": "<a id='comment:16'></a>\nWe may eventually need to have weaker axioms LeftInverses and RightInverses.\nBut is there an inconvenient in having an axiom that states the existence\nof both a left and right inverse that co\u00efncide?",
    "created_at": "2020-11-08T13:25:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304507",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:16'></a>
We may eventually need to have weaker axioms LeftInverses and RightInverses.
But is there an inconvenient in having an axiom that states the existence
of both a left and right inverse that coïncide?



---

archive/issue_comments_304508.json:
```json
{
    "body": "<a id='comment:17'></a>\nH\u00e9, salut. J'essaye juste de d\u00e9meler la situation, et j'ai une boucle infinie magma->monoid->magma etc etc",
    "created_at": "2020-11-08T13:46:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304508",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>
Hé, salut. J'essaye juste de démeler la situation, et j'ai une boucle infinie magma->monoid->magma etc etc



---

archive/issue_comments_304509.json:
```json
{
    "body": "<a id='comment:18'></a>\nSalut Fr\u00e9d\u00e9ric :-)\n\nAh I see; things like this indeed happen, though hopefully there is a way out.\nIf it can help, we could have a live chat about it, though not before Tuesday.\n\nAmiti\u00e9s,",
    "created_at": "2020-11-08T13:59:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304509",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:18'></a>
Salut Frédéric :-)

Ah I see; things like this indeed happen, though hopefully there is a way out.
If it can help, we could have a live chat about it, though not before Tuesday.

Amitiés,



---

archive/issue_events_065872.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65872"
}
```



---

archive/issue_events_065873.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65873"
}
```



---

archive/issue_comments_304510.json:
```json
{
    "body": "<a id='comment:19'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304510",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_304511.json:
```json
{
    "body": "<a id='comment:20'></a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304511",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_065874.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65874"
}
```



---

archive/issue_events_065875.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65875"
}
```



---

archive/issue_events_065876.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65876"
}
```



---

archive/issue_events_065877.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65877"
}
```



---

archive/issue_events_065878.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65878"
}
```



---

archive/issue_events_065879.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65879"
}
```



---

archive/issue_comments_304512.json:
```json
{
    "body": "Changing commit from \"bc7fe1e67d9788991fdb5f1487d14c3ac44a4f68\" to \"a4f176d870fb79a8a82a7bfb7b5c24b6d302e947\"",
    "created_at": "2022-05-23T18:44:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304512",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bc7fe1e67d9788991fdb5f1487d14c3ac44a4f68" to "a4f176d870fb79a8a82a7bfb7b5c24b6d302e947"



---

archive/issue_comments_304513.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[a4f176d](https://github.com/sagemath/sagetrac-mirror/commit/a4f176d870fb79a8a82a7bfb7b5c24b6d302e947)|`Merge branch 'u/chapoton/17965' in 9.7.b0`|",
    "created_at": "2022-05-23T18:44:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304513",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[a4f176d](https://github.com/sagemath/sagetrac-mirror/commit/a4f176d870fb79a8a82a7bfb7b5c24b6d302e947)|`Merge branch 'u/chapoton/17965' in 9.7.b0`|



---

archive/issue_comments_304514.json:
```json
{
    "body": "Changing commit from \"a4f176d870fb79a8a82a7bfb7b5c24b6d302e947\" to \"b5402d06f7a69f2580d7120cb760d199648046d6\"",
    "created_at": "2022-05-24T07:54:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304514",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a4f176d870fb79a8a82a7bfb7b5c24b6d302e947" to "b5402d06f7a69f2580d7120cb760d199648046d6"



---

archive/issue_comments_304515.json:
```json
{
    "body": "<a id='comment:24'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------|\n|[b5402d0](https://github.com/sagemath/sagetrac-mirror/commit/b5402d06f7a69f2580d7120cb760d199648046d6)|`fix typos in errors`|",
    "created_at": "2022-05-24T07:54:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304515",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------|
|[b5402d0](https://github.com/sagemath/sagetrac-mirror/commit/b5402d06f7a69f2580d7120cb760d199648046d6)|`fix typos in errors`|



---

archive/issue_comments_304516.json:
```json
{
    "body": "Changing commit from \"b5402d06f7a69f2580d7120cb760d199648046d6\" to \"e092bef62df70a3dd3144318aa65e67db2da828a\"",
    "created_at": "2022-05-27T06:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304516",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b5402d06f7a69f2580d7120cb760d199648046d6" to "e092bef62df70a3dd3144318aa65e67db2da828a"



---

archive/issue_comments_304517.json:
```json
{
    "body": "<a id='comment:25'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[e092bef](https://github.com/sagemath/sagetrac-mirror/commit/e092bef62df70a3dd3144318aa65e67db2da828a)|`Merge branch 'u/chapoton/17965' in 9.7.b1`|",
    "created_at": "2022-05-27T06:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304517",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[e092bef](https://github.com/sagemath/sagetrac-mirror/commit/e092bef62df70a3dd3144318aa65e67db2da828a)|`Merge branch 'u/chapoton/17965' in 9.7.b1`|



---

archive/issue_events_065880.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "rename": {
        "from": "Uniformization of the API to compute the inverse of an element.",
        "to": "Uniformize the API to compute the inverse of an element"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65880"
}
```



---

archive/issue_comments_304518.json:
```json
{
    "body": "Changing commit from \"e092bef62df70a3dd3144318aa65e67db2da828a\" to \"de510a5732c108d8f916857d9e7af3f8b50754a5\"",
    "created_at": "2022-09-07T08:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304518",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e092bef62df70a3dd3144318aa65e67db2da828a" to "de510a5732c108d8f916857d9e7af3f8b50754a5"



---

archive/issue_comments_304519.json:
```json
{
    "body": "<a id='comment:27'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[711913a](https://github.com/sagemath/sagetrac-mirror/commit/711913adcdbdf583f1389259489144543428ec6f)|`Merge branch 'u/chapoton/17965' in 9.7.rc0`|\n|[de510a5](https://github.com/sagemath/sagetrac-mirror/commit/de510a5732c108d8f916857d9e7af3f8b50754a5)|`trying to fix things in the categories`|",
    "created_at": "2022-09-07T08:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304519",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[711913a](https://github.com/sagemath/sagetrac-mirror/commit/711913adcdbdf583f1389259489144543428ec6f)|`Merge branch 'u/chapoton/17965' in 9.7.rc0`|
|[de510a5](https://github.com/sagemath/sagetrac-mirror/commit/de510a5732c108d8f916857d9e7af3f8b50754a5)|`trying to fix things in the categories`|



---

archive/issue_comments_304520.json:
```json
{
    "body": "Changing commit from \"de510a5732c108d8f916857d9e7af3f8b50754a5\" to \"0e19786c4715fa582ec87121592595626c4a56ec\"",
    "created_at": "2022-09-07T10:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304520",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "de510a5732c108d8f916857d9e7af3f8b50754a5" to "0e19786c4715fa582ec87121592595626c4a56ec"



---

archive/issue_comments_304521.json:
```json
{
    "body": "<a id='comment:28'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------|\n|[0e19786](https://github.com/sagemath/sagetrac-mirror/commit/0e19786c4715fa582ec87121592595626c4a56ec)|`add doctest`|",
    "created_at": "2022-09-07T10:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304521",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------|
|[0e19786](https://github.com/sagemath/sagetrac-mirror/commit/0e19786c4715fa582ec87121592595626c4a56ec)|`add doctest`|



---

archive/issue_comments_304522.json:
```json
{
    "body": "<a id='comment:29'></a>\nalmost ready to go. I hope that somebody will accept to review this long-awaited ticket.",
    "created_at": "2022-09-07T10:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304522",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:29'></a>
almost ready to go. I hope that somebody will accept to review this long-awaited ticket.



---

archive/issue_comments_304523.json:
```json
{
    "body": "Changing commit from \"0e19786c4715fa582ec87121592595626c4a56ec\" to \"24b88a5991a41d2bf9cf4fe9c2281b05f9fefcf6\"",
    "created_at": "2022-09-07T12:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304523",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0e19786c4715fa582ec87121592595626c4a56ec" to "24b88a5991a41d2bf9cf4fe9c2281b05f9fefcf6"



---

archive/issue_comments_304524.json:
```json
{
    "body": "<a id='comment:30'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------|\n|[24b88a5](https://github.com/sagemath/sagetrac-mirror/commit/24b88a5991a41d2bf9cf4fe9c2281b05f9fefcf6)|`fix doc`|",
    "created_at": "2022-09-07T12:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304524",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |         |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------|
|[24b88a5](https://github.com/sagemath/sagetrac-mirror/commit/24b88a5991a41d2bf9cf4fe9c2281b05f9fefcf6)|`fix doc`|



---

archive/issue_comments_304525.json:
```json
{
    "body": "<a id='comment:31'></a>\nand the patchbot is now green ! comments welcome",
    "created_at": "2022-09-07T15:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304525",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>
and the patchbot is now green ! comments welcome



---

archive/issue_comments_304526.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-09-07T15:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304526",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_304527.json:
```json
{
    "body": "<a id='comment:32'></a>\n\n```\n+        def inverse(self):\n+            \"\"\"\n+            Return the inverse of ``self``.\n+\n+            This an alias for inversion, defined in ``__invert__``.\n+\n```\n\"is\" is missing",
    "created_at": "2022-09-07T15:41:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304527",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'></a>

```
+        def inverse(self):
+            """
+            Return the inverse of ``self``.
+
+            This an alias for inversion, defined in ``__invert__``.
+
```
"is" is missing



---

archive/issue_comments_304528.json:
```json
{
    "body": "<a id='comment:33'></a>\nDo you want to address[comment:4](#comment%3A4) and add some `automethod`?",
    "created_at": "2022-09-07T15:46:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304528",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
Do you want to address[comment:4](#comment%3A4) and add some `automethod`?



---

archive/issue_comments_304529.json:
```json
{
    "body": "<a id='comment:34'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------|\n|[b6a5773](https://github.com/sagemath/sagetrac-mirror/commit/b6a5773fc8c6b861150dc9e03d241ddf41741c24)|`fix typo`|",
    "created_at": "2022-09-07T16:44:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304529",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------|
|[b6a5773](https://github.com/sagemath/sagetrac-mirror/commit/b6a5773fc8c6b861150dc9e03d241ddf41741c24)|`fix typo`|



---

archive/issue_comments_304530.json:
```json
{
    "body": "Changing commit from \"24b88a5991a41d2bf9cf4fe9c2281b05f9fefcf6\" to \"b6a5773fc8c6b861150dc9e03d241ddf41741c24\"",
    "created_at": "2022-09-07T16:44:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304530",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "24b88a5991a41d2bf9cf4fe9c2281b05f9fefcf6" to "b6a5773fc8c6b861150dc9e03d241ddf41741c24"



---

archive/issue_comments_304531.json:
```json
{
    "body": "<a id='comment:35'></a>\nI am not so sure about this question about documentation. It is true that the doc inside `__invert__` will be hidden from view.",
    "created_at": "2022-09-07T16:59:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304531",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:35'></a>
I am not so sure about this question about documentation. It is true that the doc inside `__invert__` will be hidden from view.



---

archive/issue_comments_304532.json:
```json
{
    "body": "<a id='comment:36'></a>\nI don't think too many people are going to be looking at the documentation of `__invert__` or `inverse()` as that is generally pretty clear.\n\nThat being said, I am not really a fan of putting technical implementation details in public documentation:\n\n```diff\n-            This is an alias for inversion, defined in ``__invert__``.\n+            This is an alias for inversion, which can be invoked by ``~x``\n+            for an instance ``x``.\n-\n-            Element classes should implement ``__invert__`` only.\n```\nI would probably put the last part as a code comment. However, in this case, because it is specifications for implementors, it could be okay. The change in the first part is to indicate how a more casual user can use this.\n\nWhat about for additive monoids? Perhaps we need to add \"multiplicative\" to the documentation above.\n\nI am not sure how I feel about removing the generic `1 / self` for inverse in `Element`. Is that implemented in one of the categories? Should we be worried about a slowdown with it no longer being Cython?",
    "created_at": "2022-09-07T23:49:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304532",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:36'></a>
I don't think too many people are going to be looking at the documentation of `__invert__` or `inverse()` as that is generally pretty clear.

That being said, I am not really a fan of putting technical implementation details in public documentation:

```diff
-            This is an alias for inversion, defined in ``__invert__``.
+            This is an alias for inversion, which can be invoked by ``~x``
+            for an instance ``x``.
-
-            Element classes should implement ``__invert__`` only.
```
I would probably put the last part as a code comment. However, in this case, because it is specifications for implementors, it could be okay. The change in the first part is to indicate how a more casual user can use this.

What about for additive monoids? Perhaps we need to add "multiplicative" to the documentation above.

I am not sure how I feel about removing the generic `1 / self` for inverse in `Element`. Is that implemented in one of the categories? Should we be worried about a slowdown with it no longer being Cython?



---

archive/issue_comments_304533.json:
```json
{
    "body": "<a id='comment:37'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[9ec90c5](https://github.com/sagemath/sagetrac-mirror/commit/9ec90c5e1c6b7e62eca72b4e1e69e7ec22028bfe)|`Merge branch 'u/chapoton/17965' in 9.7.rc1`|\n|[e08cd7a](https://github.com/sagemath/sagetrac-mirror/commit/e08cd7a4e9fb5d6492e8a611040dd562bdddf6cb)|`tweak doc`|",
    "created_at": "2022-09-08T07:17:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304533",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[9ec90c5](https://github.com/sagemath/sagetrac-mirror/commit/9ec90c5e1c6b7e62eca72b4e1e69e7ec22028bfe)|`Merge branch 'u/chapoton/17965' in 9.7.rc1`|
|[e08cd7a](https://github.com/sagemath/sagetrac-mirror/commit/e08cd7a4e9fb5d6492e8a611040dd562bdddf6cb)|`tweak doc`|



---

archive/issue_comments_304534.json:
```json
{
    "body": "Changing commit from \"b6a5773fc8c6b861150dc9e03d241ddf41741c24\" to \"e08cd7a4e9fb5d6492e8a611040dd562bdddf6cb\"",
    "created_at": "2022-09-08T07:17:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304534",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b6a5773fc8c6b861150dc9e03d241ddf41741c24" to "e08cd7a4e9fb5d6492e8a611040dd562bdddf6cb"



---

archive/issue_comments_304535.json:
```json
{
    "body": "<a id='comment:38'></a>\nReplying to [Travis Scrimshaw](#comment%3A36):\n> I don't think too many people are going to be looking at the documentation of `__invert__` or `inverse()` as that is generally pretty clear.\n\n\nI agree on that point.\n \n> That being said, I am not really a fan of putting technical implementation details in public documentation:\n> \n> ```diff\n> -            This is an alias for inversion, defined in ``__invert__``.\n> +            This is an alias for inversion, which can be invoked by ``~x``\n> +            for an instance ``x``.\n> -\n> -            Element classes should implement ``__invert__`` only.\n> ```\n> I would probably put the last part as a code comment. However, in this case, because it is specifications for implementors, it could be okay. The change in the first part is to indicate how a more casual user can use this.\n\n\nI have changed that according to your suggestion. Implementation detail is now a comment in the code.\n\n> What about for additive monoids? Perhaps we need to add \"multiplicative\" to the documentation above.\n\n\nI have no idea. I thought that there was another category for additive monoids ?\n\n> I am not sure how I feel about removing the generic `1 / self` for inverse in `Element`. Is that implemented in one of the categories? Should we be worried about a slowdown with it no longer being Cython?\n\n\nThis is indeed a delicate point. Having both that and the division defined using product by the inverse easily leads to infinite loops. It seems safer to break the possibility of this kind of loop.",
    "created_at": "2022-09-08T07:20:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304535",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:38'></a>
Replying to [Travis Scrimshaw](#comment%3A36):
> I don't think too many people are going to be looking at the documentation of `__invert__` or `inverse()` as that is generally pretty clear.


I agree on that point.
 
> That being said, I am not really a fan of putting technical implementation details in public documentation:
> 
> ```diff
> -            This is an alias for inversion, defined in ``__invert__``.
> +            This is an alias for inversion, which can be invoked by ``~x``
> +            for an instance ``x``.
> -
> -            Element classes should implement ``__invert__`` only.
> ```
> I would probably put the last part as a code comment. However, in this case, because it is specifications for implementors, it could be okay. The change in the first part is to indicate how a more casual user can use this.


I have changed that according to your suggestion. Implementation detail is now a comment in the code.

> What about for additive monoids? Perhaps we need to add "multiplicative" to the documentation above.


I have no idea. I thought that there was another category for additive monoids ?

> I am not sure how I feel about removing the generic `1 / self` for inverse in `Element`. Is that implemented in one of the categories? Should we be worried about a slowdown with it no longer being Cython?


This is indeed a delicate point. Having both that and the division defined using product by the inverse easily leads to infinite loops. It seems safer to break the possibility of this kind of loop.



---

archive/issue_comments_304536.json:
```json
{
    "body": "<a id='comment:39'></a>\nReplying to [Fr\u00e9d\u00e9ric Chapoton](#comment%3A38):\n> Replying to [Travis Scrimshaw](#comment%3A36):\n> > That being said, I am not really a fan of putting technical implementation details in public documentation:\n> > \n> > ```diff\n> > -            This is an alias for inversion, defined in ``__invert__``.\n> > +            This is an alias for inversion, which can be invoked by ``~x``\n> > +            for an instance ``x``.\n> > -\n> > -            Element classes should implement ``__invert__`` only.\n> > ```\n> > I would probably put the last part as a code comment. However, in this case, because it is specifications for implementors, it could be okay. The change in the first part is to indicate how a more casual user can use this.\n\n> \n> I have changed that according to your suggestion. Implementation detail is now a comment in the code.\n\n\nThank you.\n\n> > What about for additive monoids? Perhaps we need to add \"multiplicative\" to the documentation above.\n\n> \n> I have no idea. I thought that there was another category for additive monoids ?\n\n\nThere is, but we try to keep the two somewhat consistent. There is also the join category, where \"inverse\" becomes slightly vague.\n\n> > I am not sure how I feel about removing the generic `1 / self` for inverse in `Element`. Is that implemented in one of the categories? Should we be worried about a slowdown with it no longer being Cython?\n\n> \n> This is indeed a delicate point. Having both that and the division defined using product by the inverse easily leads to infinite loops. It seems safer to break the possibility of this kind of loop.\n\n\nI would rather have the infinite loop (which there are protections against) and leave the choice of implementation to the developer. If it does go into an infinite loop, it is indicating that something needs to be implemented (unfortunately, I don't know a good mechanism for checking this). At the very least it is a backwards incompatible change.",
    "created_at": "2022-09-08T08:11:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304536",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:39'></a>
Replying to [Frédéric Chapoton](#comment%3A38):
> Replying to [Travis Scrimshaw](#comment%3A36):
> > That being said, I am not really a fan of putting technical implementation details in public documentation:
> > 
> > ```diff
> > -            This is an alias for inversion, defined in ``__invert__``.
> > +            This is an alias for inversion, which can be invoked by ``~x``
> > +            for an instance ``x``.
> > -
> > -            Element classes should implement ``__invert__`` only.
> > ```
> > I would probably put the last part as a code comment. However, in this case, because it is specifications for implementors, it could be okay. The change in the first part is to indicate how a more casual user can use this.

> 
> I have changed that according to your suggestion. Implementation detail is now a comment in the code.


Thank you.

> > What about for additive monoids? Perhaps we need to add "multiplicative" to the documentation above.

> 
> I have no idea. I thought that there was another category for additive monoids ?


There is, but we try to keep the two somewhat consistent. There is also the join category, where "inverse" becomes slightly vague.

> > I am not sure how I feel about removing the generic `1 / self` for inverse in `Element`. Is that implemented in one of the categories? Should we be worried about a slowdown with it no longer being Cython?

> 
> This is indeed a delicate point. Having both that and the division defined using product by the inverse easily leads to infinite loops. It seems safer to break the possibility of this kind of loop.


I would rather have the infinite loop (which there are protections against) and leave the choice of implementation to the developer. If it does go into an infinite loop, it is indicating that something needs to be implemented (unfortunately, I don't know a good mechanism for checking this). At the very least it is a backwards incompatible change.



---

archive/issue_comments_304537.json:
```json
{
    "body": "Changing commit from \"e08cd7a4e9fb5d6492e8a611040dd562bdddf6cb\" to \"d0fbe93d4de3b38b40034b4c1743399f37393a59\"",
    "created_at": "2022-09-08T09:29:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304537",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e08cd7a4e9fb5d6492e8a611040dd562bdddf6cb" to "d0fbe93d4de3b38b40034b4c1743399f37393a59"



---

archive/issue_comments_304538.json:
```json
{
    "body": "<a id='comment:40'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------|\n|[d0fbe93](https://github.com/sagemath/sagetrac-mirror/commit/d0fbe93d4de3b38b40034b4c1743399f37393a59)|`tweak doc again`|",
    "created_at": "2022-09-08T09:29:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304538",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
|[d0fbe93](https://github.com/sagemath/sagetrac-mirror/commit/d0fbe93d4de3b38b40034b4c1743399f37393a59)|`tweak doc again`|



---

archive/issue_comments_304539.json:
```json
{
    "body": "<a id='comment:41'></a>\nI see no way out other than removing the ``__invert__`` in element.pyx. It is not a cdef method there, by the way. I agree that this is rather backward-incompatible..",
    "created_at": "2022-09-08T09:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304539",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:41'></a>
I see no way out other than removing the ``__invert__`` in element.pyx. It is not a cdef method there, by the way. I agree that this is rather backward-incompatible..



---

archive/issue_comments_304540.json:
```json
{
    "body": "<a id='comment:42'></a>\nBut basically you want to remove the `1 / self` default implementation to never have an infinite loop? In particular, if we had some sort of ``@`implement_this_or_that` type decorator, you would be fine with it? Or is there a technical issue with having it defined in the category?\n\nI am particularly worried about someone could have implemented an algebraic structure just through `_div_`, and there are things in Sage that use `~x` that are subsequently being called with this algebraic structure. I could imagine something like this for polynomials (without going to the fraction field).",
    "created_at": "2022-09-08T10:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304540",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:42'></a>
But basically you want to remove the `1 / self` default implementation to never have an infinite loop? In particular, if we had some sort of ``@`implement_this_or_that` type decorator, you would be fine with it? Or is there a technical issue with having it defined in the category?

I am particularly worried about someone could have implemented an algebraic structure just through `_div_`, and there are things in Sage that use `~x` that are subsequently being called with this algebraic structure. I could imagine something like this for polynomials (without going to the fraction field).



---

archive/issue_comments_304541.json:
```json
{
    "body": "<a id='comment:43'></a>\nhere is an experimental branch with the default inverse re-activated, let us see what happens.\n\n---\nNew commits:\n|                                                                                                                                          |                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[312a91d](https://github.com/sagemath/sagetrac-mirror/commit/312a91d4f327802ca1e6d48975cd1d221128833e)|`re-introduce default inversion`|",
    "created_at": "2022-09-08T11:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304541",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:43'></a>
here is an experimental branch with the default inverse re-activated, let us see what happens.

---
New commits:
|                                                                                                                                          |                                |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[312a91d](https://github.com/sagemath/sagetrac-mirror/commit/312a91d4f327802ca1e6d48975cd1d221128833e)|`re-introduce default inversion`|



---

archive/issue_comments_304542.json:
```json
{
    "body": "Changing commit from \"d0fbe93d4de3b38b40034b4c1743399f37393a59\" to \"312a91d4f327802ca1e6d48975cd1d221128833e\"",
    "created_at": "2022-09-08T11:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304542",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "d0fbe93d4de3b38b40034b4c1743399f37393a59" to "312a91d4f327802ca1e6d48975cd1d221128833e"



---

archive/issue_comments_304543.json:
```json
{
    "body": "Changing branch from \"u/chapoton/17965\" to \"public/ticket-17965-experiment\"",
    "created_at": "2022-09-08T11:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304543",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/chapoton/17965" to "public/ticket-17965-experiment"



---

archive/issue_comments_304544.json:
```json
{
    "body": "<a id='comment:44'></a>\nwell, this seems to be almost green..",
    "created_at": "2022-09-08T19:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304544",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:44'></a>
well, this seems to be almost green..



---

archive/issue_comments_304545.json:
```json
{
    "body": "<a id='comment:45'></a>\nIt seems like that is unrelated. Have you tested locally?",
    "created_at": "2022-09-09T01:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304545",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:45'></a>
It seems like that is unrelated. Have you tested locally?



---

archive/issue_comments_304546.json:
```json
{
    "body": "<a id='comment:46'></a>\nthe failure is #33161 ; the tests in this file pass with other random seeds",
    "created_at": "2022-09-09T07:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304546",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:46'></a>
the failure is #33161 ; the tests in this file pass with other random seeds



---

archive/issue_comments_304547.json:
```json
{
    "body": "<a id='comment:47'></a>\nI am basically ready to flip the switch. The last thing I probably would like (although not fully convinced) is to have an alias `inverse = __invert__` in the classes that implemented an `inverse` in order to keep the documentation there visible.",
    "created_at": "2022-09-10T00:32:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304547",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:47'></a>
I am basically ready to flip the switch. The last thing I probably would like (although not fully convinced) is to have an alias `inverse = __invert__` in the classes that implemented an `inverse` in order to keep the documentation there visible.



---

archive/issue_comments_304548.json:
```json
{
    "body": "<a id='comment:48'></a>\nBut this would basically contradict the fact that there is a unique global alias that maps `inverse` to `__invert__` ?",
    "created_at": "2022-09-10T07:03:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304548",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:48'></a>
But this would basically contradict the fact that there is a unique global alias that maps `inverse` to `__invert__` ?



---

archive/issue_comments_304549.json:
```json
{
    "body": "<a id='comment:49'></a>\nIt isn't an alias in the Python sense. However, I didn't think your proposal said there should be a unique such redirect.\n\nI don't see any advantages of trying to impose that (it isn't really enforceable either). I think if we are consistent about using `__invert__`, then we won't get a user saying \"I get to chose which one I want to do\" (not to mention generic division would not work). On the other hand, I don't think this documentation is generally useful though, and not having it would mean that there is a near 0% chance of confusion.",
    "created_at": "2022-09-10T07:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304549",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:49'></a>
It isn't an alias in the Python sense. However, I didn't think your proposal said there should be a unique such redirect.

I don't see any advantages of trying to impose that (it isn't really enforceable either). I think if we are consistent about using `__invert__`, then we won't get a user saying "I get to chose which one I want to do" (not to mention generic division would not work). On the other hand, I don't think this documentation is generally useful though, and not having it would mean that there is a near 0% chance of confusion.



---

archive/issue_comments_304550.json:
```json
{
    "body": "<a id='comment:50'></a>\nSorry, I am now confused and not sure what you would like me to change.",
    "created_at": "2022-09-10T08:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304550",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:50'></a>
Sorry, I am now confused and not sure what you would like me to change.



---

archive/issue_comments_304551.json:
```json
{
    "body": "<a id='comment:51'></a>\nFor example, in `algebras/hecke_algebras/ariki_koike_algebra.py`, you are removing the `inverse` function. So it will no longer appear in the documentation and `x.inverse?` will be the generic documentation. I am think is adding a\n\n```python\ninverse = __invert__\n```\nalias there so the documentation won't change.\n\nAnyways, it sounds like you don't really like it and I wasn't convinced of how useful it would be, so we can move on.",
    "created_at": "2022-09-10T08:27:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304551",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:51'></a>
For example, in `algebras/hecke_algebras/ariki_koike_algebra.py`, you are removing the `inverse` function. So it will no longer appear in the documentation and `x.inverse?` will be the generic documentation. I am think is adding a

```python
inverse = __invert__
```
alias there so the documentation won't change.

Anyways, it sounds like you don't really like it and I wasn't convinced of how useful it would be, so we can move on.



---

archive/issue_comments_304552.json:
```json
{
    "body": "<a id='comment:52'></a>\nSo, is this a positive review ?",
    "created_at": "2022-09-16T12:14:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304552",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:52'></a>
So, is this a positive review ?



---

archive/issue_comments_304553.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2022-09-16T12:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304553",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_304554.json:
```json
{
    "body": "<a id='comment:53'></a>\nYes.",
    "created_at": "2022-09-16T12:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304554",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:53'></a>
Yes.



---

archive/issue_comments_304555.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-09-16T12:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304555",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_304556.json:
```json
{
    "body": "<a id='comment:54'></a>\nAfter these changes, is ticket #17692 still relevant?",
    "created_at": "2022-09-17T16:59:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304556",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:54'></a>
After these changes, is ticket #17692 still relevant?



---

archive/issue_comments_304557.json:
```json
{
    "body": "<a id='comment:55'></a>\n#17692 is independent of these changes (and the main proposal has already been done somewhere else).\n\nThe issue of whether `__invert__` and the (very embedded) `~x` should not be bitwise inverse (compare `~int(5)` to `~Integer(5)`) is not impacted by this change (other than it might be slightly more work to make such a change, but it is now at least applied uniformly, so it is less likely we miss something IMO).",
    "created_at": "2022-09-17T22:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304557",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:55'></a>
#17692 is independent of these changes (and the main proposal has already been done somewhere else).

The issue of whether `__invert__` and the (very embedded) `~x` should not be bitwise inverse (compare `~int(5)` to `~Integer(5)`) is not impacted by this change (other than it might be slightly more work to make such a change, but it is now at least applied uniformly, so it is less likely we miss something IMO).



---

archive/issue_comments_304558.json:
```json
{
    "body": "<a id='comment:56'></a>\nReplying to [Travis Scrimshaw](#comment%3A55):\n> #17692 is independent of these changes (and the main proposal has already been done somewhere else).\n> \n> The issue of whether `__invert__` and the (very embedded) `~x` should not be bitwise inverse (compare `~int(5)` to `~Integer(5)`) is not impacted by this change\n\n\nNo, the bitwise complement question is not the topic of #17692 (it is only mentioned in the very last comment)",
    "created_at": "2022-09-18T01:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304558",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:56'></a>
Replying to [Travis Scrimshaw](#comment%3A55):
> #17692 is independent of these changes (and the main proposal has already been done somewhere else).
> 
> The issue of whether `__invert__` and the (very embedded) `~x` should not be bitwise inverse (compare `~int(5)` to `~Integer(5)`) is not impacted by this change


No, the bitwise complement question is not the topic of #17692 (it is only mentioned in the very last comment)



---

archive/issue_comments_304559.json:
```json
{
    "body": "<a id='comment:57'></a>\nReplying to [Matthias K\u00f6ppe](#comment%3A56):\n> Replying to [Travis Scrimshaw](#comment%3A55):\n> > #17692 is independent of these changes (and the main proposal has already been done somewhere else).\n> > \n> > The issue of whether `__invert__` and the (very embedded) `~x` should not be bitwise inverse (compare `~int(5)` to `~Integer(5)`) is not impacted by this change\n\n> \n> No, the bitwise complement question is not the topic of #17692 (it is only mentioned in the very last comment)\n\n\nEither way, #17692 is independent of this ticket. (It probably should be closed (again, the main change has been implemented elsewhere) or converted into a bitwise issue ticket.)",
    "created_at": "2022-09-18T01:37:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304559",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:57'></a>
Replying to [Matthias Köppe](#comment%3A56):
> Replying to [Travis Scrimshaw](#comment%3A55):
> > #17692 is independent of these changes (and the main proposal has already been done somewhere else).
> > 
> > The issue of whether `__invert__` and the (very embedded) `~x` should not be bitwise inverse (compare `~int(5)` to `~Integer(5)`) is not impacted by this change

> 
> No, the bitwise complement question is not the topic of #17692 (it is only mentioned in the very last comment)


Either way, #17692 is independent of this ticket. (It probably should be closed (again, the main change has been implemented elsewhere) or converted into a bitwise issue ticket.)



---

archive/issue_events_065881.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65881"
}
```



---

archive/issue_events_065882.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65882"
}
```



---

archive/issue_events_065883.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-09-20T20:23:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17965#event-65883"
}
```



---

archive/issue_comments_304560.json:
```json
{
    "body": "Changing branch from \"public/ticket-17965-experiment\" to \"312a91d4f327802ca1e6d48975cd1d221128833e\"",
    "created_at": "2022-09-20T20:23:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304560",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/ticket-17965-experiment" to "312a91d4f327802ca1e6d48975cd1d221128833e"



---

archive/issue_comments_304561.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-09-20T20:23:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17965#issuecomment-304561",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
