# Issue 17740: Division of modules by basering elements should not pass to the fraction field.

archive/issues_017503.json:
```json
{
    "assignees": [],
    "body": "\n```\nsage: cm = sage.structure.element.get_coercion_model()\nsage: cm.bin_op(GF(5)['x'].gen(), 7, operator.div).parent()\nFraction Field of Univariate Polynomial Ring in x over Finite Field of size 5\n```\n\nThe problem is that we are not finding the inverse because we are passing to the fraction field of ZZ before coercing to GF(5).\n\nBranch: **[`2075e2e`](https://github.com/sagemath/sagetrac-mirror/commit/2075e2e68f6e6fc981096948ad4ffc61c47cfa46)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Robert Bradshaw**\n\nComponent: **coercion**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17740_\n\n",
    "closed_at": "2015-02-26T07:11:07Z",
    "created_at": "2015-02-06T10:37:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20coercion",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Division of modules by basering elements should not pass to the fraction field.",
    "type": "issue",
    "updated_at": "2015-02-26T07:48:18Z",
    "url": "https://github.com/sagemath/sage/issues/17740",
    "user": "https://github.com/robertwb"
}
```

```
sage: cm = sage.structure.element.get_coercion_model()
sage: cm.bin_op(GF(5)['x'].gen(), 7, operator.div).parent()
Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 5
```

The problem is that we are not finding the inverse because we are passing to the fraction field of ZZ before coercing to GF(5).

Branch: **[`2075e2e`](https://github.com/sagemath/sagetrac-mirror/commit/2075e2e68f6e6fc981096948ad4ffc61c47cfa46)**

Reviewer: **Vincent Delecroix**

Author: **Robert Bradshaw**

Component: **coercion**

_Issue created by migration from https://trac.sagemath.org/ticket/17740_





---

archive/issue_events_252697.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2015-02-06T10:37:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252697"
}
```



---

archive/issue_events_252698.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2015-02-06T10:37:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20coercion",
    "label_color": "0000ff",
    "label_name": "c: coercion",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252698"
}
```



---

archive/issue_events_252699.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2015-02-06T10:37:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252699"
}
```



---

archive/issue_events_252700.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2015-02-06T10:37:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252700"
}
```



---

archive/issue_comments_239651.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,7 @@\n ```\n sage: cm = sage.structure.element.get_coercion_model()\n sage: cm.bin_op(GF(5)['x'].gen(), 7, operator.div).parent()\n-\ufe21dd186f73-dcbf-4799-a7c7-5ad880512d60\ufe21{\"stdout\":\"Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 5\\n\"}\ufe21\n+Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 5\n ```\n \n+The problem is that we are not finding the inverse because we are passing to the fraction field of ZZ before coercing to GF(5).\n``````\n",
    "created_at": "2015-02-06T10:41:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239651",
    "user": "https://github.com/robertwb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,7 @@
 ```
 sage: cm = sage.structure.element.get_coercion_model()
 sage: cm.bin_op(GF(5)['x'].gen(), 7, operator.div).parent()
-︡dd186f73-dcbf-4799-a7c7-5ad880512d60︡{"stdout":"Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 5\n"}︡
+Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 5
 ```
 
+The problem is that we are not finding the inverse because we are passing to the fraction field of ZZ before coercing to GF(5).
``````




---

archive/issue_comments_239652.json:
```json
{
    "body": "Branch: **[u/robertwb/coerce-div](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/coerce-div)**",
    "created_at": "2015-02-06T11:02:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239652",
    "user": "https://github.com/robertwb"
}
```

Branch: **[u/robertwb/coerce-div](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/coerce-div)**



---

archive/issue_comments_239653.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nCan we also address here why asking the coercion system to do this operation does not lead to the same result as when we just do the computation?\n\n```\nsage: parent(GF(5)['x'].gen()/7)\nUnivariate Polynomial Ring in x over Finite Field of size 5\n```\nThere may be good reasons for this (performance?) so I'm not immediately suggesting that we change the code to use the same path in both cases, but we should document that and why we're not.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a507b79f14c7db4f28ac841996cc2ef3d1ba71d\"><code>6a507b7</code></a></td><td><code>Better inversion of module actions for correct division coercions.</code></td></tr></table>\n",
    "created_at": "2015-02-06T16:14:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239653",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:3" align="right">comment:3</div>

Can we also address here why asking the coercion system to do this operation does not lead to the same result as when we just do the computation?

```
sage: parent(GF(5)['x'].gen()/7)
Univariate Polynomial Ring in x over Finite Field of size 5
```
There may be good reasons for this (performance?) so I'm not immediately suggesting that we change the code to use the same path in both cases, but we should document that and why we're not.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a507b79f14c7db4f28ac841996cc2ef3d1ba71d"><code>6a507b7</code></a></td><td><code>Better inversion of module actions for correct division coercions.</code></td></tr></table>




---

archive/issue_comments_239654.json:
```json
{
    "body": "Commit: **[`6a507b7`](https://github.com/sagemath/sagetrac-mirror/commit/6a507b79f14c7db4f28ac841996cc2ef3d1ba71d)**",
    "created_at": "2015-02-06T16:14:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239654",
    "user": "https://github.com/nbruin"
}
```

Commit: **[`6a507b7`](https://github.com/sagemath/sagetrac-mirror/commit/6a507b79f14c7db4f28ac841996cc2ef3d1ba71d)**



---

archive/issue_comments_239655.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIt was probably added because coercion simply didn't used to do the right thing. I've filed #17741 about removing the redundant `__div__` which may uncover surprises.",
    "created_at": "2015-02-06T18:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239655",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:4" align="right">comment:4</div>

It was probably added because coercion simply didn't used to do the right thing. I've filed #17741 about removing the redundant `__div__` which may uncover surprises.



---

archive/issue_events_252701.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2015-02-06T18:28:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252701"
}
```



---

archive/issue_comments_239656.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nMy main concern is that your solution ignore iteration\n\n```\nsage: cm.get_action(GF(5)['x']['y'], ZZ, operator.div)\nRight inverse action by Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 5 on Univariate Polynomial Ring in y over Univariate Polynomial Ring in x over Finite Field of size 5\nwith precomposition on right by Composite map:\n  From: Integer Ring\n  To:   Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 5\n  Defn:   Natural morphism:\n          From: Integer Ring\n          To:   Finite Field of size 5\n        then\n          Polynomial base injection morphism:\n          From: Finite Field of size 5\n          To:   Univariate Polynomial Ring in x over Finite Field of size 5\n        then\n          Ring Coercion morphism:\n          From: Univariate Polynomial Ring in x over Finite Field of size 5\n          To:   Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 5\n```\n\nI think that `GF(5)['x,y']` and `GF(5)['x']['y']` should behave similarly.\n\nVincent",
    "created_at": "2015-02-06T20:45:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239656",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5" align="right">comment:5</div>

My main concern is that your solution ignore iteration

```
sage: cm.get_action(GF(5)['x']['y'], ZZ, operator.div)
Right inverse action by Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 5 on Univariate Polynomial Ring in y over Univariate Polynomial Ring in x over Finite Field of size 5
with precomposition on right by Composite map:
  From: Integer Ring
  To:   Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 5
  Defn:   Natural morphism:
          From: Integer Ring
          To:   Finite Field of size 5
        then
          Polynomial base injection morphism:
          From: Finite Field of size 5
          To:   Univariate Polynomial Ring in x over Finite Field of size 5
        then
          Ring Coercion morphism:
          From: Univariate Polynomial Ring in x over Finite Field of size 5
          To:   Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 5
```

I think that `GF(5)['x,y']` and `GF(5)['x']['y']` should behave similarly.

Vincent



---

archive/issue_comments_239657.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nYes, I've actually been thinking about that as well, and I'm not sure exactly how best to handle this. GF(5)['x']['y'] is a GF(5)-module but represented as a GF(5)['x']-module. Or, put otherwise, (most) elements of ZZ have an inverse in GF(5); we want to take the most conservative inverse possible.\n\nI used to be very against partial coercions like QQ -> GF(p), but I'm not as sure anymore.",
    "created_at": "2015-02-06T22:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239657",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:6" align="right">comment:6</div>

Yes, I've actually been thinking about that as well, and I'm not sure exactly how best to handle this. GF(5)['x']['y'] is a GF(5)-module but represented as a GF(5)['x']-module. Or, put otherwise, (most) elements of ZZ have an inverse in GF(5); we want to take the most conservative inverse possible.

I used to be very against partial coercions like QQ -> GF(p), but I'm not as sure anymore.



---

archive/issue_comments_239658.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nNote that this behavior is not new\n\n```\nsage: parent(GF(5)['x']['y'].gen() / 2)\nUnivariate Polynomial Ring in y over Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 5\n```\n\nMore generally, given an R-module M and an element in R0 such that R0 -> R1 -> ... -> Rn -> R, where along this chain should the multiplicative inverse be calculated? Maybe the first (last?) Ri that is already field? Starts to feel a bit ad-hoc...",
    "created_at": "2015-02-07T05:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239658",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:7" align="right">comment:7</div>

Note that this behavior is not new

```
sage: parent(GF(5)['x']['y'].gen() / 2)
Univariate Polynomial Ring in y over Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 5
```

More generally, given an R-module M and an element in R0 such that R0 -> R1 -> ... -> Rn -> R, where along this chain should the multiplicative inverse be calculated? Maybe the first (last?) Ri that is already field? Starts to feel a bit ad-hoc...



---

archive/issue_comments_239659.json:
```json
{
    "body": "Changed commit from **[`6a507b7`](https://github.com/sagemath/sagetrac-mirror/commit/6a507b79f14c7db4f28ac841996cc2ef3d1ba71d)** to **[`1e88c72`](https://github.com/sagemath/sagetrac-mirror/commit/1e88c72687b89713e3ca79e435c509c0d99bece2)**",
    "created_at": "2015-02-08T07:59:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239659",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6a507b7`](https://github.com/sagemath/sagetrac-mirror/commit/6a507b79f14c7db4f28ac841996cc2ef3d1ba71d)** to **[`1e88c72`](https://github.com/sagemath/sagetrac-mirror/commit/1e88c72687b89713e3ca79e435c509c0d99bece2)**



---

archive/issue_comments_239660.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7744207c040e7bbb9b4abd7c637b46832fe486d4\"><code>7744207</code></a></td><td><code>Better behavior for polynomial division.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e88c72687b89713e3ca79e435c509c0d99bece2\"><code>1e88c72</code></a></td><td><code>Another polynomial division action test.</code></td></tr></table>\n",
    "created_at": "2015-02-08T07:59:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239660",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7744207c040e7bbb9b4abd7c637b46832fe486d4"><code>7744207</code></a></td><td><code>Better behavior for polynomial division.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e88c72687b89713e3ca79e435c509c0d99bece2"><code>1e88c72</code></a></td><td><code>Another polynomial division action test.</code></td></tr></table>




---

archive/issue_comments_239661.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nOK, I've implemented the above behavior.",
    "created_at": "2015-02-08T08:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239661",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:9" align="right">comment:9</div>

OK, I've implemented the above behavior.



---

archive/issue_comments_239662.json:
```json
{
    "body": "Changed branch from **[u/robertwb/coerce-div](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/coerce-div)** to **[u/vdelecroix/17440](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17440)**",
    "created_at": "2015-02-08T10:48:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239662",
    "user": "https://github.com/videlec"
}
```

Changed branch from **[u/robertwb/coerce-div](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/coerce-div)** to **[u/vdelecroix/17440](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17440)**



---

archive/issue_events_252702.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-08T10:48:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252702"
}
```



---

archive/issue_events_252703.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-08T10:48:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252703"
}
```



---

archive/issue_comments_239663.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI wrote trivial commits while I was reading the code. One thing to mention: in the documentation you should use <code>:trac:\\`17440\\`</code> instead of `#17440`.\n\nOne last question: in `coerce.pyx`, you wrote\n\n```\ntry:\n    return ~right_mul\nexcept TypeError: # action may not be invertible\n    self._record_exception()\n```\nShouldn't we catch only `CoercionException`?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a60134cdb45ad44725efb637f6b4fec74077197f\"><code>a60134c</code></a></td><td><code>trac #17740: review 1 (documentation)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/728811d3f2f1d46750775b2e9ac203c08ef6db82\"><code>728811d</code></a></td><td><code>trac #17740: review 2 (clean Errors)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96c1a0348964c4edbd42f3fc52e93b9e76f26156\"><code>96c1a03</code></a></td><td><code>trac #17740: review 3 (less in try/except block)</code></td></tr></table>\n",
    "created_at": "2015-02-08T10:48:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239663",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">comment:10</div>

I wrote trivial commits while I was reading the code. One thing to mention: in the documentation you should use <code>:trac:\`17440\`</code> instead of `#17440`.

One last question: in `coerce.pyx`, you wrote

```
try:
    return ~right_mul
except TypeError: # action may not be invertible
    self._record_exception()
```
Shouldn't we catch only `CoercionException`?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a60134cdb45ad44725efb637f6b4fec74077197f"><code>a60134c</code></a></td><td><code>trac #17740: review 1 (documentation)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/728811d3f2f1d46750775b2e9ac203c08ef6db82"><code>728811d</code></a></td><td><code>trac #17740: review 2 (clean Errors)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96c1a0348964c4edbd42f3fc52e93b9e76f26156"><code>96c1a03</code></a></td><td><code>trac #17740: review 3 (less in try/except block)</code></td></tr></table>




---

archive/issue_comments_239664.json:
```json
{
    "body": "Changed commit from **[`1e88c72`](https://github.com/sagemath/sagetrac-mirror/commit/1e88c72687b89713e3ca79e435c509c0d99bece2)** to **[`96c1a03`](https://github.com/sagemath/sagetrac-mirror/commit/96c1a0348964c4edbd42f3fc52e93b9e76f26156)**",
    "created_at": "2015-02-08T10:48:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239664",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[`1e88c72`](https://github.com/sagemath/sagetrac-mirror/commit/1e88c72687b89713e3ca79e435c509c0d99bece2)** to **[`96c1a03`](https://github.com/sagemath/sagetrac-mirror/commit/96c1a0348964c4edbd42f3fc52e93b9e76f26156)**



---

archive/issue_events_252704.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-08T11:09:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252704"
}
```



---

archive/issue_events_252705.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-08T11:09:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252705"
}
```



---

archive/issue_comments_239665.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAnd something is broken:\n\n```\nsage -t schemes/toric/divisor.py\n**********************************************************************\nFile \"schemes/toric/divisor.py\", line 35, in sage.schemes.toric.divisor\nFailed example:\n    (1/2)*Dx + Dy/3 - Dz\nException raised:\n    Traceback (most recent call last):\n    ...\n    TypeError: unsupported operand parent(s) for '/': 'Group of toric ZZ-Weil divisors on 2-d CPR-Fano toric variety covered by 6 affine patches' and 'Integer Ring'\n**********************************************************************\nFile \"schemes/toric/divisor.py\", line 40, in sage.schemes.toric.divisor\nFailed example:\n    (Dx/2).parent()\nException raised:\n    Traceback (most recent call last):\n    ...\n    TypeError: unsupported operand parent(s) for '/': 'Group of toric ZZ-Weil divisors on 2-d CPR-Fano toric variety covered by 6 affine patches' and 'Integer Ring'\n**********************************************************************\nFile \"schemes/toric/divisor.py\", line 866, in sage.schemes.toric.divisor.ToricDivisor_generic.is_Weil\nFailed example:\n    (D/2).is_Weil()\nException raised:\n    Traceback (most recent call last):\n    ...\n    TypeError: unsupported operand parent(s) for '/': 'Group of toric ZZ-Weil divisors on 2-d CPR-Fano toric variety covered by 3 affine patches' and 'Integer Ring'\n**********************************************************************\nFile \"schemes/toric/divisor.py\", line 893, in sage.schemes.toric.divisor.ToricDivisor_generic.is_QQ_Weil\nFailed example:\n    (D/2).is_QQ_Weil()\nException raised:\n    Traceback (most recent call last):\n    ...\n    TypeError: unsupported operand parent(s) for '/': 'Group of toric ZZ-Weil divisors on 2-d CPR-Fano toric variety covered by 3 affine patches' and 'Integer Ring'\n**********************************************************************\n3 items had failures:\n   2 of  42 in sage.schemes.toric.divisor\n   1 of   5 in sage.schemes.toric.divisor.ToricDivisor_generic.is_QQ_Weil\n   1 of   5 in sage.schemes.toric.divisor.ToricDivisor_generic.is_Weil\n    [363 tests, 4 failures, 2.53 s]\n----------------------------------------------------------------------\nsage -t schemes/toric/divisor.py  # 4 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2015-02-08T11:09:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239665",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">comment:11</div>

And something is broken:

```
sage -t schemes/toric/divisor.py
**********************************************************************
File "schemes/toric/divisor.py", line 35, in sage.schemes.toric.divisor
Failed example:
    (1/2)*Dx + Dy/3 - Dz
Exception raised:
    Traceback (most recent call last):
    ...
    TypeError: unsupported operand parent(s) for '/': 'Group of toric ZZ-Weil divisors on 2-d CPR-Fano toric variety covered by 6 affine patches' and 'Integer Ring'
**********************************************************************
File "schemes/toric/divisor.py", line 40, in sage.schemes.toric.divisor
Failed example:
    (Dx/2).parent()
Exception raised:
    Traceback (most recent call last):
    ...
    TypeError: unsupported operand parent(s) for '/': 'Group of toric ZZ-Weil divisors on 2-d CPR-Fano toric variety covered by 6 affine patches' and 'Integer Ring'
**********************************************************************
File "schemes/toric/divisor.py", line 866, in sage.schemes.toric.divisor.ToricDivisor_generic.is_Weil
Failed example:
    (D/2).is_Weil()
Exception raised:
    Traceback (most recent call last):
    ...
    TypeError: unsupported operand parent(s) for '/': 'Group of toric ZZ-Weil divisors on 2-d CPR-Fano toric variety covered by 3 affine patches' and 'Integer Ring'
**********************************************************************
File "schemes/toric/divisor.py", line 893, in sage.schemes.toric.divisor.ToricDivisor_generic.is_QQ_Weil
Failed example:
    (D/2).is_QQ_Weil()
Exception raised:
    Traceback (most recent call last):
    ...
    TypeError: unsupported operand parent(s) for '/': 'Group of toric ZZ-Weil divisors on 2-d CPR-Fano toric variety covered by 3 affine patches' and 'Integer Ring'
**********************************************************************
3 items had failures:
   2 of  42 in sage.schemes.toric.divisor
   1 of   5 in sage.schemes.toric.divisor.ToricDivisor_generic.is_QQ_Weil
   1 of   5 in sage.schemes.toric.divisor.ToricDivisor_generic.is_Weil
    [363 tests, 4 failures, 2.53 s]
----------------------------------------------------------------------
sage -t schemes/toric/divisor.py  # 4 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_239666.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@videlec](#comment:11):\n> And something is broken:\n> \n> ```\n> sage -t schemes/toric/divisor.py\n> ```\n\nThe problematic line is `module_action = type(self)(K, self.codomain())` in `coerce_action.pyx`\n\n```\nsage: dP6 = toric_varieties.dP6()\nsage: Dx,Du,Dy,Dv,Dz,Dw = dP6.toric_divisor_group().gens()\nsage: A = RightModuleAction(ZZ, Dx.parent())\nsage: ~A\nTraceback (most recent call last):\n...\n    472             print \"self.codomain = {}\".format(self.codomain())\n--> 473             module_action = type(self)(K, self.codomain())\n    474             connecting = K.coerce_map_from(self.G)\n...\nCoercionException: No common base\n```",
    "created_at": "2015-02-08T11:26:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239666",
    "user": "https://github.com/videlec"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@videlec](#comment:11):
> And something is broken:
> 
> ```
> sage -t schemes/toric/divisor.py
> ```

The problematic line is `module_action = type(self)(K, self.codomain())` in `coerce_action.pyx`

```
sage: dP6 = toric_varieties.dP6()
sage: Dx,Du,Dy,Dv,Dz,Dw = dP6.toric_divisor_group().gens()
sage: A = RightModuleAction(ZZ, Dx.parent())
sage: ~A
Traceback (most recent call last):
...
    472             print "self.codomain = {}".format(self.codomain())
--> 473             module_action = type(self)(K, self.codomain())
    474             connecting = K.coerce_map_from(self.G)
...
CoercionException: No common base
```



---

archive/issue_comments_239667.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/17440](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17440)** to **[u/robertwb/17440](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17440)**",
    "created_at": "2015-02-11T05:12:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239667",
    "user": "https://github.com/robertwb"
}
```

Changed branch from **[u/vdelecroix/17440](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17440)** to **[u/robertwb/17440](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17440)**



---

archive/issue_comments_239668.json:
```json
{
    "body": "Changed commit from **[`96c1a03`](https://github.com/sagemath/sagetrac-mirror/commit/96c1a0348964c4edbd42f3fc52e93b9e76f26156)** to **[`2cb51c0`](https://github.com/sagemath/sagetrac-mirror/commit/2cb51c095e0e3375dead95c194febd5873ba5e06)**",
    "created_at": "2015-02-11T05:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239668",
    "user": "https://github.com/robertwb"
}
```

Changed commit from **[`96c1a03`](https://github.com/sagemath/sagetrac-mirror/commit/96c1a0348964c4edbd42f3fc52e93b9e76f26156)** to **[`2cb51c0`](https://github.com/sagemath/sagetrac-mirror/commit/2cb51c095e0e3375dead95c194febd5873ba5e06)**



---

archive/issue_comments_239669.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nFixed these failing tests. \n\nAlso, no, we don't want to only catch `CoercionException` there.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2cb51c095e0e3375dead95c194febd5873ba5e06\"><code>2cb51c0</code></a></td><td><code>Re-introduce action of fraction field as fallback for division action.</code></td></tr></table>\n",
    "created_at": "2015-02-11T05:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239669",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:14" align="right">comment:14</div>

Fixed these failing tests. 

Also, no, we don't want to only catch `CoercionException` there.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2cb51c095e0e3375dead95c194febd5873ba5e06"><code>2cb51c0</code></a></td><td><code>Re-introduce action of fraction field as fallback for division action.</code></td></tr></table>




---

archive/issue_comments_239670.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nStill some failing doctests... (the last one only concerns the more recent 6-5.rc0)\n\nFile `rings/quotient_ring_element.py`\n\n```\nline 360, in sage.rings.quotient_ring_element.QuotientRingElement._div_\nFailed example:\n    1/cuberoot\nException raised:\n    Traceback (most recent call last):\n    ...\n    TypeError: self must be an integral domain.\n**********************************************************************\nline 362, in sage.rings.quotient_ring_element.QuotientRingElement._div_\nFailed example:\n    1/a\nException raised:\n    Traceback (most recent call last):\n    ...\n    TypeError: self must be an integral domain.\n**********************************************************************\nFile \"src/sage/rings/quotient_ring_element.py\", line 370, in sage.rings.quotient_ring_element.QuotientRingElement._div_\nFailed example:\n    1 / S(x1 + x2)\nExpected:\n    Traceback (most recent call last):\n    ...\n    ArithmeticError: Division failed. The numerator is not a multiple of the denominator.\nGot:\n    Traceback (most recent call last):\n    ...\n    TypeError: self must be an integral domain.\n```\n\n\nFile `rings/padics/local_generic_element.pyx`\n\n```\nline 63, in sage.rings.padics.local_generic_element.LocalGenericElement._div_\nFailed example:\n    R = Zp(7, 4, 'fixed-mod'); 1/R(7)\nExpected:\n    Traceback (most recent call last):\n    ...\n    ValueError: cannot invert non-unit\nGot:\n    Traceback (most recent call last):\n    ...\n    TypeError: This implementation of the p-adic ring does not support fields of fractions.\n```\n\nFile `rings/padics/padic_ZZ_pX_FM_element.pyx`\n\n```\nline 88, in sage.rings.padics.padic_ZZ_pX_FM_element\nFailed example:\n    1/a\nException raised:\n    Traceback (most recent call last):\n    ...\n    TypeError: This implementation of the p-adic ring does not support fields of fractions.\n**********************************************************************\nline 875, in sage.rings.padics.padic_ZZ_pX_FM_element.pAdicZZpXFMElement._div_\nFailed example:\n    1 / W(14) == ~W(14)\nException raised:\n    Traceback (most recent call last):\n    ...\n    TypeError: This implementation of the p-adic ring does not support fields of fractions.\n**********************************************************************\nline 877, in sage.rings.padics.padic_ZZ_pX_FM_element.pAdicZZpXFMElement._div_\nFailed example:\n    1 / w\nExpected:\n    Traceback (most recent call last):\n    ...\n    ValueError: cannot invert non-unit\nGot:\n    Traceback (most recent call last):\n    ...\n    TypeError: This implementation of the p-adic ring does not support fields of fractions.\n**********************************************************************\nline 885, in sage.rings.padics.padic_ZZ_pX_FM_element.pAdicZZpXFMElement._div_\nFailed example:\n    1/(t+t^2)\nException raised:\n    Traceback (most recent call last):\n    ...\n    TypeError: This implementation of the p-adic ring does not support fields of fraction.\n```\n\nIn `modular/modform_hecketriangle/graded_ring_element.py`:\n\n```\nsage -t --long src/sage/modular/modform_hecketriangle/graded_ring_element.py\n**********************************************************************\nline 887, in sage.modular.modform_hecketriangle.graded_ring_element.FormsRingElement._div_\nFailed example:\n    ((E4.as_ring_element())^(-2)).parent() == (E4^(-2)).parent()\nException raised:\n    Traceback (most recent call last):\n    ...\n    NotImplementedError: No way to prove that ModularFormsRing(n=8) over Integer Ring is an integral domain!\n**********************************************************************\nline 889, in sage.modular.modform_hecketriangle.graded_ring_element.FormsRingElement._div_\nFailed example:\n    (MR(x)^(-3)).parent()\nException raised:\n    Traceback (most recent call last):\n    ...\n    NotImplementedError: No way to prove that QuasiMeromorphicModularFormsRing(n=8) over Integer Ring is an integral domain!\n```",
    "created_at": "2015-02-11T10:53:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239670",
    "user": "https://github.com/videlec"
}
```

<div id="comment:15" align="right">comment:15</div>

Still some failing doctests... (the last one only concerns the more recent 6-5.rc0)

File `rings/quotient_ring_element.py`

```
line 360, in sage.rings.quotient_ring_element.QuotientRingElement._div_
Failed example:
    1/cuberoot
Exception raised:
    Traceback (most recent call last):
    ...
    TypeError: self must be an integral domain.
**********************************************************************
line 362, in sage.rings.quotient_ring_element.QuotientRingElement._div_
Failed example:
    1/a
Exception raised:
    Traceback (most recent call last):
    ...
    TypeError: self must be an integral domain.
**********************************************************************
File "src/sage/rings/quotient_ring_element.py", line 370, in sage.rings.quotient_ring_element.QuotientRingElement._div_
Failed example:
    1 / S(x1 + x2)
Expected:
    Traceback (most recent call last):
    ...
    ArithmeticError: Division failed. The numerator is not a multiple of the denominator.
Got:
    Traceback (most recent call last):
    ...
    TypeError: self must be an integral domain.
```


File `rings/padics/local_generic_element.pyx`

```
line 63, in sage.rings.padics.local_generic_element.LocalGenericElement._div_
Failed example:
    R = Zp(7, 4, 'fixed-mod'); 1/R(7)
Expected:
    Traceback (most recent call last):
    ...
    ValueError: cannot invert non-unit
Got:
    Traceback (most recent call last):
    ...
    TypeError: This implementation of the p-adic ring does not support fields of fractions.
```

File `rings/padics/padic_ZZ_pX_FM_element.pyx`

```
line 88, in sage.rings.padics.padic_ZZ_pX_FM_element
Failed example:
    1/a
Exception raised:
    Traceback (most recent call last):
    ...
    TypeError: This implementation of the p-adic ring does not support fields of fractions.
**********************************************************************
line 875, in sage.rings.padics.padic_ZZ_pX_FM_element.pAdicZZpXFMElement._div_
Failed example:
    1 / W(14) == ~W(14)
Exception raised:
    Traceback (most recent call last):
    ...
    TypeError: This implementation of the p-adic ring does not support fields of fractions.
**********************************************************************
line 877, in sage.rings.padics.padic_ZZ_pX_FM_element.pAdicZZpXFMElement._div_
Failed example:
    1 / w
Expected:
    Traceback (most recent call last):
    ...
    ValueError: cannot invert non-unit
Got:
    Traceback (most recent call last):
    ...
    TypeError: This implementation of the p-adic ring does not support fields of fractions.
**********************************************************************
line 885, in sage.rings.padics.padic_ZZ_pX_FM_element.pAdicZZpXFMElement._div_
Failed example:
    1/(t+t^2)
Exception raised:
    Traceback (most recent call last):
    ...
    TypeError: This implementation of the p-adic ring does not support fields of fraction.
```

In `modular/modform_hecketriangle/graded_ring_element.py`:

```
sage -t --long src/sage/modular/modform_hecketriangle/graded_ring_element.py
**********************************************************************
line 887, in sage.modular.modform_hecketriangle.graded_ring_element.FormsRingElement._div_
Failed example:
    ((E4.as_ring_element())^(-2)).parent() == (E4^(-2)).parent()
Exception raised:
    Traceback (most recent call last):
    ...
    NotImplementedError: No way to prove that ModularFormsRing(n=8) over Integer Ring is an integral domain!
**********************************************************************
line 889, in sage.modular.modform_hecketriangle.graded_ring_element.FormsRingElement._div_
Failed example:
    (MR(x)^(-3)).parent()
Exception raised:
    Traceback (most recent call last):
    ...
    NotImplementedError: No way to prove that QuasiMeromorphicModularFormsRing(n=8) over Integer Ring is an integral domain!
```



---

archive/issue_comments_239671.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nHello Robert,\n\nHere is a one-line commit that fixes all doctest issues. I am wondering why these did not appear in the first time... Tell me what you think.\n\nVincent\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16ca39d03e82a065cb2ceee6af68e44811974469\"><code>16ca39d</code></a></td><td><code>trac #17440: merge 6.5.rc3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1fc166516e7574fceda32a828402c31586bed01\"><code>d1fc166</code></a></td><td><code>trac #17440: better _pseudo_fraction_field</code></td></tr></table>\n",
    "created_at": "2015-02-14T13:31:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239671",
    "user": "https://github.com/videlec"
}
```

<div id="comment:16" align="right">comment:16</div>

Hello Robert,

Here is a one-line commit that fixes all doctest issues. I am wondering why these did not appear in the first time... Tell me what you think.

Vincent

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16ca39d03e82a065cb2ceee6af68e44811974469"><code>16ca39d</code></a></td><td><code>trac #17440: merge 6.5.rc3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1fc166516e7574fceda32a828402c31586bed01"><code>d1fc166</code></a></td><td><code>trac #17440: better _pseudo_fraction_field</code></td></tr></table>




---

archive/issue_comments_239672.json:
```json
{
    "body": "Changed branch from **[u/robertwb/17440](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17440)** to **[u/vdelecroix/17740](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17740)**",
    "created_at": "2015-02-14T13:31:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239672",
    "user": "https://github.com/videlec"
}
```

Changed branch from **[u/robertwb/17440](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17440)** to **[u/vdelecroix/17740](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17740)**



---

archive/issue_comments_239673.json:
```json
{
    "body": "Changed commit from **[`2cb51c0`](https://github.com/sagemath/sagetrac-mirror/commit/2cb51c095e0e3375dead95c194febd5873ba5e06)** to **[`d1fc166`](https://github.com/sagemath/sagetrac-mirror/commit/d1fc166516e7574fceda32a828402c31586bed01)**",
    "created_at": "2015-02-14T13:31:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239673",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[`2cb51c0`](https://github.com/sagemath/sagetrac-mirror/commit/2cb51c095e0e3375dead95c194febd5873ba5e06)** to **[`d1fc166`](https://github.com/sagemath/sagetrac-mirror/commit/d1fc166516e7574fceda32a828402c31586bed01)**



---

archive/issue_events_252706.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-14T13:31:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252706"
}
```



---

archive/issue_events_252707.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-14T13:31:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252707"
}
```



---

archive/issue_comments_239674.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2015-02-14T13:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239674",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_239675.json:
```json
{
    "body": "Author: **Robert Bradshaw**",
    "created_at": "2015-02-14T13:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239675",
    "user": "https://github.com/videlec"
}
```

Author: **Robert Bradshaw**



---

archive/issue_comments_239676.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/17740](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17740)** to **[u/robertwb/17740](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17740)**",
    "created_at": "2015-02-15T09:20:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239676",
    "user": "https://github.com/robertwb"
}
```

Changed branch from **[u/vdelecroix/17740](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17740)** to **[u/robertwb/17740](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17740)**



---

archive/issue_comments_239677.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI don't think self is the right thing to return by default, but here's a similar fix.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bff474b33f681de5d51ebf1be5c95dc7ac7f2f03\"><code>bff474b</code></a></td><td><code>Better _pseudo_fraction_field default implementation.</code></td></tr></table>\n",
    "created_at": "2015-02-15T09:22:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239677",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:20" align="right">comment:20</div>

I don't think self is the right thing to return by default, but here's a similar fix.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bff474b33f681de5d51ebf1be5c95dc7ac7f2f03"><code>bff474b</code></a></td><td><code>Better _pseudo_fraction_field default implementation.</code></td></tr></table>




---

archive/issue_comments_239678.json:
```json
{
    "body": "Changed commit from **[`d1fc166`](https://github.com/sagemath/sagetrac-mirror/commit/d1fc166516e7574fceda32a828402c31586bed01)** to **[`bff474b`](https://github.com/sagemath/sagetrac-mirror/commit/bff474b33f681de5d51ebf1be5c95dc7ac7f2f03)**",
    "created_at": "2015-02-15T09:22:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239678",
    "user": "https://github.com/robertwb"
}
```

Changed commit from **[`d1fc166`](https://github.com/sagemath/sagetrac-mirror/commit/d1fc166516e7574fceda32a828402c31586bed01)** to **[`bff474b`](https://github.com/sagemath/sagetrac-mirror/commit/bff474b33f681de5d51ebf1be5c95dc7ac7f2f03)**



---

archive/issue_events_252708.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-15T11:21:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252708"
}
```



---

archive/issue_events_252709.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-15T11:21:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252709"
}
```



---

archive/issue_events_252710.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-15T16:22:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252710"
}
```



---

archive/issue_events_252711.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-15T16:22:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252711"
}
```



---

archive/issue_comments_239679.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nNow, I am not sure anymore that your solution is better. The implementation of `division_parent` tries to execute `~parent.one()`. But the default implementation of `__invert__` of an element `x` in `sage.structure.element` is precisely to call `1/x` (and soonly `x.parent().one()/x` with #17692). Hence using `division_parent` should lead to some infinite recursions that we curiously do not see here. No?\n\nEDIT: This is fine, because in `x.parent().one()/x` the numerator and denominator have the same type... and so no coercion is involved and `__div__` is called directly.",
    "created_at": "2015-02-15T16:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239679",
    "user": "https://github.com/videlec"
}
```

<div id="comment:22" align="right">comment:22</div>

Now, I am not sure anymore that your solution is better. The implementation of `division_parent` tries to execute `~parent.one()`. But the default implementation of `__invert__` of an element `x` in `sage.structure.element` is precisely to call `1/x` (and soonly `x.parent().one()/x` with #17692). Hence using `division_parent` should lead to some infinite recursions that we curiously do not see here. No?

EDIT: This is fine, because in `x.parent().one()/x` the numerator and denominator have the same type... and so no coercion is involved and `__div__` is called directly.



---

archive/issue_events_252712.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-15T16:30:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252712"
}
```



---

archive/issue_events_252713.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-15T16:30:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252713"
}
```



---

archive/issue_comments_239680.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nYes, indeed this should go in with #17692 to prevent possible infinite recursion. Thanks for the review!",
    "created_at": "2015-02-17T04:41:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239680",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:24" align="right">comment:24</div>

Yes, indeed this should go in with #17692 to prevent possible infinite recursion. Thanks for the review!



---

archive/issue_events_252714.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-17T20:52:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252714"
}
```



---

archive/issue_events_252715.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-17T20:52:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252715"
}
```



---

archive/issue_comments_239681.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nMerge conflict, possibly #17694",
    "created_at": "2015-02-17T20:52:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239681",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>

Merge conflict, possibly #17694



---

archive/issue_comments_239682.json:
```json
{
    "body": "Changed branch from **[u/robertwb/17740](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17740)** to **[u/vdelecroix/17740](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17740)**",
    "created_at": "2015-02-18T11:37:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239682",
    "user": "https://github.com/videlec"
}
```

Changed branch from **[u/robertwb/17740](https://github.com/sagemath/sagetrac-mirror/tree/u/robertwb/17740)** to **[u/vdelecroix/17740](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17740)**



---

archive/issue_events_252716.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-18T11:37:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252716"
}
```



---

archive/issue_events_252717.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-18T11:37:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252717"
}
```



---

archive/issue_comments_239683.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nHi Robert,\n\nThere was only a trivial conflict in `sage/rings/ring.pyx`. I did merge with sage-6.6.beta0 in my last commit. I let you set the positive review if this is fine.\n\nVincent\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52cc62d92f8bed38aab6e2a9a8cfb785493a69bf\"><code>52cc62d</code></a></td><td><code>trac #17740: merge sage-6.6.beta0</code></td></tr></table>\n",
    "created_at": "2015-02-18T11:37:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239683",
    "user": "https://github.com/videlec"
}
```

<div id="comment:26" align="right">comment:26</div>

Hi Robert,

There was only a trivial conflict in `sage/rings/ring.pyx`. I did merge with sage-6.6.beta0 in my last commit. I let you set the positive review if this is fine.

Vincent

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52cc62d92f8bed38aab6e2a9a8cfb785493a69bf"><code>52cc62d</code></a></td><td><code>trac #17740: merge sage-6.6.beta0</code></td></tr></table>




---

archive/issue_comments_239684.json:
```json
{
    "body": "Changed commit from **[`bff474b`](https://github.com/sagemath/sagetrac-mirror/commit/bff474b33f681de5d51ebf1be5c95dc7ac7f2f03)** to **[`52cc62d`](https://github.com/sagemath/sagetrac-mirror/commit/52cc62d92f8bed38aab6e2a9a8cfb785493a69bf)**",
    "created_at": "2015-02-18T11:37:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239684",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[`bff474b`](https://github.com/sagemath/sagetrac-mirror/commit/bff474b33f681de5d51ebf1be5c95dc7ac7f2f03)** to **[`52cc62d`](https://github.com/sagemath/sagetrac-mirror/commit/52cc62d92f8bed38aab6e2a9a8cfb785493a69bf)**



---

archive/issue_comments_239685.json:
```json
{
    "body": "Changed commit from **[`52cc62d`](https://github.com/sagemath/sagetrac-mirror/commit/52cc62d92f8bed38aab6e2a9a8cfb785493a69bf)** to **[`9c970ae`](https://github.com/sagemath/sagetrac-mirror/commit/9c970ae1c2ef9516f61a3c6cc737e6d0c644565e)**",
    "created_at": "2015-02-24T13:27:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239685",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`52cc62d`](https://github.com/sagemath/sagetrac-mirror/commit/52cc62d92f8bed38aab6e2a9a8cfb785493a69bf)** to **[`9c970ae`](https://github.com/sagemath/sagetrac-mirror/commit/9c970ae1c2ef9516f61a3c6cc737e6d0c644565e)**



---

archive/issue_comments_239686.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c970ae1c2ef9516f61a3c6cc737e6d0c644565e\"><code>9c970ae</code></a></td><td><code>trac #17740: merge sage-6.6.beta1</code></td></tr></table>\n",
    "created_at": "2015-02-24T13:27:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239686",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c970ae1c2ef9516f61a3c6cc737e6d0c644565e"><code>9c970ae</code></a></td><td><code>trac #17740: merge sage-6.6.beta1</code></td></tr></table>




---

archive/issue_events_252718.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-24T13:56:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252718"
}
```



---

archive/issue_events_252719.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-24T13:56:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252719"
}
```



---

archive/issue_comments_239687.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nAll long tests pass. Put back in positive review.",
    "created_at": "2015-02-24T13:56:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239687",
    "user": "https://github.com/videlec"
}
```

<div id="comment:28" align="right">comment:28</div>

All long tests pass. Put back in positive review.



---

archive/issue_events_252720.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-25T00:19:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252720"
}
```



---

archive/issue_events_252721.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-25T00:19:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252721"
}
```



---

archive/issue_comments_239688.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI'm getting this on OSX:\n\n```\nsage -t --long src/sage/structure/coerce_actions.pyx\n**********************************************************************\nFile \"src/sage/structure/coerce_actions.pyx\", line 419, in sage.structure.coerce_actions.ModuleAction.__invert__\nFailed example:\n    A = ~RightModuleAction(ZZ, GF(5)['x']); A\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 488, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 850, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.structure.coerce_actions.ModuleAction.__invert__[10]>\", line 1, in <module>\n        A = ~RightModuleAction(ZZ, GF(Integer(5))['x']); A\n      File \"sage/structure/coerce_actions.pyx\", line 464, in sage.structure.coerce_actions.ModuleAction.__invert__ (build/cythonized/sage/structure/coerce_actions.c:7385)\n        module_action = type(self)(K, self.codomain())\n      File \"sage/structure/coerce_actions.pyx\", line 376, in sage.structure.coerce_actions.ModuleAction.codomain (build/cythonized/sage/structure/coerce_actions.c:6711)\n        return self.underlying_set()\n      File \"sage/categories/action.pyx\", line 186, in sage.categories.action.Action.underlying_set (build/cythonized/sage/categories/action.c:4087)\n        raise RuntimeError, \"This action acted on a set that became garbage collected\"\n    RuntimeError: This action acted on a set that became garbage collected\n**********************************************************************\nFile \"src/sage/structure/coerce_actions.pyx\", line 424, in sage.structure.coerce_actions.ModuleAction.__invert__\nFailed example:\n    A(x, 2)\nExpected:\n    3*x\nGot:\n    1/2*x\n**********************************************************************\n1 item had failures:\n   2 of  15 in sage.structure.coerce_actions.ModuleAction.__invert__\n    [90 tests, 2 failures, 0.47 s]\n```\nIn all these doctests you need to hold domain/codomain explicitly alive.",
    "created_at": "2015-02-25T00:19:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239688",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:29" align="right">comment:29</div>

I'm getting this on OSX:

```
sage -t --long src/sage/structure/coerce_actions.pyx
**********************************************************************
File "src/sage/structure/coerce_actions.pyx", line 419, in sage.structure.coerce_actions.ModuleAction.__invert__
Failed example:
    A = ~RightModuleAction(ZZ, GF(5)['x']); A
Exception raised:
    Traceback (most recent call last):
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 488, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 850, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.structure.coerce_actions.ModuleAction.__invert__[10]>", line 1, in <module>
        A = ~RightModuleAction(ZZ, GF(Integer(5))['x']); A
      File "sage/structure/coerce_actions.pyx", line 464, in sage.structure.coerce_actions.ModuleAction.__invert__ (build/cythonized/sage/structure/coerce_actions.c:7385)
        module_action = type(self)(K, self.codomain())
      File "sage/structure/coerce_actions.pyx", line 376, in sage.structure.coerce_actions.ModuleAction.codomain (build/cythonized/sage/structure/coerce_actions.c:6711)
        return self.underlying_set()
      File "sage/categories/action.pyx", line 186, in sage.categories.action.Action.underlying_set (build/cythonized/sage/categories/action.c:4087)
        raise RuntimeError, "This action acted on a set that became garbage collected"
    RuntimeError: This action acted on a set that became garbage collected
**********************************************************************
File "src/sage/structure/coerce_actions.pyx", line 424, in sage.structure.coerce_actions.ModuleAction.__invert__
Failed example:
    A(x, 2)
Expected:
    3*x
Got:
    1/2*x
**********************************************************************
1 item had failures:
   2 of  15 in sage.structure.coerce_actions.ModuleAction.__invert__
    [90 tests, 2 failures, 0.47 s]
```
In all these doctests you need to hold domain/codomain explicitly alive.



---

archive/issue_comments_239689.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2075e2e68f6e6fc981096948ad4ffc61c47cfa46\"><code>2075e2e</code></a></td><td><code>trac #17740: avoid parent deaths</code></td></tr></table>\n",
    "created_at": "2015-02-25T07:41:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239689",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2075e2e68f6e6fc981096948ad4ffc61c47cfa46"><code>2075e2e</code></a></td><td><code>trac #17740: avoid parent deaths</code></td></tr></table>




---

archive/issue_comments_239690.json:
```json
{
    "body": "Changed commit from **[`9c970ae`](https://github.com/sagemath/sagetrac-mirror/commit/9c970ae1c2ef9516f61a3c6cc737e6d0c644565e)** to **[`2075e2e`](https://github.com/sagemath/sagetrac-mirror/commit/2075e2e68f6e6fc981096948ad4ffc61c47cfa46)**",
    "created_at": "2015-02-25T07:41:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239690",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9c970ae`](https://github.com/sagemath/sagetrac-mirror/commit/9c970ae1c2ef9516f61a3c6cc737e6d0c644565e)** to **[`2075e2e`](https://github.com/sagemath/sagetrac-mirror/commit/2075e2e68f6e6fc981096948ad4ffc61c47cfa46)**



---

archive/issue_events_252722.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-25T08:13:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252722"
}
```



---

archive/issue_events_252723.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-25T08:13:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252723"
}
```



---

archive/issue_comments_239691.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nRight. We should not kill our parents ;-)\n\nIt is strange that I did not get these in the first place... All doctest pass.\n\nVincent",
    "created_at": "2015-02-25T08:13:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239691",
    "user": "https://github.com/videlec"
}
```

<div id="comment:31" align="right">comment:31</div>

Right. We should not kill our parents ;-)

It is strange that I did not get these in the first place... All doctest pass.

Vincent



---

archive/issue_events_252724.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-26T07:11:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252724"
}
```



---

archive/issue_events_252725.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7fc2ff9eaea646876635243108ee29419b25ce9d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-02-26T07:11:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17740#event-252725"
}
```



---

archive/issue_comments_239692.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/17740](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17740)** to **[`2075e2e`](https://github.com/sagemath/sagetrac-mirror/commit/2075e2e68f6e6fc981096948ad4ffc61c47cfa46)**",
    "created_at": "2015-02-26T07:11:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239692",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vdelecroix/17740](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17740)** to **[`2075e2e`](https://github.com/sagemath/sagetrac-mirror/commit/2075e2e68f6e6fc981096948ad4ffc61c47cfa46)**



---

archive/issue_comments_239693.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nThanks for following up on this. Looks good to me.",
    "created_at": "2015-02-26T07:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239693",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:33" align="right">comment:33</div>

Thanks for following up on this. Looks good to me.



---

archive/issue_comments_239694.json:
```json
{
    "body": "Changed commit from **[`2075e2e`](https://github.com/sagemath/sagetrac-mirror/commit/2075e2e68f6e6fc981096948ad4ffc61c47cfa46)** to none",
    "created_at": "2015-02-26T07:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17740#issuecomment-239694",
    "user": "https://github.com/robertwb"
}
```

Changed commit from **[`2075e2e`](https://github.com/sagemath/sagetrac-mirror/commit/2075e2e68f6e6fc981096948ad4ffc61c47cfa46)** to none
