# Issue 17053: Add function for disjoint union and ordinal sum of posets

archive/issues_016816.json:
```json
{
    "body": "Sage has no function for disjoint union (or *direct sum*) of posets, neither for ordinal sum. These are mostly matter of wrapping right function of graph + writing documentation.\n\nAt same time maybe parameter name for `disjoint_union` on Graphs should be changed.\n\n\nCC:  @nathanncohen\n\nBranch/Commit: b097c8893dae7cd96f8f7064d0179842cc4aeaec\n\nReviewer: Nathann Cohen\n\nAuthor: Jori M\u00e4ntysalo\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17053\n\n",
    "closed_at": "2014-11-15T16:22:29Z",
    "created_at": "2014-09-27T14:41:42Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Add function for disjoint union and ordinal sum of posets",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17053",
    "user": "https://github.com/jm58660"
}
```
Sage has no function for disjoint union (or *direct sum*) of posets, neither for ordinal sum. These are mostly matter of wrapping right function of graph + writing documentation.

At same time maybe parameter name for `disjoint_union` on Graphs should be changed.


CC:  @nathanncohen

Branch/Commit: b097c8893dae7cd96f8f7064d0179842cc4aeaec

Reviewer: Nathann Cohen

Author: Jori MÃ¤ntysalo

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17053





---

archive/issue_comments_236931.json:
```json
{
    "body": "<a id='comment:1'></a>Something like this:\n\n```\ndef sum_of_posets(self, other, labeling=None):\n    if not hasattr(other,'hasse_diagram'):\n        raise ValueError('The input is not a finite poset.')\n    if labeling==None:\n        # Check for duplicates. Slow, just for an example.\n        for i in self.list():\n            for j in other.list():\n                if i==j:\n                    raise ValueError('What should be type of this error?')\n        elements=self.list()+other.list()\n        coverings=self.cover_relations()+other.cover_relations()\n        return Poset( (elements, coverings) )\n    if labeling=='linear':\n        return sum_of_posets(self.canonical_label(), other.canonical_label().relabel(lambda x: x+self.cardinality()))\n    if type(labeling) is tuple and len(labeling)==2:\n        return Poset( ([(labeling[0],x) for x in self.list()]+[(labeling[1],x) for x in other.list()], [[(labeling[0],x[0]),(labeling[0],x[1])] for x in self.cover_relations()]+[[(labeling[1],x[0]),(labeling[1],x[1])] for x in other.cover_relations()]) )\n    raise ValueError(\"Labeling must be 'linear' or tuple of two elements\")\n```\n\nFor testing try for example\n\n```\nP1=Posets.PentagonPoset(facade=True).relabel(lambda x: x+10)\nP2=Poset({0:[1,2],1:[3,4]})\n\nsum_of_posets(P1, P2, labeling=('a', 'b')).show(figsize=4, vertex_size=1000)\nsum_of_posets(P1, P2, labeling='linear').show(figsize=4, vertex_size=1000)\nsum_of_posets(P1, P2).show(figsize=4, vertex_size=1000)\nsum_of_posets(P1, P1)\n```\n\nAnother question: should ordinal sum be part of same function with keyword like `type='ordinal'` or distinct function?",
    "created_at": "2014-09-27T17:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236931",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:1'></a>Something like this:

```
def sum_of_posets(self, other, labeling=None):
    if not hasattr(other,'hasse_diagram'):
        raise ValueError('The input is not a finite poset.')
    if labeling==None:
        # Check for duplicates. Slow, just for an example.
        for i in self.list():
            for j in other.list():
                if i==j:
                    raise ValueError('What should be type of this error?')
        elements=self.list()+other.list()
        coverings=self.cover_relations()+other.cover_relations()
        return Poset( (elements, coverings) )
    if labeling=='linear':
        return sum_of_posets(self.canonical_label(), other.canonical_label().relabel(lambda x: x+self.cardinality()))
    if type(labeling) is tuple and len(labeling)==2:
        return Poset( ([(labeling[0],x) for x in self.list()]+[(labeling[1],x) for x in other.list()], [[(labeling[0],x[0]),(labeling[0],x[1])] for x in self.cover_relations()]+[[(labeling[1],x[0]),(labeling[1],x[1])] for x in other.cover_relations()]) )
    raise ValueError("Labeling must be 'linear' or tuple of two elements")
```

For testing try for example

```
P1=Posets.PentagonPoset(facade=True).relabel(lambda x: x+10)
P2=Poset({0:[1,2],1:[3,4]})

sum_of_posets(P1, P2, labeling=('a', 'b')).show(figsize=4, vertex_size=1000)
sum_of_posets(P1, P2, labeling='linear').show(figsize=4, vertex_size=1000)
sum_of_posets(P1, P2).show(figsize=4, vertex_size=1000)
sum_of_posets(P1, P1)
```

Another question: should ordinal sum be part of same function with keyword like `type='ordinal'` or distinct function?



---

archive/issue_comments_236932.json:
```json
{
    "body": "<a id='comment:3'></a>Hello !\n\nWe already have a `Graph.disjoint_union` that accepts this kind of parameter. If you want to have a similar feature at `Poset` level I suggest that you only expose this function. The code would just be :\n\n```\nreturn Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram()))\n```\n\nThen, if you want to have more ways to tune the result through the points' name, the best would be to change the Graph function itself, which would consequently give the same feature to the Poset function.\n\nNathann",
    "created_at": "2014-09-29T08:34:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236932",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>Hello !

We already have a `Graph.disjoint_union` that accepts this kind of parameter. If you want to have a similar feature at `Poset` level I suggest that you only expose this function. The code would just be :

```
return Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram()))
```

Then, if you want to have more ways to tune the result through the points' name, the best would be to change the Graph function itself, which would consequently give the same feature to the Poset function.

Nathann



---

archive/issue_comments_236933.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 ncohen]:\n\n> Then, if you want to have more ways to tune the result through the points' name, the best would be to change the Graph function itself, which would consequently give the same feature to the Poset function.\n\n\nTrue. I must learn functions provided by (di)graphs and expand them if necessary.\n\n> We already have a `Graph.disjoint_union` that accepts this kind of parameter. If you want to have a similar feature at `Poset` level I suggest that you only expose this function. The code would just be :\n> \n> ```\n> return Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram()))\n> ```\n\n\nThis breaks at least with\n\n```\nP1=Posets.PentagonPoset(facade=True)\nP1=Posets.PentagonPoset(facade=False)\nP=Poset(P1.hasse_diagram().disjoint_union(P2.hasse_diagram()))\nP.show()\n```\n\nBut I'll add checks as necessary. I guess it is OK to simply refuce summing up facade and non-facade poset.",
    "created_at": "2014-09-29T08:45:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236933",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:4'></a>Replying to [comment:3 ncohen]:

> Then, if you want to have more ways to tune the result through the points' name, the best would be to change the Graph function itself, which would consequently give the same feature to the Poset function.


True. I must learn functions provided by (di)graphs and expand them if necessary.

> We already have a `Graph.disjoint_union` that accepts this kind of parameter. If you want to have a similar feature at `Poset` level I suggest that you only expose this function. The code would just be :
> 
> ```
> return Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram()))
> ```


This breaks at least with

```
P1=Posets.PentagonPoset(facade=True)
P1=Posets.PentagonPoset(facade=False)
P=Poset(P1.hasse_diagram().disjoint_union(P2.hasse_diagram()))
P.show()
```

But I'll add checks as necessary. I guess it is OK to simply refuce summing up facade and non-facade poset.



---

archive/issue_comments_236934.json:
```json
{
    "body": "<a id='comment:5'></a>Yo !\n\n> This breaks at least with\n> \n> \n> ```\n> P1=Posets.PentagonPoset(facade=True)\n> P1=Posets.PentagonPoset(facade=False)\n> P=Poset(P1.hasse_diagram().disjoint_union(P2.hasse_diagram()))\n> P.show()\n> ```\n> \n> But I'll add checks as necessary. I guess it is OK to simply refuce summing up facade and non-facade poset.\n\n\nIt works on my computer: beware, in your code both posets are named P1. So P2 is defined only on your computer.\n\nNathann",
    "created_at": "2014-09-29T08:47:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236934",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>Yo !

> This breaks at least with
> 
> 
> ```
> P1=Posets.PentagonPoset(facade=True)
> P1=Posets.PentagonPoset(facade=False)
> P=Poset(P1.hasse_diagram().disjoint_union(P2.hasse_diagram()))
> P.show()
> ```
> 
> But I'll add checks as necessary. I guess it is OK to simply refuce summing up facade and non-facade poset.


It works on my computer: beware, in your code both posets are named P1. So P2 is defined only on your computer.

Nathann



---

archive/issue_comments_236935.json:
```json
{
    "body": "<a id='comment:6'></a>Function could then be something like\n\n```\ndef direct_sum(self, other, relabel=None):\n    if not hasattr(other, 'hasse_diagram'):\n        raise ValueError('The input is not a finite poset.')\n    if relabel == None:\n        elements=self.list()+other.list()\n        if len(elements) != len(set(elements)):\n            raise ValueError(\"Posets contain equal elements. Try relabel='pairs' or relabel='linear'.\")\n        return Poset(self.hasse_diagram().union(other.hasse_diagram()))\n    if relabel == 'pairs':\n        return Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram()))\n    if relabel == 'linear':\n        return Poset(self._hasse_diagram.disjoint_union(other.hasse_diagram(), verbose_relabel=False))\n```\n\n1) Why I must say `other.hasse_diagram()` on last line, `other._hasse_diagram` should work. Again some copy-immutable -thing?\n\n2) What should be the name of parameter and values for it? `verbose_relabel` to be consistent with graphs? Default value for it?",
    "created_at": "2014-09-29T10:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236935",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>Function could then be something like

```
def direct_sum(self, other, relabel=None):
    if not hasattr(other, 'hasse_diagram'):
        raise ValueError('The input is not a finite poset.')
    if relabel == None:
        elements=self.list()+other.list()
        if len(elements) != len(set(elements)):
            raise ValueError("Posets contain equal elements. Try relabel='pairs' or relabel='linear'.")
        return Poset(self.hasse_diagram().union(other.hasse_diagram()))
    if relabel == 'pairs':
        return Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram()))
    if relabel == 'linear':
        return Poset(self._hasse_diagram.disjoint_union(other.hasse_diagram(), verbose_relabel=False))
```

1) Why I must say `other.hasse_diagram()` on last line, `other._hasse_diagram` should work. Again some copy-immutable -thing?

2) What should be the name of parameter and values for it? `verbose_relabel` to be consistent with graphs? Default value for it?



---

archive/issue_comments_236936.json:
```json
{
    "body": "<a id='comment:7'></a>Hello !\n\n> Function could then be something like\n\n\n1) Besides checking that `other` is a !Poset, I do not understand why this function should do anything else than calling the graph routine. And it would be that routine's job to check that the input is correct.\n\n2) I believe that the default behaviour should be \"pairs\", because it is the behaviour that keeps the most information. And people can force `relabel=\"integers\"` if they like.\n\n> 1) Why I must say `other.hasse_diagram()` on last line, `other._hasse_diagram` should work. Again some copy-immutable -thing?\n\n\nBecause of that:\n\n```\nsage: Poset(DiGraph({\"a\":[\"b\"]})).hasse_diagram().vertices()\n['a', 'b']\nsage: Poset(DiGraph({\"a\":[\"b\"]}))._hasse_diagram.vertices()  \n[0, 1]\n```\n\n> 2) What should be the name of parameter and values for it? `verbose_relabel` to be consistent with graphs? Default value for it?\n\n\nI don't really know... `verbose_relabel` in the !Graph function is not a very good name, so perhaps we should change it. What about `Poset.relabel(labels=\"pairs\")` by default, and `labels=\"integers\"` otherwise ? And we could update the graph function with it. That also involves deprecating the old parameter name.\n\nNathann",
    "created_at": "2014-09-29T11:43:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236936",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>Hello !

> Function could then be something like


1) Besides checking that `other` is a !Poset, I do not understand why this function should do anything else than calling the graph routine. And it would be that routine's job to check that the input is correct.

2) I believe that the default behaviour should be "pairs", because it is the behaviour that keeps the most information. And people can force `relabel="integers"` if they like.

> 1) Why I must say `other.hasse_diagram()` on last line, `other._hasse_diagram` should work. Again some copy-immutable -thing?


Because of that:

```
sage: Poset(DiGraph({"a":["b"]})).hasse_diagram().vertices()
['a', 'b']
sage: Poset(DiGraph({"a":["b"]}))._hasse_diagram.vertices()  
[0, 1]
```

> 2) What should be the name of parameter and values for it? `verbose_relabel` to be consistent with graphs? Default value for it?


I don't really know... `verbose_relabel` in the !Graph function is not a very good name, so perhaps we should change it. What about `Poset.relabel(labels="pairs")` by default, and `labels="integers"` otherwise ? And we could update the graph function with it. That also involves deprecating the old parameter name.

Nathann



---

archive/issue_comments_236937.json:
```json
{
    "body": "<a id='comment:8'></a>Then it would be like\n\n```\ndef direct_sum(self, other, labels='pairs'):\n    \"\"\"\n    Docs here...\n    \n    Examples: ...\n\n    Now we want literally direct sum with elements untouched:\n    sage: P1=Poset({'a':['b']})\n    sage: P2=Poset({'c':['d']})\n    sage: P=P1.direct_sum(P2).relabel(lambda x: x[1])\n    sage: P.list()\n    ['a', 'b', 'c', 'd']\n    \"\"\"\n    if not hasattr(other, 'hasse_diagram'):\n        raise ValueError('The input is not a finite poset.')\n    if labels == 'pairs':\n        return Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram()))\n    if labels == 'integers':\n        return Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram(), verbose_relabel=False))\n```\n\nE: And of course throw ValueError if labels not in ['pairs', 'integers']",
    "created_at": "2014-09-29T12:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236937",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:8'></a>Then it would be like

```
def direct_sum(self, other, labels='pairs'):
    """
    Docs here...
    
    Examples: ...

    Now we want literally direct sum with elements untouched:
    sage: P1=Poset({'a':['b']})
    sage: P2=Poset({'c':['d']})
    sage: P=P1.direct_sum(P2).relabel(lambda x: x[1])
    sage: P.list()
    ['a', 'b', 'c', 'd']
    """
    if not hasattr(other, 'hasse_diagram'):
        raise ValueError('The input is not a finite poset.')
    if labels == 'pairs':
        return Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram()))
    if labels == 'integers':
        return Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram(), verbose_relabel=False))
```

E: And of course throw ValueError if labels not in ['pairs', 'integers']



---

archive/issue_comments_236938.json:
```json
{
    "body": "<a id='comment:9'></a>It could even be \n\n```\ndef direct_sum(self, other, labels='pairs'):\n    if not hasattr(other, 'hasse_diagram'):\n        raise ValueError('The input is not a finite poset.')\n    return Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram(), labels=labels))\n```\n\nOf course right now `Graph.disjoint_union` has no `labels` argument, but we have something called `sage.misc.decorators.rename_keyword` precisely for this reason (to change the name of an argument and handle the deprecation warnings). And then the graph function would understand this labels argument as it is clearer anyway.\n\nThe thing is that checking the value of the keyword should be done only once. Preferably in the graph method.\n\nNathann",
    "created_at": "2014-09-29T13:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236938",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>It could even be 

```
def direct_sum(self, other, labels='pairs'):
    if not hasattr(other, 'hasse_diagram'):
        raise ValueError('The input is not a finite poset.')
    return Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram(), labels=labels))
```

Of course right now `Graph.disjoint_union` has no `labels` argument, but we have something called `sage.misc.decorators.rename_keyword` precisely for this reason (to change the name of an argument and handle the deprecation warnings). And then the graph function would understand this labels argument as it is clearer anyway.

The thing is that checking the value of the keyword should be done only once. Preferably in the graph method.

Nathann



---

archive/issue_comments_236939.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,26 +1,7 @@\n-Sage has no function for direct sum of posets. What kind of function it should be?\n+Sage has no function for disjoint union (or *direct sum*) of posets, neither for ordinal sum. These are mostly matter of wrapping right function of graph + writing documentation.\n \n-Let's say that poset `P` has elements `a` and `b`, `Q` has elements `c` and `d`. Then sum on P and Q could have elements\n+At same time maybe parameter name for `disjoint_union` on Graphs should be changed.\n \n-1) a,b,c,d. Function would check that there are no common elements.\n-2) (1,a),(1,b),(2,c),(2,c). Optional parameter would change first element of tuples.\n-3) 0,1,2,3. Function would just make poset isomorphic to P+Q with integer elements.\n-\n-Now, it would be nice to have also sum of arbitrary number of posets. So function could be something like\n-\n-`P.direct_sum(Q)` (case 1 as default?)\n-\n-`P.direct_sum(Q, labeling='default')` (case 2 / default)\n-\n-`P.direct_sum(Q, labeling=lambda n: chr(ord('a')+n))` (case 2 / non-default)\n-\n-`P.direct_sum(Q, labeling='plain')` (case 3)\n-\n-and if possible, accept something like\n-\n-`P1.direct_sum(P2, P3, P4, labeling=...)`\n-\n-Does this sound reasonable?\n \n Comment: 1\n \n```\n",
    "created_at": "2014-09-29T14:32:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236939",
    "user": "https://github.com/jm58660"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,26 +1,7 @@
-Sage has no function for direct sum of posets. What kind of function it should be?
+Sage has no function for disjoint union (or *direct sum*) of posets, neither for ordinal sum. These are mostly matter of wrapping right function of graph + writing documentation.
 
-Let's say that poset `P` has elements `a` and `b`, `Q` has elements `c` and `d`. Then sum on P and Q could have elements
+At same time maybe parameter name for `disjoint_union` on Graphs should be changed.
 
-1) a,b,c,d. Function would check that there are no common elements.
-2) (1,a),(1,b),(2,c),(2,c). Optional parameter would change first element of tuples.
-3) 0,1,2,3. Function would just make poset isomorphic to P+Q with integer elements.
-
-Now, it would be nice to have also sum of arbitrary number of posets. So function could be something like
-
-`P.direct_sum(Q)` (case 1 as default?)
-
-`P.direct_sum(Q, labeling='default')` (case 2 / default)
-
-`P.direct_sum(Q, labeling=lambda n: chr(ord('a')+n))` (case 2 / non-default)
-
-`P.direct_sum(Q, labeling='plain')` (case 3)
-
-and if possible, accept something like
-
-`P1.direct_sum(P2, P3, P4, labeling=...)`
-
-Does this sound reasonable?
 
 Comment: 1
 
```




---

archive/issue_comments_236940.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:9 ncohen]:\n\n> It could even be \n> \n> ```\n> def direct_sum(self, other, labels='pairs'):\n>     if not hasattr(other, 'hasse_diagram'):\n>         raise ValueError('The input is not a finite poset.')\n>     return Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram(), labels=labels))\n> ```\n> \n> Of course right now `Graph.disjoint_union` has no `labels` argument, but we have something called `sage.misc.decorators.rename_keyword` precisely for this reason (to change the name of an argument and handle the deprecation warnings). And then the graph function would understand this labels argument as it is clearer anyway.\n\n\nBut on documentation it seems that `rename_keyword` is only able to change name of argument. Here we should also change value from `True` to `pairs` and from `False` to `integers`.\n\n\n> The thing is that checking the value of the keyword should be done only once. Preferably in the graph method.\n\n\nSounds reasonable.\n\nOther things: Enumerative Combinatorics by Richard P. Stanley uses \"disjoint union\" as preferable name. It is also used on graphs, so it is probably best to use here also.\n\nI'll make some kind of commit just to show what I'm now thinking.",
    "created_at": "2014-09-29T14:32:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236940",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:10'></a>Replying to [comment:9 ncohen]:

> It could even be 
> 
> ```
> def direct_sum(self, other, labels='pairs'):
>     if not hasattr(other, 'hasse_diagram'):
>         raise ValueError('The input is not a finite poset.')
>     return Poset(self.hasse_diagram().disjoint_union(other.hasse_diagram(), labels=labels))
> ```
> 
> Of course right now `Graph.disjoint_union` has no `labels` argument, but we have something called `sage.misc.decorators.rename_keyword` precisely for this reason (to change the name of an argument and handle the deprecation warnings). And then the graph function would understand this labels argument as it is clearer anyway.


But on documentation it seems that `rename_keyword` is only able to change name of argument. Here we should also change value from `True` to `pairs` and from `False` to `integers`.


> The thing is that checking the value of the keyword should be done only once. Preferably in the graph method.


Sounds reasonable.

Other things: Enumerative Combinatorics by Richard P. Stanley uses "disjoint union" as preferable name. It is also used on graphs, so it is probably best to use here also.

I'll make some kind of commit just to show what I'm now thinking.



---

archive/issue_comments_236941.json:
```json
{
    "body": "<a id='comment:11'></a>Yo !\n\n> But on documentation it seems that `rename_keyword` is only able to change name of argument. Here we should also change value from `True` to `pairs` and from `False` to `integers`.\n\n\nOh. That's right. Then the deprecation will have to be done manually `^^;`\n\n> Other things: Enumerative Combinatorics by Richard P. Stanley uses \"disjoint union\" as preferable name. It is also used on graphs, so it is probably best to use here also.\n\n\n+1\n\nNathann",
    "created_at": "2014-09-29T14:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236941",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>Yo !

> But on documentation it seems that `rename_keyword` is only able to change name of argument. Here we should also change value from `True` to `pairs` and from `False` to `integers`.


Oh. That's right. Then the deprecation will have to be done manually `^^;`

> Other things: Enumerative Combinatorics by Richard P. Stanley uses "disjoint union" as preferable name. It is also used on graphs, so it is probably best to use here also.


+1

Nathann



---

archive/issue_comments_236942.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:11 ncohen]:\n\n> > But on documentation it seems that `rename_keyword` is only able to change name of argument. Here we should also change value from `True` to `pairs` and from `False` to `integers`.\n\n> \n> Oh. That's right. Then the deprecation will have to be done manually `^^;`\n\n\nHow? http://www.sagemath.org/doc/developer/coding_in_python.html#deprecation does not tell.\n\n---\nNew commits:",
    "created_at": "2014-09-29T14:45:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236942",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:13'></a>Replying to [comment:11 ncohen]:

> > But on documentation it seems that `rename_keyword` is only able to change name of argument. Here we should also change value from `True` to `pairs` and from `False` to `integers`.

> 
> Oh. That's right. Then the deprecation will have to be done manually `^^;`


How? http://www.sagemath.org/doc/developer/coding_in_python.html#deprecation does not tell.

---
New commits:



---

archive/issue_comments_236943.json:
```json
{
    "body": "<a id='comment:14'></a>> How? http://www.sagemath.org/doc/developer/coding_in_python.html#deprecation does not tell.\n\n\nWelll...\n\n```\ndef disjoint_union(self,other,labels=\"pairs\",verbose_relabel=None)\n    if verbose_relabel is not None:\n        deprecation(ticket_number, message)\n        if verbose_relabel:\n            labels=\"pairs\"\n        else:\n            labels=\"integers\"\n    <do whatever you want considering 'labels' only>    \n```\n\nNathann",
    "created_at": "2014-09-29T15:38:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236943",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'></a>> How? http://www.sagemath.org/doc/developer/coding_in_python.html#deprecation does not tell.


Welll...

```
def disjoint_union(self,other,labels="pairs",verbose_relabel=None)
    if verbose_relabel is not None:
        deprecation(ticket_number, message)
        if verbose_relabel:
            labels="pairs"
        else:
            labels="integers"
    <do whatever you want considering 'labels' only>    
```

Nathann



---

archive/issue_comments_236944.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-29T19:37:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236944",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_236945.json:
```json
{
    "body": "<a id='comment:16'></a>Done deprecation. (But `ordinal_sum` is not ready.)\n\nThere is a (mostly theoretical, i hope) problem. What if somebody says just `.disjoint_union(G, False)`?",
    "created_at": "2014-09-29T19:44:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236945",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:16'></a>Done deprecation. (But `ordinal_sum` is not ready.)

There is a (mostly theoretical, i hope) problem. What if somebody says just `.disjoint_union(G, False)`?



---

archive/issue_comments_236946.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-30T06:40:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236946",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_236947.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-30T07:54:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236947",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_236948.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-09-30T07:57:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236948",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_236949.json:
```json
{
    "body": "<a id='comment:19'></a>Works. But how to check if class of P is meet- or join-semilattice without ugly code like this?",
    "created_at": "2014-09-30T07:57:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236949",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:19'></a>Works. But how to check if class of P is meet- or join-semilattice without ugly code like this?



---

archive/issue_comments_236950.json:
```json
{
    "body": "<a id='comment:20'></a>Yo !\n> Done deprecation.\n\n\nThanks.\n\n> There is a (mostly theoretical, i hope) problem. What if somebody says just `.disjoint_union(G, False)`?\n\n\nIf that worries you, just add the new keyword *after* the old one in the function's definition.\n\nNathann",
    "created_at": "2014-09-30T08:45:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236950",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'></a>Yo !
> Done deprecation.


Thanks.

> There is a (mostly theoretical, i hope) problem. What if somebody says just `.disjoint_union(G, False)`?


If that worries you, just add the new keyword *after* the old one in the function's definition.

Nathann



---

archive/issue_comments_236951.json:
```json
{
    "body": "<a id='comment:21'></a>> Works. But how to check if class of P is meet- or join-semilattice without ugly code like this?\n\n\nI am not sure that you can. The way you do it is wrong, however, for when you do `type(other) == type(MeetSemilattice({}))` you create a semilattice object for nothing. What you need is the 'isinstance' Python function.\n\nThen you will probably have to do something like that:\n\n```\nif isinstance(self, LatticePoset) and isinstance(other, LatticePoset):\n   return a_lattice\nelif isinstance(self, MeetSemilattice) and isinstance(other, MeetSemilattice):\n   return a_join_semilattice\nelif isinstance(self, JoinSemilattice) and isinstance(other, JoinSemilattice):\n   return a_join_semilattice\nelse:\n   return a_poset\n```\n\nThe 'if' will execute a bit more code than in your layout, but considering the operations involved here we do not care at all, the speed loss is nonexistent. And it is *much* clearer to read.\n\nNathann",
    "created_at": "2014-09-30T08:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236951",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:21'></a>> Works. But how to check if class of P is meet- or join-semilattice without ugly code like this?


I am not sure that you can. The way you do it is wrong, however, for when you do `type(other) == type(MeetSemilattice({}))` you create a semilattice object for nothing. What you need is the 'isinstance' Python function.

Then you will probably have to do something like that:

```
if isinstance(self, LatticePoset) and isinstance(other, LatticePoset):
   return a_lattice
elif isinstance(self, MeetSemilattice) and isinstance(other, MeetSemilattice):
   return a_join_semilattice
elif isinstance(self, JoinSemilattice) and isinstance(other, JoinSemilattice):
   return a_join_semilattice
else:
   return a_poset
```

The 'if' will execute a bit more code than in your layout, but considering the operations involved here we do not care at all, the speed loss is nonexistent. And it is *much* clearer to read.

Nathann



---

archive/issue_comments_236952.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-09-30T09:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236952",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_236953.json:
```json
{
    "body": "<a id='comment:22'></a>Review of your branch in its current state:\n\n1) Lines are 100 characters long: we try to keep it 80characters max\n\n2) It may not be visible to you with the text editor you use, but the lines you skipped are actually filled with spaces.\nhttp://programmers.stackexchange.com/questions/121555/why-is-trailing-whitespace-a-big-deal\n\n3) Please remove those `\\` at the end of the lines in the documentation. If the doc does not build properly, it is because this is incorrect\n\n```\nINPUT:\n\n    - a very long\n    line of doc\n```\n\nBut this will work:\n\n```\nINPUT:\n\n    - a very long\n      line of doc\n```\n\nSphinx (the software that builds the doc) is not very pleasant software to work with.\n\n3) I usually write `If ``labels='pairs'``` instead of `If labels='pairs'` in the doc because it is actual Python code, but it is probably up to you. Same for mathematical things like ``(0,x)``.\n\n4) The doc of ordinal sum claims that it returns a lattice. It does not.\n\n5) What about an \"elif\" ?\n\n```\n        else:\n            if labels != 'pairs':\n```\n\n6) please use `isinstance` instead of `type` or `in LatticePosets()`. The latter is related to categories: it is probably safe to use by itself but it is a bit weird to see some calls to 'type' and then category queries.\n\n7) It is a bit weird to see that the elements labelled with 1 are smaller than the elements labelled with 0:\n\n```\nsage: p1=posets.ChainPoset(1)                            \nsage: p1.ordinal_sum(p1).is_greater_than((0,0),(1,0))\nTrue\nsage: p1.ordinal_sum(p1).is_greater_than((1,0),(0,0))\nFalse\n```\n\n8) The description of \"labels\" is written in a slightly incorrect english `^^;`\n\nNathann",
    "created_at": "2014-09-30T09:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236953",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'></a>Review of your branch in its current state:

1) Lines are 100 characters long: we try to keep it 80characters max

2) It may not be visible to you with the text editor you use, but the lines you skipped are actually filled with spaces.
http://programmers.stackexchange.com/questions/121555/why-is-trailing-whitespace-a-big-deal

3) Please remove those `\` at the end of the lines in the documentation. If the doc does not build properly, it is because this is incorrect

```
INPUT:

    - a very long
    line of doc
```

But this will work:

```
INPUT:

    - a very long
      line of doc
```

Sphinx (the software that builds the doc) is not very pleasant software to work with.

3) I usually write `If ``labels='pairs'``` instead of `If labels='pairs'` in the doc because it is actual Python code, but it is probably up to you. Same for mathematical things like ``(0,x)``.

4) The doc of ordinal sum claims that it returns a lattice. It does not.

5) What about an "elif" ?

```
        else:
            if labels != 'pairs':
```

6) please use `isinstance` instead of `type` or `in LatticePosets()`. The latter is related to categories: it is probably safe to use by itself but it is a bit weird to see some calls to 'type' and then category queries.

7) It is a bit weird to see that the elements labelled with 1 are smaller than the elements labelled with 0:

```
sage: p1=posets.ChainPoset(1)                            
sage: p1.ordinal_sum(p1).is_greater_than((0,0),(1,0))
True
sage: p1.ordinal_sum(p1).is_greater_than((1,0),(0,0))
False
```

8) The description of "labels" is written in a slightly incorrect english `^^;`

Nathann



---

archive/issue_comments_236954.json:
```json
{
    "body": "<a id='comment:23'></a>Replying to [comment:20 ncohen]:\n\n> > There is a (mostly theoretical, i hope) problem. What if somebody says just `.disjoint_union(G, False)`?\n\n> \n> If that worries you, just add the new keyword *after* the old one in the function's definition.\n\n\nBut then one cannot say `.disjoint_union(G, 'integers')`. Maybe I don't worry that much.\n\nAs for another post: After `x=42` for example `isinstance(x, LatticePosets)` says `False`, but `isinstance(x, LatticePoset)` gives error message.",
    "created_at": "2014-09-30T09:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236954",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:23'></a>Replying to [comment:20 ncohen]:

> > There is a (mostly theoretical, i hope) problem. What if somebody says just `.disjoint_union(G, False)`?

> 
> If that worries you, just add the new keyword *after* the old one in the function's definition.


But then one cannot say `.disjoint_union(G, 'integers')`. Maybe I don't worry that much.

As for another post: After `x=42` for example `isinstance(x, LatticePosets)` says `False`, but `isinstance(x, LatticePoset)` gives error message.



---

archive/issue_comments_236955.json:
```json
{
    "body": "<a id='comment:24'></a>> But then one cannot say `.disjoint_union(G, 'integers')`. Maybe I don't worry that much.\n\n\nI think you worry too much, but if you just need to be soothed then I would say that it is better this way: some people may be expected to already use `.disjoint_union(G,True)` while nobody is using `.disjoint_union(G,'pairs')` are you are creating the syntax.\n\n> As for another post: After `x=42` for example `isinstance(x, LatticePosets)` says `False`, but `isinstance(x, LatticePoset)` gives error message.\n\n\nThat's because the combinat guys cannot be trusted to implement anything reliably.\n\nThe error message tells you that `LatticePoset` is not a class, and indeed it is a function. `LatticePoset??` tells you that it returns `FiniteLatticePoset` objects, and if you want to know where to find this class, it is defined there:\n\n```\nsage: import_statements(\"FiniteLatticePoset\")\nfrom sage.combinat.posets.lattices import FiniteLatticePoset\n```\n\nthen:\n\n```\nsage: from sage.combinat.posets.lattices import FiniteLatticePoset\nsage: x=42\nsage: isinstance(x,FiniteLatticePoset)                                         \nFalse\n```\n\nNathann",
    "created_at": "2014-09-30T09:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236955",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>> But then one cannot say `.disjoint_union(G, 'integers')`. Maybe I don't worry that much.


I think you worry too much, but if you just need to be soothed then I would say that it is better this way: some people may be expected to already use `.disjoint_union(G,True)` while nobody is using `.disjoint_union(G,'pairs')` are you are creating the syntax.

> As for another post: After `x=42` for example `isinstance(x, LatticePosets)` says `False`, but `isinstance(x, LatticePoset)` gives error message.


That's because the combinat guys cannot be trusted to implement anything reliably.

The error message tells you that `LatticePoset` is not a class, and indeed it is a function. `LatticePoset??` tells you that it returns `FiniteLatticePoset` objects, and if you want to know where to find this class, it is defined there:

```
sage: import_statements("FiniteLatticePoset")
from sage.combinat.posets.lattices import FiniteLatticePoset
```

then:

```
sage: from sage.combinat.posets.lattices import FiniteLatticePoset
sage: x=42
sage: isinstance(x,FiniteLatticePoset)                                         
False
```

Nathann



---

archive/issue_comments_236956.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-30T10:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236956",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_236957.json:
```json
{
    "body": "<a id='comment:26'></a>1-3a: Done `egrep '.{80}'` and `egrep ' $'`, corrected.\n\n3b, 5-6) I did as you suggested. I'll unite style when doing The Grand Poset Documentation Polishing.\n\n4) I don't understand. If you input lattices to ordinal sum, you get lattices.\n\n7) Which one is logical for A.ordinal_sum(B): to have \"A up and B down\" or \"B up\"? I don't know.\n\n8) I'm quite sure about that. But how?",
    "created_at": "2014-09-30T10:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236957",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:26'></a>1-3a: Done `egrep '.{80}'` and `egrep ' $'`, corrected.

3b, 5-6) I did as you suggested. I'll unite style when doing The Grand Poset Documentation Polishing.

4) I don't understand. If you input lattices to ordinal sum, you get lattices.

7) Which one is logical for A.ordinal_sum(B): to have "A up and B down" or "B up"? I don't know.

8) I'm quite sure about that. But how?



---

archive/issue_comments_236958.json:
```json
{
    "body": "<a id='comment:27'></a>Hello !\n\n> 4) I don't understand. If you input lattices to ordinal sum, you get lattices.\n\n\nI am an idiot, sorry. I misread the doc.\n\n> 7) Which one is logical for A.ordinal_sum(B): to have \"A up and B down\" or \"B up\"? I don't know.\n\n\nThis I do not know. But I would have expected the set of points `(1,x)` to be greater than the ones labelled with `(0,x)`\n\n> 8) I'm quite sure about that. But how?\n\n\nAsk the guy in your office (if any) to read it, and if not I will do it before setting the branch to `positive_review`.\n\nNathann",
    "created_at": "2014-09-30T11:11:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236958",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:27'></a>Hello !

> 4) I don't understand. If you input lattices to ordinal sum, you get lattices.


I am an idiot, sorry. I misread the doc.

> 7) Which one is logical for A.ordinal_sum(B): to have "A up and B down" or "B up"? I don't know.


This I do not know. But I would have expected the set of points `(1,x)` to be greater than the ones labelled with `(0,x)`

> 8) I'm quite sure about that. But how?


Ask the guy in your office (if any) to read it, and if not I will do it before setting the branch to `positive_review`.

Nathann



---

archive/issue_comments_236959.json:
```json
{
    "body": "<a id='comment:28'></a>Replying to [comment:27 ncohen]:\n\n> > 7) Which one is logical for A.ordinal_sum(B): to have \"A up and B down\" or \"B up\"? I don't know.\n\n> \n> This I do not know. But I would have expected the set of points `(1,x)` to be greater than the ones labelled with `(0,x)`\n\n\nYou are right on that. On the other hand, somehow for `A.something(B)` it sounds natural to have `(0,x)` be element of A and `(1,y)` be element of B. From that I can deduce that `A.ordinal_sum(B)` should have elements of B of on \"up\" and elements of A on \"down\".\n\n> > 8) I'm quite sure about that. But how?\n\n> \n> Ask the guy in your office (if any) to read it, and if not I will do it before setting the branch to `positive_review`.\n\n\nDone this. I'll continue when he replies.",
    "created_at": "2014-09-30T13:20:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236959",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:28'></a>Replying to [comment:27 ncohen]:

> > 7) Which one is logical for A.ordinal_sum(B): to have "A up and B down" or "B up"? I don't know.

> 
> This I do not know. But I would have expected the set of points `(1,x)` to be greater than the ones labelled with `(0,x)`


You are right on that. On the other hand, somehow for `A.something(B)` it sounds natural to have `(0,x)` be element of A and `(1,y)` be element of B. From that I can deduce that `A.ordinal_sum(B)` should have elements of B of on "up" and elements of A on "down".

> > 8) I'm quite sure about that. But how?

> 
> Ask the guy in your office (if any) to read it, and if not I will do it before setting the branch to `positive_review`.


Done this. I'll continue when he replies.



---

archive/issue_comments_236960.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-01T07:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236960",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_236961.json:
```json
{
    "body": "<a id='comment:30'></a>Proofreader didn't found problems, so I copied explanation from graphs. Also changed order of ordinal_sum.",
    "created_at": "2014-10-01T07:27:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236961",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:30'></a>Proofreader didn't found problems, so I copied explanation from graphs. Also changed order of ordinal_sum.



---

archive/issue_comments_236962.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-01T07:27:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236962",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_236963.json:
```json
{
    "body": "<a id='comment:31'></a>Hellooooo !\n\nHere is a commit on top of yours. Set the ticket to `positive_review` if you agree with it:\n\n1) some english (has->have) and some commas\n2) Rewrote '0,v' as ```(0,v)``` so that it appears as code in the doc. As you also wrote 'integers', it may have led to believe that '0,v' is a string.\n3) Changes like that\n\n```diff\n-        if isinstance(self, FiniteMeetSemilattice) and \\\n-        isinstance(other, FiniteMeetSemilattice):\n+        if (isinstance(self, FiniteMeetSemilattice) and\n+            isinstance(other, FiniteMeetSemilattice)):\n```\n  code is easier to read when everything is aligned vertically.\n\n4) Entries in the INPUT section should appear in the same order as the arguments that the function accepts. So I reversed the order of `verbose_relabel` and `labels`.\n\n5) The tests did not pass in the graph/ folder because of function `join`. So I did to it what you had already done to `disjoint_union` and deprecated the old flag.\n\nNathann\n\n---\nNew commits:",
    "created_at": "2014-10-01T08:49:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236963",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:31'></a>Hellooooo !

Here is a commit on top of yours. Set the ticket to `positive_review` if you agree with it:

1) some english (has->have) and some commas
2) Rewrote '0,v' as ```(0,v)``` so that it appears as code in the doc. As you also wrote 'integers', it may have led to believe that '0,v' is a string.
3) Changes like that

```diff
-        if isinstance(self, FiniteMeetSemilattice) and \
-        isinstance(other, FiniteMeetSemilattice):
+        if (isinstance(self, FiniteMeetSemilattice) and
+            isinstance(other, FiniteMeetSemilattice)):
```
  code is easier to read when everything is aligned vertically.

4) Entries in the INPUT section should appear in the same order as the arguments that the function accepts. So I reversed the order of `verbose_relabel` and `labels`.

5) The tests did not pass in the graph/ folder because of function `join`. So I did to it what you had already done to `disjoint_union` and deprecated the old flag.

Nathann

---
New commits:



---

archive/issue_comments_236964.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-01T10:01:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236964",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_236965.json:
```json
{
    "body": "<a id='comment:32'></a>Seems good.",
    "created_at": "2014-10-01T10:01:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236965",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:32'></a>Seems good.



---

archive/issue_events_049609.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-10-15T04:46:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17053#event-49609"
}
```



---

archive/issue_comments_236966.json:
```json
{
    "body": "<a id='comment:34'></a>author, reviewer name",
    "created_at": "2014-10-15T11:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236966",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:34'></a>author, reviewer name



---

archive/issue_comments_236967.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-10-15T11:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236967",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_236968.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-10-15T12:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236968",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_236969.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-10-15T18:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236969",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_236970.json:
```json
{
    "body": "<a id='comment:36'></a>Merge conflict, probably with #16998",
    "created_at": "2014-10-15T18:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236970",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:36'></a>Merge conflict, probably with #16998



---

archive/issue_comments_236971.json:
```json
{
    "body": "<a id='comment:37'></a>Stupid question, but how to see the conflict, and how to resolve? Checkout newest beta, make changes, and then try committing again?",
    "created_at": "2014-10-16T15:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236971",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:37'></a>Stupid question, but how to see the conflict, and how to resolve? Checkout newest beta, make changes, and then try committing again?



---

archive/issue_comments_236972.json:
```json
{
    "body": "<a id='comment:38'></a>#16998 is not in any released beta. The easiest solution is to wait for 6.4.beta7. You can also merge #16998 into your own branch and fix the conflict there.",
    "created_at": "2014-10-16T15:47:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236972",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:38'></a>#16998 is not in any released beta. The easiest solution is to wait for 6.4.beta7. You can also merge #16998 into your own branch and fix the conflict there.



---

archive/issue_comments_236973.json:
```json
{
    "body": "<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-04T14:16:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236973",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_236974.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-04T14:47:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236974",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_236975.json:
```json
{
    "body": "<a id='comment:41'></a>Now it seems to work.",
    "created_at": "2014-11-04T14:47:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236975",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:41'></a>Now it seems to work.



---

archive/issue_comments_236976.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-11-04T14:47:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236976",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_236977.json:
```json
{
    "body": "<a id='comment:42'></a>Some doctests are broken\n\n```\nsage -t --long src/sage/combinat/cluster_algebra_quiver/quiver.py  # 1 doctest failed\nsage -t --long src/sage/combinat/cluster_algebra_quiver/cluster_seed.py  # 1 doctest failed\nsage -t --long src/sage/combinat/cluster_algebra_quiver/quiver_mutation_type.py  # 1 doctest failed\n```\n\nIt is a bit painful to work on those classes because they are used in unexpected places and you don't know where unless you test all of Sage `:-/`\n\nNathann",
    "created_at": "2014-11-04T15:49:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236977",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:42'></a>Some doctests are broken

```
sage -t --long src/sage/combinat/cluster_algebra_quiver/quiver.py  # 1 doctest failed
sage -t --long src/sage/combinat/cluster_algebra_quiver/cluster_seed.py  # 1 doctest failed
sage -t --long src/sage/combinat/cluster_algebra_quiver/quiver_mutation_type.py  # 1 doctest failed
```

It is a bit painful to work on those classes because they are used in unexpected places and you don't know where unless you test all of Sage `:-/`

Nathann



---

archive/issue_comments_236978.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-04T20:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236978",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_236979.json:
```json
{
    "body": "<a id='comment:44'></a>Goooooooooooooooooood to go !\n\nNathann",
    "created_at": "2014-11-04T22:05:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236979",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:44'></a>Goooooooooooooooooood to go !

Nathann



---

archive/issue_comments_236980.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-04T22:05:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236980",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_049610.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-15T16:22:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17053#event-49610"
}
```



---

archive/issue_comments_236981.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-11-15T16:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17053#issuecomment-236981",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
