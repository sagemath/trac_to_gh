# Issue 17175: Replace some __cmp__() by rich comparison

archive/issues_016938.json:
```json
{
    "body": "This is part of #16537.\n\n**Keywords:** python3\n\n**Branch:** [u/aapitzsch/ticket/17175](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/17175)\n\n**Commit:** [d419515eab7cade4ef3983159d87dd3b10998544](https://github.com/sagemath/sagetrac-mirror/commit/d419515eab7cade4ef3983159d87dd3b10998544)\n\n**Work Issues:** merge conflicts\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Andr\u00e9 Apitzsch\n\nIssue created by migration from https://trac.sagemath.org/ticket/17175\n\n",
    "closed_at": "2017-12-12T08:23:33Z",
    "created_at": "2014-10-18T12:39:52Z",
    "labels": [
        "component: python3",
        "enhancement",
        "wontfix"
    ],
    "title": "Replace some __cmp__() by rich comparison",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/17175",
    "user": "https://github.com/a-andre"
}
```
This is part of #16537.

**Keywords:** python3

**Branch:** [u/aapitzsch/ticket/17175](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/17175)

**Commit:** [d419515eab7cade4ef3983159d87dd3b10998544](https://github.com/sagemath/sagetrac-mirror/commit/d419515eab7cade4ef3983159d87dd3b10998544)

**Work Issues:** merge conflicts

**Reviewer:** Frédéric Chapoton

**Author:** André Apitzsch

Issue created by migration from https://trac.sagemath.org/ticket/17175





---

archive/issue_comments_230510.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e6a4890f80a9cbab620a777495dd7ac27d81d5d\">8e6a489</a></td><td><code>replace `__cmp__` by rich comparisons</code></td></tr></table>\n",
    "created_at": "2014-10-18T12:41:27Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230510",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e6a4890f80a9cbab620a777495dd7ac27d81d5d">8e6a489</a></td><td><code>replace `__cmp__` by rich comparisons</code></td></tr></table>




---

archive/issue_events_154137.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2014-10-18T12:41:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154137"
}
```



---

archive/issue_comments_230511.json:
```json
{
    "body": "**Branch:** [u/aapitzsch/ticket/17175](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/17175)",
    "created_at": "2014-10-18T12:41:27Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230511",
    "user": "https://github.com/a-andre"
}
```

**Branch:** [u/aapitzsch/ticket/17175](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/17175)



---

archive/issue_comments_230512.json:
```json
{
    "body": "**Commit:** [8e6a4890f80a9cbab620a777495dd7ac27d81d5d](https://github.com/sagemath/sagetrac-mirror/commit/8e6a4890f80a9cbab620a777495dd7ac27d81d5d)",
    "created_at": "2014-10-18T12:41:27Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230512",
    "user": "https://github.com/a-andre"
}
```

**Commit:** [8e6a4890f80a9cbab620a777495dd7ac27d81d5d](https://github.com/sagemath/sagetrac-mirror/commit/8e6a4890f80a9cbab620a777495dd7ac27d81d5d)



---

archive/issue_events_154138.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2014-10-18T20:08:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154138"
}
```



---

archive/issue_events_154139.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2014-10-18T20:08:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154139"
}
```



---

archive/issue_comments_230513.json:
```json
{
    "body": "**Reviewer:** R. Andrew Ohana",
    "created_at": "2014-10-18T20:08:11Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230513",
    "user": "https://github.com/ohanar"
}
```

**Reviewer:** R. Andrew Ohana



---

archive/issue_comments_230514.json:
```json
{
    "body": "<a id='comment:2'></a>\nThanks for working on this. I haven't looked through everything thoroughly yet, but here are some initial comments/questions:\n\n* In `sage.combinat.e_one_star` (and in general), why do you change the expression in `__eq__` method to use backslashes instead of parens? According to PEP8, wrapping long lines should be done with parens, brackets, and braces rather than with backslashes.\n\n* In `sage.combinat.root_system.branching_rules`, `sage.doctest.*`, and `sage.rings.finit_rings.residue_field`, using `not isinstance(other, type(self))` is not equivalent to the previous line of reasoning (i.e. `type(self)` might be a super class of `type(other)`). Instead use something like `other.__class__ is not self.__class__` (using `__class__` is better than `type` for duck typing purposes).\n\n* In `sage.combinat.root_system.type_irreducible`, it seems to me that the added `__ne__` method is unecessary.\n\n* In `sage.dynamics.flat_surfaces.strata`, you seemed to have removed the less than and greater than functionality (that wasn't being tested by the doctests).",
    "created_at": "2014-10-18T20:08:11Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230514",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:2'></a>
Thanks for working on this. I haven't looked through everything thoroughly yet, but here are some initial comments/questions:

* In `sage.combinat.e_one_star` (and in general), why do you change the expression in `__eq__` method to use backslashes instead of parens? According to PEP8, wrapping long lines should be done with parens, brackets, and braces rather than with backslashes.

* In `sage.combinat.root_system.branching_rules`, `sage.doctest.*`, and `sage.rings.finit_rings.residue_field`, using `not isinstance(other, type(self))` is not equivalent to the previous line of reasoning (i.e. `type(self)` might be a super class of `type(other)`). Instead use something like `other.__class__ is not self.__class__` (using `__class__` is better than `type` for duck typing purposes).

* In `sage.combinat.root_system.type_irreducible`, it seems to me that the added `__ne__` method is unecessary.

* In `sage.dynamics.flat_surfaces.strata`, you seemed to have removed the less than and greater than functionality (that wasn't being tested by the doctests).



---

archive/issue_comments_230515.json:
```json
{
    "body": "<a id='comment:3'></a>\nRemoving `__ne__` from `sage.combinat.root_system.type_reducible` raises doctest errors like\n\n```\nsage -t src/sage/combinat/root_system/branching_rules.py\n**********************************************************************\nFile \"src/sage/combinat/root_system/branching_rules.py\", line 667, in sage.combinat.root_system.branching_rules.branch_weyl_character\nFailed example:\n    F4(0,0,1,0).branch(G2xA1,rule=\"miscellaneous\")\nException raised:\n    Traceback (most recent call last):\n      File \"/opt/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 488, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/opt/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 851, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.combinat.root_system.branching_rules.branch_weyl_character[130]>\", line 1, in <module>\n        F4(Integer(0),Integer(0),Integer(1),Integer(0)).branch(G2xA1,rule=\"miscellaneous\")\n      File \"/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/weyl_characters.py\", line 1103, in branch\n        return sage.combinat.root_system.branching_rules.branch_weyl_character(self, self.parent(), S, rule=rule)\n      File \"/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/branching_rules.py\", line 985, in branch_weyl_character\n        raise ValueError(\"rule has wrong target Cartan type\")\n    ValueError: rule has wrong target Cartan type\n```\n\nWe should keep it for now and check again when all `__cmp__()` have been removed.",
    "created_at": "2014-10-18T21:59:52Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230515",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:3'></a>
Removing `__ne__` from `sage.combinat.root_system.type_reducible` raises doctest errors like

```
sage -t src/sage/combinat/root_system/branching_rules.py
**********************************************************************
File "src/sage/combinat/root_system/branching_rules.py", line 667, in sage.combinat.root_system.branching_rules.branch_weyl_character
Failed example:
    F4(0,0,1,0).branch(G2xA1,rule="miscellaneous")
Exception raised:
    Traceback (most recent call last):
      File "/opt/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 488, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/opt/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 851, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.combinat.root_system.branching_rules.branch_weyl_character[130]>", line 1, in <module>
        F4(Integer(0),Integer(0),Integer(1),Integer(0)).branch(G2xA1,rule="miscellaneous")
      File "/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/weyl_characters.py", line 1103, in branch
        return sage.combinat.root_system.branching_rules.branch_weyl_character(self, self.parent(), S, rule=rule)
      File "/opt/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/branching_rules.py", line 985, in branch_weyl_character
        raise ValueError("rule has wrong target Cartan type")
    ValueError: rule has wrong target Cartan type
```

We should keep it for now and check again when all `__cmp__()` have been removed.



---

archive/issue_comments_230516.json:
```json
{
    "body": "**Changing commit** from \"[8e6a4890f80a9cbab620a777495dd7ac27d81d5d](https://github.com/sagemath/sagetrac-mirror/commit/8e6a4890f80a9cbab620a777495dd7ac27d81d5d)\" to \"[caf728dcd3eb43b67d9da6332992a3139a62b050](https://github.com/sagemath/sagetrac-mirror/commit/caf728dcd3eb43b67d9da6332992a3139a62b050)\".",
    "created_at": "2014-10-18T22:21:22Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230516",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8e6a4890f80a9cbab620a777495dd7ac27d81d5d](https://github.com/sagemath/sagetrac-mirror/commit/8e6a4890f80a9cbab620a777495dd7ac27d81d5d)" to "[caf728dcd3eb43b67d9da6332992a3139a62b050](https://github.com/sagemath/sagetrac-mirror/commit/caf728dcd3eb43b67d9da6332992a3139a62b050)".



---

archive/issue_comments_230517.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b65bc8271bb643d40255705b990d380e8a851dd\">2b65bc8</a></td><td><code>use parentheses to wrap lines</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/caf728dcd3eb43b67d9da6332992a3139a62b050\">caf728d</a></td><td><code>use other.__class__ is not self.__class__</code></td></tr></table>\n",
    "created_at": "2014-10-18T22:21:22Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230517",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b65bc8271bb643d40255705b990d380e8a851dd">2b65bc8</a></td><td><code>use parentheses to wrap lines</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/caf728dcd3eb43b67d9da6332992a3139a62b050">caf728d</a></td><td><code>use other.__class__ is not self.__class__</code></td></tr></table>




---

archive/issue_comments_230518.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d1dabf54977ac44aadcb15d19ee24961ebb983e\">1d1dabf</a></td><td><code>fix last commit</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d419515eab7cade4ef3983159d87dd3b10998544\">d419515</a></td><td><code>add missing comparisons</code></td></tr></table>\n",
    "created_at": "2014-10-19T08:46:14Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230518",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d1dabf54977ac44aadcb15d19ee24961ebb983e">1d1dabf</a></td><td><code>fix last commit</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d419515eab7cade4ef3983159d87dd3b10998544">d419515</a></td><td><code>add missing comparisons</code></td></tr></table>




---

archive/issue_comments_230519.json:
```json
{
    "body": "**Changing commit** from \"[caf728dcd3eb43b67d9da6332992a3139a62b050](https://github.com/sagemath/sagetrac-mirror/commit/caf728dcd3eb43b67d9da6332992a3139a62b050)\" to \"[d419515eab7cade4ef3983159d87dd3b10998544](https://github.com/sagemath/sagetrac-mirror/commit/d419515eab7cade4ef3983159d87dd3b10998544)\".",
    "created_at": "2014-10-19T08:46:14Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230519",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[caf728dcd3eb43b67d9da6332992a3139a62b050](https://github.com/sagemath/sagetrac-mirror/commit/caf728dcd3eb43b67d9da6332992a3139a62b050)" to "[d419515eab7cade4ef3983159d87dd3b10998544](https://github.com/sagemath/sagetrac-mirror/commit/d419515eab7cade4ef3983159d87dd3b10998544)".



---

archive/issue_comments_230520.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [ohanar](#comment%3A2):\n> * In `sage.combinat.e_one_star` (and in general), why do you change the expression in `__eq__` method to use backslashes instead of parens? According to PEP8, wrapping long lines should be done with parens, brackets, and braces rather than with backslashes.\n\nDidn't know about it. Fixed now.\n\n> * In `sage.combinat.root_system.branching_rules`, `sage.doctest.*`, and `sage.rings.finit_rings.residue_field`, using `not isinstance(other, type(self))` is not equivalent to the previous line of reasoning (i.e. `type(self)` might be a super class of `type(other)`). Instead use something like `other.__class__ is not self.__class__` (using `__class__` is better than `type` for duck typing purposes).\n> \n\nFixed this.\n\n> * In `sage.dynamics.flat_surfaces.strata`, you seemed to have removed the less than and greater than functionality (that wasn't being tested by the doctests).\n\nAdded functions and tests.",
    "created_at": "2014-10-19T08:52:48Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230520",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:6'></a>
Replying to [ohanar](#comment%3A2):
> * In `sage.combinat.e_one_star` (and in general), why do you change the expression in `__eq__` method to use backslashes instead of parens? According to PEP8, wrapping long lines should be done with parens, brackets, and braces rather than with backslashes.

Didn't know about it. Fixed now.

> * In `sage.combinat.root_system.branching_rules`, `sage.doctest.*`, and `sage.rings.finit_rings.residue_field`, using `not isinstance(other, type(self))` is not equivalent to the previous line of reasoning (i.e. `type(self)` might be a super class of `type(other)`). Instead use something like `other.__class__ is not self.__class__` (using `__class__` is better than `type` for duck typing purposes).
> 

Fixed this.

> * In `sage.dynamics.flat_surfaces.strata`, you seemed to have removed the less than and greater than functionality (that wasn't being tested by the doctests).

Added functions and tests.



---

archive/issue_events_154140.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2014-10-19T08:52:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154140"
}
```



---

archive/issue_events_154141.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2014-10-19T08:52:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154141"
}
```



---

archive/issue_comments_230521.json:
```json
{
    "body": "<a id='comment:7'></a>\nHi Andr\u00e9, how did you select the modules from the *mountain* of affected modules from ticket:16537? Is there a common theme? Just curious! \n\nBy the way, after seeing the size of the *cmp*-problem in ticket:16537 I was so shocked that I stopped working on Sage and Python 3! So this gives me some fresh motivation ...\n\nWhat is the reason for explicitly defining all 4 comparisons in `src/sage/dynamics/flat_surfaces/strata.py` instead of defining one (e.g. `__gt__`) and using the class decorator `functools.total_ordering`?",
    "created_at": "2014-11-18T18:55:31Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230521",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:7'></a>
Hi André, how did you select the modules from the *mountain* of affected modules from ticket:16537? Is there a common theme? Just curious! 

By the way, after seeing the size of the *cmp*-problem in ticket:16537 I was so shocked that I stopped working on Sage and Python 3! So this gives me some fresh motivation ...

What is the reason for explicitly defining all 4 comparisons in `src/sage/dynamics/flat_surfaces/strata.py` instead of defining one (e.g. `__gt__`) and using the class decorator `functools.total_ordering`?



---

archive/issue_comments_230522.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"python3\".",
    "created_at": "2014-11-18T18:55:31Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230522",
    "user": "https://github.com/wluebbe"
}
```

**Changing keywords** from "" to "python3".



---

archive/issue_comments_230523.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [wluebbe](#comment%3A7):\n> Hi Andr\u00e9, how did you select the modules from the *mountain* of affected modules from ticket:16537? Is there a common theme? Just curious!\n\nUp to some exceptions I chose the `__cmp__()` functions which only checked for equality, where I hadn't to implement `__gt__()` etc.\n \n> By the way, after seeing the size of the *cmp*-problem in ticket:16537 I was so shocked that I stopped working on Sage and Python 3! So this gives me some fresh motivation ...\n\nThe main \"problem\" of replacing `__cmp__()` is pointed out in http://www.mail-archive.com/sage-devel@googlegroups.com/msg73051.html. Until we find a reasonable solution for it, we should continue with the easier tickets, like #16529.\n\n> What is the reason for explicitly defining all 4 comparisons in `src/sage/dynamics/flat_surfaces/strata.py` instead of defining one (e.g. `__gt__`) and using the class decorator `functools.total_ordering`?\n\nAll comparisons need `self._marked_separatrix == other._marked_separatrix` and I think this leads to problems with the class decorator.",
    "created_at": "2014-11-18T19:54:55Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230523",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:8'></a>
Replying to [wluebbe](#comment%3A7):
> Hi André, how did you select the modules from the *mountain* of affected modules from ticket:16537? Is there a common theme? Just curious!

Up to some exceptions I chose the `__cmp__()` functions which only checked for equality, where I hadn't to implement `__gt__()` etc.
 
> By the way, after seeing the size of the *cmp*-problem in ticket:16537 I was so shocked that I stopped working on Sage and Python 3! So this gives me some fresh motivation ...

The main "problem" of replacing `__cmp__()` is pointed out in http://www.mail-archive.com/sage-devel@googlegroups.com/msg73051.html. Until we find a reasonable solution for it, we should continue with the easier tickets, like #16529.

> What is the reason for explicitly defining all 4 comparisons in `src/sage/dynamics/flat_surfaces/strata.py` instead of defining one (e.g. `__gt__`) and using the class decorator `functools.total_ordering`?

All comparisons need `self._marked_separatrix == other._marked_separatrix` and I think this leads to problems with the class decorator.



---

archive/issue_comments_230524.json:
```json
{
    "body": "<a id='comment:9'></a>\nI do not think that it is *always* the right approach to solve the easier problems before the hard ones.\n\nWe have done this with good reason for stage 1 (#15980). But the completion of stage 1 has to precede the completion of stage 2. And now we have the hard problems that remain in stage 1!\n\nI think that stage 2 (#16052) could use a tool like https://github.com/PythonCharmers/python-future to good effect. \nClearly this does not prevent us from solving some of the problems (added originally to stage 2) in a stage 1 style (as was possible for `filter` and `reduce`, and I think it is also possible for `map` #16073!).\n\nBut we should try to complete stage 1 as soon as possible: if we cannot solve those remaining hard problems then Sage will not available under Python 3.\n\nAnyway I will have a look at #16529 ;-)\nAnd I will try to grok the *rich comparison* stuff - it is difficult and but it is also necessary!",
    "created_at": "2014-11-19T10:30:46Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230524",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:9'></a>
I do not think that it is *always* the right approach to solve the easier problems before the hard ones.

We have done this with good reason for stage 1 (#15980). But the completion of stage 1 has to precede the completion of stage 2. And now we have the hard problems that remain in stage 1!

I think that stage 2 (#16052) could use a tool like https://github.com/PythonCharmers/python-future to good effect. 
Clearly this does not prevent us from solving some of the problems (added originally to stage 2) in a stage 1 style (as was possible for `filter` and `reduce`, and I think it is also possible for `map` #16073!).

But we should try to complete stage 1 as soon as possible: if we cannot solve those remaining hard problems then Sage will not available under Python 3.

Anyway I will have a look at #16529 ;-)
And I will try to grok the *rich comparison* stuff - it is difficult and but it is also necessary!



---

archive/issue_events_154142.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-02-05T13:39:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154142"
}
```



---

archive/issue_events_154143.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-02-05T13:39:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154143"
}
```



---

archive/issue_comments_230525.json:
```json
{
    "body": "**Work Issues:** merge conflicts",
    "created_at": "2015-02-05T13:39:59Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230525",
    "user": "https://github.com/mezzarobba"
}
```

**Work Issues:** merge conflicts



---

archive/issue_comments_230526.json:
```json
{
    "body": "<a id='comment:11'></a>\nSame question as in #16537: Can the work be reduced by including the code in http://www.voidspace.org.uk/python/articles/comparison.shtml into the `SageObject` class? Please reply there.",
    "created_at": "2015-02-17T17:15:22Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230526",
    "user": "https://github.com/rwst"
}
```

<a id='comment:11'></a>
Same question as in #16537: Can the work be reduced by including the code in http://www.voidspace.org.uk/python/articles/comparison.shtml into the `SageObject` class? Please reply there.



---

archive/issue_events_154144.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-12T15:02:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154144"
}
```



---

archive/issue_events_154145.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-12T15:02:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154145"
}
```



---

archive/issue_comments_230527.json:
```json
{
    "body": "<a id='comment:12'></a>\nWith the new arguments in #16537 I think this is at least needs_info, if not wontfix.",
    "created_at": "2015-04-12T15:02:02Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230527",
    "user": "https://github.com/rwst"
}
```

<a id='comment:12'></a>
With the new arguments in #16537 I think this is at least needs_info, if not wontfix.



---

archive/issue_events_154146.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T13:33:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "component: misc",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154146"
}
```



---

archive/issue_events_154147.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T13:33:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "component: python3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154147"
}
```



---

archive/issue_events_154148.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-11T19:38:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154148"
}
```



---

archive/issue_events_154149.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-11T19:38:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154149"
}
```



---

archive/issue_events_154150.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-08-01T08:29:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154150"
}
```



---

archive/issue_comments_230528.json:
```json
{
    "body": "<a id='comment:16'></a>\nThis is way outdated. Let it be closed as invalid.",
    "created_at": "2017-08-26T15:50:54Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230528",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
This is way outdated. Let it be closed as invalid.



---

archive/issue_comments_230529.json:
```json
{
    "body": "**Changing reviewer** from \"R. Andrew Ohana\" to \"Fr\u00e9d\u00e9ric Chapoton\".",
    "created_at": "2017-08-26T15:50:54Z",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17175#issuecomment-230529",
    "user": "https://github.com/fchapoton"
}
```

**Changing reviewer** from "R. Andrew Ohana" to "Frédéric Chapoton".



---

archive/issue_events_154151.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-08-26T15:50:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154151"
}
```



---

archive/issue_events_154152.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-08-26T15:50:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154152"
}
```



---

archive/issue_events_154153.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-12-12T08:23:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154153"
}
```



---

archive/issue_events_154154.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-12-12T08:23:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154154"
}
```



---

archive/issue_events_154155.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-12-12T08:23:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17175",
    "label": "wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17175#event-154155"
}
```
