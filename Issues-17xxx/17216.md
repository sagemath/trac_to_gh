# Issue 17216: Poset / LatticePoset: [meet|join]matrix algorithm

archive/issues_016979.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nBecause `join()` and `meet()` are defined on [meet|join]lattices, not on posets, it is logical to also move `join_matrix()` and `meet_matrix()` there.\n\nOn `hasse_diagram.py` there is for example\n\n```\nle = copy(self.lequal_matrix())\nfor i in range(n): le[i,i] = 1\n```\n\nThis is unneeded, because `lequal_matrix()` already contains ones at diagonal. We can use `_leq_matrix` directly. There are also few other places to small optimization.\n\nAt the same time I suggesg moving `is_lattice()` to `posets.py` from category code, because `is_[meet|join]_semilattice()` already is there.\n\n\nCC:  @nathanncohen\n\nComponent: **combinatorics**\n\nAuthor: **Jori M\u00e4ntysalo**\n\nBranch/Commit: **[`391c03b`](https://github.com/sagemath/sagetrac-mirror/commit/391c03bcc290824c78f165d1623baaf1d921734d)**\n\nReviewer: **Nathann Cohen, Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17216_\n\n",
    "closed_at": "2014-10-29T10:37:42Z",
    "created_at": "2014-10-24T19:11:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Poset / LatticePoset: [meet|join]matrix algorithm",
    "type": "issue",
    "updated_at": "2014-10-29T10:37:42Z",
    "url": "https://github.com/sagemath/sage/issues/17216",
    "user": "https://github.com/jm58660"
}
```
<div id="comment:0"></div>

Because `join()` and `meet()` are defined on [meet|join]lattices, not on posets, it is logical to also move `join_matrix()` and `meet_matrix()` there.

On `hasse_diagram.py` there is for example

```
le = copy(self.lequal_matrix())
for i in range(n): le[i,i] = 1
```

This is unneeded, because `lequal_matrix()` already contains ones at diagonal. We can use `_leq_matrix` directly. There are also few other places to small optimization.

At the same time I suggesg moving `is_lattice()` to `posets.py` from category code, because `is_[meet|join]_semilattice()` already is there.


CC:  @nathanncohen

Component: **combinatorics**

Author: **Jori Mäntysalo**

Branch/Commit: **[`391c03b`](https://github.com/sagemath/sagetrac-mirror/commit/391c03bcc290824c78f165d1623baaf1d921734d)**

Reviewer: **Nathann Cohen, Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/17216_





---

archive/issue_events_243480.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-10-24T19:11:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243480"
}
```



---

archive/issue_events_243481.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-10-24T19:11:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243481"
}
```



---

archive/issue_events_243482.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-10-24T19:11:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243482"
}
```



---

archive/issue_events_243483.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-10-24T19:11:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243483"
}
```



---

archive/issue_comments_228761.json:
```json
{
    "body": "Branch: **[u/jmantysalo/poset___latticeposet___meet_join_matrix_algorithm](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/poset___latticeposet___meet_join_matrix_algorithm)**",
    "created_at": "2014-10-25T13:12:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228761",
    "user": "https://github.com/jm58660"
}
```

Branch: **[u/jmantysalo/poset___latticeposet___meet_join_matrix_algorithm](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/poset___latticeposet___meet_join_matrix_algorithm)**



---

archive/issue_comments_228762.json:
```json
{
    "body": "Author: **Jori M\u00e4ntysalo**",
    "created_at": "2014-10-25T13:25:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228762",
    "user": "https://github.com/jm58660"
}
```

Author: **Jori Mäntysalo**



---

archive/issue_comments_228763.json:
```json
{
    "body": "Commit: **[`8b2ab93`](https://github.com/sagemath/sagetrac-mirror/commit/8b2ab93a44970afc31a12dc0df57883f4b27eda6)**",
    "created_at": "2014-10-25T13:25:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228763",
    "user": "https://github.com/jm58660"
}
```

Commit: **[`8b2ab93`](https://github.com/sagemath/sagetrac-mirror/commit/8b2ab93a44970afc31a12dc0df57883f4b27eda6)**



---

archive/issue_comments_228764.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nA slightly better(?) version for `_meet()` is done. Somebody could check if I did something stupid.\n\nIt seems to already have a complexity on `O(n^2.5)`. I'm not sure if it would be much faster to just check if a poset is meet-semilattice. Probably no.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b2ab93a44970afc31a12dc0df57883f4b27eda6\"><code>8b2ab93</code></a></td><td><code>Slight simplification for meet-matrix.</code></td></tr></table>\n",
    "created_at": "2014-10-25T13:25:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228764",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:2" align="right">comment:2</div>

A slightly better(?) version for `_meet()` is done. Somebody could check if I did something stupid.

It seems to already have a complexity on `O(n^2.5)`. I'm not sure if it would be much faster to just check if a poset is meet-semilattice. Probably no.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b2ab93a44970afc31a12dc0df57883f4b27eda6"><code>8b2ab93</code></a></td><td><code>Slight simplification for meet-matrix.</code></td></tr></table>




---

archive/issue_comments_228765.json:
```json
{
    "body": "Changed commit from **[`8b2ab93`](https://github.com/sagemath/sagetrac-mirror/commit/8b2ab93a44970afc31a12dc0df57883f4b27eda6)** to **[`aa6db23`](https://github.com/sagemath/sagetrac-mirror/commit/aa6db231af42197ba9a4daccf904c126dad87204)**",
    "created_at": "2014-10-25T16:29:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228765",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8b2ab93`](https://github.com/sagemath/sagetrac-mirror/commit/8b2ab93a44970afc31a12dc0df57883f4b27eda6)** to **[`aa6db23`](https://github.com/sagemath/sagetrac-mirror/commit/aa6db231af42197ba9a4daccf904c126dad87204)**



---

archive/issue_comments_228766.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa6db231af42197ba9a4daccf904c126dad87204\"><code>aa6db23</code></a></td><td><code>Slight simplifying to _join.</code></td></tr></table>\n",
    "created_at": "2014-10-25T16:29:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228766",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa6db231af42197ba9a4daccf904c126dad87204"><code>aa6db23</code></a></td><td><code>Slight simplifying to _join.</code></td></tr></table>




---

archive/issue_comments_228767.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7d2dd08623026a269f5fd7700b9e659985e7579\"><code>a7d2dd0</code></a></td><td><code>Moved [meet|join]_matrix from posets to lattices and is_lattice from</code></td></tr></table>\n",
    "created_at": "2014-10-25T19:12:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228767",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7d2dd08623026a269f5fd7700b9e659985e7579"><code>a7d2dd0</code></a></td><td><code>Moved [meet|join]_matrix from posets to lattices and is_lattice from</code></td></tr></table>




---

archive/issue_comments_228768.json:
```json
{
    "body": "Changed commit from **[`aa6db23`](https://github.com/sagemath/sagetrac-mirror/commit/aa6db231af42197ba9a4daccf904c126dad87204)** to **[`a7d2dd0`](https://github.com/sagemath/sagetrac-mirror/commit/a7d2dd08623026a269f5fd7700b9e659985e7579)**",
    "created_at": "2014-10-25T19:12:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228768",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`aa6db23`](https://github.com/sagemath/sagetrac-mirror/commit/aa6db231af42197ba9a4daccf904c126dad87204)** to **[`a7d2dd0`](https://github.com/sagemath/sagetrac-mirror/commit/a7d2dd08623026a269f5fd7700b9e659985e7579)**



---

archive/issue_comments_228769.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,15 +1,13 @@\n-First, because `meet()` is defined on `LatticePoset`, not on `Poset`, it is logical to also move `meet_matrix()` there.\n+Because `join()` and `meet()` are defined on [meet|join]lattices, not on posets, it is logical to also move `join_matrix()` and `meet_matrix()` there.\n \n-Second, `hasse_diagram.py` contains\n+On `hasse_diagram.py` there is for example\n \n ```\n le = copy(self.lequal_matrix())\n for i in range(n): le[i,i] = 1\n ```\n \n-This is unneeded, because `lequal_matrix()` already contains ones at diagonal. We can use `_leq_matrix` directly.\n+This is unneeded, because `lequal_matrix()` already contains ones at diagonal. We can use `_leq_matrix` directly. There are also few other places to small optimization.\n \n-Third, maybe the whole algorithm could be written better.\n+At the same time I suggesg moving `is_lattice()` to `posets.py` from category code, because `is_[meet|join]_semilattice()` already is there.\n \n-All this applies dually to `join`.\n-\n``````\n",
    "created_at": "2014-10-25T19:17:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228769",
    "user": "https://github.com/jm58660"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,15 +1,13 @@
-First, because `meet()` is defined on `LatticePoset`, not on `Poset`, it is logical to also move `meet_matrix()` there.
+Because `join()` and `meet()` are defined on [meet|join]lattices, not on posets, it is logical to also move `join_matrix()` and `meet_matrix()` there.
 
-Second, `hasse_diagram.py` contains
+On `hasse_diagram.py` there is for example
 
 ```
 le = copy(self.lequal_matrix())
 for i in range(n): le[i,i] = 1
 ```
 
-This is unneeded, because `lequal_matrix()` already contains ones at diagonal. We can use `_leq_matrix` directly.
+This is unneeded, because `lequal_matrix()` already contains ones at diagonal. We can use `_leq_matrix` directly. There are also few other places to small optimization.
 
-Third, maybe the whole algorithm could be written better.
+At the same time I suggesg moving `is_lattice()` to `posets.py` from category code, because `is_[meet|join]_semilattice()` already is there.
 
-All this applies dually to `join`.
-
``````




---

archive/issue_events_243484.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-10-25T19:17:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243484"
}
```



---

archive/issue_events_243485.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-10-25T19:17:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243485"
}
```



---

archive/issue_events_243486.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-10-25T19:17:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243486"
}
```



---

archive/issue_comments_228770.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHello !\n\nThanks you for this branch, it is nice code.\n\nA couple of comments and it can go:\n\n1) The tests do not pass in the combinat/poset/ folder.\n\n2) The code of `_join` would be simpled if you called \"min(T)\" instead of relabelling all points as `n-1-y`.\n\nNathann",
    "created_at": "2014-10-26T11:37:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228770",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

Hello !

Thanks you for this branch, it is nice code.

A couple of comments and it can go:

1) The tests do not pass in the combinat/poset/ folder.

2) The code of `_join` would be simpled if you called "min(T)" instead of relabelling all points as `n-1-y`.

Nathann



---

archive/issue_events_243487.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-10-26T11:37:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243487"
}
```



---

archive/issue_events_243488.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-10-26T11:37:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243488"
}
```



---

archive/issue_comments_228771.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a649be931b249028ff1e5961fc948c2daf50c695\"><code>a649be9</code></a></td><td><code>Let empty poset has [meet|join]matrix with 0 rows and columns.</code></td></tr></table>\n",
    "created_at": "2014-10-27T07:42:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228771",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a649be931b249028ff1e5961fc948c2daf50c695"><code>a649be9</code></a></td><td><code>Let empty poset has [meet|join]matrix with 0 rows and columns.</code></td></tr></table>




---

archive/issue_comments_228772.json:
```json
{
    "body": "Changed commit from **[`a7d2dd0`](https://github.com/sagemath/sagetrac-mirror/commit/a7d2dd08623026a269f5fd7700b9e659985e7579)** to **[`a649be9`](https://github.com/sagemath/sagetrac-mirror/commit/a649be931b249028ff1e5961fc948c2daf50c695)**",
    "created_at": "2014-10-27T07:42:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228772",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a7d2dd0`](https://github.com/sagemath/sagetrac-mirror/commit/a7d2dd08623026a269f5fd7700b9e659985e7579)** to **[`a649be9`](https://github.com/sagemath/sagetrac-mirror/commit/a649be931b249028ff1e5961fc948c2daf50c695)**



---

archive/issue_events_243489.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-10-27T07:48:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243489"
}
```



---

archive/issue_events_243490.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-10-27T07:48:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243490"
}
```



---

archive/issue_comments_228773.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2014-10-27T07:48:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228773",
    "user": "https://github.com/jm58660"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_228774.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n1) Should empty set be a lattice? Anyways, this is now corrected. Should have a test suite containing tests for empty semilattices too. Actually a test suite should test all properties for 0- and 1-element posets. (How about `is_chain()`, for example?)\n\n2) Hmm... I think I'll think about this on next round iterating throught the code.",
    "created_at": "2014-10-27T07:48:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228774",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:8" align="right">comment:8</div>

1) Should empty set be a lattice? Anyways, this is now corrected. Should have a test suite containing tests for empty semilattices too. Actually a test suite should test all properties for 0- and 1-element posets. (How about `is_chain()`, for example?)

2) Hmm... I think I'll think about this on next round iterating throught the code.



---

archive/issue_comments_228775.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nYo !\n\n> 1) Should empty set be a lattice? Anyways, this is now corrected. Should have a test suite containing tests for empty semilattices too. Actually a test suite should test all properties for 0- and 1-element posets. (How about `is_chain()`, for example?)\n\nWell. I just asked a friend, and as usual it depends on the definition that you prefer. He told me that a lattice should have a maximum and minimum element. The definition I prefer is that \"any two guys have both a meet and a join\", which hold for an empty set. I do not mind much to be honest, I always suspect other to use different conventions than I, so I usually do not trust softwares for that `:-P`\n\n> 2) Hmm... I think I'll think about this on next round iterating throught the code.\n\nOh, I had not seen that the code was already like that before you modified it. Well, looks good to go !\n\nNathann",
    "created_at": "2014-10-27T13:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228775",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

Yo !

> 1) Should empty set be a lattice? Anyways, this is now corrected. Should have a test suite containing tests for empty semilattices too. Actually a test suite should test all properties for 0- and 1-element posets. (How about `is_chain()`, for example?)

Well. I just asked a friend, and as usual it depends on the definition that you prefer. He told me that a lattice should have a maximum and minimum element. The definition I prefer is that "any two guys have both a meet and a join", which hold for an empty set. I do not mind much to be honest, I always suspect other to use different conventions than I, so I usually do not trust softwares for that `:-P`

> 2) Hmm... I think I'll think about this on next round iterating throught the code.

Oh, I had not seen that the code was already like that before you modified it. Well, looks good to go !

Nathann



---

archive/issue_events_243491.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-10-27T13:16:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243491"
}
```



---

archive/issue_events_243492.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-10-27T13:16:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243492"
}
```



---

archive/issue_comments_228776.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nHas anyone checked that we do get speedups in meet/join matrix?\n\nFor the definition of a lattice, I've also been told you want a *unique* meet and join. Otherwise just the existence is something like regular poset, sorry I forget the exact term right now.\n\nAlso could you make the very minor change:\n\n```diff\n-        return matrix(ZZ, [[n-1-join[n-1-x][n-1-y] for y in range(n)] for\n-                           x in range(n)])\n+        return matrix(ZZ, [[n-1-join[n-1-x][n-1-y] for y in range(n)]\n+                           for x in range(n)])\n```\nIMO it makes the code easier to read, but feel free to disregard.",
    "created_at": "2014-10-27T14:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228776",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">comment:11</div>

Has anyone checked that we do get speedups in meet/join matrix?

For the definition of a lattice, I've also been told you want a *unique* meet and join. Otherwise just the existence is something like regular poset, sorry I forget the exact term right now.

Also could you make the very minor change:

```diff
-        return matrix(ZZ, [[n-1-join[n-1-x][n-1-y] for y in range(n)] for
-                           x in range(n)])
+        return matrix(ZZ, [[n-1-join[n-1-x][n-1-y] for y in range(n)]
+                           for x in range(n)])
```
IMO it makes the code easier to read, but feel free to disregard.



---

archive/issue_events_243493.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-10-27T14:49:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243493"
}
```



---

archive/issue_events_243494.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-10-27T14:49:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243494"
}
```



---

archive/issue_comments_228777.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nActually, you can't remove that function from the category without deprecating it.",
    "created_at": "2014-10-27T14:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228777",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

Actually, you can't remove that function from the category without deprecating it.



---

archive/issue_comments_228778.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAbout speedup: For example after `P7=Posets(7).list()` it took 630 ms to run `sum([P.is_lattice() for P in P7])`, after this patch 280 ms. Same can be seen in several test runs.\n\nSuggestion of code formatting is good.\n\nWhen is `is_lattice()` on category tried to run? I don't quite understand --- what happens if both `finite_posets.py` on categories and `posets.py` on combinats define same function?",
    "created_at": "2014-10-27T15:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228778",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:13" align="right">comment:13</div>

About speedup: For example after `P7=Posets(7).list()` it took 630 ms to run `sum([P.is_lattice() for P in P7])`, after this patch 280 ms. Same can be seen in several test runs.

Suggestion of code formatting is good.

When is `is_lattice()` on category tried to run? I don't quite understand --- what happens if both `finite_posets.py` on categories and `posets.py` on combinats define same function?



---

archive/issue_comments_228779.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n> Has anyone checked that we do get speedups in meet/join matrix?\n\nLook at the code, and you will see that the algorithm never changed. It is only code simplification. For instance a call to 'max' instead of computing the max by hand, for instance list-comprehension instead of successive calls to 'append'. And a copy of a matrix is avoided too.\n\n> For the definition of a lattice, I've also been told you want a *unique* meet and join. Otherwise just the existence is something like regular poset, sorry I forget the exact term right now.\n\nTravis, please read the code for your question is answered there.\n\n> Also could you make the very minor change:\n\nPlease don't change the status of a ticket that has been reviewed unless you see something which is actually wrong. Something more important than moving a 'for' around.\n\nNathann",
    "created_at": "2014-10-27T15:06:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228779",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

> Has anyone checked that we do get speedups in meet/join matrix?

Look at the code, and you will see that the algorithm never changed. It is only code simplification. For instance a call to 'max' instead of computing the max by hand, for instance list-comprehension instead of successive calls to 'append'. And a copy of a matrix is avoided too.

> For the definition of a lattice, I've also been told you want a *unique* meet and join. Otherwise just the existence is something like regular poset, sorry I forget the exact term right now.

Travis, please read the code for your question is answered there.

> Also could you make the very minor change:

Please don't change the status of a ticket that has been reviewed unless you see something which is actually wrong. Something more important than moving a 'for' around.

Nathann



---

archive/issue_comments_228780.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n> Actually, you can't remove that function from the category without deprecating it.\n\nIf such an object exists somewhere in Sage then we should not move the function from the category file to the lattice file, for that would be a regression.\n\nIf such an object does not exist there is no reason to add a deprecation.\n\nBear in mind that an object that currently belongs to the category of `Lattices` and is not a `FiniteLattice` must implement its own `is_meet_semilattice` and `is_join_semilattice`.\n\nNathann",
    "created_at": "2014-10-27T15:09:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228780",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:15" align="right">comment:15</div>

> Actually, you can't remove that function from the category without deprecating it.

If such an object exists somewhere in Sage then we should not move the function from the category file to the lattice file, for that would be a regression.

If such an object does not exist there is no reason to add a deprecation.

Bear in mind that an object that currently belongs to the category of `Lattices` and is not a `FiniteLattice` must implement its own `is_meet_semilattice` and `is_join_semilattice`.

Nathann



---

archive/issue_comments_228781.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n> When is `is_lattice()` on category tried to run? I don't quite understand --- what happens if both `finite_posets.py` on categories and `posets.py` on combinats define same function?\n\nHere is the thing: some guys in Sage rewrote method inheritance and call that \"categories\". A Lattice belongs to several \"categories\" by default:\n\n```\nsage: LatticePoset(Poset()).category()\nJoin of Category of finite lattice posets and Category of finite enumerated sets and Category of facade sets\n```\n\nNow, you can create any class and make it belong to the category of `Lattices`. It will consequently inherit from the methods defined in the \"lattices\" category file. This being said, `is_lattice` called `is_join_semilattice` and `is_meet_semilattice` which are defined in the usual `poset/lattices.py` file.\n\nWhich means that if you want the `is_lattice` method to work on an object which is not an instance of `FiniteLattice`, then it must implement its own `is_join_semilattice` and `is_meet_semilattice`.\n\nAnd chances are that nobody ever did that, for removing that function from the category while re-implementing it in the poset files did not break any doctest.\n\nNathann",
    "created_at": "2014-10-27T15:33:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228781",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

> When is `is_lattice()` on category tried to run? I don't quite understand --- what happens if both `finite_posets.py` on categories and `posets.py` on combinats define same function?

Here is the thing: some guys in Sage rewrote method inheritance and call that "categories". A Lattice belongs to several "categories" by default:

```
sage: LatticePoset(Poset()).category()
Join of Category of finite lattice posets and Category of finite enumerated sets and Category of facade sets
```

Now, you can create any class and make it belong to the category of `Lattices`. It will consequently inherit from the methods defined in the "lattices" category file. This being said, `is_lattice` called `is_join_semilattice` and `is_meet_semilattice` which are defined in the usual `poset/lattices.py` file.

Which means that if you want the `is_lattice` method to work on an object which is not an instance of `FiniteLattice`, then it must implement its own `is_join_semilattice` and `is_meet_semilattice`.

And chances are that nobody ever did that, for removing that function from the category while re-implementing it in the poset files did not break any doctest.

Nathann



---

archive/issue_events_243495.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-10-27T18:24:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243495"
}
```



---

archive/issue_events_243496.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-10-27T18:24:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243496"
}
```



---

archive/issue_comments_228782.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nFirst off, I changed the status because there was no evidence that people had run any timings. This is why I changed it to `needs_info`. I never trust code that *should* be faster to really be faster; overhead and idiosyncrasies of python can make things slower, even if asymptotically it is a better algorithm (my go-to example is sorting, for (very) small lists, we just use bubble sort because of overhead). Also the algorithm to check that the finite poset is a lattice has changed (using `has_top` and `has_bottom` instead of the matrix).\n\nCategories also can carry mathematical information as well, in particular for morphisms. The issue I'm raising about why the method needs to be deprecated is this. Suppose I have some personal code for a finite poset that does not inherit from `FinitePoset`, but is a parent belonging to the category of `FinitePosets`. Thus I have `is_lattice` from the category. However, with this patch, all of a sudden my code is (horribly) broken because I no longer have the `is_lattice` method.\n\nThere is likely some duplication from things in `FinitePoset` that should be up in the category coming from the initial implementation of the class and when we transitioned to using categories. So what should happen is you should delete the method in the `FinitePoset` class (which doesn't need a deprecation because you get it from the category).",
    "created_at": "2014-10-27T18:24:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228782",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:17" align="right">comment:17</div>

First off, I changed the status because there was no evidence that people had run any timings. This is why I changed it to `needs_info`. I never trust code that *should* be faster to really be faster; overhead and idiosyncrasies of python can make things slower, even if asymptotically it is a better algorithm (my go-to example is sorting, for (very) small lists, we just use bubble sort because of overhead). Also the algorithm to check that the finite poset is a lattice has changed (using `has_top` and `has_bottom` instead of the matrix).

Categories also can carry mathematical information as well, in particular for morphisms. The issue I'm raising about why the method needs to be deprecated is this. Suppose I have some personal code for a finite poset that does not inherit from `FinitePoset`, but is a parent belonging to the category of `FinitePosets`. Thus I have `is_lattice` from the category. However, with this patch, all of a sudden my code is (horribly) broken because I no longer have the `is_lattice` method.

There is likely some duplication from things in `FinitePoset` that should be up in the category coming from the initial implementation of the class and when we transitioned to using categories. So what should happen is you should delete the method in the `FinitePoset` class (which doesn't need a deprecation because you get it from the category).



---

archive/issue_comments_228783.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@nathanncohen](#comment%3A14):\n\n> Please don't change the status of a ticket that has been reviewed unless you see something which is actually wrong. Something more important than moving a 'for' around.\n\nBut Travis had also other points. It does not bother me, because this is an enhancement, not a bug (and nothing like changing `O(2^n)` to `O(n^2)` or similar).\n\nI don't quite get this category thing. For example there is no category for semilattices, but there is for lattices if I remember correctly. But anyways, I'll put a deprecation to categories code.",
    "created_at": "2014-10-27T19:45:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228783",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@nathanncohen](#comment%3A14):

> Please don't change the status of a ticket that has been reviewed unless you see something which is actually wrong. Something more important than moving a 'for' around.

But Travis had also other points. It does not bother me, because this is an enhancement, not a bug (and nothing like changing `O(2^n)` to `O(n^2)` or similar).

I don't quite get this category thing. For example there is no category for semilattices, but there is for lattices if I remember correctly. But anyways, I'll put a deprecation to categories code.



---

archive/issue_comments_228784.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@jm58660](#comment%3A18):\n> I don't quite get this category thing. For example there is no category for semilattices, but there is for lattices if I remember correctly.\n\nWell, no one currently has a need for those categories, or at least could put any generic code in them.\n\n> But anyways, I'll put a deprecation to categories code.\n\nI think you're better off removing the one in `FinitePoset` and reinstating the category one; no deprecation needed. (It's like moving the method up in the class hierarchy.)",
    "created_at": "2014-10-27T21:20:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228784",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@jm58660](#comment%3A18):
> I don't quite get this category thing. For example there is no category for semilattices, but there is for lattices if I remember correctly.

Well, no one currently has a need for those categories, or at least could put any generic code in them.

> But anyways, I'll put a deprecation to categories code.

I think you're better off removing the one in `FinitePoset` and reinstating the category one; no deprecation needed. (It's like moving the method up in the class hierarchy.)



---

archive/issue_comments_228785.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/391c03bcc290824c78f165d1623baaf1d921734d\"><code>391c03b</code></a></td><td><code>Rollback: is_lattice() to categories.</code></td></tr></table>\n",
    "created_at": "2014-10-28T09:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228785",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/391c03bcc290824c78f165d1623baaf1d921734d"><code>391c03b</code></a></td><td><code>Rollback: is_lattice() to categories.</code></td></tr></table>




---

archive/issue_comments_228786.json:
```json
{
    "body": "Changed commit from **[`a649be9`](https://github.com/sagemath/sagetrac-mirror/commit/a649be931b249028ff1e5961fc948c2daf50c695)** to **[`391c03b`](https://github.com/sagemath/sagetrac-mirror/commit/391c03bcc290824c78f165d1623baaf1d921734d)**",
    "created_at": "2014-10-28T09:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228786",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a649be9`](https://github.com/sagemath/sagetrac-mirror/commit/a649be931b249028ff1e5961fc948c2daf50c695)** to **[`391c03b`](https://github.com/sagemath/sagetrac-mirror/commit/391c03bcc290824c78f165d1623baaf1d921734d)**



---

archive/issue_events_243497.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-10-28T09:41:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243497"
}
```



---

archive/issue_events_243498.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-10-28T09:41:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243498"
}
```



---

archive/issue_comments_228787.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nRollback done, `for` moved to other line.\n\nIs it so that function on \"real\" class overrides function with same name in category? If so, then in principle there could be `meet_matrix()` defined on category --- it would loop over elements and construct a matrix. Basic implementation of lattice would only have `meet()`, but better on could have it's own and better `meet_matrix()`(?) This is basically what could be done in good old C++.\n\nAnyways, this is now ready for review. Another thing is making documentation better. There is simply no point to make user to look different places for `is_meet_semilattice()` and `is_lattice()`.",
    "created_at": "2014-10-28T09:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228787",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:21" align="right">comment:21</div>

Rollback done, `for` moved to other line.

Is it so that function on "real" class overrides function with same name in category? If so, then in principle there could be `meet_matrix()` defined on category --- it would loop over elements and construct a matrix. Basic implementation of lattice would only have `meet()`, but better on could have it's own and better `meet_matrix()`(?) This is basically what could be done in good old C++.

Anyways, this is now ready for review. Another thing is making documentation better. There is simply no point to make user to look different places for `is_meet_semilattice()` and `is_lattice()`.



---

archive/issue_comments_228788.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@jm58660](#comment%3A21):\n> Rollback done, `for` moved to other line.\n\nThanks.\n\n> Is it so that function on \"real\" class overrides function with same name in category? If so, then in principle there could be `meet_matrix()` defined on category --- it would loop over elements and construct a matrix. Basic implementation of lattice would only have `meet()`, but better on could have it's own and better `meet_matrix()`(?) This is basically what could be done in good old C++.\n\nYes, that's correct. Such a method would be a good benefit, although it might be good for it to also be an enumerated set. However a lattice morphism is stronger than a poset morphism, in that we must also have `f(a ^ b) = f(a) ^ f(b)` and similarly for joins. See http://en.wikipedia.org/wiki/Lattice_(order). So for two lattices `L,P`, we have `Hom(L, P) <= Hom(L, P, category=Posets())` (the first one is the category of `Lattices`).\n\n> Anyways, this is now ready for review. Another thing is making documentation better. There is simply no point to make user to look different places for `is_meet_semilattice()` and `is_lattice()`.\n\nHow most (from my experience) people get documentation is interactively (i.e. `P.is_lattice?`), so it doesn't make a difference where the method is located.",
    "created_at": "2014-10-28T16:48:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228788",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@jm58660](#comment%3A21):
> Rollback done, `for` moved to other line.

Thanks.

> Is it so that function on "real" class overrides function with same name in category? If so, then in principle there could be `meet_matrix()` defined on category --- it would loop over elements and construct a matrix. Basic implementation of lattice would only have `meet()`, but better on could have it's own and better `meet_matrix()`(?) This is basically what could be done in good old C++.

Yes, that's correct. Such a method would be a good benefit, although it might be good for it to also be an enumerated set. However a lattice morphism is stronger than a poset morphism, in that we must also have `f(a ^ b) = f(a) ^ f(b)` and similarly for joins. See http://en.wikipedia.org/wiki/Lattice_(order). So for two lattices `L,P`, we have `Hom(L, P) <= Hom(L, P, category=Posets())` (the first one is the category of `Lattices`).

> Anyways, this is now ready for review. Another thing is making documentation better. There is simply no point to make user to look different places for `is_meet_semilattice()` and `is_lattice()`.

How most (from my experience) people get documentation is interactively (i.e. `P.is_lattice?`), so it doesn't make a difference where the method is located.



---

archive/issue_comments_228789.json:
```json
{
    "body": "Changed reviewer from **Nathann Cohen** to **Nathann Cohen, Travis Scrimshaw**",
    "created_at": "2014-10-28T16:48:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228789",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Nathann Cohen** to **Nathann Cohen, Travis Scrimshaw**



---

archive/issue_events_243499.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-10-28T16:48:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243499"
}
```



---

archive/issue_events_243500.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-10-28T16:48:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243500"
}
```



---

archive/issue_events_243501.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-29T10:37:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243501"
}
```



---

archive/issue_events_243502.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "cbb76f85d9498a13192fdd0ba41683481638543b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-10-29T10:37:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17216#event-243502"
}
```



---

archive/issue_comments_228790.json:
```json
{
    "body": "Changed branch from **[u/jmantysalo/poset___latticeposet___meet_join_matrix_algorithm](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/poset___latticeposet___meet_join_matrix_algorithm)** to **[`391c03b`](https://github.com/sagemath/sagetrac-mirror/commit/391c03bcc290824c78f165d1623baaf1d921734d)**",
    "created_at": "2014-10-29T10:37:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17216#issuecomment-228790",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jmantysalo/poset___latticeposet___meet_join_matrix_algorithm](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/poset___latticeposet___meet_join_matrix_algorithm)** to **[`391c03b`](https://github.com/sagemath/sagetrac-mirror/commit/391c03bcc290824c78f165d1623baaf1d921734d)**
