# Issue 17776: Make python scripts in src/bin python3 compatible

archive/issues_017539.json:
```json
{
    "body": "\n\nKeywords: python3\n\nReviewer: John Palmieri\n\nAuthor: Andr\u00e9 Apitzsch\n\nBranch: 8819306d06778a9ef3cce2d4947469c16aeb7100\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17776\n\n",
    "closed_at": "2015-03-04T23:16:20Z",
    "created_at": "2015-02-13T14:22:04Z",
    "labels": [
        "component: scripts"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "Make python scripts in src/bin python3 compatible",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17776",
    "user": "https://github.com/a-andre"
}
```


Keywords: python3

Reviewer: John Palmieri

Author: Andr√© Apitzsch

Branch: 8819306d06778a9ef3cce2d4947469c16aeb7100

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17776





---

archive/issue_comments_300230.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-02-13T14:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300230",
    "user": "https://github.com/a-andre"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_300231.json:
```json
{
    "body": "Changing branch from \"\" to \"u/aapitzsch/ticket/17776\"",
    "created_at": "2015-02-13T14:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300231",
    "user": "https://github.com/a-andre"
}
```

Changing branch from "" to "u/aapitzsch/ticket/17776"



---

archive/issue_comments_300232.json:
```json
{
    "body": "Changing commit from \"\" to \"ec5aa8a92c4bb96ca046f2737e11ed2ae84c036f\"",
    "created_at": "2015-02-13T14:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300232",
    "user": "https://github.com/a-andre"
}
```

Changing commit from "" to "ec5aa8a92c4bb96ca046f2737e11ed2ae84c036f"



---

archive/issue_comments_300233.json:
```json
{
    "body": "<a id='comment:2'></a>\nWhy is `from __future__ import print_function` in some files but not in others? The file `src/bin/sage-CSI-helper.py` also still includes some old-style % string formatting.",
    "created_at": "2015-02-13T16:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300233",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
Why is `from __future__ import print_function` in some files but not in others? The file `src/bin/sage-CSI-helper.py` also still includes some old-style % string formatting.



---

archive/issue_comments_300234.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [jhpalmieri](#comment%3A2):\n> Why is `from __future__ import print_function` in some files but not in others?\n\nIt's not needed everywhere. Here, it's needed for\n\n```\nprint() # to get a newline, otherwise we would see '()'\nsep=\nenv=\n```\n> The file `src/bin/sage-CSI-helper.py` also still includes some old-style % string formatting.\n\nThe old-style still works, but I can replace it if you want.",
    "created_at": "2015-02-13T17:53:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300234",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:3'></a>
Replying to [jhpalmieri](#comment%3A2):
> Why is `from __future__ import print_function` in some files but not in others?

It's not needed everywhere. Here, it's needed for

```
print() # to get a newline, otherwise we would see '()'
sep=
env=
```
> The file `src/bin/sage-CSI-helper.py` also still includes some old-style % string formatting.

The old-style still works, but I can replace it if you want.



---

archive/issue_comments_300235.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [aapitzsch](#comment%3A3):\n> > The file `src/bin/sage-CSI-helper.py` also still includes some old-style % string formatting.\n\n> The old-style still works, but I can replace it if you want.\n\nThere is [a comment in the Python documentation](https://docs.python.org/2/library/stdtypes.html#str.format) suggesting that the old style, while not officially deprecated, is discouraged.",
    "created_at": "2015-02-17T18:31:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300235",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'></a>
Replying to [aapitzsch](#comment%3A3):
> > The file `src/bin/sage-CSI-helper.py` also still includes some old-style % string formatting.

> The old-style still works, but I can replace it if you want.

There is [a comment in the Python documentation](https://docs.python.org/2/library/stdtypes.html#str.format) suggesting that the old style, while not officially deprecated, is discouraged.



---

archive/issue_comments_300236.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[e6b9e37](https://github.com/sagemath/sagetrac-mirror/commit/e6b9e378f3cddf12b16fa9c49e087df0151cd3bc)|`replace old-style % string formatting`|",
    "created_at": "2015-02-17T21:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300236",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[e6b9e37](https://github.com/sagemath/sagetrac-mirror/commit/e6b9e378f3cddf12b16fa9c49e087df0151cd3bc)|`replace old-style % string formatting`|



---

archive/issue_comments_300237.json:
```json
{
    "body": "Changing commit from \"ec5aa8a92c4bb96ca046f2737e11ed2ae84c036f\" to \"e6b9e378f3cddf12b16fa9c49e087df0151cd3bc\"",
    "created_at": "2015-02-17T21:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300237",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ec5aa8a92c4bb96ca046f2737e11ed2ae84c036f" to "e6b9e378f3cddf12b16fa9c49e087df0151cd3bc"



---

archive/issue_comments_300238.json:
```json
{
    "body": "<a id='comment:6'></a>\nThe change in `sage-num-threads.py` gives an error (when run from a Sage shell):\n\n```\n$ sage-num-threads.py \n  File \"/Users/jpalmier/Desktop/Sage_stuff/git/sage/src/bin/sage-num-threads.py\", line 180\n    print(*num_threads())\n          ^\nSyntaxError: invalid syntax\n```\nI guess you need `from __future__ import print_function` at the beginning of that file; at least, that fixes it for me.\n\nSimilarly, the change in `sage-coverageall` turns the output\n\n```\nTotal number of functions:  37429\n```\ninto\n\n```\n('Total number of functions: ', 37429)\n```\nEither adding a `from __future__ ...` statement or using `.format` appropriately would fix it.\n\nOtherwise, I think it looks okay.",
    "created_at": "2015-03-02T23:41:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300238",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>
The change in `sage-num-threads.py` gives an error (when run from a Sage shell):

```
$ sage-num-threads.py 
  File "/Users/jpalmier/Desktop/Sage_stuff/git/sage/src/bin/sage-num-threads.py", line 180
    print(*num_threads())
          ^
SyntaxError: invalid syntax
```
I guess you need `from __future__ import print_function` at the beginning of that file; at least, that fixes it for me.

Similarly, the change in `sage-coverageall` turns the output

```
Total number of functions:  37429
```
into

```
('Total number of functions: ', 37429)
```
Either adding a `from __future__ ...` statement or using `.format` appropriately would fix it.

Otherwise, I think it looks okay.



---

archive/issue_comments_300239.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[b6a6a32](https://github.com/sagemath/sagetrac-mirror/commit/b6a6a329c2f06f7c5de69397cccc7f08587e9a53)|`fix invalid syntax`|\n|[8819306](https://github.com/sagemath/sagetrac-mirror/commit/8819306d06778a9ef3cce2d4947469c16aeb7100)|`fix wrong output`|",
    "created_at": "2015-03-03T18:28:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300239",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[b6a6a32](https://github.com/sagemath/sagetrac-mirror/commit/b6a6a329c2f06f7c5de69397cccc7f08587e9a53)|`fix invalid syntax`|
|[8819306](https://github.com/sagemath/sagetrac-mirror/commit/8819306d06778a9ef3cce2d4947469c16aeb7100)|`fix wrong output`|



---

archive/issue_comments_300240.json:
```json
{
    "body": "Changing commit from \"e6b9e378f3cddf12b16fa9c49e087df0151cd3bc\" to \"8819306d06778a9ef3cce2d4947469c16aeb7100\"",
    "created_at": "2015-03-03T18:28:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300240",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e6b9e378f3cddf12b16fa9c49e087df0151cd3bc" to "8819306d06778a9ef3cce2d4947469c16aeb7100"



---

archive/issue_comments_300241.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri\"",
    "created_at": "2015-03-03T18:54:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300241",
    "user": "https://github.com/jhpalmieri"
}
```

Changing reviewer from "" to "John Palmieri"



---

archive/issue_comments_300242.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-03-03T18:54:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300242",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_065528.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-04T23:16:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17776#event-65528"
}
```



---

archive/issue_comments_300243.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-03-04T23:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300243",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_300244.json:
```json
{
    "body": "Changing branch from \"u/aapitzsch/ticket/17776\" to \"8819306d06778a9ef3cce2d4947469c16aeb7100\"",
    "created_at": "2015-03-04T23:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300244",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/aapitzsch/ticket/17776" to "8819306d06778a9ef3cce2d4947469c16aeb7100"



---

archive/issue_comments_300245.json:
```json
{
    "body": "Changing commit from \"8819306d06778a9ef3cce2d4947469c16aeb7100\" to \"\"",
    "created_at": "2015-03-14T10:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300245",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "8819306d06778a9ef3cce2d4947469c16aeb7100" to ""



---

archive/issue_comments_300246.json:
```json
{
    "body": "<a id='comment:10'></a>\nBreakage: #17954",
    "created_at": "2015-03-14T10:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300246",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
Breakage: #17954



---

archive/issue_comments_300247.json:
```json
{
    "body": "<a id='comment:11'></a>\nBreakage: #18287",
    "created_at": "2015-04-23T12:18:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300247",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Breakage: #18287



---

archive/issue_comments_300248.json:
```json
{
    "body": "<a id='comment:12'></a>\nBreakage: #18288",
    "created_at": "2015-04-23T12:25:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17776",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17776#issuecomment-300248",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
Breakage: #18288
