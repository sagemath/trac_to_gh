# Issue 17511: Get integral of abs(sin(x)) and abs(cos(x)) right

archive/issues_017274.json:
```json
{
    "body": "See [comment:12:ticket:11483 this comment], discussion in #13364, the supposed fix at https://sourceforge.net/p/maxima/bugs/2520/, [this ask.sagemath question](http://ask.sagemath.org/question/25269/i-dont-know-why-sage-return-0-for-integratesin2xabsx0pi-when-its-value-is-2/), and so forth.\n\nE.g. this is annoying (but apparently right)\n\n```\n(%i1) load(abs_integrate);\n(%i3) display2d:false;\n\n(%o3) false\n(%i4) integrate(abs(sin(x)),x);\n\n(%o4) 4*(abs(sin(x))*(atan(sin(x)/(cos(x)+1))/2\n                     +sin(x)/((cos(x)+1)*(2*sin(x)^2/(cos(x)+1)^2+2)))\n        /abs(cos(x)+1)\n        -(signum(1/(cos(x)+1))*signum(sin(x))*log(2*sin(x)^2/(cos(x)+1)^2+2)\n         -signum(1/(cos(x)+1))*signum(sin(x))*log(sin(x)^2/(cos(x)+1)^2+1)\n         +signum(1/(cos(x)+1))*signum(sin(x))\n                              *(2*sin(x)*atan(sin(x)/(cos(x)+1))/(cos(x)+1)\n                               -log(2)))\n         /4)\n```\nbut it doesn't do the definite integral at all, even the easy ones where abs does nothing on the interval!\n\nCC:  @slel\n\nKeywords: abs_integrate\n\nUpstream: Reported upstream. Developers acknowledge bug.\n\nStopgaps: #12731\n\nReviewer: Vincent Delecroix\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nStatus: needs_info\n\nIssue created by migration from https://trac.sagemath.org/ticket/17511\n\n",
    "created_at": "2014-12-15T16:09:47Z",
    "labels": [
        "component: calculus",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Get integral of abs(sin(x)) and abs(cos(x)) right",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17511",
    "user": "https://github.com/kcrisman"
}
```
See [comment:12:ticket:11483 this comment], discussion in #13364, the supposed fix at https://sourceforge.net/p/maxima/bugs/2520/, [this ask.sagemath question](http://ask.sagemath.org/question/25269/i-dont-know-why-sage-return-0-for-integratesin2xabsx0pi-when-its-value-is-2/), and so forth.

E.g. this is annoying (but apparently right)

```
(%i1) load(abs_integrate);
(%i3) display2d:false;

(%o3) false
(%i4) integrate(abs(sin(x)),x);

(%o4) 4*(abs(sin(x))*(atan(sin(x)/(cos(x)+1))/2
                     +sin(x)/((cos(x)+1)*(2*sin(x)^2/(cos(x)+1)^2+2)))
        /abs(cos(x)+1)
        -(signum(1/(cos(x)+1))*signum(sin(x))*log(2*sin(x)^2/(cos(x)+1)^2+2)
         -signum(1/(cos(x)+1))*signum(sin(x))*log(sin(x)^2/(cos(x)+1)^2+1)
         +signum(1/(cos(x)+1))*signum(sin(x))
                              *(2*sin(x)*atan(sin(x)/(cos(x)+1))/(cos(x)+1)
                               -log(2)))
         /4)
```
but it doesn't do the definite integral at all, even the easy ones where abs does nothing on the interval!

CC:  @slel

Keywords: abs_integrate

Upstream: Reported upstream. Developers acknowledge bug.

Stopgaps: #12731

Reviewer: Vincent Delecroix

Author: Frédéric Chapoton

Status: needs_info

Issue created by migration from https://trac.sagemath.org/ticket/17511





---

archive/issue_comments_302054.json:
```json
{
    "body": "<a id='comment:1'></a>\nWorse,\n\n```\nsage: integrate(abs(cos(x)),x,0,pi)\n-1\n```",
    "created_at": "2014-12-15T16:16:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302054",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'></a>
Worse,

```
sage: integrate(abs(cos(x)),x,0,pi)
-1
```



---

archive/issue_comments_302055.json:
```json
{
    "body": "<a id='comment:2'></a>\nhttps://sourceforge.net/p/maxima/bugs/2859/",
    "created_at": "2014-12-15T16:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302055",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'></a>
https://sourceforge.net/p/maxima/bugs/2859/



---

archive/issue_comments_302056.json:
```json
{
    "body": "Changing upstream from \"Not yet reported upstream; Will do shortly.\" to \"Reported upstream. Developers acknowledge bug.\"",
    "created_at": "2014-12-15T16:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302056",
    "user": "https://github.com/kcrisman"
}
```

Changing upstream from "Not yet reported upstream; Will do shortly." to "Reported upstream. Developers acknowledge bug."



---

archive/issue_comments_302057.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n See [comment:12:ticket:11483 this comment], discussion in #13364, the supposed fix at https://sourceforge.net/p/maxima/bugs/2520/, [this ask.sagemath question](http://ask.sagemath.org/question/25269/i-dont-know-why-sage-return-0-for-integratesin2xabsx0pi-when-its-value-is-2/), and so forth.\n \n-E.g. apparently this is quite wrong\n+E.g. this is annoying (but apparently right)\n \n ```\n (%i1) load(abs_integrate);\n@@ -19,4 +19,4 @@\n                                -log(2)))\n          /4)\n ```\n-and it doesn't do the definite integral at all, even the easy ones where abs does nothing on the interval!\n+but it doesn't do the definite integral at all, even the easy ones where abs does nothing on the interval!\n``````\n",
    "created_at": "2014-12-15T17:12:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302057",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 See [comment:12:ticket:11483 this comment], discussion in #13364, the supposed fix at https://sourceforge.net/p/maxima/bugs/2520/, [this ask.sagemath question](http://ask.sagemath.org/question/25269/i-dont-know-why-sage-return-0-for-integratesin2xabsx0pi-when-its-value-is-2/), and so forth.
 
-E.g. apparently this is quite wrong
+E.g. this is annoying (but apparently right)
 
 ```
 (%i1) load(abs_integrate);
@@ -19,4 +19,4 @@
                                -log(2)))
          /4)
 ```
-and it doesn't do the definite integral at all, even the easy ones where abs does nothing on the interval!
+but it doesn't do the definite integral at all, even the easy ones where abs does nothing on the interval!
``````




---

archive/issue_comments_302058.json:
```json
{
    "body": "Stopgaps: #12731",
    "created_at": "2015-02-10T00:23:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302058",
    "user": "https://trac.sagemath.org/admin/accounts/users/jakobkroeker"
}
```

Stopgaps: #12731



---

archive/issue_comments_302059.json:
```json
{
    "body": "<a id='comment:5'></a>\nReported again at https://groups.google.com/forum/#!topic/sage-support/1Hcv29UyqVo",
    "created_at": "2015-10-27T16:56:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302059",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>
Reported again at https://groups.google.com/forum/#!topic/sage-support/1Hcv29UyqVo



---

archive/issue_comments_302060.json:
```json
{
    "body": "Changing keywords from \"\" to \"abs_integrate\".",
    "created_at": "2019-05-17T17:52:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302060",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "abs_integrate".



---

archive/issue_comments_302061.json:
```json
{
    "body": "<a id='comment:7'></a>\nEverything works in 8.9.b7 after #27958. Some doctests were added there.\n\nMaybe one could add one doctest for\n\n```\nsage: integrate(abs(sin(x)),x)\n-cos(x)*sgn(sin(x)) + sgn(sin(x))\n```",
    "created_at": "2019-08-26T18:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302061",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
Everything works in 8.9.b7 after #27958. Some doctests were added there.

Maybe one could add one doctest for

```
sage: integrate(abs(sin(x)),x)
-cos(x)*sgn(sin(x)) + sgn(sin(x))
```



---

archive/issue_comments_302062.json:
```json
{
    "body": "Branch: [u/chapoton/17511](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/17511)",
    "created_at": "2019-09-14T07:20:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302062",
    "user": "https://github.com/fchapoton"
}
```

Branch: [u/chapoton/17511](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/17511)



---

archive/issue_events_057227.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-14T07:20:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57227"
}
```



---

archive/issue_comments_302063.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-09-14T07:20:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302063",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_302064.json:
```json
{
    "body": "<a id='comment:8'></a>\nI have added a doctest.\n\n---\nNew commits:\n|                                                                                                                                          |                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[4a8dff9](https://github.com/sagemath/sagetrac-mirror/commit/4a8dff966bffe1f792c9d2acbfa9d9c03b15a5e4)|`trac 17511 adding a doctest`|",
    "created_at": "2019-09-14T07:20:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302064",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
I have added a doctest.

---
New commits:
|                                                                                                                                          |                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[4a8dff9](https://github.com/sagemath/sagetrac-mirror/commit/4a8dff966bffe1f792c9d2acbfa9d9c03b15a5e4)|`trac 17511 adding a doctest`|



---

archive/issue_comments_302065.json:
```json
{
    "body": "Author: Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2019-09-14T07:20:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302065",
    "user": "https://github.com/fchapoton"
}
```

Author: Frédéric Chapoton



---

archive/issue_comments_302066.json:
```json
{
    "body": "Commit: [4a8dff966bffe1f792c9d2acbfa9d9c03b15a5e4](https://github.com/sagemath/sagetrac-mirror/commit/4a8dff966bffe1f792c9d2acbfa9d9c03b15a5e4)",
    "created_at": "2019-09-14T07:20:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302066",
    "user": "https://github.com/fchapoton"
}
```

Commit: [4a8dff966bffe1f792c9d2acbfa9d9c03b15a5e4](https://github.com/sagemath/sagetrac-mirror/commit/4a8dff966bffe1f792c9d2acbfa9d9c03b15a5e4)



---

archive/issue_comments_302067.json:
```json
{
    "body": "Reviewer: Vincent Delecroix",
    "created_at": "2019-09-15T14:28:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302067",
    "user": "https://github.com/videlec"
}
```

Reviewer: Vincent Delecroix



---

archive/issue_comments_302068.json:
```json
{
    "body": "<a id='comment:9'></a>\nThis answer\n\n```\nsage: integrate(abs(sin(x)),x)\n-cos(x)*sgn(sin(x)) + sgn(sin(x))\n```\nis *very* wrong (outside of [-pi, pi])! It takes negative values\n\n```\nsage: f = integrate(abs(sin(x)), x)\nsage: (f(5) - f(0)).n()\n-0.716337814536774\n```\nand the integral is supposed to go to `+oo` as `x -> +oo/-oo`...",
    "created_at": "2019-09-15T14:28:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302068",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>
This answer

```
sage: integrate(abs(sin(x)),x)
-cos(x)*sgn(sin(x)) + sgn(sin(x))
```
is *very* wrong (outside of [-pi, pi])! It takes negative values

```
sage: f = integrate(abs(sin(x)), x)
sage: (f(5) - f(0)).n()
-0.716337814536774
```
and the integral is supposed to go to `+oo` as `x -> +oo/-oo`...



---

archive/issue_comments_302069.json:
```json
{
    "body": "<a id='comment:10'></a>\nBut this is correct\n\n```\nsage: integrate(abs(sin(x)), x, 0, 10)\ncos(10) + 7\n```",
    "created_at": "2019-09-15T14:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302069",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>
But this is correct

```
sage: integrate(abs(sin(x)), x, 0, 10)
cos(10) + 7
```



---

archive/issue_comments_302070.json:
```json
{
    "body": "<a id='comment:11'></a>\nAnd I like very much\n\n```\nsage: %time integrate(abs(sin(x)), x, algorithm='sympy')\nCPU times: user 8.09 s, sys: 99 \u00b5s, total: 8.09 s\nWall time: 8.1 s\nintegrate(abs(sin(x)), x)\n```",
    "created_at": "2019-09-15T14:32:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302070",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
And I like very much

```
sage: %time integrate(abs(sin(x)), x, algorithm='sympy')
CPU times: user 8.09 s, sys: 99 µs, total: 8.09 s
Wall time: 8.1 s
integrate(abs(sin(x)), x)
```



---

archive/issue_comments_302071.json:
```json
{
    "body": "<a id='comment:12'></a>\nIndeed. Giac is responsible for the wrong answer. This should be reported upstream.\n\n```\nsage: integrate(abs(sin(x)),x,algorithm='maxima')\nintegrate(abs(sin(x)), x)\nsage: integrate(abs(sin(x)),x,algorithm='sympy')\nintegrate(abs(sin(x)), x)\nsage: integrate(abs(sin(x)),x,algorithm='giac')\n-cos(x)*sgn(sin(x)) + sgn(sin(x))\nsage: integrate(abs(sin(x)),x,algorithm='fricas')\nintegral(abs(sin(x)), x)\nsage: integrate(abs(sin(x)),x,algorithm='mathematica_free')\n-cos(x)*sgn(sin(x))\n```",
    "created_at": "2019-09-15T16:29:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302071",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
Indeed. Giac is responsible for the wrong answer. This should be reported upstream.

```
sage: integrate(abs(sin(x)),x,algorithm='maxima')
integrate(abs(sin(x)), x)
sage: integrate(abs(sin(x)),x,algorithm='sympy')
integrate(abs(sin(x)), x)
sage: integrate(abs(sin(x)),x,algorithm='giac')
-cos(x)*sgn(sin(x)) + sgn(sin(x))
sage: integrate(abs(sin(x)),x,algorithm='fricas')
integral(abs(sin(x)), x)
sage: integrate(abs(sin(x)),x,algorithm='mathematica_free')
-cos(x)*sgn(sin(x))
```



---

archive/issue_comments_302072.json:
```json
{
    "body": "<a id='comment:13'></a>\nBut giac is also providing the correct answer for the definite integral, where sympy fails to deliver:\n\n```\nsage: integrate(abs(cos(x)),x,0,44,algorithm='maxima')\nintegrate(abs(cos(x)), x, 0, 44)\nsage: integrate(abs(cos(x)),x,0,44,algorithm='sympy')\n-sin(44) + 4\nsage: integrate(abs(cos(x)),x,0,44,algorithm='giac')\nsin(44) + 28\nsage: integrate(abs(cos(x)),x,0,44,algorithm='fricas')\nintegrate(abs(cos(x)), x, 0, 44)\nsage: integrate(abs(cos(x)),x,0,44,algorithm='mathematica_free')\nsin(44) + 28\n```",
    "created_at": "2019-09-15T16:39:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302072",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
But giac is also providing the correct answer for the definite integral, where sympy fails to deliver:

```
sage: integrate(abs(cos(x)),x,0,44,algorithm='maxima')
integrate(abs(cos(x)), x, 0, 44)
sage: integrate(abs(cos(x)),x,0,44,algorithm='sympy')
-sin(44) + 4
sage: integrate(abs(cos(x)),x,0,44,algorithm='giac')
sin(44) + 28
sage: integrate(abs(cos(x)),x,0,44,algorithm='fricas')
integrate(abs(cos(x)), x, 0, 44)
sage: integrate(abs(cos(x)),x,0,44,algorithm='mathematica_free')
sin(44) + 28
```



---

archive/issue_comments_302073.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [chapoton](#comment%3A13):\n> But giac is also providing the correct answer for the definite integral, where sympy fails to deliver:\n\n>\n> [...]\n\n>\n\nwhich should also be reported upstream I guess...",
    "created_at": "2019-09-15T17:36:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302073",
    "user": "https://github.com/videlec"
}
```

<a id='comment:14'></a>
Replying to [chapoton](#comment%3A13):
> But giac is also providing the correct answer for the definite integral, where sympy fails to deliver:

>
> [...]

>

which should also be reported upstream I guess...



---

archive/issue_comments_302074.json:
```json
{
    "body": "Changing branch from \"[u/chapoton/17511](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/17511)\" to \"\"",
    "created_at": "2019-09-15T19:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302074",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "[u/chapoton/17511](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/17511)" to ""



---

archive/issue_comments_302075.json:
```json
{
    "body": "Changing commit from \"[4a8dff966bffe1f792c9d2acbfa9d9c03b15a5e4](https://github.com/sagemath/sagetrac-mirror/commit/4a8dff966bffe1f792c9d2acbfa9d9c03b15a5e4)\" to \"\"",
    "created_at": "2019-09-15T19:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302075",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "[4a8dff966bffe1f792c9d2acbfa9d9c03b15a5e4](https://github.com/sagemath/sagetrac-mirror/commit/4a8dff966bffe1f792c9d2acbfa9d9c03b15a5e4)" to ""



---

archive/issue_comments_302076.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2019-09-15T19:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302076",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_302077.json:
```json
{
    "body": "<a id='comment:16'></a>\nSamuel, would you please report to giac the failure of[comment:12](#comment%3A12) ?",
    "created_at": "2019-10-06T19:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302077",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
Samuel, would you please report to giac the failure of[comment:12](#comment%3A12) ?



---

archive/issue_comments_302078.json:
```json
{
    "body": "<a id='comment:17'></a>\nI emailed Bernard Parisse, here is his reply:\n\n```\nCe n'est pas une erreur, au sens ou un avertissement est renvoy\u00e9\n0>> integrate(abs(sin(x))\nWarning adding 1 ) at end of input\nAttention, l'int\u00e9gration de abs() ou sign() suppose un signe constant\npar intervalles (v\u00e9rifi\u00e9 si l'argument est r\u00e9el):\n  Verifiez [abs(sin(x))]\nDiscontinuit\u00e9s aux zeros de sin(x) were not checked\nsign(sin(x))-cos(x)*sign(sin(x))\n// Time 0.04\n\nC'est \u00e0 l'utilisateur de prendre garde aux discontinuites de la\nprimitive pour calculer une int\u00e9grale d\u00e9finie s'il utilise la primitive\nrenvoy\u00e9e. Lorsqu'on demande \u00e0 giac une int\u00e9grale d\u00e9finie, il essaie de\ntenir compte des discontinuit\u00e9s, et il fait le calcul num\u00e9rique en\nparall\u00e8le pour verifier. En cas de non concordance, les 2 valeurs sont\nrenvoy\u00e9es (la plupart du temps c'est la valeur num\u00e9rique qui est la bonne).\n```\nwhich roughly translates as\n\n```\nThis is not an error, in the sense that a warning is issued:\n0>> integrate(abs(sin(x))\nWarning adding 1 ) at end of input\nCaution, integrating abs() or sign() assumes piecewise constant sign\n(check if the argument is real):\nCheck [abs(sin(x))]\nDiscontinuities at zeros of sin(x) were not checked\nsign(sin(x))-cos(x)*sign(sin(x))\n// Time 0.04\n\nIt is up to the user to check for discontinuities of the antiderivative\nto compute an integral using the antiderivative returned by giac.\nWhen asking giac for an integral on an interval, it tries to take\ndiscontinuities into account, and does the numerical integration in parallel\nto check. In case of mismatch, both values are returned (most of the time\nthe numerical value is the one that is correct).\n```",
    "created_at": "2019-10-07T11:42:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302078",
    "user": "https://github.com/slel"
}
```

<a id='comment:17'></a>
I emailed Bernard Parisse, here is his reply:

```
Ce n'est pas une erreur, au sens ou un avertissement est renvoyé
0>> integrate(abs(sin(x))
Warning adding 1 ) at end of input
Attention, l'intégration de abs() ou sign() suppose un signe constant
par intervalles (vérifié si l'argument est réel):
  Verifiez [abs(sin(x))]
Discontinuités aux zeros de sin(x) were not checked
sign(sin(x))-cos(x)*sign(sin(x))
// Time 0.04

C'est à l'utilisateur de prendre garde aux discontinuites de la
primitive pour calculer une intégrale définie s'il utilise la primitive
renvoyée. Lorsqu'on demande à giac une intégrale définie, il essaie de
tenir compte des discontinuités, et il fait le calcul numérique en
parallèle pour verifier. En cas de non concordance, les 2 valeurs sont
renvoyées (la plupart du temps c'est la valeur numérique qui est la bonne).
```
which roughly translates as

```
This is not an error, in the sense that a warning is issued:
0>> integrate(abs(sin(x))
Warning adding 1 ) at end of input
Caution, integrating abs() or sign() assumes piecewise constant sign
(check if the argument is real):
Check [abs(sin(x))]
Discontinuities at zeros of sin(x) were not checked
sign(sin(x))-cos(x)*sign(sin(x))
// Time 0.04

It is up to the user to check for discontinuities of the antiderivative
to compute an integral using the antiderivative returned by giac.
When asking giac for an integral on an interval, it tries to take
discontinuities into account, and does the numerical integration in parallel
to check. In case of mismatch, both values are returned (most of the time
the numerical value is the one that is correct).
```



---

archive/issue_events_057228.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57228"
}
```



---

archive/issue_events_057229.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57229"
}
```



---

archive/issue_comments_302079.json:
```json
{
    "body": "<a id='comment:18'></a>\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302079",
    "user": "https://github.com/embray"
}
```

<a id='comment:18'></a>
Ticket retargeted after milestone closed



---

archive/issue_events_057230.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57230"
}
```



---

archive/issue_events_057231.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57231"
}
```



---

archive/issue_comments_302080.json:
```json
{
    "body": "<a id='comment:19'></a>\nMoving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302080",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_events_057232.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57232"
}
```



---

archive/issue_events_057233.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57233"
}
```



---

archive/issue_comments_302081.json:
```json
{
    "body": "<a id='comment:21'></a>\nMoving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage",
    "created_at": "2021-04-02T20:21:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302081",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage



---

archive/issue_events_057234.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57234"
}
```



---

archive/issue_events_057235.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57235"
}
```



---

archive/issue_events_057236.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57236"
}
```



---

archive/issue_events_057237.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57237"
}
```



---

archive/issue_comments_302082.json:
```json
{
    "body": "<a id='comment:22'></a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302082",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_057238.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57238"
}
```



---

archive/issue_events_057239.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57239"
}
```



---

archive/issue_comments_302083.json:
```json
{
    "body": "<a id='comment:23'></a>\nStalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17511#issuecomment-302083",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_events_057240.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57240"
}
```



---

archive/issue_events_057241.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57241"
}
```



---

archive/issue_events_057242.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57242"
}
```



---

archive/issue_events_057243.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17511",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17511#event-57243"
}
```
