# Issue 17474: directed graph from polyhedron

archive/issues_017237.json:
```json
{
    "assignees": [],
    "body": "This ticket proposes to implement a method taking a polyhedron and a linear form \nand returning the directed graph made of vertices and edges of the polyhedron, oriented using the linear form.\n\nKeywords: **polyhedron, digraph**\n\nBranch/Commit: **[6c9f537](https://github.com/sagemath/sagetrac-mirror/commit/6c9f537714dbc8dfc0a727836dedd9876d721538)**\n\nReviewer: **Thierry Monteil**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17474_\n\n",
    "closed_at": "2015-01-02T22:12:16Z",
    "created_at": "2014-12-09T08:40:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "directed graph from polyhedron",
    "type": "issue",
    "updated_at": "2015-01-02T22:12:16Z",
    "url": "https://github.com/sagemath/sage/issues/17474",
    "user": "https://github.com/fchapoton"
}
```
This ticket proposes to implement a method taking a polyhedron and a linear form 
and returning the directed graph made of vertices and edges of the polyhedron, oriented using the linear form.

Keywords: **polyhedron, digraph**

Branch/Commit: **[6c9f537](https://github.com/sagemath/sagetrac-mirror/commit/6c9f537714dbc8dfc0a727836dedd9876d721538)**

Reviewer: **Thierry Monteil**

Author: **Frédéric Chapoton**

Component: **geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/17474_





---

archive/issue_events_249077.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-12-09T08:40:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17474#event-249077"
}
```



---

archive/issue_events_249078.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-12-09T08:40:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17474#event-249078"
}
```



---

archive/issue_events_249079.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-12-09T08:40:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17474#event-249079"
}
```



---

archive/issue_events_249080.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-12-09T08:40:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17474#event-249080"
}
```



---

archive/issue_events_249081.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-12-09T08:41:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17474#event-249081"
}
```



---

archive/issue_comments_234123.json:
```json
{
    "body": "Branch: **[u/chapoton/17474](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/17474)**",
    "created_at": "2014-12-09T08:41:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234123",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/17474](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/17474)**



---

archive/issue_comments_234124.json:
```json
{
    "body": "Commit: **[fa984b9](https://github.com/sagemath/sagetrac-mirror/commit/fa984b9e53f8ed73330a173e27a2c0bf1fdba7d5)**",
    "created_at": "2014-12-09T08:41:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234124",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[fa984b9](https://github.com/sagemath/sagetrac-mirror/commit/fa984b9e53f8ed73330a173e27a2c0bf1fdba7d5)**



---

archive/issue_comments_234125.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa984b9e53f8ed73330a173e27a2c0bf1fdba7d5\">fa984b9</a></td><td><code>trac #17xxx adding a method vertex_digraph to polyhedra</code></td></tr></table>\n",
    "created_at": "2014-12-09T08:41:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234125",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa984b9e53f8ed73330a173e27a2c0bf1fdba7d5">fa984b9</a></td><td><code>trac #17xxx adding a method vertex_digraph to polyhedra</code></td></tr></table>




---

archive/issue_comments_234126.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nHello,\n\nWhy is it a cached method?\n\nVincent",
    "created_at": "2014-12-10T19:17:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234126",
    "user": "https://github.com/videlec"
}
```

<div id="comment:2" align="right">comment:2</div>

Hello,

Why is it a cached method?

Vincent



---

archive/issue_comments_234127.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nWell, vertex_graph is cached, so I just did the same. But if you prefer not, no problem.",
    "created_at": "2014-12-10T19:21:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234127",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

Well, vertex_graph is cached, so I just did the same. But if you prefer not, no problem.



---

archive/issue_comments_234128.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe thing is that caching costs (in memory) and these methods do not (in time). So I really do not see the point. Do you agree to also \"uncache\" the `vertex_graph` method?\n\nI think that in most cases, the use of cached method is dirty programming (though it is very cool in development phase).\n\nVincent",
    "created_at": "2014-12-10T20:33:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234128",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">comment:4</div>

The thing is that caching costs (in memory) and these methods do not (in time). So I really do not see the point. Do you agree to also "uncache" the `vertex_graph` method?

I think that in most cases, the use of cached method is dirty programming (though it is very cool in development phase).

Vincent



---

archive/issue_comments_234129.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcf52646553cf73a3f1dff85b731a22bcc8b7ddd\">dcf5264</a></td><td><code>trac #17474 removed 2 cached_method and two unused imports</code></td></tr></table>\n",
    "created_at": "2014-12-10T20:45:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234129",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcf52646553cf73a3f1dff85b731a22bcc8b7ddd">dcf5264</a></td><td><code>trac #17474 removed 2 cached_method and two unused imports</code></td></tr></table>




---

archive/issue_comments_234130.json:
```json
{
    "body": "Changed commit from **[fa984b9](https://github.com/sagemath/sagetrac-mirror/commit/fa984b9e53f8ed73330a173e27a2c0bf1fdba7d5)** to **[dcf5264](https://github.com/sagemath/sagetrac-mirror/commit/dcf52646553cf73a3f1dff85b731a22bcc8b7ddd)**",
    "created_at": "2014-12-10T20:45:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234130",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fa984b9](https://github.com/sagemath/sagetrac-mirror/commit/fa984b9e53f8ed73330a173e27a2c0bf1fdba7d5)** to **[dcf5264](https://github.com/sagemath/sagetrac-mirror/commit/dcf52646553cf73a3f1dff85b731a22bcc8b7ddd)**



---

archive/issue_events_249082.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2014-12-13T17:28:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17474#event-249082"
}
```



---

archive/issue_events_249083.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2014-12-13T17:28:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17474#event-249083"
}
```



---

archive/issue_comments_234131.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nIn your implementation, there is no oriented edge associated to an edge of the polyhedron that belongs to the kernel of the linear form, hence the underlying undirected graph of your graph is only a subgraph of vertices and edges of the polyhedron, see for example:\n\n```\nsage: penta = Polyhedron([[0,0],[1,0],[0,1],[1,2],[3,2]])\nsage: penta.vertex_digraph(vector([1,0]))\n```\n\nWhat is the purpose of this method ? Depending on this, the described behaviour may cause troubles. Other possibilities is to have two oriented edges facing eachother (just replace `> 0` by `>= 0`), or choosing one (but you lose some symmetry).",
    "created_at": "2014-12-13T17:28:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234131",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:6" align="right">comment:6</div>

In your implementation, there is no oriented edge associated to an edge of the polyhedron that belongs to the kernel of the linear form, hence the underlying undirected graph of your graph is only a subgraph of vertices and edges of the polyhedron, see for example:

```
sage: penta = Polyhedron([[0,0],[1,0],[0,1],[1,2],[3,2]])
sage: penta.vertex_digraph(vector([1,0]))
```

What is the purpose of this method ? Depending on this, the described behaviour may cause troubles. Other possibilities is to have two oriented edges facing eachother (just replace `> 0` by `>= 0`), or choosing one (but you lose some symmetry).



---

archive/issue_comments_234132.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nOne could also want to provide a genuine linear form (see `linear_transformation()` function) as an input, instead of a vector (this could be useful in (possible future) case the underlying vector space is not euclidean).\n\nAlso, it seems not very natural that the edges of the graph go in the decreasing direction of the linear form (note that `v-w` is the vector that goes from `w` to `v`, hence if an oriented edge `e` of the polyhedron is viewed as a vector, it is selected if `f(e)<0`), but perhaps it makes sense in the use case (it looks weird from an optimization perspective such as simplex method (note that Sage's MILP maximizes by default)).",
    "created_at": "2014-12-13T18:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234132",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:7" align="right">comment:7</div>

One could also want to provide a genuine linear form (see `linear_transformation()` function) as an input, instead of a vector (this could be useful in (possible future) case the underlying vector space is not euclidean).

Also, it seems not very natural that the edges of the graph go in the decreasing direction of the linear form (note that `v-w` is the vector that goes from `w` to `v`, hence if an oriented edge `e` of the polyhedron is viewed as a vector, it is selected if `f(e)<0`), but perhaps it makes sense in the use case (it looks weird from an optimization perspective such as simplex method (note that Sage's MILP maximizes by default)).



---

archive/issue_comments_234133.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0e479b109ec3bcac926f3a3dedb9258bc0d11c2\">f0e479b</a></td><td><code>trac #17474 adding an increasing option to digraph of polytope</code></td></tr></table>\n",
    "created_at": "2014-12-16T01:17:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234133",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0e479b109ec3bcac926f3a3dedb9258bc0d11c2">f0e479b</a></td><td><code>trac #17474 adding an increasing option to digraph of polytope</code></td></tr></table>




---

archive/issue_comments_234134.json:
```json
{
    "body": "Changed commit from **[dcf5264](https://github.com/sagemath/sagetrac-mirror/commit/dcf52646553cf73a3f1dff85b731a22bcc8b7ddd)** to **[f0e479b](https://github.com/sagemath/sagetrac-mirror/commit/f0e479b109ec3bcac926f3a3dedb9258bc0d11c2)**",
    "created_at": "2014-12-16T01:17:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234134",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dcf5264](https://github.com/sagemath/sagetrac-mirror/commit/dcf52646553cf73a3f1dff85b731a22bcc8b7ddd)** to **[f0e479b](https://github.com/sagemath/sagetrac-mirror/commit/f0e479b109ec3bcac926f3a3dedb9258bc0d11c2)**



---

archive/issue_comments_234135.json:
```json
{
    "body": "Changed commit from **[f0e479b](https://github.com/sagemath/sagetrac-mirror/commit/f0e479b109ec3bcac926f3a3dedb9258bc0d11c2)** to **[97083e9](https://github.com/sagemath/sagetrac-mirror/commit/97083e98d462368e4999189a7b2c94535eeb1f2e)**",
    "created_at": "2014-12-16T01:24:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234135",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f0e479b](https://github.com/sagemath/sagetrac-mirror/commit/f0e479b109ec3bcac926f3a3dedb9258bc0d11c2)** to **[97083e9](https://github.com/sagemath/sagetrac-mirror/commit/97083e98d462368e4999189a7b2c94535eeb1f2e)**



---

archive/issue_comments_234136.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97083e98d462368e4999189a7b2c94535eeb1f2e\">97083e9</a></td><td><code>trac #17474 typos</code></td></tr></table>\n",
    "created_at": "2014-12-16T01:24:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234136",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97083e98d462368e4999189a7b2c94535eeb1f2e">97083e9</a></td><td><code>trac #17474 typos</code></td></tr></table>




---

archive/issue_comments_234137.json:
```json
{
    "body": "Changed commit from **[97083e9](https://github.com/sagemath/sagetrac-mirror/commit/97083e98d462368e4999189a7b2c94535eeb1f2e)** to **[887a2d1](https://github.com/sagemath/sagetrac-mirror/commit/887a2d1f11e43fa51de8f189bda426714e07bc56)**",
    "created_at": "2014-12-16T01:30:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234137",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[97083e9](https://github.com/sagemath/sagetrac-mirror/commit/97083e98d462368e4999189a7b2c94535eeb1f2e)** to **[887a2d1](https://github.com/sagemath/sagetrac-mirror/commit/887a2d1f11e43fa51de8f189bda426714e07bc56)**



---

archive/issue_comments_234138.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/887a2d1f11e43fa51de8f189bda426714e07bc56\">887a2d1</a></td><td><code>trac #17474 another TAB removal</code></td></tr></table>\n",
    "created_at": "2014-12-16T01:30:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234138",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/887a2d1f11e43fa51de8f189bda426714e07bc56">887a2d1</a></td><td><code>trac #17474 another TAB removal</code></td></tr></table>




---

archive/issue_comments_234139.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37a6f281cfd5700ceb23e078f7beeddde5b1d862\">37a6f28</a></td><td><code>trac #17474 adding double edges when non-generic form</code></td></tr></table>\n",
    "created_at": "2014-12-16T01:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234139",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37a6f281cfd5700ceb23e078f7beeddde5b1d862">37a6f28</a></td><td><code>trac #17474 adding double edges when non-generic form</code></td></tr></table>




---

archive/issue_comments_234140.json:
```json
{
    "body": "Changed commit from **[887a2d1](https://github.com/sagemath/sagetrac-mirror/commit/887a2d1f11e43fa51de8f189bda426714e07bc56)** to **[37a6f28](https://github.com/sagemath/sagetrac-mirror/commit/37a6f281cfd5700ceb23e078f7beeddde5b1d862)**",
    "created_at": "2014-12-16T01:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234140",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[887a2d1](https://github.com/sagemath/sagetrac-mirror/commit/887a2d1f11e43fa51de8f189bda426714e07bc56)** to **[37a6f28](https://github.com/sagemath/sagetrac-mirror/commit/37a6f281cfd5700ceb23e078f7beeddde5b1d862)**



---

archive/issue_comments_234141.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI am always using this with generic linear forms where every edge is not parallel to the kernel of the form. I then turn the digraphs into posets. Anyway, I have replaced `>` by `>=` so that doubled edges are added when this happen. This will raise an error when I use the Poset constructor, so I am happy with that.\n\nI have also added a keyword to ask for the reverse orientation.\n\nHow can I check if the input is a linear form ?",
    "created_at": "2014-12-20T01:28:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234141",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:12" align="right">comment:12</div>

I am always using this with generic linear forms where every edge is not parallel to the kernel of the form. I then turn the digraphs into posets. Anyway, I have replaced `>` by `>=` so that doubled edges are added when this happen. This will raise an error when I use the Poset constructor, so I am happy with that.

I have also added a keyword to ask for the reverse orientation.

How can I check if the input is a linear form ?



---

archive/issue_comments_234142.json:
```json
{
    "body": "Changed branch from **[u/chapoton/17474](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/17474)** to **[u/tmonteil/17474](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/17474)**",
    "created_at": "2014-12-22T16:33:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234142",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed branch from **[u/chapoton/17474](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/17474)** to **[u/tmonteil/17474](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/17474)**



---

archive/issue_comments_234143.json:
```json
{
    "body": "Changed commit from **[37a6f28](https://github.com/sagemath/sagetrac-mirror/commit/37a6f281cfd5700ceb23e078f7beeddde5b1d862)** to **[5878286](https://github.com/sagemath/sagetrac-mirror/commit/5878286fec9dba9d2069ae8a81d76cc0f134f518)**",
    "created_at": "2014-12-22T16:45:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234143",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed commit from **[37a6f28](https://github.com/sagemath/sagetrac-mirror/commit/37a6f281cfd5700ceb23e078f7beeddde5b1d862)** to **[5878286](https://github.com/sagemath/sagetrac-mirror/commit/5878286fec9dba9d2069ae8a81d76cc0f134f518)**



---

archive/issue_comments_234144.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@fchapoton](#comment:12):\n> How can I check if the input is a linear form ?\n\nI uploaded a patch that checks if the input is an instance of `VectorSpaceMorphism` whose codomain has dimension 1.\n\nI removed from the doc the possibility to input a list or a tuple since it was not working in the previous version (it is doable to try/except `f = vector(f)` but i am not sure we have to think for the user).\n\n> I have also added a keyword to ask for the reverse orientation.\n\nIt works well. Do you have some important reason to go in the decreasing direction by default ? If not, i would prefer to have it the other way by default, to be consistent with the MILP default, but perhaps i miss some other use case.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5878286fec9dba9d2069ae8a81d76cc0f134f518\">5878286</a></td><td><code>#17474 allow genuine linear forms as input</code></td></tr></table>\n",
    "created_at": "2014-12-22T16:45:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234144",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@fchapoton](#comment:12):
> How can I check if the input is a linear form ?

I uploaded a patch that checks if the input is an instance of `VectorSpaceMorphism` whose codomain has dimension 1.

I removed from the doc the possibility to input a list or a tuple since it was not working in the previous version (it is doable to try/except `f = vector(f)` but i am not sure we have to think for the user).

> I have also added a keyword to ask for the reverse orientation.

It works well. Do you have some important reason to go in the decreasing direction by default ? If not, i would prefer to have it the other way by default, to be consistent with the MILP default, but perhaps i miss some other use case.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5878286fec9dba9d2069ae8a81d76cc0f134f518">5878286</a></td><td><code>#17474 allow genuine linear forms as input</code></td></tr></table>




---

archive/issue_comments_234145.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/17474](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/17474)** to **[u/chapoton/17474](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/17474)**",
    "created_at": "2014-12-24T10:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234145",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/tmonteil/17474](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/17474)** to **[u/chapoton/17474](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/17474)**



---

archive/issue_comments_234146.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nok, thanks.\n\nI have made it increasing by default, as you seem to prefer it so.\n\nI have added a test to check that the orientation is correct.\n\nI have also removed an usused import and made two minor pep8 changes.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1b06a253255dc667617e0b15ee9118750379aa5\">e1b06a2</a></td><td><code>Merge branch 'u/tmonteil/17474' of ssh://trac.sagemath.org:22/sage into 6.5.b4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c9f537714dbc8dfc0a727836dedd9876d721538\">6c9f537</a></td><td><code>trac #17474 increasing by default, plus one removed import, two pep8 changes</code></td></tr></table>\n",
    "created_at": "2014-12-24T10:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234146",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:15" align="right">comment:15</div>

ok, thanks.

I have made it increasing by default, as you seem to prefer it so.

I have added a test to check that the orientation is correct.

I have also removed an usused import and made two minor pep8 changes.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1b06a253255dc667617e0b15ee9118750379aa5">e1b06a2</a></td><td><code>Merge branch 'u/tmonteil/17474' of ssh://trac.sagemath.org:22/sage into 6.5.b4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c9f537714dbc8dfc0a727836dedd9876d721538">6c9f537</a></td><td><code>trac #17474 increasing by default, plus one removed import, two pep8 changes</code></td></tr></table>




---

archive/issue_comments_234147.json:
```json
{
    "body": "Changed commit from **[5878286](https://github.com/sagemath/sagetrac-mirror/commit/5878286fec9dba9d2069ae8a81d76cc0f134f518)** to **[6c9f537](https://github.com/sagemath/sagetrac-mirror/commit/6c9f537714dbc8dfc0a727836dedd9876d721538)**",
    "created_at": "2014-12-24T10:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234147",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[5878286](https://github.com/sagemath/sagetrac-mirror/commit/5878286fec9dba9d2069ae8a81d76cc0f134f518)** to **[6c9f537](https://github.com/sagemath/sagetrac-mirror/commit/6c9f537714dbc8dfc0a727836dedd9876d721538)**



---

archive/issue_events_249084.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-12-25T08:41:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17474#event-249084"
}
```



---

archive/issue_events_249085.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-12-25T08:41:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17474#event-249085"
}
```



---

archive/issue_comments_234148.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nIt looks good to me. Thanks.",
    "created_at": "2014-12-25T14:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234148",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:17" align="right">comment:17</div>

It looks good to me. Thanks.



---

archive/issue_comments_234149.json:
```json
{
    "body": "Reviewer: **Thierry Monteil**",
    "created_at": "2014-12-25T14:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234149",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Reviewer: **Thierry Monteil**



---

archive/issue_events_249086.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2014-12-25T14:58:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17474#event-249086"
}
```



---

archive/issue_events_249087.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2014-12-25T14:58:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17474#event-249087"
}
```



---

archive/issue_comments_234150.json:
```json
{
    "body": "Changed branch from **[u/chapoton/17474](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/17474)** to **[6c9f537](https://github.com/sagemath/sagetrac-mirror/commit/6c9f537714dbc8dfc0a727836dedd9876d721538)**",
    "created_at": "2015-01-02T22:12:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17474#issuecomment-234150",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/17474](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/17474)** to **[6c9f537](https://github.com/sagemath/sagetrac-mirror/commit/6c9f537714dbc8dfc0a727836dedd9876d721538)**



---

archive/issue_events_249088.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-02T22:12:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17474#event-249088"
}
```



---

archive/issue_events_249089.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0af310df84d6e67d43681cacce3d5ec3f2682783",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-01-02T22:12:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17474",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17474#event-249089"
}
```
