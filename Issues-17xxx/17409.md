# Issue 17409: Random failure in sets/set.py

archive/issues_017172.json:
```json
{
    "body": "\n```\nsage -t --long src/sage/sets/set.py\n**********************************************************************\nFile \"src/sage/sets/set.py\", line 102, in sage.sets.set.Set\nFailed example:\n    sorted(Set([Sequence([3,1], immutable=True), 5, QQ, Partition([3,1,1])]))\nExpected:\n    [Rational Field, [3, 1], [3, 1, 1], 5]\nGot:\n    [5, Rational Field, [3, 1], [3, 1, 1]]\n**********************************************************************\n```\n\nKeywords: random_fail\n\nBranch/Commit: 82e6643b40cb065ac32cdbb3864c2b8f0208a9b7\n\nReviewer: Volker Braun\n\nAuthor: Travis Scrimshaw\n\nDependencies: #15247\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17409\n\n",
    "closed_at": "2014-11-30T14:17:24Z",
    "created_at": "2014-11-27T15:51:50Z",
    "labels": [
        "component: misc",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "Random failure in sets/set.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17409",
    "user": "https://github.com/vbraun"
}
```

```
sage -t --long src/sage/sets/set.py
**********************************************************************
File "src/sage/sets/set.py", line 102, in sage.sets.set.Set
Failed example:
    sorted(Set([Sequence([3,1], immutable=True), 5, QQ, Partition([3,1,1])]))
Expected:
    [Rational Field, [3, 1], [3, 1, 1], 5]
Got:
    [5, Rational Field, [3, 1], [3, 1, 1]]
**********************************************************************
```

Keywords: random_fail

Branch/Commit: 82e6643b40cb065ac32cdbb3864c2b8f0208a9b7

Reviewer: Volker Braun

Author: Travis Scrimshaw

Dependencies: #15247

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17409





---

archive/issue_comments_291509.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-11-27T23:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291509",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_291510.json:
```json
{
    "body": "<a id='comment:1'></a>\nI explicitly made it sort by the string since the objects aren't intrinsically comparable.\n\n---\nNew commits:\n|                                                                                                                                          |                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[9d88115](https://github.com/sagemath/sagetrac-mirror/commit/9d8811594ce5c64bd1429054f23ed51f14ac86c7)|`Made doctest deterministic in set.py.`|",
    "created_at": "2014-11-27T23:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291510",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
I explicitly made it sort by the string since the objects aren't intrinsically comparable.

---
New commits:
|                                                                                                                                          |                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[9d88115](https://github.com/sagemath/sagetrac-mirror/commit/9d8811594ce5c64bd1429054f23ed51f14ac86c7)|`Made doctest deterministic in set.py.`|



---

archive/issue_comments_291511.json:
```json
{
    "body": "Changing branch from \"\" to \"public/misc/random_failure_sets-17409\"",
    "created_at": "2014-11-27T23:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291511",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "" to "public/misc/random_failure_sets-17409"



---

archive/issue_comments_291512.json:
```json
{
    "body": "Changing author from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2014-11-27T23:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291512",
    "user": "https://github.com/tscrim"
}
```

Changing author from "" to "Travis Scrimshaw"



---

archive/issue_comments_291513.json:
```json
{
    "body": "Changing commit from \"\" to \"9d8811594ce5c64bd1429054f23ed51f14ac86c7\"",
    "created_at": "2014-11-27T23:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291513",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "" to "9d8811594ce5c64bd1429054f23ed51f14ac86c7"



---

archive/issue_comments_291514.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-28T12:23:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291514",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_291515.json:
```json
{
    "body": "<a id='comment:2'></a>\nthanks!",
    "created_at": "2014-11-28T12:23:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291515",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'></a>
thanks!



---

archive/issue_comments_291516.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Volker Braun\"",
    "created_at": "2014-11-28T12:23:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291516",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "" to "Volker Braun"



---

archive/issue_comments_291517.json:
```json
{
    "body": "<a id='comment:3'></a>\nConflicts with #15247",
    "created_at": "2014-11-28T18:33:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291517",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>
Conflicts with #15247



---

archive/issue_comments_291518.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-11-28T18:33:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291518",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_291519.json:
```json
{
    "body": "Changing commit from \"9d8811594ce5c64bd1429054f23ed51f14ac86c7\" to \"e4eff58d337a36f5520d21cdf34a6f16ff5ec418\"",
    "created_at": "2014-11-28T18:49:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291519",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9d8811594ce5c64bd1429054f23ed51f14ac86c7" to "e4eff58d337a36f5520d21cdf34a6f16ff5ec418"



---

archive/issue_comments_291520.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                          |                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[59aea3c](https://github.com/sagemath/sagetrac-mirror/commit/59aea3c46bedc8ecfdc482f25e56628aa222cea9)|`SingletonClass: Less redundant docstrings`|\n|[765b281](https://github.com/sagemath/sagetrac-mirror/commit/765b2812f7884e117276501bc049fd61fce72bd7)|`QQ/SingletonClass: Delete redundant doctest`|\n|[dfbb8bb](https://github.com/sagemath/sagetrac-mirror/commit/dfbb8bba4a90b1bc30cd33199c9eee9655d8fc95)|`Make QQbar, AA, and PariRing 'SingletonClass'es`|\n|[4ad8e71](https://github.com/sagemath/sagetrac-mirror/commit/4ad8e71794f2afe5bae65949426d5670cef4711f)|`Merge branch 'u/mmezzarobba/15247-singleton_class-rebased' of trac.sagemath.org:sage into public/structure/singleton_class-15247`|\n|[0d78737](https://github.com/sagemath/sagetrac-mirror/commit/0d78737de4a8f364903da0998f02fc9e803c2b0f)|`Some review changes for #15247.`|\n|[391421e](https://github.com/sagemath/sagetrac-mirror/commit/391421e37fd4391227aab94b00c447c1a6945bb2)|`Merge branch 'public/singleton_class-15247' of trac.sagemath.org:sage into public/singleton_class-15247`|\n|[3e9e736](https://github.com/sagemath/sagetrac-mirror/commit/3e9e736a9fbe164d07a2ce1d58efdc3e5b2a49ab)|`Fix merge error`|\n|[3bd5ae0](https://github.com/sagemath/sagetrac-mirror/commit/3bd5ae067804742cc7e2f47b4e5575699a2f69d1)|`Merge branch 'public/singleton_class-15247' of trac.sagemath.org:sage into public/singleton_class-15247`|\n|[aa9821e](https://github.com/sagemath/sagetrac-mirror/commit/aa9821ecb389908ce84b69735ead32bf871bdd4f)|`Changes from Nicolas' suggestions.`|\n|[e4eff58](https://github.com/sagemath/sagetrac-mirror/commit/e4eff58d337a36f5520d21cdf34a6f16ff5ec418)|`Merge branch 'public/singleton_class-15247' of trac.sagemath.org:sage into public/misc/random_failure_sets-17409`|",
    "created_at": "2014-11-28T18:49:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291520",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                          |                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[59aea3c](https://github.com/sagemath/sagetrac-mirror/commit/59aea3c46bedc8ecfdc482f25e56628aa222cea9)|`SingletonClass: Less redundant docstrings`|
|[765b281](https://github.com/sagemath/sagetrac-mirror/commit/765b2812f7884e117276501bc049fd61fce72bd7)|`QQ/SingletonClass: Delete redundant doctest`|
|[dfbb8bb](https://github.com/sagemath/sagetrac-mirror/commit/dfbb8bba4a90b1bc30cd33199c9eee9655d8fc95)|`Make QQbar, AA, and PariRing 'SingletonClass'es`|
|[4ad8e71](https://github.com/sagemath/sagetrac-mirror/commit/4ad8e71794f2afe5bae65949426d5670cef4711f)|`Merge branch 'u/mmezzarobba/15247-singleton_class-rebased' of trac.sagemath.org:sage into public/structure/singleton_class-15247`|
|[0d78737](https://github.com/sagemath/sagetrac-mirror/commit/0d78737de4a8f364903da0998f02fc9e803c2b0f)|`Some review changes for #15247.`|
|[391421e](https://github.com/sagemath/sagetrac-mirror/commit/391421e37fd4391227aab94b00c447c1a6945bb2)|`Merge branch 'public/singleton_class-15247' of trac.sagemath.org:sage into public/singleton_class-15247`|
|[3e9e736](https://github.com/sagemath/sagetrac-mirror/commit/3e9e736a9fbe164d07a2ce1d58efdc3e5b2a49ab)|`Fix merge error`|
|[3bd5ae0](https://github.com/sagemath/sagetrac-mirror/commit/3bd5ae067804742cc7e2f47b4e5575699a2f69d1)|`Merge branch 'public/singleton_class-15247' of trac.sagemath.org:sage into public/singleton_class-15247`|
|[aa9821e](https://github.com/sagemath/sagetrac-mirror/commit/aa9821ecb389908ce84b69735ead32bf871bdd4f)|`Changes from Nicolas' suggestions.`|
|[e4eff58](https://github.com/sagemath/sagetrac-mirror/commit/e4eff58d337a36f5520d21cdf34a6f16ff5ec418)|`Merge branch 'public/singleton_class-15247' of trac.sagemath.org:sage into public/misc/random_failure_sets-17409`|



---

archive/issue_comments_291521.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-11-28T18:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291521",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_291522.json:
```json
{
    "body": "<a id='comment:6'></a>\nYou lost the \"key=str\" in the merge.",
    "created_at": "2014-11-29T20:54:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291522",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>
You lost the "key=str" in the merge.



---

archive/issue_comments_291523.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-11-29T20:54:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291523",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_291524.json:
```json
{
    "body": "Changing commit from \"e4eff58d337a36f5520d21cdf34a6f16ff5ec418\" to \"82e6643b40cb065ac32cdbb3864c2b8f0208a9b7\"",
    "created_at": "2014-11-29T21:04:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291524",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e4eff58d337a36f5520d21cdf34a6f16ff5ec418" to "82e6643b40cb065ac32cdbb3864c2b8f0208a9b7"



---

archive/issue_comments_291525.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[82e6643](https://github.com/sagemath/sagetrac-mirror/commit/82e6643b40cb065ac32cdbb3864c2b8f0208a9b7)|`Added back in after bad merge.`|",
    "created_at": "2014-11-29T21:04:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291525",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[82e6643](https://github.com/sagemath/sagetrac-mirror/commit/82e6643b40cb065ac32cdbb3864c2b8f0208a9b7)|`Added back in after bad merge.`|



---

archive/issue_comments_291526.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-11-29T21:05:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291526",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_291527.json:
```json
{
    "body": "<a id='comment:8'></a>\nWhoops. Fixed.",
    "created_at": "2014-11-29T21:05:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291527",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>
Whoops. Fixed.



---

archive/issue_comments_291528.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#15247\"",
    "created_at": "2014-11-29T21:05:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291528",
    "user": "https://github.com/tscrim"
}
```

Changing dependencies from "" to "#15247"



---

archive/issue_events_064786.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-30T14:17:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17409#event-64786"
}
```



---

archive/issue_comments_291529.json:
```json
{
    "body": "Changing branch from \"public/misc/random_failure_sets-17409\" to \"82e6643b40cb065ac32cdbb3864c2b8f0208a9b7\"",
    "created_at": "2014-11-30T14:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291529",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/misc/random_failure_sets-17409" to "82e6643b40cb065ac32cdbb3864c2b8f0208a9b7"



---

archive/issue_comments_291530.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-11-30T14:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17409#issuecomment-291530",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
