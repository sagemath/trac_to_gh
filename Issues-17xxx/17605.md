# Issue 17605: "How to call C code from Sage" thematic tutorial

archive/issues_017368.json:
```json
{
    "assignees": [],
    "body": "This branch adds to Sage's thematic tutorial an explanation of how to interface a C code (or a compiled library) with Sage. It does not replace the developer's manual section entitled \"Packing third-party code\" as it is only a way to make it work \"on your own compputer\", without the complications that are only cause by Sage's infrastructure.\n\nI have been asked the same instructions several times, and with this we will have a link to provide instead of the same explanation and the example files.\n\nNathann\n\nCC:  @sagetrac-azi @jm58660 @vbraun @kcrisman @anneschilling\n\nBranch/Commit: **[`2f37b6f`](https://github.com/sagemath/sagetrac-mirror/commit/2f37b6fc906262f0cda839734eec8ab6f9cbf389)**\n\nReviewer: **Karl-Dieter Crisman, David Coudert**\n\nAuthor: **Nathann Cohen**\n\nComponent: **documentation**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17605_\n\n",
    "closed_at": "2015-01-24T13:19:04Z",
    "created_at": "2015-01-08T16:37:25Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20documentation",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "\"How to call C code from Sage\" thematic tutorial",
    "type": "issue",
    "updated_at": "2015-01-24T13:19:04Z",
    "url": "https://github.com/sagemath/sage/issues/17605",
    "user": "https://github.com/nathanncohen"
}
```
This branch adds to Sage's thematic tutorial an explanation of how to interface a C code (or a compiled library) with Sage. It does not replace the developer's manual section entitled "Packing third-party code" as it is only a way to make it work "on your own compputer", without the complications that are only cause by Sage's infrastructure.

I have been asked the same instructions several times, and with this we will have a link to provide instead of the same explanation and the example files.

Nathann

CC:  @sagetrac-azi @jm58660 @vbraun @kcrisman @anneschilling

Branch/Commit: **[`2f37b6f`](https://github.com/sagemath/sagetrac-mirror/commit/2f37b6fc906262f0cda839734eec8ab6f9cbf389)**

Reviewer: **Karl-Dieter Crisman, David Coudert**

Author: **Nathann Cohen**

Component: **documentation**

_Issue created by migration from https://trac.sagemath.org/ticket/17605_





---

archive/issue_events_248544.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-08T16:37:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248544"
}
```



---

archive/issue_events_248545.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-08T16:37:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248545"
}
```



---

archive/issue_events_248546.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-08T16:37:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248546"
}
```



---

archive/issue_events_248547.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-08T16:37:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248547"
}
```



---

archive/issue_comments_236776.json:
```json
{
    "body": "Branch: **[public/17605](https://github.com/sagemath/sagetrac-mirror/tree/public/17605)**",
    "created_at": "2015-01-08T16:38:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236776",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[public/17605](https://github.com/sagemath/sagetrac-mirror/tree/public/17605)**



---

archive/issue_events_248548.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-08T16:38:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248548"
}
```



---

archive/issue_comments_236777.json:
```json
{
    "body": "Commit: **[`462b6e2`](https://github.com/sagemath/sagetrac-mirror/commit/462b6e2ef174a80b33c06a18e999ec2a459d4700)**",
    "created_at": "2015-01-08T16:38:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236777",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`462b6e2`](https://github.com/sagemath/sagetrac-mirror/commit/462b6e2ef174a80b33c06a18e999ec2a459d4700)**



---

archive/issue_comments_236778.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/462b6e2ef174a80b33c06a18e999ec2a459d4700\"><code>462b6e2</code></a></td><td><code>trac #17605: \"How to call C code from Sage\" thematic tutorial</code></td></tr></table>\n",
    "created_at": "2015-01-08T16:38:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236778",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/462b6e2ef174a80b33c06a18e999ec2a459d4700"><code>462b6e2</code></a></td><td><code>trac #17605: "How to call C code from Sage" thematic tutorial</code></td></tr></table>




---

archive/issue_comments_236779.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI don't know enough about this to say whether it is all correct, but it looks very helpful (at least, to me!).  Did you stop early, though?\n\n```\n+Calling a function defined in a library\n+---------------------------------------\n+\n+  ~/a$ gcc -c -fPIC double_vector.c -o libdoublevector.o\n```\nI guess you have compiled the library file, but where is the calling part?",
    "created_at": "2015-01-08T16:41:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236779",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:3" align="right">comment:3</div>

I don't know enough about this to say whether it is all correct, but it looks very helpful (at least, to me!).  Did you stop early, though?

```
+Calling a function defined in a library
+---------------------------------------
+
+  ~/a$ gcc -c -fPIC double_vector.c -o libdoublevector.o
```
I guess you have compiled the library file, but where is the calling part?



---

archive/issue_comments_236780.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI am an idiot. I made many attempts to link this .pyx file with a compiled library and failed, and this is just the beginning of the section that I do not know how to write. I will update my patch in a second to remove that.\n\nI would love to write it, but I just don't know how. There are quite some things that I know how to do by modifying sage, but not without that `:-P`\n\nNathann",
    "created_at": "2015-01-08T16:44:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236780",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:4" align="right">comment:4</div>

I am an idiot. I made many attempts to link this .pyx file with a compiled library and failed, and this is just the beginning of the section that I do not know how to write. I will update my patch in a second to remove that.

I would love to write it, but I just don't know how. There are quite some things that I know how to do by modifying sage, but not without that `:-P`

Nathann



---

archive/issue_comments_236781.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a84624002490417b18adb6534a1c73843822306e\"><code>a846240</code></a></td><td><code>trac #17605: \"How to call C code from Sage\" thematic tutorial</code></td></tr></table>\n",
    "created_at": "2015-01-08T16:44:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236781",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a84624002490417b18adb6534a1c73843822306e"><code>a846240</code></a></td><td><code>trac #17605: "How to call C code from Sage" thematic tutorial</code></td></tr></table>




---

archive/issue_comments_236782.json:
```json
{
    "body": "Changed commit from **[`462b6e2`](https://github.com/sagemath/sagetrac-mirror/commit/462b6e2ef174a80b33c06a18e999ec2a459d4700)** to **[`a846240`](https://github.com/sagemath/sagetrac-mirror/commit/a84624002490417b18adb6534a1c73843822306e)**",
    "created_at": "2015-01-08T16:44:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236782",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`462b6e2`](https://github.com/sagemath/sagetrac-mirror/commit/462b6e2ef174a80b33c06a18e999ec2a459d4700)** to **[`a846240`](https://github.com/sagemath/sagetrac-mirror/commit/a84624002490417b18adb6534a1c73843822306e)**



---

archive/issue_comments_236783.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n> I don't know enough about this to say whether it is all correct, but it looks very helpful (at least, to me!).\n\nWell, the point is actually that with this you can give it a try and witness that it does work `;-)`\n\nVolker? Do you know how to link to a compiled library while outside of Sage? Can you teach me? And I'll write the doc!\n\nNathann",
    "created_at": "2015-01-08T18:14:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236783",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

> I don't know enough about this to say whether it is all correct, but it looks very helpful (at least, to me!).

Well, the point is actually that with this you can give it a try and witness that it does work `;-)`

Volker? Do you know how to link to a compiled library while outside of Sage? Can you teach me? And I'll write the doc!

Nathann



---

archive/issue_comments_236784.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nNote: An object file (.o) is not a library (.a / .so). \n\nYou can link compiled C/C++ code with a stand-alone Cython project like in https://github.com/vbraun/lattice_phi4. Then just import as module in Sage.",
    "created_at": "2015-01-08T21:16:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236784",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:8" align="right">comment:8</div>

Note: An object file (.o) is not a library (.a / .so). 

You can link compiled C/C++ code with a stand-alone Cython project like in https://github.com/vbraun/lattice_phi4. Then just import as module in Sage.



---

archive/issue_comments_236785.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHello Volker,\n\n> You can link compiled C/C++ code with a stand-alone Cython project like in https://github.com/vbraun/lattice_phi4. Then just import as module in Sage.  \n\nI tried it but I was not able to compile it. It seems that I am missing some headers.\n\nI kept on whipping my test files and go to something new, though: I was able to make it work provided that I copied libdoublevector.so to SAGE_ROOT/local/lib/.\n\nNow, I am trying to make it all run from my working directory but I meet the following problem:\n- When calling \"%runfile double_vector_sage.pyx\" there are two calls to GCC\n- The one which contains -ldoublevector is not the one that contains -L/home/ncohen/a\n\nAs a result the second call always fails, because the library is not found.\n\n```\nsage: %runfile double_vector_sage.pyx\nCompiling ./double_vector_sage.pyx...\n...\nRuntimeError: Error compiling ./double_vector_sage.pyx:\nrunning build\nrunning build_ext\nbuilding '_home_ncohen_a_double_vector_sage_pyx_5' extension\ngcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -fPIC\n -I/home/ncohen/.Sage/local/include/csage -I/home/ncohen/.Sage/local/include\n -I/home/ncohen/.Sage/local/include/python2.7 \n -I/home/ncohen/.Sage/local/lib/python/site-packages/numpy/core/include \n -I/home/ncohen/.Sage/src/sage/ext -I/home/ncohen/.Sage/src \n -I/home/ncohen/.Sage/src/sage/gsl -I. -I/home/ncohen/.Sage/local/include/python2.7 \n -c _home_ncohen_a_double_vector_sage_pyx_5.c \n -o build/temp.linux-x86_64-2.7/_home_ncohen_a_double_vector_sage_pyx_5.o \n -w -O2 -L/home/ncohen/a/\ngcc -pthread -shared -L/home/ncohen/.Sage/local/lib build/temp.linux-x86_64-2.7/_home_ncohen_a_double_vector_sage_pyx_5.o \n -L/home/ncohen/.Sage/local/lib/ -L/home/ncohen/.Sage/local/lib -ldoublevector \n -lmpfr -lgmp -lgmpxx -lstdc++ -lpari -lm -lec -lgsl -lgslcblas -latlas -lntl \n -lcsage -lpython2.7 -o build/lib.linux-x86_64-2.7/_home_ncohen_a_double_vector_sage_pyx_5.so \n -L/home/ncohen/.Sage/local/lib\n```\n\nThe header of my .pyx file is:\n\n```\n#clib doublevector\n#cargs -L/home/ncohen/a/\n```\n\nThanks to you if you can give me some hint. In the meantime I'll be trying again to make it work.\n\nNathann",
    "created_at": "2015-01-09T05:07:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236785",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

Hello Volker,

> You can link compiled C/C++ code with a stand-alone Cython project like in https://github.com/vbraun/lattice_phi4. Then just import as module in Sage.  

I tried it but I was not able to compile it. It seems that I am missing some headers.

I kept on whipping my test files and go to something new, though: I was able to make it work provided that I copied libdoublevector.so to SAGE_ROOT/local/lib/.

Now, I am trying to make it all run from my working directory but I meet the following problem:
- When calling "%runfile double_vector_sage.pyx" there are two calls to GCC
- The one which contains -ldoublevector is not the one that contains -L/home/ncohen/a

As a result the second call always fails, because the library is not found.

```
sage: %runfile double_vector_sage.pyx
Compiling ./double_vector_sage.pyx...
...
RuntimeError: Error compiling ./double_vector_sage.pyx:
running build
running build_ext
building '_home_ncohen_a_double_vector_sage_pyx_5' extension
gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -fPIC
 -I/home/ncohen/.Sage/local/include/csage -I/home/ncohen/.Sage/local/include
 -I/home/ncohen/.Sage/local/include/python2.7 
 -I/home/ncohen/.Sage/local/lib/python/site-packages/numpy/core/include 
 -I/home/ncohen/.Sage/src/sage/ext -I/home/ncohen/.Sage/src 
 -I/home/ncohen/.Sage/src/sage/gsl -I. -I/home/ncohen/.Sage/local/include/python2.7 
 -c _home_ncohen_a_double_vector_sage_pyx_5.c 
 -o build/temp.linux-x86_64-2.7/_home_ncohen_a_double_vector_sage_pyx_5.o 
 -w -O2 -L/home/ncohen/a/
gcc -pthread -shared -L/home/ncohen/.Sage/local/lib build/temp.linux-x86_64-2.7/_home_ncohen_a_double_vector_sage_pyx_5.o 
 -L/home/ncohen/.Sage/local/lib/ -L/home/ncohen/.Sage/local/lib -ldoublevector 
 -lmpfr -lgmp -lgmpxx -lstdc++ -lpari -lm -lec -lgsl -lgslcblas -latlas -lntl 
 -lcsage -lpython2.7 -o build/lib.linux-x86_64-2.7/_home_ncohen_a_double_vector_sage_pyx_5.so 
 -L/home/ncohen/.Sage/local/lib
```

The header of my .pyx file is:

```
#clib doublevector
#cargs -L/home/ncohen/a/
```

Thanks to you if you can give me some hint. In the meantime I'll be trying again to make it work.

Nathann



---

archive/issue_comments_236786.json:
```json
{
    "body": "Changed commit from **[`a846240`](https://github.com/sagemath/sagetrac-mirror/commit/a84624002490417b18adb6534a1c73843822306e)** to **[`2ad9b51`](https://github.com/sagemath/sagetrac-mirror/commit/2ad9b510df07b6f97741f934e9830b3b405401e8)**",
    "created_at": "2015-01-09T05:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236786",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a846240`](https://github.com/sagemath/sagetrac-mirror/commit/a84624002490417b18adb6534a1c73843822306e)** to **[`2ad9b51`](https://github.com/sagemath/sagetrac-mirror/commit/2ad9b510df07b6f97741f934e9830b3b405401e8)**



---

archive/issue_comments_236787.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ad9b510df07b6f97741f934e9830b3b405401e8\"><code>2ad9b51</code></a></td><td><code>trac #17605: Make it work for libraries</code></td></tr></table>\n",
    "created_at": "2015-01-09T05:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236787",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ad9b510df07b6f97741f934e9830b3b405401e8"><code>2ad9b51</code></a></td><td><code>trac #17605: Make it work for libraries</code></td></tr></table>




---

archive/issue_comments_236788.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nOkay found a way `;-)`\n\nNeeds review again !\n\nNathann",
    "created_at": "2015-01-09T05:51:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236788",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">comment:11</div>

Okay found a way `;-)`

Needs review again !

Nathann



---

archive/issue_comments_236789.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-A short thing, that I have been asked several times. If you know how to link with a library from outside of Sage (no modules_list.py), I am interested !\n+A short thing, that I have been asked several times. \n \n Nathann\n``````\n",
    "created_at": "2015-01-09T09:36:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236789",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-A short thing, that I have been asked several times. If you know how to link with a library from outside of Sage (no modules_list.py), I am interested !
+A short thing, that I have been asked several times. 
 
 Nathann
``````




---

archive/issue_comments_236790.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThere is probably some alternate reality where the new description is useful for others to read/search, I just lack the imagination for it.\n\nOnce you install the shared library into Sage you might just as well go through `module_list.py` as well.",
    "created_at": "2015-01-09T11:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236790",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:13" align="right">comment:13</div>

There is probably some alternate reality where the new description is useful for others to read/search, I just lack the imagination for it.

Once you install the shared library into Sage you might just as well go through `module_list.py` as well.



---

archive/issue_comments_236791.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n-A short thing, that I have been asked several times. \n+This branch adds to Sage's thematic tutorial an explanation of how to interface a C code (or a compiled library) with Sage. It does not replace the developer's manual section entitled \"Packing third-party code\" as it is only a way to make it work \"on your own compputer\", without the complications that are only cause by Sage's infrastructure.\n+\n+I have been asked the same instructions several times, and with this we will have a link to provide instead of the same explanation and the example files.\n \n Nathann\n``````\n",
    "created_at": "2015-01-09T11:10:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236791",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
-A short thing, that I have been asked several times. 
+This branch adds to Sage's thematic tutorial an explanation of how to interface a C code (or a compiled library) with Sage. It does not replace the developer's manual section entitled "Packing third-party code" as it is only a way to make it work "on your own compputer", without the complications that are only cause by Sage's infrastructure.
+
+I have been asked the same instructions several times, and with this we will have a link to provide instead of the same explanation and the example files.
 
 Nathann
``````




---

archive/issue_comments_236792.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n> There is probably some alternate reality where the new description is useful for others to read/search, I just lack the imagination for it.\n\nThere is probably one in which comments like that don't make people uselessly angry. Are we in the reality in which you also review the branch ?\n\n> Once you install the shared library into Sage you might just as well go through `module_list.py` as well. \n\nI do not understand this comment.\n\nNathann",
    "created_at": "2015-01-09T11:10:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236792",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

> There is probably some alternate reality where the new description is useful for others to read/search, I just lack the imagination for it.

There is probably one in which comments like that don't make people uselessly angry. Are we in the reality in which you also review the branch ?

> Once you install the shared library into Sage you might just as well go through `module_list.py` as well. 

I do not understand this comment.

Nathann



---

archive/issue_comments_236793.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@nathanncohen](#comment:14):\n> > Once you install the shared library into Sage you might just as well go through `module_list.py` as well. \n\n> \n> I do not understand this comment.\n\nPresumably you want to build a stand-alone C/C++ and Cython project without having to install stuff into Sage. By definition, this should exclude steps that modify Sage directly. I mentioned the code in my github repo, this is the only way to do this currently: Write Makefile that calls gcc and cython directly. \n\nAlso, you shouldn't build shared libraries the way you describe. Its very platform dependent and your steps won't work under OSX, say.",
    "created_at": "2015-01-09T11:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236793",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@nathanncohen](#comment:14):
> > Once you install the shared library into Sage you might just as well go through `module_list.py` as well. 

> 
> I do not understand this comment.

Presumably you want to build a stand-alone C/C++ and Cython project without having to install stuff into Sage. By definition, this should exclude steps that modify Sage directly. I mentioned the code in my github repo, this is the only way to do this currently: Write Makefile that calls gcc and cython directly. 

Also, you shouldn't build shared libraries the way you describe. Its very platform dependent and your steps won't work under OSX, say.



---

archive/issue_comments_236794.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n> Presumably you want to build a stand-alone C/C++ and Cython project without having to install stuff into Sage. By definition, this should exclude steps that modify Sage directly.\n\nI do not understand. In the tutorial no instruction advises the user to change anything inside of Sage. What did you see that I missed?\n\n> I mentioned the code in my github repo, this is the only way to do this currently: Write Makefile that calls gcc and cython directly. \n\nI want to make it as simple as possible, and the current instructions avoid that.\n\n> Also, you shouldn't build shared libraries the way you describe. Its very platform dependent and your steps won't work under OSX, say.\n\nOh. Could you tell me how to build this library under OSX ? I will update the tutorial to explain both situations.\n\nNathann",
    "created_at": "2015-01-09T11:39:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236794",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

> Presumably you want to build a stand-alone C/C++ and Cython project without having to install stuff into Sage. By definition, this should exclude steps that modify Sage directly.

I do not understand. In the tutorial no instruction advises the user to change anything inside of Sage. What did you see that I missed?

> I mentioned the code in my github repo, this is the only way to do this currently: Write Makefile that calls gcc and cython directly. 

I want to make it as simple as possible, and the current instructions avoid that.

> Also, you shouldn't build shared libraries the way you describe. Its very platform dependent and your steps won't work under OSX, say.

Oh. Could you tell me how to build this library under OSX ? I will update the tutorial to explain both situations.

Nathann



---

archive/issue_comments_236795.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nCopying files to SAGE_ROOT/local/lib/ is modifying Sage in my book. E.g. on a global installation (like SMC) you just don't have permissions to do that.",
    "created_at": "2015-01-09T11:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236795",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:17" align="right">comment:17</div>

Copying files to SAGE_ROOT/local/lib/ is modifying Sage in my book. E.g. on a global installation (like SMC) you just don't have permissions to do that.



---

archive/issue_comments_236796.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n> Copying files to SAGE_ROOT/local/lib/ is modifying Sage in my book. E.g. on a global installation (like SMC) you just don't have permissions to do that. \n\nThe tutorial does not do that.\n\nNathann",
    "created_at": "2015-01-09T12:01:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236796",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:18" align="right">comment:18</div>

> Copying files to SAGE_ROOT/local/lib/ is modifying Sage in my book. E.g. on a global installation (like SMC) you just don't have permissions to do that. 

The tutorial does not do that.

Nathann



---

archive/issue_comments_236797.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n> Well, the point is actually that with this you can give it a try and witness that it does work \n\nSadly, not today :( though it would be more fun than what I have to do.  Though I would recommend removing the `ncohen` references to something more generic, no doubt an oversight.\n> > Copying files to SAGE_ROOT/local/lib/ is modifying Sage in my book.\n\n> The tutorial does not do that.\n\nI think Volker is referring to the earlier comment\n> I kept on whipping my test files and go to something new, though: I was able to make it work provided that I copied libdoublevector.so to SAGE_ROOT/local/lib/.\n\nwhich however I think you are right is not in the tutorial, you seem to have taken a different approach.\n\nAs for the OS X, I think the `.so` files are called `.dylib` (at least sometimes) and on Cygwin `.dll`... but I am not an expert in such things.  Good luck!  This would indeed be a good tutorial to have.",
    "created_at": "2015-01-09T13:09:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236797",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:19" align="right">comment:19</div>

> Well, the point is actually that with this you can give it a try and witness that it does work 

Sadly, not today :( though it would be more fun than what I have to do.  Though I would recommend removing the `ncohen` references to something more generic, no doubt an oversight.
> > Copying files to SAGE_ROOT/local/lib/ is modifying Sage in my book.

> The tutorial does not do that.

I think Volker is referring to the earlier comment
> I kept on whipping my test files and go to something new, though: I was able to make it work provided that I copied libdoublevector.so to SAGE_ROOT/local/lib/.

which however I think you are right is not in the tutorial, you seem to have taken a different approach.

As for the OS X, I think the `.so` files are called `.dylib` (at least sometimes) and on Cygwin `.dll`... but I am not an expert in such things.  Good luck!  This would indeed be a good tutorial to have.



---

archive/issue_comments_236798.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nHello,\n\n> Sadly, not today :( though it would be more fun than what I have to do.  Though I would recommend removing the `ncohen` references to something more generic, no doubt an oversight.\n\nOkay I can do that... I saw Jeroen's home path in several documents of the developer's manual, so I thought it did not matter.\n\n> I think Volker is referring to the earlier comment\n\nYes, probably.\n\n> As for the OS X, I think the `.so` files are called `.dylib` (at least sometimes) and on Cygwin `.dll`... but I am not an expert in such things.  Good luck!  This would indeed be a good tutorial to have.\n\nHMmm.. Yep, but I need help to write that. I never used those architectures.\n\nNathann",
    "created_at": "2015-01-09T13:32:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236798",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:20" align="right">comment:20</div>

Hello,

> Sadly, not today :( though it would be more fun than what I have to do.  Though I would recommend removing the `ncohen` references to something more generic, no doubt an oversight.

Okay I can do that... I saw Jeroen's home path in several documents of the developer's manual, so I thought it did not matter.

> I think Volker is referring to the earlier comment

Yes, probably.

> As for the OS X, I think the `.so` files are called `.dylib` (at least sometimes) and on Cygwin `.dll`... but I am not an expert in such things.  Good luck!  This would indeed be a good tutorial to have.

HMmm.. Yep, but I need help to write that. I never used those architectures.

Nathann



---

archive/issue_comments_236799.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n> I saw Jeroen's home path in several documents of the developer's manual, so I thought it did not matter.\n\nProbably not that much, but might as well make it more generic if you have the opportunity.",
    "created_at": "2015-01-09T13:34:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236799",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:21" align="right">comment:21</div>

> I saw Jeroen's home path in several documents of the developer's manual, so I thought it did not matter.

Probably not that much, but might as well make it more generic if you have the opportunity.



---

archive/issue_comments_236800.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\n> Probably not that much, but might as well make it more generic if you have the opportunity.\n\nhttp://www.sagemath.org/doc/developer/doctesting.html\n\nI'll fix them all...\n\nNathann",
    "created_at": "2015-01-09T13:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236800",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:22" align="right">comment:22</div>

> Probably not that much, but might as well make it more generic if you have the opportunity.

http://www.sagemath.org/doc/developer/doctesting.html

I'll fix them all...

Nathann



---

archive/issue_comments_236801.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n> I'll fix them all...\n\nWell, I'd make that a separate ticket, to be on the safe side.  Because it could be that several other people, including yourself, disagree with me about this, and I don't feel strongly enough about it to complain that hard - should have the opportunity to shoot me down without making this ticket's review process too long.  My personal feeling is that usually it's best to say something early on, as we do in some tutorials, like \"Here we assume that your home directory and username are `username/` or something analogous to that.",
    "created_at": "2015-01-09T13:44:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236801",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:23" align="right">comment:23</div>

> I'll fix them all...

Well, I'd make that a separate ticket, to be on the safe side.  Because it could be that several other people, including yourself, disagree with me about this, and I don't feel strongly enough about it to complain that hard - should have the opportunity to shoot me down without making this ticket's review process too long.  My personal feeling is that usually it's best to say something early on, as we do in some tutorials, like "Here we assume that your home directory and username are `username/` or something analogous to that.



---

archive/issue_comments_236802.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96177d8ed62e5c88325c95f168406b27249b2ea1\"><code>96177d8</code></a></td><td><code>trac #17605: no trace that Sage is written by jews</code></td></tr></table>\n",
    "created_at": "2015-01-09T13:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236802",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96177d8ed62e5c88325c95f168406b27249b2ea1"><code>96177d8</code></a></td><td><code>trac #17605: no trace that Sage is written by jews</code></td></tr></table>




---

archive/issue_comments_236803.json:
```json
{
    "body": "Changed commit from **[`2ad9b51`](https://github.com/sagemath/sagetrac-mirror/commit/2ad9b510df07b6f97741f934e9830b3b405401e8)** to **[`96177d8`](https://github.com/sagemath/sagetrac-mirror/commit/96177d8ed62e5c88325c95f168406b27249b2ea1)**",
    "created_at": "2015-01-09T13:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236803",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2ad9b51`](https://github.com/sagemath/sagetrac-mirror/commit/2ad9b510df07b6f97741f934e9830b3b405401e8)** to **[`96177d8`](https://github.com/sagemath/sagetrac-mirror/commit/96177d8ed62e5c88325c95f168406b27249b2ea1)**



---

archive/issue_comments_236804.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@kcrisman](#comment:23):\n> > I'll fix them all...\n\n> \n> Well, I'd make that a separate ticket\n\nI changed those introduced by this branch.\n\n> Because it could be that several other people, including yourself, disagree with me about this\n\nFor this kind of stuff, let's say that I prefer to make the changes and get my ticket reviewed.\n\n> My personal feeling is that usually it's best to say something early on, as we do in some tutorials, like \"Here we assume that your home directory and username are `username/` or something analogous to that.\n\nI hope that just changing the prompt will make it (more) obvious in this case.\n\nNathann",
    "created_at": "2015-01-09T13:50:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236804",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@kcrisman](#comment:23):
> > I'll fix them all...

> 
> Well, I'd make that a separate ticket

I changed those introduced by this branch.

> Because it could be that several other people, including yourself, disagree with me about this

For this kind of stuff, let's say that I prefer to make the changes and get my ticket reviewed.

> My personal feeling is that usually it's best to say something early on, as we do in some tutorials, like "Here we assume that your home directory and username are `username/` or something analogous to that.

I hope that just changing the prompt will make it (more) obvious in this case.

Nathann



---

archive/issue_comments_236805.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\n> I hope that just changing the prompt will make it (more) obvious in this case.\n\nYes, this does a good job.",
    "created_at": "2015-01-09T14:04:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236805",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:26" align="right">comment:26</div>

> I hope that just changing the prompt will make it (more) obvious in this case.

Yes, this does a good job.



---

archive/issue_comments_236806.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman**",
    "created_at": "2015-01-09T14:51:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236806",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman**



---

archive/issue_events_248549.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2015-01-09T14:51:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248549"
}
```



---

archive/issue_events_248550.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2015-01-09T14:51:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248550"
}
```



---

archive/issue_comments_236807.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nIssues I found.\n* My compiler gives this.\n\n```\n$ gcc hello.c -o hello; ./hello\nhello.c: In function \u2018main\u2019:\nhello.c:7: warning: return type of \u2018main\u2019 is not \u2018int\u2019\nHello World\n```\n* Inconsistent names here:\n\n```\n+  def my_interface_function():\n+      hello_world() # This is the C function from hello.c\n...\n+  sage: my_bridge_function()\n+  Hello World\n```\n* Compiler error:\n\n```\n\nsage: %runfile hello_sage.pyx\nCompiling ./hello_sage.pyx...\nError compiling cython file:\nError converting ./hello_sage.pyx to C:\n\n\nError compiling Cython file:\n------------------------------------------------------------\n...\ninclude \"interrupt.pxi\"  # ctrl-c interrupt block support\ninclude \"stdsage.pxi\"  # ctrl-c interrupt block support\n\ninclude \"cdefs.pxi\"\ncdef extern from \"hello.c\":\nvoid hello_world()\n^\n------------------------------------------------------------\n\n_Users_..._hello_sage_pyx_0.pyx:7:0: Expected an increase in indentation level\n\n```\n* Even after fixing this:\n\n```\n\nsage: %runfile hello_sage.pyx\nCompiling ./hello_sage.pyx...\nError compiling cython file:\nError compiling ./hello_sage.pyx:\nrunning build\n...\n_Users_..._hello_sage_pyx_0.c:349:19: fatal error: hello.c: No such file or directory\ncompilation terminated.\nerror: command 'gcc' failed with exit status 1\n```\n  Maybe my file needs to be in my `PATH`?  But that didn't seem to help.\n* And since presumably I needed to compile `double_vector.c` first, I tried that, but...\n\n```\n\n$ gcc double_vector.c -o double_vector\ndouble_vector.c: In function \u2018sum_of_two_vectors\u2019:\ndouble_vector.c:4: warning: incompatible implicit declaration of built-in function \u2018malloc\u2019\nUndefined symbols for architecture x86_64:\n  \"_main\", referenced from:\n      start in crt1.10.6.o\nld: symbol(s) not found for architecture x86_64\ncollect2: ld returned 1 exit status\n```\n  SO tells me there are two errors - need to include stdio.h and then compile with `-c` or provide a main function.  Still get the weird error about it not existing when I try to `%runfile`, though.\n* Similar problems with the final library example.",
    "created_at": "2015-01-09T14:51:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236807",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:27" align="right">comment:27</div>

Issues I found.
* My compiler gives this.

```
$ gcc hello.c -o hello; ./hello
hello.c: In function ‘main’:
hello.c:7: warning: return type of ‘main’ is not ‘int’
Hello World
```
* Inconsistent names here:

```
+  def my_interface_function():
+      hello_world() # This is the C function from hello.c
...
+  sage: my_bridge_function()
+  Hello World
```
* Compiler error:

```

sage: %runfile hello_sage.pyx
Compiling ./hello_sage.pyx...
Error compiling cython file:
Error converting ./hello_sage.pyx to C:


Error compiling Cython file:
------------------------------------------------------------
...
include "interrupt.pxi"  # ctrl-c interrupt block support
include "stdsage.pxi"  # ctrl-c interrupt block support

include "cdefs.pxi"
cdef extern from "hello.c":
void hello_world()
^
------------------------------------------------------------

_Users_..._hello_sage_pyx_0.pyx:7:0: Expected an increase in indentation level

```
* Even after fixing this:

```

sage: %runfile hello_sage.pyx
Compiling ./hello_sage.pyx...
Error compiling cython file:
Error compiling ./hello_sage.pyx:
running build
...
_Users_..._hello_sage_pyx_0.c:349:19: fatal error: hello.c: No such file or directory
compilation terminated.
error: command 'gcc' failed with exit status 1
```
  Maybe my file needs to be in my `PATH`?  But that didn't seem to help.
* And since presumably I needed to compile `double_vector.c` first, I tried that, but...

```

$ gcc double_vector.c -o double_vector
double_vector.c: In function ‘sum_of_two_vectors’:
double_vector.c:4: warning: incompatible implicit declaration of built-in function ‘malloc’
Undefined symbols for architecture x86_64:
  "_main", referenced from:
      start in crt1.10.6.o
ld: symbol(s) not found for architecture x86_64
collect2: ld returned 1 exit status
```
  SO tells me there are two errors - need to include stdio.h and then compile with `-c` or provide a main function.  Still get the weird error about it not existing when I try to `%runfile`, though.
* Similar problems with the final library example.



---

archive/issue_comments_236808.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nYo ! Thank you for looking at this.\n\n> * My compiler gives this.\n> \n> ```\n> $ gcc hello.c -o hello; ./hello\n> hello.c: In function \u2018main\u2019:\n> hello.c:7: warning: return type of \u2018main\u2019 is not \u2018int\u2019\n> Hello World\n> ```\n\nMy compiler does not say a word. I changed the return type of main to int and added a 'return 0'. I would prefer to remove this `return 0` (my compiler does not complain either if I do) for that is irrelevant information to what I want to illustrate. Can you tell me what it gives for you ?\n\n> * Inconsistent names here:\n\nFixed.\n\n> * Compiler error:\n\nI fixed the indentation level.\n\n> * Even after fixing this:\n> \n> ```\n> \n> sage: %runfile hello_sage.pyx\n> Compiling ./hello_sage.pyx...\n> Error compiling cython file:\n> Error compiling ./hello_sage.pyx:\n> running build\n> ...\n> _Users_..._hello_sage_pyx_0.c:349:19: fatal error: hello.c: No such file or directory\n> compilation terminated.\n> error: command 'gcc' failed with exit status 1\n> ```\n\nThis I do not understand. Is hello_sage is in the same folder as hello.c ? `O_o` I really do not understand that.\n\n>   Maybe my file needs to be in my `PATH`?  But that didn't seem to help.\n\nNo no, you should not have to. And I would prefer to avoid asking the user to change the PATH anyway `O_o`\n\n> * And since presumably I needed to compile `double_vector.c` first, I tried that, but...\n\nNono, you do not need to compile it by itself (and when you do it complains because no 'main' function is defined, which is correct). It gets compiled when you call \"runfile\". Actually, you do not need to compile 'hello.c' at first. It is just to give an example. If it gets complicated we can remove this compilation of \"hello world\", actually. It is not necessary.\n\n> * Similar problems with the final library example.\n\nWhen you say \"similar problem\", is it also about 'main' ? `O_o`\n\nNathann",
    "created_at": "2015-01-09T15:04:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236808",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:28" align="right">comment:28</div>

Yo ! Thank you for looking at this.

> * My compiler gives this.
> 
> ```
> $ gcc hello.c -o hello; ./hello
> hello.c: In function ‘main’:
> hello.c:7: warning: return type of ‘main’ is not ‘int’
> Hello World
> ```

My compiler does not say a word. I changed the return type of main to int and added a 'return 0'. I would prefer to remove this `return 0` (my compiler does not complain either if I do) for that is irrelevant information to what I want to illustrate. Can you tell me what it gives for you ?

> * Inconsistent names here:

Fixed.

> * Compiler error:

I fixed the indentation level.

> * Even after fixing this:
> 
> ```
> 
> sage: %runfile hello_sage.pyx
> Compiling ./hello_sage.pyx...
> Error compiling cython file:
> Error compiling ./hello_sage.pyx:
> running build
> ...
> _Users_..._hello_sage_pyx_0.c:349:19: fatal error: hello.c: No such file or directory
> compilation terminated.
> error: command 'gcc' failed with exit status 1
> ```

This I do not understand. Is hello_sage is in the same folder as hello.c ? `O_o` I really do not understand that.

>   Maybe my file needs to be in my `PATH`?  But that didn't seem to help.

No no, you should not have to. And I would prefer to avoid asking the user to change the PATH anyway `O_o`

> * And since presumably I needed to compile `double_vector.c` first, I tried that, but...

Nono, you do not need to compile it by itself (and when you do it complains because no 'main' function is defined, which is correct). It gets compiled when you call "runfile". Actually, you do not need to compile 'hello.c' at first. It is just to give an example. If it gets complicated we can remove this compilation of "hello world", actually. It is not necessary.

> * Similar problems with the final library example.

When you say "similar problem", is it also about 'main' ? `O_o`

Nathann



---

archive/issue_comments_236809.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd0dae3b8577fe2e339fca82934a388639e95668\"><code>bd0dae3</code></a></td><td><code>trac #17605: Errors...</code></td></tr></table>\n",
    "created_at": "2015-01-09T15:05:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236809",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd0dae3b8577fe2e339fca82934a388639e95668"><code>bd0dae3</code></a></td><td><code>trac #17605: Errors...</code></td></tr></table>




---

archive/issue_comments_236810.json:
```json
{
    "body": "Changed commit from **[`96177d8`](https://github.com/sagemath/sagetrac-mirror/commit/96177d8ed62e5c88325c95f168406b27249b2ea1)** to **[`bd0dae3`](https://github.com/sagemath/sagetrac-mirror/commit/bd0dae3b8577fe2e339fca82934a388639e95668)**",
    "created_at": "2015-01-09T15:05:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236810",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`96177d8`](https://github.com/sagemath/sagetrac-mirror/commit/96177d8ed62e5c88325c95f168406b27249b2ea1)** to **[`bd0dae3`](https://github.com/sagemath/sagetrac-mirror/commit/bd0dae3b8577fe2e339fca82934a388639e95668)**



---

archive/issue_comments_236811.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23139b5ae0c7a8e5baa6fe6afd2efd52777dfaff\"><code>23139b5</code></a></td><td><code>trac #17605: Remove useless (and problematic) compilation (+indentation fixes)</code></td></tr></table>\n",
    "created_at": "2015-01-10T05:11:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236811",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23139b5ae0c7a8e5baa6fe6afd2efd52777dfaff"><code>23139b5</code></a></td><td><code>trac #17605: Remove useless (and problematic) compilation (+indentation fixes)</code></td></tr></table>




---

archive/issue_comments_236812.json:
```json
{
    "body": "Changed commit from **[`bd0dae3`](https://github.com/sagemath/sagetrac-mirror/commit/bd0dae3b8577fe2e339fca82934a388639e95668)** to **[`23139b5`](https://github.com/sagemath/sagetrac-mirror/commit/23139b5ae0c7a8e5baa6fe6afd2efd52777dfaff)**",
    "created_at": "2015-01-10T05:11:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236812",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bd0dae3`](https://github.com/sagemath/sagetrac-mirror/commit/bd0dae3b8577fe2e339fca82934a388639e95668)** to **[`23139b5`](https://github.com/sagemath/sagetrac-mirror/commit/23139b5ae0c7a8e5baa6fe6afd2efd52777dfaff)**



---

archive/issue_comments_236813.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f20f0a3872d2f3f12b3c716c9a4e445530969bc\"><code>5f20f0a</code></a></td><td><code>trac #17605: Remove useless (and problematic) compilation (+indentation fixes)</code></td></tr></table>\n",
    "created_at": "2015-01-10T05:28:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236813",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f20f0a3872d2f3f12b3c716c9a4e445530969bc"><code>5f20f0a</code></a></td><td><code>trac #17605: Remove useless (and problematic) compilation (+indentation fixes)</code></td></tr></table>




---

archive/issue_comments_236814.json:
```json
{
    "body": "Changed commit from **[`23139b5`](https://github.com/sagemath/sagetrac-mirror/commit/23139b5ae0c7a8e5baa6fe6afd2efd52777dfaff)** to **[`5f20f0a`](https://github.com/sagemath/sagetrac-mirror/commit/5f20f0a3872d2f3f12b3c716c9a4e445530969bc)**",
    "created_at": "2015-01-10T05:28:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236814",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`23139b5`](https://github.com/sagemath/sagetrac-mirror/commit/23139b5ae0c7a8e5baa6fe6afd2efd52777dfaff)** to **[`5f20f0a`](https://github.com/sagemath/sagetrac-mirror/commit/5f20f0a3872d2f3f12b3c716c9a4e445530969bc)**



---

archive/issue_events_248551.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-10T06:06:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248551"
}
```



---

archive/issue_events_248552.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-10T06:06:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248552"
}
```



---

archive/issue_comments_236815.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f37b6fc906262f0cda839734eec8ab6f9cbf389\"><code>2f37b6f</code></a></td><td><code>trac #17605: Syntax highlighting</code></td></tr></table>\n",
    "created_at": "2015-01-11T06:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236815",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f37b6fc906262f0cda839734eec8ab6f9cbf389"><code>2f37b6f</code></a></td><td><code>trac #17605: Syntax highlighting</code></td></tr></table>




---

archive/issue_comments_236816.json:
```json
{
    "body": "Changed commit from **[`5f20f0a`](https://github.com/sagemath/sagetrac-mirror/commit/5f20f0a3872d2f3f12b3c716c9a4e445530969bc)** to **[`2f37b6f`](https://github.com/sagemath/sagetrac-mirror/commit/2f37b6fc906262f0cda839734eec8ab6f9cbf389)**",
    "created_at": "2015-01-11T06:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236816",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5f20f0a`](https://github.com/sagemath/sagetrac-mirror/commit/5f20f0a3872d2f3f12b3c716c9a4e445530969bc)** to **[`2f37b6f`](https://github.com/sagemath/sagetrac-mirror/commit/2f37b6fc906262f0cda839734eec8ab6f9cbf389)**



---

archive/issue_events_248553.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-12T17:27:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248553"
}
```



---

archive/issue_events_248554.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-12T17:27:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248554"
}
```



---

archive/issue_comments_236817.json:
```json
{
    "body": "Changed reviewer from **Karl-Dieter Crisman** to **Karl-Dieter Crisman, David Coudert**",
    "created_at": "2015-01-17T09:06:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236817",
    "user": "https://github.com/dcoudert"
}
```

Changed reviewer from **Karl-Dieter Crisman** to **Karl-Dieter Crisman, David Coudert**



---

archive/issue_comments_236818.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nHello,\n\nI tried with my MBA/OSX Yosemite.\nThe documentation is clear and useful.\nI'm able to reproduce all examples without error/warning.\n\nUnless others have difficulties on other systems, I vote for positive review.\nLet me know if I can change the status.\n\nDavid.",
    "created_at": "2015-01-17T09:06:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236818",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:35" align="right">comment:35</div>

Hello,

I tried with my MBA/OSX Yosemite.
The documentation is clear and useful.
I'm able to reproduce all examples without error/warning.

Unless others have difficulties on other systems, I vote for positive review.
Let me know if I can change the status.

David.



---

archive/issue_comments_236819.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nYo,\n\n> I tried with my MBA/OSX Yosemite.\n> The documentation is clear and useful.\n> I'm able to reproduce all examples without error/warning.\n\nOh, so it works on Mac too ? Cool !\n\n> Unless others have difficulties on other systems, I vote for positive review.\n> Let me know if I can change the status.\n\nWell I'd vote for that.. And if there is something wrong with some distribution, we can add a note later. And hopefully in the meantime the guy will figure out how to make it work.\n\nNathann",
    "created_at": "2015-01-17T10:30:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236819",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:36" align="right">comment:36</div>

Yo,

> I tried with my MBA/OSX Yosemite.
> The documentation is clear and useful.
> I'm able to reproduce all examples without error/warning.

Oh, so it works on Mac too ? Cool !

> Unless others have difficulties on other systems, I vote for positive review.
> Let me know if I can change the status.

Well I'd vote for that.. And if there is something wrong with some distribution, we can add a note later. And hopefully in the meantime the guy will figure out how to make it work.

Nathann



---

archive/issue_comments_236820.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nSo let's go ;)",
    "created_at": "2015-01-17T10:34:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236820",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:37" align="right">comment:37</div>

So let's go ;)



---

archive/issue_events_248555.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2015-01-17T10:34:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248555"
}
```



---

archive/issue_events_248556.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2015-01-17T10:34:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248556"
}
```



---

archive/issue_comments_236821.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nThis also works for me now, though I have no idea why.  Maybe because we removed the original compilation and Sage compiled it wherever Sage compiles things.",
    "created_at": "2015-01-17T20:01:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236821",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:38" align="right">comment:38</div>

This also works for me now, though I have no idea why.  Maybe because we removed the original compilation and Sage compiled it wherever Sage compiles things.



---

archive/issue_comments_236822.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\n> This also works for me now, though I have no idea why.  Maybe because we removed the original compilation and Sage compiled it wherever Sage compiles things.\n\nAhahah. Well, remember? \"Theory is when you know everything but nothing works, practice is when everything works but nobody knows why\" `:-P`\n\nNathann",
    "created_at": "2015-01-17T23:03:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236822",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:39" align="right">comment:39</div>

> This also works for me now, though I have no idea why.  Maybe because we removed the original compilation and Sage compiled it wherever Sage compiles things.

Ahahah. Well, remember? "Theory is when you know everything but nothing works, practice is when everything works but nobody knows why" `:-P`

Nathann



---

archive/issue_comments_236823.json:
```json
{
    "body": "Changed branch from **[public/17605](https://github.com/sagemath/sagetrac-mirror/tree/public/17605)** to **[`2f37b6f`](https://github.com/sagemath/sagetrac-mirror/commit/2f37b6fc906262f0cda839734eec8ab6f9cbf389)**",
    "created_at": "2015-01-24T13:19:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17605#issuecomment-236823",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/17605](https://github.com/sagemath/sagetrac-mirror/tree/public/17605)** to **[`2f37b6f`](https://github.com/sagemath/sagetrac-mirror/commit/2f37b6fc906262f0cda839734eec8ab6f9cbf389)**



---

archive/issue_events_248557.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-24T13:19:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248557"
}
```



---

archive/issue_events_248558.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b8c10dbd1cae165b983a90bb710526d4d8fe74a8",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-01-24T13:19:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17605",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17605#event-248558"
}
```
