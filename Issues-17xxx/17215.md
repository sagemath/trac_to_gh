# Issue 17215: Normal cone of faces of polyhedra

archive/issues_016978.json:
```json
{
    "body": "A point v on a convex polyhedron P is a vertex of P if and only if there exists an affine hyperplane in the linear span of P which intersects P only in v. Knowing such affine hyperplane is a good certificate for v being a vertex.\n\nThis ticket implements the method `normal_cone` for faces of polyhedra, consisting of all the directions of the normals to supporting hyperplanes of the specified face.\n\nCC:  @laisrast @kliem @fchapoton nailuj\n\nKeywords: polytopes, linear programming, linear optimization, days100\n\nBranch/Commit: 7278f23b2bd3178fd399d05d7fd171d808c9f834\n\nReviewer: Jonathan Kliem\n\nAuthor: Jean-Philippe Labb\u00e9\n\nDependencies: #29155\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17215\n\n",
    "closed_at": "2020-02-17T23:16:17Z",
    "created_at": "2014-10-24T16:21:48Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Normal cone of faces of polyhedra",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17215",
    "user": "https://github.com/darijgr"
}
```
A point v on a convex polyhedron P is a vertex of P if and only if there exists an affine hyperplane in the linear span of P which intersects P only in v. Knowing such affine hyperplane is a good certificate for v being a vertex.

This ticket implements the method `normal_cone` for faces of polyhedra, consisting of all the directions of the normals to supporting hyperplanes of the specified face.

CC:  @laisrast @kliem @fchapoton nailuj

Keywords: polytopes, linear programming, linear optimization, days100

Branch/Commit: 7278f23b2bd3178fd399d05d7fd171d808c9f834

Reviewer: Jonathan Kliem

Author: Jean-Philippe Labbé

Dependencies: #29155

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17215





---

archive/issue_comments_290543.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,4 @@\n-... assuming that the point is a vertex or a point on a bounding line/ray. Is there a simple way to get it in Sage? Otherwise, this should be added.\n-\n-Keywords: polytopes, linear programming, linear optimization\n+... lying in the subspace that contains the polyhedron. Is there a simple way to get it in Sage? Otherwise, this should be added.\n \n Summary: Normal vector to a polyhedron at a point...\n \n``````\n",
    "created_at": "2014-10-24T16:23:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290543",
    "user": "https://github.com/darijgr"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,4 @@
-... assuming that the point is a vertex or a point on a bounding line/ray. Is there a simple way to get it in Sage? Otherwise, this should be added.
-
-Keywords: polytopes, linear programming, linear optimization
+... lying in the subspace that contains the polyhedron. Is there a simple way to get it in Sage? Otherwise, this should be added.
 
 Summary: Normal vector to a polyhedron at a point...
 
``````




---

archive/issue_comments_290544.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+As far as I recall, a point v on a convex polyhedron P is a vertex of P if and only if there exists a vector w in the linear span of P such that no real number p satisfies v + pw \\in P. Knowing such a w is a good certificate for v being a vertex.\n \n+Do we have a method for finding such a w ?\n \n Summary: Normal vector to a polyhedron at a point...\n \n``````\n",
    "created_at": "2014-10-24T22:13:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290544",
    "user": "https://github.com/darijgr"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+As far as I recall, a point v on a convex polyhedron P is a vertex of P if and only if there exists a vector w in the linear span of P such that no real number p satisfies v + pw \in P. Knowing such a w is a good certificate for v being a vertex.
 
+Do we have a method for finding such a w ?
 
 Summary: Normal vector to a polyhedron at a point...
 
``````




---

archive/issue_comments_290545.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+As far as I recall, a point v on a convex polyhedron P is a vertex of P if and only if there exists an affine hyperplane in the linear span of P which intersects P only in v. Knowing such a w is a good certificate for v being a vertex.\n \n+Do we have a method for finding such a w ?\n \n Summary: Normal vector to a polyhedron at a point...\n \n``````\n",
    "created_at": "2014-10-24T22:15:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290545",
    "user": "https://github.com/darijgr"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+As far as I recall, a point v on a convex polyhedron P is a vertex of P if and only if there exists an affine hyperplane in the linear span of P which intersects P only in v. Knowing such a w is a good certificate for v being a vertex.
 
+Do we have a method for finding such a w ?
 
 Summary: Normal vector to a polyhedron at a point...
 
``````




---

archive/issue_comments_290546.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+As far as I recall, a point v on a convex polyhedron P is a vertex of P if and only if there exists an affine hyperplane in the linear span of P which intersects P only in v. Knowing such a w is a good certificate for v being a vertex.\n \n+Do we have a method for finding such a w ?\n+\n+I assume similar things exist for higher-dimensional faces of P rather than vertices?\n \n Summary: Normal vector to a polyhedron at a point...\n \n``````\n",
    "created_at": "2014-10-24T22:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290546",
    "user": "https://github.com/darijgr"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+As far as I recall, a point v on a convex polyhedron P is a vertex of P if and only if there exists an affine hyperplane in the linear span of P which intersects P only in v. Knowing such a w is a good certificate for v being a vertex.
 
+Do we have a method for finding such a w ?
+
+I assume similar things exist for higher-dimensional faces of P rather than vertices?
 
 Summary: Normal vector to a polyhedron at a point...
 
``````




---

archive/issue_comments_290547.json:
```json
{
    "body": "<a id='comment:5'></a>All backends right now compute both H/V-representation; the dual is of course a much more complete certificate that a vertex is really a vertex. Also, the bounding hyperplane is not canonical---which one to pick? If you really need one you can construct one from the incident hyperplane equations of the vertex (or, more generally, d-dimensional face). \n\n```\nsage: P = polytopes.n_cube(3)\nsage: v = P.vertices()[0]\nsage: v\nA vertex at (-1, -1, -1)\nsage: A = sum(h.A() for h in v.incident())\nsage: b = sum(h.b() for h in v.incident())\nsage: b, A\n(3, (1, 1, 1))\nsage: Polyhedron(eqns=[[b] + list(A)]) & P\nA 0-dimensional polyhedron in QQ^3 defined as the convex hull of 1 vertex\n```",
    "created_at": "2014-10-25T11:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290547",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'></a>All backends right now compute both H/V-representation; the dual is of course a much more complete certificate that a vertex is really a vertex. Also, the bounding hyperplane is not canonical---which one to pick? If you really need one you can construct one from the incident hyperplane equations of the vertex (or, more generally, d-dimensional face). 

```
sage: P = polytopes.n_cube(3)
sage: v = P.vertices()[0]
sage: v
A vertex at (-1, -1, -1)
sage: A = sum(h.A() for h in v.incident())
sage: b = sum(h.b() for h in v.incident())
sage: b, A
(3, (1, 1, 1))
sage: Polyhedron(eqns=[[b] + list(A)]) & P
A 0-dimensional polyhedron in QQ^3 defined as the convex hull of 1 vertex
```



---

archive/issue_comments_290548.json:
```json
{
    "body": "<a id='comment:6'></a>Thanks, this makes it a lot easier.",
    "created_at": "2014-10-26T14:52:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290548",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:6'></a>Thanks, this makes it a lot easier.



---

archive/issue_comments_290549.json:
```json
{
    "body": "<a id='comment:7'></a>Should this remain open?",
    "created_at": "2017-08-23T17:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290549",
    "user": "https://github.com/mo271"
}
```

<a id='comment:7'></a>Should this remain open?



---

archive/issue_comments_290550.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2017-08-23T17:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290550",
    "user": "https://github.com/mo271"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_290551.json:
```json
{
    "body": "<a id='comment:8'></a>Not sure... perhaps there could be a method in the class for `polyhedron_faces` giving the corresponding normal cone?",
    "created_at": "2017-08-23T20:18:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290551",
    "user": "https://github.com/jplab"
}
```

<a id='comment:8'></a>Not sure... perhaps there could be a method in the class for `polyhedron_faces` giving the corresponding normal cone?



---

archive/issue_comments_290552.json:
```json
{
    "body": "<a id='comment:9'></a>To my understanding such a method for each face of a Polyhedron would also help #27973, such that one could construct a wedge over a face (not just a facet).",
    "created_at": "2019-06-15T12:56:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290552",
    "user": "https://github.com/kliem"
}
```

<a id='comment:9'></a>To my understanding such a method for each face of a Polyhedron would also help #27973, such that one could construct a wedge over a face (not just a facet).



---

archive/issue_events_049847.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-07-23T07:44:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17215#event-49847"
}
```



---

archive/issue_comments_290553.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2019-07-23T07:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290553",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_290554.json:
```json
{
    "body": "Changing keywords from \"polytopes, linear programming, linear optimization\" to \"polytopes, linear programming, linear optimization, days100\".",
    "created_at": "2019-07-23T07:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290554",
    "user": "https://github.com/jplab"
}
```

Changing keywords from "polytopes, linear programming, linear optimization" to "polytopes, linear programming, linear optimization, days100".



---

archive/issue_comments_290555.json:
```json
{
    "body": "Changing component from combinatorics to geometry.",
    "created_at": "2019-07-23T07:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290555",
    "user": "https://github.com/jplab"
}
```

Changing component from combinatorics to geometry.



---

archive/issue_comments_290556.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+A point v on a convex polyhedron P is a vertex of P if and only if there exists an affine hyperplane in the linear span of P which intersects P only in v. Knowing such affine hyperplane is a good certificate for v being a vertex.\n \n+This ticket implements the method `normal_cone` for faces of polyhedra, consisting of all the directions of the normals to supporting hyperplanes of the specified face.\n \n Summary: Normal vector to a polyhedron at a point...\n \n``````\n",
    "created_at": "2019-07-23T07:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290556",
    "user": "https://github.com/jplab"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+A point v on a convex polyhedron P is a vertex of P if and only if there exists an affine hyperplane in the linear span of P which intersects P only in v. Knowing such affine hyperplane is a good certificate for v being a vertex.
 
+This ticket implements the method `normal_cone` for faces of polyhedra, consisting of all the directions of the normals to supporting hyperplanes of the specified face.
 
 Summary: Normal vector to a polyhedron at a point...
 
``````




---

archive/issue_comments_290557.json:
```json
{
    "body": "Changing author from \"\" to \"Jean-Philippe Labb\u00e9\"",
    "created_at": "2019-07-23T08:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290557",
    "user": "https://github.com/jplab"
}
```

Changing author from "" to "Jean-Philippe Labbé"



---

archive/issue_comments_290558.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#27973\"",
    "created_at": "2019-07-23T08:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290558",
    "user": "https://github.com/jplab"
}
```

Changing dependencies from "" to "#27973"



---

archive/issue_comments_290559.json:
```json
{
    "body": "Changing commit from \"\" to \"302ec4609ea007b9c89001b91b1890961e535274\"",
    "created_at": "2019-07-23T08:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290559",
    "user": "https://github.com/jplab"
}
```

Changing commit from "" to "302ec4609ea007b9c89001b91b1890961e535274"



---

archive/issue_comments_290560.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jipilab/17215\"",
    "created_at": "2019-07-23T08:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290560",
    "user": "https://github.com/jplab"
}
```

Changing branch from "" to "u/jipilab/17215"



---

archive/issue_comments_290561.json:
```json
{
    "body": "<a id='comment:11'></a>New commits:",
    "created_at": "2019-07-23T08:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290561",
    "user": "https://github.com/jplab"
}
```

<a id='comment:11'></a>New commits:



---

archive/issue_comments_290562.json:
```json
{
    "body": "Changing type from task to enhancement.",
    "created_at": "2019-07-24T12:34:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290562",
    "user": "https://github.com/jplab"
}
```

Changing type from task to enhancement.



---

archive/issue_comments_290563.json:
```json
{
    "body": "<a id='comment:13'></a>If you construct the polyhedron with via `the_poly.parent()` similar to e.g. many examples in #27926 you can avoid the import of the constructor.\n\nDon't know if that's better.",
    "created_at": "2019-07-24T14:41:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290563",
    "user": "https://github.com/kliem"
}
```

<a id='comment:13'></a>If you construct the polyhedron with via `the_poly.parent()` similar to e.g. many examples in #27926 you can avoid the import of the constructor.

Don't know if that's better.



---

archive/issue_comments_290564.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 gh-kliem]:\n> If you construct the polyhedron with via `the_poly.parent()` similar to e.g. many examples in #27926 you can avoid the import of the constructor.\n> \n> Don't know if that's better.\n\n\nYes, might be cleaner yes...",
    "created_at": "2019-07-24T15:41:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290564",
    "user": "https://github.com/jplab"
}
```

<a id='comment:14'></a>Replying to [comment:13 gh-kliem]:
> If you construct the polyhedron with via `the_poly.parent()` similar to e.g. many examples in #27926 you can avoid the import of the constructor.
> 
> Don't know if that's better.


Yes, might be cleaner yes...



---

archive/issue_comments_290565.json:
```json
{
    "body": "Changing commit from \"302ec4609ea007b9c89001b91b1890961e535274\" to \"2f8e3a95d9c4d2eac294ba40491427d7a81d7c16\"",
    "created_at": "2019-07-28T12:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290565",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "302ec4609ea007b9c89001b91b1890961e535274" to "2f8e3a95d9c4d2eac294ba40491427d7a81d7c16"



---

archive/issue_comments_290566.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-28T12:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290566",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290567.json:
```json
{
    "body": "<a id='comment:16'></a>Now, only waiting for the wedge to get merged. After that, I would change some constructions to make use of this new function to deduplicate some code...",
    "created_at": "2019-07-28T12:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290567",
    "user": "https://github.com/jplab"
}
```

<a id='comment:16'></a>Now, only waiting for the wedge to get merged. After that, I would change some constructions to make use of this new function to deduplicate some code...



---

archive/issue_comments_290568.json:
```json
{
    "body": "Changing branch from \"u/jipilab/17215\" to \"u/jipilab/17215rebsed\"",
    "created_at": "2019-10-25T09:57:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290568",
    "user": "https://github.com/jplab"
}
```

Changing branch from "u/jipilab/17215" to "u/jipilab/17215rebsed"



---

archive/issue_comments_290569.json:
```json
{
    "body": "<a id='comment:17'></a>I decided to leave the wedge and face truncation construction as they are since they do not need an explicit polyhedron.\n\n---\nNew commits:",
    "created_at": "2019-10-25T09:57:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290569",
    "user": "https://github.com/jplab"
}
```

<a id='comment:17'></a>I decided to leave the wedge and face truncation construction as they are since they do not need an explicit polyhedron.

---
New commits:



---

archive/issue_comments_290570.json:
```json
{
    "body": "Changing commit from \"2f8e3a95d9c4d2eac294ba40491427d7a81d7c16\" to \"12581fd5b643d482bd0ba66fbd32d845ca8df035\"",
    "created_at": "2019-10-25T09:57:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290570",
    "user": "https://github.com/jplab"
}
```

Changing commit from "2f8e3a95d9c4d2eac294ba40491427d7a81d7c16" to "12581fd5b643d482bd0ba66fbd32d845ca8df035"



---

archive/issue_comments_290571.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-10-25T09:57:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290571",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_290572.json:
```json
{
    "body": "<a id='comment:18'></a>You did not consider the case, where the polyhedron has equations.\n\nIn this case your considering one of two possible rays. Probably should only append rays for inequalities, but I'm not sure.\n\nOne question: How do we construct the hyperplane that interesects exactly the face from this (see description of ticket).",
    "created_at": "2019-10-28T08:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290572",
    "user": "https://github.com/kliem"
}
```

<a id='comment:18'></a>You did not consider the case, where the polyhedron has equations.

In this case your considering one of two possible rays. Probably should only append rays for inequalities, but I'm not sure.

One question: How do we construct the hyperplane that interesects exactly the face from this (see description of ticket).



---

archive/issue_comments_290573.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-10-28T08:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290573",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_290574.json:
```json
{
    "body": "Changing dependencies from \"#27973\" to \"#27973, #28646\"",
    "created_at": "2019-11-19T05:37:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290574",
    "user": "https://github.com/kliem"
}
```

Changing dependencies from "#27973" to "#27973, #28646"



---

archive/issue_comments_290575.json:
```json
{
    "body": "<a id='comment:19'></a>#28646 changes the order of faces, which affects a doctest in this ticket.",
    "created_at": "2019-11-19T05:37:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290575",
    "user": "https://github.com/kliem"
}
```

<a id='comment:19'></a>#28646 changes the order of faces, which affects a doctest in this ticket.



---

archive/issue_comments_290576.json:
```json
{
    "body": "<a id='comment:20'></a>Ticket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290576",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'></a>Ticket retargeted after milestone closed



---

archive/issue_events_049848.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17215#event-49848"
}
```



---

archive/issue_events_049849.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17215#event-49849"
}
```



---

archive/issue_comments_290577.json:
```json
{
    "body": "Changing commit from \"12581fd5b643d482bd0ba66fbd32d845ca8df035\" to \"2f114d8e76529192f5879b75c5a368f0b1acc010\"",
    "created_at": "2020-01-31T10:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290577",
    "user": "https://github.com/jplab"
}
```

Changing commit from "12581fd5b643d482bd0ba66fbd32d845ca8df035" to "2f114d8e76529192f5879b75c5a368f0b1acc010"



---

archive/issue_comments_290578.json:
```json
{
    "body": "<a id='comment:21'></a>New commits:",
    "created_at": "2020-01-31T10:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290578",
    "user": "https://github.com/jplab"
}
```

<a id='comment:21'></a>New commits:



---

archive/issue_comments_290579.json:
```json
{
    "body": "Changing branch from \"u/jipilab/17215rebsed\" to \"u/jipilab/17215reb2\"",
    "created_at": "2020-01-31T10:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290579",
    "user": "https://github.com/jplab"
}
```

Changing branch from "u/jipilab/17215rebsed" to "u/jipilab/17215reb2"



---

archive/issue_comments_290580.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-01-31T10:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290580",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_290581.json:
```json
{
    "body": "<a id='comment:22'></a>Rebased due to conflict. Needs review.",
    "created_at": "2020-01-31T10:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290581",
    "user": "https://github.com/jplab"
}
```

<a id='comment:22'></a>Rebased due to conflict. Needs review.



---

archive/issue_comments_290582.json:
```json
{
    "body": "<a id='comment:23'></a>You put the method under the function `combinatorial_face_to_polyhedral_face`.\nYou need to change its location. Otherwise it is not accessible.",
    "created_at": "2020-01-31T10:59:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290582",
    "user": "https://github.com/LaisRast"
}
```

<a id='comment:23'></a>You put the method under the function `combinatorial_face_to_polyhedral_face`.
You need to change its location. Otherwise it is not accessible.



---

archive/issue_comments_290583.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-01-31T10:59:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290583",
    "user": "https://github.com/LaisRast"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_290584.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-31T11:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290584",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290585.json:
```json
{
    "body": "Changing commit from \"2f114d8e76529192f5879b75c5a368f0b1acc010\" to \"4b803a144fc01e1a4336421b0343dbeec310c789\"",
    "created_at": "2020-01-31T11:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290585",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2f114d8e76529192f5879b75c5a368f0b1acc010" to "4b803a144fc01e1a4336421b0343dbeec310c789"



---

archive/issue_comments_290586.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-01-31T11:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290586",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_290587.json:
```json
{
    "body": "<a id='comment:26'></a>I changed it to \"needs_work\" because it still does not work for non-full-dimensional polytopes.\n\nOn a (very) related topic, the method `normal_fan` of Polyhedron returns\n\n```\nValueError: the normal fan is only defined for full-dimensional polytopes\n```\nfor non-full-dimensional polytopes. It should return \"not implemented\" since `normal_fan` is defined for non-full-dimensional polytopes.",
    "created_at": "2020-01-31T12:04:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290587",
    "user": "https://github.com/LaisRast"
}
```

<a id='comment:26'></a>I changed it to "needs_work" because it still does not work for non-full-dimensional polytopes.

On a (very) related topic, the method `normal_fan` of Polyhedron returns

```
ValueError: the normal fan is only defined for full-dimensional polytopes
```
for non-full-dimensional polytopes. It should return "not implemented" since `normal_fan` is defined for non-full-dimensional polytopes.



---

archive/issue_comments_290588.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-01-31T12:04:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290588",
    "user": "https://github.com/LaisRast"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_290589.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-04T12:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290589",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290590.json:
```json
{
    "body": "Changing commit from \"4b803a144fc01e1a4336421b0343dbeec310c789\" to \"31906994cfeaa60abca4df9970edea2ce183ae8a\"",
    "created_at": "2020-02-04T12:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290590",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4b803a144fc01e1a4336421b0343dbeec310c789" to "31906994cfeaa60abca4df9970edea2ce183ae8a"



---

archive/issue_comments_290591.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-02-04T12:56:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290591",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_290592.json:
```json
{
    "body": "<a id='comment:29'></a>Replying to [comment:26 gh-LaisRast]:\n> I changed it to \"needs_work\" because it still does not work for non-full-dimensional polytopes.\n> \n> On a (very) related topic, the method `normal_fan` of Polyhedron returns\n> \n> ```\n> ValueError: the normal fan is only defined for full-dimensional polytopes\n> ```\n> for non-full-dimensional polytopes. It should return \"not implemented\" since `normal_fan` is defined for non-full-dimensional polytopes.\n\n\nThis should be addressed in a different ticket...",
    "created_at": "2020-02-04T12:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290592",
    "user": "https://github.com/jplab"
}
```

<a id='comment:29'></a>Replying to [comment:26 gh-LaisRast]:
> I changed it to "needs_work" because it still does not work for non-full-dimensional polytopes.
> 
> On a (very) related topic, the method `normal_fan` of Polyhedron returns
> 
> ```
> ValueError: the normal fan is only defined for full-dimensional polytopes
> ```
> for non-full-dimensional polytopes. It should return "not implemented" since `normal_fan` is defined for non-full-dimensional polytopes.


This should be addressed in a different ticket...



---

archive/issue_comments_290593.json:
```json
{
    "body": "Changing dependencies from \"#27973, #28646\" to \"#29155\"",
    "created_at": "2020-02-05T10:00:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290593",
    "user": "https://github.com/kliem"
}
```

Changing dependencies from "#27973, #28646" to "#29155"



---

archive/issue_comments_290594.json:
```json
{
    "body": "<a id='comment:30'></a>Reading carefully your doctests, one sees a bug, which will be fixed in #29155.\n\nInstead of using `faces` for iteration you can use the new method `face_generator`.",
    "created_at": "2020-02-05T10:00:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290594",
    "user": "https://github.com/kliem"
}
```

<a id='comment:30'></a>Reading carefully your doctests, one sees a bug, which will be fixed in #29155.

Instead of using `faces` for iteration you can use the new method `face_generator`.



---

archive/issue_comments_290595.json:
```json
{
    "body": "<a id='comment:31'></a>Replying to [comment:30 gh-kliem]:\n> Reading carefully your doctests, one sees a bug, which will be fixed in #29155.\n\n\nAa ha!! I see I was also somehow confused by that, but did not think more about it.\n\n> \n> Instead of using `faces` for iteration you can use the new method `face_generator`.\n\n\nGood suggestion.",
    "created_at": "2020-02-06T12:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290595",
    "user": "https://github.com/jplab"
}
```

<a id='comment:31'></a>Replying to [comment:30 gh-kliem]:
> Reading carefully your doctests, one sees a bug, which will be fixed in #29155.


Aa ha!! I see I was also somehow confused by that, but did not think more about it.

> 
> Instead of using `faces` for iteration you can use the new method `face_generator`.


Good suggestion.



---

archive/issue_comments_290596.json:
```json
{
    "body": "Changing commit from \"31906994cfeaa60abca4df9970edea2ce183ae8a\" to \"060d2b38b49d99a787c2468c58a757f8656d6bc1\"",
    "created_at": "2020-02-07T09:47:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290596",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "31906994cfeaa60abca4df9970edea2ce183ae8a" to "060d2b38b49d99a787c2468c58a757f8656d6bc1"



---

archive/issue_comments_290597.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-07T09:47:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290597",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290598.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-02-07T10:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290598",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_290599.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jonathan Kliem\"",
    "created_at": "2020-02-07T10:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290599",
    "user": "https://github.com/kliem"
}
```

Changing reviewer from "" to "Jonathan Kliem"



---

archive/issue_comments_290600.json:
```json
{
    "body": "<a id='comment:33'></a>I think the following is more direct:\n\n```diff\n-        origin = parent.zero().vertices()[0].vector()\n+        origin = self.ambient_space().zero()\n```\n\nOtherwise you can put it positive review on my behalf. Maybe wait for bots yet.",
    "created_at": "2020-02-07T10:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290600",
    "user": "https://github.com/kliem"
}
```

<a id='comment:33'></a>I think the following is more direct:

```diff
-        origin = parent.zero().vertices()[0].vector()
+        origin = self.ambient_space().zero()
```

Otherwise you can put it positive review on my behalf. Maybe wait for bots yet.



---

archive/issue_comments_290601.json:
```json
{
    "body": "<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-07T10:20:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290601",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290602.json:
```json
{
    "body": "Changing commit from \"060d2b38b49d99a787c2468c58a757f8656d6bc1\" to \"77d87d5ff776dad45d805318090e380d483cfb4c\"",
    "created_at": "2020-02-07T10:20:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290602",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "060d2b38b49d99a787c2468c58a757f8656d6bc1" to "77d87d5ff776dad45d805318090e380d483cfb4c"



---

archive/issue_comments_290603.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-02-07T10:21:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290603",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_290604.json:
```json
{
    "body": "Changing commit from \"77d87d5ff776dad45d805318090e380d483cfb4c\" to \"7278f23b2bd3178fd399d05d7fd171d808c9f834\"",
    "created_at": "2020-02-07T15:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290604",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "77d87d5ff776dad45d805318090e380d483cfb4c" to "7278f23b2bd3178fd399d05d7fd171d808c9f834"



---

archive/issue_comments_290605.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-07T15:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290605",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290606.json:
```json
{
    "body": "<a id='comment:37'></a>There was an error... `ambient_space` doesn't exist for faces... So I fixed it.",
    "created_at": "2020-02-07T15:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290606",
    "user": "https://github.com/jplab"
}
```

<a id='comment:37'></a>There was an error... `ambient_space` doesn't exist for faces... So I fixed it.



---

archive/issue_comments_290607.json:
```json
{
    "body": "<a id='comment:38'></a>LGTM. Note that #28880 fixes the pyflakes warning.",
    "created_at": "2020-02-07T20:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290607",
    "user": "https://github.com/kliem"
}
```

<a id='comment:38'></a>LGTM. Note that #28880 fixes the pyflakes warning.



---

archive/issue_comments_290608.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-02-07T20:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290608",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_290609.json:
```json
{
    "body": "Changing branch from \"u/jipilab/17215reb2\" to \"7278f23b2bd3178fd399d05d7fd171d808c9f834\"",
    "created_at": "2020-02-17T23:16:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290609",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jipilab/17215reb2" to "7278f23b2bd3178fd399d05d7fd171d808c9f834"



---

archive/issue_events_049850.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-02-17T23:16:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17215#event-49850"
}
```



---

archive/issue_comments_290610.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-02-17T23:16:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17215#issuecomment-290610",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
