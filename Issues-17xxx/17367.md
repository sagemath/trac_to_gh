# Issue 17367: Classes of combinatorial structures

archive/issues_017130.json:
```json
{
    "assignees": [],
    "body": "I propose several feature in this ticket:\n\n- some generic methods for all combinatorial structures:\n    - from a structure: a method \"grade\" to compute the degree of the structure\n    - from a graded component: a method \"ambient\" to find the class of all structures\n I put those methods in a category called ClassesOfCombinatorialStructure.\n\n- a generic pattern to define a class of combinatorial structure\n\n- a fix of some combinatorial structure to be coherent with that... (permutations, compositions, binarytrees).\n\nCC:  @nthiery @zabrocki @alauve @kevindilks\n\nBranch/Commit: **[u/elixyre/class_of_combinatorial_structures](https://github.com/sagemath/sagetrac-mirror/tree/u/elixyre/class_of_combinatorial_structures) @ [2e03999](https://github.com/sagemath/sagetrac-mirror/commit/2e03999e2e6b9b28757191fc42d83662dbbc9ca4)**\n\nAuthor: **Jean-Baptiste Priez**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17367_\n\n",
    "created_at": "2014-11-19T14:40:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20info"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Classes of combinatorial structures",
    "type": "issue",
    "updated_at": "2022-12-29T01:33:44Z",
    "url": "https://github.com/sagemath/sage/issues/17367",
    "user": "https://github.com/sagetrac-elixyre"
}
```
I propose several feature in this ticket:

- some generic methods for all combinatorial structures:
    - from a structure: a method "grade" to compute the degree of the structure
    - from a graded component: a method "ambient" to find the class of all structures
 I put those methods in a category called ClassesOfCombinatorialStructure.

- a generic pattern to define a class of combinatorial structure

- a fix of some combinatorial structure to be coherent with that... (permutations, compositions, binarytrees).

CC:  @nthiery @zabrocki @alauve @kevindilks

Branch/Commit: **[u/elixyre/class_of_combinatorial_structures](https://github.com/sagemath/sagetrac-mirror/tree/u/elixyre/class_of_combinatorial_structures) @ [2e03999](https://github.com/sagemath/sagetrac-mirror/commit/2e03999e2e6b9b28757191fc42d83662dbbc9ca4)**

Author: **Jean-Baptiste Priez**

_Issue created by migration from https://trac.sagemath.org/ticket/17367_





---

archive/issue_events_230010.json:
```json
{
    "actor": "https://github.com/sagetrac-elixyre",
    "created_at": "2014-11-19T14:40:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17367#event-230010"
}
```



---

archive/issue_events_230011.json:
```json
{
    "actor": "https://github.com/sagetrac-elixyre",
    "created_at": "2014-11-19T14:40:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17367#event-230011"
}
```



---

archive/issue_events_230012.json:
```json
{
    "actor": "https://github.com/sagetrac-elixyre",
    "created_at": "2014-11-19T14:40:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17367#event-230012"
}
```



---

archive/issue_comments_234659.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nSo... I want push the code but... it is ask the \"git@trac... password:\". (It is a strange problem, from an other folder of sage I have not this fu**** problem)",
    "created_at": "2014-11-19T14:58:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234659",
    "user": "https://github.com/sagetrac-elixyre"
}
```

<div id="comment:1" align="right">Comment 1</div>

So... I want push the code but... it is ask the "git@trac... password:". (It is a strange problem, from an other folder of sage I have not this fu**** problem)



---

archive/issue_comments_234660.json:
```json
{
    "body": "Branch: **[u/elixyre/class_of_combinatorial_structures](https://github.com/sagemath/sagetrac-mirror/tree/u/elixyre/class_of_combinatorial_structures)**",
    "created_at": "2014-11-19T15:35:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234660",
    "user": "https://github.com/sagetrac-elixyre"
}
```

Branch: **[u/elixyre/class_of_combinatorial_structures](https://github.com/sagemath/sagetrac-mirror/tree/u/elixyre/class_of_combinatorial_structures)**



---

archive/issue_comments_234661.json:
```json
{
    "body": "Commit: **[75a10e9](https://github.com/sagemath/sagetrac-mirror/commit/75a10e9a85d73799891dc8b48f8ada2ffb63d2fc)**",
    "created_at": "2014-11-19T17:32:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234661",
    "user": "https://github.com/nathanncohen"
}
```

Commit: **[75a10e9](https://github.com/sagemath/sagetrac-mirror/commit/75a10e9a85d73799891dc8b48f8ada2ffb63d2fc)**



---

archive/issue_comments_234662.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75a10e9a85d73799891dc8b48f8ada2ffb63d2fc\">75a10e9</a></td><td><code>Ticket classes of combinatorial structures</code></td></tr></table>\n",
    "created_at": "2014-11-19T17:32:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234662",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:3" align="right">Comment 3</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75a10e9a85d73799891dc8b48f8ada2ffb63d2fc">75a10e9</a></td><td><code>Ticket classes of combinatorial structures</code></td></tr></table>




---

archive/issue_comments_234663.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nI have no real interest in this, but I'm curious as to whether such a long name needs to be in the global namespace.  We already have way too many categories there that are fairly \"empty\" when you try to use them directly (as opposed to giving properties to actual mathematical objects).",
    "created_at": "2014-11-19T17:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234663",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:4" align="right">Comment 4</div>

I have no real interest in this, but I'm curious as to whether such a long name needs to be in the global namespace.  We already have way too many categories there that are fairly "empty" when you try to use them directly (as opposed to giving properties to actual mathematical objects).



---

archive/issue_events_230013.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-19T17:47:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17367#event-230013"
}
```



---

archive/issue_comments_234664.json:
```json
{
    "body": "Changed commit from **[75a10e9](https://github.com/sagemath/sagetrac-mirror/commit/75a10e9a85d73799891dc8b48f8ada2ffb63d2fc)** to **[c0e3c31](https://github.com/sagemath/sagetrac-mirror/commit/c0e3c3108492f407522cfc54a08882e80393f513)**",
    "created_at": "2014-11-22T08:42:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234664",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[75a10e9](https://github.com/sagemath/sagetrac-mirror/commit/75a10e9a85d73799891dc8b48f8ada2ffb63d2fc)** to **[c0e3c31](https://github.com/sagemath/sagetrac-mirror/commit/c0e3c3108492f407522cfc54a08882e80393f513)**



---

archive/issue_comments_234665.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0e3c3108492f407522cfc54a08882e80393f513\">c0e3c31</a></td><td><code>ticket 17367: update documentation</code></td></tr></table>\n",
    "created_at": "2014-11-22T08:42:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234665",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5" align="right">Comment 5</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0e3c3108492f407522cfc54a08882e80393f513">c0e3c31</a></td><td><code>ticket 17367: update documentation</code></td></tr></table>




---

archive/issue_comments_234666.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nHey,\n\nSorry I'm the king of duplicate... Plus #16465 it is my own ticket...",
    "created_at": "2014-11-22T10:11:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234666",
    "user": "https://github.com/sagetrac-elixyre"
}
```

<div id="comment:6" align="right">Comment 6</div>

Hey,

Sorry I'm the king of duplicate... Plus #16465 it is my own ticket...



---

archive/issue_comments_234667.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5a300c7c0f0021ef499d847eaf815ac95d83d850\">5a300c7</a></td><td><code>Merge branch 'u/elixyre/class_of_combinatorial_structures' of git://trac.sagemath.org/sage into t17367/class_of_comb_struct</code></td></tr></table>\n",
    "created_at": "2015-09-22T03:02:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234667",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5a300c7c0f0021ef499d847eaf815ac95d83d850">5a300c7</a></td><td><code>Merge branch 'u/elixyre/class_of_combinatorial_structures' of git://trac.sagemath.org/sage into t17367/class_of_comb_struct</code></td></tr></table>




---

archive/issue_comments_234668.json:
```json
{
    "body": "Changed commit from **[c0e3c31](https://github.com/sagemath/sagetrac-mirror/commit/c0e3c3108492f407522cfc54a08882e80393f513)** to **[5a300c7](https://github.com/sagemath/sagetrac-mirror/commit/5a300c7c0f0021ef499d847eaf815ac95d83d850)**",
    "created_at": "2015-09-22T03:02:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234668",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c0e3c31](https://github.com/sagemath/sagetrac-mirror/commit/c0e3c3108492f407522cfc54a08882e80393f513)** to **[5a300c7](https://github.com/sagemath/sagetrac-mirror/commit/5a300c7c0f0021ef499d847eaf815ac95d83d850)**



---

archive/issue_comments_234669.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6771a334eac5460c5d193f58f28ea7fbc782189c\">6771a33</a></td><td><code>ticket 17367: fix the categories of permutations</code></td></tr></table>\n",
    "created_at": "2015-09-22T03:39:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234669",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8" align="right">Comment 8</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6771a334eac5460c5d193f58f28ea7fbc782189c">6771a33</a></td><td><code>ticket 17367: fix the categories of permutations</code></td></tr></table>




---

archive/issue_comments_234670.json:
```json
{
    "body": "Changed commit from **[5a300c7](https://github.com/sagemath/sagetrac-mirror/commit/5a300c7c0f0021ef499d847eaf815ac95d83d850)** to **[6771a33](https://github.com/sagemath/sagetrac-mirror/commit/6771a334eac5460c5d193f58f28ea7fbc782189c)**",
    "created_at": "2015-09-22T03:39:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234670",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5a300c7](https://github.com/sagemath/sagetrac-mirror/commit/5a300c7c0f0021ef499d847eaf815ac95d83d850)** to **[6771a33](https://github.com/sagemath/sagetrac-mirror/commit/6771a334eac5460c5d193f58f28ea7fbc782189c)**



---

archive/issue_events_230014.json:
```json
{
    "actor": "https://github.com/sagetrac-elixyre",
    "created_at": "2015-09-22T03:43:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17367#event-230014"
}
```



---

archive/issue_comments_234671.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nOk... this is not really a duplicate... #16465 contains lot of things... to many... I'm not sure about its destiny! whatever...\n\nThis ticket #17367 provides a category of combinatorial classes `sage.categories.classes_of_combinatorial_structures.py`. \nIt contains some methods that I need to define a simple design of (combinatorial) Hopf algebras.\n\nFor example, most of the time we define graded connected Hopf algebras indexed by a \"connected\" class of combinatorial structure `C`. This means the unit and the counit MUST be automatically defined by the unique element of the graded component of degree 0 of `C` (As an user, I don't want write again and again this same code). \n\n- Problem: In sage, there is no way to ask `C.graded_component(n)`. \n\nThis ticket provides to that, it provides those kind of methods. It also provides some code to easily design a class of combinatorial structures (`sage.combinat.structures.__init__.py`)\n\nnew files: \n\n- `sage.categories.classes_of_combinatorial_structures.py` (the category)\n- `sage.categories.examples.classes_of_combinatorial_structures.py` (an example)\n- `sage.combinat.structures.__init__.py` (the design used in the example)\n\nall classes of combinatorial structures modified to use the category:\n\n- `sage.combinat.composition.py`\n- `sage.combinat.permutation.py`\n- `sage.combinat.binary_trees.py`",
    "created_at": "2015-09-22T03:43:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234671",
    "user": "https://github.com/sagetrac-elixyre"
}
```

<div id="comment:9" align="right">Comment 9</div>

Ok... this is not really a duplicate... #16465 contains lot of things... to many... I'm not sure about its destiny! whatever...

This ticket #17367 provides a category of combinatorial classes `sage.categories.classes_of_combinatorial_structures.py`. 
It contains some methods that I need to define a simple design of (combinatorial) Hopf algebras.

For example, most of the time we define graded connected Hopf algebras indexed by a "connected" class of combinatorial structure `C`. This means the unit and the counit MUST be automatically defined by the unique element of the graded component of degree 0 of `C` (As an user, I don't want write again and again this same code). 

- Problem: In sage, there is no way to ask `C.graded_component(n)`. 

This ticket provides to that, it provides those kind of methods. It also provides some code to easily design a class of combinatorial structures (`sage.combinat.structures.__init__.py`)

new files: 

- `sage.categories.classes_of_combinatorial_structures.py` (the category)
- `sage.categories.examples.classes_of_combinatorial_structures.py` (an example)
- `sage.combinat.structures.__init__.py` (the design used in the example)

all classes of combinatorial structures modified to use the category:

- `sage.combinat.composition.py`
- `sage.combinat.permutation.py`
- `sage.combinat.binary_trees.py`



---

archive/issue_comments_234672.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nI am talking with Jean-Baptiste so I want to make a few things clear in this ticket for the record.  My main question when I look at this category, is how is it different than `InfiniteEnumeratedSet`?   and his answer is that an infinite enumerated set is not necessarily graded while this is the main point of defining this category.\n\nFollow-up question is then is/should/could `ClassesOfCombinatorialStructure` be a sub-category of `GradedSet` and `InfiniteEnumeratedSet`?  He answers: it could be.\n\nFollow-up question is then a better name `InfiniteGradedSet`? Answer: why not?\n\nThe reason graded infinite enumerated sets are ALL over combinat and we need common methods to work with them and create combinatorial Hopf algebras of a `ClassesOfCombinatorialStructure`.  Aaron Lauve was asking me precisely about this structure last time I spoke with him in person (hence I add him to the cc list).  The idea is to create category for defining any combinatorial class for which once the basics of the class are defined then one can make \"the combinatorial Hopf algebra\" of that class.",
    "created_at": "2015-09-22T17:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234672",
    "user": "https://github.com/zabrocki"
}
```

<div id="comment:10" align="right">Comment 10</div>

I am talking with Jean-Baptiste so I want to make a few things clear in this ticket for the record.  My main question when I look at this category, is how is it different than `InfiniteEnumeratedSet`?   and his answer is that an infinite enumerated set is not necessarily graded while this is the main point of defining this category.

Follow-up question is then is/should/could `ClassesOfCombinatorialStructure` be a sub-category of `GradedSet` and `InfiniteEnumeratedSet`?  He answers: it could be.

Follow-up question is then a better name `InfiniteGradedSet`? Answer: why not?

The reason graded infinite enumerated sets are ALL over combinat and we need common methods to work with them and create combinatorial Hopf algebras of a `ClassesOfCombinatorialStructure`.  Aaron Lauve was asking me precisely about this structure last time I spoke with him in person (hence I add him to the cc list).  The idea is to create category for defining any combinatorial class for which once the basics of the class are defined then one can make "the combinatorial Hopf algebra" of that class.



---

archive/issue_comments_234673.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nJean-Baptiste is proposing giving the `Compositions`, `Permutations` and `BinaryTrees` this treatment (as they are some of the first objects that will be used to create a CHA).  I propose adding `SetPartitions` to that list since NCSym is already defined and should follow that structure.",
    "created_at": "2015-09-22T17:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234673",
    "user": "https://github.com/zabrocki"
}
```

<div id="comment:11" align="right">Comment 11</div>

Jean-Baptiste is proposing giving the `Compositions`, `Permutations` and `BinaryTrees` this treatment (as they are some of the first objects that will be used to create a CHA).  I propose adding `SetPartitions` to that list since NCSym is already defined and should follow that structure.



---

archive/issue_comments_234674.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nBut we noticed that it is not necessarily the cases that this category is a sub-category of `InfiniteEnumeratedSet`, instead it could be the set is finite but for all n>some fixed N, the graded component is empty.  Hence this is a subcategory of `SetsWithGrading` and `EnumeratedSets` and its name might be `EnumeratedSetsWithGrading`.",
    "created_at": "2015-09-22T17:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234674",
    "user": "https://github.com/zabrocki"
}
```

<div id="comment:12" align="right">Comment 12</div>

But we noticed that it is not necessarily the cases that this category is a sub-category of `InfiniteEnumeratedSet`, instead it could be the set is finite but for all n>some fixed N, the graded component is empty.  Hence this is a subcategory of `SetsWithGrading` and `EnumeratedSets` and its name might be `EnumeratedSetsWithGrading`.



---

archive/issue_comments_234675.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nGreat ideas. (I prefer to keep \"combinatorial' out of the name, if possible.)\n\nFor the record, we're talking about **enumeratable** sets, right? \n\nSet partitions, etc., may be enumeratable, but I don't want to specify an enumeration (i.e., make it into an enumerated set) if I don't have to.... Or maybe I should? \n(This would certainly be necessary if I planned to identify bases of homogeneous graded slices of a Hopf algebra with QQ<sup>n</sup> for some n, but aside from that, I don't know that I'd want to specify an enumeration.)",
    "created_at": "2015-09-22T18:08:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234675",
    "user": "https://github.com/alauve"
}
```

<div id="comment:13" align="right">Comment 13</div>

Great ideas. (I prefer to keep "combinatorial' out of the name, if possible.)

For the record, we're talking about **enumeratable** sets, right? 

Set partitions, etc., may be enumeratable, but I don't want to specify an enumeration (i.e., make it into an enumerated set) if I don't have to.... Or maybe I should? 
(This would certainly be necessary if I planned to identify bases of homogeneous graded slices of a Hopf algebra with QQ<sup>n</sup> for some n, but aside from that, I don't know that I'd want to specify an enumeration.)



---

archive/issue_comments_234676.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nIn this category you would need to specify the enumeration and it is graded (by non-negative integers by default).\nFor each `n` one would specify a `FiniteEnumeratedSet` which is iterable.  Are you thinking of structures that are not captured by this definition?",
    "created_at": "2015-09-22T18:23:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234676",
    "user": "https://github.com/zabrocki"
}
```

<div id="comment:14" align="right">Comment 14</div>

In this category you would need to specify the enumeration and it is graded (by non-negative integers by default).
For each `n` one would specify a `FiniteEnumeratedSet` which is iterable.  Are you thinking of structures that are not captured by this definition?



---

archive/issue_comments_234677.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7831e368d5781ae29e4c84ec8352474ffdb3892\">d7831e3</a></td><td><code>ticket 17367: fix the notation ClassOfCombinatorialStructures becomes EnumeratedSetsWithGrading and define set_partition in this category</code></td></tr></table>\n",
    "created_at": "2015-09-22T18:25:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234677",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15" align="right">Comment 15</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7831e368d5781ae29e4c84ec8352474ffdb3892">d7831e3</a></td><td><code>ticket 17367: fix the notation ClassOfCombinatorialStructures becomes EnumeratedSetsWithGrading and define set_partition in this category</code></td></tr></table>




---

archive/issue_comments_234678.json:
```json
{
    "body": "Changed commit from **[6771a33](https://github.com/sagemath/sagetrac-mirror/commit/6771a334eac5460c5d193f58f28ea7fbc782189c)** to **[d7831e3](https://github.com/sagemath/sagetrac-mirror/commit/d7831e368d5781ae29e4c84ec8352474ffdb3892)**",
    "created_at": "2015-09-22T18:25:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234678",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6771a33](https://github.com/sagemath/sagetrac-mirror/commit/6771a334eac5460c5d193f58f28ea7fbc782189c)** to **[d7831e3](https://github.com/sagemath/sagetrac-mirror/commit/d7831e368d5781ae29e4c84ec8352474ffdb3892)**



---

archive/issue_comments_234679.json:
```json
{
    "body": "Changed commit from **[d7831e3](https://github.com/sagemath/sagetrac-mirror/commit/d7831e368d5781ae29e4c84ec8352474ffdb3892)** to **[c13301a](https://github.com/sagemath/sagetrac-mirror/commit/c13301a1fe97f639089a691bd0f75d78cc8aa6a0)**",
    "created_at": "2015-09-22T20:33:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234679",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d7831e3](https://github.com/sagemath/sagetrac-mirror/commit/d7831e368d5781ae29e4c84ec8352474ffdb3892)** to **[c13301a](https://github.com/sagemath/sagetrac-mirror/commit/c13301a1fe97f639089a691bd0f75d78cc8aa6a0)**



---

archive/issue_comments_234680.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c13301a1fe97f639089a691bd0f75d78cc8aa6a0\">c13301a</a></td><td><code>ticket 17367: change some notations: Structure becomes ElementStructure and StructuresClass becomes ParentStructure</code></td></tr></table>\n",
    "created_at": "2015-09-22T20:33:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234680",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c13301a1fe97f639089a691bd0f75d78cc8aa6a0">c13301a</a></td><td><code>ticket 17367: change some notations: Structure becomes ElementStructure and StructuresClass becomes ParentStructure</code></td></tr></table>




---

archive/issue_comments_234681.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nHello,\n\nI strongly think that creating this category is useless **and** I certainly understand that it is needed. What I propose is to not create a new category but make this featured sets with NN grading and finite slices available. What I would rather implement is:\n- making the grading set a parameter of the category `SetsWithGrading` (in your case it would be `NN`)\n- adding an axiom `FiniteSlice` to `SetsWithGrading`\nThat way, what you are trying to define would simply be\n\n```\nsage: SetsWithGrading(NN).FiniteSlices() & EnumeratedSets()\nJoin of Category of sets with grading Non negative integer semiring with finite slices\n    and Category of enumerated sets\n```\n(.. the names are awful, but I hope that the plan is clear ...).\n\n\nRelated to my previous remark, you add plenty of stuff that should be discussed at the level of `SetsWithGrading`. For example the presence of a `.grade()` method. And that was actually already discussed while working on #10193 (but sadly not written explicitely in the ticket): we  want Sage to support structure of objects that do not care such much about their environment (i.e. facade sets). A good example is\n\n```\nsage: F = FiniteEnumeratedSet([1,2,3])\nsage: F.an_element().parent()\nInteger Ring\n```\n\nSome terminology and english weirdnesses:\n\n- What is `denumerable`?\n\n- Where did you found your definition of `structure`? `combinatorial structure` would make more sense. I do not understand [comment:13](#comment%3A13). If you talk about structure to a random mathematician, it will rarely end up with some combinatorics in mind.\n\nVincent",
    "created_at": "2015-09-22T22:29:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234681",
    "user": "https://github.com/videlec"
}
```

<div id="comment:17" align="right">Comment 17</div>

Hello,

I strongly think that creating this category is useless **and** I certainly understand that it is needed. What I propose is to not create a new category but make this featured sets with NN grading and finite slices available. What I would rather implement is:
- making the grading set a parameter of the category `SetsWithGrading` (in your case it would be `NN`)
- adding an axiom `FiniteSlice` to `SetsWithGrading`
That way, what you are trying to define would simply be

```
sage: SetsWithGrading(NN).FiniteSlices() & EnumeratedSets()
Join of Category of sets with grading Non negative integer semiring with finite slices
    and Category of enumerated sets
```
(.. the names are awful, but I hope that the plan is clear ...).


Related to my previous remark, you add plenty of stuff that should be discussed at the level of `SetsWithGrading`. For example the presence of a `.grade()` method. And that was actually already discussed while working on #10193 (but sadly not written explicitely in the ticket): we  want Sage to support structure of objects that do not care such much about their environment (i.e. facade sets). A good example is

```
sage: F = FiniteEnumeratedSet([1,2,3])
sage: F.an_element().parent()
Integer Ring
```

Some terminology and english weirdnesses:

- What is `denumerable`?

- Where did you found your definition of `structure`? `combinatorial structure` would make more sense. I do not understand [comment:13](#comment%3A13). If you talk about structure to a random mathematician, it will rarely end up with some combinatorics in mind.

Vincent



---

archive/issue_events_230015.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-22T22:29:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17367#event-230015"
}
```



---

archive/issue_events_230016.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-22T22:29:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17367#event-230016"
}
```



---

archive/issue_events_230017.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-22T22:29:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17367#event-230017"
}
```



---

archive/issue_events_230018.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-22T22:29:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17367#event-230018"
}
```



---

archive/issue_comments_234682.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nIf same thing can be achieved by adding to `SetsWithGrading`, that would be great, but I imagine that some thought will have to go into the applications of this category to make sure they can still be as simple (since one goal is to make it easy to define a combinatorial Hopf algebra, +others).\n\nI didn't know the word `denumerable` either but in my dictionary it says \"adjective - Mathematics - able to be counted by a one-to-one correspondence with the infinite set of integers\" so I figure that is about right.\n\nJean-Baptiste and I had a discussion about the use of `structure` and he was taking it from the use in species and from `sage.misc.structure`.  I agree that it seems a bit too vague a word which prompted the switch to `ElementStructure` and `ParentStructure`.  Maybe this requires further thought.",
    "created_at": "2015-09-23T11:37:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234682",
    "user": "https://github.com/zabrocki"
}
```

<div id="comment:18" align="right">Comment 18</div>

If same thing can be achieved by adding to `SetsWithGrading`, that would be great, but I imagine that some thought will have to go into the applications of this category to make sure they can still be as simple (since one goal is to make it easy to define a combinatorial Hopf algebra, +others).

I didn't know the word `denumerable` either but in my dictionary it says "adjective - Mathematics - able to be counted by a one-to-one correspondence with the infinite set of integers" so I figure that is about right.

Jean-Baptiste and I had a discussion about the use of `structure` and he was taking it from the use in species and from `sage.misc.structure`.  I agree that it seems a bit too vague a word which prompted the switch to `ElementStructure` and `ParentStructure`.  Maybe this requires further thought.



---

archive/issue_comments_234683.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nHi Vincent,\n\nThank you about your comments.\n\nReplying to [@videlec](#comment%3A17):\n> I strongly think that creating this category is useless \n\n\nThis seems **not** totally useless to create a new category or I don't know how to do that easily using the category framework of sage. \nLet me ask you how to that in the following...\n\n> **and** I certainly understand that it is needed. What I propose is to not create a new category but make this featured sets with NN grading and finite slices available. What I would rather implement is:\n> - making the grading set a parameter of the category `SetsWithGrading` (in your case it would be `NN`)\n\nThe parameter *grading set* is already provided in the `SetsWithGrading` category.\n\n> - adding an axiom `FiniteSlice` to `SetsWithGrading`\n\nI also wish to provide a category `GradedComponent` (or `Subset`) with methods `ambient` (which return the set with grading) and `grade` (why not). Where put this class:\n\n```python\nclass SetsWithGrading(Category):\n   ....\n   class GradedComponent(Category):\n      def super_category(self):\n         return .???.\n      class ParentMethods:\n         def ambient(self):\n            pass\n         def grade(self):\n            pass\n```\n\nIt seems natural to have `GradedComponent` as a nested class of `SetWithGrading`, right? (There is no reason that it appears elsewhere.)\n\nAt this point, if I use `FiniteSlice` as an axiom,  *a priori* this class `GradedComponent` should have `FiniteSets` (or better `FiniteEnumeratedSets`) as super category but without the axiom this only should have `Sets`. How do that (easily and properly)?\n\nSo my opinion is `FiniteSlice` is not an axiom and the code of `GradedComponent` should be duplicate, one using `Sets` as super category and the other using `FiniteSets`. \n\n> That way, what you are trying to define would simply be\n> \n> ```\n> sage: SetsWithGrading(NN).FiniteSlices() & EnumeratedSets()\n> Join of Category of sets with grading Non negative integer semiring with finite slices\n>     and Category of enumerated sets\n> ```\n> (.. the names are awful, but I hope that the plan is clear ...).\n\nIf we have a finite sets (in sage), could we assume that it is an enumerated sets? (I suppose the answer is **no** but...)",
    "created_at": "2015-09-23T14:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234683",
    "user": "https://github.com/sagetrac-elixyre"
}
```

<div id="comment:19" align="right">Comment 19</div>

Hi Vincent,

Thank you about your comments.

Replying to [@videlec](#comment%3A17):
> I strongly think that creating this category is useless 


This seems **not** totally useless to create a new category or I don't know how to do that easily using the category framework of sage. 
Let me ask you how to that in the following...

> **and** I certainly understand that it is needed. What I propose is to not create a new category but make this featured sets with NN grading and finite slices available. What I would rather implement is:
> - making the grading set a parameter of the category `SetsWithGrading` (in your case it would be `NN`)

The parameter *grading set* is already provided in the `SetsWithGrading` category.

> - adding an axiom `FiniteSlice` to `SetsWithGrading`

I also wish to provide a category `GradedComponent` (or `Subset`) with methods `ambient` (which return the set with grading) and `grade` (why not). Where put this class:

```python
class SetsWithGrading(Category):
   ....
   class GradedComponent(Category):
      def super_category(self):
         return .???.
      class ParentMethods:
         def ambient(self):
            pass
         def grade(self):
            pass
```

It seems natural to have `GradedComponent` as a nested class of `SetWithGrading`, right? (There is no reason that it appears elsewhere.)

At this point, if I use `FiniteSlice` as an axiom,  *a priori* this class `GradedComponent` should have `FiniteSets` (or better `FiniteEnumeratedSets`) as super category but without the axiom this only should have `Sets`. How do that (easily and properly)?

So my opinion is `FiniteSlice` is not an axiom and the code of `GradedComponent` should be duplicate, one using `Sets` as super category and the other using `FiniteSets`. 

> That way, what you are trying to define would simply be
> 
> ```
> sage: SetsWithGrading(NN).FiniteSlices() & EnumeratedSets()
> Join of Category of sets with grading Non negative integer semiring with finite slices
>     and Category of enumerated sets
> ```
> (.. the names are awful, but I hope that the plan is clear ...).

If we have a finite sets (in sage), could we assume that it is an enumerated sets? (I suppose the answer is **no** but...)



---

archive/issue_comments_234684.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nReplying to [@sagetrac-elixyre](#comment%3A19):\n> Replying to [@videlec](#comment%3A17):\n> > I strongly think that creating this category is useless \n\n>  \n> This seems **not** totally useless to create a new category or I don't know how to do that easily using the category framework of sage. \n> Let me ask you how to that in the following...\n> \n> > **and** I certainly understand that it is needed. What I propose is to not create a new category but make this featured sets with NN grading and finite slices available. What I would rather implement is:\n> > - making the grading set a parameter of the category `SetsWithGrading` (in your case it would be `NN`)\n\n> \n> The parameter *grading set* is already provided in the `SetsWithGrading` category.\n\nThis is not true. It is provided by the parents that belong to the category. You have no category `Sets with grading NN`. Whereas you have\n\n```\nsage: Modules(ZZ)\nCategory of modules over Integer Ring\nsage: Modules(Zmod(4)['a','b'])\nCategory of modules over Multivariate Polynomial Ring\n  in a, b over Ring of integers modulo 4\n```\nIn the case of `SetsWithGrading` the grading set is not attached to the category. It is just a mandatory attribute (in the common sense) of the parents of this category.\n\n> > - adding an axiom `FiniteSlice` to `SetsWithGrading`\n\n> \n> I also wish to provide a category `GradedComponent` (or `Subset`) with methods `ambient` (which return the set with grading) and `grade` (why not). Where put this class:\n\nDo you mean a method of the parent belonging to that category?\n\n- For the `.ambient()` method, this is not specific to the parent that are the graded component of a graded set. The lack is that there is nothing right now for a parent that needs to be seen as a subset of another parent. That would be the most natural. The facades are already close to that.\n\n- Do you really want to impose a `.grade()` method in each of the graded component?\n\n- On the other hand, I think that there should be a special mechanism in `SetsWithGrading` to be able to specify any restriction on the category of the graded components. That would be the most natural and certainly the easiest to implement.\n\n> It seems natural to have `GradedComponent` as a nested class of `SetWithGrading`, right? (There is no reason that it appears elsewhere.)\n\nI don't think that this `GradedComponent` should exist. As I said above, it would be better to have something to be able to specify an ambient parent.\n\n> At this point, if I use `FiniteSlice` as an axiom,  *a priori* this class `GradedComponent` should have `FiniteSets` (or better `FiniteEnumeratedSets`) as super category but without the axiom this only should have `Sets`. How do that (easily and properly)?\n\nI still do not think that this `GradedComponent` should exist... so there is no trouble.\n\n> So my opinion is `FiniteSlice` is not an axiom and the code of `GradedComponent` should be duplicate, one using `Sets` as super category and the other using `FiniteSets`. \n\nCertainly not. Solutions for categories should never be with a class for each particular problem.\n\n> If we have a finite sets (in sage), could we assume that it is an enumerated sets? (I suppose the answer is **no** but...)\n\nIndeed. The problem is that the behavior are actually quite different (see also [#18411 comment 39](https://github.com/sagemath/sage/issues/18411#comment:39) and [#18411 comment 40](https://github.com/sagemath/sage/issues/18411#comment:40)):\n\n```\nsage: FiniteEnumeratedSet([1,2,3]) == FiniteEnumeratedSet([3,2,1])\nFalse\nsage: Set([1,2,3]) == Set([3,2,1])\nTrue\n```\nEnumerated in the Sage category context does not mean iterable, it is rather *with a presribed iteration order*. Nicolas wanted a new category `IterableSets` but I think it is going too far.\n\nWhen we will converge to something reasonable, it would be better to split the features:\n- a ticket to implement being subset of a parent (i.e. the `ambient` method)\n- a ticket to implement the category restrictions on the slices\n- etc\n\nThe most important is to actually **not** focus on your particular case if you want to implement something useful for categories.",
    "created_at": "2015-09-23T16:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234684",
    "user": "https://github.com/videlec"
}
```

<div id="comment:20" align="right">Comment 20</div>

Replying to [@sagetrac-elixyre](#comment%3A19):
> Replying to [@videlec](#comment%3A17):
> > I strongly think that creating this category is useless 

>  
> This seems **not** totally useless to create a new category or I don't know how to do that easily using the category framework of sage. 
> Let me ask you how to that in the following...
> 
> > **and** I certainly understand that it is needed. What I propose is to not create a new category but make this featured sets with NN grading and finite slices available. What I would rather implement is:
> > - making the grading set a parameter of the category `SetsWithGrading` (in your case it would be `NN`)

> 
> The parameter *grading set* is already provided in the `SetsWithGrading` category.

This is not true. It is provided by the parents that belong to the category. You have no category `Sets with grading NN`. Whereas you have

```
sage: Modules(ZZ)
Category of modules over Integer Ring
sage: Modules(Zmod(4)['a','b'])
Category of modules over Multivariate Polynomial Ring
  in a, b over Ring of integers modulo 4
```
In the case of `SetsWithGrading` the grading set is not attached to the category. It is just a mandatory attribute (in the common sense) of the parents of this category.

> > - adding an axiom `FiniteSlice` to `SetsWithGrading`

> 
> I also wish to provide a category `GradedComponent` (or `Subset`) with methods `ambient` (which return the set with grading) and `grade` (why not). Where put this class:

Do you mean a method of the parent belonging to that category?

- For the `.ambient()` method, this is not specific to the parent that are the graded component of a graded set. The lack is that there is nothing right now for a parent that needs to be seen as a subset of another parent. That would be the most natural. The facades are already close to that.

- Do you really want to impose a `.grade()` method in each of the graded component?

- On the other hand, I think that there should be a special mechanism in `SetsWithGrading` to be able to specify any restriction on the category of the graded components. That would be the most natural and certainly the easiest to implement.

> It seems natural to have `GradedComponent` as a nested class of `SetWithGrading`, right? (There is no reason that it appears elsewhere.)

I don't think that this `GradedComponent` should exist. As I said above, it would be better to have something to be able to specify an ambient parent.

> At this point, if I use `FiniteSlice` as an axiom,  *a priori* this class `GradedComponent` should have `FiniteSets` (or better `FiniteEnumeratedSets`) as super category but without the axiom this only should have `Sets`. How do that (easily and properly)?

I still do not think that this `GradedComponent` should exist... so there is no trouble.

> So my opinion is `FiniteSlice` is not an axiom and the code of `GradedComponent` should be duplicate, one using `Sets` as super category and the other using `FiniteSets`. 

Certainly not. Solutions for categories should never be with a class for each particular problem.

> If we have a finite sets (in sage), could we assume that it is an enumerated sets? (I suppose the answer is **no** but...)

Indeed. The problem is that the behavior are actually quite different (see also [#18411 comment 39](https://github.com/sagemath/sage/issues/18411#comment:39) and [#18411 comment 40](https://github.com/sagemath/sage/issues/18411#comment:40)):

```
sage: FiniteEnumeratedSet([1,2,3]) == FiniteEnumeratedSet([3,2,1])
False
sage: Set([1,2,3]) == Set([3,2,1])
True
```
Enumerated in the Sage category context does not mean iterable, it is rather *with a presribed iteration order*. Nicolas wanted a new category `IterableSets` but I think it is going too far.

When we will converge to something reasonable, it would be better to split the features:
- a ticket to implement being subset of a parent (i.e. the `ambient` method)
- a ticket to implement the category restrictions on the slices
- etc

The most important is to actually **not** focus on your particular case if you want to implement something useful for categories.



---

archive/issue_comments_234685.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nReplying to [@videlec](#comment%3A20):\n> This is not true. It is provided by the parents that belong to the category. You have no category `Sets with grading NN`. Whereas you have\n> \n> ```\n> sage: Modules(ZZ)\n> Category of modules over Integer Ring\n> sage: Modules(Zmod(4)['a','b'])\n> Category of modules over Multivariate Polynomial Ring\n>   in a, b over Ring of integers modulo 4\n> ```\n> In the case of `SetsWithGrading` the grading set is not attached to the category. It is just a mandatory attribute (in the common sense) of the parents of this category.\n\nI understand your point. What I say that it is already a method which provides to the parent a default grading set: `.grading_set()`.\n> \n> > > - adding an axiom `FiniteSlice` to `SetsWithGrading`\n\n> > \n> > I also wish to provide a category `GradedComponent` (or `Subset`) with methods `ambient` (which return the set with grading) and `grade` (why not). Where put this class:\n\n> \n> Do you mean a method of the parent belonging to that category?\n> \n> - For the `.ambient()` method, this is not specific to the parent that are the graded component of a graded set. The lack is that there is nothing right now for a parent that needs to be seen as a subset of another parent. That would be the most natural. The facades are already close to that.\n\nHow to use facade such that there is an `ambient` method?\n\n> \n> - Do you really want to impose a `.grade()` method in each of the graded component?\n\nYes, this should be coherent with the degree.\n\n> \n> - On the other hand, I think that there should be a special mechanism in `SetsWithGrading` to be able to specify any restriction on the category of the graded components. That would be the most natural and certainly the easiest to implement.\n\nI'm not sure to understand what you mean. \n\n> \n> > It seems natural to have `GradedComponent` as a nested class of `SetWithGrading`, right? (There is no reason that it appears elsewhere.)\n\n> \n> I don't think that this `GradedComponent` should exist. As I said above, it would be better to have something to be able to specify an ambient parent.\n\nOk, so have you any idea about how to do that? (I don't understand the mean `facade` or if I understand this is useless... this is just a definition without any code...)\n\n> [...]\n> When we will converge to something reasonable, it would be better to split the features:\n> - a ticket to implement being subset of a parent (i.e. the `ambient` method)\n> - a ticket to implement the category restrictions on the slices\n> - etc\n> \n> The most important is to actually **not** focus on your particular case if you want to implement something useful for categories.\n\nPlease, could you provide this splitting and propose some code to start? (I'm lost in the sage maze... show me the line)\n\nI don't care about the path, but at the end, a **denumerable set** `C` (or any other name which means graded set with finite graded component) should provide (from a category) a method: `CJ = C.graded_component(J)` (with `J` an index whatever the grading set) and from this graded component we should go back to the *facade* `CJ.ambient() == C` and we must be able to control that `CJ in FiniteSets()`.",
    "created_at": "2015-09-23T16:44:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234685",
    "user": "https://github.com/sagetrac-elixyre"
}
```

<div id="comment:21" align="right">Comment 21</div>

Replying to [@videlec](#comment%3A20):
> This is not true. It is provided by the parents that belong to the category. You have no category `Sets with grading NN`. Whereas you have
> 
> ```
> sage: Modules(ZZ)
> Category of modules over Integer Ring
> sage: Modules(Zmod(4)['a','b'])
> Category of modules over Multivariate Polynomial Ring
>   in a, b over Ring of integers modulo 4
> ```
> In the case of `SetsWithGrading` the grading set is not attached to the category. It is just a mandatory attribute (in the common sense) of the parents of this category.

I understand your point. What I say that it is already a method which provides to the parent a default grading set: `.grading_set()`.
> 
> > > - adding an axiom `FiniteSlice` to `SetsWithGrading`

> > 
> > I also wish to provide a category `GradedComponent` (or `Subset`) with methods `ambient` (which return the set with grading) and `grade` (why not). Where put this class:

> 
> Do you mean a method of the parent belonging to that category?
> 
> - For the `.ambient()` method, this is not specific to the parent that are the graded component of a graded set. The lack is that there is nothing right now for a parent that needs to be seen as a subset of another parent. That would be the most natural. The facades are already close to that.

How to use facade such that there is an `ambient` method?

> 
> - Do you really want to impose a `.grade()` method in each of the graded component?

Yes, this should be coherent with the degree.

> 
> - On the other hand, I think that there should be a special mechanism in `SetsWithGrading` to be able to specify any restriction on the category of the graded components. That would be the most natural and certainly the easiest to implement.

I'm not sure to understand what you mean. 

> 
> > It seems natural to have `GradedComponent` as a nested class of `SetWithGrading`, right? (There is no reason that it appears elsewhere.)

> 
> I don't think that this `GradedComponent` should exist. As I said above, it would be better to have something to be able to specify an ambient parent.

Ok, so have you any idea about how to do that? (I don't understand the mean `facade` or if I understand this is useless... this is just a definition without any code...)

> [...]
> When we will converge to something reasonable, it would be better to split the features:
> - a ticket to implement being subset of a parent (i.e. the `ambient` method)
> - a ticket to implement the category restrictions on the slices
> - etc
> 
> The most important is to actually **not** focus on your particular case if you want to implement something useful for categories.

Please, could you provide this splitting and propose some code to start? (I'm lost in the sage maze... show me the line)

I don't care about the path, but at the end, a **denumerable set** `C` (or any other name which means graded set with finite graded component) should provide (from a category) a method: `CJ = C.graded_component(J)` (with `J` an index whatever the grading set) and from this graded component we should go back to the *facade* `CJ.ambient() == C` and we must be able to control that `CJ in FiniteSets()`.



---

archive/issue_comments_234686.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nI think you cheated a little bit with your implementation on `Compositions`.  On master I see:\n\n```\nsage: Compositions(3)([4,1])\n...\nValueError: [4, 1] not in Compositions of 3\n```\nOn this branch\n\n```\nsage: Compositions(3)([4,1])\n[4, 1]\n```\nYou can see why, because you overwrote the `_element_constructor_` method in `Compositions_n` and made it a little too simple.  I tried to do a similar change on `Partitions` and I was getting doc test failures for not having a `grade` in certain classes.  Maybe we can talk about if it is possible to make this a little easier to implement on particular classes.",
    "created_at": "2015-09-25T12:50:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234686",
    "user": "https://github.com/zabrocki"
}
```

<div id="comment:22" align="right">Comment 22</div>

I think you cheated a little bit with your implementation on `Compositions`.  On master I see:

```
sage: Compositions(3)([4,1])
...
ValueError: [4, 1] not in Compositions of 3
```
On this branch

```
sage: Compositions(3)([4,1])
[4, 1]
```
You can see why, because you overwrote the `_element_constructor_` method in `Compositions_n` and made it a little too simple.  I tried to do a similar change on `Partitions` and I was getting doc test failures for not having a `grade` in certain classes.  Maybe we can talk about if it is possible to make this a little easier to implement on particular classes.



---

archive/issue_comments_234687.json:
```json
{
    "body": "Changed commit from **[c13301a](https://github.com/sagemath/sagetrac-mirror/commit/c13301a1fe97f639089a691bd0f75d78cc8aa6a0)** to **[6be8fde](https://github.com/sagemath/sagetrac-mirror/commit/6be8fdea46692fcbabdf565fe35e0bf14d216534)**",
    "created_at": "2015-09-30T14:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234687",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c13301a](https://github.com/sagemath/sagetrac-mirror/commit/c13301a1fe97f639089a691bd0f75d78cc8aa6a0)** to **[6be8fde](https://github.com/sagemath/sagetrac-mirror/commit/6be8fdea46692fcbabdf565fe35e0bf14d216534)**



---

archive/issue_comments_234688.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6be8fdea46692fcbabdf565fe35e0bf14d216534\">6be8fde</a></td><td><code>ticket 17367: fix the classcall method such that an element is a subclass of parent.element_class</code></td></tr></table>\n",
    "created_at": "2015-09-30T14:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234688",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23" align="right">Comment 23</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6be8fdea46692fcbabdf565fe35e0bf14d216534">6be8fde</a></td><td><code>ticket 17367: fix the classcall method such that an element is a subclass of parent.element_class</code></td></tr></table>




---

archive/issue_comments_234689.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/445ba61616c80b73c1f4ca6383d95e93ea6a2165\">445ba61</a></td><td><code>ticket 17367: fix element_constructor method of compositions</code></td></tr></table>\n",
    "created_at": "2015-09-30T15:40:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234689",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24" align="right">Comment 24</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/445ba61616c80b73c1f4ca6383d95e93ea6a2165">445ba61</a></td><td><code>ticket 17367: fix element_constructor method of compositions</code></td></tr></table>




---

archive/issue_comments_234690.json:
```json
{
    "body": "Changed commit from **[6be8fde](https://github.com/sagemath/sagetrac-mirror/commit/6be8fdea46692fcbabdf565fe35e0bf14d216534)** to **[445ba61](https://github.com/sagemath/sagetrac-mirror/commit/445ba61616c80b73c1f4ca6383d95e93ea6a2165)**",
    "created_at": "2015-09-30T15:40:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234690",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6be8fde](https://github.com/sagemath/sagetrac-mirror/commit/6be8fdea46692fcbabdf565fe35e0bf14d216534)** to **[445ba61](https://github.com/sagemath/sagetrac-mirror/commit/445ba61616c80b73c1f4ca6383d95e93ea6a2165)**



---

archive/issue_comments_234691.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@zabrocki](#comment%3A22):\n> I think you cheated a little bit with your implementation on `Compositions`.  On master I see:\n> \n> ```\n> sage: Compositions(3)([4,1])\n> ...\n> ValueError: [4, 1] not in Compositions of 3\n> ```\n> On this branch\n> \n> ```\n> sage: Compositions(3)([4,1])\n> [4, 1]\n> ```\n> You can see why, because you overwrote the `_element_constructor_` method in `Compositions_n` and made it a little too simple.  I tried to do a similar change on `Partitions` and I was getting doc test failures for not having a `grade` in certain classes.  Maybe we can talk about if it is possible to make this a little easier to implement on particular classes.\n\nI have fixed that:\n\n```\nsage: Compositions(3)([4,1])\nTraceback (most recent call last):\n...\nValueError: `[4, 1]` should be an element of Compositions of 3\n```\n\nReplying to [@sagetrac-elixyre](#comment%3A21):\n> Replying to [@videlec](#comment%3A20): \n> > [...]\n> > When we will converge to something reasonable, it would be better to split the features:\n> > - a ticket to implement being subset of a parent (i.e. the `ambient` method)\n> > - a ticket to implement the category restrictions on the slices\n> > - etc\n> > \n> > The most important is to actually **not** focus on your particular case if you want to implement something useful for categories.\n\n> \n> Please, could you provide this splitting and propose some code to start? (I'm lost in the sage maze... show me the line)\n\nVincent, could you take some time to answer us your plan about this ticket?",
    "created_at": "2015-09-30T15:47:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234691",
    "user": "https://github.com/sagetrac-elixyre"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@zabrocki](#comment%3A22):
> I think you cheated a little bit with your implementation on `Compositions`.  On master I see:
> 
> ```
> sage: Compositions(3)([4,1])
> ...
> ValueError: [4, 1] not in Compositions of 3
> ```
> On this branch
> 
> ```
> sage: Compositions(3)([4,1])
> [4, 1]
> ```
> You can see why, because you overwrote the `_element_constructor_` method in `Compositions_n` and made it a little too simple.  I tried to do a similar change on `Partitions` and I was getting doc test failures for not having a `grade` in certain classes.  Maybe we can talk about if it is possible to make this a little easier to implement on particular classes.

I have fixed that:

```
sage: Compositions(3)([4,1])
Traceback (most recent call last):
...
ValueError: `[4, 1]` should be an element of Compositions of 3
```

Replying to [@sagetrac-elixyre](#comment%3A21):
> Replying to [@videlec](#comment%3A20): 
> > [...]
> > When we will converge to something reasonable, it would be better to split the features:
> > - a ticket to implement being subset of a parent (i.e. the `ambient` method)
> > - a ticket to implement the category restrictions on the slices
> > - etc
> > 
> > The most important is to actually **not** focus on your particular case if you want to implement something useful for categories.

> 
> Please, could you provide this splitting and propose some code to start? (I'm lost in the sage maze... show me the line)

Vincent, could you take some time to answer us your plan about this ticket?



---

archive/issue_comments_234692.json:
```json
{
    "body": "Changed commit from **[445ba61](https://github.com/sagemath/sagetrac-mirror/commit/445ba61616c80b73c1f4ca6383d95e93ea6a2165)** to **[2e03999](https://github.com/sagemath/sagetrac-mirror/commit/2e03999e2e6b9b28757191fc42d83662dbbc9ca4)**",
    "created_at": "2015-11-03T09:36:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234692",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[445ba61](https://github.com/sagemath/sagetrac-mirror/commit/445ba61616c80b73c1f4ca6383d95e93ea6a2165)** to **[2e03999](https://github.com/sagemath/sagetrac-mirror/commit/2e03999e2e6b9b28757191fc42d83662dbbc9ca4)**



---

archive/issue_comments_234693.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e03999e2e6b9b28757191fc42d83662dbbc9ca4\">2e03999</a></td><td><code>ticket 17367: update tuto</code></td></tr></table>\n",
    "created_at": "2015-11-03T09:36:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17367#issuecomment-234693",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27" align="right">Comment 27</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e03999e2e6b9b28757191fc42d83662dbbc9ca4">2e03999</a></td><td><code>ticket 17367: update tuto</code></td></tr></table>




---

archive/issue_events_230019.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:33:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17367",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17367#event-230019"
}
```
