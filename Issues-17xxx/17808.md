# Issue 17808: Preparse old-style octals as strings

archive/issues_017571.json:
```json
{
    "assignees": [],
    "body": "To solve #17807, we preparse `0100` as `Integer('0100')` instead of `Integer(0100)`: thanks to #17413, this will give a deprecation warning so that users should know something funny is going on:\n\n```\nsage: 0100\n/usr/local/src/sage-git/local/lib/python2.7/site-packages/IPython/core/interactiveshell.py:2883: DeprecationWarning: use 0o as octal prefix instead of 0\nIf you do not want this number to be interpreted as octal, remove the leading zeros.\nSee http://trac.sagemath.org/17413 for details.\n  exec(code_obj, self.user_global_ns, self.user_ns)\n64\n```\n\nWe also preparse new-style binary/octal/hex strings as integers instead of strings, which should be faster, see [comment:5].\n\nBranch/Commit: **[`52fd0ce`](https://github.com/sagemath/sagetrac-mirror/commit/52fd0ce06e69b95582edf1a1401159cb44c96430)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Jeroen Demeyer**\n\nComponent: **python3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17808_\n\n",
    "closed_at": "2016-05-31T07:29:46Z",
    "created_at": "2015-02-19T08:31:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Preparse old-style octals as strings",
    "type": "issue",
    "updated_at": "2016-05-31T07:29:46Z",
    "url": "https://github.com/sagemath/sage/issues/17808",
    "user": "https://github.com/jdemeyer"
}
```
To solve #17807, we preparse `0100` as `Integer('0100')` instead of `Integer(0100)`: thanks to #17413, this will give a deprecation warning so that users should know something funny is going on:

```
sage: 0100
/usr/local/src/sage-git/local/lib/python2.7/site-packages/IPython/core/interactiveshell.py:2883: DeprecationWarning: use 0o as octal prefix instead of 0
If you do not want this number to be interpreted as octal, remove the leading zeros.
See http://trac.sagemath.org/17413 for details.
  exec(code_obj, self.user_global_ns, self.user_ns)
64
```

We also preparse new-style binary/octal/hex strings as integers instead of strings, which should be faster, see [comment:5].

Branch/Commit: **[`52fd0ce`](https://github.com/sagemath/sagetrac-mirror/commit/52fd0ce06e69b95582edf1a1401159cb44c96430)**

Reviewer: **Frédéric Chapoton**

Author: **Jeroen Demeyer**

Component: **python3**

_Issue created by migration from https://trac.sagemath.org/ticket/17808_





---

archive/issue_events_251205.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-19T08:31:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251205"
}
```



---

archive/issue_events_251206.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-19T08:31:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251206"
}
```



---

archive/issue_events_251207.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-19T08:31:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251207"
}
```



---

archive/issue_comments_240506.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,14 +15,23 @@\n \n This has two advantages:\n \n-1. it would also be a lot faster since MPIR parses large string constants faster than Python:\n+1. it would be a lot faster for large numbers since MPIR is asymptotically faster than Python:\n \n ```\n sage: s=\"1\" + \"0\"*10000\n-sage: timeit(\"\"\"eval(\"%s\")\"\"\" % s)\n-625 loops, best of 3: 751 \u00b5s per loop\n+sage: timeit(\"\"\"eval('Integer(%s)')\"\"\" % s)\n+625 loops, best of 3: 761 \u00b5s per loop\n sage: timeit(\"\"\"eval('Integer(\"%s\")')\"\"\" % s)\n 625 loops, best of 3: 151 \u00b5s per loop\n ```\n+For small numbers, there is a slight slowdown though:\n+\n+```\n+sage: s=\"1000\"\n+sage: timeit(\"\"\"eval('Integer(%s)')\"\"\" % s)\n+625 loops, best of 3: 9.56 \u00b5s per loop\n+sage: timeit(\"\"\"eval('Integer(\"%s\")')\"\"\" % s)\n+625 loops, best of 3: 11 \u00b5s per loop\n+```\n \n 2. It solves #17807: thanks to #17413, entering `0100` will give a deprecation warning so at users should know something funny is going on when they enter `0100`.\n``````\n",
    "created_at": "2015-02-19T08:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240506",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,14 +15,23 @@
 
 This has two advantages:
 
-1. it would also be a lot faster since MPIR parses large string constants faster than Python:
+1. it would be a lot faster for large numbers since MPIR is asymptotically faster than Python:
 
 ```
 sage: s="1" + "0"*10000
-sage: timeit("""eval("%s")""" % s)
-625 loops, best of 3: 751 µs per loop
+sage: timeit("""eval('Integer(%s)')""" % s)
+625 loops, best of 3: 761 µs per loop
 sage: timeit("""eval('Integer("%s")')""" % s)
 625 loops, best of 3: 151 µs per loop
 ```
+For small numbers, there is a slight slowdown though:
+
+```
+sage: s="1000"
+sage: timeit("""eval('Integer(%s)')""" % s)
+625 loops, best of 3: 9.56 µs per loop
+sage: timeit("""eval('Integer("%s")')""" % s)
+625 loops, best of 3: 11 µs per loop
+```
 
 2. It solves #17807: thanks to #17413, entering `0100` will give a deprecation warning so at users should know something funny is going on when they enter `0100`.
``````




---

archive/issue_comments_240507.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -34,4 +34,12 @@\n 625 loops, best of 3: 11 \u00b5s per loop\n ```\n \n-2. It solves #17807: thanks to #17413, entering `0100` will give a deprecation warning so at users should know something funny is going on when they enter `0100`.\n+2. It solves #17807: thanks to #17413, entering `0100` will give a deprecation warning so that users should know something funny is going on:\n+\n+```\n+sage: 0100\n+/usr/local/src/sage-git/local/lib/python2.7/site-packages/IPython/core/interactiveshell.py:2883: DeprecationWarning: use 0o as octal prefix instead of 0\n+See http://trac.sagemath.org/17413 for details.\n+  exec(code_obj, self.user_global_ns, self.user_ns)\n+64\n+```\n``````\n",
    "created_at": "2015-02-19T08:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240507",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -34,4 +34,12 @@
 625 loops, best of 3: 11 µs per loop
 ```
 
-2. It solves #17807: thanks to #17413, entering `0100` will give a deprecation warning so at users should know something funny is going on when they enter `0100`.
+2. It solves #17807: thanks to #17413, entering `0100` will give a deprecation warning so that users should know something funny is going on:
+
+```
+sage: 0100
+/usr/local/src/sage-git/local/lib/python2.7/site-packages/IPython/core/interactiveshell.py:2883: DeprecationWarning: use 0o as octal prefix instead of 0
+See http://trac.sagemath.org/17413 for details.
+  exec(code_obj, self.user_global_ns, self.user_ns)
+64
+```
``````




---

archive/issue_comments_240508.json:
```json
{
    "body": "Branch: **[u/jdemeyer/ticket/17808](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/17808)**",
    "created_at": "2015-02-21T20:22:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240508",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/ticket/17808](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/17808)**



---

archive/issue_events_251208.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-21T20:23:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251208"
}
```



---

archive/issue_comments_240509.json:
```json
{
    "body": "Commit: **[`533af4c`](https://github.com/sagemath/sagetrac-mirror/commit/533af4ce9ae65f71d38177052fccb28cc69234e7)**",
    "created_at": "2015-02-21T20:23:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240509",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`533af4c`](https://github.com/sagemath/sagetrac-mirror/commit/533af4ce9ae65f71d38177052fccb28cc69234e7)**



---

archive/issue_comments_240510.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2015-02-21T20:23:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240510",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_240511.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/533af4ce9ae65f71d38177052fccb28cc69234e7\"><code>533af4c</code></a></td><td><code>Preparse integers as strings</code></td></tr></table>\n",
    "created_at": "2015-02-21T20:23:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240511",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/533af4ce9ae65f71d38177052fccb28cc69234e7"><code>533af4c</code></a></td><td><code>Preparse integers as strings</code></td></tr></table>




---

archive/issue_comments_240512.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI would think the slow-down for small integers makes the proposed changes very unattractive. The whole idea of preparsing `100` as `Integer(100)` is that in the AST and the generated byte code, the constant `100` is already stored as a numerical one, and hence conversion is much faster.\n\nFor instance, in code like:\n\n```\nsage: %timeit L=[Integer('1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000') for i in range(10000r)]\n100 loops, best of 3: 11.4 ms per loop\nsage: %timeit L=[Integer(1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000) for i in range(10000r)]\n100 loops, best of 3: 4.66 ms per loop\n```\nyou really start to notice this.\n\npreparse_file mitigates issues like this a little bit by factoring out numeric constants, so that their conversion doesn't happen in inner loops.\n\nIf you want to store your numerical constants as strings in the byte code and have fast conversion, you should probably store them in hex. It's a little more work in the preparser, but the result is more compact and conversion to a numerical constant is truly linear in number of bits.",
    "created_at": "2015-02-22T08:11:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240512",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:5" align="right">comment:5</div>

I would think the slow-down for small integers makes the proposed changes very unattractive. The whole idea of preparsing `100` as `Integer(100)` is that in the AST and the generated byte code, the constant `100` is already stored as a numerical one, and hence conversion is much faster.

For instance, in code like:

```
sage: %timeit L=[Integer('1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000') for i in range(10000r)]
100 loops, best of 3: 11.4 ms per loop
sage: %timeit L=[Integer(1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000) for i in range(10000r)]
100 loops, best of 3: 4.66 ms per loop
```
you really start to notice this.

preparse_file mitigates issues like this a little bit by factoring out numeric constants, so that their conversion doesn't happen in inner loops.

If you want to store your numerical constants as strings in the byte code and have fast conversion, you should probably store them in hex. It's a little more work in the preparser, but the result is more compact and conversion to a numerical constant is truly linear in number of bits.



---

archive/issue_comments_240513.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@nbruin](#comment:5):\n> The whole idea of preparsing `100` as `Integer(100)` is that in the AST and the generated byte code, the constant `100` is already stored as a numerical one\n\nIs that really important? The \"timeit\" example is of course a bit artificial.",
    "created_at": "2015-02-22T09:24:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240513",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@nbruin](#comment:5):
> The whole idea of preparsing `100` as `Integer(100)` is that in the AST and the generated byte code, the constant `100` is already stored as a numerical one

Is that really important? The "timeit" example is of course a bit artificial.



---

archive/issue_comments_240514.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jdemeyer](#comment:6):\n> Replying to [@nbruin](#comment:5):\n> > The whole idea of preparsing `100` as `Integer(100)` is that in the AST and the generated byte code, the constant `100` is already stored as a numerical one\n\n> Is that really important? The \"timeit\" example is of course a bit artificial.\n\nI think so. Storing the numerical constant as a string forces the decimal-to-binary conversion to happen at runtime. If you just write it as a python integer, the conversion happens at parsing, so by the time it's an ast and the compiler looks at it, you're already dealing with an integer. \n\nUnfortunately, python doesn't permit compile-time macros (perhaps if we're ever going to rewrite our preparser to properly parse, we can combine it with [MacroPy](https://pypi.python.org/pypi/MacroPy) and then we can have `Integer` object creation at compile time)\n\nI am fairly certain that nearly all code that gets run with sage has TONS of small integer literals in it. Probably for many applications, people would get better performance writing `100r`, but of course nobody will. This ticket would deteriorate the much more common situation in favour of a small gain in the extremely rare situation that someone wants to include an incredibly large integer literal in their code (talk about artificial--I don't think having a (small) numerical literal in an inner loop is artificial at all!). And the extremely rare situation can be solved by writing quotes already (and by the time you're writing such a long string you might as well convert it to hex anyway, in which case Python and GMP are (at least asymptotically) comparable.\n\nIf you use `preparse_file` instead of `preparse`, you'll see that numerical constants get pushed outside (which has its own set of problems, see #11542), which mitigates the string-conversion-in-inner-loop.",
    "created_at": "2015-02-22T18:20:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240514",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jdemeyer](#comment:6):
> Replying to [@nbruin](#comment:5):
> > The whole idea of preparsing `100` as `Integer(100)` is that in the AST and the generated byte code, the constant `100` is already stored as a numerical one

> Is that really important? The "timeit" example is of course a bit artificial.

I think so. Storing the numerical constant as a string forces the decimal-to-binary conversion to happen at runtime. If you just write it as a python integer, the conversion happens at parsing, so by the time it's an ast and the compiler looks at it, you're already dealing with an integer. 

Unfortunately, python doesn't permit compile-time macros (perhaps if we're ever going to rewrite our preparser to properly parse, we can combine it with [MacroPy](https://pypi.python.org/pypi/MacroPy) and then we can have `Integer` object creation at compile time)

I am fairly certain that nearly all code that gets run with sage has TONS of small integer literals in it. Probably for many applications, people would get better performance writing `100r`, but of course nobody will. This ticket would deteriorate the much more common situation in favour of a small gain in the extremely rare situation that someone wants to include an incredibly large integer literal in their code (talk about artificial--I don't think having a (small) numerical literal in an inner loop is artificial at all!). And the extremely rare situation can be solved by writing quotes already (and by the time you're writing such a long string you might as well convert it to hex anyway, in which case Python and GMP are (at least asymptotically) comparable.

If you use `preparse_file` instead of `preparse`, you'll see that numerical constants get pushed outside (which has its own set of problems, see #11542), which mitigates the string-conversion-in-inner-loop.



---

archive/issue_comments_240515.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nFine, you convinced me.",
    "created_at": "2015-02-22T19:32:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240515",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Fine, you convinced me.



---

archive/issue_events_251209.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-22T19:32:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251209"
}
```



---

archive/issue_events_251210.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-22T19:32:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251210"
}
```



---

archive/issue_comments_240516.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,40 +1,4 @@\n-Currently we have\n-\n-```\n-sage: print preparse(\"100\")\n-Integer(100)\n-sage: preparse(\"100.0\")\n-RealNumber('100.0')\n-```\n-but the first could be changed to\n-\n-```\n-sage: print preparse(\"100\")\n-Integer('100')\n-```\n-\n-This has two advantages:\n-\n-1. it would be a lot faster for large numbers since MPIR is asymptotically faster than Python:\n-\n-```\n-sage: s=\"1\" + \"0\"*10000\n-sage: timeit(\"\"\"eval('Integer(%s)')\"\"\" % s)\n-625 loops, best of 3: 761 \u00b5s per loop\n-sage: timeit(\"\"\"eval('Integer(\"%s\")')\"\"\" % s)\n-625 loops, best of 3: 151 \u00b5s per loop\n-```\n-For small numbers, there is a slight slowdown though:\n-\n-```\n-sage: s=\"1000\"\n-sage: timeit(\"\"\"eval('Integer(%s)')\"\"\" % s)\n-625 loops, best of 3: 9.56 \u00b5s per loop\n-sage: timeit(\"\"\"eval('Integer(\"%s\")')\"\"\" % s)\n-625 loops, best of 3: 11 \u00b5s per loop\n-```\n-\n-2. It solves #17807: thanks to #17413, entering `0100` will give a deprecation warning so that users should know something funny is going on:\n+To solve #17807, we preparse `0100` as `Integer('0100')` instead of `Integer(0100)`: thanks to #17413, this will give a deprecation warning so that users should know something funny is going on:\n \n ```\n sage: 0100\n``````\n",
    "created_at": "2015-02-24T14:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240516",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,40 +1,4 @@
-Currently we have
-
-```
-sage: print preparse("100")
-Integer(100)
-sage: preparse("100.0")
-RealNumber('100.0')
-```
-but the first could be changed to
-
-```
-sage: print preparse("100")
-Integer('100')
-```
-
-This has two advantages:
-
-1. it would be a lot faster for large numbers since MPIR is asymptotically faster than Python:
-
-```
-sage: s="1" + "0"*10000
-sage: timeit("""eval('Integer(%s)')""" % s)
-625 loops, best of 3: 761 µs per loop
-sage: timeit("""eval('Integer("%s")')""" % s)
-625 loops, best of 3: 151 µs per loop
-```
-For small numbers, there is a slight slowdown though:
-
-```
-sage: s="1000"
-sage: timeit("""eval('Integer(%s)')""" % s)
-625 loops, best of 3: 9.56 µs per loop
-sage: timeit("""eval('Integer("%s")')""" % s)
-625 loops, best of 3: 11 µs per loop
-```
-
-2. It solves #17807: thanks to #17413, entering `0100` will give a deprecation warning so that users should know something funny is going on:
+To solve #17807, we preparse `0100` as `Integer('0100')` instead of `Integer(0100)`: thanks to #17413, this will give a deprecation warning so that users should know something funny is going on:
 
 ```
 sage: 0100
``````




---

archive/issue_events_251211.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-24T14:38:47Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "title_is": "Preparse old-style octals as strings",
    "title_was": "Preparse integers as strings",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251211"
}
```



---

archive/issue_comments_240517.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,6 +3,7 @@\n ```\n sage: 0100\n /usr/local/src/sage-git/local/lib/python2.7/site-packages/IPython/core/interactiveshell.py:2883: DeprecationWarning: use 0o as octal prefix instead of 0\n+If you do not want this number to be interpreted as octal, remove the leading zeros.\n See http://trac.sagemath.org/17413 for details.\n   exec(code_obj, self.user_global_ns, self.user_ns)\n 64\n``````\n",
    "created_at": "2015-02-24T14:43:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240517",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,6 +3,7 @@
 ```
 sage: 0100
 /usr/local/src/sage-git/local/lib/python2.7/site-packages/IPython/core/interactiveshell.py:2883: DeprecationWarning: use 0o as octal prefix instead of 0
+If you do not want this number to be interpreted as octal, remove the leading zeros.
 See http://trac.sagemath.org/17413 for details.
   exec(code_obj, self.user_global_ns, self.user_ns)
 64
``````




---

archive/issue_comments_240518.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f72c449a23193744f4b9485a57b550fab2201b4f\"><code>f72c449</code></a></td><td><code>Preparse old-style octal numbers as strings</code></td></tr></table>\n",
    "created_at": "2015-02-24T14:44:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240518",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f72c449a23193744f4b9485a57b550fab2201b4f"><code>f72c449</code></a></td><td><code>Preparse old-style octal numbers as strings</code></td></tr></table>




---

archive/issue_comments_240519.json:
```json
{
    "body": "Changed commit from **[`533af4c`](https://github.com/sagemath/sagetrac-mirror/commit/533af4ce9ae65f71d38177052fccb28cc69234e7)** to **[`f72c449`](https://github.com/sagemath/sagetrac-mirror/commit/f72c449a23193744f4b9485a57b550fab2201b4f)**",
    "created_at": "2015-02-24T14:44:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240519",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`533af4c`](https://github.com/sagemath/sagetrac-mirror/commit/533af4ce9ae65f71d38177052fccb28cc69234e7)** to **[`f72c449`](https://github.com/sagemath/sagetrac-mirror/commit/f72c449a23193744f4b9485a57b550fab2201b4f)**



---

archive/issue_events_251212.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-24T15:02:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251212"
}
```



---

archive/issue_events_251213.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-24T15:02:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251213"
}
```



---

archive/issue_events_251214.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-19T08:07:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251214"
}
```



---

archive/issue_events_251215.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-19T08:07:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251215"
}
```



---

archive/issue_comments_240520.json:
```json
{
    "body": "Changed commit from **[`f72c449`](https://github.com/sagemath/sagetrac-mirror/commit/f72c449a23193744f4b9485a57b550fab2201b4f)** to **[`b469c4c`](https://github.com/sagemath/sagetrac-mirror/commit/b469c4c747eefc73af5ac43818d933b7c28fe889)**",
    "created_at": "2015-04-19T08:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240520",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`f72c449`](https://github.com/sagemath/sagetrac-mirror/commit/f72c449a23193744f4b9485a57b550fab2201b4f)** to **[`b469c4c`](https://github.com/sagemath/sagetrac-mirror/commit/b469c4c747eefc73af5ac43818d933b7c28fe889)**



---

archive/issue_comments_240521.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/17808](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/17808)** to **[public/ticket/17808](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/17808)**",
    "created_at": "2015-04-19T08:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240521",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/jdemeyer/ticket/17808](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/17808)** to **[public/ticket/17808](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/17808)**



---

archive/issue_comments_240522.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/293c474bdd8927919c44227c27344004b825bfc1\"><code>293c474</code></a></td><td><code>Merge branch 'u/jdemeyer/ticket/17808' into 6.7.b1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b469c4c747eefc73af5ac43818d933b7c28fe889\"><code>b469c4c</code></a></td><td><code>trac #17808 taking care of pt tutorial</code></td></tr></table>\n",
    "created_at": "2015-04-19T08:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240522",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/293c474bdd8927919c44227c27344004b825bfc1"><code>293c474</code></a></td><td><code>Merge branch 'u/jdemeyer/ticket/17808' into 6.7.b1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b469c4c747eefc73af5ac43818d933b7c28fe889"><code>b469c4c</code></a></td><td><code>trac #17808 taking care of pt tutorial</code></td></tr></table>




---

archive/issue_events_251216.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T13:35:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "0000b0",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251216"
}
```



---

archive/issue_comments_240523.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b243aa3890d49f3a28ec3347f237be2eb0bcd0e8\"><code>b243aa3</code></a></td><td><code>Merge branch 'public/ticket/17808' into 7.2.b6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52fd0ce06e69b95582edf1a1401159cb44c96430\"><code>52fd0ce</code></a></td><td><code>trac #17808 handling es and ja tutorial</code></td></tr></table>\n",
    "created_at": "2016-05-02T15:24:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240523",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b243aa3890d49f3a28ec3347f237be2eb0bcd0e8"><code>b243aa3</code></a></td><td><code>Merge branch 'public/ticket/17808' into 7.2.b6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52fd0ce06e69b95582edf1a1401159cb44c96430"><code>52fd0ce</code></a></td><td><code>trac #17808 handling es and ja tutorial</code></td></tr></table>




---

archive/issue_comments_240524.json:
```json
{
    "body": "Changed commit from **[`b469c4c`](https://github.com/sagemath/sagetrac-mirror/commit/b469c4c747eefc73af5ac43818d933b7c28fe889)** to **[`52fd0ce`](https://github.com/sagemath/sagetrac-mirror/commit/52fd0ce06e69b95582edf1a1401159cb44c96430)**",
    "created_at": "2016-05-02T15:24:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240524",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b469c4c`](https://github.com/sagemath/sagetrac-mirror/commit/b469c4c747eefc73af5ac43818d933b7c28fe889)** to **[`52fd0ce`](https://github.com/sagemath/sagetrac-mirror/commit/52fd0ce06e69b95582edf1a1401159cb44c96430)**



---

archive/issue_events_251217.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-02T15:25:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251217"
}
```



---

archive/issue_events_251218.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-02T15:25:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251218"
}
```



---

archive/issue_events_251219.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-29T18:27:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251219"
}
```



---

archive/issue_events_251220.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-29T18:27:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251220"
}
```



---

archive/issue_comments_240525.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nis the title still acurately describing the content of the ticket ?",
    "created_at": "2016-05-29T18:27:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240525",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:17" align="right">comment:17</div>

is the title still acurately describing the content of the ticket ?



---

archive/issue_comments_240526.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@fchapoton](#comment:17):\n> is the title still acurately describing the content of the ticket ?\n\nYes.",
    "created_at": "2016-05-29T19:12:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240526",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@fchapoton](#comment:17):
> is the title still acurately describing the content of the ticket ?

Yes.



---

archive/issue_comments_240527.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,5 @@\n   exec(code_obj, self.user_global_ns, self.user_ns)\n 64\n ```\n+\n+We also preparse new-style binary/octal/hex strings as integers instead of strings, which should be faster.\n``````\n",
    "created_at": "2016-05-29T19:15:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240527",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,5 @@
   exec(code_obj, self.user_global_ns, self.user_ns)
 64
 ```
+
+We also preparse new-style binary/octal/hex strings as integers instead of strings, which should be faster.
``````




---

archive/issue_comments_240528.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAlthough the ticket does change a little bit more than that, I added a sentence to the description.",
    "created_at": "2016-05-29T19:15:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240528",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

Although the ticket does change a little bit more than that, I added a sentence to the description.



---

archive/issue_comments_240529.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,4 +9,4 @@\n 64\n ```\n \n-We also preparse new-style binary/octal/hex strings as integers instead of strings, which should be faster.\n+We also preparse new-style binary/octal/hex strings as integers instead of strings, which should be faster, see [comment:5].\n``````\n",
    "created_at": "2016-05-29T19:15:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240529",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,4 +9,4 @@
 64
 ```
 
-We also preparse new-style binary/octal/hex strings as integers instead of strings, which should be faster.
+We also preparse new-style binary/octal/hex strings as integers instead of strings, which should be faster, see [comment:5].
``````




---

archive/issue_comments_240530.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2016-05-29T19:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240530",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_events_251221.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-29T19:27:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251221"
}
```



---

archive/issue_events_251222.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-29T19:27:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251222"
}
```



---

archive/issue_comments_240531.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nok, looks good to me",
    "created_at": "2016-05-29T19:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240531",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">comment:21</div>

ok, looks good to me



---

archive/issue_comments_240532.json:
```json
{
    "body": "Changed branch from **[public/ticket/17808](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/17808)** to **[`52fd0ce`](https://github.com/sagemath/sagetrac-mirror/commit/52fd0ce06e69b95582edf1a1401159cb44c96430)**",
    "created_at": "2016-05-31T07:29:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17808#issuecomment-240532",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/17808](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/17808)** to **[`52fd0ce`](https://github.com/sagemath/sagetrac-mirror/commit/52fd0ce06e69b95582edf1a1401159cb44c96430)**



---

archive/issue_events_251223.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-31T07:29:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251223"
}
```



---

archive/issue_events_251224.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "279e8d2d48d493843120cbb49aa96410ac8dd05d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-05-31T07:29:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17808",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17808#event-251224"
}
```
