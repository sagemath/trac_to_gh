# Issue 17160: Finitely generated axiom for (mutiplicative) magmas, semigroups, monoids, groups

archive/issues_016923.json:
```json
{
    "body": "This introduce an axiom FinitelyGeneratedAsMagma, as well as related\ncategories with axioms for magmas, semigroups and groups::\n\n```\n    sage: Groups().FinitelyGeneratedAsMagma()\n    Category of finitely generated groups\n```\nFor ease of notations, when there is no ambiguity, one can do::\n\n```\n    sage: Groups().FinitelyGenerated()\n    Category of finitely generated groups\n```\n\nOne motivation for this change (for #8678) is that finite semigroups\nin Sage used to be automatically endowed with an `EnumeratedSets`\nstructure; the default enumeration is then obtained by iteratively\nmultiplying the semigroup generators. This forced any finite semigroup\nto either implement an enumeration, or provide semigroup generators;\nthis was often inconvenient.\n\nInstead, finite semigroups that provide a distinguished finite set of\ngenerators with `semigroup_generators` should now explicitly declare\nthemselves in the category of `FinitelyGeneratedSemigroups`:\n\n```\n    sage: Semigroups().FinitelyGenerated()\n    Category of finitely generated semigroups\n```\nThis is a backward incompatible change.\n\nTODO:\n- Use the occasion to migrate TransitiveIdeal to RecursivelyEnumeratedSet\n\nCC:  @tscrim sage-combinat @darijgr @avirmaux\n\nKeywords: days64\n\nBranch/Commit: 19ceb8124d27ba0124fb08a232c05924bb7114b0\n\nReviewer: Travis Scrimshaw\n\nAuthor: Nicolas M. Thi\u00e9ry\n\nDependencies: #10668 #15852\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17160\n\n",
    "closed_at": "2015-04-14T19:43:50Z",
    "created_at": "2014-10-15T11:43:34Z",
    "labels": [
        "component: categories"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Finitely generated axiom for (mutiplicative) magmas, semigroups, monoids, groups",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17160",
    "user": "https://github.com/nthiery"
}
```
This introduce an axiom FinitelyGeneratedAsMagma, as well as related
categories with axioms for magmas, semigroups and groups::

```
    sage: Groups().FinitelyGeneratedAsMagma()
    Category of finitely generated groups
```
For ease of notations, when there is no ambiguity, one can do::

```
    sage: Groups().FinitelyGenerated()
    Category of finitely generated groups
```

One motivation for this change (for #8678) is that finite semigroups
in Sage used to be automatically endowed with an `EnumeratedSets`
structure; the default enumeration is then obtained by iteratively
multiplying the semigroup generators. This forced any finite semigroup
to either implement an enumeration, or provide semigroup generators;
this was often inconvenient.

Instead, finite semigroups that provide a distinguished finite set of
generators with `semigroup_generators` should now explicitly declare
themselves in the category of `FinitelyGeneratedSemigroups`:

```
    sage: Semigroups().FinitelyGenerated()
    Category of finitely generated semigroups
```
This is a backward incompatible change.

TODO:
- Use the occasion to migrate TransitiveIdeal to RecursivelyEnumeratedSet

CC:  @tscrim sage-combinat @darijgr @avirmaux

Keywords: days64

Branch/Commit: 19ceb8124d27ba0124fb08a232c05924bb7114b0

Reviewer: Travis Scrimshaw

Author: Nicolas M. Thi√©ry

Dependencies: #10668 #15852

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17160





---

archive/issue_comments_238535.json:
```json
{
    "body": "<a id='comment:1'></a>Also be good for rings and algebras.",
    "created_at": "2014-10-15T13:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238535",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>Also be good for rings and algebras.



---

archive/issue_comments_238536.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to categories.",
    "created_at": "2014-10-15T13:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238536",
    "user": "https://github.com/tscrim"
}
```

Changing component from PLEASE CHANGE to categories.



---

archive/issue_comments_238537.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2014-10-15T13:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238537",
    "user": "https://github.com/tscrim"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_238538.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,33 @@\n+This introduce an axiom FinitelyGeneratedAsMagma, as well as related\n+categories with axioms for magmas, semigroups and groups::\n+\n+\\`\\`\\`\n+    sage: Groups().FinitelyGeneratedAsMagma()\n+    Category of finitely generated groups\n+\\`\\`\\`\n+For ease of notations, when there is no ambiguity, one can do::\n+\n+\\`\\`\\`\n+    sage: Groups().FinitelyGenerated()\n+    Category of finitely generated groups\n+\\`\\`\\`\n+\n+One motivation for this change (for #8678) is that finite semigroups\n+in Sage used to be automatically endowed with an \\`\\`EnumeratedSets\\`\\`\n+structure; the default enumeration is then obtained by iteratively\n+multiplying the semigroup generators. This forced any finite semigroup\n+to either implement an enumeration, or provide semigroup generators;\n+this was often inconvenient.\n+\n+Instead, finite semigroups that provide a distinguished finite set of\n+generators with \\`\\`semigroup_generators\\`\\` should now explicitly declare\n+themselves in the category of \\`\\`FinitelyGeneratedSemigroups\\`\\`:\n+\n+\\`\\`\\`\n+    sage: Semigroups().FinitelyGenerated()\n+    Category of finitely generated semigroups\n+\\`\\`\\`\n+This is a backward incompatible change.\n \n \n Comment: 1\n```\n",
    "created_at": "2014-10-15T15:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238538",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,33 @@
+This introduce an axiom FinitelyGeneratedAsMagma, as well as related
+categories with axioms for magmas, semigroups and groups::
+
+\`\`\`
+    sage: Groups().FinitelyGeneratedAsMagma()
+    Category of finitely generated groups
+\`\`\`
+For ease of notations, when there is no ambiguity, one can do::
+
+\`\`\`
+    sage: Groups().FinitelyGenerated()
+    Category of finitely generated groups
+\`\`\`
+
+One motivation for this change (for #8678) is that finite semigroups
+in Sage used to be automatically endowed with an \`\`EnumeratedSets\`\`
+structure; the default enumeration is then obtained by iteratively
+multiplying the semigroup generators. This forced any finite semigroup
+to either implement an enumeration, or provide semigroup generators;
+this was often inconvenient.
+
+Instead, finite semigroups that provide a distinguished finite set of
+generators with \`\`semigroup_generators\`\` should now explicitly declare
+themselves in the category of \`\`FinitelyGeneratedSemigroups\`\`:
+
+\`\`\`
+    sage: Semigroups().FinitelyGenerated()
+    Category of finitely generated semigroups
+\`\`\`
+This is a backward incompatible change.
 
 
 Comment: 1
```




---

archive/issue_comments_238539.json:
```json
{
    "body": "<a id='comment:3'></a>Replying to [comment:1 tscrim]:\n> Also be good for rings and algebras.\n\n\nYes, and additive magmas as well. And possibly crystals, ...  But I'll leave those to a later ticket. And for modules, we alreay have `FiniteDimensional`.\n\nCheers,\n                                    Nicolas",
    "created_at": "2014-10-15T15:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238539",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:3'></a>Replying to [comment:1 tscrim]:
> Also be good for rings and algebras.


Yes, and additive magmas as well. And possibly crystals, ...  But I'll leave those to a later ticket. And for modules, we alreay have `FiniteDimensional`.

Cheers,
                                    Nicolas



---

archive/issue_comments_238540.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,33 @@\n+This introduce an axiom FinitelyGeneratedAsMagma, as well as related\n+categories with axioms for magmas, semigroups and groups::\n+\n+\\`\\`\\`\n+    sage: Groups().FinitelyGeneratedAsMagma()\n+    Category of finitely generated groups\n+\\`\\`\\`\n+For ease of notations, when there is no ambiguity, one can do::\n+\n+\\`\\`\\`\n+    sage: Groups().FinitelyGenerated()\n+    Category of finitely generated groups\n+\\`\\`\\`\n+\n+One motivation for this change (for #8678) is that finite semigroups\n+in Sage used to be automatically endowed with an \\`EnumeratedSets\\`\n+structure; the default enumeration is then obtained by iteratively\n+multiplying the semigroup generators. This forced any finite semigroup\n+to either implement an enumeration, or provide semigroup generators;\n+this was often inconvenient.\n+\n+Instead, finite semigroups that provide a distinguished finite set of\n+generators with \\`semigroup_generators\\` should now explicitly declare\n+themselves in the category of \\`FinitelyGeneratedSemigroups\\`:\n+\n+\\`\\`\\`\n+    sage: Semigroups().FinitelyGenerated()\n+    Category of finitely generated semigroups\n+\\`\\`\\`\n+This is a backward incompatible change.\n \n \n Comment: 1\n```\n",
    "created_at": "2014-10-15T15:31:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238540",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,33 @@
+This introduce an axiom FinitelyGeneratedAsMagma, as well as related
+categories with axioms for magmas, semigroups and groups::
+
+\`\`\`
+    sage: Groups().FinitelyGeneratedAsMagma()
+    Category of finitely generated groups
+\`\`\`
+For ease of notations, when there is no ambiguity, one can do::
+
+\`\`\`
+    sage: Groups().FinitelyGenerated()
+    Category of finitely generated groups
+\`\`\`
+
+One motivation for this change (for #8678) is that finite semigroups
+in Sage used to be automatically endowed with an \`EnumeratedSets\`
+structure; the default enumeration is then obtained by iteratively
+multiplying the semigroup generators. This forced any finite semigroup
+to either implement an enumeration, or provide semigroup generators;
+this was often inconvenient.
+
+Instead, finite semigroups that provide a distinguished finite set of
+generators with \`semigroup_generators\` should now explicitly declare
+themselves in the category of \`FinitelyGeneratedSemigroups\`:
+
+\`\`\`
+    sage: Semigroups().FinitelyGenerated()
+    Category of finitely generated semigroups
+\`\`\`
+This is a backward incompatible change.
 
 
 Comment: 1
```




---

archive/issue_comments_238541.json:
```json
{
    "body": "<a id='comment:6'></a>I know this isn't set for review yet, but just to note that a finite magma is automatically finitely generated. So I think we should have this reflected in the category structure; in particular, so we don't have lines like this:\n\n```\nParent.__init__(self, category = Semigroups().Finite().FinitelyGenerated())\n```\n\nIf you need someone to review it, just let me know when this is ready.\n\n---\nLast 10 new commits:",
    "created_at": "2014-10-16T01:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238541",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>I know this isn't set for review yet, but just to note that a finite magma is automatically finitely generated. So I think we should have this reflected in the category structure; in particular, so we don't have lines like this:

```
Parent.__init__(self, category = Semigroups().Finite().FinitelyGenerated())
```

If you need someone to review it, just let me know when this is ready.

---
Last 10 new commits:



---

archive/issue_comments_238542.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 tscrim]:\n> I know this isn't set for review yet,\n\n\nThanks for having looked at it!\n\n> but just to note that a finite magma is automatically finitely generated. So I think we should have this reflected in the category structure; in particular, so we don't have lines like this:\n> \n> ```\n> Parent.__init__(self, category = Semigroups().Finite().FinitelyGenerated())\n> ```\n\n\nAs stated in the description, the point of the ticket is precisely to\nmake a distinction between finite magmas (which are indeed finitely\ngenerated by definition), and finite monoids that are explicitly\nendowed with a finite set of generators. The new axiom is about the\nlatter. So, above, we anyway want something like:\n\n     Semigroups().Finite().XXX()\n\nGranted, the current name of the axiom is misleading, and I am\nhesitant about it. I also considered:\n\n    sage: Groups().Finite().WithFiniteSetOfGenerators()\n    Category of groups with finite set of generators\n\nIt's very explicit but feels like heavy notation; and it does not feel\nas appealing as \"finitely generated\" which immediately rings a bell in\na mathematician's head. Also, it seems to me that being \"finitely\ngenerated\" is rather useless computationally speaking if no finite set\nof generators is provided; so we would not be using that nice name for\na weaker purpose anyway.\n\nI guess that's the main design decision to be taken in this\nticket. The rest is rather straightforward.\n\nAh, yes, the other design decision is whether it's acceptable to break\nbackward compatibility. I'll be the first one to be hurt by this\nchange, and I believe it's worth it ...\n\nOpinions anyone?\n\n> If you need someone to review it, just let me know when this is ready.\n\n\nOk, thanks! Darij would be a good candidate to give feedback too!\n\nCheers,\n                            Nicolas",
    "created_at": "2014-10-16T07:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238542",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:7'></a>Replying to [comment:6 tscrim]:
> I know this isn't set for review yet,


Thanks for having looked at it!

> but just to note that a finite magma is automatically finitely generated. So I think we should have this reflected in the category structure; in particular, so we don't have lines like this:
> 
> ```
> Parent.__init__(self, category = Semigroups().Finite().FinitelyGenerated())
> ```


As stated in the description, the point of the ticket is precisely to
make a distinction between finite magmas (which are indeed finitely
generated by definition), and finite monoids that are explicitly
endowed with a finite set of generators. The new axiom is about the
latter. So, above, we anyway want something like:

     Semigroups().Finite().XXX()

Granted, the current name of the axiom is misleading, and I am
hesitant about it. I also considered:

    sage: Groups().Finite().WithFiniteSetOfGenerators()
    Category of groups with finite set of generators

It's very explicit but feels like heavy notation; and it does not feel
as appealing as "finitely generated" which immediately rings a bell in
a mathematician's head. Also, it seems to me that being "finitely
generated" is rather useless computationally speaking if no finite set
of generators is provided; so we would not be using that nice name for
a weaker purpose anyway.

I guess that's the main design decision to be taken in this
ticket. The rest is rather straightforward.

Ah, yes, the other design decision is whether it's acceptable to break
backward compatibility. I'll be the first one to be hurt by this
change, and I believe it's worth it ...

Opinions anyone?

> If you need someone to review it, just let me know when this is ready.


Ok, thanks! Darij would be a good candidate to give feedback too!

Cheers,
                            Nicolas



---

archive/issue_comments_238543.json:
```json
{
    "body": "<a id='comment:8'></a>The dependency on #10668 is mostly for convenience: #10668 fixes the doctests in c3_controlled to not need to be updated everytime the category hierarchy changes.",
    "created_at": "2014-10-16T07:43:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238543",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:8'></a>The dependency on #10668 is mostly for convenience: #10668 fixes the doctests in c3_controlled to not need to be updated everytime the category hierarchy changes.



---

archive/issue_comments_238544.json:
```json
{
    "body": "<a id='comment:9'></a>Saying this ticket is for a specified fixed set of generators contracts this statement:\n\n> And for modules, we alreay have `FiniteDimensional`.\n\n\nI think we should make an analogy to `WithBasis` and `FiniteDimensional` by having 2 axioms, `WithGeneratingSet` and `FinitelyGenerated`. This would give `FinitelyGenerated` a purpose, would still allow the current goal of not having to specify the enumeration, and allow the option for infinitely generated objects.",
    "created_at": "2014-10-16T15:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238544",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>Saying this ticket is for a specified fixed set of generators contracts this statement:

> And for modules, we alreay have `FiniteDimensional`.


I think we should make an analogy to `WithBasis` and `FiniteDimensional` by having 2 axioms, `WithGeneratingSet` and `FinitelyGenerated`. This would give `FinitelyGenerated` a purpose, would still allow the current goal of not having to specify the enumeration, and allow the option for infinitely generated objects.



---

archive/issue_comments_238545.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:9 tscrim]:\n> I think we should make an analogy to `WithBasis` and\n> `FiniteDimensional` by having 2 axioms, `WithGeneratingSet` and\n> `FinitelyGenerated`. This would give `FinitelyGenerated` a purpose,\n> would still allow the current goal of not having to specify the\n> enumeration, and allow the option for infinitely generated objects.\n\n\nI considered this and I agree that this would have the advantage of\nbeing consistent with the basis things. However I don't see what I\nwould put in the categories with axiom for `FinitelyGenerated` axiom\nbesides the subcategories with axioms for `WithGeneratingSet`, so this\nlooks like overkill. Besides,\n\n\tCategories of finitely generated group with generating set\n\nis not great. I am torn.\n\nOpinions anyone else?\n\nCheers,\n\t\t\t\t\tNicolas",
    "created_at": "2014-10-16T21:20:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238545",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:10'></a>Replying to [comment:9 tscrim]:
> I think we should make an analogy to `WithBasis` and
> `FiniteDimensional` by having 2 axioms, `WithGeneratingSet` and
> `FinitelyGenerated`. This would give `FinitelyGenerated` a purpose,
> would still allow the current goal of not having to specify the
> enumeration, and allow the option for infinitely generated objects.


I considered this and I agree that this would have the advantage of
being consistent with the basis things. However I don't see what I
would put in the categories with axiom for `FinitelyGenerated` axiom
besides the subcategories with axioms for `WithGeneratingSet`, so this
looks like overkill. Besides,

	Categories of finitely generated group with generating set

is not great. I am torn.

Opinions anyone else?

Cheers,
					Nicolas



---

archive/issue_comments_238546.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:10 nthiery]:\n> I considered this and I agree that this would have the advantage of\n> being consistent with the basis things. However I don't see what I\n> would put in the categories with axiom for `FinitelyGenerated` axiom\n> besides the subcategories with axioms for `WithGeneratingSet`, so this\n> looks like overkill. Besides,\n> \n> \tCategories of finitely generated group with generating set\n> \n> is not great. I am torn.\n\n\nI have things that have infinite (enumerable) distinguished generating sets (ex. free group/monoid with generators indexed by `NN` or Yangians #15484), so separating these axioms will be useful. In fact, the enumeration could be done in for the general `WithGeneratingSet` category and would (at least should) error out if the generating set is not enumerable. Although I only know of 1 thing which will be finite dimensional but doesn't come with a distinguished basis. Plus I think we could do an extra case in `_repr_object_names_static` to change the repr into:\n\n```\nCategory of groups with finite generating set\n```\n\nHere's another thought, what about we look at the cardinality of the generating set? So we only have `WithGeneratingSet` which calls `is_finitely_generated`, whose default is to look at the cardinality of the generating set to determine the output of repr. At least that's the only place where I could see us (currently) using the fact that the generating set is finite. For the enumeration, all we really need is the generating set is enumerable. Although I guess we really want to add `EnumeratedSets` to the category heirachy, so this probably is not so useful of an idea...\n\n> Opinions anyone else?\n\n\nDarij, Aladin, or anyone else, your thoughts?",
    "created_at": "2014-10-16T23:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238546",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>Replying to [comment:10 nthiery]:
> I considered this and I agree that this would have the advantage of
> being consistent with the basis things. However I don't see what I
> would put in the categories with axiom for `FinitelyGenerated` axiom
> besides the subcategories with axioms for `WithGeneratingSet`, so this
> looks like overkill. Besides,
> 
> 	Categories of finitely generated group with generating set
> 
> is not great. I am torn.


I have things that have infinite (enumerable) distinguished generating sets (ex. free group/monoid with generators indexed by `NN` or Yangians #15484), so separating these axioms will be useful. In fact, the enumeration could be done in for the general `WithGeneratingSet` category and would (at least should) error out if the generating set is not enumerable. Although I only know of 1 thing which will be finite dimensional but doesn't come with a distinguished basis. Plus I think we could do an extra case in `_repr_object_names_static` to change the repr into:

```
Category of groups with finite generating set
```

Here's another thought, what about we look at the cardinality of the generating set? So we only have `WithGeneratingSet` which calls `is_finitely_generated`, whose default is to look at the cardinality of the generating set to determine the output of repr. At least that's the only place where I could see us (currently) using the fact that the generating set is finite. For the enumeration, all we really need is the generating set is enumerable. Although I guess we really want to add `EnumeratedSets` to the category heirachy, so this probably is not so useful of an idea...

> Opinions anyone else?


Darij, Aladin, or anyone else, your thoughts?



---

archive/issue_comments_238547.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:11 tscrim]:\n> I have things that have infinite (enumerable) distinguished generating sets (ex. free group/monoid with generators indexed by `NN` or Yangians #15484), so separating these axioms will be useful. In fact, the enumeration could be done in for the general `WithGeneratingSet` category and would (at least should) error out if the generating set is not enumerable. Although I only know of 1 thing which will be finite dimensional but doesn't come with a distinguished basis.\n\n\nAnother issue: having a distinguished set of generators and being\nfinitely generated does not necessarily imply that the distinguished\nset of generators is finite. So we would actually need three axioms:\n\"WithGenerators\", \"FinitelyGenerated\", and \"WithFiniteGeneratingSet\".\nSo for a finite magma we still would need to do\n\"Magmas().Finite().WithFiniteGeneratingSet()\".\n\nI am not sure this is worth the complication. Especially since we will\nhave to do something similar for additive magmas, rings, fields, ...\n\n> Plus I think we could do an extra case in `_repr_object_names_static` to change the repr into:\n> \n> ```\n> Category of groups with finite generating set\n> ```\n\n\nThat should be easy indeed.\n\n> Here's another thought, what about we look at the cardinality of the generating set? So we only have `WithGeneratingSet` which calls `is_finitely_generated`, whose default is to look at the cardinality of the generating set to determine the output of repr. At least that's the only place where I could see us (currently) using the fact that the generating set is finite.\n\n\nWell, also all the code to build the Cayley graph, to compute\nJ/R/L-classes, etc. In short all my finite semigroups code :-)\n\nI oppose querying the cardinality, or even just is_finite, for this\ncan be super expensive if not undecidable. We really want something\ndeclarative here.\n\n> Darij, Aladin, or anyone else, your thoughts?\n\n\nYup?\n\nWe probably should bring the discussion to sage-dev. As usual this\ntakes a bit of preparation to have an efficient discussion there.\nI'll try to do this soon.\n\nCheers,\n                                    Nicolas",
    "created_at": "2014-10-18T11:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238547",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:12'></a>Replying to [comment:11 tscrim]:
> I have things that have infinite (enumerable) distinguished generating sets (ex. free group/monoid with generators indexed by `NN` or Yangians #15484), so separating these axioms will be useful. In fact, the enumeration could be done in for the general `WithGeneratingSet` category and would (at least should) error out if the generating set is not enumerable. Although I only know of 1 thing which will be finite dimensional but doesn't come with a distinguished basis.


Another issue: having a distinguished set of generators and being
finitely generated does not necessarily imply that the distinguished
set of generators is finite. So we would actually need three axioms:
"WithGenerators", "FinitelyGenerated", and "WithFiniteGeneratingSet".
So for a finite magma we still would need to do
"Magmas().Finite().WithFiniteGeneratingSet()".

I am not sure this is worth the complication. Especially since we will
have to do something similar for additive magmas, rings, fields, ...

> Plus I think we could do an extra case in `_repr_object_names_static` to change the repr into:
> 
> ```
> Category of groups with finite generating set
> ```


That should be easy indeed.

> Here's another thought, what about we look at the cardinality of the generating set? So we only have `WithGeneratingSet` which calls `is_finitely_generated`, whose default is to look at the cardinality of the generating set to determine the output of repr. At least that's the only place where I could see us (currently) using the fact that the generating set is finite.


Well, also all the code to build the Cayley graph, to compute
J/R/L-classes, etc. In short all my finite semigroups code :-)

I oppose querying the cardinality, or even just is_finite, for this
can be super expensive if not undecidable. We really want something
declarative here.

> Darij, Aladin, or anyone else, your thoughts?


Yup?

We probably should bring the discussion to sage-dev. As usual this
takes a bit of preparation to have an efficient discussion there.
I'll try to do this soon.

Cheers,
                                    Nicolas



---

archive/issue_comments_238548.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 nthiery]:\n> Another issue: having a distinguished set of generators and being\n> finitely generated does not necessarily imply that the distinguished\n> set of generators is finite. So we would actually need three axioms:\n> \"WithGenerators\", \"FinitelyGenerated\", and \"WithFiniteGeneratingSet\".\n> So for a finite magma we still would need to do\n> \"Magmas().Finite().WithFiniteGeneratingSet()\".\n\n>\n> I am not sure this is worth the complication. Especially since we will\n> have to do something similar for additive magmas, rings, fields, ...\n\n\n...Right... Although I think the right thing is actually `WithEnumeratedGeneratingSet` as we can do the same thing for infinite enumerated generating sets. However this is mostly an empty category/axiom because we can write generic code for `WithGeneratingSet` which will error out (at the right spot) for non-enumerated generating sets. In many ways, it's just a join with `EnumeratedSets`.\n\nAnother thought, we have 2 axioms `FinitelyGenerated` and `WithGenerators` and we create new join categories such as `SemigroupWithEnumeratedGeneratingSet` which implements an `__iter__` which calls `semigroup_generators`. The reasoning would be for monoids, we'd want to `monoid_generators` and need a separate method to avoid ambiguities similar to #15381. Or would we use `gens` in this case and just push everything up to the category?\n\nFor rings, algebras, fields, I think we get this for free from the axiom magic and that they are subcategories of `Magma`. Perhaps I'm misunderstanding how things work?\n\n> Well, also all the code to build the Cayley graph, to compute\n> J/R/L-classes, etc. In short all my finite semigroups code :-)\n> \n> I oppose querying the cardinality, or even just is_finite, for this\n> can be super expensive if not undecidable. We really want something\n> declarative here.\n\n\nYep, it's a bad idea.\n\n> We probably should bring the discussion to sage-dev. As usual this\n> takes a bit of preparation to have an efficient discussion there.\n> I'll try to do this soon.\n\n\nProbably.",
    "created_at": "2014-10-22T01:46:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238548",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>Replying to [comment:12 nthiery]:
> Another issue: having a distinguished set of generators and being
> finitely generated does not necessarily imply that the distinguished
> set of generators is finite. So we would actually need three axioms:
> "WithGenerators", "FinitelyGenerated", and "WithFiniteGeneratingSet".
> So for a finite magma we still would need to do
> "Magmas().Finite().WithFiniteGeneratingSet()".

>
> I am not sure this is worth the complication. Especially since we will
> have to do something similar for additive magmas, rings, fields, ...


...Right... Although I think the right thing is actually `WithEnumeratedGeneratingSet` as we can do the same thing for infinite enumerated generating sets. However this is mostly an empty category/axiom because we can write generic code for `WithGeneratingSet` which will error out (at the right spot) for non-enumerated generating sets. In many ways, it's just a join with `EnumeratedSets`.

Another thought, we have 2 axioms `FinitelyGenerated` and `WithGenerators` and we create new join categories such as `SemigroupWithEnumeratedGeneratingSet` which implements an `__iter__` which calls `semigroup_generators`. The reasoning would be for monoids, we'd want to `monoid_generators` and need a separate method to avoid ambiguities similar to #15381. Or would we use `gens` in this case and just push everything up to the category?

For rings, algebras, fields, I think we get this for free from the axiom magic and that they are subcategories of `Magma`. Perhaps I'm misunderstanding how things work?

> Well, also all the code to build the Cayley graph, to compute
> J/R/L-classes, etc. In short all my finite semigroups code :-)
> 
> I oppose querying the cardinality, or even just is_finite, for this
> can be super expensive if not undecidable. We really want something
> declarative here.


Yep, it's a bad idea.

> We probably should bring the discussion to sage-dev. As usual this
> takes a bit of preparation to have an efficient discussion there.
> I'll try to do this soon.


Probably.



---

archive/issue_comments_238549.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-05T18:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238549",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_238550.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:12 nthiery]:\n> We probably should bring the discussion to sage-dev.\n\n\nDone: https://groups.google.com/d/msg/sage-devel/1du_5IhxsUU/j4hr75fBb9IJ",
    "created_at": "2015-03-11T16:48:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238550",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:15'></a>Replying to [comment:12 nthiery]:
> We probably should bring the discussion to sage-dev.


Done: https://groups.google.com/d/msg/sage-devel/1du_5IhxsUU/j4hr75fBb9IJ



---

archive/issue_comments_238551.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-12T10:25:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238551",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_238552.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-17T06:44:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238552",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_238553.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,36 @@\n+This introduce an axiom FinitelyGeneratedAsMagma, as well as related\n+categories with axioms for magmas, semigroups and groups::\n \n+\\`\\`\\`\n+    sage: Groups().FinitelyGeneratedAsMagma()\n+    Category of finitely generated groups\n+\\`\\`\\`\n+For ease of notations, when there is no ambiguity, one can do::\n+\n+\\`\\`\\`\n+    sage: Groups().FinitelyGenerated()\n+    Category of finitely generated groups\n+\\`\\`\\`\n+\n+One motivation for this change (for #8678) is that finite semigroups\n+in Sage used to be automatically endowed with an \\`EnumeratedSets\\`\n+structure; the default enumeration is then obtained by iteratively\n+multiplying the semigroup generators. This forced any finite semigroup\n+to either implement an enumeration, or provide semigroup generators;\n+this was often inconvenient.\n+\n+Instead, finite semigroups that provide a distinguished finite set of\n+generators with \\`semigroup_generators\\` should now explicitly declare\n+themselves in the category of \\`FinitelyGeneratedSemigroups\\`:\n+\n+\\`\\`\\`\n+    sage: Semigroups().FinitelyGenerated()\n+    Category of finitely generated semigroups\n+\\`\\`\\`\n+This is a backward incompatible change.\n+\n+TODO:\n+- Use the occasion to migrate TransitiveIdeal to RecursivelyEnumeratedSet\n \n Comment: 1\n \n```\n",
    "created_at": "2015-03-19T00:03:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238553",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,36 @@
+This introduce an axiom FinitelyGeneratedAsMagma, as well as related
+categories with axioms for magmas, semigroups and groups::
 
+\`\`\`
+    sage: Groups().FinitelyGeneratedAsMagma()
+    Category of finitely generated groups
+\`\`\`
+For ease of notations, when there is no ambiguity, one can do::
+
+\`\`\`
+    sage: Groups().FinitelyGenerated()
+    Category of finitely generated groups
+\`\`\`
+
+One motivation for this change (for #8678) is that finite semigroups
+in Sage used to be automatically endowed with an \`EnumeratedSets\`
+structure; the default enumeration is then obtained by iteratively
+multiplying the semigroup generators. This forced any finite semigroup
+to either implement an enumeration, or provide semigroup generators;
+this was often inconvenient.
+
+Instead, finite semigroups that provide a distinguished finite set of
+generators with \`semigroup_generators\` should now explicitly declare
+themselves in the category of \`FinitelyGeneratedSemigroups\`:
+
+\`\`\`
+    sage: Semigroups().FinitelyGenerated()
+    Category of finitely generated semigroups
+\`\`\`
+This is a backward incompatible change.
+
+TODO:
+- Use the occasion to migrate TransitiveIdeal to RecursivelyEnumeratedSet
 
 Comment: 1
 
```




---

archive/issue_comments_238554.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T08:02:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238554",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_238555.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T08:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238555",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_238556.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-20T08:13:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238556",
    "user": "https://github.com/nthiery"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_238557.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T08:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238557",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_238558.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-21T06:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238558",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_238559.json:
```json
{
    "body": "<a id='comment:24'></a>This ticket does not really depend on #17160, but the build tends to fail without it, so I merged it in.",
    "created_at": "2015-03-21T06:59:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238559",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:24'></a>This ticket does not really depend on #17160, but the build tends to fail without it, so I merged it in.



---

archive/issue_comments_238560.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-03-21T17:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238560",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_238561.json:
```json
{
    "body": "<a id='comment:25'></a>LGTM.",
    "created_at": "2015-03-21T17:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238561",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>LGTM.



---

archive/issue_comments_238562.json:
```json
{
    "body": "Changing keywords from \"\" to \"days64\".",
    "created_at": "2015-03-21T17:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238562",
    "user": "https://github.com/tscrim"
}
```

Changing keywords from "" to "days64".



---

archive/issue_events_049771.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-21T17:18:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17160#event-49771"
}
```



---

archive/issue_comments_238563.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2015-04-02T02:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238563",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_238564.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2015-04-02T02:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238564",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_238565.json:
```json
{
    "body": "<a id='comment:28'></a>Simple merge.",
    "created_at": "2015-04-02T04:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238565",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'></a>Simple merge.



---

archive/issue_comments_238566.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-02T04:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238566",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_238567.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-04-10T16:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238567",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_238568.json:
```json
{
    "body": "<a id='comment:29'></a>conflicts with #15852",
    "created_at": "2015-04-10T16:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238568",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'></a>conflicts with #15852



---

archive/issue_comments_238569.json:
```json
{
    "body": "<a id='comment:30'></a>Trivial rebase.\n\n---\nNew commits:",
    "created_at": "2015-04-11T22:19:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238569",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:30'></a>Trivial rebase.

---
New commits:



---

archive/issue_comments_238570.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-04-11T22:19:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238570",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_events_049772.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T19:43:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17160#event-49772"
}
```



---

archive/issue_comments_238571.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-14T19:43:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17160#issuecomment-238571",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
