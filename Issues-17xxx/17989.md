# Issue 17989: Double Affine Hecke Algebra

archive/issues_017752.json:
```json
{
    "body": "This ticket implements the Double Affine Hecke Algebra, with multiple bases, ...\n\nCC:  sage-combinat @anneschilling @dwbump\n\nKeywords: daha, days64\n\nReviewer: Dan Bump, Travis Scrimshaw, ...\n\nAuthor: Mark Shimozono\n\nBranch: public/combinat/double_affine_hecke_algebra-17989\n\nStatus: new\n\nDependencies: #15375\n\nCommit: bbb257dd9e1b85087e885e55d2e71a5957c9fa81\n\nIssue created by migration from https://trac.sagemath.org/ticket/17989\n\n",
    "created_at": "2015-03-18T21:08:43Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Double Affine Hecke Algebra",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17989",
    "user": "https://github.com/nthiery"
}
```
This ticket implements the Double Affine Hecke Algebra, with multiple bases, ...

CC:  sage-combinat @anneschilling @dwbump

Keywords: daha, days64

Reviewer: Dan Bump, Travis Scrimshaw, ...

Author: Mark Shimozono

Branch: public/combinat/double_affine_hecke_algebra-17989

Status: new

Dependencies: #15375

Commit: bbb257dd9e1b85087e885e55d2e71a5957c9fa81

Issue created by migration from https://trac.sagemath.org/ticket/17989





---

archive/issue_comments_252994.json:
```json
{
    "body": "<a id='comment:2'></a>Some notes from the discussion at SD64:\n\n* Generic features to be extracted from #15375\n\n- Exp functor:\n\n  Currently in sage/groups/exp.py ; could be sage/monoids/exp.py\n\n      class Exp(...)\n         def log(self):\n             return self._log\n\n      sage: Exp(my_additive_group)\n      sage: Exp(additive_group_morphism)\n\n      sage: my_additive_group.exp()  # return the associated multiplicative group\n\n  Possibly make it a functorial construction (can be postponed to later):\n\n      Create sage.categories.additive_group_exp along the lines of\n      sage.categories.cartesian_product\n\n      class AdditiveMagmas:\n          class Exp:\n              class ParentMethods:\n                   `@`abstract_method\n                   def log(self):\n                       ...\n              class ElementMethods:\n                   def _mul_(self, other):\n                       return self.parent()(self.value+other.value)\n\n          class Unital:\n              class Exp:\n                  class ParentMethods:\n                       def one():\n                           return self(self.log().zero())\n      ....\n\n- Semidirect product of groups:\n  Put Mark's implementation in sage.groups.semidirect_product.SemiDirectProduct\n\n  Have Groups.ParentMethods.semidirect_product call it (currently it\n  says NotImplemented)\n\n  Bonus: if PermutationGroup.semidirect_product is called with the\n  second group not being a permutation group, call the generic\n  implementation. Same for finitely presented groups.\n\n\n* Generic features to be extracted from #17989 (Daha)\n\n- Improvements to tensor products\n\n- Tensor product of morphisms (see ticket by Nicolas Borie?)\n\n- Tensor products without flattening? For tensor product of algebras\n\n  What happens in Sage if you one does a tensor product of algebras\n  that are themselves tensor products? *boom*\n\n  To be further discussed; probably tensor_product should take a flag flatten=True\n\n- Smash product",
    "created_at": "2015-03-18T21:16:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-252994",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:2'></a>Some notes from the discussion at SD64:

* Generic features to be extracted from #15375

- Exp functor:

  Currently in sage/groups/exp.py ; could be sage/monoids/exp.py

      class Exp(...)
         def log(self):
             return self._log

      sage: Exp(my_additive_group)
      sage: Exp(additive_group_morphism)

      sage: my_additive_group.exp()  # return the associated multiplicative group

  Possibly make it a functorial construction (can be postponed to later):

      Create sage.categories.additive_group_exp along the lines of
      sage.categories.cartesian_product

      class AdditiveMagmas:
          class Exp:
              class ParentMethods:
                   `@`abstract_method
                   def log(self):
                       ...
              class ElementMethods:
                   def _mul_(self, other):
                       return self.parent()(self.value+other.value)

          class Unital:
              class Exp:
                  class ParentMethods:
                       def one():
                           return self(self.log().zero())
      ....

- Semidirect product of groups:
  Put Mark's implementation in sage.groups.semidirect_product.SemiDirectProduct

  Have Groups.ParentMethods.semidirect_product call it (currently it
  says NotImplemented)

  Bonus: if PermutationGroup.semidirect_product is called with the
  second group not being a permutation group, call the generic
  implementation. Same for finitely presented groups.


* Generic features to be extracted from #17989 (Daha)

- Improvements to tensor products

- Tensor product of morphisms (see ticket by Nicolas Borie?)

- Tensor products without flattening? For tensor product of algebras

  What happens in Sage if you one does a tensor product of algebras
  that are themselves tensor products? *boom*

  To be further discussed; probably tensor_product should take a flag flatten=True

- Smash product



---

archive/issue_comments_252995.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2015-06-15T17:09:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-252995",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_252996.json:
```json
{
    "body": "<a id='comment:4'></a>This is still messed up, specifically deciding the right category for tensor products.\nHowever most doctests pass.",
    "created_at": "2015-06-15T17:10:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-252996",
    "user": "https://trac.sagemath.org/admin/accounts/users/mshimo"
}
```

<a id='comment:4'></a>This is still messed up, specifically deciding the right category for tensor products.
However most doctests pass.



---

archive/issue_comments_252997.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-17T00:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-252997",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_252998.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-17T12:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-252998",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_252999.json:
```json
{
    "body": "<a id='comment:7'></a>Mainly to cc myself (and a completely shameless plug for the related #18631).\n\nAlso #15375 is a dependency, but are there currently others (in particular, #15874)?",
    "created_at": "2015-06-17T15:35:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-252999",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>Mainly to cc myself (and a completely shameless plug for the related #18631).

Also #15375 is a dependency, but are there currently others (in particular, #15874)?



---

archive/issue_comments_253000.json:
```json
{
    "body": "<a id='comment:8'></a>Travis,\n\nI had a patch bomb for the DAHA.\nAt some point I forgot to factor out the smash product.",
    "created_at": "2015-06-18T06:40:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-253000",
    "user": "https://trac.sagemath.org/admin/accounts/users/mshimo"
}
```

<a id='comment:8'></a>Travis,

I had a patch bomb for the DAHA.
At some point I forgot to factor out the smash product.



---

archive/issue_comments_253001.json:
```json
{
    "body": "<a id='comment:9'></a>I suppose I could try to look at the diff and factor out the smash product.",
    "created_at": "2015-06-18T06:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-253001",
    "user": "https://trac.sagemath.org/admin/accounts/users/mshimo"
}
```

<a id='comment:9'></a>I suppose I could try to look at the diff and factor out the smash product.



---

archive/issue_comments_253002.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-18T16:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-253002",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_253003.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-18T18:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-253003",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_253004.json:
```json
{
    "body": "<a id='comment:12'></a>Isn't all of the code for the smash product on #15874? If so, then we'd only have to merge that in and mark that as a dependency. Or is that not necessary for your DAHA code? If that's the case, then we definitely should factor that out.",
    "created_at": "2015-06-18T18:39:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-253004",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>Isn't all of the code for the smash product on #15874? If so, then we'd only have to merge that in and mark that as a dependency. Or is that not necessary for your DAHA code? If that's the case, then we definitely should factor that out.



---

archive/issue_comments_253005.json:
```json
{
    "body": "<a id='comment:13'></a>I will try. I didn't support that branch and just fixed a DAHA branch. So I will have to do some serious checking of versions.",
    "created_at": "2015-06-18T19:14:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-253005",
    "user": "https://trac.sagemath.org/admin/accounts/users/mshimo"
}
```

<a id='comment:13'></a>I will try. I didn't support that branch and just fixed a DAHA branch. So I will have to do some serious checking of versions.



---

archive/issue_comments_253006.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-18T19:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-253006",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_253007.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2015-06-18T21:02:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-253007",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_253008.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-26T19:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-253008",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_253009.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-11T15:30:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-253009",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_253010.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-11T15:40:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-253010",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_253011.json:
```json
{
    "body": "<a id='comment:19'></a>Here is a version rebased on 8.2.beta5. It still has some bitrot on it, so things don't really work, but it is a step in the right direction. Although in hindsight, it probably would have been better to take #15874 and rebase that (and its dependency #15832) and work that in, but I forgotten that #15874 was suppose to be a dependency. I have now marked it as such.",
    "created_at": "2018-02-10T22:53:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-253011",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>Here is a version rebased on 8.2.beta5. It still has some bitrot on it, so things don't really work, but it is a step in the right direction. Although in hindsight, it probably would have been better to take #15874 and rebase that (and its dependency #15832) and work that in, but I forgotten that #15874 was suppose to be a dependency. I have now marked it as such.



---

archive/issue_comments_253012.json:
```json
{
    "body": "<a id='comment:20'></a>New commits:",
    "created_at": "2018-02-10T22:54:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17989#issuecomment-253012",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>New commits:



---

archive/issue_events_051130.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-02-10T22:54:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17989",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17989#event-51130"
}
```
