# Issue 17030: Knot Theory as a part of GSoC 2014.

archive/issues_016793.json:
```json
{
    "assignees": [
        "https://github.com/amitjamadagni"
    ],
    "body": "<div id=\"comment:0\"></div>\n\nWe provide a basic implementation of knots and links such as the Seifert matrix, Jones and Alexander polynomials.\n\nCC:  @miguelmarco @jhpalmieri @tscrim @fuglede\n\nComponent: **algebraic topology**\n\nAuthor: **Amit Jamadagni, Miguel Marco**\n\nBranch: **[`207d033`](https://github.com/sagemath/sagetrac-mirror/commit/207d033813994705e75a22ef73b5b637a2b93085)**\n\nReviewer: **Miguel Marco, Karl-Dieter Crisman, Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw, S\u00f8ren Fuglede J\u00f8rgensen, John Palmieri**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17030_\n\n",
    "closed_at": "2016-03-27T07:44:33Z",
    "created_at": "2014-09-23T14:33:27Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20topology",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Knot Theory as a part of GSoC 2014.",
    "type": "issue",
    "updated_at": "2018-03-28T13:28:03Z",
    "url": "https://github.com/sagemath/sage/issues/17030",
    "user": "https://github.com/amitjamadagni"
}
```
<div id="comment:0"></div>

We provide a basic implementation of knots and links such as the Seifert matrix, Jones and Alexander polynomials.

CC:  @miguelmarco @jhpalmieri @tscrim @fuglede

Component: **algebraic topology**

Author: **Amit Jamadagni, Miguel Marco**

Branch: **[`207d033`](https://github.com/sagemath/sagetrac-mirror/commit/207d033813994705e75a22ef73b5b637a2b93085)**

Reviewer: **Miguel Marco, Karl-Dieter Crisman, Frédéric Chapoton, Travis Scrimshaw, Søren Fuglede Jørgensen, John Palmieri**

_Issue created by migration from https://trac.sagemath.org/ticket/17030_





---

archive/issue_events_241129.json:
```json
{
    "actor": "https://github.com/amitjamadagni",
    "created_at": "2014-09-23T14:33:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241129"
}
```



---

archive/issue_events_241130.json:
```json
{
    "actor": "https://github.com/amitjamadagni",
    "created_at": "2014-09-23T14:33:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241130"
}
```



---

archive/issue_comments_225244.json:
```json
{
    "body": "Branch: **[u/amitjamadagni/knots](https://github.com/sagemath/sagetrac-mirror/tree/u/amitjamadagni/knots)**",
    "created_at": "2014-09-23T17:47:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225244",
    "user": "https://github.com/amitjamadagni"
}
```

Branch: **[u/amitjamadagni/knots](https://github.com/sagemath/sagetrac-mirror/tree/u/amitjamadagni/knots)**



---

archive/issue_comments_225245.json:
```json
{
    "body": "Commit: **[`50abd99`](https://github.com/sagemath/sagetrac-mirror/commit/50abd9941bd9e4fa0c68fa26ff0b0beea643f26d)**",
    "created_at": "2014-09-23T17:51:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225245",
    "user": "https://github.com/amitjamadagni"
}
```

Commit: **[`50abd99`](https://github.com/sagemath/sagetrac-mirror/commit/50abd9941bd9e4fa0c68fa26ff0b0beea643f26d)**



---

archive/issue_comments_225246.json:
```json
{
    "body": "Author: **amitjamadagni, mmarco**",
    "created_at": "2014-09-23T17:51:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225246",
    "user": "https://github.com/amitjamadagni"
}
```

Author: **amitjamadagni, mmarco**



---

archive/issue_events_241131.json:
```json
{
    "actor": "https://github.com/amitjamadagni",
    "created_at": "2014-09-23T17:51:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241131"
}
```



---

archive/issue_events_241132.json:
```json
{
    "actor": "https://github.com/amitjamadagni",
    "created_at": "2014-09-23T17:51:02Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "subject": "https://github.com/amitjamadagni",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241132"
}
```



---

archive/issue_events_241133.json:
```json
{
    "actor": "https://github.com/amitjamadagni",
    "created_at": "2014-09-23T17:51:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "title_is": "Knot Theory as a part of GSoC 2014.",
    "title_was": "knots",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241133"
}
```



---

archive/issue_events_241134.json:
```json
{
    "actor": "https://github.com/amitjamadagni",
    "created_at": "2014-09-23T17:51:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241134"
}
```



---

archive/issue_events_241135.json:
```json
{
    "actor": "https://github.com/amitjamadagni",
    "created_at": "2014-09-23T17:51:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241135"
}
```



---

archive/issue_events_241136.json:
```json
{
    "actor": "https://github.com/amitjamadagni",
    "created_at": "2014-09-23T17:51:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241136"
}
```



---

archive/issue_comments_225247.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThings to do:\n1. Plot method needs to be added.\n2. ncomponents needs to be worked upon.",
    "created_at": "2014-09-23T17:53:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225247",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:5" align="right">comment:5</div>

Things to do:
1. Plot method needs to be added.
2. ncomponents needs to be worked upon.



---

archive/issue_comments_225248.json:
```json
{
    "body": "Reviewer: **mmarco**",
    "created_at": "2014-09-23T19:34:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225248",
    "user": "https://github.com/amitjamadagni"
}
```

Reviewer: **mmarco**



---

archive/issue_comments_225249.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI am not sure if it is a good idea that i would be the reviewer, since i have been involved in tge coding too. Besides, there is some polishing needed still and it would go faster if i directly work on it.\n\njhpamieri, do you feel able to do the revieweing? If yes, i will start working in the corrections. Otherwise, i will stay away from changing the code and just act as reviewer.",
    "created_at": "2014-09-24T09:15:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225249",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:8" align="right">comment:8</div>

I am not sure if it is a good idea that i would be the reviewer, since i have been involved in tge coding too. Besides, there is some polishing needed still and it would go faster if i directly work on it.

jhpamieri, do you feel able to do the revieweing? If yes, i will start working in the corrections. Otherwise, i will stay away from changing the code and just act as reviewer.



---

archive/issue_comments_225250.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI get the following wrror when compiling:\n\n\nrunning install_lib\nbyte-compiling /home/mmarco/sage/local/lib/python2.7/site-packages/sage/all.py to all.pyc\n  File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/all.py\", line 174\n    <<<<<<< HEAD\n     ^\n\n\nIs it a problem with the commit? Over which branch is it based?",
    "created_at": "2014-09-24T09:54:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225250",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:9" align="right">comment:9</div>

I get the following wrror when compiling:


running install_lib
byte-compiling /home/mmarco/sage/local/lib/python2.7/site-packages/sage/all.py to all.pyc
  File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/all.py", line 174
    <<<<<<< HEAD
     ^


Is it a problem with the commit? Over which branch is it based?



---

archive/issue_events_241137.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2014-09-24T09:54:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20topology",
    "label_color": "0000ff",
    "label_name": "c: algebraic topology",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241137"
}
```



---

archive/issue_comments_225251.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@miguelmarco](#comment%3A9):\n> I get the following wrror when compiling:\n> \n> \n> running install_lib\n> byte-compiling /home/mmarco/sage/local/lib/python2.7/site-packages/sage/all.py to all.pyc\n>   File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/all.py\", line 174\n>     <<<<<<< HEAD\n>      ^\n> \n> \n> Is it a problem with the commit? Over which branch is it based?\n\nI pushed the branch from github (the branch week15) onto the trac ticket. Let me try adding all.py and commit once again.",
    "created_at": "2014-09-24T11:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225251",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@miguelmarco](#comment%3A9):
> I get the following wrror when compiling:
> 
> 
> running install_lib
> byte-compiling /home/mmarco/sage/local/lib/python2.7/site-packages/sage/all.py to all.pyc
>   File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/all.py", line 174
>     <<<<<<< HEAD
>      ^
> 
> 
> Is it a problem with the commit? Over which branch is it based?

I pushed the branch from github (the branch week15) onto the trac ticket. Let me try adding all.py and commit once again.



---

archive/issue_comments_225252.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6e17c401b8b879cd041dafc120d3943b3f2dacb\"><code>e6e17c4</code></a></td><td><code>Removed the messages in all.py</code></td></tr></table>\n",
    "created_at": "2014-09-24T11:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225252",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6e17c401b8b879cd041dafc120d3943b3f2dacb"><code>e6e17c4</code></a></td><td><code>Removed the messages in all.py</code></td></tr></table>




---

archive/issue_comments_225253.json:
```json
{
    "body": "Changed commit from **[`50abd99`](https://github.com/sagemath/sagetrac-mirror/commit/50abd9941bd9e4fa0c68fa26ff0b0beea643f26d)** to **[`e6e17c4`](https://github.com/sagemath/sagetrac-mirror/commit/e6e17c401b8b879cd041dafc120d3943b3f2dacb)**",
    "created_at": "2014-09-24T11:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225253",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`50abd99`](https://github.com/sagemath/sagetrac-mirror/commit/50abd9941bd9e4fa0c68fa26ff0b0beea643f26d)** to **[`e6e17c4`](https://github.com/sagemath/sagetrac-mirror/commit/e6e17c401b8b879cd041dafc120d3943b3f2dacb)**



---

archive/issue_events_241138.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-09-24T11:57:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241138"
}
```



---

archive/issue_comments_225254.json:
```json
{
    "body": "Changed reviewer from **mmarco** to **Miguel Marco**",
    "created_at": "2014-09-24T11:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225254",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **mmarco** to **Miguel Marco**



---

archive/issue_comments_225255.json:
```json
{
    "body": "Changed author from **amitjamadagni, mmarco** to **Amit Jamadagni, Miguel Marco**",
    "created_at": "2014-09-24T11:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225255",
    "user": "https://github.com/tscrim"
}
```

Changed author from **amitjamadagni, mmarco** to **Amit Jamadagni, Miguel Marco**



---

archive/issue_comments_225256.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIt looks like a bad resolution to a merge, but it's a simple enough fix. Also on a quick look through:\n\n- Doc formatting should follow:\n\n```\nINPUT:\n\n- ``name`` -- some description that is very long and\n  note the alignment\n\nOUTPUT:\n\n- these are not usually complete sentences but short descriptions\n```\n- Move the nice documentation from the `__init__` into the class-level doc so people can actually see it.\n- All methods must have doctests.\n- It's my pythonic to use `isinstance(input_, list)` instead of `type(input_) == list`.\n- `input_` is a bad variable name (according to python standards), just use `input` (or perhaps the slightly more descriptive `data`)\n- Don't raise `Exception`, instead raise `ValueError` or `TypeError` (after killing with fire and holy water :P).\n- Change\n\n```python\npd_error = _pd_check_(input_)\nif pd_error == True:\n    pass\nelif pd_error == False:\n    pass\n```\n  into (the pythonic)\n\n```python\nif _pd_check_(input_):\n    pass\nelse:\n    pass\n```\n- Use `is not None` instead of `!= None`.\n- Make `_dt_internal_` a proper method of the class.\n- Remove the trailing underscore of `_pd_check_`, ,`_dt_internal_` etc. as methods with a leading and trailing underscore are usually Sage special functions (and naming conventions of python).\n- Is \"dowker\" a proper name (and hence, should be capitalized in the documentation)?\n- The method name `Seifert_Matrix` should be `seifert_matrix` (naming conventions again).\n- Could you change the name of `ncomponents` to `number_of_components` (although you can keep it as a shorthand alias)?\n- This needs to be added to the documentation (probably as a new component).\n\nI'll make a more detailed pass through the code after these are addressed. I also don't know how much of the math I'll be able to review as I've studied a little knot theory, but possibly not enough to check everything. Although Miguel could count as the reviewer on that front.\n\nI think this will be a great addition to Sage, all it needs a little polish.\n\nBest,\n\nTravis",
    "created_at": "2014-09-24T11:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225256",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

It looks like a bad resolution to a merge, but it's a simple enough fix. Also on a quick look through:

- Doc formatting should follow:

```
INPUT:

- ``name`` -- some description that is very long and
  note the alignment

OUTPUT:

- these are not usually complete sentences but short descriptions
```
- Move the nice documentation from the `__init__` into the class-level doc so people can actually see it.
- All methods must have doctests.
- It's my pythonic to use `isinstance(input_, list)` instead of `type(input_) == list`.
- `input_` is a bad variable name (according to python standards), just use `input` (or perhaps the slightly more descriptive `data`)
- Don't raise `Exception`, instead raise `ValueError` or `TypeError` (after killing with fire and holy water :P).
- Change

```python
pd_error = _pd_check_(input_)
if pd_error == True:
    pass
elif pd_error == False:
    pass
```
  into (the pythonic)

```python
if _pd_check_(input_):
    pass
else:
    pass
```
- Use `is not None` instead of `!= None`.
- Make `_dt_internal_` a proper method of the class.
- Remove the trailing underscore of `_pd_check_`, ,`_dt_internal_` etc. as methods with a leading and trailing underscore are usually Sage special functions (and naming conventions of python).
- Is "dowker" a proper name (and hence, should be capitalized in the documentation)?
- The method name `Seifert_Matrix` should be `seifert_matrix` (naming conventions again).
- Could you change the name of `ncomponents` to `number_of_components` (although you can keep it as a shorthand alias)?
- This needs to be added to the documentation (probably as a new component).

I'll make a more detailed pass through the code after these are addressed. I also don't know how much of the math I'll be able to review as I've studied a little knot theory, but possibly not enough to check everything. Although Miguel could count as the reviewer on that front.

I think this will be a great addition to Sage, all it needs a little polish.

Best,

Travis



---

archive/issue_comments_225257.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAlso please respect [http://www.sagemath.org/doc/developer/coding_basics.html#headings-of-sage-library-code-files](http://www.sagemath.org/doc/developer/coding_basics.html#headings-of-sage-library-code-files) and add your new files to the reference manual (have a look at the files in `src/doc/en/reference` to see how that is done).\n\nEven better, change\n\n```\npd_error = _pd_check_(input_)\nif pd_error == True:\n    raise Exception(\"...\")\nelif pd_error == False:\n    foo\n```\nto\n\n```\nif not _pd_check(input):\n    raise ValueError(\"...\")\n\nfoo\n```\nand change the last line of `def _pd_check_(pd):` to `return not pd_error`, since I would expect a \"check\" function to return `True` if the checking was successful. Also drop the trailing underscores.",
    "created_at": "2014-09-25T06:40:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225257",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Also please respect [http://www.sagemath.org/doc/developer/coding_basics.html#headings-of-sage-library-code-files](http://www.sagemath.org/doc/developer/coding_basics.html#headings-of-sage-library-code-files) and add your new files to the reference manual (have a look at the files in `src/doc/en/reference` to see how that is done).

Even better, change

```
pd_error = _pd_check_(input_)
if pd_error == True:
    raise Exception("...")
elif pd_error == False:
    foo
```
to

```
if not _pd_check(input):
    raise ValueError("...")

foo
```
and change the last line of `def _pd_check_(pd):` to `return not pd_error`, since I would expect a "check" function to return `True` if the checking was successful. Also drop the trailing underscores.



---

archive/issue_comments_225258.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nInstead of returning a string in `_vogel_move_()`, you should return `None` in case of failure. That would be more efficient and one wouldn't need to remember a magic string (which is by the way wrong in the doc of that method, further proving my point).",
    "created_at": "2014-09-25T06:45:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225258",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Instead of returning a string in `_vogel_move_()`, you should return `None` in case of failure. That would be more efficient and one wouldn't need to remember a magic string (which is by the way wrong in the doc of that method, further proving my point).



---

archive/issue_comments_225259.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@jdemeyer](#comment%3A14):\n> Instead of returning a string in `_vogel_move_()`, you should return `None` in case of failure. That would be more efficient and one wouldn't need to remember a magic string (which is by the way wrong in the doc of that method, further proving my point).\n\nI am currently having few issues with pushing commits onto trac, once I am done with the setup I will be sending in the commits. Thanks for guiding me and sorry for missing on the rules.",
    "created_at": "2014-09-25T06:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225259",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@jdemeyer](#comment%3A14):
> Instead of returning a string in `_vogel_move_()`, you should return `None` in case of failure. That would be more efficient and one wouldn't need to remember a magic string (which is by the way wrong in the doc of that method, further proving my point).

I am currently having few issues with pushing commits onto trac, once I am done with the setup I will be sending in the commits. Thanks for guiding me and sorry for missing on the rules.



---

archive/issue_comments_225260.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n> I'll make a more detailed pass through the code after these are addressed. I also don't know how much of the math I'll be able to review as I've studied a little knot theory, but possibly not enough to check everything. Although Miguel could count as the reviewer on that front.\n\nYeah, I think it would be really wise for such a new component and with a lot of technicalities for determining e.g. whether a given link is a knot to have a couple actual knot theorists review it, at least by checking the output in lots of cases.  That may take some cold-calling, though perhaps a sage-devel email will turn up some all by itself, and there are Sage-friendly knot folks out there - though I don't know if they know how to review a branch.",
    "created_at": "2014-09-25T07:22:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225260",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:16" align="right">comment:16</div>

> I'll make a more detailed pass through the code after these are addressed. I also don't know how much of the math I'll be able to review as I've studied a little knot theory, but possibly not enough to check everything. Although Miguel could count as the reviewer on that front.

Yeah, I think it would be really wise for such a new component and with a lot of technicalities for determining e.g. whether a given link is a knot to have a couple actual knot theorists review it, at least by checking the output in lots of cases.  That may take some cold-calling, though perhaps a sage-devel email will turn up some all by itself, and there are Sage-friendly knot folks out there - though I don't know if they know how to review a branch.



---

archive/issue_comments_225261.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI was planning on making a package with the database from the knot atlas, and use it to run automated tests, computing the invariants for the knots and links there.\n\nThe problem with that approach is that a) It needs some nontrivial work to be implemented, and b) it restricts to knots and links presented im spcially \"nice\" ways, so we could miss some bugs if they show up only when some strange representations are used.\n\nAnyways, it would be a nice addition by itself, so i will try to work on it in the following weeks.\n\nIn the meantime, and since there are several other reviewers in the coding style part, i will just focus on checking the mathematical correctness of the methods.",
    "created_at": "2014-09-25T09:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225261",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:17" align="right">comment:17</div>

I was planning on making a package with the database from the knot atlas, and use it to run automated tests, computing the invariants for the knots and links there.

The problem with that approach is that a) It needs some nontrivial work to be implemented, and b) it restricts to knots and links presented im spcially "nice" ways, so we could miss some bugs if they show up only when some strange representations are used.

Anyways, it would be a nice addition by itself, so i will try to work on it in the following weeks.

In the meantime, and since there are several other reviewers in the coding style part, i will just focus on checking the mathematical correctness of the methods.



---

archive/issue_comments_225262.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThere is something working wrong in the following case:\n\n```\nsage: L=Link([[1, 4, 2, 5], [7, 10, 8, 11], [3, 9, 4, 8], [9, 3, 10, 2], [5, 12, 6, 1], [11, 6, 12, 7]])\nsage: L\n<repr(<sage.knots.link.Link at 0x7f41771c8a28>) failed: Exception: Invalid Input>\n```\n\nIt gets an error when trying to get the  connected components, which in turn tries to convert it to braid (which is probably not a good idea, it would be wiser to compute the components directly from the PD_code, since we might me loosing something in the conversion PD<->braid).\n\nIn any case, this example fails in the conversion to braid:\n\n```\nsage: L.braid()\n...\nException: Invalid Input\n```\n\nPlease go through it and debug.\n}}}",
    "created_at": "2014-09-25T10:27:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225262",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:18" align="right">comment:18</div>

There is something working wrong in the following case:

```
sage: L=Link([[1, 4, 2, 5], [7, 10, 8, 11], [3, 9, 4, 8], [9, 3, 10, 2], [5, 12, 6, 1], [11, 6, 12, 7]])
sage: L
<repr(<sage.knots.link.Link at 0x7f41771c8a28>) failed: Exception: Invalid Input>
```

It gets an error when trying to get the  connected components, which in turn tries to convert it to braid (which is probably not a good idea, it would be wiser to compute the components directly from the PD_code, since we might me loosing something in the conversion PD<->braid).

In any case, this example fails in the conversion to braid:

```
sage: L.braid()
...
Exception: Invalid Input
```

Please go through it and debug.
}}}



---

archive/issue_comments_225263.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n> I was planning on making a package with the database from the knot atlas, and use it to run automated tests, computing the invariants for the knots and links there.\n> \n> The problem with that approach is that a) It needs some nontrivial work to be implemented, and b) it restricts to knots and links presented im spcially \"nice\" ways, so we could miss some bugs if they show up only when some strange representations are used.\n> \n> Anyways, it would be a nice addition by itself, so i will try to work on it in the following weeks.\n\nThat's a really excellent idea.  It's always good to have two ways to check information anyway.  Ideally one could have a prototype of that available in time to help test this ticket as well.",
    "created_at": "2014-09-25T12:21:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225263",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:19" align="right">comment:19</div>

> I was planning on making a package with the database from the knot atlas, and use it to run automated tests, computing the invariants for the knots and links there.
> 
> The problem with that approach is that a) It needs some nontrivial work to be implemented, and b) it restricts to knots and links presented im spcially "nice" ways, so we could miss some bugs if they show up only when some strange representations are used.
> 
> Anyways, it would be a nice addition by itself, so i will try to work on it in the following weeks.

That's a really excellent idea.  It's always good to have two ways to check information anyway.  Ideally one could have a prototype of that available in time to help test this ticket as well.



---

archive/issue_comments_225264.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@kcrisman](#comment%3A16):\n> Yeah, I think it would be really wise for such a new component and with a lot of technicalities for determining e.g. whether a given link is a knot to have a couple actual knot theorists review it, at least by checking the output in lots of cases.  That may take some cold-calling, though perhaps a sage-devel email will turn up some all by itself, and there are Sage-friendly knot folks out there - though I don't know if they know how to review a branch.\n\nFTR - I might be able to pull a few of the knot theorists at Davis to do the review in a month or two.\n\n---\n\nAlso here's some things that I'd like to see (although they don't have to be done here):\n\n- Make the monoid of all knots (and/or links) under connect sum (and disjoint union).\n- Implement a latex and/or a plotting method (although perhaps this would need specialized class for PL knots?).\n- Handle input in Dowker notation (if I understand it correctly, it completely determines a knot), and subsequently make `_dowker_notation_` public (i.e. name it `dowker_notation`).",
    "created_at": "2014-09-25T12:44:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225264",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@kcrisman](#comment%3A16):
> Yeah, I think it would be really wise for such a new component and with a lot of technicalities for determining e.g. whether a given link is a knot to have a couple actual knot theorists review it, at least by checking the output in lots of cases.  That may take some cold-calling, though perhaps a sage-devel email will turn up some all by itself, and there are Sage-friendly knot folks out there - though I don't know if they know how to review a branch.

FTR - I might be able to pull a few of the knot theorists at Davis to do the review in a month or two.

---

Also here's some things that I'd like to see (although they don't have to be done here):

- Make the monoid of all knots (and/or links) under connect sum (and disjoint union).
- Implement a latex and/or a plotting method (although perhaps this would need specialized class for PL knots?).
- Handle input in Dowker notation (if I understand it correctly, it completely determines a knot), and subsequently make `_dowker_notation_` public (i.e. name it `dowker_notation`).



---

archive/issue_comments_225265.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n> That's a really excellent idea.  It's always good to have two ways to check information anyway.  Ideally one could have a prototype of that available in time to help test this ticket as well.\n\nI am already running some of those tests. That's how i found the error in the conversion to braid.\n\nI have been working on a cleaner rewrite of the code used to convert from knot to braid, but i am not sure if it is a better idea that i stay as a reviewer. If i commit some code, someone else should review it.",
    "created_at": "2014-09-25T17:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225265",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:21" align="right">comment:21</div>

> That's a really excellent idea.  It's always good to have two ways to check information anyway.  Ideally one could have a prototype of that available in time to help test this ticket as well.

I am already running some of those tests. That's how i found the error in the conversion to braid.

I have been working on a cleaner rewrite of the code used to convert from knot to braid, but i am not sure if it is a better idea that i stay as a reviewer. If i commit some code, someone else should review it.



---

archive/issue_comments_225266.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fb0409d0f89d75b01a9b4f7ef330b05ca80bae4\"><code>4fb0409</code></a></td><td><code>Few changes.</code></td></tr></table>\n",
    "created_at": "2014-09-25T18:50:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225266",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fb0409d0f89d75b01a9b4f7ef330b05ca80bae4"><code>4fb0409</code></a></td><td><code>Few changes.</code></td></tr></table>




---

archive/issue_comments_225267.json:
```json
{
    "body": "Changed commit from **[`e6e17c4`](https://github.com/sagemath/sagetrac-mirror/commit/e6e17c401b8b879cd041dafc120d3943b3f2dacb)** to **[`4fb0409`](https://github.com/sagemath/sagetrac-mirror/commit/4fb0409d0f89d75b01a9b4f7ef330b05ca80bae4)**",
    "created_at": "2014-09-25T18:50:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225267",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e6e17c4`](https://github.com/sagemath/sagetrac-mirror/commit/e6e17c401b8b879cd041dafc120d3943b3f2dacb)** to **[`4fb0409`](https://github.com/sagemath/sagetrac-mirror/commit/4fb0409d0f89d75b01a9b4f7ef330b05ca80bae4)**



---

archive/issue_comments_225268.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n> Also here's some things that I'd like to see (although they don't have to be done here):\n> \n> - Make the monoid of all knots (and/or links) under connect sum (and disjoint union).\n> - Implement a latex and/or a plotting method (although perhaps this would need specialized class for PL knots?).\n> - Handle input in Dowker notation (if I understand it correctly, it completely determines a knot), and subsequently make `_dowker_notation_` public (i.e. name it `dowker_notation`).\n\n\nI am working on the plot method. Miguel has sent me the outline and I am on it.\n\nThe purpose of including the dowker notation was to implement the HOMFLY Polynomial which is in progress. The dowker notation as I understand is the incoming pair at each crossing. It completely determines the link but PD code is more complete. I guess we can include it but as PD is more complete I think we can exclude it. Anyways let me know your thoughts on this. \n\nSorry for the previous comment which mentioned the DT which is different from the dowker code.",
    "created_at": "2014-09-25T18:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225268",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:23" align="right">comment:23</div>

> Also here's some things that I'd like to see (although they don't have to be done here):
> 
> - Make the monoid of all knots (and/or links) under connect sum (and disjoint union).
> - Implement a latex and/or a plotting method (although perhaps this would need specialized class for PL knots?).
> - Handle input in Dowker notation (if I understand it correctly, it completely determines a knot), and subsequently make `_dowker_notation_` public (i.e. name it `dowker_notation`).


I am working on the plot method. Miguel has sent me the outline and I am on it.

The purpose of including the dowker notation was to implement the HOMFLY Polynomial which is in progress. The dowker notation as I understand is the incoming pair at each crossing. It completely determines the link but PD code is more complete. I guess we can include it but as PD is more complete I think we can exclude it. Anyways let me know your thoughts on this. 

Sorry for the previous comment which mentioned the DT which is different from the dowker code.



---

archive/issue_comments_225269.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@miguelmarco](#comment%3A17):\n> I was planning on making a package with the database from the knot atlas, and use it to run automated tests, computing the invariants for the knots and links there.\n> \n> The problem with that approach is that a) It needs some nontrivial work to be implemented, and b) it restricts to knots and links presented im spcially \"nice\" ways, so we could miss some bugs if they show up only when some strange representations are used.\n> \n> Anyways, it would be a nice addition by itself, so i will try to work on it in the following weeks.\n> \n> In the meantime, and since there are several other reviewers in the coding style part, i will just focus on checking the mathematical correctness of the methods.\n\nJust to mention knot altas has other kind of representation of PD Code, they start on the under crossing and move in the anti clockwise direction around the cross while we move in the clockwise direction in the construction of the PD code.",
    "created_at": "2014-09-25T19:00:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225269",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@miguelmarco](#comment%3A17):
> I was planning on making a package with the database from the knot atlas, and use it to run automated tests, computing the invariants for the knots and links there.
> 
> The problem with that approach is that a) It needs some nontrivial work to be implemented, and b) it restricts to knots and links presented im spcially "nice" ways, so we could miss some bugs if they show up only when some strange representations are used.
> 
> Anyways, it would be a nice addition by itself, so i will try to work on it in the following weeks.
> 
> In the meantime, and since there are several other reviewers in the coding style part, i will just focus on checking the mathematical correctness of the methods.

Just to mention knot altas has other kind of representation of PD Code, they start on the under crossing and move in the anti clockwise direction around the cross while we move in the clockwise direction in the construction of the PD code.



---

archive/issue_comments_225270.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3dac5c06f4592c081fe52f5126b28dd612b2df97\"><code>3dac5c0</code></a></td><td><code>Changes.</code></td></tr></table>\n",
    "created_at": "2014-09-25T20:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225270",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3dac5c06f4592c081fe52f5126b28dd612b2df97"><code>3dac5c0</code></a></td><td><code>Changes.</code></td></tr></table>




---

archive/issue_comments_225271.json:
```json
{
    "body": "Changed commit from **[`4fb0409`](https://github.com/sagemath/sagetrac-mirror/commit/4fb0409d0f89d75b01a9b4f7ef330b05ca80bae4)** to **[`3dac5c0`](https://github.com/sagemath/sagetrac-mirror/commit/3dac5c06f4592c081fe52f5126b28dd612b2df97)**",
    "created_at": "2014-09-25T20:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225271",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4fb0409`](https://github.com/sagemath/sagetrac-mirror/commit/4fb0409d0f89d75b01a9b4f7ef330b05ca80bae4)** to **[`3dac5c0`](https://github.com/sagemath/sagetrac-mirror/commit/3dac5c06f4592c081fe52f5126b28dd612b2df97)**



---

archive/issue_comments_225272.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nRegarding LaTeX, the following links (heh) might be helpful, although it doesn't look like they completely solve the problem:\n\n- http://mathoverflow.net/questions/21424/how-to-draw-knots-with-latex\n- http://tex.stackexchange.com/questions/17181/packages-for-creating-knot-diagrams\n- http://tex.blogoverflow.com/2013/04/how-can-i-draw-a-knot-in-tex-let-me-count-the-ways/",
    "created_at": "2014-09-25T20:57:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225272",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:26" align="right">comment:26</div>

Regarding LaTeX, the following links (heh) might be helpful, although it doesn't look like they completely solve the problem:

- http://mathoverflow.net/questions/21424/how-to-draw-knots-with-latex
- http://tex.stackexchange.com/questions/17181/packages-for-creating-knot-diagrams
- http://tex.blogoverflow.com/2013/04/how-can-i-draw-a-knot-in-tex-let-me-count-the-ways/



---

archive/issue_comments_225273.json:
```json
{
    "body": "Changed branch from **[u/amitjamadagni/knots](https://github.com/sagemath/sagetrac-mirror/tree/u/amitjamadagni/knots)** to **[u/mmarco/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17030)**",
    "created_at": "2014-09-26T11:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225273",
    "user": "https://github.com/miguelmarco"
}
```

Changed branch from **[u/amitjamadagni/knots](https://github.com/sagemath/sagetrac-mirror/tree/u/amitjamadagni/knots)** to **[u/mmarco/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17030)**



---

archive/issue_comments_225274.json:
```json
{
    "body": "Changed commit from **[`3dac5c0`](https://github.com/sagemath/sagetrac-mirror/commit/3dac5c06f4592c081fe52f5126b28dd612b2df97)** to **[`29be8b0`](https://github.com/sagemath/sagetrac-mirror/commit/29be8b00dd778425bd16cb3064dba381b8015672)**",
    "created_at": "2014-09-26T11:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225274",
    "user": "https://github.com/miguelmarco"
}
```

Changed commit from **[`3dac5c0`](https://github.com/sagemath/sagetrac-mirror/commit/3dac5c06f4592c081fe52f5126b28dd612b2df97)** to **[`29be8b0`](https://github.com/sagemath/sagetrac-mirror/commit/29be8b00dd778425bd16cb3064dba381b8015672)**



---

archive/issue_comments_225275.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI have done some changes cleaning up the conversion to braid. \n\nI have also run a script to check the results of .alexander_polynomial against the ones available in the knot atlas (taking into account the notation differences that Amit noted), and so far they match. Although my script is only checking 838 cases. There are some oddities, for example, in some knots, the knot atlas states that the Alexander polynomial is \"ComplexInfinity\", although our implementation returns an actual polynomial.\n\nIn other cases, the knot atlas shows no PD code, so i am not checking those.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b58f49244ac679c86be6b4c958e6993bedd137c1\"><code>b58f492</code></a></td><td><code>Cleanup of the braid conversion.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/071683a37f52d810c65fa9d973f7ce3388708b08\"><code>071683a</code></a></td><td><code>Merge branch 'u/amitjamadagni/knots' of git://trac.sagemath.org/sage into ticket/17030</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29be8b00dd778425bd16cb3064dba381b8015672\"><code>29be8b0</code></a></td><td><code>Merge conflict resolution</code></td></tr></table>\n",
    "created_at": "2014-09-26T11:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225275",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:28" align="right">comment:28</div>

I have done some changes cleaning up the conversion to braid. 

I have also run a script to check the results of .alexander_polynomial against the ones available in the knot atlas (taking into account the notation differences that Amit noted), and so far they match. Although my script is only checking 838 cases. There are some oddities, for example, in some knots, the knot atlas states that the Alexander polynomial is "ComplexInfinity", although our implementation returns an actual polynomial.

In other cases, the knot atlas shows no PD code, so i am not checking those.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b58f49244ac679c86be6b4c958e6993bedd137c1"><code>b58f492</code></a></td><td><code>Cleanup of the braid conversion.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/071683a37f52d810c65fa9d973f7ce3388708b08"><code>071683a</code></a></td><td><code>Merge branch 'u/amitjamadagni/knots' of git://trac.sagemath.org/sage into ticket/17030</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29be8b00dd778425bd16cb3064dba381b8015672"><code>29be8b0</code></a></td><td><code>Merge conflict resolution</code></td></tr></table>




---

archive/issue_comments_225276.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI have also checked the jones polynomial (in this case in 1064 cases). Almost all match, with the following exceptions:\n\n```\n<knot:L11n307>\n-q^10 + 3*q^9 - 6*q^8 + 8*q^7 - 9*q^6 + 11*q^5 - 8*q^4 + 8*q^3 - 4*q^2 + 2*q\n-q^10 + 3*q^9 - 6*q^8 + 8*q^7 - 9*q^6 + 11*q^5 - 8*q^4 + 8*q^3 - 4*q^2 + 2\n\n<knot:K11n162>\n-q^10 + 3*q^9 - 5*q^8 + 7*q^7 - 9*q^6 + 9*q^5 - 8*q^4 + 7*q^3 - 4*q^2 + 2*q\n-q^10 + 3*q^9 - 5*q^8 + 7*q^7 - 9*q^6 + 9*q^5 - 8*q^4 + 7*q^3 - 4*q^2 + 2\n\n\n<knot:L11n271>\n-q^10 + 2*q^9 - 5*q^8 + 7*q^7 - 9*q^6 + 11*q^5 - 8*q^4 + 9*q^3 - 5*q^2 + 3*q\n-q^10 + 2*q^9 - 5*q^8 + 7*q^7 - 9*q^6 + 11*q^5 - 8*q^4 + 9*q^3 - 5*q^2 + 3\n\n\n<knot:L10n112>\nq^9 - q^8 + 6*q^7 - 5*q^6 + 11*q^5 - 5*q^4 + 10*q^3 - 5*q^2 + 4*q\nq^9 - q^8 + 6*q^7 - 5*q^6 + 11*q^5 - 5*q^4 + 10*q^3 - 5*q^2 + 4\n\n\n<knot:K11n63>\n-q^10 + 2*q^9 - 3*q^8 + 5*q^7 - 6*q^6 + 6*q^5 - 6*q^4 + 5*q^3 - 3*q^2 + 2*q\n-q^10 + 2*q^9 - 3*q^8 + 5*q^7 - 6*q^6 + 6*q^5 - 6*q^4 + 5*q^3 - 3*q^2 + 2\n\n\n<knot:10_165>\nq^9 - 3*q^8 + 4*q^7 - 6*q^6 + 7*q^5 - 6*q^4 + 6*q^3 - 4*q^2 + 2*q\nq^9 - 3*q^8 + 4*q^7 - 6*q^6 + 7*q^5 - 6*q^4 + 6*q^3 - 4*q^2 + 2\n\n\n<knot:L11n316>\nq^9 - 3*q^8 + 5*q^7 - 6*q^6 + 8*q^5 - 7*q^4 + 7*q^3 - 4*q^2 + 3*q\nq^9 - 3*q^8 + 5*q^7 - 6*q^6 + 8*q^5 - 7*q^4 + 7*q^3 - 4*q^2 + 3\n\n\n<knot:L9n20>\n-q^8 + 2*q^7 - 4*q^6 + 5*q^5 - 4*q^4 + 6*q^3 - 3*q^2 + 3*q\n-q^8 + 2*q^7 - 4*q^6 + 5*q^5 - 4*q^4 + 6*q^3 - 3*q^2 + 3\n\n```\n\nIn each case, the first polynomial is the one given by our implementation, and the second the one given by the knot atlas.\n\nCan someone confirm if the knot atlas results are correct?",
    "created_at": "2014-09-26T11:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225276",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:29" align="right">comment:29</div>

I have also checked the jones polynomial (in this case in 1064 cases). Almost all match, with the following exceptions:

```
<knot:L11n307>
-q^10 + 3*q^9 - 6*q^8 + 8*q^7 - 9*q^6 + 11*q^5 - 8*q^4 + 8*q^3 - 4*q^2 + 2*q
-q^10 + 3*q^9 - 6*q^8 + 8*q^7 - 9*q^6 + 11*q^5 - 8*q^4 + 8*q^3 - 4*q^2 + 2

<knot:K11n162>
-q^10 + 3*q^9 - 5*q^8 + 7*q^7 - 9*q^6 + 9*q^5 - 8*q^4 + 7*q^3 - 4*q^2 + 2*q
-q^10 + 3*q^9 - 5*q^8 + 7*q^7 - 9*q^6 + 9*q^5 - 8*q^4 + 7*q^3 - 4*q^2 + 2


<knot:L11n271>
-q^10 + 2*q^9 - 5*q^8 + 7*q^7 - 9*q^6 + 11*q^5 - 8*q^4 + 9*q^3 - 5*q^2 + 3*q
-q^10 + 2*q^9 - 5*q^8 + 7*q^7 - 9*q^6 + 11*q^5 - 8*q^4 + 9*q^3 - 5*q^2 + 3


<knot:L10n112>
q^9 - q^8 + 6*q^7 - 5*q^6 + 11*q^5 - 5*q^4 + 10*q^3 - 5*q^2 + 4*q
q^9 - q^8 + 6*q^7 - 5*q^6 + 11*q^5 - 5*q^4 + 10*q^3 - 5*q^2 + 4


<knot:K11n63>
-q^10 + 2*q^9 - 3*q^8 + 5*q^7 - 6*q^6 + 6*q^5 - 6*q^4 + 5*q^3 - 3*q^2 + 2*q
-q^10 + 2*q^9 - 3*q^8 + 5*q^7 - 6*q^6 + 6*q^5 - 6*q^4 + 5*q^3 - 3*q^2 + 2


<knot:10_165>
q^9 - 3*q^8 + 4*q^7 - 6*q^6 + 7*q^5 - 6*q^4 + 6*q^3 - 4*q^2 + 2*q
q^9 - 3*q^8 + 4*q^7 - 6*q^6 + 7*q^5 - 6*q^4 + 6*q^3 - 4*q^2 + 2


<knot:L11n316>
q^9 - 3*q^8 + 5*q^7 - 6*q^6 + 8*q^5 - 7*q^4 + 7*q^3 - 4*q^2 + 3*q
q^9 - 3*q^8 + 5*q^7 - 6*q^6 + 8*q^5 - 7*q^4 + 7*q^3 - 4*q^2 + 3


<knot:L9n20>
-q^8 + 2*q^7 - 4*q^6 + 5*q^5 - 4*q^4 + 6*q^3 - 3*q^2 + 3*q
-q^8 + 2*q^7 - 4*q^6 + 5*q^5 - 4*q^4 + 6*q^3 - 3*q^2 + 3

```

In each case, the first polynomial is the one given by our implementation, and the second the one given by the knot atlas.

Can someone confirm if the knot atlas results are correct?



---

archive/issue_comments_225277.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@miguelmarco](#comment%3A18):\n> There is something working wrong in the following case:\n> \n> ```\n> sage: L=Link([[1, 4, 2, 5], [7, 10, 8, 11], [3, 9, 4, 8], [9, 3, 10, 2], [5, 12, 6, 1], [11, 6, 12, 7]])\n> sage: L\n> <repr(<sage.knots.link.Link at 0x7f41771c8a28>) failed: Exception: Invalid Input>\n> ```\n> \n> It gets an error when trying to get the  connected components, which in turn tries to convert it to braid (which is probably not a good idea, it would be wiser to compute the components directly from the PD_code, since we might me loosing something in the conversion PD<->braid).\n> \n> In any case, this example fails in the conversion to braid:\n> \n> ```\n> sage: L.braid()\n> ...\n> Exception: Invalid Input\n> ```\n> \n> Please go through it and debug.\n> }}}\n\nI have worked along on the debug and here are the results :\n\n```\n\nsage: L = Link([[1,5,2,4],[7,11,8,10],[3,8,4,9],[9,2,10,3],[5,1,6,12],[11,7,12,6]])  \nsage: L.braid()\ns0*s1^-1*s2*s1^-1*s0^-1*s1^-1*s2^-1*s3^-1*s2*s1^-1*s0*s2*s1^-1\n\n```",
    "created_at": "2014-09-26T11:57:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225277",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@miguelmarco](#comment%3A18):
> There is something working wrong in the following case:
> 
> ```
> sage: L=Link([[1, 4, 2, 5], [7, 10, 8, 11], [3, 9, 4, 8], [9, 3, 10, 2], [5, 12, 6, 1], [11, 6, 12, 7]])
> sage: L
> <repr(<sage.knots.link.Link at 0x7f41771c8a28>) failed: Exception: Invalid Input>
> ```
> 
> It gets an error when trying to get the  connected components, which in turn tries to convert it to braid (which is probably not a good idea, it would be wiser to compute the components directly from the PD_code, since we might me loosing something in the conversion PD<->braid).
> 
> In any case, this example fails in the conversion to braid:
> 
> ```
> sage: L.braid()
> ...
> Exception: Invalid Input
> ```
> 
> Please go through it and debug.
> }}}

I have worked along on the debug and here are the results :

```

sage: L = Link([[1,5,2,4],[7,11,8,10],[3,8,4,9],[9,2,10,3],[5,1,6,12],[11,7,12,6]])  
sage: L.braid()
s0*s1^-1*s2*s1^-1*s0^-1*s1^-1*s2^-1*s3^-1*s2*s1^-1*s0*s2*s1^-1

```



---

archive/issue_comments_225278.json:
```json
{
    "body": "Changed branch from **[u/mmarco/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17030)** to **[u/amitjamadagni/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/amitjamadagni/ticket/17030)**",
    "created_at": "2014-09-26T12:00:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225278",
    "user": "https://github.com/amitjamadagni"
}
```

Changed branch from **[u/mmarco/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17030)** to **[u/amitjamadagni/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/amitjamadagni/ticket/17030)**



---

archive/issue_comments_225279.json:
```json
{
    "body": "Changed commit from **[`29be8b0`](https://github.com/sagemath/sagetrac-mirror/commit/29be8b00dd778425bd16cb3064dba381b8015672)** to **[`c020d91`](https://github.com/sagemath/sagetrac-mirror/commit/c020d916536244a736c6a2feb6665f49f31e0c6a)**",
    "created_at": "2014-09-26T12:09:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225279",
    "user": "https://github.com/miguelmarco"
}
```

Changed commit from **[`29be8b0`](https://github.com/sagemath/sagetrac-mirror/commit/29be8b00dd778425bd16cb3064dba381b8015672)** to **[`c020d91`](https://github.com/sagemath/sagetrac-mirror/commit/c020d916536244a736c6a2feb6665f49f31e0c6a)**



---

archive/issue_comments_225280.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nPlease take a look at my previous commit, i have rewriten part of the braid conversion.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c020d916536244a736c6a2feb6665f49f31e0c6a\"><code>c020d91</code></a></td><td><code>Edits in Vogel Move. Correction in the previous after the RM has been made.</code></td></tr></table>\n",
    "created_at": "2014-09-26T12:09:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225280",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:32" align="right">comment:32</div>

Please take a look at my previous commit, i have rewriten part of the braid conversion.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c020d916536244a736c6a2feb6665f49f31e0c6a"><code>c020d91</code></a></td><td><code>Edits in Vogel Move. Correction in the previous after the RM has been made.</code></td></tr></table>




---

archive/issue_comments_225281.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nMy bad, the discrepancies with the knot atlas where due to my script not parsing correctly the file given by the knot atlas. So we can say that so far our implementation coincides with the knot atlas.",
    "created_at": "2014-09-26T12:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225281",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:33" align="right">comment:33</div>

My bad, the discrepancies with the knot atlas where due to my script not parsing correctly the file given by the knot atlas. So we can say that so far our implementation coincides with the knot atlas.



---

archive/issue_comments_225282.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@miguelmarco](#comment%3A33):\n> My bad, the discrepancies with the knot atlas where due to my script not parsing correctly the file given by the knot atlas. So we can say that so far our implementation coincides with the knot atlas.\n\nThat's good to hear. :)\nSorry for the previous commit, but I have found out the bug in my code.\nI will go through the rewritten parts. Could you please let me know the way you are testing things so that I can do it as well. Thanks.",
    "created_at": "2014-09-26T12:46:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225282",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@miguelmarco](#comment%3A33):
> My bad, the discrepancies with the knot atlas where due to my script not parsing correctly the file given by the knot atlas. So we can say that so far our implementation coincides with the knot atlas.

That's good to hear. :)
Sorry for the previous commit, but I have found out the bug in my code.
I will go through the rewritten parts. Could you please let me know the way you are testing things so that I can do it as well. Thanks.



---

archive/issue_comments_225283.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nHello,\n\nThe logic of every if/else is completely crazy. Rewriting the `__init__` properly takes only half of the preceding implementation: see my commit at `u/vdelecroix/17030`. The code needs a lot of polishing. I did not dig in the details but it is clearly hard to read!\n\nVincent",
    "created_at": "2014-09-28T13:46:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225283",
    "user": "https://github.com/videlec"
}
```

<div id="comment:35" align="right">comment:35</div>

Hello,

The logic of every if/else is completely crazy. Rewriting the `__init__` properly takes only half of the preceding implementation: see my commit at `u/vdelecroix/17030`. The code needs a lot of polishing. I did not dig in the details but it is clearly hard to read!

Vincent



---

archive/issue_comments_225284.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@videlec](#comment%3A35):\n> Hello,\n> \n> The logic of every if/else is completely crazy. Rewriting the `__init__` properly takes only half of the preceding implementation: see my commit at `u/vdelecroix/17030`. The code needs a lot of polishing. I did not dig in the details but it is clearly hard to read!\n> \n> Vincent\n\nI have browsed through the commit, data can also be a PD code when its length is 2 it is not always oriented gauss code.",
    "created_at": "2014-09-28T14:20:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225284",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@videlec](#comment%3A35):
> Hello,
> 
> The logic of every if/else is completely crazy. Rewriting the `__init__` properly takes only half of the preceding implementation: see my commit at `u/vdelecroix/17030`. The code needs a lot of polishing. I did not dig in the details but it is clearly hard to read!
> 
> Vincent

I have browsed through the commit, data can also be a PD code when its length is 2 it is not always oriented gauss code.



---

archive/issue_comments_225285.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@amitjamadagni](#comment%3A36):\n> Replying to [@videlec](#comment%3A35):\n> > Hello,\n> > \n> > The logic of every if/else is completely crazy. Rewriting the `__init__` properly takes only half of the preceding implementation: see my commit at `u/vdelecroix/17030`. The code needs a lot of polishing. I did not dig in the details but it is clearly hard to read!\n> > \n> > Vincent\n> \n> \n> I have browsed through the commit, data can also be a PD code when its length is 2 it is not always oriented gauss code. \n\nYes and this is fine. From my commit:\n\n```\n+            if len(data) != 2 or not all(isinstance(i,list) for i in data[0]):\n+                # here we expect a PD code\n```\nWhich mean that you expect a PD code if either `len(data) != 2` **or** if any element of `data[0]` is not a list.\n\nVincent",
    "created_at": "2014-09-28T14:24:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225285",
    "user": "https://github.com/videlec"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@amitjamadagni](#comment%3A36):
> Replying to [@videlec](#comment%3A35):
> > Hello,
> > 
> > The logic of every if/else is completely crazy. Rewriting the `__init__` properly takes only half of the preceding implementation: see my commit at `u/vdelecroix/17030`. The code needs a lot of polishing. I did not dig in the details but it is clearly hard to read!
> > 
> > Vincent
> 
> 
> I have browsed through the commit, data can also be a PD code when its length is 2 it is not always oriented gauss code. 

Yes and this is fine. From my commit:

```
+            if len(data) != 2 or not all(isinstance(i,list) for i in data[0]):
+                # here we expect a PD code
```
Which mean that you expect a PD code if either `len(data) != 2` **or** if any element of `data[0]` is not a list.

Vincent



---

archive/issue_comments_225286.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@videlec](#comment%3A37):\n> Replying to [@amitjamadagni](#comment%3A36):\n> > Replying to [@videlec](#comment%3A35):\n> > > Hello,\n> > > \n> > > The logic of every if/else is completely crazy. Rewriting the `__init__` properly takes only half of the preceding implementation: see my commit at `u/vdelecroix/17030`. The code needs a lot of polishing. I did not dig in the details but it is clearly hard to read!\n> > > \n> > > Vincent\n> > \n> > \n> > I have browsed through the commit, data can also be a PD code when its length is 2 it is not always oriented gauss code. \n> \n> \n> Yes and this is fine. From my commit:\n> \n> ```\n> +            if len(data) != 2 or not all(isinstance(i,list) for i in data[0]):\n> +                # here we expect a PD code\n> ```\n> Which mean that you expect a PD code if either `len(data) != 2` **or** if any element of `data[0]` is not a list.\n> \n> Vincent\n\nYeah ! I get it.",
    "created_at": "2014-09-28T15:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225286",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@videlec](#comment%3A37):
> Replying to [@amitjamadagni](#comment%3A36):
> > Replying to [@videlec](#comment%3A35):
> > > Hello,
> > > 
> > > The logic of every if/else is completely crazy. Rewriting the `__init__` properly takes only half of the preceding implementation: see my commit at `u/vdelecroix/17030`. The code needs a lot of polishing. I did not dig in the details but it is clearly hard to read!
> > > 
> > > Vincent
> > 
> > 
> > I have browsed through the commit, data can also be a PD code when its length is 2 it is not always oriented gauss code. 
> 
> 
> Yes and this is fine. From my commit:
> 
> ```
> +            if len(data) != 2 or not all(isinstance(i,list) for i in data[0]):
> +                # here we expect a PD code
> ```
> Which mean that you expect a PD code if either `len(data) != 2` **or** if any element of `data[0]` is not a list.
> 
> Vincent

Yeah ! I get it.



---

archive/issue_comments_225287.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nActually, i think that tuples should be allowed too. What do you think about storing the attributes as tuples ? (so they would be immutable)",
    "created_at": "2014-09-28T18:38:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225287",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:39" align="right">comment:39</div>

Actually, i think that tuples should be allowed too. What do you think about storing the attributes as tuples ? (so they would be immutable)



---

archive/issue_comments_225288.json:
```json
{
    "body": "Changed commit from **[`c020d91`](https://github.com/sagemath/sagetrac-mirror/commit/c020d916536244a736c6a2feb6665f49f31e0c6a)** to **[`0133305`](https://github.com/sagemath/sagetrac-mirror/commit/013330510468c160af37fb3048c2e5a8cc1aa0eb)**",
    "created_at": "2014-09-29T17:32:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225288",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c020d91`](https://github.com/sagemath/sagetrac-mirror/commit/c020d916536244a736c6a2feb6665f49f31e0c6a)** to **[`0133305`](https://github.com/sagemath/sagetrac-mirror/commit/013330510468c160af37fb3048c2e5a8cc1aa0eb)**



---

archive/issue_comments_225289.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/013330510468c160af37fb3048c2e5a8cc1aa0eb\"><code>0133305</code></a></td><td><code>Edits in the `__init__` method.</code></td></tr></table>\n",
    "created_at": "2014-09-29T17:32:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225289",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/013330510468c160af37fb3048c2e5a8cc1aa0eb"><code>0133305</code></a></td><td><code>Edits in the `__init__` method.</code></td></tr></table>




---

archive/issue_comments_225290.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nYou should add this to the reference manual using changes like these:\n\n```diff\ndiff --git a/src/doc/en/reference/index.rst b/src/doc/en/reference/index.rst\nindex 662a079..c5e2211 100644\n--- a/src/doc/en/reference/index.rst\n+++ b/src/doc/en/reference/index.rst\n@@ -69,6 +69,7 @@ Geometry and Topology\n * :doc:`Cell Complexes and their Homology <homology/index>`\n * :doc:`Differential Forms <tensor/index>`\n * :doc:`Parametrized Surfaces <riemannian_geometry/index>`\n+* :doc:`Knot Theory <knots/index>`\n \n Number Theory, Algebraic Geometry\n ---------------------------------\ndiff --git a/src/doc/en/reference/knots/conf.py b/src/doc/en/reference/knots/conf.py\nnew file mode 120000\nindex 0000000..2bdf7e6\n--- /dev/null\n+++ b/src/doc/en/reference/knots/conf.py\n@@ -0,0 +1 @@\n+../conf_sub.py\n\\ No newline at end of file\ndiff --git a/src/doc/en/reference/knots/index.rst b/src/doc/en/reference/knots/index.rst\nnew file mode 100644\nindex 0000000..229ccac\n--- /dev/null\n+++ b/src/doc/en/reference/knots/index.rst\n@@ -0,0 +1,9 @@\n+Knot theory\n+===========\n+\n+.. toctree::\n+   :maxdepth: 2\n+\n+   sage/knots/link\n+\n+.. include:: ../footer.txt\n```\n(It may not be clear from this, but `src/doc/en/reference/knots/conf.py` is a symlink pointing to `src/doc/en/reference/conf_sub.py`.) Once you do this, you will find that the documentation is a mess: indentations are wrong, etc. For example, here are some changes I found by looking at the first few methods:\n\n```diff\ndiff --git a/src/sage/knots/link.py b/src/sage/knots/link.py\nindex 6259df0..3ed2dd6 100644\n--- a/src/sage/knots/link.py\n+++ b/src/sage/knots/link.py\n@@ -44,18 +44,18 @@ class Link:\n       2. Oriented Gauss Code\n       3. Planar Diagram Code\n \n-      EXAMPLES::\n-\n-          sage: B = BraidGroup(8)\n-          sage: L = Link(B([1, 2, 1, -2,-1]))\n-          sage: L\n-          Link with 2 components represented by 5 crossings\n-          sage: L = Link([[[-1, +2, -3, 4, +5, +1, -2, +6, +7, 3, -4, -7, -6,-5]],[-1, -1, -1, -1, 1, -1, 1]])\n-          sage: L\n-          Knot represented by 7 crossings\n-          sage: L = Link([[1,8,2,7],[8,4,9,5],[3,9,4,10],[10,1,7,6],[5,3,6,2]])\n-          sage: L\n-          Link with 2 components represented by 5 crossings\n+    EXAMPLES::\n+\n+        sage: B = BraidGroup(8)\n+        sage: L = Link(B([1, 2, 1, -2,-1]))\n+        sage: L\n+        Link with 2 components represented by 5 crossings\n+        sage: L = Link([[[-1, +2, -3, 4, +5, +1, -2, +6, +7, 3, -4, -7, -6,-5]],[-1, -1, -1, -1, 1, -1, 1]])\n+        sage: L\n+        Knot represented by 7 crossings\n+        sage: L = Link([[1,8,2,7],[8,4,9,5],[3,9,4,10],[10,1,7,6],[5,3,6,2]])\n+        sage: L\n+        Link with 2 components represented by 5 crossings\n     \"\"\"\n \n     def __init__(self, data):\n@@ -70,6 +70,8 @@ class Link:\n \n         Generators of the braid group are used to generate the link.\n \n+        EXAMPLES::\n+\n             sage: B = BraidGroup(8)\n             sage: L = Link(B([-1, -1, -1, -2,1, -2,3,-2,3]))\n             sage: L\n@@ -92,6 +94,8 @@ class Link:\n         anti-clockwise, -1 if the direction from the leaving over-cross to the\n         leaving under-cross is clockwise.\n \n+        EXAMPLES::\n+\n             # for knots there is only a single component so the input is as follows\n             sage: L = Link([[[-1, +2, 3, -4, 5, -6, 7, 8, -2, -5, +6, +1, -8, -3, 4, -7]],[-1,-1,-\n             sage: L\n@@ -240,8 +244,10 @@ class Link:\n         r\"\"\"\n         Return the oriented gauss code of the link. The oriented gauss\n         code has two parts\n+\n         a. The gauss code\n         b. The orientation of each crossing\n+\n         The following orientation was taken into consideration for consturction\n         of knots:\n```\n(And now I just saw that \"construction\" is misspelled in the last sentence.)\n\nDoctest coverage is not yet 100%:\n\n```\n$ sage --coverage src/sage/knots/link.py\n------------------------------------------------------------------------\nSCORE src/sage/knots/link.py: 85.3% (29 of 34)\n\nMissing documentation:\n     * line 1686: def _rule_1_(over)\n     * line 1701: def _rule_2_(over)\n     * line 1714: def _pd_error_(pd)\n     * line 1728: def _bracket_(pd_code)\n     * line 1768: def _rule_4_(rest, c_1, c_2)\n------------------------------------------------------------------------\n```",
    "created_at": "2014-09-29T20:14:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225290",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:41" align="right">comment:41</div>

You should add this to the reference manual using changes like these:

```diff
diff --git a/src/doc/en/reference/index.rst b/src/doc/en/reference/index.rst
index 662a079..c5e2211 100644
--- a/src/doc/en/reference/index.rst
+++ b/src/doc/en/reference/index.rst
@@ -69,6 +69,7 @@ Geometry and Topology
 * :doc:`Cell Complexes and their Homology <homology/index>`
 * :doc:`Differential Forms <tensor/index>`
 * :doc:`Parametrized Surfaces <riemannian_geometry/index>`
+* :doc:`Knot Theory <knots/index>`
 
 Number Theory, Algebraic Geometry
 ---------------------------------
diff --git a/src/doc/en/reference/knots/conf.py b/src/doc/en/reference/knots/conf.py
new file mode 120000
index 0000000..2bdf7e6
--- /dev/null
+++ b/src/doc/en/reference/knots/conf.py
@@ -0,0 +1 @@
+../conf_sub.py
\ No newline at end of file
diff --git a/src/doc/en/reference/knots/index.rst b/src/doc/en/reference/knots/index.rst
new file mode 100644
index 0000000..229ccac
--- /dev/null
+++ b/src/doc/en/reference/knots/index.rst
@@ -0,0 +1,9 @@
+Knot theory
+===========
+
+.. toctree::
+   :maxdepth: 2
+
+   sage/knots/link
+
+.. include:: ../footer.txt
```
(It may not be clear from this, but `src/doc/en/reference/knots/conf.py` is a symlink pointing to `src/doc/en/reference/conf_sub.py`.) Once you do this, you will find that the documentation is a mess: indentations are wrong, etc. For example, here are some changes I found by looking at the first few methods:

```diff
diff --git a/src/sage/knots/link.py b/src/sage/knots/link.py
index 6259df0..3ed2dd6 100644
--- a/src/sage/knots/link.py
+++ b/src/sage/knots/link.py
@@ -44,18 +44,18 @@ class Link:
       2. Oriented Gauss Code
       3. Planar Diagram Code
 
-      EXAMPLES::
-
-          sage: B = BraidGroup(8)
-          sage: L = Link(B([1, 2, 1, -2,-1]))
-          sage: L
-          Link with 2 components represented by 5 crossings
-          sage: L = Link([[[-1, +2, -3, 4, +5, +1, -2, +6, +7, 3, -4, -7, -6,-5]],[-1, -1, -1, -1, 1, -1, 1]])
-          sage: L
-          Knot represented by 7 crossings
-          sage: L = Link([[1,8,2,7],[8,4,9,5],[3,9,4,10],[10,1,7,6],[5,3,6,2]])
-          sage: L
-          Link with 2 components represented by 5 crossings
+    EXAMPLES::
+
+        sage: B = BraidGroup(8)
+        sage: L = Link(B([1, 2, 1, -2,-1]))
+        sage: L
+        Link with 2 components represented by 5 crossings
+        sage: L = Link([[[-1, +2, -3, 4, +5, +1, -2, +6, +7, 3, -4, -7, -6,-5]],[-1, -1, -1, -1, 1, -1, 1]])
+        sage: L
+        Knot represented by 7 crossings
+        sage: L = Link([[1,8,2,7],[8,4,9,5],[3,9,4,10],[10,1,7,6],[5,3,6,2]])
+        sage: L
+        Link with 2 components represented by 5 crossings
     """
 
     def __init__(self, data):
@@ -70,6 +70,8 @@ class Link:
 
         Generators of the braid group are used to generate the link.
 
+        EXAMPLES::
+
             sage: B = BraidGroup(8)
             sage: L = Link(B([-1, -1, -1, -2,1, -2,3,-2,3]))
             sage: L
@@ -92,6 +94,8 @@ class Link:
         anti-clockwise, -1 if the direction from the leaving over-cross to the
         leaving under-cross is clockwise.
 
+        EXAMPLES::
+
             # for knots there is only a single component so the input is as follows
             sage: L = Link([[[-1, +2, 3, -4, 5, -6, 7, 8, -2, -5, +6, +1, -8, -3, 4, -7]],[-1,-1,-
             sage: L
@@ -240,8 +244,10 @@ class Link:
         r"""
         Return the oriented gauss code of the link. The oriented gauss
         code has two parts
+
         a. The gauss code
         b. The orientation of each crossing
+
         The following orientation was taken into consideration for consturction
         of knots:
```
(And now I just saw that "construction" is misspelled in the last sentence.)

Doctest coverage is not yet 100%:

```
$ sage --coverage src/sage/knots/link.py
------------------------------------------------------------------------
SCORE src/sage/knots/link.py: 85.3% (29 of 34)

Missing documentation:
     * line 1686: def _rule_1_(over)
     * line 1701: def _rule_2_(over)
     * line 1714: def _pd_error_(pd)
     * line 1728: def _bracket_(pd_code)
     * line 1768: def _rule_4_(rest, c_1, c_2)
------------------------------------------------------------------------
```



---

archive/issue_comments_225291.json:
```json
{
    "body": "Changed commit from **[`0133305`](https://github.com/sagemath/sagetrac-mirror/commit/013330510468c160af37fb3048c2e5a8cc1aa0eb)** to **[`c3bedaa`](https://github.com/sagemath/sagetrac-mirror/commit/c3bedaa8d0ac5a819612acb881b2fe86aa1c46ea)**",
    "created_at": "2014-10-05T16:48:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225291",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0133305`](https://github.com/sagemath/sagetrac-mirror/commit/013330510468c160af37fb3048c2e5a8cc1aa0eb)** to **[`c3bedaa`](https://github.com/sagemath/sagetrac-mirror/commit/c3bedaa8d0ac5a819612acb881b2fe86aa1c46ea)**



---

archive/issue_comments_225292.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3bedaa8d0ac5a819612acb881b2fe86aa1c46ea\"><code>c3bedaa</code></a></td><td><code>Flatten used. WIP: docs and other methods.</code></td></tr></table>\n",
    "created_at": "2014-10-05T16:48:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225292",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3bedaa8d0ac5a819612acb881b2fe86aa1c46ea"><code>c3bedaa</code></a></td><td><code>Flatten used. WIP: docs and other methods.</code></td></tr></table>




---

archive/issue_comments_225293.json:
```json
{
    "body": "Changed commit from **[`c3bedaa`](https://github.com/sagemath/sagetrac-mirror/commit/c3bedaa8d0ac5a819612acb881b2fe86aa1c46ea)** to **[`1613a32`](https://github.com/sagemath/sagetrac-mirror/commit/1613a3282029a8234bad39707afe2b4a71d1d5c5)**",
    "created_at": "2014-10-05T16:53:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225293",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c3bedaa`](https://github.com/sagemath/sagetrac-mirror/commit/c3bedaa8d0ac5a819612acb881b2fe86aa1c46ea)** to **[`1613a32`](https://github.com/sagemath/sagetrac-mirror/commit/1613a3282029a8234bad39707afe2b4a71d1d5c5)**



---

archive/issue_comments_225294.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1613a3282029a8234bad39707afe2b4a71d1d5c5\"><code>1613a32</code></a></td><td><code>Changes.</code></td></tr></table>\n",
    "created_at": "2014-10-05T16:53:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225294",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1613a3282029a8234bad39707afe2b4a71d1d5c5"><code>1613a32</code></a></td><td><code>Changes.</code></td></tr></table>




---

archive/issue_comments_225295.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nDocumentation does not build:\n\n```\n...\n[knots    ] loading cross citations...\n[knots    ] /home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py:docstring of sage.knots.link:2: ERROR: Unexpected indentation.\n[knots    ] /home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py:docstring of sage.knots.link:4: WARNING: Block quote ends without a blank line; unexpected unindent.\n[knots    ] <autodoc>:0: ERROR: Unexpected indentation.\n[interface] reading sources... [ 25%] sage/interfaces/gap\n[categorie] reading sources... [ 92%] sage/categories/semirings\nError building the documentation.\nTraceback (most recent call last):\n  File \"/home/mmarco/sage/src/doc/common/builder.py\", line 1491, in <module>\n    getattr(get_builder(name), type)()\n  File \"/home/mmarco/sage/src/doc/common/builder.py\", line 292, in _wrapper\n    getattr(get_builder(document), 'inventory')(*args, **kwds)\n  File \"/home/mmarco/sage/src/doc/common/builder.py\", line 503, in _wrapper\n    x.get(99999)\n  File \"/home/mmarco/sage/local/lib/python/multiprocessing/pool.py\", line 558, in get\n    raise self._value\nOSError: [knots    ] /home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py:docstring of sage.knots.link:2: ERROR: Unexpected indentation.\n\nMakefile:60: recipe for target 'doc-html' failed\nmake: *** [doc-html] Error 1\n\n```",
    "created_at": "2014-10-08T11:22:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225295",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:44" align="right">comment:44</div>

Documentation does not build:

```
...
[knots    ] loading cross citations...
[knots    ] /home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py:docstring of sage.knots.link:2: ERROR: Unexpected indentation.
[knots    ] /home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py:docstring of sage.knots.link:4: WARNING: Block quote ends without a blank line; unexpected unindent.
[knots    ] <autodoc>:0: ERROR: Unexpected indentation.
[interface] reading sources... [ 25%] sage/interfaces/gap
[categorie] reading sources... [ 92%] sage/categories/semirings
Error building the documentation.
Traceback (most recent call last):
  File "/home/mmarco/sage/src/doc/common/builder.py", line 1491, in <module>
    getattr(get_builder(name), type)()
  File "/home/mmarco/sage/src/doc/common/builder.py", line 292, in _wrapper
    getattr(get_builder(document), 'inventory')(*args, **kwds)
  File "/home/mmarco/sage/src/doc/common/builder.py", line 503, in _wrapper
    x.get(99999)
  File "/home/mmarco/sage/local/lib/python/multiprocessing/pool.py", line 558, in get
    raise self._value
OSError: [knots    ] /home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py:docstring of sage.knots.link:2: ERROR: Unexpected indentation.

Makefile:60: recipe for target 'doc-html' failed
make: *** [doc-html] Error 1

```



---

archive/issue_comments_225296.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nThe conversion to braid gives wrong answer, which causes several other errors:\n\n```\nsage: L=Link([[1, 5, 2, 4], [7, 11, 8, 10], [3, 8, 4, 9], [9, 2, 10, 3], [5, 1, 6, 12], [11, 7, 12, 6]])\nsage: L.braid()\ns0*s1^-1*s2*s1^-1*s0^-1*s1^-1*s2^-1*s3^-1*s2*s1^-1*s0*s2*s1^-1\nsage: L\nLink with 2 components represented by 6 crossings\n```",
    "created_at": "2014-10-15T23:10:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225296",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:45" align="right">comment:45</div>

The conversion to braid gives wrong answer, which causes several other errors:

```
sage: L=Link([[1, 5, 2, 4], [7, 11, 8, 10], [3, 8, 4, 9], [9, 2, 10, 3], [5, 1, 6, 12], [11, 7, 12, 6]])
sage: L.braid()
s0*s1^-1*s2*s1^-1*s0^-1*s1^-1*s2^-1*s3^-1*s2*s1^-1*s0*s2*s1^-1
sage: L
Link with 2 components represented by 6 crossings
```



---

archive/issue_comments_225297.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61bec349e5c6da529bcd1de0ac46f2b3de38d1d5\"><code>61bec34</code></a></td><td><code>Corrections.</code></td></tr></table>\n",
    "created_at": "2014-10-16T07:34:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225297",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61bec349e5c6da529bcd1de0ac46f2b3de38d1d5"><code>61bec34</code></a></td><td><code>Corrections.</code></td></tr></table>




---

archive/issue_comments_225298.json:
```json
{
    "body": "Changed commit from **[`1613a32`](https://github.com/sagemath/sagetrac-mirror/commit/1613a3282029a8234bad39707afe2b4a71d1d5c5)** to **[`61bec34`](https://github.com/sagemath/sagetrac-mirror/commit/61bec349e5c6da529bcd1de0ac46f2b3de38d1d5)**",
    "created_at": "2014-10-16T07:34:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225298",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1613a32`](https://github.com/sagemath/sagetrac-mirror/commit/1613a3282029a8234bad39707afe2b4a71d1d5c5)** to **[`61bec34`](https://github.com/sagemath/sagetrac-mirror/commit/61bec349e5c6da529bcd1de0ac46f2b3de38d1d5)**



---

archive/issue_comments_225299.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI guess its fixed.Here are the results\n\n```\nsage: L=Link([[1, 5, 2, 4], [7, 11, 8, 10], [3, 8, 4, 9], [9, 2, 10, 3], [5, 1, 6, 12], [11, 7, 12, 6]])\nsage: L\nKnot represented by 6 crossings\nsage: L.braid()\ns0*s1^-1*s2*s1^-1*s0^-1*s1^-1*s2^-1*s3^-1*s2*s1^-1*s2*s3  \nsage: L.braidword()\n(1, -2, 3, -2, -1, -2, -3, -4, 3, -2, 3, 4)\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61bec349e5c6da529bcd1de0ac46f2b3de38d1d5\"><code>61bec34</code></a></td><td><code>Corrections.</code></td></tr></table>\n",
    "created_at": "2014-10-16T07:37:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225299",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:47" align="right">comment:47</div>

I guess its fixed.Here are the results

```
sage: L=Link([[1, 5, 2, 4], [7, 11, 8, 10], [3, 8, 4, 9], [9, 2, 10, 3], [5, 1, 6, 12], [11, 7, 12, 6]])
sage: L
Knot represented by 6 crossings
sage: L.braid()
s0*s1^-1*s2*s1^-1*s0^-1*s1^-1*s2^-1*s3^-1*s2*s1^-1*s2*s3  
sage: L.braidword()
(1, -2, 3, -2, -1, -2, -3, -4, 3, -2, 3, 4)
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61bec349e5c6da529bcd1de0ac46f2b3de38d1d5"><code>61bec34</code></a></td><td><code>Corrections.</code></td></tr></table>




---

archive/issue_comments_225300.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nStill broken:\n\n```\nsage: L=Link([[1, 9, 2, 8], [7, 15, 8, 14], [5, 17, 6, 16], [9, 1, 10, 18], [15, 7, 16, 6], [17, 11, 18, 10], [13, 3, 14, 2], [3, 13, 4, 12], [11, 5, 12, 4]])\nsage: L.bra\nL.braid      L.braidword  \nsage: L.braidword()\n\n```\n\n(does not finish the computation).",
    "created_at": "2014-10-16T10:43:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225300",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:48" align="right">comment:48</div>

Still broken:

```
sage: L=Link([[1, 9, 2, 8], [7, 15, 8, 14], [5, 17, 6, 16], [9, 1, 10, 18], [15, 7, 16, 6], [17, 11, 18, 10], [13, 3, 14, 2], [3, 13, 4, 12], [11, 5, 12, 4]])
sage: L.bra
L.braid      L.braidword  
sage: L.braidword()

```

(does not finish the computation).



---

archive/issue_comments_225301.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI am getting into an infinite loop with the `_info_all_moves_` method.With this approach there seems that the regions with same sign never are in the same seifert circles there by the above method keeps on giving out the edited pd_code. Could you please let me know the knot reference ??",
    "created_at": "2014-10-16T21:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225301",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:49" align="right">comment:49</div>

I am getting into an infinite loop with the `_info_all_moves_` method.With this approach there seems that the regions with same sign never are in the same seifert circles there by the above method keeps on giving out the edited pd_code. Could you please let me know the knot reference ??



---

archive/issue_comments_225302.json:
```json
{
    "body": "Changed commit from **[`61bec34`](https://github.com/sagemath/sagetrac-mirror/commit/61bec349e5c6da529bcd1de0ac46f2b3de38d1d5)** to **[`a5cb90c`](https://github.com/sagemath/sagetrac-mirror/commit/a5cb90cefc254c3ad055b6050717ff204f83b717)**",
    "created_at": "2014-10-26T14:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225302",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`61bec34`](https://github.com/sagemath/sagetrac-mirror/commit/61bec349e5c6da529bcd1de0ac46f2b3de38d1d5)** to **[`a5cb90c`](https://github.com/sagemath/sagetrac-mirror/commit/a5cb90cefc254c3ad055b6050717ff204f83b717)**



---

archive/issue_comments_225303.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5cb90cefc254c3ad055b6050717ff204f83b717\"><code>a5cb90c</code></a></td><td><code>Documentation. WIP : Other methods.</code></td></tr></table>\n",
    "created_at": "2014-10-26T14:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225303",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5cb90cefc254c3ad055b6050717ff204f83b717"><code>a5cb90c</code></a></td><td><code>Documentation. WIP : Other methods.</code></td></tr></table>




---

archive/issue_comments_225304.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nThe above commit aims to fix the documentation. The documentation builds both pdf and html.",
    "created_at": "2014-10-26T15:02:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225304",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:51" align="right">comment:51</div>

The above commit aims to fix the documentation. The documentation builds both pdf and html.



---

archive/issue_comments_225305.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nI think the bulk of the documentation should be at the class level, rather than the module level. That way when a user does `Link?`, the user sees all of that documentation. Also this way the doc is better associated with what it's documenting.\n\nSide note, making things raw strings, the `r\"\"\"`, is usually safer, in particular when you have latex commands.",
    "created_at": "2014-10-26T15:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225305",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:52" align="right">comment:52</div>

I think the bulk of the documentation should be at the class level, rather than the module level. That way when a user does `Link?`, the user sees all of that documentation. Also this way the doc is better associated with what it's documenting.

Side note, making things raw strings, the `r"""`, is usually safer, in particular when you have latex commands.



---

archive/issue_comments_225306.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2f61ed659f7e35053ec4198720fb290df651c41\"><code>e2f61ed</code></a></td><td><code>Check in the documentation.</code></td></tr></table>\n",
    "created_at": "2014-10-26T21:52:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225306",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2f61ed659f7e35053ec4198720fb290df651c41"><code>e2f61ed</code></a></td><td><code>Check in the documentation.</code></td></tr></table>




---

archive/issue_comments_225307.json:
```json
{
    "body": "Changed commit from **[`a5cb90c`](https://github.com/sagemath/sagetrac-mirror/commit/a5cb90cefc254c3ad055b6050717ff204f83b717)** to **[`e2f61ed`](https://github.com/sagemath/sagetrac-mirror/commit/e2f61ed659f7e35053ec4198720fb290df651c41)**",
    "created_at": "2014-10-26T21:52:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225307",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a5cb90c`](https://github.com/sagemath/sagetrac-mirror/commit/a5cb90cefc254c3ad055b6050717ff204f83b717)** to **[`e2f61ed`](https://github.com/sagemath/sagetrac-mirror/commit/e2f61ed659f7e35053ec4198720fb290df651c41)**



---

archive/issue_comments_225308.json:
```json
{
    "body": "Changed commit from **[`e2f61ed`](https://github.com/sagemath/sagetrac-mirror/commit/e2f61ed659f7e35053ec4198720fb290df651c41)** to **[`2b36cda`](https://github.com/sagemath/sagetrac-mirror/commit/2b36cda5875a5e0a1d49b1c60d1c4976c15b5a84)**",
    "created_at": "2014-11-04T17:57:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225308",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e2f61ed`](https://github.com/sagemath/sagetrac-mirror/commit/e2f61ed659f7e35053ec4198720fb290df651c41)** to **[`2b36cda`](https://github.com/sagemath/sagetrac-mirror/commit/2b36cda5875a5e0a1d49b1c60d1c4976c15b5a84)**



---

archive/issue_comments_225309.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b36cda5875a5e0a1d49b1c60d1c4976c15b5a84\"><code>2b36cda</code></a></td><td><code>Idea of plot method added. Some failing cases. WIP : ncomponents</code></td></tr></table>\n",
    "created_at": "2014-11-04T17:57:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225309",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b36cda5875a5e0a1d49b1c60d1c4976c15b5a84"><code>2b36cda</code></a></td><td><code>Idea of plot method added. Some failing cases. WIP : ncomponents</code></td></tr></table>




---

archive/issue_comments_225310.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nThe idea of plot by Miguel has been added. I am trying on the refinement as it raises an error for the cases like :\n\n```\nsage: B = BraidGroup(8)\nsage: L = Link(B([-1,3,1,5,1,7,1,6]))\nsage: L.linkplot()\n \nMIPSolverException: 'GLPK : Solution is undefined' \n```\n\nThe errors like this and the work on documentation for the plot remain.",
    "created_at": "2014-11-04T18:06:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225310",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:55" align="right">comment:55</div>

The idea of plot by Miguel has been added. I am trying on the refinement as it raises an error for the cases like :

```
sage: B = BraidGroup(8)
sage: L = Link(B([-1,3,1,5,1,7,1,6]))
sage: L.linkplot()
 
MIPSolverException: 'GLPK : Solution is undefined' 
```

The errors like this and the work on documentation for the plot remain.



---

archive/issue_comments_225311.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nI would dsy thast this fasils because the diagram has more than one connected component. It could be useful to have a method to list the different \"completely unlinked\" components, as they should be treated separatedly in several places.",
    "created_at": "2014-11-04T18:11:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225311",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:56" align="right">comment:56</div>

I would dsy thast this fasils because the diagram has more than one connected component. It could be useful to have a method to list the different "completely unlinked" components, as they should be treated separatedly in several places.



---

archive/issue_comments_225312.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nReplying to [@miguelmarco](#comment%3A56):\n> I would dsy thast this fasils because the diagram has more than one connected component. It could be useful to have a method to list the different \"completely unlinked\" components, as they should be treated separatedly in several places.\n\nOkay then I guess a combination of braidwordcomponents which gives \n\n```\nsage: L._braidwordcomponents_()\n[[-1, 1, 1, 1], [3], [5, 7, 6]]\n```\n\nncomponents could be used. I will try to set this up.",
    "created_at": "2014-11-04T18:14:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225312",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:57" align="right">comment:57</div>

Replying to [@miguelmarco](#comment%3A56):
> I would dsy thast this fasils because the diagram has more than one connected component. It could be useful to have a method to list the different "completely unlinked" components, as they should be treated separatedly in several places.

Okay then I guess a combination of braidwordcomponents which gives 

```
sage: L._braidwordcomponents_()
[[-1, 1, 1, 1], [3], [5, 7, 6]]
```

ncomponents could be used. I will try to set this up.



---

archive/issue_comments_225313.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nNo, it is not the same as ncomponents. ncomponents counts how many different pieces of rope are in the link. What i am talking about is about pieces of the diagram that don't cross at all.\n\nThat is, the braid [1,1] has two connected components (that is, two pieces of rope), but they have crossings between them, so they are  in the same part of the diagram.\n\nWhereas the braid [1,3] has also two connected components (two pieces of rope), but there is no crossing at all between them. The planar diagram is just two separated planar diagrams. \n\nThis situation of \"completely independent\" pieces needs to be treated separatedly in several methods. For instance, try to check how many methods fail for things like Link([[1,1,2,2],[3,3,4,4]])",
    "created_at": "2014-11-04T18:25:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225313",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:58" align="right">comment:58</div>

No, it is not the same as ncomponents. ncomponents counts how many different pieces of rope are in the link. What i am talking about is about pieces of the diagram that don't cross at all.

That is, the braid [1,1] has two connected components (that is, two pieces of rope), but they have crossings between them, so they are  in the same part of the diagram.

Whereas the braid [1,3] has also two connected components (two pieces of rope), but there is no crossing at all between them. The planar diagram is just two separated planar diagrams. 

This situation of "completely independent" pieces needs to be treated separatedly in several methods. For instance, try to check how many methods fail for things like Link([[1,1,2,2],[3,3,4,4]])



---

archive/issue_comments_225314.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nSo are we looking at something like the _braidwordcomponents_() which acts like :\n\n```\nsage: L._braidwordcomponents_()\n[[-1, 1, 1, 1], [3], [5, 7, 6]]\n```",
    "created_at": "2014-11-04T18:31:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225314",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:59" align="right">comment:59</div>

So are we looking at something like the _braidwordcomponents_() which acts like :

```
sage: L._braidwordcomponents_()
[[-1, 1, 1, 1], [3], [5, 7, 6]]
```



---

archive/issue_comments_225315.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nYes, that is the idea.\n\nBut be careful: thinkig only in terms of braids might lead to errors that appear when we deal with other representations.",
    "created_at": "2014-11-04T18:33:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225315",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:60" align="right">comment:60</div>

Yes, that is the idea.

But be careful: thinkig only in terms of braids might lead to errors that appear when we deal with other representations.



---

archive/issue_comments_225316.json:
```json
{
    "body": "Changed branch from **[u/amitjamadagni/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/amitjamadagni/ticket/17030)** to **[u/mmarco/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17030)**",
    "created_at": "2014-11-25T18:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225316",
    "user": "https://github.com/miguelmarco"
}
```

Changed branch from **[u/amitjamadagni/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/amitjamadagni/ticket/17030)** to **[u/mmarco/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17030)**



---

archive/issue_events_241139.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2014-11-25T18:05:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241139"
}
```



---

archive/issue_events_241140.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2014-11-25T18:05:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241140"
}
```



---

archive/issue_comments_225317.json:
```json
{
    "body": "Changed reviewer from **Miguel Marco** to none",
    "created_at": "2014-11-25T18:05:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225317",
    "user": "https://github.com/miguelmarco"
}
```

Changed reviewer from **Miguel Marco** to none



---

archive/issue_comments_225318.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nSince Amit did not answer lately, i decided to step up and do some cleanup and polishing of the code. Maybe documentation can be improved, but i think besides that it is pretty much ready for review.\n\nBad news is that, since i am now an author, somebody else should do the reviewing instead of me.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f382bad62d70ecfa6486df3eadb49276bbf18b1\"><code>7f382ba</code></a></td><td><code>Cleanup of code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17a982e3e8b5ad28ba82ced6b4effe8962fe459b\"><code>17a982e</code></a></td><td><code>Some further polishing.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b58f49244ac679c86be6b4c958e6993bedd137c1\"><code>b58f492</code></a></td><td><code>Cleanup of the braid conversion.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/071683a37f52d810c65fa9d973f7ce3388708b08\"><code>071683a</code></a></td><td><code>Merge branch 'u/amitjamadagni/knots' of git://trac.sagemath.org/sage into ticket/17030</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29be8b00dd778425bd16cb3064dba381b8015672\"><code>29be8b0</code></a></td><td><code>Merge conflict resolution</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37bd26ba2e6ccd45e886fd7fdcbcdfa4d0ba0d03\"><code>37bd26b</code></a></td><td><code>Merge old branch.</code></td></tr></table>\n",
    "created_at": "2014-11-25T18:05:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225318",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:62" align="right">comment:62</div>

Since Amit did not answer lately, i decided to step up and do some cleanup and polishing of the code. Maybe documentation can be improved, but i think besides that it is pretty much ready for review.

Bad news is that, since i am now an author, somebody else should do the reviewing instead of me.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f382bad62d70ecfa6486df3eadb49276bbf18b1"><code>7f382ba</code></a></td><td><code>Cleanup of code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17a982e3e8b5ad28ba82ced6b4effe8962fe459b"><code>17a982e</code></a></td><td><code>Some further polishing.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b58f49244ac679c86be6b4c958e6993bedd137c1"><code>b58f492</code></a></td><td><code>Cleanup of the braid conversion.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/071683a37f52d810c65fa9d973f7ce3388708b08"><code>071683a</code></a></td><td><code>Merge branch 'u/amitjamadagni/knots' of git://trac.sagemath.org/sage into ticket/17030</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29be8b00dd778425bd16cb3064dba381b8015672"><code>29be8b0</code></a></td><td><code>Merge conflict resolution</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37bd26ba2e6ccd45e886fd7fdcbcdfa4d0ba0d03"><code>37bd26b</code></a></td><td><code>Merge old branch.</code></td></tr></table>




---

archive/issue_comments_225319.json:
```json
{
    "body": "Changed commit from **[`2b36cda`](https://github.com/sagemath/sagetrac-mirror/commit/2b36cda5875a5e0a1d49b1c60d1c4976c15b5a84)** to **[`37bd26b`](https://github.com/sagemath/sagetrac-mirror/commit/37bd26ba2e6ccd45e886fd7fdcbcdfa4d0ba0d03)**",
    "created_at": "2014-11-25T18:05:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225319",
    "user": "https://github.com/miguelmarco"
}
```

Changed commit from **[`2b36cda`](https://github.com/sagemath/sagetrac-mirror/commit/2b36cda5875a5e0a1d49b1c60d1c4976c15b5a84)** to **[`37bd26b`](https://github.com/sagemath/sagetrac-mirror/commit/37bd26ba2e6ccd45e886fd7fdcbcdfa4d0ba0d03)**



---

archive/issue_events_241141.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2014-11-25T18:05:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241141"
}
```



---

archive/issue_comments_225320.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\n> Bad news is that, since i am now an author, somebody else should do the reviewing instead of me.\n\nNot all bad news, because you can specify exactly which files/commits/contributions remain \"yet to be reviewed\".  You can also suggest ways for people (even non-knot theorists) to test things out, and which things need some outside eyes.",
    "created_at": "2014-11-25T18:09:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225320",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:63" align="right">comment:63</div>

> Bad news is that, since i am now an author, somebody else should do the reviewing instead of me.

Not all bad news, because you can specify exactly which files/commits/contributions remain "yet to be reviewed".  You can also suggest ways for people (even non-knot theorists) to test things out, and which things need some outside eyes.



---

archive/issue_comments_225321.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nBy the way, once this has positive review, it might be worth making a new branch that just adds in all these new files at one fell swoop.   Or that might be a bad idea, depending on how you want the history to go in Sage.  Just pointing it out.",
    "created_at": "2014-11-25T18:11:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225321",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:64" align="right">comment:64</div>

By the way, once this has positive review, it might be worth making a new branch that just adds in all these new files at one fell swoop.   Or that might be a bad idea, depending on how you want the history to go in Sage.  Just pointing it out.



---

archive/issue_comments_225322.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nIn the case of testing, the polynomial invariants have been compared with Knot Atlas as mentioned by Miguel. The other major part that need to be tested are the conversions, I guess it is easy for anyone to have a go at this by reading the documentation.",
    "created_at": "2014-11-25T18:37:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225322",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:65" align="right">comment:65</div>

In the case of testing, the polynomial invariants have been compared with Knot Atlas as mentioned by Miguel. The other major part that need to be tested are the conversions, I guess it is easy for anyone to have a go at this by reading the documentation.



---

archive/issue_comments_225323.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nAlternately, if there is a good \"core\" of functionality you (mmarco) as reviewer approve of that is a coherent whole, then other stuff could be moved to a new ticket.  Especially if the stuff that still needs review is more peripheral, such as plotting...",
    "created_at": "2014-11-25T18:44:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225323",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:66" align="right">comment:66</div>

Alternately, if there is a good "core" of functionality you (mmarco) as reviewer approve of that is a coherent whole, then other stuff could be moved to a new ticket.  Especially if the stuff that still needs review is more peripheral, such as plotting...



---

archive/issue_comments_225324.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nInthe case of git history, i like it to reflect the process that actually took place, in case that someone in the future wants to do some archeology.\n\nBut it is just a matter of personal taste. I understand why other people prefear to avoid haveing too many commits in the history.\n\nMy last changes touch most of the relevant methods, so it would be difficult to stablish a clear separation from my work and Amit's.\n\nHere some ideas of things that non specialists in knot theory can do towards reviewing:\n\n- Check the documentation. In fact, it is better if they are not specialist: the documentation should be clear for everybody. So if there is something that someone does not understand, please point it out.\n\n- Test some results that are known in other sources. For instance go to the knot atlas, pick any knot or link there, create it in Sage, compute the different invariants and compare. (Note, here we follow a different convention than in the knot atlas for the PD code, Xa,b,c,d in the knot atlas corresponds here to [a,d,b,c]).\n\n- Check out also the plotting of knots (no deep knowledge of knot theory is needed, although it is a complicated method, so it is hard to review... but it is really cool ;) ).\n\n\nRegarding the idea of separting it into smaller tickets, we could do that, but besides the plotting, all the methods that can be separated into other tickets (i.e. the computation of the different invariants), are pretty trivial, since they are almost direct aplications of the conversion to braid).",
    "created_at": "2014-11-25T18:52:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225324",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:67" align="right">comment:67</div>

Inthe case of git history, i like it to reflect the process that actually took place, in case that someone in the future wants to do some archeology.

But it is just a matter of personal taste. I understand why other people prefear to avoid haveing too many commits in the history.

My last changes touch most of the relevant methods, so it would be difficult to stablish a clear separation from my work and Amit's.

Here some ideas of things that non specialists in knot theory can do towards reviewing:

- Check the documentation. In fact, it is better if they are not specialist: the documentation should be clear for everybody. So if there is something that someone does not understand, please point it out.

- Test some results that are known in other sources. For instance go to the knot atlas, pick any knot or link there, create it in Sage, compute the different invariants and compare. (Note, here we follow a different convention than in the knot atlas for the PD code, Xa,b,c,d in the knot atlas corresponds here to [a,d,b,c]).

- Check out also the plotting of knots (no deep knowledge of knot theory is needed, although it is a complicated method, so it is hard to review... but it is really cool ;) ).


Regarding the idea of separting it into smaller tickets, we could do that, but besides the plotting, all the methods that can be separated into other tickets (i.e. the computation of the different invariants), are pretty trivial, since they are almost direct aplications of the conversion to braid).



---

archive/issue_comments_225325.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nI forgot to mention: the conversion to braid is one of the methods that i have rewriten. And it is really essential (i.e. it makes little sense to have a link class without it).",
    "created_at": "2014-11-25T18:54:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225325",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:68" align="right">comment:68</div>

I forgot to mention: the conversion to braid is one of the methods that i have rewriten. And it is really essential (i.e. it makes little sense to have a link class without it).



---

archive/issue_comments_225326.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nI observe there is some problem with the regions method, I end up getting a build error.",
    "created_at": "2014-11-25T18:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225326",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:69" align="right">comment:69</div>

I observe there is some problem with the regions method, I end up getting a build error.



---

archive/issue_comments_225327.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nOops, i see there was some problem while merging different branches.\n\nThe actual branch is a mess. Let me try to solve it tonight.",
    "created_at": "2014-11-25T19:01:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225327",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:70" align="right">comment:70</div>

Oops, i see there was some problem while merging different branches.

The actual branch is a mess. Let me try to solve it tonight.



---

archive/issue_comments_225328.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nHow can i force the branch to go back to commit \u200b17a982e? If i try to push it i get the message:\n\n```\nNot pushing your changes because they would discard some of the commits on the remote branch\n```",
    "created_at": "2014-11-25T19:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225328",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:71" align="right">comment:71</div>

How can i force the branch to go back to commit ​17a982e? If i try to push it i get the message:

```
Not pushing your changes because they would discard some of the commits on the remote branch
```



---

archive/issue_comments_225329.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nThere is a lot of discussion out there about this.  Git has the philosophy that once something is pushed to a public repo, it really shouldn't be changed.  See [this SO question](http://stackoverflow.com/questions/5509543/how-do-i-properly-force-a-git-push) and [this answer](http://stackoverflow.com/a/16702355/782821) for some points of view, though an internet search will yield a LOT more opinions on this, such as [this one](http://stackoverflow.com/a/10510482/782821) which seems more nuanced.\n\nBasic is that you can \"force\" a push (and this happens on occasion on Sage Trac) or \"revert\" some commits.",
    "created_at": "2014-11-25T19:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225329",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:72" align="right">comment:72</div>

There is a lot of discussion out there about this.  Git has the philosophy that once something is pushed to a public repo, it really shouldn't be changed.  See [this SO question](http://stackoverflow.com/questions/5509543/how-do-i-properly-force-a-git-push) and [this answer](http://stackoverflow.com/a/16702355/782821) for some points of view, though an internet search will yield a LOT more opinions on this, such as [this one](http://stackoverflow.com/a/10510482/782821) which seems more nuanced.

Basic is that you can "force" a push (and this happens on occasion on Sage Trac) or "revert" some commits.



---

archive/issue_comments_225330.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nI would be happy to participate in the review. But first, you have to read my two cents about git history. I think that the git history must be helpful to newcomers and not for archaeologists (for them, we have trac and sage-devel. Moreover, they do not necessarily want to know that in the first n commits you were just trying to understand how to use git).\n\nMore precisely:\n- keep the history simple\n- always have the following sentence in mind: \"what is the most helpful for the reviewer?\" \n\nMore concretely\n- merge as less as possible\n- if you modify a lot on an already existing file, try to have one commit that deletes and an other one that adds\n- if you are only providing new functionalities in independent file, try to minimize the number of commits (or at least make them coherent for the reader)\n\nGit history could be really helpful to reviewer. For example, if you simply move a file, the commit will only be \"mv old_file -> new_file\". Hence, as a reviewer, I know that there is nothing to check in that file.\n\nVincent",
    "created_at": "2014-11-25T20:51:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225330",
    "user": "https://github.com/videlec"
}
```

<div id="comment:73" align="right">comment:73</div>

I would be happy to participate in the review. But first, you have to read my two cents about git history. I think that the git history must be helpful to newcomers and not for archaeologists (for them, we have trac and sage-devel. Moreover, they do not necessarily want to know that in the first n commits you were just trying to understand how to use git).

More precisely:
- keep the history simple
- always have the following sentence in mind: "what is the most helpful for the reviewer?" 

More concretely
- merge as less as possible
- if you modify a lot on an already existing file, try to have one commit that deletes and an other one that adds
- if you are only providing new functionalities in independent file, try to minimize the number of commits (or at least make them coherent for the reader)

Git history could be really helpful to reviewer. For example, if you simply move a file, the commit will only be "mv old_file -> new_file". Hence, as a reviewer, I know that there is nothing to check in that file.

Vincent



---

archive/issue_comments_225331.json:
```json
{
    "body": "<div id=\"comment:74\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-11-25T21:32:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225331",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:74"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_225332.json:
```json
{
    "body": "Changed commit from **[`37bd26b`](https://github.com/sagemath/sagetrac-mirror/commit/37bd26ba2e6ccd45e886fd7fdcbcdfa4d0ba0d03)** to **[`17a982e`](https://github.com/sagemath/sagetrac-mirror/commit/17a982e3e8b5ad28ba82ced6b4effe8962fe459b)**",
    "created_at": "2014-11-25T21:32:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225332",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`37bd26b`](https://github.com/sagemath/sagetrac-mirror/commit/37bd26ba2e6ccd45e886fd7fdcbcdfa4d0ba0d03)** to **[`17a982e`](https://github.com/sagemath/sagetrac-mirror/commit/17a982e3e8b5ad28ba82ced6b4effe8962fe459b)**



---

archive/issue_comments_225333.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nOk, i forced a push that should simplify the history, and return to a sane state.",
    "created_at": "2014-11-25T21:49:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225333",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:75" align="right">comment:75</div>

Ok, i forced a push that should simplify the history, and return to a sane state.



---

archive/issue_comments_225334.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nI'd have just merged the remote branch (from the message, it seems like your local branch was behind the one on trac). I'll try to take a look at this soon too.\n\nVincent and I disagree on the following git stuff. The general git philosophy, as far as I have seen, is to favor more commits into small logical chunks and to keep history that you can go back and see (or retrieve) code formats that you've tried before. The important thing is to have commit messages which describe what is done in the commit.",
    "created_at": "2014-11-26T02:40:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225334",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:76" align="right">comment:76</div>

I'd have just merged the remote branch (from the message, it seems like your local branch was behind the one on trac). I'll try to take a look at this soon too.

Vincent and I disagree on the following git stuff. The general git philosophy, as far as I have seen, is to favor more commits into small logical chunks and to keep history that you can go back and see (or retrieve) code formats that you've tried before. The important thing is to have commit messages which describe what is done in the commit.



---

archive/issue_comments_225335.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\n> My last changes touch most of the relevant methods, so it would be difficult to stablish a clear separation from my work and Amit's.\n\nWell, not exactly; in fact, you only did the last two commits, so in principle someone else could review just those commits (and the very last commit seems very straightforward).  What I was hoping to elicit from you is the answer to the following question:\n> In your opinion, is everything not touched by your commits okay (even if fairly trivial), and do you feel there is any additional work needed beyond reviewing the pieces (many, granted) you did work on?",
    "created_at": "2015-01-05T17:48:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225335",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:77" align="right">comment:77</div>

> My last changes touch most of the relevant methods, so it would be difficult to stablish a clear separation from my work and Amit's.

Well, not exactly; in fact, you only did the last two commits, so in principle someone else could review just those commits (and the very last commit seems very straightforward).  What I was hoping to elicit from you is the answer to the following question:
> In your opinion, is everything not touched by your commits okay (even if fairly trivial), and do you feel there is any additional work needed beyond reviewing the pieces (many, granted) you did work on?



---

archive/issue_comments_225336.json:
```json
{
    "body": "Reviewer: **Miguel Marco**",
    "created_at": "2015-01-05T17:54:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225336",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Miguel Marco**



---

archive/issue_comments_225337.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nSome minor things, just on a first glance:\n* Various minor English misspellings.\n* There should probably be an \"intro\" module-level section telling people what links and knots are (in particular, the difference, since lots of people have heard of knots but not so many of links).  See e.g. [the cooperative game theory doc](http://www.sagemath.org/doc/reference/game_theory/sage/game_theory/cooperative_game.html) though this is quite comprehensive.\n* Sometimes there are sort-of-bullet lists that aren't formatted that way, such as for how to create a link.\n* The plot example doesn't show how to make a plot.",
    "created_at": "2015-01-05T18:17:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225337",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:79" align="right">comment:79</div>

Some minor things, just on a first glance:
* Various minor English misspellings.
* There should probably be an "intro" module-level section telling people what links and knots are (in particular, the difference, since lots of people have heard of knots but not so many of links).  See e.g. [the cooperative game theory doc](http://www.sagemath.org/doc/reference/game_theory/sage/game_theory/cooperative_game.html) though this is quite comprehensive.
* Sometimes there are sort-of-bullet lists that aren't formatted that way, such as for how to create a link.
* The plot example doesn't show how to make a plot.



---

archive/issue_comments_225338.json:
```json
{
    "body": "Changed reviewer from **Miguel Marco** to **Miguel Marco, Karl-Dieter Crisman**",
    "created_at": "2015-01-05T18:17:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225338",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Miguel Marco** to **Miguel Marco, Karl-Dieter Crisman**



---

archive/issue_comments_225339.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nThank you for the review. You are totally right. I will work on that.",
    "created_at": "2015-01-05T18:30:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225339",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:80" align="right">comment:80</div>

Thank you for the review. You are totally right. I will work on that.



---

archive/issue_comments_225340.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nAnother random question.  So say I look at a random knot page at the atlas, say [K11a142](http://katlas.math.toronto.edu/wiki/K11a142).  We only seem to have a few of the invariants (which is fine) but what about the non-polynomial invariants?  Also, I think we have braid diagrams (?) so maybe we should have some of those in the examples.",
    "created_at": "2015-01-06T03:53:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225340",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:81" align="right">comment:81</div>

Another random question.  So say I look at a random knot page at the atlas, say [K11a142](http://katlas.math.toronto.edu/wiki/K11a142).  We only seem to have a few of the invariants (which is fine) but what about the non-polynomial invariants?  Also, I think we have braid diagrams (?) so maybe we should have some of those in the examples.



---

archive/issue_comments_225341.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nSorry, i don't really understand your question. Can you be more explicit about what you propose?",
    "created_at": "2015-01-06T10:46:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225341",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:82" align="right">comment:82</div>

Sorry, i don't really understand your question. Can you be more explicit about what you propose?



---

archive/issue_comments_225342.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nWhat I mean is, are any of the non-polynomial invariants like \"3-genus\" available yet?  Just asking.\n\nSecondly, I think that we have a way to [plot braids](http://www.sagemath.org/doc/reference/groups/sage/groups/braid.html#sage.groups.braid.Braid.plot), and this is in the atlas, so we should probably at least mention this in the documentation along with an example or two.\n\nSorry for any confusion.",
    "created_at": "2015-01-06T13:52:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225342",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:83" align="right">comment:83</div>

What I mean is, are any of the non-polynomial invariants like "3-genus" available yet?  Just asking.

Secondly, I think that we have a way to [plot braids](http://www.sagemath.org/doc/reference/groups/sage/groups/braid.html#sage.groups.braid.Braid.plot), and this is in the atlas, so we should probably at least mention this in the documentation along with an example or two.

Sorry for any confusion.



---

archive/issue_comments_225343.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">comment:84</div>\n\nYeah we have genus, signature, determinant, arf invariant (only for knots) which can be seen as invariants as they distinguish between different links. \nComing to the plotting of braids, the closure of braids gives a link but the plotting of braids would be not sufficient here as we have to close the braids to get the corresponding link, so we did not consider it as an option.",
    "created_at": "2015-01-06T14:16:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225343",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:84" align="right">comment:84</div>

Yeah we have genus, signature, determinant, arf invariant (only for knots) which can be seen as invariants as they distinguish between different links. 
Coming to the plotting of braids, the closure of braids gives a link but the plotting of braids would be not sufficient here as we have to close the braids to get the corresponding link, so we did not consider it as an option.



---

archive/issue_comments_225344.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\nI wasn't suggesting plotting the braids as something in knots, just that the knot atlas picks some random braid rep of the link and shows a plot, so since that is such a standard reference we could include that in (perhaps the module-level) documentation.",
    "created_at": "2015-01-06T15:06:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225344",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:85" align="right">comment:85</div>

I wasn't suggesting plotting the braids as something in knots, just that the knot atlas picks some random braid rep of the link and shows a plot, so since that is such a standard reference we could include that in (perhaps the module-level) documentation.



---

archive/issue_comments_225345.json:
```json
{
    "body": "<div id=\"comment:86\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/884d1416e0486c114e16b8606c525b51972c9281\"><code>884d141</code></a></td><td><code>Added module documentation, corrected some minor issues with documentation</code></td></tr></table>\n",
    "created_at": "2015-01-08T10:22:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225345",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:86"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/884d1416e0486c114e16b8606c525b51972c9281"><code>884d141</code></a></td><td><code>Added module documentation, corrected some minor issues with documentation</code></td></tr></table>




---

archive/issue_comments_225346.json:
```json
{
    "body": "Changed commit from **[`17a982e`](https://github.com/sagemath/sagetrac-mirror/commit/17a982e3e8b5ad28ba82ced6b4effe8962fe459b)** to **[`884d141`](https://github.com/sagemath/sagetrac-mirror/commit/884d1416e0486c114e16b8606c525b51972c9281)**",
    "created_at": "2015-01-08T10:22:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225346",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`17a982e`](https://github.com/sagemath/sagetrac-mirror/commit/17a982e3e8b5ad28ba82ced6b4effe8962fe459b)** to **[`884d141`](https://github.com/sagemath/sagetrac-mirror/commit/884d1416e0486c114e16b8606c525b51972c9281)**



---

archive/issue_comments_225347.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nI have writen a module documentation (i think it still needs work), and solved some misspellings and the plot documentation.\n\nWe don't have implemented the 3-genus, as many other invariants.",
    "created_at": "2015-01-08T10:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225347",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:87" align="right">comment:87</div>

I have writen a module documentation (i think it still needs work), and solved some misspellings and the plot documentation.

We don't have implemented the 3-genus, as many other invariants.



---

archive/issue_comments_225348.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nThanks for this commit.\n> I have writen a module documentation (i think it still needs work)\n\nPerhaps, but at least now it is sufficient for people coming in with a reasonable mathematical background.  Often things are implemented in Sage for research first, then stuff making it more useful for pedagogy comes later.\n\nHopefully someone might be able to look at the remaining code, of course!  I won't have time for this in the immediate future.",
    "created_at": "2015-01-08T13:45:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225348",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:88" align="right">comment:88</div>

Thanks for this commit.
> I have writen a module documentation (i think it still needs work)

Perhaps, but at least now it is sufficient for people coming in with a reasonable mathematical background.  Often things are implemented in Sage for research first, then stuff making it more useful for pedagogy comes later.

Hopefully someone might be able to look at the remaining code, of course!  I won't have time for this in the immediate future.



---

archive/issue_comments_225349.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\nThere is a bug with the .regions method that shows up when there are edges with both ends in the same crossing:\n\n```\nsage: L=Link([[1,2,2,1]])\nsage: L.regions()\n[]\nsage: L=Link([[1,1,2,2]])\nsage: L.regions()\n[[-2], [1], [2, -1]]\n```\n\nI don't have much time right now, but can try to solve it when i find some time. In the meantime, can Amit or someone else take a look?",
    "created_at": "2015-02-16T10:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225349",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:89" align="right">comment:89</div>

There is a bug with the .regions method that shows up when there are edges with both ends in the same crossing:

```
sage: L=Link([[1,2,2,1]])
sage: L.regions()
[]
sage: L=Link([[1,1,2,2]])
sage: L.regions()
[[-2], [1], [2, -1]]
```

I don't have much time right now, but can try to solve it when i find some time. In the meantime, can Amit or someone else take a look?



---

archive/issue_comments_225350.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nThe problem with the first case is with the orientation of the knot. It seems the orientation of the knot is coming out as -1 which should be +1\n\n```\nsage: L = Link([[1, 2, 2, 1]])  \nsage: L.orientation()\n[-1]\n```\n\nI will try looking into the construction of orientation.\n\nAs for the second input, single negative entry does not make sense and I have added a bit of code (not optimal yet works). Here are the results :\n\n```\nsage: L = Link([[1, 1, 2, 2]])\nsage: L.orientation()\n[-1]\nsage: L.regions()\n[[1], [2, -1]]\n```\n\nI will try working on the orientation to see where it is going wrong.",
    "created_at": "2015-02-16T13:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225350",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:90" align="right">comment:90</div>

The problem with the first case is with the orientation of the knot. It seems the orientation of the knot is coming out as -1 which should be +1

```
sage: L = Link([[1, 2, 2, 1]])  
sage: L.orientation()
[-1]
```

I will try looking into the construction of orientation.

As for the second input, single negative entry does not make sense and I have added a bit of code (not optimal yet works). Here are the results :

```
sage: L = Link([[1, 1, 2, 2]])
sage: L.orientation()
[-1]
sage: L.regions()
[[1], [2, -1]]
```

I will try working on the orientation to see where it is going wrong.



---

archive/issue_comments_225351.json:
```json
{
    "body": "Changed branch from **[u/mmarco/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17030)** to **[u/amitjamadagni/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/amitjamadagni/ticket/17030)**",
    "created_at": "2015-02-16T13:54:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225351",
    "user": "https://github.com/amitjamadagni"
}
```

Changed branch from **[u/mmarco/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17030)** to **[u/amitjamadagni/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/amitjamadagni/ticket/17030)**



---

archive/issue_comments_225352.json:
```json
{
    "body": "Changed commit from **[`884d141`](https://github.com/sagemath/sagetrac-mirror/commit/884d1416e0486c114e16b8606c525b51972c9281)** to **[`7c09ce6`](https://github.com/sagemath/sagetrac-mirror/commit/7c09ce6f279cabfbd4073b1abbb63052d13127f4)**",
    "created_at": "2015-02-16T15:22:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225352",
    "user": "https://github.com/miguelmarco"
}
```

Changed commit from **[`884d141`](https://github.com/sagemath/sagetrac-mirror/commit/884d1416e0486c114e16b8606c525b51972c9281)** to **[`7c09ce6`](https://github.com/sagemath/sagetrac-mirror/commit/7c09ce6f279cabfbd4073b1abbb63052d13127f4)**



---

archive/issue_comments_225353.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nWait, this part:\n\n```\nsage: L=Link([[1,1,2,2]])\nsage: L.regions()\n[[-2], [1], [2, -1]]\n```\n\nwas correct. There is one region whose boundary is just the edge 2 in the negative direction.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c09ce6f279cabfbd4073b1abbb63052d13127f4\"><code>7c09ce6</code></a></td><td><code>Change in method regions</code></td></tr></table>\n",
    "created_at": "2015-02-16T15:22:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225353",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:92" align="right">comment:92</div>

Wait, this part:

```
sage: L=Link([[1,1,2,2]])
sage: L.regions()
[[-2], [1], [2, -1]]
```

was correct. There is one region whose boundary is just the edge 2 in the negative direction.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c09ce6f279cabfbd4073b1abbb63052d13127f4"><code>7c09ce6</code></a></td><td><code>Change in method regions</code></td></tr></table>




---

archive/issue_comments_225354.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nAs far as I remember we had to select an edge and turn left until we arrived at the edge where we started. I guess we do not consider the edges reversed which are the negative ones, in this case -2, so I thought we should not include -2. Please do correct me if I am missing something.",
    "created_at": "2015-02-16T15:37:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225354",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:93" align="right">comment:93</div>

As far as I remember we had to select an edge and turn left until we arrived at the edge where we started. I guess we do not consider the edges reversed which are the negative ones, in this case -2, so I thought we should not include -2. Please do correct me if I am missing something.



---

archive/issue_comments_225355.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nThe regions with only one edge are regions like the others, and we have to describe them using the same convention as the others.\n\nIf you draw that knot diagram, you will see three regions: two \"inside\" (the [1] and the [-2]) and the exterior one (the [2, -1]).",
    "created_at": "2015-02-16T15:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225355",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:94" align="right">comment:94</div>

The regions with only one edge are regions like the others, and we have to describe them using the same convention as the others.

If you draw that knot diagram, you will see three regions: two "inside" (the [1] and the [-2]) and the exterior one (the [2, -1]).



---

archive/issue_comments_225356.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nSomebody else is getting an error message when building the documentation? I am unable to point the problem.",
    "created_at": "2015-03-11T16:05:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225356",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:95" align="right">comment:95</div>

Somebody else is getting an error message when building the documentation? I am unable to point the problem.



---

archive/issue_comments_225357.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nThe documentation builds for me if I make this change:\n\n```diff\ndiff --git a/src/sage/knots/link.py b/src/sage/knots/link.py\nindex c15484f..72c9ce4 100644\n--- a/src/sage/knots/link.py\n+++ b/src/sage/knots/link.py\n@@ -1352,7 +1352,7 @@ class Link:\n         OUTPUT:\n \n         - Jones Polynomial of the link. It is a polynomial in var, as an element\n-        of the symbolic ring.\n+          of the symbolic ring.\n \n         EXAMPLES::\n```",
    "created_at": "2015-03-11T17:27:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225357",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:96" align="right">comment:96</div>

The documentation builds for me if I make this change:

```diff
diff --git a/src/sage/knots/link.py b/src/sage/knots/link.py
index c15484f..72c9ce4 100644
--- a/src/sage/knots/link.py
+++ b/src/sage/knots/link.py
@@ -1352,7 +1352,7 @@ class Link:
         OUTPUT:
 
         - Jones Polynomial of the link. It is a polynomial in var, as an element
-        of the symbolic ring.
+          of the symbolic ring.
 
         EXAMPLES::
```



---

archive/issue_comments_225358.json:
```json
{
    "body": "Changed branch from **[u/amitjamadagni/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/amitjamadagni/ticket/17030)** to **[u/mmarco/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17030)**",
    "created_at": "2015-03-12T14:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225358",
    "user": "https://github.com/miguelmarco"
}
```

Changed branch from **[u/amitjamadagni/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/amitjamadagni/ticket/17030)** to **[u/mmarco/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17030)**



---

archive/issue_comments_225359.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">comment:98</div>\n\nI have corrected the regions method, with some ad-hoc code for degenerated cases with two loops in the same crossing.\n\nThe plot method needs some work to handle too these kind of loops properly.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f137c6a5d11588c0dad73627915c7df35f58a04\"><code>5f137c6</code></a></td><td><code>Handled issue with regions method. Minor documentation fix.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88a80d6fb189a69bf14c4d5f274ceeaac285da17\"><code>88a80d6</code></a></td><td><code>Merge branch 'u/amitjamadagni/ticket/17030' of git://trac.sagemath.org/sage into ticket/17030</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b45bf7c113249f5ad8bd52a28ec99cc76890677a\"><code>b45bf7c</code></a></td><td><code>Merge conflict resolution</code></td></tr></table>\n",
    "created_at": "2015-03-12T14:59:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225359",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:98" align="right">comment:98</div>

I have corrected the regions method, with some ad-hoc code for degenerated cases with two loops in the same crossing.

The plot method needs some work to handle too these kind of loops properly.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f137c6a5d11588c0dad73627915c7df35f58a04"><code>5f137c6</code></a></td><td><code>Handled issue with regions method. Minor documentation fix.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88a80d6fb189a69bf14c4d5f274ceeaac285da17"><code>88a80d6</code></a></td><td><code>Merge branch 'u/amitjamadagni/ticket/17030' of git://trac.sagemath.org/sage into ticket/17030</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b45bf7c113249f5ad8bd52a28ec99cc76890677a"><code>b45bf7c</code></a></td><td><code>Merge conflict resolution</code></td></tr></table>




---

archive/issue_comments_225360.json:
```json
{
    "body": "Changed commit from **[`7c09ce6`](https://github.com/sagemath/sagetrac-mirror/commit/7c09ce6f279cabfbd4073b1abbb63052d13127f4)** to **[`b45bf7c`](https://github.com/sagemath/sagetrac-mirror/commit/b45bf7c113249f5ad8bd52a28ec99cc76890677a)**",
    "created_at": "2015-03-12T14:59:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225360",
    "user": "https://github.com/miguelmarco"
}
```

Changed commit from **[`7c09ce6`](https://github.com/sagemath/sagetrac-mirror/commit/7c09ce6f279cabfbd4073b1abbb63052d13127f4)** to **[`b45bf7c`](https://github.com/sagemath/sagetrac-mirror/commit/b45bf7c113249f5ad8bd52a28ec99cc76890677a)**



---

archive/issue_comments_225361.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\nSee also http://www.math.uic.edu/t3m/SnapPy/spherogram.html#the-link-class for how SnapPy deals with knots when inside of Sage.",
    "created_at": "2015-03-24T15:46:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225361",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:99" align="right">comment:99</div>

See also http://www.math.uic.edu/t3m/SnapPy/spherogram.html#the-link-class for how SnapPy deals with knots when inside of Sage.



---

archive/issue_events_241142.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-24T21:18:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241142"
}
```



---

archive/issue_events_241143.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-24T21:18:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241143"
}
```



---

archive/issue_comments_225362.json:
```json
{
    "body": "<div id=\"comment:100\" align=\"right\">comment:100</div>\n\nOne doctest failing\n\n```\nFile \"src/sage/knots/link.py\", line 1475, in sage.knots.link.Link.plot\nFailed example:\n    L.plot()\nExpected nothing\nGot:\n    Graphics object consisting of 28 graphics primitives\n```",
    "created_at": "2015-03-24T21:18:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225362",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:100" align="right">comment:100</div>

One doctest failing

```
File "src/sage/knots/link.py", line 1475, in sage.knots.link.Link.plot
Failed example:
    L.plot()
Expected nothing
Got:
    Graphics object consisting of 28 graphics primitives
```



---

archive/issue_comments_225363.json:
```json
{
    "body": "<div id=\"comment:101\" align=\"right\">comment:101</div>\n\nand also not yet at 100% coverage\n\n```\nMissing doctests  knots/link.py 27 / 29 = 93%\n```",
    "created_at": "2015-03-25T19:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225363",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:101" align="right">comment:101</div>

and also not yet at 100% coverage

```
Missing doctests  knots/link.py 27 / 29 = 93%
```



---

archive/issue_comments_225364.json:
```json
{
    "body": "Changed commit from **[`b45bf7c`](https://github.com/sagemath/sagetrac-mirror/commit/b45bf7c113249f5ad8bd52a28ec99cc76890677a)** to **[`5828c77`](https://github.com/sagemath/sagetrac-mirror/commit/5828c77131e39cd941a349edffbccfc546c4281a)**",
    "created_at": "2015-03-30T11:14:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225364",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b45bf7c`](https://github.com/sagemath/sagetrac-mirror/commit/b45bf7c113249f5ad8bd52a28ec99cc76890677a)** to **[`5828c77`](https://github.com/sagemath/sagetrac-mirror/commit/5828c77131e39cd941a349edffbccfc546c4281a)**



---

archive/issue_comments_225365.json:
```json
{
    "body": "<div id=\"comment:102\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5828c77131e39cd941a349edffbccfc546c4281a\"><code>5828c77</code></a></td><td><code>Correct and add doctests.</code></td></tr></table>\n",
    "created_at": "2015-03-30T11:14:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225365",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:102"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5828c77131e39cd941a349edffbccfc546c4281a"><code>5828c77</code></a></td><td><code>Correct and add doctests.</code></td></tr></table>




---

archive/issue_comments_225366.json:
```json
{
    "body": "<div id=\"comment:103\" align=\"right\">comment:103</div>\n\nFixed the minor issues woth doctests.\n\nI am also woriking on a method to compute the homfly polynomial, but it deppends on #18047 and #18057. Since this ticket is already quite big, and taking a lot to be reviewed, i prefear to wait for it in another ticket (unless somebody is willing to review this whole ticket plus the new functionality).",
    "created_at": "2015-03-30T11:22:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225366",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:103" align="right">comment:103</div>

Fixed the minor issues woth doctests.

I am also woriking on a method to compute the homfly polynomial, but it deppends on #18047 and #18057. Since this ticket is already quite big, and taking a lot to be reviewed, i prefear to wait for it in another ticket (unless somebody is willing to review this whole ticket plus the new functionality).



---

archive/issue_comments_225367.json:
```json
{
    "body": "Changed commit from **[`5828c77`](https://github.com/sagemath/sagetrac-mirror/commit/5828c77131e39cd941a349edffbccfc546c4281a)** to **[`d4ede52`](https://github.com/sagemath/sagetrac-mirror/commit/d4ede52a281e79a4b280bbb9bc9873978f0fa998)**",
    "created_at": "2015-04-09T19:42:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225367",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`5828c77`](https://github.com/sagemath/sagetrac-mirror/commit/5828c77131e39cd941a349edffbccfc546c4281a)** to **[`d4ede52`](https://github.com/sagemath/sagetrac-mirror/commit/d4ede52a281e79a4b280bbb9bc9873978f0fa998)**



---

archive/issue_comments_225368.json:
```json
{
    "body": "Changed branch from **[u/mmarco/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17030)** to **[public/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/17030)**",
    "created_at": "2015-04-09T19:42:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225368",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/mmarco/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/17030)** to **[public/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/17030)**



---

archive/issue_comments_225369.json:
```json
{
    "body": "<div id=\"comment:104\" align=\"right\">comment:104</div>\n\nfixed the failing \"plot\" doctest\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0477a34af12e942fcfcb7b7ed12e536316004459\"><code>0477a34</code></a></td><td><code>Merge branch 'u/mmarco/ticket/17030' into 6.6.rc2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4ede52a281e79a4b280bbb9bc9873978f0fa998\"><code>d4ede52</code></a></td><td><code>trac #17030 fixing plot doctest</code></td></tr></table>\n",
    "created_at": "2015-04-09T19:42:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225369",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:104" align="right">comment:104</div>

fixed the failing "plot" doctest

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0477a34af12e942fcfcb7b7ed12e536316004459"><code>0477a34</code></a></td><td><code>Merge branch 'u/mmarco/ticket/17030' into 6.6.rc2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4ede52a281e79a4b280bbb9bc9873978f0fa998"><code>d4ede52</code></a></td><td><code>trac #17030 fixing plot doctest</code></td></tr></table>




---

archive/issue_comments_225370.json:
```json
{
    "body": "Changed reviewer from **Miguel Marco, Karl-Dieter Crisman** to **Miguel Marco, Karl-Dieter Crisman, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2015-05-21T15:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225370",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Miguel Marco, Karl-Dieter Crisman** to **Miguel Marco, Karl-Dieter Crisman, Frédéric Chapoton**



---

archive/issue_events_241144.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-17T12:08:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241144"
}
```



---

archive/issue_events_241145.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-17T12:08:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241145"
}
```



---

archive/issue_events_241146.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-30T16:03:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241146"
}
```



---

archive/issue_events_241147.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-30T16:03:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241147"
}
```



---

archive/issue_comments_225371.json:
```json
{
    "body": "<div id=\"comment:107\" align=\"right\">comment:107</div>\n\n+Missing doctests  knots/link.py 28 / 29 = 96%",
    "created_at": "2015-07-30T16:03:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225371",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:107" align="right">comment:107</div>

+Missing doctests  knots/link.py 28 / 29 = 96%



---

archive/issue_comments_225372.json:
```json
{
    "body": "<div id=\"comment:108\" align=\"right\">comment:108</div>\n\nSince this seems to be too big for a proper review, i am planning to split it in several smaller tickets. Does that sound like a good idea?",
    "created_at": "2015-07-30T18:56:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225372",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:108" align="right">comment:108</div>

Since this seems to be too big for a proper review, i am planning to split it in several smaller tickets. Does that sound like a good idea?



---

archive/issue_comments_225373.json:
```json
{
    "body": "<div id=\"comment:109\" align=\"right\">comment:109</div>\n\noh, well.. If it passes all tests, and has 100% doc, one could has well get it inside as a block.. Maybe ask on sage-devel (once 100% doctest has been reached !)",
    "created_at": "2015-07-30T19:03:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225373",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:109" align="right">comment:109</div>

oh, well.. If it passes all tests, and has 100% doc, one could has well get it inside as a block.. Maybe ask on sage-devel (once 100% doctest has been reached !)



---

archive/issue_comments_225374.json:
```json
{
    "body": "<div id=\"comment:110\" align=\"right\">comment:110</div>\n\nI don't think we necessarily need to split this into multiple tickets (in fact, that seems kind of hard). If someone can review the mathematics side of things, I'd be happy to do the code review.",
    "created_at": "2015-07-30T23:30:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225374",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:110" align="right">comment:110</div>

I don't think we necessarily need to split this into multiple tickets (in fact, that seems kind of hard). If someone can review the mathematics side of things, I'd be happy to do the code review.



---

archive/issue_comments_225375.json:
```json
{
    "body": "<div id=\"comment:111\" align=\"right\">comment:111</div>\n\nOk then, i will try to work in improving the doctest coverage.",
    "created_at": "2015-07-31T04:25:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225375",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:111" align="right">comment:111</div>

Ok then, i will try to work in improving the doctest coverage.



---

archive/issue_comments_225376.json:
```json
{
    "body": "Changed commit from **[`d4ede52`](https://github.com/sagemath/sagetrac-mirror/commit/d4ede52a281e79a4b280bbb9bc9873978f0fa998)** to **[`cb84cec`](https://github.com/sagemath/sagetrac-mirror/commit/cb84cec88f012844ac65d102296644a77f89818c)**",
    "created_at": "2015-08-05T14:14:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225376",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d4ede52`](https://github.com/sagemath/sagetrac-mirror/commit/d4ede52a281e79a4b280bbb9bc9873978f0fa998)** to **[`cb84cec`](https://github.com/sagemath/sagetrac-mirror/commit/cb84cec88f012844ac65d102296644a77f89818c)**



---

archive/issue_comments_225377.json:
```json
{
    "body": "<div id=\"comment:112\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2bea16d5c53a44a2b6f9a6c77c164407805f4b4\"><code>e2bea16</code></a></td><td><code>Cleanup of code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc5143a22ca0e126e7a4777a5bd0ceba22c39704\"><code>dc5143a</code></a></td><td><code>Some further polishing.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dda740cff890efd1b541448289c188e0bd300208\"><code>dda740c</code></a></td><td><code>Added module documentation, corrected some minor issues with documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/782b3c100799010062633196d8ae9750511122a5\"><code>782b3c1</code></a></td><td><code>Change in method regions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfc184d524e3472d6c28a25aab9a601bd5b40f3a\"><code>bfc184d</code></a></td><td><code>Handled issue with regions method. Minor documentation fix.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b21c42a60b6d493d9e91d5ce1919c86a5f15dbcc\"><code>b21c42a</code></a></td><td><code>Correct and add doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c911c1db022d7cfd5c9aea4b5428cdb72816ba3\"><code>8c911c1</code></a></td><td><code>trac #17030 fixing plot doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/171b94be4c99f28a5660a911c89e5f785225d537\"><code>171b94b</code></a></td><td><code>Added missing doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19b41d146c8f93413afadc4a7e3a891e806f755b\"><code>19b41d1</code></a></td><td><code>Solved bug in orientation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb84cec88f012844ac65d102296644a77f89818c\"><code>cb84cec</code></a></td><td><code>Merge branch 'public/ticket/17030' of git://trac.sagemath.org/sage into ticket/17030</code></td></tr></table>\n",
    "created_at": "2015-08-05T14:14:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225377",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:112"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2bea16d5c53a44a2b6f9a6c77c164407805f4b4"><code>e2bea16</code></a></td><td><code>Cleanup of code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc5143a22ca0e126e7a4777a5bd0ceba22c39704"><code>dc5143a</code></a></td><td><code>Some further polishing.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dda740cff890efd1b541448289c188e0bd300208"><code>dda740c</code></a></td><td><code>Added module documentation, corrected some minor issues with documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/782b3c100799010062633196d8ae9750511122a5"><code>782b3c1</code></a></td><td><code>Change in method regions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfc184d524e3472d6c28a25aab9a601bd5b40f3a"><code>bfc184d</code></a></td><td><code>Handled issue with regions method. Minor documentation fix.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b21c42a60b6d493d9e91d5ce1919c86a5f15dbcc"><code>b21c42a</code></a></td><td><code>Correct and add doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c911c1db022d7cfd5c9aea4b5428cdb72816ba3"><code>8c911c1</code></a></td><td><code>trac #17030 fixing plot doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/171b94be4c99f28a5660a911c89e5f785225d537"><code>171b94b</code></a></td><td><code>Added missing doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19b41d146c8f93413afadc4a7e3a891e806f755b"><code>19b41d1</code></a></td><td><code>Solved bug in orientation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb84cec88f012844ac65d102296644a77f89818c"><code>cb84cec</code></a></td><td><code>Merge branch 'public/ticket/17030' of git://trac.sagemath.org/sage into ticket/17030</code></td></tr></table>




---

archive/issue_comments_225378.json:
```json
{
    "body": "<div id=\"comment:113\" align=\"right\">comment:113</div>\n\nOk, i added the misisng doctest. I also solved a bug in the orientation method, and while i were at it, i rebased the whole thing to the last development version.\n\nIf you feel able to review it, then please go for it. Otherwise i will try to tho de the splitting into smaller parts for easier review.",
    "created_at": "2015-08-05T14:17:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225378",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:113" align="right">comment:113</div>

Ok, i added the misisng doctest. I also solved a bug in the orientation method, and while i were at it, i rebased the whole thing to the last development version.

If you feel able to review it, then please go for it. Otherwise i will try to tho de the splitting into smaller parts for easier review.



---

archive/issue_comments_225379.json:
```json
{
    "body": "<div id=\"comment:114\" align=\"right\">comment:114</div>\n\nI agree that in this particular case it could be useful to keep it in one piece.  However, if mmarco is willing to do the work to split this into coherent separate tickets that could be easily reviewed by people other than the authors, that is certainly not a bad idea.  For one thing, it might be possible for him to create a few tickets of material that he did *not* write and could just give positive review to.  I'm sorry I haven't been able to help figure this out better although I think it should be very high priority, but I had a very busy year and couldn't learn enough knot theory algorithms to do this yet, nor to convince any knot theorist friends to take the time to learn Sage yet.",
    "created_at": "2015-08-05T15:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225379",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:114" align="right">comment:114</div>

I agree that in this particular case it could be useful to keep it in one piece.  However, if mmarco is willing to do the work to split this into coherent separate tickets that could be easily reviewed by people other than the authors, that is certainly not a bad idea.  For one thing, it might be possible for him to create a few tickets of material that he did *not* write and could just give positive review to.  I'm sorry I haven't been able to help figure this out better although I think it should be very high priority, but I had a very busy year and couldn't learn enough knot theory algorithms to do this yet, nor to convince any knot theorist friends to take the time to learn Sage yet.



---

archive/issue_comments_225380.json:
```json
{
    "body": "<div id=\"comment:115\" align=\"right\">comment:115</div>\n\nOne quick comment: the file `reference/knots/conf.py` should be a symlink to `../conf_sub.py`, not a copy of that file.",
    "created_at": "2015-08-05T16:58:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225380",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:115" align="right">comment:115</div>

One quick comment: the file `reference/knots/conf.py` should be a symlink to `../conf_sub.py`, not a copy of that file.



---

archive/issue_comments_225381.json:
```json
{
    "body": "<div id=\"comment:116\" align=\"right\">comment:116</div>\n\nIf Miguel thinks it is (now) mathematically solid, then I will do the final parts of the review over the next day or so.\n\nSome things from a quick lookthrough:\n\n- Is the definition of the writhe valid for links? Right now the documentation just says \"of the knot\".\n\n- Methods like `alexander_polynomial` could use elaboration in their documentation, such as their definition and/or references.\n\n- I want to create a separate class `Knot` inheriting from `Link` to make it easier for people expanding on this in the future (and there is already a method specifically for knots). Any objections to me doing this?\n\n(John just outposted me on the symlink :P ).",
    "created_at": "2015-08-05T16:59:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225381",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:116" align="right">comment:116</div>

If Miguel thinks it is (now) mathematically solid, then I will do the final parts of the review over the next day or so.

Some things from a quick lookthrough:

- Is the definition of the writhe valid for links? Right now the documentation just says "of the knot".

- Methods like `alexander_polynomial` could use elaboration in their documentation, such as their definition and/or references.

- I want to create a separate class `Knot` inheriting from `Link` to make it easier for people expanding on this in the future (and there is already a method specifically for knots). Any objections to me doing this?

(John just outposted me on the symlink :P ).



---

archive/issue_comments_225382.json:
```json
{
    "body": "<div id=\"comment:117\" align=\"right\">comment:117</div>\n\nHi Travis,\n\nPlease go ahead with a full review. I think a new `Knot` class would be good. For future work, it would also be nice to have a catalog of links and knots (e.g., `knots.Trefoil()`) and also ways of producing new links from old. Could you add a `.. todo` list?\n\nI agree that more documentation would be great, with definitions, references, and (for `plot` at least) algorithms.\n\nHow is equality determined? How should it be? Should the oriented Gauss code be good enough?\n\n```\nsage: trefoil = Link([[1, 5, 2, 4], [5, 3, 6, 2], [3, 1, 4, 6]])\nsage: trefoil == Link([[1, 5, 2, 4], [5, 3, 6, 2], [3, 1, 4, 6]])\nFalse\n```\n\nI haven't actually looked at the code, and I don't know if I ever will. Some suggestions for miscellaneous minor cleanup:\n\n```diff\ndiff --git a/src/sage/knots/link.py b/src/sage/knots/link.py\nindex 04facf8..89f9624 100644\n--- a/src/sage/knots/link.py\n+++ b/src/sage/knots/link.py\n@@ -10,7 +10,7 @@ A link is an embedding of one or more copies of `\\\\mathbb{S}^1` in `\\\\mathbb{S}^\n considered up to ambient isotopy. That is, a link represents the idea of one or more\n tied ropes. Every knot is a link, but not every link is a knot.\n \n-Generically, the projection of a link on `\\\\mathbb{R}^2`\n+Generically, the projection of a link to `\\\\Bold{R}^2`\n is a curve with crossings. The crossings are represented to show which strand goes\n over the other. This curve is called a planar diagram of the link. If we remove the\n crossings, the resulting connected components are segments. These segments are\n@@ -40,16 +40,12 @@ AUTHORS:\n \n from sage.matrix.constructor import matrix\n from sage.rings.integer_ring import ZZ\n-from sage.rings.polynomial.polynomial_ring_constructor import PolynomialRing\n from sage.rings.finite_rings.integer_mod import Mod\n from sage.graphs.digraph import DiGraph\n from sage.graphs.graph import Graph\n from copy import deepcopy, copy\n from sage.rings.polynomial.laurent_polynomial_ring import LaurentPolynomialRing\n-from sage.rings.integer_ring import IntegerRing\n-from sage.combinat.permutation import Permutations\n-from sage.rings.finite_rings.integer_mod_ring import IntegerModRing\n-from sage.symbolic.ring import SR, var\n+from sage.symbolic.ring import SR\n from sage.rings.integer import Integer\n from sage.numerical.mip import MixedIntegerLinearProgram\n from sage.functions.generalized import sign\n@@ -74,7 +70,7 @@ class Link:\n         sage: L\n         Link with 2 components represented by 5 crossings\n \n-    Note that the strands of the braid that have no crossings at all are ignored.\n+      Note that the strands of the braid that have no crossings at all are ignored.\n \n     - Oriented Gauss Code:\n \n@@ -82,7 +78,7 @@ class Link:\n       crossings) and start moving along the link. Trace every component of\n       the link, by starting at a particular point on one component of the link and\n       writing down each of the crossings that you encounter until returning to the starting\n-      point. The crossings are written with sign depending on wheter we cross them\n+      point. The crossings are written with sign depending on whether we cross them\n       as over or undercrossing. Each component is then represented as a list whose\n       elements are the crossing numbers. A second list of +1 and -1's keeps track of\n       the orientation of each crossing::\n@@ -91,7 +87,7 @@ class Link:\n         sage: L\n         Knot represented by 8 crossings\n \n-      For links there is more than one component and the input is as follows::\n+      For links there may be more than one component and the input is as follows::\n \n         sage: L = Link([[[-1, 2], [-3, 4], [1, 3, -4, -2]], [-1, -1, 1, 1]])\n         sage: L\n@@ -177,15 +173,13 @@ class Link:\n                 self._PD_code = None\n \n             else:\n-                raise Exception(\"Invalid Input: Data must be either a list or a Braid\")\n+                raise ValueError(\"Invalid Input: Data must be either a list or a Braid\")\n \n     def __repr__(self):\n         \"\"\"\n         Return a string representation.\n \n-        OUTPUT:\n-\n-        - A string.\n+        OUTPUT: string representation\n \n         EXAMPLES::\n \n@@ -211,9 +205,7 @@ class Link:\n         \"\"\"\n         Return the braid representation of the link.\n \n-        OUTPUT:\n-\n-        - Braid representation of the link.\n+        OUTPUT: braid representation of the link\n \n         EXAMPLES::\n \n@@ -397,7 +389,7 @@ class Link:\n \n         b. The orientation of each crossing\n \n-        The following orientation was taken into consideration for consturction\n+        The following orientation was taken into consideration for construction\n         of knots:\n \n         From the outgoing of the overcrossing if we move in the clockwise direction\n@@ -411,11 +403,9 @@ class Link:\n         The order of the orientation is same as the ordering of the crossings in the\n         gauss code.\n \n-        Convention : under is denoted by -1, and over by +1 in the crossing info.\n+        Convention: under is denoted by -1, and over by +1 in the crossing info.\n \n-        OUTPUT:\n-\n-        - Oriented gauss code of the link\n+        OUTPUT: Oriented gauss code of the link\n \n         EXAMPLES::\n \n@@ -469,21 +459,19 @@ class Link:\n \n     def PD_code(self):\n         \"\"\"\n-        Return the Planar Diagram code of the link. The Planar Diagram is returned\n+        Return the planar diagram code of the link. The planar diagram is returned\n         in the following format.\n \n         We construct the crossing by starting with the entering component of the\n         undercrossing, move in the clockwise direction and then generate the list.\n-        Suppose if the crossing is given by [a, b, c, d], then we interpret this\n-        information as :\n+        If the crossing is given by [a, b, c, d], then we interpret this\n+        information as:\n \n         1. a is the entering component of the undercrossing\n         2. b, d are the components of the overcrossing\n         3. c is the leaving component of the undercrossing\n \n-        OUTPUT:\n-\n-        - Planar Diagram representation of the link.\n+        OUTPUT: planar diagram representation of the link.\n \n         EXAMPLES::\n \n@@ -564,18 +552,16 @@ class Link:\n \n     def gauss_code(self):\n         \"\"\"\n-        Return the gauss_code of the link. Gauss code is generated by the\n+        Return the Gauss code of the link. Gauss code is generated by the\n         following procedure:\n \n         a. Number the crossings from 1 to n.\n         b. Select a point on the knot and start moving along the component.\n         c. At each crossing, take the number of the crossing, along with\n-           sign, which is '-' if it is a undercrossing and '+' if it is a\n+           sign, which is '-' if it is an undercrossing and '+' if it is an\n            overcrossing.\n \n-        OUTPUT:\n-\n-        - Gauss code representation of the link.\n+        OUTPUT: Gauss code representation of the link\n \n         EXAMPLES::\n \n@@ -594,7 +580,7 @@ class Link:\n \n     def dt_code(self):\n         \"\"\"\n-        Return the dt_code of the knot. DT code is generated by the following way.\n+        Return the DT code of the knot. DT code is generated as follows.\n \n         Start moving along the knot, as we encounter the crossings we\n         start numbering them, so every crossing has two numbers assigned to\n@@ -605,10 +591,7 @@ class Link:\n         Take the even number with a negative sign if it is an overcrossing\n         that we are encountering.\n \n-        OUTPUT:\n-\n-        - DT Code representation of the knot. This is implemented only\n-          for knots.\n+        OUTPUT: DT Code representation of the knot. This is implemented only for knots.\n \n         EXAMPLES::\n \n@@ -644,7 +627,7 @@ class Link:\n                         crossing = i\n                         break\n             if(label[2 * crossing + next_label % 2] == 1):\n-                raise Exception(\"Implemented only for knots\")\n+                raise ValueError(\"Implemented only for knots\")\n             else:\n                 label[2 * crossing + next_label % 2] = next_label\n                 next_label = next_label + 1\n@@ -674,15 +657,12 @@ class Link:\n     def _dowker_notation_(self):\n         \"\"\"\n         Return the dowker notation of the link. Similar to the PD Code we number the\n-        components. So every crossing is represented by four numbers. We focus on\n-        the incoming entites of the under and the over crossing. It is the pair of incoming\n-        under cross and the incoming over cross. This information at every cross\n+        components, so every crossing is represented by four numbers. We focus on\n+        the incoming entities of the under and the overcrossing. It is the pair of incoming\n+        undercross and the incoming overcross. This information at every cross\n         gives the dowker notation.\n \n-        OUTPUT:\n-\n-        - List containing the pair of incoming under cross and the incoming\n-          over cross.\n+        OUTPUT: List containing the pair of incoming undercross and the incoming overcross.\n \n         EXAMPLES::\n \n@@ -705,16 +685,14 @@ class Link:\n \n     def _braidwordcomponents_(self):\n         \"\"\"\n-        Return the disjoint braid components, if any, else returns the braid itself.\n-        For example consider the braid [-1, 3, 1, 3] this can be viewed as a braid\n+        Return the disjoint braid components, if any, else return the braid itself.\n+        For example consider the braid [-1, 3, 1, 3]. This can be viewed as a braid\n         with components as [-1, 1] and [3, 3]. There is no common crossing to these\n         two (in sense there is a crossing between strand 1 and 2, crossing between\n         3 and 4 but no crossing between strand 2 and 3,so these can be viewed as\n         independent components in the braid).\n \n-        OUTPUT:\n-\n-        - List containing the components is returned\n+        OUTPUT: List containing the components is returned\n \n         EXAMPLES::\n \n@@ -733,7 +711,7 @@ class Link:\n         b = self.braid()\n         ml = list(b.Tietze())\n         if ml == []:\n-            raise Exception(\"The braid remains the same with no components\")\n+            raise ValueError(\"The braid remains the same with no components\")\n         else:\n             l = list(set([abs(k) for k in ml]))\n             missing1 = list(set(range(min(l), max(l) + 1)) - set(l))\n@@ -755,11 +733,9 @@ class Link:\n \n     def _braidwordcomponentsvector_(self):\n         \"\"\"\n-        The list from the braidwordcomponents is flattened to give out the vector form.\n+        The list from :meth:`_braidwordcomponents_` is flattened to give the vector form.\n \n-        OUTPUT:\n-\n-        - Vector containing braidwordcomponents\n+        OUTPUT: Vector containing :meth:`_braidwordcomponents_`\n \n         EXAMPLES::\n \n@@ -780,14 +756,13 @@ class Link:\n \n     def _homology_generators_(self):\n         \"\"\"\n-        The set of generators for the first homology group of the connected Seifert surface of the given link.\n-        This method uses the braidwordcomponentsvector to generate the homology generators.\n-        The position of the repeated element w.r.t the braidwordcomponentvector list is\n-        compiled into a list.\n-\n-        OUTPUT:\n+        The set of generators for the first homology group of the\n+        connected Seifert surface of the given link.  This method uses\n+        :meth:`_braidwordcomponentsvector_` to generate the homology\n+        generators.  The position of the repeated element w.r.t.\n+        :meth:`_braidwordcomponentsvector_` is compiled into a list.\n \n-        - The homology generators relating to the braid word representation\n+        OUTPUT: The homology generators relating to the braid word representation\n \n         EXAMPLES::\n \n@@ -802,6 +777,7 @@ class Link:\n             sage: L = Link(B([-2, 4, 1, 6, 1, 4]))\n             sage: L._homology_generators_()\n             [0, 2, 0, 4, 0]\n+\n         \"\"\"\n         x4 = self._braidwordcomponentsvector_()\n         hom_gen = []\n@@ -819,10 +795,8 @@ class Link:\n         \"\"\"\n         Return the Seifert Matrix associated with the link.\n \n-        OUTPUT:\n-\n-        - The intersection matrix of a (not necessarily minimal) Seifert surface of the\n-          link.\n+        OUTPUT: The intersection matrix of a (not necessarily minimal) Seifert\n+        surface of the link.\n \n         EXAMPLES::\n \n@@ -892,9 +866,7 @@ class Link:\n         \"\"\"\n         Return the number of connected components of the link.\n \n-        OUTPUT:\n-\n-        - Connected components of the link\n+        OUTPUT: Connected components of the link\n \n         EXAMPLES::\n \n@@ -919,12 +891,10 @@ class Link:\n \n     def is_knot(self):\n         \"\"\"\n-        Return True if the link is knot.\n+        Return True if the link is a knot.\n         Every knot is a link but the converse is not true.\n \n-        OUTPUT:\n-\n-        - True if knot else False\n+        OUTPUT: True if knot else False\n \n         EXAMPLES::\n \n@@ -946,9 +916,7 @@ class Link:\n         \"\"\"\n         Return the genus of the link\n \n-        OUTPUT:\n-\n-        - Genus of the Link\n+        OUTPUT: genus of the link\n \n         EXAMPLES::\n \n@@ -1004,9 +972,7 @@ class Link:\n         \"\"\"\n         Return the signature of the link\n \n-        OUTPUT:\n-\n-        - Signature of the Link\n+        OUTPUT: signature of the link\n \n         EXAMPLES::\n \n@@ -1039,9 +1005,7 @@ class Link:\n \n         - ``var`` -- (default: ``'t'``); the variable in the polynomial.\n \n-        OUTPUT:\n-\n-        - Alexander Polynomial of the Link\n+        OUTPUT: Alexander Polynomial of the Link\n \n         EXAMPLES::\n \n@@ -1067,9 +1031,7 @@ class Link:\n         \"\"\"\n         Return the determinant of the knot\n \n-        OUTPUT:\n-\n-        - Determinant of the Knot\n+        OUTPUT: determinant of the knot\n \n         EXAMPLES::\n \n@@ -1089,15 +1051,13 @@ class Link:\n             a = self.alexander_polynomial()\n             return Integer(abs(a(-1)))\n         else:\n-            raise Exception(\"Determinant implmented only for knots\")\n+            raise ValueError(\"Determinant implemented only for knots\")\n \n     def arf_invariant(self):\n         \"\"\"\n         Return the arf invariant. Arf invariant is defined only for knots.\n \n-        OUTPUT:\n-\n-        - Arf invariant of knot\n+        OUTPUT: Arf invariant of the knot\n \n         EXAMPLES::\n \n@@ -1120,20 +1080,16 @@ class Link:\n             else:\n                 return 1\n         else:\n-            raise Exception(\"Arf invariant is defined only for knots\")\n+            raise ValueError(\"Arf invariant is defined only for knots\")\n \n     def is_alternating(self):\n         \"\"\"\n-        Return True if the given knot diagram is alternating else returns False.\n-        Alternating diagram implies every over cross is followed by an under cross\n+        Return True if the given knot diagram is alternating else return False.\n+        Alternating diagram means that every over cross is followed by an under cross\n         or the vice-versa.\n \n-        We look at the gauss code if the sign is alternating, True is returned else\n-        the knot is not alternating False is returned.\n-\n-        OUTPUT:\n-\n-        - True if the knot diagram is alternating else False\n+        In the gauss code, if the sign is alternating, True is returned, else\n+        the knot is not alternating so False is returned.\n \n         EXAMPLES::\n \n@@ -1169,10 +1125,6 @@ class Link:\n         \"\"\"\n         Return the orientation of the crossings of the link diagram.\n \n-        OUTPUT:\n-\n-        - Orientation  of the crossings.\n-\n         EXAMPLES::\n \n             sage: L = Link([[1, 4, 5, 2], [3, 5, 6, 7], [4, 8, 9, 6], [7, 9, 10, 11], [8, 1, 13, 10], [11, 13, 2, 3]])\n@@ -1201,15 +1153,11 @@ class Link:\n \n     def seifert_circles(self):\n         \"\"\"\n-        Return the seifert circles from the link diagram. Seifert circles are the circles\n+        Return the Seifert circles from the link diagram. Seifert circles are the circles\n         obtained by smoothing all crossings respecting the orientation of the segments.\n \n         Each Seifert circle is represented as a list of the segments that form it.\n \n-        OUTPUT:\n-\n-        - Seifert circles of the given link diagram.\n-\n         EXAMPLES::\n \n             sage: L = Link([[[1, -2, 3, -4, 2, -1, 4, -3]],[1, 1, -1, -1]])\n@@ -1263,9 +1211,7 @@ class Link:\n         its boundary, with a sign deppending on the orientation of the segment\n         as part of the boundary.\n \n-        OUTPUT:\n-\n-        - Regions of the knot.\n+        OUTPUT: regions of the knot\n \n         EXAMPLES::\n \n@@ -1344,9 +1290,7 @@ class Link:\n         \"\"\"\n         Return the writhe of the knot.\n \n-        OUTPUT:\n-\n-        - Writhe of the knot.\n+        OUTPUT: writhe of the knot\n \n         EXAMPLES::\n \n@@ -1367,16 +1311,14 @@ class Link:\n \n     def jones_polynomial(self, var='q'):\n         \"\"\"\n-        Return the jones polynomial of the link.\n+        Return the Jones polynomial of the link.\n \n         INPUT:\n \n         - ``var`` -- (default: ``'q'``); the variable in the polynomial.\n \n-        OUTPUT:\n-\n-        - Jones Polynomial of the link. It is a polynomial in var, as an element\n-          of the symbolic ring.\n+        OUTPUT: Jones polynomial of the link. It is a polynomial in\n+        ``var``, as an element of the symbolic ring.\n \n         EXAMPLES::\n \n@@ -1394,6 +1336,7 @@ class Link:\n             sage: L = Link(l5)\n             sage: L.jones_polynomial()\n             -q^(3/2) + sqrt(q) - 2/sqrt(q) + 1/q^(3/2) - 2/q^(5/2) + 1/q^(7/2)\n+\n         \"\"\"\n         t = SR(var)\n         poly = self._bracket_(t)\n@@ -1420,8 +1363,6 @@ class Link:\n             sage: L = Link([[2, 1, 3, 4], [4, 3, 1, 2]])\n             sage: L._bracket_()\n             -q^4 - 1/q^4\n-\n-\n         \"\"\"\n         t = SR(variable)\n         if len(self.PD_code()) == 1:\n@@ -1482,7 +1423,6 @@ class Link:\n             sage: L = Link([[1, 1, 2, 2], [3, 3, 4, 4]])\n             sage: L._isolated_components_()\n             [[[1, 1, 2, 2]], [[3, 3, 4, 4]]]\n-\n         \"\"\"\n         G = Graph()\n         for c in self.PD_code():\n```",
    "created_at": "2015-08-05T17:42:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225382",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:117" align="right">comment:117</div>

Hi Travis,

Please go ahead with a full review. I think a new `Knot` class would be good. For future work, it would also be nice to have a catalog of links and knots (e.g., `knots.Trefoil()`) and also ways of producing new links from old. Could you add a `.. todo` list?

I agree that more documentation would be great, with definitions, references, and (for `plot` at least) algorithms.

How is equality determined? How should it be? Should the oriented Gauss code be good enough?

```
sage: trefoil = Link([[1, 5, 2, 4], [5, 3, 6, 2], [3, 1, 4, 6]])
sage: trefoil == Link([[1, 5, 2, 4], [5, 3, 6, 2], [3, 1, 4, 6]])
False
```

I haven't actually looked at the code, and I don't know if I ever will. Some suggestions for miscellaneous minor cleanup:

```diff
diff --git a/src/sage/knots/link.py b/src/sage/knots/link.py
index 04facf8..89f9624 100644
--- a/src/sage/knots/link.py
+++ b/src/sage/knots/link.py
@@ -10,7 +10,7 @@ A link is an embedding of one or more copies of `\\mathbb{S}^1` in `\\mathbb{S}^
 considered up to ambient isotopy. That is, a link represents the idea of one or more
 tied ropes. Every knot is a link, but not every link is a knot.
 
-Generically, the projection of a link on `\\mathbb{R}^2`
+Generically, the projection of a link to `\\Bold{R}^2`
 is a curve with crossings. The crossings are represented to show which strand goes
 over the other. This curve is called a planar diagram of the link. If we remove the
 crossings, the resulting connected components are segments. These segments are
@@ -40,16 +40,12 @@ AUTHORS:
 
 from sage.matrix.constructor import matrix
 from sage.rings.integer_ring import ZZ
-from sage.rings.polynomial.polynomial_ring_constructor import PolynomialRing
 from sage.rings.finite_rings.integer_mod import Mod
 from sage.graphs.digraph import DiGraph
 from sage.graphs.graph import Graph
 from copy import deepcopy, copy
 from sage.rings.polynomial.laurent_polynomial_ring import LaurentPolynomialRing
-from sage.rings.integer_ring import IntegerRing
-from sage.combinat.permutation import Permutations
-from sage.rings.finite_rings.integer_mod_ring import IntegerModRing
-from sage.symbolic.ring import SR, var
+from sage.symbolic.ring import SR
 from sage.rings.integer import Integer
 from sage.numerical.mip import MixedIntegerLinearProgram
 from sage.functions.generalized import sign
@@ -74,7 +70,7 @@ class Link:
         sage: L
         Link with 2 components represented by 5 crossings
 
-    Note that the strands of the braid that have no crossings at all are ignored.
+      Note that the strands of the braid that have no crossings at all are ignored.
 
     - Oriented Gauss Code:
 
@@ -82,7 +78,7 @@ class Link:
       crossings) and start moving along the link. Trace every component of
       the link, by starting at a particular point on one component of the link and
       writing down each of the crossings that you encounter until returning to the starting
-      point. The crossings are written with sign depending on wheter we cross them
+      point. The crossings are written with sign depending on whether we cross them
       as over or undercrossing. Each component is then represented as a list whose
       elements are the crossing numbers. A second list of +1 and -1's keeps track of
       the orientation of each crossing::
@@ -91,7 +87,7 @@ class Link:
         sage: L
         Knot represented by 8 crossings
 
-      For links there is more than one component and the input is as follows::
+      For links there may be more than one component and the input is as follows::
 
         sage: L = Link([[[-1, 2], [-3, 4], [1, 3, -4, -2]], [-1, -1, 1, 1]])
         sage: L
@@ -177,15 +173,13 @@ class Link:
                 self._PD_code = None
 
             else:
-                raise Exception("Invalid Input: Data must be either a list or a Braid")
+                raise ValueError("Invalid Input: Data must be either a list or a Braid")
 
     def __repr__(self):
         """
         Return a string representation.
 
-        OUTPUT:
-
-        - A string.
+        OUTPUT: string representation
 
         EXAMPLES::
 
@@ -211,9 +205,7 @@ class Link:
         """
         Return the braid representation of the link.
 
-        OUTPUT:
-
-        - Braid representation of the link.
+        OUTPUT: braid representation of the link
 
         EXAMPLES::
 
@@ -397,7 +389,7 @@ class Link:
 
         b. The orientation of each crossing
 
-        The following orientation was taken into consideration for consturction
+        The following orientation was taken into consideration for construction
         of knots:
 
         From the outgoing of the overcrossing if we move in the clockwise direction
@@ -411,11 +403,9 @@ class Link:
         The order of the orientation is same as the ordering of the crossings in the
         gauss code.
 
-        Convention : under is denoted by -1, and over by +1 in the crossing info.
+        Convention: under is denoted by -1, and over by +1 in the crossing info.
 
-        OUTPUT:
-
-        - Oriented gauss code of the link
+        OUTPUT: Oriented gauss code of the link
 
         EXAMPLES::
 
@@ -469,21 +459,19 @@ class Link:
 
     def PD_code(self):
         """
-        Return the Planar Diagram code of the link. The Planar Diagram is returned
+        Return the planar diagram code of the link. The planar diagram is returned
         in the following format.
 
         We construct the crossing by starting with the entering component of the
         undercrossing, move in the clockwise direction and then generate the list.
-        Suppose if the crossing is given by [a, b, c, d], then we interpret this
-        information as :
+        If the crossing is given by [a, b, c, d], then we interpret this
+        information as:
 
         1. a is the entering component of the undercrossing
         2. b, d are the components of the overcrossing
         3. c is the leaving component of the undercrossing
 
-        OUTPUT:
-
-        - Planar Diagram representation of the link.
+        OUTPUT: planar diagram representation of the link.
 
         EXAMPLES::
 
@@ -564,18 +552,16 @@ class Link:
 
     def gauss_code(self):
         """
-        Return the gauss_code of the link. Gauss code is generated by the
+        Return the Gauss code of the link. Gauss code is generated by the
         following procedure:
 
         a. Number the crossings from 1 to n.
         b. Select a point on the knot and start moving along the component.
         c. At each crossing, take the number of the crossing, along with
-           sign, which is '-' if it is a undercrossing and '+' if it is a
+           sign, which is '-' if it is an undercrossing and '+' if it is an
            overcrossing.
 
-        OUTPUT:
-
-        - Gauss code representation of the link.
+        OUTPUT: Gauss code representation of the link
 
         EXAMPLES::
 
@@ -594,7 +580,7 @@ class Link:
 
     def dt_code(self):
         """
-        Return the dt_code of the knot. DT code is generated by the following way.
+        Return the DT code of the knot. DT code is generated as follows.
 
         Start moving along the knot, as we encounter the crossings we
         start numbering them, so every crossing has two numbers assigned to
@@ -605,10 +591,7 @@ class Link:
         Take the even number with a negative sign if it is an overcrossing
         that we are encountering.
 
-        OUTPUT:
-
-        - DT Code representation of the knot. This is implemented only
-          for knots.
+        OUTPUT: DT Code representation of the knot. This is implemented only for knots.
 
         EXAMPLES::
 
@@ -644,7 +627,7 @@ class Link:
                         crossing = i
                         break
             if(label[2 * crossing + next_label % 2] == 1):
-                raise Exception("Implemented only for knots")
+                raise ValueError("Implemented only for knots")
             else:
                 label[2 * crossing + next_label % 2] = next_label
                 next_label = next_label + 1
@@ -674,15 +657,12 @@ class Link:
     def _dowker_notation_(self):
         """
         Return the dowker notation of the link. Similar to the PD Code we number the
-        components. So every crossing is represented by four numbers. We focus on
-        the incoming entites of the under and the over crossing. It is the pair of incoming
-        under cross and the incoming over cross. This information at every cross
+        components, so every crossing is represented by four numbers. We focus on
+        the incoming entities of the under and the overcrossing. It is the pair of incoming
+        undercross and the incoming overcross. This information at every cross
         gives the dowker notation.
 
-        OUTPUT:
-
-        - List containing the pair of incoming under cross and the incoming
-          over cross.
+        OUTPUT: List containing the pair of incoming undercross and the incoming overcross.
 
         EXAMPLES::
 
@@ -705,16 +685,14 @@ class Link:
 
     def _braidwordcomponents_(self):
         """
-        Return the disjoint braid components, if any, else returns the braid itself.
-        For example consider the braid [-1, 3, 1, 3] this can be viewed as a braid
+        Return the disjoint braid components, if any, else return the braid itself.
+        For example consider the braid [-1, 3, 1, 3]. This can be viewed as a braid
         with components as [-1, 1] and [3, 3]. There is no common crossing to these
         two (in sense there is a crossing between strand 1 and 2, crossing between
         3 and 4 but no crossing between strand 2 and 3,so these can be viewed as
         independent components in the braid).
 
-        OUTPUT:
-
-        - List containing the components is returned
+        OUTPUT: List containing the components is returned
 
         EXAMPLES::
 
@@ -733,7 +711,7 @@ class Link:
         b = self.braid()
         ml = list(b.Tietze())
         if ml == []:
-            raise Exception("The braid remains the same with no components")
+            raise ValueError("The braid remains the same with no components")
         else:
             l = list(set([abs(k) for k in ml]))
             missing1 = list(set(range(min(l), max(l) + 1)) - set(l))
@@ -755,11 +733,9 @@ class Link:
 
     def _braidwordcomponentsvector_(self):
         """
-        The list from the braidwordcomponents is flattened to give out the vector form.
+        The list from :meth:`_braidwordcomponents_` is flattened to give the vector form.
 
-        OUTPUT:
-
-        - Vector containing braidwordcomponents
+        OUTPUT: Vector containing :meth:`_braidwordcomponents_`
 
         EXAMPLES::
 
@@ -780,14 +756,13 @@ class Link:
 
     def _homology_generators_(self):
         """
-        The set of generators for the first homology group of the connected Seifert surface of the given link.
-        This method uses the braidwordcomponentsvector to generate the homology generators.
-        The position of the repeated element w.r.t the braidwordcomponentvector list is
-        compiled into a list.
-
-        OUTPUT:
+        The set of generators for the first homology group of the
+        connected Seifert surface of the given link.  This method uses
+        :meth:`_braidwordcomponentsvector_` to generate the homology
+        generators.  The position of the repeated element w.r.t.
+        :meth:`_braidwordcomponentsvector_` is compiled into a list.
 
-        - The homology generators relating to the braid word representation
+        OUTPUT: The homology generators relating to the braid word representation
 
         EXAMPLES::
 
@@ -802,6 +777,7 @@ class Link:
             sage: L = Link(B([-2, 4, 1, 6, 1, 4]))
             sage: L._homology_generators_()
             [0, 2, 0, 4, 0]
+
         """
         x4 = self._braidwordcomponentsvector_()
         hom_gen = []
@@ -819,10 +795,8 @@ class Link:
         """
         Return the Seifert Matrix associated with the link.
 
-        OUTPUT:
-
-        - The intersection matrix of a (not necessarily minimal) Seifert surface of the
-          link.
+        OUTPUT: The intersection matrix of a (not necessarily minimal) Seifert
+        surface of the link.
 
         EXAMPLES::
 
@@ -892,9 +866,7 @@ class Link:
         """
         Return the number of connected components of the link.
 
-        OUTPUT:
-
-        - Connected components of the link
+        OUTPUT: Connected components of the link
 
         EXAMPLES::
 
@@ -919,12 +891,10 @@ class Link:
 
     def is_knot(self):
         """
-        Return True if the link is knot.
+        Return True if the link is a knot.
         Every knot is a link but the converse is not true.
 
-        OUTPUT:
-
-        - True if knot else False
+        OUTPUT: True if knot else False
 
         EXAMPLES::
 
@@ -946,9 +916,7 @@ class Link:
         """
         Return the genus of the link
 
-        OUTPUT:
-
-        - Genus of the Link
+        OUTPUT: genus of the link
 
         EXAMPLES::
 
@@ -1004,9 +972,7 @@ class Link:
         """
         Return the signature of the link
 
-        OUTPUT:
-
-        - Signature of the Link
+        OUTPUT: signature of the link
 
         EXAMPLES::
 
@@ -1039,9 +1005,7 @@ class Link:
 
         - ``var`` -- (default: ``'t'``); the variable in the polynomial.
 
-        OUTPUT:
-
-        - Alexander Polynomial of the Link
+        OUTPUT: Alexander Polynomial of the Link
 
         EXAMPLES::
 
@@ -1067,9 +1031,7 @@ class Link:
         """
         Return the determinant of the knot
 
-        OUTPUT:
-
-        - Determinant of the Knot
+        OUTPUT: determinant of the knot
 
         EXAMPLES::
 
@@ -1089,15 +1051,13 @@ class Link:
             a = self.alexander_polynomial()
             return Integer(abs(a(-1)))
         else:
-            raise Exception("Determinant implmented only for knots")
+            raise ValueError("Determinant implemented only for knots")
 
     def arf_invariant(self):
         """
         Return the arf invariant. Arf invariant is defined only for knots.
 
-        OUTPUT:
-
-        - Arf invariant of knot
+        OUTPUT: Arf invariant of the knot
 
         EXAMPLES::
 
@@ -1120,20 +1080,16 @@ class Link:
             else:
                 return 1
         else:
-            raise Exception("Arf invariant is defined only for knots")
+            raise ValueError("Arf invariant is defined only for knots")
 
     def is_alternating(self):
         """
-        Return True if the given knot diagram is alternating else returns False.
-        Alternating diagram implies every over cross is followed by an under cross
+        Return True if the given knot diagram is alternating else return False.
+        Alternating diagram means that every over cross is followed by an under cross
         or the vice-versa.
 
-        We look at the gauss code if the sign is alternating, True is returned else
-        the knot is not alternating False is returned.
-
-        OUTPUT:
-
-        - True if the knot diagram is alternating else False
+        In the gauss code, if the sign is alternating, True is returned, else
+        the knot is not alternating so False is returned.
 
         EXAMPLES::
 
@@ -1169,10 +1125,6 @@ class Link:
         """
         Return the orientation of the crossings of the link diagram.
 
-        OUTPUT:
-
-        - Orientation  of the crossings.
-
         EXAMPLES::
 
             sage: L = Link([[1, 4, 5, 2], [3, 5, 6, 7], [4, 8, 9, 6], [7, 9, 10, 11], [8, 1, 13, 10], [11, 13, 2, 3]])
@@ -1201,15 +1153,11 @@ class Link:
 
     def seifert_circles(self):
         """
-        Return the seifert circles from the link diagram. Seifert circles are the circles
+        Return the Seifert circles from the link diagram. Seifert circles are the circles
         obtained by smoothing all crossings respecting the orientation of the segments.
 
         Each Seifert circle is represented as a list of the segments that form it.
 
-        OUTPUT:
-
-        - Seifert circles of the given link diagram.
-
         EXAMPLES::
 
             sage: L = Link([[[1, -2, 3, -4, 2, -1, 4, -3]],[1, 1, -1, -1]])
@@ -1263,9 +1211,7 @@ class Link:
         its boundary, with a sign deppending on the orientation of the segment
         as part of the boundary.
 
-        OUTPUT:
-
-        - Regions of the knot.
+        OUTPUT: regions of the knot
 
         EXAMPLES::
 
@@ -1344,9 +1290,7 @@ class Link:
         """
         Return the writhe of the knot.
 
-        OUTPUT:
-
-        - Writhe of the knot.
+        OUTPUT: writhe of the knot
 
         EXAMPLES::
 
@@ -1367,16 +1311,14 @@ class Link:
 
     def jones_polynomial(self, var='q'):
         """
-        Return the jones polynomial of the link.
+        Return the Jones polynomial of the link.
 
         INPUT:
 
         - ``var`` -- (default: ``'q'``); the variable in the polynomial.
 
-        OUTPUT:
-
-        - Jones Polynomial of the link. It is a polynomial in var, as an element
-          of the symbolic ring.
+        OUTPUT: Jones polynomial of the link. It is a polynomial in
+        ``var``, as an element of the symbolic ring.
 
         EXAMPLES::
 
@@ -1394,6 +1336,7 @@ class Link:
             sage: L = Link(l5)
             sage: L.jones_polynomial()
             -q^(3/2) + sqrt(q) - 2/sqrt(q) + 1/q^(3/2) - 2/q^(5/2) + 1/q^(7/2)
+
         """
         t = SR(var)
         poly = self._bracket_(t)
@@ -1420,8 +1363,6 @@ class Link:
             sage: L = Link([[2, 1, 3, 4], [4, 3, 1, 2]])
             sage: L._bracket_()
             -q^4 - 1/q^4
-
-
         """
         t = SR(variable)
         if len(self.PD_code()) == 1:
@@ -1482,7 +1423,6 @@ class Link:
             sage: L = Link([[1, 1, 2, 2], [3, 3, 4, 4]])
             sage: L._isolated_components_()
             [[[1, 1, 2, 2]], [[3, 3, 4, 4]]]
-
         """
         G = Graph()
         for c in self.PD_code():
```



---

archive/issue_comments_225383.json:
```json
{
    "body": "<div id=\"comment:118\" align=\"right\">comment:118</div>\n\n> \n> - Is the definition of the writhe valid for links? Right now the documentation just says \"of the knot\".\n> \n\nIt is as valid for link diagrams. The only difference with the knot case is that a change of orientation in a knot diagram does not change the writhe. However, in the case of link diagrams, a change of the orientation on a component might change the writhe. However, we are always internally considering an orientation in the diagrams, so it does make sense.\n\n> - Methods like `alexander_polynomial` could use elaboration in their documentation, such as their definition and/or references.\n> \n\nOk, i will try to work on that, in the following days.\n\n> - I want to create a separate class `Knot` inheriting from `Link` to make it easier for people expanding on this in the future (and there is already a method specifically for knots). Any objections to me doing this?\n\nI had thought of keeping the same class (since they would be two almost identical classes), but have two different funcions to create the general links and the knots. The knot function would then just check that the given diagram corresponds to a knot and then create the corresponding link object.",
    "created_at": "2015-08-06T05:56:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225383",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:118" align="right">comment:118</div>

> 
> - Is the definition of the writhe valid for links? Right now the documentation just says "of the knot".
> 

It is as valid for link diagrams. The only difference with the knot case is that a change of orientation in a knot diagram does not change the writhe. However, in the case of link diagrams, a change of the orientation on a component might change the writhe. However, we are always internally considering an orientation in the diagrams, so it does make sense.

> - Methods like `alexander_polynomial` could use elaboration in their documentation, such as their definition and/or references.
> 

Ok, i will try to work on that, in the following days.

> - I want to create a separate class `Knot` inheriting from `Link` to make it easier for people expanding on this in the future (and there is already a method specifically for knots). Any objections to me doing this?

I had thought of keeping the same class (since they would be two almost identical classes), but have two different funcions to create the general links and the knots. The knot function would then just check that the given diagram corresponds to a knot and then create the corresponding link object.



---

archive/issue_comments_225384.json:
```json
{
    "body": "<div id=\"comment:119\" align=\"right\">comment:119</div>\n\n> Please go ahead with a full review. I think a new `Knot` class would be good. For future work, it would also be nice to have a catalog of links and knots (e.g., `knots.Trefoil()`) and also ways of producing new links from old. Could you add a `.. todo` list?\n> \n\nI am working on a package that would provide a knot/link database taken from the knot atlas (http://katlas.org).\n\nOnce done that, i would also like to have an \"identify\" method that, given a knot/link, computes its invariants and compares them with the ones in the database, giving then a list of possibilities from the database for the given knot/link.\n\n\n> I agree that more documentation would be great, with definitions, references, and (for `plot` at least) algorithms.\n> \n\nAgree on all. I defintely need to document better the plot method. That was one of the reasons for my proposal of splitting: right now the plot code is specially hard to review.\n\n> How is equality determined? How should it be? Should the oriented Gauss code be good enough?\n> \n> ```\n> sage: trefoil = Link([[1, 5, 2, 4], [5, 3, 6, 2], [3, 1, 4, 6]])\n> sage: trefoil == Link([[1, 5, 2, 4], [5, 3, 6, 2], [3, 1, 4, 6]])\n> False\n> ```\n> \n\nWe can't realistically determine equality. Even determining if a given diagram corresponds to the unknot is a really hard problem. Oriented Gauss code is not even a knot invariant. \n\nNow that you mention it, i think that equality checking should raise \"not implemented error\".\n\n\nThanks for the suggestions. I will work on them.",
    "created_at": "2015-08-06T06:07:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225384",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:119" align="right">comment:119</div>

> Please go ahead with a full review. I think a new `Knot` class would be good. For future work, it would also be nice to have a catalog of links and knots (e.g., `knots.Trefoil()`) and also ways of producing new links from old. Could you add a `.. todo` list?
> 

I am working on a package that would provide a knot/link database taken from the knot atlas (http://katlas.org).

Once done that, i would also like to have an "identify" method that, given a knot/link, computes its invariants and compares them with the ones in the database, giving then a list of possibilities from the database for the given knot/link.


> I agree that more documentation would be great, with definitions, references, and (for `plot` at least) algorithms.
> 

Agree on all. I defintely need to document better the plot method. That was one of the reasons for my proposal of splitting: right now the plot code is specially hard to review.

> How is equality determined? How should it be? Should the oriented Gauss code be good enough?
> 
> ```
> sage: trefoil = Link([[1, 5, 2, 4], [5, 3, 6, 2], [3, 1, 4, 6]])
> sage: trefoil == Link([[1, 5, 2, 4], [5, 3, 6, 2], [3, 1, 4, 6]])
> False
> ```
> 

We can't realistically determine equality. Even determining if a given diagram corresponds to the unknot is a really hard problem. Oriented Gauss code is not even a knot invariant. 

Now that you mention it, i think that equality checking should raise "not implemented error".


Thanks for the suggestions. I will work on them.



---

archive/issue_comments_225385.json:
```json
{
    "body": "<div id=\"comment:120\" align=\"right\">comment:120</div>\n\nI'm working on them right now. Give me a day to finish what I'm working on and after I push you can take over at that point.",
    "created_at": "2015-08-06T06:11:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225385",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:120" align="right">comment:120</div>

I'm working on them right now. Give me a day to finish what I'm working on and after I push you can take over at that point.



---

archive/issue_comments_225386.json:
```json
{
    "body": "Changed commit from **[`cb84cec`](https://github.com/sagemath/sagetrac-mirror/commit/cb84cec88f012844ac65d102296644a77f89818c)** to **[`06aad78`](https://github.com/sagemath/sagetrac-mirror/commit/06aad784cdd03604d77f9f9c7e6c9332a4982fc6)**",
    "created_at": "2015-08-06T23:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225386",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cb84cec`](https://github.com/sagemath/sagetrac-mirror/commit/cb84cec88f012844ac65d102296644a77f89818c)** to **[`06aad78`](https://github.com/sagemath/sagetrac-mirror/commit/06aad784cdd03604d77f9f9c7e6c9332a4982fc6)**



---

archive/issue_comments_225387.json:
```json
{
    "body": "<div id=\"comment:121\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06aad784cdd03604d77f9f9c7e6c9332a4982fc6\"><code>06aad78</code></a></td><td><code>Initial pass of code review.</code></td></tr></table>\n",
    "created_at": "2015-08-06T23:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225387",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:121"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06aad784cdd03604d77f9f9c7e6c9332a4982fc6"><code>06aad78</code></a></td><td><code>Initial pass of code review.</code></td></tr></table>




---

archive/issue_comments_225388.json:
```json
{
    "body": "<div id=\"comment:122\" align=\"right\">comment:122</div>\n\nOkay, I've done my initial pass. There's still a lot more work to be done with respect to the documentation, in particular, the class level doc for the respective `Link` and `Knot` classes. (This needs to be cleaned up before a positive review; the other doc is not so important to me but it would be nice to have.)\n\nI couldn't get one of the doctests to pass with cb84cec:\n\n```\nsage -t link.py\n**********************************************************************\nFile \"link.py\", line 1185, in sage.knots.link.Link.orientation\nFailed example:\n    L.orientation()\nExpected:\n    [-1, -1, 1]\nGot:\n    [-1, -1, -1]\n```\nI believe this was a typo of a missing minus sign (if I understand the knot correctly from the plot).\n\nI made a lot of minor to micro optimizations and code cleanup. I created a `Knot` class as Miguel suggested (and was what I had in mind initially). I created an equality check by looking at the braids (is that a link invariant?) and put a warning message about false negatives (but if it is a link invariant, then we should be able to remove the warning message).\n\nThere shouldn't be any more large refactoring of the code after this point I think.\n\nI think for the catalog, we should open up a followup ticket rather than put an explicit todo in the file. However a big +1 on doing this.",
    "created_at": "2015-08-07T00:00:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225388",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:122" align="right">comment:122</div>

Okay, I've done my initial pass. There's still a lot more work to be done with respect to the documentation, in particular, the class level doc for the respective `Link` and `Knot` classes. (This needs to be cleaned up before a positive review; the other doc is not so important to me but it would be nice to have.)

I couldn't get one of the doctests to pass with cb84cec:

```
sage -t link.py
**********************************************************************
File "link.py", line 1185, in sage.knots.link.Link.orientation
Failed example:
    L.orientation()
Expected:
    [-1, -1, 1]
Got:
    [-1, -1, -1]
```
I believe this was a typo of a missing minus sign (if I understand the knot correctly from the plot).

I made a lot of minor to micro optimizations and code cleanup. I created a `Knot` class as Miguel suggested (and was what I had in mind initially). I created an equality check by looking at the braids (is that a link invariant?) and put a warning message about false negatives (but if it is a link invariant, then we should be able to remove the warning message).

There shouldn't be any more large refactoring of the code after this point I think.

I think for the catalog, we should open up a followup ticket rather than put an explicit todo in the file. However a big +1 on doing this.



---

archive/issue_comments_225389.json:
```json
{
    "body": "<div id=\"comment:123\" align=\"right\">comment:123</div>\n\nI will look at it more carefully tomorrow.\n\nIn the meantime, the failing doctest is indeed a typo. The knot should be defined as \n\n```\nsage: L = Link([[1, 2, 3, 3], [2, 4, 5, 5], [7, 4, 1, 7]])\n```\n\n\n> I made a lot of minor to micro optimizations and code cleanup. I created a `Knot` class as Miguel suggested (and was what I had in mind initially). I created an equality check by looking at the braids (is that a link invariant?) and put a warning message about false negatives (but if it is a link invariant, then we should be able to remove the warning message).\n\nThe braid is not a link invariant. Actually we should be careful about what equality means. If it means equality of diagrams (that is, the planar diagrams are actually the same, although maybe the elements are enumerated in a different order), we could write some method to check if there exists a different choice of labels that makes the presentations identical. If by equality we mean isotopy invariants, then we are definitely out of luck, since as far as a i know there is no effective method for that.\n\n> \n> There shouldn't be any more large refactoring of the code after this point I think.\n> \n> I think for the catalog, we should open up a followup ticket rather than put an explicit todo in the file. However a big +1 on doing this.",
    "created_at": "2015-08-07T17:53:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225389",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:123" align="right">comment:123</div>

I will look at it more carefully tomorrow.

In the meantime, the failing doctest is indeed a typo. The knot should be defined as 

```
sage: L = Link([[1, 2, 3, 3], [2, 4, 5, 5], [7, 4, 1, 7]])
```


> I made a lot of minor to micro optimizations and code cleanup. I created a `Knot` class as Miguel suggested (and was what I had in mind initially). I created an equality check by looking at the braids (is that a link invariant?) and put a warning message about false negatives (but if it is a link invariant, then we should be able to remove the warning message).

The braid is not a link invariant. Actually we should be careful about what equality means. If it means equality of diagrams (that is, the planar diagrams are actually the same, although maybe the elements are enumerated in a different order), we could write some method to check if there exists a different choice of labels that makes the presentations identical. If by equality we mean isotopy invariants, then we are definitely out of luck, since as far as a i know there is no effective method for that.

> 
> There shouldn't be any more large refactoring of the code after this point I think.
> 
> I think for the catalog, we should open up a followup ticket rather than put an explicit todo in the file. However a big +1 on doing this.



---

archive/issue_comments_225390.json:
```json
{
    "body": "<div id=\"comment:124\" align=\"right\">comment:124</div>\n\nCarbon-copying a few remarks from [a sage-devel thread](https://groups.google.com/d/msg/sage-devel/ByJURRvRgLg/Jv37j-CTCwAJ): Link.jones_polynomial() has some issues for sufficiently trivial links.\n\nIn the following example -- which should be covered -- the method throws an exception:\n\n```\nsage: B = BraidGroup(2)\nsage: b = B([])\nsage: L = Link(b)\nsage: L.jones_polynomial()\n...\nIndexError: list index out of range\n```\n\nAnd here's an example where it returns an incorrect value:\n\n```\nsage: B = BraidGroup(8)\nsage: b = B([1])\nsage: L = Link(b)\nsage: L.jones_polynomial()\n1\n```",
    "created_at": "2015-08-09T13:07:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225390",
    "user": "https://github.com/fuglede"
}
```

<div id="comment:124" align="right">comment:124</div>

Carbon-copying a few remarks from [a sage-devel thread](https://groups.google.com/d/msg/sage-devel/ByJURRvRgLg/Jv37j-CTCwAJ): Link.jones_polynomial() has some issues for sufficiently trivial links.

In the following example -- which should be covered -- the method throws an exception:

```
sage: B = BraidGroup(2)
sage: b = B([])
sage: L = Link(b)
sage: L.jones_polynomial()
...
IndexError: list index out of range
```

And here's an example where it returns an incorrect value:

```
sage: B = BraidGroup(8)
sage: b = B([1])
sage: L = Link(b)
sage: L.jones_polynomial()
1
```



---

archive/issue_comments_225391.json:
```json
{
    "body": "<div id=\"comment:125\" align=\"right\">comment:125</div>\n\nIn the sacond case, the class documentation states that the strands of the braid that have no crossings are ignored. Considering that, the result is correct.\n\nMaybe we should change that anyways. But would involve some redeisgn of the internal data structures.",
    "created_at": "2015-08-09T16:54:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225391",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:125" align="right">comment:125</div>

In the sacond case, the class documentation states that the strands of the braid that have no crossings are ignored. Considering that, the result is correct.

Maybe we should change that anyways. But would involve some redeisgn of the internal data structures.



---

archive/issue_comments_225392.json:
```json
{
    "body": "<div id=\"comment:126\" align=\"right\">comment:126</div>\n\nReplying to [@miguelmarco](#comment%3A125):\n> In the sacond case, the class documentation states that the strands of the braid that have no crossings are ignored. Considering that, the result is correct.\n\nAh, sorry, you're right, I missed that.\n\n> Maybe we should change that anyways. But would involve some redeisgn of the internal data structures.\n\nPersonally, I would find that more natural.",
    "created_at": "2015-08-09T17:05:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225392",
    "user": "https://github.com/fuglede"
}
```

<div id="comment:126" align="right">comment:126</div>

Replying to [@miguelmarco](#comment%3A125):
> In the sacond case, the class documentation states that the strands of the braid that have no crossings are ignored. Considering that, the result is correct.

Ah, sorry, you're right, I missed that.

> Maybe we should change that anyways. But would involve some redeisgn of the internal data structures.

Personally, I would find that more natural.



---

archive/issue_comments_225393.json:
```json
{
    "body": "<div id=\"comment:127\" align=\"right\">comment:127</div>\n\nI get tthe following errors:\n\n```\n\nRunning doctests with ID 2015-08-10-14-07-03-076dea73.\nGit branch: ticket/17030\nUsing --optional=gdb,mpir,python2,sage,scons,tides\nDoctesting 1 file.\nsage -t --warn-long 59.0 src/sage/knots/link.py\n**********************************************************************\nFile \"src/sage/knots/link.py\", line 1309, in sage.knots.link.Link.jones_polynomial\nFailed example:\n    L.jones_polynomial()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.knots.link.Link.jones_polynomial[1]>\", line 1, in <module>\n        L.jones_polynomial()\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py\", line 1323, in jones_polynomial\n        poly = self._bracket_()\n      File \"sage/misc/cachefunc.pyx\", line 1888, in sage.misc.cachefunc.CachedMethodCaller.__call__ (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:11438)\n        w = self._cachedmethod._instance_call(self._instance, *args, **kwds)\n      File \"sage/misc/cachefunc.pyx\", line 2544, in sage.misc.cachefunc.CachedMethod._instance_call (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:14884)\n        return self._cachedfunc.f(inst, *args, **kwds)\n    TypeError: _bracket_() takes exactly 2 arguments (1 given)\n**********************************************************************\nFile \"src/sage/knots/link.py\", line 1312, in sage.knots.link.Link.jones_polynomial\nFailed example:\n    L.jones_polynomial()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.knots.link.Link.jones_polynomial[3]>\", line 1, in <module>\n        L.jones_polynomial()\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py\", line 1323, in jones_polynomial\n        poly = self._bracket_()\n      File \"sage/misc/cachefunc.pyx\", line 1888, in sage.misc.cachefunc.CachedMethodCaller.__call__ (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:11438)\n        w = self._cachedmethod._instance_call(self._instance, *args, **kwds)\n      File \"sage/misc/cachefunc.pyx\", line 2544, in sage.misc.cachefunc.CachedMethod._instance_call (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:14884)\n        return self._cachedfunc.f(inst, *args, **kwds)\n    TypeError: _bracket_() takes exactly 2 arguments (1 given)\n**********************************************************************\nFile \"src/sage/knots/link.py\", line 1316, in sage.knots.link.Link.jones_polynomial\nFailed example:\n    L.jones_polynomial()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.knots.link.Link.jones_polynomial[6]>\", line 1, in <module>\n        L.jones_polynomial()\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py\", line 1323, in jones_polynomial\n        poly = self._bracket_()\n      File \"sage/misc/cachefunc.pyx\", line 1888, in sage.misc.cachefunc.CachedMethodCaller.__call__ (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:11438)\n        w = self._cachedmethod._instance_call(self._instance, *args, **kwds)\n      File \"sage/misc/cachefunc.pyx\", line 2544, in sage.misc.cachefunc.CachedMethod._instance_call (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:14884)\n        return self._cachedfunc.f(inst, *args, **kwds)\n    TypeError: _bracket_() takes exactly 2 arguments (1 given)\n**********************************************************************\nFile \"src/sage/knots/link.py\", line 1320, in sage.knots.link.Link.jones_polynomial\nFailed example:\n    L.jones_polynomial()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.knots.link.Link.jones_polynomial[9]>\", line 1, in <module>\n        L.jones_polynomial()\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py\", line 1323, in jones_polynomial\n        poly = self._bracket_()\n      File \"sage/misc/cachefunc.pyx\", line 1888, in sage.misc.cachefunc.CachedMethodCaller.__call__ (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:11438)\n        w = self._cachedmethod._instance_call(self._instance, *args, **kwds)\n      File \"sage/misc/cachefunc.pyx\", line 2544, in sage.misc.cachefunc.CachedMethod._instance_call (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:14884)\n        return self._cachedfunc.f(inst, *args, **kwds)\n    TypeError: _bracket_() takes exactly 2 arguments (1 given)\n**********************************************************************\nFile \"src/sage/knots/link.py\", line 1342, in sage.knots.link.Link._bracket_\nFailed example:\n    L._bracket_()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.knots.link.Link._bracket_[1]>\", line 1, in <module>\n        L._bracket_()\n      File \"sage/misc/cachefunc.pyx\", line 1888, in sage.misc.cachefunc.CachedMethodCaller.__call__ (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:11438)\n        w = self._cachedmethod._instance_call(self._instance, *args, **kwds)\n      File \"sage/misc/cachefunc.pyx\", line 2544, in sage.misc.cachefunc.CachedMethod._instance_call (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:14884)\n        return self._cachedfunc.f(inst, *args, **kwds)\n    TypeError: _bracket_() takes exactly 2 arguments (1 given)\n**********************************************************************\nFile \"src/sage/knots/link.py\", line 1345, in sage.knots.link.Link._bracket_\nFailed example:\n    L._bracket_()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.knots.link.Link._bracket_[3]>\", line 1, in <module>\n        L._bracket_()\n      File \"sage/misc/cachefunc.pyx\", line 1888, in sage.misc.cachefunc.CachedMethodCaller.__call__ (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:11438)\n        w = self._cachedmethod._instance_call(self._instance, *args, **kwds)\n      File \"sage/misc/cachefunc.pyx\", line 2544, in sage.misc.cachefunc.CachedMethod._instance_call (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:14884)\n        return self._cachedfunc.f(inst, *args, **kwds)\n    TypeError: _bracket_() takes exactly 2 arguments (1 given)\n**********************************************************************\n2 items had failures:\n   2 of   5 in sage.knots.link.Link._bracket_\n   4 of  11 in sage.knots.link.Link.jones_polynomial\n    [221 tests, 6 failures, 1.63 s]\n----------------------------------------------------------------------\nsage -t --warn-long 59.0 src/sage/knots/link.py  # 6 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 1.7 seconds\n    cpu time: 1.6 seconds\n    cumulative wall time: 1.6 seconds\n```\n\nAlso, doctest coverage is not complete:\n\n```\nmmarco@mountain ~/sage $ ./sage -coverage src/sage/knots/link.py\n------------------------------------------------------------------------\nSCORE src/sage/knots/link.py: 93.1% (27 of 29)\n\nMissing doctests:\n     * line 219: def __eq__(self, other)\n     * line 233: def __ne__(self, other)\n```\n\nAbout the splitting of the classes, i think that what should be exposed to the user, is a  function that creates a Link or a Knot deppending of the input. That is: if the user wants to create a Link that happens to be a knot, why shouldn't it have a `arf_invariant`method?",
    "created_at": "2015-08-10T12:09:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225393",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:127" align="right">comment:127</div>

I get tthe following errors:

```

Running doctests with ID 2015-08-10-14-07-03-076dea73.
Git branch: ticket/17030
Using --optional=gdb,mpir,python2,sage,scons,tides
Doctesting 1 file.
sage -t --warn-long 59.0 src/sage/knots/link.py
**********************************************************************
File "src/sage/knots/link.py", line 1309, in sage.knots.link.Link.jones_polynomial
Failed example:
    L.jones_polynomial()
Exception raised:
    Traceback (most recent call last):
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.knots.link.Link.jones_polynomial[1]>", line 1, in <module>
        L.jones_polynomial()
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py", line 1323, in jones_polynomial
        poly = self._bracket_()
      File "sage/misc/cachefunc.pyx", line 1888, in sage.misc.cachefunc.CachedMethodCaller.__call__ (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:11438)
        w = self._cachedmethod._instance_call(self._instance, *args, **kwds)
      File "sage/misc/cachefunc.pyx", line 2544, in sage.misc.cachefunc.CachedMethod._instance_call (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:14884)
        return self._cachedfunc.f(inst, *args, **kwds)
    TypeError: _bracket_() takes exactly 2 arguments (1 given)
**********************************************************************
File "src/sage/knots/link.py", line 1312, in sage.knots.link.Link.jones_polynomial
Failed example:
    L.jones_polynomial()
Exception raised:
    Traceback (most recent call last):
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.knots.link.Link.jones_polynomial[3]>", line 1, in <module>
        L.jones_polynomial()
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py", line 1323, in jones_polynomial
        poly = self._bracket_()
      File "sage/misc/cachefunc.pyx", line 1888, in sage.misc.cachefunc.CachedMethodCaller.__call__ (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:11438)
        w = self._cachedmethod._instance_call(self._instance, *args, **kwds)
      File "sage/misc/cachefunc.pyx", line 2544, in sage.misc.cachefunc.CachedMethod._instance_call (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:14884)
        return self._cachedfunc.f(inst, *args, **kwds)
    TypeError: _bracket_() takes exactly 2 arguments (1 given)
**********************************************************************
File "src/sage/knots/link.py", line 1316, in sage.knots.link.Link.jones_polynomial
Failed example:
    L.jones_polynomial()
Exception raised:
    Traceback (most recent call last):
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.knots.link.Link.jones_polynomial[6]>", line 1, in <module>
        L.jones_polynomial()
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py", line 1323, in jones_polynomial
        poly = self._bracket_()
      File "sage/misc/cachefunc.pyx", line 1888, in sage.misc.cachefunc.CachedMethodCaller.__call__ (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:11438)
        w = self._cachedmethod._instance_call(self._instance, *args, **kwds)
      File "sage/misc/cachefunc.pyx", line 2544, in sage.misc.cachefunc.CachedMethod._instance_call (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:14884)
        return self._cachedfunc.f(inst, *args, **kwds)
    TypeError: _bracket_() takes exactly 2 arguments (1 given)
**********************************************************************
File "src/sage/knots/link.py", line 1320, in sage.knots.link.Link.jones_polynomial
Failed example:
    L.jones_polynomial()
Exception raised:
    Traceback (most recent call last):
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.knots.link.Link.jones_polynomial[9]>", line 1, in <module>
        L.jones_polynomial()
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/knots/link.py", line 1323, in jones_polynomial
        poly = self._bracket_()
      File "sage/misc/cachefunc.pyx", line 1888, in sage.misc.cachefunc.CachedMethodCaller.__call__ (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:11438)
        w = self._cachedmethod._instance_call(self._instance, *args, **kwds)
      File "sage/misc/cachefunc.pyx", line 2544, in sage.misc.cachefunc.CachedMethod._instance_call (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:14884)
        return self._cachedfunc.f(inst, *args, **kwds)
    TypeError: _bracket_() takes exactly 2 arguments (1 given)
**********************************************************************
File "src/sage/knots/link.py", line 1342, in sage.knots.link.Link._bracket_
Failed example:
    L._bracket_()
Exception raised:
    Traceback (most recent call last):
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.knots.link.Link._bracket_[1]>", line 1, in <module>
        L._bracket_()
      File "sage/misc/cachefunc.pyx", line 1888, in sage.misc.cachefunc.CachedMethodCaller.__call__ (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:11438)
        w = self._cachedmethod._instance_call(self._instance, *args, **kwds)
      File "sage/misc/cachefunc.pyx", line 2544, in sage.misc.cachefunc.CachedMethod._instance_call (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:14884)
        return self._cachedfunc.f(inst, *args, **kwds)
    TypeError: _bracket_() takes exactly 2 arguments (1 given)
**********************************************************************
File "src/sage/knots/link.py", line 1345, in sage.knots.link.Link._bracket_
Failed example:
    L._bracket_()
Exception raised:
    Traceback (most recent call last):
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.knots.link.Link._bracket_[3]>", line 1, in <module>
        L._bracket_()
      File "sage/misc/cachefunc.pyx", line 1888, in sage.misc.cachefunc.CachedMethodCaller.__call__ (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:11438)
        w = self._cachedmethod._instance_call(self._instance, *args, **kwds)
      File "sage/misc/cachefunc.pyx", line 2544, in sage.misc.cachefunc.CachedMethod._instance_call (/home/mmarco/sage/src/build/cythonized/sage/misc/cachefunc.c:14884)
        return self._cachedfunc.f(inst, *args, **kwds)
    TypeError: _bracket_() takes exactly 2 arguments (1 given)
**********************************************************************
2 items had failures:
   2 of   5 in sage.knots.link.Link._bracket_
   4 of  11 in sage.knots.link.Link.jones_polynomial
    [221 tests, 6 failures, 1.63 s]
----------------------------------------------------------------------
sage -t --warn-long 59.0 src/sage/knots/link.py  # 6 doctests failed
----------------------------------------------------------------------
Total time for all tests: 1.7 seconds
    cpu time: 1.6 seconds
    cumulative wall time: 1.6 seconds
```

Also, doctest coverage is not complete:

```
mmarco@mountain ~/sage $ ./sage -coverage src/sage/knots/link.py
------------------------------------------------------------------------
SCORE src/sage/knots/link.py: 93.1% (27 of 29)

Missing doctests:
     * line 219: def __eq__(self, other)
     * line 233: def __ne__(self, other)
```

About the splitting of the classes, i think that what should be exposed to the user, is a  function that creates a Link or a Knot deppending of the input. That is: if the user wants to create a Link that happens to be a knot, why shouldn't it have a `arf_invariant`method?



---

archive/issue_comments_225394.json:
```json
{
    "body": "<div id=\"comment:128\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f4ec1977612c42da767931683dae92ba17e4bb0\"><code>8f4ec19</code></a></td><td><code>Commiting some additional fixes.</code></td></tr></table>\n",
    "created_at": "2015-08-10T15:40:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225394",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:128"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f4ec1977612c42da767931683dae92ba17e4bb0"><code>8f4ec19</code></a></td><td><code>Commiting some additional fixes.</code></td></tr></table>




---

archive/issue_comments_225395.json:
```json
{
    "body": "Changed commit from **[`06aad78`](https://github.com/sagemath/sagetrac-mirror/commit/06aad784cdd03604d77f9f9c7e6c9332a4982fc6)** to **[`8f4ec19`](https://github.com/sagemath/sagetrac-mirror/commit/8f4ec1977612c42da767931683dae92ba17e4bb0)**",
    "created_at": "2015-08-10T15:40:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225395",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`06aad78`](https://github.com/sagemath/sagetrac-mirror/commit/06aad784cdd03604d77f9f9c7e6c9332a4982fc6)** to **[`8f4ec19`](https://github.com/sagemath/sagetrac-mirror/commit/8f4ec1977612c42da767931683dae92ba17e4bb0)**



---

archive/issue_comments_225396.json:
```json
{
    "body": "<div id=\"comment:129\" align=\"right\">comment:129</div>\n\nHmm...weird, somehow some of my changes didn't get committed previously (most likely I forgot).\n\nI don't like always doing an expensive check of the input with `Link`, even with a `check`. If the user think it's a knot or wants a knot, then they should create a `Knot` instance. Otherwise they are probably looking a links. We could put an example about this. IMO we do the same thing across Sage. The most direct comparison is with posets/lattices, but it also is similar to fraction fields, if you create elements that are of the proper base ring (say polynomials instead of rational functions).\n\nPS - With high probability, knot theorists wanting to create knots are going to tab-complete find `Knot` before `Link` (if they even discover it).",
    "created_at": "2015-08-10T15:51:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225396",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:129" align="right">comment:129</div>

Hmm...weird, somehow some of my changes didn't get committed previously (most likely I forgot).

I don't like always doing an expensive check of the input with `Link`, even with a `check`. If the user think it's a knot or wants a knot, then they should create a `Knot` instance. Otherwise they are probably looking a links. We could put an example about this. IMO we do the same thing across Sage. The most direct comparison is with posets/lattices, but it also is similar to fraction fields, if you create elements that are of the proper base ring (say polynomials instead of rational functions).

PS - With high probability, knot theorists wanting to create knots are going to tab-complete find `Knot` before `Link` (if they even discover it).



---

archive/issue_comments_225397.json:
```json
{
    "body": "<div id=\"comment:130\" align=\"right\">comment:130</div>\n\nWell, the check doesn't need to be expensive at all. What do other people think?\n\nIn any case, at a very minumum, we should have conversions from knot to link and vice-versa.",
    "created_at": "2015-08-10T15:58:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225397",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:130" align="right">comment:130</div>

Well, the check doesn't need to be expensive at all. What do other people think?

In any case, at a very minumum, we should have conversions from knot to link and vice-versa.



---

archive/issue_comments_225398.json:
```json
{
    "body": "<div id=\"comment:131\" align=\"right\">comment:131</div>\n\nGetting the number of (connected) components seems very expensive from the code, but I haven't done any profiling. To compute it, we have to get the PD code (this looks like the most expensive part), construct a graph, and check the number of connected components on that. Is there a faster/better way to check?\n\nI don't think we need a conversion from a knot to a link because of subclassing, however I'm not opposed to handling a `Link` as input to `Knot`/`Link`.",
    "created_at": "2015-08-10T16:04:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225398",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:131" align="right">comment:131</div>

Getting the number of (connected) components seems very expensive from the code, but I haven't done any profiling. To compute it, we have to get the PD code (this looks like the most expensive part), construct a graph, and check the number of connected components on that. Is there a faster/better way to check?

I don't think we need a conversion from a knot to a link because of subclassing, however I'm not opposed to handling a `Link` as input to `Knot`/`Link`.



---

archive/issue_comments_225399.json:
```json
{
    "body": "<div id=\"comment:132\" align=\"right\">comment:132</div>\n\nReplying to [@tscrim](#comment%3A131):\n> Getting the number of (connected) components seems very expensive from the code, but I haven't done any profiling. To compute it, we have to get the PD code (this looks like the most expensive part), construct a graph, and check the number of connected components on that. Is there a faster/better way to check?\n> \n> I don't think we need a conversion from a knot to a link because of subclassing, however I'm not opposed to handling a `Link` as input to `Knot`/`Link`.\n\nSorry for coming in a bit from the sideline here, but if the link is given as a trace closure of a braid, the number of components is straightforward to compute: https://github.com/fuglede/jones-representation/blob/9305852913b9092f4ef18e547400fb8b66f33079/curverep.sage#L394",
    "created_at": "2015-08-10T16:08:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225399",
    "user": "https://github.com/fuglede"
}
```

<div id="comment:132" align="right">comment:132</div>

Replying to [@tscrim](#comment%3A131):
> Getting the number of (connected) components seems very expensive from the code, but I haven't done any profiling. To compute it, we have to get the PD code (this looks like the most expensive part), construct a graph, and check the number of connected components on that. Is there a faster/better way to check?
> 
> I don't think we need a conversion from a knot to a link because of subclassing, however I'm not opposed to handling a `Link` as input to `Knot`/`Link`.

Sorry for coming in a bit from the sideline here, but if the link is given as a trace closure of a braid, the number of components is straightforward to compute: https://github.com/fuglede/jones-representation/blob/9305852913b9092f4ef18e547400fb8b66f33079/curverep.sage#L394



---

archive/issue_comments_225400.json:
```json
{
    "body": "<div id=\"comment:133\" align=\"right\">comment:133</div>\n\nIt deppends on the input. If the input is the oriented Gauss code, you have the number of components for free. If it is a braid, it is just the cycle representation of the corresponding permutation. If it is a PD code, then essentially it is a matter of computing the connected components of a graph.",
    "created_at": "2015-08-10T16:15:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225400",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:133" align="right">comment:133</div>

It deppends on the input. If the input is the oriented Gauss code, you have the number of components for free. If it is a braid, it is just the cycle representation of the corresponding permutation. If it is a PD code, then essentially it is a matter of computing the connected components of a graph.



---

archive/issue_comments_225401.json:
```json
{
    "body": "<div id=\"comment:134\" align=\"right\">comment:134</div>\n\nReplying to [@fuglede](#comment%3A132):\n> Sorry for coming in a bit from the sideline here, but if the link is given as a trace closure of a braid, the number of components is straightforward to compute: https://github.com/fuglede/jones-representation/blob/9305852913b9092f4ef18e547400fb8b66f33079/curverep.sage#L394\n\nAs a bit of an aside for those interested, I included the methods from the link above in #19011.",
    "created_at": "2015-08-11T13:42:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225401",
    "user": "https://github.com/fuglede"
}
```

<div id="comment:134" align="right">comment:134</div>

Replying to [@fuglede](#comment%3A132):
> Sorry for coming in a bit from the sideline here, but if the link is given as a trace closure of a braid, the number of components is straightforward to compute: https://github.com/fuglede/jones-representation/blob/9305852913b9092f4ef18e547400fb8b66f33079/curverep.sage#L394

As a bit of an aside for those interested, I included the methods from the link above in #19011.



---

archive/issue_comments_225402.json:
```json
{
    "body": "<div id=\"comment:135\" align=\"right\">comment:135</div>\n\nTravis's latest changes look good to me.",
    "created_at": "2015-08-12T12:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225402",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:135" align="right">comment:135</div>

Travis's latest changes look good to me.



---

archive/issue_comments_225403.json:
```json
{
    "body": "<div id=\"comment:136\" align=\"right\">comment:136</div>\n\nWith #19011 merged, I ran a number of different tests to compare the run times of the two algorithms for Jones polynomial computation (the one from #19011 and one from here). See [this gist](https://gist.github.com/fuglede/da35ac110ee17dc06beb#file-_jones_polynomial_comparison-md) for the results. Depending on the exact use case, there is a huge difference in performance, and optimally we would include some logic to figure out which algorithm sage should use.",
    "created_at": "2015-09-16T15:50:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225403",
    "user": "https://github.com/fuglede"
}
```

<div id="comment:136" align="right">comment:136</div>

With #19011 merged, I ran a number of different tests to compare the run times of the two algorithms for Jones polynomial computation (the one from #19011 and one from here). See [this gist](https://gist.github.com/fuglede/da35ac110ee17dc06beb#file-_jones_polynomial_comparison-md) for the results. Depending on the exact use case, there is a huge difference in performance, and optimally we would include some logic to figure out which algorithm sage should use.



---

archive/issue_comments_225404.json:
```json
{
    "body": "<div id=\"comment:137\" align=\"right\">comment:137</div>\n\nFrom your data, it looks like the implementation on #19011 is the better one to use (except for perhaps small cases). My recommendation would be to add an `algorithm` argument for the Jones polynomial which dispatches to the correct algorithm (with the default being #19011). That way we can use both as extra verification of the result and the user can choose the other algorithm if the default happens to be slower.",
    "created_at": "2015-09-16T22:25:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225404",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:137" align="right">comment:137</div>

From your data, it looks like the implementation on #19011 is the better one to use (except for perhaps small cases). My recommendation would be to add an `algorithm` argument for the Jones polynomial which dispatches to the correct algorithm (with the default being #19011). That way we can use both as extra verification of the result and the user can choose the other algorithm if the default happens to be slower.



---

archive/issue_comments_225405.json:
```json
{
    "body": "<div id=\"comment:138\" align=\"right\">comment:138</div>\n\nSounds reasonable enough. One thing I didn't consider by the way, is how long it actually takes to make the relevant conversions between the planar diagram and braid presentations of links.\n\nAnd by the way, one could of course ask the same question about Alexander polynomials. Here, the algorithms are much more comparable and the difference might boil down to micro-optimisations(?):\n\nhttps://gist.githubusercontent.com/fuglede/da35ac110ee17dc06beb/raw/c8f80d6f3d10d917a099d9559c58674b59cf686e/alexandercombined.png\n\nOn a related note, I think it would make sense to take the closure-related methods from `Braid` and refactor into `Link`, just because they logically fit there.",
    "created_at": "2015-09-17T08:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225405",
    "user": "https://github.com/fuglede"
}
```

<div id="comment:138" align="right">comment:138</div>

Sounds reasonable enough. One thing I didn't consider by the way, is how long it actually takes to make the relevant conversions between the planar diagram and braid presentations of links.

And by the way, one could of course ask the same question about Alexander polynomials. Here, the algorithms are much more comparable and the difference might boil down to micro-optimisations(?):

https://gist.githubusercontent.com/fuglede/da35ac110ee17dc06beb/raw/c8f80d6f3d10d917a099d9559c58674b59cf686e/alexandercombined.png

On a related note, I think it would make sense to take the closure-related methods from `Braid` and refactor into `Link`, just because they logically fit there.



---

archive/issue_comments_225406.json:
```json
{
    "body": "<div id=\"comment:139\" align=\"right\">comment:139</div>\n\n@fuglede\nAre you planning to make that change?\n\n`@`everyone\nWhat else needs to be done to get this merged in? Is the Jones polynomial issue something that needs a serious fix? I think this ticket has been hanging around far too long and otherwise is in good enough shape to get a positive review.",
    "created_at": "2015-09-19T17:45:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225406",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:139" align="right">comment:139</div>

@fuglede
Are you planning to make that change?

`@`everyone
What else needs to be done to get this merged in? Is the Jones polynomial issue something that needs a serious fix? I think this ticket has been hanging around far too long and otherwise is in good enough shape to get a positive review.



---

archive/issue_comments_225407.json:
```json
{
    "body": "<div id=\"comment:140\" align=\"right\">comment:140</div>\n\nIt is not as polished as i would like, but i don't see it improving much anytime soon.\n\nI think it is good enough to get it rolling. It would be better if we merge it now and then slowly do the small improvements that it needs, than to keep waiting for a complete exhaustive review process leading to a polished ticket that might never happen.",
    "created_at": "2015-09-19T20:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225407",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:140" align="right">comment:140</div>

It is not as polished as i would like, but i don't see it improving much anytime soon.

I think it is good enough to get it rolling. It would be better if we merge it now and then slowly do the small improvements that it needs, than to keep waiting for a complete exhaustive review process leading to a polished ticket that might never happen.



---

archive/issue_comments_225408.json:
```json
{
    "body": "<div id=\"comment:141\" align=\"right\">comment:141</div>\n\nI pushed those changes to `u/fuglede/17030` ([GH mirror](https://github.com/fuglede/sage/commit/72bb738149541d2360c7ab131ae8830c5dbb8aee) of the commit if you just want to have a quick look). One obvious pain is that the two algorithms give different results when the link is not the trace closure of the braid used to initialize it, which happens when one has crossing-less strands, as the following example illustrates:\n\n```\nsage: B = BraidGroup(3)\nsage: b = B([1])\nsage: L = Link(b)\nsage: b.components_in_closure()\n2\nsage: L.number_of_components()\n1\nsage: L.jones_polynomial(algorithm='jonesrep')\n-sqrt(t) - 1/sqrt(t)\nsage: L.jones_polynomial(algorithm='statesum')\n1\n```\n\nOf course, this is not specific to Jones related stuff:\n\n```\nsage: B = BraidGroup(3)\nsage: b = B([1])\nsage: b.alexander_polynomial()\n0\nsage: Link(b).alexander_polynomial()\n1\n```\n\nThe branch also corrects a couple of typos.",
    "created_at": "2015-09-22T16:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225408",
    "user": "https://github.com/fuglede"
}
```

<div id="comment:141" align="right">comment:141</div>

I pushed those changes to `u/fuglede/17030` ([GH mirror](https://github.com/fuglede/sage/commit/72bb738149541d2360c7ab131ae8830c5dbb8aee) of the commit if you just want to have a quick look). One obvious pain is that the two algorithms give different results when the link is not the trace closure of the braid used to initialize it, which happens when one has crossing-less strands, as the following example illustrates:

```
sage: B = BraidGroup(3)
sage: b = B([1])
sage: L = Link(b)
sage: b.components_in_closure()
2
sage: L.number_of_components()
1
sage: L.jones_polynomial(algorithm='jonesrep')
-sqrt(t) - 1/sqrt(t)
sage: L.jones_polynomial(algorithm='statesum')
1
```

Of course, this is not specific to Jones related stuff:

```
sage: B = BraidGroup(3)
sage: b = B([1])
sage: b.alexander_polynomial()
0
sage: Link(b).alexander_polynomial()
1
```

The branch also corrects a couple of typos.



---

archive/issue_comments_225409.json:
```json
{
    "body": "<div id=\"comment:142\" align=\"right\">comment:142</div>\n\nActually, I just noticed that the `alexander_polynomial` method currently gives incorrect results, even when no braid strands are ignored:\n\n```\nsage: B = BraidGroup(4)\nsage: b = B([1,3])  # A braid where all strands play a role\nsage: L = Link(b)   # Two disjoint unknots\nsage: b.alexander_polynomial()\n0\nsage: L.alexander_polynomial()\n1\n```\n\nIn this case, 0 is the correct result as the link bounds a disconnected oriented surface (two disjoint disks).\n\nTo debug it, it would be helpful to document what `_homology_generators_` actually returns: according to the current docs, it returns 'homology generators' but it currently outputs a list of integers. Perhaps the constructed Seifert surface is not connected, or something like that? This would explain why `seifert_matrix` gives the following output:\n\n```\nsage: L.seifert_matrix()\n[]\n```\n\nIn this particular case, the simplest Seifert surface is probably the cylinder whose corresponding Seifert matrix is the 1x1 zero matrix.\n\nSomething else that seems weird is the following:\n\n```\nsage: L.genus()\n-2\n```",
    "created_at": "2015-09-23T15:12:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225409",
    "user": "https://github.com/fuglede"
}
```

<div id="comment:142" align="right">comment:142</div>

Actually, I just noticed that the `alexander_polynomial` method currently gives incorrect results, even when no braid strands are ignored:

```
sage: B = BraidGroup(4)
sage: b = B([1,3])  # A braid where all strands play a role
sage: L = Link(b)   # Two disjoint unknots
sage: b.alexander_polynomial()
0
sage: L.alexander_polynomial()
1
```

In this case, 0 is the correct result as the link bounds a disconnected oriented surface (two disjoint disks).

To debug it, it would be helpful to document what `_homology_generators_` actually returns: according to the current docs, it returns 'homology generators' but it currently outputs a list of integers. Perhaps the constructed Seifert surface is not connected, or something like that? This would explain why `seifert_matrix` gives the following output:

```
sage: L.seifert_matrix()
[]
```

In this particular case, the simplest Seifert surface is probably the cylinder whose corresponding Seifert matrix is the 1x1 zero matrix.

Something else that seems weird is the following:

```
sage: L.genus()
-2
```



---

archive/issue_events_241148.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-28T20:08:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241148"
}
```



---

archive/issue_events_241149.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-28T20:08:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241149"
}
```



---

archive/issue_events_241150.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-12-30T18:13:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241150"
}
```



---

archive/issue_events_241151.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-12-30T18:13:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241151"
}
```



---

archive/issue_comments_225410.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+I think it is a pitty that this is bitrotting, so I would like to make a call for giving it a push. I think we are not really that far from having something merge-able if we make a little sprint.\n \n+Someone else is up for it? \n``````\n",
    "created_at": "2016-02-22T10:42:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225410",
    "user": "https://github.com/miguelmarco"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+I think it is a pitty that this is bitrotting, so I would like to make a call for giving it a push. I think we are not really that far from having something merge-able if we make a little sprint.
 
+Someone else is up for it? 
``````




---

archive/issue_comments_225411.json:
```json
{
    "body": "<div id=\"comment:146\" align=\"right\">comment:146</div>\n\nI have some people (actual knot theorists) I've recruited to just try it out in a shared SMC instance (nothing necessary for them other than to try it and verify it performs as advertised) but I just haven't had time yet, was hoping for March :( but of course if you can finish this before that it would stupendous.",
    "created_at": "2016-02-22T11:55:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225411",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:146" align="right">comment:146</div>

I have some people (actual knot theorists) I've recruited to just try it out in a shared SMC instance (nothing necessary for them other than to try it and verify it performs as advertised) but I just haven't had time yet, was hoping for March :( but of course if you can finish this before that it would stupendous.



---

archive/issue_comments_225412.json:
```json
{
    "body": "<div id=\"comment:147\" align=\"right\">comment:147</div>\n\nCan you add me to the SMC project? Aslo, take a look at\n\nhttps://groups.google.com/forum/#!topic/sage-devel/4hp4SvCfEP0\n\nIf some time in March is good for you, it is ok for me too.",
    "created_at": "2016-02-22T13:57:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225412",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:147" align="right">comment:147</div>

Can you add me to the SMC project? Aslo, take a look at

https://groups.google.com/forum/#!topic/sage-devel/4hp4SvCfEP0

If some time in March is good for you, it is ok for me too.



---

archive/issue_comments_225413.json:
```json
{
    "body": "<div id=\"comment:148\" align=\"right\">comment:148</div>\n\nThe biggest issue is fixing the discrepancy in `alexander_polynomial` noted in [comment:142](#comment%3A142). I also took a look at `homology_generators`, but I had no idea what they were suppose to do either.",
    "created_at": "2016-02-22T14:32:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225413",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:148" align="right">comment:148</div>

The biggest issue is fixing the discrepancy in `alexander_polynomial` noted in [comment:142](#comment%3A142). I also took a look at `homology_generators`, but I had no idea what they were suppose to do either.



---

archive/issue_comments_225414.json:
```json
{
    "body": "<div id=\"comment:149\" align=\"right\">comment:149</div>\n\n> Can you add me to the SMC project? Aslo, take a look at\n\nWell, I haven't created it yet :) but will do so if I am indeed able to get around to it.",
    "created_at": "2016-02-22T16:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225414",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:149" align="right">comment:149</div>

> Can you add me to the SMC project? Aslo, take a look at

Well, I haven't created it yet :) but will do so if I am indeed able to get around to it.



---

archive/issue_comments_225415.json:
```json
{
    "body": "<div id=\"comment:150\" align=\"right\">comment:150</div>\n\nThe reference to the `seifert_matrix` construction is the following by Julia Collins :\n\nhttp://www.maths.ed.ac.uk/~jcollins/SeifertMatrix/\n\nThe results from the site are as follows :\n\nYou entered the braid [1,3] (Alphabetical notation: AC)\nThis has 2 component(s), i.e. it is a link.\nThe Seifert matrix is: [[]]\nThe genus of the Seifert surface is 0, and it has 2 connected component(s).\nThe braid is a disjoint union of unrelated subbraids: { [1], [3] }.\n\nAlso the reference to `homology_generators`, `genus` is the same. Though the results of the genus are different to what is reflected.",
    "created_at": "2016-03-08T07:11:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225415",
    "user": "https://github.com/amitjamadagni"
}
```

<div id="comment:150" align="right">comment:150</div>

The reference to the `seifert_matrix` construction is the following by Julia Collins :

http://www.maths.ed.ac.uk/~jcollins/SeifertMatrix/

The results from the site are as follows :

You entered the braid [1,3] (Alphabetical notation: AC)
This has 2 component(s), i.e. it is a link.
The Seifert matrix is: [[]]
The genus of the Seifert surface is 0, and it has 2 connected component(s).
The braid is a disjoint union of unrelated subbraids: { [1], [3] }.

Also the reference to `homology_generators`, `genus` is the same. Though the results of the genus are different to what is reflected.



---

archive/issue_comments_225416.json:
```json
{
    "body": "<div id=\"comment:151\" align=\"right\">comment:151</div>\n\nReplying to [@kcrisman](#comment%3A146):\n> I have some people (actual knot theorists) I've recruited to just try it out in a shared SMC instance (nothing necessary for them other than to try it and verify it performs as advertised) but I just haven't had time yet, was hoping for March :( but of course if you can finish this before that it would stupendous.\n\nany news about it?",
    "created_at": "2016-03-17T09:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225416",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:151" align="right">comment:151</div>

Replying to [@kcrisman](#comment%3A146):
> I have some people (actual knot theorists) I've recruited to just try it out in a shared SMC instance (nothing necessary for them other than to try it and verify it performs as advertised) but I just haven't had time yet, was hoping for March :( but of course if you can finish this before that it would stupendous.

any news about it?



---

archive/issue_comments_225417.json:
```json
{
    "body": "<div id=\"comment:152\" align=\"right\">comment:152</div>\n\nNo, but hope springs eternal... I do notice that the branch is red for some reason now.",
    "created_at": "2016-03-17T12:44:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225417",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:152" align="right">comment:152</div>

No, but hope springs eternal... I do notice that the branch is red for some reason now.



---

archive/issue_comments_225418.json:
```json
{
    "body": "Changed commit from **[`8f4ec19`](https://github.com/sagemath/sagetrac-mirror/commit/8f4ec1977612c42da767931683dae92ba17e4bb0)** to **[`79d175a`](https://github.com/sagemath/sagetrac-mirror/commit/79d175ab20b41008e74ab0895b4781d7358b6dd5)**",
    "created_at": "2016-03-18T01:21:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225418",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8f4ec19`](https://github.com/sagemath/sagetrac-mirror/commit/8f4ec1977612c42da767931683dae92ba17e4bb0)** to **[`79d175a`](https://github.com/sagemath/sagetrac-mirror/commit/79d175ab20b41008e74ab0895b4781d7358b6dd5)**



---

archive/issue_comments_225419.json:
```json
{
    "body": "<div id=\"comment:153\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79d175ab20b41008e74ab0895b4781d7358b6dd5\"><code>79d175a</code></a></td><td><code>Merge branch 'public/ticket/17030' of trac.sagemath.org:sage into public/ticket/17030</code></td></tr></table>\n",
    "created_at": "2016-03-18T01:21:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225419",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:153"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79d175ab20b41008e74ab0895b4781d7358b6dd5"><code>79d175a</code></a></td><td><code>Merge branch 'public/ticket/17030' of trac.sagemath.org:sage into public/ticket/17030</code></td></tr></table>




---

archive/issue_comments_225420.json:
```json
{
    "body": "<div id=\"comment:154\" align=\"right\">comment:154</div>\n\nReplying to [@kcrisman](#comment%3A152):\nI do notice that the branch is red for some reason now.\n\nThis was a trivial merge conflict in `all.py`.",
    "created_at": "2016-03-18T01:21:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225420",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:154" align="right">comment:154</div>

Replying to [@kcrisman](#comment%3A152):
I do notice that the branch is red for some reason now.

This was a trivial merge conflict in `all.py`.



---

archive/issue_comments_225421.json:
```json
{
    "body": "<div id=\"comment:155\" align=\"right\">comment:155</div>\n\nLinear algebra question: What is the determinant of a 0x0 matrix? FYI - The Sage answer:\n\n```\nsage: mat = matrix(ZZ, 0, 0)\nsage: mat.det()\n1\n```\nThis is why the Alexander polynomial is returning 1 for the example in [comment:142](#comment%3A142). IMO, I think it should be 0 because the sum in the definition of the determinant is vacuous. (A related question, is a 0x0 matrix invertible?)\n\nI get the genus is 0 for the example in [comment:142](#comment%3A142) with the current version.\n\nI'm starting to understand what is going on with the code. The homology generators is setting a value of 0 if a particular pair `(L[i], L[i+1])` in the braid word component vector does not contribute to a homology generator. The braid word components are a nice reduced expression to compute these generators. See Lemma 3.1 in http://www.maths.ed.ac.uk/~jcollins/SeifertMatrix/SeifertMatrix.pdf.\n\nI'm going through right now and doing some code improvements, seeing if I can simplify things, and working around the issue noted above.",
    "created_at": "2016-03-18T02:03:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225421",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:155" align="right">comment:155</div>

Linear algebra question: What is the determinant of a 0x0 matrix? FYI - The Sage answer:

```
sage: mat = matrix(ZZ, 0, 0)
sage: mat.det()
1
```
This is why the Alexander polynomial is returning 1 for the example in [comment:142](#comment%3A142). IMO, I think it should be 0 because the sum in the definition of the determinant is vacuous. (A related question, is a 0x0 matrix invertible?)

I get the genus is 0 for the example in [comment:142](#comment%3A142) with the current version.

I'm starting to understand what is going on with the code. The homology generators is setting a value of 0 if a particular pair `(L[i], L[i+1])` in the braid word component vector does not contribute to a homology generator. The braid word components are a nice reduced expression to compute these generators. See Lemma 3.1 in http://www.maths.ed.ac.uk/~jcollins/SeifertMatrix/SeifertMatrix.pdf.

I'm going through right now and doing some code improvements, seeing if I can simplify things, and working around the issue noted above.



---

archive/issue_comments_225422.json:
```json
{
    "body": "Changed commit from **[`79d175a`](https://github.com/sagemath/sagetrac-mirror/commit/79d175ab20b41008e74ab0895b4781d7358b6dd5)** to **[`b50b8bd`](https://github.com/sagemath/sagetrac-mirror/commit/b50b8bde559c63cc794b8702efe280bff1674ce7)**",
    "created_at": "2016-03-18T04:26:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225422",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`79d175a`](https://github.com/sagemath/sagetrac-mirror/commit/79d175ab20b41008e74ab0895b4781d7358b6dd5)** to **[`b50b8bd`](https://github.com/sagemath/sagetrac-mirror/commit/b50b8bde559c63cc794b8702efe280bff1674ce7)**



---

archive/issue_comments_225423.json:
```json
{
    "body": "<div id=\"comment:156\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1fd602879055f70430d682d24986b66277b1d144\"><code>1fd6028</code></a></td><td><code>Code improvements and fixes.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b50b8bde559c63cc794b8702efe280bff1674ce7\"><code>b50b8bd</code></a></td><td><code>Some additional documentation additions and code tweaks.</code></td></tr></table>\n",
    "created_at": "2016-03-18T04:26:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225423",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:156"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1fd602879055f70430d682d24986b66277b1d144"><code>1fd6028</code></a></td><td><code>Code improvements and fixes.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b50b8bde559c63cc794b8702efe280bff1674ce7"><code>b50b8bd</code></a></td><td><code>Some additional documentation additions and code tweaks.</code></td></tr></table>




---

archive/issue_comments_225424.json:
```json
{
    "body": "Changed commit from **[`b50b8bd`](https://github.com/sagemath/sagetrac-mirror/commit/b50b8bde559c63cc794b8702efe280bff1674ce7)** to **[`f3c2699`](https://github.com/sagemath/sagetrac-mirror/commit/f3c26992fa3186a7ee1e4bf324e7863b5bff40bf)**",
    "created_at": "2016-03-18T13:09:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225424",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b50b8bd`](https://github.com/sagemath/sagetrac-mirror/commit/b50b8bde559c63cc794b8702efe280bff1674ce7)** to **[`f3c2699`](https://github.com/sagemath/sagetrac-mirror/commit/f3c26992fa3186a7ee1e4bf324e7863b5bff40bf)**



---

archive/issue_comments_225425.json:
```json
{
    "body": "<div id=\"comment:157\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/020dcfb3335c65cb21afed3f59c44d6b67b0920a\"><code>020dcfb</code></a></td><td><code>Merge commit '37ca1e8c73a60aa9cc3243331047cd5febe6b57a' of git://trac.sagemath.org/sage into u/fuglede/17030</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72bb738149541d2360c7ab131ae8830c5dbb8aee\"><code>72bb738</code></a></td><td><code>Move Jones polynomial related methods from braid.py to link.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e18058f91e5bd8fa17a0dcc3f476c613c6138e3c\"><code>e18058f</code></a></td><td><code>Minor fixes to documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f6f6269882f6f8c2a07d3a6c1f9c51d83f37d13\"><code>9f6f626</code></a></td><td><code>Merge branch 'u/fuglede/17030' of trac.sagemath.org:sage into u/fuglede/17030</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3c26992fa3186a7ee1e4bf324e7863b5bff40bf\"><code>f3c2699</code></a></td><td><code>Changing around the Jones polynomial code.</code></td></tr></table>\n",
    "created_at": "2016-03-18T13:09:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225425",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:157"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/020dcfb3335c65cb21afed3f59c44d6b67b0920a"><code>020dcfb</code></a></td><td><code>Merge commit '37ca1e8c73a60aa9cc3243331047cd5febe6b57a' of git://trac.sagemath.org/sage into u/fuglede/17030</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72bb738149541d2360c7ab131ae8830c5dbb8aee"><code>72bb738</code></a></td><td><code>Move Jones polynomial related methods from braid.py to link.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e18058f91e5bd8fa17a0dcc3f476c613c6138e3c"><code>e18058f</code></a></td><td><code>Minor fixes to documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f6f6269882f6f8c2a07d3a6c1f9c51d83f37d13"><code>9f6f626</code></a></td><td><code>Merge branch 'u/fuglede/17030' of trac.sagemath.org:sage into u/fuglede/17030</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3c26992fa3186a7ee1e4bf324e7863b5bff40bf"><code>f3c2699</code></a></td><td><code>Changing around the Jones polynomial code.</code></td></tr></table>




---

archive/issue_comments_225426.json:
```json
{
    "body": "<div id=\"comment:158\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb2d6c5f7f89525bd9150c4097e43bebc0489fe0\"><code>fb2d6c5</code></a></td><td><code>Have the link code actually remove unused strands.</code></td></tr></table>\n",
    "created_at": "2016-03-18T13:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225426",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:158"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb2d6c5f7f89525bd9150c4097e43bebc0489fe0"><code>fb2d6c5</code></a></td><td><code>Have the link code actually remove unused strands.</code></td></tr></table>




---

archive/issue_comments_225427.json:
```json
{
    "body": "Changed commit from **[`f3c2699`](https://github.com/sagemath/sagetrac-mirror/commit/f3c26992fa3186a7ee1e4bf324e7863b5bff40bf)** to **[`fb2d6c5`](https://github.com/sagemath/sagetrac-mirror/commit/fb2d6c5f7f89525bd9150c4097e43bebc0489fe0)**",
    "created_at": "2016-03-18T13:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225427",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f3c2699`](https://github.com/sagemath/sagetrac-mirror/commit/f3c26992fa3186a7ee1e4bf324e7863b5bff40bf)** to **[`fb2d6c5`](https://github.com/sagemath/sagetrac-mirror/commit/fb2d6c5f7f89525bd9150c4097e43bebc0489fe0)**



---

archive/issue_comments_225428.json:
```json
{
    "body": "<div id=\"comment:159\" align=\"right\">comment:159</div>\n\nOkay, I have fixed the code issues I came across, merged in `u/fuglede/17030` but changed how the Jones polynomial was called (in particular, it should be available for the braid group elements), added a hack around the 0x0 matrix determinant issue noted in [comment:155](#comment%3A155), and made it so the link actually removed unused strands from an input as a braid group element. So back to needing review.",
    "created_at": "2016-03-18T13:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225428",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:159" align="right">comment:159</div>

Okay, I have fixed the code issues I came across, merged in `u/fuglede/17030` but changed how the Jones polynomial was called (in particular, it should be available for the braid group elements), added a hack around the 0x0 matrix determinant issue noted in [comment:155](#comment%3A155), and made it so the link actually removed unused strands from an input as a braid group element. So back to needing review.



---

archive/issue_events_241152.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-18T13:59:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241152"
}
```



---

archive/issue_events_241153.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-18T13:59:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241153"
}
```



---

archive/issue_events_241154.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-18T13:59:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241154"
}
```



---

archive/issue_events_241155.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-18T13:59:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241155"
}
```



---

archive/issue_comments_225429.json:
```json
{
    "body": "Changed reviewer from **Miguel Marco, Karl-Dieter Crisman, Fr\u00e9d\u00e9ric Chapoton** to **Miguel Marco, Karl-Dieter Crisman, Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw**",
    "created_at": "2016-03-18T13:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225429",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Miguel Marco, Karl-Dieter Crisman, Frédéric Chapoton** to **Miguel Marco, Karl-Dieter Crisman, Frédéric Chapoton, Travis Scrimshaw**



---

archive/issue_comments_225430.json:
```json
{
    "body": "<div id=\"comment:160\" align=\"right\">comment:160</div>\n\nAlso, should we put a remark somewhere that we might be changing the behavior of how we handle input from the braid group to include unused strands?\n\nOne last remark, there are some oddities with plotting multiple links, but I think we can just put a warning about that for now (unless someone wants to delve into that code). We should also add a few pictures to that doc with the `.. PLOT::` directive...",
    "created_at": "2016-03-18T14:10:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225430",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:160" align="right">comment:160</div>

Also, should we put a remark somewhere that we might be changing the behavior of how we handle input from the braid group to include unused strands?

One last remark, there are some oddities with plotting multiple links, but I think we can just put a warning about that for now (unless someone wants to delve into that code). We should also add a few pictures to that doc with the `.. PLOT::` directive...



---

archive/issue_comments_225431.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1 @@\n-I think it is a pitty that this is bitrotting, so I would like to make a call for giving it a push. I think we are not really that far from having something merge-able if we make a little sprint.\n-\n-Someone else is up for it? \n+We provide a basic implementation of knots and links such as the Seifert matrix, Jones and Alexander polynomials.\n``````\n",
    "created_at": "2016-03-18T14:10:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225431",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1 @@
-I think it is a pitty that this is bitrotting, so I would like to make a call for giving it a push. I think we are not really that far from having something merge-able if we make a little sprint.
-
-Someone else is up for it? 
+We provide a basic implementation of knots and links such as the Seifert matrix, Jones and Alexander polynomials.
``````




---

archive/issue_comments_225432.json:
```json
{
    "body": "<div id=\"comment:161\" align=\"right\">comment:161</div>\n\nThanks a lot ofr the work Travis!\n\nI wrote the code for the plotting, and I am aware that it needs some work, but I think it is good enough for now. +1 to the warning and the pics in the doc.\n\nI hope to have some time in the next week to do a deep review.",
    "created_at": "2016-03-18T16:43:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225432",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:161" align="right">comment:161</div>

Thanks a lot ofr the work Travis!

I wrote the code for the plotting, and I am aware that it needs some work, but I think it is good enough for now. +1 to the warning and the pics in the doc.

I hope to have some time in the next week to do a deep review.



---

archive/issue_comments_225433.json:
```json
{
    "body": "Changed commit from **[`fb2d6c5`](https://github.com/sagemath/sagetrac-mirror/commit/fb2d6c5f7f89525bd9150c4097e43bebc0489fe0)** to **[`1a30f4b`](https://github.com/sagemath/sagetrac-mirror/commit/1a30f4b419d9ff18b490ad029ac11b4d9041ea33)**",
    "created_at": "2016-03-19T03:18:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225433",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fb2d6c5`](https://github.com/sagemath/sagetrac-mirror/commit/fb2d6c5f7f89525bd9150c4097e43bebc0489fe0)** to **[`1a30f4b`](https://github.com/sagemath/sagetrac-mirror/commit/1a30f4b419d9ff18b490ad029ac11b4d9041ea33)**



---

archive/issue_comments_225434.json:
```json
{
    "body": "<div id=\"comment:162\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09b7b7b8048f2488bbd5239cecd22d1c4f0d302f\"><code>09b7b7b</code></a></td><td><code>Added some more complex examples, plots, and warnings.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1e168e9ec840a6b8f2311fe09956c5e9b471e6e\"><code>a1e168e</code></a></td><td><code>Making the conf.py in the doc a symlink.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a30f4b419d9ff18b490ad029ac11b4d9041ea33\"><code>1a30f4b</code></a></td><td><code>A few more documentation additions and tweaks.</code></td></tr></table>\n",
    "created_at": "2016-03-19T03:18:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225434",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:162"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09b7b7b8048f2488bbd5239cecd22d1c4f0d302f"><code>09b7b7b</code></a></td><td><code>Added some more complex examples, plots, and warnings.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1e168e9ec840a6b8f2311fe09956c5e9b471e6e"><code>a1e168e</code></a></td><td><code>Making the conf.py in the doc a symlink.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a30f4b419d9ff18b490ad029ac11b4d9041ea33"><code>1a30f4b</code></a></td><td><code>A few more documentation additions and tweaks.</code></td></tr></table>




---

archive/issue_comments_225435.json:
```json
{
    "body": "<div id=\"comment:163\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25393da7cc5d43ed39160436b7b2be117711771b\"><code>25393da</code></a></td><td><code>A little bit more doc changes.</code></td></tr></table>\n",
    "created_at": "2016-03-19T03:22:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225435",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:163"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25393da7cc5d43ed39160436b7b2be117711771b"><code>25393da</code></a></td><td><code>A little bit more doc changes.</code></td></tr></table>




---

archive/issue_comments_225436.json:
```json
{
    "body": "Changed commit from **[`1a30f4b`](https://github.com/sagemath/sagetrac-mirror/commit/1a30f4b419d9ff18b490ad029ac11b4d9041ea33)** to **[`25393da`](https://github.com/sagemath/sagetrac-mirror/commit/25393da7cc5d43ed39160436b7b2be117711771b)**",
    "created_at": "2016-03-19T03:22:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225436",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1a30f4b`](https://github.com/sagemath/sagetrac-mirror/commit/1a30f4b419d9ff18b490ad029ac11b4d9041ea33)** to **[`25393da`](https://github.com/sagemath/sagetrac-mirror/commit/25393da7cc5d43ed39160436b7b2be117711771b)**



---

archive/issue_comments_225437.json:
```json
{
    "body": "<div id=\"comment:164\" align=\"right\">comment:164</div>\n\nThe issue with plotting seems to be a problem when there are multiple components that can be completely separated, but otherwise it seems to work very well.\n\nI've added a bunch of pictures, the notes/warnings mentioned above, and did a little bit more cleanup. Hopefully this go-around we can get this finished and into Sage.",
    "created_at": "2016-03-19T03:24:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225437",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:164" align="right">comment:164</div>

The issue with plotting seems to be a problem when there are multiple components that can be completely separated, but otherwise it seems to work very well.

I've added a bunch of pictures, the notes/warnings mentioned above, and did a little bit more cleanup. Hopefully this go-around we can get this finished and into Sage.



---

archive/issue_comments_225438.json:
```json
{
    "body": "<div id=\"comment:165\" align=\"right\">comment:165</div>\n\nI created [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/sTQNFjCgXwc) asking about the determinant of a 0x0 matrix. There are good reasons for having it be 1, so we just have to work around that here.",
    "created_at": "2016-03-19T04:12:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225438",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:165" align="right">comment:165</div>

I created [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/sTQNFjCgXwc) asking about the determinant of a 0x0 matrix. There are good reasons for having it be 1, so we just have to work around that here.



---

archive/issue_comments_225439.json:
```json
{
    "body": "<div id=\"comment:166\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/075d7b74a5e4c1026f06c9f03f63c993e646e5d4\"><code>075d7b7</code></a></td><td><code>Change message about 0x0 matrices.</code></td></tr></table>\n",
    "created_at": "2016-03-19T12:39:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225439",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:166"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/075d7b74a5e4c1026f06c9f03f63c993e646e5d4"><code>075d7b7</code></a></td><td><code>Change message about 0x0 matrices.</code></td></tr></table>




---

archive/issue_comments_225440.json:
```json
{
    "body": "Changed commit from **[`25393da`](https://github.com/sagemath/sagetrac-mirror/commit/25393da7cc5d43ed39160436b7b2be117711771b)** to **[`075d7b7`](https://github.com/sagemath/sagetrac-mirror/commit/075d7b74a5e4c1026f06c9f03f63c993e646e5d4)**",
    "created_at": "2016-03-19T12:39:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225440",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`25393da`](https://github.com/sagemath/sagetrac-mirror/commit/25393da7cc5d43ed39160436b7b2be117711771b)** to **[`075d7b7`](https://github.com/sagemath/sagetrac-mirror/commit/075d7b74a5e4c1026f06c9f03f63c993e646e5d4)**



---

archive/issue_comments_225441.json:
```json
{
    "body": "<div id=\"comment:167\" align=\"right\">comment:167</div>\n\nThe determinant should definitely be 1; it's the Seifert matrix that doesn't really make sense to me (because as mentioned above, for the case of interest, one Seifert surface is the cylinder, but again, I have not understood what the algorithm actually does).\n\nBy treating only the symptoms, the algorithm now (in 7711771b) produces the incorrect result for the unknot:\n\n```\nsage: B = BraidGroup(2)\nsage: b = B([1])\nsage: b.alexander_polynomial()\n1\nsage: Link(b).alexander_polynomial()\n0\n```",
    "created_at": "2016-03-19T13:55:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225441",
    "user": "https://github.com/fuglede"
}
```

<div id="comment:167" align="right">comment:167</div>

The determinant should definitely be 1; it's the Seifert matrix that doesn't really make sense to me (because as mentioned above, for the case of interest, one Seifert surface is the cylinder, but again, I have not understood what the algorithm actually does).

By treating only the symptoms, the algorithm now (in 7711771b) produces the incorrect result for the unknot:

```
sage: B = BraidGroup(2)
sage: b = B([1])
sage: b.alexander_polynomial()
1
sage: Link(b).alexander_polynomial()
0
```



---

archive/issue_comments_225442.json:
```json
{
    "body": "<div id=\"comment:168\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0cce5891b429ea267c45bd89adacff6ebb12e453\"><code>0cce589</code></a></td><td><code>Fixing issues with the Alexander polynomial.</code></td></tr></table>\n",
    "created_at": "2016-03-20T01:00:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225442",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:168"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0cce5891b429ea267c45bd89adacff6ebb12e453"><code>0cce589</code></a></td><td><code>Fixing issues with the Alexander polynomial.</code></td></tr></table>




---

archive/issue_comments_225443.json:
```json
{
    "body": "Changed commit from **[`075d7b7`](https://github.com/sagemath/sagetrac-mirror/commit/075d7b74a5e4c1026f06c9f03f63c993e646e5d4)** to **[`0cce589`](https://github.com/sagemath/sagetrac-mirror/commit/0cce5891b429ea267c45bd89adacff6ebb12e453)**",
    "created_at": "2016-03-20T01:00:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225443",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`075d7b7`](https://github.com/sagemath/sagetrac-mirror/commit/075d7b74a5e4c1026f06c9f03f63c993e646e5d4)** to **[`0cce589`](https://github.com/sagemath/sagetrac-mirror/commit/0cce5891b429ea267c45bd89adacff6ebb12e453)**



---

archive/issue_comments_225444.json:
```json
{
    "body": "<div id=\"comment:169\" align=\"right\">comment:169</div>\n\nI see what the problem is now (after treating enough symptoms). In Definition 2.11, there is this: \"For a link with a disconnected Seifert surface we define the Alexander polynomial to be zero.\" So we just need to check to see if the links can be separated, which means the braid representation can be broken into 2 disjoint components.\n\nHowever, I believe the Seifert matrix is correct as it encodes the H<sub>1</sub> information of the Seifert surface. Since the unlink is a disjoint union of 2 disks, the positive homology groups are all trivial, so the Seifert matrix should be a 0x0 matrix. (If you want to think of it as a [empty] cylinder, H<sub>1</sub> is also trivial in that case as well. However, I don't think this is the correct construction of the Seifert surface from the reading I've done, but I'm not an expert.)",
    "created_at": "2016-03-20T01:04:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225444",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:169" align="right">comment:169</div>

I see what the problem is now (after treating enough symptoms). In Definition 2.11, there is this: "For a link with a disconnected Seifert surface we define the Alexander polynomial to be zero." So we just need to check to see if the links can be separated, which means the braid representation can be broken into 2 disjoint components.

However, I believe the Seifert matrix is correct as it encodes the H<sub>1</sub> information of the Seifert surface. Since the unlink is a disjoint union of 2 disks, the positive homology groups are all trivial, so the Seifert matrix should be a 0x0 matrix. (If you want to think of it as a [empty] cylinder, H<sub>1</sub> is also trivial in that case as well. However, I don't think this is the correct construction of the Seifert surface from the reading I've done, but I'm not an expert.)



---

archive/issue_comments_225445.json:
```json
{
    "body": "<div id=\"comment:170\" align=\"right\">comment:170</div>\n\nCool, that's also what I suspected back then. Where I come from, Seifert surfaces are connected by definition; that can make life a bit easier -- in particular in this situation where you can just use the same definition for the Alexander polynomial regardless of the chosen surface.\n\nIn any case, by \"cylinder\", I meant something homeomorphic to *S*<sup>1</sup> \u00d7 [0, 1] which has boundary two separated unknots, and which has non-trivial *H*<sub>1</sub>. In that case, a Seifert matrix is the 1x1 zero matrix. Likewise in the case of the unknot, you can avoid having to ponder about 0x0 matrices, since *H*<sub>1</sub>(*D*<sup>2</sup> \u00d7 **R**, **Z**) may be presented by the 1x1 unit matrix.\n\nFor the case at hand, the algorithm still produces incorrect results for links which bound disconnected oriented surfaces (I would not call such links \"disjoint\", since link components are *always* disjoint);\n\n```\nsage: B3 = BraidGroup(3)\nsage: b = B3([1, 2, -2])\nsage: b.alexander_polynomial()\n0\nsage: Link(b).alexander_polynomial()\n1\n```\n\nAnd a weirder example:\n\n```\nsage: B2 = BraidGroup(2)\nsage: b = B2([1, -1])\nsage: b.alexander_polynomial()\n0\nsage: Link(b).alexander_polynomial()\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-14-c27fd62b3305> in <module>()\n----> 1 Link(b).alexander_polynomial()\n\n/home/fuglede/repos/sage/local/lib/python2.7/site-packages/sage/knots/link.pyc in alexander_polynomial(self, var)\n   1244         R = LaurentPolynomialRing(ZZ, var)\n   1245         # The Alexander polynomial of disjoint links are defined to be 0\n-> 1246         if len(self._braid_word_components()) > 1:\n   1247             return R.zero()\n   1248         t = R.gen()\n\n/home/fuglede/repos/sage/local/lib/python2.7/site-packages/sage/knots/link.pyc in _braid_word_components(self)\n    899         ml = list(self.braid().Tietze())\n    900         if not ml:\n--> 901             raise ValueError(\"the braid remains the same with no components\")\n    902 \n    903         l = set(abs(k) for k in ml)\n\nValueError: the braid remains the same with no components\n```\n\nEdit: Ah, it looks like for the first one of those examples, the library throws away one of the components (is that intended? According to the docs, only \"The strands of the braid that have no crossings at all are removed\", and in this case, all of them have crossings; they just happen to be pretty trivial).",
    "created_at": "2016-03-20T09:21:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225445",
    "user": "https://github.com/fuglede"
}
```

<div id="comment:170" align="right">comment:170</div>

Cool, that's also what I suspected back then. Where I come from, Seifert surfaces are connected by definition; that can make life a bit easier -- in particular in this situation where you can just use the same definition for the Alexander polynomial regardless of the chosen surface.

In any case, by "cylinder", I meant something homeomorphic to *S*<sup>1</sup> × [0, 1] which has boundary two separated unknots, and which has non-trivial *H*<sub>1</sub>. In that case, a Seifert matrix is the 1x1 zero matrix. Likewise in the case of the unknot, you can avoid having to ponder about 0x0 matrices, since *H*<sub>1</sub>(*D*<sup>2</sup> × **R**, **Z**) may be presented by the 1x1 unit matrix.

For the case at hand, the algorithm still produces incorrect results for links which bound disconnected oriented surfaces (I would not call such links "disjoint", since link components are *always* disjoint);

```
sage: B3 = BraidGroup(3)
sage: b = B3([1, 2, -2])
sage: b.alexander_polynomial()
0
sage: Link(b).alexander_polynomial()
1
```

And a weirder example:

```
sage: B2 = BraidGroup(2)
sage: b = B2([1, -1])
sage: b.alexander_polynomial()
0
sage: Link(b).alexander_polynomial()
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-14-c27fd62b3305> in <module>()
----> 1 Link(b).alexander_polynomial()

/home/fuglede/repos/sage/local/lib/python2.7/site-packages/sage/knots/link.pyc in alexander_polynomial(self, var)
   1244         R = LaurentPolynomialRing(ZZ, var)
   1245         # The Alexander polynomial of disjoint links are defined to be 0
-> 1246         if len(self._braid_word_components()) > 1:
   1247             return R.zero()
   1248         t = R.gen()

/home/fuglede/repos/sage/local/lib/python2.7/site-packages/sage/knots/link.pyc in _braid_word_components(self)
    899         ml = list(self.braid().Tietze())
    900         if not ml:
--> 901             raise ValueError("the braid remains the same with no components")
    902 
    903         l = set(abs(k) for k in ml)

ValueError: the braid remains the same with no components
```

Edit: Ah, it looks like for the first one of those examples, the library throws away one of the components (is that intended? According to the docs, only "The strands of the braid that have no crossings at all are removed", and in this case, all of them have crossings; they just happen to be pretty trivial).



---

archive/issue_comments_225446.json:
```json
{
    "body": "<div id=\"comment:171\" align=\"right\">comment:171</div>\n\nReplying to [@fuglede](#comment%3A170):\n> Cool, that's also what I suspected back then. Where I come from, Seifert surfaces are connected by definition; that can make life a bit easier -- in particular in this situation where you can just use the same definition for the Alexander polynomial regardless of the chosen surface.\n\nYes, definitely.\n\n> In any case, by \"cylinder\", I meant something homeomorphic to *S*<sup>1</sup> \u00d7 [0, 1] which has boundary two separated unknots, and which has non-trivial *H*<sub>1</sub>.\n\nIn that case, I agree. Although this doesn't agree with Seifert's construction AFAIK, and for 4+ components, at least by my understanding of how you are constructing things, wouldn't give a surface.\n\n> In that case, a Seifert matrix is the 1x1 zero matrix. Likewise in the case of the unknot, you can avoid having to ponder about 0x0 matrices, since *H*<sub>1</sub>(*D*<sup>2</sup> \u00d7 **R**, **Z**) may be presented by the 1x1 unit matrix.\n> \n> For the case at hand, the algorithm still produces incorrect results for links which bound disconnected oriented surfaces (I would not call such links \"disjoint\", since link components are *always* disjoint);\n> \n> ```\n> sage: B3 = BraidGroup(3)\n> sage: b = B3([1, 2, -2])\n> sage: b.alexander_polynomial()\n> 0\n> sage: Link(b).alexander_polynomial()\n> 1\n> ```\n\nIn that case the `2 -2` are canceled automatically by the braid group:\n\n```\nsage: B = BraidGroup(4)\nsage: B([1,2,-2])\ns0\n```\nSo it becomes just 1 unknot as far as the code currently works. Which is why we get an Alexander polynomial of 1.\n\n> And a weirder example:\n> \n> ```\n> sage: B2 = BraidGroup(2)\n> sage: b = B2([1, -1])\n> sage: b.alexander_polynomial()\n> 0\n> sage: Link(b).alexander_polynomial()\n> ---------------------------------------------------------------------------\n> ValueError                                Traceback (most recent call last)\n> <ipython-input-14-c27fd62b3305> in <module>()\n> ----> 1 Link(b).alexander_polynomial()\n> \n> /home/fuglede/repos/sage/local/lib/python2.7/site-packages/sage/knots/link.pyc in alexander_polynomial(self, var)\n>    1244         R = LaurentPolynomialRing(ZZ, var)\n>    1245         # The Alexander polynomial of disjoint links are defined to be 0\n> -> 1246         if len(self._braid_word_components()) > 1:\n>    1247             return R.zero()\n>    1248         t = R.gen()\n> \n> /home/fuglede/repos/sage/local/lib/python2.7/site-packages/sage/knots/link.pyc in _braid_word_components(self)\n>     899         ml = list(self.braid().Tietze())\n>     900         if not ml:\n> --> 901             raise ValueError(\"the braid remains the same with no components\")\n>     902 \n>     903         l = set(abs(k) for k in ml)\n> \n> ValueError: the braid remains the same with no components\n> ```\n> \n> Edit: Ah, it looks like for the first one of those examples, the library throws away one of the components (is that intended? According to the docs, only \"The strands of the braid that have no crossings at all are removed\", and in this case, all of them have crossings; they just happen to be pretty trivial).\n\nIn both cases this is what is going on. Although we could special case the identity element of the braid group, but this wouldn't handle when the input is `B([3, 1, -3, -1])`. I'm somewhat unsure if we really should push this in as-is. I think it is a very good addition, but not dealing with these lingering braid group issues seems to cause confusion... I can try to fix things up a little bit to handle all of these issues, but I'm not sure I will be successful with out a substantial rewrite (which I am not sure I have the mathematical knowledge to do).",
    "created_at": "2016-03-22T14:35:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225446",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:171" align="right">comment:171</div>

Replying to [@fuglede](#comment%3A170):
> Cool, that's also what I suspected back then. Where I come from, Seifert surfaces are connected by definition; that can make life a bit easier -- in particular in this situation where you can just use the same definition for the Alexander polynomial regardless of the chosen surface.

Yes, definitely.

> In any case, by "cylinder", I meant something homeomorphic to *S*<sup>1</sup> × [0, 1] which has boundary two separated unknots, and which has non-trivial *H*<sub>1</sub>.

In that case, I agree. Although this doesn't agree with Seifert's construction AFAIK, and for 4+ components, at least by my understanding of how you are constructing things, wouldn't give a surface.

> In that case, a Seifert matrix is the 1x1 zero matrix. Likewise in the case of the unknot, you can avoid having to ponder about 0x0 matrices, since *H*<sub>1</sub>(*D*<sup>2</sup> × **R**, **Z**) may be presented by the 1x1 unit matrix.
> 
> For the case at hand, the algorithm still produces incorrect results for links which bound disconnected oriented surfaces (I would not call such links "disjoint", since link components are *always* disjoint);
> 
> ```
> sage: B3 = BraidGroup(3)
> sage: b = B3([1, 2, -2])
> sage: b.alexander_polynomial()
> 0
> sage: Link(b).alexander_polynomial()
> 1
> ```

In that case the `2 -2` are canceled automatically by the braid group:

```
sage: B = BraidGroup(4)
sage: B([1,2,-2])
s0
```
So it becomes just 1 unknot as far as the code currently works. Which is why we get an Alexander polynomial of 1.

> And a weirder example:
> 
> ```
> sage: B2 = BraidGroup(2)
> sage: b = B2([1, -1])
> sage: b.alexander_polynomial()
> 0
> sage: Link(b).alexander_polynomial()
> ---------------------------------------------------------------------------
> ValueError                                Traceback (most recent call last)
> <ipython-input-14-c27fd62b3305> in <module>()
> ----> 1 Link(b).alexander_polynomial()
> 
> /home/fuglede/repos/sage/local/lib/python2.7/site-packages/sage/knots/link.pyc in alexander_polynomial(self, var)
>    1244         R = LaurentPolynomialRing(ZZ, var)
>    1245         # The Alexander polynomial of disjoint links are defined to be 0
> -> 1246         if len(self._braid_word_components()) > 1:
>    1247             return R.zero()
>    1248         t = R.gen()
> 
> /home/fuglede/repos/sage/local/lib/python2.7/site-packages/sage/knots/link.pyc in _braid_word_components(self)
>     899         ml = list(self.braid().Tietze())
>     900         if not ml:
> --> 901             raise ValueError("the braid remains the same with no components")
>     902 
>     903         l = set(abs(k) for k in ml)
> 
> ValueError: the braid remains the same with no components
> ```
> 
> Edit: Ah, it looks like for the first one of those examples, the library throws away one of the components (is that intended? According to the docs, only "The strands of the braid that have no crossings at all are removed", and in this case, all of them have crossings; they just happen to be pretty trivial).

In both cases this is what is going on. Although we could special case the identity element of the braid group, but this wouldn't handle when the input is `B([3, 1, -3, -1])`. I'm somewhat unsure if we really should push this in as-is. I think it is a very good addition, but not dealing with these lingering braid group issues seems to cause confusion... I can try to fix things up a little bit to handle all of these issues, but I'm not sure I will be successful with out a substantial rewrite (which I am not sure I have the mathematical knowledge to do).



---

archive/issue_comments_225447.json:
```json
{
    "body": "<div id=\"comment:172\" align=\"right\">comment:172</div>\n\nPS - I agree, \"disjoint\" is not a good word. Perhaps \"separable\" is a better? Also, maybe we use `_isolated_components` to check for the Alexander polynomial instead of my current approach?",
    "created_at": "2016-03-22T14:39:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225447",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:172" align="right">comment:172</div>

PS - I agree, "disjoint" is not a good word. Perhaps "separable" is a better? Also, maybe we use `_isolated_components` to check for the Alexander polynomial instead of my current approach?



---

archive/issue_comments_225448.json:
```json
{
    "body": "<div id=\"comment:173\" align=\"right\">comment:173</div>\n\nReplying to [@tscrim](#comment%3A171):\n> In that case, I agree. Although this doesn't agree with Seifert's construction AFAIK, and for 4+ components, at least by my understanding of how you are constructing things, wouldn't give a surface.\n\nI'm not really constructing anything at all, so I'm not quite sure what it is that would not be a surface.\n\n> In that case the `2 -2` are canceled automatically by the braid group:\n> \n> ```\n> sage: B = BraidGroup(4)\n> sage: B([1,2,-2])\n> s0\n> ```\n\nYeah, that makes sense. Isn't it a bit unfortunate that one would need to understand the `BraidGroup` internals in order to use the knot theory module, though? If I just read the documentation in `Link`, then I might assume that `[1, -2, -2]` contains knots on all three strands (that's what I did anyway).\n\n> PS - I agree, \"disjoint\" is not a good word. Perhaps \"separable\" is a better?\n\nYes, I believe I've heard \"separable\" being used in this context as well, although I can't seem to find a written source at the moment. The word of course already has another meaning in the context of topological spaces, but that's not really an issue. In any case, you could always just go with \"bounds and oriented disconnected surface\".",
    "created_at": "2016-03-22T16:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225448",
    "user": "https://github.com/fuglede"
}
```

<div id="comment:173" align="right">comment:173</div>

Replying to [@tscrim](#comment%3A171):
> In that case, I agree. Although this doesn't agree with Seifert's construction AFAIK, and for 4+ components, at least by my understanding of how you are constructing things, wouldn't give a surface.

I'm not really constructing anything at all, so I'm not quite sure what it is that would not be a surface.

> In that case the `2 -2` are canceled automatically by the braid group:
> 
> ```
> sage: B = BraidGroup(4)
> sage: B([1,2,-2])
> s0
> ```

Yeah, that makes sense. Isn't it a bit unfortunate that one would need to understand the `BraidGroup` internals in order to use the knot theory module, though? If I just read the documentation in `Link`, then I might assume that `[1, -2, -2]` contains knots on all three strands (that's what I did anyway).

> PS - I agree, "disjoint" is not a good word. Perhaps "separable" is a better?

Yes, I believe I've heard "separable" being used in this context as well, although I can't seem to find a written source at the moment. The word of course already has another meaning in the context of topological spaces, but that's not really an issue. In any case, you could always just go with "bounds and oriented disconnected surface".



---

archive/issue_comments_225449.json:
```json
{
    "body": "<div id=\"comment:174\" align=\"right\">comment:174</div>\n\nReplying to [@fuglede](#comment%3A173):\n> Replying to [@tscrim](#comment%3A171):\n> > In that case, I agree. Although this doesn't agree with Seifert's construction AFAIK, and for 4+ components, at least by my understanding of how you are constructing things, wouldn't give a surface.\n> \n> \n> I'm not really constructing anything at all, so I'm not quite sure what it is that would not be a surface.\n\nI thought you were taking **S**<sup>1</sup> x **S**<sup>1</sup> and then connecting up points inbetween. Now that I actually drew something, you were taking the two unknots and drawing them projected into the plane with overlap, where I did get a cylinder.\n\n> > In that case the `2 -2` are canceled automatically by the braid group:\n> > \n> > ```\n> > sage: B = BraidGroup(4)\n> > sage: B([1,2,-2])\n> > s0\n> > ```\n> \n> \n> Yeah, that makes sense. Isn't it a bit unfortunate that one would need to understand the `BraidGroup` internals in order to use the knot theory module, though? If I just read the documentation in `Link`, then I might assume that `[1, -2, -2]` contains knots on all three strands (that's what I did anyway).\n\nI agree. Do you think a warning with an example would be sufficient (if it's not possible to quickly fix) to clarify things?\n\n> > PS - I agree, \"disjoint\" is not a good word. Perhaps \"separable\" is a better?\n> \n> \n> Yes, I believe I've heard \"separable\" being used in this context as well, although I can't seem to find a written source at the moment. The word of course already has another meaning in the context of topological spaces, but that's not really an issue. In any case, you could always just go with \"bounds and oriented disconnected surface\".\n\nTrue.",
    "created_at": "2016-03-22T18:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225449",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:174" align="right">comment:174</div>

Replying to [@fuglede](#comment%3A173):
> Replying to [@tscrim](#comment%3A171):
> > In that case, I agree. Although this doesn't agree with Seifert's construction AFAIK, and for 4+ components, at least by my understanding of how you are constructing things, wouldn't give a surface.
> 
> 
> I'm not really constructing anything at all, so I'm not quite sure what it is that would not be a surface.

I thought you were taking **S**<sup>1</sup> x **S**<sup>1</sup> and then connecting up points inbetween. Now that I actually drew something, you were taking the two unknots and drawing them projected into the plane with overlap, where I did get a cylinder.

> > In that case the `2 -2` are canceled automatically by the braid group:
> > 
> > ```
> > sage: B = BraidGroup(4)
> > sage: B([1,2,-2])
> > s0
> > ```
> 
> 
> Yeah, that makes sense. Isn't it a bit unfortunate that one would need to understand the `BraidGroup` internals in order to use the knot theory module, though? If I just read the documentation in `Link`, then I might assume that `[1, -2, -2]` contains knots on all three strands (that's what I did anyway).

I agree. Do you think a warning with an example would be sufficient (if it's not possible to quickly fix) to clarify things?

> > PS - I agree, "disjoint" is not a good word. Perhaps "separable" is a better?
> 
> 
> Yes, I believe I've heard "separable" being used in this context as well, although I can't seem to find a written source at the moment. The word of course already has another meaning in the context of topological spaces, but that's not really an issue. In any case, you could always just go with "bounds and oriented disconnected surface".

True.



---

archive/issue_comments_225450.json:
```json
{
    "body": "<div id=\"comment:175\" align=\"right\">comment:175</div>\n\nI propose to use the word \"unlinked components\" for the case you are talking about: they bound a disconnected surface, or, equivalently, they could be represented in a planar diagram where there are no crossings that involve two different components.\n\nI chosed the word _isolated_components to reffer to that situation: where the planar representation that we are dealing with has no crossings that involve different components.\n\nI considered other names, like \"unlinked components\", but I didin't like them because the concept I wanted to consider does not deppend on the 3-dimensional topology, but on the particular planar representation that we are using. If two components are shown as \"isolated\" in a planar diagram (which is the case that is troubling us here), they are clearly unlinked. But the converse is not true: we could have a very complicated diagram with crossings everywhere that actually represents 2 unlinked knots.\n\nThe implementation of the alexander polynomial assumes that the input doesn't have isolated components (that is why we need to treat that case separatedly), but is able to give the right output if there are several unlinked components that are not isolated. So i guess that the solution of detecting that case and giving a 0 output is the right one.\n\n_isolated_components and _braid_word_components should do pretty much the same. The difference is that one computes it from the PD representation whereas the other uses the braid one.\n\nSo, can we give a positive review or are there still pending issues?",
    "created_at": "2016-03-23T17:46:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225450",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:175" align="right">comment:175</div>

I propose to use the word "unlinked components" for the case you are talking about: they bound a disconnected surface, or, equivalently, they could be represented in a planar diagram where there are no crossings that involve two different components.

I chosed the word _isolated_components to reffer to that situation: where the planar representation that we are dealing with has no crossings that involve different components.

I considered other names, like "unlinked components", but I didin't like them because the concept I wanted to consider does not deppend on the 3-dimensional topology, but on the particular planar representation that we are using. If two components are shown as "isolated" in a planar diagram (which is the case that is troubling us here), they are clearly unlinked. But the converse is not true: we could have a very complicated diagram with crossings everywhere that actually represents 2 unlinked knots.

The implementation of the alexander polynomial assumes that the input doesn't have isolated components (that is why we need to treat that case separatedly), but is able to give the right output if there are several unlinked components that are not isolated. So i guess that the solution of detecting that case and giving a 0 output is the right one.

_isolated_components and _braid_word_components should do pretty much the same. The difference is that one computes it from the PD representation whereas the other uses the braid one.

So, can we give a positive review or are there still pending issues?



---

archive/issue_comments_225451.json:
```json
{
    "body": "<div id=\"comment:176\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81cb543c6abca887e32128681c6c12fd0439f4b3\"><code>81cb543</code></a></td><td><code>Fixing plotting of isolated components and allowing trivial braid group element.</code></td></tr></table>\n",
    "created_at": "2016-03-23T20:05:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225451",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:176"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81cb543c6abca887e32128681c6c12fd0439f4b3"><code>81cb543</code></a></td><td><code>Fixing plotting of isolated components and allowing trivial braid group element.</code></td></tr></table>




---

archive/issue_comments_225452.json:
```json
{
    "body": "Changed commit from **[`0cce589`](https://github.com/sagemath/sagetrac-mirror/commit/0cce5891b429ea267c45bd89adacff6ebb12e453)** to **[`81cb543`](https://github.com/sagemath/sagetrac-mirror/commit/81cb543c6abca887e32128681c6c12fd0439f4b3)**",
    "created_at": "2016-03-23T20:05:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225452",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0cce589`](https://github.com/sagemath/sagetrac-mirror/commit/0cce5891b429ea267c45bd89adacff6ebb12e453)** to **[`81cb543`](https://github.com/sagemath/sagetrac-mirror/commit/81cb543c6abca887e32128681c6c12fd0439f4b3)**



---

archive/issue_comments_225453.json:
```json
{
    "body": "<div id=\"comment:177\" align=\"right\">comment:177</div>\n\nIf you think my last set of changes are good, then yes, I believe we can. In this last commit, I added support for the unknot given as the identity element in the braid group. I also was able to fix the plotting of multiple isolated components (a `+` to a `-`) as far as I can tell.\n\n@fuglede From your previous comments, I am assuming you are good overall with the current version. Is this correct? Also, could you add your real name to the reviewers field?",
    "created_at": "2016-03-23T20:10:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225453",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:177" align="right">comment:177</div>

If you think my last set of changes are good, then yes, I believe we can. In this last commit, I added support for the unknot given as the identity element in the braid group. I also was able to fix the plotting of multiple isolated components (a `+` to a `-`) as far as I can tell.

@fuglede From your previous comments, I am assuming you are good overall with the current version. Is this correct? Also, could you add your real name to the reviewers field?



---

archive/issue_comments_225454.json:
```json
{
    "body": "<div id=\"comment:178\" align=\"right\">comment:178</div>\n\n@tscrim Unless it is customary to do for the kind of small discussion we had here, I hesitate to do so: all I did here was really to try out the Jones and Alexander polynomial implementations (and I still barely understand the implementation of the latter), so that doesn't constitute much of a review. I wish I had time to devote to a full-fleshed review, but unfortunately that's far from the case.",
    "created_at": "2016-03-23T20:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225454",
    "user": "https://github.com/fuglede"
}
```

<div id="comment:178" align="right">comment:178</div>

@tscrim Unless it is customary to do for the kind of small discussion we had here, I hesitate to do so: all I did here was really to try out the Jones and Alexander polynomial implementations (and I still barely understand the implementation of the latter), so that doesn't constitute much of a review. I wish I had time to devote to a full-fleshed review, but unfortunately that's far from the case.



---

archive/issue_comments_225455.json:
```json
{
    "body": "<div id=\"comment:179\" align=\"right\">comment:179</div>\n\nYou looked at and tested a part of the code. Furthermore, you also made some additions. You definitely qualify as a reviewer.",
    "created_at": "2016-03-23T22:01:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225455",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:179" align="right">comment:179</div>

You looked at and tested a part of the code. Furthermore, you also made some additions. You definitely qualify as a reviewer.



---

archive/issue_comments_225456.json:
```json
{
    "body": "<div id=\"comment:180\" align=\"right\">comment:180</div>\n\nI agree fuglede should be considered a reviewer. Maybe even an author.\n\nTravis, do you want to add yourself to the authors list?",
    "created_at": "2016-03-24T14:38:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225456",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:180" align="right">comment:180</div>

I agree fuglede should be considered a reviewer. Maybe even an author.

Travis, do you want to add yourself to the authors list?



---

archive/issue_events_241156.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2016-03-24T14:38:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241156"
}
```



---

archive/issue_events_241157.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2016-03-24T14:38:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241157"
}
```



---

archive/issue_comments_225457.json:
```json
{
    "body": "<div id=\"comment:181\" align=\"right\">comment:181</div>\n\nmmarco: Do you think that this combined effort suffices for positive review?  Just checking that whatever stuff hadn't been looked at before is now really ready for inclusion - it would be great to have knots in Sage but it would also be good to have as close to \"all correct\" as possible.  Great teamwork, everybody!",
    "created_at": "2016-03-24T15:29:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225457",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:181" align="right">comment:181</div>

mmarco: Do you think that this combined effort suffices for positive review?  Just checking that whatever stuff hadn't been looked at before is now really ready for inclusion - it would be great to have knots in Sage but it would also be good to have as close to "all correct" as possible.  Great teamwork, everybody!



---

archive/issue_comments_225458.json:
```json
{
    "body": "<div id=\"comment:182\" align=\"right\">comment:182</div>\n\nWell, I think it is about as close to \"all correct\" as we can get before merging it. I am pretty sure that the base code is mostly correct (although there might be other bugs that show up in corner cases) .Unless there is a short term plan to make a substantial improvement (like the idea you mentioned to gather some specialists to work on a SMC project intensively), I would prefear to merge something that might have bugs (and solve them later in subsequent tickets), than risking it to bitrot again.\n\nOf course, you might disagree. In that case, feel free to revert to needs_review.",
    "created_at": "2016-03-24T15:45:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225458",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:182" align="right">comment:182</div>

Well, I think it is about as close to "all correct" as we can get before merging it. I am pretty sure that the base code is mostly correct (although there might be other bugs that show up in corner cases) .Unless there is a short term plan to make a substantial improvement (like the idea you mentioned to gather some specialists to work on a SMC project intensively), I would prefear to merge something that might have bugs (and solve them later in subsequent tickets), than risking it to bitrot again.

Of course, you might disagree. In that case, feel free to revert to needs_review.



---

archive/issue_comments_225459.json:
```json
{
    "body": "<div id=\"comment:183\" align=\"right\">comment:183</div>\n\nNo disagreement, just checking in.  In which case my plan for making a SMC project would be vastly simplified - I just make a SMC project with a *standard* Sage and invite them to it!",
    "created_at": "2016-03-24T16:54:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225459",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:183" align="right">comment:183</div>

No disagreement, just checking in.  In which case my plan for making a SMC project would be vastly simplified - I just make a SMC project with a *standard* Sage and invite them to it!



---

archive/issue_events_241158.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2016-03-24T18:24:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241158"
}
```



---

archive/issue_events_241159.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2016-03-24T18:24:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241159"
}
```



---

archive/issue_comments_225460.json:
```json
{
    "body": "<div id=\"comment:185\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57c816f85bc99a192ac2ec85fe930f01e52d7b14\"><code>57c816f</code></a></td><td><code>trac 17030: test error-raising</code></td></tr></table>\n",
    "created_at": "2016-03-24T18:25:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225460",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:185"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57c816f85bc99a192ac2ec85fe930f01e52d7b14"><code>57c816f</code></a></td><td><code>trac 17030: test error-raising</code></td></tr></table>




---

archive/issue_comments_225461.json:
```json
{
    "body": "Changed commit from **[`81cb543`](https://github.com/sagemath/sagetrac-mirror/commit/81cb543c6abca887e32128681c6c12fd0439f4b3)** to **[`57c816f`](https://github.com/sagemath/sagetrac-mirror/commit/57c816f85bc99a192ac2ec85fe930f01e52d7b14)**",
    "created_at": "2016-03-24T18:25:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225461",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`81cb543`](https://github.com/sagemath/sagetrac-mirror/commit/81cb543c6abca887e32128681c6c12fd0439f4b3)** to **[`57c816f`](https://github.com/sagemath/sagetrac-mirror/commit/57c816f85bc99a192ac2ec85fe930f01e52d7b14)**



---

archive/issue_comments_225462.json:
```json
{
    "body": "<div id=\"comment:186\" align=\"right\">comment:186</div>\n\nI made a few small changes: added a little documentation and added some doctests for some previously untested parts of the code. We should probably add more doctests to get even better coverage \u2013 for example, I couldn't figure out how to create links with several isolated components in order to test the error-raising in the `regions` method \u2013 but we can do more clean-up on another ticket.",
    "created_at": "2016-03-24T18:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225462",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:186" align="right">comment:186</div>

I made a few small changes: added a little documentation and added some doctests for some previously untested parts of the code. We should probably add more doctests to get even better coverage – for example, I couldn't figure out how to create links with several isolated components in order to test the error-raising in the `regions` method – but we can do more clean-up on another ticket.



---

archive/issue_comments_225463.json:
```json
{
    "body": "<div id=\"comment:187\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e812450e03bb2561cd4cc641c0fae0e95158f37\"><code>5e81245</code></a></td><td><code>deleted some extraneous stuff</code></td></tr></table>\n",
    "created_at": "2016-03-24T18:28:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225463",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:187"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e812450e03bb2561cd4cc641c0fae0e95158f37"><code>5e81245</code></a></td><td><code>deleted some extraneous stuff</code></td></tr></table>




---

archive/issue_comments_225464.json:
```json
{
    "body": "Changed commit from **[`57c816f`](https://github.com/sagemath/sagetrac-mirror/commit/57c816f85bc99a192ac2ec85fe930f01e52d7b14)** to **[`5e81245`](https://github.com/sagemath/sagetrac-mirror/commit/5e812450e03bb2561cd4cc641c0fae0e95158f37)**",
    "created_at": "2016-03-24T18:28:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225464",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`57c816f`](https://github.com/sagemath/sagetrac-mirror/commit/57c816f85bc99a192ac2ec85fe930f01e52d7b14)** to **[`5e81245`](https://github.com/sagemath/sagetrac-mirror/commit/5e812450e03bb2561cd4cc641c0fae0e95158f37)**



---

archive/issue_comments_225465.json:
```json
{
    "body": "<div id=\"comment:188\" align=\"right\">comment:188</div>\n\nI went through most of everything once I have the references to the algorithms. At this point, I do not have any plans to making any (significant) improvements. I also agree with the philosophy of get good, but maybe not perfect, code in and fix bugs as we come across them.\n\nAs a followup, we might want to consider adding in optional spkgs of those other knot/link projects listed on Collins' webpage (e.g., [BraidProgramme](http://www.layer8.co.uk/maths/braids/)).\n\nJohn, your changes look good to me. You should be able create isolated components with something like this:\n\n```\nsage: B = BraidGroup(4)\nsage: L = Link(B([1,3]))\n```\nThere's also a more interesting example with two isolated trefoils in the `plot()` examples:\n\n```\nsage: L = Link([[[-1, 2, -3, 1, -2, 3], [4, -5, 6, -4, 5, -6]], [1, 1, 1, 1, 1, 1]])\n```\n\n`@`fudlege I got your name from your Github page; I hope that was okay. Thank you for working on this, and I hope you continue to contribute to Sage.",
    "created_at": "2016-03-24T18:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225465",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:188" align="right">comment:188</div>

I went through most of everything once I have the references to the algorithms. At this point, I do not have any plans to making any (significant) improvements. I also agree with the philosophy of get good, but maybe not perfect, code in and fix bugs as we come across them.

As a followup, we might want to consider adding in optional spkgs of those other knot/link projects listed on Collins' webpage (e.g., [BraidProgramme](http://www.layer8.co.uk/maths/braids/)).

John, your changes look good to me. You should be able create isolated components with something like this:

```
sage: B = BraidGroup(4)
sage: L = Link(B([1,3]))
```
There's also a more interesting example with two isolated trefoils in the `plot()` examples:

```
sage: L = Link([[[-1, 2, -3, 1, -2, 3], [4, -5, 6, -4, 5, -6]], [1, 1, 1, 1, 1, 1]])
```

`@`fudlege I got your name from your Github page; I hope that was okay. Thank you for working on this, and I hope you continue to contribute to Sage.



---

archive/issue_comments_225466.json:
```json
{
    "body": "Changed reviewer from **Miguel Marco, Karl-Dieter Crisman, Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw** to **Miguel Marco, Karl-Dieter Crisman, Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw, S\u00f8ren Fuglede J\u00f8rgensen**",
    "created_at": "2016-03-24T18:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225466",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Miguel Marco, Karl-Dieter Crisman, Frédéric Chapoton, Travis Scrimshaw** to **Miguel Marco, Karl-Dieter Crisman, Frédéric Chapoton, Travis Scrimshaw, Søren Fuglede Jørgensen**



---

archive/issue_comments_225467.json:
```json
{
    "body": "Changed commit from **[`5e81245`](https://github.com/sagemath/sagetrac-mirror/commit/5e812450e03bb2561cd4cc641c0fae0e95158f37)** to **[`207d033`](https://github.com/sagemath/sagetrac-mirror/commit/207d033813994705e75a22ef73b5b637a2b93085)**",
    "created_at": "2016-03-24T18:47:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225467",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5e81245`](https://github.com/sagemath/sagetrac-mirror/commit/5e812450e03bb2561cd4cc641c0fae0e95158f37)** to **[`207d033`](https://github.com/sagemath/sagetrac-mirror/commit/207d033813994705e75a22ef73b5b637a2b93085)**



---

archive/issue_comments_225468.json:
```json
{
    "body": "<div id=\"comment:189\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/207d033813994705e75a22ef73b5b637a2b93085\"><code>207d033</code></a></td><td><code>knots: one more doctest</code></td></tr></table>\n",
    "created_at": "2016-03-24T18:47:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225468",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:189"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/207d033813994705e75a22ef73b5b637a2b93085"><code>207d033</code></a></td><td><code>knots: one more doctest</code></td></tr></table>




---

archive/issue_comments_225469.json:
```json
{
    "body": "<div id=\"comment:190\" align=\"right\">comment:190</div>\n\nShould we set this back to \"positive review\"? I don't plan to make any more changes.",
    "created_at": "2016-03-25T15:35:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225469",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:190" align="right">comment:190</div>

Should we set this back to "positive review"? I don't plan to make any more changes.



---

archive/issue_events_241160.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-25T15:37:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241160"
}
```



---

archive/issue_events_241161.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-25T15:37:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241161"
}
```



---

archive/issue_comments_225470.json:
```json
{
    "body": "Changed reviewer from **Miguel Marco, Karl-Dieter Crisman, Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw, S\u00f8ren Fuglede J\u00f8rgensen** to **Miguel Marco, Karl-Dieter Crisman, Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw, S\u00f8ren Fuglede J\u00f8rgensen, John Palmieri**",
    "created_at": "2016-03-25T15:37:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225470",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Miguel Marco, Karl-Dieter Crisman, Frédéric Chapoton, Travis Scrimshaw, Søren Fuglede Jørgensen** to **Miguel Marco, Karl-Dieter Crisman, Frédéric Chapoton, Travis Scrimshaw, Søren Fuglede Jørgensen, John Palmieri**



---

archive/issue_comments_225471.json:
```json
{
    "body": "Changed branch from **[public/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/17030)** to **[`207d033`](https://github.com/sagemath/sagetrac-mirror/commit/207d033813994705e75a22ef73b5b637a2b93085)**",
    "created_at": "2016-03-27T07:44:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225471",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/17030](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/17030)** to **[`207d033`](https://github.com/sagemath/sagetrac-mirror/commit/207d033813994705e75a22ef73b5b637a2b93085)**



---

archive/issue_events_241162.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-27T07:44:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241162"
}
```



---

archive/issue_events_241163.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "84c522ef13d6eea8782050a72a9a35ba19f8960b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-03-27T07:44:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17030#event-241163"
}
```



---

archive/issue_comments_225472.json:
```json
{
    "body": "<div id=\"comment:193\" align=\"right\">comment:193</div>\n\nSee #20315 for a followup.",
    "created_at": "2016-03-28T22:55:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225472",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:193" align="right">comment:193</div>

See #20315 for a followup.



---

archive/issue_comments_225473.json:
```json
{
    "body": "Changed commit from **[`207d033`](https://github.com/sagemath/sagetrac-mirror/commit/207d033813994705e75a22ef73b5b637a2b93085)** to none",
    "created_at": "2016-03-28T22:55:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225473",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[`207d033`](https://github.com/sagemath/sagetrac-mirror/commit/207d033813994705e75a22ef73b5b637a2b93085)** to none



---

archive/issue_comments_225474.json:
```json
{
    "body": "<div id=\"comment:194\" align=\"right\">comment:194</div>\n\nReplying to [@jhpalmieri](#comment%3A193):\n> See #20315 for a followup.\n\nIn more detail, whoever is familiar with the plotting code should review the changes there.",
    "created_at": "2016-03-29T01:51:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225474",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:194" align="right">comment:194</div>

Replying to [@jhpalmieri](#comment%3A193):
> See #20315 for a followup.

In more detail, whoever is familiar with the plotting code should review the changes there.



---

archive/issue_comments_225475.json:
```json
{
    "body": "<div id=\"comment:195\" align=\"right\">comment:195</div>\n\nFollow-up ticket at #25050: allow braid computation for more links.",
    "created_at": "2018-03-28T13:28:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17030#issuecomment-225475",
    "user": "https://github.com/slel"
}
```

<div id="comment:195" align="right">comment:195</div>

Follow-up ticket at #25050: allow braid computation for more links.
