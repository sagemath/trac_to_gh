# Issue 17654: Fix more load/save bugs

archive/issues_017417.json:
```json
{
    "body": "1. Remove all documentation about `load filename`, it should be `load(\"filename\")`.\n2. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.\n3. The `optional - internet` tests in `src/sage/repl/load.py` are broken since #17396.\n4. Move loading of Fortran files to `src/sage/repl/load.py`.\n\nReviewer: Marc Mezzarobba\n\nAuthor: Jeroen Demeyer\n\nBranch: 1e8ee98386741e62ba34a0887752900e91090add\n\nDependencies: #17460\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17654\n\n",
    "closed_at": "2015-02-17T20:50:14Z",
    "created_at": "2015-01-20T10:07:58Z",
    "labels": [
        "component: misc",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "Fix more load/save bugs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17654",
    "user": "https://github.com/jdemeyer"
}
```
1. Remove all documentation about `load filename`, it should be `load("filename")`.
2. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.
3. The `optional - internet` tests in `src/sage/repl/load.py` are broken since #17396.
4. Move loading of Fortran files to `src/sage/repl/load.py`.

Reviewer: Marc Mezzarobba

Author: Jeroen Demeyer

Branch: 1e8ee98386741e62ba34a0887752900e91090add

Dependencies: #17460

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17654





---

archive/issue_comments_301837.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#17460\"",
    "created_at": "2015-01-20T10:44:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301837",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "" to "#17460"



---

archive/issue_comments_301838.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,2 @@\n 1. Remove all documentation about `load filename`, it should be `load(\"filename\")`.\n-2. `load?` claims `Load Sage object from the file with name filename, which will have an ``.sobj`` extension added if it doesn't have one.` but a `.sobj` extension isn't actually added.\n-3. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.\n+2. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.\n``````\n",
    "created_at": "2015-01-20T10:49:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301838",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,2 @@
 1. Remove all documentation about `load filename`, it should be `load("filename")`.
-2. `load?` claims `Load Sage object from the file with name filename, which will have an ``.sobj`` extension added if it doesn't have one.` but a `.sobj` extension isn't actually added.
-3. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.
+2. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.
``````




---

archive/issue_comments_301839.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,3 @@\n 1. Remove all documentation about `load filename`, it should be `load(\"filename\")`.\n 2. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.\n+3. The `optional - internet` tests in `src/sage/repl/load.py` are broken since #17396.\n``````\n",
    "created_at": "2015-01-20T11:02:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301839",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,3 @@
 1. Remove all documentation about `load filename`, it should be `load("filename")`.
 2. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.
+3. The `optional - internet` tests in `src/sage/repl/load.py` are broken since #17396.
``````




---

archive/issue_comments_301840.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n 1. Remove all documentation about `load filename`, it should be `load(\"filename\")`.\n 2. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.\n 3. The `optional - internet` tests in `src/sage/repl/load.py` are broken since #17396.\n+4. Move loading of Fortran files to `src/sage/repl/load.py`.\n``````\n",
    "created_at": "2015-01-20T12:12:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301840",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
 1. Remove all documentation about `load filename`, it should be `load("filename")`.
 2. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.
 3. The `optional - internet` tests in `src/sage/repl/load.py` are broken since #17396.
+4. Move loading of Fortran files to `src/sage/repl/load.py`.
``````




---

archive/issue_comments_301841.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,4 @@\n 2. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.\n 3. The `optional - internet` tests in `src/sage/repl/load.py` are broken since #17396.\n 4. Move loading of Fortran files to `src/sage/repl/load.py`.\n+5. Use Sage's `load` and `save` functions in `src/sage/databases/odlyzko.py`.\n``````\n",
    "created_at": "2015-01-20T12:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301841",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,4 @@
 2. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.
 3. The `optional - internet` tests in `src/sage/repl/load.py` are broken since #17396.
 4. Move loading of Fortran files to `src/sage/repl/load.py`.
+5. Use Sage's `load` and `save` functions in `src/sage/databases/odlyzko.py`.
``````




---

archive/issue_comments_301842.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,3 @@\n 2. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.\n 3. The `optional - internet` tests in `src/sage/repl/load.py` are broken since #17396.\n 4. Move loading of Fortran files to `src/sage/repl/load.py`.\n-5. Use Sage's `load` and `save` functions in `src/sage/databases/odlyzko.py`.\n``````\n",
    "created_at": "2015-01-20T12:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301842",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,3 @@
 2. `src.sage.repl.load` calls `eval`(!) on the filename, deprecate that behaviour.
 3. The `optional - internet` tests in `src/sage/repl/load.py` are broken since #17396.
 4. Move loading of Fortran files to `src/sage/repl/load.py`.
-5. Use Sage's `load` and `save` functions in `src/sage/databases/odlyzko.py`.
``````




---

archive/issue_comments_301843.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/ticket/17654\"",
    "created_at": "2015-01-20T12:31:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301843",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/ticket/17654"



---

archive/issue_comments_301844.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-01-20T14:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301844",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_301845.json:
```json
{
    "body": "Changing commit from \"\" to \"1e8ee98386741e62ba34a0887752900e91090add\"",
    "created_at": "2015-01-20T14:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301845",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "1e8ee98386741e62ba34a0887752900e91090add"



---

archive/issue_comments_301846.json:
```json
{
    "body": "<a id='comment:8'></a>New commits:",
    "created_at": "2015-01-20T14:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301846",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>New commits:



---

archive/issue_comments_301847.json:
```json
{
    "body": "<a id='comment:9'></a>LGTM, but there appears to be a minor merge conflict with #17533.",
    "created_at": "2015-01-22T14:37:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301847",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:9'></a>LGTM, but there appears to be a minor merge conflict with #17533.



---

archive/issue_comments_301848.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Marc Mezzarobba\"",
    "created_at": "2015-01-22T14:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301848",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Marc Mezzarobba"



---

archive/issue_comments_301849.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [mmezzarobba](#comment%3A9):\n> there appears to be a minor merge conflict with #17533.\n\nFixed now.",
    "created_at": "2015-01-22T14:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301849",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>Replying to [mmezzarobba](#comment%3A9):
> there appears to be a minor merge conflict with #17533.

Fixed now.



---

archive/issue_comments_301850.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-01-23T08:19:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301850",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_301851.json:
```json
{
    "body": "<a id='comment:12'></a>Thanks!",
    "created_at": "2015-01-23T09:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301851",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>Thanks!



---

archive/issue_comments_301852.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/ticket/17654\" to \"1e8ee98386741e62ba34a0887752900e91090add\"",
    "created_at": "2015-02-17T20:50:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301852",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/ticket/17654" to "1e8ee98386741e62ba34a0887752900e91090add"



---

archive/issue_events_050574.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-17T20:50:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17654#event-50574"
}
```



---

archive/issue_comments_301853.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-02-17T20:50:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301853",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_301854.json:
```json
{
    "body": "Changing commit from \"1e8ee98386741e62ba34a0887752900e91090add\" to \"\"",
    "created_at": "2015-03-25T15:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301854",
    "user": "https://github.com/gvol"
}
```

Changing commit from "1e8ee98386741e62ba34a0887752900e91090add" to ""



---

archive/issue_comments_301855.json:
```json
{
    "body": "<a id='comment:14'></a>I'm seeing the warning when I use \n\n    sage: %runfile '/var/folders/d3/yxwv5yn5715fk31lq36lnk780000gn/T/sage24271vpp.sage' # loading region...\n    /Users/iandrus/vcs/sage/src/bin/sage-ipython:1: DeprecationWarning: using unevaluated expressions as argument to load() is dangerous and deprecated\n    See http://trac.sagemath.org/17654 for details.\n      #!/usr/bin/env python\n\nIs that expected?  And I should change it to\n\n    load('/var/folders/d3/yxwv5yn5715fk31lq36lnk780000gn/T/sage24271vpp.sage')",
    "created_at": "2015-03-25T15:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301855",
    "user": "https://github.com/gvol"
}
```

<a id='comment:14'></a>I'm seeing the warning when I use 

    sage: %runfile '/var/folders/d3/yxwv5yn5715fk31lq36lnk780000gn/T/sage24271vpp.sage' # loading region...
    /Users/iandrus/vcs/sage/src/bin/sage-ipython:1: DeprecationWarning: using unevaluated expressions as argument to load() is dangerous and deprecated
    See http://trac.sagemath.org/17654 for details.
      #!/usr/bin/env python

Is that expected?  And I should change it to

    load('/var/folders/d3/yxwv5yn5715fk31lq36lnk780000gn/T/sage24271vpp.sage')



---

archive/issue_comments_301856.json:
```json
{
    "body": "<a id='comment:15'></a>Remove the quotes:\n\n```\nsage: %runfile /var/folders/d3/yxwv5yn5715fk31lq36lnk780000gn/T/sage24271vpp.sage\n```",
    "created_at": "2015-03-25T15:57:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17654#issuecomment-301856",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>Remove the quotes:

```
sage: %runfile /var/folders/d3/yxwv5yn5715fk31lq36lnk780000gn/T/sage24271vpp.sage
```
