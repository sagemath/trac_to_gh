# Issue 17284: Fix command-line plotting keywords

archive/issues_017047.json:
```json
{
    "assignees": [],
    "body": "This should open a Tachyon-rendered plot (and this worked until very recently):\n\n```\nsage: cube(viewer=\"tachyon\")\n```\n\nThe following patch fixes the problem (but probably not in the correct way):\n\n```diff\ndiff --git a/src/sage/repl/display/formatter.py b/src/sage/repl/display/formatter.py\nindex 670d208..a352a54 100644\n--- a/src/sage/repl/display/formatter.py\n+++ b/src/sage/repl/display/formatter.py\n@@ -377,8 +377,6 @@ class SageConsoleTextFormatter(SagePlainTextFormatter):\n         \"\"\"\n         from sage.structure.sage_object import SageObject\n         if isinstance(obj, SageObject) and hasattr(obj, '_graphics_'):\n-            gfx = obj._graphics_()\n-            if gfx: \n-                gfx.launch_viewer()\n-                return ''\n+            obj.show()\n+            return ''\n         return super(SageConsoleTextFormatter, self).__call__(obj)\n```\n\nCC:  @vbraun @kcrisman @strogdon\n\nBranch/Commit: **[`c84805c`](https://github.com/sagemath/sagetrac-mirror/commit/c84805cafa9c5d1310145c9e31cd59e31fb7668f)**\n\nReviewer: **Steven Trogdon, Karl-Dieter Crisman, Jeroen Demeyer, Martin von Gagern**\n\nAuthor: **Volker Braun**\n\nComponent: **graphics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17284_\n\n",
    "closed_at": "2014-11-11T17:00:07Z",
    "created_at": "2014-11-04T07:31:06Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix command-line plotting keywords",
    "type": "issue",
    "updated_at": "2014-11-11T17:00:07Z",
    "url": "https://github.com/sagemath/sage/issues/17284",
    "user": "https://github.com/jdemeyer"
}
```
This should open a Tachyon-rendered plot (and this worked until very recently):

```
sage: cube(viewer="tachyon")
```

The following patch fixes the problem (but probably not in the correct way):

```diff
diff --git a/src/sage/repl/display/formatter.py b/src/sage/repl/display/formatter.py
index 670d208..a352a54 100644
--- a/src/sage/repl/display/formatter.py
+++ b/src/sage/repl/display/formatter.py
@@ -377,8 +377,6 @@ class SageConsoleTextFormatter(SagePlainTextFormatter):
         """
         from sage.structure.sage_object import SageObject
         if isinstance(obj, SageObject) and hasattr(obj, '_graphics_'):
-            gfx = obj._graphics_()
-            if gfx: 
-                gfx.launch_viewer()
-                return ''
+            obj.show()
+            return ''
         return super(SageConsoleTextFormatter, self).__call__(obj)
```

CC:  @vbraun @kcrisman @strogdon

Branch/Commit: **[`c84805c`](https://github.com/sagemath/sagetrac-mirror/commit/c84805cafa9c5d1310145c9e31cd59e31fb7668f)**

Reviewer: **Steven Trogdon, Karl-Dieter Crisman, Jeroen Demeyer, Martin von Gagern**

Author: **Volker Braun**

Component: **graphics**

_Issue created by migration from https://trac.sagemath.org/ticket/17284_





---

archive/issue_events_244444.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-04T07:31:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17284#event-244444"
}
```



---

archive/issue_events_244445.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-04T07:31:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17284#event-244445"
}
```



---

archive/issue_events_244446.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-04T07:31:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17284#event-244446"
}
```



---

archive/issue_events_244447.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-04T07:31:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17284#event-244447"
}
```



---

archive/issue_comments_230770.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,9 +4,22 @@\n sage: cube(viewer=\"tachyon\")\n ```\n \n-The following still works:\n+The following patch fixes the problem (but probably not in the correct way):\n \n+```diff\n+diff --git a/src/sage/repl/display/formatter.py b/src/sage/repl/display/formatter.py\n+index 670d208..a352a54 100644\n+--- a/src/sage/repl/display/formatter.py\n++++ b/src/sage/repl/display/formatter.py\n+@@ -377,8 +377,6 @@ class SageConsoleTextFormatter(SagePlainTextFormatter):\n+         \"\"\"\n+         from sage.structure.sage_object import SageObject\n+         if isinstance(obj, SageObject) and hasattr(obj, '_graphics_'):\n+-            gfx = obj._graphics_()\n+-            if gfx: \n+-                gfx.launch_viewer()\n+-                return ''\n++            obj.show()\n++            return ''\n+         return super(SageConsoleTextFormatter, self).__call__(obj)\n ```\n-sage: cube(viewer=\"tachyon\").show()\n-```\n-\n``````\n",
    "created_at": "2014-11-04T07:39:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230770",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,9 +4,22 @@
 sage: cube(viewer="tachyon")
 ```
 
-The following still works:
+The following patch fixes the problem (but probably not in the correct way):
 
+```diff
+diff --git a/src/sage/repl/display/formatter.py b/src/sage/repl/display/formatter.py
+index 670d208..a352a54 100644
+--- a/src/sage/repl/display/formatter.py
++++ b/src/sage/repl/display/formatter.py
+@@ -377,8 +377,6 @@ class SageConsoleTextFormatter(SagePlainTextFormatter):
+         """
+         from sage.structure.sage_object import SageObject
+         if isinstance(obj, SageObject) and hasattr(obj, '_graphics_'):
+-            gfx = obj._graphics_()
+-            if gfx: 
+-                gfx.launch_viewer()
+-                return ''
++            obj.show()
++            return ''
+         return super(SageConsoleTextFormatter, self).__call__(obj)
 ```
-sage: cube(viewer="tachyon").show()
-```
-
``````




---

archive/issue_comments_230771.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nYeah, I think that was more or less the previous code, huh?  But would it break showing graphics correctly in sagenb or ipynb?",
    "created_at": "2014-11-04T14:38:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230771",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

Yeah, I think that was more or less the previous code, huh?  But would it break showing graphics correctly in sagenb or ipynb?



---

archive/issue_comments_230772.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThis does work here from the command line. The notebook also seems OK. However, the ipynb seems to be malfunctioning. The default in ipynb is Tachyon, i.e. `cube()` returns a Tachyon rendered image. And `cube(viewer='jmol')` also returns a Tachyon image. `cube().show(viewer='jmol')` does return a jmol rendered image in the jmol viewer.",
    "created_at": "2014-11-04T16:49:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230772",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:3" align="right">comment:3</div>

This does work here from the command line. The notebook also seems OK. However, the ipynb seems to be malfunctioning. The default in ipynb is Tachyon, i.e. `cube()` returns a Tachyon rendered image. And `cube(viewer='jmol')` also returns a Tachyon image. `cube().show(viewer='jmol')` does return a jmol rendered image in the jmol viewer.



---

archive/issue_comments_230773.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIPython notebook doesn't support 3d plots yet.",
    "created_at": "2014-11-04T17:59:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230773",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:4" align="right">comment:4</div>

IPython notebook doesn't support 3d plots yet.



---

archive/issue_comments_230774.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI may be mistaken but on a previous trying of the IPython notebook (when I can't remember) something like `cube()` would spawn the external jmol viewer, which is not the case now.",
    "created_at": "2014-11-04T18:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230774",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:5" align="right">comment:5</div>

I may be mistaken but on a previous trying of the IPython notebook (when I can't remember) something like `cube()` would spawn the external jmol viewer, which is not the case now.



---

archive/issue_comments_230775.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nTrue, but neither is the desired outcome",
    "created_at": "2014-11-04T18:12:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230775",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:6" align="right">comment:6</div>

True, but neither is the desired outcome



---

archive/issue_comments_230776.json:
```json
{
    "body": "Branch: **[u/vbraun/fix_command_line_plotting_keywords](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/fix_command_line_plotting_keywords)**",
    "created_at": "2014-11-04T20:22:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230776",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/fix_command_line_plotting_keywords](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/fix_command_line_plotting_keywords)**



---

archive/issue_events_244448.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-04T20:23:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17284#event-244448"
}
```



---

archive/issue_comments_230777.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2915e6213674568d4317183adddb2ba520d04f43\"><code>2915e62</code></a></td><td><code>Also use the viewer=... option to decide on 3d graphics output</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6c090e5bd8fcbed1d6f624d37e95c6c5a16093c\"><code>c6c090e</code></a></td><td><code>Make sure that _extra_kwds is always a dictionary</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c84805cafa9c5d1310145c9e31cd59e31fb7668f\"><code>c84805c</code></a></td><td><code>Warn about invalid viewer options</code></td></tr></table>\n",
    "created_at": "2014-11-04T20:23:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230777",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:8"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2915e6213674568d4317183adddb2ba520d04f43"><code>2915e62</code></a></td><td><code>Also use the viewer=... option to decide on 3d graphics output</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6c090e5bd8fcbed1d6f624d37e95c6c5a16093c"><code>c6c090e</code></a></td><td><code>Make sure that _extra_kwds is always a dictionary</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c84805cafa9c5d1310145c9e31cd59e31fb7668f"><code>c84805c</code></a></td><td><code>Warn about invalid viewer options</code></td></tr></table>




---

archive/issue_comments_230778.json:
```json
{
    "body": "Commit: **[`c84805c`](https://github.com/sagemath/sagetrac-mirror/commit/c84805cafa9c5d1310145c9e31cd59e31fb7668f)**",
    "created_at": "2014-11-04T20:23:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230778",
    "user": "https://github.com/vbraun"
}
```

Commit: **[`c84805c`](https://github.com/sagemath/sagetrac-mirror/commit/c84805cafa9c5d1310145c9e31cd59e31fb7668f)**



---

archive/issue_comments_230779.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2014-11-04T20:23:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230779",
    "user": "https://github.com/vbraun"
}
```

Author: **Volker Braun**



---

archive/issue_comments_230780.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI can't test it out immediately because I don't have time to compile up to rc1 right now, but this seems okay.  \n\nOnly one question - there are other viewers (e.g. canvas3d) available in the notebook, so I assume this code will only be reached in the command line?  Currently we get, in the command line,\n\n```\n\nsage: cube().show(viewer='canvas3d')\n---------------------------------------------------------------------------\n<snip>\nUnboundLocalError: local variable 'viewer_app' referenced before assignment\n```\nwhich isn't all that helpful either, I have to admit.",
    "created_at": "2014-11-04T20:38:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230780",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:9" align="right">comment:9</div>

I can't test it out immediately because I don't have time to compile up to rc1 right now, but this seems okay.  

Only one question - there are other viewers (e.g. canvas3d) available in the notebook, so I assume this code will only be reached in the command line?  Currently we get, in the command line,

```

sage: cube().show(viewer='canvas3d')
---------------------------------------------------------------------------
<snip>
UnboundLocalError: local variable 'viewer_app' referenced before assignment
```
which isn't all that helpful either, I have to admit.



---

archive/issue_comments_230781.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThis shouldn't change anything on SageNB.\n\nOther viewers are not supported on the command line, nothing changed there:\n\n```\nsage: cube(viewer='canvas3d')\n/home/vbraun/Sage/git-develop/local/lib/python2.7/site-packages/sage/repl/display/formatter.py:380: UserWarning: viewer=canvas3d is not supported\n  gfx = obj._graphics_()\n```\nReally, the issue is the code quality in the 3d plots. Everything and their dog is lumped in a giant `show()` method with tons of if-branches, behaving slightly different depending on some global variables. I'll break all that up into separate methods in #17234.",
    "created_at": "2014-11-04T21:10:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230781",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">comment:10</div>

This shouldn't change anything on SageNB.

Other viewers are not supported on the command line, nothing changed there:

```
sage: cube(viewer='canvas3d')
/home/vbraun/Sage/git-develop/local/lib/python2.7/site-packages/sage/repl/display/formatter.py:380: UserWarning: viewer=canvas3d is not supported
  gfx = obj._graphics_()
```
Really, the issue is the code quality in the 3d plots. Everything and their dog is lumped in a giant `show()` method with tons of if-branches, behaving slightly different depending on some global variables. I'll break all that up into separate methods in #17234.



---

archive/issue_comments_230782.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nWhy do we reinvent the `show()` wheel inside `_graphics_()`?",
    "created_at": "2014-11-04T21:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230782",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

Why do we reinvent the `show()` wheel inside `_graphics_()`?



---

archive/issue_comments_230783.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIn other words, what's wrong with:\n\n```\ndef _graphics_(self, **kwds):\n    self.show(**kwds)\n```\n\nEven if there is something wrong with the above, perhaps the right solution is to fix `show()` instead of inventing a new function `_graphics_` doing mostly the same.",
    "created_at": "2014-11-04T21:44:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230783",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

In other words, what's wrong with:

```
def _graphics_(self, **kwds):
    self.show(**kwds)
```

Even if there is something wrong with the above, perhaps the right solution is to fix `show()` instead of inventing a new function `_graphics_` doing mostly the same.



---

archive/issue_comments_230784.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@kcrisman](#comment:9):\n> Currently we get, in the command line,\n> \n> ```\n> \n> sage: cube().show(viewer='canvas3d')\n> ---------------------------------------------------------------------------\n> <snip>\n> UnboundLocalError: local variable 'viewer_app' referenced before assignment\n> ```\n\nThis is fixed in #16640 by raising a better error message.",
    "created_at": "2014-11-04T22:04:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230784",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@kcrisman](#comment:9):
> Currently we get, in the command line,
> 
> ```
> 
> sage: cube().show(viewer='canvas3d')
> ---------------------------------------------------------------------------
> <snip>
> UnboundLocalError: local variable 'viewer_app' referenced before assignment
> ```

This is fixed in #16640 by raising a better error message.



---

archive/issue_comments_230785.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n`_graphics_` only handles finding the appropriate output. The actual generation of graphics files is dispatched elsewhere. And no global variables allowed. \n\nEverything is wrong with `show`, its a giant pile of shite. I'm slowly refactoring it into something maintainable if we have 3+ separate output channels.",
    "created_at": "2014-11-04T22:18:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230785",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:14" align="right">comment:14</div>

`_graphics_` only handles finding the appropriate output. The actual generation of graphics files is dispatched elsewhere. And no global variables allowed. 

Everything is wrong with `show`, its a giant pile of shite. I'm slowly refactoring it into something maintainable if we have 3+ separate output channels.



---

archive/issue_comments_230786.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@vbraun](#comment:14):\n> `_graphics_` only handles finding the appropriate output. The actual generation of graphics files is dispatched elsewhere. And no global variables allowed. \n> \n> Everything is wrong with `show`, its a giant pile of shite. I'm slowly refactoring it into something maintainable if we have 3+ separate output channels.\n\nIf your solution is to *move* stuff from `show` to somewhere else, I agree. Just don't \"fix\" `show` by re-inventing its functionality.\n\n(I have seen the following too often: X is broken. Instead of fixing X, somebody invents Y which is similar to X but with other bugs)",
    "created_at": "2014-11-04T22:42:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230786",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@vbraun](#comment:14):
> `_graphics_` only handles finding the appropriate output. The actual generation of graphics files is dispatched elsewhere. And no global variables allowed. 
> 
> Everything is wrong with `show`, its a giant pile of shite. I'm slowly refactoring it into something maintainable if we have 3+ separate output channels.

If your solution is to *move* stuff from `show` to somewhere else, I agree. Just don't "fix" `show` by re-inventing its functionality.

(I have seen the following too often: X is broken. Instead of fixing X, somebody invents Y which is similar to X but with other bugs)



---

archive/issue_comments_230787.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThe whole premise of using a handful of global variables to steer the output pipeline is IMHO utter crap. It didn't work well when we had a single Notebook, and it sure as hell is a nightmare if we want to deal with 3 different notebooks at the same time. There needs to be some infrastructure to arbitrate between backend capabilities and user preferences. But I sure as hell don't want to reinvent how `show()` works, I'm getting PTSD whenever I look in there.",
    "created_at": "2014-11-04T23:27:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230787",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:16" align="right">comment:16</div>

The whole premise of using a handful of global variables to steer the output pipeline is IMHO utter crap. It didn't work well when we had a single Notebook, and it sure as hell is a nightmare if we want to deal with 3 different notebooks at the same time. There needs to be some infrastructure to arbitrate between backend capabilities and user preferences. But I sure as hell don't want to reinvent how `show()` works, I'm getting PTSD whenever I look in there.



---

archive/issue_comments_230788.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nIs this the intended behavior? From the notebook\n\n```\nsphere(viewer='java')\n```       \t\n\n```\n/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-package\\\ns/IPython/core/formatters.py:239: FormatterWarning: Exception in\ntext/plain formatter: Unknown 3d plot type: java\n  FormatterWarning,\nNone\n```\n\nwith no output, which is what I would expect. But from the Sage prompt\n\n```\n/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sage/repl/display/formatter.py:380: UserWarning: viewer=java is not supported\n  gfx = obj._graphics_()\n```\n\nand the jmol viewer is spawned. And if `sphere(viewer='java')` is typed again there is no warning and the jmol viewer is spawned.",
    "created_at": "2014-11-04T23:55:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230788",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:17" align="right">comment:17</div>

Is this the intended behavior? From the notebook

```
sphere(viewer='java')
```       	

```
/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-package\
s/IPython/core/formatters.py:239: FormatterWarning: Exception in
text/plain formatter: Unknown 3d plot type: java
  FormatterWarning,
None
```

with no output, which is what I would expect. But from the Sage prompt

```
/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sage/repl/display/formatter.py:380: UserWarning: viewer=java is not supported
  gfx = obj._graphics_()
```

and the jmol viewer is spawned. And if `sphere(viewer='java')` is typed again there is no warning and the jmol viewer is spawned.



---

archive/issue_comments_230789.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@vbraun](#comment:16):\n> The whole premise of using a handful of global variables to steer the output pipeline is IMHO utter crap. It didn't work well when we had a single Notebook, and it sure as hell is a nightmare if we want to deal with 3 different notebooks at the same time.\n\nI never said that `show()` was good, I'm just warning: don't make it worse! IMHO, the introduction of `_graphics_` *did* make things worse but maybe that's just a local minimum.",
    "created_at": "2014-11-05T07:13:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230789",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@vbraun](#comment:16):
> The whole premise of using a handful of global variables to steer the output pipeline is IMHO utter crap. It didn't work well when we had a single Notebook, and it sure as hell is a nightmare if we want to deal with 3 different notebooks at the same time.

I never said that `show()` was good, I'm just warning: don't make it worse! IMHO, the introduction of `_graphics_` *did* make things worse but maybe that's just a local minimum.



---

archive/issue_comments_230790.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nHad I tacked on the IPython notebook with yet another global variable and extra if branches then it would have caused bugs, too...",
    "created_at": "2014-11-05T10:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230790",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:19" align="right">comment:19</div>

Had I tacked on the IPython notebook with yet another global variable and extra if branches then it would have caused bugs, too...



---

archive/issue_comments_230791.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@strogdon](#comment:17):\n> Is this the intended behavior? From the notebook\n> \n> ```\n> sphere(viewer='java')\n> /64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-package\\\n> s/IPython/core/formatters.py:239: FormatterWarning: Exception in\n> text/plain formatter: Unknown 3d plot type: java\n>   FormatterWarning,\n> None\n> ```\n\nAs far as I'm concerned, this is the regrettable state of current affairs but not really on-topic for this ticket. Sphere should validate input when the graphics object is created, not fall flat on its face later on when it is about to be drawn.",
    "created_at": "2014-11-05T10:16:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230791",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@strogdon](#comment:17):
> Is this the intended behavior? From the notebook
> 
> ```
> sphere(viewer='java')
> /64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-package\
> s/IPython/core/formatters.py:239: FormatterWarning: Exception in
> text/plain formatter: Unknown 3d plot type: java
>   FormatterWarning,
> None
> ```

As far as I'm concerned, this is the regrettable state of current affairs but not really on-topic for this ticket. Sphere should validate input when the graphics object is created, not fall flat on its face later on when it is about to be drawn.



---

archive/issue_comments_230792.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nTwo comments that hopefully will keep us on target:\n> Is this the intended behavior? From the notebook `sphere(viewer='java')` ...\n\nNo, but I think this was already the case earlier, although the error messages probably will have changed.  We can't necessarily validate EVERY input, as I've been told when I've attempted to on many other tickets... incidentally, there is the `java3d` viewer or something like it, but again that only works (actually, doesn't, there is a ticket for that too) in the notebook.\n> Why do we reinvent the show() wheel inside _graphics_()?  <and that discussion>\n\nThis is a noble goal and I totally agree that the 3d graphics show code is miserable due to accretion of layers over the years, but I think it probably isn't really worth the effort to fix that *right now* because it will be pretty hard to test for all possible bugs easily.  On the other hand, putting something like that in an early beta someday when there aren't actual bugs to fix seems fine.\n\nIt's also worth pointing out that one reason that is so messy is because the actual creation of most plots is viewer-agnostic, which was deemed to be \"a good thing\" by TBDFL.",
    "created_at": "2014-11-05T13:09:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230792",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:21" align="right">comment:21</div>

Two comments that hopefully will keep us on target:
> Is this the intended behavior? From the notebook `sphere(viewer='java')` ...

No, but I think this was already the case earlier, although the error messages probably will have changed.  We can't necessarily validate EVERY input, as I've been told when I've attempted to on many other tickets... incidentally, there is the `java3d` viewer or something like it, but again that only works (actually, doesn't, there is a ticket for that too) in the notebook.
> Why do we reinvent the show() wheel inside _graphics_()?  <and that discussion>

This is a noble goal and I totally agree that the 3d graphics show code is miserable due to accretion of layers over the years, but I think it probably isn't really worth the effort to fix that *right now* because it will be pretty hard to test for all possible bugs easily.  On the other hand, putting something like that in an early beta someday when there aren't actual bugs to fix seems fine.

It's also worth pointing out that one reason that is so messy is because the actual creation of most plots is viewer-agnostic, which was deemed to be "a good thing" by TBDFL.



---

archive/issue_comments_230793.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nCreation of plots should of course be viewer-agnostic. The problem is that the modularity stops there and drops into a monolithic if-branch thicket (that is moreover hard to test). There are more modular problems here, like creating the rendering / viewer files, what to do with the output files, arbitrating capabilities versus user preferences.",
    "created_at": "2014-11-05T13:14:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230793",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:22" align="right">comment:22</div>

Creation of plots should of course be viewer-agnostic. The problem is that the modularity stops there and drops into a monolithic if-branch thicket (that is moreover hard to test). There are more modular problems here, like creating the rendering / viewer files, what to do with the output files, arbitrating capabilities versus user preferences.



---

archive/issue_comments_230794.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI guess you already know the following; I'm just posting for the sake of completeness. The commit which caused the originally reported problem, i.e. opening JMOL instead of a PNG viewer, was caused by commit [e7e7f9c](https://github.com/sagemath/sagetrac-mirror/commit/e7e7f9ce036343c4eb414434c93265461f3bced5) by Volker. Which is not surprising in hindsight: it changed the `_graphics_` implementation from `self.show()` to something which does `self.save(filename)` with a JMOL file unless some different `mime_types` gets passed. Which is exactly the location Volker's current branch here is tweaking.",
    "created_at": "2014-11-05T13:15:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230794",
    "user": "https://github.com/gagern"
}
```

<div id="comment:23" align="right">comment:23</div>

I guess you already know the following; I'm just posting for the sake of completeness. The commit which caused the originally reported problem, i.e. opening JMOL instead of a PNG viewer, was caused by commit [e7e7f9c](https://github.com/sagemath/sagetrac-mirror/commit/e7e7f9ce036343c4eb414434c93265461f3bced5) by Volker. Which is not surprising in hindsight: it changed the `_graphics_` implementation from `self.show()` to something which does `self.save(filename)` with a JMOL file unless some different `mime_types` gets passed. Which is exactly the location Volker's current branch here is tweaking.



---

archive/issue_comments_230795.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n> I guess you already know the following; I'm just posting for the sake of completeness. \n\nThanks for confirming this.\n\nIf you have already tried this and are satisfied with the code and behavior, feel free to put positive review - I haven't been able to upgrade Sage to the right place yet.",
    "created_at": "2014-11-05T13:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230795",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:24" align="right">comment:24</div>

> I guess you already know the following; I'm just posting for the sake of completeness. 

Thanks for confirming this.

If you have already tried this and are satisfied with the code and behavior, feel free to put positive review - I haven't been able to upgrade Sage to the right place yet.



---

archive/issue_comments_230796.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@gagern](#comment:23):\n> The commit which caused the originally reported problem, i.e. opening JMOL instead of a PNG viewer, was caused by commit [e7e7f9c](https://github.com/sagemath/sagetrac-mirror/commit/e7e7f9ce036343c4eb414434c93265461f3bced5) by Volker.\n\nWhich is also precisely why the current `show()` is such a pile of shit: virtually no meaningful doctests, any time you touch something it is almost guaranteed to cause an error somewhere.",
    "created_at": "2014-11-05T14:21:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230796",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@gagern](#comment:23):
> The commit which caused the originally reported problem, i.e. opening JMOL instead of a PNG viewer, was caused by commit [e7e7f9c](https://github.com/sagemath/sagetrac-mirror/commit/e7e7f9ce036343c4eb414434c93265461f3bced5) by Volker.

Which is also precisely why the current `show()` is such a pile of shit: virtually no meaningful doctests, any time you touch something it is almost guaranteed to cause an error somewhere.



---

archive/issue_comments_230797.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\n> > The commit which caused the originally reported problem, i.e. opening JMOL instead of a PNG viewer, was caused by commit [e7e7f9c](https://github.com/sagemath/sagetrac-mirror/commit/e7e7f9ce036343c4eb414434c93265461f3bced5) by Volker.\n\n> \n> Which is also precisely why the current `show()` is such a pile of ****: virtually no meaningful doctests, any time you touch something it is almost guaranteed to cause an error somewhere.\n\nTrue, though that *still* might not make dealing with it worth the while as compared to other things one could spend time on.  That's why I always visually tested output when I reviewed changes in things related to it, though probably one would want to do so in any case - esp. given that we can't do like mpl and have pre-existing files to test against, at least I don't think so.",
    "created_at": "2014-11-05T14:31:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230797",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:26" align="right">comment:26</div>

> > The commit which caused the originally reported problem, i.e. opening JMOL instead of a PNG viewer, was caused by commit [e7e7f9c](https://github.com/sagemath/sagetrac-mirror/commit/e7e7f9ce036343c4eb414434c93265461f3bced5) by Volker.

> 
> Which is also precisely why the current `show()` is such a pile of ****: virtually no meaningful doctests, any time you touch something it is almost guaranteed to cause an error somewhere.

True, though that *still* might not make dealing with it worth the while as compared to other things one could spend time on.  That's why I always visually tested output when I reviewed changes in things related to it, though probably one would want to do so in any case - esp. given that we can't do like mpl and have pre-existing files to test against, at least I don't think so.



---

archive/issue_comments_230798.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@kcrisman](#comment:26):\n> given that we can't do like mpl and have pre-existing files to test against, at least I don't think so.\n\nWe could in theory hash the resulting PNG file and check that in a doctest. However, I don't know how workable that would be in practice.",
    "created_at": "2014-11-05T14:44:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230798",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@kcrisman](#comment:26):
> given that we can't do like mpl and have pre-existing files to test against, at least I don't think so.

We could in theory hash the resulting PNG file and check that in a doctest. However, I don't know how workable that would be in practice.



---

archive/issue_comments_230799.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nApart from testing that the output pipeline ends in the place we thought it ends, we should also compare with the resulting rastered image (though was not what I was talking about previously). We can't do pixel comparisons because that might depend on rounding, installed fonts, and/or freetype version. The classical algorithm for that is to break up your picture in a grid (say, 10x10) and compare the color histogram in each sector with a small tolerance.",
    "created_at": "2014-11-05T14:48:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230799",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:28" align="right">comment:28</div>

Apart from testing that the output pipeline ends in the place we thought it ends, we should also compare with the resulting rastered image (though was not what I was talking about previously). We can't do pixel comparisons because that might depend on rounding, installed fonts, and/or freetype version. The classical algorithm for that is to break up your picture in a grid (say, 10x10) and compare the color histogram in each sector with a small tolerance.



---

archive/issue_comments_230800.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\n> This shouldn't change anything on SageNB.\n\nYup, looks good there now that I had a chance, and this does indeed fix the previous problem.",
    "created_at": "2014-11-05T17:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230800",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:29" align="right">comment:29</div>

> This shouldn't change anything on SageNB.

Yup, looks good there now that I had a chance, and this does indeed fix the previous problem.



---

archive/issue_comments_230801.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nSince several people have commented here, I'm reluctant to be the final one to set to positive review.  But FWIW I don't hear any complaints about the code itself, just that Sage and show need help and that some undesirable behavior that isn't documented is or isn't still happening.  But the issue at hand seems to be fixed.",
    "created_at": "2014-11-06T14:46:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230801",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:30" align="right">comment:30</div>

Since several people have commented here, I'm reluctant to be the final one to set to positive review.  But FWIW I don't hear any complaints about the code itself, just that Sage and show need help and that some undesirable behavior that isn't documented is or isn't still happening.  But the issue at hand seems to be fixed.



---

archive/issue_comments_230802.json:
```json
{
    "body": "Reviewer: **Steven Trogdon, Karl-Dieter Crisman, Jeroen Demeyer, Martin von Gagern**",
    "created_at": "2014-11-06T14:46:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230802",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Steven Trogdon, Karl-Dieter Crisman, Jeroen Demeyer, Martin von Gagern**



---

archive/issue_comments_230803.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nCan somebody grow a pair and set this to positive review already?",
    "created_at": "2014-11-09T12:19:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230803",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:31" align="right">comment:31</div>

Can somebody grow a pair and set this to positive review already?



---

archive/issue_events_244449.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-11-10T23:31:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17284#event-244449"
}
```



---

archive/issue_events_244450.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-11-10T23:31:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17284#event-244450"
}
```



---

archive/issue_comments_230804.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI think all the people commenting here didn't really have a problem with the code, since you don't want to push the button yourself Volker I'll do it on behalf of all those commentators.",
    "created_at": "2014-11-10T23:31:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230804",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:32" align="right">comment:32</div>

I think all the people commenting here didn't really have a problem with the code, since you don't want to push the button yourself Volker I'll do it on behalf of all those commentators.



---

archive/issue_events_244451.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-11T17:00:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17284#event-244451"
}
```



---

archive/issue_events_244452.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f02afd1d98d5712f3250a9ba49c2f32d46b7aad0",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-11-11T17:00:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17284#event-244452"
}
```



---

archive/issue_comments_230805.json:
```json
{
    "body": "Changed branch from **[u/vbraun/fix_command_line_plotting_keywords](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/fix_command_line_plotting_keywords)** to **[`c84805c`](https://github.com/sagemath/sagetrac-mirror/commit/c84805cafa9c5d1310145c9e31cd59e31fb7668f)**",
    "created_at": "2014-11-11T17:00:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17284#issuecomment-230805",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/fix_command_line_plotting_keywords](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/fix_command_line_plotting_keywords)** to **[`c84805c`](https://github.com/sagemath/sagetrac-mirror/commit/c84805cafa9c5d1310145c9e31cd59e31fb7668f)**
