# Issue 17581: resolvable BIBD

archive/issues_017344.json:
```json
{
    "assignees": [],
    "body": "This branch adds resolvable_bibd.py to combinat/designs/. It contains a couple of constructions for resolvable (v,k,1)-BIBD when k=3,4.\n\nNot all RBIBD with k=3,4 can be built, but I have on my computer the general construction for RBIBD with k=3. This is part of it, and the rest will follow in small pieces, as there are many \"design questions\" involved.\n\nNathann\n\nCC:  @videlec @dimpase\n\nBranch/Commit: **[3e25827](https://github.com/sagemath/sagetrac-mirror/commit/3e25827aae4d94fe98919afd6eabe7398059fda5)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Nathann Cohen**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17581_\n\n",
    "closed_at": "2015-01-24T13:19:09Z",
    "created_at": "2015-01-04T06:40:22Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorial%20designs",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "resolvable BIBD",
    "type": "issue",
    "updated_at": "2015-01-24T13:19:09Z",
    "url": "https://github.com/sagemath/sage/issues/17581",
    "user": "https://github.com/nathanncohen"
}
```
This branch adds resolvable_bibd.py to combinat/designs/. It contains a couple of constructions for resolvable (v,k,1)-BIBD when k=3,4.

Not all RBIBD with k=3,4 can be built, but I have on my computer the general construction for RBIBD with k=3. This is part of it, and the rest will follow in small pieces, as there are many "design questions" involved.

Nathann

CC:  @videlec @dimpase

Branch/Commit: **[3e25827](https://github.com/sagemath/sagetrac-mirror/commit/3e25827aae4d94fe98919afd6eabe7398059fda5)**

Reviewer: **Vincent Delecroix**

Author: **Nathann Cohen**

_Issue created by migration from https://trac.sagemath.org/ticket/17581_





---

archive/issue_events_232865.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-04T06:40:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232865"
}
```



---

archive/issue_events_232866.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-04T06:40:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorial%20designs",
    "label_color": "0000ff",
    "label_name": "component: combinatorial designs",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232866"
}
```



---

archive/issue_events_232867.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-04T06:40:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232867"
}
```



---

archive/issue_events_232868.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-04T06:40:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232868"
}
```



---

archive/issue_comments_238602.json:
```json
{
    "body": "Branch: **[public/17581](https://github.com/sagemath/sagetrac-mirror/tree/public/17581)**",
    "created_at": "2015-01-04T06:40:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238602",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[public/17581](https://github.com/sagemath/sagetrac-mirror/tree/public/17581)**



---

archive/issue_events_232869.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-04T06:40:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232869"
}
```



---

archive/issue_comments_238603.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6abc364f4fd25e4f6bbc3e24b1d7f9dbf5ddc51e\">6abc364</a></td><td><code>trac #17581: Resolvable BIBD</code></td></tr></table>\n",
    "created_at": "2015-01-04T06:41:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238603",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6abc364f4fd25e4f6bbc3e24b1d7f9dbf5ddc51e">6abc364</a></td><td><code>trac #17581: Resolvable BIBD</code></td></tr></table>




---

archive/issue_comments_238604.json:
```json
{
    "body": "Commit: **[6abc364](https://github.com/sagemath/sagetrac-mirror/commit/6abc364f4fd25e4f6bbc3e24b1d7f9dbf5ddc51e)**",
    "created_at": "2015-01-04T06:41:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238604",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[6abc364](https://github.com/sagemath/sagetrac-mirror/commit/6abc364f4fd25e4f6bbc3e24b1d7f9dbf5ddc51e)**



---

archive/issue_comments_238605.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1235bad6ae59f20d6ecb160c2126a9c6b134d7bb\">1235bad</a></td><td><code>trac #17581: Resolvable BIBD</code></td></tr></table>\n",
    "created_at": "2015-01-04T06:54:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238605",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1235bad6ae59f20d6ecb160c2126a9c6b134d7bb">1235bad</a></td><td><code>trac #17581: Resolvable BIBD</code></td></tr></table>




---

archive/issue_comments_238606.json:
```json
{
    "body": "Changed commit from **[6abc364](https://github.com/sagemath/sagetrac-mirror/commit/6abc364f4fd25e4f6bbc3e24b1d7f9dbf5ddc51e)** to **[1235bad](https://github.com/sagemath/sagetrac-mirror/commit/1235bad6ae59f20d6ecb160c2126a9c6b134d7bb)**",
    "created_at": "2015-01-04T06:54:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238606",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6abc364](https://github.com/sagemath/sagetrac-mirror/commit/6abc364f4fd25e4f6bbc3e24b1d7f9dbf5ddc51e)** to **[1235bad](https://github.com/sagemath/sagetrac-mirror/commit/1235bad6ae59f20d6ecb160c2126a9c6b134d7bb)**



---

archive/issue_comments_238607.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nHello Nathann,\n\n1) What's the point of\n\n```\n-Balanced Incomplete Block Designs (BIBD)\n+(BIBD) Balanced Incomplete Block Designs\n```\nI prefer the former.\n\n2) Do you know if difference family/difference set can be used to generate RBIBD? (It seems to be no, I will think about it)\n\nwill continue later.\nVincent",
    "created_at": "2015-01-14T18:00:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238607",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">Comment 4</div>

Hello Nathann,

1) What's the point of

```
-Balanced Incomplete Block Designs (BIBD)
+(BIBD) Balanced Incomplete Block Designs
```
I prefer the former.

2) Do you know if difference family/difference set can be used to generate RBIBD? (It seems to be no, I will think about it)

will continue later.
Vincent



---

archive/issue_comments_238608.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nYooooooo !\n\n> 1) What's the point of\n> \n> ```\n> -Balanced Incomplete Block Designs (BIBD)\n> +(BIBD) Balanced Incomplete Block Designs\n> ```\n> I prefer the former.\n\nOh. I made that change because ultimately it will be easier to read in this page:\n\nhttp://www.sagemath.org/doc/reference/combinat/designs.html\n\nThe lines will begin with BIBD/BIBD,GDD, i.e. the signs that we are used to see and spot easily.\n\n> 2) Do you know if difference family/difference set can be used to generate RBIBD? (It seems to be no, I will think about it)\n\nI think that I saw something like that in the `Beth/Jungnickel/Lenz` book I sent you. No clearer memory, sorry `:-/`\n\nNathann",
    "created_at": "2015-01-14T18:52:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238608",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">Comment 5</div>

Yooooooo !

> 1) What's the point of
> 
> ```
> -Balanced Incomplete Block Designs (BIBD)
> +(BIBD) Balanced Incomplete Block Designs
> ```
> I prefer the former.

Oh. I made that change because ultimately it will be easier to read in this page:

http://www.sagemath.org/doc/reference/combinat/designs.html

The lines will begin with BIBD/BIBD,GDD, i.e. the signs that we are used to see and spot easily.

> 2) Do you know if difference family/difference set can be used to generate RBIBD? (It seems to be no, I will think about it)

I think that I saw something like that in the `Beth/Jungnickel/Lenz` book I sent you. No clearer memory, sorry `:-/`

Nathann



---

archive/issue_comments_238609.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nReplying to [@nathanncohen](#comment%3A5):\n> Yooooooo !\n> \n> > 1) What's the point of\n> > \n> > ```\n> > -Balanced Incomplete Block Designs (BIBD)\n> > +(BIBD) Balanced Incomplete Block Designs\n> > ```\n> > I prefer the former.\n\n> \n> Oh. I made that change because ultimately it will be easier to read in this page:\n> \n> http://www.sagemath.org/doc/reference/combinat/designs.html\n\n>\n> The lines will begin with BIBD/BIBD,GDD, i.e. the signs that we are used to see and spot easily.\n\nI do not find it easier to read. Could we stick with\n\n```\nCrazy Complete Name (CCN)\n```\n> > 2) Do you know if difference family/difference set can be used to generate RBIBD? (It seems to be no, I will think about it)\n\n> \n> I think that I saw something like that in the `Beth/Jungnickel/Lenz` book I sent you. No clearer memory, sorry `:-/`\n\nNot simple... parallel classes do not fit very well with group actions.\n\nVincent",
    "created_at": "2015-01-16T17:51:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238609",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">Comment 6</div>

Replying to [@nathanncohen](#comment%3A5):
> Yooooooo !
> 
> > 1) What's the point of
> > 
> > ```
> > -Balanced Incomplete Block Designs (BIBD)
> > +(BIBD) Balanced Incomplete Block Designs
> > ```
> > I prefer the former.

> 
> Oh. I made that change because ultimately it will be easier to read in this page:
> 
> http://www.sagemath.org/doc/reference/combinat/designs.html

>
> The lines will begin with BIBD/BIBD,GDD, i.e. the signs that we are used to see and spot easily.

I do not find it easier to read. Could we stick with

```
Crazy Complete Name (CCN)
```
> > 2) Do you know if difference family/difference set can be used to generate RBIBD? (It seems to be no, I will think about it)

> 
> I think that I saw something like that in the `Beth/Jungnickel/Lenz` book I sent you. No clearer memory, sorry `:-/`

Not simple... parallel classes do not fit very well with group actions.

Vincent



---

archive/issue_comments_238610.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nYo,\n\n> I do not find it easier to read. Could we stick with\n> \n> ```\n> Crazy Complete Name (CCN)\n> ```\n\nIf you insist.... Please tell me what other things you would like to change in this commit, I'll address all of it at once.\n\n> Not simple... parallel classes do not fit very well with group actions.\n\nDepends.. In the constrution I have on my computer for KTS there are several designs built from difference families.\n\nThey are resolvable, but then some new points are added to build larger designs. Well, you will see.\n\nFor the moment it is not a Sage patch because there are many things in `needs_review`, and that writing the commit now will mean a lot of conflicts to solve later.\n\nNathann",
    "created_at": "2015-01-16T17:57:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238610",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">Comment 7</div>

Yo,

> I do not find it easier to read. Could we stick with
> 
> ```
> Crazy Complete Name (CCN)
> ```

If you insist.... Please tell me what other things you would like to change in this commit, I'll address all of it at once.

> Not simple... parallel classes do not fit very well with group actions.

Depends.. In the constrution I have on my computer for KTS there are several designs built from difference families.

They are resolvable, but then some new points are added to build larger designs. Well, you will see.

For the moment it is not a Sage patch because there are many things in `needs_review`, and that writing the commit now will mean a lot of conflicts to solve later.

Nathann



---

archive/issue_comments_238611.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nHello,\n\nSee my commit at `u/vdelecroix/17581`.\n\n1) Why not return an object with type `BalancedIncompleteBlockDesign`. That way you can add to the examples `.is_resolvable()`. (moreover, contrarily to the others `v_4_1_rbibd` does!?)\n\n2) The lines\n\n```\nbla.extend([a**(i+j0),a**(i+j1),a**(i+j2)] for i in a_big_list])\n```\nare ugly... I changed a bit one of them but I am still not happy to have a quadratic complexity when linear is doable.\n\n3) I used `discrete_log` where you did a `while` loop... should be faster.\n\nVincent",
    "created_at": "2015-01-16T21:13:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238611",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">Comment 8</div>

Hello,

See my commit at `u/vdelecroix/17581`.

1) Why not return an object with type `BalancedIncompleteBlockDesign`. That way you can add to the examples `.is_resolvable()`. (moreover, contrarily to the others `v_4_1_rbibd` does!?)

2) The lines

```
bla.extend([a**(i+j0),a**(i+j1),a**(i+j2)] for i in a_big_list])
```
are ugly... I changed a bit one of them but I am still not happy to have a quadratic complexity when linear is doable.

3) I used `discrete_log` where you did a `while` loop... should be faster.

Vincent



---

archive/issue_comments_238612.json:
```json
{
    "body": "Changed commit from **[1235bad](https://github.com/sagemath/sagetrac-mirror/commit/1235bad6ae59f20d6ecb160c2126a9c6b134d7bb)** to **[6ec96bf](https://github.com/sagemath/sagetrac-mirror/commit/6ec96bfe78beb32322dd37792b8712432f2efd64)**",
    "created_at": "2015-01-17T03:24:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238612",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[1235bad](https://github.com/sagemath/sagetrac-mirror/commit/1235bad6ae59f20d6ecb160c2126a9c6b134d7bb)** to **[6ec96bf](https://github.com/sagemath/sagetrac-mirror/commit/6ec96bfe78beb32322dd37792b8712432f2efd64)**



---

archive/issue_comments_238613.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ec96bfe78beb32322dd37792b8712432f2efd64\">6ec96bf</a></td><td><code>trac #17581: doc + simplification</code></td></tr></table>\n",
    "created_at": "2015-01-17T03:24:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238613",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">Comment 9</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ec96bfe78beb32322dd37792b8712432f2efd64">6ec96bf</a></td><td><code>trac #17581: doc + simplification</code></td></tr></table>




---

archive/issue_comments_238614.json:
```json
{
    "body": "Changed branch from **[public/17581](https://github.com/sagemath/sagetrac-mirror/tree/public/17581)** to **[u/vdelecroix/17581](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17581)**",
    "created_at": "2015-01-17T03:24:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238614",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[public/17581](https://github.com/sagemath/sagetrac-mirror/tree/public/17581)** to **[u/vdelecroix/17581](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17581)**



---

archive/issue_comments_238615.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nYo !\n\n> See my commit at `u/vdelecroix/17581`.\n\nLooks good. About the example of KTS at the beginning of the doc: I tried to write it in such a way that it is both informative and readable by users. Yours is prettier indeed, but.. Clearly harder to read. Anyway let's talk about this before it is changed, next time.\n\n> 1) Why not return an object with type `BalancedIncompleteBlockDesign`. That way you can add to the examples `.is_resolvable()`. (moreover, contrarily to the others `v_4_1_rbibd` does!?)\n\nI do not understand your sentence. Where isn't a `BalancedIncompleteBlockDesign` object returned?\n\n> 2) The lines\n> \n> ```\n> bla.extend([a**(i+j0),a**(i+j1),a**(i+j2)] for i in a_big_list])\n> ```\n\nAHahah. Well compared to the complexity of other parts of the algorithm I am sure that it makes no difference. By the way isn't it a `nlog(n)` complexity ? Exponents are cheap.\n\n> 3) I used `discrete_log` where you did a `while` loop... should be faster.\n\nOh thanks, I did not know that we had that. There must be some other spot where it is needed in the code then, for I am sure that I missed it once at least.\n\nAssuming that you see nothing else to change, I set this ticket to `positive_review`. Thanks for your help again, there would be no design code in Sage if not for that `^^;`\n\nNathann",
    "created_at": "2015-01-17T03:42:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238615",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:10" align="right">Comment 10</div>

Yo !

> See my commit at `u/vdelecroix/17581`.

Looks good. About the example of KTS at the beginning of the doc: I tried to write it in such a way that it is both informative and readable by users. Yours is prettier indeed, but.. Clearly harder to read. Anyway let's talk about this before it is changed, next time.

> 1) Why not return an object with type `BalancedIncompleteBlockDesign`. That way you can add to the examples `.is_resolvable()`. (moreover, contrarily to the others `v_4_1_rbibd` does!?)

I do not understand your sentence. Where isn't a `BalancedIncompleteBlockDesign` object returned?

> 2) The lines
> 
> ```
> bla.extend([a**(i+j0),a**(i+j1),a**(i+j2)] for i in a_big_list])
> ```

AHahah. Well compared to the complexity of other parts of the algorithm I am sure that it makes no difference. By the way isn't it a `nlog(n)` complexity ? Exponents are cheap.

> 3) I used `discrete_log` where you did a `while` loop... should be faster.

Oh thanks, I did not know that we had that. There must be some other spot where it is needed in the code then, for I am sure that I missed it once at least.

Assuming that you see nothing else to change, I set this ticket to `positive_review`. Thanks for your help again, there would be no design code in Sage if not for that `^^;`

Nathann



---

archive/issue_events_232870.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-17T03:42:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232870"
}
```



---

archive/issue_events_232871.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-17T03:42:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232871"
}
```



---

archive/issue_comments_238616.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2015-01-17T09:01:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238616",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_events_232872.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-01-17T09:01:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232872"
}
```



---

archive/issue_events_232873.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-01-17T09:01:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232873"
}
```



---

archive/issue_comments_238617.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nReplying to [@nathanncohen](#comment%3A10):\n> Yo !\n> \n> > See my commit at `u/vdelecroix/17581`.\n\n> \n> Looks good. About the example of KTS at the beginning of the doc: I tried to write it in such a way that it is both informative and readable by users. Yours is prettier indeed, but.. Clearly harder to read. Anyway let's talk about this before it is changed, next time.\n\nRight. I found it so ugly...\n\n> > 1) Why not return an object with type `BalancedIncompleteBlockDesign`. That way you can add to the examples `.is_resolvable()`. (moreover, contrarily to the others `v_4_1_rbibd` does!?)\n\n> \n> I do not understand your sentence. Where isn't a `BalancedIncompleteBlockDesign` object returned?\n\nlook at the case for `k=2` in `resolvable_balanced_incomplete_block_design`. And by the way\n\n```\nsage: KTS = designs.resolvable_balanced_incomplete_block_design(8,2); KTS\nTraceback (most recent call last):\n...\nTypeError: unhashable type: 'list'\n```\n\n> > 2) The lines\n> > \n> > ```\n> > bla.extend([a**(i+j0),a**(i+j1),a**(i+j2)] for i in a_big_list])\n> > ```\n\n> \n> AHahah. Well compared to the complexity of other parts of the algorithm I am sure that it makes no difference. By the way isn't it a `nlog(n)` complexity ? Exponents are cheap.\n\nRight. These are `n log(n)`, I realized that after I put on \"submit changes\".\n\n> > 3) I used `discrete_log` where you did a `while` loop... should be faster.\n\n> \n> Oh thanks, I did not know that we had that. There must be some other spot where it is needed in the code then, for I am sure that I missed it once at least.\n\nHum, strange. That you who spot these to me in a previous ticket ;-)\n \n> Assuming that you see nothing else to change, I set this ticket to `positive_review`. Thanks for your help again, there would be no design code in Sage if not for that `^^;`\n\nPlease fix the case `k=2`\n\nVincent",
    "created_at": "2015-01-17T09:01:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238617",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">Comment 11</div>

Replying to [@nathanncohen](#comment%3A10):
> Yo !
> 
> > See my commit at `u/vdelecroix/17581`.

> 
> Looks good. About the example of KTS at the beginning of the doc: I tried to write it in such a way that it is both informative and readable by users. Yours is prettier indeed, but.. Clearly harder to read. Anyway let's talk about this before it is changed, next time.

Right. I found it so ugly...

> > 1) Why not return an object with type `BalancedIncompleteBlockDesign`. That way you can add to the examples `.is_resolvable()`. (moreover, contrarily to the others `v_4_1_rbibd` does!?)

> 
> I do not understand your sentence. Where isn't a `BalancedIncompleteBlockDesign` object returned?

look at the case for `k=2` in `resolvable_balanced_incomplete_block_design`. And by the way

```
sage: KTS = designs.resolvable_balanced_incomplete_block_design(8,2); KTS
Traceback (most recent call last):
...
TypeError: unhashable type: 'list'
```

> > 2) The lines
> > 
> > ```
> > bla.extend([a**(i+j0),a**(i+j1),a**(i+j2)] for i in a_big_list])
> > ```

> 
> AHahah. Well compared to the complexity of other parts of the algorithm I am sure that it makes no difference. By the way isn't it a `nlog(n)` complexity ? Exponents are cheap.

Right. These are `n log(n)`, I realized that after I put on "submit changes".

> > 3) I used `discrete_log` where you did a `while` loop... should be faster.

> 
> Oh thanks, I did not know that we had that. There must be some other spot where it is needed in the code then, for I am sure that I missed it once at least.

Hum, strange. That you who spot these to me in a previous ticket ;-)
 
> Assuming that you see nothing else to change, I set this ticket to `positive_review`. Thanks for your help again, there would be no design code in Sage if not for that `^^;`

Please fix the case `k=2`

Vincent



---

archive/issue_comments_238618.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nYo !\n\n> look at the case for `k=2` in `resolvable_balanced_incomplete_block_design`. And by the way\n\nOkay, that was a bug and actually there were other bugs. It is fixed with this commit. This being said I still do not understand why you say that some part of the code does not return a BIBD, so I wouldn't mind if you could tell me exactly what the problem is.\n\nNathann",
    "created_at": "2015-01-17T11:06:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238618",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:12" align="right">Comment 12</div>

Yo !

> look at the case for `k=2` in `resolvable_balanced_incomplete_block_design`. And by the way

Okay, that was a bug and actually there were other bugs. It is fixed with this commit. This being said I still do not understand why you say that some part of the code does not return a BIBD, so I wouldn't mind if you could tell me exactly what the problem is.

Nathann



---

archive/issue_events_232874.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-17T11:07:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232874"
}
```



---

archive/issue_events_232875.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-17T11:07:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232875"
}
```



---

archive/issue_comments_238619.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/17581](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17581)** to **[public/17581](https://github.com/sagemath/sagetrac-mirror/tree/public/17581)**",
    "created_at": "2015-01-17T11:07:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238619",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/vdelecroix/17581](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/17581)** to **[public/17581](https://github.com/sagemath/sagetrac-mirror/tree/public/17581)**



---

archive/issue_comments_238620.json:
```json
{
    "body": "Changed commit from **[6ec96bf](https://github.com/sagemath/sagetrac-mirror/commit/6ec96bfe78beb32322dd37792b8712432f2efd64)** to **[3e25827](https://github.com/sagemath/sagetrac-mirror/commit/3e25827aae4d94fe98919afd6eabe7398059fda5)**",
    "created_at": "2015-01-17T11:07:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238620",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[6ec96bf](https://github.com/sagemath/sagetrac-mirror/commit/6ec96bfe78beb32322dd37792b8712432f2efd64)** to **[3e25827](https://github.com/sagemath/sagetrac-mirror/commit/3e25827aae4d94fe98919afd6eabe7398059fda5)**



---

archive/issue_comments_238621.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ccc19854252021b4de78cb7c4ce84ba1fbfb3ff\">2ccc198</a></td><td><code>trac #17581: Merged with 6.5.beta5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e25827aae4d94fe98919afd6eabe7398059fda5\">3e25827</a></td><td><code>trac #17581: Bugfix</code></td></tr></table>\n",
    "created_at": "2015-01-17T11:07:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238621",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:13" align="right">Comment 13</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ccc19854252021b4de78cb7c4ce84ba1fbfb3ff">2ccc198</a></td><td><code>trac #17581: Merged with 6.5.beta5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e25827aae4d94fe98919afd6eabe7398059fda5">3e25827</a></td><td><code>trac #17581: Bugfix</code></td></tr></table>




---

archive/issue_comments_238622.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@nathanncohen](#comment%3A12):\n> Yo !\n> \n> > look at the case for `k=2` in `resolvable_balanced_incomplete_block_design`. And by the way\n\n> \n> Okay, that was a bug and actually there were other bugs. It is fixed with this commit. This being said I still do not understand why you say that some part of the code does not return a BIBD, so I wouldn't mind if you could tell me exactly what the problem is.\n\nIt was precisely the case `k=2` which did not\n\n```\nclasses = B._classes\nreturn classes\n```\n\nVincent",
    "created_at": "2015-01-17T11:11:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238622",
    "user": "https://github.com/videlec"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@nathanncohen](#comment%3A12):
> Yo !
> 
> > look at the case for `k=2` in `resolvable_balanced_incomplete_block_design`. And by the way

> 
> Okay, that was a bug and actually there were other bugs. It is fixed with this commit. This being said I still do not understand why you say that some part of the code does not return a BIBD, so I wouldn't mind if you could tell me exactly what the problem is.

It was precisely the case `k=2` which did not

```
classes = B._classes
return classes
```

Vincent



---

archive/issue_comments_238623.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\n> It was precisely the case `k=2` which did not\n> \n> ```\n> classes = B._classes\n> return classes\n> ```\n\nNope. I still don't get it. There is not a single occurrence of \"return classes\" in the file.\n\nNathann",
    "created_at": "2015-01-17T11:19:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238623",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:15" align="right">Comment 15</div>

> It was precisely the case `k=2` which did not
> 
> ```
> classes = B._classes
> return classes
> ```

Nope. I still don't get it. There is not a single occurrence of "return classes" in the file.

Nathann



---

archive/issue_events_232876.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-01-17T14:37:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232876"
}
```



---

archive/issue_events_232877.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-01-17T14:37:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232877"
}
```



---

archive/issue_comments_238624.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nSorry, I was being stupid.\n\nVincent",
    "created_at": "2015-01-17T14:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238624",
    "user": "https://github.com/videlec"
}
```

<div id="comment:16" align="right">Comment 16</div>

Sorry, I was being stupid.

Vincent



---

archive/issue_comments_238625.json:
```json
{
    "body": "Changed branch from **[public/17581](https://github.com/sagemath/sagetrac-mirror/tree/public/17581)** to **[3e25827](https://github.com/sagemath/sagetrac-mirror/commit/3e25827aae4d94fe98919afd6eabe7398059fda5)**",
    "created_at": "2015-01-24T13:19:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17581#issuecomment-238625",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/17581](https://github.com/sagemath/sagetrac-mirror/tree/public/17581)** to **[3e25827](https://github.com/sagemath/sagetrac-mirror/commit/3e25827aae4d94fe98919afd6eabe7398059fda5)**



---

archive/issue_events_232878.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-24T13:19:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232878"
}
```



---

archive/issue_events_232879.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5d6964e1d1f2e37a8f244376d150affc2ba32cc3",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-01-24T13:19:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17581",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17581#event-232879"
}
```
