# Issue 17051: PentagonPoset and DiamondPoset, default argument for facade

archive/issues_016814.json:
```json
{
    "assignees": [],
    "body": "This triggers error:\n\n```\nP1=Posets.ChainPoset(3)\nP2=Posets.PentagonPoset().relabel(lambda x: x+10)\nP=Poset( (P1.list()+P2.list(), P1.cover_relations()+P2.cover_relations()) )\nP.show()\n```\n\nError message is `ValueError: element (=2) not in poset`. Reason was default value for argument `facade`. This is corrected in this ticket.\n\nSame bug was in `Posets.DiamondPoset()`. Also `Posets.DiamondPoset(2)` returns empty poset, `DiamondPoset(1)` gives error message. This is now changed in for `n <= 2` they raise exception.\n\n\nCC:  @nathanncohen\n\nBranch/Commit: **[044a0a0](https://github.com/sagemath/sagetrac-mirror/commit/044a0a09efb8621d1c2e53c78ffed8aef98bd43c)**\n\nReviewer: **Nathann Cohen**\n\nAuthor: **Jori M\u00e4ntysalo**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17051_\n\n",
    "closed_at": "2014-10-02T16:22:02Z",
    "created_at": "2014-09-26T21:30:55Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "PentagonPoset and DiamondPoset, default argument for facade",
    "type": "issue",
    "updated_at": "2014-10-02T16:22:02Z",
    "url": "https://github.com/sagemath/sage/issues/17051",
    "user": "https://github.com/jm58660"
}
```
This triggers error:

```
P1=Posets.ChainPoset(3)
P2=Posets.PentagonPoset().relabel(lambda x: x+10)
P=Poset( (P1.list()+P2.list(), P1.cover_relations()+P2.cover_relations()) )
P.show()
```

Error message is `ValueError: element (=2) not in poset`. Reason was default value for argument `facade`. This is corrected in this ticket.

Same bug was in `Posets.DiamondPoset()`. Also `Posets.DiamondPoset(2)` returns empty poset, `DiamondPoset(1)` gives error message. This is now changed in for `n <= 2` they raise exception.


CC:  @nathanncohen

Branch/Commit: **[044a0a0](https://github.com/sagemath/sagetrac-mirror/commit/044a0a09efb8621d1c2e53c78ffed8aef98bd43c)**

Reviewer: **Nathann Cohen**

Author: **Jori Mäntysalo**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/17051_





---

archive/issue_events_243644.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-26T21:30:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243644"
}
```



---

archive/issue_events_243645.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-26T21:30:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243645"
}
```



---

archive/issue_events_243646.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-26T21:30:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243646"
}
```



---

archive/issue_events_243647.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-26T21:30:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243647"
}
```



---

archive/issue_comments_225884.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nIs this related to #14019? You don't get same error message if you say `P.cover_relations()` and then manually make same poset. So there is something with `relabel()` happening.",
    "created_at": "2014-09-27T06:17:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225884",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:1" align="right">comment:1</div>

Is this related to #14019? You don't get same error message if you say `P.cover_relations()` and then manually make same poset. So there is something with `relabel()` happening.



---

archive/issue_comments_225885.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nOkay, I'll add a message in #14019, they have been wasting my time for long enough.",
    "created_at": "2014-09-27T10:19:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225885",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:2" align="right">comment:2</div>

Okay, I'll add a message in #14019, they have been wasting my time for long enough.



---

archive/issue_comments_225886.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nOn discussion at #14019 tscrim wasn't sure if this relates to same relabeling thing or not. I move this to wontfix-milestone, but will not marked as positive review yet.",
    "created_at": "2014-09-27T15:08:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225886",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:3" align="right">comment:3</div>

On discussion at #14019 tscrim wasn't sure if this relates to same relabeling thing or not. I move this to wontfix-milestone, but will not marked as positive review yet.



---

archive/issue_events_243648.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-27T15:08:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243648"
}
```



---

archive/issue_events_243649.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-27T15:08:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243649"
}
```



---

archive/issue_events_243650.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-27T15:08:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243650"
}
```



---

archive/issue_comments_225887.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nMore about this. Problem is that `type(Posets.PentagonPoset().list()[0])` is `sage.combinat.posets.elements.FiniteLatticePoset_with_category.element_class`, whereas for example `type(Posets.RandomPoset(1,0).list()[0])` is `sage.rings.integer.Integer`. Problem can be seen for example by\n\n```\nP1=Posets.PentagonPoset()\nP2=Poset({'a':['b','c']})\nP=Poset( (P1.list()+P2.list(), []) )\nP.show()\n```",
    "created_at": "2014-09-27T15:35:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225887",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:4" align="right">comment:4</div>

More about this. Problem is that `type(Posets.PentagonPoset().list()[0])` is `sage.combinat.posets.elements.FiniteLatticePoset_with_category.element_class`, whereas for example `type(Posets.RandomPoset(1,0).list()[0])` is `sage.rings.integer.Integer`. Problem can be seen for example by

```
P1=Posets.PentagonPoset()
P2=Poset({'a':['b','c']})
P=Poset( (P1.list()+P2.list(), []) )
P.show()
```



---

archive/issue_events_243651.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-27T15:36:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243651"
}
```



---

archive/issue_comments_225888.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nMore fun:\n\n```\nx=Poset(Posets.PentagonPoset().hasse_diagram()).list()[1]\nprint x\nprint x+1\n```\n\noutputs\n\n```\n2\n4\n```",
    "created_at": "2014-09-27T15:40:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225888",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:6" align="right">comment:6</div>

More fun:

```
x=Poset(Posets.PentagonPoset().hasse_diagram()).list()[1]
print x
print x+1
```

outputs

```
2
4
```



---

archive/issue_comments_225889.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI HATE THIS CODE. You cannot for one second even trust that it does what you think it should do.\n\nOkay, that's because there is in Poset(....) a keyword named \"facade\" (not how clearly it indicates what it does) that changes the type of the things inside of the poset.\n\n```\nsage: d = DiGraph({0:[1]})\nsage: map(type,Poset(d))\n[sage.rings.integer.Integer, sage.rings.integer.Integer]\nsage: map(type,Poset(d,facade=False))\n[sage.combinat.posets.elements.FinitePoset_with_category.element_class,\n sage.combinat.posets.elements.FinitePoset_with_category.element_class]\n```\n\nI had to fight a looooong time ago to obtain that facade becomes True by defaut in Posets. And now it is, but for some stupid reason the constructor of PentagonalPoset enforces facade=False. So the code should only be changed to follow the same default as the Poset constructor. Or even to remove this keyword in PentagonalPoset, or replace it with `**kwds`... Anything `-_-`\n\nBy the way: the real explanation is that the + has been changed to mean \"join\" or \"meet\". It is not had to find out: take your 'x' as you defined it and type 'x.__add__'.\n\nNathann",
    "created_at": "2014-09-28T08:03:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225889",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

I HATE THIS CODE. You cannot for one second even trust that it does what you think it should do.

Okay, that's because there is in Poset(....) a keyword named "facade" (not how clearly it indicates what it does) that changes the type of the things inside of the poset.

```
sage: d = DiGraph({0:[1]})
sage: map(type,Poset(d))
[sage.rings.integer.Integer, sage.rings.integer.Integer]
sage: map(type,Poset(d,facade=False))
[sage.combinat.posets.elements.FinitePoset_with_category.element_class,
 sage.combinat.posets.elements.FinitePoset_with_category.element_class]
```

I had to fight a looooong time ago to obtain that facade becomes True by defaut in Posets. And now it is, but for some stupid reason the constructor of PentagonalPoset enforces facade=False. So the code should only be changed to follow the same default as the Poset constructor. Or even to remove this keyword in PentagonalPoset, or replace it with `**kwds`... Anything `-_-`

By the way: the real explanation is that the + has been changed to mean "join" or "meet". It is not had to find out: take your 'x' as you defined it and type 'x.__add__'.

Nathann



---

archive/issue_comments_225890.json:
```json
{
    "body": "Branch: **[u/jmantysalo/strange_bug_in_poset_show__](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/strange_bug_in_poset_show__)**",
    "created_at": "2014-09-28T19:30:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225890",
    "user": "https://github.com/jm58660"
}
```

Branch: **[u/jmantysalo/strange_bug_in_poset_show__](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/strange_bug_in_poset_show__)**



---

archive/issue_comments_225891.json:
```json
{
    "body": "Commit: **[75004ee](https://github.com/sagemath/sagetrac-mirror/commit/75004ee82084b97d63876296e84fc2241e6e5106)**",
    "created_at": "2014-09-28T19:32:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225891",
    "user": "https://github.com/jm58660"
}
```

Commit: **[75004ee](https://github.com/sagemath/sagetrac-mirror/commit/75004ee82084b97d63876296e84fc2241e6e5106)**



---

archive/issue_comments_225892.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI also removed part of documentation; it seems to better suited for `is_distributive()`.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75004ee82084b97d63876296e84fc2241e6e5106\">75004ee</a></td><td><code>Set default value of facade to True. Shortened documentation.</code></td></tr></table>\n",
    "created_at": "2014-09-28T19:32:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225892",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:9" align="right">comment:9</div>

I also removed part of documentation; it seems to better suited for `is_distributive()`.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75004ee82084b97d63876296e84fc2241e6e5106">75004ee</a></td><td><code>Set default value of facade to True. Shortened documentation.</code></td></tr></table>




---

archive/issue_events_243652.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-28T19:32:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243652"
}
```



---

archive/issue_comments_225893.json:
```json
{
    "body": "Author: **Jori M\u00e4ntysalo**",
    "created_at": "2014-09-28T19:32:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225893",
    "user": "https://github.com/jm58660"
}
```

Author: **Jori Mäntysalo**



---

archive/issue_comments_225894.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThe same thing happens with `DiamontPoset` just afterwards.\n\nNathann",
    "created_at": "2014-09-28T21:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225894",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:10" align="right">comment:10</div>

The same thing happens with `DiamontPoset` just afterwards.

Nathann



---

archive/issue_comments_225895.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62d990cc5751d8fb6a2b71e0ac209929831b220e\">62d990c</a></td><td><code>Combined two tickets.</code></td></tr></table>\n",
    "created_at": "2014-09-29T04:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225895",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62d990cc5751d8fb6a2b71e0ac209929831b220e">62d990c</a></td><td><code>Combined two tickets.</code></td></tr></table>




---

archive/issue_comments_225896.json:
```json
{
    "body": "Changed commit from **[75004ee](https://github.com/sagemath/sagetrac-mirror/commit/75004ee82084b97d63876296e84fc2241e6e5106)** to **[62d990c](https://github.com/sagemath/sagetrac-mirror/commit/62d990cc5751d8fb6a2b71e0ac209929831b220e)**",
    "created_at": "2014-09-29T04:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225896",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[75004ee](https://github.com/sagemath/sagetrac-mirror/commit/75004ee82084b97d63876296e84fc2241e6e5106)** to **[62d990c](https://github.com/sagemath/sagetrac-mirror/commit/62d990cc5751d8fb6a2b71e0ac209929831b220e)**



---

archive/issue_comments_225897.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This seems to trigger some kind of error:\n+This triggers error:\n \n ```\n P1=Posets.ChainPoset(3)\n@@ -7,11 +7,7 @@\n P.show()\n ```\n \n-Error message is `ValueError: element (=2) not in poset`. If I change 2. line to\n+Error message is `ValueError: element (=2) not in poset`. Reason was default value for argument `facade`. This is corrected in this ticket.\n \n-```\n-P2=Posets.ChainPoset(5).relabel(lambda x: x+10)\n-```\n+Same bug was in `Posets.DiamondPoset()`. Also Posets.DiamondPoset(2) returns empty poset, DiamondPoset(1) gives error message. This is now changed in for `n <= 2` they raise exception.\n \n-error disappears.\n-\n``````\n",
    "created_at": "2014-09-29T04:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225897",
    "user": "https://github.com/jm58660"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This seems to trigger some kind of error:
+This triggers error:
 
 ```
 P1=Posets.ChainPoset(3)
@@ -7,11 +7,7 @@
 P.show()
 ```
 
-Error message is `ValueError: element (=2) not in poset`. If I change 2. line to
+Error message is `ValueError: element (=2) not in poset`. Reason was default value for argument `facade`. This is corrected in this ticket.
 
-```
-P2=Posets.ChainPoset(5).relabel(lambda x: x+10)
-```
+Same bug was in `Posets.DiamondPoset()`. Also Posets.DiamondPoset(2) returns empty poset, DiamondPoset(1) gives error message. This is now changed in for `n <= 2` they raise exception.
 
-error disappears.
-
``````




---

archive/issue_events_243653.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-29T04:57:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "title_is": "PentagonPoset and DiamondPoset, default argument for facade",
    "title_was": "Strange bug in poset show()",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243653"
}
```



---

archive/issue_comments_225898.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,5 +9,5 @@\n \n Error message is `ValueError: element (=2) not in poset`. Reason was default value for argument `facade`. This is corrected in this ticket.\n \n-Same bug was in `Posets.DiamondPoset()`. Also Posets.DiamondPoset(2) returns empty poset, DiamondPoset(1) gives error message. This is now changed in for `n <= 2` they raise exception.\n+Same bug was in `Posets.DiamondPoset()`. Also `Posets.DiamondPoset(2)` returns empty poset, `DiamondPoset(1)` gives error message. This is now changed in for `n <= 2` they raise exception.\n \n``````\n",
    "created_at": "2014-09-29T04:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225898",
    "user": "https://github.com/jm58660"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,5 +9,5 @@
 
 Error message is `ValueError: element (=2) not in poset`. Reason was default value for argument `facade`. This is corrected in this ticket.
 
-Same bug was in `Posets.DiamondPoset()`. Also Posets.DiamondPoset(2) returns empty poset, DiamondPoset(1) gives error message. This is now changed in for `n <= 2` they raise exception.
+Same bug was in `Posets.DiamondPoset()`. Also `Posets.DiamondPoset(2)` returns empty poset, `DiamondPoset(1)` gives error message. This is now changed in for `n <= 2` they raise exception.
 
``````




---

archive/issue_comments_225899.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2014-09-29T08:10:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225899",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_events_243654.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-09-29T08:10:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243654"
}
```



---

archive/issue_events_243655.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-09-29T08:10:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243655"
}
```



---

archive/issue_comments_225900.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nHelloooooooooooooo !\n\nSeems good, but why did you remove that doc ? \n\nAlso, could you mention this `n>=3` in the doc of DiamondPoset ?\n\nThanks,\n\nNathann",
    "created_at": "2014-09-29T08:10:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225900",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

Helloooooooooooooo !

Seems good, but why did you remove that doc ? 

Also, could you mention this `n>=3` in the doc of DiamondPoset ?

Thanks,

Nathann



---

archive/issue_comments_225901.json:
```json
{
    "body": "Changed commit from **[62d990c](https://github.com/sagemath/sagetrac-mirror/commit/62d990cc5751d8fb6a2b71e0ac209929831b220e)** to **[d19213c](https://github.com/sagemath/sagetrac-mirror/commit/d19213cf6dead1a87dc053e95be5d593ab9cfff0)**",
    "created_at": "2014-09-29T11:02:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225901",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[62d990c](https://github.com/sagemath/sagetrac-mirror/commit/62d990cc5751d8fb6a2b71e0ac209929831b220e)** to **[d19213c](https://github.com/sagemath/sagetrac-mirror/commit/d19213cf6dead1a87dc053e95be5d593ab9cfff0)**



---

archive/issue_comments_225902.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d19213cf6dead1a87dc053e95be5d593ab9cfff0\">d19213c</a></td><td><code>Better documentation.</code></td></tr></table>\n",
    "created_at": "2014-09-29T11:02:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225902",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d19213cf6dead1a87dc053e95be5d593ab9cfff0">d19213c</a></td><td><code>Better documentation.</code></td></tr></table>




---

archive/issue_comments_225903.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@nathanncohen](#comment:14):\n\n> Seems good, but why did you remove that doc ? \n\nI think that it was irrelevant in this context. Also note about `DiamondPoset` seems to be at wrong place inside docstring of `PentagonPoset`.\n\n> Also, could you mention this `n>=3` in the doc of DiamondPoset ?\n\nDone. Should have noticed this myself.",
    "created_at": "2014-09-29T11:05:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225903",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@nathanncohen](#comment:14):

> Seems good, but why did you remove that doc ? 

I think that it was irrelevant in this context. Also note about `DiamondPoset` seems to be at wrong place inside docstring of `PentagonPoset`.

> Also, could you mention this `n>=3` in the doc of DiamondPoset ?

Done. Should have noticed this myself.



---

archive/issue_events_243656.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-29T11:05:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243656"
}
```



---

archive/issue_events_243657.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-29T11:05:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243657"
}
```



---

archive/issue_comments_225904.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nHello !\n\n> I think that it was irrelevant in this context. Also note about `DiamondPoset` seems to be at wrong place inside docstring of `PentagonPoset`.\n\nWhy do you think that it is irrelevant here ? It is a docstring about an object, so why don't we show its nice properties ? This sage software is all about checking on computers what we can prove on paper anyway `:-)`\n\nNathann",
    "created_at": "2014-09-29T11:37:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225904",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:17" align="right">comment:17</div>

Hello !

> I think that it was irrelevant in this context. Also note about `DiamondPoset` seems to be at wrong place inside docstring of `PentagonPoset`.

Why do you think that it is irrelevant here ? It is a docstring about an object, so why don't we show its nice properties ? This sage software is all about checking on computers what we can prove on paper anyway `:-)`

Nathann



---

archive/issue_comments_225905.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/afbad02bdbcbf9bbee31493715d42d8bec46e2d6\">afbad02</a></td><td><code>Added an example to PentagonPoset().</code></td></tr></table>\n",
    "created_at": "2014-09-29T18:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225905",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/afbad02bdbcbf9bbee31493715d42d8bec46e2d6">afbad02</a></td><td><code>Added an example to PentagonPoset().</code></td></tr></table>




---

archive/issue_comments_225906.json:
```json
{
    "body": "Changed commit from **[d19213c](https://github.com/sagemath/sagetrac-mirror/commit/d19213cf6dead1a87dc053e95be5d593ab9cfff0)** to **[afbad02](https://github.com/sagemath/sagetrac-mirror/commit/afbad02bdbcbf9bbee31493715d42d8bec46e2d6)**",
    "created_at": "2014-09-29T18:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225906",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d19213c](https://github.com/sagemath/sagetrac-mirror/commit/d19213cf6dead1a87dc053e95be5d593ab9cfff0)** to **[afbad02](https://github.com/sagemath/sagetrac-mirror/commit/afbad02bdbcbf9bbee31493715d42d8bec46e2d6)**



---

archive/issue_events_243658.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-29T18:47:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243658"
}
```



---

archive/issue_events_243659.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-29T18:47:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243659"
}
```



---

archive/issue_comments_225907.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nOK, I added an example. Not the same, thought.",
    "created_at": "2014-09-29T18:47:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225907",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:19" align="right">comment:19</div>

OK, I added an example. Not the same, thought.



---

archive/issue_events_243660.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-29T18:48:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243660"
}
```



---

archive/issue_events_243661.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-29T18:48:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243661"
}
```



---

archive/issue_comments_225908.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nHello !\n\nI added a small commit on top of yours. What it does :\n\n1) Remove the `\"` in the first line of doc of the `PentagonPoset` constructor.\n\n2) Improve the doc of the `facade` keyword\n\n3) Bring the former doctest back. The point is that doctests are not only useful to the users, but also to test our own code. I can't tell you how many bugs are avoided just because there is always a doctest somewhere that tests the corner case you did not think about. If we ever change the data structure of Posets, do anything in the graphs backends, those doctests are the only way we have to make sure everything is holding together.\n\n4) Changing the default value of facade was breaking doctests in another file, so I updated them. In order to check the doctests use `sage -b && sage -tp <num_of_cpu> -l file_or_directory`\n\nI will also create a ticket to ask Nicolas to write some documentation about `Facade`, because right now there is none to find.\n\nSet this ticket to `positive_review` if you agree with the changes.\n\nNathann",
    "created_at": "2014-09-30T08:39:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225908",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:21" align="right">comment:21</div>

Hello !

I added a small commit on top of yours. What it does :

1) Remove the `"` in the first line of doc of the `PentagonPoset` constructor.

2) Improve the doc of the `facade` keyword

3) Bring the former doctest back. The point is that doctests are not only useful to the users, but also to test our own code. I can't tell you how many bugs are avoided just because there is always a doctest somewhere that tests the corner case you did not think about. If we ever change the data structure of Posets, do anything in the graphs backends, those doctests are the only way we have to make sure everything is holding together.

4) Changing the default value of facade was breaking doctests in another file, so I updated them. In order to check the doctests use `sage -b && sage -tp <num_of_cpu> -l file_or_directory`

I will also create a ticket to ask Nicolas to write some documentation about `Facade`, because right now there is none to find.

Set this ticket to `positive_review` if you agree with the changes.

Nathann



---

archive/issue_comments_225909.json:
```json
{
    "body": "Changed branch from **[u/jmantysalo/strange_bug_in_poset_show__](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/strange_bug_in_poset_show__)** to **[public/17051](https://github.com/sagemath/sagetrac-mirror/tree/public/17051)**",
    "created_at": "2014-09-30T08:40:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225909",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/jmantysalo/strange_bug_in_poset_show__](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/strange_bug_in_poset_show__)** to **[public/17051](https://github.com/sagemath/sagetrac-mirror/tree/public/17051)**



---

archive/issue_comments_225910.json:
```json
{
    "body": "Changed commit from **[afbad02](https://github.com/sagemath/sagetrac-mirror/commit/afbad02bdbcbf9bbee31493715d42d8bec46e2d6)** to **[6cf7db8](https://github.com/sagemath/sagetrac-mirror/commit/6cf7db8e6f9d517cbbb82f83ae71768f158cd110)**",
    "created_at": "2014-09-30T08:40:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225910",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[afbad02](https://github.com/sagemath/sagetrac-mirror/commit/afbad02bdbcbf9bbee31493715d42d8bec46e2d6)** to **[6cf7db8](https://github.com/sagemath/sagetrac-mirror/commit/6cf7db8e6f9d517cbbb82f83ae71768f158cd110)**



---

archive/issue_comments_225911.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cf7db8e6f9d517cbbb82f83ae71768f158cd110\">6cf7db8</a></td><td><code>trac #17051: Review</code></td></tr></table>\n",
    "created_at": "2014-09-30T08:40:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225911",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:22"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cf7db8e6f9d517cbbb82f83ae71768f158cd110">6cf7db8</a></td><td><code>trac #17051: Review</code></td></tr></table>




---

archive/issue_comments_225912.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/044a0a09efb8621d1c2e53c78ffed8aef98bd43c\">044a0a0</a></td><td><code>trac #17051: Review</code></td></tr></table>\n",
    "created_at": "2014-09-30T08:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225912",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/044a0a09efb8621d1c2e53c78ffed8aef98bd43c">044a0a0</a></td><td><code>trac #17051: Review</code></td></tr></table>




---

archive/issue_comments_225913.json:
```json
{
    "body": "Changed commit from **[6cf7db8](https://github.com/sagemath/sagetrac-mirror/commit/6cf7db8e6f9d517cbbb82f83ae71768f158cd110)** to **[044a0a0](https://github.com/sagemath/sagetrac-mirror/commit/044a0a09efb8621d1c2e53c78ffed8aef98bd43c)**",
    "created_at": "2014-09-30T08:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225913",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6cf7db8](https://github.com/sagemath/sagetrac-mirror/commit/6cf7db8e6f9d517cbbb82f83ae71768f158cd110)** to **[044a0a0](https://github.com/sagemath/sagetrac-mirror/commit/044a0a09efb8621d1c2e53c78ffed8aef98bd43c)**



---

archive/issue_comments_225914.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI had forgotten a detail: it is better to make the default value of `facade` be equal to `None`, as it means \"use the same default as in `Poset()`. We should not have to repeat the default value everywhere. That's why we had the problem in the first place.\n\nNathann",
    "created_at": "2014-09-30T08:42:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225914",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:24" align="right">comment:24</div>

I had forgotten a detail: it is better to make the default value of `facade` be equal to `None`, as it means "use the same default as in `Poset()`. We should not have to repeat the default value everywhere. That's why we had the problem in the first place.

Nathann



---

archive/issue_comments_225915.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\n(just created #17073 about the documentation of Facade)",
    "created_at": "2014-09-30T08:44:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225915",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:25" align="right">comment:25</div>

(just created #17073 about the documentation of Facade)



---

archive/issue_comments_225916.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nSeems reasonable --> positive_review.",
    "created_at": "2014-09-30T10:50:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225916",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:26" align="right">comment:26</div>

Seems reasonable --> positive_review.



---

archive/issue_events_243662.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-30T10:50:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243662"
}
```



---

archive/issue_events_243663.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-30T10:50:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243663"
}
```



---

archive/issue_comments_225917.json:
```json
{
    "body": "Changed branch from **[public/17051](https://github.com/sagemath/sagetrac-mirror/tree/public/17051)** to **[044a0a0](https://github.com/sagemath/sagetrac-mirror/commit/044a0a09efb8621d1c2e53c78ffed8aef98bd43c)**",
    "created_at": "2014-10-02T16:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17051#issuecomment-225917",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/17051](https://github.com/sagemath/sagetrac-mirror/tree/public/17051)** to **[044a0a0](https://github.com/sagemath/sagetrac-mirror/commit/044a0a09efb8621d1c2e53c78ffed8aef98bd43c)**



---

archive/issue_events_243664.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-02T16:22:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243664"
}
```



---

archive/issue_events_243665.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5503a77a9f8b83094d013b52154c369c6d2e8e8e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-10-02T16:22:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17051",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17051#event-243665"
}
```
