# Issue 17719: Fix "match bug with echo"

archive/issues_017482.json:
```json
{
    "body": "#15631 added the following lines to `src/sage/interfaces/expect.py`:\n\n```\n                    if out == '':   # match bug with echo\n                        out = line\n```\nIt seems these were added to be compatible with an existing bug.\n\nInstead, fix that bug!\n\nCC:  @vbraun\n\nBranch/Commit: [4014b69fc825a96a6781b95ca16e7d228c713cfe](https://github.com/sagemath/sagetrac-mirror/commit/4014b69fc825a96a6781b95ca16e7d228c713cfe)\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17719\n\n",
    "closed_at": "2015-02-24T00:39:21Z",
    "created_at": "2015-02-03T13:01:18Z",
    "labels": [
        "component: interfaces",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Fix \"match bug with echo\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17719",
    "user": "https://github.com/jdemeyer"
}
```
#15631 added the following lines to `src/sage/interfaces/expect.py`:

```
                    if out == '':   # match bug with echo
                        out = line
```
It seems these were added to be compatible with an existing bug.

Instead, fix that bug!

CC:  @vbraun

Branch/Commit: [4014b69fc825a96a6781b95ca16e7d228c713cfe](https://github.com/sagemath/sagetrac-mirror/commit/4014b69fc825a96a6781b95ca16e7d228c713cfe)

Reviewer: Frédéric Chapoton

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17719





---

archive/issue_comments_307556.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/ticket/17719\"",
    "created_at": "2015-02-03T14:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17719#issuecomment-307556",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/ticket/17719"



---

archive/issue_comments_307557.json:
```json
{
    "body": "Changing commit from \"\" to \"278e3a1813a2b5d211b3fc56dd4be60ebb64f328\"",
    "created_at": "2015-02-03T14:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17719#issuecomment-307557",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "278e3a1813a2b5d211b3fc56dd4be60ebb64f328"



---

archive/issue_comments_307558.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-02-03T14:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17719#issuecomment-307558",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_307559.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[278e3a1](https://github.com/sagemath/sagetrac-mirror/commit/278e3a1813a2b5d211b3fc56dd4be60ebb64f328)|`Fix match bug with echo`|",
    "created_at": "2015-02-03T14:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17719#issuecomment-307559",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[278e3a1](https://github.com/sagemath/sagetrac-mirror/commit/278e3a1813a2b5d211b3fc56dd4be60ebb64f328)|`Fix match bug with echo`|



---

archive/issue_comments_307560.json:
```json
{
    "body": "Changing author from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2015-02-03T14:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17719#issuecomment-307560",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "" to "Jeroen Demeyer"



---

archive/issue_comments_307561.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/ticket/17719\" to \"public/ticket/17719\"",
    "created_at": "2015-02-19T12:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17719#issuecomment-307561",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/jdemeyer/ticket/17719" to "public/ticket/17719"



---

archive/issue_comments_307562.json:
```json
{
    "body": "<a id='comment:4'></a>\nLooks good to me.\n\nI have just made a small commit, adding another trac role, removing an unused variable and a duplicated import, all of that in the singular interface. If you agree, you can set this to positive review.\n\n---\nNew commits:\n|                                                                                                                                          |                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[ff34589](https://github.com/sagemath/sagetrac-mirror/commit/ff345894f83a1a27fc8cebd5cf0af245cabf2ffa)|`Merge branch 'u/jdemeyer/ticket/17719' into 6.6.b0`|\n|[4014b69](https://github.com/sagemath/sagetrac-mirror/commit/4014b69fc825a96a6781b95ca16e7d228c713cfe)|`trac #17719 a few details in doc of singular interface`|",
    "created_at": "2015-02-19T12:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17719#issuecomment-307562",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
Looks good to me.

I have just made a small commit, adding another trac role, removing an unused variable and a duplicated import, all of that in the singular interface. If you agree, you can set this to positive review.

---
New commits:
|                                                                                                                                          |                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[ff34589](https://github.com/sagemath/sagetrac-mirror/commit/ff345894f83a1a27fc8cebd5cf0af245cabf2ffa)|`Merge branch 'u/jdemeyer/ticket/17719' into 6.6.b0`|
|[4014b69](https://github.com/sagemath/sagetrac-mirror/commit/4014b69fc825a96a6781b95ca16e7d228c713cfe)|`trac #17719 a few details in doc of singular interface`|



---

archive/issue_comments_307563.json:
```json
{
    "body": "Changing commit from \"278e3a1813a2b5d211b3fc56dd4be60ebb64f328\" to \"4014b69fc825a96a6781b95ca16e7d228c713cfe\"",
    "created_at": "2015-02-19T12:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17719#issuecomment-307563",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "278e3a1813a2b5d211b3fc56dd4be60ebb64f328" to "4014b69fc825a96a6781b95ca16e7d228c713cfe"



---

archive/issue_comments_307564.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2015-02-19T14:22:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17719#issuecomment-307564",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_307565.json:
```json
{
    "body": "<a id='comment:6'></a>\nPlease set to positive review, if you want",
    "created_at": "2015-02-19T15:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17719#issuecomment-307565",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
Please set to positive review, if you want



---

archive/issue_comments_307566.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-02-20T09:23:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17719#issuecomment-307566",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_057655.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-02-23T19:35:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17719#event-57655"
}
```



---

archive/issue_events_057656.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-24T00:39:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17719#event-57656"
}
```



---

archive/issue_comments_307567.json:
```json
{
    "body": "Changing branch from \"public/ticket/17719\" to \"4014b69fc825a96a6781b95ca16e7d228c713cfe\"",
    "created_at": "2015-02-24T00:39:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17719#issuecomment-307567",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/ticket/17719" to "4014b69fc825a96a6781b95ca16e7d228c713cfe"



---

archive/issue_comments_307568.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-02-24T00:39:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17719#issuecomment-307568",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
