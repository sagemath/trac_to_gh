# Issue 17825: Do not convert unsigned elements to InfinityRing

archive/issues_017588.json:
```json
{
    "body": "\n```\nsage: InfinityRing(x)\nA negative finite number\nsage: InfinityRing(\"junk\")\nA positive finite number\n```\n\nReviewer: Ralf Stephan\n\nAuthor: Jeroen Demeyer\n\nBranch: u/jdemeyer/do_not_convert_unsigned_elements_to_infinityring\n\nStatus: needs_work\n\nCommit: 93a039f8e49a24fe02a1364db84991ac6422b130\n\nIssue created by migration from https://trac.sagemath.org/ticket/17825\n\n",
    "created_at": "2015-02-22T10:16:47Z",
    "labels": [
        "component: coercion",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Do not convert unsigned elements to InfinityRing",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17825",
    "user": "https://github.com/dkrenn"
}
```

```
sage: InfinityRing(x)
A negative finite number
sage: InfinityRing("junk")
A positive finite number
```

Reviewer: Ralf Stephan

Author: Jeroen Demeyer

Branch: u/jdemeyer/do_not_convert_unsigned_elements_to_infinityring

Status: needs_work

Commit: 93a039f8e49a24fe02a1364db84991ac6422b130

Issue created by migration from https://trac.sagemath.org/ticket/17825





---

archive/issue_events_057850.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "rename": {
        "from": "wrong/weird conversion from SR to InfinityRing",
        "to": "Do not convert unsigned elements to InfinityRing"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17825#event-57850"
}
```



---

archive/issue_comments_309547.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,7 @@\n-We have\n \n ```\n sage: InfinityRing(x)\n A negative finite number\n-sage: InfinityRing(SR.var('q'))\n-A negative finite number\n+sage: InfinityRing(\"junk\")\n+A positive finite number\n ```\n-which looks weird.\n``````\n",
    "created_at": "2017-06-26T11:48:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309547",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,7 @@
-We have
 
 ```
 sage: InfinityRing(x)
 A negative finite number
-sage: InfinityRing(SR.var('q'))
-A negative finite number
+sage: InfinityRing("junk")
+A positive finite number
 ```
-which looks weird.
``````




---

archive/issue_events_057851.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-26T11:48:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17825#event-57851"
}
```



---

archive/issue_comments_309548.json:
```json
{
    "body": "Changing author from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2017-06-26T11:48:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309548",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "" to "Jeroen Demeyer"



---

archive/issue_comments_309549.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/do_not_convert_unsigned_elements_to_infinityring\"",
    "created_at": "2017-06-26T12:00:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309549",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/do_not_convert_unsigned_elements_to_infinityring"



---

archive/issue_comments_309550.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-06-26T12:00:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309550",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_309551.json:
```json
{
    "body": "Changing commit from \"\" to \"e16686dc54477a38c063b875a6ced9d25fb606a1\"",
    "created_at": "2017-06-26T12:00:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309551",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "e16686dc54477a38c063b875a6ced9d25fb606a1"



---

archive/issue_comments_309552.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[e16686d](https://github.com/sagemath/sagetrac-mirror/commit/e16686dc54477a38c063b875a6ced9d25fb606a1)|`Do not convert unsigned elements to InfinityRing`|",
    "created_at": "2017-06-26T12:00:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309552",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[e16686d](https://github.com/sagemath/sagetrac-mirror/commit/e16686dc54477a38c063b875a6ced9d25fb606a1)|`Do not convert unsigned elements to InfinityRing`|



---

archive/issue_comments_309553.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-11-28T07:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309553",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_309554.json:
```json
{
    "body": "<a id='comment:4'></a>\nDoes not apply.",
    "created_at": "2017-11-28T07:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309554",
    "user": "https://github.com/rwst"
}
```

<a id='comment:4'></a>
Does not apply.



---

archive/issue_comments_309555.json:
```json
{
    "body": "<a id='comment:5'></a>\nDo you plan to review this ticket if I fix the conflict?",
    "created_at": "2017-11-28T08:30:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309555",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Do you plan to review this ticket if I fix the conflict?



---

archive/issue_comments_309556.json:
```json
{
    "body": "<a id='comment:6'></a>\nYes. I have asked others this question in the past. Perhaps some people use the code but don't want to review it...",
    "created_at": "2017-11-28T09:02:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309556",
    "user": "https://github.com/rwst"
}
```

<a id='comment:6'></a>
Yes. I have asked others this question in the past. Perhaps some people use the code but don't want to review it...



---

archive/issue_comments_309557.json:
```json
{
    "body": "Changing commit from \"e16686dc54477a38c063b875a6ced9d25fb606a1\" to \"93a039f8e49a24fe02a1364db84991ac6422b130\"",
    "created_at": "2017-11-28T09:23:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309557",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e16686dc54477a38c063b875a6ced9d25fb606a1" to "93a039f8e49a24fe02a1364db84991ac6422b130"



---

archive/issue_comments_309558.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[93a039f](https://github.com/sagemath/sagetrac-mirror/commit/93a039f8e49a24fe02a1364db84991ac6422b130)|`Do not convert unsigned elements to InfinityRing`|",
    "created_at": "2017-11-28T09:23:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309558",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[93a039f](https://github.com/sagemath/sagetrac-mirror/commit/93a039f8e49a24fe02a1364db84991ac6422b130)|`Do not convert unsigned elements to InfinityRing`|



---

archive/issue_comments_309559.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-11-28T09:25:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309559",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_309560.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Ralf Stephan\"",
    "created_at": "2017-11-28T14:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309560",
    "user": "https://github.com/rwst"
}
```

Changing reviewer from "" to "Ralf Stephan"



---

archive/issue_comments_309561.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-11-28T14:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309561",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_309562.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe sardonis patchbot has one relevant doctest fail. It appears that to determine `RIF(-1,1) < oo` it has to be coerced to the infinity ring but it has no sign. OTOH, `RIF(-1,1) < oo` is perfectly easily solvable so should not give an error.",
    "created_at": "2017-11-28T14:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309562",
    "user": "https://github.com/rwst"
}
```

<a id='comment:9'></a>
The sardonis patchbot has one relevant doctest fail. It appears that to determine `RIF(-1,1) < oo` it has to be coerced to the infinity ring but it has no sign. OTOH, `RIF(-1,1) < oo` is perfectly easily solvable so should not give an error.



---

archive/issue_comments_309563.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [rws](#comment%3A9):\n> OTOH, `RIF(-1,1) < oo` is perfectly easily solvable so should not give an error.\n\n\nThat doesn't really matter. The coercion model always coerces. And it is the coercion which fails in this case. That is not easy to fix.",
    "created_at": "2017-11-28T14:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17825#issuecomment-309563",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
Replying to [rws](#comment%3A9):
> OTOH, `RIF(-1,1) < oo` is perfectly easily solvable so should not give an error.


That doesn't really matter. The coercion model always coerces. And it is the coercion which fails in this case. That is not easy to fix.
