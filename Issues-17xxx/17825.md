# Issue 17825: Do not convert unsigned elements to InfinityRing

archive/issues_017588.json:
```json
{
    "assignees": [],
    "body": "\n```\nsage: InfinityRing(x)\nA negative finite number\nsage: InfinityRing(\"junk\")\nA positive finite number\n```\n\nBranch/Commit: **[u/jdemeyer/do_not_convert_unsigned_elements_to_infinityring](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/do_not_convert_unsigned_elements_to_infinityring) @ [`93a039f`](https://github.com/sagemath/sagetrac-mirror/commit/93a039f8e49a24fe02a1364db84991ac6422b130)**\n\nReviewer: **Ralf Stephan**\n\nAuthor: **Jeroen Demeyer**\n\nComponent: **coercion**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17825_\n\n",
    "created_at": "2015-02-22T10:16:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20coercion",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Do not convert unsigned elements to InfinityRing",
    "type": "issue",
    "updated_at": "2022-12-29T01:39:18Z",
    "url": "https://github.com/sagemath/sage/issues/17825",
    "user": "https://github.com/dkrenn"
}
```

```
sage: InfinityRing(x)
A negative finite number
sage: InfinityRing("junk")
A positive finite number
```

Branch/Commit: **[u/jdemeyer/do_not_convert_unsigned_elements_to_infinityring](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/do_not_convert_unsigned_elements_to_infinityring) @ [`93a039f`](https://github.com/sagemath/sagetrac-mirror/commit/93a039f8e49a24fe02a1364db84991ac6422b130)**

Reviewer: **Ralf Stephan**

Author: **Jeroen Demeyer**

Component: **coercion**

_Issue created by migration from https://trac.sagemath.org/ticket/17825_





---

archive/issue_events_251432.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2015-02-22T10:16:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251432"
}
```



---

archive/issue_events_251433.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2015-02-22T10:16:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251433"
}
```



---

archive/issue_events_251434.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2015-02-22T10:16:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251434"
}
```



---

archive/issue_events_251435.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2015-02-22T10:16:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251435"
}
```



---

archive/issue_events_251436.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-26T11:48:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251436"
}
```



---

archive/issue_events_251437.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-26T11:48:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20coercion",
    "label_color": "0000ff",
    "label_name": "c: coercion",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251437"
}
```



---

archive/issue_events_251438.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-26T11:48:23Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "title_is": "Do not convert unsigned elements to InfinityRing",
    "title_was": "wrong/weird conversion from SR to InfinityRing",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251438"
}
```



---

archive/issue_comments_241006.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,7 @@\n-We have\n \n ```\n sage: InfinityRing(x)\n A negative finite number\n-sage: InfinityRing(SR.var('q'))\n-A negative finite number\n+sage: InfinityRing(\"junk\")\n+A positive finite number\n ```\n-which looks weird.\n``````\n",
    "created_at": "2017-06-26T11:48:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17825#issuecomment-241006",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,7 @@
-We have
 
 ```
 sage: InfinityRing(x)
 A negative finite number
-sage: InfinityRing(SR.var('q'))
-A negative finite number
+sage: InfinityRing("junk")
+A positive finite number
 ```
-which looks weird.
``````




---

archive/issue_events_251439.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-26T11:48:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251439"
}
```



---

archive/issue_events_251440.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-26T11:48:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251440"
}
```



---

archive/issue_comments_241007.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2017-06-26T11:48:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17825#issuecomment-241007",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_241008.json:
```json
{
    "body": "Branch: **[u/jdemeyer/do_not_convert_unsigned_elements_to_infinityring](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/do_not_convert_unsigned_elements_to_infinityring)**",
    "created_at": "2017-06-26T12:00:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17825#issuecomment-241008",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/do_not_convert_unsigned_elements_to_infinityring](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/do_not_convert_unsigned_elements_to_infinityring)**



---

archive/issue_events_251441.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-26T12:00:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251441"
}
```



---

archive/issue_comments_241009.json:
```json
{
    "body": "Commit: **[`e16686d`](https://github.com/sagemath/sagetrac-mirror/commit/e16686dc54477a38c063b875a6ced9d25fb606a1)**",
    "created_at": "2017-06-26T12:00:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17825#issuecomment-241009",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`e16686d`](https://github.com/sagemath/sagetrac-mirror/commit/e16686dc54477a38c063b875a6ced9d25fb606a1)**



---

archive/issue_comments_241010.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e16686dc54477a38c063b875a6ced9d25fb606a1\"><code>e16686d</code></a></td><td><code>Do not convert unsigned elements to InfinityRing</code></td></tr></table>\n",
    "created_at": "2017-06-26T12:00:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17825#issuecomment-241010",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e16686dc54477a38c063b875a6ced9d25fb606a1"><code>e16686d</code></a></td><td><code>Do not convert unsigned elements to InfinityRing</code></td></tr></table>




---

archive/issue_comments_241011.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nDoes not apply.",
    "created_at": "2017-11-28T07:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17825#issuecomment-241011",
    "user": "https://github.com/rwst"
}
```

<div id="comment:4" align="right">comment:4</div>

Does not apply.



---

archive/issue_events_251442.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-11-28T07:10:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251442"
}
```



---

archive/issue_events_251443.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-11-28T07:10:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251443"
}
```



---

archive/issue_comments_241012.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nDo you plan to review this ticket if I fix the conflict?",
    "created_at": "2017-11-28T08:30:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17825#issuecomment-241012",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

Do you plan to review this ticket if I fix the conflict?



---

archive/issue_comments_241013.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nYes. I have asked others this question in the past. Perhaps some people use the code but don't want to review it...",
    "created_at": "2017-11-28T09:02:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17825#issuecomment-241013",
    "user": "https://github.com/rwst"
}
```

<div id="comment:6" align="right">comment:6</div>

Yes. I have asked others this question in the past. Perhaps some people use the code but don't want to review it...



---

archive/issue_comments_241014.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93a039f8e49a24fe02a1364db84991ac6422b130\"><code>93a039f</code></a></td><td><code>Do not convert unsigned elements to InfinityRing</code></td></tr></table>\n",
    "created_at": "2017-11-28T09:23:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17825#issuecomment-241014",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93a039f8e49a24fe02a1364db84991ac6422b130"><code>93a039f</code></a></td><td><code>Do not convert unsigned elements to InfinityRing</code></td></tr></table>




---

archive/issue_comments_241015.json:
```json
{
    "body": "Changed commit from **[`e16686d`](https://github.com/sagemath/sagetrac-mirror/commit/e16686dc54477a38c063b875a6ced9d25fb606a1)** to **[`93a039f`](https://github.com/sagemath/sagetrac-mirror/commit/93a039f8e49a24fe02a1364db84991ac6422b130)**",
    "created_at": "2017-11-28T09:23:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17825#issuecomment-241015",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e16686d`](https://github.com/sagemath/sagetrac-mirror/commit/e16686dc54477a38c063b875a6ced9d25fb606a1)** to **[`93a039f`](https://github.com/sagemath/sagetrac-mirror/commit/93a039f8e49a24fe02a1364db84991ac6422b130)**



---

archive/issue_events_251444.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-11-28T09:25:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251444"
}
```



---

archive/issue_events_251445.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-11-28T09:25:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251445"
}
```



---

archive/issue_comments_241016.json:
```json
{
    "body": "Reviewer: **Ralf Stephan**",
    "created_at": "2017-11-28T14:10:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17825#issuecomment-241016",
    "user": "https://github.com/rwst"
}
```

Reviewer: **Ralf Stephan**



---

archive/issue_comments_241017.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThe sardonis patchbot has one relevant doctest fail. It appears that to determine `RIF(-1,1) < oo` it has to be coerced to the infinity ring but it has no sign. OTOH, `RIF(-1,1) < oo` is perfectly easily solvable so should not give an error.",
    "created_at": "2017-11-28T14:10:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17825#issuecomment-241017",
    "user": "https://github.com/rwst"
}
```

<div id="comment:9" align="right">comment:9</div>

The sardonis patchbot has one relevant doctest fail. It appears that to determine `RIF(-1,1) < oo` it has to be coerced to the infinity ring but it has no sign. OTOH, `RIF(-1,1) < oo` is perfectly easily solvable so should not give an error.



---

archive/issue_events_251446.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-11-28T14:10:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251446"
}
```



---

archive/issue_events_251447.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-11-28T14:10:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251447"
}
```



---

archive/issue_comments_241018.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@rwst](#comment:9):\n> OTOH, `RIF(-1,1) < oo` is perfectly easily solvable so should not give an error.\n\nThat doesn't really matter. The coercion model always coerces. And it is the coercion which fails in this case. That is not easy to fix.",
    "created_at": "2017-11-28T14:25:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17825#issuecomment-241018",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@rwst](#comment:9):
> OTOH, `RIF(-1,1) < oo` is perfectly easily solvable so should not give an error.

That doesn't really matter. The coercion model always coerces. And it is the coercion which fails in this case. That is not easy to fix.



---

archive/issue_events_251448.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:39:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17825",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17825#event-251448"
}
```
