# Issue 17121: LatticePoset: Add meet_irreducibles, faster is_distributive

archive/issues_016884.json:
```json
{
    "body": "Finite lattice posets now has `join_irreducibles()` and `join_irreducibles_poset()`. Add `meet_irreducibles()` and `meet_irreducibles_poset()`.\n\n`is_distributive()` is now based on formal definition. It can just check that lattice is graded and that number of both meet- and join-irreducibles equals to rank (=height-1) of the lattice.\n\n\nCC:  @nathanncohen\n\nBranch/Commit: 8b68cdb1290ca3fa5e160debc322f5d9e86086af\n\nReviewer: Nathann Cohen\n\nAuthor: Jori M\u00e4ntysalo\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17121\n\n",
    "closed_at": "2014-10-14T10:41:31Z",
    "created_at": "2014-10-09T09:56:39Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "LatticePoset: Add meet_irreducibles, faster is_distributive",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17121",
    "user": "https://github.com/jm58660"
}
```
Finite lattice posets now has `join_irreducibles()` and `join_irreducibles_poset()`. Add `meet_irreducibles()` and `meet_irreducibles_poset()`.

`is_distributive()` is now based on formal definition. It can just check that lattice is graded and that number of both meet- and join-irreducibles equals to rank (=height-1) of the lattice.


CC:  @nathanncohen

Branch/Commit: 8b68cdb1290ca3fa5e160debc322f5d9e86086af

Reviewer: Nathann Cohen

Author: Jori Mäntysalo

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17121





---

archive/issue_comments_288362.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jmantysalo/latticeposet__add_meet_irreducibles__faster_is_distributive\"",
    "created_at": "2014-10-09T12:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288362",
    "user": "https://github.com/jm58660"
}
```

Changing branch from "" to "u/jmantysalo/latticeposet__add_meet_irreducibles__faster_is_distributive"



---

archive/issue_comments_288363.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|\n|[0ee134c](http://git.sagemath.org/sage.git/commit/?id=0ee134c54632d9950ac65d9ce47e54c0fab0e483)|`Much better is_distributive(). Added two little functions.`|",
    "created_at": "2014-10-09T12:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288363",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|
|[0ee134c](http://git.sagemath.org/sage.git/commit/?id=0ee134c54632d9950ac65d9ce47e54c0fab0e483)|`Much better is_distributive(). Added two little functions.`|



---

archive/issue_comments_288364.json:
```json
{
    "body": "Changing commit from \"\" to \"0ee134c54632d9950ac65d9ce47e54c0fab0e483\"",
    "created_at": "2014-10-09T12:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288364",
    "user": "https://github.com/jm58660"
}
```

Changing commit from "" to "0ee134c54632d9950ac65d9ce47e54c0fab0e483"



---

archive/issue_comments_288365.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-10-09T12:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288365",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_288366.json:
```json
{
    "body": "Changing author from \"\" to \"Jori M\u00e4ntysalo\"",
    "created_at": "2014-10-09T12:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288366",
    "user": "https://github.com/jm58660"
}
```

Changing author from "" to "Jori Mäntysalo"



---

archive/issue_comments_288367.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Nathann Cohen\"",
    "created_at": "2014-10-10T16:00:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288367",
    "user": "https://github.com/nathanncohen"
}
```

Changing reviewer from "" to "Nathann Cohen"



---

archive/issue_comments_288368.json:
```json
{
    "body": "<a id='comment:3'></a>\nHello !\n\n1) `meet_irreducibles`: you write `len(self.upper_covers())` which calls `upper_covers_iterator` which iterates over all out-neighbors of a vertex of the HasseDiagram before relabelling them as !Poset elements. Why ? All you want to do is check that the outdegree of those points if 1. You could work on the diagram directly.\n\n2) Please add the new functions to the index.\n\n3) You cannot use `$` for latex code there. Use ``` instead. In order to check that the doc compiles correctly run `sage -b && sage -docbuild reference/combinat html` and look at the html files produced.\n\n4) Use `()` instead of `\\` to wrap code on multiple lines.\n\nNathann",
    "created_at": "2014-10-10T16:00:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288368",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>
Hello !

1) `meet_irreducibles`: you write `len(self.upper_covers())` which calls `upper_covers_iterator` which iterates over all out-neighbors of a vertex of the HasseDiagram before relabelling them as !Poset elements. Why ? All you want to do is check that the outdegree of those points if 1. You could work on the diagram directly.

2) Please add the new functions to the index.

3) You cannot use `$` for latex code there. Use ``` instead. In order to check that the doc compiles correctly run `sage -b && sage -docbuild reference/combinat html` and look at the html files produced.

4) Use `()` instead of `\` to wrap code on multiple lines.

Nathann



---

archive/issue_comments_288369.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-10-10T16:00:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288369",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_288370.json:
```json
{
    "body": "<a id='comment:4'></a>\n1: But `posets.py` says \"This internal data structure is subject to change at any point. Do not break encapsulation!\" But I can do that of course; then I'll also change `join_irreducibles`.\n\n2: Uh, of course.\n\n3: OK. But then http://www.sagemath.org/doc/developer/coding_basics.html#latex-typesetting needs correcting.\n\n4: OK.",
    "created_at": "2014-10-10T20:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288370",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:4'></a>
1: But `posets.py` says "This internal data structure is subject to change at any point. Do not break encapsulation!" But I can do that of course; then I'll also change `join_irreducibles`.

2: Uh, of course.

3: OK. But then http://www.sagemath.org/doc/developer/coding_basics.html#latex-typesetting needs correcting.

4: OK.



---

archive/issue_comments_288371.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[b3e1bca](http://git.sagemath.org/sage.git/commit/?id=b3e1bcad805e3cff946ee95bc225534a583ea248)|`Minor corrections.`|",
    "created_at": "2014-10-11T18:19:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288371",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[b3e1bca](http://git.sagemath.org/sage.git/commit/?id=b3e1bcad805e3cff946ee95bc225534a583ea248)|`Minor corrections.`|



---

archive/issue_comments_288372.json:
```json
{
    "body": "Changing commit from \"0ee134c54632d9950ac65d9ce47e54c0fab0e483\" to \"b3e1bcad805e3cff946ee95bc225534a583ea248\"",
    "created_at": "2014-10-11T18:19:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288372",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0ee134c54632d9950ac65d9ce47e54c0fab0e483" to "b3e1bcad805e3cff946ee95bc225534a583ea248"



---

archive/issue_comments_288373.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-11T18:29:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288373",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_288374.json:
```json
{
    "body": "<a id='comment:6'></a>\n3: It seems that $ works in me. Could you check it? 2: There is no index where to add... So, more work to poset documentation project.\n\nAs of 1, I did not do that for now; this is direct copy from `join_`-counterparts. Point 4 is done, but long line of `==` is still quite hard to read.\n\nAlso this same time I removed totally unused argument from `cover_relations`. Is this OK to do in ticket title saying nothing about it?",
    "created_at": "2014-10-11T18:29:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288374",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>
3: It seems that $ works in me. Could you check it? 2: There is no index where to add... So, more work to poset documentation project.

As of 1, I did not do that for now; this is direct copy from `join_`-counterparts. Point 4 is done, but long line of `==` is still quite hard to read.

Also this same time I removed totally unused argument from `cover_relations`. Is this OK to do in ticket title saying nothing about it?



---

archive/issue_comments_288375.json:
```json
{
    "body": "<a id='comment:7'></a>\nYo !\n\n> 1: But `posets.py` says \"This internal data structure is subject to change at any point. Do not break encapsulation!\" But I can do that of course; then I'll also change `join_irreducibles`.\n\n\nLost computations for political reasons. This code never ceases to amaze me `:-P`\n\n> 3: OK. But then http://www.sagemath.org/doc/developer/coding_basics.html#latex-typesetting needs correcting.\n\n\nOh. If it is written in the developper's manual then the nazis can do nothing against you. Good ! `:-D`\n\nNathann",
    "created_at": "2014-10-12T15:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288375",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>
Yo !

> 1: But `posets.py` says "This internal data structure is subject to change at any point. Do not break encapsulation!" But I can do that of course; then I'll also change `join_irreducibles`.


Lost computations for political reasons. This code never ceases to amaze me `:-P`

> 3: OK. But then http://www.sagemath.org/doc/developer/coding_basics.html#latex-typesetting needs correcting.


Oh. If it is written in the developper's manual then the nazis can do nothing against you. Good ! `:-D`

Nathann



---

archive/issue_comments_288376.json:
```json
{
    "body": "<a id='comment:8'></a>\n> 2: There is no index where to add... So, more work to poset documentation project.\n\n\nOh, no index for lattices. Right, sorry for my remark !\n\n> As of 1, I did not do that for now; this is direct copy from `join_`-counterparts. Point 4 is done, but long line of `==` is still quite hard to read.\n\n\nAs you wish. Remember that there is some time there to save if you have time problems later on.\n\n> Also this same time I removed totally unused argument from `cover_relations`. Is this OK to do in ticket title saying nothing about it?\n\n\nI don't mind. It will depend on the reviewers, though.\n\nI will run all tests on a machine to check that removing this keyword does not break anything somewhere.\n\nNathann",
    "created_at": "2014-10-12T15:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288376",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>
> 2: There is no index where to add... So, more work to poset documentation project.


Oh, no index for lattices. Right, sorry for my remark !

> As of 1, I did not do that for now; this is direct copy from `join_`-counterparts. Point 4 is done, but long line of `==` is still quite hard to read.


As you wish. Remember that there is some time there to save if you have time problems later on.

> Also this same time I removed totally unused argument from `cover_relations`. Is this OK to do in ticket title saying nothing about it?


I don't mind. It will depend on the reviewers, though.

I will run all tests on a machine to check that removing this keyword does not break anything somewhere.

Nathann



---

archive/issue_comments_288377.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe dollar-sign `$` does work, but it is (strongly?) recommended that you use the backticks ``` instead. I think there are still issues with the notebook's documentation when using dollar-signs.",
    "created_at": "2014-10-12T15:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288377",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
The dollar-sign `$` does work, but it is (strongly?) recommended that you use the backticks ``` instead. I think there are still issues with the notebook's documentation when using dollar-signs.



---

archive/issue_comments_288378.json:
```json
{
    "body": "Changing commit from \"b3e1bcad805e3cff946ee95bc225534a583ea248\" to \"8b68cdb1290ca3fa5e160debc322f5d9e86086af\"",
    "created_at": "2014-10-12T21:50:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288378",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b3e1bcad805e3cff946ee95bc225534a583ea248" to "8b68cdb1290ca3fa5e160debc322f5d9e86086af"



---

archive/issue_comments_288379.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[8b68cdb](http://git.sagemath.org/sage.git/commit/?id=8b68cdb1290ca3fa5e160debc322f5d9e86086af)|`Changed \"$\" to \"`\" as LaTeX marker on documentation.`|",
    "created_at": "2014-10-12T21:50:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288379",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[8b68cdb](http://git.sagemath.org/sage.git/commit/?id=8b68cdb1290ca3fa5e160debc322f5d9e86086af)|`Changed "$" to "`" as LaTeX marker on documentation.`|



---

archive/issue_comments_288380.json:
```json
{
    "body": "<a id='comment:11'></a>\nAll tests passed !\n\nThanks,\n\nNathann",
    "created_at": "2014-10-13T11:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288380",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>
All tests passed !

Thanks,

Nathann



---

archive/issue_comments_288381.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-13T11:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288381",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_049715.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-14T10:41:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17121#event-49715"
}
```



---

archive/issue_comments_288382.json:
```json
{
    "body": "Changing branch from \"u/jmantysalo/latticeposet__add_meet_irreducibles__faster_is_distributive\" to \"8b68cdb1290ca3fa5e160debc322f5d9e86086af\"",
    "created_at": "2014-10-14T10:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288382",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jmantysalo/latticeposet__add_meet_irreducibles__faster_is_distributive" to "8b68cdb1290ca3fa5e160debc322f5d9e86086af"



---

archive/issue_comments_288383.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-10-14T10:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17121#issuecomment-288383",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
