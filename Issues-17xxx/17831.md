# Issue 17831: Update to pyOpenSSL 0.14

archive/issues_017594.json:
```json
{
    "body": "Supposedly fixes the \n\n```\n/local/data/krenn/sage/6.5.rc2/local/include/openssl/ssl.h:156:0, \n                 from OpenSSL/crypto/x509.h:17, \n                 from OpenSSL/crypto/crypto.h:30, \n                 from OpenSSL/crypto/crl.c:3: \n/local/data/krenn/sage/6.5.rc2/local/include/openssl/x509.h:751:15: \nnote: previous declaration of 'X509_REVOKED_dup' was here \nerror: command 'gcc' failed with exit status 1 \n```\nbug but introduces a couple of new dependencies: cffi pyasn1 enum34 pycparser\n\nCC:  @dkrenn @haraldschilly\n\nReviewer: Volker Braun\n\nAuthor: Jeroen Demeyer\n\nDependencies: #17832\n\nResolution: duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/17831\n\n",
    "closed_at": "2015-04-09T10:17:22Z",
    "created_at": "2015-02-22T18:07:29Z",
    "labels": [
        "component: packages: optional",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Update to pyOpenSSL 0.14",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17831",
    "user": "https://github.com/vbraun"
}
```
Supposedly fixes the 

```
/local/data/krenn/sage/6.5.rc2/local/include/openssl/ssl.h:156:0, 
                 from OpenSSL/crypto/x509.h:17, 
                 from OpenSSL/crypto/crypto.h:30, 
                 from OpenSSL/crypto/crl.c:3: 
/local/data/krenn/sage/6.5.rc2/local/include/openssl/x509.h:751:15: 
note: previous declaration of 'X509_REVOKED_dup' was here 
error: command 'gcc' failed with exit status 1 
```
bug but introduces a couple of new dependencies: cffi pyasn1 enum34 pycparser

CC:  @dkrenn @haraldschilly

Reviewer: Volker Braun

Author: Jeroen Demeyer

Dependencies: #17832

Resolution: duplicate

Issue created by migration from https://trac.sagemath.org/ticket/17831





---

archive/issue_comments_250032.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to packages: optional.",
    "created_at": "2015-02-22T18:30:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17831",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17831#issuecomment-250032",
    "user": "https://github.com/vbraun"
}
```

Changing component from PLEASE CHANGE to packages: optional.



---

archive/issue_comments_250033.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2015-02-22T18:30:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17831",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17831#issuecomment-250033",
    "user": "https://github.com/vbraun"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_250034.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,15 @@\n+Supposedly fixes the \n \n+```\n+/local/data/krenn/sage/6.5.rc2/local/include/openssl/ssl.h:156:0, \n+                 from OpenSSL/crypto/x509.h:17, \n+                 from OpenSSL/crypto/crypto.h:30, \n+                 from OpenSSL/crypto/crl.c:3: \n+/local/data/krenn/sage/6.5.rc2/local/include/openssl/x509.h:751:15: \n+note: previous declaration of 'X509_REVOKED_dup' was here \n+error: command 'gcc' failed with exit status 1 \n+```\n+bug but introduces a couple of new dependencies: cffi pyasn1 enum34 pycparser\n \n Comment: 1\n \n```\n",
    "created_at": "2015-02-22T18:30:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17831",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17831#issuecomment-250034",
    "user": "https://github.com/vbraun"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,15 @@
+Supposedly fixes the 
 
+```
+/local/data/krenn/sage/6.5.rc2/local/include/openssl/ssl.h:156:0, 
+                 from OpenSSL/crypto/x509.h:17, 
+                 from OpenSSL/crypto/crypto.h:30, 
+                 from OpenSSL/crypto/crl.c:3: 
+/local/data/krenn/sage/6.5.rc2/local/include/openssl/x509.h:751:15: 
+note: previous declaration of 'X509_REVOKED_dup' was here 
+error: command 'gcc' failed with exit status 1 
+```
+bug but introduces a couple of new dependencies: cffi pyasn1 enum34 pycparser
 
 Comment: 1
 
```




---

archive/issue_comments_250035.json:
```json
{
    "body": "<a id='comment:4'></a>Could you try just doing:\n\n```\nsage -pip install pyopenssl\n```\n\nIt worked well for me. If this works for you as well, since `pyopenssl` spkg is optional and unmaintained (still uses the old spkg style), it could be a better idea to just remove it from the list of packages and benefit from the up-to-date pip one. We did that for `sqlalchemy` for example.",
    "created_at": "2015-03-27T14:04:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17831",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17831#issuecomment-250035",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:4'></a>Could you try just doing:

```
sage -pip install pyopenssl
```

It worked well for me. If this works for you as well, since `pyopenssl` spkg is optional and unmaintained (still uses the old spkg style), it could be a better idea to just remove it from the list of packages and benefit from the up-to-date pip one. We did that for `sqlalchemy` for example.



---

archive/issue_comments_250036.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 tmonteil]:\n> Could you try just doing:\n> \n> \n> ```\n> sage -pip install pyopenssl\n> ```\n> \n> It worked well for me. \n\n\nWorks.",
    "created_at": "2015-03-28T11:21:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17831",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17831#issuecomment-250036",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:5'></a>Replying to [comment:4 tmonteil]:
> Could you try just doing:
> 
> 
> ```
> sage -pip install pyopenssl
> ```
> 
> It worked well for me. 


Works.



---

archive/issue_comments_250037.json:
```json
{
    "body": "<a id='comment:6'></a>Close as duplicate of #16897 then?",
    "created_at": "2015-04-09T10:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17831",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17831#issuecomment-250037",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>Close as duplicate of #16897 then?



---

archive/issue_events_050884.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-09T10:17:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17831",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17831#event-50884"
}
```



---

archive/issue_comments_250038.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2015-04-09T10:17:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17831",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17831#issuecomment-250038",
    "user": "https://github.com/vbraun"
}
```

Resolution: duplicate



---

archive/issue_comments_250039.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:6 jdemeyer]:\n> Close as duplicate of #16897 then?\n\n\nI would say yes, but then `pyopenssl` should be removed from http://sagemath.org/packages/optional/ and http://sagemath.org/packages/optional/list to trigger an error.",
    "created_at": "2015-04-09T11:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17831",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17831#issuecomment-250039",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:8'></a>Replying to [comment:6 jdemeyer]:
> Close as duplicate of #16897 then?


I would say yes, but then `pyopenssl` should be removed from http://sagemath.org/packages/optional/ and http://sagemath.org/packages/optional/list to trigger an error.
