# Issue 17098: sum_of_terms on free modules leaves parent unchanged -- is this right?

archive/issues_016861.json:
```json
{
    "body": "On the one hand, yes, coercion is slow, so it is helpful to not use it by default. On the other hand:\n\n```\nsage: Sym = SymmetricFunctions(Zmod(2)); Sym.inject_shorthands()\nsage: m.sum_of_terms([(Partition([2]), 2)])\n2*m[2]\nsage: _ == 0\nFalse\nsage: e(__)\n0\n```\nI don't know if this causes actual issues anywhere else in the code, but I cannot rule it out...\n\nCC:  @tscrim @nthiery simonking @zabrocki\n\nKeywords: free modules, sum of terms, coercion,\n\nBranch: public/ticket/17098\n\nStatus: new\n\nCommit: 0bed43a83f2c4c6f5ab011de9b77755521c45ff6\n\nIssue created by migration from https://trac.sagemath.org/ticket/17098\n\n",
    "created_at": "2014-10-04T03:36:41Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "sum_of_terms on free modules leaves parent unchanged -- is this right?",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17098",
    "user": "https://github.com/darijgr"
}
```
On the one hand, yes, coercion is slow, so it is helpful to not use it by default. On the other hand:

```
sage: Sym = SymmetricFunctions(Zmod(2)); Sym.inject_shorthands()
sage: m.sum_of_terms([(Partition([2]), 2)])
2*m[2]
sage: _ == 0
False
sage: e(__)
0
```
I don't know if this causes actual issues anywhere else in the code, but I cannot rule it out...

CC:  @tscrim @nthiery simonking @zabrocki

Keywords: free modules, sum of terms, coercion,

Branch: public/ticket/17098

Status: new

Commit: 0bed43a83f2c4c6f5ab011de9b77755521c45ff6

Issue created by migration from https://trac.sagemath.org/ticket/17098





---

archive/issue_comments_223019.json:
```json
{
    "body": "<a id='comment:1'></a>That 2 in the example above is an integer 2 and not an integer 2 mod 2.  I have found it useful that free_module allows coefficients outside of the ring in the construction of elements.  The example that I have been considering is `f.map_coefficients(factor)` but this example raises its own problems.",
    "created_at": "2015-04-16T13:03:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17098#issuecomment-223019",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:1'></a>That 2 in the example above is an integer 2 and not an integer 2 mod 2.  I have found it useful that free_module allows coefficients outside of the ring in the construction of elements.  The example that I have been considering is `f.map_coefficients(factor)` but this example raises its own problems.



---

archive/issue_events_049690.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2015-04-16T21:10:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17098",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17098#event-49690"
}
```



---

archive/issue_comments_223020.json:
```json
{
    "body": "<a id='comment:3'></a>Made some changes (mostly suggested by Nicolas). Some real timings remain to be done.",
    "created_at": "2015-04-16T21:11:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17098#issuecomment-223020",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:3'></a>Made some changes (mostly suggested by Nicolas). Some real timings remain to be done.



---

archive/issue_comments_223021.json:
```json
{
    "body": "<a id='comment:4'></a>New commits:",
    "created_at": "2015-04-16T21:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17098#issuecomment-223021",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:4'></a>New commits:



---

archive/issue_comments_223022.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-16T21:19:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17098#issuecomment-223022",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:
