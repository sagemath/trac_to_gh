# Issue 17537: The geodetic closure of a graph

archive/issues_017300.json:
```json
{
    "assignees": [],
    "body": "Hello!\n\nThe plan is to ship the algorithm for the minimal geodetic set of a graph but first let me try to sell this simple method for computing the geodetic closure of a (di) graph.\n\nLet me know if there are any bugs/suggestions for this contribution.\n\n\n\nCC:  @nathanncohen\n\nBranch/Commit: **[`6da082a`](https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Jernej Azarija, David Coudert**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17537_\n\n",
    "closed_at": "2021-10-19T20:31:05Z",
    "created_at": "2014-12-21T17:11:58Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "The geodetic closure of a graph",
    "type": "issue",
    "updated_at": "2021-10-19T20:31:05Z",
    "url": "https://github.com/sagemath/sage/issues/17537",
    "user": "https://github.com/sagetrac-azi"
}
```
Hello!

The plan is to ship the algorithm for the minimal geodetic set of a graph but first let me try to sell this simple method for computing the geodetic closure of a (di) graph.

Let me know if there are any bugs/suggestions for this contribution.



CC:  @nathanncohen

Branch/Commit: **[`6da082a`](https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a)**

Reviewer: **Travis Scrimshaw**

Author: **Jernej Azarija, David Coudert**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/17537_





---

archive/issue_events_249954.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-21T17:11:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249954"
}
```



---

archive/issue_events_249955.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-21T17:11:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249955"
}
```



---

archive/issue_events_249956.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-21T17:11:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249956"
}
```



---

archive/issue_events_249957.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-21T17:11:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249957"
}
```



---

archive/issue_comments_235235.json:
```json
{
    "body": "Branch: **[u/azi/geodeticClosure](https://github.com/sagemath/sagetrac-mirror/tree/u/azi/geodeticClosure)**",
    "created_at": "2014-12-21T17:15:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235235",
    "user": "https://github.com/sagetrac-azi"
}
```

Branch: **[u/azi/geodeticClosure](https://github.com/sagemath/sagetrac-mirror/tree/u/azi/geodeticClosure)**



---

archive/issue_comments_235236.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8709f3b0ddc0bac77bdfbaa06ffec119f585f24\">b8709f3</a></td><td><code>trac #17537: Added method to compute the geodetic closure of a (di)graph</code></td></tr></table>\n",
    "created_at": "2014-12-21T17:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235236",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8709f3b0ddc0bac77bdfbaa06ffec119f585f24">b8709f3</a></td><td><code>trac #17537: Added method to compute the geodetic closure of a (di)graph</code></td></tr></table>




---

archive/issue_comments_235237.json:
```json
{
    "body": "Commit: **[`b8709f3`](https://github.com/sagemath/sagetrac-mirror/commit/b8709f3b0ddc0bac77bdfbaa06ffec119f585f24)**",
    "created_at": "2014-12-21T17:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235237",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`b8709f3`](https://github.com/sagemath/sagetrac-mirror/commit/b8709f3b0ddc0bac77bdfbaa06ffec119f585f24)**



---

archive/issue_comments_235238.json:
```json
{
    "body": "Changed commit from **[`b8709f3`](https://github.com/sagemath/sagetrac-mirror/commit/b8709f3b0ddc0bac77bdfbaa06ffec119f585f24)** to **[`04f0332`](https://github.com/sagemath/sagetrac-mirror/commit/04f03328e877d2c35ee52228ffde216ae8cb262e)**",
    "created_at": "2014-12-21T17:18:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235238",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b8709f3`](https://github.com/sagemath/sagetrac-mirror/commit/b8709f3b0ddc0bac77bdfbaa06ffec119f585f24)** to **[`04f0332`](https://github.com/sagemath/sagetrac-mirror/commit/04f03328e877d2c35ee52228ffde216ae8cb262e)**



---

archive/issue_comments_235239.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04f03328e877d2c35ee52228ffde216ae8cb262e\">04f0332</a></td><td><code>trac #17537: Added missing description in the header of generic_graph.py</code></td></tr></table>\n",
    "created_at": "2014-12-21T17:18:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235239",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04f03328e877d2c35ee52228ffde216ae8cb262e">04f0332</a></td><td><code>trac #17537: Added missing description in the header of generic_graph.py</code></td></tr></table>




---

archive/issue_events_249958.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-21T17:19:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249958"
}
```



---

archive/issue_events_249959.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-12-21T17:23:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249959"
}
```



---

archive/issue_events_249960.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-12-21T17:23:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249960"
}
```



---

archive/issue_comments_235240.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nHmmm... Calling \"distances_all_pairs\" in a function like that is a suicide. You cannot re-compute all distances every time you want to compute a closure. Actually, the information that you need is precisely the one that is stored in `convexity_properties`.\n\nThe \"convexity properties\" object associates to every pair of vertices `u,v` the bitset of all z such that z is on a shortest uv path. Thus if you need to find the closure of a set of points, all you have to do is compute the union (with 'or' processor operations) of the bitsets associated to all pairs of vertices.\n\nMy point is that the code is already there, but of course the name 'convexity properties' is very ill-chosen in this case. We will probably have to change the terminology... What do you think about all this ?\n\nBy the way, is the terminology 'closure' used anywhere ? Because formally it is not a closure function. One of the property of closure functions is that `f(f(X))` should be equal to `f(x)`.\n\nNathann",
    "created_at": "2014-12-21T17:23:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235240",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">comment:5</div>

Hmmm... Calling "distances_all_pairs" in a function like that is a suicide. You cannot re-compute all distances every time you want to compute a closure. Actually, the information that you need is precisely the one that is stored in `convexity_properties`.

The "convexity properties" object associates to every pair of vertices `u,v` the bitset of all z such that z is on a shortest uv path. Thus if you need to find the closure of a set of points, all you have to do is compute the union (with 'or' processor operations) of the bitsets associated to all pairs of vertices.

My point is that the code is already there, but of course the name 'convexity properties' is very ill-chosen in this case. We will probably have to change the terminology... What do you think about all this ?

By the way, is the terminology 'closure' used anywhere ? Because formally it is not a closure function. One of the property of closure functions is that `f(f(X))` should be equal to `f(x)`.

Nathann



---

archive/issue_comments_235241.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@nathanncohen](#comment:5):\n> Hmmm... Calling \"distances_all_pairs\" in a function like that is a suicide. You cannot re-compute all distances every time you want to compute a closure. Actually, the information that you need is precisely the one that is stored in `convexity_properties`.\n\nThat's true, though we can make for an optional argument DP that lets you pass the distance dictionary in case *anyone* really needs to compute this often.\n\n\n> \n> The \"convexity properties\" object associates to every pair of vertices `u,v` the bitset of all z such that z is on a shortest uv path. Thus if you need to find the closure of a set of points, all you have to do is compute the union (with 'or' processor operations) of the bitsets associated to all pairs of vertices.\n\nI see. \n\n> \n> My point is that the code is already there, but of course the name 'convexity properties' is very ill-chosen in this case. We will probably have to change the terminology... What do you think about all this ?\n\nFine to me. As far as my preferences go I'd like convexity properties to be part of the graph/generic graph family and cache this stuff in some other way. Having a module like that for just a few functions seems a bit unnatural to me?\n\n> \n> By the way, is the terminology 'closure' used anywhere ? Because formally it is not a closure function. One of the property of closure functions is that `f(f(X))` should be equal to `f(x)`.\n\nYes it appears that this is the standard way to call it. See for example the paper \"On pitfalls in computing the geodetic number of a graph\" by Hansen and van Omme.\n\n> \n> Nathann",
    "created_at": "2014-12-21T17:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235241",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@nathanncohen](#comment:5):
> Hmmm... Calling "distances_all_pairs" in a function like that is a suicide. You cannot re-compute all distances every time you want to compute a closure. Actually, the information that you need is precisely the one that is stored in `convexity_properties`.

That's true, though we can make for an optional argument DP that lets you pass the distance dictionary in case *anyone* really needs to compute this often.


> 
> The "convexity properties" object associates to every pair of vertices `u,v` the bitset of all z such that z is on a shortest uv path. Thus if you need to find the closure of a set of points, all you have to do is compute the union (with 'or' processor operations) of the bitsets associated to all pairs of vertices.

I see. 

> 
> My point is that the code is already there, but of course the name 'convexity properties' is very ill-chosen in this case. We will probably have to change the terminology... What do you think about all this ?

Fine to me. As far as my preferences go I'd like convexity properties to be part of the graph/generic graph family and cache this stuff in some other way. Having a module like that for just a few functions seems a bit unnatural to me?

> 
> By the way, is the terminology 'closure' used anywhere ? Because formally it is not a closure function. One of the property of closure functions is that `f(f(X))` should be equal to `f(x)`.

Yes it appears that this is the standard way to call it. See for example the paper "On pitfalls in computing the geodetic number of a graph" by Hansen and van Omme.

> 
> Nathann



---

archive/issue_comments_235242.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nYo !\n\n> Fine to me. As far as my preferences go I'd like convexity properties to be part of the graph/generic graph family and cache this stuff in some other way. Having a module like that for just a few functions seems a bit unnatural to me?\n\nYes, it is a bad implementation. I can say it, it's mine. It is ugly. I needed someplace to store this bitset, and I did not know where.\n\n> Yes it appears that this is the standard way to call it. See for example the paper \"On pitfalls in computing the geodetic number of a graph\" by Hansen and van Omme.\n\nWeird `O_o`\n\nNathann",
    "created_at": "2014-12-21T17:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235242",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

Yo !

> Fine to me. As far as my preferences go I'd like convexity properties to be part of the graph/generic graph family and cache this stuff in some other way. Having a module like that for just a few functions seems a bit unnatural to me?

Yes, it is a bad implementation. I can say it, it's mine. It is ugly. I needed someplace to store this bitset, and I did not know where.

> Yes it appears that this is the standard way to call it. See for example the paper "On pitfalls in computing the geodetic number of a graph" by Hansen and van Omme.

Weird `O_o`

Nathann



---

archive/issue_comments_235243.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@nathanncohen](#comment:7):\n> Yo !\n\nHiiii\n> \n> > Fine to me. As far as my preferences go I'd like convexity properties to be part of the graph/generic graph family and cache this stuff in some other way. Having a module like that for just a few functions seems a bit unnatural to me?\n\n> \n> Yes, it is a bad implementation. I can say it, it's mine. It is ugly. I needed someplace to store this bitset, and I did not know where.\n\nSo what do you suggest that we do?\n\n\n> \n> > Yes it appears that this is the standard way to call it. See for example the paper \"On pitfalls in computing the geodetic number of a graph\" by Hansen and van Omme.\n\n> \n> Weird `O_o`\n\n:-)\n\n\n> \n> Nathann",
    "created_at": "2014-12-21T17:46:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235243",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@nathanncohen](#comment:7):
> Yo !

Hiiii
> 
> > Fine to me. As far as my preferences go I'd like convexity properties to be part of the graph/generic graph family and cache this stuff in some other way. Having a module like that for just a few functions seems a bit unnatural to me?

> 
> Yes, it is a bad implementation. I can say it, it's mine. It is ugly. I needed someplace to store this bitset, and I did not know where.

So what do you suggest that we do?


> 
> > Yes it appears that this is the standard way to call it. See for example the paper "On pitfalls in computing the geodetic number of a graph" by Hansen and van Omme.

> 
> Weird `O_o`

:-)


> 
> Nathann



---

archive/issue_comments_235244.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n> So what do you suggest that we do?\n\nWe rename `convexity_properties` to `geodetic_properties` and you add your `geodetic_closure` function there ? `:-P`\n\nIt is a bad design, but I still don't know how to implement it otherwise `^^;`\n\nNathann",
    "created_at": "2014-12-21T17:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235244",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

> So what do you suggest that we do?

We rename `convexity_properties` to `geodetic_properties` and you add your `geodetic_closure` function there ? `:-P`

It is a bad design, but I still don't know how to implement it otherwise `^^;`

Nathann



---

archive/issue_comments_235245.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nhttp://en.wikipedia.org/wiki/Closure_%28mathematics%29\n\nThey also agree that a closure operator should be idempotent. Cursed wrong terminology. If we have a `geodetic_closure` function we must remember to add a big warning saying that this operation is NOT a closure, and blame those guys while citing the reference `:-P`\n\nNathann",
    "created_at": "2014-12-21T18:12:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235245",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:10" align="right">comment:10</div>

http://en.wikipedia.org/wiki/Closure_%28mathematics%29

They also agree that a closure operator should be idempotent. Cursed wrong terminology. If we have a `geodetic_closure` function we must remember to add a big warning saying that this operation is NOT a closure, and blame those guys while citing the reference `:-P`

Nathann



---

archive/issue_comments_235246.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@nathanncohen](#comment:9):\n> > So what do you suggest that we do?\n\n> \n> We rename `convexity_properties` to `geodetic_properties` and you add your `geodetic_closure` function there ? `:-P`\n\nOkay. Do you also want to do it your way with the bitfields present there or use the thing I pushed here? In the former case I suppose its much better if you just put it in as you already know the code?\n\n\n> \n> It is a bad design, but I still don't know how to implement it otherwise `^^;`\n\n:-P\n\n> \n> Nathann",
    "created_at": "2014-12-22T09:54:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235246",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@nathanncohen](#comment:9):
> > So what do you suggest that we do?

> 
> We rename `convexity_properties` to `geodetic_properties` and you add your `geodetic_closure` function there ? `:-P`

Okay. Do you also want to do it your way with the bitfields present there or use the thing I pushed here? In the former case I suppose its much better if you just put it in as you already know the code?


> 
> It is a bad design, but I still don't know how to implement it otherwise `^^;`

:-P

> 
> Nathann



---

archive/issue_comments_235247.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nYo !\n\n> Okay. Do you also want to do it your way with the bitfields present there or use the thing I pushed here? In the former case I suppose its much better if you just put it in as you already know the code?\n\nSorry I can't do that now... Juggling with many computers at once and a slideshow to get ready for tomorrow. Can you do it ? Really it is nothing very complicated, and you should find inside some very similar function that computes the hull of a set of vertices. The geodetic is even simpler.\n\nNathann",
    "created_at": "2014-12-22T10:05:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235247",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:12" align="right">comment:12</div>

Yo !

> Okay. Do you also want to do it your way with the bitfields present there or use the thing I pushed here? In the former case I suppose its much better if you just put it in as you already know the code?

Sorry I can't do that now... Juggling with many computers at once and a slideshow to get ready for tomorrow. Can you do it ? Really it is nothing very complicated, and you should find inside some very similar function that computes the hull of a set of vertices. The geodetic is even simpler.

Nathann



---

archive/issue_comments_235248.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nyoo,\n\nOkay hopefully I manage to do it by today.\n\nGood luck with presentation :-)\n\nJernej",
    "created_at": "2014-12-22T10:10:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235248",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:13" align="right">comment:13</div>

yoo,

Okay hopefully I manage to do it by today.

Good luck with presentation :-)

Jernej



---

archive/issue_comments_235249.json:
```json
{
    "body": "Changed commit from **[`04f0332`](https://github.com/sagemath/sagetrac-mirror/commit/04f03328e877d2c35ee52228ffde216ae8cb262e)** to **[`475e605`](https://github.com/sagemath/sagetrac-mirror/commit/475e60598370ccf3196f13b2a7f9722fcc69e56c)**",
    "created_at": "2021-09-05T10:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235249",
    "user": "https://github.com/dcoudert"
}
```

Changed commit from **[`04f0332`](https://github.com/sagemath/sagetrac-mirror/commit/04f03328e877d2c35ee52228ffde216ae8cb262e)** to **[`475e605`](https://github.com/sagemath/sagetrac-mirror/commit/475e60598370ccf3196f13b2a7f9722fcc69e56c)**



---

archive/issue_comments_235250.json:
```json
{
    "body": "Changed author from **Jernej Azarija** to **Jernej Azarija, David Coudert**",
    "created_at": "2021-09-05T10:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235250",
    "user": "https://github.com/dcoudert"
}
```

Changed author from **Jernej Azarija** to **Jernej Azarija, David Coudert**



---

archive/issue_events_249961.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2021-09-05T10:08:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249961"
}
```



---

archive/issue_events_249962.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2021-09-05T10:08:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249962"
}
```



---

archive/issue_comments_235251.json:
```json
{
    "body": "Changed branch from **[u/azi/geodeticClosure](https://github.com/sagemath/sagetrac-mirror/tree/u/azi/geodeticClosure)** to **[public/graphs/17537_geodetic_closure](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/17537_geodetic_closure)**",
    "created_at": "2021-09-05T10:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235251",
    "user": "https://github.com/dcoudert"
}
```

Changed branch from **[u/azi/geodeticClosure](https://github.com/sagemath/sagetrac-mirror/tree/u/azi/geodeticClosure)** to **[public/graphs/17537_geodetic_closure](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/17537_geodetic_closure)**



---

archive/issue_events_249963.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2021-09-05T10:08:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249963"
}
```



---

archive/issue_events_249964.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2021-09-05T10:08:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249964"
}
```



---

archive/issue_comments_235252.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI pushed a new branch with a more efficient implementation (in Cython). In particular, it does not require to compute and store the full distance matrix, and so can be used on quite large graphs. It is so far for undirected graphs only.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/475e60598370ccf3196f13b2a7f9722fcc69e56c\">475e605</a></td><td><code>trac #17537: geodesic closure in Cython</code></td></tr></table>\n",
    "created_at": "2021-09-05T10:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235252",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:14" align="right">comment:14</div>

I pushed a new branch with a more efficient implementation (in Cython). In particular, it does not require to compute and store the full distance matrix, and so can be used on quite large graphs. It is so far for undirected graphs only.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/475e60598370ccf3196f13b2a7f9722fcc69e56c">475e605</a></td><td><code>trac #17537: geodesic closure in Cython</code></td></tr></table>




---

archive/issue_comments_235253.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bac3324636f074cd6439b962d86e5592c866f45\">8bac332</a></td><td><code>trac #17537: prevent calling this method on digraphs</code></td></tr></table>\n",
    "created_at": "2021-09-05T10:17:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235253",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bac3324636f074cd6439b962d86e5592c866f45">8bac332</a></td><td><code>trac #17537: prevent calling this method on digraphs</code></td></tr></table>




---

archive/issue_comments_235254.json:
```json
{
    "body": "Changed commit from **[`475e605`](https://github.com/sagemath/sagetrac-mirror/commit/475e60598370ccf3196f13b2a7f9722fcc69e56c)** to **[`8bac332`](https://github.com/sagemath/sagetrac-mirror/commit/8bac3324636f074cd6439b962d86e5592c866f45)**",
    "created_at": "2021-09-05T10:17:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235254",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`475e605`](https://github.com/sagemath/sagetrac-mirror/commit/475e60598370ccf3196f13b2a7f9722fcc69e56c)** to **[`8bac332`](https://github.com/sagemath/sagetrac-mirror/commit/8bac3324636f074cd6439b962d86e5592c866f45)**



---

archive/issue_comments_235255.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAdd not implemented error when calling this method on digraphs.",
    "created_at": "2021-09-05T10:18:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235255",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:16" align="right">comment:16</div>

Add not implemented error when calling this method on digraphs.



---

archive/issue_comments_235256.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nGeodesic or geodetic?",
    "created_at": "2021-09-18T20:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235256",
    "user": "https://github.com/slel"
}
```

<div id="comment:17" align="right">comment:17</div>

Geodesic or geodetic?



---

archive/issue_comments_235257.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThe term used in the field is geodetic https://doi.org/10.1016/0895-7177(93)90259-2. Don't know why...",
    "created_at": "2021-09-18T21:09:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235257",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:18" align="right">comment:18</div>

The term used in the field is geodetic https://doi.org/10.1016/0895-7177(93)90259-2. Don't know why...



---

archive/issue_events_249965.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-03T08:49:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249965"
}
```



---

archive/issue_events_249966.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-03T08:49:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249966"
}
```



---

archive/issue_comments_235258.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nLGTM.\n\nIf you care enough, I believe there is a typo in this comment:\n\n```\n# Copy the graph has a short digraph\n```",
    "created_at": "2021-10-03T08:49:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235258",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:19" align="right">comment:19</div>

LGTM.

If you care enough, I believe there is a typo in this comment:

```
# Copy the graph has a short digraph
```



---

archive/issue_comments_235259.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2021-10-03T08:49:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235259",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_235260.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6eb2a53f5b96194b4626ef0a34889064e6e1c2ba\">6eb2a53</a></td><td><code>trac #17537: merged with 9.5.beta2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a\">6da082a</a></td><td><code>trac #17537: typo</code></td></tr></table>\n",
    "created_at": "2021-10-03T08:53:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235260",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6eb2a53f5b96194b4626ef0a34889064e6e1c2ba">6eb2a53</a></td><td><code>trac #17537: merged with 9.5.beta2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a">6da082a</a></td><td><code>trac #17537: typo</code></td></tr></table>




---

archive/issue_comments_235261.json:
```json
{
    "body": "Changed commit from **[`8bac332`](https://github.com/sagemath/sagetrac-mirror/commit/8bac3324636f074cd6439b962d86e5592c866f45)** to **[`6da082a`](https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a)**",
    "created_at": "2021-10-03T08:53:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235261",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8bac332`](https://github.com/sagemath/sagetrac-mirror/commit/8bac3324636f074cd6439b962d86e5592c866f45)** to **[`6da082a`](https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a)**



---

archive/issue_events_249967.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-10-03T08:53:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249967"
}
```



---

archive/issue_events_249968.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-10-03T08:53:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249968"
}
```



---

archive/issue_comments_235262.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI fixed the typo. Let me know if I should set the ticket back to needs review.\n\nThank you for the review.",
    "created_at": "2021-10-03T08:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235262",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:21" align="right">comment:21</div>

I fixed the typo. Let me know if I should set the ticket back to needs review.

Thank you for the review.



---

archive/issue_comments_235263.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nTrac does it automatically with the push.",
    "created_at": "2021-10-03T08:55:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235263",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">comment:22</div>

Trac does it automatically with the push.



---

archive/issue_events_249969.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-03T08:55:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249969"
}
```



---

archive/issue_events_249970.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-03T08:55:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249970"
}
```



---

archive/issue_events_249971.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-19T20:31:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249971"
}
```



---

archive/issue_events_249972.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "017d1dc75ce4d88e7fde0b14b9497b6d53ceb1df",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-10-19T20:31:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-249972"
}
```



---

archive/issue_comments_235264.json:
```json
{
    "body": "Changed branch from **[public/graphs/17537_geodetic_closure](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/17537_geodetic_closure)** to **[`6da082a`](https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a)**",
    "created_at": "2021-10-19T20:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-235264",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/graphs/17537_geodetic_closure](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/17537_geodetic_closure)** to **[`6da082a`](https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a)**
