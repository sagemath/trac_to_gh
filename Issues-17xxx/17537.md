# Issue 17537: The geodetic closure of a graph

archive/issues_017300.json:
```json
{
    "assignees": [],
    "body": "Hello!\n\nThe plan is to ship the algorithm for the minimal geodetic set of a graph but first let me try to sell this simple method for computing the geodetic closure of a (di) graph.\n\nLet me know if there are any bugs/suggestions for this contribution.\n\n\n\nCC:  @nathanncohen\n\nBranch/Commit: **[6da082a](https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Jernej Azarija, David Coudert**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17537_\n\n",
    "closed_at": "2021-10-19T20:31:05Z",
    "created_at": "2014-12-21T17:11:58Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "The geodetic closure of a graph",
    "type": "issue",
    "updated_at": "2021-10-19T20:31:05Z",
    "url": "https://github.com/sagemath/sage/issues/17537",
    "user": "https://github.com/sagetrac-azi"
}
```
Hello!

The plan is to ship the algorithm for the minimal geodetic set of a graph but first let me try to sell this simple method for computing the geodetic closure of a (di) graph.

Let me know if there are any bugs/suggestions for this contribution.



CC:  @nathanncohen

Branch/Commit: **[6da082a](https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a)**

Reviewer: **Travis Scrimshaw**

Author: **Jernej Azarija, David Coudert**

_Issue created by migration from https://trac.sagemath.org/ticket/17537_





---

archive/issue_events_232282.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-21T17:11:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232282"
}
```



---

archive/issue_events_232283.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-21T17:11:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232283"
}
```



---

archive/issue_events_232284.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-21T17:11:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232284"
}
```



---

archive/issue_events_232285.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-21T17:11:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232285"
}
```



---

archive/issue_comments_237729.json:
```json
{
    "body": "Branch: **[u/azi/geodeticClosure](https://github.com/sagemath/sagetrac-mirror/tree/u/azi/geodeticClosure)**",
    "created_at": "2014-12-21T17:15:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237729",
    "user": "https://github.com/sagetrac-azi"
}
```

Branch: **[u/azi/geodeticClosure](https://github.com/sagemath/sagetrac-mirror/tree/u/azi/geodeticClosure)**



---

archive/issue_comments_237730.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8709f3b0ddc0bac77bdfbaa06ffec119f585f24\">b8709f3</a></td><td><code>trac #17537: Added method to compute the geodetic closure of a (di)graph</code></td></tr></table>\n",
    "created_at": "2014-12-21T17:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237730",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8709f3b0ddc0bac77bdfbaa06ffec119f585f24">b8709f3</a></td><td><code>trac #17537: Added method to compute the geodetic closure of a (di)graph</code></td></tr></table>




---

archive/issue_comments_237731.json:
```json
{
    "body": "Commit: **[b8709f3](https://github.com/sagemath/sagetrac-mirror/commit/b8709f3b0ddc0bac77bdfbaa06ffec119f585f24)**",
    "created_at": "2014-12-21T17:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237731",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[b8709f3](https://github.com/sagemath/sagetrac-mirror/commit/b8709f3b0ddc0bac77bdfbaa06ffec119f585f24)**



---

archive/issue_comments_237732.json:
```json
{
    "body": "Changed commit from **[b8709f3](https://github.com/sagemath/sagetrac-mirror/commit/b8709f3b0ddc0bac77bdfbaa06ffec119f585f24)** to **[04f0332](https://github.com/sagemath/sagetrac-mirror/commit/04f03328e877d2c35ee52228ffde216ae8cb262e)**",
    "created_at": "2014-12-21T17:18:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237732",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b8709f3](https://github.com/sagemath/sagetrac-mirror/commit/b8709f3b0ddc0bac77bdfbaa06ffec119f585f24)** to **[04f0332](https://github.com/sagemath/sagetrac-mirror/commit/04f03328e877d2c35ee52228ffde216ae8cb262e)**



---

archive/issue_comments_237733.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04f03328e877d2c35ee52228ffde216ae8cb262e\">04f0332</a></td><td><code>trac #17537: Added missing description in the header of generic_graph.py</code></td></tr></table>\n",
    "created_at": "2014-12-21T17:18:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237733",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04f03328e877d2c35ee52228ffde216ae8cb262e">04f0332</a></td><td><code>trac #17537: Added missing description in the header of generic_graph.py</code></td></tr></table>




---

archive/issue_events_232286.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-21T17:19:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232286"
}
```



---

archive/issue_events_232287.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-12-21T17:23:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232287"
}
```



---

archive/issue_events_232288.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-12-21T17:23:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232288"
}
```



---

archive/issue_comments_237734.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nHmmm... Calling \"distances_all_pairs\" in a function like that is a suicide. You cannot re-compute all distances every time you want to compute a closure. Actually, the information that you need is precisely the one that is stored in `convexity_properties`.\n\nThe \"convexity properties\" object associates to every pair of vertices `u,v` the bitset of all z such that z is on a shortest uv path. Thus if you need to find the closure of a set of points, all you have to do is compute the union (with 'or' processor operations) of the bitsets associated to all pairs of vertices.\n\nMy point is that the code is already there, but of course the name 'convexity properties' is very ill-chosen in this case. We will probably have to change the terminology... What do you think about all this ?\n\nBy the way, is the terminology 'closure' used anywhere ? Because formally it is not a closure function. One of the property of closure functions is that `f(f(X))` should be equal to `f(x)`.\n\nNathann",
    "created_at": "2014-12-21T17:23:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237734",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'>Comment 5:</a>
Hmmm... Calling "distances_all_pairs" in a function like that is a suicide. You cannot re-compute all distances every time you want to compute a closure. Actually, the information that you need is precisely the one that is stored in `convexity_properties`.

The "convexity properties" object associates to every pair of vertices `u,v` the bitset of all z such that z is on a shortest uv path. Thus if you need to find the closure of a set of points, all you have to do is compute the union (with 'or' processor operations) of the bitsets associated to all pairs of vertices.

My point is that the code is already there, but of course the name 'convexity properties' is very ill-chosen in this case. We will probably have to change the terminology... What do you think about all this ?

By the way, is the terminology 'closure' used anywhere ? Because formally it is not a closure function. One of the property of closure functions is that `f(f(X))` should be equal to `f(x)`.

Nathann



---

archive/issue_comments_237735.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nReplying to [@nathanncohen](#comment%3A5):\n> Hmmm... Calling \"distances_all_pairs\" in a function like that is a suicide. You cannot re-compute all distances every time you want to compute a closure. Actually, the information that you need is precisely the one that is stored in `convexity_properties`.\n\nThat's true, though we can make for an optional argument DP that lets you pass the distance dictionary in case *anyone* really needs to compute this often.\n\n\n> \n> The \"convexity properties\" object associates to every pair of vertices `u,v` the bitset of all z such that z is on a shortest uv path. Thus if you need to find the closure of a set of points, all you have to do is compute the union (with 'or' processor operations) of the bitsets associated to all pairs of vertices.\n\nI see. \n\n> \n> My point is that the code is already there, but of course the name 'convexity properties' is very ill-chosen in this case. We will probably have to change the terminology... What do you think about all this ?\n\nFine to me. As far as my preferences go I'd like convexity properties to be part of the graph/generic graph family and cache this stuff in some other way. Having a module like that for just a few functions seems a bit unnatural to me?\n\n> \n> By the way, is the terminology 'closure' used anywhere ? Because formally it is not a closure function. One of the property of closure functions is that `f(f(X))` should be equal to `f(x)`.\n\nYes it appears that this is the standard way to call it. See for example the paper \"On pitfalls in computing the geodetic number of a graph\" by Hansen and van Omme.\n\n> \n> Nathann",
    "created_at": "2014-12-21T17:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237735",
    "user": "https://github.com/sagetrac-azi"
}
```

<a id='comment:6'>Comment 6:</a>
Replying to [@nathanncohen](#comment%3A5):
> Hmmm... Calling "distances_all_pairs" in a function like that is a suicide. You cannot re-compute all distances every time you want to compute a closure. Actually, the information that you need is precisely the one that is stored in `convexity_properties`.

That's true, though we can make for an optional argument DP that lets you pass the distance dictionary in case *anyone* really needs to compute this often.


> 
> The "convexity properties" object associates to every pair of vertices `u,v` the bitset of all z such that z is on a shortest uv path. Thus if you need to find the closure of a set of points, all you have to do is compute the union (with 'or' processor operations) of the bitsets associated to all pairs of vertices.

I see. 

> 
> My point is that the code is already there, but of course the name 'convexity properties' is very ill-chosen in this case. We will probably have to change the terminology... What do you think about all this ?

Fine to me. As far as my preferences go I'd like convexity properties to be part of the graph/generic graph family and cache this stuff in some other way. Having a module like that for just a few functions seems a bit unnatural to me?

> 
> By the way, is the terminology 'closure' used anywhere ? Because formally it is not a closure function. One of the property of closure functions is that `f(f(X))` should be equal to `f(x)`.

Yes it appears that this is the standard way to call it. See for example the paper "On pitfalls in computing the geodetic number of a graph" by Hansen and van Omme.

> 
> Nathann



---

archive/issue_comments_237736.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nYo !\n\n> Fine to me. As far as my preferences go I'd like convexity properties to be part of the graph/generic graph family and cache this stuff in some other way. Having a module like that for just a few functions seems a bit unnatural to me?\n\nYes, it is a bad implementation. I can say it, it's mine. It is ugly. I needed someplace to store this bitset, and I did not know where.\n\n> Yes it appears that this is the standard way to call it. See for example the paper \"On pitfalls in computing the geodetic number of a graph\" by Hansen and van Omme.\n\nWeird `O_o`\n\nNathann",
    "created_at": "2014-12-21T17:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237736",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'>Comment 7:</a>
Yo !

> Fine to me. As far as my preferences go I'd like convexity properties to be part of the graph/generic graph family and cache this stuff in some other way. Having a module like that for just a few functions seems a bit unnatural to me?

Yes, it is a bad implementation. I can say it, it's mine. It is ugly. I needed someplace to store this bitset, and I did not know where.

> Yes it appears that this is the standard way to call it. See for example the paper "On pitfalls in computing the geodetic number of a graph" by Hansen and van Omme.

Weird `O_o`

Nathann



---

archive/issue_comments_237737.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@nathanncohen](#comment%3A7):\n> Yo !\n\nHiiii\n> \n> > Fine to me. As far as my preferences go I'd like convexity properties to be part of the graph/generic graph family and cache this stuff in some other way. Having a module like that for just a few functions seems a bit unnatural to me?\n\n> \n> Yes, it is a bad implementation. I can say it, it's mine. It is ugly. I needed someplace to store this bitset, and I did not know where.\n\nSo what do you suggest that we do?\n\n\n> \n> > Yes it appears that this is the standard way to call it. See for example the paper \"On pitfalls in computing the geodetic number of a graph\" by Hansen and van Omme.\n\n> \n> Weird `O_o`\n\n:-)\n\n\n> \n> Nathann",
    "created_at": "2014-12-21T17:46:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237737",
    "user": "https://github.com/sagetrac-azi"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@nathanncohen](#comment%3A7):
> Yo !

Hiiii
> 
> > Fine to me. As far as my preferences go I'd like convexity properties to be part of the graph/generic graph family and cache this stuff in some other way. Having a module like that for just a few functions seems a bit unnatural to me?

> 
> Yes, it is a bad implementation. I can say it, it's mine. It is ugly. I needed someplace to store this bitset, and I did not know where.

So what do you suggest that we do?


> 
> > Yes it appears that this is the standard way to call it. See for example the paper "On pitfalls in computing the geodetic number of a graph" by Hansen and van Omme.

> 
> Weird `O_o`

:-)


> 
> Nathann



---

archive/issue_comments_237738.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\n> So what do you suggest that we do?\n\nWe rename `convexity_properties` to `geodetic_properties` and you add your `geodetic_closure` function there ? `:-P`\n\nIt is a bad design, but I still don't know how to implement it otherwise `^^;`\n\nNathann",
    "created_at": "2014-12-21T17:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237738",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'>Comment 9:</a>
> So what do you suggest that we do?

We rename `convexity_properties` to `geodetic_properties` and you add your `geodetic_closure` function there ? `:-P`

It is a bad design, but I still don't know how to implement it otherwise `^^;`

Nathann



---

archive/issue_comments_237739.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nhttp://en.wikipedia.org/wiki/Closure_%28mathematics%29\n\nThey also agree that a closure operator should be idempotent. Cursed wrong terminology. If we have a `geodetic_closure` function we must remember to add a big warning saying that this operation is NOT a closure, and blame those guys while citing the reference `:-P`\n\nNathann",
    "created_at": "2014-12-21T18:12:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237739",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'>Comment 10:</a>
http://en.wikipedia.org/wiki/Closure_%28mathematics%29

They also agree that a closure operator should be idempotent. Cursed wrong terminology. If we have a `geodetic_closure` function we must remember to add a big warning saying that this operation is NOT a closure, and blame those guys while citing the reference `:-P`

Nathann



---

archive/issue_comments_237740.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@nathanncohen](#comment%3A9):\n> > So what do you suggest that we do?\n\n> \n> We rename `convexity_properties` to `geodetic_properties` and you add your `geodetic_closure` function there ? `:-P`\n\nOkay. Do you also want to do it your way with the bitfields present there or use the thing I pushed here? In the former case I suppose its much better if you just put it in as you already know the code?\n\n\n> \n> It is a bad design, but I still don't know how to implement it otherwise `^^;`\n\n:-P\n\n> \n> Nathann",
    "created_at": "2014-12-22T09:54:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237740",
    "user": "https://github.com/sagetrac-azi"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@nathanncohen](#comment%3A9):
> > So what do you suggest that we do?

> 
> We rename `convexity_properties` to `geodetic_properties` and you add your `geodetic_closure` function there ? `:-P`

Okay. Do you also want to do it your way with the bitfields present there or use the thing I pushed here? In the former case I suppose its much better if you just put it in as you already know the code?


> 
> It is a bad design, but I still don't know how to implement it otherwise `^^;`

:-P

> 
> Nathann



---

archive/issue_comments_237741.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nYo !\n\n> Okay. Do you also want to do it your way with the bitfields present there or use the thing I pushed here? In the former case I suppose its much better if you just put it in as you already know the code?\n\nSorry I can't do that now... Juggling with many computers at once and a slideshow to get ready for tomorrow. Can you do it ? Really it is nothing very complicated, and you should find inside some very similar function that computes the hull of a set of vertices. The geodetic is even simpler.\n\nNathann",
    "created_at": "2014-12-22T10:05:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237741",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'>Comment 12:</a>
Yo !

> Okay. Do you also want to do it your way with the bitfields present there or use the thing I pushed here? In the former case I suppose its much better if you just put it in as you already know the code?

Sorry I can't do that now... Juggling with many computers at once and a slideshow to get ready for tomorrow. Can you do it ? Really it is nothing very complicated, and you should find inside some very similar function that computes the hull of a set of vertices. The geodetic is even simpler.

Nathann



---

archive/issue_comments_237742.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nyoo,\n\nOkay hopefully I manage to do it by today.\n\nGood luck with presentation :-)\n\nJernej",
    "created_at": "2014-12-22T10:10:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237742",
    "user": "https://github.com/sagetrac-azi"
}
```

<a id='comment:13'>Comment 13:</a>
yoo,

Okay hopefully I manage to do it by today.

Good luck with presentation :-)

Jernej



---

archive/issue_comments_237743.json:
```json
{
    "body": "Changed commit from **[04f0332](https://github.com/sagemath/sagetrac-mirror/commit/04f03328e877d2c35ee52228ffde216ae8cb262e)** to **[475e605](https://github.com/sagemath/sagetrac-mirror/commit/475e60598370ccf3196f13b2a7f9722fcc69e56c)**",
    "created_at": "2021-09-05T10:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237743",
    "user": "https://github.com/dcoudert"
}
```

Changed commit from **[04f0332](https://github.com/sagemath/sagetrac-mirror/commit/04f03328e877d2c35ee52228ffde216ae8cb262e)** to **[475e605](https://github.com/sagemath/sagetrac-mirror/commit/475e60598370ccf3196f13b2a7f9722fcc69e56c)**



---

archive/issue_comments_237744.json:
```json
{
    "body": "Changed author from **Jernej Azarija** to **Jernej Azarija, David Coudert**",
    "created_at": "2021-09-05T10:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237744",
    "user": "https://github.com/dcoudert"
}
```

Changed author from **Jernej Azarija** to **Jernej Azarija, David Coudert**



---

archive/issue_events_232289.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2021-09-05T10:08:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232289"
}
```



---

archive/issue_events_232290.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2021-09-05T10:08:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232290"
}
```



---

archive/issue_comments_237745.json:
```json
{
    "body": "Changed branch from **[u/azi/geodeticClosure](https://github.com/sagemath/sagetrac-mirror/tree/u/azi/geodeticClosure)** to **[public/graphs/17537_geodetic_closure](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/17537_geodetic_closure)**",
    "created_at": "2021-09-05T10:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237745",
    "user": "https://github.com/dcoudert"
}
```

Changed branch from **[u/azi/geodeticClosure](https://github.com/sagemath/sagetrac-mirror/tree/u/azi/geodeticClosure)** to **[public/graphs/17537_geodetic_closure](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/17537_geodetic_closure)**



---

archive/issue_events_232291.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2021-09-05T10:08:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232291"
}
```



---

archive/issue_events_232292.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2021-09-05T10:08:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232292"
}
```



---

archive/issue_comments_237746.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nI pushed a new branch with a more efficient implementation (in Cython). In particular, it does not require to compute and store the full distance matrix, and so can be used on quite large graphs. It is so far for undirected graphs only.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/475e60598370ccf3196f13b2a7f9722fcc69e56c\">475e605</a></td><td><code>trac #17537: geodesic closure in Cython</code></td></tr></table>\n",
    "created_at": "2021-09-05T10:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237746",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:14'>Comment 14:</a>
I pushed a new branch with a more efficient implementation (in Cython). In particular, it does not require to compute and store the full distance matrix, and so can be used on quite large graphs. It is so far for undirected graphs only.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/475e60598370ccf3196f13b2a7f9722fcc69e56c">475e605</a></td><td><code>trac #17537: geodesic closure in Cython</code></td></tr></table>




---

archive/issue_comments_237747.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bac3324636f074cd6439b962d86e5592c866f45\">8bac332</a></td><td><code>trac #17537: prevent calling this method on digraphs</code></td></tr></table>\n",
    "created_at": "2021-09-05T10:17:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237747",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'>Comment 15:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bac3324636f074cd6439b962d86e5592c866f45">8bac332</a></td><td><code>trac #17537: prevent calling this method on digraphs</code></td></tr></table>




---

archive/issue_comments_237748.json:
```json
{
    "body": "Changed commit from **[475e605](https://github.com/sagemath/sagetrac-mirror/commit/475e60598370ccf3196f13b2a7f9722fcc69e56c)** to **[8bac332](https://github.com/sagemath/sagetrac-mirror/commit/8bac3324636f074cd6439b962d86e5592c866f45)**",
    "created_at": "2021-09-05T10:17:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237748",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[475e605](https://github.com/sagemath/sagetrac-mirror/commit/475e60598370ccf3196f13b2a7f9722fcc69e56c)** to **[8bac332](https://github.com/sagemath/sagetrac-mirror/commit/8bac3324636f074cd6439b962d86e5592c866f45)**



---

archive/issue_comments_237749.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nAdd not implemented error when calling this method on digraphs.",
    "created_at": "2021-09-05T10:18:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237749",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:16'>Comment 16:</a>
Add not implemented error when calling this method on digraphs.



---

archive/issue_comments_237750.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nGeodesic or geodetic?",
    "created_at": "2021-09-18T20:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237750",
    "user": "https://github.com/slel"
}
```

<a id='comment:17'>Comment 17:</a>
Geodesic or geodetic?



---

archive/issue_comments_237751.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nThe term used in the field is geodetic https://doi.org/10.1016/0895-7177(93)90259-2. Don't know why...",
    "created_at": "2021-09-18T21:09:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237751",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:18'>Comment 18:</a>
The term used in the field is geodetic https://doi.org/10.1016/0895-7177(93)90259-2. Don't know why...



---

archive/issue_events_232293.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-03T08:49:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232293"
}
```



---

archive/issue_events_232294.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-03T08:49:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232294"
}
```



---

archive/issue_comments_237752.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nLGTM.\n\nIf you care enough, I believe there is a typo in this comment:\n\n```\n# Copy the graph has a short digraph\n```",
    "created_at": "2021-10-03T08:49:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237752",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'>Comment 19:</a>
LGTM.

If you care enough, I believe there is a typo in this comment:

```
# Copy the graph has a short digraph
```



---

archive/issue_comments_237753.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2021-10-03T08:49:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237753",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_237754.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6eb2a53f5b96194b4626ef0a34889064e6e1c2ba\">6eb2a53</a></td><td><code>trac #17537: merged with 9.5.beta2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a\">6da082a</a></td><td><code>trac #17537: typo</code></td></tr></table>\n",
    "created_at": "2021-10-03T08:53:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237754",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'>Comment 20:</a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6eb2a53f5b96194b4626ef0a34889064e6e1c2ba">6eb2a53</a></td><td><code>trac #17537: merged with 9.5.beta2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a">6da082a</a></td><td><code>trac #17537: typo</code></td></tr></table>




---

archive/issue_comments_237755.json:
```json
{
    "body": "Changed commit from **[8bac332](https://github.com/sagemath/sagetrac-mirror/commit/8bac3324636f074cd6439b962d86e5592c866f45)** to **[6da082a](https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a)**",
    "created_at": "2021-10-03T08:53:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237755",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8bac332](https://github.com/sagemath/sagetrac-mirror/commit/8bac3324636f074cd6439b962d86e5592c866f45)** to **[6da082a](https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a)**



---

archive/issue_events_232295.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-10-03T08:53:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232295"
}
```



---

archive/issue_events_232296.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-10-03T08:53:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232296"
}
```



---

archive/issue_comments_237756.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nI fixed the typo. Let me know if I should set the ticket back to needs review.\n\nThank you for the review.",
    "created_at": "2021-10-03T08:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237756",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:21'>Comment 21:</a>
I fixed the typo. Let me know if I should set the ticket back to needs review.

Thank you for the review.



---

archive/issue_comments_237757.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nTrac does it automatically with the push.",
    "created_at": "2021-10-03T08:55:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237757",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'>Comment 22:</a>
Trac does it automatically with the push.



---

archive/issue_events_232297.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-03T08:55:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232297"
}
```



---

archive/issue_events_232298.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-03T08:55:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232298"
}
```



---

archive/issue_events_232299.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-19T20:31:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232299"
}
```



---

archive/issue_events_232300.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "017d1dc75ce4d88e7fde0b14b9497b6d53ceb1df",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-10-19T20:31:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17537#event-232300"
}
```



---

archive/issue_comments_237758.json:
```json
{
    "body": "Changed branch from **[public/graphs/17537_geodetic_closure](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/17537_geodetic_closure)** to **[6da082a](https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a)**",
    "created_at": "2021-10-19T20:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17537#issuecomment-237758",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/graphs/17537_geodetic_closure](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/17537_geodetic_closure)** to **[6da082a](https://github.com/sagemath/sagetrac-mirror/commit/6da082a7c611da789273d17686dd70d013fdd57a)**
