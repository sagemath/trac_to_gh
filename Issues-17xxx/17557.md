# Issue 17557: creating a (136,4,1)-BIBD raises an exception

archive/issues_017320.json:
```json
{
    "body": "Just a bug\n\n```\nsage: designs.balanced_incomplete_block_design(136,4)\n...\nTypeError: unsupported operand type(s) for +: 'TransversalDesign' and 'list'\n```\n\nCC:  @videlec\n\nBranch/Commit: 8dd05923ce7f06ddf314a9e3800d5deb5a32e2db\n\nReviewer: Vincent Delecroix\n\nAuthor: Nathann Cohen\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17557\n\n",
    "closed_at": "2015-01-02T22:12:34Z",
    "created_at": "2014-12-27T18:14:54Z",
    "labels": [
        "component: combinatorial designs",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "creating a (136,4,1)-BIBD raises an exception",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17557",
    "user": "https://github.com/nathanncohen"
}
```
Just a bug

```
sage: designs.balanced_incomplete_block_design(136,4)
...
TypeError: unsupported operand type(s) for +: 'TransversalDesign' and 'list'
```

CC:  @videlec

Branch/Commit: 8dd05923ce7f06ddf314a9e3800d5deb5a32e2db

Reviewer: Vincent Delecroix

Author: Nathann Cohen

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17557





---

archive/issue_comments_298977.json:
```json
{
    "body": "Changing commit from \"\" to \"47cc3870e099232ecb1470e6a8e8114f64e985dc\"",
    "created_at": "2014-12-27T18:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298977",
    "user": "https://github.com/nathanncohen"
}
```

Changing commit from "" to "47cc3870e099232ecb1470e6a8e8114f64e985dc"



---

archive/issue_comments_298978.json:
```json
{
    "body": "Changing branch from \"\" to \"u/ncohen/17557\"",
    "created_at": "2014-12-27T18:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298978",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "u/ncohen/17557"



---

archive/issue_comments_298979.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-12-27T18:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298979",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_298980.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2014-12-27T18:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298980",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_298981.json:
```json
{
    "body": "Changing commit from \"47cc3870e099232ecb1470e6a8e8114f64e985dc\" to \"ece8d5af83dbe04e807b7b4cede78ab6f4cbdbab\"",
    "created_at": "2014-12-27T18:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298981",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "47cc3870e099232ecb1470e6a8e8114f64e985dc" to "ece8d5af83dbe04e807b7b4cede78ab6f4cbdbab"



---

archive/issue_comments_298982.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-12-27T18:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298982",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_298983.json:
```json
{
    "body": "<a id='comment:3'></a>Hi Nathann,\n\nWhat about a doctest?\n\nVincent",
    "created_at": "2014-12-27T18:52:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298983",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>Hi Nathann,

What about a doctest?

Vincent



---

archive/issue_comments_298984.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-28T03:05:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298984",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_298985.json:
```json
{
    "body": "Changing commit from \"ece8d5af83dbe04e807b7b4cede78ab6f4cbdbab\" to \"4a3c2032f99bed585671b67b0fc530dc68c38012\"",
    "created_at": "2014-12-28T03:05:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298985",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ece8d5af83dbe04e807b7b4cede78ab6f4cbdbab" to "4a3c2032f99bed585671b67b0fc530dc68c38012"



---

archive/issue_comments_298986.json:
```json
{
    "body": "<a id='comment:5'></a>I can't do anything smarter than that !\n\nNathann",
    "created_at": "2014-12-28T03:05:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298986",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>I can't do anything smarter than that !

Nathann



---

archive/issue_comments_298987.json:
```json
{
    "body": "<a id='comment:6'></a>Hello,\n\nThe values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.\n\nVincent\n\n---\nNew commits:",
    "created_at": "2014-12-28T09:33:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298987",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>Hello,

The values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.

Vincent

---
New commits:



---

archive/issue_comments_298988.json:
```json
{
    "body": "Changing commit from \"4a3c2032f99bed585671b67b0fc530dc68c38012\" to \"066afc235f2e14bccaec90493bd14c42659152b9\"",
    "created_at": "2014-12-28T09:33:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298988",
    "user": "https://github.com/videlec"
}
```

Changing commit from "4a3c2032f99bed585671b67b0fc530dc68c38012" to "066afc235f2e14bccaec90493bd14c42659152b9"



---

archive/issue_comments_298989.json:
```json
{
    "body": "Changing branch from \"u/ncohen/17557\" to \"u/vdelecroix/17557\"",
    "created_at": "2014-12-28T09:33:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298989",
    "user": "https://github.com/videlec"
}
```

Changing branch from "u/ncohen/17557" to "u/vdelecroix/17557"



---

archive/issue_comments_298990.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-28T09:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298990",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_298991.json:
```json
{
    "body": "Changing commit from \"066afc235f2e14bccaec90493bd14c42659152b9\" to \"84734503c0cf6090a7411087aaae9564098d0547\"",
    "created_at": "2014-12-28T09:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298991",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "066afc235f2e14bccaec90493bd14c42659152b9" to "84734503c0cf6090a7411087aaae9564098d0547"



---

archive/issue_comments_298992.json:
```json
{
    "body": "<a id='comment:8'></a>Replacing `Set` with `frozenset` in `steiner_triple_system` I got a times 10 speedup (from 40ms to 4ms)!!",
    "created_at": "2014-12-28T09:47:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298992",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>Replacing `Set` with `frozenset` in `steiner_triple_system` I got a times 10 speedup (from 40ms to 4ms)!!



---

archive/issue_comments_298993.json:
```json
{
    "body": "<a id='comment:9'></a>Yo !\n\n> The values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.\n\n\nOh, sorry. But instead of this complicated loop with random values and the if to set the modulos right, could you just change the 100 to 400 ? It takes 3 seconds, and is way more systematic and easier to read.\n\nThanks for the speedup in steiner triple systems.\n\nNathann",
    "created_at": "2014-12-28T09:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298993",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>Yo !

> The values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.


Oh, sorry. But instead of this complicated loop with random values and the if to set the modulos right, could you just change the 100 to 400 ? It takes 3 seconds, and is way more systematic and easier to read.

Thanks for the speedup in steiner triple systems.

Nathann



---

archive/issue_comments_298994.json:
```json
{
    "body": "Changing commit from \"84734503c0cf6090a7411087aaae9564098d0547\" to \"31cee6143c9157273d33dc1d311f288cc0eaf3b5\"",
    "created_at": "2014-12-28T10:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298994",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "84734503c0cf6090a7411087aaae9564098d0547" to "31cee6143c9157273d33dc1d311f288cc0eaf3b5"



---

archive/issue_comments_298995.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-28T10:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298995",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_298996.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:9 ncohen]:\n> Yo !\n> \n> > The values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.\n\n> \n> Oh, sorry. But instead of this complicated loop with random values and the if to set the modulos right, could you just change the 100 to 400 ? It takes 3 seconds, and is way more systematic and easier to read.\n\n\nActually, I was wrong. The first test checks the function `v_4_1_BIBD` while the second one checks `designs.balanced_incomplete_block_design`. So it is fine to start again from `13`.\n\nVincent",
    "created_at": "2014-12-28T10:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298996",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>Replying to [comment:9 ncohen]:
> Yo !
> 
> > The values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.

> 
> Oh, sorry. But instead of this complicated loop with random values and the if to set the modulos right, could you just change the 100 to 400 ? It takes 3 seconds, and is way more systematic and easier to read.


Actually, I was wrong. The first test checks the function `v_4_1_BIBD` while the second one checks `designs.balanced_incomplete_block_design`. So it is fine to start again from `13`.

Vincent



---

archive/issue_comments_298997.json:
```json
{
    "body": "<a id='comment:12'></a>Yooooooooo !\n\nWell, I still don't know why you care so much about avoiding 13 BIBD of small size... Nor why you want to have a doctest for 136 right before having a doctest for 13-400.. But WELL, this is fixed `:-D`\n\nCan we set it to `positive review` or is there anything else ???\n\nThanks for your help,\n\nNathann",
    "created_at": "2014-12-28T10:26:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298997",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>Yooooooooo !

Well, I still don't know why you care so much about avoiding 13 BIBD of small size... Nor why you want to have a doctest for 136 right before having a doctest for 13-400.. But WELL, this is fixed `:-D`

Can we set it to `positive review` or is there anything else ???

Thanks for your help,

Nathann



---

archive/issue_comments_298998.json:
```json
{
    "body": "Changing commit from \"31cee6143c9157273d33dc1d311f288cc0eaf3b5\" to \"8dd05923ce7f06ddf314a9e3800d5deb5a32e2db\"",
    "created_at": "2014-12-28T10:42:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298998",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "31cee6143c9157273d33dc1d311f288cc0eaf3b5" to "8dd05923ce7f06ddf314a9e3800d5deb5a32e2db"



---

archive/issue_comments_298999.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-12-28T10:42:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-298999",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_299000.json:
```json
{
    "body": "<a id='comment:14'></a>Forced push. You can set to positive review if you like it.",
    "created_at": "2014-12-28T10:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-299000",
    "user": "https://github.com/videlec"
}
```

<a id='comment:14'></a>Forced push. You can set to positive review if you like it.



---

archive/issue_comments_299001.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2014-12-28T10:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-299001",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_299002.json:
```json
{
    "body": "<a id='comment:15'></a>No objection ! Thanks !\n\nNathann",
    "created_at": "2014-12-28T10:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-299002",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>No objection ! Thanks !

Nathann



---

archive/issue_comments_299003.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-12-28T10:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-299003",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_050409.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-02T22:12:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17557#event-50409"
}
```



---

archive/issue_comments_299004.json:
```json
{
    "body": "Changing branch from \"u/vdelecroix/17557\" to \"8dd05923ce7f06ddf314a9e3800d5deb5a32e2db\"",
    "created_at": "2015-01-02T22:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-299004",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/vdelecroix/17557" to "8dd05923ce7f06ddf314a9e3800d5deb5a32e2db"



---

archive/issue_comments_299005.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-01-02T22:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17557#issuecomment-299005",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
