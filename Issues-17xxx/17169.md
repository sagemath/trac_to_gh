# Issue 17169: Upgrade to GCC 4.9.1

archive/issues_016932.json:
```json
{
    "assignees": [],
    "body": "ftp://ftp.mirrorservice.org/sites/sourceware.org/pub/gcc/releases/gcc-4.9.1/gcc-4.9.1.tar.bz2\n\nCC:  jpflori\n\nKeywords: **yosemite**\n\nBranch: **[e16d2ae](https://github.com/sagemath/sagetrac-mirror/commit/e16d2ae38370fe22f7ade18a8317c3840261a971)**\n\nUpstream: **Reported upstream. No feedback yet.**\n\nReviewer: **R. Andrew Ohana, Jeroen Demeyer, Fran\u00e7ois Bissey**\n\nAuthor: **Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17169_\n\n",
    "closed_at": "2014-10-30T09:45:51Z",
    "created_at": "2014-10-17T17:21:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade to GCC 4.9.1",
    "type": "issue",
    "updated_at": "2014-10-30T16:42:10Z",
    "url": "https://github.com/sagemath/sage/issues/17169",
    "user": "https://github.com/vbraun"
}
```
ftp://ftp.mirrorservice.org/sites/sourceware.org/pub/gcc/releases/gcc-4.9.1/gcc-4.9.1.tar.bz2

CC:  jpflori

Keywords: **yosemite**

Branch: **[e16d2ae](https://github.com/sagemath/sagetrac-mirror/commit/e16d2ae38370fe22f7ade18a8317c3840261a971)**

Upstream: **Reported upstream. No feedback yet.**

Reviewer: **R. Andrew Ohana, Jeroen Demeyer, Fran√ßois Bissey**

Author: **Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/17169_





---

archive/issue_events_227479.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-17T17:21:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227479"
}
```



---

archive/issue_events_227480.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-17T17:21:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227480"
}
```



---

archive/issue_events_227481.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-17T17:21:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227481"
}
```



---

archive/issue_events_227482.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-17T17:21:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227482"
}
```



---

archive/issue_comments_230360.json:
```json
{
    "body": "Branch: **[u/vbraun/upgrade_to_gcc_4_8_3](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_to_gcc_4_8_3)**",
    "created_at": "2014-10-17T19:46:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230360",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/upgrade_to_gcc_4_8_3](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_to_gcc_4_8_3)**



---

archive/issue_comments_230361.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\n\n```\nComparing stages 2 and 3\nwarning: gcc/cc1-checksum.o differs\nwarning: gcc/cc1obj-checksum.o differs\nwarning: gcc/cc1plus-checksum.o differs\nBootstrap comparison failure!\ngcc/asan.o differs\ngcc/c/c-decl.o differs\ngcc/cfg.o differs\ngcc/coverage.o differs\ngcc/cp/class.o differs\ngcc/cp/semantics.o differs\ngcc/cp/tree.o differs\ngcc/dse.o differs\ngcc/java/jcf-io.o differs\ngcc/objc/objc-act.o differs\ngcc/tree-ssa-ccp.o differs\ngcc/tree-ssa-coalesce.o differs\ngcc/tree-ssa-pre.o differs\ngcc/tree-ssa-threadupdate.o differs\ngcc/valtrack.o differs\nmake[5]: *** [compare] Error 1\nmake[4]: *** [stage3-bubble] Error 2\nmake[3]: *** [all] Error 2\n```\n\nThe files are indeed different, but after I strip them then they are identical. So its something wonky in the debug info...\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86b8ba086e3917e90a31457507eac6fc5b9c23f4\">86b8ba0</a></td><td><code>Update to gcc-4.8.3, add OSX 10.10 patch</code></td></tr></table>\n",
    "created_at": "2014-10-17T19:53:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230361",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'>Comment 2:</a>

```
Comparing stages 2 and 3
warning: gcc/cc1-checksum.o differs
warning: gcc/cc1obj-checksum.o differs
warning: gcc/cc1plus-checksum.o differs
Bootstrap comparison failure!
gcc/asan.o differs
gcc/c/c-decl.o differs
gcc/cfg.o differs
gcc/coverage.o differs
gcc/cp/class.o differs
gcc/cp/semantics.o differs
gcc/cp/tree.o differs
gcc/dse.o differs
gcc/java/jcf-io.o differs
gcc/objc/objc-act.o differs
gcc/tree-ssa-ccp.o differs
gcc/tree-ssa-coalesce.o differs
gcc/tree-ssa-pre.o differs
gcc/tree-ssa-threadupdate.o differs
gcc/valtrack.o differs
make[5]: *** [compare] Error 1
make[4]: *** [stage3-bubble] Error 2
make[3]: *** [all] Error 2
```

The files are indeed different, but after I strip them then they are identical. So its something wonky in the debug info...

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86b8ba086e3917e90a31457507eac6fc5b9c23f4">86b8ba0</a></td><td><code>Update to gcc-4.8.3, add OSX 10.10 patch</code></td></tr></table>




---

archive/issue_comments_230362.json:
```json
{
    "body": "Commit: **[86b8ba0](https://github.com/sagemath/sagetrac-mirror/commit/86b8ba086e3917e90a31457507eac6fc5b9c23f4)**",
    "created_at": "2014-10-17T19:53:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230362",
    "user": "https://github.com/vbraun"
}
```

Commit: **[86b8ba0](https://github.com/sagemath/sagetrac-mirror/commit/86b8ba086e3917e90a31457507eac6fc5b9c23f4)**



---

archive/issue_comments_230363.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nFails just the same way on 10.9 so it is not the OS version at fault. The only thing I can think of is that the requirement for building gcc 4.8+ have been raised (that's not hypothetical, it is a fact) but I would be surprised if \n* the clang shipped was insufficient. That would be a well known problem\n* surely it would break before stage 3",
    "created_at": "2014-10-18T01:30:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230363",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:3'>Comment 3:</a>
Fails just the same way on 10.9 so it is not the OS version at fault. The only thing I can think of is that the requirement for building gcc 4.8+ have been raised (that's not hypothetical, it is a fact) but I would be surprised if 
* the clang shipped was insufficient. That would be a well known problem
* surely it would break before stage 3



---

archive/issue_comments_230364.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nSo I bootstrapped this with gcc 4.7.3 from sage 6.4.beta5 and it worked so\nReplying to [@kiwifb](#comment%3A3):\n> Fails just the same way on 10.9 so it is not the OS version at fault. The only thing I can think of is that the requirement for building gcc 4.8+ have been raised (that's not hypothetical, it is a fact) but I would be surprised if \n> * the clang shipped was insufficient. That would be a well known problem\n\nApparently that's the case.\n\n> * surely it would break before stage 3\n\nWhat do I know?",
    "created_at": "2014-10-18T03:07:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230364",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:4'>Comment 4:</a>
So I bootstrapped this with gcc 4.7.3 from sage 6.4.beta5 and it worked so
Replying to [@kiwifb](#comment%3A3):
> Fails just the same way on 10.9 so it is not the OS version at fault. The only thing I can think of is that the requirement for building gcc 4.8+ have been raised (that's not hypothetical, it is a fact) but I would be surprised if 
> * the clang shipped was insufficient. That would be a well known problem

Apparently that's the case.

> * surely it would break before stage 3

What do I know?



---

archive/issue_comments_230365.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nWhat happens is that GCC builds stage 2 with debug symbols, stage 3 without debug symbols. Then GCC checks that the code is identical using some tools from binutils. This checks are indeed broken on some systems.\n\nThe line in `spkg-install`\n\n```\n# Disable bootstrap-debug, since it doesn't work on an OS X 10.4 PPC\n# machine, nor on some Solaris machine. bootstrap-debug only does\n# additional checks during the build, so it is safe not to use it.\nMAKE=\"$MAKE BUILD_CONFIG=\"\n```\nis supposed to disable that, but apparently this disabling no longer works.",
    "created_at": "2014-10-18T04:48:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230365",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'>Comment 5:</a>
What happens is that GCC builds stage 2 with debug symbols, stage 3 without debug symbols. Then GCC checks that the code is identical using some tools from binutils. This checks are indeed broken on some systems.

The line in `spkg-install`

```
# Disable bootstrap-debug, since it doesn't work on an OS X 10.4 PPC
# machine, nor on some Solaris machine. bootstrap-debug only does
# additional checks during the build, so it is safe not to use it.
MAKE="$MAKE BUILD_CONFIG="
```
is supposed to disable that, but apparently this disabling no longer works.



---

archive/issue_comments_230366.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nGCC 4.8 requires a C++ compiler, so this ticket needs changes to the installation guide, to `build/install` and to `$SAGE_ROOT/configure.ac`.",
    "created_at": "2014-10-18T04:51:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230366",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'>Comment 6:</a>
GCC 4.8 requires a C++ compiler, so this ticket needs changes to the installation guide, to `build/install` and to `$SAGE_ROOT/configure.ac`.



---

archive/issue_comments_230367.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@jdemeyer](#comment%3A5):\n> The line in `spkg-install`\n> ...\n> is supposed to disable that, but apparently this disabling no longer works.\n\nIt seems that this line is the culprit in this case, somehow disabling bootstrap-debug (if this is still actually disabling it) is now breaking the build.",
    "created_at": "2014-10-18T05:57:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230367",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@jdemeyer](#comment%3A5):
> The line in `spkg-install`
> ...
> is supposed to disable that, but apparently this disabling no longer works.

It seems that this line is the culprit in this case, somehow disabling bootstrap-debug (if this is still actually disabling it) is now breaking the build.



---

archive/issue_comments_230368.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@jdemeyer](#comment%3A5):\n> What happens is that GCC builds stage 2 with debug symbols, stage 3 without debug symbols.\n\nThe object files from stage 2 and 3 have the same size for me. That is, before stripping the size is the same, after stripping the size is the same, but stripping reduces the size. They compare identical after stripping. The difference is not in something that is human-readable (at least not to me ;-)",
    "created_at": "2014-10-18T09:37:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230368",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@jdemeyer](#comment%3A5):
> What happens is that GCC builds stage 2 with debug symbols, stage 3 without debug symbols.

The object files from stage 2 and 3 have the same size for me. That is, before stripping the size is the same, after stripping the size is the same, but stripping reduces the size. They compare identical after stripping. The difference is not in something that is human-readable (at least not to me ;-)



---

archive/issue_comments_230369.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nConfirmed. I tried a few things but I completely missed that line. That takes my number 2 spot in the \"configuration option that leads to a build of gcc to fail\" [my number one spot can be summarised with \"it fails in stage 1 when I change the installation prefix (yes I mean --prefix=...)\"].\n\nI am relieved that clang++ is enough to build gcc 4.8+.",
    "created_at": "2014-10-18T09:38:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230369",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:9'>Comment 9:</a>
Confirmed. I tried a few things but I completely missed that line. That takes my number 2 spot in the "configuration option that leads to a build of gcc to fail" [my number one spot can be summarised with "it fails in stage 1 when I change the installation prefix (yes I mean --prefix=...)"].

I am relieved that clang++ is enough to build gcc 4.8+.



---

archive/issue_events_227483.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-18T10:32:15Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "title_is": "Upgrade to GCC 4.9.1",
    "title_was": "Upgrade to GCC 4.8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227483"
}
```



---

archive/issue_comments_230370.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-ftp://ftp.mirrorservice.org/sites/sourceware.org/pub/gcc/releases/gcc-4.8.3/gcc-4.8.3.tar.bz2\n+ftp://ftp.mirrorservice.org/sites/sourceware.org/pub/gcc/releases/gcc-4.9.1/gcc-4.9.1.tar.bz2\n``````\n",
    "created_at": "2014-10-18T10:32:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230370",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-ftp://ftp.mirrorservice.org/sites/sourceware.org/pub/gcc/releases/gcc-4.8.3/gcc-4.8.3.tar.bz2
+ftp://ftp.mirrorservice.org/sites/sourceware.org/pub/gcc/releases/gcc-4.9.1/gcc-4.9.1.tar.bz2
``````




---

archive/issue_comments_230371.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nI can build gcc 4.9.1 so I suggest we go for that. I'm using it on my desktop daily (Fedora 21 alpha)",
    "created_at": "2014-10-18T10:32:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230371",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'>Comment 10:</a>
I can build gcc 4.9.1 so I suggest we go for that. I'm using it on my desktop daily (Fedora 21 alpha)



---

archive/issue_comments_230372.json:
```json
{
    "body": "Changed branch from **[u/vbraun/upgrade_to_gcc_4_8_3](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_to_gcc_4_8_3)** to **[u/vbraun/upgrade_to_gcc_4_9_1](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_to_gcc_4_9_1)**",
    "created_at": "2014-10-18T11:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230372",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/upgrade_to_gcc_4_8_3](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_to_gcc_4_8_3)** to **[u/vbraun/upgrade_to_gcc_4_9_1](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_to_gcc_4_9_1)**



---

archive/issue_comments_230373.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nWhy not going to 4.9.x was one of the question I had when first seeing the ticket. For reference the bug for building on yosemite on gcc's bugzilla. The fix is merged in trunk along with a couple of other stuff that we probably don't care much about, but it will be in 4.9.2 and 5.0. I think this is ready for review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8eb5fe4ee364dbdfe127e750053c4c7a41429feb\">8eb5fe4</a></td><td><code>Update to gcc 4.9.1</code></td></tr></table>\n",
    "created_at": "2014-10-18T11:20:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230373",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'>Comment 12:</a>
Why not going to 4.9.x was one of the question I had when first seeing the ticket. For reference the bug for building on yosemite on gcc's bugzilla. The fix is merged in trunk along with a couple of other stuff that we probably don't care much about, but it will be in 4.9.2 and 5.0. I think this is ready for review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8eb5fe4ee364dbdfe127e750053c4c7a41429feb">8eb5fe4</a></td><td><code>Update to gcc 4.9.1</code></td></tr></table>




---

archive/issue_comments_230374.json:
```json
{
    "body": "Changed commit from **[86b8ba0](https://github.com/sagemath/sagetrac-mirror/commit/86b8ba086e3917e90a31457507eac6fc5b9c23f4)** to **[8eb5fe4](https://github.com/sagemath/sagetrac-mirror/commit/8eb5fe4ee364dbdfe127e750053c4c7a41429feb)**",
    "created_at": "2014-10-18T11:20:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230374",
    "user": "https://github.com/kiwifb"
}
```

Changed commit from **[86b8ba0](https://github.com/sagemath/sagetrac-mirror/commit/86b8ba086e3917e90a31457507eac6fc5b9c23f4)** to **[8eb5fe4](https://github.com/sagemath/sagetrac-mirror/commit/8eb5fe4ee364dbdfe127e750053c4c7a41429feb)**



---

archive/issue_comments_230375.json:
```json
{
    "body": "Changed keywords from **** to **yosemite**",
    "created_at": "2014-10-18T12:10:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230375",
    "user": "https://github.com/vbraun"
}
```

Changed keywords from **** to **yosemite**



---

archive/issue_comments_230376.json:
```json
{
    "body": "Changed commit from **[8eb5fe4](https://github.com/sagemath/sagetrac-mirror/commit/8eb5fe4ee364dbdfe127e750053c4c7a41429feb)** to **[bee1a24](https://github.com/sagemath/sagetrac-mirror/commit/bee1a24212f5e5f8897827076c10196afbf21ceb)**",
    "created_at": "2014-10-18T13:19:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230376",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8eb5fe4](https://github.com/sagemath/sagetrac-mirror/commit/8eb5fe4ee364dbdfe127e750053c4c7a41429feb)** to **[bee1a24](https://github.com/sagemath/sagetrac-mirror/commit/bee1a24212f5e5f8897827076c10196afbf21ceb)**



---

archive/issue_comments_230377.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c000b4759ef9484fc5e9d06583a38481ba64a4a\">0c000b4</a></td><td><code>Update documentation that we need a C++ compiler</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7672943e61c01296c74b440e17e40d767f3a24fe\">7672943</a></td><td><code>Check for C++ compiler</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bee1a24212f5e5f8897827076c10196afbf21ceb\">bee1a24</a></td><td><code>Look at C++ compiler to decide whether to install gcc</code></td></tr></table>\n",
    "created_at": "2014-10-18T13:19:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230377",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c000b4759ef9484fc5e9d06583a38481ba64a4a">0c000b4</a></td><td><code>Update documentation that we need a C++ compiler</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7672943e61c01296c74b440e17e40d767f3a24fe">7672943</a></td><td><code>Check for C++ compiler</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bee1a24212f5e5f8897827076c10196afbf21ceb">bee1a24</a></td><td><code>Look at C++ compiler to decide whether to install gcc</code></td></tr></table>




---

archive/issue_comments_230378.json:
```json
{
    "body": "Changed commit from **[bee1a24](https://github.com/sagemath/sagetrac-mirror/commit/bee1a24212f5e5f8897827076c10196afbf21ceb)** to **[2fc95e7](https://github.com/sagemath/sagetrac-mirror/commit/2fc95e7a09606596d378d3cd91f4bf6c80b54d99)**",
    "created_at": "2014-10-18T19:24:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230378",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bee1a24](https://github.com/sagemath/sagetrac-mirror/commit/bee1a24212f5e5f8897827076c10196afbf21ceb)** to **[2fc95e7](https://github.com/sagemath/sagetrac-mirror/commit/2fc95e7a09606596d378d3cd91f4bf6c80b54d99)**



---

archive/issue_comments_230379.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fc95e7a09606596d378d3cd91f4bf6c80b54d99\">2fc95e7</a></td><td><code>Evil workaround for broken OSX system header</code></td></tr></table>\n",
    "created_at": "2014-10-18T19:24:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230379",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'>Comment 15:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fc95e7a09606596d378d3cd91f4bf6c80b54d99">2fc95e7</a></td><td><code>Evil workaround for broken OSX system header</code></td></tr></table>




---

archive/issue_comments_230380.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [git](#comment%3A15):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fc95e7a09606596d378d3cd91f4bf6c80b54d99\">2fc95e7</a></td><td><code>Evil workaround for broken OSX system header</code></td></tr></table>\n\nI think you forgot a bit in that commit. A destination file.",
    "created_at": "2014-10-18T19:41:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230380",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [git](#comment%3A15):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fc95e7a09606596d378d3cd91f4bf6c80b54d99">2fc95e7</a></td><td><code>Evil workaround for broken OSX system header</code></td></tr></table>

I think you forgot a bit in that commit. A destination file.



---

archive/issue_comments_230381.json:
```json
{
    "body": "Changed commit from **[2fc95e7](https://github.com/sagemath/sagetrac-mirror/commit/2fc95e7a09606596d378d3cd91f4bf6c80b54d99)** to **[38a826a](https://github.com/sagemath/sagetrac-mirror/commit/38a826ad6f62ce70fa3d45afd19d57d3b96e194b)**",
    "created_at": "2014-10-18T19:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230381",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2fc95e7](https://github.com/sagemath/sagetrac-mirror/commit/2fc95e7a09606596d378d3cd91f4bf6c80b54d99)** to **[38a826a](https://github.com/sagemath/sagetrac-mirror/commit/38a826ad6f62ce70fa3d45afd19d57d3b96e194b)**



---

archive/issue_comments_230382.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38a826ad6f62ce70fa3d45afd19d57d3b96e194b\">38a826a</a></td><td><code>Evil workaround for broken OSX system header</code></td></tr></table>\n",
    "created_at": "2014-10-18T19:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230382",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38a826ad6f62ce70fa3d45afd19d57d3b96e194b">38a826a</a></td><td><code>Evil workaround for broken OSX system header</code></td></tr></table>




---

archive/issue_comments_230383.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f62f6c37abbc7dbbfc68a9e8faa7d2e81eb48ca9\">f62f6c3</a></td><td><code>Evil workaround for broken OSX system header</code></td></tr></table>\n",
    "created_at": "2014-10-18T19:53:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230383",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>Comment 18:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f62f6c37abbc7dbbfc68a9e8faa7d2e81eb48ca9">f62f6c3</a></td><td><code>Evil workaround for broken OSX system header</code></td></tr></table>




---

archive/issue_comments_230384.json:
```json
{
    "body": "Changed commit from **[38a826a](https://github.com/sagemath/sagetrac-mirror/commit/38a826ad6f62ce70fa3d45afd19d57d3b96e194b)** to **[f62f6c3](https://github.com/sagemath/sagetrac-mirror/commit/f62f6c37abbc7dbbfc68a9e8faa7d2e81eb48ca9)**",
    "created_at": "2014-10-18T19:53:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230384",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[38a826a](https://github.com/sagemath/sagetrac-mirror/commit/38a826ad6f62ce70fa3d45afd19d57d3b96e194b)** to **[f62f6c3](https://github.com/sagemath/sagetrac-mirror/commit/f62f6c37abbc7dbbfc68a9e8faa7d2e81eb48ca9)**



---

archive/issue_comments_230385.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nOn a related note, the default git pager on OSX just truncates lines. No of course I don't want to see the ends of long lines...",
    "created_at": "2014-10-18T19:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230385",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:19'>Comment 19:</a>
On a related note, the default git pager on OSX just truncates lines. No of course I don't want to see the ends of long lines...



---

archive/issue_comments_230386.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nThat lets me compile Sage, but it then segfaults on startup (i.e. when it gets to `conway_polyonmials`)",
    "created_at": "2014-10-18T21:47:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230386",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'>Comment 20:</a>
That lets me compile Sage, but it then segfaults on startup (i.e. when it gets to `conway_polyonmials`)



---

archive/issue_comments_230387.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@vbraun](#comment%3A20):\n> That lets me compile Sage, but it then segfaults on startup (i.e. when it gets to `conway_polyonmials`)\n\nEverything seems all right with 10.9. I would be interested in the back trace you have. I am upgrading to 10.10 sometimes tomorrow I may be able to experience it first hand. Not sure I want to upgrade, my wife did and it looks a bit like the \"fisher-price\" interface that iOS has become. Beurk.",
    "created_at": "2014-10-19T05:37:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230387",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@vbraun](#comment%3A20):
> That lets me compile Sage, but it then segfaults on startup (i.e. when it gets to `conway_polyonmials`)

Everything seems all right with 10.9. I would be interested in the back trace you have. I am upgrading to 10.10 sometimes tomorrow I may be able to experience it first hand. Not sure I want to upgrade, my wife did and it looks a bit like the "fisher-price" interface that iOS has become. Beurk.



---

archive/issue_comments_230388.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nCan't get a backtrace, apparently gdb doesn't pass through `DYLD_LIBRARY_PATH`. And lldb is useless.",
    "created_at": "2014-10-19T11:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230388",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'>Comment 22:</a>
Can't get a backtrace, apparently gdb doesn't pass through `DYLD_LIBRARY_PATH`. And lldb is useless.



---

archive/issue_comments_230389.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nPS: Adventures in using gdb will be chronicled at #17176",
    "created_at": "2014-10-19T11:30:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230389",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'>Comment 23:</a>
PS: Adventures in using gdb will be chronicled at #17176



---

archive/issue_comments_230390.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nbacktrace:\n\n```\nProgram received signal SIGSEGV, Segmentation fault.\n0x0000000103d3529b in get_adjusted_ptr(std::type_info const*, std::type_info const*, void**) ()\n   from /Users/vbraun/Sage/local/lib/libstdc++.6.dylib\n(gdb) bt\nPython Exception <type 'exceptions.ImportError'> No module named gdb.frames: \n#0  0x0000000103d3529b in get_adjusted_ptr(std::type_info const*, std::type_info const*, void**) ()\n   from /Users/vbraun/Sage/local/lib/libstdc++.6.dylib\n#1  0x0000000103d35b49 in __gxx_personality_v0 () from /Users/vbraun/Sage/local/lib/libstdc++.6.dylib\n#2  0x00007fff8e81b951 in _Unwind_RaiseException () from /usr/lib/system/libunwind.dylib\n#3  0x0000000103d362d9 in __cxa_rethrow () from /Users/vbraun/Sage/local/lib/libstdc++.6.dylib\n#4  0x000000010d411005 in __pyx_f_4sage_8symbolic_8function_15BuiltinFunction__is_registered(__pyx_obj_4sage_8symbolic_8function_BuiltinFunction*) () from /Users/vbraun/Sage/local/lib/python2.7/site-packages/sage/symbolic/function.so\n#5  0x000000010d400f47 in __pyx_pw_4sage_8symbolic_8function_8Function_1__init__(_object*, _object*, _object*) ()\n   from /Users/vbraun/Sage/local/lib/python2.7/site-packages/sage/symbolic/function.so\n#6  0x000000010008eeec in wrap_init () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib\n#7  0x0000000100016b43 in PyObject_Call () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib\n#8  0x00000001000e2737 in PyEval_CallObjectWithKeywords () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib\n#9  0x000000010003ac00 in wrapperdescr_call () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib\n#10 0x000000010d403d40 in __pyx_pw_4sage_8symbolic_8function_15BuiltinFunction_1__init__(_object*, _object*, _object*) ()\n   from /Users/vbraun/Sage/local/lib/python2.7/site-packages/sage/symbolic/function.so\n#11 0x000000010008eeec in wrap_init () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib\n#12 0x0000000100016b43 in PyObject_Call () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib\n#13 0x00000001000e2737 in PyEval_CallObjectWithKeywords () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib\n#14 0x000000010003ac00 in wrapperdescr_call () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib\n#15 0x0000000100016b43 in PyObject_Call () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib\n```",
    "created_at": "2014-10-19T11:58:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230390",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:24'>Comment 24:</a>
backtrace:

```
Program received signal SIGSEGV, Segmentation fault.
0x0000000103d3529b in get_adjusted_ptr(std::type_info const*, std::type_info const*, void**) ()
   from /Users/vbraun/Sage/local/lib/libstdc++.6.dylib
(gdb) bt
Python Exception <type 'exceptions.ImportError'> No module named gdb.frames: 
#0  0x0000000103d3529b in get_adjusted_ptr(std::type_info const*, std::type_info const*, void**) ()
   from /Users/vbraun/Sage/local/lib/libstdc++.6.dylib
#1  0x0000000103d35b49 in __gxx_personality_v0 () from /Users/vbraun/Sage/local/lib/libstdc++.6.dylib
#2  0x00007fff8e81b951 in _Unwind_RaiseException () from /usr/lib/system/libunwind.dylib
#3  0x0000000103d362d9 in __cxa_rethrow () from /Users/vbraun/Sage/local/lib/libstdc++.6.dylib
#4  0x000000010d411005 in __pyx_f_4sage_8symbolic_8function_15BuiltinFunction__is_registered(__pyx_obj_4sage_8symbolic_8function_BuiltinFunction*) () from /Users/vbraun/Sage/local/lib/python2.7/site-packages/sage/symbolic/function.so
#5  0x000000010d400f47 in __pyx_pw_4sage_8symbolic_8function_8Function_1__init__(_object*, _object*, _object*) ()
   from /Users/vbraun/Sage/local/lib/python2.7/site-packages/sage/symbolic/function.so
#6  0x000000010008eeec in wrap_init () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib
#7  0x0000000100016b43 in PyObject_Call () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib
#8  0x00000001000e2737 in PyEval_CallObjectWithKeywords () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib
#9  0x000000010003ac00 in wrapperdescr_call () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib
#10 0x000000010d403d40 in __pyx_pw_4sage_8symbolic_8function_15BuiltinFunction_1__init__(_object*, _object*, _object*) ()
   from /Users/vbraun/Sage/local/lib/python2.7/site-packages/sage/symbolic/function.so
#11 0x000000010008eeec in wrap_init () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib
#12 0x0000000100016b43 in PyObject_Call () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib
#13 0x00000001000e2737 in PyEval_CallObjectWithKeywords () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib
#14 0x000000010003ac00 in wrapperdescr_call () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib
#15 0x0000000100016b43 in PyObject_Call () from /Users/vbraun/Sage/local/lib/libpython2.7.dylib
```



---

archive/issue_comments_230391.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nWhen building with `SAGE_CHECK=yes` I start getting segfaults in the mpir testsuite:\n\n```\n$ ./gdb /Users/vbraun/Sage/local/var/tmp/sage/build/mpir-2.6.0.p4/src/tests/.libs/t-popc \n[...]\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007fff86172432 in __block_descriptor_tmp227 () from /usr/lib/system/libdyld.dylib\n(gdb) bt\nPython Exception <type 'exceptions.ImportError'> No module named gdb.frames: \n#0  0x00007fff86172432 in __block_descriptor_tmp227 () from /usr/lib/system/libdyld.dylib\n#1  0x00007fff5fbffa80 in ?? ()\n#2  0x00000001000ca0d0 in ?? () from /Users/vbraun/Sage/local/lib/libmpir.11.dylib\n#3  0x000000000000011d in ?? ()\n#4  0x00000001000223c1 in __gmp_randget_mt (rstate=0x7fff5fbffb60, dest=0x7fff5fbffab0, nbits=32) at randmt.c:256\n#5  0x000000010006d81d in ?? () from /Users/vbraun/Sage/local/lib/libmpir.11.dylib\n#6  0x000000010006d71c in ?? () from /Users/vbraun/Sage/local/lib/libmpir.11.dylib\n#7  0x0000000100000f8c in main () at t-popc.c:60\n```\nThe `__block_descriptor_tmp` stuff is part of the Objective-C implementation, might be that the evil hack is too evil... Does anybody know what the `/usr/include/dispatch` stuff is for?",
    "created_at": "2014-10-19T15:34:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230391",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:25'>Comment 25:</a>
When building with `SAGE_CHECK=yes` I start getting segfaults in the mpir testsuite:

```
$ ./gdb /Users/vbraun/Sage/local/var/tmp/sage/build/mpir-2.6.0.p4/src/tests/.libs/t-popc 
[...]
Program received signal SIGSEGV, Segmentation fault.
0x00007fff86172432 in __block_descriptor_tmp227 () from /usr/lib/system/libdyld.dylib
(gdb) bt
Python Exception <type 'exceptions.ImportError'> No module named gdb.frames: 
#0  0x00007fff86172432 in __block_descriptor_tmp227 () from /usr/lib/system/libdyld.dylib
#1  0x00007fff5fbffa80 in ?? ()
#2  0x00000001000ca0d0 in ?? () from /Users/vbraun/Sage/local/lib/libmpir.11.dylib
#3  0x000000000000011d in ?? ()
#4  0x00000001000223c1 in __gmp_randget_mt (rstate=0x7fff5fbffb60, dest=0x7fff5fbffab0, nbits=32) at randmt.c:256
#5  0x000000010006d81d in ?? () from /Users/vbraun/Sage/local/lib/libmpir.11.dylib
#6  0x000000010006d71c in ?? () from /Users/vbraun/Sage/local/lib/libmpir.11.dylib
#7  0x0000000100000f8c in main () at t-popc.c:60
```
The `__block_descriptor_tmp` stuff is part of the Objective-C implementation, might be that the evil hack is too evil... Does anybody know what the `/usr/include/dispatch` stuff is for?



---

archive/issue_comments_230392.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nMPIR testsuite also fails without the evil hack...",
    "created_at": "2014-10-19T16:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230392",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'>Comment 26:</a>
MPIR testsuite also fails without the evil hack...



---

archive/issue_comments_230393.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nAnd after my fresh update. BOOM gcc doesn't patch\n\n```\ngcc-4.9.1\n====================================================\nSetting up build directory for gcc-4.9.1\nFinished set up\n****************************************************\nHost system:\nDarwin Mirage.local 14.0.0 Darwin Kernel Version 14.0.0: Fri Sep 19 00:26:44 PDT 2014; root:xnu-2782.1.97~2/RELEASE_X86_64 x86_64\n****************************************************\nC compiler: /usr/bin/clang\nC compiler version:\nApple LLVM version 6.0 (clang-600.0.51) (based on LLVM 3.5svn)\nTarget: x86_64-apple-darwin14.0.0\nThread model: posix\n****************************************************\nApplying patches...\nUsing ../patches/min_version_10_10.patch\npatching file gcc/config/darwin-c.c\npatching file gcc/config/darwin-driver.c\nsed: /usr/include/dispatch/object.h: No such file or directory\n```\nSo it looks like this is installed by something else. Could I have missed an xcode update or something?  The app store doesn't see any more updates available.\n\nI note this is the dispatch stuff that makes you scratch your head.",
    "created_at": "2014-10-19T22:55:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230393",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:27'>Comment 27:</a>
And after my fresh update. BOOM gcc doesn't patch

```
gcc-4.9.1
====================================================
Setting up build directory for gcc-4.9.1
Finished set up
****************************************************
Host system:
Darwin Mirage.local 14.0.0 Darwin Kernel Version 14.0.0: Fri Sep 19 00:26:44 PDT 2014; root:xnu-2782.1.97~2/RELEASE_X86_64 x86_64
****************************************************
C compiler: /usr/bin/clang
C compiler version:
Apple LLVM version 6.0 (clang-600.0.51) (based on LLVM 3.5svn)
Target: x86_64-apple-darwin14.0.0
Thread model: posix
****************************************************
Applying patches...
Using ../patches/min_version_10_10.patch
patching file gcc/config/darwin-c.c
patching file gcc/config/darwin-driver.c
sed: /usr/include/dispatch/object.h: No such file or directory
```
So it looks like this is installed by something else. Could I have missed an xcode update or something?  The app store doesn't see any more updates available.

I note this is the dispatch stuff that makes you scratch your head.



---

archive/issue_comments_230394.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nYeah, xcode 6.1 is up on their developer website, but it doesn't seem to be up on the app store yet (supposedly it will be \"available shortly\").",
    "created_at": "2014-10-19T23:18:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230394",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:28'>Comment 28:</a>
Yeah, xcode 6.1 is up on their developer website, but it doesn't seem to be up on the app store yet (supposedly it will be "available shortly").



---

archive/issue_comments_230395.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nReplying to [@vbraun](#comment%3A25):\n> When building with `SAGE_CHECK=yes` I start getting segfaults in the mpir testsuite:\n\nWhen using Homebrew's gcc, the test suite is passing for me.\n\n> Does anybody know what the `/usr/include/dispatch` stuff is for?\n\nI presume it is related to libdispatch (brand name \"Grand Central Dispatch\"). I can't imagine that python is actually using it at all. (Also, I think we should move the ugly hack to the python spkg, since that seems to be the affected package.)",
    "created_at": "2014-10-19T23:24:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230395",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:29'>Comment 29:</a>
Replying to [@vbraun](#comment%3A25):
> When building with `SAGE_CHECK=yes` I start getting segfaults in the mpir testsuite:

When using Homebrew's gcc, the test suite is passing for me.

> Does anybody know what the `/usr/include/dispatch` stuff is for?

I presume it is related to libdispatch (brand name "Grand Central Dispatch"). I can't imagine that python is actually using it at all. (Also, I think we should move the ugly hack to the python spkg, since that seems to be the affected package.)



---

archive/issue_comments_230396.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nI had xcode 6 CLT, which supposedly supports 10.10.\n\nR also trips over the dispatch header, its not just python.",
    "created_at": "2014-10-19T23:44:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230396",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:30'>Comment 30:</a>
I had xcode 6 CLT, which supposedly supports 10.10.

R also trips over the dispatch header, its not just python.



---

archive/issue_comments_230397.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nWhat about providing different GCC versions (in gcc-4.x dirs, and the standard one being a symlink from gcc to gcc-4.9)?\nIs that too much to maintain?",
    "created_at": "2014-10-20T08:13:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230397",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:32'>Comment 32:</a>
What about providing different GCC versions (in gcc-4.x dirs, and the standard one being a symlink from gcc to gcc-4.9)?
Is that too much to maintain?



---

archive/issue_comments_230398.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nJean-Pierre: I'm not going to maintain multiple gcc versions, but if you want to commit to it then be my guest.\n\nStill no Xcode 6.1...\n\nAndrew, is the Homebrew gcc compiled on OSX 10.10 or on the previous version?\n\nI noticed that, if you open Firefox on OSX 10.10, a notification pops up: \"Try the new Safari\". Really, Apple?",
    "created_at": "2014-10-20T10:29:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230398",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'>Comment 33:</a>
Jean-Pierre: I'm not going to maintain multiple gcc versions, but if you want to commit to it then be my guest.

Still no Xcode 6.1...

Andrew, is the Homebrew gcc compiled on OSX 10.10 or on the previous version?

I noticed that, if you open Firefox on OSX 10.10, a notification pops up: "Try the new Safari". Really, Apple?



---

archive/issue_comments_230399.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nReplying to [@vbraun](#comment%3A33):\n> Andrew, is the Homebrew gcc compiled on OSX 10.10 or on the previous version?\n\nCompiled on 10.10. I'm running through the rest of the sage build with `SAGE_CHECK=yes` right now and we'll see what fails.",
    "created_at": "2014-10-20T18:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230399",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:34'>Comment 34:</a>
Replying to [@vbraun](#comment%3A33):
> Andrew, is the Homebrew gcc compiled on OSX 10.10 or on the previous version?

Compiled on 10.10. I'm running through the rest of the sage build with `SAGE_CHECK=yes` right now and we'll see what fails.



---

archive/issue_comments_230400.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nI had `SAGE_DEBUG=yes`, which implies `-O0` when compiling MPIR. Without it, the MPIR testsuite works. For once **disabling** optimization causes a bug ;-)",
    "created_at": "2014-10-20T20:59:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230400",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:35'>Comment 35:</a>
I had `SAGE_DEBUG=yes`, which implies `-O0` when compiling MPIR. Without it, the MPIR testsuite works. For once **disabling** optimization causes a bug ;-)



---

archive/issue_comments_230401.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nCompiling MPIR with `CFLAGS=-O1` also fails the testsuite, but `CFLAGS=-O2` works.",
    "created_at": "2014-10-20T22:21:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230401",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:36'>Comment 36:</a>
Compiling MPIR with `CFLAGS=-O1` also fails the testsuite, but `CFLAGS=-O2` works.



---

archive/issue_comments_230402.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nWhat about no flags and let mpir decides for itself?",
    "created_at": "2014-10-20T22:29:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230402",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:37'>Comment 37:</a>
What about no flags and let mpir decides for itself?



---

archive/issue_comments_230403.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nNo flags works, too. \n\nAndrew, does MPIR also fail with -O0 on your GCC? If so then I'll open an upstream ticket.",
    "created_at": "2014-10-20T23:00:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230403",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:38'>Comment 38:</a>
No flags works, too. 

Andrew, does MPIR also fail with -O0 on your GCC? If so then I'll open an upstream ticket.



---

archive/issue_comments_230404.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nYes, MPIR fails with -O0. I'm also getting a couple segfaults in pari's test suite as well as a segfault in m4rie's test suite, so it doesn't seem isolated to MPIR, something funky is going on.",
    "created_at": "2014-10-21T00:06:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230404",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:39'>Comment 39:</a>
Yes, MPIR fails with -O0. I'm also getting a couple segfaults in pari's test suite as well as a segfault in m4rie's test suite, so it doesn't seem isolated to MPIR, something funky is going on.



---

archive/issue_comments_230405.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nMy opinion is that we shouldn't pass any CFLAGS to MPIR. It is supposed to choose itself and make a better job at it than we would 99% of the time.",
    "created_at": "2014-10-21T00:11:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230405",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:40'>Comment 40:</a>
My opinion is that we shouldn't pass any CFLAGS to MPIR. It is supposed to choose itself and make a better job at it than we would 99% of the time.



---

archive/issue_comments_230406.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nUnless you want to debug what goes wrong, of course.",
    "created_at": "2014-10-21T12:28:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230406",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:41'>Comment 41:</a>
Unless you want to debug what goes wrong, of course.



---

archive/issue_comments_230407.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nMore testing reveals that this is because we configure MPIR with `--enable-cxx`. If I take that out then the testsuite passes even with `-O0`.",
    "created_at": "2014-10-21T14:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230407",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:42'>Comment 42:</a>
More testing reveals that this is because we configure MPIR with `--enable-cxx`. If I take that out then the testsuite passes even with `-O0`.



---

archive/issue_comments_230408.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nUpstream bug: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=63610",
    "created_at": "2014-10-21T18:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230408",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:43'>Comment 43:</a>
Upstream bug: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=63610



---

archive/issue_comments_230409.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2014-10-21T18:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230409",
    "user": "https://github.com/vbraun"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_230410.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nThis is due to libtool picking the wrong linker flags as it misinterprets the 10.10 version number... We are probably up a shit creek here ;-)\n\nhttps://gmplib.org/list-archives/gmp-bugs/2014-September/003534.html\n\nLibtool upstream patch:\n\nhttp://lists.gnu.org/archive/html/libtool-patches/2014-09/msg00002.html\n\nOn the plus side the gcc package is not to blame.",
    "created_at": "2014-10-23T13:55:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230410",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:44'>Comment 44:</a>
This is due to libtool picking the wrong linker flags as it misinterprets the 10.10 version number... We are probably up a shit creek here ;-)

https://gmplib.org/list-archives/gmp-bugs/2014-September/003534.html

Libtool upstream patch:

http://lists.gnu.org/archive/html/libtool-patches/2014-09/msg00002.html

On the plus side the gcc package is not to blame.



---

archive/issue_comments_230411.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nNew ticket for the libtool issue at #17204",
    "created_at": "2014-10-23T14:32:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230411",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:45'>Comment 45:</a>
New ticket for the libtool issue at #17204



---

archive/issue_events_227484.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-23T14:32:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227484"
}
```



---

archive/issue_comments_230412.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2014-10-23T14:32:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230412",
    "user": "https://github.com/vbraun"
}
```

Author: **Volker Braun**



---

archive/issue_comments_230413.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nThis builds successfully for me on OS X 10.9 and 10.10. I don't think I'm qualified to review all of the changes, though.",
    "created_at": "2014-10-26T00:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230413",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:46'>Comment 46:</a>
This builds successfully for me on OS X 10.9 and 10.10. I don't think I'm qualified to review all of the changes, though.



---

archive/issue_comments_230414.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nMy only comment is that I would prefer the hack around the broken header to be moved out of a conditionally built package, otherwise everything looks fine to me.",
    "created_at": "2014-10-26T02:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230414",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:47'>Comment 47:</a>
My only comment is that I would prefer the hack around the broken header to be moved out of a conditionally built package, otherwise everything looks fine to me.



---

archive/issue_comments_230415.json:
```json
{
    "body": "Reviewer: **R. Andrew Ohana**",
    "created_at": "2014-10-26T02:22:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230415",
    "user": "https://github.com/ohanar"
}
```

Reviewer: **R. Andrew Ohana**



---

archive/issue_comments_230416.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\nSince GCC is the package really suffering from Apple's broken C headers I don't really see a reason for moving the fix elsewhere. Presumably Apple Clang is non-compliant so that it accepts the invalid C headers (haven't tried though). In any case, you are welcome to work on a different framework for fixing Apple's continualy broken SDK on a separate ticket.",
    "created_at": "2014-10-26T10:17:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230416",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:49'>Comment 49:</a>
Since GCC is the package really suffering from Apple's broken C headers I don't really see a reason for moving the fix elsewhere. Presumably Apple Clang is non-compliant so that it accepts the invalid C headers (haven't tried though). In any case, you are welcome to work on a different framework for fixing Apple's continualy broken SDK on a separate ticket.



---

archive/issue_comments_230417.json:
```json
{
    "body": "<a id='comment:50'>Comment 50:</a>\nGiven that this is about a *patched* version GCC 4.9.1, shouldn't the `package-version.txt` be `4.9.1.p0`?\n\nVolker, has this ticket already been fully tested on the buildbot?",
    "created_at": "2014-10-27T21:53:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230417",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:50'>Comment 50:</a>
Given that this is about a *patched* version GCC 4.9.1, shouldn't the `package-version.txt` be `4.9.1.p0`?

Volker, has this ticket already been fully tested on the buildbot?



---

archive/issue_comments_230418.json:
```json
{
    "body": "<a id='comment:51'>Comment 51:</a>\nWhat's the reason to remove\n\n```\n# Use conservative CFLAGS for stage 1 and for the \"build\" executables\n# (these are simple programs needed only internally for the build process).\nMAKE=\"$MAKE CFLAGS_FOR_BUILD=-O0 STAGE1_CFLAGS=-O0\"\n```",
    "created_at": "2014-10-27T21:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230418",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:51'>Comment 51:</a>
What's the reason to remove

```
# Use conservative CFLAGS for stage 1 and for the "build" executables
# (these are simple programs needed only internally for the build process).
MAKE="$MAKE CFLAGS_FOR_BUILD=-O0 STAGE1_CFLAGS=-O0"
```



---

archive/issue_comments_230419.json:
```json
{
    "body": "<a id='comment:52'>Comment 52:</a>\nAbout the changes to documentation: to build GCC, you really need a C and C++ compiler (unless the prerequisites for GCC can all be built using just a C++ compiler).",
    "created_at": "2014-10-27T21:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230419",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:52'>Comment 52:</a>
About the changes to documentation: to build GCC, you really need a C and C++ compiler (unless the prerequisites for GCC can all be built using just a C++ compiler).



---

archive/issue_comments_230420.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nWith the `-O0` I get stage 2/3 comparison failures. Its also somewhat off the beaten path, and less tested = less likely to work.\n\nThere is no patch applied, the tarball is 100% vanilla.\n\nI tested it on the mac in my office, which happens to be the only osx buildbot that we have.\n\nAs far as I know you only need a C++ compiler, but then I don't even know of a C++ compiler that not also supports C. Certainly none that can bootstrap GCC.",
    "created_at": "2014-10-27T22:14:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230420",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:53'>Comment 53:</a>
With the `-O0` I get stage 2/3 comparison failures. Its also somewhat off the beaten path, and less tested = less likely to work.

There is no patch applied, the tarball is 100% vanilla.

I tested it on the mac in my office, which happens to be the only osx buildbot that we have.

As far as I know you only need a C++ compiler, but then I don't even know of a C++ compiler that not also supports C. Certainly none that can bootstrap GCC.



---

archive/issue_comments_230421.json:
```json
{
    "body": "<a id='comment:54'>Comment 54:</a>\nReplying to [@vbraun](#comment%3A53):\n> As far as I know you only need a C++ compiler, but then I don't even know of a C++ compiler that not also supports C.\n\nSure, but I don't know if autotools even looks for `g++` when looking for a C compiler.",
    "created_at": "2014-10-28T08:38:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230421",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:54'>Comment 54:</a>
Replying to [@vbraun](#comment%3A53):
> As far as I know you only need a C++ compiler, but then I don't even know of a C++ compiler that not also supports C.

Sure, but I don't know if autotools even looks for `g++` when looking for a C compiler.



---

archive/issue_comments_230422.json:
```json
{
    "body": "<a id='comment:55'>Comment 55:</a>\nReplying to [@vbraun](#comment%3A53):\n> With the `-O0` I get stage 2/3 comparison failures. Its also somewhat off the beaten path, and less tested = less likely to work.\n\nI do remember it was needed for some exotic system, but I don't recall precisely...",
    "created_at": "2014-10-28T08:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230422",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:55'>Comment 55:</a>
Replying to [@vbraun](#comment%3A53):
> With the `-O0` I get stage 2/3 comparison failures. Its also somewhat off the beaten path, and less tested = less likely to work.

I do remember it was needed for some exotic system, but I don't recall precisely...



---

archive/issue_comments_230423.json:
```json
{
    "body": "<a id='comment:56'>Comment 56:</a>\nSince there is no system out there with a C++ but not C compiler I think its definitely not tested to bootstrap with such a combination. In any case, its nothing that I worry about. The empty set has every property, if you want do describe it further in the documentation be my guest.\n\nAlso, gcc 4.7.3 bugs were probably closed, then reopened, and then closed again in the meantime..",
    "created_at": "2014-10-28T10:37:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230423",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:56'>Comment 56:</a>
Since there is no system out there with a C++ but not C compiler I think its definitely not tested to bootstrap with such a combination. In any case, its nothing that I worry about. The empty set has every property, if you want do describe it further in the documentation be my guest.

Also, gcc 4.7.3 bugs were probably closed, then reopened, and then closed again in the meantime..



---

archive/issue_comments_230424.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nReplying to [@vbraun](#comment%3A56):\n> Since there is no system out there with a C++ but not C compiler I think its definitely not tested to bootstrap with such a combination.\n\nThat's exactly my point: assume and document a priori that C and C++ compilers are needed.",
    "created_at": "2014-10-28T11:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230424",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:57'>Comment 57:</a>
Replying to [@vbraun](#comment%3A56):
> Since there is no system out there with a C++ but not C compiler I think its definitely not tested to bootstrap with such a combination.

That's exactly my point: assume and document a priori that C and C++ compilers are needed.



---

archive/issue_comments_230425.json:
```json
{
    "body": "<a id='comment:58'>Comment 58:</a>\nhttps://gcc.gnu.org/install/prerequisites.html says you need a C++ compiler, and does not mention a C compiler. You want me to change our docs to contradict upstream docs?",
    "created_at": "2014-10-28T11:30:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230425",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:58'>Comment 58:</a>
https://gcc.gnu.org/install/prerequisites.html says you need a C++ compiler, and does not mention a C compiler. You want me to change our docs to contradict upstream docs?



---

archive/issue_comments_230426.json:
```json
{
    "body": "<a id='comment:59'>Comment 59:</a>\nOur docs are not just about GCC, but about GCC + its prerequisites.",
    "created_at": "2014-10-28T12:46:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230426",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:59'>Comment 59:</a>
Our docs are not just about GCC, but about GCC + its prerequisites.



---

archive/issue_comments_230427.json:
```json
{
    "body": "Changed commit from **[f62f6c3](https://github.com/sagemath/sagetrac-mirror/commit/f62f6c37abbc7dbbfc68a9e8faa7d2e81eb48ca9)** to **[cded0a0](https://github.com/sagemath/sagetrac-mirror/commit/cded0a0ffef1776ae5dd0a90b31a8008a06bd555)**",
    "created_at": "2014-10-28T13:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230427",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f62f6c3](https://github.com/sagemath/sagetrac-mirror/commit/f62f6c37abbc7dbbfc68a9e8faa7d2e81eb48ca9)** to **[cded0a0](https://github.com/sagemath/sagetrac-mirror/commit/cded0a0ffef1776ae5dd0a90b31a8008a06bd555)**



---

archive/issue_comments_230428.json:
```json
{
    "body": "<a id='comment:60'>Comment 60:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cded0a0ffef1776ae5dd0a90b31a8008a06bd555\">cded0a0</a></td><td><code>C++ -> C/C++</code></td></tr></table>\n",
    "created_at": "2014-10-28T13:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230428",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:60'>Comment 60:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cded0a0ffef1776ae5dd0a90b31a8008a06bd555">cded0a0</a></td><td><code>C++ -> C/C++</code></td></tr></table>




---

archive/issue_events_227485.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-29T08:33:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227485"
}
```



---

archive/issue_events_227486.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-29T08:33:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227486"
}
```



---

archive/issue_comments_230429.json:
```json
{
    "body": "<a id='comment:62'>Comment 62:</a>\nOK I now have xcode 6.1 [Version 6.1 (6A1052d)]. And still no /usr/include/dispatch/object.h\n\n```\nApplying patches...\nUsing ../patches/min_version_10_10.patch\npatching file gcc/config/darwin-c.c\npatching file gcc/config/darwin-driver.c\nsed: /usr/include/dispatch/object.h: No such file or directory\n\nreal\t0m0.053s\nuser\t0m0.023s\nsys\t0m0.025s\n************************************************************************\nError installing package gcc-4.9.1\n```",
    "created_at": "2014-10-29T08:52:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230429",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:62'>Comment 62:</a>
OK I now have xcode 6.1 [Version 6.1 (6A1052d)]. And still no /usr/include/dispatch/object.h

```
Applying patches...
Using ../patches/min_version_10_10.patch
patching file gcc/config/darwin-c.c
patching file gcc/config/darwin-driver.c
sed: /usr/include/dispatch/object.h: No such file or directory

real	0m0.053s
user	0m0.023s
sys	0m0.025s
************************************************************************
Error installing package gcc-4.9.1
```



---

archive/issue_comments_230430.json:
```json
{
    "body": "<a id='comment:63'>Comment 63:</a>\nYou have the command line tools installed right? Not: the gui xcode. Whats the output of `xcode-select --install`",
    "created_at": "2014-10-29T10:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230430",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:63'>Comment 63:</a>
You have the command line tools installed right? Not: the gui xcode. Whats the output of `xcode-select --install`



---

archive/issue_comments_230431.json:
```json
{
    "body": "Changed commit from **[cded0a0](https://github.com/sagemath/sagetrac-mirror/commit/cded0a0ffef1776ae5dd0a90b31a8008a06bd555)** to **[71b40c2](https://github.com/sagemath/sagetrac-mirror/commit/71b40c25588244fd022b9cc697fa62626bdab3b2)**",
    "created_at": "2014-10-29T10:31:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230431",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cded0a0](https://github.com/sagemath/sagetrac-mirror/commit/cded0a0ffef1776ae5dd0a90b31a8008a06bd555)** to **[71b40c2](https://github.com/sagemath/sagetrac-mirror/commit/71b40c25588244fd022b9cc697fa62626bdab3b2)**



---

archive/issue_comments_230432.json:
```json
{
    "body": "<a id='comment:64'>Comment 64:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71b40c25588244fd022b9cc697fa62626bdab3b2\">71b40c2</a></td><td><code>Check if dispatch/object.h is present</code></td></tr></table>\n",
    "created_at": "2014-10-29T10:31:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230432",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:64'>Comment 64:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71b40c25588244fd022b9cc697fa62626bdab3b2">71b40c2</a></td><td><code>Check if dispatch/object.h is present</code></td></tr></table>




---

archive/issue_comments_230433.json:
```json
{
    "body": "<a id='comment:65'>Comment 65:</a>\nReplying to [@vbraun](#comment%3A63):\n> You have the command line tools installed right? Not: the gui xcode. Whats the output of `xcode-select --install`\n\n<rant> Dear apple store, if I have the command line tools already, why don't you update them with the rest of xcode? </rant>\nToo late for it today. But the check is a nice touch.",
    "created_at": "2014-10-29T11:01:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230433",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:65'>Comment 65:</a>
Replying to [@vbraun](#comment%3A63):
> You have the command line tools installed right? Not: the gui xcode. Whats the output of `xcode-select --install`

<rant> Dear apple store, if I have the command line tools already, why don't you update them with the rest of xcode? </rant>
Too late for it today. But the check is a nice touch.



---

archive/issue_events_227487.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-10-29T12:15:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227487"
}
```



---

archive/issue_events_227488.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-10-29T12:15:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227488"
}
```



---

archive/issue_comments_230434.json:
```json
{
    "body": "<a id='comment:66'>Comment 66:</a>\nEither use `spkg-src` or remove it (in the latter case, motivate why).",
    "created_at": "2014-10-29T12:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230434",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:66'>Comment 66:</a>
Either use `spkg-src` or remove it (in the latter case, motivate why).



---

archive/issue_comments_230435.json:
```json
{
    "body": "Changed commit from **[71b40c2](https://github.com/sagemath/sagetrac-mirror/commit/71b40c25588244fd022b9cc697fa62626bdab3b2)** to **[b0dc5be](https://github.com/sagemath/sagetrac-mirror/commit/b0dc5be5c91a3fd9b39363631591271fb4762088)**",
    "created_at": "2014-10-29T14:11:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230435",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[71b40c2](https://github.com/sagemath/sagetrac-mirror/commit/71b40c25588244fd022b9cc697fa62626bdab3b2)** to **[b0dc5be](https://github.com/sagemath/sagetrac-mirror/commit/b0dc5be5c91a3fd9b39363631591271fb4762088)**



---

archive/issue_comments_230436.json:
```json
{
    "body": "<a id='comment:67'>Comment 67:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0dc5be5c91a3fd9b39363631591271fb4762088\">b0dc5be</a></td><td><code>Use the vanilla gcc tarball</code></td></tr></table>\n",
    "created_at": "2014-10-29T14:11:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230436",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:67'>Comment 67:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0dc5be5c91a3fd9b39363631591271fb4762088">b0dc5be</a></td><td><code>Use the vanilla gcc tarball</code></td></tr></table>




---

archive/issue_comments_230437.json:
```json
{
    "body": "<a id='comment:68'>Comment 68:</a>\nDone. IMHO my time is more valuable than a one-time ~50MB download.",
    "created_at": "2014-10-29T14:12:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230437",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:68'>Comment 68:</a>
Done. IMHO my time is more valuable than a one-time ~50MB download.



---

archive/issue_events_227489.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-29T14:13:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227489"
}
```



---

archive/issue_events_227490.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-29T14:13:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227490"
}
```



---

archive/issue_comments_230438.json:
```json
{
    "body": "<a id='comment:70'>Comment 70:</a>\nReplying to [@vbraun](#comment%3A68):\n> Done. IMHO my time is more valuable than a one-time ~50MB download.\n\nIt's not just about your time, also about not building unneeded stuff. Instead of building `gcc`, `g++` and `gfortran`, you end up building a lot more programs and libraries with more chances of breakage.",
    "created_at": "2014-10-29T14:15:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230438",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:70'>Comment 70:</a>
Replying to [@vbraun](#comment%3A68):
> Done. IMHO my time is more valuable than a one-time ~50MB download.

It's not just about your time, also about not building unneeded stuff. Instead of building `gcc`, `g++` and `gfortran`, you end up building a lot more programs and libraries with more chances of breakage.



---

archive/issue_comments_230439.json:
```json
{
    "body": "<a id='comment:71'>Comment 71:</a>\nI agree with Jeroen.\nAnd in my souvenir, they'll actually make GCC build break on some systems.",
    "created_at": "2014-10-29T14:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230439",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:71'>Comment 71:</a>
I agree with Jeroen.
And in my souvenir, they'll actually make GCC build break on some systems.



---

archive/issue_comments_230440.json:
```json
{
    "body": "<a id='comment:72'>Comment 72:</a>\nDid you also open an upstream bug in your souvenir, or are we just going to never fix that and forever repackage gcc?",
    "created_at": "2014-10-29T14:24:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230440",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:72'>Comment 72:</a>
Did you also open an upstream bug in your souvenir, or are we just going to never fix that and forever repackage gcc?



---

archive/issue_comments_230441.json:
```json
{
    "body": "<a id='comment:73'>Comment 73:</a>\nAlso note that on slow systems building all of GCC takes a long time.\nAnd I don't fix it will get any better soon.",
    "created_at": "2014-10-29T14:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230441",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:73'>Comment 73:</a>
Also note that on slow systems building all of GCC takes a long time.
And I don't fix it will get any better soon.



---

archive/issue_comments_230442.json:
```json
{
    "body": "<a id='comment:74'>Comment 74:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/afa95419fc45be354358dc797b113c29cdde9f02\">afa9541</a></td><td><code>Only build c, c++, and fortran</code></td></tr></table>\n",
    "created_at": "2014-10-29T14:43:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230442",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:74'>Comment 74:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/afa95419fc45be354358dc797b113c29cdde9f02">afa9541</a></td><td><code>Only build c, c++, and fortran</code></td></tr></table>




---

archive/issue_comments_230443.json:
```json
{
    "body": "Changed commit from **[b0dc5be](https://github.com/sagemath/sagetrac-mirror/commit/b0dc5be5c91a3fd9b39363631591271fb4762088)** to **[afa9541](https://github.com/sagemath/sagetrac-mirror/commit/afa95419fc45be354358dc797b113c29cdde9f02)**",
    "created_at": "2014-10-29T14:43:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230443",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b0dc5be](https://github.com/sagemath/sagetrac-mirror/commit/b0dc5be5c91a3fd9b39363631591271fb4762088)** to **[afa9541](https://github.com/sagemath/sagetrac-mirror/commit/afa95419fc45be354358dc797b113c29cdde9f02)**



---

archive/issue_comments_230444.json:
```json
{
    "body": "<a id='comment:75'>Comment 75:</a>\nThere is a configure option for that",
    "created_at": "2014-10-29T14:43:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230444",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:75'>Comment 75:</a>
There is a configure option for that



---

archive/issue_comments_230445.json:
```json
{
    "body": "Changed branch from **[u/vbraun/upgrade_to_gcc_4_9_1](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_to_gcc_4_9_1)** to **[u/jdemeyer/ticket/17169](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/17169)**",
    "created_at": "2014-10-29T15:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230445",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/vbraun/upgrade_to_gcc_4_9_1](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/upgrade_to_gcc_4_9_1)** to **[u/jdemeyer/ticket/17169](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/17169)**



---

archive/issue_comments_230446.json:
```json
{
    "body": "<a id='comment:77'>Comment 77:</a>\nTo choose which languages to support sure, but I remember we also removed other things.\nDon't have time for looking into that now.\n\nI've put a stripped down tarball at:\n* http://boxen.math.washington.edu/home/jpflori/upstream/gcc-4.9.1.tar.bz2\n \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40528eb7b42c16f87dd515ed5124d0402962ea00\">40528eb</a></td><td><code>Various fixes for GCC installation, remove deprecated sage_fortran script</code></td></tr></table>\n",
    "created_at": "2014-10-29T15:15:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230446",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:77'>Comment 77:</a>
To choose which languages to support sure, but I remember we also removed other things.
Don't have time for looking into that now.

I've put a stripped down tarball at:
* http://boxen.math.washington.edu/home/jpflori/upstream/gcc-4.9.1.tar.bz2
 
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40528eb7b42c16f87dd515ed5124d0402962ea00">40528eb</a></td><td><code>Various fixes for GCC installation, remove deprecated sage_fortran script</code></td></tr></table>




---

archive/issue_comments_230447.json:
```json
{
    "body": "Changed commit from **[afa9541](https://github.com/sagemath/sagetrac-mirror/commit/afa95419fc45be354358dc797b113c29cdde9f02)** to **[40528eb](https://github.com/sagemath/sagetrac-mirror/commit/40528eb7b42c16f87dd515ed5124d0402962ea00)**",
    "created_at": "2014-10-29T15:15:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230447",
    "user": "https://github.com/sagetrac-jpflori"
}
```

Changed commit from **[afa9541](https://github.com/sagemath/sagetrac-mirror/commit/afa95419fc45be354358dc797b113c29cdde9f02)** to **[40528eb](https://github.com/sagemath/sagetrac-mirror/commit/40528eb7b42c16f87dd515ed5124d0402962ea00)**



---

archive/issue_comments_230448.json:
```json
{
    "body": "<a id='comment:78'>Comment 78:</a>\nPresumably the checksum is different",
    "created_at": "2014-10-29T15:17:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230448",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:78'>Comment 78:</a>
Presumably the checksum is different



---

archive/issue_comments_230449.json:
```json
{
    "body": "<a id='comment:79'>Comment 79:</a>\nHopefully yes, and if it gets used, the spkg-src script should be put back.",
    "created_at": "2014-10-29T15:38:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230449",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:79'>Comment 79:</a>
Hopefully yes, and if it gets used, the spkg-src script should be put back.



---

archive/issue_comments_230450.json:
```json
{
    "body": "<a id='comment:80'>Comment 80:</a>\nIMHO this is not a \"lets also beautify this script\" ticket, right now Sage is broken on one of the main supported platforms. This ticket fixes it. If you want further changes feel free to open another ticket.",
    "created_at": "2014-10-29T16:09:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230450",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:80'>Comment 80:</a>
IMHO this is not a "lets also beautify this script" ticket, right now Sage is broken on one of the main supported platforms. This ticket fixes it. If you want further changes feel free to open another ticket.



---

archive/issue_comments_230451.json:
```json
{
    "body": "<a id='comment:81'>Comment 81:</a>\nReplying to [@vbraun](#comment%3A80):\n> IMHO this is not a \"lets also beautify this script\" ticket, right now Sage is broken on one of the main supported platforms. This ticket fixes it. If you want further changes feel free to open another ticket.\n\nIt's not about beautifying any script, just about the decision whether or not to use it.",
    "created_at": "2014-10-29T16:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230451",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:81'>Comment 81:</a>
Replying to [@vbraun](#comment%3A80):
> IMHO this is not a "lets also beautify this script" ticket, right now Sage is broken on one of the main supported platforms. This ticket fixes it. If you want further changes feel free to open another ticket.

It's not about beautifying any script, just about the decision whether or not to use it.



---

archive/issue_comments_230452.json:
```json
{
    "body": "<a id='comment:82'>Comment 82:</a>\nIf you want to do things different then go ahead. I just don't think that pushing a broken branch in hopes that somedbody else will fix it for you is a good way to making progress here.",
    "created_at": "2014-10-29T16:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230452",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:82'>Comment 82:</a>
If you want to do things different then go ahead. I just don't think that pushing a broken branch in hopes that somedbody else will fix it for you is a good way to making progress here.



---

archive/issue_comments_230453.json:
```json
{
    "body": "<a id='comment:83'>Comment 83:</a>\nI'm confused. Are you refering to the removal of `sage_fortran`? Technically, that should be a new ticket, but it's a totally trivial/obvious thing so I thought you wouldn't mind.",
    "created_at": "2014-10-29T16:28:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230453",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:83'>Comment 83:</a>
I'm confused. Are you refering to the removal of `sage_fortran`? Technically, that should be a new ticket, but it's a totally trivial/obvious thing so I thought you wouldn't mind.



---

archive/issue_comments_230454.json:
```json
{
    "body": "<a id='comment:84'>Comment 84:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e16d2ae38370fe22f7ade18a8317c3840261a971\">e16d2ae</a></td><td><code>Disable building of libitm</code></td></tr></table>\n",
    "created_at": "2014-10-29T16:29:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230454",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:84'>Comment 84:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e16d2ae38370fe22f7ade18a8317c3840261a971">e16d2ae</a></td><td><code>Disable building of libitm</code></td></tr></table>




---

archive/issue_comments_230455.json:
```json
{
    "body": "Changed commit from **[40528eb](https://github.com/sagemath/sagetrac-mirror/commit/40528eb7b42c16f87dd515ed5124d0402962ea00)** to **[e16d2ae](https://github.com/sagemath/sagetrac-mirror/commit/e16d2ae38370fe22f7ade18a8317c3840261a971)**",
    "created_at": "2014-10-29T16:29:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230455",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[40528eb](https://github.com/sagemath/sagetrac-mirror/commit/40528eb7b42c16f87dd515ed5124d0402962ea00)** to **[e16d2ae](https://github.com/sagemath/sagetrac-mirror/commit/e16d2ae38370fe22f7ade18a8317c3840261a971)**



---

archive/issue_comments_230456.json:
```json
{
    "body": "<a id='comment:85'>Comment 85:</a>\nNo, I'm referring to JP changing the package-version.txt to 4.9.1.p0 without updating checksums or even naming the hand-crafted tarball correctly.",
    "created_at": "2014-10-29T16:37:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230456",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:85'>Comment 85:</a>
No, I'm referring to JP changing the package-version.txt to 4.9.1.p0 without updating checksums or even naming the hand-crafted tarball correctly.



---

archive/issue_comments_230457.json:
```json
{
    "body": "<a id='comment:86'>Comment 86:</a>\nOh no you committed that, Jeroen ;-)",
    "created_at": "2014-10-29T16:38:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230457",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:86'>Comment 86:</a>
Oh no you committed that, Jeroen ;-)



---

archive/issue_comments_230458.json:
```json
{
    "body": "<a id='comment:87'>Comment 87:</a>\nI just put a stripped-down tarball on the web, using the name pattern we usually use for such stripped-down tarball, that is just including the upstream version number without any patch level...\nThe only exception is IIRC that we add ugly date to the version number when we actually add non upstream stuff within the tarball we distribute.\nDidn't push anything to the git repo.\nIt's just in case you want a more lightweight Sage.",
    "created_at": "2014-10-29T16:55:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230458",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:87'>Comment 87:</a>
I just put a stripped-down tarball on the web, using the name pattern we usually use for such stripped-down tarball, that is just including the upstream version number without any patch level...
The only exception is IIRC that we add ugly date to the version number when we actually add non upstream stuff within the tarball we distribute.
Didn't push anything to the git repo.
It's just in case you want a more lightweight Sage.



---

archive/issue_comments_230459.json:
```json
{
    "body": "Changed reviewer from **R. Andrew Ohana** to **R. Andrew Ohana, Jeroen Demeyer, Fran\u00e7ois Bissey**",
    "created_at": "2014-10-29T21:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230459",
    "user": "https://github.com/kiwifb"
}
```

Changed reviewer from **R. Andrew Ohana** to **R. Andrew Ohana, Jeroen Demeyer, Fran√ßois Bissey**



---

archive/issue_events_227491.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-10-29T21:41:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227491"
}
```



---

archive/issue_events_227492.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-10-29T21:41:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227492"
}
```



---

archive/issue_comments_230460.json:
```json
{
    "body": "<a id='comment:88'>Comment 88:</a>\nOK the compiler now compiles and seem to work so far for me. I haven't needed to import the other yosemite tickets yet and I am at maxima. Make that ntl now.",
    "created_at": "2014-10-29T21:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230460",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:88'>Comment 88:</a>
OK the compiler now compiles and seem to work so far for me. I haven't needed to import the other yosemite tickets yet and I am at maxima. Make that ntl now.



---

archive/issue_comments_230461.json:
```json
{
    "body": "<a id='comment:89'>Comment 89:</a>\nYou don't need other tickets for compiling if you don't have `SAGE_CHECK=yes`. \n\nJeroen: whats with 4.9.1.p0 now, you want to upload a modified tarball and add the checksum or should I revert that?",
    "created_at": "2014-10-29T21:59:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230461",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:89'>Comment 89:</a>
You don't need other tickets for compiling if you don't have `SAGE_CHECK=yes`. 

Jeroen: whats with 4.9.1.p0 now, you want to upload a modified tarball and add the checksum or should I revert that?



---

archive/issue_comments_230462.json:
```json
{
    "body": "<a id='comment:90'>Comment 90:</a>\nReplying to [@vbraun](#comment%3A89):\n> you want to upload a modified tarball and add the checksum or should I revert that?\n\nFor me it's fine as it is... in any case with the new configure options the difference between the vanilla tarball and the stripped down tarball is not very significant. It's essentially a choice between ease-of-maintaining and download size.",
    "created_at": "2014-10-29T22:02:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230462",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:90'>Comment 90:</a>
Replying to [@vbraun](#comment%3A89):
> you want to upload a modified tarball and add the checksum or should I revert that?

For me it's fine as it is... in any case with the new configure options the difference between the vanilla tarball and the stripped down tarball is not very significant. It's essentially a choice between ease-of-maintaining and download size.



---

archive/issue_comments_230463.json:
```json
{
    "body": "<a id='comment:91'>Comment 91:</a>\nI added `.p0` just because it's a patched version, not completely vanilla.",
    "created_at": "2014-10-29T22:02:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230463",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:91'>Comment 91:</a>
I added `.p0` just because it's a patched version, not completely vanilla.



---

archive/issue_comments_230464.json:
```json
{
    "body": "<a id='comment:92'>Comment 92:</a>\nAnd now I am at the conway_polynomial segfault which I think started everything.",
    "created_at": "2014-10-29T22:59:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230464",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:92'>Comment 92:</a>
And now I am at the conway_polynomial segfault which I think started everything.



---

archive/issue_comments_230465.json:
```json
{
    "body": "<a id='comment:93'>Comment 93:</a>\nOh, that is because you didn't apply #17204. Forgot about that one since I merged it a while ago.",
    "created_at": "2014-10-29T23:32:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230465",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:93'>Comment 93:</a>
Oh, that is because you didn't apply #17204. Forgot about that one since I merged it a while ago.



---

archive/issue_comments_230466.json:
```json
{
    "body": "<a id='comment:94'>Comment 94:</a>\nReplying to [@vbraun](#comment%3A93):\n> Oh, that is because you didn't apply #17204. Forgot about that one since I merged it a while ago.\n\nIndeed. All compiled now.",
    "created_at": "2014-10-30T02:41:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230466",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:94'>Comment 94:</a>
Replying to [@vbraun](#comment%3A93):
> Oh, that is because you didn't apply #17204. Forgot about that one since I merged it a while ago.

Indeed. All compiled now.



---

archive/issue_comments_230467.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/17169](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/17169)** to **[e16d2ae](https://github.com/sagemath/sagetrac-mirror/commit/e16d2ae38370fe22f7ade18a8317c3840261a971)**",
    "created_at": "2014-10-30T09:45:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230467",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/ticket/17169](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/17169)** to **[e16d2ae](https://github.com/sagemath/sagetrac-mirror/commit/e16d2ae38370fe22f7ade18a8317c3840261a971)**



---

archive/issue_events_227493.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-30T09:45:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227493"
}
```



---

archive/issue_events_227494.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ba493df6105b80cc1a1013378129c1b31533b2ed",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-10-30T09:45:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17169#event-227494"
}
```



---

archive/issue_comments_230468.json:
```json
{
    "body": "Changed commit from **[e16d2ae](https://github.com/sagemath/sagetrac-mirror/commit/e16d2ae38370fe22f7ade18a8317c3840261a971)** to none",
    "created_at": "2014-10-30T11:27:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230468",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[e16d2ae](https://github.com/sagemath/sagetrac-mirror/commit/e16d2ae38370fe22f7ade18a8317c3840261a971)** to none



---

archive/issue_comments_230469.json:
```json
{
    "body": "<a id='comment:96'>Comment 96:</a>\nAaaand 4.9.2 was just released ;-)",
    "created_at": "2014-10-30T11:27:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230469",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:96'>Comment 96:</a>
Aaaand 4.9.2 was just released ;-)



---

archive/issue_comments_230470.json:
```json
{
    "body": "<a id='comment:97'>Comment 97:</a>\nNext is #17262",
    "created_at": "2014-10-30T16:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17169",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17169#issuecomment-230470",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:97'>Comment 97:</a>
Next is #17262
