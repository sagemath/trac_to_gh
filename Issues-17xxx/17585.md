# Issue 17585: Implement coordinate_ring() for free module elements

archive/issues_017348.json:
```json
{
    "body": "See https://groups.google.com/forum/#!topic/sage-devel/7n5xtT9Dw2g\n\nWe add a method `coordinate_ring` to `FreeModule` and `FreeModuleElement` indicating the ring from which the entries `v[i]` come. Example:\n\n```\nsage: M = (ZZ^2) * (1/2)\nsage: v = M([0,1/2])\nsage: v.base_ring()\nInteger Ring\nsage: v.coordinate_ring()\nRational Field\n```\n\nBranch/Commit: [34ba37dd06c3e2110639c2c7ee356421e2eeda04](https://github.com/sagemath/sagetrac-mirror/commit/34ba37dd06c3e2110639c2c7ee356421e2eeda04)\n\nReviewer: Nils Bruin, Vincent Delecroix\n\nAuthor: Jeroen Demeyer\n\nDependencies: #17584, #17694, #13081, #12600\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17585\n\n",
    "closed_at": "2015-02-24T00:39:23Z",
    "created_at": "2015-01-05T14:54:51Z",
    "labels": [
        "component: linear algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Implement coordinate_ring() for free module elements",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17585",
    "user": "https://github.com/jdemeyer"
}
```
See https://groups.google.com/forum/#!topic/sage-devel/7n5xtT9Dw2g

We add a method `coordinate_ring` to `FreeModule` and `FreeModuleElement` indicating the ring from which the entries `v[i]` come. Example:

```
sage: M = (ZZ^2) * (1/2)
sage: v = M([0,1/2])
sage: v.base_ring()
Integer Ring
sage: v.coordinate_ring()
Rational Field
```

Branch/Commit: [34ba37dd06c3e2110639c2c7ee356421e2eeda04](https://github.com/sagemath/sagetrac-mirror/commit/34ba37dd06c3e2110639c2c7ee356421e2eeda04)

Reviewer: Nils Bruin, Vincent Delecroix

Author: Jeroen Demeyer

Dependencies: #17584, #17694, #13081, #12600

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17585





---

archive/issue_comments_303698.json:
```json
{
    "body": "Changing dependencies from \"#10513, #17578, #17561, #17583, #17584\" to \"#10513, #17578, #17561, #17583, #17584, #17587\"",
    "created_at": "2015-01-05T18:57:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303698",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#10513, #17578, #17561, #17583, #17584" to "#10513, #17578, #17561, #17583, #17584, #17587"



---

archive/issue_comments_303699.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/ticket/17585\"",
    "created_at": "2015-01-06T15:49:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303699",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/ticket/17585"



---

archive/issue_comments_303700.json:
```json
{
    "body": "Changing dependencies from \"#10513, #17578, #17561, #17583, #17584, #17587\" to \"#10513, #17578, #17561, #17583, #17584, #17587, #16399\"",
    "created_at": "2015-01-07T19:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303700",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#10513, #17578, #17561, #17583, #17584, #17587" to "#10513, #17578, #17561, #17583, #17584, #17587, #16399"



---

archive/issue_comments_303701.json:
```json
{
    "body": "Changing commit from \"\" to \"adcb14c720edf189c6d6394c4b2059132ff12326\"",
    "created_at": "2015-01-07T19:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303701",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "adcb14c720edf189c6d6394c4b2059132ff12326"



---

archive/issue_comments_303702.json:
```json
{
    "body": "<a id='comment:3'></a>\nLast 10 new commits:\n|                                                                                                                                          |                                                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|\n|[2f52a3c](https://github.com/sagemath/sagetrac-mirror/commit/2f52a3cb9945479d4d7298c06119bde5481c6d27)|`Trac 10513: remove unnecessary FreeModule_generic_field.__echelonized_basis_matrix`|\n|[2d7f075](https://github.com/sagemath/sagetrac-mirror/commit/2d7f0759c12fbeeb45d42c2d6160f8d925a22252)|`Trac 10513: small documentation improvement`|\n|[99ec4cc](https://github.com/sagemath/sagetrac-mirror/commit/99ec4cc13099658e0bc762a6e8d230c3956c7150)|`Trac 10513: revert a change in try...except`|\n|[eb583c5](https://github.com/sagemath/sagetrac-mirror/commit/eb583c5d07a5e26218c1d854d592e87c1034a783)|`Merge commit '99ec4cc13099658e0bc762a6e8d230c3956c7150' into HEAD`|\n|[5c0f3a6](https://github.com/sagemath/sagetrac-mirror/commit/5c0f3a67a15e3a04503ea6ff93776f67669d3619)|`Clean up free module elements`|\n|[5caa1f7](https://github.com/sagemath/sagetrac-mirror/commit/5caa1f71a65314a236b9b437b85bb6f707fa201a)|`Simplify numpy import in vectors`|\n|[f5443b7](https://github.com/sagemath/sagetrac-mirror/commit/f5443b78f15d0d59ddca26c4299587563e38088a)|`Merge commit '5c0f3a67a15e3a04503ea6ff93776f67669d3619'; branch 'ticket/17584' into ticket/17585`|\n|[ab9ada2](https://github.com/sagemath/sagetrac-mirror/commit/ab9ada208a895e01f973b0df90075d61e865e0dc)|`Fix use of base_ring in span() and span_of_basis()`|\n|[710e1f2](https://github.com/sagemath/sagetrac-mirror/commit/710e1f2247a68fcd4c541b018ac5a26afe3833d6)|`Merge commit 'ab9ada208a895e01f973b0df90075d61e865e0dc' into HEAD`|\n|[adcb14c](https://github.com/sagemath/sagetrac-mirror/commit/adcb14c720edf189c6d6394c4b2059132ff12326)|`Implement element_ring() for free module elements`|",
    "created_at": "2015-01-07T19:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303702",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>
Last 10 new commits:
|                                                                                                                                          |                                                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
|[2f52a3c](https://github.com/sagemath/sagetrac-mirror/commit/2f52a3cb9945479d4d7298c06119bde5481c6d27)|`Trac 10513: remove unnecessary FreeModule_generic_field.__echelonized_basis_matrix`|
|[2d7f075](https://github.com/sagemath/sagetrac-mirror/commit/2d7f0759c12fbeeb45d42c2d6160f8d925a22252)|`Trac 10513: small documentation improvement`|
|[99ec4cc](https://github.com/sagemath/sagetrac-mirror/commit/99ec4cc13099658e0bc762a6e8d230c3956c7150)|`Trac 10513: revert a change in try...except`|
|[eb583c5](https://github.com/sagemath/sagetrac-mirror/commit/eb583c5d07a5e26218c1d854d592e87c1034a783)|`Merge commit '99ec4cc13099658e0bc762a6e8d230c3956c7150' into HEAD`|
|[5c0f3a6](https://github.com/sagemath/sagetrac-mirror/commit/5c0f3a67a15e3a04503ea6ff93776f67669d3619)|`Clean up free module elements`|
|[5caa1f7](https://github.com/sagemath/sagetrac-mirror/commit/5caa1f71a65314a236b9b437b85bb6f707fa201a)|`Simplify numpy import in vectors`|
|[f5443b7](https://github.com/sagemath/sagetrac-mirror/commit/f5443b78f15d0d59ddca26c4299587563e38088a)|`Merge commit '5c0f3a67a15e3a04503ea6ff93776f67669d3619'; branch 'ticket/17584' into ticket/17585`|
|[ab9ada2](https://github.com/sagemath/sagetrac-mirror/commit/ab9ada208a895e01f973b0df90075d61e865e0dc)|`Fix use of base_ring in span() and span_of_basis()`|
|[710e1f2](https://github.com/sagemath/sagetrac-mirror/commit/710e1f2247a68fcd4c541b018ac5a26afe3833d6)|`Merge commit 'ab9ada208a895e01f973b0df90075d61e865e0dc' into HEAD`|
|[adcb14c](https://github.com/sagemath/sagetrac-mirror/commit/adcb14c720edf189c6d6394c4b2059132ff12326)|`Implement element_ring() for free module elements`|



---

archive/issue_events_057370.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "rename": {
        "from": "Implement element_ring() for free module elements",
        "to": "Implement coordinate_ring() for free module elements"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17585#event-57370"
}
```



---

archive/issue_comments_303703.json:
```json
{
    "body": "Changing commit from \"adcb14c720edf189c6d6394c4b2059132ff12326\" to \"d7aefe3c3503c8975918aa6bb53674946ae0c59b\"",
    "created_at": "2015-01-08T10:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303703",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "adcb14c720edf189c6d6394c4b2059132ff12326" to "d7aefe3c3503c8975918aa6bb53674946ae0c59b"



---

archive/issue_comments_303704.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                          |                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[098d574](https://github.com/sagemath/sagetrac-mirror/commit/098d574aa98441e4067178a4b8913c88ebc0f6b8)|`trac #16399 now for sparse matrices`|\n|[bee1968](https://github.com/sagemath/sagetrac-mirror/commit/bee1968a7bfc534ac1ce216562b8f66df770483e)|`trac #16399 trying to use coercion model`|\n|[9986c47](https://github.com/sagemath/sagetrac-mirror/commit/9986c476c78510e1b98d46890a5b9506f3b62613)|`trac #16399 fixing some obvious errors.`|\n|[0f1cbae](https://github.com/sagemath/sagetrac-mirror/commit/0f1cbae5d63bc2005412f4b2870f7769185252e7)|`Merge tag '6.5.beta5' into ticket/16399`|\n|[e3d7bbd](https://github.com/sagemath/sagetrac-mirror/commit/e3d7bbd479838b2cbc8433509034da0ab864d456)|`Refactor stacking, use coercion`|\n|[810a889](https://github.com/sagemath/sagetrac-mirror/commit/810a889f723ae78ee0331cf366e22e2308ebf74e)|`Rephrase documentation`|\n|[7a080f7](https://github.com/sagemath/sagetrac-mirror/commit/7a080f7a7570206003ab151ed6c0b92b46c73af5)|`Add \"toric\" argument to span() and span_of_basis()`|\n|[7392a01](https://github.com/sagemath/sagetrac-mirror/commit/7392a01ee14245ddad6b13498fbeab40faa40668)|`Remove unused import`|\n|[5eb44a7](https://github.com/sagemath/sagetrac-mirror/commit/5eb44a75b4f71fd7a43a877750c044cec2e62933)|`Merge commit '810a889f723ae78ee0331cf366e22e2308ebf74e'; commit '7392a01ee14245ddad6b13498fbeab40faa40668' into HEAD`|\n|[d7aefe3](https://github.com/sagemath/sagetrac-mirror/commit/d7aefe3c3503c8975918aa6bb53674946ae0c59b)|`Implement coordinate_ring() for free module elements`|",
    "created_at": "2015-01-08T10:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303704",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                          |                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[098d574](https://github.com/sagemath/sagetrac-mirror/commit/098d574aa98441e4067178a4b8913c88ebc0f6b8)|`trac #16399 now for sparse matrices`|
|[bee1968](https://github.com/sagemath/sagetrac-mirror/commit/bee1968a7bfc534ac1ce216562b8f66df770483e)|`trac #16399 trying to use coercion model`|
|[9986c47](https://github.com/sagemath/sagetrac-mirror/commit/9986c476c78510e1b98d46890a5b9506f3b62613)|`trac #16399 fixing some obvious errors.`|
|[0f1cbae](https://github.com/sagemath/sagetrac-mirror/commit/0f1cbae5d63bc2005412f4b2870f7769185252e7)|`Merge tag '6.5.beta5' into ticket/16399`|
|[e3d7bbd](https://github.com/sagemath/sagetrac-mirror/commit/e3d7bbd479838b2cbc8433509034da0ab864d456)|`Refactor stacking, use coercion`|
|[810a889](https://github.com/sagemath/sagetrac-mirror/commit/810a889f723ae78ee0331cf366e22e2308ebf74e)|`Rephrase documentation`|
|[7a080f7](https://github.com/sagemath/sagetrac-mirror/commit/7a080f7a7570206003ab151ed6c0b92b46c73af5)|`Add "toric" argument to span() and span_of_basis()`|
|[7392a01](https://github.com/sagemath/sagetrac-mirror/commit/7392a01ee14245ddad6b13498fbeab40faa40668)|`Remove unused import`|
|[5eb44a7](https://github.com/sagemath/sagetrac-mirror/commit/5eb44a75b4f71fd7a43a877750c044cec2e62933)|`Merge commit '810a889f723ae78ee0331cf366e22e2308ebf74e'; commit '7392a01ee14245ddad6b13498fbeab40faa40668' into HEAD`|
|[d7aefe3](https://github.com/sagemath/sagetrac-mirror/commit/d7aefe3c3503c8975918aa6bb53674946ae0c59b)|`Implement coordinate_ring() for free module elements`|



---

archive/issue_comments_303705.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[aa5f58a](https://github.com/sagemath/sagetrac-mirror/commit/aa5f58a1e43b40beb8b76d2cc0ec1bc7ab0ede2e)|`Trac 17578: use Parent/Element for Manin symbols`|\n|[90f0fc7](https://github.com/sagemath/sagetrac-mirror/commit/90f0fc7edc81f921d0d75f025cd34c0c029723fc)|`More changes towards a proper parent class.`|\n|[e59b940](https://github.com/sagemath/sagetrac-mirror/commit/e59b940b36c40cca506f7740a480c47369920309)|`Trac 17578: revert the more substantial changes from the previous commit`|\n|[b943414](https://github.com/sagemath/sagetrac-mirror/commit/b943414ac206d10dfb5601163218b773f6ed7166)|`Merge commit 'e59b940b36c40cca506f7740a480c47369920309' into HEAD`|\n|[b56d99c](https://github.com/sagemath/sagetrac-mirror/commit/b56d99c1c452bc5bd873b4e9a5a9bf534282fe28)|`Implement coordinate_ring() for free module elements`|",
    "created_at": "2015-01-08T11:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303705",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[aa5f58a](https://github.com/sagemath/sagetrac-mirror/commit/aa5f58a1e43b40beb8b76d2cc0ec1bc7ab0ede2e)|`Trac 17578: use Parent/Element for Manin symbols`|
|[90f0fc7](https://github.com/sagemath/sagetrac-mirror/commit/90f0fc7edc81f921d0d75f025cd34c0c029723fc)|`More changes towards a proper parent class.`|
|[e59b940](https://github.com/sagemath/sagetrac-mirror/commit/e59b940b36c40cca506f7740a480c47369920309)|`Trac 17578: revert the more substantial changes from the previous commit`|
|[b943414](https://github.com/sagemath/sagetrac-mirror/commit/b943414ac206d10dfb5601163218b773f6ed7166)|`Merge commit 'e59b940b36c40cca506f7740a480c47369920309' into HEAD`|
|[b56d99c](https://github.com/sagemath/sagetrac-mirror/commit/b56d99c1c452bc5bd873b4e9a5a9bf534282fe28)|`Implement coordinate_ring() for free module elements`|



---

archive/issue_comments_303706.json:
```json
{
    "body": "Changing commit from \"d7aefe3c3503c8975918aa6bb53674946ae0c59b\" to \"b56d99c1c452bc5bd873b4e9a5a9bf534282fe28\"",
    "created_at": "2015-01-08T11:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303706",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d7aefe3c3503c8975918aa6bb53674946ae0c59b" to "b56d99c1c452bc5bd873b4e9a5a9bf534282fe28"



---

archive/issue_comments_303707.json:
```json
{
    "body": "Changing dependencies from \"#10513, #17578, #17561, #17583, #17584, #17587, #16399\" to \"#10513, #17578, #17561, #17583, #17584, #17587, #16399, #17602\"",
    "created_at": "2015-01-08T14:59:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303707",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#10513, #17578, #17561, #17583, #17584, #17587, #16399" to "#10513, #17578, #17561, #17583, #17584, #17587, #16399, #17602"



---

archive/issue_comments_303708.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|\n|[f46c53d](https://github.com/sagemath/sagetrac-mirror/commit/f46c53dd9cce39eda24df08481913267ba915e5c)|`Raise TypeError instead of ValueError if conversion fails`|\n|[945543c](https://github.com/sagemath/sagetrac-mirror/commit/945543ceed0fd65d6a9c3f1ed1e05fd32c8b430a)|`Merge commit 'f46c53dd9cce39eda24df08481913267ba915e5c' into HEAD`|\n|[32ba3d9](https://github.com/sagemath/sagetrac-mirror/commit/32ba3d92593b7e14b7a874dee8e4e2aae0ce5742)|`Implement coordinate_ring() for free module elements`|",
    "created_at": "2015-01-08T15:28:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303708",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|
|[f46c53d](https://github.com/sagemath/sagetrac-mirror/commit/f46c53dd9cce39eda24df08481913267ba915e5c)|`Raise TypeError instead of ValueError if conversion fails`|
|[945543c](https://github.com/sagemath/sagetrac-mirror/commit/945543ceed0fd65d6a9c3f1ed1e05fd32c8b430a)|`Merge commit 'f46c53dd9cce39eda24df08481913267ba915e5c' into HEAD`|
|[32ba3d9](https://github.com/sagemath/sagetrac-mirror/commit/32ba3d92593b7e14b7a874dee8e4e2aae0ce5742)|`Implement coordinate_ring() for free module elements`|



---

archive/issue_comments_303709.json:
```json
{
    "body": "Changing commit from \"b56d99c1c452bc5bd873b4e9a5a9bf534282fe28\" to \"32ba3d92593b7e14b7a874dee8e4e2aae0ce5742\"",
    "created_at": "2015-01-08T15:28:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303709",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b56d99c1c452bc5bd873b4e9a5a9bf534282fe28" to "32ba3d92593b7e14b7a874dee8e4e2aae0ce5742"



---

archive/issue_comments_303710.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                          |                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[a9da048](https://github.com/sagemath/sagetrac-mirror/commit/a9da0487574bd6c9e31743929de1a9ae1b476cdb)|`Trac 17578: use Parent/Element for Manin symbols`|\n|[c070145](https://github.com/sagemath/sagetrac-mirror/commit/c0701458ba046b936cb250ccb79a7a3baf4181b9)|`Merge branch 'u/pbruin/17578-ManinSymbol_Parent_Element' of trac.sagemath.org:sage into u/tscrim/manin_symbol_parent-17578`|\n|[9cf191b](https://github.com/sagemath/sagetrac-mirror/commit/9cf191b8faf45f97855e5612ed81d7a3988c5cb4)|`More changes towards a proper parent class.`|\n|[57a4259](https://github.com/sagemath/sagetrac-mirror/commit/57a425901538723e212815ab1e84908ff992cf40)|`Merge branch 'u/jdemeyer/ticket/17579' of trac.sagemath.org:sage into u/tscrim/manin_symbol_parent-17578`|\n|[d941a17](https://github.com/sagemath/sagetrac-mirror/commit/d941a1762c4cfd4da9d186992d19a80e572b6c4d)|`Don't create toric sublattices with rational generators.`|\n|[08fd881](https://github.com/sagemath/sagetrac-mirror/commit/08fd881937de691245388a8c176d6fbe29341a06)|`Merge commit '6b63026ceea5e9daaee46ca821a85e4edd6ded8b'; commit '57a425901538723e212815ab1e84908ff992cf40'; commit '5caa1f71a65314a236b9b437b85bb6f707fa201a'; commit 'd941a1762c4cfd4da9d186992d19a80e572b6c4d'; commit 'f46c53dd9cce39eda24df08481913267ba915e5c'; commit '810a889f723ae78ee0331cf366e22e2308ebf74e' into HEAD`|\n|[5d011f4](https://github.com/sagemath/sagetrac-mirror/commit/5d011f49a7a1e1020cd1dbb1dfdcae95a394a6aa)|`Merge commit '106f5d41398794b13a6a683236cf219d49602312' into HEAD`|\n|[66d2f76](https://github.com/sagemath/sagetrac-mirror/commit/66d2f76d685f654f18b77f0051ae85235a4f846f)|`Clean up free module elements`|\n|[22084d7](https://github.com/sagemath/sagetrac-mirror/commit/22084d7698d23862d9ab80288d3ba9976293d0ec)|`Merge commit '66d2f76d685f654f18b77f0051ae85235a4f846f' into HEAD`|\n|[f7ef4c5](https://github.com/sagemath/sagetrac-mirror/commit/f7ef4c52a51b5c3da33b795a150476d00cbeb63a)|`Implement coordinate_ring() for free module elements`|",
    "created_at": "2015-01-21T16:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303710",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                          |                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[a9da048](https://github.com/sagemath/sagetrac-mirror/commit/a9da0487574bd6c9e31743929de1a9ae1b476cdb)|`Trac 17578: use Parent/Element for Manin symbols`|
|[c070145](https://github.com/sagemath/sagetrac-mirror/commit/c0701458ba046b936cb250ccb79a7a3baf4181b9)|`Merge branch 'u/pbruin/17578-ManinSymbol_Parent_Element' of trac.sagemath.org:sage into u/tscrim/manin_symbol_parent-17578`|
|[9cf191b](https://github.com/sagemath/sagetrac-mirror/commit/9cf191b8faf45f97855e5612ed81d7a3988c5cb4)|`More changes towards a proper parent class.`|
|[57a4259](https://github.com/sagemath/sagetrac-mirror/commit/57a425901538723e212815ab1e84908ff992cf40)|`Merge branch 'u/jdemeyer/ticket/17579' of trac.sagemath.org:sage into u/tscrim/manin_symbol_parent-17578`|
|[d941a17](https://github.com/sagemath/sagetrac-mirror/commit/d941a1762c4cfd4da9d186992d19a80e572b6c4d)|`Don't create toric sublattices with rational generators.`|
|[08fd881](https://github.com/sagemath/sagetrac-mirror/commit/08fd881937de691245388a8c176d6fbe29341a06)|`Merge commit '6b63026ceea5e9daaee46ca821a85e4edd6ded8b'; commit '57a425901538723e212815ab1e84908ff992cf40'; commit '5caa1f71a65314a236b9b437b85bb6f707fa201a'; commit 'd941a1762c4cfd4da9d186992d19a80e572b6c4d'; commit 'f46c53dd9cce39eda24df08481913267ba915e5c'; commit '810a889f723ae78ee0331cf366e22e2308ebf74e' into HEAD`|
|[5d011f4](https://github.com/sagemath/sagetrac-mirror/commit/5d011f49a7a1e1020cd1dbb1dfdcae95a394a6aa)|`Merge commit '106f5d41398794b13a6a683236cf219d49602312' into HEAD`|
|[66d2f76](https://github.com/sagemath/sagetrac-mirror/commit/66d2f76d685f654f18b77f0051ae85235a4f846f)|`Clean up free module elements`|
|[22084d7](https://github.com/sagemath/sagetrac-mirror/commit/22084d7698d23862d9ab80288d3ba9976293d0ec)|`Merge commit '66d2f76d685f654f18b77f0051ae85235a4f846f' into HEAD`|
|[f7ef4c5](https://github.com/sagemath/sagetrac-mirror/commit/f7ef4c52a51b5c3da33b795a150476d00cbeb63a)|`Implement coordinate_ring() for free module elements`|



---

archive/issue_comments_303711.json:
```json
{
    "body": "Changing commit from \"32ba3d92593b7e14b7a874dee8e4e2aae0ce5742\" to \"f7ef4c52a51b5c3da33b795a150476d00cbeb63a\"",
    "created_at": "2015-01-21T16:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303711",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "32ba3d92593b7e14b7a874dee8e4e2aae0ce5742" to "f7ef4c52a51b5c3da33b795a150476d00cbeb63a"



---

archive/issue_comments_303712.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,12 +1,12 @@\n See https://groups.google.com/forum/#!topic/sage-devel/7n5xtT9Dw2g\n \n-We add a method `element_ring` to `FreeModule` and `FreeModuleElement` indicating the ring from which the entries `v[i]` come. Example:\n+We add a method `coordinate_ring` to `FreeModule` and `FreeModuleElement` indicating the ring from which the entries `v[i]` come. Example:\n \n ```\n sage: M = (ZZ^2) * (1/2)\n sage: v = M([0,1/2])\n sage: v.base_ring()\n Integer Ring\n-sage: v.element_ring()\n+sage: v.coordinate_ring()\n Rational Field\n ```\n``````\n",
    "created_at": "2015-02-10T09:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303712",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,12 +1,12 @@
 See https://groups.google.com/forum/#!topic/sage-devel/7n5xtT9Dw2g
 
-We add a method `element_ring` to `FreeModule` and `FreeModuleElement` indicating the ring from which the entries `v[i]` come. Example:
+We add a method `coordinate_ring` to `FreeModule` and `FreeModuleElement` indicating the ring from which the entries `v[i]` come. Example:
 
 ```
 sage: M = (ZZ^2) * (1/2)
 sage: v = M([0,1/2])
 sage: v.base_ring()
 Integer Ring
-sage: v.element_ring()
+sage: v.coordinate_ring()
 Rational Field
 ```
``````




---

archive/issue_comments_303713.json:
```json
{
    "body": "<a id='comment:11'></a>\nI noticed this in one of the commits:\n\n```diff\n- from sage.categories.all import FreeModules\n- category = FreeModules(base_ring.category())\n+ from sage.categories.all import Fields, FreeModules, VectorSpaces\n+ if base_ring in Fields():\n+    category = VectorSpaces(base_ring)\n+ else:\n+    category = FreeModules(base_ring)\n```\nIt's important for performance and and memory-leaking that categories do *not* refer to their base rings. This information is already stored in the parent. Thus, the `FreeModules(base_ring.category())` is quite intentional. Please keep it in.\n\nFurthermore:\n\n```\nsage: FreeModules(Fields())\nCategory of vector spaces with basis over fields\n```\nso the category code does the fields check already. No need to do it twice.",
    "created_at": "2015-02-10T17:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303713",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:11'></a>
I noticed this in one of the commits:

```diff
- from sage.categories.all import FreeModules
- category = FreeModules(base_ring.category())
+ from sage.categories.all import Fields, FreeModules, VectorSpaces
+ if base_ring in Fields():
+    category = VectorSpaces(base_ring)
+ else:
+    category = FreeModules(base_ring)
```
It's important for performance and and memory-leaking that categories do *not* refer to their base rings. This information is already stored in the parent. Thus, the `FreeModules(base_ring.category())` is quite intentional. Please keep it in.

Furthermore:

```
sage: FreeModules(Fields())
Category of vector spaces with basis over fields
```
so the category code does the fields check already. No need to do it twice.



---

archive/issue_comments_303714.json:
```json
{
    "body": "<a id='comment:12'></a>\nNils, I agree that it's a mistake (probably by merging, since I didn't intentionally make that change).\n\nBut currently I'm waiting for #17584 to be reviewed before continuing with this ticket.\n\nI'm also wondering whether I should wait or not for #10513: if I wait, then this ticket might never get finished.",
    "created_at": "2015-02-11T09:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303714",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
Nils, I agree that it's a mistake (probably by merging, since I didn't intentionally make that change).

But currently I'm waiting for #17584 to be reviewed before continuing with this ticket.

I'm also wondering whether I should wait or not for #10513: if I wait, then this ticket might never get finished.



---

archive/issue_comments_303715.json:
```json
{
    "body": "Changing dependencies from \"#10513, #17578, #17561, #17583, #17584, #17587, #16399, #17602\" to \"#17584, #17694, #13081, #12600\"",
    "created_at": "2015-02-17T08:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303715",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#10513, #17578, #17561, #17583, #17584, #17587, #16399, #17602" to "#17584, #17694, #13081, #12600"



---

archive/issue_comments_303716.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                          |                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[35a6d5f](https://github.com/sagemath/sagetrac-mirror/commit/35a6d5f36bc7fe4b511bb2fcd780e5b685852fe9)|`Simplify numpy import in vectors`|\n|[d3e1ad5](https://github.com/sagemath/sagetrac-mirror/commit/d3e1ad57a0c4f27e42dc1a5044644763d823d369)|`trac #17694: upgrade the category of polyhedra`|\n|[c0a0bbb](https://github.com/sagemath/sagetrac-mirror/commit/c0a0bbbe64c8524c98c88f342c62cc426c604260)|`trac #17694: one_element->one and zero_element->zero`|\n|[9ac0f9a](https://github.com/sagemath/sagetrac-mirror/commit/9ac0f9aeee0783d92dbf2bd652d1b6209f7914bc)|`trac #17694: place deprecated_function_alias where appropriate`|\n|[0ba31f7](https://github.com/sagemath/sagetrac-mirror/commit/0ba31f7e48bc8f7db62c9f0188fa2c0bc8ed4957)|`trac #17694: fix deprecation message`|\n|[5e83b95](https://github.com/sagemath/sagetrac-mirror/commit/5e83b95e5161797bddc676156e9d629d839e3670)|`Add epsilon() method to rings`|\n|[f1a086a](https://github.com/sagemath/sagetrac-mirror/commit/f1a086ae03df83c5277345c7b037fdfae44ae8bc)|`Fix doctest`|\n|[e0ec6ec](https://github.com/sagemath/sagetrac-mirror/commit/e0ec6ecca8f6637b3978e25d54b2345feefd05e2)|`trac #17694: merge #12600`|\n|[b1596ca](https://github.com/sagemath/sagetrac-mirror/commit/b1596ca4150b5a20de7f30fdfb7e421324c131e5)|`Merge ticket/17694`|\n|[0d484ef](https://github.com/sagemath/sagetrac-mirror/commit/0d484efb22197dbc0753f6c896b003c8b3e8edb7)|`Implement coordinate_ring() for free module elements`|",
    "created_at": "2015-02-17T10:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303716",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                          |                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[35a6d5f](https://github.com/sagemath/sagetrac-mirror/commit/35a6d5f36bc7fe4b511bb2fcd780e5b685852fe9)|`Simplify numpy import in vectors`|
|[d3e1ad5](https://github.com/sagemath/sagetrac-mirror/commit/d3e1ad57a0c4f27e42dc1a5044644763d823d369)|`trac #17694: upgrade the category of polyhedra`|
|[c0a0bbb](https://github.com/sagemath/sagetrac-mirror/commit/c0a0bbbe64c8524c98c88f342c62cc426c604260)|`trac #17694: one_element->one and zero_element->zero`|
|[9ac0f9a](https://github.com/sagemath/sagetrac-mirror/commit/9ac0f9aeee0783d92dbf2bd652d1b6209f7914bc)|`trac #17694: place deprecated_function_alias where appropriate`|
|[0ba31f7](https://github.com/sagemath/sagetrac-mirror/commit/0ba31f7e48bc8f7db62c9f0188fa2c0bc8ed4957)|`trac #17694: fix deprecation message`|
|[5e83b95](https://github.com/sagemath/sagetrac-mirror/commit/5e83b95e5161797bddc676156e9d629d839e3670)|`Add epsilon() method to rings`|
|[f1a086a](https://github.com/sagemath/sagetrac-mirror/commit/f1a086ae03df83c5277345c7b037fdfae44ae8bc)|`Fix doctest`|
|[e0ec6ec](https://github.com/sagemath/sagetrac-mirror/commit/e0ec6ecca8f6637b3978e25d54b2345feefd05e2)|`trac #17694: merge #12600`|
|[b1596ca](https://github.com/sagemath/sagetrac-mirror/commit/b1596ca4150b5a20de7f30fdfb7e421324c131e5)|`Merge ticket/17694`|
|[0d484ef](https://github.com/sagemath/sagetrac-mirror/commit/0d484efb22197dbc0753f6c896b003c8b3e8edb7)|`Implement coordinate_ring() for free module elements`|



---

archive/issue_comments_303717.json:
```json
{
    "body": "Changing commit from \"f7ef4c52a51b5c3da33b795a150476d00cbeb63a\" to \"0d484efb22197dbc0753f6c896b003c8b3e8edb7\"",
    "created_at": "2015-02-17T10:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303717",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f7ef4c52a51b5c3da33b795a150476d00cbeb63a" to "0d484efb22197dbc0753f6c896b003c8b3e8edb7"



---

archive/issue_comments_303718.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[fa61dbc](https://github.com/sagemath/sagetrac-mirror/commit/fa61dbc53ce4f01df158dedb760525d83970881f)|`Implement coordinate_ring() for free module elements`|",
    "created_at": "2015-02-18T15:39:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303718",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[fa61dbc](https://github.com/sagemath/sagetrac-mirror/commit/fa61dbc53ce4f01df158dedb760525d83970881f)|`Implement coordinate_ring() for free module elements`|



---

archive/issue_comments_303719.json:
```json
{
    "body": "Changing commit from \"0d484efb22197dbc0753f6c896b003c8b3e8edb7\" to \"fa61dbc53ce4f01df158dedb760525d83970881f\"",
    "created_at": "2015-02-18T15:39:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303719",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0d484efb22197dbc0753f6c896b003c8b3e8edb7" to "fa61dbc53ce4f01df158dedb760525d83970881f"



---

archive/issue_comments_303720.json:
```json
{
    "body": "Changing commit from \"fa61dbc53ce4f01df158dedb760525d83970881f\" to \"6c9d46320aec7573e43c5f579dcf7abde50ea2ea\"",
    "created_at": "2015-02-18T15:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303720",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fa61dbc53ce4f01df158dedb760525d83970881f" to "6c9d46320aec7573e43c5f579dcf7abde50ea2ea"



---

archive/issue_comments_303721.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[6c9d463](https://github.com/sagemath/sagetrac-mirror/commit/6c9d46320aec7573e43c5f579dcf7abde50ea2ea)|`Implement coordinate_ring() for free module elements`|",
    "created_at": "2015-02-18T15:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303721",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[6c9d463](https://github.com/sagemath/sagetrac-mirror/commit/6c9d46320aec7573e43c5f579dcf7abde50ea2ea)|`Implement coordinate_ring() for free module elements`|



---

archive/issue_comments_303722.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[47da4b8](https://github.com/sagemath/sagetrac-mirror/commit/47da4b84e0897f8c15a4b7a8f02ffe5c5b2c19e7)|`Implement coordinate_ring() for free module elements`|",
    "created_at": "2015-02-19T01:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303722",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[47da4b8](https://github.com/sagemath/sagetrac-mirror/commit/47da4b84e0897f8c15a4b7a8f02ffe5c5b2c19e7)|`Implement coordinate_ring() for free module elements`|



---

archive/issue_comments_303723.json:
```json
{
    "body": "Changing commit from \"6c9d46320aec7573e43c5f579dcf7abde50ea2ea\" to \"47da4b84e0897f8c15a4b7a8f02ffe5c5b2c19e7\"",
    "created_at": "2015-02-19T01:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303723",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6c9d46320aec7573e43c5f579dcf7abde50ea2ea" to "47da4b84e0897f8c15a4b7a8f02ffe5c5b2c19e7"



---

archive/issue_comments_303724.json:
```json
{
    "body": "<a id='comment:18'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[dbca6bb](https://github.com/sagemath/sagetrac-mirror/commit/dbca6bb7915f3084b04af6943689ab0d244d7032)|`Implement coordinate_ring() for free module elements`|",
    "created_at": "2015-02-19T10:22:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303724",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[dbca6bb](https://github.com/sagemath/sagetrac-mirror/commit/dbca6bb7915f3084b04af6943689ab0d244d7032)|`Implement coordinate_ring() for free module elements`|



---

archive/issue_comments_303725.json:
```json
{
    "body": "Changing commit from \"47da4b84e0897f8c15a4b7a8f02ffe5c5b2c19e7\" to \"dbca6bb7915f3084b04af6943689ab0d244d7032\"",
    "created_at": "2015-02-19T10:22:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303725",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "47da4b84e0897f8c15a4b7a8f02ffe5c5b2c19e7" to "dbca6bb7915f3084b04af6943689ab0d244d7032"



---

archive/issue_comments_303726.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-02-19T11:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303726",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_303727.json:
```json
{
    "body": "<a id='comment:20'></a>\nHi Jeroen,\n\nDid you saw the weirdness in #13304 that I mentioned related to #11751? Could we get rid of the `.basis()` in the initialization of free module elements here?\n\nVincent",
    "created_at": "2015-02-20T15:30:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303727",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'></a>
Hi Jeroen,

Did you saw the weirdness in #13304 that I mentioned related to #11751? Could we get rid of the `.basis()` in the initialization of free module elements here?

Vincent



---

archive/issue_comments_303728.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [vdelecroix](#comment%3A20):\n> Hi Jeroen,\n> \n> Did you saw the weirdness in #13304 that I mentioned related to #11751?\n\nNo, but this ticket *does* fix one of the issues mentioned in #13304.",
    "created_at": "2015-02-20T16:06:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303728",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>
Replying to [vdelecroix](#comment%3A20):
> Hi Jeroen,
> 
> Did you saw the weirdness in #13304 that I mentioned related to #11751?

No, but this ticket *does* fix one of the issues mentioned in #13304.



---

archive/issue_comments_303729.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-02-20T16:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303729",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_303730.json:
```json
{
    "body": "<a id='comment:22'></a>\n1. Do we really want to allow `non exact` coordinate rings with `exact` base ring? You replaced a test about exactness of the base ring with exactness of the coordinate ring.\n\n2. What is the point of the `ring` argument of `basis_matrix`? Moreover the implementation looks wrong since it returns the matrix `A` (defined over the `coordinate_ring`) as soon as `ring`  is the `base_ring`.\n\n3. Do we really need the method `coordinate_ring`/`base_ring` defined on vectors? These are methods of the parent (and are implemented as such). I do not see the point of that much duplication.",
    "created_at": "2015-02-20T16:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303730",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'></a>
1. Do we really want to allow `non exact` coordinate rings with `exact` base ring? You replaced a test about exactness of the base ring with exactness of the coordinate ring.

2. What is the point of the `ring` argument of `basis_matrix`? Moreover the implementation looks wrong since it returns the matrix `A` (defined over the `coordinate_ring`) as soon as `ring`  is the `base_ring`.

3. Do we really need the method `coordinate_ring`/`base_ring` defined on vectors? These are methods of the parent (and are implemented as such). I do not see the point of that much duplication.



---

archive/issue_comments_303731.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-02-20T16:57:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303731",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_303732.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [vdelecroix](#comment%3A22):\n> 1. Do we really want to allow `non exact` coordinate rings with `exact` base ring? You replaced a test about exactness of the base ring with exactness of the coordinate ring.\n  \nNo, mixing exact and non-exact doesn't really work anyway. I replaced the test because it does a computation with the coordinates. If we ever want to support non-exact coordinate rings with exact base rings, the modification is the right thing to do.\n\n> 2. What is the point of the `ring` argument of `basis_matrix`? Moreover the implementation looks wrong since it returns the matrix `A` (defined over the `coordinate_ring`) as soon as `ring`  is the `base_ring`.\n  \nAt one point during development of this ticket, I needed an explicit ring to work-around #16399. Instead, #16399 got fixed, so this work-around was no longer needed. I did keep the change to `basis_matrix()`. Does this extra argument really hurt? I could remove it if you want. The implementation is correct though: I think you are confusing the `base_ring` of the matrix with the `coordinate_ring` of the module.\n\n> 3. Do we really need the method `coordinate_ring`/`base_ring` defined on vectors? These are methods of the parent (and are implemented as such). I do not see the point of that much duplication.\n  \nWell, we already have `base_ring()` on both the module and the vectors. If you want to change that, please do it on a new ticket. Given that we have `base_ring()` for modules and vectors, it makes a lot of sense to do the same for `coordinate_ring()`. Besides, the `coordinate_ring()` method could really be seen as a method on the vectors: it gives the parent of the entries of the vector.",
    "created_at": "2015-02-20T16:57:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303732",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>
Replying to [vdelecroix](#comment%3A22):
> 1. Do we really want to allow `non exact` coordinate rings with `exact` base ring? You replaced a test about exactness of the base ring with exactness of the coordinate ring.
  
No, mixing exact and non-exact doesn't really work anyway. I replaced the test because it does a computation with the coordinates. If we ever want to support non-exact coordinate rings with exact base rings, the modification is the right thing to do.

> 2. What is the point of the `ring` argument of `basis_matrix`? Moreover the implementation looks wrong since it returns the matrix `A` (defined over the `coordinate_ring`) as soon as `ring`  is the `base_ring`.
  
At one point during development of this ticket, I needed an explicit ring to work-around #16399. Instead, #16399 got fixed, so this work-around was no longer needed. I did keep the change to `basis_matrix()`. Does this extra argument really hurt? I could remove it if you want. The implementation is correct though: I think you are confusing the `base_ring` of the matrix with the `coordinate_ring` of the module.

> 3. Do we really need the method `coordinate_ring`/`base_ring` defined on vectors? These are methods of the parent (and are implemented as such). I do not see the point of that much duplication.
  
Well, we already have `base_ring()` on both the module and the vectors. If you want to change that, please do it on a new ticket. Given that we have `base_ring()` for modules and vectors, it makes a lot of sense to do the same for `coordinate_ring()`. Besides, the `coordinate_ring()` method could really be seen as a method on the vectors: it gives the parent of the entries of the vector.



---

archive/issue_comments_303733.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [jdemeyer](#comment%3A23):\n> Replying to [vdelecroix](#comment%3A22):\n> > 2. What is the point of the `ring` argument of `basis_matrix`? Moreover the implementation looks wrong since it returns the matrix `A` (defined over the `coordinate_ring`) as soon as `ring`  is the `base_ring`.\n  \n> At one point during development of this ticket, I needed an explicit ring to work-around #16399. Instead, #16399 got fixed, so this work-around was no longer needed. I did keep the change to `basis_matrix()`. Does this extra argument really hurt? I could remove it if you want. The implementation is correct though: I think you are confusing the `base_ring` of the matrix with the `coordinate_ring` of the module.\n\nCould you at least include an example in the documentation?",
    "created_at": "2015-02-22T10:40:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303733",
    "user": "https://github.com/videlec"
}
```

<a id='comment:24'></a>
Replying to [jdemeyer](#comment%3A23):
> Replying to [vdelecroix](#comment%3A22):
> > 2. What is the point of the `ring` argument of `basis_matrix`? Moreover the implementation looks wrong since it returns the matrix `A` (defined over the `coordinate_ring`) as soon as `ring`  is the `base_ring`.
  
> At one point during development of this ticket, I needed an explicit ring to work-around #16399. Instead, #16399 got fixed, so this work-around was no longer needed. I did keep the change to `basis_matrix()`. Does this extra argument really hurt? I could remove it if you want. The implementation is correct though: I think you are confusing the `base_ring` of the matrix with the `coordinate_ring` of the module.

Could you at least include an example in the documentation?



---

archive/issue_comments_303734.json:
```json
{
    "body": "Changing commit from \"dbca6bb7915f3084b04af6943689ab0d244d7032\" to \"34ba37dd06c3e2110639c2c7ee356421e2eeda04\"",
    "created_at": "2015-02-22T20:33:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303734",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dbca6bb7915f3084b04af6943689ab0d244d7032" to "34ba37dd06c3e2110639c2c7ee356421e2eeda04"



---

archive/issue_comments_303735.json:
```json
{
    "body": "<a id='comment:25'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[34ba37d](https://github.com/sagemath/sagetrac-mirror/commit/34ba37dd06c3e2110639c2c7ee356421e2eeda04)|`Better doctests for basis_matrix()`|",
    "created_at": "2015-02-22T20:33:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303735",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[34ba37d](https://github.com/sagemath/sagetrac-mirror/commit/34ba37dd06c3e2110639c2c7ee356421e2eeda04)|`Better doctests for basis_matrix()`|



---

archive/issue_comments_303736.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2015-02-22T22:13:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303736",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_events_057371.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-22T22:13:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17585#event-57371"
}
```



---

archive/issue_comments_303737.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-02-22T22:13:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303737",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_303738.json:
```json
{
    "body": "Changing reviewer from \"Vincent Delecroix\" to \"Nils Bruin, Vincent Delecroix\"",
    "created_at": "2015-02-22T22:13:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303738",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "Vincent Delecroix" to "Nils Bruin, Vincent Delecroix"



---

archive/issue_comments_303739.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-02-24T00:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303739",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_303740.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/ticket/17585\" to \"34ba37dd06c3e2110639c2c7ee356421e2eeda04\"",
    "created_at": "2015-02-24T00:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17585#issuecomment-303740",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/ticket/17585" to "34ba37dd06c3e2110639c2c7ee356421e2eeda04"



---

archive/issue_events_057372.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-24T00:39:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17585",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17585#event-57372"
}
```
