# Issue 17874: TeXlive + required packages install script

archive/issues_017637.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThis adds a list of required texlive packages and a script to install texlive. \n\nThis allows \"make doc-pdf\" without a pre-existing tex install.\n\nComponent: **misc**\n\nAuthor: **Volker Braun**\n\nBranch/Commit: **[`37ca643`](https://github.com/sagemath/sagetrac-mirror/commit/37ca6434c6af9c72cf0e524377131aab34fa077b)**\n\nReviewer: **Steven Trogdon**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17874_\n\n",
    "closed_at": "2015-04-14T19:43:54Z",
    "created_at": "2015-02-28T12:56:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "TeXlive + required packages install script",
    "type": "issue",
    "updated_at": "2015-04-14T19:43:54Z",
    "url": "https://github.com/sagemath/sage/issues/17874",
    "user": "https://github.com/vbraun"
}
```
<div id="comment:0"></div>

This adds a list of required texlive packages and a script to install texlive. 

This allows "make doc-pdf" without a pre-existing tex install.

Component: **misc**

Author: **Volker Braun**

Branch/Commit: **[`37ca643`](https://github.com/sagemath/sagetrac-mirror/commit/37ca6434c6af9c72cf0e524377131aab34fa077b)**

Reviewer: **Steven Trogdon**

_Issue created by migration from https://trac.sagemath.org/ticket/17874_





---

archive/issue_events_252066.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-28T12:56:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252066"
}
```



---

archive/issue_events_252067.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-28T12:56:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252067"
}
```



---

archive/issue_events_252068.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-28T13:06:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252068"
}
```



---

archive/issue_comments_241954.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nHmm forgot to install babel-hungarian, but only got `babel Error: You haven't specified a language option`. Would be nice to have a way to automatically install all required tex(live) packages...",
    "created_at": "2015-02-28T13:06:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241954",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:1" align="right">comment:1</div>

Hmm forgot to install babel-hungarian, but only got `babel Error: You haven't specified a language option`. Would be nice to have a way to automatically install all required tex(live) packages...



---

archive/issue_events_252069.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-28T13:06:09Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "title_is": "TeXlive + required packages as optional package",
    "title_was": "babel Error: You haven't specified a language option",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252069"
}
```



---

archive/issue_events_252070.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-28T13:06:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252070"
}
```



---

archive/issue_comments_241955.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2015-02-28T15:01:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241955",
    "user": "https://github.com/vbraun"
}
```

Author: **Volker Braun**



---

archive/issue_events_252071.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-28T15:01:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252071"
}
```



---

archive/issue_events_252072.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-28T15:01:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "title_is": "TeXlive + required packages install script",
    "title_was": "TeXlive + required packages as optional package",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252072"
}
```



---

archive/issue_comments_241956.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,2 @@\n+This adds a list of required texlive packages and a script to install texlive. \n \n``````\n",
    "created_at": "2015-02-28T15:01:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241956",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,2 @@
+This adds a list of required texlive packages and a script to install texlive. 
 
``````




---

archive/issue_comments_241957.json:
```json
{
    "body": "Branch: **[u/vbraun/texlive](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/texlive)**",
    "created_at": "2015-02-28T15:02:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241957",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/texlive](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/texlive)**



---

archive/issue_comments_241958.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8ac6085104bed4bcc0b3f56e830fa806f034def\"><code>e8ac608</code></a></td><td><code>Initial version of the TeXlive install script</code></td></tr></table>\n",
    "created_at": "2015-02-28T15:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241958",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8ac6085104bed4bcc0b3f56e830fa806f034def"><code>e8ac608</code></a></td><td><code>Initial version of the TeXlive install script</code></td></tr></table>




---

archive/issue_comments_241959.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,3 @@\n This adds a list of required texlive packages and a script to install texlive. \n \n+This allows \"make doc-pdf\" without a pre-existing tex install.\n``````\n",
    "created_at": "2015-02-28T15:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241959",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,3 @@
 This adds a list of required texlive packages and a script to install texlive. 
 
+This allows "make doc-pdf" without a pre-existing tex install.
``````




---

archive/issue_events_252073.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-28T15:03:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252073"
}
```



---

archive/issue_comments_241960.json:
```json
{
    "body": "Commit: **[`e8ac608`](https://github.com/sagemath/sagetrac-mirror/commit/e8ac6085104bed4bcc0b3f56e830fa806f034def)**",
    "created_at": "2015-02-28T15:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241960",
    "user": "https://github.com/vbraun"
}
```

Commit: **[`e8ac608`](https://github.com/sagemath/sagetrac-mirror/commit/e8ac6085104bed4bcc0b3f56e830fa806f034def)**



---

archive/issue_comments_241961.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIn `SPKG.txt`, typo `Hoem page` and unnecessary line `Put a bulleted list of dependencies here:`.",
    "created_at": "2015-03-01T22:05:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241961",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:5" align="right">comment:5</div>

In `SPKG.txt`, typo `Hoem page` and unnecessary line `Put a bulleted list of dependencies here:`.



---

archive/issue_comments_241962.json:
```json
{
    "body": "Changed commit from **[`e8ac608`](https://github.com/sagemath/sagetrac-mirror/commit/e8ac6085104bed4bcc0b3f56e830fa806f034def)** to **[`2fc1cbb`](https://github.com/sagemath/sagetrac-mirror/commit/2fc1cbbc5d266752d731ac223ab47b1b6ee7d1b7)**",
    "created_at": "2015-03-02T20:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241962",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e8ac608`](https://github.com/sagemath/sagetrac-mirror/commit/e8ac6085104bed4bcc0b3f56e830fa806f034def)** to **[`2fc1cbb`](https://github.com/sagemath/sagetrac-mirror/commit/2fc1cbbc5d266752d731ac223ab47b1b6ee7d1b7)**



---

archive/issue_comments_241963.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fc1cbbc5d266752d731ac223ab47b1b6ee7d1b7\"><code>2fc1cbb</code></a></td><td><code>Spell checking</code></td></tr></table>\n",
    "created_at": "2015-03-02T20:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241963",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fc1cbbc5d266752d731ac223ab47b1b6ee7d1b7"><code>2fc1cbb</code></a></td><td><code>Spell checking</code></td></tr></table>




---

archive/issue_comments_241964.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nTo get things to work here I had to\n\n```\n--- a/src/ext/texlive/texlive-install\n+++ b/src/ext/texlive/texlive-install\n@@ -83,7 +83,7 @@ def install_texlive():\n     original_dir = os.getcwd()\n     os.chdir(tmp_dir)\n     check_call(['tar', '-x', '-z', '-f', tarball])\n-    install_dir = glob.glob('install-tl-*')[0]\n+    install_dir = glob.glob('install-tl-*')[1]\n     os.chdir(install_dir)\n \n     check_call([\n```\nor else install_dir is set to 'install-tl-unx.tar.gz'",
    "created_at": "2015-03-03T23:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241964",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:7" align="right">comment:7</div>

To get things to work here I had to

```
--- a/src/ext/texlive/texlive-install
+++ b/src/ext/texlive/texlive-install
@@ -83,7 +83,7 @@ def install_texlive():
     original_dir = os.getcwd()
     os.chdir(tmp_dir)
     check_call(['tar', '-x', '-z', '-f', tarball])
-    install_dir = glob.glob('install-tl-*')[0]
+    install_dir = glob.glob('install-tl-*')[1]
     os.chdir(install_dir)
 
     check_call([
```
or else install_dir is set to 'install-tl-unx.tar.gz'



---

archive/issue_comments_241965.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c287be678c89084476ab6996396dabb513bd9b06\"><code>c287be6</code></a></td><td><code>only cd into a directory</code></td></tr></table>\n",
    "created_at": "2015-03-09T08:35:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241965",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c287be678c89084476ab6996396dabb513bd9b06"><code>c287be6</code></a></td><td><code>only cd into a directory</code></td></tr></table>




---

archive/issue_comments_241966.json:
```json
{
    "body": "Changed commit from **[`2fc1cbb`](https://github.com/sagemath/sagetrac-mirror/commit/2fc1cbbc5d266752d731ac223ab47b1b6ee7d1b7)** to **[`c287be6`](https://github.com/sagemath/sagetrac-mirror/commit/c287be678c89084476ab6996396dabb513bd9b06)**",
    "created_at": "2015-03-09T08:35:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241966",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2fc1cbb`](https://github.com/sagemath/sagetrac-mirror/commit/2fc1cbbc5d266752d731ac223ab47b1b6ee7d1b7)** to **[`c287be6`](https://github.com/sagemath/sagetrac-mirror/commit/c287be678c89084476ab6996396dabb513bd9b06)**



---

archive/issue_comments_241967.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThe latest branch works here. One question(s). How is a user, in need of using the install script, to be made aware of the script? Or is that knowledge not important?",
    "created_at": "2015-03-12T18:50:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241967",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:9" align="right">comment:9</div>

The latest branch works here. One question(s). How is a user, in need of using the install script, to be made aware of the script? Or is that knowledge not important?



---

archive/issue_comments_241968.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef0319feee59186bf4139673e72c1234434aeba6\"><code>ef0319f</code></a></td><td><code>add packages required by IPython nbconvert</code></td></tr></table>\n",
    "created_at": "2015-03-15T19:06:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241968",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef0319feee59186bf4139673e72c1234434aeba6"><code>ef0319f</code></a></td><td><code>add packages required by IPython nbconvert</code></td></tr></table>




---

archive/issue_comments_241969.json:
```json
{
    "body": "Changed commit from **[`c287be6`](https://github.com/sagemath/sagetrac-mirror/commit/c287be678c89084476ab6996396dabb513bd9b06)** to **[`ef0319f`](https://github.com/sagemath/sagetrac-mirror/commit/ef0319feee59186bf4139673e72c1234434aeba6)**",
    "created_at": "2015-03-15T19:06:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241969",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c287be6`](https://github.com/sagemath/sagetrac-mirror/commit/c287be678c89084476ab6996396dabb513bd9b06)** to **[`ef0319f`](https://github.com/sagemath/sagetrac-mirror/commit/ef0319feee59186bf4139673e72c1234434aeba6)**



---

archive/issue_comments_241970.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0540a9c78e66a754a77dc4438512e5d83922461\"><code>a0540a9</code></a></td><td><code>add to the documentation</code></td></tr></table>\n",
    "created_at": "2015-03-15T19:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241970",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0540a9c78e66a754a77dc4438512e5d83922461"><code>a0540a9</code></a></td><td><code>add to the documentation</code></td></tr></table>




---

archive/issue_comments_241971.json:
```json
{
    "body": "Changed commit from **[`ef0319f`](https://github.com/sagemath/sagetrac-mirror/commit/ef0319feee59186bf4139673e72c1234434aeba6)** to **[`a0540a9`](https://github.com/sagemath/sagetrac-mirror/commit/a0540a9c78e66a754a77dc4438512e5d83922461)**",
    "created_at": "2015-03-15T19:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241971",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ef0319f`](https://github.com/sagemath/sagetrac-mirror/commit/ef0319feee59186bf4139673e72c1234434aeba6)** to **[`a0540a9`](https://github.com/sagemath/sagetrac-mirror/commit/a0540a9c78e66a754a77dc4438512e5d83922461)**



---

archive/issue_comments_241972.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI've added a note to the installation manual",
    "created_at": "2015-03-15T19:22:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241972",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:12" align="right">comment:12</div>

I've added a note to the installation manual



---

archive/issue_comments_241973.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n`ipynb`, I would have never guessed that. It will be a couple of days before I can adequate check that - provided I'm able to really check it. I did upgrade to the latest branch and I saw nothing related to latex `extension` - nothing in `/local/share/texlive/texmf-var/web2c/tlmgr.log` either. It didn't complain, but is that one needed for the ipynb -> latex -> pdf conversion?",
    "created_at": "2015-03-20T04:20:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241973",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:13" align="right">comment:13</div>

`ipynb`, I would have never guessed that. It will be a couple of days before I can adequate check that - provided I'm able to really check it. I did upgrade to the latest branch and I saw nothing related to latex `extension` - nothing in `/local/share/texlive/texmf-var/web2c/tlmgr.log` either. It didn't complain, but is that one needed for the ipynb -> latex -> pdf conversion?



---

archive/issue_events_252074.json:
```json
{
    "actor": "https://github.com/strogdon",
    "created_at": "2015-03-27T21:08:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252074"
}
```



---

archive/issue_events_252075.json:
```json
{
    "actor": "https://github.com/strogdon",
    "created_at": "2015-03-27T21:08:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252075"
}
```



---

archive/issue_comments_241974.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nUnless I've missed something (and I could very well have), it seems that before the latex requirements of IPython nbconvert can be nailed down one needs to install mistune. From the ipython notebook (or from a Sage shell) -- File -> Download as -> {Python,HTML,reST,PDF} from the notebook menu gives similar results:\n\n```\n%%bash\nls plots.ipynb\nipython nbconvert  --to=latex 'plots.ipynb'\n```\n\nreturns\n\n```\nplots.ipynb\nTraceback (most recent call last):\n  File \"/64bitdev/storage/sage-git_develop/sage/local/bin/ipython\", line 5, in <module>\n    start_ipython()\n  File \"/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/IPython/__init__.py\", line 120, in start_ipython\n    return launch_new_instance(argv=argv, **kwargs)\n\n<SNIP>\n\n  File \"/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/IPython/nbconvert/filters/markdown.py\", line 17, in <module>\n    import mistune\nImportError: No module named mistune\n```\nThis was hinted at [here](https://github.com/sagemath/sage/issues/17897#comment:9). On my gentoo box\n\n```\nipython nbconvert  --to=latex 'plots.ipynb'\n```\ngenerates `plots.tex` and\n\n```\nipython nbconvert  --to=pdf 'plots.ipynb'\n```\ngenerates `plots.pdf`, but I have mistune installed.",
    "created_at": "2015-03-27T21:08:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241974",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:14" align="right">comment:14</div>

Unless I've missed something (and I could very well have), it seems that before the latex requirements of IPython nbconvert can be nailed down one needs to install mistune. From the ipython notebook (or from a Sage shell) -- File -> Download as -> {Python,HTML,reST,PDF} from the notebook menu gives similar results:

```
%%bash
ls plots.ipynb
ipython nbconvert  --to=latex 'plots.ipynb'
```

returns

```
plots.ipynb
Traceback (most recent call last):
  File "/64bitdev/storage/sage-git_develop/sage/local/bin/ipython", line 5, in <module>
    start_ipython()
  File "/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/IPython/__init__.py", line 120, in start_ipython
    return launch_new_instance(argv=argv, **kwargs)

<SNIP>

  File "/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/IPython/nbconvert/filters/markdown.py", line 17, in <module>
    import mistune
ImportError: No module named mistune
```
This was hinted at [here](https://github.com/sagemath/sage/issues/17897#comment:9). On my gentoo box

```
ipython nbconvert  --to=latex 'plots.ipynb'
```
generates `plots.tex` and

```
ipython nbconvert  --to=pdf 'plots.ipynb'
```
generates `plots.pdf`, but I have mistune installed.



---

archive/issue_comments_241975.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAgree, I created #18080 to add mistune",
    "created_at": "2015-03-29T08:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241975",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:15" align="right">comment:15</div>

Agree, I created #18080 to add mistune



---

archive/issue_events_252076.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-29T08:25:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252076"
}
```



---

archive/issue_events_252077.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-29T08:25:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252077"
}
```



---

archive/issue_events_252078.json:
```json
{
    "actor": "https://github.com/strogdon",
    "created_at": "2015-03-30T06:11:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252078"
}
```



---

archive/issue_events_252079.json:
```json
{
    "actor": "https://github.com/strogdon",
    "created_at": "2015-03-30T06:11:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252079"
}
```



---

archive/issue_comments_241976.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAfter installing mistune and looking at what's dumped in a terminal during the install of latex packages I see\n\n```\nLogfile: /64bitdev/storage/sage-git_develop/sage/local/share/texlive/install-tl.log\npackage extension not present in package repository.\ntlmgr: package repository http://ftp.math.purdue.edu/mirrors/ctan.org/systems/texlive/tlnet\n```\nSo extension is not a latex package. From a Sage shell\n\n```\nsage-ipython nbconvert  --to=latex 'plots.ipynb'\n```\ndoes generate `plots.tex`. But\n\n```\nsage-ipython nbconvert  --to=pdf 'plots.ipynb'\n```\nfails initially with\n\n```\n! LaTeX Error: File `xkeyval.sty' not found.\n```\nThe usepackage(s) needed to pdflatex `plots.tex` are\n\n```\n    \\usepackage{graphicx} % Used to insert images\n    \\usepackage{adjustbox} % Used to constrain images to a maximum size \n    \\usepackage{color} % Allow colors to be defined\n    \\usepackage{enumerate} % Needed for markdown enumerations to work\n    \\usepackage{geometry} % Used to adjust the document margins\n    \\usepackage{amsmath} % Equations\n    \\usepackage{amssymb} % Equations\n    \\usepackage{eurosym} % defines \\euro\n    \\usepackage[mathletters]{ucs} % Extended unicode (utf-8) support\n    \\usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document\n    \\usepackage{fancyvrb} % verbatim replacement that allows latex\n    \\usepackage{grffile} % extends the file name processing of package graphics \n                         % to support a larger range \n    % The hyperref package gives us a pdf with properly built\n    % internal navigation ('pdf bookmarks' for the table of contents,\n    % internal cross-reference links, web links for URLs, etc.)\n    \\usepackage{hyperref}\n    \\usepackage{longtable} % longtable support required by pandoc >1.10\n    \\usepackage{booktabs}  % table support for pandoc > 1.12.2\n```\nsee (local/lib/python2.7/site-packages/IPython/nbconvert/templates/latex/base.tplx).\n\nI'm not sure if `xkeyval` is sufficient. I'll investigate. It may take me a bit, unless you have a quicker resolution.",
    "created_at": "2015-03-30T06:11:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241976",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:16" align="right">comment:16</div>

After installing mistune and looking at what's dumped in a terminal during the install of latex packages I see

```
Logfile: /64bitdev/storage/sage-git_develop/sage/local/share/texlive/install-tl.log
package extension not present in package repository.
tlmgr: package repository http://ftp.math.purdue.edu/mirrors/ctan.org/systems/texlive/tlnet
```
So extension is not a latex package. From a Sage shell

```
sage-ipython nbconvert  --to=latex 'plots.ipynb'
```
does generate `plots.tex`. But

```
sage-ipython nbconvert  --to=pdf 'plots.ipynb'
```
fails initially with

```
! LaTeX Error: File `xkeyval.sty' not found.
```
The usepackage(s) needed to pdflatex `plots.tex` are

```
    \usepackage{graphicx} % Used to insert images
    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{color} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
```
see (local/lib/python2.7/site-packages/IPython/nbconvert/templates/latex/base.tplx).

I'm not sure if `xkeyval` is sufficient. I'll investigate. It may take me a bit, unless you have a quicker resolution.



---

archive/issue_comments_241977.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThrough trial and error the following\n\n```\n--- a/src/ext/texlive/package-list.txt\n+++ b/src/ext/texlive/package-list.txt\n@@ -25,7 +25,8 @@ etoolbox\n \n # Used by IPython nbconvert (ipynb -> latex -> pdf conversion)\n adjustbox\n-extension\n+xkeyval\n+booktabs\n collectbox\n ucs\n```\nallowed conversion of my `plots.ipynb`, i.e. from within a Sage shell\n\n```\nsage-ipython nbconvert  --to=xxx 'plots.ipynb'\n```\nworks, where `xxx` is any of `{python, pdf, rst, html, latex}`. Conversion using the notebook menu also works. I may have missed a corner case. I don't know about the grffile package. I don't have it installed on my gentoo box.",
    "created_at": "2015-03-31T00:49:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241977",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:17" align="right">comment:17</div>

Through trial and error the following

```
--- a/src/ext/texlive/package-list.txt
+++ b/src/ext/texlive/package-list.txt
@@ -25,7 +25,8 @@ etoolbox
 
 # Used by IPython nbconvert (ipynb -> latex -> pdf conversion)
 adjustbox
-extension
+xkeyval
+booktabs
 collectbox
 ucs
```
allowed conversion of my `plots.ipynb`, i.e. from within a Sage shell

```
sage-ipython nbconvert  --to=xxx 'plots.ipynb'
```
works, where `xxx` is any of `{python, pdf, rst, html, latex}`. Conversion using the notebook menu also works. I may have missed a corner case. I don't know about the grffile package. I don't have it installed on my gentoo box.



---

archive/issue_comments_241978.json:
```json
{
    "body": "Changed commit from **[`a0540a9`](https://github.com/sagemath/sagetrac-mirror/commit/a0540a9c78e66a754a77dc4438512e5d83922461)** to **[`37ca643`](https://github.com/sagemath/sagetrac-mirror/commit/37ca6434c6af9c72cf0e524377131aab34fa077b)**",
    "created_at": "2015-03-31T09:48:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241978",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a0540a9`](https://github.com/sagemath/sagetrac-mirror/commit/a0540a9c78e66a754a77dc4438512e5d83922461)** to **[`37ca643`](https://github.com/sagemath/sagetrac-mirror/commit/37ca6434c6af9c72cf0e524377131aab34fa077b)**



---

archive/issue_comments_241979.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37ca6434c6af9c72cf0e524377131aab34fa077b\"><code>37ca643</code></a></td><td><code>add two more texlive packages</code></td></tr></table>\n",
    "created_at": "2015-03-31T09:48:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241979",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37ca6434c6af9c72cf0e524377131aab34fa077b"><code>37ca643</code></a></td><td><code>add two more texlive packages</code></td></tr></table>




---

archive/issue_comments_241980.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThanks for figuring this out!",
    "created_at": "2015-03-31T09:49:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241980",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:19" align="right">comment:19</div>

Thanks for figuring this out!



---

archive/issue_events_252080.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-31T09:49:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252080"
}
```



---

archive/issue_events_252081.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-31T09:49:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252081"
}
```



---

archive/issue_events_252082.json:
```json
{
    "actor": "https://github.com/strogdon",
    "created_at": "2015-03-31T14:34:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252082"
}
```



---

archive/issue_events_252083.json:
```json
{
    "actor": "https://github.com/strogdon",
    "created_at": "2015-03-31T14:34:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252083"
}
```



---

archive/issue_comments_241981.json:
```json
{
    "body": "Reviewer: **Steven Trogdon**",
    "created_at": "2015-03-31T14:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241981",
    "user": "https://github.com/strogdon"
}
```

Reviewer: **Steven Trogdon**



---

archive/issue_events_252084.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T19:43:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252084"
}
```



---

archive/issue_events_252085.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "39cba819cc6cb42dd46d0caa516561434ba5501c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-04-14T19:43:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17874#event-252085"
}
```



---

archive/issue_comments_241982.json:
```json
{
    "body": "Changed branch from **[u/vbraun/texlive](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/texlive)** to **[`37ca643`](https://github.com/sagemath/sagetrac-mirror/commit/37ca6434c6af9c72cf0e524377131aab34fa077b)**",
    "created_at": "2015-04-14T19:43:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17874#issuecomment-241982",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/texlive](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/texlive)** to **[`37ca643`](https://github.com/sagemath/sagetrac-mirror/commit/37ca6434c6af9c72cf0e524377131aab34fa077b)**
