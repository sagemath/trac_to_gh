# Issue 17652: Difference matrix product

archive/issues_017415.json:
```json
{
    "assignees": [],
    "body": "Implement the product of difference matrix.\n\nCC:  @nathanncohen\n\nBranch/Commit: **[95e7475](https://github.com/sagemath/sagetrac-mirror/commit/95e7475c0e2d85a4bbb5f552d626c207c715fff7)**\n\nReviewer: **Nathann Cohen**\n\nAuthor: **Vincent Delecroix**\n\nComponent: **combinatorial designs**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17652_\n\n",
    "closed_at": "2015-01-24T13:18:50Z",
    "created_at": "2015-01-19T22:05:22Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorial%20designs",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Difference matrix product",
    "type": "issue",
    "updated_at": "2015-01-24T13:18:50Z",
    "url": "https://github.com/sagemath/sage/issues/17652",
    "user": "https://github.com/videlec"
}
```
Implement the product of difference matrix.

CC:  @nathanncohen

Branch/Commit: **[95e7475](https://github.com/sagemath/sagetrac-mirror/commit/95e7475c0e2d85a4bbb5f552d626c207c715fff7)**

Reviewer: **Nathann Cohen**

Author: **Vincent Delecroix**

Component: **combinatorial designs**

_Issue created by migration from https://trac.sagemath.org/ticket/17652_





---

archive/issue_events_251524.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-01-19T22:05:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17652#event-251524"
}
```



---

archive/issue_events_251525.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-01-19T22:05:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorial%20designs",
    "label_color": "0000ff",
    "label_name": "c: combinatorial designs",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17652#event-251525"
}
```



---

archive/issue_events_251526.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-01-19T22:05:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17652#event-251526"
}
```



---

archive/issue_events_251527.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-01-19T22:05:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17652#event-251527"
}
```



---

archive/issue_comments_238081.json:
```json
{
    "body": "Branch: **[public/17652](https://github.com/sagemath/sagetrac-mirror/tree/public/17652)**",
    "created_at": "2015-01-19T22:07:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17652#issuecomment-238081",
    "user": "https://github.com/videlec"
}
```

Branch: **[public/17652](https://github.com/sagemath/sagetrac-mirror/tree/public/17652)**



---

archive/issue_comments_238082.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ceb954856dfdaa05c1918d49bcb4957624f0fcd\">7ceb954</a></td><td><code>trac #17652: product of difference matrices</code></td></tr></table>\n",
    "created_at": "2015-01-19T22:07:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17652#issuecomment-238082",
    "user": "https://github.com/videlec"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ceb954856dfdaa05c1918d49bcb4957624f0fcd">7ceb954</a></td><td><code>trac #17652: product of difference matrices</code></td></tr></table>




---

archive/issue_events_251528.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-01-19T22:07:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17652#event-251528"
}
```



---

archive/issue_comments_238083.json:
```json
{
    "body": "Commit: **[7ceb954](https://github.com/sagemath/sagetrac-mirror/commit/7ceb954856dfdaa05c1918d49bcb4957624f0fcd)**",
    "created_at": "2015-01-19T22:07:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17652#issuecomment-238083",
    "user": "https://github.com/videlec"
}
```

Commit: **[7ceb954](https://github.com/sagemath/sagetrac-mirror/commit/7ceb954856dfdaa05c1918d49bcb4957624f0fcd)**



---

archive/issue_comments_238084.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nHellooooooooooooo !!\n\nSeveral comments:\n\n- It's a pity to do the computations twice when lmbda1=lmbda2 (g1~g2\n  symmetry). But perhaps that does not matter considering the timings involved.\n\n- The comment on the infinite loops does not match the code that follows (the\n  code is right)\n\n- Why a `M = zip(*M)`? Isn't it better to change the loop above in order to\n  compute the right matrix?\n\n- The new doctest `designs.difference_matrix(56,None,existence=1)` returned\n  the same answer in the latest beta. Did you mean to test the new construction?\n\n- Could you write an INPUT section for the two functions?\n\nNathann",
    "created_at": "2015-01-20T09:12:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17652#issuecomment-238084",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:2" align="right">comment:2</div>

Hellooooooooooooo !!

Several comments:

- It's a pity to do the computations twice when lmbda1=lmbda2 (g1~g2
  symmetry). But perhaps that does not matter considering the timings involved.

- The comment on the infinite loops does not match the code that follows (the
  code is right)

- Why a `M = zip(*M)`? Isn't it better to change the loop above in order to
  compute the right matrix?

- The new doctest `designs.difference_matrix(56,None,existence=1)` returned
  the same answer in the latest beta. Did you mean to test the new construction?

- Could you write an INPUT section for the two functions?

Nathann



---

archive/issue_events_251529.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-20T09:12:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17652#event-251529"
}
```



---

archive/issue_events_251530.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-20T09:12:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17652#event-251530"
}
```



---

archive/issue_comments_238085.json:
```json
{
    "body": "Changed commit from **[7ceb954](https://github.com/sagemath/sagetrac-mirror/commit/7ceb954856dfdaa05c1918d49bcb4957624f0fcd)** to **[95e7475](https://github.com/sagemath/sagetrac-mirror/commit/95e7475c0e2d85a4bbb5f552d626c207c715fff7)**",
    "created_at": "2015-01-20T12:04:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17652#issuecomment-238085",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7ceb954](https://github.com/sagemath/sagetrac-mirror/commit/7ceb954856dfdaa05c1918d49bcb4957624f0fcd)** to **[95e7475](https://github.com/sagemath/sagetrac-mirror/commit/95e7475c0e2d85a4bbb5f552d626c207c715fff7)**



---

archive/issue_comments_238086.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95e7475c0e2d85a4bbb5f552d626c207c715fff7\">95e7475</a></td><td><code>trac #17652: reviewer's comments</code></td></tr></table>\n",
    "created_at": "2015-01-20T12:04:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17652#issuecomment-238086",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95e7475c0e2d85a4bbb5f552d626c207c715fff7">95e7475</a></td><td><code>trac #17652: reviewer's comments</code></td></tr></table>




---

archive/issue_comments_238087.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nRight, right, right, right, right.\n\nDone, done, done, done, done.\n\nVincent",
    "created_at": "2015-01-20T12:05:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17652#issuecomment-238087",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">comment:4</div>

Right, right, right, right, right.

Done, done, done, done, done.

Vincent



---

archive/issue_events_251531.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-01-20T12:05:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17652#event-251531"
}
```



---

archive/issue_events_251532.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-01-20T12:05:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17652#event-251532"
}
```



---

archive/issue_comments_238088.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nYoooooooo !\n\nLooks good, but can you really cut as soon as `g1>g2` ? There is no symmetry there if the two lambda are different.\n\nNathann",
    "created_at": "2015-01-20T14:13:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17652#issuecomment-238088",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

Yoooooooo !

Looks good, but can you really cut as soon as `g1>g2` ? There is no symmetry there if the two lambda are different.

Nathann



---

archive/issue_comments_238089.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@nathanncohen](#comment:6):\n> Yoooooooo !\n> \n> Looks good, but can you really cut as soon as `g1>g2` ? There is no symmetry there if the two lambda are different.\n\nThe algorithm runs through **all** possible pairs of lambdas. If you see `(lambd1, lmbda2)` you will also see `(lmbda2,lmbda1)`. It is hence fine to cut.\n\nVincent",
    "created_at": "2015-01-20T14:24:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17652#issuecomment-238089",
    "user": "https://github.com/videlec"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@nathanncohen](#comment:6):
> Yoooooooo !
> 
> Looks good, but can you really cut as soon as `g1>g2` ? There is no symmetry there if the two lambda are different.

The algorithm runs through **all** possible pairs of lambdas. If you see `(lambd1, lmbda2)` you will also see `(lmbda2,lmbda1)`. It is hence fine to cut.

Vincent



---

archive/issue_comments_238090.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2015-01-20T14:54:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17652#issuecomment-238090",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_238091.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nDead right.\n\nI'd say that this is good to go. We should pay attention to the timing of those functions, however, as they are called heavily by the OA constructors.\n\nNathann",
    "created_at": "2015-01-20T14:54:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17652#issuecomment-238091",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:8" align="right">comment:8</div>

Dead right.

I'd say that this is good to go. We should pay attention to the timing of those functions, however, as they are called heavily by the OA constructors.

Nathann



---

archive/issue_events_251533.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-20T14:54:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17652#event-251533"
}
```



---

archive/issue_events_251534.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-20T14:54:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17652#event-251534"
}
```



---

archive/issue_comments_238092.json:
```json
{
    "body": "Changed branch from **[public/17652](https://github.com/sagemath/sagetrac-mirror/tree/public/17652)** to **[95e7475](https://github.com/sagemath/sagetrac-mirror/commit/95e7475c0e2d85a4bbb5f552d626c207c715fff7)**",
    "created_at": "2015-01-24T13:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17652#issuecomment-238092",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/17652](https://github.com/sagemath/sagetrac-mirror/tree/public/17652)** to **[95e7475](https://github.com/sagemath/sagetrac-mirror/commit/95e7475c0e2d85a4bbb5f552d626c207c715fff7)**



---

archive/issue_events_251535.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-24T13:18:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17652#event-251535"
}
```



---

archive/issue_events_251536.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c31a83b7df10cf7fafddb64cc7c93efe61fc3954",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-01-24T13:18:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17652",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17652#event-251536"
}
```
