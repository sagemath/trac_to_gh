# Issue 17910: unsolved piecewise integrals metaticket

archive/issues_017673.json:
```json
{
    "body": "Archive of removed doctests testing the `abs_integrate` Maxima package (removed with #12731).\n\n```\nsage: y = function('y')                                                           \nsage: integrate(1/sqrt(abs(y(x))), y(x))  # ok                                       \nintegrate(diff(y(x), x)/sqrt(abs(y(x))), x)\n```\n\n```\nsage: integrate(sgn(x) - sgn(1-x), x)   # ok                                           \nabs(x - 1) + abs(x)\n```\n\n```\nsage: integrate(1 / (1 + abs(x-5)), x, -5, 6)     # ok                                 \nlog(11) + log(2)\n```\n\n```\nsage: integrate(1/(1 + abs(x)), x)   # ok                                           \nlog(abs(x*sgn(x) + 1))/sgn(x)\n```\n\n```\nsage: integrate(cos(x + abs(x)), x)      # ok                                       \nsin(x*sgn(x) + x)/(sgn(x) + 1)\n```\n\n```\nsage: integrate(sqrt(x + sqrt(x)), x).canonicalize_radical()      # ok              \n1/12*(8*x + 2*sqrt(x) - 3)*sqrt(x + sqrt(x)) - 1/8*log(abs(2*sqrt(x + sqrt(x)) - 2*sqrt(x) - 1))\n```\n\n```\nsage: integrate(abs(x^2 - 1), x, -2, 2) # ok                      \n4\n```\n\n```\nsage: f = sqrt(x + 1/x^2)\nsage: integral(f, x)  # to be checked\n2/3*sqrt(x^3 + 1) - 1/3*log(sqrt(x^3 + 1) + 1) + 1/3*log(sqrt(x^3 + 1) - 1)\n```\n\n```\nsage: f1(x) = e^(-abs(x))\nsage: f = Piecewise([[(-infinity, infinity), f1]])\nsage: f.integral(definite=True)  # ok\n2\nsage: f.integral()\nPiecewise defined function with 1 parts, [[(-Infinity, +Infinity), x |--> -1/2*((sgn(x) - 1)*e^(2*x) - 2*e^x*sgn(x) + sgn(x) + 1)*e^(-x) - 1]]\n```\n\nAlso, these have their own tickets:\n* `integrate(x * sgn(x^2 - 1/4), x, -1, 0)` (#11590)\n* `integral(log(abs(2*sin(u))), u, 0, pi/3)` (#17468)\n* `integrate(abs(cos(x)),x,0,pi)` (#17511)\n\nCC:  @kcrisman\n\nKeywords: integration\n\nStatus: new\n\nIssue created by migration from https://trac.sagemath.org/ticket/17910\n\n",
    "created_at": "2015-03-07T15:40:08Z",
    "labels": [
        "component: calculus"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-wishlist",
    "title": "unsolved piecewise integrals metaticket",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17910",
    "user": "https://github.com/rwst"
}
```
Archive of removed doctests testing the `abs_integrate` Maxima package (removed with #12731).

```
sage: y = function('y')                                                           
sage: integrate(1/sqrt(abs(y(x))), y(x))  # ok                                       
integrate(diff(y(x), x)/sqrt(abs(y(x))), x)
```

```
sage: integrate(sgn(x) - sgn(1-x), x)   # ok                                           
abs(x - 1) + abs(x)
```

```
sage: integrate(1 / (1 + abs(x-5)), x, -5, 6)     # ok                                 
log(11) + log(2)
```

```
sage: integrate(1/(1 + abs(x)), x)   # ok                                           
log(abs(x*sgn(x) + 1))/sgn(x)
```

```
sage: integrate(cos(x + abs(x)), x)      # ok                                       
sin(x*sgn(x) + x)/(sgn(x) + 1)
```

```
sage: integrate(sqrt(x + sqrt(x)), x).canonicalize_radical()      # ok              
1/12*(8*x + 2*sqrt(x) - 3)*sqrt(x + sqrt(x)) - 1/8*log(abs(2*sqrt(x + sqrt(x)) - 2*sqrt(x) - 1))
```

```
sage: integrate(abs(x^2 - 1), x, -2, 2) # ok                      
4
```

```
sage: f = sqrt(x + 1/x^2)
sage: integral(f, x)  # to be checked
2/3*sqrt(x^3 + 1) - 1/3*log(sqrt(x^3 + 1) + 1) + 1/3*log(sqrt(x^3 + 1) - 1)
```

```
sage: f1(x) = e^(-abs(x))
sage: f = Piecewise([[(-infinity, infinity), f1]])
sage: f.integral(definite=True)  # ok
2
sage: f.integral()
Piecewise defined function with 1 parts, [[(-Infinity, +Infinity), x |--> -1/2*((sgn(x) - 1)*e^(2*x) - 2*e^x*sgn(x) + sgn(x) + 1)*e^(-x) - 1]]
```

Also, these have their own tickets:
* `integrate(x * sgn(x^2 - 1/4), x, -1, 0)` (#11590)
* `integral(log(abs(2*sin(u))), u, 0, pi/3)` (#17468)
* `integrate(abs(cos(x)),x,0,pi)` (#17511)

CC:  @kcrisman

Keywords: integration

Status: new

Issue created by migration from https://trac.sagemath.org/ticket/17910





---

archive/issue_events_051013.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-07T15:56:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17910",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17910#event-51013"
}
```



---

archive/issue_comments_235936.json:
```json
{
    "body": "<a id='comment:4'></a>Never *remove* doctests, mark them as `# known bug`.",
    "created_at": "2015-06-17T16:57:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17910#issuecomment-235936",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>Never *remove* doctests, mark them as `# known bug`.



---

archive/issue_comments_235937.json:
```json
{
    "body": "Changing keywords from \"\" to \"abs_integrate\".",
    "created_at": "2019-05-17T17:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17910#issuecomment-235937",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "abs_integrate".



---

archive/issue_comments_235938.json:
```json
{
    "body": "<a id='comment:6'></a>**EDIT**: 6 out of the first seven are working after #27958 (and none without)",
    "created_at": "2019-06-09T08:30:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17910#issuecomment-235938",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>**EDIT**: 6 out of the first seven are working after #27958 (and none without)



---

archive/issue_comments_235939.json:
```json
{
    "body": "<a id='comment:7'></a>This one hangs in giac:\n\n```\nintegrate(sqrt(x + sqrt(x)), x)\n```",
    "created_at": "2019-06-11T14:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17910#issuecomment-235939",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>This one hangs in giac:

```
integrate(sqrt(x + sqrt(x)), x)
```



---

archive/issue_comments_235940.json:
```json
{
    "body": "Changing keywords from \"abs_integrate\" to \"integration\".",
    "created_at": "2021-08-28T19:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17910#issuecomment-235940",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "abs_integrate" to "integration".
