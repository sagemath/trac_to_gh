# Issue 17594: iOA of type OA(k,n)-OA(k,u)-2.OA(k,1)

archive/issues_017357.json:
```json
{
    "body": "This branch extends a previous case that only worked for three holes of size 1.\n\nThe algorithm is greedy but the implementation is a bit painful `:-/`\n\nNathann\n\nCC:  @videlec\n\nBranch/Commit: 59348453411d449eb4249af0fdd91eda8e5b2067\n\nReviewer: Vincent Delecroix\n\nAuthor: Nathann Cohen\n\nDependencies: #17149\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17594\n\n",
    "closed_at": "2015-01-15T08:41:43Z",
    "created_at": "2015-01-07T21:07:17Z",
    "labels": [
        "component: combinatorial designs"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "iOA of type OA(k,n)-OA(k,u)-2.OA(k,1)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17594",
    "user": "https://github.com/nathanncohen"
}
```
This branch extends a previous case that only worked for three holes of size 1.

The algorithm is greedy but the implementation is a bit painful `:-/`

Nathann

CC:  @videlec

Branch/Commit: 59348453411d449eb4249af0fdd91eda8e5b2067

Reviewer: Vincent Delecroix

Author: Nathann Cohen

Dependencies: #17149

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17594





---

archive/issue_comments_299825.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-01-07T21:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299825",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_299826.json:
```json
{
    "body": "Changing branch from \"\" to \"public/17594\"",
    "created_at": "2015-01-07T21:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299826",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "public/17594"



---

archive/issue_comments_299827.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorial designs.",
    "created_at": "2015-01-07T21:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299827",
    "user": "https://github.com/nathanncohen"
}
```

Changing component from PLEASE CHANGE to combinatorial designs.



---

archive/issue_comments_299828.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-01-07T21:08:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299828",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299829.json:
```json
{
    "body": "Changing commit from \"\" to \"e4d1622211e7d754a30fe5ea8d31928889aeb5c0\"",
    "created_at": "2015-01-07T21:08:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299829",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "e4d1622211e7d754a30fe5ea8d31928889aeb5c0"



---

archive/issue_comments_299830.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-01-07T21:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299830",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299831.json:
```json
{
    "body": "Changing commit from \"e4d1622211e7d754a30fe5ea8d31928889aeb5c0\" to \"cfd71714db12f963d3b5d9c49460bbb45068c00a\"",
    "created_at": "2015-01-07T21:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299831",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e4d1622211e7d754a30fe5ea8d31928889aeb5c0" to "cfd71714db12f963d3b5d9c49460bbb45068c00a"



---

archive/issue_comments_299832.json:
```json
{
    "body": "<a id='comment:5'></a>\n```\nError building the documentation.\nTraceback (most recent call last):\n...\nOSError: [combinat ] sage/combinat/designs/orthogonal_arrays.py:docstring of sage.combinat.designs.orthogonal_arrays.OAMainFunctions.is_available:6: WARNING: Block quote ends without a blank line; unexpected unindent.\n```",
    "created_at": "2015-01-14T16:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299832",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
```
Error building the documentation.
Traceback (most recent call last):
...
OSError: [combinat ] sage/combinat/designs/orthogonal_arrays.py:docstring of sage.combinat.designs.orthogonal_arrays.OAMainFunctions.is_available:6: WARNING: Block quote ends without a blank line; unexpected unindent.
```



---

archive/issue_comments_299833.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-01-14T16:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299833",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_299834.json:
```json
{
    "body": "<a id='comment:6'></a>I found the pb (there was an unexpected \"x\" at the begining of a line!!). I am on it.\n\nVincent",
    "created_at": "2015-01-14T17:13:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299834",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>I found the pb (there was an unexpected "x" at the begining of a line!!). I am on it.

Vincent



---

archive/issue_comments_299835.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-01-14T17:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299835",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299836.json:
```json
{
    "body": "Changing commit from \"cfd71714db12f963d3b5d9c49460bbb45068c00a\" to \"311cd172c2cd1bdc90449f1f01931530b3f523b9\"",
    "created_at": "2015-01-14T17:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299836",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cfd71714db12f963d3b5d9c49460bbb45068c00a" to "311cd172c2cd1bdc90449f1f01931530b3f523b9"



---

archive/issue_comments_299837.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-01-14T17:26:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299837",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_299838.json:
```json
{
    "body": "<a id='comment:8'></a>Hello Nathann,\n\nIt seems to work but we do have very few examples of `OA(k,n) - OA(k,u)`, right?\n\n```\nsage: for n in range(2,1000):\n....:     if designs.incomplete_orthogonal_array(4,n,[2],existence=True):\n....:         print n\n9\n```\n\nVincent",
    "created_at": "2015-01-14T17:26:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299838",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>Hello Nathann,

It seems to work but we do have very few examples of `OA(k,n) - OA(k,u)`, right?

```
sage: for n in range(2,1000):
....:     if designs.incomplete_orthogonal_array(4,n,[2],existence=True):
....:         print n
9
```

Vincent



---

archive/issue_comments_299839.json:
```json
{
    "body": "<a id='comment:9'></a>Hello !\n\nSorry for this 'x': actually, I already fixed that in this ticket's dependency #17149 (it is closed but not yet in a beta)\n\n> It seems to work but we do have very few examples of `OA(k,n) - OA(k,u)`, right?\n> \n> ```\n> sage: for n in range(2,1000):\n> ....:     if designs.incomplete_orthogonal_array(4,n,[2],existence=True):\n> ....:         print n\n> 9\n> ```\n\n\nWith this code you only test `OA(k,n)-OA(k,2)`. Try this:\n\n```\nsage: for i in range(2,1000):\n....:     for j in range(2,i):\n....:         if designs.incomplete_orthogonal_array(4,i,[j],existence=True):\n....:             print \"OA({},{})-OA({},{})\".format(4,i,4,j)\n....:             \nOA(4,9)-OA(4,2)\nOA(4,16)-OA(4,3)\nOA(4,17)-OA(4,4)\nOA(4,25)-OA(4,6)\nOA(4,26)-OA(4,5)\nOA(4,30)-OA(4,5)\nOA(4,36)-OA(4,5)\nOA(4,36)-OA(4,7)\nOA(4,37)-OA(4,6)\nOA(4,41)-OA(4,10)\nOA(4,42)-OA(4,7)\n...\n```\n\nIf you have a hole of size 3 in an OA, you do not necessarily have a hole of size 2. It's not a `-2.OA(k,1)`, it's a `-OA(k,2)`!\n\nNathann",
    "created_at": "2015-01-14T18:44:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299839",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>Hello !

Sorry for this 'x': actually, I already fixed that in this ticket's dependency #17149 (it is closed but not yet in a beta)

> It seems to work but we do have very few examples of `OA(k,n) - OA(k,u)`, right?
> 
> ```
> sage: for n in range(2,1000):
> ....:     if designs.incomplete_orthogonal_array(4,n,[2],existence=True):
> ....:         print n
> 9
> ```


With this code you only test `OA(k,n)-OA(k,2)`. Try this:

```
sage: for i in range(2,1000):
....:     for j in range(2,i):
....:         if designs.incomplete_orthogonal_array(4,i,[j],existence=True):
....:             print "OA({},{})-OA({},{})".format(4,i,4,j)
....:             
OA(4,9)-OA(4,2)
OA(4,16)-OA(4,3)
OA(4,17)-OA(4,4)
OA(4,25)-OA(4,6)
OA(4,26)-OA(4,5)
OA(4,30)-OA(4,5)
OA(4,36)-OA(4,5)
OA(4,36)-OA(4,7)
OA(4,37)-OA(4,6)
OA(4,41)-OA(4,10)
OA(4,42)-OA(4,7)
...
```

If you have a hole of size 3 in an OA, you do not necessarily have a hole of size 2. It's not a `-2.OA(k,1)`, it's a `-OA(k,2)`!

Nathann



---

archive/issue_comments_299840.json:
```json
{
    "body": "<a id='comment:10'></a>Ahahahah. I am ashamed. Yeah, your code is much simpler `:-P`",
    "created_at": "2015-01-14T18:48:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299840",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>Ahahahah. I am ashamed. Yeah, your code is much simpler `:-P`



---

archive/issue_comments_299841.json:
```json
{
    "body": "<a id='comment:11'></a>Do we get this in ? I see nothing wrong with your commit, so if mine is fine for you ?...\n\nNathann",
    "created_at": "2015-01-14T18:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299841",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>Do we get this in ? I see nothing wrong with your commit, so if mine is fine for you ?...

Nathann



---

archive/issue_comments_299842.json:
```json
{
    "body": "<a id='comment:12'></a>It is ok for me.\n\nNo conflict to expect with #17149?\n\nVincent",
    "created_at": "2015-01-14T21:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299842",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'></a>It is ok for me.

No conflict to expect with #17149?

Vincent



---

archive/issue_comments_299843.json:
```json
{
    "body": "Changing commit from \"311cd172c2cd1bdc90449f1f01931530b3f523b9\" to \"59348453411d449eb4249af0fdd91eda8e5b2067\"",
    "created_at": "2015-01-14T21:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299843",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "311cd172c2cd1bdc90449f1f01931530b3f523b9" to "59348453411d449eb4249af0fdd91eda8e5b2067"



---

archive/issue_comments_299844.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-01-14T21:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299844",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_299845.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2015-01-14T21:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299845",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_299846.json:
```json
{
    "body": "<a id='comment:14'></a>... no more conflicts ;-)",
    "created_at": "2015-01-14T21:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299846",
    "user": "https://github.com/videlec"
}
```

<a id='comment:14'></a>... no more conflicts ;-)



---

archive/issue_comments_299847.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-01-14T21:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299847",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_299848.json:
```json
{
    "body": "<a id='comment:15'></a>Rebasing is so cool. Thanks for the review!\n\nNathann",
    "created_at": "2015-01-15T02:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299848",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>Rebasing is so cool. Thanks for the review!

Nathann



---

archive/issue_comments_299849.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-01-15T08:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299849",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_050463.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-15T08:41:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17594#event-50463"
}
```



---

archive/issue_comments_299850.json:
```json
{
    "body": "Changing branch from \"public/17594\" to \"59348453411d449eb4249af0fdd91eda8e5b2067\"",
    "created_at": "2015-01-15T08:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17594#issuecomment-299850",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/17594" to "59348453411d449eb4249af0fdd91eda8e5b2067"
