# Issue 17330: Take in the module OEIS the keyword 'dead' of sequences into account.

archive/issues_017093.json:
```json
{
    "body": "OEIS functions should simply ignore sequences with the \nkeyword 'dead'. At least they should not attempt to return\nterms of these sequences.\n\nFor example the sequence A000017 https://oeis.org/A000017 \nis 'dead', what means it has errors in the data and was \nreplaced by another version. It is policy of the OEIS to \nkeep such sequences so they can be found in the case they\nare referenced in the literature. \n\nAs it is now oeis(17).first_terms(12) throws the TypeError: \nYou found a sign inconsistency, please contact OEIS\n\n\n**CC:**  @mo271\n\n**Keywords:** OEIS\n\n**Branch/Commit:** [d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2](https://github.com/sagemath/sagetrac-mirror/commit/d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2)\n\n**Reviewer:** Vincent Delecroix\n\n**Author:** Moritz Firsching\n\nIssue created by migration from https://trac.sagemath.org/ticket/17330\n\n",
    "closed_at": "2016-03-26T11:30:59Z",
    "created_at": "2014-11-12T23:55:14Z",
    "labels": [
        "component: misc",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Take in the module OEIS the keyword 'dead' of sequences into account.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17330",
    "user": "https://github.com/PeterLuschny"
}
```
OEIS functions should simply ignore sequences with the 
keyword 'dead'. At least they should not attempt to return
terms of these sequences.

For example the sequence A000017 https://oeis.org/A000017 
is 'dead', what means it has errors in the data and was 
replaced by another version. It is policy of the OEIS to 
keep such sequences so they can be found in the case they
are referenced in the literature. 

As it is now oeis(17).first_terms(12) throws the TypeError: 
You found a sign inconsistency, please contact OEIS


**CC:**  @mo271

**Keywords:** OEIS

**Branch/Commit:** [d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2](https://github.com/sagemath/sagetrac-mirror/commit/d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2)

**Reviewer:** Vincent Delecroix

**Author:** Moritz Firsching

Issue created by migration from https://trac.sagemath.org/ticket/17330





---

archive/issue_comments_235670.json:
```json
{
    "body": "**Commit:** [8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d](https://github.com/sagemath/sagetrac-mirror/commit/8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d)",
    "created_at": "2016-03-22T19:54:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235670",
    "user": "https://github.com/mo271"
}
```

**Commit:** [8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d](https://github.com/sagemath/sagetrac-mirror/commit/8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d)



---

archive/issue_comments_235671.json:
```json
{
    "body": "**Branch:** [u/moritz/ticket/17330](https://github.com/sagemath/sagetrac-mirror/tree/u/moritz/ticket/17330)",
    "created_at": "2016-03-22T19:54:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235671",
    "user": "https://github.com/mo271"
}
```

**Branch:** [u/moritz/ticket/17330](https://github.com/sagemath/sagetrac-mirror/tree/u/moritz/ticket/17330)



---

archive/issue_comments_235672.json:
```json
{
    "body": "<a id='comment:1'></a>\nHere is how this could be fixed (see git branch).\n\nWhen doctesting this, I noticed the another bug:\n\n```\n**********************************************************************\nFile \"src/sage/databases/oeis.py\", line 845, in sage.databases.oeis.OEISSequence.keywords\nFailed example:\n    f.keywords()                          # optional -- internet\nExpected:\n    ('core', 'nonn', 'nice', 'easy', 'hear')\nGot:\n    ('core', 'nonn', 'nice', 'easy', 'hear', 'changed')\n**********************************************************************\n```\nThis is due to the fact that the keyword 'changed' is temporarily added, so this would go away after a while. I propose to change that example to a sequence that is not altered as often as the Fibonacci numbers (see commit)\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d\">8ea4b1a</a></td><td><code>first try to fix 17330</code></td></tr></table>\n",
    "created_at": "2016-03-22T19:54:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235672",
    "user": "https://github.com/mo271"
}
```

<a id='comment:1'></a>
Here is how this could be fixed (see git branch).

When doctesting this, I noticed the another bug:

```
**********************************************************************
File "src/sage/databases/oeis.py", line 845, in sage.databases.oeis.OEISSequence.keywords
Failed example:
    f.keywords()                          # optional -- internet
Expected:
    ('core', 'nonn', 'nice', 'easy', 'hear')
Got:
    ('core', 'nonn', 'nice', 'easy', 'hear', 'changed')
**********************************************************************
```
This is due to the fact that the keyword 'changed' is temporarily added, so this would go away after a while. I propose to change that example to a sequence that is not altered as often as the Fibonacci numbers (see commit)

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d">8ea4b1a</a></td><td><code>first try to fix 17330</code></td></tr></table>




---

archive/issue_events_158699.json:
```json
{
    "actor": "https://github.com/mo271",
    "created_at": "2016-03-22T19:55:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17330#event-158699"
}
```



---

archive/issue_comments_235673.json:
```json
{
    "body": "**Changing commit** from \"[8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d](https://github.com/sagemath/sagetrac-mirror/commit/8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d)\" to \"[10c15fcd72e4dfe044e8bdc6112e00c160eb6faa](https://github.com/sagemath/sagetrac-mirror/commit/10c15fcd72e4dfe044e8bdc6112e00c160eb6faa)\".",
    "created_at": "2016-03-22T19:58:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235673",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d](https://github.com/sagemath/sagetrac-mirror/commit/8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d)" to "[10c15fcd72e4dfe044e8bdc6112e00c160eb6faa](https://github.com/sagemath/sagetrac-mirror/commit/10c15fcd72e4dfe044e8bdc6112e00c160eb6faa)".



---

archive/issue_comments_235674.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10c15fcd72e4dfe044e8bdc6112e00c160eb6faa\">10c15fc</a></td><td><code>second try to fix 17330</code></td></tr></table>\n",
    "created_at": "2016-03-22T19:58:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235674",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10c15fcd72e4dfe044e8bdc6112e00c160eb6faa">10c15fc</a></td><td><code>second try to fix 17330</code></td></tr></table>




---

archive/issue_events_158700.json:
```json
{
    "actor": "https://github.com/mo271",
    "created_at": "2016-03-22T20:03:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17330#event-158700"
}
```



---

archive/issue_events_158701.json:
```json
{
    "actor": "https://github.com/mo271",
    "created_at": "2016-03-22T20:03:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17330#event-158701"
}
```



---

archive/issue_comments_235675.json:
```json
{
    "body": "<a id='comment:5'></a>\nYou should put your full name in the \"Authors\" field.",
    "created_at": "2016-03-23T13:29:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235675",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
You should put your full name in the "Authors" field.



---

archive/issue_comments_235676.json:
```json
{
    "body": "**Author:** Moritz Firsching",
    "created_at": "2016-03-23T13:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235676",
    "user": "https://github.com/mo271"
}
```

**Author:** Moritz Firsching



---

archive/issue_comments_235677.json:
```json
{
    "body": "<a id='comment:6'></a>\ndone",
    "created_at": "2016-03-23T13:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235677",
    "user": "https://github.com/mo271"
}
```

<a id='comment:6'></a>
done



---

archive/issue_events_158702.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-03-23T14:02:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17330#event-158702"
}
```



---

archive/issue_events_158703.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-03-23T14:02:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17330#event-158703"
}
```



---

archive/issue_comments_235678.json:
```json
{
    "body": "<a id='comment:7'></a>\nThe patch provided does not do what is in the description. Namely the dead sequences are not ignored!\n\nI would add an explicit error message like\n\n```\nsage: oeis(17)\nTraceback (most recent call last):\n...\nValueError: this sequence is dead \"A000017: Erroneous version of A032522.\"\n```\nPossibly, you could add an option to get it even if it is dead\n\n```\nsage: oeis(17, force=True)\nA000017: Erroneous version of A032522.\n```",
    "created_at": "2016-03-23T14:02:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235678",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>
The patch provided does not do what is in the description. Namely the dead sequences are not ignored!

I would add an explicit error message like

```
sage: oeis(17)
Traceback (most recent call last):
...
ValueError: this sequence is dead "A000017: Erroneous version of A032522."
```
Possibly, you could add an option to get it even if it is dead

```
sage: oeis(17, force=True)
A000017: Erroneous version of A032522.
```



---

archive/issue_comments_235679.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2\">d416ecc</a></td><td><code>adding a warning</code></td></tr></table>\n",
    "created_at": "2016-03-23T14:49:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235679",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2">d416ecc</a></td><td><code>adding a warning</code></td></tr></table>




---

archive/issue_comments_235680.json:
```json
{
    "body": "**Changing commit** from \"[10c15fcd72e4dfe044e8bdc6112e00c160eb6faa](https://github.com/sagemath/sagetrac-mirror/commit/10c15fcd72e4dfe044e8bdc6112e00c160eb6faa)\" to \"[d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2](https://github.com/sagemath/sagetrac-mirror/commit/d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2)\".",
    "created_at": "2016-03-23T14:49:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235680",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[10c15fcd72e4dfe044e8bdc6112e00c160eb6faa](https://github.com/sagemath/sagetrac-mirror/commit/10c15fcd72e4dfe044e8bdc6112e00c160eb6faa)" to "[d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2](https://github.com/sagemath/sagetrac-mirror/commit/d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2)".



---

archive/issue_events_158704.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-03-23T14:51:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17330#event-158704"
}
```



---

archive/issue_events_158705.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-03-23T14:51:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17330#event-158705"
}
```



---

archive/issue_comments_235681.json:
```json
{
    "body": "<a id='comment:9'></a>\nBetter!",
    "created_at": "2016-03-23T14:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235681",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>
Better!



---

archive/issue_comments_235682.json:
```json
{
    "body": "**Reviewer:** Vincent Delecroix",
    "created_at": "2016-03-23T14:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235682",
    "user": "https://github.com/videlec"
}
```

**Reviewer:** Vincent Delecroix



---

archive/issue_comments_235683.json:
```json
{
    "body": "**Changing reviewer** from \"Vincent Delecroix\" to \"\".",
    "created_at": "2016-03-23T14:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235683",
    "user": "https://github.com/mo271"
}
```

**Changing reviewer** from "Vincent Delecroix" to "".



---

archive/issue_comments_235684.json:
```json
{
    "body": "<a id='comment:10'></a>\nPerhaps throwing an error is too much? I just pushed a version where you have a warning..",
    "created_at": "2016-03-23T14:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235684",
    "user": "https://github.com/mo271"
}
```

<a id='comment:10'></a>
Perhaps throwing an error is too much? I just pushed a version where you have a warning..



---

archive/issue_comments_235685.json:
```json
{
    "body": "**Reviewer:** Vincent Delecroix",
    "created_at": "2016-03-23T14:54:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235685",
    "user": "https://github.com/videlec"
}
```

**Reviewer:** Vincent Delecroix



---

archive/issue_comments_235686.json:
```json
{
    "body": "<a id='comment:11'></a>\nyeap. this is fine. (I rewrote my name as a reviewer)",
    "created_at": "2016-03-23T14:54:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235686",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
yeap. this is fine. (I rewrote my name as a reviewer)



---

archive/issue_comments_235687.json:
```json
{
    "body": "**Changing branch** from \"[u/moritz/ticket/17330](https://github.com/sagemath/sagetrac-mirror/tree/u/moritz/ticket/17330)\" to \"[d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2](https://github.com/sagemath/sagetrac-mirror/commit/d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2)\".",
    "created_at": "2016-03-26T11:30:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-235687",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/moritz/ticket/17330](https://github.com/sagemath/sagetrac-mirror/tree/u/moritz/ticket/17330)" to "[d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2](https://github.com/sagemath/sagetrac-mirror/commit/d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2)".



---

archive/issue_events_158706.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-26T11:30:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17330#event-158706"
}
```



---

archive/issue_events_158707.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-26T11:30:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17330#event-158707"
}
```
