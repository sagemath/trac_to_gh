# Issue 17330: Take in the module OEIS the keyword 'dead' of sequences into account.

archive/issues_017093.json:
```json
{
    "body": "OEIS functions should simply ignore sequences with the \nkeyword 'dead'. At least they should not attempt to return\nterms of these sequences.\n\nFor example the sequence A000017 https://oeis.org/A000017 \nis 'dead', what means it has errors in the data and was \nreplaced by another version. It is policy of the OEIS to \nkeep such sequences so they can be found in the case they\nare referenced in the literature. \n\nAs it is now oeis(17).first_terms(12) throws the TypeError: \nYou found a sign inconsistency, please contact OEIS\n\n\nCC:  @mo271\n\nKeywords: OEIS\n\nBranch/Commit: d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2\n\nReviewer: Vincent Delecroix\n\nAuthor: Moritz Firsching\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17330\n\n",
    "closed_at": "2016-03-26T11:30:59Z",
    "created_at": "2014-11-12T23:55:14Z",
    "labels": [
        "component: misc",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Take in the module OEIS the keyword 'dead' of sequences into account.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17330",
    "user": "https://github.com/PeterLuschny"
}
```
OEIS functions should simply ignore sequences with the 
keyword 'dead'. At least they should not attempt to return
terms of these sequences.

For example the sequence A000017 https://oeis.org/A000017 
is 'dead', what means it has errors in the data and was 
replaced by another version. It is policy of the OEIS to 
keep such sequences so they can be found in the case they
are referenced in the literature. 

As it is now oeis(17).first_terms(12) throws the TypeError: 
You found a sign inconsistency, please contact OEIS


CC:  @mo271

Keywords: OEIS

Branch/Commit: d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2

Reviewer: Vincent Delecroix

Author: Moritz Firsching

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17330





---

archive/issue_comments_290009.json:
```json
{
    "body": "Changing commit from \"\" to \"8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d\"",
    "created_at": "2016-03-22T19:54:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290009",
    "user": "https://github.com/mo271"
}
```

Changing commit from "" to "8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d"



---

archive/issue_comments_290010.json:
```json
{
    "body": "Changing branch from \"\" to \"u/moritz/ticket/17330\"",
    "created_at": "2016-03-22T19:54:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290010",
    "user": "https://github.com/mo271"
}
```

Changing branch from "" to "u/moritz/ticket/17330"



---

archive/issue_comments_290011.json:
```json
{
    "body": "<a id='comment:1'></a>\nHere is how this could be fixed (see git branch).\n\nWhen doctesting this, I noticed the another bug:\n\n```\n**********************************************************************\nFile \"src/sage/databases/oeis.py\", line 845, in sage.databases.oeis.OEISSequence.keywords\nFailed example:\n    f.keywords()                          # optional -- internet\nExpected:\n    ('core', 'nonn', 'nice', 'easy', 'hear')\nGot:\n    ('core', 'nonn', 'nice', 'easy', 'hear', 'changed')\n**********************************************************************\n```\nThis is due to the fact that the keyword 'changed' is temporarily added, so this would go away after a while. I propose to change that example to a sequence that is not altered as often as the Fibonacci numbers (see commit)\n\n---\nNew commits:\n|                                                                                                                                          |                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|\n|[8ea4b1a](https://github.com/sagemath/sagetrac-mirror/commit/8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d)|`first try to fix 17330`|",
    "created_at": "2016-03-22T19:54:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290011",
    "user": "https://github.com/mo271"
}
```

<a id='comment:1'></a>
Here is how this could be fixed (see git branch).

When doctesting this, I noticed the another bug:

```
**********************************************************************
File "src/sage/databases/oeis.py", line 845, in sage.databases.oeis.OEISSequence.keywords
Failed example:
    f.keywords()                          # optional -- internet
Expected:
    ('core', 'nonn', 'nice', 'easy', 'hear')
Got:
    ('core', 'nonn', 'nice', 'easy', 'hear', 'changed')
**********************************************************************
```
This is due to the fact that the keyword 'changed' is temporarily added, so this would go away after a while. I propose to change that example to a sequence that is not altered as often as the Fibonacci numbers (see commit)

---
New commits:
|                                                                                                                                          |                        |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
|[8ea4b1a](https://github.com/sagemath/sagetrac-mirror/commit/8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d)|`first try to fix 17330`|



---

archive/issue_comments_290012.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-03-22T19:55:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290012",
    "user": "https://github.com/mo271"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_290013.json:
```json
{
    "body": "Changing commit from \"8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d\" to \"10c15fcd72e4dfe044e8bdc6112e00c160eb6faa\"",
    "created_at": "2016-03-22T19:58:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290013",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8ea4b1a1c8c29d8221e9a5d486ccc1f2c433271d" to "10c15fcd72e4dfe044e8bdc6112e00c160eb6faa"



---

archive/issue_comments_290014.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[10c15fc](https://github.com/sagemath/sagetrac-mirror/commit/10c15fcd72e4dfe044e8bdc6112e00c160eb6faa)|`second try to fix 17330`|",
    "created_at": "2016-03-22T19:58:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290014",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[10c15fc](https://github.com/sagemath/sagetrac-mirror/commit/10c15fcd72e4dfe044e8bdc6112e00c160eb6faa)|`second try to fix 17330`|



---

archive/issue_events_064669.json:
```json
{
    "actor": "https://github.com/mo271",
    "created_at": "2016-03-22T20:03:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17330#event-64669"
}
```



---

archive/issue_comments_290015.json:
```json
{
    "body": "<a id='comment:5'></a>\nYou should put your full name in the \"Authors\" field.",
    "created_at": "2016-03-23T13:29:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290015",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
You should put your full name in the "Authors" field.



---

archive/issue_comments_290016.json:
```json
{
    "body": "Changing author from \"\" to \"Moritz Firsching\"",
    "created_at": "2016-03-23T13:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290016",
    "user": "https://github.com/mo271"
}
```

Changing author from "" to "Moritz Firsching"



---

archive/issue_comments_290017.json:
```json
{
    "body": "<a id='comment:6'></a>\ndone",
    "created_at": "2016-03-23T13:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290017",
    "user": "https://github.com/mo271"
}
```

<a id='comment:6'></a>
done



---

archive/issue_comments_290018.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2016-03-23T14:02:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290018",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_290019.json:
```json
{
    "body": "<a id='comment:7'></a>\nThe patch provided does not do what is in the description. Namely the dead sequences are not ignored!\n\nI would add an explicit error message like\n\n```\nsage: oeis(17)\nTraceback (most recent call last):\n...\nValueError: this sequence is dead \"A000017: Erroneous version of A032522.\"\n```\nPossibly, you could add an option to get it even if it is dead\n\n```\nsage: oeis(17, force=True)\nA000017: Erroneous version of A032522.\n```",
    "created_at": "2016-03-23T14:02:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290019",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>
The patch provided does not do what is in the description. Namely the dead sequences are not ignored!

I would add an explicit error message like

```
sage: oeis(17)
Traceback (most recent call last):
...
ValueError: this sequence is dead "A000017: Erroneous version of A032522."
```
Possibly, you could add an option to get it even if it is dead

```
sage: oeis(17, force=True)
A000017: Erroneous version of A032522.
```



---

archive/issue_comments_290020.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[d416ecc](https://github.com/sagemath/sagetrac-mirror/commit/d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2)|`adding a warning`|",
    "created_at": "2016-03-23T14:49:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290020",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[d416ecc](https://github.com/sagemath/sagetrac-mirror/commit/d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2)|`adding a warning`|



---

archive/issue_comments_290021.json:
```json
{
    "body": "Changing commit from \"10c15fcd72e4dfe044e8bdc6112e00c160eb6faa\" to \"d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2\"",
    "created_at": "2016-03-23T14:49:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290021",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "10c15fcd72e4dfe044e8bdc6112e00c160eb6faa" to "d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2"



---

archive/issue_comments_290022.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2016-03-23T14:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290022",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_290023.json:
```json
{
    "body": "<a id='comment:9'></a>\nBetter!",
    "created_at": "2016-03-23T14:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290023",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>
Better!



---

archive/issue_comments_290024.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2016-03-23T14:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290024",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_290025.json:
```json
{
    "body": "Changing reviewer from \"Vincent Delecroix\" to \"\"",
    "created_at": "2016-03-23T14:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290025",
    "user": "https://github.com/mo271"
}
```

Changing reviewer from "Vincent Delecroix" to ""



---

archive/issue_comments_290026.json:
```json
{
    "body": "<a id='comment:10'></a>\nPerhaps throwing an error is too much? I just pushed a version where you have a warning..",
    "created_at": "2016-03-23T14:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290026",
    "user": "https://github.com/mo271"
}
```

<a id='comment:10'></a>
Perhaps throwing an error is too much? I just pushed a version where you have a warning..



---

archive/issue_comments_290027.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2016-03-23T14:54:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290027",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_290028.json:
```json
{
    "body": "<a id='comment:11'></a>\nyeap. this is fine. (I rewrote my name as a reviewer)",
    "created_at": "2016-03-23T14:54:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290028",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
yeap. this is fine. (I rewrote my name as a reviewer)



---

archive/issue_comments_290029.json:
```json
{
    "body": "Changing branch from \"u/moritz/ticket/17330\" to \"d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2\"",
    "created_at": "2016-03-26T11:30:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290029",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/moritz/ticket/17330" to "d416ecc5b115a8b1f00b0290fe0ecf8325b72bc2"



---

archive/issue_comments_290030.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-03-26T11:30:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17330#issuecomment-290030",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_064670.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-26T11:30:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17330",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17330#event-64670"
}
```
