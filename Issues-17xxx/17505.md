# Issue 17505: implement symbolic product

archive/issues_017268.json:
```json
{
    "assignees": [],
    "body": "The symbolic product is currently broken in Sage :\n* It cannot be created in Sage :\n\n```\nsage: var(\"j,p\", domain=\"integer\")\nsage: X,Y=function(\"X,Y\")\nsage: prod(X(j),j,1,p)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-5-85e69544cbe9> in <module>()\n----> 1 prod(X(j),j,Integer(1),p)\n\n/usr/local/sage-8/src/sage/misc/misc_c.pyx in sage.misc.misc_c.prod (/usr/local/sage-8/src/build/cythonized/sage/misc/misc_c.c:1596)()\n     69 \n     70 \n---> 71 def prod(x, z=None, Py_ssize_t recursion_cutoff=5):\n     72     \"\"\"\n     73     Return the product of the elements in the list x.\n\nTypeError: prod() takes at most 3 positional arguments (4 given)\nsage: product(X(j),j,1,p)\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\n<ipython-input-6-4d04d74c7489> in <module>()\n----> 1 product(X(j),j,Integer(1),p)\n\nNameError: name 'product' is not defined\n```\n\nAt the moment anonymous functions named `product` can be created via the Maxima `pexpect` interface and they even behave as products in specific cases:\n\n```\nsage: maxima(\"prod(X(j),j,1,p)\").sage().log().log_expand()\nsum(log(X(j)), j, 1, p)\n```\n\nThe present ticket aims at creating a Sage function/method either evaluating the sum, or correctly creating a unevaluted symbolic product object.\n\nFor evaluation the ticket would have to decide which of (Maxima,SymPy) would be used as default for this. \n\n```\nsage: import sympy\nsage: x = sympy.Symbol('x')\nsage: n = sympy.Symbol('n')\nsage: sympy.product(x, (x, 1, n))\nfactorial(n)\nsage: sympy.product(sin(x), (x, 1, n))\nProduct(sin(x), (x, 1, n))\n```\n\nCreating products by casting a Maxima expression via the library interface gives nonsense, see #17502.\n\n\nCC:  @EmmanuelCharpentier\n\nBranch/Commit: **[u/rws/implement_symbolic_product](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/implement_symbolic_product) @ [`5779423`](https://github.com/sagemath/sagetrac-mirror/commit/5779423aac340d1d7dc415da287b9af5e0e1f381)**\n\nReviewer: **Emmanuel Charpentier**\n\nAuthor: **Ralf Stephan**\n\nComponent: **symbolics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17505_\n\n",
    "closed_at": "2017-05-13T10:34:26Z",
    "created_at": "2014-12-15T07:20:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "implement symbolic product",
    "type": "issue",
    "updated_at": "2017-05-13T10:34:26Z",
    "url": "https://github.com/sagemath/sage/issues/17505",
    "user": "https://github.com/rwst"
}
```
The symbolic product is currently broken in Sage :
* It cannot be created in Sage :

```
sage: var("j,p", domain="integer")
sage: X,Y=function("X,Y")
sage: prod(X(j),j,1,p)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-5-85e69544cbe9> in <module>()
----> 1 prod(X(j),j,Integer(1),p)

/usr/local/sage-8/src/sage/misc/misc_c.pyx in sage.misc.misc_c.prod (/usr/local/sage-8/src/build/cythonized/sage/misc/misc_c.c:1596)()
     69 
     70 
---> 71 def prod(x, z=None, Py_ssize_t recursion_cutoff=5):
     72     """
     73     Return the product of the elements in the list x.

TypeError: prod() takes at most 3 positional arguments (4 given)
sage: product(X(j),j,1,p)
---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
<ipython-input-6-4d04d74c7489> in <module>()
----> 1 product(X(j),j,Integer(1),p)

NameError: name 'product' is not defined
```

At the moment anonymous functions named `product` can be created via the Maxima `pexpect` interface and they even behave as products in specific cases:

```
sage: maxima("prod(X(j),j,1,p)").sage().log().log_expand()
sum(log(X(j)), j, 1, p)
```

The present ticket aims at creating a Sage function/method either evaluating the sum, or correctly creating a unevaluted symbolic product object.

For evaluation the ticket would have to decide which of (Maxima,SymPy) would be used as default for this. 

```
sage: import sympy
sage: x = sympy.Symbol('x')
sage: n = sympy.Symbol('n')
sage: sympy.product(x, (x, 1, n))
factorial(n)
sage: sympy.product(sin(x), (x, 1, n))
Product(sin(x), (x, 1, n))
```

Creating products by casting a Maxima expression via the library interface gives nonsense, see #17502.


CC:  @EmmanuelCharpentier

Branch/Commit: **[u/rws/implement_symbolic_product](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/implement_symbolic_product) @ [`5779423`](https://github.com/sagemath/sagetrac-mirror/commit/5779423aac340d1d7dc415da287b9af5e0e1f381)**

Reviewer: **Emmanuel Charpentier**

Author: **Ralf Stephan**

Component: **symbolics**

_Issue created by migration from https://trac.sagemath.org/ticket/17505_





---

archive/issue_events_249507.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-12-15T07:20:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249507"
}
```



---

archive/issue_events_249508.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-12-15T07:20:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249508"
}
```



---

archive/issue_events_249509.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-12-15T07:20:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249509"
}
```



---

archive/issue_events_249510.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-12-15T07:20:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249510"
}
```



---

archive/issue_comments_234703.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,8 @@\n sage: n = sympy.Symbol('n')\n sage: sympy.product(x, (x, 1, n))\n factorial(n)\n+sage: sympy.product(sin(x), (x, 1, n))\n+Product(sin(x), (x, 1, n))\n ```\n \n Any Maxima implementation likely depends on #17502.\n``````\n",
    "created_at": "2014-12-15T07:22:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234703",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,8 @@
 sage: n = sympy.Symbol('n')
 sage: sympy.product(x, (x, 1, n))
 factorial(n)
+sage: sympy.product(sin(x), (x, 1, n))
+Product(sin(x), (x, 1, n))
 ```
 
 Any Maxima implementation likely depends on #17502.
``````




---

archive/issue_events_249511.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-17T13:48:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249511"
}
```



---

archive/issue_events_249512.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-17T13:48:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249512"
}
```



---

archive/issue_comments_234704.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nNote that if #20179 is implemented it has to be adapted when symbolic products are made available.",
    "created_at": "2017-02-22T14:11:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234704",
    "user": "https://github.com/rwst"
}
```

<div id="comment:3" align="right">comment:3</div>

Note that if #20179 is implemented it has to be adapted when symbolic products are made available.



---

archive/issue_comments_234705.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,55 @@\n+The symbolic product is currently broken in Sage :\n+* It cannot be created in Sage :\n+\n+```\n+sage: var(\"j,p\", domain=\"integer\")\n+sage: X,Y=function(\"X,Y\")\n+sage: prod(X(j),j,1,p)\n+---------------------------------------------------------------------------\n+TypeError                                 Traceback (most recent call last)\n+<ipython-input-5-85e69544cbe9> in <module>()\n+----> 1 prod(X(j),j,Integer(1),p)\n+\n+/usr/local/sage-8/src/sage/misc/misc_c.pyx in sage.misc.misc_c.prod (/usr/local/sage-8/src/build/cythonized/sage/misc/misc_c.c:1596)()\n+     69 \n+     70 \n+---> 71 def prod(x, z=None, Py_ssize_t recursion_cutoff=5):\n+     72     \"\"\"\n+     73     Return the product of the elements in the list x.\n+\n+TypeError: prod() takes at most 3 positional arguments (4 given)\n+sage: product(X(j),j,1,p)\n+---------------------------------------------------------------------------\n+NameError                                 Traceback (most recent call last)\n+<ipython-input-6-4d04d74c7489> in <module>()\n+----> 1 product(X(j),j,Integer(1),p)\n+\n+NameError: name 'product' is not defined\n+```\n+* Creatnig it it by casting a Maxima expression via the library interface gives nonsense :\n+\n+```\n+sage: X(j).maxima_methods().prod(j,1,p)\n+X(j)^p\n+sage: X(j).maxima_methods().product(j,1,p)\n+X(j)^p\n+```\n+(Note : similar nonsense also happens with sums :\n+\n+```\n+sage: X(j).maxima_methods().sum(j,1,p)\n+p*X(j)\n+```\n+)\n+* But something (what ?) can be created via the Maxima `pexpect` interface :\n+\n+```\n+sage: maxima(\"prod(X(j),j,1,p)\").sage().log().log_expand()\n+sum(log(X(j)), j, 1, p)\n+```\n+\n+The part of the problem bound to the Maxima library interface is the object of #22920. The present ticket aims at creating a Sage function/method correctly creating a symbolic product object.\n+\n The ticket would have to decide which of (Maxima,SymPy) would be used as default for this. \n \n ```\n``````\n",
    "created_at": "2017-05-02T06:41:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234705",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,55 @@
+The symbolic product is currently broken in Sage :
+* It cannot be created in Sage :
+
+```
+sage: var("j,p", domain="integer")
+sage: X,Y=function("X,Y")
+sage: prod(X(j),j,1,p)
+---------------------------------------------------------------------------
+TypeError                                 Traceback (most recent call last)
+<ipython-input-5-85e69544cbe9> in <module>()
+----> 1 prod(X(j),j,Integer(1),p)
+
+/usr/local/sage-8/src/sage/misc/misc_c.pyx in sage.misc.misc_c.prod (/usr/local/sage-8/src/build/cythonized/sage/misc/misc_c.c:1596)()
+     69 
+     70 
+---> 71 def prod(x, z=None, Py_ssize_t recursion_cutoff=5):
+     72     """
+     73     Return the product of the elements in the list x.
+
+TypeError: prod() takes at most 3 positional arguments (4 given)
+sage: product(X(j),j,1,p)
+---------------------------------------------------------------------------
+NameError                                 Traceback (most recent call last)
+<ipython-input-6-4d04d74c7489> in <module>()
+----> 1 product(X(j),j,Integer(1),p)
+
+NameError: name 'product' is not defined
+```
+* Creatnig it it by casting a Maxima expression via the library interface gives nonsense :
+
+```
+sage: X(j).maxima_methods().prod(j,1,p)
+X(j)^p
+sage: X(j).maxima_methods().product(j,1,p)
+X(j)^p
+```
+(Note : similar nonsense also happens with sums :
+
+```
+sage: X(j).maxima_methods().sum(j,1,p)
+p*X(j)
+```
+)
+* But something (what ?) can be created via the Maxima `pexpect` interface :
+
+```
+sage: maxima("prod(X(j),j,1,p)").sage().log().log_expand()
+sum(log(X(j)), j, 1, p)
+```
+
+The part of the problem bound to the Maxima library interface is the object of #22920. The present ticket aims at creating a Sage function/method correctly creating a symbolic product object.
+
 The ticket would have to decide which of (Maxima,SymPy) would be used as default for this. 
 
 ```
``````




---

archive/issue_comments_234706.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nCut'n paste of the description of #22914 (duplicate ticket), at the request of the present ticket's author.\n\nNote : Couldn't we cut'n'paste the recent code for symbolic sums (#21645) ?",
    "created_at": "2017-05-02T06:41:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234706",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:5" align="right">comment:5</div>

Cut'n paste of the description of #22914 (duplicate ticket), at the request of the present ticket's author.

Note : Couldn't we cut'n'paste the recent code for symbolic sums (#21645) ?



---

archive/issue_comments_234707.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@EmmanuelCharpentier](#comment:5):\n> Note : Couldn't we cut'n'paste the recent code for symbolic sums (#21645) ?\n\nYes, but as you can see with #22844 it may not work 100%.",
    "created_at": "2017-05-02T07:10:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234707",
    "user": "https://github.com/rwst"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@EmmanuelCharpentier](#comment:5):
> Note : Couldn't we cut'n'paste the recent code for symbolic sums (#21645) ?

Yes, but as you can see with #22844 it may not work 100%.



---

archive/issue_comments_234708.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -26,31 +26,17 @@\n \n NameError: name 'product' is not defined\n ```\n-* Creatnig it it by casting a Maxima expression via the library interface gives nonsense :\n \n-```\n-sage: X(j).maxima_methods().prod(j,1,p)\n-X(j)^p\n-sage: X(j).maxima_methods().product(j,1,p)\n-X(j)^p\n-```\n-(Note : similar nonsense also happens with sums :\n-\n-```\n-sage: X(j).maxima_methods().sum(j,1,p)\n-p*X(j)\n-```\n-)\n-* But something (what ?) can be created via the Maxima `pexpect` interface :\n+At the moment anonymous functions named `product` can be created via the Maxima `pexpect` interface and they even behave as products in specific cases:\n \n ```\n sage: maxima(\"prod(X(j),j,1,p)\").sage().log().log_expand()\n sum(log(X(j)), j, 1, p)\n ```\n \n-The part of the problem bound to the Maxima library interface is the object of #22920. The present ticket aims at creating a Sage function/method correctly creating a symbolic product object.\n+The present ticket aims at creating a Sage function/method either evaluating the sum, or correctly creating a unevaluted symbolic product object.\n \n-The ticket would have to decide which of (Maxima,SymPy) would be used as default for this. \n+For evaluation the ticket would have to decide which of (Maxima,SymPy) would be used as default for this. \n \n ```\n sage: import sympy\n@@ -62,4 +48,5 @@\n Product(sin(x), (x, 1, n))\n ```\n \n-Any Maxima implementation likely depends on #17502.\n+Creating products by casting a Maxima expression via the library interface gives nonsense, see #17502.\n+\n``````\n",
    "created_at": "2017-05-05T07:19:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234708",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -26,31 +26,17 @@
 
 NameError: name 'product' is not defined
 ```
-* Creatnig it it by casting a Maxima expression via the library interface gives nonsense :
 
-```
-sage: X(j).maxima_methods().prod(j,1,p)
-X(j)^p
-sage: X(j).maxima_methods().product(j,1,p)
-X(j)^p
-```
-(Note : similar nonsense also happens with sums :
-
-```
-sage: X(j).maxima_methods().sum(j,1,p)
-p*X(j)
-```
-)
-* But something (what ?) can be created via the Maxima `pexpect` interface :
+At the moment anonymous functions named `product` can be created via the Maxima `pexpect` interface and they even behave as products in specific cases:
 
 ```
 sage: maxima("prod(X(j),j,1,p)").sage().log().log_expand()
 sum(log(X(j)), j, 1, p)
 ```
 
-The part of the problem bound to the Maxima library interface is the object of #22920. The present ticket aims at creating a Sage function/method correctly creating a symbolic product object.
+The present ticket aims at creating a Sage function/method either evaluating the sum, or correctly creating a unevaluted symbolic product object.
 
-The ticket would have to decide which of (Maxima,SymPy) would be used as default for this. 
+For evaluation the ticket would have to decide which of (Maxima,SymPy) would be used as default for this. 
 
 ```
 sage: import sympy
@@ -62,4 +48,5 @@
 Product(sin(x), (x, 1, n))
 ```
 
-Any Maxima implementation likely depends on #17502.
+Creating products by casting a Maxima expression via the library interface gives nonsense, see #17502.
+
``````




---

archive/issue_events_249513.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-05T07:19:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249513"
}
```



---

archive/issue_events_249514.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-05T07:19:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249514"
}
```



---

archive/issue_comments_234709.json:
```json
{
    "body": "Branch: **[u/rws/implement_symbolic_product](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/implement_symbolic_product)**",
    "created_at": "2017-05-05T08:45:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234709",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/implement_symbolic_product](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/implement_symbolic_product)**



---

archive/issue_comments_234710.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\ndo you mind adding `giac='product'` ? \n\nsince:\n\n```\nsage: giac('product(x, x, 1, n)')\nn!\nsage: _.sage()\nfactorial(n)\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/647ff396cc17c8acb59043dad905ab882834017b\"><code>647ff39</code></a></td><td><code>17505: unevaluated symbolic product</code></td></tr></table>\n",
    "created_at": "2017-05-07T09:15:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234710",
    "user": "https://github.com/mforets"
}
```

<div id="comment:9" align="right">comment:9</div>

do you mind adding `giac='product'` ? 

since:

```
sage: giac('product(x, x, 1, n)')
n!
sage: _.sage()
factorial(n)
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/647ff396cc17c8acb59043dad905ab882834017b"><code>647ff39</code></a></td><td><code>17505: unevaluated symbolic product</code></td></tr></table>




---

archive/issue_comments_234711.json:
```json
{
    "body": "Commit: **[`647ff39`](https://github.com/sagemath/sagetrac-mirror/commit/647ff396cc17c8acb59043dad905ab882834017b)**",
    "created_at": "2017-05-07T09:15:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234711",
    "user": "https://github.com/mforets"
}
```

Commit: **[`647ff39`](https://github.com/sagemath/sagetrac-mirror/commit/647ff396cc17c8acb59043dad905ab882834017b)**



---

archive/issue_comments_234712.json:
```json
{
    "body": "Changed commit from **[`647ff39`](https://github.com/sagemath/sagetrac-mirror/commit/647ff396cc17c8acb59043dad905ab882834017b)** to **[`e4769b5`](https://github.com/sagemath/sagetrac-mirror/commit/e4769b5524ae5629db4189d06684646b22781efb)**",
    "created_at": "2017-05-08T08:48:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234712",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`647ff39`](https://github.com/sagemath/sagetrac-mirror/commit/647ff396cc17c8acb59043dad905ab882834017b)** to **[`e4769b5`](https://github.com/sagemath/sagetrac-mirror/commit/e4769b5524ae5629db4189d06684646b22781efb)**



---

archive/issue_comments_234713.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4769b5524ae5629db4189d06684646b22781efb\"><code>e4769b5</code></a></td><td><code>17505: symbolic product</code></td></tr></table>\n",
    "created_at": "2017-05-08T08:48:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234713",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4769b5524ae5629db4189d06684646b22781efb"><code>e4769b5</code></a></td><td><code>17505: symbolic product</code></td></tr></table>




---

archive/issue_events_249515.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-08T08:55:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249515"
}
```



---

archive/issue_comments_234714.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThis doesn't have the `prod` interface (other ticket) and some docs are missing but everything should work. Question: where does SymPy differ from Maxima?",
    "created_at": "2017-05-08T08:55:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234714",
    "user": "https://github.com/rwst"
}
```

<div id="comment:11" align="right">comment:11</div>

This doesn't have the `prod` interface (other ticket) and some docs are missing but everything should work. Question: where does SymPy differ from Maxima?



---

archive/issue_comments_234715.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2017-05-08T08:55:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234715",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_events_249516.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-05-08T13:40:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249516"
}
```



---

archive/issue_events_249517.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-05-08T13:40:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249517"
}
```



---

archive/issue_comments_234716.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@rwst](#comment:11):\n> This doesn't have the `prod` interface (other ticket) and some docs are missing but everything should work. Question: where does SymPy differ from Maxima?\n\nFirst of all, thank you very much for this addition, which should enhance Sage's usefulness fo high-school/undergrad levels.\n\nHowever, `ptestlong` gives three failures :\n\n```\n----------------------------------------------------------------------\nsage -t --long src/sage/calculus/calculus.py  # 5 doctests failed\nsage -t --long src/sage/combinat/posets/posets.py  # 1 doctest failed\nsage -t --long src/sage/homology/simplicial_complex.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n\nThe second and third ones have been [reported](https://groups.google.com/d/msg/sage-release/UdllnAJFufA/-e8ArqwFBAAJ) for 8.0.beta4 and are seen again in 8.0beta5. Nothing new here, so probably not related.\n\nThe third one is new :\n\n```\ncharpent@asus16-ec:/usr/local/sage-8$ sage -t --long src/sage/calculus/calculus.py\ntoo many failed tests, not using stored timings\nRunning doctests with ID 2017-05-08-14-44-39-93705f01.\nGit branch: t/17505/implement_symbolic_product\nUsing --optional=database_gap,giacpy_sage,git_trac,mpir,python2,sage\nDoctesting 1 file.\nsage -t --long src/sage/calculus/calculus.py\n**********************************************************************\nFile \"src/sage/calculus/calculus.py\", line 843, in sage.calculus.calculus.symbolic_prod\nFailed example:\n    symbolic_prod(x + i*(i+1)/2, i, 1, 4)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 509, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 872, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.calculus.calculus.symbolic_prod[3]>\", line 1, in <module>\n        symbolic_prod(x + i*(i+Integer(1))/Integer(2), i, Integer(1), Integer(4))\n      File \"/usr/local/sage-8/local/lib/python2.7/site-packages/sage/calculus/calculus.py\", line 860, in symbolic_prod\n        raise TypeError(\"need a multiplication variable\")\n    TypeError: need a multiplication variable\n**********************************************************************\nFile \"src/sage/calculus/calculus.py\", line 845, in sage.calculus.calculus.symbolic_prod\nFailed example:\n    symbolic_prod(i^2, i, 1, 7)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 509, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 872, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.calculus.calculus.symbolic_prod[4]>\", line 1, in <module>\n        symbolic_prod(i**Integer(2), i, Integer(1), Integer(7))\n      File \"/usr/local/sage-8/local/lib/python2.7/site-packages/sage/calculus/calculus.py\", line 860, in symbolic_prod\n        raise TypeError(\"need a multiplication variable\")\n    TypeError: need a multiplication variable\n**********************************************************************\nFile \"src/sage/calculus/calculus.py\", line 848, in sage.calculus.calculus.symbolic_prod\nFailed example:\n    symbolic_prod(f(i), i, 1, 7)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 509, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 872, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.calculus.calculus.symbolic_prod[6]>\", line 1, in <module>\n        symbolic_prod(f(i), i, Integer(1), Integer(7))\n      File \"/usr/local/sage-8/local/lib/python2.7/site-packages/sage/calculus/calculus.py\", line 860, in symbolic_prod\n        raise TypeError(\"need a multiplication variable\")\n    TypeError: need a multiplication variable\n**********************************************************************\nFile \"src/sage/calculus/calculus.py\", line 850, in sage.calculus.calculus.symbolic_prod\nFailed example:\n    symbolic_prod(f(i), i, 1, n)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 509, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 872, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.calculus.calculus.symbolic_prod[7]>\", line 1, in <module>\n        symbolic_prod(f(i), i, Integer(1), n)\n      File \"/usr/local/sage-8/local/lib/python2.7/site-packages/sage/calculus/calculus.py\", line 860, in symbolic_prod\n        raise TypeError(\"need a multiplication variable\")\n    TypeError: need a multiplication variable\n**********************************************************************\nFile \"src/sage/calculus/calculus.py\", line 1489, in sage.calculus.calculus.laplace\nFailed example:\n    laplace(t^n, t, s, algorithm='giac')\nExpected:\n    Traceback (most recent call last):\n    ...\n    NotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-s*t),t,0,+infinity)\nGot:\n    integration(t^n*e^(-s*t), t, 0, +Infinity)\n**********************************************************************\n2 items had failures:\n   1 of  39 in sage.calculus.calculus.laplace\n   4 of  11 in sage.calculus.calculus.symbolic_prod\n    [429 tests, 5 failures, 9.57 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/calculus/calculus.py  # 5 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 9.6 seconds\n    cpu time: 9.1 seconds\n    cumulative wall time: 9.6 seconds\n```\n\nThe last one is identical to one already seen in 8.0.beta4 and 8.0.beta5 ; again, nothing new, else probably not related. The four first ones seem identical : aren't they related to an undeclared variable ?\n\n- A couple suggestions, of varying importance :\n\n    1. (major) the interface methods (\"symbolic_expression.prod\" (or product)) and function(s) (\"symbolic_product\", parallelling \"symbolic_sum\") are necessary for easy use of this new functionality.\n\n    2. (minor) for aesthetics and consistency, could we have for sage.functions.other.symbolic_sum (aka Function_sum) (almost) the same `_print_latex_` function you defined in sage.functions.other.symbolic_product (aka Function_prod) ?\n\n    3. ((very) minor) consider a \"mathematica\" method, parallelling tye one in symbolic_sum (necessary for would-be Mathematica users, since mathematica.Sum(X(j), [j,1,p]) give utter nonsense currently).\n\n- A question : can #22937 depend on this ?\n\n- And a possible doctest, demonstrating that this formal mayhem has a mathematical sense :\n\n```\nsage: var(\"j,p\", domain=\"integer\")\n(j, p)\nsage: X=function(\"X\")\nsage: sage.functions.other.symbolic_product(X(j),j,1,p).log().log_expand()\nsum(log(X(j)), j, 1, p)\n```\n\n==>`needs_work`",
    "created_at": "2017-05-08T13:40:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234716",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@rwst](#comment:11):
> This doesn't have the `prod` interface (other ticket) and some docs are missing but everything should work. Question: where does SymPy differ from Maxima?

First of all, thank you very much for this addition, which should enhance Sage's usefulness fo high-school/undergrad levels.

However, `ptestlong` gives three failures :

```
----------------------------------------------------------------------
sage -t --long src/sage/calculus/calculus.py  # 5 doctests failed
sage -t --long src/sage/combinat/posets/posets.py  # 1 doctest failed
sage -t --long src/sage/homology/simplicial_complex.py  # 1 doctest failed
----------------------------------------------------------------------
```

The second and third ones have been [reported](https://groups.google.com/d/msg/sage-release/UdllnAJFufA/-e8ArqwFBAAJ) for 8.0.beta4 and are seen again in 8.0beta5. Nothing new here, so probably not related.

The third one is new :

```
charpent@asus16-ec:/usr/local/sage-8$ sage -t --long src/sage/calculus/calculus.py
too many failed tests, not using stored timings
Running doctests with ID 2017-05-08-14-44-39-93705f01.
Git branch: t/17505/implement_symbolic_product
Using --optional=database_gap,giacpy_sage,git_trac,mpir,python2,sage
Doctesting 1 file.
sage -t --long src/sage/calculus/calculus.py
**********************************************************************
File "src/sage/calculus/calculus.py", line 843, in sage.calculus.calculus.symbolic_prod
Failed example:
    symbolic_prod(x + i*(i+1)/2, i, 1, 4)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 509, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 872, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.calculus.calculus.symbolic_prod[3]>", line 1, in <module>
        symbolic_prod(x + i*(i+Integer(1))/Integer(2), i, Integer(1), Integer(4))
      File "/usr/local/sage-8/local/lib/python2.7/site-packages/sage/calculus/calculus.py", line 860, in symbolic_prod
        raise TypeError("need a multiplication variable")
    TypeError: need a multiplication variable
**********************************************************************
File "src/sage/calculus/calculus.py", line 845, in sage.calculus.calculus.symbolic_prod
Failed example:
    symbolic_prod(i^2, i, 1, 7)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 509, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 872, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.calculus.calculus.symbolic_prod[4]>", line 1, in <module>
        symbolic_prod(i**Integer(2), i, Integer(1), Integer(7))
      File "/usr/local/sage-8/local/lib/python2.7/site-packages/sage/calculus/calculus.py", line 860, in symbolic_prod
        raise TypeError("need a multiplication variable")
    TypeError: need a multiplication variable
**********************************************************************
File "src/sage/calculus/calculus.py", line 848, in sage.calculus.calculus.symbolic_prod
Failed example:
    symbolic_prod(f(i), i, 1, 7)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 509, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 872, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.calculus.calculus.symbolic_prod[6]>", line 1, in <module>
        symbolic_prod(f(i), i, Integer(1), Integer(7))
      File "/usr/local/sage-8/local/lib/python2.7/site-packages/sage/calculus/calculus.py", line 860, in symbolic_prod
        raise TypeError("need a multiplication variable")
    TypeError: need a multiplication variable
**********************************************************************
File "src/sage/calculus/calculus.py", line 850, in sage.calculus.calculus.symbolic_prod
Failed example:
    symbolic_prod(f(i), i, 1, n)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 509, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/sage-8/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 872, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.calculus.calculus.symbolic_prod[7]>", line 1, in <module>
        symbolic_prod(f(i), i, Integer(1), n)
      File "/usr/local/sage-8/local/lib/python2.7/site-packages/sage/calculus/calculus.py", line 860, in symbolic_prod
        raise TypeError("need a multiplication variable")
    TypeError: need a multiplication variable
**********************************************************************
File "src/sage/calculus/calculus.py", line 1489, in sage.calculus.calculus.laplace
Failed example:
    laplace(t^n, t, s, algorithm='giac')
Expected:
    Traceback (most recent call last):
    ...
    NotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-s*t),t,0,+infinity)
Got:
    integration(t^n*e^(-s*t), t, 0, +Infinity)
**********************************************************************
2 items had failures:
   1 of  39 in sage.calculus.calculus.laplace
   4 of  11 in sage.calculus.calculus.symbolic_prod
    [429 tests, 5 failures, 9.57 s]
----------------------------------------------------------------------
sage -t --long src/sage/calculus/calculus.py  # 5 doctests failed
----------------------------------------------------------------------
Total time for all tests: 9.6 seconds
    cpu time: 9.1 seconds
    cumulative wall time: 9.6 seconds
```

The last one is identical to one already seen in 8.0.beta4 and 8.0.beta5 ; again, nothing new, else probably not related. The four first ones seem identical : aren't they related to an undeclared variable ?

- A couple suggestions, of varying importance :

    1. (major) the interface methods ("symbolic_expression.prod" (or product)) and function(s) ("symbolic_product", parallelling "symbolic_sum") are necessary for easy use of this new functionality.

    2. (minor) for aesthetics and consistency, could we have for sage.functions.other.symbolic_sum (aka Function_sum) (almost) the same `_print_latex_` function you defined in sage.functions.other.symbolic_product (aka Function_prod) ?

    3. ((very) minor) consider a "mathematica" method, parallelling tye one in symbolic_sum (necessary for would-be Mathematica users, since mathematica.Sum(X(j), [j,1,p]) give utter nonsense currently).

- A question : can #22937 depend on this ?

- And a possible doctest, demonstrating that this formal mayhem has a mathematical sense :

```
sage: var("j,p", domain="integer")
(j, p)
sage: X=function("X")
sage: sage.functions.other.symbolic_product(X(j),j,1,p).log().log_expand()
sum(log(X(j)), j, 1, p)
```

==>`needs_work`



---

archive/issue_comments_234717.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58119b0df21bcfbb89fc58e108493fde90ac733f\"><code>58119b0</code></a></td><td><code>17505: fix doctests</code></td></tr></table>\n",
    "created_at": "2017-05-11T06:57:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234717",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58119b0df21bcfbb89fc58e108493fde90ac733f"><code>58119b0</code></a></td><td><code>17505: fix doctests</code></td></tr></table>




---

archive/issue_comments_234718.json:
```json
{
    "body": "Changed commit from **[`e4769b5`](https://github.com/sagemath/sagetrac-mirror/commit/e4769b5524ae5629db4189d06684646b22781efb)** to **[`58119b0`](https://github.com/sagemath/sagetrac-mirror/commit/58119b0df21bcfbb89fc58e108493fde90ac733f)**",
    "created_at": "2017-05-11T06:57:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234718",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e4769b5`](https://github.com/sagemath/sagetrac-mirror/commit/e4769b5524ae5629db4189d06684646b22781efb)** to **[`58119b0`](https://github.com/sagemath/sagetrac-mirror/commit/58119b0df21bcfbb89fc58e108493fde90ac733f)**



---

archive/issue_events_249518.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-11T06:58:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249518"
}
```



---

archive/issue_events_249519.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-11T06:58:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249519"
}
```



---

archive/issue_comments_234719.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAh sorry just a moment, I'll address your other issues ASAP.",
    "created_at": "2017-05-11T06:59:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234719",
    "user": "https://github.com/rwst"
}
```

<div id="comment:15" align="right">comment:15</div>

Ah sorry just a moment, I'll address your other issues ASAP.



---

archive/issue_comments_234720.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@rwst](#comment:15):\n> Ah sorry just a moment, I'll address your other issues ASAP.\n\nThose were just *suggestions*, not *requests* ;-)\n\nUnless you have other suggestions, I'll implement the \"symbolic product of product\" case in #22937 ASAP, and depend on the present ticket.",
    "created_at": "2017-05-11T07:19:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234720",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@rwst](#comment:15):
> Ah sorry just a moment, I'll address your other issues ASAP.

Those were just *suggestions*, not *requests* ;-)

Unless you have other suggestions, I'll implement the "symbolic product of product" case in #22937 ASAP, and depend on the present ticket.



---

archive/issue_comments_234721.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@EmmanuelCharpentier](#comment:12):\n> 1. (major) the interface methods (\"symbolic_expression.prod\" (or product))\n\nYes, but in a different ticket.\n\n> - A question : can #22937 depend on this ?\n\nYes you can state the dependency in the ticket form, but please wait with merging this branch, as I'll change the branch probably.\n\nAgree to everything else.",
    "created_at": "2017-05-11T07:38:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234721",
    "user": "https://github.com/rwst"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@EmmanuelCharpentier](#comment:12):
> 1. (major) the interface methods ("symbolic_expression.prod" (or product))

Yes, but in a different ticket.

> - A question : can #22937 depend on this ?

Yes you can state the dependency in the ticket form, but please wait with merging this branch, as I'll change the branch probably.

Agree to everything else.



---

archive/issue_comments_234722.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@rwst](#comment:17):\n> Replying to [@EmmanuelCharpentier](#comment:12):\n> > 1. (major) the interface methods (\"symbolic_expression.prod\" (or product))\n\n> \n> Yes, but in a different ticket.\n\nOkay. I'll take that in mind when implementing (and doctesting) #22937.\n\n> \n> > - A question : can #22937 depend on this ?\n\n> \n> Yes you can state the dependency in the ticket form, but please wait with merging this branch, as I'll change the branch probably.\n\nOkay also : I'll marl the dependency before starting the implementation of the multiplicative case. Should I wait your say so before reviewing the ticket ? Or should I review it in its current state ?\n\nSuggestion : mark it as `needs_work` before reworkiong it and `needs_review` when satisfied with (a step of) your work.\n \n> Agree to everything else.\n\nThanks !",
    "created_at": "2017-05-11T08:14:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234722",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@rwst](#comment:17):
> Replying to [@EmmanuelCharpentier](#comment:12):
> > 1. (major) the interface methods ("symbolic_expression.prod" (or product))

> 
> Yes, but in a different ticket.

Okay. I'll take that in mind when implementing (and doctesting) #22937.

> 
> > - A question : can #22937 depend on this ?

> 
> Yes you can state the dependency in the ticket form, but please wait with merging this branch, as I'll change the branch probably.

Okay also : I'll marl the dependency before starting the implementation of the multiplicative case. Should I wait your say so before reviewing the ticket ? Or should I review it in its current state ?

Suggestion : mark it as `needs_work` before reworkiong it and `needs_review` when satisfied with (a step of) your work.
 
> Agree to everything else.

Thanks !



---

archive/issue_comments_234723.json:
```json
{
    "body": "Changed commit from **[`58119b0`](https://github.com/sagemath/sagetrac-mirror/commit/58119b0df21bcfbb89fc58e108493fde90ac733f)** to **[`7a56004`](https://github.com/sagemath/sagetrac-mirror/commit/7a56004ca73a73e04b0b6a7bdbe6b528c0358bb3)**",
    "created_at": "2017-05-11T08:16:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234723",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`58119b0`](https://github.com/sagemath/sagetrac-mirror/commit/58119b0df21bcfbb89fc58e108493fde90ac733f)** to **[`7a56004`](https://github.com/sagemath/sagetrac-mirror/commit/7a56004ca73a73e04b0b6a7bdbe6b528c0358bb3)**



---

archive/issue_comments_234724.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a56004ca73a73e04b0b6a7bdbe6b528c0358bb3\"><code>7a56004</code></a></td><td><code>17505: address reviewer's suggestions</code></td></tr></table>\n",
    "created_at": "2017-05-11T08:16:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234724",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a56004ca73a73e04b0b6a7bdbe6b528c0358bb3"><code>7a56004</code></a></td><td><code>17505: address reviewer's suggestions</code></td></tr></table>




---

archive/issue_comments_234725.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nOK, which doctests are still missing?",
    "created_at": "2017-05-11T08:17:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234725",
    "user": "https://github.com/rwst"
}
```

<div id="comment:20" align="right">comment:20</div>

OK, which doctests are still missing?



---

archive/issue_comments_234726.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@EmmanuelCharpentier](#comment:18):\n> Should I wait your say so before reviewing the ticket ? Or should I review it in its current state ?\n\nPlease review now, there may only be some doctests missing.",
    "created_at": "2017-05-11T08:19:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234726",
    "user": "https://github.com/rwst"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@EmmanuelCharpentier](#comment:18):
> Should I wait your say so before reviewing the ticket ? Or should I review it in its current state ?

Please review now, there may only be some doctests missing.



---

archive/issue_comments_234727.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@rwst](#comment:21):\n> Replying to [@EmmanuelCharpentier](#comment:18):\n> > Should I wait your say so before reviewing the ticket ? Or should I review it in its current state ?\n\n> \n> Please review now, there may only be some doctests missing.\n\nBuilds OK on top of my `distribute` branch. `ptestlon` running (needs about 1 hour : stay tuned...).",
    "created_at": "2017-05-11T08:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234727",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@rwst](#comment:21):
> Replying to [@EmmanuelCharpentier](#comment:18):
> > Should I wait your say so before reviewing the ticket ? Or should I review it in its current state ?

> 
> Please review now, there may only be some doctests missing.

Builds OK on top of my `distribute` branch. `ptestlon` running (needs about 1 hour : stay tuned...).



---

archive/issue_comments_234728.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nPasses `ptestlong` with the same failures already reported for 8.0.beta4 and not yet fixed.\n\n===> `positive review`\n\nWaiting your say-so to merge into #22937...",
    "created_at": "2017-05-11T10:27:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234728",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:23" align="right">comment:23</div>

Passes `ptestlong` with the same failures already reported for 8.0.beta4 and not yet fixed.

===> `positive review`

Waiting your say-so to merge into #22937...



---

archive/issue_events_249520.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-05-11T10:27:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249520"
}
```



---

archive/issue_events_249521.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-05-11T10:27:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249521"
}
```



---

archive/issue_comments_234729.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThanks.\n\nReplying to [@EmmanuelCharpentier](#comment:23):\n> Waiting your say-so to merge into #22937...\n\nPlease go ahead.",
    "created_at": "2017-05-11T13:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234729",
    "user": "https://github.com/rwst"
}
```

<div id="comment:24" align="right">comment:24</div>

Thanks.

Replying to [@EmmanuelCharpentier](#comment:23):
> Waiting your say-so to merge into #22937...

Please go ahead.



---

archive/issue_comments_234730.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nYour real name in the Reviewer field is missing, please add.,",
    "created_at": "2017-05-11T13:17:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234730",
    "user": "https://github.com/rwst"
}
```

<div id="comment:25" align="right">comment:25</div>

Your real name in the Reviewer field is missing, please add.,



---

archive/issue_comments_234731.json:
```json
{
    "body": "Reviewer: **Emmanuel Charpentier**",
    "created_at": "2017-05-11T13:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234731",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Reviewer: **Emmanuel Charpentier**



---

archive/issue_comments_234732.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nWups !\n\nDone...",
    "created_at": "2017-05-11T13:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234732",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:26" align="right">comment:26</div>

Wups !

Done...



---

archive/issue_comments_234733.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nSlight issue :\n\n```\nsage: var(\"j,p\", domain=\"integer\")\n(j, p)\nsage: X=function(\"X\")\nsage: latex(maxima(\"product(X(j),j,1,p)\").sage()^2)\n\\prod_{j=1}^{p} X(j)^{2}\n```\nwhich prints *wrong* (it should be `{\\prod_{j=1}^{p} X(j)}^{2`} in order to position the exponent over the whole sum, not the \"productand\"). The same is true for `sum`.\n\nCare to fix it here or should I open a new ticket (depending on this one) ?",
    "created_at": "2017-05-12T07:07:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234733",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:27" align="right">comment:27</div>

Slight issue :

```
sage: var("j,p", domain="integer")
(j, p)
sage: X=function("X")
sage: latex(maxima("product(X(j),j,1,p)").sage()^2)
\prod_{j=1}^{p} X(j)^{2}
```
which prints *wrong* (it should be `{\prod_{j=1}^{p} X(j)}^{2`} in order to position the exponent over the whole sum, not the "productand"). The same is true for `sum`.

Care to fix it here or should I open a new ticket (depending on this one) ?



---

archive/issue_comments_234734.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI'll fix it immediately.",
    "created_at": "2017-05-12T07:13:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234734",
    "user": "https://github.com/rwst"
}
```

<div id="comment:28" align="right">comment:28</div>

I'll fix it immediately.



---

archive/issue_comments_234735.json:
```json
{
    "body": "Changed commit from **[`7a56004`](https://github.com/sagemath/sagetrac-mirror/commit/7a56004ca73a73e04b0b6a7bdbe6b528c0358bb3)** to **[`d420ec4`](https://github.com/sagemath/sagetrac-mirror/commit/d420ec4ab00a322f97bd05326741ec7de3e3d65a)**",
    "created_at": "2017-05-12T07:19:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234735",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7a56004`](https://github.com/sagemath/sagetrac-mirror/commit/7a56004ca73a73e04b0b6a7bdbe6b528c0358bb3)** to **[`d420ec4`](https://github.com/sagemath/sagetrac-mirror/commit/d420ec4ab00a322f97bd05326741ec7de3e3d65a)**



---

archive/issue_comments_234736.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d420ec4ab00a322f97bd05326741ec7de3e3d65a\"><code>d420ec4</code></a></td><td><code>17505: fix latex, cosmetics</code></td></tr></table>\n",
    "created_at": "2017-05-12T07:19:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234736",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d420ec4ab00a322f97bd05326741ec7de3e3d65a"><code>d420ec4</code></a></td><td><code>17505: fix latex, cosmetics</code></td></tr></table>




---

archive/issue_events_249522.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-05-12T07:19:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249522"
}
```



---

archive/issue_events_249523.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-05-12T07:19:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249523"
}
```



---

archive/issue_comments_234737.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@EmmanuelCharpentier](#comment:27):\n> which prints *wrong* (it should be `{\\prod_{j=1}^{p} X(j)}^{2`} in order to position the exponent over the whole sum, not the \"productand\"). The same is true for `sum`.\n\nHowever, isn't it the duty of power to make the braces?",
    "created_at": "2017-05-12T07:23:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234737",
    "user": "https://github.com/rwst"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@EmmanuelCharpentier](#comment:27):
> which prints *wrong* (it should be `{\prod_{j=1}^{p} X(j)}^{2`} in order to position the exponent over the whole sum, not the "productand"). The same is true for `sum`.

However, isn't it the duty of power to make the braces?



---

archive/issue_comments_234738.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@rwst](#comment:30):\n> Replying to [@EmmanuelCharpentier](#comment:27):\n> > which prints *wrong* (it should be `{\\prod_{j=1}^{p} X(j)}^{2`} in order to position the exponent over the whole sum, not the \"productand\"). The same is true for `sum`.\n\n> \n> However, isn't it the duty of power to make the braces?\n\nNot necessarily. `\\sum_{j=1}^p X(j)^2` is mathematically wrong ; however, `{X_{j}}^2` is correct but ugly, whereas `X_{j}^2` is also ((almost) unambiguously) correct and much more pleasant.\n\nThere is still an ambiguity, that does not concern us there : tensors. But that's another whole can of worms.\n\nYour patch looks good. `ptestlong` is running and should terminate in about an hour.",
    "created_at": "2017-05-12T08:52:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234738",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@rwst](#comment:30):
> Replying to [@EmmanuelCharpentier](#comment:27):
> > which prints *wrong* (it should be `{\prod_{j=1}^{p} X(j)}^{2`} in order to position the exponent over the whole sum, not the "productand"). The same is true for `sum`.

> 
> However, isn't it the duty of power to make the braces?

Not necessarily. `\sum_{j=1}^p X(j)^2` is mathematically wrong ; however, `{X_{j}}^2` is correct but ugly, whereas `X_{j}^2` is also ((almost) unambiguously) correct and much more pleasant.

There is still an ambiguity, that does not concern us there : tensors. But that's another whole can of worms.

Your patch looks good. `ptestlong` is running and should terminate in about an hour.



---

archive/issue_events_249524.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-05-12T09:52:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249524"
}
```



---

archive/issue_events_249525.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-05-12T09:52:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249525"
}
```



---

archive/issue_comments_234739.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nTwo new failures :\n\n```\nsage -t --long src/sage/functions/other.py\n**********************************************************************\nFile \"src/sage/functions/other.py\", line 2617, in sage.functions.other.Function_\nsum._print_latex_\nFailed example:\n    latex(ssum(x^2, x, 1, 10))\nExpected:\n    \\sum_{x=1}^{10} x^2\nGot:\n    {\\sum_{x=1}^{10} x^2}\n**********************************************************************\nFile \"src/sage/functions/other.py\", line 2664, in sage.functions.other.Function_prod._print_latex_\nFailed example:\n    latex(sprod(x^2, x, 1, 10))\nExpected:\n    \\prod_{x=1}^{10} x^2\nGot:\n    {\\prod_{x=1}^{10} x^2}\n**********************************************************************\n2 items had failures:\n   1 of   3 in sage.functions.other.Function_prod._print_latex_\n   1 of   3 in sage.functions.other.Function_sum._print_latex_\n    [580 tests, 2 failures, 7.13 s]\n```\n\nIt seems that you forgot to upate your doctests... ;-)\n\n==> `needs work` (pro forma)",
    "created_at": "2017-05-12T09:52:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234739",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:32" align="right">comment:32</div>

Two new failures :

```
sage -t --long src/sage/functions/other.py
**********************************************************************
File "src/sage/functions/other.py", line 2617, in sage.functions.other.Function_
sum._print_latex_
Failed example:
    latex(ssum(x^2, x, 1, 10))
Expected:
    \sum_{x=1}^{10} x^2
Got:
    {\sum_{x=1}^{10} x^2}
**********************************************************************
File "src/sage/functions/other.py", line 2664, in sage.functions.other.Function_prod._print_latex_
Failed example:
    latex(sprod(x^2, x, 1, 10))
Expected:
    \prod_{x=1}^{10} x^2
Got:
    {\prod_{x=1}^{10} x^2}
**********************************************************************
2 items had failures:
   1 of   3 in sage.functions.other.Function_prod._print_latex_
   1 of   3 in sage.functions.other.Function_sum._print_latex_
    [580 tests, 2 failures, 7.13 s]
```

It seems that you forgot to upate your doctests... ;-)

==> `needs work` (pro forma)



---

archive/issue_comments_234740.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5779423aac340d1d7dc415da287b9af5e0e1f381\"><code>5779423</code></a></td><td><code>17505: fix doctests</code></td></tr></table>\n",
    "created_at": "2017-05-12T12:55:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234740",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5779423aac340d1d7dc415da287b9af5e0e1f381"><code>5779423</code></a></td><td><code>17505: fix doctests</code></td></tr></table>




---

archive/issue_comments_234741.json:
```json
{
    "body": "Changed commit from **[`d420ec4`](https://github.com/sagemath/sagetrac-mirror/commit/d420ec4ab00a322f97bd05326741ec7de3e3d65a)** to **[`5779423`](https://github.com/sagemath/sagetrac-mirror/commit/5779423aac340d1d7dc415da287b9af5e0e1f381)**",
    "created_at": "2017-05-12T12:55:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234741",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d420ec4`](https://github.com/sagemath/sagetrac-mirror/commit/d420ec4ab00a322f97bd05326741ec7de3e3d65a)** to **[`5779423`](https://github.com/sagemath/sagetrac-mirror/commit/5779423aac340d1d7dc415da287b9af5e0e1f381)**



---

archive/issue_events_249526.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-12T12:57:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249526"
}
```



---

archive/issue_events_249527.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-12T12:57:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249527"
}
```



---

archive/issue_comments_234742.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nHopefully my reviewers keep their patience. Thanks.",
    "created_at": "2017-05-12T12:57:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234742",
    "user": "https://github.com/rwst"
}
```

<div id="comment:34" align="right">comment:34</div>

Hopefully my reviewers keep their patience. Thanks.



---

archive/issue_comments_234743.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@rwst](#comment:34):\n> Hopefully my reviewers keep their patience. Thanks.\n\n`sage -t --long src/sage/symbolic/expression.pyx` passes with no error. `ptestlong` underway (again, *pro forma*). Stay tuned.",
    "created_at": "2017-05-12T13:04:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234743",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@rwst](#comment:34):
> Hopefully my reviewers keep their patience. Thanks.

`sage -t --long src/sage/symbolic/expression.pyx` passes with no error. `ptestlong` underway (again, *pro forma*). Stay tuned.



---

archive/issue_events_249528.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-05-12T14:06:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249528"
}
```



---

archive/issue_events_249529.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-05-12T14:06:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249529"
}
```



---

archive/issue_comments_234744.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n`ptestlong` passes with the known, supposed unrelated failure ; no whoopee cushions.\n\n==>`positive_review`\n\nSince this was tested on top of #22937, the latter is also ready for re-review. Would you mind ?",
    "created_at": "2017-05-12T14:06:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234744",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:36" align="right">comment:36</div>

`ptestlong` passes with the known, supposed unrelated failure ; no whoopee cushions.

==>`positive_review`

Since this was tested on top of #22937, the latter is also ready for re-review. Would you mind ?



---

archive/issue_events_249530.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-05-12T14:15:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249530"
}
```



---

archive/issue_events_249531.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-05-12T14:15:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249531"
}
```



---

archive/issue_comments_234745.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\n`sr_prod` is missing a doctest.",
    "created_at": "2017-05-12T14:15:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234745",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:37" align="right">comment:37</div>

`sr_prod` is missing a doctest.



---

archive/issue_events_249532.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-13T06:01:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249532"
}
```



---

archive/issue_events_249533.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-13T06:01:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249533"
}
```



---

archive/issue_events_249534.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-13T06:01:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249534"
}
```



---

archive/issue_events_249535.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-13T06:01:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249535"
}
```



---

archive/issue_events_249536.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-13T06:01:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249536"
}
```



---

archive/issue_comments_234746.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nThe ticket was merged up to a point. I'll close it and put the branch with the remaining issues in another ticket. See #22989.",
    "created_at": "2017-05-13T06:01:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234746",
    "user": "https://github.com/rwst"
}
```

<div id="comment:38" align="right">comment:38</div>

The ticket was merged up to a point. I'll close it and put the branch with the remaining issues in another ticket. See #22989.



---

archive/issue_comments_234747.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@rwst](#comment:38):\n> The ticket was merged up to a point.\n\nYou mean in #22937, I suppose ?\n> I'll close it and put the branch with the remaining issues in another ticket. See #22989.\n\nHmm... Unles I'm mistaken, there are two consequences :\n- #22937 should no longer depend on #17505\n- #22989 should depend on #22937\nAm I right ?",
    "created_at": "2017-05-13T06:25:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234747",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@rwst](#comment:38):
> The ticket was merged up to a point.

You mean in #22937, I suppose ?
> I'll close it and put the branch with the remaining issues in another ticket. See #22989.

Hmm... Unles I'm mistaken, there are two consequences :
- #22937 should no longer depend on #17505
- #22989 should depend on #22937
Am I right ?



---

archive/issue_events_249537.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-13T10:34:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249537"
}
```



---

archive/issue_events_249538.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-13T10:34:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17505#event-249538"
}
```



---

archive/issue_comments_234748.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nSorry, forgot to close this ticket. Move your new commits to a new ticket.",
    "created_at": "2017-05-13T10:34:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17505#issuecomment-234748",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:40" align="right">comment:40</div>

Sorry, forgot to close this ticket. Move your new commits to a new ticket.
