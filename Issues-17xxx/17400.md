# Issue 17400: simplify_full returns odd result from symbolic series input

archive/issues_017163.json:
```json
{
    "body": "`SR`.series will lose the order term when passed to Maxima. Thus only the coefficients may be simplified, and this must be done in all `simplify*` functions.\n\n```\nsage: x=var('x')\nsage: s=(1/(1-x)).series(x,6)\nsage: s.coeffs()\n[[x^5 + x^4 + x^3 + x^2 + x + Order(x^6) + 1, 0]]\nsage: s.simplify_full().coeffs()\n[[Order(x^6) + 1, 0], [1, 1], [1, 2], [1, 3], [1, 4], [1, 5]]\n```\nSee also the related #17399.\n\nOriginally found in http://ask.sagemath.org/question/24968/coefficients-in-polynomial-ring-over-symbolic-ring/\n\nAlso, `series` should simplify its terms on a per-term basis:\n\n```\nsage: var('x,y')\n(x, y)\nsage: ex=1/(1-x*y-x^2)\nsage: ex.series(x,5)\n1 + (y)*x + (y^2 + 1)*x^2 + ((y^2 + 1)*y + y)*x^3 + (((y^2 + 1)*y + y)*y + y^2 + 1)*x^4 + Order(x^5)\n```\nCompare with e.g. Pari:\n\n```\n? 1/(1-x*y-x^2) + O(x^5)\n%1 = 1 + y*x + (y^2 + 1)*x^2 + (y^3 + 2*y)*x^3 + (y^4 + 3*y^2 + 1)*x^4 + O(x^5)\n```\nBoth issues can be fixed by writing series simplification methods.\n\nAuthor: Ralf Stephan\n\nBranch: u/rws/17400-1\n\nStatus: needs_work\n\nDependencies: #17399, #17659\n\nCommit: 22c947a8ee6d435db6d103246e88674d50e12286\n\nIssue created by migration from https://trac.sagemath.org/ticket/17400\n\n",
    "created_at": "2014-11-26T10:08:06Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "simplify_full returns odd result from symbolic series input",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17400",
    "user": "https://github.com/rwst"
}
```
`SR`.series will lose the order term when passed to Maxima. Thus only the coefficients may be simplified, and this must be done in all `simplify*` functions.

```
sage: x=var('x')
sage: s=(1/(1-x)).series(x,6)
sage: s.coeffs()
[[x^5 + x^4 + x^3 + x^2 + x + Order(x^6) + 1, 0]]
sage: s.simplify_full().coeffs()
[[Order(x^6) + 1, 0], [1, 1], [1, 2], [1, 3], [1, 4], [1, 5]]
```
See also the related #17399.

Originally found in http://ask.sagemath.org/question/24968/coefficients-in-polynomial-ring-over-symbolic-ring/

Also, `series` should simplify its terms on a per-term basis:

```
sage: var('x,y')
(x, y)
sage: ex=1/(1-x*y-x^2)
sage: ex.series(x,5)
1 + (y)*x + (y^2 + 1)*x^2 + ((y^2 + 1)*y + y)*x^3 + (((y^2 + 1)*y + y)*y + y^2 + 1)*x^4 + Order(x^5)
```
Compare with e.g. Pari:

```
? 1/(1-x*y-x^2) + O(x^5)
%1 = 1 + y*x + (y^2 + 1)*x^2 + (y^3 + 2*y)*x^3 + (y^4 + 3*y^2 + 1)*x^4 + O(x^5)
```
Both issues can be fixed by writing series simplification methods.

Author: Ralf Stephan

Branch: u/rws/17400-1

Status: needs_work

Dependencies: #17399, #17659

Commit: 22c947a8ee6d435db6d103246e88674d50e12286

Issue created by migration from https://trac.sagemath.org/ticket/17400





---

archive/issue_comments_295286.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,3 +7,5 @@\n [[Order(x^6) + 1, 0], [1, 1], [1, 2], [1, 3], [1, 4], [1, 5]]\n ```\n See also the related #17399.\n+\n+Originally found in http://ask.sagemath.org/question/24968/coefficients-in-polynomial-ring-over-symbolic-ring/\n``````\n",
    "created_at": "2014-11-26T10:34:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295286",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,3 +7,5 @@
 [[Order(x^6) + 1, 0], [1, 1], [1, 2], [1, 3], [1, 4], [1, 5]]
 ```
 See also the related #17399.
+
+Originally found in http://ask.sagemath.org/question/24968/coefficients-in-polynomial-ring-over-symbolic-ring/
``````




---

archive/issue_comments_295287.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,6 @@\n sage: s.simplify_full().coeffs()\n [[Order(x^6) + 1, 0], [1, 1], [1, 2], [1, 3], [1, 4], [1, 5]]\n ```\n-See also the related #17399.\n+See also the related #13655 and #17399.\n \n Originally found in http://ask.sagemath.org/question/24968/coefficients-in-polynomial-ring-over-symbolic-ring/\n``````\n",
    "created_at": "2014-11-29T14:47:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295287",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,6 @@
 sage: s.simplify_full().coeffs()
 [[Order(x^6) + 1, 0], [1, 1], [1, 2], [1, 3], [1, 4], [1, 5]]
 ```
-See also the related #17399.
+See also the related #13655 and #17399.
 
 Originally found in http://ask.sagemath.org/question/24968/coefficients-in-polynomial-ring-over-symbolic-ring/
``````




---

archive/issue_comments_295288.json:
```json
{
    "body": "<a id='comment:3'></a>Probably with symbolic series, only coefficients should be simplified in the `simplify*` functions.",
    "created_at": "2014-12-04T14:44:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295288",
    "user": "https://github.com/rwst"
}
```

<a id='comment:3'></a>Probably with symbolic series, only coefficients should be simplified in the `simplify*` functions.



---

archive/issue_comments_295289.json:
```json
{
    "body": "<a id='comment:4'></a>There are no power series objects in Maxima, just conversion to infinite sums, i.e. formal power series:\n\n```\nsage: maxima.powerseries(x^2+1/(1-x),x,0)\n'sum(_SAGE_VAR_x^i2,i2,0,inf)+_SAGE_VAR_x^2\nsage: maxima.powerseries(x^2+1/(1-x),x,0).sage()\nx^2 + sum(x^i3, i3, 0, +Infinity)\n```\nThe Taylor series objects have an order parameter on creation, but this does not get output or translated to Sage:\n\n```\nsage: maxima.taylor(1+x+x^2+x^3,x,0,3)\n1+_SAGE_VAR_x+_SAGE_VAR_x^2+_SAGE_VAR_x^3\nsage: maxima.taylor(1+x+x^2+x^3,x,0,3).sage()\nx^3 + x^2 + x + 1\n```\nso there is no way around it that `SR`.series will lose the order term when passed to Maxima. Thus only the coefficients may be simplified, and this must be done in or called from all `simplify*` functions.",
    "created_at": "2015-01-13T16:52:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295289",
    "user": "https://github.com/rwst"
}
```

<a id='comment:4'></a>There are no power series objects in Maxima, just conversion to infinite sums, i.e. formal power series:

```
sage: maxima.powerseries(x^2+1/(1-x),x,0)
'sum(_SAGE_VAR_x^i2,i2,0,inf)+_SAGE_VAR_x^2
sage: maxima.powerseries(x^2+1/(1-x),x,0).sage()
x^2 + sum(x^i3, i3, 0, +Infinity)
```
The Taylor series objects have an order parameter on creation, but this does not get output or translated to Sage:

```
sage: maxima.taylor(1+x+x^2+x^3,x,0,3)
1+_SAGE_VAR_x+_SAGE_VAR_x^2+_SAGE_VAR_x^3
sage: maxima.taylor(1+x+x^2+x^3,x,0,3).sage()
x^3 + x^2 + x + 1
```
so there is no way around it that `SR`.series will lose the order term when passed to Maxima. Thus only the coefficients may be simplified, and this must be done in or called from all `simplify*` functions.



---

archive/issue_comments_295290.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+`SR`.series will lose the order term when passed to Maxima. Thus only the coefficients may be simplified, and this must be done in all `simplify*` functions.\n+\n ```\n sage: x=var('x')\n sage: s=(1/(1-x)).series(x,6)\n@@ -6,6 +8,6 @@\n sage: s.simplify_full().coeffs()\n [[Order(x^6) + 1, 0], [1, 1], [1, 2], [1, 3], [1, 4], [1, 5]]\n ```\n-See also the related #13655 and #17399.\n+See also the related #17399.\n \n Originally found in http://ask.sagemath.org/question/24968/coefficients-in-polynomial-ring-over-symbolic-ring/\n``````\n",
    "created_at": "2015-01-13T16:52:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295290",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+`SR`.series will lose the order term when passed to Maxima. Thus only the coefficients may be simplified, and this must be done in all `simplify*` functions.
+
 ```
 sage: x=var('x')
 sage: s=(1/(1-x)).series(x,6)
@@ -6,6 +8,6 @@
 sage: s.simplify_full().coeffs()
 [[Order(x^6) + 1, 0], [1, 1], [1, 2], [1, 3], [1, 4], [1, 5]]
 ```
-See also the related #13655 and #17399.
+See also the related #17399.
 
 Originally found in http://ask.sagemath.org/question/24968/coefficients-in-polynomial-ring-over-symbolic-ring/
``````




---

archive/issue_comments_295291.json:
```json
{
    "body": "<a id='comment:5'></a>The following functions call Maxima, have a meaning /wrt series, and therefore need to be modified:\n`simplify`, `simplify_trig`, `simplify_rectform`, `simplify_rational`, `simplify_log`, `expand_log`, `expand_trig`.",
    "created_at": "2015-01-13T17:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295291",
    "user": "https://github.com/rwst"
}
```

<a id='comment:5'></a>The following functions call Maxima, have a meaning /wrt series, and therefore need to be modified:
`simplify`, `simplify_trig`, `simplify_rectform`, `simplify_rational`, `simplify_log`, `expand_log`, `expand_trig`.



---

archive/issue_comments_295292.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,3 +11,20 @@\n See also the related #17399.\n \n Originally found in http://ask.sagemath.org/question/24968/coefficients-in-polynomial-ring-over-symbolic-ring/\n+\n+Also, `series` should simplify its terms on a per-term basis:\n+\n+```\n+sage: var('x,y')\n+(x, y)\n+sage: ex=1/(1-x*y-x^2)\n+sage: ex.series(x,5)\n+1 + (y)*x + (y^2 + 1)*x^2 + ((y^2 + 1)*y + y)*x^3 + (((y^2 + 1)*y + y)*y + y^2 + 1)*x^4 + Order(x^5)\n+```\n+Compare with e.g. Pari:\n+\n+```\n+? 1/(1-x*y-x^2) + O(x^5)\n+%1 = 1 + y*x + (y^2 + 1)*x^2 + (y^3 + 2*y)*x^3 + (y^4 + 3*y^2 + 1)*x^4 + O(x^5)\n+```\n+Both issues can be fixed by writing series simplification methods.\n``````\n",
    "created_at": "2015-01-22T15:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295292",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,3 +11,20 @@
 See also the related #17399.
 
 Originally found in http://ask.sagemath.org/question/24968/coefficients-in-polynomial-ring-over-symbolic-ring/
+
+Also, `series` should simplify its terms on a per-term basis:
+
+```
+sage: var('x,y')
+(x, y)
+sage: ex=1/(1-x*y-x^2)
+sage: ex.series(x,5)
+1 + (y)*x + (y^2 + 1)*x^2 + ((y^2 + 1)*y + y)*x^3 + (((y^2 + 1)*y + y)*y + y^2 + 1)*x^4 + Order(x^5)
+```
+Compare with e.g. Pari:
+
+```
+? 1/(1-x*y-x^2) + O(x^5)
+%1 = 1 + y*x + (y^2 + 1)*x^2 + (y^3 + 2*y)*x^3 + (y^4 + 3*y^2 + 1)*x^4 + O(x^5)
+```
+Both issues can be fixed by writing series simplification methods.
``````




---

archive/issue_comments_295293.json:
```json
{
    "body": "Changing branch from \"\" to \"u/rws/simplify_full_returns_odd_result_from_symbolic_series_input\"",
    "created_at": "2015-01-23T17:37:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295293",
    "user": "https://github.com/rwst"
}
```

Changing branch from "" to "u/rws/simplify_full_returns_odd_result_from_symbolic_series_input"



---

archive/issue_comments_295294.json:
```json
{
    "body": "<a id='comment:8'></a>Proof of concept.\n\n---\nNew commits:",
    "created_at": "2015-01-23T17:39:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295294",
    "user": "https://github.com/rwst"
}
```

<a id='comment:8'></a>Proof of concept.

---
New commits:



---

archive/issue_comments_295295.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#17399, #17659\"",
    "created_at": "2015-01-23T17:39:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295295",
    "user": "https://github.com/rwst"
}
```

Changing dependencies from "" to "#17399, #17659"



---

archive/issue_comments_295296.json:
```json
{
    "body": "Changing commit from \"\" to \"266023507133808606f076ff2f51aa7add64ed0b\"",
    "created_at": "2015-01-23T17:39:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295296",
    "user": "https://github.com/rwst"
}
```

Changing commit from "" to "266023507133808606f076ff2f51aa7add64ed0b"



---

archive/issue_comments_295297.json:
```json
{
    "body": "Changing branch from \"u/rws/simplify_full_returns_odd_result_from_symbolic_series_input\" to \"public/17400\"",
    "created_at": "2015-01-25T15:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295297",
    "user": "https://github.com/rwst"
}
```

Changing branch from "u/rws/simplify_full_returns_odd_result_from_symbolic_series_input" to "public/17400"



---

archive/issue_comments_295298.json:
```json
{
    "body": "Changing commit from \"266023507133808606f076ff2f51aa7add64ed0b\" to \"26435537dc959224ea2fb700f216f4090af70ac1\"",
    "created_at": "2015-01-25T15:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295298",
    "user": "https://github.com/rwst"
}
```

Changing commit from "266023507133808606f076ff2f51aa7add64ed0b" to "26435537dc959224ea2fb700f216f4090af70ac1"



---

archive/issue_comments_295299.json:
```json
{
    "body": "<a id='comment:10'></a>Squashed it all into one commit.\n\n---\nNew commits:",
    "created_at": "2015-01-25T15:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295299",
    "user": "https://github.com/rwst"
}
```

<a id='comment:10'></a>Squashed it all into one commit.

---
New commits:



---

archive/issue_comments_295300.json:
```json
{
    "body": "Changing author from \"\" to \"Ralf Stephan\"",
    "created_at": "2015-01-25T15:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295300",
    "user": "https://github.com/rwst"
}
```

Changing author from "" to "Ralf Stephan"



---

archive/issue_comments_295301.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-01-25T15:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295301",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_295302.json:
```json
{
    "body": "Changing branch from \"public/17400\" to \"u/rws/17400\"",
    "created_at": "2015-03-05T14:23:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295302",
    "user": "https://github.com/rwst"
}
```

Changing branch from "public/17400" to "u/rws/17400"



---

archive/issue_comments_295303.json:
```json
{
    "body": "<a id='comment:12'></a>Squashed it all into one commit.\n\n---\nNew commits:",
    "created_at": "2015-03-05T14:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295303",
    "user": "https://github.com/rwst"
}
```

<a id='comment:12'></a>Squashed it all into one commit.

---
New commits:



---

archive/issue_events_050110.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-05T14:24:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17400#event-50110"
}
```



---

archive/issue_comments_295304.json:
```json
{
    "body": "Changing commit from \"26435537dc959224ea2fb700f216f4090af70ac1\" to \"73cd5bf461c4f301239a39489889ff28f17df361\"",
    "created_at": "2015-03-05T14:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295304",
    "user": "https://github.com/rwst"
}
```

Changing commit from "26435537dc959224ea2fb700f216f4090af70ac1" to "73cd5bf461c4f301239a39489889ff28f17df361"



---

archive/issue_comments_295305.json:
```json
{
    "body": "<a id='comment:13'></a>Pending because #17659 is pending.",
    "created_at": "2015-04-20T15:50:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295305",
    "user": "https://github.com/rwst"
}
```

<a id='comment:13'></a>Pending because #17659 is pending.



---

archive/issue_events_050111.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-20T15:50:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17400#event-50111"
}
```



---

archive/issue_events_050112.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-20T15:50:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17400#event-50112"
}
```



---

archive/issue_comments_295306.json:
```json
{
    "body": "Changing branch from \"u/rws/17400\" to \"u/rws/17400-1\"",
    "created_at": "2016-02-05T07:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295306",
    "user": "https://github.com/rwst"
}
```

Changing branch from "u/rws/17400" to "u/rws/17400-1"



---

archive/issue_comments_295307.json:
```json
{
    "body": "Changing commit from \"73cd5bf461c4f301239a39489889ff28f17df361\" to \"611f93b9a10863247293ae330c8f9432fb6a22b0\"",
    "created_at": "2016-02-23T22:39:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295307",
    "user": "https://github.com/vbraun"
}
```

Changing commit from "73cd5bf461c4f301239a39489889ff28f17df361" to "611f93b9a10863247293ae330c8f9432fb6a22b0"



---

archive/issue_comments_295308.json:
```json
{
    "body": "<a id='comment:15'></a>Still pending?\n\n---\nNew commits:",
    "created_at": "2016-02-23T22:39:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295308",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'></a>Still pending?

---
New commits:



---

archive/issue_comments_295309.json:
```json
{
    "body": "<a id='comment:16'></a>No, you're right. Maybe there are conflicts with #17402.",
    "created_at": "2016-02-24T06:17:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295309",
    "user": "https://github.com/rwst"
}
```

<a id='comment:16'></a>No, you're right. Maybe there are conflicts with #17402.



---

archive/issue_events_050113.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-02-24T06:17:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17400#event-50113"
}
```



---

archive/issue_events_050114.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-02-24T06:17:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17400#event-50114"
}
```



---

archive/issue_comments_295310.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-03-05T22:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295310",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_295311.json:
```json
{
    "body": "<a id='comment:17'></a>Merge conflict, possibly with #20088",
    "created_at": "2016-03-05T22:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295311",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:17'></a>Merge conflict, possibly with #20088



---

archive/issue_comments_295312.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:4 rws]:\n> There are no power series objects in Maxima,\n> [...]\n> The Taylor series objects have an order parameter on creation, but this does not get output or translated to Sage\n\nSo there *are* power series-type object in maxima. We could just access those then and use them to translate back-and-forth. It's a bit of a question how much functionality maxima has for it and whether maxima itself works with them faithfully.\n\nThe internal representation seems to be a bit complicated:\n\n```\nsage: P=maxima_calculus.taylor(exp(x),x,0,5)\nsage: P\n1+_SAGE_VAR_x+_SAGE_VAR_x^2/2+_SAGE_VAR_x^3/6+_SAGE_VAR_x^4/24+_SAGE_VAR_x^5/120\nsage: P.ecl()\n<ECL: ((MRAT SIMP (((MEXPT SIMP) $%E |$_SAGE_VAR_x|) |$_SAGE_VAR_x|)\n  (#:|%e^_SAGE_VAR_x2396| #:|_SAGE_VAR_x2397|)\n  ((|$_SAGE_VAR_x| ((5 . 1)) 0 NIL #:|_SAGE_VAR_x2397| . 2)) TRUNC)\n PS (#:|_SAGE_VAR_x2397| . 2) ((5 . 1)) ((0 . 1) 1 . 1) ((1 . 1) 1 . 1)\n ((2 . 1) 1 . 2) ((3 . 1) 1 . 6) ((4 . 1) 1 . 24) ((5 . 1) 1 . 120))>\n```\nbut fundamentally everything is there to create/peel apart these objects.\n\n(note that it would be a bit harder to work with these objects via the expect-interface to maxima)\n\nA basic explanation of the MRAT format is here: [http://def.fe.up.pt/pipermail/maxima-discuss/2005/010416.html](http://def.fe.up.pt/pipermail/maxima-discuss/2005/010416.html)\n\n**EDIT:** never mind, this isn't suitable for power series. This whole \"TRUNC\" property is very fickle (and it doesn't carry proper order information). It disappears with very trivial arithmetic already.",
    "created_at": "2016-03-06T05:37:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295312",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:18'></a>Replying to [comment:4 rws]:
> There are no power series objects in Maxima,
> [...]
> The Taylor series objects have an order parameter on creation, but this does not get output or translated to Sage

So there *are* power series-type object in maxima. We could just access those then and use them to translate back-and-forth. It's a bit of a question how much functionality maxima has for it and whether maxima itself works with them faithfully.

The internal representation seems to be a bit complicated:

```
sage: P=maxima_calculus.taylor(exp(x),x,0,5)
sage: P
1+_SAGE_VAR_x+_SAGE_VAR_x^2/2+_SAGE_VAR_x^3/6+_SAGE_VAR_x^4/24+_SAGE_VAR_x^5/120
sage: P.ecl()
<ECL: ((MRAT SIMP (((MEXPT SIMP) $%E |$_SAGE_VAR_x|) |$_SAGE_VAR_x|)
  (#:|%e^_SAGE_VAR_x2396| #:|_SAGE_VAR_x2397|)
  ((|$_SAGE_VAR_x| ((5 . 1)) 0 NIL #:|_SAGE_VAR_x2397| . 2)) TRUNC)
 PS (#:|_SAGE_VAR_x2397| . 2) ((5 . 1)) ((0 . 1) 1 . 1) ((1 . 1) 1 . 1)
 ((2 . 1) 1 . 2) ((3 . 1) 1 . 6) ((4 . 1) 1 . 24) ((5 . 1) 1 . 120))>
```
but fundamentally everything is there to create/peel apart these objects.

(note that it would be a bit harder to work with these objects via the expect-interface to maxima)

A basic explanation of the MRAT format is here: [http://def.fe.up.pt/pipermail/maxima-discuss/2005/010416.html](http://def.fe.up.pt/pipermail/maxima-discuss/2005/010416.html)

**EDIT:** never mind, this isn't suitable for power series. This whole "TRUNC" property is very fickle (and it doesn't carry proper order information). It disappears with very trivial arithmetic already.



---

archive/issue_comments_295313.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-03T13:14:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_295314.json:
```json
{
    "body": "Changing commit from \"611f93b9a10863247293ae330c8f9432fb6a22b0\" to \"e3907ec38750e1be59d10490dc1d511e5307b768\"",
    "created_at": "2016-08-03T13:14:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295314",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "611f93b9a10863247293ae330c8f9432fb6a22b0" to "e3907ec38750e1be59d10490dc1d511e5307b768"



---

archive/issue_events_050115.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-08-03T13:16:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17400#event-50115"
}
```



---

archive/issue_events_050116.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-08-03T13:16:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17400#event-50116"
}
```



---

archive/issue_comments_295315.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-08-03T13:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295315",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_295316.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-22T07:02:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_295317.json:
```json
{
    "body": "Changing commit from \"e3907ec38750e1be59d10490dc1d511e5307b768\" to \"22c947a8ee6d435db6d103246e88674d50e12286\"",
    "created_at": "2016-09-22T07:02:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295317",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e3907ec38750e1be59d10490dc1d511e5307b768" to "22c947a8ee6d435db6d103246e88674d50e12286"



---

archive/issue_comments_295318.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-11-28T07:03:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295318",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_295319.json:
```json
{
    "body": "<a id='comment:22'></a>Two doctests failing, see patchbot.",
    "created_at": "2017-11-28T07:03:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17400#issuecomment-295319",
    "user": "https://github.com/rwst"
}
```

<a id='comment:22'></a>Two doctests failing, see patchbot.
