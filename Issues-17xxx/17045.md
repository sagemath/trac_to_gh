# Issue 17045: Poset directed_subset() doesn't check for 2. argument

archive/issues_016808.json:
```json
{
    "body": "```\nPoset({0:[1]}).directed_subset([1], 'cat-says-meow')\n```\n\ndoes not give error message. Only 'up' and 'down' should be accepted.\n\n\nBranch/Commit: b2ad1980a0fc795728b0781a7270f8e0b26f04d9\n\nReviewer: Nathann Cohen\n\nAuthor: Jori M\u00e4ntysalo\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/17045\n\n",
    "closed_at": "2014-09-27T12:56:56Z",
    "created_at": "2014-09-26T09:32:40Z",
    "labels": [
        "component: combinatorics",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Poset directed_subset() doesn't check for 2. argument",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17045",
    "user": "https://github.com/jm58660"
}
```
```
Poset({0:[1]}).directed_subset([1], 'cat-says-meow')
```

does not give error message. Only 'up' and 'down' should be accepted.


Branch/Commit: b2ad1980a0fc795728b0781a7270f8e0b26f04d9

Reviewer: Nathann Cohen

Author: Jori MÃ¤ntysalo

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/17045





---

archive/issue_comments_236835.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-09-26T09:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236835",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_236836.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2014-09-26T09:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236836",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_236837.json:
```json
{
    "body": "<a id='comment:4'></a>Could you close #17046 and make all modifications in this ticket ?\n\nNathann",
    "created_at": "2014-09-26T11:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236837",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>Could you close #17046 and make all modifications in this ticket ?

Nathann



---

archive/issue_comments_236838.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 ncohen]:\n> Could you close #17046 and make all modifications in this ticket ?\n\n\nYes. Or at least try, let's see if it works.",
    "created_at": "2014-09-26T12:00:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236838",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:5'></a>Replying to [comment:4 ncohen]:
> Could you close #17046 and make all modifications in this ticket ?


Yes. Or at least try, let's see if it works.



---

archive/issue_comments_236839.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-26T12:05:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236839",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_236840.json:
```json
{
    "body": "<a id='comment:7'></a>Thank you for merging them ! Usually we split tickets when they are very big and/or hard to review, or when they do very unrelated things, but in this case it's all very simple and it is less work for the release manager (who checks ALL of Sage's tests for every ticket, i.e. a LOT of computations).\n\nLet me finish a ticket I am writing and I will review that immediately after.\n\nNathann",
    "created_at": "2014-09-26T12:27:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236840",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>Thank you for merging them ! Usually we split tickets when they are very big and/or hard to review, or when they do very unrelated things, but in this case it's all very simple and it is less work for the release manager (who checks ALL of Sage's tests for every ticket, i.e. a LOT of computations).

Let me finish a ticket I am writing and I will review that immediately after.

Nathann



---

archive/issue_comments_236841.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:7 ncohen]:\n \n> Let me finish a ticket I am writing and I will review that immediately after.\n\n\nNo hurry. This one would have \"extremely trivial\" priority if we would have it.\n\nIn future I'll try to make slightly bigger chunks when correcting minor things like this one.",
    "created_at": "2014-09-26T12:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236841",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:8'></a>Replying to [comment:7 ncohen]:
 
> Let me finish a ticket I am writing and I will review that immediately after.


No hurry. This one would have "extremely trivial" priority if we would have it.

In future I'll try to make slightly bigger chunks when correcting minor things like this one.



---

archive/issue_comments_236842.json:
```json
{
    "body": "<a id='comment:9'></a>Hello again !\n\nTwo comments:\n\n1) I'm sorry to say that if you write `raise ValueError, message` the same guys who complained about your \"x <> y\" last time will come and tell you that it is not \"PEP-<whatever>\". Could you change it into `raise ValueError(\"message\")` ?\n\n2) I do not believe that you need to modify `finite_poset` at all. Indeed, one function calls the other, so if there is anything wrong with respect to `direction` an exception will be raised anyway. What do you think ?\n\nNathann",
    "created_at": "2014-09-26T12:39:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236842",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>Hello again !

Two comments:

1) I'm sorry to say that if you write `raise ValueError, message` the same guys who complained about your "x <> y" last time will come and tell you that it is not "PEP-<whatever>". Could you change it into `raise ValueError("message")` ?

2) I do not believe that you need to modify `finite_poset` at all. Indeed, one function calls the other, so if there is anything wrong with respect to `direction` an exception will be raised anyway. What do you think ?

Nathann



---

archive/issue_comments_236843.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-09-26T12:39:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236843",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_236844.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-26T12:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236844",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_236845.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:9 ncohen]:\n\n> 1) I'm sorry to say that if you write `raise ValueError, message` the same guys who complained about your \"x <> y\" last time will come and tell you that it is not \"PEP-<whatever>\". Could you change it into `raise ValueError(\"message\")` ?\n\n\nDone this. Good to obey PEP-rules, nothing to be sorry about.\n\n> 2) I do not believe that you need to modify `finite_poset` at all. Indeed, one function calls the other, so if there is anything wrong with respect to `direction` an exception will be raised anyway. What do you think ?\n\n\nI don't like the idea. `directed_subsets()` return a function. Hence error message would be seen only after using it.",
    "created_at": "2014-09-26T12:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236845",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:11'></a>Replying to [comment:9 ncohen]:

> 1) I'm sorry to say that if you write `raise ValueError, message` the same guys who complained about your "x <> y" last time will come and tell you that it is not "PEP-<whatever>". Could you change it into `raise ValueError("message")` ?


Done this. Good to obey PEP-rules, nothing to be sorry about.

> 2) I do not believe that you need to modify `finite_poset` at all. Indeed, one function calls the other, so if there is anything wrong with respect to `direction` an exception will be raised anyway. What do you think ?


I don't like the idea. `directed_subsets()` return a function. Hence error message would be seen only after using it.



---

archive/issue_comments_236846.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-09-26T12:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236846",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_236847.json:
```json
{
    "body": "<a id='comment:12'></a>> I don't like the idea. `directed_subsets()` return a function. Hence error message would be seen only after using it.\n\n\nMy mistake, I had not noticed.\n\nNathann",
    "created_at": "2014-09-26T13:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236847",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>> I don't like the idea. `directed_subsets()` return a function. Hence error message would be seen only after using it.


My mistake, I had not noticed.

Nathann



---

archive/issue_comments_236848.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-09-26T13:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236848",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_236849.json:
```json
{
    "body": "<a id='comment:13'></a>Thennnnnnnn it's good to go !\n\nThank you very much for taking the time to clean this code, by the way.\n\nNathann",
    "created_at": "2014-09-26T13:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236849",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>Thennnnnnnn it's good to go !

Thank you very much for taking the time to clean this code, by the way.

Nathann



---

archive/issue_comments_236850.json:
```json
{
    "body": "<a id='comment:14'></a>Btw, if `raise type, text` is against some PEP, then also http://www.sagemath.org/doc/thematic_tutorials/tutorial-programming-python.html#control-structures should be changed.\n\nAlso at least on `graphs/graph_plot.py` function `layout_tree` should be changed, see parameter `orientation`. I left that for now.",
    "created_at": "2014-09-26T13:05:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236850",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:14'></a>Btw, if `raise type, text` is against some PEP, then also http://www.sagemath.org/doc/thematic_tutorials/tutorial-programming-python.html#control-structures should be changed.

Also at least on `graphs/graph_plot.py` function `layout_tree` should be changed, see parameter `orientation`. I left that for now.



---

archive/issue_comments_236851.json:
```json
{
    "body": "<a id='comment:15'></a>Well, change it if you like but as far as I am concerned this can all be changed automatically if we want to. Though apparently people also fear big change sets like that.\n\nI just don't care much either way `:-P`\n\nNathann",
    "created_at": "2014-09-26T13:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236851",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>Well, change it if you like but as far as I am concerned this can all be changed automatically if we want to. Though apparently people also fear big change sets like that.

I just don't care much either way `:-P`

Nathann



---

archive/issue_events_049593.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-27T12:56:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17045#event-49593"
}
```



---

archive/issue_comments_236852.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-09-27T12:56:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17045#issuecomment-236852",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
