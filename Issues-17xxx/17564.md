# Issue 17564: Boilerplate hash, comparison and pickling for biseq_t

archive/issues_017327.json:
```json
{
    "assignees": [],
    "body": "At #16453, Jeroen asked me to implement some useful functions directly for `biseq_t`, not just for `BoundedIntegerSequence`. The hash function has changed, I hope the new one is better.\n\nCC:  @jdemeyer\n\nBranch/Commit: **[`fd3fd82`](https://github.com/sagemath/sagetrac-mirror/commit/fd3fd824ce08e1459ab2c140c59e713425a86e8f)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Simon King**\n\nComponent: **algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17564_\n\n",
    "closed_at": "2015-01-12T18:11:33Z",
    "created_at": "2014-12-30T09:16:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Boilerplate hash, comparison and pickling for biseq_t",
    "type": "issue",
    "updated_at": "2015-01-12T18:11:33Z",
    "url": "https://github.com/sagemath/sage/issues/17564",
    "user": "https://github.com/simon-king-jena"
}
```
At #16453, Jeroen asked me to implement some useful functions directly for `biseq_t`, not just for `BoundedIntegerSequence`. The hash function has changed, I hope the new one is better.

CC:  @jdemeyer

Branch/Commit: **[`fd3fd82`](https://github.com/sagemath/sagetrac-mirror/commit/fd3fd824ce08e1459ab2c140c59e713425a86e8f)**

Reviewer: **Jeroen Demeyer**

Author: **Simon King**

Component: **algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/17564_





---

archive/issue_events_250320.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-12-30T09:16:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17564#event-250320"
}
```



---

archive/issue_events_250321.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-12-30T09:16:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17564#event-250321"
}
```



---

archive/issue_comments_235785.json:
```json
{
    "body": "Branch: **[u/SimonKing/boilerplate_hash__comparison_and_pickling_for_biseq_t](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/boilerplate_hash__comparison_and_pickling_for_biseq_t)**",
    "created_at": "2014-12-30T09:18:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17564#issuecomment-235785",
    "user": "https://github.com/simon-king-jena"
}
```

Branch: **[u/SimonKing/boilerplate_hash__comparison_and_pickling_for_biseq_t](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/boilerplate_hash__comparison_and_pickling_for_biseq_t)**



---

archive/issue_comments_235786.json:
```json
{
    "body": "Author: **Simon King**",
    "created_at": "2014-12-30T09:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17564#issuecomment-235786",
    "user": "https://github.com/simon-king-jena"
}
```

Author: **Simon King**



---

archive/issue_comments_235787.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2a69ab9a9d5d3e276e937ae013bb63046a7eabd\"><code>f2a69ab</code></a></td><td><code>More useful functions for biseq_t</code></td></tr></table>\n",
    "created_at": "2014-12-30T09:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17564#issuecomment-235787",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2a69ab9a9d5d3e276e937ae013bb63046a7eabd"><code>f2a69ab</code></a></td><td><code>More useful functions for biseq_t</code></td></tr></table>




---

archive/issue_comments_235788.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+At #16453, Jeroen asked me to implement some useful functions directly for `biseq_t`, not just for `BoundedIntegerSequence`. The hash function has changed, I hope the new one is better.\n``````\n",
    "created_at": "2014-12-30T09:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17564#issuecomment-235788",
    "user": "https://github.com/simon-king-jena"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+At #16453, Jeroen asked me to implement some useful functions directly for `biseq_t`, not just for `BoundedIntegerSequence`. The hash function has changed, I hope the new one is better.
``````




---

archive/issue_comments_235789.json:
```json
{
    "body": "Commit: **[`f2a69ab`](https://github.com/sagemath/sagetrac-mirror/commit/f2a69ab9a9d5d3e276e937ae013bb63046a7eabd)**",
    "created_at": "2014-12-30T09:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17564#issuecomment-235789",
    "user": "https://github.com/simon-king-jena"
}
```

Commit: **[`f2a69ab`](https://github.com/sagemath/sagetrac-mirror/commit/f2a69ab9a9d5d3e276e937ae013bb63046a7eabd)**



---

archive/issue_events_250322.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-12-30T09:24:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17564#event-250322"
}
```



---

archive/issue_events_250323.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-12-30T09:24:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17564#event-250323"
}
```



---

archive/issue_events_250324.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2014-12-30T09:24:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17564#event-250324"
}
```



---

archive/issue_comments_235790.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI would simply keep the hash function from bitsets, at least it's fast and easy to understand.",
    "created_at": "2014-12-30T10:21:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17564#issuecomment-235790",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

I would simply keep the hash function from bitsets, at least it's fast and easy to understand.



---

archive/issue_comments_235791.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nSorry to say, but your hash is actually much worse: the limb sequence (0,0,0,0,1) has the same hash as (0,0,0,0,0)",
    "created_at": "2014-12-30T10:23:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17564#issuecomment-235791",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

Sorry to say, but your hash is actually much worse: the limb sequence (0,0,0,0,1) has the same hash as (0,0,0,0,0)



---

archive/issue_comments_235792.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@jdemeyer](#comment:4):\n> Sorry to say, but your hash is actually much worse: the limb sequence (0,0,0,0,1) has the same hash as (0,0,0,0,0)\n\nOuch...\n\nOK, I'll return to the bitset hash. And also I should document the new functions.",
    "created_at": "2014-12-30T10:28:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17564#issuecomment-235792",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@jdemeyer](#comment:4):
> Sorry to say, but your hash is actually much worse: the limb sequence (0,0,0,0,1) has the same hash as (0,0,0,0,0)

Ouch...

OK, I'll return to the bitset hash. And also I should document the new functions.



---

archive/issue_comments_235793.json:
```json
{
    "body": "Changed commit from **[`f2a69ab`](https://github.com/sagemath/sagetrac-mirror/commit/f2a69ab9a9d5d3e276e937ae013bb63046a7eabd)** to **[`fd3fd82`](https://github.com/sagemath/sagetrac-mirror/commit/fd3fd824ce08e1459ab2c140c59e713425a86e8f)**",
    "created_at": "2014-12-30T10:39:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17564#issuecomment-235793",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f2a69ab`](https://github.com/sagemath/sagetrac-mirror/commit/f2a69ab9a9d5d3e276e937ae013bb63046a7eabd)** to **[`fd3fd82`](https://github.com/sagemath/sagetrac-mirror/commit/fd3fd824ce08e1459ab2c140c59e713425a86e8f)**



---

archive/issue_comments_235794.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd3fd824ce08e1459ab2c140c59e713425a86e8f\"><code>fd3fd82</code></a></td><td><code>Better hash function for biseq_t. Document the new functions.</code></td></tr></table>\n",
    "created_at": "2014-12-30T10:39:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17564#issuecomment-235794",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd3fd824ce08e1459ab2c140c59e713425a86e8f"><code>fd3fd82</code></a></td><td><code>Better hash function for biseq_t. Document the new functions.</code></td></tr></table>




---

archive/issue_comments_235795.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHope the new hash function is better...\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd3fd824ce08e1459ab2c140c59e713425a86e8f\"><code>fd3fd82</code></a></td><td><code>Better hash function for biseq_t. Document the new functions.</code></td></tr></table>\n",
    "created_at": "2014-12-30T10:40:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17564#issuecomment-235795",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:7" align="right">comment:7</div>

Hope the new hash function is better...

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd3fd824ce08e1459ab2c140c59e713425a86e8f"><code>fd3fd82</code></a></td><td><code>Better hash function for biseq_t. Document the new functions.</code></td></tr></table>




---

archive/issue_comments_235796.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-01-04T22:42:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17564#issuecomment-235796",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_250325.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-01-04T22:42:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17564#event-250325"
}
```



---

archive/issue_events_250326.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-01-04T22:42:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17564#event-250326"
}
```



---

archive/issue_comments_235797.json:
```json
{
    "body": "Changed branch from **[u/SimonKing/boilerplate_hash__comparison_and_pickling_for_biseq_t](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/boilerplate_hash__comparison_and_pickling_for_biseq_t)** to **[`fd3fd82`](https://github.com/sagemath/sagetrac-mirror/commit/fd3fd824ce08e1459ab2c140c59e713425a86e8f)**",
    "created_at": "2015-01-12T18:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17564#issuecomment-235797",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/SimonKing/boilerplate_hash__comparison_and_pickling_for_biseq_t](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/boilerplate_hash__comparison_and_pickling_for_biseq_t)** to **[`fd3fd82`](https://github.com/sagemath/sagetrac-mirror/commit/fd3fd824ce08e1459ab2c140c59e713425a86e8f)**



---

archive/issue_events_250327.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-12T18:11:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17564#event-250327"
}
```



---

archive/issue_events_250328.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4e277a7a77b95b3e194fb6aa9a59c3be59a52d66",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-01-12T18:11:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17564",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17564#event-250328"
}
```
