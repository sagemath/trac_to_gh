# Issue 17464: Computing the automorphism group of a graph with Bliss

archive/issues_017227.json:
```json
{
    "assignees": [],
    "body": "Hello!\n\nI have a suggestion for a big improvement for the Graph Theoretical module of Sage. Right now I am a not in the proper mood to do it myself so I am leaving this here in case anyone is willing to do it or as a TODO note for a later time.\n\nConsider the graph on ~10k vertices located in the file https://www.dropbox.com/s/pbtk2965ti71u9n/graph.txt.gz?dl=0 where each line contains an edge pair.\n\nUsing the standard way in Sage (read graph call automorphism_group() ) takes a few ** hours**  (I'll tell the exact time when it actually finishes) to compute and makes a ** 30GB** memory footprint.\n\nThe same thing can be done using bliss http://www.tcs.tkk.fi/Software/bliss/index.html with no actual memory footprint in **20 seconds.**\n\nSo right now its much cheaper for me to just write the graph into DIMACS format call bliss and parse its output. \n\nI guess the same kind of performance can be obtained using nauty so I suppose there is something OFF with the current implementation of the automorphism group method. IIRC it is written in Python?\n\nHopefully we can make this into a productive patch.\n\n\n\n\nDepends on #17552\nDepends on #18145\n\nCC:  @nathanncohen\n\nBranch: **[`e403f16`](https://github.com/sagemath/sagetrac-mirror/commit/e403f16cdb4e158c0533992c5588188dea46cd11)**\n\nReviewer: **Nathann Cohen**\n\nAuthor: **Jernej Azarija**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17464_\n\n",
    "closed_at": "2015-04-19T01:52:16Z",
    "created_at": "2014-12-08T08:34:05Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Computing the automorphism group of a graph with Bliss",
    "type": "issue",
    "updated_at": "2015-05-20T11:39:11Z",
    "url": "https://github.com/sagemath/sage/issues/17464",
    "user": "https://github.com/sagetrac-azi"
}
```
Hello!

I have a suggestion for a big improvement for the Graph Theoretical module of Sage. Right now I am a not in the proper mood to do it myself so I am leaving this here in case anyone is willing to do it or as a TODO note for a later time.

Consider the graph on ~10k vertices located in the file https://www.dropbox.com/s/pbtk2965ti71u9n/graph.txt.gz?dl=0 where each line contains an edge pair.

Using the standard way in Sage (read graph call automorphism_group() ) takes a few ** hours**  (I'll tell the exact time when it actually finishes) to compute and makes a ** 30GB** memory footprint.

The same thing can be done using bliss http://www.tcs.tkk.fi/Software/bliss/index.html with no actual memory footprint in **20 seconds.**

So right now its much cheaper for me to just write the graph into DIMACS format call bliss and parse its output. 

I guess the same kind of performance can be obtained using nauty so I suppose there is something OFF with the current implementation of the automorphism group method. IIRC it is written in Python?

Hopefully we can make this into a productive patch.




Depends on #17552
Depends on #18145

CC:  @nathanncohen

Branch: **[`e403f16`](https://github.com/sagemath/sagetrac-mirror/commit/e403f16cdb4e158c0533992c5588188dea46cd11)**

Reviewer: **Nathann Cohen**

Author: **Jernej Azarija**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/17464_





---

archive/issue_events_246666.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-08T08:34:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246666"
}
```



---

archive/issue_events_246667.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-08T08:34:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246667"
}
```



---

archive/issue_events_246668.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-08T08:34:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246668"
}
```



---

archive/issue_events_246669.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-08T08:34:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246669"
}
```



---

archive/issue_events_246670.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-26T14:17:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246670"
}
```



---

archive/issue_comments_233763.json:
```json
{
    "body": "Branch: **[u/azi/bliss](https://github.com/sagemath/sagetrac-mirror/tree/u/azi/bliss)**",
    "created_at": "2014-12-26T14:17:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233763",
    "user": "https://github.com/sagetrac-azi"
}
```

Branch: **[u/azi/bliss](https://github.com/sagemath/sagetrac-mirror/tree/u/azi/bliss)**



---

archive/issue_comments_233764.json:
```json
{
    "body": "Commit: **[`3f4553d`](https://github.com/sagemath/sagetrac-mirror/commit/3f4553d1cb40c8d2dbfd55bdef4323877c0b4321)**",
    "created_at": "2014-12-26T14:17:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233764",
    "user": "https://github.com/sagetrac-azi"
}
```

Commit: **[`3f4553d`](https://github.com/sagemath/sagetrac-mirror/commit/3f4553d1cb40c8d2dbfd55bdef4323877c0b4321)**



---

archive/issue_comments_233765.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d29d083f5781f0e866a181bdfa524fd4f9748d84\"><code>d29d083</code></a></td><td><code>Cython wrapper example</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f4553d1cb40c8d2dbfd55bdef4323877c0b4321\"><code>3f4553d</code></a></td><td><code>trac #17464: First attempt at integrating bliss into sage</code></td></tr></table>\n",
    "created_at": "2014-12-26T14:17:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233765",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d29d083f5781f0e866a181bdfa524fd4f9748d84"><code>d29d083</code></a></td><td><code>Cython wrapper example</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f4553d1cb40c8d2dbfd55bdef4323877c0b4321"><code>3f4553d</code></a></td><td><code>trac #17464: First attempt at integrating bliss into sage</code></td></tr></table>




---

archive/issue_comments_233766.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI'd be glad if someone could take a look at this branch. It is far from being \"production ready\" and I mainly posting it here because\n\n1. I want any comments and suggestions if its going in the right direction(to avoid later rewrites :D)\n2. I need someone to explain how to make a spkg so that I can properly include bliss headers and be able to link against bliss.\n3. Discuss what to do with the add_gen function that converts a permutation to cycle notation. Do you agree that I leave it there and avoid using Permutation.to_cycle()?\n4. How to handle digraphs elegantly?\n\nAs is for now, the code correctly compute the aut of a graph/digraph provided that libbliss.a is in the sage lib folder and the location of the bliss header is correctly set in bliss.pyx.\n\n\nI wrote that above question for the general audience but honestly,.. Nathann what do you think??",
    "created_at": "2014-12-26T14:20:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233766",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:2" align="right">comment:2</div>

I'd be glad if someone could take a look at this branch. It is far from being "production ready" and I mainly posting it here because

1. I want any comments and suggestions if its going in the right direction(to avoid later rewrites :D)
2. I need someone to explain how to make a spkg so that I can properly include bliss headers and be able to link against bliss.
3. Discuss what to do with the add_gen function that converts a permutation to cycle notation. Do you agree that I leave it there and avoid using Permutation.to_cycle()?
4. How to handle digraphs elegantly?

As is for now, the code correctly compute the aut of a graph/digraph provided that libbliss.a is in the sage lib folder and the location of the bliss header is correctly set in bliss.pyx.


I wrote that above question for the general audience but honestly,.. Nathann what do you think??



---

archive/issue_comments_233767.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8dcb7e4ffca76715b478ada498be1714e0f38f1\"><code>f8dcb7e</code></a></td><td><code>trac #17464: Added module_list as well</code></td></tr></table>\n",
    "created_at": "2014-12-26T14:23:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233767",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8dcb7e4ffca76715b478ada498be1714e0f38f1"><code>f8dcb7e</code></a></td><td><code>trac #17464: Added module_list as well</code></td></tr></table>




---

archive/issue_comments_233768.json:
```json
{
    "body": "Changed commit from **[`3f4553d`](https://github.com/sagemath/sagetrac-mirror/commit/3f4553d1cb40c8d2dbfd55bdef4323877c0b4321)** to **[`f8dcb7e`](https://github.com/sagemath/sagetrac-mirror/commit/f8dcb7e4ffca76715b478ada498be1714e0f38f1)**",
    "created_at": "2014-12-26T14:23:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233768",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3f4553d`](https://github.com/sagemath/sagetrac-mirror/commit/3f4553d1cb40c8d2dbfd55bdef4323877c0b4321)** to **[`f8dcb7e`](https://github.com/sagemath/sagetrac-mirror/commit/f8dcb7e4ffca76715b478ada498be1714e0f38f1)**



---

archive/issue_comments_233769.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nYoooooooooooo !\n\nWell, so far your branch does not look \"that bad\". The only weird thing is that I do not get why this bliss branch should do that modifications `:-P`\n\n```diff\n+    :meth:`~GenericGraph.geodetic_number` | Returns the geodetic number of the given graph.\n```\n\nThe right way to write this code, however, begins as you say by writing the spkg, as nobody can test it without it. And the right way to do that, as usual is copy and paste.\n\n1) There is a developer's manual that I am trying to improve these days. There is a section I never read about exactly that: http://www.sagemath.org/doc/developer/packaging.html. If you find anything wrong/unclear in there, please fix it if you can. We must make this clear to everybody. If you do not understand, tell me where it is and I will try to fix it.\n\n2) spkgs are rather simple nowadays. The code that **installs** the program is a Sage code, like any other. You will find it in SAGE_ROOT/build/. Take a look at the structure of `buckygen`, for instance: it is an optional graph package, just like bliss will be.\n\n3) That was for the Sage code, but the non-sage code (i.e. the source code of bliss) must be stored in the SAGE_ROOT/upstream folder. You will figure out that the code in build/ is actually instruction about what to do with the bliss-version.tar.bz2 that must be there, and which is only the official bliss release.\n\n4) Then there are he \"checksums\": http://www.sagemath.org/doc/developer/packaging.html#checksums\n\nSo before continuing with this you should create a ticket to add bliss as a spkg. It could be quick, and if you have time right now we can settle it fast, I won't get to bed before one hour at least, I can review it before.\n\nA ticket that adds a new package should contain:\n\n1) A branch that adds the required files in the build/ folder\n\n2) A .tar.bz2 file (hosted wherever you like) that I should download in the upstream/ folder before typing \"sage -i bliss\".\n\nI am a bit offline this evening because I have a very short ethernet cable next to an uncomfortable chair. I come back from time to time to check my emails `:-P`\n\nGood luck !\n\nNathann",
    "created_at": "2014-12-26T15:22:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233769",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:4" align="right">comment:4</div>

Yoooooooooooo !

Well, so far your branch does not look "that bad". The only weird thing is that I do not get why this bliss branch should do that modifications `:-P`

```diff
+    :meth:`~GenericGraph.geodetic_number` | Returns the geodetic number of the given graph.
```

The right way to write this code, however, begins as you say by writing the spkg, as nobody can test it without it. And the right way to do that, as usual is copy and paste.

1) There is a developer's manual that I am trying to improve these days. There is a section I never read about exactly that: http://www.sagemath.org/doc/developer/packaging.html. If you find anything wrong/unclear in there, please fix it if you can. We must make this clear to everybody. If you do not understand, tell me where it is and I will try to fix it.

2) spkgs are rather simple nowadays. The code that **installs** the program is a Sage code, like any other. You will find it in SAGE_ROOT/build/. Take a look at the structure of `buckygen`, for instance: it is an optional graph package, just like bliss will be.

3) That was for the Sage code, but the non-sage code (i.e. the source code of bliss) must be stored in the SAGE_ROOT/upstream folder. You will figure out that the code in build/ is actually instruction about what to do with the bliss-version.tar.bz2 that must be there, and which is only the official bliss release.

4) Then there are he "checksums": http://www.sagemath.org/doc/developer/packaging.html#checksums

So before continuing with this you should create a ticket to add bliss as a spkg. It could be quick, and if you have time right now we can settle it fast, I won't get to bed before one hour at least, I can review it before.

A ticket that adds a new package should contain:

1) A branch that adds the required files in the build/ folder

2) A .tar.bz2 file (hosted wherever you like) that I should download in the upstream/ folder before typing "sage -i bliss".

I am a bit offline this evening because I have a very short ethernet cable next to an uncomfortable chair. I come back from time to time to check my emails `:-P`

Good luck !

Nathann



---

archive/issue_comments_233770.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThanks for the input!! \n\nContinuing our talk here I have a short question. The class definitions of a Graph and Digraph in bliss both contain the same functions add_edge(int i, int j) and change_color(int x, int c).\n\nNow as far as I see *if* we patch bliss to make these two functions a (virtual) part of the abstract graph class then we could do something like\n\n```\nAbstractGraph *g;\ng = either Graph or Digraph\ng.add_edge(i,j)\ng.change_color(i,c)\ng.find_automorphisms()\n```\n\nI think this would be the most efficient way to handle digraphs/graphs. \n\nDo you think this will work out or do you see any other way to handle these two types?",
    "created_at": "2014-12-27T11:37:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233770",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:5" align="right">comment:5</div>

Thanks for the input!! 

Continuing our talk here I have a short question. The class definitions of a Graph and Digraph in bliss both contain the same functions add_edge(int i, int j) and change_color(int x, int c).

Now as far as I see *if* we patch bliss to make these two functions a (virtual) part of the abstract graph class then we could do something like

```
AbstractGraph *g;
g = either Graph or Digraph
g.add_edge(i,j)
g.change_color(i,c)
g.find_automorphisms()
```

I think this would be the most efficient way to handle digraphs/graphs. 

Do you think this will work out or do you see any other way to handle these two types?



---

archive/issue_comments_233771.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nYo !\n\n> Continuing our talk here I have a short question. The class definitions of a Graph and Digraph in bliss both contain the same functions add_edge(int i, int j) and change_color(int x, int c).\n> \n> Now as far as I see *if* we patch bliss to make these two functions a (virtual) part of the abstract graph class then we could do something like\n\nOh. Well... It would be best to not patch anything in bliss, just in case they release a new version... You can add whatever code you need in the Sage code though.\n\nBut really if it is just to avoid some \"if\", perhaps that's going a bit far `O_o`\n\nNathann",
    "created_at": "2014-12-27T11:44:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233771",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

Yo !

> Continuing our talk here I have a short question. The class definitions of a Graph and Digraph in bliss both contain the same functions add_edge(int i, int j) and change_color(int x, int c).
> 
> Now as far as I see *if* we patch bliss to make these two functions a (virtual) part of the abstract graph class then we could do something like

Oh. Well... It would be best to not patch anything in bliss, just in case they release a new version... You can add whatever code you need in the Sage code though.

But really if it is just to avoid some "if", perhaps that's going a bit far `O_o`

Nathann



---

archive/issue_comments_233772.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nNote: it would be cool to make bliss the default algorithm for the computation of automorphism group <when it is available>. Some other code call this graph automorphism code: we should of course add an optional flag there to ask those function to use bliss, but it could also help if it was used by default when available.\n\nJust in case we forget it, from time to time. 'Cause I think that this code is really called from many obscure places in Sage.\n\nNathann",
    "created_at": "2014-12-27T11:57:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233772",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

Note: it would be cool to make bliss the default algorithm for the computation of automorphism group <when it is available>. Some other code call this graph automorphism code: we should of course add an optional flag there to ask those function to use bliss, but it could also help if it was used by default when available.

Just in case we forget it, from time to time. 'Cause I think that this code is really called from many obscure places in Sage.

Nathann



---

archive/issue_comments_233773.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@nathanncohen](#comment%3A6):\n> Yo !\n> \n> > Continuing our talk here I have a short question. The class definitions of a Graph and Digraph in bliss both contain the same functions add_edge(int i, int j) and change_color(int x, int c).\n> > \n> > Now as far as I see *if* we patch bliss to make these two functions a (virtual) part of the abstract graph class then we could do something like\n\n> \n> Oh. Well... It would be best to not patch anything in bliss, just in case they release a new version... You can add whatever code you need in the Sage code though.\n> \n> But really if it is just to avoid some \"if\", perhaps that's going a bit far `O_o`\n\nYes I am most likely over-thinking it. Though with the if part we get an awful lot of duplicated (ugly). I guess there is some other way to make it nice while still being efficient - more to this when the actual branch is ready for review.\n\nBest,\n\nJernej\n\n> \n> Nathann",
    "created_at": "2014-12-27T19:47:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233773",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@nathanncohen](#comment%3A6):
> Yo !
> 
> > Continuing our talk here I have a short question. The class definitions of a Graph and Digraph in bliss both contain the same functions add_edge(int i, int j) and change_color(int x, int c).
> > 
> > Now as far as I see *if* we patch bliss to make these two functions a (virtual) part of the abstract graph class then we could do something like

> 
> Oh. Well... It would be best to not patch anything in bliss, just in case they release a new version... You can add whatever code you need in the Sage code though.
> 
> But really if it is just to avoid some "if", perhaps that's going a bit far `O_o`

Yes I am most likely over-thinking it. Though with the if part we get an awful lot of duplicated (ugly). I guess there is some other way to make it nice while still being efficient - more to this when the actual branch is ready for review.

Best,

Jernej

> 
> Nathann



---

archive/issue_comments_233774.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@nathanncohen](#comment%3A7):\n> Note: it would be cool to make bliss the default algorithm for the computation of automorphism group <when it is available>. Some other code call this graph automorphism code: we should of course add an optional flag there to ask those function to use bliss, but it could also help if it was used by default when available.\n\nI agree ! Let me first check how this performance thing works out for general graphs.\n\n> \n> Just in case we forget it, from time to time. 'Cause I think that this code is really called from many obscure places in Sage.\n\nWhich code, the automorphism thing?\n> \n> Nathann",
    "created_at": "2014-12-27T19:48:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233774",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@nathanncohen](#comment%3A7):
> Note: it would be cool to make bliss the default algorithm for the computation of automorphism group <when it is available>. Some other code call this graph automorphism code: we should of course add an optional flag there to ask those function to use bliss, but it could also help if it was used by default when available.

I agree ! Let me first check how this performance thing works out for general graphs.

> 
> Just in case we forget it, from time to time. 'Cause I think that this code is really called from many obscure places in Sage.

Which code, the automorphism thing?
> 
> Nathann



---

archive/issue_comments_233775.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n> > Just in case we forget it, from time to time. 'Cause I think that this code is really called from many obscure places in Sage.\n\n> Which code, the automorphism thing?\n\nYep. I'd be surprised if all functions named \"automorphism_group\" in Sage don't redirect to that in the end.\n\nNathann",
    "created_at": "2014-12-28T03:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233775",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:10" align="right">comment:10</div>

> > Just in case we forget it, from time to time. 'Cause I think that this code is really called from many obscure places in Sage.

> Which code, the automorphism thing?

Yep. I'd be surprised if all functions named "automorphism_group" in Sage don't redirect to that in the end.

Nathann



---

archive/issue_comments_233776.json:
```json
{
    "body": "Changed commit from **[`f8dcb7e`](https://github.com/sagemath/sagetrac-mirror/commit/f8dcb7e4ffca76715b478ada498be1714e0f38f1)** to none",
    "created_at": "2014-12-28T11:02:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233776",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[`f8dcb7e`](https://github.com/sagemath/sagetrac-mirror/commit/f8dcb7e4ffca76715b478ada498be1714e0f38f1)** to none



---

archive/issue_comments_233777.json:
```json
{
    "body": "Changed branch from **[u/azi/bliss](https://github.com/sagemath/sagetrac-mirror/tree/u/azi/bliss)** to **[public/bliss](https://github.com/sagemath/sagetrac-mirror/tree/public/bliss)**",
    "created_at": "2014-12-28T11:02:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233777",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/azi/bliss](https://github.com/sagemath/sagetrac-mirror/tree/u/azi/bliss)** to **[public/bliss](https://github.com/sagemath/sagetrac-mirror/tree/public/bliss)**



---

archive/issue_comments_233778.json:
```json
{
    "body": "Commit: **[`f8e2618`](https://github.com/sagemath/sagetrac-mirror/commit/f8e2618b7b644a6bee364379405485a5c8468418)**",
    "created_at": "2014-12-28T11:03:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233778",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`f8e2618`](https://github.com/sagemath/sagetrac-mirror/commit/f8e2618b7b644a6bee364379405485a5c8468418)**



---

archive/issue_comments_233779.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/343b1450c92c6dc52c2cd7adabcde7abdaa8b9ea\"><code>343b145</code></a></td><td><code>trac #17552: Initial attempt at creating a SPKG for bliss</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e2d04f26fdab0a0313d34ba46637716fcd79e6c\"><code>0e2d04f</code></a></td><td><code>trac #17552: review</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b353d5f8800fec1fdddada1e25a403f13d6633ce\"><code>b353d5f</code></a></td><td><code>trac #17552: Reviewing the review</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6239deadd908ae0158ae1f63d253ba334b761d98\"><code>6239dea</code></a></td><td><code>trac #17552: Added copying of headers to the include dir</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7cb683c2d153d561e14ad81fe142fc524128e2f1\"><code>7cb683c</code></a></td><td><code>trac #17552: Added move of \"kqueue.hh\" header to local/include</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22225881e9a912d7e97a4f7f409666fc9caffa9a\"><code>2222588</code></a></td><td><code>Cython wrapper example</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d56af34a55a617457f95c89544ccbbed1f799d1\"><code>9d56af3</code></a></td><td><code>trac #17464: First attempt at integrating bliss into sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85ef58cad5d19d8cf40cb5b0773da179117f49de\"><code>85ef58c</code></a></td><td><code>trac #17464: Added module_list as well</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/696590c45392a694406f90aca555f8ca8e71b24b\"><code>696590c</code></a></td><td><code>trac #17464: few modifications to the bliss wrapper</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8e2618b7b644a6bee364379405485a5c8468418\"><code>f8e2618</code></a></td><td><code>trac #17464: spliting graph/digraph creating function</code></td></tr></table>\n",
    "created_at": "2014-12-28T11:03:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233779",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/343b1450c92c6dc52c2cd7adabcde7abdaa8b9ea"><code>343b145</code></a></td><td><code>trac #17552: Initial attempt at creating a SPKG for bliss</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e2d04f26fdab0a0313d34ba46637716fcd79e6c"><code>0e2d04f</code></a></td><td><code>trac #17552: review</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b353d5f8800fec1fdddada1e25a403f13d6633ce"><code>b353d5f</code></a></td><td><code>trac #17552: Reviewing the review</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6239deadd908ae0158ae1f63d253ba334b761d98"><code>6239dea</code></a></td><td><code>trac #17552: Added copying of headers to the include dir</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7cb683c2d153d561e14ad81fe142fc524128e2f1"><code>7cb683c</code></a></td><td><code>trac #17552: Added move of "kqueue.hh" header to local/include</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22225881e9a912d7e97a4f7f409666fc9caffa9a"><code>2222588</code></a></td><td><code>Cython wrapper example</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d56af34a55a617457f95c89544ccbbed1f799d1"><code>9d56af3</code></a></td><td><code>trac #17464: First attempt at integrating bliss into sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85ef58cad5d19d8cf40cb5b0773da179117f49de"><code>85ef58c</code></a></td><td><code>trac #17464: Added module_list as well</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/696590c45392a694406f90aca555f8ca8e71b24b"><code>696590c</code></a></td><td><code>trac #17464: few modifications to the bliss wrapper</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8e2618b7b644a6bee364379405485a5c8468418"><code>f8e2618</code></a></td><td><code>trac #17464: spliting graph/digraph creating function</code></td></tr></table>




---

archive/issue_comments_233780.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe speedup looks promising. Just a quick preview :\n\n```\nsage: G = graphs.CubeGraph(4)\nsage: %timeit automorphism_group_bliss(G)\n1000 loops, best of 3: 885 \u00b5s per loop\nsage: %timeit G.automorphism_group()\n1000 loops, best of 3: 1.31 ms per loop\n```\n\n```\nsage: G = graphs.GeneralizedPetersenGraph(250,2)\nsage: %timeit automorphism_group_bliss(G)\n100 loops, best of 3: 7.21 ms per loop\nsage: %timeit G.automorphism_group()\n10 loops, best of 3: 45.8 ms per loop\n```\n\n```\nsage: G.order()\nsage: 9369\nsage: t1 = time() ; A = automorphism_group_bliss(G); t2 = time()\nsage: t2-t1\n37.43013310432434\nsage: t1 = time() ; A = G.automorphism_group(); t2 = time() # uses 50% of RAM\nsage: t2-t1\n624.5415680408478\n```\n\nAsymmetric graphs:\n\n```\nsage: G = graphs.RandomGNP(500,0.8)\nsage: %timeit G.automorphism_group()\n1 loops, best of 3: 499 ms per loop\nsage: %timeit automorphism_group_bliss(G)\n10 loops, best of 3: 163 ms per loop\n\nsage: G = graphs.RandomGNP(3300, 0.1)\nsage: %timeit automorphism_group_bliss(G)\n1 loops, best of 3: 923 ms per loop\nsage: %timeit G.automorphism_group()\n1 loops, best of 3: 6.49 s per loop\n\n```",
    "created_at": "2014-12-28T12:57:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233780",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:13" align="right">comment:13</div>

The speedup looks promising. Just a quick preview :

```
sage: G = graphs.CubeGraph(4)
sage: %timeit automorphism_group_bliss(G)
1000 loops, best of 3: 885 µs per loop
sage: %timeit G.automorphism_group()
1000 loops, best of 3: 1.31 ms per loop
```

```
sage: G = graphs.GeneralizedPetersenGraph(250,2)
sage: %timeit automorphism_group_bliss(G)
100 loops, best of 3: 7.21 ms per loop
sage: %timeit G.automorphism_group()
10 loops, best of 3: 45.8 ms per loop
```

```
sage: G.order()
sage: 9369
sage: t1 = time() ; A = automorphism_group_bliss(G); t2 = time()
sage: t2-t1
37.43013310432434
sage: t1 = time() ; A = G.automorphism_group(); t2 = time() # uses 50% of RAM
sage: t2-t1
624.5415680408478
```

Asymmetric graphs:

```
sage: G = graphs.RandomGNP(500,0.8)
sage: %timeit G.automorphism_group()
1 loops, best of 3: 499 ms per loop
sage: %timeit automorphism_group_bliss(G)
10 loops, best of 3: 163 ms per loop

sage: G = graphs.RandomGNP(3300, 0.1)
sage: %timeit automorphism_group_bliss(G)
1 loops, best of 3: 923 ms per loop
sage: %timeit G.automorphism_group()
1 loops, best of 3: 6.49 s per loop

```



---

archive/issue_comments_233781.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nLooks good ! I'm eager to use this in my hypergraph computations `:-PPPP`\n\nNathann",
    "created_at": "2014-12-29T04:42:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233781",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

Looks good ! I'm eager to use this in my hypergraph computations `:-PPPP`

Nathann



---

archive/issue_comments_233782.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nFor the modules_list.py file: look in the same file for occurrences of \"CPLEX\" or \"gurobi\". They are also optional packages, and for optional packages you should first make sure that they are installed before asking Sage to compile the .pyx.\n\nNathann",
    "created_at": "2014-12-29T05:01:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233782",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:15" align="right">comment:15</div>

For the modules_list.py file: look in the same file for occurrences of "CPLEX" or "gurobi". They are also optional packages, and for optional packages you should first make sure that they are installed before asking Sage to compile the .pyx.

Nathann



---

archive/issue_comments_233783.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nDid this! Also tested your example from the other day.\n\nA workable branch is now available at public/bliss2. I am having a mismatch trying to push it to public/bliss.\n\nBefore we change Graph.canonical_form,is_isomorphic,automorphism_group I suggest that we address the FIXME stuff in the bliss.pyx code.\n\nAnother \"issue\" that is not in the code is what are we to do with the heuristics. There are a few heuristics for bliss and we can make them as an available choice for Sage or just go ahead with the default one.\n\nLet me know what you think,\n\nJernej\n\nOhh, and here is your bipartite graph example:\n\n```\nsage: t1 = time() ; A = automorphism_group_bliss(G); t2 = time()\nsage: t2-t1\n0.15731596946716309\nsage: t1 = time() ; A = G.automorphism_group(); t2 = time()\n....... indefinitely..............\n```",
    "created_at": "2014-12-29T11:11:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233783",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:16" align="right">comment:16</div>

Did this! Also tested your example from the other day.

A workable branch is now available at public/bliss2. I am having a mismatch trying to push it to public/bliss.

Before we change Graph.canonical_form,is_isomorphic,automorphism_group I suggest that we address the FIXME stuff in the bliss.pyx code.

Another "issue" that is not in the code is what are we to do with the heuristics. There are a few heuristics for bliss and we can make them as an available choice for Sage or just go ahead with the default one.

Let me know what you think,

Jernej

Ohh, and here is your bipartite graph example:

```
sage: t1 = time() ; A = automorphism_group_bliss(G); t2 = time()
sage: t2-t1
0.15731596946716309
sage: t1 = time() ; A = G.automorphism_group(); t2 = time()
....... indefinitely..............
```



---

archive/issue_comments_233784.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48805f52bd66dbf9b26c06fff56db9f5fcbd1227\"><code>48805f5</code></a></td><td><code>Cython wrapper example</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95dcb37708f3d87f5d741e6d8b0408e702b0704d\"><code>95dcb37</code></a></td><td><code>trac #17464: First attempt at integrating bliss into sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50eb67f7f3d24836a859ee3fcc7c4c57fe5b98b2\"><code>50eb67f</code></a></td><td><code>trac #17464: Added module_list as well</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/076a55e28bd2086bf45b23f1794b6a8b88cf4e03\"><code>076a55e</code></a></td><td><code>trac #17464: few modifications to the bliss wrapper</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ebba1aeaf282617a539d426c06331a9d772e0c45\"><code>ebba1ae</code></a></td><td><code>trac #17464: spliting graph/digraph creating function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e0caa8c5a3b9aa985641f4b568d4b2eea32b7de\"><code>3e0caa8</code></a></td><td><code>trac #17552: Added move of \"kqueue.hh\" header to local/include</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7fe9974b0a49b165d1b394face4971c58c571a24\"><code>7fe9974</code></a></td><td><code>trac #17522: idk</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/152b2eb748fa36b4306ac12d13433c6e9b741be3\"><code>152b2eb</code></a></td><td><code>trac #17464: Working version of bliss wrapper including isomorphism testing and computation of canonical forms.</code></td></tr></table>\n",
    "created_at": "2014-12-29T11:11:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233784",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:17"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48805f52bd66dbf9b26c06fff56db9f5fcbd1227"><code>48805f5</code></a></td><td><code>Cython wrapper example</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95dcb37708f3d87f5d741e6d8b0408e702b0704d"><code>95dcb37</code></a></td><td><code>trac #17464: First attempt at integrating bliss into sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50eb67f7f3d24836a859ee3fcc7c4c57fe5b98b2"><code>50eb67f</code></a></td><td><code>trac #17464: Added module_list as well</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/076a55e28bd2086bf45b23f1794b6a8b88cf4e03"><code>076a55e</code></a></td><td><code>trac #17464: few modifications to the bliss wrapper</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ebba1aeaf282617a539d426c06331a9d772e0c45"><code>ebba1ae</code></a></td><td><code>trac #17464: spliting graph/digraph creating function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e0caa8c5a3b9aa985641f4b568d4b2eea32b7de"><code>3e0caa8</code></a></td><td><code>trac #17552: Added move of "kqueue.hh" header to local/include</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7fe9974b0a49b165d1b394face4971c58c571a24"><code>7fe9974</code></a></td><td><code>trac #17522: idk</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/152b2eb748fa36b4306ac12d13433c6e9b741be3"><code>152b2eb</code></a></td><td><code>trac #17464: Working version of bliss wrapper including isomorphism testing and computation of canonical forms.</code></td></tr></table>




---

archive/issue_comments_233785.json:
```json
{
    "body": "Changed branch from **[public/bliss](https://github.com/sagemath/sagetrac-mirror/tree/public/bliss)** to **[public/bliss2](https://github.com/sagemath/sagetrac-mirror/tree/public/bliss2)**",
    "created_at": "2014-12-29T11:11:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233785",
    "user": "https://github.com/sagetrac-azi"
}
```

Changed branch from **[public/bliss](https://github.com/sagemath/sagetrac-mirror/tree/public/bliss)** to **[public/bliss2](https://github.com/sagemath/sagetrac-mirror/tree/public/bliss2)**



---

archive/issue_events_246671.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-29T11:11:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246671"
}
```



---

archive/issue_events_246672.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2014-12-29T11:11:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246672"
}
```



---

archive/issue_comments_233786.json:
```json
{
    "body": "Changed commit from **[`f8e2618`](https://github.com/sagemath/sagetrac-mirror/commit/f8e2618b7b644a6bee364379405485a5c8468418)** to **[`152b2eb`](https://github.com/sagemath/sagetrac-mirror/commit/152b2eb748fa36b4306ac12d13433c6e9b741be3)**",
    "created_at": "2014-12-29T11:11:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233786",
    "user": "https://github.com/sagetrac-azi"
}
```

Changed commit from **[`f8e2618`](https://github.com/sagemath/sagetrac-mirror/commit/f8e2618b7b644a6bee364379405485a5c8468418)** to **[`152b2eb`](https://github.com/sagemath/sagetrac-mirror/commit/152b2eb748fa36b4306ac12d13433c6e9b741be3)**



---

archive/issue_comments_233787.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nOh wow what a mess again...",
    "created_at": "2014-12-29T11:11:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233787",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:18" align="right">comment:18</div>

Oh wow what a mess again...



---

archive/issue_comments_233788.json:
```json
{
    "body": "Changed commit from **[`152b2eb`](https://github.com/sagemath/sagetrac-mirror/commit/152b2eb748fa36b4306ac12d13433c6e9b741be3)** to **[`f8e2618`](https://github.com/sagemath/sagetrac-mirror/commit/f8e2618b7b644a6bee364379405485a5c8468418)**",
    "created_at": "2014-12-29T11:12:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233788",
    "user": "https://github.com/sagetrac-azi"
}
```

Changed commit from **[`152b2eb`](https://github.com/sagemath/sagetrac-mirror/commit/152b2eb748fa36b4306ac12d13433c6e9b741be3)** to **[`f8e2618`](https://github.com/sagemath/sagetrac-mirror/commit/f8e2618b7b644a6bee364379405485a5c8468418)**



---

archive/issue_comments_233789.json:
```json
{
    "body": "Changed branch from **[public/bliss2](https://github.com/sagemath/sagetrac-mirror/tree/public/bliss2)** to **[public/bliss](https://github.com/sagemath/sagetrac-mirror/tree/public/bliss)**",
    "created_at": "2014-12-29T11:12:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233789",
    "user": "https://github.com/sagetrac-azi"
}
```

Changed branch from **[public/bliss2](https://github.com/sagemath/sagetrac-mirror/tree/public/bliss2)** to **[public/bliss](https://github.com/sagemath/sagetrac-mirror/tree/public/bliss)**



---

archive/issue_comments_233790.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7cb683c2d153d561e14ad81fe142fc524128e2f1\"><code>7cb683c</code></a></td><td><code>trac #17552: Added move of \"kqueue.hh\" header to local/include</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22225881e9a912d7e97a4f7f409666fc9caffa9a\"><code>2222588</code></a></td><td><code>Cython wrapper example</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d56af34a55a617457f95c89544ccbbed1f799d1\"><code>9d56af3</code></a></td><td><code>trac #17464: First attempt at integrating bliss into sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85ef58cad5d19d8cf40cb5b0773da179117f49de\"><code>85ef58c</code></a></td><td><code>trac #17464: Added module_list as well</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/696590c45392a694406f90aca555f8ca8e71b24b\"><code>696590c</code></a></td><td><code>trac #17464: few modifications to the bliss wrapper</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8e2618b7b644a6bee364379405485a5c8468418\"><code>f8e2618</code></a></td><td><code>trac #17464: spliting graph/digraph creating function</code></td></tr></table>\n",
    "created_at": "2014-12-29T11:12:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233790",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:19"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7cb683c2d153d561e14ad81fe142fc524128e2f1"><code>7cb683c</code></a></td><td><code>trac #17552: Added move of "kqueue.hh" header to local/include</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22225881e9a912d7e97a4f7f409666fc9caffa9a"><code>2222588</code></a></td><td><code>Cython wrapper example</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d56af34a55a617457f95c89544ccbbed1f799d1"><code>9d56af3</code></a></td><td><code>trac #17464: First attempt at integrating bliss into sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85ef58cad5d19d8cf40cb5b0773da179117f49de"><code>85ef58c</code></a></td><td><code>trac #17464: Added module_list as well</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/696590c45392a694406f90aca555f8ca8e71b24b"><code>696590c</code></a></td><td><code>trac #17464: few modifications to the bliss wrapper</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8e2618b7b644a6bee364379405485a5c8468418"><code>f8e2618</code></a></td><td><code>trac #17464: spliting graph/digraph creating function</code></td></tr></table>




---

archive/issue_comments_233791.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReverted back to the public/bliss branch, apparently I've pushed some old unrelated nonsesne...",
    "created_at": "2014-12-29T11:12:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233791",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:20" align="right">comment:20</div>

Reverted back to the public/bliss branch, apparently I've pushed some old unrelated nonsesne...



---

archive/issue_comments_233792.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c37cb81e7bfbc58f953035054dd4c30d0750880\"><code>3c37cb8</code></a></td><td><code>trac #17464: First workable version of bliss</code></td></tr></table>\n",
    "created_at": "2014-12-29T11:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233792",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c37cb81e7bfbc58f953035054dd4c30d0750880"><code>3c37cb8</code></a></td><td><code>trac #17464: First workable version of bliss</code></td></tr></table>




---

archive/issue_comments_233793.json:
```json
{
    "body": "Changed commit from **[`f8e2618`](https://github.com/sagemath/sagetrac-mirror/commit/f8e2618b7b644a6bee364379405485a5c8468418)** to **[`3c37cb8`](https://github.com/sagemath/sagetrac-mirror/commit/3c37cb81e7bfbc58f953035054dd4c30d0750880)**",
    "created_at": "2014-12-29T11:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233793",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f8e2618`](https://github.com/sagemath/sagetrac-mirror/commit/f8e2618b7b644a6bee364379405485a5c8468418)** to **[`3c37cb8`](https://github.com/sagemath/sagetrac-mirror/commit/3c37cb81e7bfbc58f953035054dd4c30d0750880)**



---

archive/issue_comments_233794.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI think this last pushed branch should be good.",
    "created_at": "2014-12-29T11:20:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233794",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:22" align="right">comment:22</div>

I think this last pushed branch should be good.



---

archive/issue_comments_233795.json:
```json
{
    "body": "Dependencies: **#17552**",
    "created_at": "2014-12-29T11:22:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233795",
    "user": "https://github.com/nathanncohen"
}
```

Dependencies: **#17552**



---

archive/issue_comments_233796.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nYo !\n\n> Before we change Graph.canonical_form,is_isomorphic,automorphism_group I suggest that we address the FIXME stuff in the bliss.pyx code.\n\nI am already writing some code at the moment and when I will be done I must go back to my blackboard. Is there is some specific question that you have for this patch please ask it, but if I begin to look at bliss' API, understand your code and answer the questions that you wrote inside it will probably take me as much time as writing the interface from scratch `:-P`\n\n> Another \"issue\" that is not in the code is what are we to do with the heuristics. There are a few heuristics for bliss and we can make them as an available choice for Sage or just go ahead with the default one.\n\nThe current branch contains already many commits, and there are many things to pay attention to (we really don't want this code to return wrong results because of a typo) so it will probably be best to keep this branch to a minimum.\n\nThat does not mean that anything will have to be delayed: this branch will be sooner in `positive_review`, and then you can expose those features in another ticket.\n\nGood luck ! `:-P`\n\nNathann",
    "created_at": "2014-12-29T12:33:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233796",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:24" align="right">comment:24</div>

Yo !

> Before we change Graph.canonical_form,is_isomorphic,automorphism_group I suggest that we address the FIXME stuff in the bliss.pyx code.

I am already writing some code at the moment and when I will be done I must go back to my blackboard. Is there is some specific question that you have for this patch please ask it, but if I begin to look at bliss' API, understand your code and answer the questions that you wrote inside it will probably take me as much time as writing the interface from scratch `:-P`

> Another "issue" that is not in the code is what are we to do with the heuristics. There are a few heuristics for bliss and we can make them as an available choice for Sage or just go ahead with the default one.

The current branch contains already many commits, and there are many things to pay attention to (we really don't want this code to return wrong results because of a typo) so it will probably be best to keep this branch to a minimum.

That does not mean that anything will have to be delayed: this branch will be sooner in `positive_review`, and then you can expose those features in another ticket.

Good luck ! `:-P`

Nathann



---

archive/issue_comments_233797.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@nathanncohen](#comment%3A24):\n> Yo !\n> \n> > Before we change Graph.canonical_form,is_isomorphic,automorphism_group I suggest that we address >the FIXME stuff in the bliss.pyx code.\n\n> \n> I am already writing some code at the moment and when I will be done I must go back to my blackboard. Is there is some specific question that you have for this patch please ask it, but if I begin to look at bliss' API, understand your code and answer the questions that you wrote inside it will probably take me as much time as writing the interface from scratch `:-P`\n\nOkay.\n\nSooo\n\n1. Bliss returns a list of automorphisms as bijections. There is a function inside the code that then in one pass creates the respective cycle notation for the permutation while also applying the labelling of the graph. We have Permutation.to_cycle() that does the job but only on integer valued bijections. As is I'd like to leave this function in bliss.pyx and then perhaps once labelled permutations are supported by to_cycle(), revert to that. The main reason being that I am using Sage on graphs with 700k vertices and its a pain to have to iterate over and over for the sake of labels.\n\n2. There is a very erratic bug  using bliss on digraphs.\n\n```\n    sage: D = digraphs.Kautz(10,2,1)\n    sage: from sage.graphs.bliss import *\n    sage: D.automorphism_group().is_isomorphic(automorphism_group(D))\n    True\n    sage: D.automorphism_group().is_isomorphic(automorphism_group(D))\n    Bliss fatal error: Internal error - unknown splitting heuristics\n    Aborting!\n```\n\nI have no clue why this is happening. Do you have any intuition as to where to look for the issue? The code for Graph/Digraph that raises this exception is identical yet this only happens sporadically with digraphs.\n\nAs far as technical questions go, this are the main things I need some input about.\n\nBest,\n\nJernej\n\n> > Another \"issue\" that is not in the code is what are we to do with the heuristics. There are a few heuristics for bliss and we can make them as an available choice for Sage or just go ahead with the default one.\n\n> \n> The current branch contains already many commits, and there are many things to pay attention to (we really don't want this code to return wrong results because of a typo) so it will probably be best to keep this branch to a minimum.\n> \n> That does not mean that anything will have to be delayed: this branch will be sooner in `positive_review`, and then you can expose those features in another ticket.\n> \n> Good luck ! `:-P`\n> \n> Nathann",
    "created_at": "2014-12-29T12:47:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233797",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@nathanncohen](#comment%3A24):
> Yo !
> 
> > Before we change Graph.canonical_form,is_isomorphic,automorphism_group I suggest that we address >the FIXME stuff in the bliss.pyx code.

> 
> I am already writing some code at the moment and when I will be done I must go back to my blackboard. Is there is some specific question that you have for this patch please ask it, but if I begin to look at bliss' API, understand your code and answer the questions that you wrote inside it will probably take me as much time as writing the interface from scratch `:-P`

Okay.

Sooo

1. Bliss returns a list of automorphisms as bijections. There is a function inside the code that then in one pass creates the respective cycle notation for the permutation while also applying the labelling of the graph. We have Permutation.to_cycle() that does the job but only on integer valued bijections. As is I'd like to leave this function in bliss.pyx and then perhaps once labelled permutations are supported by to_cycle(), revert to that. The main reason being that I am using Sage on graphs with 700k vertices and its a pain to have to iterate over and over for the sake of labels.

2. There is a very erratic bug  using bliss on digraphs.

```
    sage: D = digraphs.Kautz(10,2,1)
    sage: from sage.graphs.bliss import *
    sage: D.automorphism_group().is_isomorphic(automorphism_group(D))
    True
    sage: D.automorphism_group().is_isomorphic(automorphism_group(D))
    Bliss fatal error: Internal error - unknown splitting heuristics
    Aborting!
```

I have no clue why this is happening. Do you have any intuition as to where to look for the issue? The code for Graph/Digraph that raises this exception is identical yet this only happens sporadically with digraphs.

As far as technical questions go, this are the main things I need some input about.

Best,

Jernej

> > Another "issue" that is not in the code is what are we to do with the heuristics. There are a few heuristics for bliss and we can make them as an available choice for Sage or just go ahead with the default one.

> 
> The current branch contains already many commits, and there are many things to pay attention to (we really don't want this code to return wrong results because of a typo) so it will probably be best to keep this branch to a minimum.
> 
> That does not mean that anything will have to be delayed: this branch will be sooner in `positive_review`, and then you can expose those features in another ticket.
> 
> Good luck ! `:-P`
> 
> Nathann



---

archive/issue_comments_233798.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nYoooooo !\n\n> 1. Bliss returns a list of automorphisms as bijections.\n\nWhich are the automorphisms which generate the full automorphism group of the graph ?\n\n> There is a function inside the code that then in one pass creates the respective cycle notation for the permutation while also applying the labelling of the graph. We have Permutation.to_cycle() that does the job but only on integer valued bijections. As is I'd like to leave this function in bliss.pyx and then perhaps once labelled permutations are supported by to_cycle(), revert to that. The main reason being that I am using Sage on graphs with 700k vertices and its a pain to have to iterate over and over for the sake of labels.\n\n+1 to that. It is not a very big amount of code, and one can never tell the amount of useless computations done by the `Permutation` code anyway `:-P`\n\n> 2. There is a very erratic bug  using bliss on digraphs.\n\n>\n>   I have no clue why this is happening. Do you have any intuition as to where to look for the issue? The code for Graph/Digraph that raises this exception is identical yet this only happens sporadically with digraphs.\n\nBut can it happen the first time you call the code, or only after several attempts ? This looks like a memory leak problem... Unless it is a bug in bliss `O_o`\n\nActually, reading the code a bit, I am totally scared by how you cast Python objects like the two dictionaries to a bliss function. It expects C arrays, and you give it a pointer to a Python dictionary ? `O_o;;;;`\n\nNathann",
    "created_at": "2014-12-29T13:00:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233798",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:26" align="right">comment:26</div>

Yoooooo !

> 1. Bliss returns a list of automorphisms as bijections.

Which are the automorphisms which generate the full automorphism group of the graph ?

> There is a function inside the code that then in one pass creates the respective cycle notation for the permutation while also applying the labelling of the graph. We have Permutation.to_cycle() that does the job but only on integer valued bijections. As is I'd like to leave this function in bliss.pyx and then perhaps once labelled permutations are supported by to_cycle(), revert to that. The main reason being that I am using Sage on graphs with 700k vertices and its a pain to have to iterate over and over for the sake of labels.

+1 to that. It is not a very big amount of code, and one can never tell the amount of useless computations done by the `Permutation` code anyway `:-P`

> 2. There is a very erratic bug  using bliss on digraphs.

>
>   I have no clue why this is happening. Do you have any intuition as to where to look for the issue? The code for Graph/Digraph that raises this exception is identical yet this only happens sporadically with digraphs.

But can it happen the first time you call the code, or only after several attempts ? This looks like a memory leak problem... Unless it is a bug in bliss `O_o`

Actually, reading the code a bit, I am totally scared by how you cast Python objects like the two dictionaries to a bliss function. It expects C arrays, and you give it a pointer to a Python dictionary ? `O_o;;;;`

Nathann



---

archive/issue_comments_233799.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@nathanncohen](#comment%3A26):\n> Yoooooo !\n> \n> > 1. Bliss returns a list of automorphisms as bijections.\n\n> \n> Which are the automorphisms which generate the full automorphism group of the graph ?\n\nYes, each time bliss discovers an automorphism it calls this function to handle it.\n> \n> > There is a function inside the code that then in one pass creates the respective cycle notation for the permutation while also applying the labelling of the graph. We have Permutation.to_cycle() that does the job but only on integer valued bijections. As is I'd like to leave this function in bliss.pyx and then perhaps once labelled permutations are supported by to_cycle(), revert to that. The main reason being that I am using Sage on graphs with 700k vertices and its a pain to have to iterate over and over for the sake of labels.\n\n> \n> +1 to that. It is not a very big amount of code, and one can never tell the amount of useless computations done by the `Permutation` code anyway `:-P`\n\nExactly:D\n\n\n> \n> > 2. There is a very erratic bug  using bliss on digraphs.\n\n> >\n> >   I have no clue why this is happening. Do you have any intuition as to where to look for the issue? The code for Graph/Digraph that raises this exception is identical yet this only happens sporadically with digraphs.\n\n> \n> But can it happen the first time you call the code, or only after several attempts ? This looks like a memory leak problem... Unless it is a bug in bliss `O_o`\n\nYes it can happen on first try as well!!\n> \n> Actually, reading the code a bit, I am totally scared by how you cast Python objects like the two dictionaries to a bliss function. It expects C arrays, and you give it a pointer to a Python dictionary ? `O_o;;;;`\n\nNo I am sure I am not doing this. The argument there is a just a void pointer that bliss then passes on to your function. \n\nSoo bliss takes a function pointer to YOUR function and a pointer to YOUR data. And then it calls YOUR function passing it YOUR void pointer.\n\nSo that should be fine I suppose?\n> \n> Nathann",
    "created_at": "2014-12-29T13:06:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233799",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@nathanncohen](#comment%3A26):
> Yoooooo !
> 
> > 1. Bliss returns a list of automorphisms as bijections.

> 
> Which are the automorphisms which generate the full automorphism group of the graph ?

Yes, each time bliss discovers an automorphism it calls this function to handle it.
> 
> > There is a function inside the code that then in one pass creates the respective cycle notation for the permutation while also applying the labelling of the graph. We have Permutation.to_cycle() that does the job but only on integer valued bijections. As is I'd like to leave this function in bliss.pyx and then perhaps once labelled permutations are supported by to_cycle(), revert to that. The main reason being that I am using Sage on graphs with 700k vertices and its a pain to have to iterate over and over for the sake of labels.

> 
> +1 to that. It is not a very big amount of code, and one can never tell the amount of useless computations done by the `Permutation` code anyway `:-P`

Exactly:D


> 
> > 2. There is a very erratic bug  using bliss on digraphs.

> >
> >   I have no clue why this is happening. Do you have any intuition as to where to look for the issue? The code for Graph/Digraph that raises this exception is identical yet this only happens sporadically with digraphs.

> 
> But can it happen the first time you call the code, or only after several attempts ? This looks like a memory leak problem... Unless it is a bug in bliss `O_o`

Yes it can happen on first try as well!!
> 
> Actually, reading the code a bit, I am totally scared by how you cast Python objects like the two dictionaries to a bliss function. It expects C arrays, and you give it a pointer to a Python dictionary ? `O_o;;;;`

No I am sure I am not doing this. The argument there is a just a void pointer that bliss then passes on to your function. 

Soo bliss takes a function pointer to YOUR function and a pointer to YOUR data. And then it calls YOUR function passing it YOUR void pointer.

So that should be fine I suppose?
> 
> Nathann



---

archive/issue_comments_233800.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nOhh and another reason why it may not be related to this wrapper is the fact that the same error is occuring with canonical_form which actually does not involve using this pointers/functions thing.\n\n```\nsage: from sage.graphs.bliss import *\nsage: D = digraphs.Kautz(10,1,2)\nsage: canonical_form(D)\nBliss fatal error: Internal error - unknown splitting heuristics\nAborting!\n```",
    "created_at": "2014-12-29T13:10:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233800",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:28" align="right">comment:28</div>

Ohh and another reason why it may not be related to this wrapper is the fact that the same error is occuring with canonical_form which actually does not involve using this pointers/functions thing.

```
sage: from sage.graphs.bliss import *
sage: D = digraphs.Kautz(10,1,2)
sage: canonical_form(D)
Bliss fatal error: Internal error - unknown splitting heuristics
Aborting!
```



---

archive/issue_comments_233801.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nYo !\n\n> Ohh and another reason why it may not be related to this wrapper is the fact that the same error is occuring with canonical_form which actually does not involve using this pointers/functions thing.\n\nTrue. HMmmmmmm... `O_o`\n\nWell, I looked at the code for a while and I really don't see anything that could produce that.... Short of a bliss bug... `O_o`\n\nNathann",
    "created_at": "2014-12-29T13:20:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233801",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:29" align="right">comment:29</div>

Yo !

> Ohh and another reason why it may not be related to this wrapper is the fact that the same error is occuring with canonical_form which actually does not involve using this pointers/functions thing.

True. HMmmmmmm... `O_o`

Well, I looked at the code for a while and I really don't see anything that could produce that.... Short of a bliss bug... `O_o`

Nathann



---

archive/issue_comments_233802.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@nathanncohen](#comment%3A29):\n> Yo !\n> \n> > Ohh and another reason why it may not be related to this wrapper is the fact that the same error is occuring with canonical_form which actually does not involve using this pointers/functions thing.\n\n> \n> True. HMmmmmmm... `O_o`\n> \n> Well, I looked at the code for a while and I really don't see anything that could produce that.... Short of a bliss bug... `O_o`\n\nYeah.. I'll try to reproduce it in bliss directly.\n> \n> Nathann",
    "created_at": "2014-12-29T13:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233802",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@nathanncohen](#comment%3A29):
> Yo !
> 
> > Ohh and another reason why it may not be related to this wrapper is the fact that the same error is occuring with canonical_form which actually does not involve using this pointers/functions thing.

> 
> True. HMmmmmmm... `O_o`
> 
> Well, I looked at the code for a while and I really don't see anything that could produce that.... Short of a bliss bug... `O_o`

Yeah.. I'll try to reproduce it in bliss directly.
> 
> Nathann



---

archive/issue_comments_233803.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nLooks really weird. \n\nI am waiting to figure out how can I be able to force a certain heuristic to be used because the behaviour right now is just sick. I've changed the \"hook function\" to an empty function (not doing any work) and its still messy:\n\n```\nsage: D = digraphs.Kautz(10,3,2)\nsage: from sage.graphs.bliss import *\nsage: automorphism_group(D)\nPermutation Group with generators [()]\nsage: automorphism_group(D)\nPermutation Group with generators [()]\nsage: automorphism_group(D)\nPermutation Group with generators [()]\nsage: automorphism_group(D)\nPermutation Group with generators [()]\nsage: automorphism_group(D)\nBliss fatal error: Internal error - unknown splitting heuristics\nAborting!\n```\n\nif G is a graph then \n\n```\nwhile True: A = automorphism_group(G) \n```\n\nworks well. :O",
    "created_at": "2014-12-30T10:03:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233803",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:31" align="right">comment:31</div>

Looks really weird. 

I am waiting to figure out how can I be able to force a certain heuristic to be used because the behaviour right now is just sick. I've changed the "hook function" to an empty function (not doing any work) and its still messy:

```
sage: D = digraphs.Kautz(10,3,2)
sage: from sage.graphs.bliss import *
sage: automorphism_group(D)
Permutation Group with generators [()]
sage: automorphism_group(D)
Permutation Group with generators [()]
sage: automorphism_group(D)
Permutation Group with generators [()]
sage: automorphism_group(D)
Permutation Group with generators [()]
sage: automorphism_group(D)
Bliss fatal error: Internal error - unknown splitting heuristics
Aborting!
```

if G is a graph then 

```
while True: A = automorphism_group(G) 
```

works well. :O



---

archive/issue_comments_233804.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cad441ec9fcfa114fc481411e949557845c45ab5\"><code>cad441e</code></a></td><td><code>trac #17464: Added documentation and some cleanups</code></td></tr></table>\n",
    "created_at": "2014-12-30T11:10:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233804",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cad441ec9fcfa114fc481411e949557845c45ab5"><code>cad441e</code></a></td><td><code>trac #17464: Added documentation and some cleanups</code></td></tr></table>




---

archive/issue_comments_233805.json:
```json
{
    "body": "Changed commit from **[`3c37cb8`](https://github.com/sagemath/sagetrac-mirror/commit/3c37cb81e7bfbc58f953035054dd4c30d0750880)** to **[`cad441e`](https://github.com/sagemath/sagetrac-mirror/commit/cad441ec9fcfa114fc481411e949557845c45ab5)**",
    "created_at": "2014-12-30T11:10:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233805",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3c37cb8`](https://github.com/sagemath/sagetrac-mirror/commit/3c37cb81e7bfbc58f953035054dd4c30d0750880)** to **[`cad441e`](https://github.com/sagemath/sagetrac-mirror/commit/cad441ec9fcfa114fc481411e949557845c45ab5)**



---

archive/issue_comments_233806.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nOkay, for *now* a working fix is to change the line in bliss that declares the splitting heuristics to include an assignment:\n\n```\n\n846   SplittingHeuristic sh = shs_flm;\n```\n\nSince this is not done for graphs it makes all of this very suspicious but it works. \n\nI've also talked with the author of bliss who confirmed this is an actually bug that he'll address in an upcoming release of bliss. In the meantime he says the above is a valid fix.\n\nThat said, I think it makes sense to see what is to be done to push this branch further? I have added some small documentation and would like to hear any kind of input that you may have.\n\nBest,\n\nJernej",
    "created_at": "2014-12-30T11:10:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233806",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:33" align="right">comment:33</div>

Okay, for *now* a working fix is to change the line in bliss that declares the splitting heuristics to include an assignment:

```

846   SplittingHeuristic sh = shs_flm;
```

Since this is not done for graphs it makes all of this very suspicious but it works. 

I've also talked with the author of bliss who confirmed this is an actually bug that he'll address in an upcoming release of bliss. In the meantime he says the above is a valid fix.

That said, I think it makes sense to see what is to be done to push this branch further? I have added some small documentation and would like to hear any kind of input that you may have.

Best,

Jernej



---

archive/issue_comments_233807.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nYooooooooo !\n\n> Since this is not done for graphs it makes all of this very suspicious but it works. \n> \n> I've also talked with the author of bliss who confirmed this is an actually bug that he'll address in an upcoming release of bliss. In the meantime he says the above is a valid fix.\n\nOh, excellent news !\n\n> That said, I think it makes sense to see what is to be done to push this branch further?\n\nFirst, it would be really good to have the 'spkg' ticket in `positive_review`. Jeroen set it back to `needs_work` recently, and now you have something else to add to it: the patch to change this line.\n\nNow, you cannot modify upstream directly (i.e. the .tar.bz2 file) so you must use the 'patch' mechanism that is already being used in build/pkgs/sympy (for example). Look at the sympy/spkg-install file and the patches/ folder. The corresponding doc is there:\n\nhttp://www.sagemath.org/doc/developer/packaging.html#patching-sources\n\n> I have added some small documentation and would like to hear any kind of input that you may have.\n\nWell, it seems that you still have some notes to yourself in the branch. Those that you cannot solve right now should probably appear in the documentation of the function to which they apply, and not at module level. (note: you can write a docstring in C functions. It will not appear as html do of course, but that's the right place to write the function's doc.)\n\nIn particular you have some formatting to do (a)length of lines b) the first line of doc is a one-line sentence describing the function.\n\nYou can also add the mechanism that makes GenericGraph.automorphism_group use bliss if available by default (set algorithm=None by default, and `if algorithm is None and is_package_installed(\"bliss\")` then ...) if you like, otherwise I will do it at some point.\n\nThere is also this in the code\n\n```\n+        if algorithm == \"bliss\":\n+            print 'yes'                \n+            return\n```\n\nBut really that's just cleaning. Short of that I do not think that there is anything important missing.\n\nOh, by the way: I do not think that you should really carry those vert2int or int2vert around. You could just say somewhere that the integer names of the vertices are those obtained by the ordering of `g.vertices()`\n\nThen defining the two dictionaries is rather easy\n\n```\nint2verts = g.vertices()\nvert2int = {v:i for i,v in enumerate(int2verts)}\n```\n\nWell, that's all. Only \"code administration\" `^^;`\n\nNathann",
    "created_at": "2014-12-30T11:52:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233807",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:34" align="right">comment:34</div>

Yooooooooo !

> Since this is not done for graphs it makes all of this very suspicious but it works. 
> 
> I've also talked with the author of bliss who confirmed this is an actually bug that he'll address in an upcoming release of bliss. In the meantime he says the above is a valid fix.

Oh, excellent news !

> That said, I think it makes sense to see what is to be done to push this branch further?

First, it would be really good to have the 'spkg' ticket in `positive_review`. Jeroen set it back to `needs_work` recently, and now you have something else to add to it: the patch to change this line.

Now, you cannot modify upstream directly (i.e. the .tar.bz2 file) so you must use the 'patch' mechanism that is already being used in build/pkgs/sympy (for example). Look at the sympy/spkg-install file and the patches/ folder. The corresponding doc is there:

http://www.sagemath.org/doc/developer/packaging.html#patching-sources

> I have added some small documentation and would like to hear any kind of input that you may have.

Well, it seems that you still have some notes to yourself in the branch. Those that you cannot solve right now should probably appear in the documentation of the function to which they apply, and not at module level. (note: you can write a docstring in C functions. It will not appear as html do of course, but that's the right place to write the function's doc.)

In particular you have some formatting to do (a)length of lines b) the first line of doc is a one-line sentence describing the function.

You can also add the mechanism that makes GenericGraph.automorphism_group use bliss if available by default (set algorithm=None by default, and `if algorithm is None and is_package_installed("bliss")` then ...) if you like, otherwise I will do it at some point.

There is also this in the code

```
+        if algorithm == "bliss":
+            print 'yes'                
+            return
```

But really that's just cleaning. Short of that I do not think that there is anything important missing.

Oh, by the way: I do not think that you should really carry those vert2int or int2vert around. You could just say somewhere that the integer names of the vertices are those obtained by the ordering of `g.vertices()`

Then defining the two dictionaries is rather easy

```
int2verts = g.vertices()
vert2int = {v:i for i,v in enumerate(int2verts)}
```

Well, that's all. Only "code administration" `^^;`

Nathann



---

archive/issue_comments_233808.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@nathanncohen](#comment%3A34):\n> Yooooooooo !\n> \n> > Since this is not done for graphs it makes all of this very suspicious but it works. \n> > \n> > I've also talked with the author of bliss who confirmed this is an actually bug that he'll address in an upcoming release of bliss. In the meantime he says the above is a valid fix.\n\n> \n> Oh, excellent news !\n> \n> > That said, I think it makes sense to see what is to be done to push this branch further?\n\n> \n> First, it would be really good to have the 'spkg' ticket in `positive_review`. Jeroen set it back to `needs_work` recently, and now you have something else to add to it: the patch to change this line.\n> \n> Now, you cannot modify upstream directly (i.e. the .tar.bz2 file) so you must use the 'patch' mechanism that is already being used in build/pkgs/sympy (for example). Look at the sympy/spkg-install file and the patches/ folder. The corresponding doc is there:\n> \n> http://www.sagemath.org/doc/developer/packaging.html#patching-sources\n> \n> > I have added some small documentation and would like to hear any kind of input that you may have.\n\nI think it would be good to mention how the patch is created since there may be different parameters to diff and also since we like to just copy paste stuff and not think too much.\n\n> \n> Well, it seems that you still have some notes to yourself in the branch. Those that you cannot solve right now should probably appear in the documentation of the function to which they apply, and not at module level. (note: you can write a docstring in C functions. It will not appear as html do of course, but that's the right place to write the function's doc.)\n> \n> In particular you have some formatting to do (a)length of lines b) the first line of doc is a one-line sentence describing the function.\n> \n> You can also add the mechanism that makes GenericGraph.automorphism_group use bliss if available by default (set algorithm=None by default, and `if algorithm is None and is_package_installed(\"bliss\")` then ...) if you like, otherwise I will do it at some point.\n> \n> There is also this in the code\n> \n> ```\n> +        if algorithm == \"bliss\":\n> +            print 'yes'                \n> +            return\n> ```\n\nYes, I'll make bliss the default the above was just a test. Though I we should really test this thoroughly since it can get messy if we leave a bug inside.. I spotted one before. Considering\n\n```\nreturn PermutationGroup(gens) \n```\n\neverything works well most of the time (since in all tested graphs every vertex appears in some cycle of the generator). But if you do not specify the domain you may get automorphism groups not acting on all the required points...\n\n> \n> But really that's just cleaning. Short of that I do not think that there is anything important missing.\n> \n> Oh, by the way: I do not think that you should really carry those vert2int or int2vert around. You could just say somewhere that the integer names of the vertices are those obtained by the ordering of `g.vertices()`\n> \n> Then defining the two dictionaries is rather easy\n> \n> ```\n> int2verts = g.vertices()\n> vert2int = {v:i for i,v in enumerate(int2verts)}\n> ```\n\nYes that's right. What made me choose the present version is the fact that the second line is already a for loop over the vertices and from how I understand g.vertices() that always involves a loop as well (at least to get the labels of the graph, grrr)?\n> \n> Well, that's all. Only \"code administration\" `^^;`\n\nThanks.\n> \n> Nathann\n\nJernej",
    "created_at": "2014-12-30T14:17:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233808",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@nathanncohen](#comment%3A34):
> Yooooooooo !
> 
> > Since this is not done for graphs it makes all of this very suspicious but it works. 
> > 
> > I've also talked with the author of bliss who confirmed this is an actually bug that he'll address in an upcoming release of bliss. In the meantime he says the above is a valid fix.

> 
> Oh, excellent news !
> 
> > That said, I think it makes sense to see what is to be done to push this branch further?

> 
> First, it would be really good to have the 'spkg' ticket in `positive_review`. Jeroen set it back to `needs_work` recently, and now you have something else to add to it: the patch to change this line.
> 
> Now, you cannot modify upstream directly (i.e. the .tar.bz2 file) so you must use the 'patch' mechanism that is already being used in build/pkgs/sympy (for example). Look at the sympy/spkg-install file and the patches/ folder. The corresponding doc is there:
> 
> http://www.sagemath.org/doc/developer/packaging.html#patching-sources
> 
> > I have added some small documentation and would like to hear any kind of input that you may have.

I think it would be good to mention how the patch is created since there may be different parameters to diff and also since we like to just copy paste stuff and not think too much.

> 
> Well, it seems that you still have some notes to yourself in the branch. Those that you cannot solve right now should probably appear in the documentation of the function to which they apply, and not at module level. (note: you can write a docstring in C functions. It will not appear as html do of course, but that's the right place to write the function's doc.)
> 
> In particular you have some formatting to do (a)length of lines b) the first line of doc is a one-line sentence describing the function.
> 
> You can also add the mechanism that makes GenericGraph.automorphism_group use bliss if available by default (set algorithm=None by default, and `if algorithm is None and is_package_installed("bliss")` then ...) if you like, otherwise I will do it at some point.
> 
> There is also this in the code
> 
> ```
> +        if algorithm == "bliss":
> +            print 'yes'                
> +            return
> ```

Yes, I'll make bliss the default the above was just a test. Though I we should really test this thoroughly since it can get messy if we leave a bug inside.. I spotted one before. Considering

```
return PermutationGroup(gens) 
```

everything works well most of the time (since in all tested graphs every vertex appears in some cycle of the generator). But if you do not specify the domain you may get automorphism groups not acting on all the required points...

> 
> But really that's just cleaning. Short of that I do not think that there is anything important missing.
> 
> Oh, by the way: I do not think that you should really carry those vert2int or int2vert around. You could just say somewhere that the integer names of the vertices are those obtained by the ordering of `g.vertices()`
> 
> Then defining the two dictionaries is rather easy
> 
> ```
> int2verts = g.vertices()
> vert2int = {v:i for i,v in enumerate(int2verts)}
> ```

Yes that's right. What made me choose the present version is the fact that the second line is already a for loop over the vertices and from how I understand g.vertices() that always involves a loop as well (at least to get the labels of the graph, grrr)?
> 
> Well, that's all. Only "code administration" `^^;`

Thanks.
> 
> Nathann

Jernej



---

archive/issue_comments_233809.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n> I think it would be good to mention how the patch is created since there may be different parameters to diff and also since we like to just copy paste stuff and not think too much.\n\nWell, open a ticket and add the explanation. Sage's doc is changed exactly like the code is `:-P`\n\n> Yes that's right. What made me choose the present version is the fact that the second line is already a for loop over the vertices and from how I understand g.vertices() that always involves a loop as well (at least to get the labels of the graph, grrr)?\n\nI do not think that the time difference is anything but negligible there. Plus a \"loop\" does not cost anything by itself, it depends on what you loop I expect. If the loop involves many calls to `.next()` or something it may cost more than doing the same on a simple list, I don't know..\n\nNathann",
    "created_at": "2014-12-30T14:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233809",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:36" align="right">comment:36</div>

> I think it would be good to mention how the patch is created since there may be different parameters to diff and also since we like to just copy paste stuff and not think too much.

Well, open a ticket and add the explanation. Sage's doc is changed exactly like the code is `:-P`

> Yes that's right. What made me choose the present version is the fact that the second line is already a for loop over the vertices and from how I understand g.vertices() that always involves a loop as well (at least to get the labels of the graph, grrr)?

I do not think that the time difference is anything but negligible there. Plus a "loop" does not cost anything by itself, it depends on what you loop I expect. If the loop involves many calls to `.next()` or something it may cost more than doing the same on a simple list, I don't know..

Nathann



---

archive/issue_comments_233810.json:
```json
{
    "body": "Changed commit from **[`cad441e`](https://github.com/sagemath/sagetrac-mirror/commit/cad441ec9fcfa114fc481411e949557845c45ab5)** to **[`6679f16`](https://github.com/sagemath/sagetrac-mirror/commit/6679f16ab3db644a285ed8706eafa587eafee4a3)**",
    "created_at": "2015-01-01T14:44:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233810",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cad441e`](https://github.com/sagemath/sagetrac-mirror/commit/cad441ec9fcfa114fc481411e949557845c45ab5)** to **[`6679f16`](https://github.com/sagemath/sagetrac-mirror/commit/6679f16ab3db644a285ed8706eafa587eafee4a3)**



---

archive/issue_comments_233811.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6679f16ab3db644a285ed8706eafa587eafee4a3\"><code>6679f16</code></a></td><td><code>trac #17464: Added calls from generic_graph to bliss</code></td></tr></table>\n",
    "created_at": "2015-01-01T14:44:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233811",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6679f16ab3db644a285ed8706eafa587eafee4a3"><code>6679f16</code></a></td><td><code>trac #17464: Added calls from generic_graph to bliss</code></td></tr></table>




---

archive/issue_comments_233812.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nFirst of all happy new year and stuff!!!!\n\n\nI've now pushed the latest branch for bliss but I am having a problem since when I do sage -t generic_graph.py it keeps saying\n\n```\n\n    def is_vertex_transitive(self, partition=None, verbosity=0,\n                                                              ^\nIndentationError: unindent does not match any outer indentation level\n```\n\nand I and vim's :list are just blind... (dont' see it)\n\nDo you happen to see where the indentation breaks and do you happen to have any new comments about the current code? I think it should be pretty near to what it should look like.",
    "created_at": "2015-01-01T14:49:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233812",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:38" align="right">comment:38</div>

First of all happy new year and stuff!!!!


I've now pushed the latest branch for bliss but I am having a problem since when I do sage -t generic_graph.py it keeps saying

```

    def is_vertex_transitive(self, partition=None, verbosity=0,
                                                              ^
IndentationError: unindent does not match any outer indentation level
```

and I and vim's :list are just blind... (dont' see it)

Do you happen to see where the indentation breaks and do you happen to have any new comments about the current code? I think it should be pretty near to what it should look like.



---

archive/issue_comments_233813.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nYop !\n\n> First of all happy new year and stuff!!!!\n\n+1\n\n> and I and vim's :list are just blind... (dont' see it)\n\nWhat I don't like about \"def canonical_label(...\" is that the doc appears BEFORE the function's definition. Could it be that ?\n\n> do you happen to have any new comments about the current code?\n\nWell, definitely there is something wrong in `automorphism_group`, where you define a keyword `algorithm` but never read it. Then you should probably add a couple of new doctests using bliss (with an #optional flag) in the function from `generic_graph`. Whatever you do with this function's input, you should probably do the same in the similar functions btw: `canonical_label`, and `is_isomorphic`.\n\nAlso, it looks like the test that you run in `is_isomorphic`  (number of edges/vertices) already appear a bit later in the code. No reason to have them appear twice.\n\nThere is still this line which has nothing to do here\n\n```diff\n+    :meth:`~GenericGraph.geodetic_number` | Returns the geodetic number of the given graph. \n```\n\nOh, and several lines are still longer than 80chr, and we try to wrap them because ...\n\nBecause somebody said that we had to.\n\nNathann",
    "created_at": "2015-01-01T15:05:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233813",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:39" align="right">comment:39</div>

Yop !

> First of all happy new year and stuff!!!!

+1

> and I and vim's :list are just blind... (dont' see it)

What I don't like about "def canonical_label(..." is that the doc appears BEFORE the function's definition. Could it be that ?

> do you happen to have any new comments about the current code?

Well, definitely there is something wrong in `automorphism_group`, where you define a keyword `algorithm` but never read it. Then you should probably add a couple of new doctests using bliss (with an #optional flag) in the function from `generic_graph`. Whatever you do with this function's input, you should probably do the same in the similar functions btw: `canonical_label`, and `is_isomorphic`.

Also, it looks like the test that you run in `is_isomorphic`  (number of edges/vertices) already appear a bit later in the code. No reason to have them appear twice.

There is still this line which has nothing to do here

```diff
+    :meth:`~GenericGraph.geodetic_number` | Returns the geodetic number of the given graph. 
```

Oh, and several lines are still longer than 80chr, and we try to wrap them because ...

Because somebody said that we had to.

Nathann



---

archive/issue_comments_233814.json:
```json
{
    "body": "Changed commit from **[`6679f16`](https://github.com/sagemath/sagetrac-mirror/commit/6679f16ab3db644a285ed8706eafa587eafee4a3)** to **[`aed44e8`](https://github.com/sagemath/sagetrac-mirror/commit/aed44e8dd39982907467b6e0d699f9def062f1af)**",
    "created_at": "2015-01-01T18:13:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233814",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6679f16`](https://github.com/sagemath/sagetrac-mirror/commit/6679f16ab3db644a285ed8706eafa587eafee4a3)** to **[`aed44e8`](https://github.com/sagemath/sagetrac-mirror/commit/aed44e8dd39982907467b6e0d699f9def062f1af)**



---

archive/issue_comments_233815.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aed44e8dd39982907467b6e0d699f9def062f1af\"><code>aed44e8</code></a></td><td><code>trac #17464: Made some changes as reviewer suggested</code></td></tr></table>\n",
    "created_at": "2015-01-01T18:13:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233815",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aed44e8dd39982907467b6e0d699f9def062f1af"><code>aed44e8</code></a></td><td><code>trac #17464: Made some changes as reviewer suggested</code></td></tr></table>




---

archive/issue_comments_233816.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nReplying to [@nathanncohen](#comment%3A39):\n\n> What I don't like about \"def canonical_label(...\" is that the doc appears BEFORE the function's definition. Could it be that ?\n\nThat surely didn't help but the error still persists :-S I have no idea where the mismatch is.\n\n\n> Well, definitely there is something wrong in `automorphism_group`, where you define a keyword `algorithm` but never read it.\n\nYes I was following your advice from above which was to add a condition of the form\n\n```\n if algorithm is None and is_package_installed(\"bliss\") :\n```\n\nsince we only offer two algorithms for now this works fine, perhaps provided that we write the option algorithm=\"nice\" to  indicate the currently default implementation? What do you suggest?\n\n\n\n\n> Then you should probably add a couple of new doctests using bliss (with an #optional flag) in the function from >`generic_graph`. Whatever you do with this function's input, you should probably do the same in the similar functions btw: >`canonical_label`, and `is_isomorphic`.\n\nIs it not enough to have them in bliss.pyx? If not, then I'll add some doctests when we agree on the technical aspects of the code \n\n\n> Also, it looks like the test that you run in `is_isomorphic`  (number of edges/vertices) already appear a bit later in the code. No reason to have them appear twice.\n\nfixed\n> \n> There is still this line which has nothing to do here\n> \n> ```diff\n> +    :meth:`~GenericGraph.geodetic_number` | Returns the geodetic number of the given graph. \n> ```\n\nfixed\n \n> Oh, and several lines are still longer than 80chr, and we try to wrap them because ...\n\n80chr is quite tight :O Also have you noticed that there appears to be some indentation inconsistency in the code? It looks like the functions on the bottom (example def graph_isom_equivalent_non_edge_labeled_graph) are not indented as the above ones?   \n\nThanks for the input,\n\nJernej",
    "created_at": "2015-01-01T18:19:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233816",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:41" align="right">comment:41</div>

Replying to [@nathanncohen](#comment%3A39):

> What I don't like about "def canonical_label(..." is that the doc appears BEFORE the function's definition. Could it be that ?

That surely didn't help but the error still persists :-S I have no idea where the mismatch is.


> Well, definitely there is something wrong in `automorphism_group`, where you define a keyword `algorithm` but never read it.

Yes I was following your advice from above which was to add a condition of the form

```
 if algorithm is None and is_package_installed("bliss") :
```

since we only offer two algorithms for now this works fine, perhaps provided that we write the option algorithm="nice" to  indicate the currently default implementation? What do you suggest?




> Then you should probably add a couple of new doctests using bliss (with an #optional flag) in the function from >`generic_graph`. Whatever you do with this function's input, you should probably do the same in the similar functions btw: >`canonical_label`, and `is_isomorphic`.

Is it not enough to have them in bliss.pyx? If not, then I'll add some doctests when we agree on the technical aspects of the code 


> Also, it looks like the test that you run in `is_isomorphic`  (number of edges/vertices) already appear a bit later in the code. No reason to have them appear twice.

fixed
> 
> There is still this line which has nothing to do here
> 
> ```diff
> +    :meth:`~GenericGraph.geodetic_number` | Returns the geodetic number of the given graph. 
> ```

fixed
 
> Oh, and several lines are still longer than 80chr, and we try to wrap them because ...

80chr is quite tight :O Also have you noticed that there appears to be some indentation inconsistency in the code? It looks like the functions on the bottom (example def graph_isom_equivalent_non_edge_labeled_graph) are not indented as the above ones?   

Thanks for the input,

Jernej



---

archive/issue_comments_233817.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nHello !\n\n> That surely didn't help but the error still persists :-S I have no idea where the mismatch is.\n\nRight now when I run the tests on `generic_graph` I get several screens filled with \"is_package_installed is not defined\".\n\n> Yes I was following your advice from above which was to add a condition of the form\n> \n> ```\n>  if algorithm is None and is_package_installed(\"bliss\") :\n> ```\n> \n> since we only offer two algorithms for now this works fine, perhaps provided that we write the option algorithm=\"nice\" to  indicate the currently default implementation? What do you suggest?\n\nAnd what happens when you do `G.automorphism_group(algorithm=\"bliss\")` as indicated in the function's doc ? `:-P`\n\n> Is it not enough to have them in bliss.pyx? If not, then I'll add some doctests when we agree on the technical aspects of the code \n\nThat would be for advertising purposes. Just one would do, just to emphasize that another algorithm is available.\n\n> 80chr is quite tight :O \n\nAs usual it is some PEP's fault. It probably is PEP8. It is always PEP8's fault.\n\n> Also have you noticed that there appears to be some indentation inconsistency in the code? It looks like the functions on the bottom (example def graph_isom_equivalent_non_edge_labeled_graph) are not indented as the above ones?   \n\nOh ? No, I never saw that. Well, some hardcore PEP8 guy will probably change it some day.\n\nNathann",
    "created_at": "2015-01-02T07:14:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233817",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:42" align="right">comment:42</div>

Hello !

> That surely didn't help but the error still persists :-S I have no idea where the mismatch is.

Right now when I run the tests on `generic_graph` I get several screens filled with "is_package_installed is not defined".

> Yes I was following your advice from above which was to add a condition of the form
> 
> ```
>  if algorithm is None and is_package_installed("bliss") :
> ```
> 
> since we only offer two algorithms for now this works fine, perhaps provided that we write the option algorithm="nice" to  indicate the currently default implementation? What do you suggest?

And what happens when you do `G.automorphism_group(algorithm="bliss")` as indicated in the function's doc ? `:-P`

> Is it not enough to have them in bliss.pyx? If not, then I'll add some doctests when we agree on the technical aspects of the code 

That would be for advertising purposes. Just one would do, just to emphasize that another algorithm is available.

> 80chr is quite tight :O 

As usual it is some PEP's fault. It probably is PEP8. It is always PEP8's fault.

> Also have you noticed that there appears to be some indentation inconsistency in the code? It looks like the functions on the bottom (example def graph_isom_equivalent_non_edge_labeled_graph) are not indented as the above ones?   

Oh ? No, I never saw that. Well, some hardcore PEP8 guy will probably change it some day.

Nathann



---

archive/issue_comments_233818.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d7afae64c538d1a6a0ffdec31275a65969f2068\"><code>1d7afae</code></a></td><td><code> Please enter the commit message for your changes. Lines starting</code></td></tr></table>\n",
    "created_at": "2015-01-02T12:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233818",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d7afae64c538d1a6a0ffdec31275a65969f2068"><code>1d7afae</code></a></td><td><code> Please enter the commit message for your changes. Lines starting</code></td></tr></table>




---

archive/issue_comments_233819.json:
```json
{
    "body": "Changed commit from **[`aed44e8`](https://github.com/sagemath/sagetrac-mirror/commit/aed44e8dd39982907467b6e0d699f9def062f1af)** to **[`1d7afae`](https://github.com/sagemath/sagetrac-mirror/commit/1d7afae64c538d1a6a0ffdec31275a65969f2068)**",
    "created_at": "2015-01-02T12:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233819",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`aed44e8`](https://github.com/sagemath/sagetrac-mirror/commit/aed44e8dd39982907467b6e0d699f9def062f1af)** to **[`1d7afae`](https://github.com/sagemath/sagetrac-mirror/commit/1d7afae64c538d1a6a0ffdec31275a65969f2068)**



---

archive/issue_comments_233820.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@nathanncohen](#comment%3A42):\n> Hello !\n\nHai!!\n\n\n> And what happens when you do `G.automorphism_group(algorithm=\"bliss\")` as indicated in the function's doc ? `:-P`\n\nOFC it has no sense but I was just following the guideline. I've now changed that so that we check that algorithm = 'bliss' explicitly. In case you have something else in mind let me know.\n\n\n> That would be for advertising purposes. Just one would do, just to emphasize that another algorithm is available.\n\nAdvertisement added. \n> \n> > 80chr is quite tight :O \n\n> \n> As usual it is some PEP's fault. It probably is PEP8. It is always PEP8's fault.\n\nIts also pretty funny that 90% of the lines are 100% over 80 char.\n\nThe current code passes all the tests and I am open for further suggestions.\n\nAs far as the empty commit message that is due to a mismatch of vim commands in nano. \n\n> Nathann\n\nBest,\nJernej",
    "created_at": "2015-01-02T12:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233820",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@nathanncohen](#comment%3A42):
> Hello !

Hai!!


> And what happens when you do `G.automorphism_group(algorithm="bliss")` as indicated in the function's doc ? `:-P`

OFC it has no sense but I was just following the guideline. I've now changed that so that we check that algorithm = 'bliss' explicitly. In case you have something else in mind let me know.


> That would be for advertising purposes. Just one would do, just to emphasize that another algorithm is available.

Advertisement added. 
> 
> > 80chr is quite tight :O 

> 
> As usual it is some PEP's fault. It probably is PEP8. It is always PEP8's fault.

Its also pretty funny that 90% of the lines are 100% over 80 char.

The current code passes all the tests and I am open for further suggestions.

As far as the empty commit message that is due to a mismatch of vim commands in nano. 

> Nathann

Best,
Jernej



---

archive/issue_comments_233821.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nHello !\n\n> OFC it has no sense but I was just following the guideline. I've now changed that so that we check that algorithm = 'bliss' explicitly. In case you have something else in mind let me know.\n\nOh sorry, I was thinking of something different:\n\n1) We want the users who explicitly ask for \"bliss\" to never run any other code\n2) We want users who do not care to run \"bliss\" if it is available (they may be calling that code through another functions without knowing)\n\n```\nif (algorithm is None and\n    is_package_installed(\"bliss\") and\n    not edge_labels):\n    algorithm = \"bliss\"\nif algorithm == \"bliss\":\n    try:\n        from sage.graphs.bliss import is_isomorphic\n    except ImportError:\n        raise RuntimeError(\"You must install the bliss spkg before running this code\")\n    <bliss call>\n```\n\n> The current code passes all the tests and I am open for further suggestions.\n\nCould you move the code comments that explain the function's behaviour inside of the function ? As you would do if it were a Python function (e.g. bliss_graph/bliss_digraph, add_gen) ? It would be cool if you could also write the documentation of these functions (e.g. INPUT section), even though you cannot doctest them.\n\nCould you also document what `empty_hook` is meant for ? It is useless right now but it would be good to know what it does if we ever want to use it for something (and that's the kind of stuff which can become *VERY* useful). Please document its parameters too.\n\nThanks,\n\nNathann",
    "created_at": "2015-01-04T08:29:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233821",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:45" align="right">comment:45</div>

Hello !

> OFC it has no sense but I was just following the guideline. I've now changed that so that we check that algorithm = 'bliss' explicitly. In case you have something else in mind let me know.

Oh sorry, I was thinking of something different:

1) We want the users who explicitly ask for "bliss" to never run any other code
2) We want users who do not care to run "bliss" if it is available (they may be calling that code through another functions without knowing)

```
if (algorithm is None and
    is_package_installed("bliss") and
    not edge_labels):
    algorithm = "bliss"
if algorithm == "bliss":
    try:
        from sage.graphs.bliss import is_isomorphic
    except ImportError:
        raise RuntimeError("You must install the bliss spkg before running this code")
    <bliss call>
```

> The current code passes all the tests and I am open for further suggestions.

Could you move the code comments that explain the function's behaviour inside of the function ? As you would do if it were a Python function (e.g. bliss_graph/bliss_digraph, add_gen) ? It would be cool if you could also write the documentation of these functions (e.g. INPUT section), even though you cannot doctest them.

Could you also document what `empty_hook` is meant for ? It is useless right now but it would be good to know what it does if we ever want to use it for something (and that's the kind of stuff which can become *VERY* useful). Please document its parameters too.

Thanks,

Nathann



---

archive/issue_comments_233822.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nReplying to [@nathanncohen](#comment%3A45):\n> Hello !\n> \n> > OFC it has no sense but I was just following the guideline. I've now changed that so that we check that algorithm = 'bliss' explicitly. In case you have something else in mind let me know.\n\n> \n> Oh sorry, I was thinking of something different:\n> \n> 1) We want the users who explicitly ask for \"bliss\" to never run any other code\n> 2) We want users who do not care to run \"bliss\" if it is available (they may be calling that code through another functions without knowing)\n> \n> ```\n> if (algorithm is None and\n>     is_package_installed(\"bliss\") and\n>     not edge_labels):\n>     algorithm = \"bliss\"\n> if algorithm == \"bliss\":\n>     try:\n>         from sage.graphs.bliss import is_isomorphic\n>     except ImportError:\n>         raise RuntimeError(\"You must install the bliss spkg before running this code\")\n>     <bliss call>\n> ```\n\nAnd this is to be placed in the say is_isomorphic/automorphism_group part and so on? If so, isn't this a bit of an overhead to be checked each time?\n\n> \n> > The current code passes all the tests and I am open for further suggestions.\n\n> \n> Could you move the code comments that explain the function's behaviour inside of the function ? As you would do if it were a Python function (e.g. bliss_graph/bliss_digraph, add_gen) ? It would be cool if you could also write the documentation of these functions (e.g. INPUT section), even though you cannot doctest them.\n\nThanks. I'll do it and post a new branch when I am done.\n> \n> Could you also document what `empty_hook` is meant for ? It is useless right now but it would be good to know what it does if we ever want to use it for something (and that's the kind of stuff which can become *VERY* useful). Please document its parameters too.\n\nBest,\n\nJernej\n\n> Thanks,\n> \n> Nathann",
    "created_at": "2015-01-04T18:26:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233822",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:46" align="right">comment:46</div>

Replying to [@nathanncohen](#comment%3A45):
> Hello !
> 
> > OFC it has no sense but I was just following the guideline. I've now changed that so that we check that algorithm = 'bliss' explicitly. In case you have something else in mind let me know.

> 
> Oh sorry, I was thinking of something different:
> 
> 1) We want the users who explicitly ask for "bliss" to never run any other code
> 2) We want users who do not care to run "bliss" if it is available (they may be calling that code through another functions without knowing)
> 
> ```
> if (algorithm is None and
>     is_package_installed("bliss") and
>     not edge_labels):
>     algorithm = "bliss"
> if algorithm == "bliss":
>     try:
>         from sage.graphs.bliss import is_isomorphic
>     except ImportError:
>         raise RuntimeError("You must install the bliss spkg before running this code")
>     <bliss call>
> ```

And this is to be placed in the say is_isomorphic/automorphism_group part and so on? If so, isn't this a bit of an overhead to be checked each time?

> 
> > The current code passes all the tests and I am open for further suggestions.

> 
> Could you move the code comments that explain the function's behaviour inside of the function ? As you would do if it were a Python function (e.g. bliss_graph/bliss_digraph, add_gen) ? It would be cool if you could also write the documentation of these functions (e.g. INPUT section), even though you cannot doctest them.

Thanks. I'll do it and post a new branch when I am done.
> 
> Could you also document what `empty_hook` is meant for ? It is useless right now but it would be good to know what it does if we ever want to use it for something (and that's the kind of stuff which can become *VERY* useful). Please document its parameters too.

Best,

Jernej

> Thanks,
> 
> Nathann



---

archive/issue_comments_233823.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nYo !\n\n> And this is to be placed in the say is_isomorphic/automorphism_group part and so on? If so, isn't this a bit of an overhead to be checked each time?\n\nAre you afraid of the call to `is_package_installed` ? If so, it may not be a bad option to cache it at module level. Something like a \"is_bliss_available = is_package_installed(\"bliss\")\" in `generic_graph.py`. It would only be loaded when the graph files are loaded first.\n\nNathann",
    "created_at": "2015-01-05T04:28:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233823",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:47" align="right">comment:47</div>

Yo !

> And this is to be placed in the say is_isomorphic/automorphism_group part and so on? If so, isn't this a bit of an overhead to be checked each time?

Are you afraid of the call to `is_package_installed` ? If so, it may not be a bad option to cache it at module level. Something like a "is_bliss_available = is_package_installed("bliss")" in `generic_graph.py`. It would only be loaded when the graph files are loaded first.

Nathann



---

archive/issue_comments_233824.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\n\n```\nsage: %timeit is_package_installed(\"bliss\")\n1000000 loops, best of 3: 1.61 \u00b5s per loop\nsage: g=graphs.PetersenGraph()\nsage: %timeit g.is_isomorphic(g)\n1000 loops, best of 3: 171 \u00b5s per loop\nsage: %timeit g.automorphism_group()\n1000 loops, best of 3: 483 \u00b5s per loop\nsage: %timeit g.canonical_label()\n1000 loops, best of 3: 271 \u00b5s per loop\n```\n\nPerhaps it is not even worth that... `:-P`\n\nNathann",
    "created_at": "2015-01-05T04:31:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233824",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:48" align="right">comment:48</div>


```
sage: %timeit is_package_installed("bliss")
1000000 loops, best of 3: 1.61 µs per loop
sage: g=graphs.PetersenGraph()
sage: %timeit g.is_isomorphic(g)
1000 loops, best of 3: 171 µs per loop
sage: %timeit g.automorphism_group()
1000 loops, best of 3: 483 µs per loop
sage: %timeit g.canonical_label()
1000 loops, best of 3: 271 µs per loop
```

Perhaps it is not even worth that... `:-P`

Nathann



---

archive/issue_comments_233825.json:
```json
{
    "body": "Changed commit from **[`1d7afae`](https://github.com/sagemath/sagetrac-mirror/commit/1d7afae64c538d1a6a0ffdec31275a65969f2068)** to **[`a539b99`](https://github.com/sagemath/sagetrac-mirror/commit/a539b9953f9d8ccbbda67fc5b60a9372079a3eaf)**",
    "created_at": "2015-01-14T08:00:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233825",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1d7afae`](https://github.com/sagemath/sagetrac-mirror/commit/1d7afae64c538d1a6a0ffdec31275a65969f2068)** to **[`a539b99`](https://github.com/sagemath/sagetrac-mirror/commit/a539b9953f9d8ccbbda67fc5b60a9372079a3eaf)**



---

archive/issue_comments_233826.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a539b9953f9d8ccbbda67fc5b60a9372079a3eaf\"><code>a539b99</code></a></td><td><code>trac #17464: Graph automorphism groups through bliss</code></td></tr></table>\n",
    "created_at": "2015-01-14T08:00:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233826",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a539b9953f9d8ccbbda67fc5b60a9372079a3eaf"><code>a539b99</code></a></td><td><code>trac #17464: Graph automorphism groups through bliss</code></td></tr></table>




---

archive/issue_events_246673.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-14T08:00:56Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "title_is": "Computing the automorphism group of a graph with Bliss",
    "title_was": "Computing the automorphism group of a graph",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246673"
}
```



---

archive/issue_comments_233827.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\n(I merged all commits together as the history was a bit messy. It also conflicted with the latest beta)",
    "created_at": "2015-01-14T08:00:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233827",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:50" align="right">comment:50</div>

(I merged all commits together as the history was a bit messy. It also conflicted with the latest beta)



---

archive/issue_comments_233828.json:
```json
{
    "body": "<div id=\"comment:51\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e6edd0ecf50e7d75876b619a9495c8f57b92971\"><code>7e6edd0</code></a></td><td><code>trac #17464: Make IncidenceStructure.automorphism_group call Graph.automorphism_group</code></td></tr></table>\n",
    "created_at": "2015-01-14T08:29:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233828",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e6edd0ecf50e7d75876b619a9495c8f57b92971"><code>7e6edd0</code></a></td><td><code>trac #17464: Make IncidenceStructure.automorphism_group call Graph.automorphism_group</code></td></tr></table>




---

archive/issue_comments_233829.json:
```json
{
    "body": "Changed commit from **[`a539b99`](https://github.com/sagemath/sagetrac-mirror/commit/a539b9953f9d8ccbbda67fc5b60a9372079a3eaf)** to **[`7e6edd0`](https://github.com/sagemath/sagetrac-mirror/commit/7e6edd0ecf50e7d75876b619a9495c8f57b92971)**",
    "created_at": "2015-01-14T08:29:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233829",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a539b99`](https://github.com/sagemath/sagetrac-mirror/commit/a539b9953f9d8ccbbda67fc5b60a9372079a3eaf)** to **[`7e6edd0`](https://github.com/sagemath/sagetrac-mirror/commit/7e6edd0ecf50e7d75876b619a9495c8f57b92971)**



---

archive/issue_comments_233830.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nHello again !\n\nI made a pass on this code, added some doc, fixed a few things and... Well, now I only have a couple of questions about this branch:\n\n- What about implementing bliss' version of `is_isomorphic` later ? The feature that we need right now is `automorphism_group`  (I needed it today, the difference is amazing!), so can't the rest be done later if we need it ? By the way, I never had any slowness problem with `is_isomorphic` (or `canonical_label`) that I can remember.\n\n- It seems that the `Bliss fatal error: Internal error - unknown splitting heuristics` problem is not solved. I see it happen when I run the tests in the graph/ folder.\n\n- I changed the code to list the vertices according to `enumerate(G.vertices())` instead of `enumerate(G)`. We have this standard in other places that when vertices are turned into integers, it is done using the ordering of `G.vertices()`.\n\nTell me what you think ! I would be glad to have this into Sage soon `;-)`\n\nNathann",
    "created_at": "2015-01-14T18:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233830",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:52" align="right">comment:52</div>

Hello again !

I made a pass on this code, added some doc, fixed a few things and... Well, now I only have a couple of questions about this branch:

- What about implementing bliss' version of `is_isomorphic` later ? The feature that we need right now is `automorphism_group`  (I needed it today, the difference is amazing!), so can't the rest be done later if we need it ? By the way, I never had any slowness problem with `is_isomorphic` (or `canonical_label`) that I can remember.

- It seems that the `Bliss fatal error: Internal error - unknown splitting heuristics` problem is not solved. I see it happen when I run the tests in the graph/ folder.

- I changed the code to list the vertices according to `enumerate(G.vertices())` instead of `enumerate(G)`. We have this standard in other places that when vertices are turned into integers, it is done using the ordering of `G.vertices()`.

Tell me what you think ! I would be glad to have this into Sage soon `;-)`

Nathann



---

archive/issue_comments_233831.json:
```json
{
    "body": "Changed commit from **[`7e6edd0`](https://github.com/sagemath/sagetrac-mirror/commit/7e6edd0ecf50e7d75876b619a9495c8f57b92971)** to **[`6001856`](https://github.com/sagemath/sagetrac-mirror/commit/60018569126f690eda0b417f5fec1485904c59ed)**",
    "created_at": "2015-01-14T18:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233831",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7e6edd0`](https://github.com/sagemath/sagetrac-mirror/commit/7e6edd0ecf50e7d75876b619a9495c8f57b92971)** to **[`6001856`](https://github.com/sagemath/sagetrac-mirror/commit/60018569126f690eda0b417f5fec1485904c59ed)**



---

archive/issue_comments_233832.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60018569126f690eda0b417f5fec1485904c59ed\"><code>6001856</code></a></td><td><code>trac #17464: Additional documentation</code></td></tr></table>\n",
    "created_at": "2015-01-14T18:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233832",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60018569126f690eda0b417f5fec1485904c59ed"><code>6001856</code></a></td><td><code>trac #17464: Additional documentation</code></td></tr></table>




---

archive/issue_comments_233833.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nReplying to [@nathanncohen](#comment%3A52):\n> Hello again !\n\nHi there!\n\n> \n> I made a pass on this code, added some doc, fixed a few things and... Well, now I only have a couple of questions about this branch:\n> \n> - What about implementing bliss' version of `is_isomorphic` later ? The feature that we need right now is `automorphism_group`  (I needed it today, the difference is amazing!), so can't the rest be done later if we need it ? By the way, I never had any slowness problem with `is_isomorphic` (or `canonical_label`) that I can remember.\n\nHm.. I need these things, especially canonical_label. Do you have any practical reasons to leave this out? I mean it doesn't look like it needs that much effort at this point.\n\n\n\n> \n> - It seems that the `Bliss fatal error: Internal error - unknown splitting heuristics` problem is not solved. I see it happen when I run the tests in the graph/ folder.\n\nWeird. Are you sure you're using the patched version of bliss?\n> \n> - I changed the code to list the vertices according to `enumerate(G.vertices())` instead of `enumerate(G)`. We have this standard in other places that when vertices are turned into integers, it is done using the ordering of `G.vertices()`.\n\ngood, thanks!\n> \n> Tell me what you think ! I would be glad to have this into Sage soon `;-)`\n\nI just have another question! Is the new add_gen function faster than before? Do you think it makes sense to try using the suggestion from here ? http://stackoverflow.com/questions/27657473/efficiently-converting-a-bijection-to-cycle-notation\n\n> \n> Nathann",
    "created_at": "2015-01-16T19:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233833",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:54" align="right">comment:54</div>

Replying to [@nathanncohen](#comment%3A52):
> Hello again !

Hi there!

> 
> I made a pass on this code, added some doc, fixed a few things and... Well, now I only have a couple of questions about this branch:
> 
> - What about implementing bliss' version of `is_isomorphic` later ? The feature that we need right now is `automorphism_group`  (I needed it today, the difference is amazing!), so can't the rest be done later if we need it ? By the way, I never had any slowness problem with `is_isomorphic` (or `canonical_label`) that I can remember.

Hm.. I need these things, especially canonical_label. Do you have any practical reasons to leave this out? I mean it doesn't look like it needs that much effort at this point.



> 
> - It seems that the `Bliss fatal error: Internal error - unknown splitting heuristics` problem is not solved. I see it happen when I run the tests in the graph/ folder.

Weird. Are you sure you're using the patched version of bliss?
> 
> - I changed the code to list the vertices according to `enumerate(G.vertices())` instead of `enumerate(G)`. We have this standard in other places that when vertices are turned into integers, it is done using the ordering of `G.vertices()`.

good, thanks!
> 
> Tell me what you think ! I would be glad to have this into Sage soon `;-)`

I just have another question! Is the new add_gen function faster than before? Do you think it makes sense to try using the suggestion from here ? http://stackoverflow.com/questions/27657473/efficiently-converting-a-bijection-to-cycle-notation

> 
> Nathann



---

archive/issue_comments_233834.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nHello,\n\n> Hm.. I need these things, especially canonical_label. Do you have any practical reasons to leave this out? I mean it doesn't look like it needs that much effort at this point.\n\nWell, there is no reason to leave `canonical_label` out, even though I don't get why the current canonical label function from Sage wouldn't do the job for you.\n\nIt was more about the `is_isomorphic` function that is not fully implemented. I wouldn't mind having this patch in Sage quick, and report the implementation of that to another ticket.\n\n> Weird. Are you sure you're using the patched version of bliss?\n\nI just made a test:\n- Loaded the branch\n- Checked that the branch contained the patches/ directory\n- erased my local copy of the bliss.tar file\n- installed it again\n\nSame result when I run \"sage -tp 4 -l generic_graph.py\". Don't you get the same errors ?\n\n> I just have another question! Is the new add_gen function faster than before? Do you think it makes sense to try using the suggestion from here ? http://stackoverflow.com/questions/27657473/efficiently-converting-a-bijection-to-cycle-notation\n\nAhahah. Well, his algorithm is short, I like it `:-)`\n\nIt's up to you. I do not think that it is the bottleneck of any computations, so to me 'the easiest to read is the best choice'\n\nNathann",
    "created_at": "2015-01-16T19:17:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233834",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:55" align="right">comment:55</div>

Hello,

> Hm.. I need these things, especially canonical_label. Do you have any practical reasons to leave this out? I mean it doesn't look like it needs that much effort at this point.

Well, there is no reason to leave `canonical_label` out, even though I don't get why the current canonical label function from Sage wouldn't do the job for you.

It was more about the `is_isomorphic` function that is not fully implemented. I wouldn't mind having this patch in Sage quick, and report the implementation of that to another ticket.

> Weird. Are you sure you're using the patched version of bliss?

I just made a test:
- Loaded the branch
- Checked that the branch contained the patches/ directory
- erased my local copy of the bliss.tar file
- installed it again

Same result when I run "sage -tp 4 -l generic_graph.py". Don't you get the same errors ?

> I just have another question! Is the new add_gen function faster than before? Do you think it makes sense to try using the suggestion from here ? http://stackoverflow.com/questions/27657473/efficiently-converting-a-bijection-to-cycle-notation

Ahahah. Well, his algorithm is short, I like it `:-)`

It's up to you. I do not think that it is the bottleneck of any computations, so to me 'the easiest to read is the best choice'

Nathann



---

archive/issue_comments_233835.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nbtw: the doc does not compile on my computer because of some broken link\n\nNathann",
    "created_at": "2015-01-16T19:23:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233835",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:56" align="right">comment:56</div>

btw: the doc does not compile on my computer because of some broken link

Nathann



---

archive/issue_comments_233836.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nReplying to [@nathanncohen](#comment%3A55):\n> Hello,\n> \n> > Hm.. I need these things, especially canonical_label. Do you have any practical reasons to leave this out? I mean it doesn't look like it needs that much effort at this point.\n\n> \n> Well, there is no reason to leave `canonical_label` out, even though I don't get why the current canonical label function from Sage wouldn't do the job for you.\n\n> \n> It was more about the `is_isomorphic` function that is not fully implemented. I wouldn't mind having this patch in Sage quick, and report the implementation of that to another ticket.\n\nOkay. We can leave this is_isomorphic thing for next time.\n\n> \n> > Weird. Are you sure you're using the patched version of bliss?\n\n> \n> I just made a test:\n> - Loaded the branch\n> - Checked that the branch contained the patches/ directory\n> - erased my local copy of the bliss.tar file\n> - installed it again\n> \n> Same result when I run \"sage -tp 4 -l generic_graph.py\". Don't you get the same errors ?\n\nOh, yes I do get the errors as well. What do you suggest that we do at this point?\n> \n> > I just have another question! Is the new add_gen function faster than before? Do you think it makes sense to try using the suggestion from here ? http://stackoverflow.com/questions/27657473/efficiently-converting-a-bijection-to-cycle-notation\n\n> \n> Ahahah. Well, his algorithm is short, I like it `:-)`\n\nYeah.\n\n> \n> It's up to you. I do not think that it is the bottleneck of any computations, so to me 'the easiest to read is the best choice'\n\nUnless you find his supercool I'd like to stay with what is already there since otherwise I have to understand how his code works. His solution is faster though.\n> \n\nBest,\n\nJernej\n> Nathann",
    "created_at": "2015-01-16T20:24:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233836",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:57" align="right">comment:57</div>

Replying to [@nathanncohen](#comment%3A55):
> Hello,
> 
> > Hm.. I need these things, especially canonical_label. Do you have any practical reasons to leave this out? I mean it doesn't look like it needs that much effort at this point.

> 
> Well, there is no reason to leave `canonical_label` out, even though I don't get why the current canonical label function from Sage wouldn't do the job for you.

> 
> It was more about the `is_isomorphic` function that is not fully implemented. I wouldn't mind having this patch in Sage quick, and report the implementation of that to another ticket.

Okay. We can leave this is_isomorphic thing for next time.

> 
> > Weird. Are you sure you're using the patched version of bliss?

> 
> I just made a test:
> - Loaded the branch
> - Checked that the branch contained the patches/ directory
> - erased my local copy of the bliss.tar file
> - installed it again
> 
> Same result when I run "sage -tp 4 -l generic_graph.py". Don't you get the same errors ?

Oh, yes I do get the errors as well. What do you suggest that we do at this point?
> 
> > I just have another question! Is the new add_gen function faster than before? Do you think it makes sense to try using the suggestion from here ? http://stackoverflow.com/questions/27657473/efficiently-converting-a-bijection-to-cycle-notation

> 
> Ahahah. Well, his algorithm is short, I like it `:-)`

Yeah.

> 
> It's up to you. I do not think that it is the bottleneck of any computations, so to me 'the easiest to read is the best choice'

Unless you find his supercool I'd like to stay with what is already there since otherwise I have to understand how his code works. His solution is faster though.
> 

Best,

Jernej
> Nathann



---

archive/issue_comments_233837.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nYo !\n\n> Oh, yes I do get the errors as well. What do you suggest that we do at this point?\n\nCan you report this to the author again? The bug is not fixed, perhaps he will find the problem.\n\n> Unless you find his supercool I'd like to stay with what is already there since otherwise I have to understand how his code works. His solution is faster though.\n\nNo problem, as you like. What he implemented is exactly the same algorithm, however. He just makes it shorter by using fancier pyhon. I think that in C his algorithm would be slower than yours, but not in Python `;-)`\n\nNathann",
    "created_at": "2015-01-17T03:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233837",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:58" align="right">comment:58</div>

Yo !

> Oh, yes I do get the errors as well. What do you suggest that we do at this point?

Can you report this to the author again? The bug is not fixed, perhaps he will find the problem.

> Unless you find his supercool I'd like to stay with what is already there since otherwise I have to understand how his code works. His solution is faster though.

No problem, as you like. What he implemented is exactly the same algorithm, however. He just makes it shorter by using fancier pyhon. I think that in C his algorithm would be slower than yours, but not in Python `;-)`

Nathann



---

archive/issue_comments_233838.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nReplying to [@nathanncohen](#comment%3A58):\n> Yo !\n> \n> > Oh, yes I do get the errors as well. What do you suggest that we do at this point?\n\n> \n> Can you report this to the author again? The bug is not fixed, perhaps he will find the problem.\n\nYes sure. I am in correspondence with him and I am waiting for his reply right now. So before I flood him with this new email I'd like to wait for his answer.\n\nIn the meantime I'd like to push this thing further without having to wait for his fix/reply.\n\nOne way we could try is to call Digraph::set_heuristic or something. Though I was not able to make it work in cython due to some enum typedefs issue.\n\nSo what do you suggest that we do? Just avoid digraphs for now?\n> \n> > Unless you find his supercool I'd like to stay with what is already there since otherwise I have to understand how his code works. His solution is faster though.\n\n> \n> No problem, as you like. What he implemented is exactly the same algorithm, however. He just makes it shorter by using fancier pyhon. I think that in C his algorithm would be slower than yours, but not in Python `;-)`\n\nWe can leave the code as is then!\n\nAs far as I get the current state of affairs, we need to\n\n1. Leave out the is_isomorphic thing\n2. Find a workaround for the digraph thing.\n\nand then we are almost done?\n\nBest,\n\nJernej",
    "created_at": "2015-01-17T10:20:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233838",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:59" align="right">comment:59</div>

Replying to [@nathanncohen](#comment%3A58):
> Yo !
> 
> > Oh, yes I do get the errors as well. What do you suggest that we do at this point?

> 
> Can you report this to the author again? The bug is not fixed, perhaps he will find the problem.

Yes sure. I am in correspondence with him and I am waiting for his reply right now. So before I flood him with this new email I'd like to wait for his answer.

In the meantime I'd like to push this thing further without having to wait for his fix/reply.

One way we could try is to call Digraph::set_heuristic or something. Though I was not able to make it work in cython due to some enum typedefs issue.

So what do you suggest that we do? Just avoid digraphs for now?
> 
> > Unless you find his supercool I'd like to stay with what is already there since otherwise I have to understand how his code works. His solution is faster though.

> 
> No problem, as you like. What he implemented is exactly the same algorithm, however. He just makes it shorter by using fancier pyhon. I think that in C his algorithm would be slower than yours, but not in Python `;-)`

We can leave the code as is then!

As far as I get the current state of affairs, we need to

1. Leave out the is_isomorphic thing
2. Find a workaround for the digraph thing.

and then we are almost done?

Best,

Jernej



---

archive/issue_comments_233839.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nHello,\n\n> So what do you suggest that we do? Just avoid digraphs for now?\n\nLet's wait for his answer. It would be a pity to miss digraphs just because of that. He may know how to fix it.\n\n> We can leave the code as is then!\n\nYepyep\n\n> As far as I get the current state of affairs, we need to\n> \n> 1. Leave out the is_isomorphic thing\n> 2. Find a workaround for the digraph thing.\n> \n> and then we are almost done?\n\nRight !\n\nNathann",
    "created_at": "2015-01-17T11:36:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233839",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:60" align="right">comment:60</div>

Hello,

> So what do you suggest that we do? Just avoid digraphs for now?

Let's wait for his answer. It would be a pity to miss digraphs just because of that. He may know how to fix it.

> We can leave the code as is then!

Yepyep

> As far as I get the current state of affairs, we need to
> 
> 1. Leave out the is_isomorphic thing
> 2. Find a workaround for the digraph thing.
> 
> and then we are almost done?

Right !

Nathann



---

archive/issue_comments_233840.json:
```json
{
    "body": "Changed commit from **[`6001856`](https://github.com/sagemath/sagetrac-mirror/commit/60018569126f690eda0b417f5fec1485904c59ed)** to **[`97bb760`](https://github.com/sagemath/sagetrac-mirror/commit/97bb760e17aefff7c9004bcad17409627d94e99d)**",
    "created_at": "2015-01-28T12:43:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233840",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6001856`](https://github.com/sagemath/sagetrac-mirror/commit/60018569126f690eda0b417f5fec1485904c59ed)** to **[`97bb760`](https://github.com/sagemath/sagetrac-mirror/commit/97bb760e17aefff7c9004bcad17409627d94e99d)**



---

archive/issue_comments_233841.json:
```json
{
    "body": "<div id=\"comment:61\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97bb760e17aefff7c9004bcad17409627d94e99d\"><code>97bb760</code></a></td><td><code>Added correct fix for digraph's missing heuristic</code></td></tr></table>\n",
    "created_at": "2015-01-28T12:43:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233841",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:61"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97bb760e17aefff7c9004bcad17409627d94e99d"><code>97bb760</code></a></td><td><code>Added correct fix for digraph's missing heuristic</code></td></tr></table>




---

archive/issue_comments_233842.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nI think this patch now fixes the digraph issue.\n\nWe now have new test failures and I am looking into them right now.\n\nLet me know if this patch is not correctly handled or something.",
    "created_at": "2015-01-28T12:44:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233842",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:62" align="right">comment:62</div>

I think this patch now fixes the digraph issue.

We now have new test failures and I am looking into them right now.

Let me know if this patch is not correctly handled or something.



---

archive/issue_comments_233843.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nOkay, so all the failures now are of the form\n\n```\nExpected:\n    [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]]\nGot:\n    [[0, 1, 4, 2, 5, 6, 3, 9, 7, 8]]\n....blahblah...\nExpected:\n    [[0], [2, 3, 6, 7, 8, 9], [1, 4, 5]]\nGot:\n    [[0], [1, 4, 5], [2, 3, 7, 8, 9, 6]]\n```\n\nnow if I correct this to the bliss output it won't work on those installations that do not have bliss. \n\nDo you have any preferences how to handle that?",
    "created_at": "2015-01-28T12:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233843",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:63" align="right">comment:63</div>

Okay, so all the failures now are of the form

```
Expected:
    [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]]
Got:
    [[0, 1, 4, 2, 5, 6, 3, 9, 7, 8]]
....blahblah...
Expected:
    [[0], [2, 3, 6, 7, 8, 9], [1, 4, 5]]
Got:
    [[0], [1, 4, 5], [2, 3, 7, 8, 9, 6]]
```

now if I correct this to the bliss output it won't work on those installations that do not have bliss. 

Do you have any preferences how to handle that?



---

archive/issue_comments_233844.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\n> Do you have any preferences how to handle that?\n\nDo you have many of them? If not, perhaps you can solve the problem by just changing the doctests to add an 'algorithm=\"sage\"' flag.\n\nNathann",
    "created_at": "2015-01-28T12:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233844",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:64" align="right">comment:64</div>

> Do you have any preferences how to handle that?

Do you have many of them? If not, perhaps you can solve the problem by just changing the doctests to add an 'algorithm="sage"' flag.

Nathann



---

archive/issue_comments_233845.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nOhh I didn't notice you included that. I think this new fix does it. All tests pass now.",
    "created_at": "2015-01-28T13:13:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233845",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:65" align="right">comment:65</div>

Ohh I didn't notice you included that. I think this new fix does it. All tests pass now.



---

archive/issue_comments_233846.json:
```json
{
    "body": "<div id=\"comment:66\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a84f54d2877fa89083dfade62c5ff243f4bca31\"><code>9a84f54</code></a></td><td><code>Fixed test cases so that all tests pass.</code></td></tr></table>\n",
    "created_at": "2015-01-28T13:13:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233846",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a84f54d2877fa89083dfade62c5ff243f4bca31"><code>9a84f54</code></a></td><td><code>Fixed test cases so that all tests pass.</code></td></tr></table>




---

archive/issue_comments_233847.json:
```json
{
    "body": "Changed commit from **[`97bb760`](https://github.com/sagemath/sagetrac-mirror/commit/97bb760e17aefff7c9004bcad17409627d94e99d)** to **[`9a84f54`](https://github.com/sagemath/sagetrac-mirror/commit/9a84f54d2877fa89083dfade62c5ff243f4bca31)**",
    "created_at": "2015-01-28T13:13:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233847",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`97bb760`](https://github.com/sagemath/sagetrac-mirror/commit/97bb760e17aefff7c9004bcad17409627d94e99d)** to **[`9a84f54`](https://github.com/sagemath/sagetrac-mirror/commit/9a84f54d2877fa89083dfade62c5ff243f4bca31)**



---

archive/issue_comments_233848.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nYo!\n> Ohh I didn't notice you included that. I think this new fix does it. All tests pass now.\n\nLooks good. Can you remove the `is_isomorphic` code? I think that it is all that remains to be done here.\n\nNathann",
    "created_at": "2015-01-28T13:17:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233848",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:67" align="right">comment:67</div>

Yo!
> Ohh I didn't notice you included that. I think this new fix does it. All tests pass now.

Looks good. Can you remove the `is_isomorphic` code? I think that it is all that remains to be done here.

Nathann



---

archive/issue_comments_233849.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\n\n```\nsage -t --long tutte_polynomial.py  # 2 doctests failed\n```",
    "created_at": "2015-01-28T13:19:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233849",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:68" align="right">comment:68</div>


```
sage -t --long tutte_polynomial.py  # 2 doctests failed
```



---

archive/issue_comments_233850.json:
```json
{
    "body": "Changed commit from **[`9a84f54`](https://github.com/sagemath/sagetrac-mirror/commit/9a84f54d2877fa89083dfade62c5ff243f4bca31)** to **[`2942c31`](https://github.com/sagemath/sagetrac-mirror/commit/2942c3136ffad17f490b55cd83421c70c05ff46a)**",
    "created_at": "2015-01-28T13:21:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233850",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9a84f54`](https://github.com/sagemath/sagetrac-mirror/commit/9a84f54d2877fa89083dfade62c5ff243f4bca31)** to **[`2942c31`](https://github.com/sagemath/sagetrac-mirror/commit/2942c3136ffad17f490b55cd83421c70c05ff46a)**



---

archive/issue_comments_233851.json:
```json
{
    "body": "<div id=\"comment:69\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2942c3136ffad17f490b55cd83421c70c05ff46a\"><code>2942c31</code></a></td><td><code>Removed is_isomorphic</code></td></tr></table>\n",
    "created_at": "2015-01-28T13:21:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233851",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:69"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2942c3136ffad17f490b55cd83421c70c05ff46a"><code>2942c31</code></a></td><td><code>Removed is_isomorphic</code></td></tr></table>




---

archive/issue_comments_233852.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nYeah I have only tested this thing on generic_graph.py.\n\nI guess we must be really careful to check all the places this guys are called.\n\nI'll check now a bit...",
    "created_at": "2015-01-28T13:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233852",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:70" align="right">comment:70</div>

Yeah I have only tested this thing on generic_graph.py.

I guess we must be really careful to check all the places this guys are called.

I'll check now a bit...



---

archive/issue_comments_233853.json:
```json
{
    "body": "Changed commit from **[`2942c31`](https://github.com/sagemath/sagetrac-mirror/commit/2942c3136ffad17f490b55cd83421c70c05ff46a)** to **[`2018dbc`](https://github.com/sagemath/sagetrac-mirror/commit/2018dbc040e23bfafc873af17adc75f699a175cc)**",
    "created_at": "2015-01-28T13:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233853",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2942c31`](https://github.com/sagemath/sagetrac-mirror/commit/2942c3136ffad17f490b55cd83421c70c05ff46a)** to **[`2018dbc`](https://github.com/sagemath/sagetrac-mirror/commit/2018dbc040e23bfafc873af17adc75f699a175cc)**



---

archive/issue_comments_233854.json:
```json
{
    "body": "<div id=\"comment:71\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2018dbc040e23bfafc873af17adc75f699a175cc\"><code>2018dbc</code></a></td><td><code>Fixed error related to the new way of computing automorphisms.</code></td></tr></table>\n",
    "created_at": "2015-01-28T13:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233854",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:71"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2018dbc040e23bfafc873af17adc75f699a175cc"><code>2018dbc</code></a></td><td><code>Fixed error related to the new way of computing automorphisms.</code></td></tr></table>




---

archive/issue_comments_233855.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nI've fixed the error in Tutte poly but there is another depreciation warning that gets triggered due to loops not being explicitly specified. Do you happen to know what is causing this?",
    "created_at": "2015-01-28T13:28:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233855",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:72" align="right">comment:72</div>

I've fixed the error in Tutte poly but there is another depreciation warning that gets triggered due to loops not being explicitly specified. Do you happen to know what is causing this?



---

archive/issue_comments_233856.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\n> I've fixed the error in Tutte poly\n\nIt will break on a machine that does not have `bliss` installed.\n\n> but there is another depreciation warning that gets triggered due to loops not being explicitly specified. Do you happen to know what is causing this?\n\nI would say that it come from there\n\n```\n+            G = DiGraph(edges)\n+        else:\n+            from sage.graphs.graph import Graph\n+            G = Graph(edges)\n```\n\nNathann",
    "created_at": "2015-01-28T13:30:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233856",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:73" align="right">comment:73</div>

> I've fixed the error in Tutte poly

It will break on a machine that does not have `bliss` installed.

> but there is another depreciation warning that gets triggered due to loops not being explicitly specified. Do you happen to know what is causing this?

I would say that it come from there

```
+            G = DiGraph(edges)
+        else:
+            from sage.graphs.graph import Graph
+            G = Graph(edges)
```

Nathann



---

archive/issue_comments_233857.json:
```json
{
    "body": "Changed commit from **[`2018dbc`](https://github.com/sagemath/sagetrac-mirror/commit/2018dbc040e23bfafc873af17adc75f699a175cc)** to **[`cac03d7`](https://github.com/sagemath/sagetrac-mirror/commit/cac03d7f9ce6ee3de47ad48f46a9118fb0c72083)**",
    "created_at": "2015-01-28T14:23:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233857",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2018dbc`](https://github.com/sagemath/sagetrac-mirror/commit/2018dbc040e23bfafc873af17adc75f699a175cc)** to **[`cac03d7`](https://github.com/sagemath/sagetrac-mirror/commit/cac03d7f9ce6ee3de47ad48f46a9118fb0c72083)**



---

archive/issue_comments_233858.json:
```json
{
    "body": "<div id=\"comment:74\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cac03d7f9ce6ee3de47ad48f46a9118fb0c72083\"><code>cac03d7</code></a></td><td><code>Made sure canonical labels are computed with Sage's algorithm</code></td></tr></table>\n",
    "created_at": "2015-01-28T14:23:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233858",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:74"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cac03d7f9ce6ee3de47ad48f46a9118fb0c72083"><code>cac03d7</code></a></td><td><code>Made sure canonical labels are computed with Sage's algorithm</code></td></tr></table>




---

archive/issue_comments_233859.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nOkay, \n\nso now all doctest pass except for the loops thing in Tutte poly. I don't seem to be able to find the line that you mention. In which file is this present?",
    "created_at": "2015-01-28T14:24:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233859",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:75" align="right">comment:75</div>

Okay, 

so now all doctest pass except for the loops thing in Tutte poly. I don't seem to be able to find the line that you mention. In which file is this present?



---

archive/issue_comments_233860.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\n> so now all doctest pass except for the loops thing in Tutte poly. I don't seem to be able to find the line that you mention. In which file is this present?\n\nOops, sorry. It is a line added by your branch, in the function `canonical_form`.\n\nNathann",
    "created_at": "2015-01-28T14:58:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233860",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:76" align="right">comment:76</div>

> so now all doctest pass except for the loops thing in Tutte poly. I don't seem to be able to find the line that you mention. In which file is this present?

Oops, sorry. It is a line added by your branch, in the function `canonical_form`.

Nathann



---

archive/issue_comments_233861.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nJernej, you cannot make the computation of tutte polynomials avoid bliss only because of a doctest.\n\nThe doctest should be changed to be independent from the solver, or flagged as #random, or you should expose 'algorithm=\"sage/bliss\"' in the tutte polynomial function... I mean, there are many workaround possible but you can't explicitly forbid people to use bliss for such computations only because of a doctest.\n\nNathann",
    "created_at": "2015-01-28T15:01:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233861",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:77" align="right">comment:77</div>

Jernej, you cannot make the computation of tutte polynomials avoid bliss only because of a doctest.

The doctest should be changed to be independent from the solver, or flagged as #random, or you should expose 'algorithm="sage/bliss"' in the tutte polynomial function... I mean, there are many workaround possible but you can't explicitly forbid people to use bliss for such computations only because of a doctest.

Nathann



---

archive/issue_comments_233862.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nHm.. I am confused.\n\nWhat I *think* I did is simply made sure the Tutte program uses sage's algorithm so that the test passes on installations not having bliss installed. \n\nAs I understand you'd like to have a new parameter for the tutte poly to use bliss?",
    "created_at": "2015-01-28T15:18:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233862",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:78" align="right">comment:78</div>

Hm.. I am confused.

What I *think* I did is simply made sure the Tutte program uses sage's algorithm so that the test passes on installations not having bliss installed. 

As I understand you'd like to have a new parameter for the tutte poly to use bliss?



---

archive/issue_comments_233863.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\n> What I *think* I did is simply made sure the Tutte program uses sage's algorithm so that the test passes on installations not having bliss installed. \n\nYes. But as you changed Sage's source code and not only its doctests, now `tutte_polynomial` will never be able to use bliss even if it is installed.\n\n> As I understand you'd like to have a new parameter for the tutte poly to use bliss?\n\nThat is one way out. Another way out is to remove the doctest if it is not actually necessary, or to modify it in such a way that it still tests what it should test, without actually printing the ordering that may depend upon the packages installed.\n\nNathann",
    "created_at": "2015-01-28T16:09:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233863",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:79" align="right">comment:79</div>

> What I *think* I did is simply made sure the Tutte program uses sage's algorithm so that the test passes on installations not having bliss installed. 

Yes. But as you changed Sage's source code and not only its doctests, now `tutte_polynomial` will never be able to use bliss even if it is installed.

> As I understand you'd like to have a new parameter for the tutte poly to use bliss?

That is one way out. Another way out is to remove the doctest if it is not actually necessary, or to modify it in such a way that it still tests what it should test, without actually printing the ordering that may depend upon the packages installed.

Nathann



---

archive/issue_comments_233864.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nReplying to [@nathanncohen](#comment%3A79):\n> > What I *think* I did is simply made sure the Tutte program uses sage's algorithm so that the test passes on installations not having bliss installed. \n\n> \n> Yes. But as you changed Sage's source code and not only its doctests, now `tutte_polynomial` will never be able to use bliss even if it is installed.\n\nRight, good point!\n> \n> > As I understand you'd like to have a new parameter for the tutte poly to use bliss?\n\n> \n> That is one way out. Another way out is to remove the doctest if it is not actually necessary, or to modify it in such a way that it still tests what it should test, without actually printing the ordering that may depend upon the packages installed.\n\nUnless you start raving I'll just remove the specific doctest - I don't think its releant.\n\nThanks,\n\nJernej\n> \n> Nathann",
    "created_at": "2015-01-28T16:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233864",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:80" align="right">comment:80</div>

Replying to [@nathanncohen](#comment%3A79):
> > What I *think* I did is simply made sure the Tutte program uses sage's algorithm so that the test passes on installations not having bliss installed. 

> 
> Yes. But as you changed Sage's source code and not only its doctests, now `tutte_polynomial` will never be able to use bliss even if it is installed.

Right, good point!
> 
> > As I understand you'd like to have a new parameter for the tutte poly to use bliss?

> 
> That is one way out. Another way out is to remove the doctest if it is not actually necessary, or to modify it in such a way that it still tests what it should test, without actually printing the ordering that may depend upon the packages installed.

Unless you start raving I'll just remove the specific doctest - I don't think its releant.

Thanks,

Jernej
> 
> Nathann



---

archive/issue_comments_233865.json:
```json
{
    "body": "Changed commit from **[`cac03d7`](https://github.com/sagemath/sagetrac-mirror/commit/cac03d7f9ce6ee3de47ad48f46a9118fb0c72083)** to **[`c68235b`](https://github.com/sagemath/sagetrac-mirror/commit/c68235bf3c18d02dbfa17c92578f70a71a251b32)**",
    "created_at": "2015-01-28T16:12:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233865",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cac03d7`](https://github.com/sagemath/sagetrac-mirror/commit/cac03d7f9ce6ee3de47ad48f46a9118fb0c72083)** to **[`c68235b`](https://github.com/sagemath/sagetrac-mirror/commit/c68235bf3c18d02dbfa17c92578f70a71a251b32)**



---

archive/issue_comments_233866.json:
```json
{
    "body": "<div id=\"comment:81\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c68235bf3c18d02dbfa17c92578f70a71a251b32\"><code>c68235b</code></a></td><td><code>Removed (trivial) doctest complicating bliss integration</code></td></tr></table>\n",
    "created_at": "2015-01-28T16:12:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233866",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:81"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c68235bf3c18d02dbfa17c92578f70a71a251b32"><code>c68235b</code></a></td><td><code>Removed (trivial) doctest complicating bliss integration</code></td></tr></table>




---

archive/issue_comments_233867.json:
```json
{
    "body": "<div id=\"comment:82\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5efca9cc7bb9f0cffe9b25a42ae499ef36bb61c\"><code>f5efca9</code></a></td><td><code>trac #17464: Merged with 6.5.beta6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/acdbae661e84bad3953dd6260d2edb2aeb9719ea\"><code>acdbae6</code></a></td><td><code>trac #17464: Review</code></td></tr></table>\n",
    "created_at": "2015-01-28T16:20:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233867",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:82"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5efca9cc7bb9f0cffe9b25a42ae499ef36bb61c"><code>f5efca9</code></a></td><td><code>trac #17464: Merged with 6.5.beta6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/acdbae661e84bad3953dd6260d2edb2aeb9719ea"><code>acdbae6</code></a></td><td><code>trac #17464: Review</code></td></tr></table>




---

archive/issue_comments_233868.json:
```json
{
    "body": "Changed commit from **[`c68235b`](https://github.com/sagemath/sagetrac-mirror/commit/c68235bf3c18d02dbfa17c92578f70a71a251b32)** to **[`acdbae6`](https://github.com/sagemath/sagetrac-mirror/commit/acdbae661e84bad3953dd6260d2edb2aeb9719ea)**",
    "created_at": "2015-01-28T16:20:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233868",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c68235b`](https://github.com/sagemath/sagetrac-mirror/commit/c68235bf3c18d02dbfa17c92578f70a71a251b32)** to **[`acdbae6`](https://github.com/sagemath/sagetrac-mirror/commit/acdbae661e84bad3953dd6260d2edb2aeb9719ea)**



---

archive/issue_comments_233869.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nHello again,\n\n> Unless you start raving I'll just remove the specific doctest - I don't think its releant.\n\nErr. Well, actually you can't just remove all doctests of a function. `sage -coverage <filename>` should answer that all functions are doctested, so at least something should call the function. I added a small commit that modified the previous doctest, in such a way that it does not depend on the ordering of the labelling.\n\nIt does not check much to be honest, only that something actually gets cached. Well.\n\nIf you are okay with this branch, you can set it to positive review. And we will at long last be able to compute automorphism groups efficiently.\n\nNathann",
    "created_at": "2015-01-28T16:22:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233869",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:83" align="right">comment:83</div>

Hello again,

> Unless you start raving I'll just remove the specific doctest - I don't think its releant.

Err. Well, actually you can't just remove all doctests of a function. `sage -coverage <filename>` should answer that all functions are doctested, so at least something should call the function. I added a small commit that modified the previous doctest, in such a way that it does not depend on the ordering of the labelling.

It does not check much to be honest, only that something actually gets cached. Well.

If you are okay with this branch, you can set it to positive review. And we will at long last be able to compute automorphism groups efficiently.

Nathann



---

archive/issue_events_246674.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-28T16:22:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246674"
}
```



---

archive/issue_events_246675.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-28T16:22:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246675"
}
```



---

archive/issue_comments_233870.json:
```json
{
    "body": "Author: **Jernej Azarija**",
    "created_at": "2015-01-28T16:22:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233870",
    "user": "https://github.com/nathanncohen"
}
```

Author: **Jernej Azarija**



---

archive/issue_comments_233871.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2015-01-28T16:22:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233871",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_233872.json:
```json
{
    "body": "<div id=\"comment:84\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b03b2b90d27d1511f111730dfcb8eb7eba7b54fa\"><code>b03b2b9</code></a></td><td><code>trac #17464: Review</code></td></tr></table>\n",
    "created_at": "2015-01-28T16:33:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233872",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:84"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b03b2b90d27d1511f111730dfcb8eb7eba7b54fa"><code>b03b2b9</code></a></td><td><code>trac #17464: Review</code></td></tr></table>




---

archive/issue_comments_233873.json:
```json
{
    "body": "Changed commit from **[`acdbae6`](https://github.com/sagemath/sagetrac-mirror/commit/acdbae661e84bad3953dd6260d2edb2aeb9719ea)** to **[`b03b2b9`](https://github.com/sagemath/sagetrac-mirror/commit/b03b2b90d27d1511f111730dfcb8eb7eba7b54fa)**",
    "created_at": "2015-01-28T16:33:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233873",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`acdbae6`](https://github.com/sagemath/sagetrac-mirror/commit/acdbae661e84bad3953dd6260d2edb2aeb9719ea)** to **[`b03b2b9`](https://github.com/sagemath/sagetrac-mirror/commit/b03b2b90d27d1511f111730dfcb8eb7eba7b54fa)**



---

archive/issue_events_246676.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2015-01-28T17:40:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246676"
}
```



---

archive/issue_events_246677.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2015-01-28T17:40:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246677"
}
```



---

archive/issue_comments_233874.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nThanks for helping pushing this through.I  hope all is set now.\n\nBest,\n\nJernej",
    "created_at": "2015-01-28T17:40:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233874",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:86" align="right">comment:86</div>

Thanks for helping pushing this through.I  hope all is set now.

Best,

Jernej



---

archive/issue_comments_233875.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nEeeeeeeeeeeeexcellent ! `;-)`\n\nNathann",
    "created_at": "2015-01-28T17:44:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233875",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:87" align="right">comment:87</div>

Eeeeeeeeeeeeexcellent ! `;-)`

Nathann



---

archive/issue_comments_233876.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nDocumentation doesn't build",
    "created_at": "2015-01-29T02:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233876",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:88" align="right">comment:88</div>

Documentation doesn't build



---

archive/issue_events_246678.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-29T02:08:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246678"
}
```



---

archive/issue_events_246679.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-29T02:08:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246679"
}
```



---

archive/issue_comments_233877.json:
```json
{
    "body": "Changed commit from **[`b03b2b9`](https://github.com/sagemath/sagetrac-mirror/commit/b03b2b90d27d1511f111730dfcb8eb7eba7b54fa)** to **[`09ec049`](https://github.com/sagemath/sagetrac-mirror/commit/09ec0494fa9b2e6f4b9dd9154a570cdd04cfb594)**",
    "created_at": "2015-01-29T08:08:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233877",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b03b2b9`](https://github.com/sagemath/sagetrac-mirror/commit/b03b2b90d27d1511f111730dfcb8eb7eba7b54fa)** to **[`09ec049`](https://github.com/sagemath/sagetrac-mirror/commit/09ec0494fa9b2e6f4b9dd9154a570cdd04cfb594)**



---

archive/issue_comments_233878.json:
```json
{
    "body": "<div id=\"comment:89\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09ec0494fa9b2e6f4b9dd9154a570cdd04cfb594\"><code>09ec049</code></a></td><td><code>trac #17464: Broken doc</code></td></tr></table>\n",
    "created_at": "2015-01-29T08:08:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233878",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:89"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09ec0494fa9b2e6f4b9dd9154a570cdd04cfb594"><code>09ec049</code></a></td><td><code>trac #17464: Broken doc</code></td></tr></table>




---

archive/issue_events_246680.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-29T13:09:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246680"
}
```



---

archive/issue_events_246681.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-01-29T13:09:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246681"
}
```



---

archive/issue_comments_233879.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\nI get\n\n```\n...\nsage: G = Graph(multiedges=True,sparse=True) ## line 17388 ##\nsage: G.add_edge(('a', 'b')) ## line 17389 ##\nsage: G.add_edge(('a', 'b')) ## line 17390 ##\nsage: G.add_edge(('a', 'b')) ## line 17391 ##\nsage: G.automorphism_group() ## line 17392 ##\nPermutation Group with generators [('a','b')]\nsage: D = DiGraph( { 0:[1], 1:[2], 2:[3], 3:[4], 4:[0] } ) ## line 17397 ##\nsage: D.automorphism_group() ## line 17398 ##\nBliss fatal error: Internal error - unknown splitting heuristics\nAborting!\n```",
    "created_at": "2015-01-29T17:11:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233879",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:91" align="right">comment:91</div>

I get

```
...
sage: G = Graph(multiedges=True,sparse=True) ## line 17388 ##
sage: G.add_edge(('a', 'b')) ## line 17389 ##
sage: G.add_edge(('a', 'b')) ## line 17390 ##
sage: G.add_edge(('a', 'b')) ## line 17391 ##
sage: G.automorphism_group() ## line 17392 ##
Permutation Group with generators [('a','b')]
sage: D = DiGraph( { 0:[1], 1:[2], 2:[3], 3:[4], 4:[0] } ) ## line 17397 ##
sage: D.automorphism_group() ## line 17398 ##
Bliss fatal error: Internal error - unknown splitting heuristics
Aborting!
```



---

archive/issue_events_246682.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-29T17:11:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246682"
}
```



---

archive/issue_events_246683.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-29T17:11:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246683"
}
```



---

archive/issue_comments_233880.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nVolker, \n\nhave you reinstalled bliss? There is a patch that has to be applied to bliss before this works and the patch was introduced in this branch.\n\n\nBest,\n\nJernej",
    "created_at": "2015-01-29T17:14:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233880",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:92" align="right">comment:92</div>

Volker, 

have you reinstalled bliss? There is a patch that has to be applied to bliss before this works and the patch was introduced in this branch.


Best,

Jernej



---

archive/issue_comments_233881.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nJust recompiled and its still there. Actually its always dying in a slightly different spot:\n\n```\nsage: g = digraphs.Circuit(5) ## line 11558 ##\nsage: g.is_circulant(certificate = True) ## line 11559 ##\nBliss fatal error: Internal error - unknown splitting heuristics\nAborting!\n```",
    "created_at": "2015-01-29T17:20:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233881",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:93" align="right">comment:93</div>

Just recompiled and its still there. Actually its always dying in a slightly different spot:

```
sage: g = digraphs.Circuit(5) ## line 11558 ##
sage: g.is_circulant(certificate = True) ## line 11559 ##
Bliss fatal error: Internal error - unknown splitting heuristics
Aborting!
```



---

archive/issue_comments_233882.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nWow that's bad. Just to be sure, the patch applied (the one in pkgs/bliss/patches) is the following?\n\n```\n--- bliss-0.72/graph.cc\t2011-05-12 15:29:46.000000000 +0200\n+++ /tmp/bliss-0.72/graph.cc\t2015-01-28 13:40:42.289179859 +0100\n@@ -1920,6 +1920,7 @@\n Digraph::Digraph(const unsigned int nof_vertices)\n {\n   vertices.resize(nof_vertices);\n+  sh = shs_f;\n }\n```",
    "created_at": "2015-01-29T17:24:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233882",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:94" align="right">comment:94</div>

Wow that's bad. Just to be sure, the patch applied (the one in pkgs/bliss/patches) is the following?

```
--- bliss-0.72/graph.cc	2011-05-12 15:29:46.000000000 +0200
+++ /tmp/bliss-0.72/graph.cc	2015-01-28 13:40:42.289179859 +0100
@@ -1920,6 +1920,7 @@
 Digraph::Digraph(const unsigned int nof_vertices)
 {
   vertices.resize(nof_vertices);
+  sh = shs_f;
 }
```



---

archive/issue_comments_233883.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\n\n```\n$ patch=patches/digraph_heuristic.patch\n$ patch -n -p1 <\"$patch\" \npatch: **** Only garbage was found in the patch input.\n```",
    "created_at": "2015-01-29T17:32:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233883",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:95" align="right">comment:95</div>


```
$ patch=patches/digraph_heuristic.patch
$ patch -n -p1 <"$patch" 
patch: **** Only garbage was found in the patch input.
```



---

archive/issue_comments_233884.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nHm. Question. Why don't I get this error when I issue sage -f bliss?",
    "created_at": "2015-01-29T17:36:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233884",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:96" align="right">comment:96</div>

Hm. Question. Why don't I get this error when I issue sage -f bliss?



---

archive/issue_comments_233885.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">comment:97</div>\n\nOops, -n is not dry-run in patch.\n\nThe problem is that you first \"cd src\" and then iterate over \"patches/*.patch\". Which is then empty.",
    "created_at": "2015-01-29T19:26:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233885",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:97" align="right">comment:97</div>

Oops, -n is not dry-run in patch.

The problem is that you first "cd src" and then iterate over "patches/*.patch". Which is then empty.



---

archive/issue_comments_233886.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">comment:98</div>\n\nReplying to [@vbraun](#comment%3A95):\n> \n> ```\n> $ patch=patches/digraph_heuristic.patch\n> $ patch -n -p1 <\"$patch\" \n> patch: **** Only garbage was found in the patch input.\n> ```\n\nWhat exactly is causing this error? The patch was created with \n\n```\ndiff -Naur old new > patch.txt\n```",
    "created_at": "2015-01-30T10:45:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233886",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:98" align="right">comment:98</div>

Replying to [@vbraun](#comment%3A95):
> 
> ```
> $ patch=patches/digraph_heuristic.patch
> $ patch -n -p1 <"$patch" 
> patch: **** Only garbage was found in the patch input.
> ```

What exactly is causing this error? The patch was created with 

```
diff -Naur old new > patch.txt
```



---

archive/issue_comments_233887.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\nThe \"only garbage\" message is because of the \"-n\".",
    "created_at": "2015-01-30T11:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233887",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:99" align="right">comment:99</div>

The "only garbage" message is because of the "-n".



---

archive/issue_comments_233888.json:
```json
{
    "body": "<div id=\"comment:100\" align=\"right\">comment:100</div>\n\nOkay, so the patch actually looks fine if manually apply it, but sage -f bliss says\n\n```\ncan't find file to patch at input line 3\n```\n\nhow do I actually specify this file? Where are the sources expected to be?",
    "created_at": "2015-01-30T11:56:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233888",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:100" align="right">comment:100</div>

Okay, so the patch actually looks fine if manually apply it, but sage -f bliss says

```
can't find file to patch at input line 3
```

how do I actually specify this file? Where are the sources expected to be?



---

archive/issue_comments_233889.json:
```json
{
    "body": "<div id=\"comment:101\" align=\"right\">comment:101</div>\n\nAs I said in [comment:97](#comment%3A97), the problem is that you first \"cd src\" and then iterate over \"patches/*.patch\". Which is the wrong path when you are in \"src\"",
    "created_at": "2015-02-05T14:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233889",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:101" align="right">comment:101</div>

As I said in [comment:97](#comment%3A97), the problem is that you first "cd src" and then iterate over "patches/*.patch". Which is the wrong path when you are in "src"



---

archive/issue_comments_233890.json:
```json
{
    "body": "<div id=\"comment:102\" align=\"right\">comment:102</div>\n\nVolker,\n\nthis is the actual error I get after fixing the \"cd src\" issue. Specifically\n\n```\n****************************************************\ncan't find file to patch at input line 3\nPerhaps you used the wrong -p or --strip option?\nThe text leading up to this was:\n--------------------------\n|--- bliss-0.72/graph.cc\t2011-05-12 15:29:46.000000000 +0200\n|+++ /tmp/bliss-0.72/graph.cc\t2015-01-30 11:41:02.211921044 +0100\n```",
    "created_at": "2015-02-05T14:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233890",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:102" align="right">comment:102</div>

Volker,

this is the actual error I get after fixing the "cd src" issue. Specifically

```
****************************************************
can't find file to patch at input line 3
Perhaps you used the wrong -p or --strip option?
The text leading up to this was:
--------------------------
|--- bliss-0.72/graph.cc	2011-05-12 15:29:46.000000000 +0200
|+++ /tmp/bliss-0.72/graph.cc	2015-01-30 11:41:02.211921044 +0100
```



---

archive/issue_comments_233891.json:
```json
{
    "body": "<div id=\"comment:103\" align=\"right\">comment:103</div>\n\nFor starters, why is bliss-0.72/graph.cc one directory deep but /tmp/bliss-0.72/graph.cc two directories deep? Do your diffs against identical directory trees. Then strip the right number of directory levels with the -p",
    "created_at": "2015-02-05T14:48:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233891",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:103" align="right">comment:103</div>

For starters, why is bliss-0.72/graph.cc one directory deep but /tmp/bliss-0.72/graph.cc two directories deep? Do your diffs against identical directory trees. Then strip the right number of directory levels with the -p



---

archive/issue_comments_233892.json:
```json
{
    "body": "Changed commit from **[`09ec049`](https://github.com/sagemath/sagetrac-mirror/commit/09ec0494fa9b2e6f4b9dd9154a570cdd04cfb594)** to **[`5ef441a`](https://github.com/sagemath/sagetrac-mirror/commit/5ef441aeca37ec354b0a6a8b423583add44395b1)**",
    "created_at": "2015-02-11T12:50:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233892",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`09ec049`](https://github.com/sagemath/sagetrac-mirror/commit/09ec0494fa9b2e6f4b9dd9154a570cdd04cfb594)** to **[`5ef441a`](https://github.com/sagemath/sagetrac-mirror/commit/5ef441aeca37ec354b0a6a8b423583add44395b1)**



---

archive/issue_comments_233893.json:
```json
{
    "body": "<div id=\"comment:104\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ef441aeca37ec354b0a6a8b423583add44395b1\"><code>5ef441a</code></a></td><td><code>Fixed patching of bliss</code></td></tr></table>\n",
    "created_at": "2015-02-11T12:50:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233893",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:104"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ef441aeca37ec354b0a6a8b423583add44395b1"><code>5ef441a</code></a></td><td><code>Fixed patching of bliss</code></td></tr></table>




---

archive/issue_comments_233894.json:
```json
{
    "body": "<div id=\"comment:105\" align=\"right\">comment:105</div>\n\nCan someone take a look if this now makes sense?\n\nDoing sage -f bliss and testing the graph module passes OK for me.",
    "created_at": "2015-02-11T12:52:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233894",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:105" align="right">comment:105</div>

Can someone take a look if this now makes sense?

Doing sage -f bliss and testing the graph module passes OK for me.



---

archive/issue_comments_233895.json:
```json
{
    "body": "<div id=\"comment:106\" align=\"right\">comment:106</div>\n\nHere it crashes with the usual error message. Does that work on your computer ?\n\n```\nsage: digraphs.DeBruijn(3,1).is_circulant(certificate = True)\nBliss fatal error: Internal error - unknown splitting heuristics\nAborting!\n```",
    "created_at": "2015-02-11T12:57:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233895",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:106" align="right">comment:106</div>

Here it crashes with the usual error message. Does that work on your computer ?

```
sage: digraphs.DeBruijn(3,1).is_circulant(certificate = True)
Bliss fatal error: Internal error - unknown splitting heuristics
Aborting!
```



---

archive/issue_comments_233896.json:
```json
{
    "body": "<div id=\"comment:107\" align=\"right\">comment:107</div>\n\nWeird.\n\n```\nsage: digraphs.DeBruijn(3,1).is_circulant(certificate = True)\n(True, [(3, [0, 1, 2])])\n```",
    "created_at": "2015-02-11T12:59:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233896",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:107" align="right">comment:107</div>

Weird.

```
sage: digraphs.DeBruijn(3,1).is_circulant(certificate = True)
(True, [(3, [0, 1, 2])])
```



---

archive/issue_comments_233897.json:
```json
{
    "body": "<div id=\"comment:108\" align=\"right\">comment:108</div>\n\nCould you please check if this new modification that I pushed actually patches bliss for you?",
    "created_at": "2015-02-11T13:00:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233897",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:108" align="right">comment:108</div>

Could you please check if this new modification that I pushed actually patches bliss for you?



---

archive/issue_comments_233898.json:
```json
{
    "body": "<div id=\"comment:109\" align=\"right\">comment:109</div>\n\nThe patching works fine. I added `grep \"sh = shs_f;\" -A 5 -B 5 graph.cc` right at the end of the 'for patch in' loop in spkg-install, and I see:\n\n```\nDigraph::Digraph(const unsigned int nof_vertices)\n{\n  vertices.resize(nof_vertices);\n  sh = shs_f;\n}\n```\n\nI also don't understand why it would work on your computer and not on mine.\n\nNathann",
    "created_at": "2015-02-11T13:11:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233898",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:109" align="right">comment:109</div>

The patching works fine. I added `grep "sh = shs_f;" -A 5 -B 5 graph.cc` right at the end of the 'for patch in' loop in spkg-install, and I see:

```
Digraph::Digraph(const unsigned int nof_vertices)
{
  vertices.resize(nof_vertices);
  sh = shs_f;
}
```

I also don't understand why it would work on your computer and not on mine.

Nathann



---

archive/issue_comments_233899.json:
```json
{
    "body": "<div id=\"comment:110\" align=\"right\">comment:110</div>\n\nI have now pulled the latest branch, installed bliss and everything works fine. The above example as well as sage -t generic_graph.py o_O\n\nI have no idea what's going on at this point.",
    "created_at": "2015-02-11T14:49:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233899",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:110" align="right">comment:110</div>

I have now pulled the latest branch, installed bliss and everything works fine. The above example as well as sage -t generic_graph.py o_O

I have no idea what's going on at this point.



---

archive/issue_comments_233900.json:
```json
{
    "body": "<div id=\"comment:111\" align=\"right\">comment:111</div>\n\nSame with `sage -t -l --optional=sage,bliss graph/` for the whole folder ?\n\nNathann",
    "created_at": "2015-02-11T14:52:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233900",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:111" align="right">comment:111</div>

Same with `sage -t -l --optional=sage,bliss graph/` for the whole folder ?

Nathann



---

archive/issue_comments_233901.json:
```json
{
    "body": "<div id=\"comment:112\" align=\"right\">comment:112</div>\n\nYes! I only get three errors. One is the depreciaton warning from Tutte poly and two are weird errors of the type\n\n```\n**********************************************************************\nFile \"sage/src/sage/graphs/generic_graph.py\", line 17448, in sage.graphs.generic_graph.GenericGraph.?\nFailed example:\n    A1.is_isomorphic(A2)                          # optional - bliss\nExpected:\n    True                                                # optional - bliss\nGot:\n    True\n**********************************************************************\n```",
    "created_at": "2015-02-11T16:11:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233901",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:112" align="right">comment:112</div>

Yes! I only get three errors. One is the depreciaton warning from Tutte poly and two are weird errors of the type

```
**********************************************************************
File "sage/src/sage/graphs/generic_graph.py", line 17448, in sage.graphs.generic_graph.GenericGraph.?
Failed example:
    A1.is_isomorphic(A2)                          # optional - bliss
Expected:
    True                                                # optional - bliss
Got:
    True
**********************************************************************
```



---

archive/issue_comments_233902.json:
```json
{
    "body": "<div id=\"comment:113\" align=\"right\">comment:113</div>\n\nCan you try on somebody else's computer, or on some ssh machine ?\n\nNathann",
    "created_at": "2015-02-11T16:24:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233902",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:113" align="right">comment:113</div>

Can you try on somebody else's computer, or on some ssh machine ?

Nathann



---

archive/issue_comments_233903.json:
```json
{
    "body": "<div id=\"comment:114\" align=\"right\">comment:114</div>\n\nNathann,\n\nsorry for the delay. Was computing something on all external machines and did want to stop to compile sage.\n\nI have now tested this on another machine (fetch stuff with git install bliss sage -t on generic_graph.py and graph.py) and it works well.\n\nAlso\n\n```\nsage: digraphs.DeBruijn(3,1).is_circulant(certificate = True)\n\n(True, [(3, [0, 1, 2])])\n```\n\nSo I have no idea why the error is still occurring for you.\n\nBest,\n\nJernej",
    "created_at": "2015-03-02T13:50:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233903",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:114" align="right">comment:114</div>

Nathann,

sorry for the delay. Was computing something on all external machines and did want to stop to compile sage.

I have now tested this on another machine (fetch stuff with git install bliss sage -t on generic_graph.py and graph.py) and it works well.

Also

```
sage: digraphs.DeBruijn(3,1).is_circulant(certificate = True)

(True, [(3, [0, 1, 2])])
```

So I have no idea why the error is still occurring for you.

Best,

Jernej



---

archive/issue_comments_233904.json:
```json
{
    "body": "<div id=\"comment:115\" align=\"right\">comment:115</div>\n\nI am recompiling Sage from scratch to see what happens when I reinstall this afterwards.\n\nNathann",
    "created_at": "2015-03-03T14:55:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233904",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:115" align="right">comment:115</div>

I am recompiling Sage from scratch to see what happens when I reinstall this afterwards.

Nathann



---

archive/issue_comments_233905.json:
```json
{
    "body": "<div id=\"comment:116\" align=\"right\">comment:116</div>\n\nOkay. I made a 'make distclean' on a machine on which Sage crashed with this line\n\n```\nsage: digraphs.DeBruijn(3,1).is_circulant(certificate = True)\n```\n\nI remove the bliss package, then ran 'make' then installed bliss again, and now it works. Volker? Could you do the same thing on your machine to see if it solves the problem too?\n\nNathann",
    "created_at": "2015-03-03T17:14:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233905",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:116" align="right">comment:116</div>

Okay. I made a 'make distclean' on a machine on which Sage crashed with this line

```
sage: digraphs.DeBruijn(3,1).is_circulant(certificate = True)
```

I remove the bliss package, then ran 'make' then installed bliss again, and now it works. Volker? Could you do the same thing on your machine to see if it solves the problem too?

Nathann



---

archive/issue_comments_233906.json:
```json
{
    "body": "<div id=\"comment:117\" align=\"right\">comment:117</div>\n\nWhat do you mean by \"remove the package\"? If you need to recompile (e.g. because of different patches) then you must bump the patch level in the package-version.txt",
    "created_at": "2015-03-03T17:24:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233906",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:117" align="right">comment:117</div>

What do you mean by "remove the package"? If you need to recompile (e.g. because of different patches) then you must bump the patch level in the package-version.txt



---

archive/issue_comments_233907.json:
```json
{
    "body": "<div id=\"comment:118\" align=\"right\">comment:118</div>\n\nOkay. This branch now works on my laptop, and on my office's computer. Here is what I did:\n\n- `make distclean`\n- `rm upstream/bliss-0.72.tar.bz2`\n- apply the branch\n- `make`\n- `sage -f bliss`\n- `make`\n\nAnd now it works. \n\nI have no clue what the problem was, however. And of course now I don't know how to reproduce the bug anymore `XD`\n\nNathann",
    "created_at": "2015-03-04T08:20:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233907",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:118" align="right">comment:118</div>

Okay. This branch now works on my laptop, and on my office's computer. Here is what I did:

- `make distclean`
- `rm upstream/bliss-0.72.tar.bz2`
- apply the branch
- `make`
- `sage -f bliss`
- `make`

And now it works. 

I have no clue what the problem was, however. And of course now I don't know how to reproduce the bug anymore `XD`

Nathann



---

archive/issue_comments_233908.json:
```json
{
    "body": "Changed commit from **[`5ef441a`](https://github.com/sagemath/sagetrac-mirror/commit/5ef441aeca37ec354b0a6a8b423583add44395b1)** to **[`b270ce6`](https://github.com/sagemath/sagetrac-mirror/commit/b270ce66315ccc8c87b97a4e6bc6a754d11c941d)**",
    "created_at": "2015-03-04T08:21:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233908",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5ef441a`](https://github.com/sagemath/sagetrac-mirror/commit/5ef441aeca37ec354b0a6a8b423583add44395b1)** to **[`b270ce6`](https://github.com/sagemath/sagetrac-mirror/commit/b270ce66315ccc8c87b97a4e6bc6a754d11c941d)**



---

archive/issue_comments_233909.json:
```json
{
    "body": "<div id=\"comment:119\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b270ce66315ccc8c87b97a4e6bc6a754d11c941d\"><code>b270ce6</code></a></td><td><code>trac #17464: Rebase on 6.6.beta2</code></td></tr></table>\n",
    "created_at": "2015-03-04T08:21:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233909",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:119"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b270ce66315ccc8c87b97a4e6bc6a754d11c941d"><code>b270ce6</code></a></td><td><code>trac #17464: Rebase on 6.6.beta2</code></td></tr></table>




---

archive/issue_comments_233910.json:
```json
{
    "body": "<div id=\"comment:120\" align=\"right\">comment:120</div>\n\nDo you think we can accept this then?",
    "created_at": "2015-03-04T08:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233910",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:120" align="right">comment:120</div>

Do you think we can accept this then?



---

archive/issue_comments_233911.json:
```json
{
    "body": "<div id=\"comment:121\" align=\"right\">comment:121</div>\n\n> Do you think we can accept this then?\n\nNot yet. First, I think I saw somewhere that the documentation did not build, and this must be fixed. Because of some http link.\n\nThen we must figure out what happened, for even if a distclean makes the trick something fishy is going on in the building process (Volker may know). Unless we find what it is and fix it, everybody will have to do a `make distclean` in order to have it work, just like we did.\n\nNathann",
    "created_at": "2015-03-04T08:24:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233911",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:121" align="right">comment:121</div>

> Do you think we can accept this then?

Not yet. First, I think I saw somewhere that the documentation did not build, and this must be fixed. Because of some http link.

Then we must figure out what happened, for even if a distclean makes the trick something fishy is going on in the building process (Volker may know). Unless we find what it is and fix it, everybody will have to do a `make distclean` in order to have it work, just like we did.

Nathann



---

archive/issue_events_246684.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-03-04T08:24:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246684"
}
```



---

archive/issue_events_246685.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-03-04T08:24:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246685"
}
```



---

archive/issue_comments_233912.json:
```json
{
    "body": "<div id=\"comment:123\" align=\"right\">comment:123</div>\n\nYou need to bump the package-version.txt to 0.72.p1, otherwise the build system does't know that anything changed and will not recompile bliss (and, therefore, your patch will not be used).",
    "created_at": "2015-03-11T14:02:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233912",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:123" align="right">comment:123</div>

You need to bump the package-version.txt to 0.72.p1, otherwise the build system does't know that anything changed and will not recompile bliss (and, therefore, your patch will not be used).



---

archive/issue_comments_233913.json:
```json
{
    "body": "<div id=\"comment:124\" align=\"right\">comment:124</div>\n\nVolker: the bug still happened when running 'sage -f bliss'. Isn't that a contradiction ?",
    "created_at": "2015-03-11T16:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233913",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:124" align="right">comment:124</div>

Volker: the bug still happened when running 'sage -f bliss'. Isn't that a contradiction ?



---

archive/issue_comments_233914.json:
```json
{
    "body": "<div id=\"comment:125\" align=\"right\">comment:125</div>\n\nWhich bug do you mean? There are clearly multiple ones. I'll be happy to look if you don't have any obvious bugs open any more.",
    "created_at": "2015-03-11T21:08:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233914",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:125" align="right">comment:125</div>

Which bug do you mean? There are clearly multiple ones. I'll be happy to look if you don't have any obvious bugs open any more.



---

archive/issue_comments_233915.json:
```json
{
    "body": "<div id=\"comment:126\" align=\"right\">comment:126</div>\n\nHello Volker,\n\n> Which bug do you mean? There are clearly multiple ones. I'll be happy to look if you don't have any obvious bugs open any more.\n\nWell, the 'main' bug that we had was this 'undefined heuristic' poblem which caused crashes. As I reported above, running a 'make distclean' and reinstalling everything solves it, and now this branch passes all tests on my computer.\n\nI would be tempted to switch it to 'positive review', but that would produce errors on everybody's computer unless they *also* run this make distclean! If you say that this would be solved by changing the version number, then let us do that and switch it to 'positive review'\n\nWhat worries me is that I do not understand why changing the version number would have any effect that forcing a reinstall through 'sage -f bliss' did not have. I tried it, long before trying 'make distclean', and it had no effect.\n\nWhat do you think we should do ?\n\nNathann",
    "created_at": "2015-03-12T07:21:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233915",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:126" align="right">comment:126</div>

Hello Volker,

> Which bug do you mean? There are clearly multiple ones. I'll be happy to look if you don't have any obvious bugs open any more.

Well, the 'main' bug that we had was this 'undefined heuristic' poblem which caused crashes. As I reported above, running a 'make distclean' and reinstalling everything solves it, and now this branch passes all tests on my computer.

I would be tempted to switch it to 'positive review', but that would produce errors on everybody's computer unless they *also* run this make distclean! If you say that this would be solved by changing the version number, then let us do that and switch it to 'positive review'

What worries me is that I do not understand why changing the version number would have any effect that forcing a reinstall through 'sage -f bliss' did not have. I tried it, long before trying 'make distclean', and it had no effect.

What do you think we should do ?

Nathann



---

archive/issue_events_246686.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-18T09:11:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246686"
}
```



---

archive/issue_events_246687.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-18T09:11:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246687"
}
```



---

archive/issue_comments_233916.json:
```json
{
    "body": "<div id=\"comment:127\" align=\"right\">comment:127</div>\n\nYou need to bump the package-version.txt to 0.72.p1, otherwise the build system does't know that anything changed and will not recompile bliss (and, therefore, your patch will not be used).",
    "created_at": "2015-03-18T09:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233916",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:127" align="right">comment:127</div>

You need to bump the package-version.txt to 0.72.p1, otherwise the build system does't know that anything changed and will not recompile bliss (and, therefore, your patch will not be used).



---

archive/issue_comments_233917.json:
```json
{
    "body": "Changed commit from **[`b270ce6`](https://github.com/sagemath/sagetrac-mirror/commit/b270ce66315ccc8c87b97a4e6bc6a754d11c941d)** to **[`7b07c7a`](https://github.com/sagemath/sagetrac-mirror/commit/7b07c7a57bad9f3644c88c7f3f875008d6d3ec98)**",
    "created_at": "2015-03-21T16:57:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233917",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b270ce6`](https://github.com/sagemath/sagetrac-mirror/commit/b270ce66315ccc8c87b97a4e6bc6a754d11c941d)** to **[`7b07c7a`](https://github.com/sagemath/sagetrac-mirror/commit/7b07c7a57bad9f3644c88c7f3f875008d6d3ec98)**



---

archive/issue_comments_233918.json:
```json
{
    "body": "<div id=\"comment:128\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7048e6abafec0d5d733aab9a0c3ca97fec30e03c\"><code>7048e6a</code></a></td><td><code>trac #17464: Merged with 6.6.rc0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b07c7a57bad9f3644c88c7f3f875008d6d3ec98\"><code>7b07c7a</code></a></td><td><code>trac #17464: Merge and package version update</code></td></tr></table>\n",
    "created_at": "2015-03-21T16:57:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233918",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:128"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7048e6abafec0d5d733aab9a0c3ca97fec30e03c"><code>7048e6a</code></a></td><td><code>trac #17464: Merged with 6.6.rc0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b07c7a57bad9f3644c88c7f3f875008d6d3ec98"><code>7b07c7a</code></a></td><td><code>trac #17464: Merge and package version update</code></td></tr></table>




---

archive/issue_events_246688.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-03-21T16:58:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246688"
}
```



---

archive/issue_events_246689.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-03-21T16:58:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246689"
}
```



---

archive/issue_events_246690.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2015-03-24T19:32:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246690"
}
```



---

archive/issue_events_246691.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2015-03-24T19:32:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246691"
}
```



---

archive/issue_comments_233919.json:
```json
{
    "body": "<div id=\"comment:130\" align=\"right\">comment:130</div>\n\nHello!\n\nFirst of all thank you for pushing this last bit!!\n\nI've glanced at the changes, tested the relevant modules with -t and checked if sage --docbuild reference html gives any errors related to this change.\n\nAll of the above looks good so I am giving this a positive review. In case you need something else to be checked let me know.\n\nBest,\n\nJernej",
    "created_at": "2015-03-24T19:32:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233919",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:130" align="right">comment:130</div>

Hello!

First of all thank you for pushing this last bit!!

I've glanced at the changes, tested the relevant modules with -t and checked if sage --docbuild reference html gives any errors related to this change.

All of the above looks good so I am giving this a positive review. In case you need something else to be checked let me know.

Best,

Jernej



---

archive/issue_events_246692.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-10T16:37:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246692"
}
```



---

archive/issue_events_246693.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-10T16:37:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246693"
}
```



---

archive/issue_comments_233920.json:
```json
{
    "body": "<div id=\"comment:131\" align=\"right\">comment:131</div>\n\nConflicts with #18145",
    "created_at": "2015-04-10T16:37:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233920",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:131" align="right">comment:131</div>

Conflicts with #18145



---

archive/issue_comments_233921.json:
```json
{
    "body": "<div id=\"comment:132\" align=\"right\">comment:132</div>\n\nThis ticket, in positive review since two weeks, has to be rebased on a ticket created two days ago?....\n\nYou are not being fair.\n\nNathann",
    "created_at": "2015-04-10T16:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233921",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:132" align="right">comment:132</div>

This ticket, in positive review since two weeks, has to be rebased on a ticket created two days ago?....

You are not being fair.

Nathann



---

archive/issue_comments_233922.json:
```json
{
    "body": "<div id=\"comment:133\" align=\"right\">comment:133</div>\n\nJeroen asked me to merge it first, usually they are merged in ascending order.",
    "created_at": "2015-04-10T16:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233922",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:133" align="right">comment:133</div>

Jeroen asked me to merge it first, usually they are merged in ascending order.



---

archive/issue_comments_233923.json:
```json
{
    "body": "<div id=\"comment:134\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c98e78dfcd1afe82b2ced15252b1f659b3590454\"><code>c98e78d</code></a></td><td><code>Merge commit '7d1b5f8ca56180ca2d7044453707c619ef17b51a' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c683c1946e0bb790996664b06b989a88ae50ce18\"><code>c683c19</code></a></td><td><code>Add PARI documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b071619a00e667d3452a73229de43f231dfe662\"><code>4b07161</code></a></td><td><code>Better format links</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f710a200984ac1a1a218cc1c1c63e9bc37c9fbe\"><code>9f710a2</code></a></td><td><code>Merge commit '4b071619a00e667d3452a73229de43f231dfe662' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41755fe8772858c5d94cc851efdb24ec9adfb6f4\"><code>41755fe</code></a></td><td><code>Re-organize building of Sage library and auto-generated files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3510d4595fc6f35d801d69336e51d15f8bbe4ef4\"><code>3510d45</code></a></td><td><code>Minor review fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e56aeb2c9a190813096a0f7db1683d3d5bc774d1\"><code>e56aeb2</code></a></td><td><code>Cythonize optional extensions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7366bbf8262f4b9477dc5276e7207b47dba4a5b5\"><code>7366bbf</code></a></td><td><code>trac #17464: Merged with #18145</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9639c2f1d3779dde344b7bdae3b00f07a14dced\"><code>e9639c2</code></a></td><td><code>trac #17464: Add bliss to module_list.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7902e5f82eb6ab925fcca62ecb7eb81c19544661\"><code>7902e5f</code></a></td><td><code>trac #18107: Broken doctest</code></td></tr></table>\n",
    "created_at": "2015-04-12T10:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233923",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:134"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c98e78dfcd1afe82b2ced15252b1f659b3590454"><code>c98e78d</code></a></td><td><code>Merge commit '7d1b5f8ca56180ca2d7044453707c619ef17b51a' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c683c1946e0bb790996664b06b989a88ae50ce18"><code>c683c19</code></a></td><td><code>Add PARI documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b071619a00e667d3452a73229de43f231dfe662"><code>4b07161</code></a></td><td><code>Better format links</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f710a200984ac1a1a218cc1c1c63e9bc37c9fbe"><code>9f710a2</code></a></td><td><code>Merge commit '4b071619a00e667d3452a73229de43f231dfe662' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41755fe8772858c5d94cc851efdb24ec9adfb6f4"><code>41755fe</code></a></td><td><code>Re-organize building of Sage library and auto-generated files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3510d4595fc6f35d801d69336e51d15f8bbe4ef4"><code>3510d45</code></a></td><td><code>Minor review fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e56aeb2c9a190813096a0f7db1683d3d5bc774d1"><code>e56aeb2</code></a></td><td><code>Cythonize optional extensions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7366bbf8262f4b9477dc5276e7207b47dba4a5b5"><code>7366bbf</code></a></td><td><code>trac #17464: Merged with #18145</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9639c2f1d3779dde344b7bdae3b00f07a14dced"><code>e9639c2</code></a></td><td><code>trac #17464: Add bliss to module_list.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7902e5f82eb6ab925fcca62ecb7eb81c19544661"><code>7902e5f</code></a></td><td><code>trac #18107: Broken doctest</code></td></tr></table>




---

archive/issue_comments_233924.json:
```json
{
    "body": "Changed commit from **[`7b07c7a`](https://github.com/sagemath/sagetrac-mirror/commit/7b07c7a57bad9f3644c88c7f3f875008d6d3ec98)** to **[`7902e5f`](https://github.com/sagemath/sagetrac-mirror/commit/7902e5f82eb6ab925fcca62ecb7eb81c19544661)**",
    "created_at": "2015-04-12T10:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233924",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7b07c7a`](https://github.com/sagemath/sagetrac-mirror/commit/7b07c7a57bad9f3644c88c7f3f875008d6d3ec98)** to **[`7902e5f`](https://github.com/sagemath/sagetrac-mirror/commit/7902e5f82eb6ab925fcca62ecb7eb81c19544661)**



---

archive/issue_comments_233925.json:
```json
{
    "body": "Changed commit from **[`7902e5f`](https://github.com/sagemath/sagetrac-mirror/commit/7902e5f82eb6ab925fcca62ecb7eb81c19544661)** to **[`44d8462`](https://github.com/sagemath/sagetrac-mirror/commit/44d8462ffc5bff9086c5f408542100b5580c031d)**",
    "created_at": "2015-04-12T10:46:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233925",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7902e5f`](https://github.com/sagemath/sagetrac-mirror/commit/7902e5f82eb6ab925fcca62ecb7eb81c19544661)** to **[`44d8462`](https://github.com/sagemath/sagetrac-mirror/commit/44d8462ffc5bff9086c5f408542100b5580c031d)**



---

archive/issue_comments_233926.json:
```json
{
    "body": "<div id=\"comment:135\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44d8462ffc5bff9086c5f408542100b5580c031d\"><code>44d8462</code></a></td><td><code>trac #17164: Broken doctest</code></td></tr></table>\n",
    "created_at": "2015-04-12T10:46:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233926",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:135"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44d8462ffc5bff9086c5f408542100b5580c031d"><code>44d8462</code></a></td><td><code>trac #17164: Broken doctest</code></td></tr></table>




---

archive/issue_events_246694.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-12T10:46:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246694"
}
```



---

archive/issue_events_246695.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-12T10:46:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246695"
}
```



---

archive/issue_events_246696.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-12T16:32:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246696"
}
```



---

archive/issue_events_246697.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-12T16:32:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246697"
}
```



---

archive/issue_comments_233927.json:
```json
{
    "body": "<div id=\"comment:137\" align=\"right\">comment:137</div>\n\n\n```\n[graphs   ] /Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py:docstring of sage.graphs.generic_graph.GenericGraph.automorphism_group:25: ERROR: Unknown target name: \"http://www.tcs.tkk.fi/software/bliss/index.html\".\n[graphs   ] /Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py:docstring of sage.graphs.generic_graph.GenericGraph.canonical_label:33: ERROR: Unknown target name: \"http://www.tcs.tkk.fi/software/bliss/index.html\".\n[graphs   ] /Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py:docstring of sage.graphs.generic_graph.GenericGraph.is_isomorphic:13: ERROR: Unknown target name: \"http://www.tcs.tkk.fi/software/bliss/index.html\".\nError building the documentation.\nTraceback (most recent call last):\n  File \"/Users/buildslave-sage/slave/sage_git/build/src/doc/common/builder.py\", line 1626, in <module>\n    getattr(get_builder(name), type)()\n  File \"/Users/buildslave-sage/slave/sage_git/build/src/doc/common/builder.py\", line 292, in _wrapper\n    getattr(get_builder(document), 'inventory')(*args, **kwds)\n  File \"/Users/buildslave-sage/slave/sage_git/build/src/doc/common/builder.py\", line 503, in _wrapper\n    x.get(99999)\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python/multiprocessing/pool.py\", line 558, in get\n    raise self._value\nOSError: [graphs   ] /Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py:docstring of sage.graphs.generic_graph.GenericGraph.automorphism_group:25: ERROR: Unknown target name: \"http://www.tcs.tkk.fi/software/bliss/index.html\".\n```",
    "created_at": "2015-04-12T16:32:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233927",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:137" align="right">comment:137</div>


```
[graphs   ] /Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py:docstring of sage.graphs.generic_graph.GenericGraph.automorphism_group:25: ERROR: Unknown target name: "http://www.tcs.tkk.fi/software/bliss/index.html".
[graphs   ] /Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py:docstring of sage.graphs.generic_graph.GenericGraph.canonical_label:33: ERROR: Unknown target name: "http://www.tcs.tkk.fi/software/bliss/index.html".
[graphs   ] /Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py:docstring of sage.graphs.generic_graph.GenericGraph.is_isomorphic:13: ERROR: Unknown target name: "http://www.tcs.tkk.fi/software/bliss/index.html".
Error building the documentation.
Traceback (most recent call last):
  File "/Users/buildslave-sage/slave/sage_git/build/src/doc/common/builder.py", line 1626, in <module>
    getattr(get_builder(name), type)()
  File "/Users/buildslave-sage/slave/sage_git/build/src/doc/common/builder.py", line 292, in _wrapper
    getattr(get_builder(document), 'inventory')(*args, **kwds)
  File "/Users/buildslave-sage/slave/sage_git/build/src/doc/common/builder.py", line 503, in _wrapper
    x.get(99999)
  File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python/multiprocessing/pool.py", line 558, in get
    raise self._value
OSError: [graphs   ] /Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py:docstring of sage.graphs.generic_graph.GenericGraph.automorphism_group:25: ERROR: Unknown target name: "http://www.tcs.tkk.fi/software/bliss/index.html".
```



---

archive/issue_comments_233928.json:
```json
{
    "body": "Changed commit from **[`44d8462`](https://github.com/sagemath/sagetrac-mirror/commit/44d8462ffc5bff9086c5f408542100b5580c031d)** to **[`35e7862`](https://github.com/sagemath/sagetrac-mirror/commit/35e7862195ee22f314848fee7e4196f3b84d3fa2)**",
    "created_at": "2015-04-12T16:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233928",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`44d8462`](https://github.com/sagemath/sagetrac-mirror/commit/44d8462ffc5bff9086c5f408542100b5580c031d)** to **[`35e7862`](https://github.com/sagemath/sagetrac-mirror/commit/35e7862195ee22f314848fee7e4196f3b84d3fa2)**



---

archive/issue_comments_233929.json:
```json
{
    "body": "<div id=\"comment:138\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35e7862195ee22f314848fee7e4196f3b84d3fa2\"><code>35e7862</code></a></td><td><code>trac #17464: Broken doc</code></td></tr></table>\n",
    "created_at": "2015-04-12T16:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233929",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:138"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35e7862195ee22f314848fee7e4196f3b84d3fa2"><code>35e7862</code></a></td><td><code>trac #17464: Broken doc</code></td></tr></table>




---

archive/issue_comments_233930.json:
```json
{
    "body": "Changed commit from **[`35e7862`](https://github.com/sagemath/sagetrac-mirror/commit/35e7862195ee22f314848fee7e4196f3b84d3fa2)** to **[`9d70820`](https://github.com/sagemath/sagetrac-mirror/commit/9d708203dd3236f3c192faab6b573799fa5c1c32)**",
    "created_at": "2015-04-12T16:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233930",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`35e7862`](https://github.com/sagemath/sagetrac-mirror/commit/35e7862195ee22f314848fee7e4196f3b84d3fa2)** to **[`9d70820`](https://github.com/sagemath/sagetrac-mirror/commit/9d708203dd3236f3c192faab6b573799fa5c1c32)**



---

archive/issue_comments_233931.json:
```json
{
    "body": "<div id=\"comment:139\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d708203dd3236f3c192faab6b573799fa5c1c32\"><code>9d70820</code></a></td><td><code>trac #17464: Broken doc</code></td></tr></table>\n",
    "created_at": "2015-04-12T16:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233931",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:139"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d708203dd3236f3c192faab6b573799fa5c1c32"><code>9d70820</code></a></td><td><code>trac #17464: Broken doc</code></td></tr></table>




---

archive/issue_events_246698.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-12T16:54:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246698"
}
```



---

archive/issue_events_246699.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-12T16:54:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246699"
}
```



---

archive/issue_comments_233932.json:
```json
{
    "body": "Changed dependencies from **#17552** to **#17552, #18145**",
    "created_at": "2015-04-14T12:55:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233932",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#17552** to **#17552, #18145**



---

archive/issue_comments_233933.json:
```json
{
    "body": "<div id=\"comment:142\" align=\"right\">comment:142</div>\n\n\n```\nsage -t --long src/sage/combinat/designs/incidence_structures.py\n**********************************************************************\nFile \"src/sage/combinat/designs/incidence_structures.py\", line 1498, in sage.combinat.designs.incidence_structures.IncidenceStructure.automorphism_group\nFailed example:\n    G\nExpected:\n    Permutation Group with generators [(2,3)(4,5), (2,4)(3,5), (1,2)(4,6), (0,1)(4,5)]\nGot:\n    Permutation Group with generators [(2,3)(4,5), (2,4)(3,5), (1,2,3)(4,5,6), (1,6)(2,5,4,3), (0,1)(2,3)]\n**********************************************************************\n1 item had failures:\n   1 of  11 in sage.combinat.designs.incidence_structures.IncidenceStructure.automorphism_group\n    [287 tests, 1 failure, 3.88 s]\n```",
    "created_at": "2015-04-14T22:50:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233933",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:142" align="right">comment:142</div>


```
sage -t --long src/sage/combinat/designs/incidence_structures.py
**********************************************************************
File "src/sage/combinat/designs/incidence_structures.py", line 1498, in sage.combinat.designs.incidence_structures.IncidenceStructure.automorphism_group
Failed example:
    G
Expected:
    Permutation Group with generators [(2,3)(4,5), (2,4)(3,5), (1,2)(4,6), (0,1)(4,5)]
Got:
    Permutation Group with generators [(2,3)(4,5), (2,4)(3,5), (1,2,3)(4,5,6), (1,6)(2,5,4,3), (0,1)(2,3)]
**********************************************************************
1 item had failures:
   1 of  11 in sage.combinat.designs.incidence_structures.IncidenceStructure.automorphism_group
    [287 tests, 1 failure, 3.88 s]
```



---

archive/issue_events_246700.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T22:50:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246700"
}
```



---

archive/issue_events_246701.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T22:50:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246701"
}
```



---

archive/issue_comments_233934.json:
```json
{
    "body": "<div id=\"comment:143\" align=\"right\">comment:143</div>\n\nGood news:\n\n```\nsage: g1=PermutationGroup([[(2,3),(4,5)], [(2,4),(3,5)], [(1,2),(4,6)], [(0,1),(4,5)]])\nsage: g2=PermutationGroup([[(2,3),(4,5)], [(2,4),(3,5)], [(1,2,3),(4,5,6)], [(1,6),(2,5,4,3)], [(0,1),(2,3)]])\nsage: g1==g2\nTrue\n```",
    "created_at": "2015-04-15T08:20:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233934",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:143" align="right">comment:143</div>

Good news:

```
sage: g1=PermutationGroup([[(2,3),(4,5)], [(2,4),(3,5)], [(1,2),(4,6)], [(0,1),(4,5)]])
sage: g2=PermutationGroup([[(2,3),(4,5)], [(2,4),(3,5)], [(1,2,3),(4,5,6)], [(1,6),(2,5,4,3)], [(0,1),(2,3)]])
sage: g1==g2
True
```



---

archive/issue_comments_233935.json:
```json
{
    "body": "Changed commit from **[`9d70820`](https://github.com/sagemath/sagetrac-mirror/commit/9d708203dd3236f3c192faab6b573799fa5c1c32)** to **[`61307f9`](https://github.com/sagemath/sagetrac-mirror/commit/61307f9ead3de81ab69713d4707fa7f04c01cd2a)**",
    "created_at": "2015-04-15T09:41:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233935",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9d70820`](https://github.com/sagemath/sagetrac-mirror/commit/9d708203dd3236f3c192faab6b573799fa5c1c32)** to **[`61307f9`](https://github.com/sagemath/sagetrac-mirror/commit/61307f9ead3de81ab69713d4707fa7f04c01cd2a)**



---

archive/issue_comments_233936.json:
```json
{
    "body": "<div id=\"comment:144\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e86dff3aa444173978df7b67fbee8dac7e819d08\"><code>e86dff3</code></a></td><td><code>trac #17464: Merged with beta0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61307f9ead3de81ab69713d4707fa7f04c01cd2a\"><code>61307f9</code></a></td><td><code>trac #17464: A wrong labelling was returned</code></td></tr></table>\n",
    "created_at": "2015-04-15T09:41:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233936",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:144"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e86dff3aa444173978df7b67fbee8dac7e819d08"><code>e86dff3</code></a></td><td><code>trac #17464: Merged with beta0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61307f9ead3de81ab69713d4707fa7f04c01cd2a"><code>61307f9</code></a></td><td><code>trac #17464: A wrong labelling was returned</code></td></tr></table>




---

archive/issue_comments_233937.json:
```json
{
    "body": "Changed commit from **[`61307f9`](https://github.com/sagemath/sagetrac-mirror/commit/61307f9ead3de81ab69713d4707fa7f04c01cd2a)** to **[`54b0865`](https://github.com/sagemath/sagetrac-mirror/commit/54b0865d4837861321e3cb9dacf5fc648a2ebfe5)**",
    "created_at": "2015-04-15T09:43:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233937",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`61307f9`](https://github.com/sagemath/sagetrac-mirror/commit/61307f9ead3de81ab69713d4707fa7f04c01cd2a)** to **[`54b0865`](https://github.com/sagemath/sagetrac-mirror/commit/54b0865d4837861321e3cb9dacf5fc648a2ebfe5)**



---

archive/issue_comments_233938.json:
```json
{
    "body": "<div id=\"comment:145\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54b0865d4837861321e3cb9dacf5fc648a2ebfe5\"><code>54b0865</code></a></td><td><code>trac #17464: A wrong labelling was returned</code></td></tr></table>\n",
    "created_at": "2015-04-15T09:43:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233938",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:145"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54b0865d4837861321e3cb9dacf5fc648a2ebfe5"><code>54b0865</code></a></td><td><code>trac #17464: A wrong labelling was returned</code></td></tr></table>




---

archive/issue_events_246702.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-15T09:44:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246702"
}
```



---

archive/issue_events_246703.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-15T09:44:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246703"
}
```



---

archive/issue_comments_233939.json:
```json
{
    "body": "<div id=\"comment:147\" align=\"right\">comment:147</div>\n\nIs bliss making random choices during the computation? There is no need for non-deterministic choices in graph automorphisms, I'm sure. Patch it out and/or setting the seed might be a better fix in the long run.",
    "created_at": "2015-04-15T10:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233939",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:147" align="right">comment:147</div>

Is bliss making random choices during the computation? There is no need for non-deterministic choices in graph automorphisms, I'm sure. Patch it out and/or setting the seed might be a better fix in the long run.



---

archive/issue_comments_233940.json:
```json
{
    "body": "<div id=\"comment:148\" align=\"right\">comment:148</div>\n\nHello,\n\n> Is bliss making random choices during the computation? There is no need for non-deterministic choices in graph automorphisms, I'm sure.\n\nA permutation group can have different sets of generators, and that's the trouble here: Sage and Nauty do not obtain the same. The groups are equal, however, as illustrated above.\n\n> Patch it out and/or setting the seed might be a better fix in the long run. \n\nThere was a real bug in there. I fixed it, and sent an email to Jernej hoping that he can take a look at it soon.\n\nNathann",
    "created_at": "2015-04-15T10:34:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233940",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:148" align="right">comment:148</div>

Hello,

> Is bliss making random choices during the computation? There is no need for non-deterministic choices in graph automorphisms, I'm sure.

A permutation group can have different sets of generators, and that's the trouble here: Sage and Nauty do not obtain the same. The groups are equal, however, as illustrated above.

> Patch it out and/or setting the seed might be a better fix in the long run. 

There was a real bug in there. I fixed it, and sent an email to Jernej hoping that he can take a look at it soon.

Nathann



---

archive/issue_events_246704.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2015-04-15T19:36:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246704"
}
```



---

archive/issue_events_246705.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2015-04-15T19:36:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246705"
}
```



---

archive/issue_events_246706.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2015-04-15T19:41:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246706"
}
```



---

archive/issue_events_246707.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2015-04-15T19:41:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246707"
}
```



---

archive/issue_comments_233941.json:
```json
{
    "body": "<div id=\"comment:151\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e403f16cdb4e158c0533992c5588188dea46cd11\"><code>e403f16</code></a></td><td><code>trac #17464: broken doctests on (different architecture + bliss)</code></td></tr></table>\n",
    "created_at": "2015-04-16T08:22:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233941",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:151"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e403f16cdb4e158c0533992c5588188dea46cd11"><code>e403f16</code></a></td><td><code>trac #17464: broken doctests on (different architecture + bliss)</code></td></tr></table>




---

archive/issue_comments_233942.json:
```json
{
    "body": "Changed commit from **[`54b0865`](https://github.com/sagemath/sagetrac-mirror/commit/54b0865d4837861321e3cb9dacf5fc648a2ebfe5)** to **[`e403f16`](https://github.com/sagemath/sagetrac-mirror/commit/e403f16cdb4e158c0533992c5588188dea46cd11)**",
    "created_at": "2015-04-16T08:22:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233942",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`54b0865`](https://github.com/sagemath/sagetrac-mirror/commit/54b0865d4837861321e3cb9dacf5fc648a2ebfe5)** to **[`e403f16`](https://github.com/sagemath/sagetrac-mirror/commit/e403f16cdb4e158c0533992c5588188dea46cd11)**



---

archive/issue_events_246708.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-16T08:23:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246708"
}
```



---

archive/issue_events_246709.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-16T08:23:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246709"
}
```



---

archive/issue_comments_233943.json:
```json
{
    "body": "<div id=\"comment:153\" align=\"right\">comment:153</div>\n\nHere it is. Some doctests were displaying canonical labellings, and of course bliss and Sage compute different ones. I changed the doctests to make them more 'anonymous'.\n\nNathann",
    "created_at": "2015-04-16T08:24:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233943",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:153" align="right">comment:153</div>

Here it is. Some doctests were displaying canonical labellings, and of course bliss and Sage compute different ones. I changed the doctests to make them more 'anonymous'.

Nathann



---

archive/issue_events_246710.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2015-04-16T20:34:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246710"
}
```



---

archive/issue_events_246711.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2015-04-16T20:34:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246711"
}
```



---

archive/issue_comments_233944.json:
```json
{
    "body": "Changed branch from **[public/bliss](https://github.com/sagemath/sagetrac-mirror/tree/public/bliss)** to **[`e403f16`](https://github.com/sagemath/sagetrac-mirror/commit/e403f16cdb4e158c0533992c5588188dea46cd11)**",
    "created_at": "2015-04-19T01:52:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233944",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/bliss](https://github.com/sagemath/sagetrac-mirror/tree/public/bliss)** to **[`e403f16`](https://github.com/sagemath/sagetrac-mirror/commit/e403f16cdb4e158c0533992c5588188dea46cd11)**



---

archive/issue_events_246712.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-19T01:52:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246712"
}
```



---

archive/issue_events_246713.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9281e064bd0cc8befba4e5033b452b11b9de6c23",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-04-19T01:52:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17464#event-246713"
}
```



---

archive/issue_comments_233945.json:
```json
{
    "body": "<div id=\"comment:156\" align=\"right\">comment:156</div>\n\n\n```\nsage -t src/sage/graphs/generic_graph.py\n**********************************************************************\nFile \"src/sage/graphs/generic_graph.py\", line 17773, in sage.graphs.generic_graph.GenericGraph.?\nFailed example:\n    A1.is_isomorphic(A2)                          # optional - bliss\nExpected:\n    True                                                # optional - bliss\nGot:\n    True\n**********************************************************************\nFile \"src/sage/graphs/generic_graph.py\", line 18179, in sage.graphs.generic_graph.GenericGraph.is_isomorphic\nFailed example:\n    G.is_isomorphic(graphs.GeneralizedPetersenGraph(5,2),algorithm='bliss')# optional - bliss\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.is_isomorphic[43]>\", line 1, in <module>\n        G.is_isomorphic(graphs.GeneralizedPetersenGraph(Integer(5),Integer(2)),algorithm='bliss')# optional - bliss\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py\", line 18306, in is_isomorphic\n        from sage.graphs.bliss import is_isomorphic\n    ImportError: cannot import name is_isomorphic\n**********************************************************************\nFile \"src/sage/graphs/generic_graph.py\", line 18483, in sage.graphs.generic_graph.GenericGraph.?\nFailed example:\n    s1 == s2                                                      # optional - bliss\nExpected:\n    True                                                                # optional - bliss\nGot:\n    True\n**********************************************************************\n```",
    "created_at": "2015-05-20T07:00:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233945",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:156" align="right">comment:156</div>


```
sage -t src/sage/graphs/generic_graph.py
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 17773, in sage.graphs.generic_graph.GenericGraph.?
Failed example:
    A1.is_isomorphic(A2)                          # optional - bliss
Expected:
    True                                                # optional - bliss
Got:
    True
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 18179, in sage.graphs.generic_graph.GenericGraph.is_isomorphic
Failed example:
    G.is_isomorphic(graphs.GeneralizedPetersenGraph(5,2),algorithm='bliss')# optional - bliss
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.is_isomorphic[43]>", line 1, in <module>
        G.is_isomorphic(graphs.GeneralizedPetersenGraph(Integer(5),Integer(2)),algorithm='bliss')# optional - bliss
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 18306, in is_isomorphic
        from sage.graphs.bliss import is_isomorphic
    ImportError: cannot import name is_isomorphic
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 18483, in sage.graphs.generic_graph.GenericGraph.?
Failed example:
    s1 == s2                                                      # optional - bliss
Expected:
    True                                                                # optional - bliss
Got:
    True
**********************************************************************
```



---

archive/issue_comments_233946.json:
```json
{
    "body": "Changed commit from **[`e403f16`](https://github.com/sagemath/sagetrac-mirror/commit/e403f16cdb4e158c0533992c5588188dea46cd11)** to none",
    "created_at": "2015-05-20T07:00:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233946",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`e403f16`](https://github.com/sagemath/sagetrac-mirror/commit/e403f16cdb4e158c0533992c5588188dea46cd11)** to none



---

archive/issue_comments_233947.json:
```json
{
    "body": "<div id=\"comment:157\" align=\"right\">comment:157</div>\n\n`O_o`",
    "created_at": "2015-05-20T11:39:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17464",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17464#issuecomment-233947",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:157" align="right">comment:157</div>

`O_o`
