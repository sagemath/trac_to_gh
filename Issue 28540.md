# Issue 28540: F5 algorithm for Tate series

archive/issues_028540.json:
```json
{
    "body": "CC:  tristanvaccon @thibautverron roed caruso\n\nWe plan to implement F5 algorithm for computing Gr\u00f6bner bases over Tate algebras.\n\nThis ticket is a follow-up of #26195.\n\nIssue created by migration from https://trac.sagemath.org/ticket/28777\n\n",
    "created_at": "2019-11-20T11:09:39Z",
    "labels": [
        "padics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "F5 algorithm for Tate series",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28540",
    "user": "caruso"
}
```
CC:  tristanvaccon @thibautverron roed caruso

We plan to implement F5 algorithm for computing Gröbner bases over Tate algebras.

This ticket is a follow-up of #26195.

Issue created by migration from https://trac.sagemath.org/ticket/28777





---

archive/issue_comments_402930.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-11-22T08:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402930",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402931.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-11-29T16:43:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402931",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402932.json:
```json
{
    "body": "Ticket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402932",
    "user": "embray"
}
```

Ticket retargeted after milestone closed



---

archive/issue_comments_402933.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-15T15:32:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402933",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402934.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-21T12:43:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402934",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402935.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-21T13:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402935",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402936.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-21T21:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402936",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402937.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-21T21:31:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402937",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402938.json:
```json
{
    "body": "The patchbot \"blocks\" plugin tells you to avoid finishing a line with space then `:`. There should be no space before the final `:`.",
    "created_at": "2020-01-22T08:12:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402938",
    "user": "chapoton"
}
```

The patchbot "blocks" plugin tells you to avoid finishing a line with space then `:`. There should be no space before the final `:`.



---

archive/issue_comments_402939.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-22T10:31:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402939",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402940.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-27T12:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402940",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402941.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-27T15:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402941",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402942.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-01T13:56:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402942",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402943.json:
```json
{
    "body": "Ticket ready for review.",
    "created_at": "2020-04-01T13:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402943",
    "user": "caruso"
}
```

Ticket ready for review.



---

archive/issue_comments_402944.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-04-01T13:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402944",
    "user": "caruso"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_402945.json:
```json
{
    "body": "Patchbot will complain about space before colon here:\n\n```\n+                if vv == 0 :\n```\n\nDid you ever look at the previous patchbot reports ?",
    "created_at": "2020-04-01T14:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402945",
    "user": "chapoton"
}
```

Patchbot will complain about space before colon here:

```
+                if vv == 0 :
```

Did you ever look at the previous patchbot reports ?



---

archive/issue_comments_402946.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-01T14:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402946",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402947.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-01T14:18:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402947",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402948.json:
```json
{
    "body": "Changing type from task to enhancement.",
    "created_at": "2020-04-01T14:32:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402948",
    "user": "caruso"
}
```

Changing type from task to enhancement.



---

archive/issue_comments_402949.json:
```json
{
    "body": "Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402949",
    "user": "mkoeppe"
}
```

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_402950.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-17T15:25:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402950",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402951.json:
```json
{
    "body": "This doesn't make sense for a class level docstring:\n\n```\nInitialize a class for ideals in a Tate series algebra\n```\n\nDid you mean `An ideal in a Tate series algebra`?\n\nFor the result of the Gr\u00f6bner basis, perhaps we should cache that where we disregard the algorithm (and keywords) used?\n\nYou can remove the `TESTS::` block in `Jpair`. Also, would it make sense to inline that?\n\nInstead of `int i`, I have been told it is better to use `Py_ssize_t i` as this can have a larger range of possible values.\n\nNitpick:\n\n```diff\n-    - ``I`` - an ideal in a Tate series algebra\n+    - ``I`` -- an ideal in a Tate series algebra\n \n-    - ``prec`` - the related precision at which the initial generators\n+    - ``prec`` -- the related precision at which the initial generators\n       are truncated\n```\n\n\nAlso, the convention that we follow in Sage is that the one-line start of docstrings should end with a period/full-stop.",
    "created_at": "2020-04-21T02:06:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402951",
    "user": "tscrim"
}
```

This doesn't make sense for a class level docstring:

```
Initialize a class for ideals in a Tate series algebra
```

Did you mean `An ideal in a Tate series algebra`?

For the result of the Gröbner basis, perhaps we should cache that where we disregard the algorithm (and keywords) used?

You can remove the `TESTS::` block in `Jpair`. Also, would it make sense to inline that?

Instead of `int i`, I have been told it is better to use `Py_ssize_t i` as this can have a larger range of possible values.

Nitpick:

```diff
-    - ``I`` - an ideal in a Tate series algebra
+    - ``I`` -- an ideal in a Tate series algebra
 
-    - ``prec`` - the related precision at which the initial generators
+    - ``prec`` -- the related precision at which the initial generators
       are truncated
```


Also, the convention that we follow in Sage is that the one-line start of docstrings should end with a period/full-stop.



---

archive/issue_comments_402952.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-21T08:12:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402952",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402953.json:
```json
{
    "body": "Replying to [comment:34 tscrim]:\n> For the result of the Gr\u00f6bner basis, perhaps we should cache that where we disregard the algorithm (and keywords) used?\n\nI'm not sure: if the user specifies explicitely another algorithm, maybe it means that he really wants to use it and not to get a cached value.",
    "created_at": "2020-04-21T08:17:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402953",
    "user": "caruso"
}
```

Replying to [comment:34 tscrim]:
> For the result of the Gröbner basis, perhaps we should cache that where we disregard the algorithm (and keywords) used?

I'm not sure: if the user specifies explicitely another algorithm, maybe it means that he really wants to use it and not to get a cached value.



---

archive/issue_comments_402954.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-21T23:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402954",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_402955.json:
```json
{
    "body": "Replying to [comment:36 caruso]:\n> Replying to [comment:34 tscrim]:\n> > For the result of the Gr\u00f6bner basis, perhaps we should cache that where we disregard the algorithm (and keywords) used?\n> \n> I'm not sure: if the user specifies explicitely another algorithm, maybe it means that he really wants to use it and not to get a cached value.\n\nHmm...perhaps it would give a different answer as it might not be be a reduced Gr\u00f6bner basis. Okay, then let's leave it as uncached. Thanks.",
    "created_at": "2020-04-21T23:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402955",
    "user": "tscrim"
}
```

Replying to [comment:36 caruso]:
> Replying to [comment:34 tscrim]:
> > For the result of the Gröbner basis, perhaps we should cache that where we disregard the algorithm (and keywords) used?
> 
> I'm not sure: if the user specifies explicitely another algorithm, maybe it means that he really wants to use it and not to get a cached value.

Hmm...perhaps it would give a different answer as it might not be be a reduced Gröbner basis. Okay, then let's leave it as uncached. Thanks.



---

archive/issue_comments_402956.json:
```json
{
    "body": "In the latest commit, we removed a test which was a debug relic. This if branch is never entered and the debug content would pose problems if it were.\n----\nNew commits:",
    "created_at": "2020-04-22T08:31:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402956",
    "user": "@ThibautVerron"
}
```

In the latest commit, we removed a test which was a debug relic. This if branch is never entered and the debug content would pose problems if it were.
----
New commits:



---

archive/issue_comments_402957.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-23T22:33:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28540#issuecomment-402957",
    "user": "vbraun"
}
```

Resolution: fixed
