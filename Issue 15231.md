# Issue 15231: update to latest upstream git

archive/issues_015231.json:
```json
{
    "body": "CC:  schilly\n\nThe git self-tests fail on OSX 10.8, 10.9 because of braindamage in Apple's regex library. This is worked around in upstream git, so just update to the latest and greatest:\n\n```\n*** t0070-fundamental.sh ***\nok 1 - character classes (isspace, isalpha etc.)\nok 2 - mktemp to nonexistent directory prints filename\nok 3 - mktemp to unwritable directory prints filename\nnot ok - 4 check for a bug in the regex routines\n#\t\n#\t\t# if this test fails, re-build git with NO_REGEX=1\n#\t\ttest-regex\n#\t\n# failed 1 among 4 test(s)\n1..4\nmake[5]: *** [t0070-fundamental.sh] Error 1\nmake[4]: *** [test] Error 2\nmake[3]: *** [test] Error 2\nError running git's combined build/test suite.\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/15468\n\n",
    "created_at": "2013-11-29T17:03:11Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "title": "update to latest upstream git",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15231",
    "user": "vbraun"
}
```
CC:  schilly

The git self-tests fail on OSX 10.8, 10.9 because of braindamage in Apple's regex library. This is worked around in upstream git, so just update to the latest and greatest:

```
*** t0070-fundamental.sh ***
ok 1 - character classes (isspace, isalpha etc.)
ok 2 - mktemp to nonexistent directory prints filename
ok 3 - mktemp to unwritable directory prints filename
not ok - 4 check for a bug in the regex routines
#	
#		# if this test fails, re-build git with NO_REGEX=1
#		test-regex
#	
# failed 1 among 4 test(s)
1..4
make[5]: *** [t0070-fundamental.sh] Error 1
make[4]: *** [test] Error 2
make[3]: *** [test] Error 2
Error running git's combined build/test suite.
```


Issue created by migration from https://trac.sagemath.org/ticket/15468





---

archive/issue_comments_195780.json:
```json
{
    "body": "New commits:",
    "created_at": "2013-11-29T17:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15231#issuecomment-195780",
    "user": "vbraun"
}
```

New commits:



---

archive/issue_comments_195781.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-11-29T17:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15231#issuecomment-195781",
    "user": "vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_195782.json:
```json
{
    "body": "The update breaks some sage-dev doctests. Fixing...",
    "created_at": "2013-11-29T19:12:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15231#issuecomment-195782",
    "user": "vbraun"
}
```

The update breaks some sage-dev doctests. Fixing...



---

archive/issue_comments_195783.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-29T19:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15231#issuecomment-195783",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_195784.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-12-01T04:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15231#issuecomment-195784",
    "user": "ohanar"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_195785.json:
```json
{
    "body": "Other than being slightly dated (1.8.5 came out a few days ago), this seems fine.",
    "created_at": "2013-12-01T04:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15231#issuecomment-195785",
    "user": "ohanar"
}
```

Other than being slightly dated (1.8.5 came out a few days ago), this seems fine.



---

archive/issue_comments_195786.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-12-16T14:09:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15231#issuecomment-195786",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_195787.json:
```json
{
    "body": "Harald: please mirror tarball...",
    "created_at": "2013-12-16T17:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15231#issuecomment-195787",
    "user": "vbraun"
}
```

Harald: please mirror tarball...



---

archive/issue_comments_195788.json:
```json
{
    "body": "I'm not sure where to put this: the packages in \"standard\" are updated for every new release. There are also git packages in \"optional\" and \"experimental\" and the new \"upstream/git\".\n\nI think we can get rid of the ones in optional and experimental and you mean to replace the one in upstream/git ?",
    "created_at": "2013-12-16T17:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15231#issuecomment-195788",
    "user": "schilly"
}
```

I'm not sure where to put this: the packages in "standard" are updated for every new release. There are also git packages in "optional" and "experimental" and the new "upstream/git".

I think we can get rid of the ones in optional and experimental and you mean to replace the one in upstream/git ?



---

archive/issue_comments_195789.json:
```json
{
    "body": "This ticket is not a spkg, just a new-style tarball. Should go into upstream. We should probably keep the old git spkg in \"standard\" for a while if Sage 5 users need it.",
    "created_at": "2013-12-16T18:10:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15231#issuecomment-195789",
    "user": "vbraun"
}
```

This ticket is not a spkg, just a new-style tarball. Should go into upstream. We should probably keep the old git spkg in "standard" for a while if Sage 5 users need it.
