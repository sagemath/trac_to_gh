# Issue 17744: Fix when _coerce_map_from_ which returns a callable

Issue created by migration from https://trac.sagemath.org/ticket/17981

Original creator: tscrim

Original creation time: 2015-03-17 21:55:19

Assignee: tscrim

CC:  nbrun vbraun jdemeyer

The following currently results in an error:

```
sage: class P(Parent):
....:     def __init__(self):
....:         Parent.__init__(self, category=Sets())
....:     def _coerce_map_from_(self, A):
....:         if A == ZZ:
....:             return lambda x: self.element_class(self, x)
....:         return False
....:     Element = ElementWrapper
....:     
sage: X = P()
sage: X.has_coerce_map_from(ZZ)
```

the reason is `CallableConvertMap` is not being given the correct input data.


---

Comment by tscrim created at 2015-03-17 21:56:50

Changing status from new to needs_review.


---

Comment by tscrim created at 2015-03-17 21:56:50

New commits:


---

Comment by darij created at 2015-03-20 05:48:33

Changing status from needs_review to positive_review.


---

Comment by darij created at 2015-03-20 05:48:51

Positive review (sorry, I should have written this half a day ago).


---

Comment by vbraun created at 2015-03-20 06:37:50

reviewer name


---

Comment by vbraun created at 2015-03-20 06:37:50

Changing status from positive_review to needs_work.


---

Comment by darij created at 2015-03-20 06:52:39

Changing status from needs_work to positive_review.


---

Comment by tscrim created at 2015-03-20 16:08:43

Thanks Darij.


---

Comment by vbraun created at 2015-03-21 09:32:03

Resolution: fixed
