# Issue 33548: Mobius function for rational inputs

Issue created by migration from https://trac.sagemath.org/ticket/33785

Original creator: @aodesky

Original creation time: 2022-05-02 14:58:00

Keywords: moebius

moebius(2) returns -1, but moebius(2.0) returns 1. 

This is "expected behavior" because 2.0 is a unit in Q. 

If we want to allow the MÃ¶bius function to take more general domains, then to avoid ambiguity I think there should be another argument to the function which ensures this is what is desired. 

I also think the default behavior should try and cast the input to an integer. 

E.g. 

moebius(2.0), moebius(2,DOMAIN=ZZ), moebius(2.0,DOMAIN=ZZ)

should all return -1 while 

moebius(2,DOMAIN=QQ), moebius(2.0,DOMAIN=QQ)

both return 1. (So, the function attempts to cast the input argument to the domain before evaluating.) 

