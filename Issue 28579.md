# Issue 28579: database_stein_watkins Python 3 issues

Issue created by migration from https://trac.sagemath.org/ticket/28816

Original creator: vbraun

Original creation time: 2019-11-28 22:07:24

CC:  was kimball

There seem to be various places with bytes / string confusion when building on Python 3, e.g.:

```
**********************************************************************
File "src/sage/databases/stein_watkins.py", line 50, in sage.databases.stein_watkins
Failed example:
    next(d)                                       # optional - database_stein_watkins
Exception raised:
    Traceback (most recent call last):
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1123, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.databases.stein_watkins[4]>", line 1, in <module>
        next(d)                                       # optional - database_stein_watkins
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python3.7/site-packages/sage/databases/stein_watkins.py", line 242, in __next__
        return next(self._iter)
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python3.7/site-packages/sage/databases/stein_watkins.py", line 228, in __iter__
        N = int(x[0])
    ValueError: invalid literal for int() with base 10: b'[0,-1,1,0,0]'
**********************************************************************
```



---

Comment by embray created at 2019-12-30 14:48:17

Ticket retargeted after milestone closed


---

Comment by alexjbest created at 2020-08-09 22:20:01

I tried to fix this, as I understand it 9.2 will be python2 incompatible so I didn't worry about backwards compatibility.
----
New commits:


---

Comment by alexjbest created at 2020-08-09 22:20:01

Changing status from new to needs_review.


---

Comment by alexjbest created at 2020-08-09 22:20:01

Changing keywords from "" to "databases, stein-watkins, python3".


---

Comment by @mwageringel created at 2020-08-13 18:53:13

Changing status from needs_review to positive_review.


---

Comment by @mwageringel created at 2020-08-13 18:53:13

Ok, this works for me.


---

Comment by vbraun created at 2020-08-15 09:41:53

Resolution: fixed
