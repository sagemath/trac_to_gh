# Issue 11526: Fix trivial typo in Sage devel guide

Issue created by migration from Trac.

Original creator: kcrisman

Original creation time: 2011-08-17 16:00:37

Assignee: mvngu

CC:  mvngu

In the [part about docbuilding](http://www.sagemath.org/doc/developer/sage_manuals.html#building), there is a small typo.

```
as explained below. Use the following command to obtain more documentation for the sage -docbuild script:

sage -docbuild -help
```

should have either `--help`, `-h`, or `--help-all` (the latter does something different.  The current thing does the same as `-h` but gives a Sphinx warning about the unknown option `e`.


---

Comment by leif created at 2011-08-17 16:25:00

Nice catch.


---

Comment by kcrisman created at 2011-08-17 16:27:19

Replying to [comment:2 leif]:
> Nice catch.
As so often happens, it was an actual use case where I finally found it.


---

Comment by kcrisman created at 2011-08-18 01:40:12

Based on Sage 4.7.1


---

Attachment

Okay, this seems to work (in fact, there were a few other things to fix) and there is nothing to test, just follow the instructions in the file touched in this patch to see how to test the patch :)


---

Comment by kcrisman created at 2011-08-18 01:41:21

Changing status from new to needs_review.


---

Comment by leif created at 2011-08-18 15:28:35

Hmmm, so far only looked at the patch:

I would consistently use double dashs for all long options, i.e. `--docbuild`, since many people consider long options with a single dash deprecated, so we IMHO shouldn't encourage people to use the "old" form.

The quoted strings `"html"`, `"pdf"` etc. should IMHO be typeset as code, i.e. ```html```, ```pdf``` and the like.

I'd say _"for the options to `sage --docbuild`"_ rather than _"for the `sage -docbuild` script"_.

[I'm aware or, more precisely, pretty sure that there are many further instances of the above in the Developer's Guide; I'd be happy with just changing them in the currently affected file, `sage_manuals.rst`.]




We should also somehow make sure the typos (if present) get fixed in the translations, though apparently there are no direct translations of this document / file, at least not in the current release.

IIRC a Russian translation is ready to get merged, and a not-that-ready German one rottens somewhere... ;-)


---

Comment by kcrisman created at 2011-08-18 15:38:05

Replying to [comment:5 leif]:
> Hmmm, so far only looked at the patch:
> 
> I would consistently use double dashs for all long options, i.e. `--docbuild`, since many people consider long options with a single dash deprecated, so we IMHO shouldn't encourage people to use the "old" form.

See, now you are asking me to change things that were not broken, presumably.  I just fixed the specific typos involved with help.

> The quoted strings `"html"`, `"pdf"` etc. should IMHO be typeset as code, i.e. ```html```, ```pdf``` and the like.

I thought about that, but again, it was a bigger change than I wanted to make.

> I'd say _"for the options to `sage --docbuild`"_ rather than _"for the `sage -docbuild` script"_.

That seems ok.

> [I'm aware or, more precisely, pretty sure that there are many further instances of the above in the Developer's Guide; I'd be happy with just changing them in the currently affected file, `sage_manuals.rst`.]

I would ask for a different ticket to fix all those things consistently.  I had time to make this patch, but not that bigger patch you are talking about (I'd rather review someone else's patches on other tickets).

> IIRC a Russian translation is ready to get merged, and a not-that-ready German one rottens somewhere... ;-)
Hmm, I didn't know that.


---

Comment by leif created at 2011-08-18 16:14:58

Would you be willing to review a reviewer patch of mine, touching just that (relatively short) file?


---

Comment by kcrisman created at 2011-08-18 17:41:20

As long as the dependency chain is clear I would be happy to do that, though it might not be today.


---

Comment by leif created at 2011-10-11 22:38:48

This is now dragging, sorry.

I have refactored the complete file (and at least one closely related as well IIRC) on another machine, yet been unable to finish it.

William would say the documentation is a can of worms...


---

Comment by kcrisman created at 2011-10-12 01:42:52

Replying to [comment:9 leif]:
> This is now dragging, sorry.
> 
> I have refactored the complete file (and at least one closely related as well IIRC) on another machine, yet been unable to finish it.

Or you could just add that tiny reviewer patch :)

> William would say the documentation is a can of worms...

Or a great opportunity for contribution!  It's really not as bad as all that.  It's certainly easier to find things than with some components of Sage, just because the doc is easily searchable.


---

Comment by jdemeyer created at 2011-10-15 12:39:37

I made some of the easy changes mentioned above. Karl-Dieter, could you review my patch? It is based on your patch but replaces it.


---

Comment by kcrisman created at 2011-10-16 00:01:41

Changing status from needs_review to positive_review.


---

Comment by kcrisman created at 2011-10-16 00:01:41

It looks ok, but I'm not able to check that it applies currently.    All the extra changes are ones that Leif suggested, and everything else is still correct from my patch.    

So I'll move this to positive review, but only because the release manager is the one who wrote it, one who is _very_ diligent in checking whether things apply :) 

----

By the way, why are we considering `-option` deprecated in favor of `--option`?  This is the sort of thing that definitely seems arbitrary, especially if both of them work...


---

Comment by jdemeyer created at 2011-10-16 07:41:35

Replying to [comment:12 kcrisman]:
> So I'll move this to positive review, but only because the release manager is the one who wrote it, one who is _very_ diligent in checking whether things apply :)
Or at least the one who will have to deal with the consequences if it doesn't.

> By the way, why are we considering `-option` deprecated in favor of `--option`?  This is the sort of thing that definitely seems arbitrary, especially if both of them work...
This is essentially a standard set by GNU. For example, `ls --help` will work but `ls -help` will be interpreted as `ls -h -e -l -p`. But even GNU has exceptions, for example GCC has all single-dash options.


---

Comment by jdemeyer created at 2011-10-16 15:38:23

Resolution: fixed


---

Attachment


---

Comment by leif created at 2011-10-18 03:52:31

Replying to [comment:13 jdemeyer]:
> Replying to [comment:12 kcrisman]:
> > By the way, why are we considering `-option` deprecated in favor of `--option`?  This is the sort of thing that definitely seems arbitrary, especially if both of them work...

Because long options with a single dash are odd in that they prevent us from using e.g. `sage -tlvp 4 ...` instead of `sage -tp 4 -long -verbose ...`.

Sage really wasn't designed very well regarding that.  (Worse, also the order matters; you e.g. cannot use `-s -i` instead of `-i -s`, nor `-is` or `-si`, and `-ba-force` is not an alternate form of `-b -a -f` or `--build --all --force`.)




> This is essentially a standard set by GNU. For example, `ls --help` will work but `ls -help` will be interpreted as `ls -h -e -l -p`. But even GNU has exceptions, for example GCC has all single-dash options.

Actually it's a Unix convention, from the very beginning, that you can specify `-aBc` as well as `-a -B -c` (having the same meaning).  Then the alternate long options (_always_ with a double dash) came, although today a few do not even have a corresponding short form.

Regarding GCC, that to some extent depends on the interpretation; for example the various `-f`, `-m` and `-W` options can be considered taking (mandatory) arguments which immediately follow the (single letter) option, without a separator.  On the other hand, there are options like `-ansi`, `-pipe`, `-print-search-dirs`, `--target-help` and `--version`, where the former three of course _are_ long options with only a single dash (and none of them take a parameter).
