# Issue 11128: Add get_part method to partition.py

Issue created by migration from https://trac.sagemath.org/ticket/11300

Original creator: jbandlow

Original creation time: 2011-05-05 14:32:19

Assignee: sage-combinat

CC:  sage-combinat

Keywords: partitions, sagedays30

Add a method to partitions to return a default value for parts that do not exist.


```
sage: p = Partition([2,1])
sage: p.get_part(0)
2
sage: p.get_part(5)
0
```



---

Attachment


---

Comment by jbandlow created at 2011-05-05 14:45:50

Changing status from new to needs_review.


---

Comment by hivert created at 2011-05-05 15:51:35

Changing status from needs_review to positive_review.


---

Comment by hivert created at 2011-05-05 15:51:35

Changing keywords from "partitions, sagedays30" to "partitions, days30".


---

Comment by hivert created at 2011-05-05 15:51:35

Looks good and is useful !


---

Comment by mhansen created at 2011-05-05 18:12:32

The one issue with this is the following:


```
sage: p = Partition([4,3])
sage: type(p.get_part(0))
<type 'sage.rings.integer.Integer'>
sage: type(p.get_part(10))
<type 'int'>
```


Is there a use case for a changeable default value?


---

Comment by mhansen created at 2011-05-05 18:12:32

Changing status from positive_review to needs_info.


---

Comment by hivert created at 2011-05-05 18:26:18

Replying to [comment:4 mhansen]:
> The one issue with this is the following:
> 

```
> sage: p = Partition([4,3])
> sage: type(p.get_part(0))
> <type 'sage.rings.integer.Integer'>
> sage: type(p.get_part(10))
> <type 'int'>
```


That is a very good remark !

> Is there a use case for a changeable default value?

If yes this can be corrected by changing `default=0` to
`default=Integer(0)`.


---

Comment by jbandlow created at 2011-05-05 20:55:43

I've changed the default value to Integer(0). I don't have a specific use case for another value, but it seems like it might come in handy. Do you have a reason you think it's a bad idea? I could probably be convinced to get rid of it.


---

Comment by saliola created at 2011-05-06 13:56:54

Hello Jason. I'm curious: did you compare timings of using the try-except statement:

```
 	768	        try: 
 	769	            return self[i] 
 	770	        except IndexError: 
 	771	            return default
```

with an if statement, like this one:

```
    if i < len(self._list):
        return self._list[i]
    else: 
        return default
```

I would guess that try-except statements are slower, but I have not tried it.


---

Attachment

Replying to [comment:7 saliola]:
> Hello Jason. I'm curious: did you compare timings of using the try-except statement:
> with an if statement, like this one:
>
> I would guess that try-except statements are slower, but I have not tried it.

I tried it and you're right--'if' is significantly faster. I've replaced the patch.


---

Comment by jbandlow created at 2011-05-06 15:03:47

Changing status from needs_info to needs_review.


---

Comment by saliola created at 2011-05-06 15:17:35

Changing status from needs_review to positive_review.


---

Comment by saliola created at 2011-05-06 15:17:35

Thanks for testing that. Positive review.


---

Comment by jdemeyer created at 2011-05-27 12:03:15

Resolution: fixed
