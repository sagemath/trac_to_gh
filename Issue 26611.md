# Issue 26611: Refactor the documentation for facade sets

Issue created by migration from Trac.

Original creator: klee

Original creation time: 2018-12-06 20:35:09

CC:  tscrim

Failure of Sphinx building  the documentation of facades sets is stalling python 3 doc build by `make doc`.

The somewhat weird location of the documentation of facade sets seems problematic with python 3 Sphinx, though ok with python 2 Sphinx. Refactoring solves the problem.


---

Comment by git created at 2018-12-06 21:37:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by klee created at 2018-12-06 21:38:49

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2018-12-06 22:05:56

The problem with facade sets is a symptom, not the actual problem. Compare the Python 2 and 3 builds of the reference manual for `reference/categories/sage/categories/sets_cat.html`, for example (which you get to by choosing "Categories" in the main reference manual index, and then "Sets"). With Python 2, the documentation for the class `Sets` includes various subclasses and methods (for example, [`an_element`](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html#sage.categories.sets_cat.Sets.ParentMethods.an_element)), while with Python 3 with your branch, all of that is missing: it only includes the top-level docstring. This is the reason that, without your branch, the reference to facade-sets is broken: that part of the documentation is omitted in the Python 3 build, so the reference (naturally) can't be found.

This is being discussed at #26522, and that's where we should focus attempts to fix this problem.


---

Comment by klee created at 2018-12-07 00:12:37

Changing priority from critical to major.


---

Comment by klee created at 2018-12-07 00:12:37

Replying to [comment:5 jhpalmieri]:
> The problem with facade sets is a symptom, not the actual problem. Compare the Python 2 and 3 builds of the reference manual for `reference/categories/sage/categories/sets_cat.html`, for example (which you get to by choosing "Categories" in the main reference manual index, and then "Sets"). With Python 2, the documentation for the class `Sets` includes various subclasses and methods (for example, [`an_element`](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html#sage.categories.sets_cat.Sets.ParentMethods.an_element)), while with Python 3 with your branch, all of that is missing: it only includes the top-level docstring. This is the reason that, without your branch, the reference to facade-sets is broken: that part of the documentation is omitted in the Python 3 build, so the reference (naturally) can't be found.
> 
> This is being discussed at #26522, and that's where we should focus attempts to fix this problem.

This ticket is independent from #26522.  This just fixes a small problem toward building the complete sage documentation. With this ticket, at least `make doc` finishes successfully. This would facilitate solving other (big) problems like your #26522.

Moreover as far as I can see, a solution of #26522 would not fix what this ticket solves, contrary to your belief. It seems to me that the problem of #26522 is related with Sphinx autodoc extension specialized for Sage...


---

Comment by jhpalmieri created at 2018-12-07 00:21:48

Replying to [comment:6 klee]:
> 
> This ticket is independent from #26522.  This just fixes a small problem toward building the complete sage documentation. With this ticket, at least `make doc` finishes successfully. 

It might finish without error, but I would not agree that it finishes successfully: the built documents are missing huge chunks.

> This would facilitate solving other (big) problems like your #26522.
> 
> Moreover as far as I can see, a solution of #26522 would not fix what this ticket solves, contrary to your belief. It seems to me that the problem of #26522 is related with Sphinx autodoc extension specialized for Sage... 

A solution to #26522 would mean that no parts of the documentation are omitted, so cross-references would resolve correctly. That would solve the problem in this ticket, as I explained above.


---

Comment by klee created at 2018-12-15 11:15:11

> > This ticket is independent from #26522.  This just fixes a small problem toward building the complete sage documentation. With this ticket, at least `make doc` finishes successfully. 
> 
> It might finish without error,

I once again checked that it finishes without error with the patch.

> but I would not agree that it finishes successfully: the built documents are missing huge chunks.

True.

> > Moreover as far as I can see, a solution of #26522 would not fix what this ticket solves, contrary to your belief. 

I withdraw my assertion. #26522 would also make `make doc` work. But a merit of this ticket is to relocate the documentation for facade sets to a better place.

> A solution to #26522 would mean that no parts of the documentation are omitted, so cross-references would resolve correctly. 

I agree. But I still believe this ticket has its own merits, independent from #26522.


---

Comment by klee created at 2018-12-24 06:11:18

Changing component from python3 to documentation.


---

Comment by klee created at 2019-01-27 01:30:41

Changing priority from major to minor.


---

Comment by embray created at 2019-03-25 10:56:15

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)


---

Comment by git created at 2019-04-04 20:22:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-04-04 20:23:36

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2019-07-03 11:37:56

Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).


---

Comment by git created at 2019-12-26 05:53:21

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2020-01-06 14:10:03

Ticket retargeted after milestone closed


---

Comment by mkoeppe created at 2020-04-14 19:41:51

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.


---

Comment by tscrim created at 2020-06-14 23:14:31

I am not sure I agree with moving this. Where it is, it is a natural entry point when using the command `?` doc. So I would instead propose just having a link in the `facade_sets.py` category module level documentation.


---

Comment by git created at 2020-06-15 04:00:12

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by klee created at 2020-06-15 04:13:47

Replying to [comment:20 tscrim]:
> I am not sure I agree with moving this. Where it is, it is a natural entry point when using the command `?` doc. So I would instead propose just having a link in the `facade_sets.py` category module level documentation.

OK. Now I see your point.


---

Comment by tscrim created at 2020-06-15 04:53:46

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2020-06-15 04:53:46

Thank you for your efforts in trying to improve the documentation in Sage.


---

Comment by chapoton created at 2020-06-17 07:11:52

Is this really duplicate/invalid/wontfix ?


---

Comment by klee created at 2020-06-17 07:32:06

Replying to [comment:24 chapoton]:
> Is this really duplicate/invalid/wontfix ?

Yes.


---

Comment by chapoton created at 2020-06-17 15:49:58

Resolution: invalid
