# Issue 24564: `random_diagonalizable_matrix` silently ignores the base ring

Issue created by migration from https://trac.sagemath.org/ticket/24801

Original creator: nthiery

Original creation time: 2018-02-21 08:42:38

CC:  rbeezer

A student of mine got surprised this morning:

```
    sage: K = GF(3)
    sage: random_matrix(K, 3,3,algorithm="diagonalizable").parent()
    Full MatrixSpace of 3 by 3 dense matrices over Rational Field
```


Recommendations:
- Make it explicit in the documentation of `random_matrix` and `random_diagonalizable_matrix` that algorithm="diagonalizable" is only implemented for the rational field
- Add a check for the base ring in random_diagonalizable_matrix, and fail gracefully with a NotImplementedError if it's not `QQ`.

Alternatively: implement random_diagonalizable_matrix for any base ring/field. It sounds like the current algorithm would git a reasonable answer.
