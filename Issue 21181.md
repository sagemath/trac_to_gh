# Issue 21181: fix references in coding/

Issue created by migration from https://trac.sagemath.org/ticket/21418

Original creator: dimpase

Original creation time: 2016-09-05 10:23:12

CC:  dlucas jsrn

currently there are multiply defined references, missing '_', etc.
Here we fix this.


---

Comment by dimpase created at 2016-09-05 11:35:01

New commits:


---

Comment by dimpase created at 2016-09-05 11:35:01

Changing status from new to needs_review.


---

Comment by jsrn created at 2016-09-05 12:47:29

In the html compiled doc of `sage.coding.hamming_code`, the `[HP]` doesn't show up as a link for me. Shouldn't it?

EDIT: Many other links are also not hyperlinked, maybe all occurrences where the def is not in the same file, at least uses of [HP] and [BH12].


---

Comment by jsrn created at 2016-09-05 12:51:51

The incomplete reference `[Feu2009]` that you deleted, should probably be this:


```
... [Feu2009] Thomas Feulner, The Automorphism Groups of Linear Codes and Canonical Representatives of Their Semilinear Isometry Classes, Advances in Mathematics of Communications 3 (4), pp. 363-383, 2009
```



---

Comment by dimpase created at 2016-09-05 12:53:02

yep, more fixes are coming, sorry.


---

Comment by jsrn created at 2016-09-05 12:54:15

Changing status from needs_review to needs_work.


---

Comment by jsrn created at 2016-09-05 12:56:26

Incremental building fails for me: after a successful `make doc-clean && make`, I make a trivial change in `sage/coding/hamming_code.py` followed by `make`. Then `[HP]` cross-referencing breaks:


```
...
[dochtml] [coding   ] writing output... [100%] sage/coding/hamming_code
[dochtml] [coding   ] /home/jsrn/mat/sage_coding_project/local/lib/python2.7/site-packages/sage/coding/hamming_code.py:docstring of sage.coding.hamming_code.HammingCode.parity_check_matrix:8: WARNING: citation not found: HP
[dochtml] Error building the documentation.
[dochtml] Traceback (most recent call last):
[dochtml]   File "/home/jsrn/mat/sage_coding_project/local/lib/python/runpy.py", line 162, in _run_module_as_main
[dochtml]     "__main__", fname, loader, pkg_name)
[dochtml]   File "/home/jsrn/mat/sage_coding_project/local/lib/python/runpy.py", line 72, in _run_code
[dochtml]     exec code in run_globals
[dochtml]   File "/home/jsrn/mat/sage_coding_project/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py", line 2, in <module>
[dochtml]     main()
[dochtml]   File "/home/jsrn/mat/sage_coding_project/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 1630, in main
[dochtml]     builder()
[dochtml]   File "/home/jsrn/mat/sage_coding_project/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 288, in _wrapper
[dochtml]     getattr(get_builder(document), name)(*args, **kwds)
[dochtml]   File "/home/jsrn/mat/sage_coding_project/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 495, in _wrapper
[dochtml]     x.get(99999)
[dochtml]   File "/home/jsrn/mat/sage_coding_project/local/lib/python/multiprocessing/pool.py", line 567, in get
[dochtml]     raise self._value
[dochtml] OSError: [coding   ] /home/jsrn/mat/sage_coding_project/local/lib/python2.7/site-packages/sage/coding/hamming_code.py:docstring of sage.coding.hamming_code.HammingCode.parity_check_matrix:8: WARNING: citation not found: HP
...
```



---

Comment by git created at 2016-09-05 13:10:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2016-09-05 13:24:07

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2016-09-05 13:24:07

this hopefully fixes it all now. I initially forgot to replace some '-' by '..'.


---

Comment by jsrn created at 2016-09-05 13:33:43

Indeed, it seems to work now. I'll give `positive_review` as soon as my `make doc-clean && make` finishes without issue.

I just don't get Sphinx: apparently the errors I saw (missing hyperlink + error in incremental build) was because of the **non-ReST** citation `[HP]` in `linear_code.py`? Great error then: `WARNING: citation not found: HP`...


---

Comment by jsrn created at 2016-09-05 13:55:58

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2016-09-05 14:01:01

Replying to [comment:9 jsrn]:
> Indeed, it seems to work now. I'll give `positive_review` as soon as my `make doc-clean && make` finishes without issue.
> 
> I just don't get Sphinx: apparently the errors I saw (missing hyperlink + error in incremental build) was because of the **non-ReST** citation `[HP]` in `linear_code.py`? Great error then: `WARNING: citation not found: HP`...

IMHO it was because in the first branch I removed `.. [HP] ` in one file and left `- [HP] ` in another, without replacing it by `.. [HP] `. No wonder incremental build did not work.


---

Comment by vbraun created at 2016-09-08 19:45:56

Resolution: fixed
