# Issue 13780: Improve the is_vertex_transitive test

Issue created by migration from https://trac.sagemath.org/ticket/13984

Original creator: azi

Original creation time: 2013-01-22 12:49:20

Assignee: tbd

CC:  azi ncohen

As it turned out from the discussion in the TRAC ticket 13721, the is_vertex_transitive method can be optimized and simplified substantially. 

This TRAC ticket aims at achieving that. 


---

Comment by azi created at 2013-01-22 13:11:32

Changing status from new to needs_info.


---

Comment by azi created at 2013-01-22 13:11:32

Changing component from PLEASE CHANGE to graph theory.


---

Comment by azi created at 2013-01-22 13:11:32

Changing type from PLEASE CHANGE to enhancement.


---

Comment by ncohen created at 2013-01-22 13:56:51

`partition` an `new_partition` are both partitions of the vertex set, and new_partition is necessarily more refined (i.e. each set of `new_partition` is a subset of some set of `partition`). Hence, they are equal if and only if they have same length !

Nathann


---

Comment by ncohen created at 2013-01-22 13:56:51

Changing status from needs_info to needs_review.


---

Comment by azi created at 2013-01-22 15:26:15

I can fix the code if someone explain to me what exactly should this partition thing be doing in the first place. I suspect what it wants to verify is if a given partition is a  system of imprimitivity?


---

Comment by ncohen created at 2013-01-22 17:32:58

Helloooooo !!

Well, I just uploaded a code that replaces the block of 4 lines by the equality test. The point is that `partition` is necessarily blocks of imprimitivity of the automorphism group, for this argument says that Sage should only consider automorphisms that respect the partition given (i.e. only those such that an element from a set inside of `partition` stay in the same set). And as `new_partition` is necessarily a refinment of `new_partition`, the two are equal if and only if their lengths are the same.

Nathann


---

Comment by azi created at 2013-01-22 17:36:57

Indeed, this makes sense! Also could you add a quick regularity check inside? 

The degrees of every  element of the same partition should coincide!


---

Comment by ncohen created at 2013-01-22 17:57:49

Here it is !

Nathann


---

Comment by azi created at 2013-01-22 18:28:42

Looks good! 

My only two questions are

 1. Can we expect a partition cell to be empty
 2. What happens if we call this thing on the empty graph?


---

Attachment


---

Comment by ncohen created at 2013-01-22 18:34:01

Updated !!

Nathann


---

Comment by azi created at 2013-01-22 22:37:04

The patch looks fine to me. Shall I mark it as positively reviewed?


---

Comment by ncohen created at 2013-01-23 01:17:13

Yep, you can ! `:-)`

Nathann


---

Comment by azi created at 2013-01-23 11:23:33

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-01-30 07:35:57

Resolution: fixed


---

Comment by ncohen created at 2013-02-04 10:32:19

(oh, and by the way I sent an email to Robert Miller, who originally wrote that code, and agreed with the shortcut that this patch implements) `:-)`

Nathann
