# Issue 25367: adding a .toric_variety method to fans

archive/issues_025367.json:
```json
{
    "body": "as this is more convenient sometimes than using `ToricVariety(fan)`\n\nIssue created by migration from https://trac.sagemath.org/ticket/25604\n\n",
    "created_at": "2018-06-19T07:23:59Z",
    "labels": [
        "geometry",
        "minor",
        "enhancement"
    ],
    "title": "adding a .toric_variety method to fans",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25367",
    "user": "chapoton"
}
```
as this is more convenient sometimes than using `ToricVariety(fan)`

Issue created by migration from https://trac.sagemath.org/ticket/25604





---

archive/issue_comments_357780.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-19T07:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357780",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_357781.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-06-19T07:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357781",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_357782.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-06-19T13:38:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357782",
    "user": "novoselt"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_357783.json:
```json
{
    "body": "I am not quite sure how it is more convenient (apart from TAB-completion), but can you please pass `*args, **kwds` to the constructor? Then these will be two ways for the same functionality.",
    "created_at": "2018-06-19T13:38:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357783",
    "user": "novoselt"
}
```

I am not quite sure how it is more convenient (apart from TAB-completion), but can you please pass `*args, **kwds` to the constructor? Then these will be two ways for the same functionality.



---

archive/issue_comments_357784.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-19T13:53:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357784",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_357785.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-06-19T13:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357785",
    "user": "chapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_357786.json:
```json
{
    "body": "thanks ! Done.",
    "created_at": "2018-06-19T13:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357786",
    "user": "chapoton"
}
```

thanks ! Done.



---

archive/issue_comments_357787.json:
```json
{
    "body": "Could you please set to positive, if you agree ?\n\nBy the way, I would like to find the polytope associated to an ample divisor class (polytope of sections of the associated line bundle). Do you have any idea on how to do that in sage ?\n\n```\nsage: F = eventail_own(4)\nsage: V = ToricVariety(F)\nsage: d = sum(V.Kaehler_cone().rays())\nsage: d\nDivisor class [-3, 4, 1, 4, 1, 4, 4]\n```\n\n\nEDIT:\n\nok, I have found what I was looking for:\n\n```\nd.lift().polyhedron()\n```\n",
    "created_at": "2018-06-20T09:47:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357787",
    "user": "chapoton"
}
```

Could you please set to positive, if you agree ?

By the way, I would like to find the polytope associated to an ample divisor class (polytope of sections of the associated line bundle). Do you have any idea on how to do that in sage ?

```
sage: F = eventail_own(4)
sage: V = ToricVariety(F)
sage: d = sum(V.Kaehler_cone().rays())
sage: d
Divisor class [-3, 4, 1, 4, 1, 4, 4]
```


EDIT:

ok, I have found what I was looking for:

```
d.lift().polyhedron()
```




---

archive/issue_comments_357788.json:
```json
{
    "body": "I don't agree - there should be INPUT and OUTPUT and the documentation should clearly state that `F.toric_variety(...)` is equivalent to `ToricVariety(F, ...)` and so it is just a shortcut for convenience.\n\nI am still not convinced that it is necessary - those who know about fans presumably do know about toric varieties as well and can figure out how to construct them, but there is no harm and since you find it useful, others may as well.",
    "created_at": "2018-06-20T17:21:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357788",
    "user": "novoselt"
}
```

I don't agree - there should be INPUT and OUTPUT and the documentation should clearly state that `F.toric_variety(...)` is equivalent to `ToricVariety(F, ...)` and so it is just a shortcut for convenience.

I am still not convinced that it is necessary - those who know about fans presumably do know about toric varieties as well and can figure out how to construct them, but there is no harm and since you find it useful, others may as well.



---

archive/issue_comments_357789.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-06-20T17:21:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357789",
    "user": "novoselt"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_357790.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-20T17:57:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357790",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_357791.json:
```json
{
    "body": "Thanks. I think it is useful. The lack of this has bothered me for a long time.\n\nI have added some documentation, as suggested.",
    "created_at": "2018-06-20T17:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357791",
    "user": "chapoton"
}
```

Thanks. I think it is useful. The lack of this has bothered me for a long time.

I have added some documentation, as suggested.



---

archive/issue_comments_357792.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-06-20T17:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357792",
    "user": "chapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_357793.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-06-20T19:21:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357793",
    "user": "novoselt"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_357794.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-06-23T19:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25367#issuecomment-357794",
    "user": "vbraun"
}
```

Resolution: fixed
