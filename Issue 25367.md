# Issue 25367: adding a .toric_variety method to fans

Issue created by migration from https://trac.sagemath.org/ticket/25604

Original creator: chapoton

Original creation time: 2018-06-19 07:23:59

as this is more convenient sometimes than using `ToricVariety(fan)`


---

Comment by chapoton created at 2018-06-19 07:24:50

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-06-19 07:24:50

New commits:


---

Comment by novoselt created at 2018-06-19 13:38:27

Changing status from needs_review to needs_work.


---

Comment by novoselt created at 2018-06-19 13:38:27

I am not quite sure how it is more convenient (apart from TAB-completion), but can you please pass `*args, **kwds` to the constructor? Then these will be two ways for the same functionality.


---

Comment by git created at 2018-06-19 13:53:35

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-06-19 13:54:09

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2018-06-19 13:54:09

thanks ! Done.


---

Comment by chapoton created at 2018-06-20 09:47:42

Could you please set to positive, if you agree ?

By the way, I would like to find the polytope associated to an ample divisor class (polytope of sections of the associated line bundle). Do you have any idea on how to do that in sage ?

```
sage: F = eventail_own(4)
sage: V = ToricVariety(F)
sage: d = sum(V.Kaehler_cone().rays())
sage: d
Divisor class [-3, 4, 1, 4, 1, 4, 4]
```


EDIT:

ok, I have found what I was looking for:

```
d.lift().polyhedron()
```



---

Comment by novoselt created at 2018-06-20 17:21:48

I don't agree - there should be INPUT and OUTPUT and the documentation should clearly state that `F.toric_variety(...)` is equivalent to `ToricVariety(F, ...)` and so it is just a shortcut for convenience.

I am still not convinced that it is necessary - those who know about fans presumably do know about toric varieties as well and can figure out how to construct them, but there is no harm and since you find it useful, others may as well.


---

Comment by novoselt created at 2018-06-20 17:21:48

Changing status from needs_review to needs_work.


---

Comment by git created at 2018-06-20 17:57:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-06-20 17:58:25

Thanks. I think it is useful. The lack of this has bothered me for a long time.

I have added some documentation, as suggested.


---

Comment by chapoton created at 2018-06-20 17:58:25

Changing status from needs_work to needs_review.


---

Comment by novoselt created at 2018-06-20 19:21:36

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-06-23 19:58:29

Resolution: fixed
