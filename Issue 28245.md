# Issue 28245: Incorrect indexing for a regular matroid from a graphic matroid

Issue created by migration from https://trac.sagemath.org/ticket/28482

Original creator: tscrim

Original creation time: 2019-09-13 04:27:29

CC:  stefan yomcat

There is an incorrect matching between the representation vectors and the edges coming from a graph:

```
sage: G = Graph([[3, 4], [4, 1], [1, 2], [2, 3], [3, 5], [5, 6], [6, 3]])
sage: M = Matroid(G)
sage: R = M.regular_matroid()
sage: R.representation_vectors()
{(1, 2): (-1, 1, 0, 0, 0, 0),
 (1, 4): (0, -1, 1, 0, 0, 0),
 (2, 3): (0, 0, -1, 1, 0, 0),
 (3, 4): (0, 0, -1, 0, 0, 1),
 (3, 5): (0, 0, 0, 0, -1, 1),
 (3, 6): (0, 0, -1, 0, 1, 0),
 (5, 6): (-1, 0, 0, 1, 0, 0)}
```

So there is a mismatch of the circuits:

```
sage: list(M.circuits())
[frozenset({(3, 5), (3, 6), (5, 6)}),
 frozenset({(1, 2), (1, 4), (2, 3), (3, 4)})]
sage: list(R.circuits())
[frozenset({(1, 2), (1, 4), (2, 3), (5, 6)}),
 frozenset({(3, 4), (3, 5), (3, 6)})]
```



---

Comment by tscrim created at 2019-09-13 04:34:33

The problem comes from the assumption that the groundset is iterated through in the same order as the `edge_iterator`, so we just need to pass an ordered groundset according the edge iterator.


---

Comment by tscrim created at 2019-09-13 04:39:19

New commits:


---

Comment by tscrim created at 2019-09-13 04:39:19

Changing status from new to needs_review.


---

Comment by dimpase created at 2019-09-13 09:23:09

lgtm


---

Comment by dimpase created at 2019-09-13 09:24:13

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2019-09-13 09:27:05

Thank you.


---

Comment by chapoton created at 2019-09-30 08:12:27

moving milestone to 9.0 (after release of 8.9)


---

Comment by vbraun created at 2019-10-03 17:57:27

Resolution: fixed
