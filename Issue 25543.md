# Issue 25543: Normalize bound checking in points function

archive/issues_025543.json:
```json
{
    "body": "CC:  @bhutz @raghukul01\n\nKeywords: algebraic scheme, gsoc2018\n\nConsider this example\n\n```\nsage: P.<x,y> = ProjectiveSpace(QQ, 1)\nsage: print sorted(list(P.points_of_bounded_height(bound=3)))\n[(-2 : 1), (-1 : 1), (-1/2 : 1), (0 : 1), (1/2 : 1), (1 : 0), (1 : 1), (2 : 1)]\n```\nPoints of height 3 are not present.\n\n```\nsage: P.<x,y,z> = ProjectiveSpace(2,QQ)\nsage: list(P.points_of_bounded_height(bound=5))\n```\nhere we have some points like `(2 : -4/3 : 1)` which have height=6, if we use enum_projective_rational_field function results are as we would expect. So the underlying definition for height of rational points need to be uniform in all these functions.\n\nIssue created by migration from https://trac.sagemath.org/ticket/25780\n\n",
    "created_at": "2018-07-06T02:41:36Z",
    "labels": [
        "component: algebraic geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "Normalize bound checking in points function",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25543",
    "user": "https://github.com/raghukul01"
}
```
CC:  @bhutz @raghukul01

Keywords: algebraic scheme, gsoc2018

Consider this example

```
sage: P.<x,y> = ProjectiveSpace(QQ, 1)
sage: print sorted(list(P.points_of_bounded_height(bound=3)))
[(-2 : 1), (-1 : 1), (-1/2 : 1), (0 : 1), (1/2 : 1), (1 : 0), (1 : 1), (2 : 1)]
```
Points of height 3 are not present.

```
sage: P.<x,y,z> = ProjectiveSpace(2,QQ)
sage: list(P.points_of_bounded_height(bound=5))
```
here we have some points like `(2 : -4/3 : 1)` which have height=6, if we use enum_projective_rational_field function results are as we would expect. So the underlying definition for height of rational points need to be uniform in all these functions.

Issue created by migration from https://trac.sagemath.org/ticket/25780





---

archive/issue_comments_359713.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-09T08:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25543#issuecomment-359713",
    "user": "https://github.com/raghukul01"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_359714.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-07-09T08:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25543#issuecomment-359714",
    "user": "https://github.com/raghukul01"
}
```

New commits:



---

archive/issue_comments_359715.json:
```json
{
    "body": "Just one comment here. What do you think about using?\n\n```\nself.point(c, check=False)\n```\n\nIt is about twice as fast and since the function is for projective space (not a subscheme) it's not like we need to check that the point is well-defined. It will cause them not to be normalized to the last coordinate to 1 though.\n\nI have the doctests running now, but I don't really expect a failure.",
    "created_at": "2018-07-12T18:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25543#issuecomment-359715",
    "user": "https://github.com/bhutz"
}
```

Just one comment here. What do you think about using?

```
self.point(c, check=False)
```

It is about twice as fast and since the function is for projective space (not a subscheme) it's not like we need to check that the point is well-defined. It will cause them not to be normalized to the last coordinate to 1 though.

I have the doctests running now, but I don't really expect a failure.



---

archive/issue_comments_359716.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-13T11:00:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25543#issuecomment-359716",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_359717.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-13T17:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25543#issuecomment-359717",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_064459.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-05T08:16:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25543",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25543#event-64459"
}
```



---

archive/issue_comments_359718.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-08-05T08:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25543#issuecomment-359718",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
