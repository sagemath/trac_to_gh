# Issue 13071: new methods for compositions

Issue created by migration from https://trac.sagemath.org/ticket/13243

Original creator: saliola

Original creation time: 2012-07-12 19:36:54

Assignee: sage-combinat

CC:  chrisjamesberg sage-combinat zabrocki

Keywords: compositions, ncsf, sd40

new functionality for the composition constructor:

- construct a composition from a subset


new functionality for compositions:

- parent -- returns Compositions()
- reversed - reverses
- refinement_splitting
- refinement_splitting_lengths(self, J):
- partial_sums(self, final=True):
- to_subset(self, final=False):
- to_partition(self):
- shuffle_product(self, other, overlap=False):


new functionality for the set of all compositions:

- put it in the category of `GradedEnumeratedSets`
- subset method to extract subsets of composition (by size)


---

Comment by saliola created at 2012-07-12 20:05:15

Changing status from new to needs_review.


---

Comment by chrisjamesberg created at 2012-07-12 20:07:19

Changing status from needs_review to positive_review.


---

Comment by saliola created at 2012-07-13 19:03:16

Changing status from positive_review to needs_work.


---

Comment by saliola created at 2012-07-13 19:03:16

Need to fix a dependency error. Patch coming 'soon'.


---

Comment by saliola created at 2012-07-15 02:10:44

only apply this one


---

Attachment

empty patch (this can be deleted)


---

Comment by saliola created at 2012-07-15 02:17:10

The errors were mainly due to the fact that the new category of _graded_ enumerated sets does not yet exist (it exists on the sage-combinat queue, which is why tests passed on my machine). So I removed the two lines related to that.

I also modified a couple of doctests in `permutation.py`, which was caused by the change  the descents method.


---

Comment by saliola created at 2012-07-15 02:17:10

Changing status from needs_work to needs_review.


---

Comment by saliola created at 2012-07-15 12:54:08

Apply: trac_13243-new_methods_for_compositions-fs.patch


---

Attachment

needed for 5.2.rc0 (updated the call to deprecated_function_alias)


---

Comment by saliola created at 2012-07-18 11:56:14

Apply: trac_13243-new_methods_for_compositions-fs.patch,  trac_13243-rebased_deprecated_function_alias-fs.patch

(for the patchbot)


---

Comment by saliola created at 2012-07-20 14:06:23

*Note that the patches attached to this ticket are newer than the patches on the sage-combinat queue.*

Also, I'm in the process of updating this patch with improvements suggested by Mike. New version will be available soon.


---

Attachment

changes based on Mike's review


---

Comment by saliola created at 2012-07-21 01:12:59

Here is a patch (trac_13243-review_changes-fs.patch), which should be applied on top of the earlier patch, that includes improvements suggested by Mike.

Patchbot:

Apply: trac_13243-new_methods_for_compositions-fs.patch, trac_13243-rebased_deprecated_function_alias-fs.patch, trac_13243-review_changes-fs.patch, trac_13243-documentation_fixes-fs.patch


---

Comment by saliola created at 2012-07-21 02:22:38

Changing status from needs_review to needs_work.


---

Comment by saliola created at 2012-07-21 02:22:54

Changing status from needs_work to needs_review.


---

Comment by saliola created at 2012-07-21 04:13:58

(more) documentation improvements based on first review


---

Attachment

Hello Mike,

Here is a final patch fixing some the issues with the documentation. The documentation now builds and renders nicely. Thanks for your suggestions.

I made separate patches so that it is easier for you to look at my recent changes (but if you prefer, I can post one patch). You only need to look at the following two files to see the changes I made after your review of the first patch:

- trac_13243-review_changes-fs.patch
- trac_13243-documentation_fixes-fs.patch

Franco


---

Comment by saliola created at 2012-07-21 15:29:28

Mike suggested some more documentation improvements. New patch on the way.


---

Comment by saliola created at 2012-07-21 15:29:28

Changing status from needs_review to needs_work.


---

Comment by saliola created at 2012-07-21 16:41:19

improvements to documentation for shuffle_product


---

Attachment

Here is a patch with improvements to the documentation of shuffle product.

Patchbot:

Apply: trac_13243-new_methods_for_compositions-fs.patch, trac_13243-rebased_deprecated_function_alias-fs.patch, trac_13243-review_changes-fs.patch, trac_13243-documentation_fixes-fs.patch, trac_13243-documentation_fixes_2-fs.patch


---

Comment by saliola created at 2012-07-21 16:44:13

Changing status from needs_work to needs_review.


---

Comment by zabrocki created at 2012-07-21 18:06:49

Changing status from needs_review to positive_review.


---

Comment by aschilling created at 2012-07-23 21:17:30

Hi Franco,

You promised to import these patches also to the sage-combinat queue, since the current patch there completely breaks sage-5.2.rc0. I am confused as to which patches are supposed to be applied. For example trac_13243-rebased_deprecated_function_alias-fs.patch also has a newer version trac_13243-rebased_deprecated_function_alias-fs.2.patch, but this is not the one listed in your list.

Thanks,

Anne


---

Comment by jdemeyer created at 2012-07-27 20:57:27

Please clarify which patches have to be applied.


---

Comment by jdemeyer created at 2012-07-27 20:58:52

Changing status from positive_review to needs_info.


---

Comment by saliola created at 2012-07-27 21:04:48

Replying to [comment:19 jdemeyer]:
> Please clarify which patches have to be applied.

If I understand correctly, the patchbot doesn't look at the description for the "apply" directive, so I put it in the comments. Should I also include the directive in the description? Is there a preferred syntax for this?

Apply: trac_13243-new_methods_for_compositions-fs.patch, trac_13243-rebased_deprecated_function_alias-fs.patch, trac_13243-review_changes-fs.patch, trac_13243-documentation_fixes-fs.patch, trac_13243-documentation_fixes_2-fs.patch

For humans:

- attachment:trac_13243-new_methods_for_compositions-fs.patch
- attachment:trac_13243-rebased_deprecated_function_alias-fs.patch
- attachment:trac_13243-review_changes-fs.patch
- attachment:trac_13243-documentation_fixes-fs.patch
- attachment:trac_13243-documentation_fixes_2-fs.patch


---

Comment by saliola created at 2012-07-27 21:05:04

Changing status from needs_info to needs_review.


---

Comment by saliola created at 2012-07-27 21:05:10

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-07-27 21:07:58

Replying to [comment:21 saliola]:
> If I understand correctly, the patchbot doesn't look at the description for the "apply" directive, so I put it in the comments.
I think that's correct yes.

> Should I also include the directive in the description?
Yes please!


---

Comment by saliola created at 2012-07-27 21:10:23

Replying to [comment:25 jdemeyer]:
> Replying to [comment:21 saliola]:
> > If I understand correctly, the patchbot doesn't look at the description for the "apply" directive, so I put it in the comments.
> I think that's correct yes.
> 
> > Should I also include the directive in the description?
> Yes please!

Thank you. I'll make sure to do this from now on!


---

Comment by jdemeyer created at 2012-08-01 12:12:49

Resolution: fixed
