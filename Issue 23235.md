# Issue 23235: The error message for splitting_field when name is None does not match that of NumberField

Issue created by migration from Trac.

Original creator: geze

Original creation time: 2017-07-19 18:02:34

Keywords: NumberField, splitting_field, TypeError, sd87

When one computes:

sage: R.<x> = QQ[]
sage: f = x^2 - 2
sage: K = NumberField(f)

Error in lines 3-3
Traceback (most recent call last):
  File "/usr/local/sage/local/lib/python2.7/site-packages/smc_sagews/sage_server.py", line 995, in execute
    exec compile(block+'\n', '', 'single') in namespace, locals
  File "", line 1, in <module>
  File "/usr/local/sage/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py", line 524, in NumberField
    return NumberField_version2(polynomial=polynomial, name=name, check=check, embedding=embedding, latex_name=latex_name, assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes, structure=structure)
  File "sage/structure/factory.pyx", line 362, in sage.structure.factory.UniqueFactory.__call__ (/usr/local/sage/src/build/cythonized/sage/structure/factory.c:1856)
    key, kwds = self.create_key_and_extra_args(*args, **kwds)
  File "/usr/local/sage/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py", line 594, in create_key_and_extra_args
    raise TypeError("You must specify the name of the generator.")
TypeError: You must specify the name of the generator.

However when one computes:
sage: f.splitting_field()

Error in lines 3-3
Traceback (most recent call last):
  File "/usr/local/sage/local/lib/python2.7/site-packages/smc_sagews/sage_server.py", line 995, in execute
    exec compile(block+'\n', '', 'single') in namespace, locals
  File "", line 1, in <module>
  File "sage/rings/polynomial/polynomial_element.pyx", line 4181, in sage.rings.polynomial.polynomial_element.Polynomial.splitting_field (/usr/local/sage/src/build/cythonized/sage/rings/polynomial/polynomial_element.c:41810)
    def splitting_field(self, names, map=False, **kwds):
TypeError: splitting_field() takes at least 1 positional argument (0 given)

One needs to add the lines:
if name is None:
    raise TypeError("You must specify the name of the generator.")

Before the line:
name = normalize_names(1, name)

in the corresponding file.


---

Comment by git created at 2017-07-19 20:27:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-07-19 20:58:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-07-19 21:00:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by geze created at 2017-07-19 21:09:41

Changing status from new to needs_review.


---

Comment by geze created at 2017-07-19 21:09:41

Changing type from PLEASE CHANGE to defect.


---

Comment by klui created at 2017-07-21 18:46:16

Good change. It makes splitting field more consistent with number field.


---

Comment by klui created at 2017-07-21 18:46:16

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-08-04 23:10:15

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2017-08-04 23:10:15

Author name is missing...


---

Comment by vbraun created at 2017-08-15 06:44:32

Author name should be your real name, not the trac username (will be listed in the release notes)


---

Comment by vbraun created at 2017-08-15 06:45:03

Also, please set back to positive review when you are done...


---

Comment by geze created at 2017-08-15 07:47:16

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2017-08-17 20:33:18

Resolution: fixed
