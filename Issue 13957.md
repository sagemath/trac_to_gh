# Issue 13957: add a _test_antipode method for Hopf algebras

Issue created by migration from Trac.

Original creator: saliola

Original creation time: 2013-02-22 05:09:34

Assignee: sage-combinat

CC:  zabrocki

Keywords: hopf algebras

Desired doctests:

```
                sage: R = NonCommutativeSymmetricFunctions(QQ).ribbon()
                sage: R._test_antipode()

            ::

                sage: s = SymmetricFunctions(QQ).schur()
                sage: s._test_antipode()
```



---

Attachment


---

Comment by saliola created at 2013-02-22 05:23:04

Changing status from new to needs_review.


---

Comment by saliola created at 2013-02-22 05:28:41

It would also be nice to implement a proper `some_elements` method.


---

Comment by saliola created at 2013-02-22 05:29:15

Changing type from PLEASE CHANGE to enhancement.


---

Comment by jhpalmieri created at 2013-02-22 06:44:12

I don't think that the antipode has to be an involution in general. This is automatic if the Hopf algebra is commutative or cocommutative, but may not hold otherwise.


---

Comment by zabrocki created at 2013-02-22 17:22:33

Changing status from needs_review to needs_work.


---

Attachment

Thanks for catching that, John. I deleted the corresponding lines.

(For the record, Mike and I discussed using `is_commutative` and `is_cocommutative`, but neither seems to be reliably implemented. So we won't test it until the appropriate categories are implemented.)


---

Comment by saliola created at 2013-02-22 21:13:24

Changing status from needs_work to needs_review.


---

Comment by saliola created at 2013-02-22 21:21:26

Changing status from needs_review to needs_work.


---

Comment by saliola created at 2013-02-22 21:21:26

Hmm, I am seeing doctest failures in `k_dual` and `new_k_schur`. 

I guess these don't have antipodes implemented?

So, back to needs work.


---

Comment by zabrocki created at 2013-02-23 02:01:14

The spaces implemented in `k_dual` and `new_k_schur` are not Hopf algebras.  It may be that they are in the wrong category.  They can be made into Hopf algebras but we would worry if this is done un-naturally.


---

Comment by saliola created at 2013-02-23 02:12:22

Are they bialgebras ?


---

Comment by zabrocki created at 2013-02-23 03:19:37

if you multiply two k-Schurs together the result may or may not be in the k-Schur space.  If not, then just `.lift()` the result in the `SymmetricFunctions`.  The coproduct is implemented and is k-Schur positive.

The coproduct of dual k-Schurs is not implemented.  It is a Hopf algebra if you use the usual coproduct, but it is not clear if this is the 'correct' thing to do.  If t=1 then it is probably 'correct' to use the usual coproduct.


---

Comment by saliola created at 2013-02-23 15:44:55

The failure only seems to occur when `t=1`, since the categories seem to be correctly defined for other `t`.

So the question is whether we should keep this space for `t=1` as a Hopf algebra or put it in the category of bialgebras instead.


---

Comment by chrisjamesberg created at 2013-02-23 18:29:08

I vote to keep as a Hopf algebra! If you call something a Hopf algebra, do you have to implement the antipode? Isn't "Not implemented" acceptable? It's still a Hopf algebra even if it doesn't know how to compute the antipode.

I think the description of this ticket could be a little more informative than just a few doctests. Without reading the code, I'm not exactly sure what this ticket is about.


---

Comment by zabrocki created at 2013-02-23 18:51:25

For `t=1` the antipode should be the usual antipode.


---

Comment by saliola created at 2013-02-24 02:55:18

Replying to [comment:15 chrisjamesberg]:
> I vote to keep as a Hopf algebra! If you call something a Hopf algebra, do you have to implement the antipode? Isn't "Not implemented" acceptable? It's still a Hopf algebra even if it doesn't know how to compute the antipode.

I'd like to keep it as a Hopf algebra, too. Especially since we know how to compute the antipode (see Mike's comment). Can you implement it?

> I think the description of this ticket could be a little more informative than just a few doctests. Without reading the code, I'm not exactly sure what this ticket is about.

I thought it was pretty self-explanatory based on the understanding that the purpose of all the `_test_*` methods is to make sure that something isn't obviously wrong with the code by running a few tests. Such a test would/should have caught the bug we found with the antipode of NSym because it failed the defining condition for an antipode.


---

Comment by zabrocki created at 2013-03-03 20:41:34

I opened ticket #14220 where I intend to do a little cleanup of the symmetric function code.  I will put the antipode for the k-bounded quotient in that patch.


---

Comment by saliola created at 2013-03-04 01:02:40

Thanks, Mike! I'll set it as a dependency for this ticket.


---

Comment by zabrocki created at 2013-03-06 13:31:24

I opened two more tickets which implements the coalgebra and Hopf structure in k_dual.py and new_kschur.py


---

Comment by zabrocki created at 2013-05-20 17:51:07

This patch seems to work but it now causes failures in algebras/steenrod/steenrod_algebra.py


---

Comment by jhpalmieri created at 2013-05-21 01:36:56

That's because the Steenrod algebra code doesn't define a counit. See the attached patch.


---

Attachment


---

Comment by zabrocki created at 2013-05-22 11:45:58

Changing status from needs_work to needs_review.


---

Attachment

Franco, I've tested everything and would set positive review, but since it has sat for a while, you should look this over too.
-Mike


---

Comment by saliola created at 2013-05-22 12:58:26

All tests pass. It looks good to me!


---

Comment by saliola created at 2013-05-22 12:58:26

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-05-29 07:09:37

Resolution: fixed
