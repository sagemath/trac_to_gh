# Issue 15183: Borken git doctests.

archive/issues_015183.json:
```json
{
    "body": "CC:  ohanar\n\nGithub master, at 094712a285895ceac4c1521fb04cc9cc343a4b3a (head)\n\nhttp://patchbot.sagemath.org/log/0/Ubuntu/12.10/x86_64/3.5.0-17-generic/pi/2013-11-14%2002:54:22%20-0800?short\n\nLooks like we just need to sort this list. \n\nIssue created by migration from https://trac.sagemath.org/ticket/15420\n\n",
    "created_at": "2013-11-14T18:55:20Z",
    "labels": [
        "misc",
        "major",
        "bug"
    ],
    "title": "Borken git doctests.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15183",
    "user": "robertwb"
}
```
CC:  ohanar

Github master, at 094712a285895ceac4c1521fb04cc9cc343a4b3a (head)

http://patchbot.sagemath.org/log/0/Ubuntu/12.10/x86_64/3.5.0-17-generic/pi/2013-11-14%2002:54:22%20-0800?short

Looks like we just need to sort this list. 

Issue created by migration from https://trac.sagemath.org/ticket/15420





---

archive/issue_comments_194965.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-11-14T19:00:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15183#issuecomment-194965",
    "user": "robertwb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_194966.json:
```json
{
    "body": "New commits:",
    "created_at": "2013-11-14T19:00:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15183#issuecomment-194966",
    "user": "robertwb"
}
```

New commits:



---

archive/issue_comments_194967.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-11-14T21:32:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15183#issuecomment-194967",
    "user": "ohanar"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_194968.json:
```json
{
    "body": "The docstring says it should be sorted by last commit time, and the code looks like it does that, so sorting the output (alphabetically) is wrong. Really we should spoof the commit time using an environment variable (it is something like `GIT_COMMITTER_DATE`), rather than using `time.sleep`.",
    "created_at": "2013-11-14T21:32:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15183#issuecomment-194968",
    "user": "ohanar"
}
```

The docstring says it should be sorted by last commit time, and the code looks like it does that, so sorting the output (alphabetically) is wrong. Really we should spoof the commit time using an environment variable (it is something like `GIT_COMMITTER_DATE`), rather than using `time.sleep`.



---

archive/issue_comments_194969.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Recent commits:",
    "created_at": "2013-11-15T07:05:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15183#issuecomment-194969",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Recent commits:



---

archive/issue_comments_194970.json:
```json
{
    "body": "Ah, yes. Fixed to set the date.",
    "created_at": "2013-11-15T07:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15183#issuecomment-194970",
    "user": "robertwb"
}
```

Ah, yes. Fixed to set the date.



---

archive/issue_comments_194971.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-11-15T07:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15183#issuecomment-194971",
    "user": "robertwb"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_194972.json:
```json
{
    "body": "Seems like `os.environ` is ignored (at least on my system). I changed the doctest to explicitly set the environment. Otherwise, positive review.\n----\nNew commits:",
    "created_at": "2013-11-15T21:33:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15183#issuecomment-194972",
    "user": "ohanar"
}
```

Seems like `os.environ` is ignored (at least on my system). I changed the doctest to explicitly set the environment. Otherwise, positive review.
----
New commits:



---

archive/issue_comments_194973.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-11-15T22:51:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15183#issuecomment-194973",
    "user": "robertwb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_194974.json:
```json
{
    "body": "Interesting. Your change looks good to me.",
    "created_at": "2013-11-15T22:51:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15183#issuecomment-194974",
    "user": "robertwb"
}
```

Interesting. Your change looks good to me.



---

archive/issue_comments_194975.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-12-16T14:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15183#issuecomment-194975",
    "user": "vbraun"
}
```

Resolution: fixed
