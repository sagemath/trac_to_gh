# Issue 12761: Speedup in DiGraph.stronly_connected_components_digraph

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2012-05-10 09:48:48

Assignee: jason, ncohen, rlm

CC:  nthiery

Let it be said that I hate vertex labels.

Before:


```
sage: g = digraphs.RandomDirectedGNP(2000,.2)  
sage: g.strongly_connected_components_digraph()
Exception: The user died of old age
```


After :

```
sage: time g.strongly_connected_components_digraph()
Digraph on 1 vertex
Time: CPU 2.78 s, Wall: 2.79 s
```


Which is already far, far too much. And if it is still slow it is -- of course -- only because of labels.

Nathann


---

Comment by ncohen created at 2012-05-10 09:49:23

Changing status from new to needs_review.


---

Comment by ncohen created at 2012-05-10 12:22:54

(Ninja patch -- nobody will notice that I'm exposing a parameter for graph coloring functions in this ticket `:-p`)


---

Attachment


---

Comment by dcoudert created at 2012-06-02 17:10:54

The running time improvement is impressive, although I had no "user died of old age" exception. Considering a linear time algorithm, the running time is still high, but I don't know how to be faster in python.

The patch is working perfectly and passes all tests (graph.py and digraph.py).
I give positive review.


---

Comment by dcoudert created at 2012-06-02 17:10:54

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2012-06-02 17:12:50

Thaaaaaaaaaanks ! `:-)`

Nathann


---

Comment by jdemeyer created at 2012-06-09 19:21:03

Please fill in your real name in the Author / Reviewer fields.


---

Comment by jdemeyer created at 2012-06-18 10:24:53

Resolution: fixed


---

Comment by nthiery created at 2012-07-05 15:33:05

Nathann, you are my hero of the day!

I was running a calculation while Anne was presenting a talk about monoids. My calculation was taking forever (minutes? more? I killed it). I applied your patch, and it went down to 5s. And now I have a little counter example that she can announce at the end of her talk :-)


---

Comment by ncohen created at 2012-07-05 15:37:01

WOooooooooooohooooooooooooooooo !!!! I am a HeroooOOOOOOooooooooooooooo !!!! `O_O`

God ! At long, long last... `:-D`

Nathann
