# Issue 18518: Add elementary and infinity crystals to Thematic Tutorial on crystals

archive/issues_018518.json:
```json
{
    "body": "CC:  @anneschilling @dwbump @tscrim\n\nKeywords: crystals, thematic tutorial\n\nAdded tutorials on elementary crystals and infinity crystals to the Thematic Tutorial entitled Lie Methods and Related Combinatorics in Sage.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18755\n\n",
    "created_at": "2015-06-21T16:44:14Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Add elementary and infinity crystals to Thematic Tutorial on crystals",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18518",
    "user": "https://github.com/bsalisbury1"
}
```
CC:  @anneschilling @dwbump @tscrim

Keywords: crystals, thematic tutorial

Added tutorials on elementary crystals and infinity crystals to the Thematic Tutorial entitled Lie Methods and Related Combinatorics in Sage.

Issue created by migration from https://trac.sagemath.org/ticket/18755





---

archive/issue_comments_251512.json:
```json
{
    "body": "I've uploaded a first draft... comments?\n----\nNew commits:",
    "created_at": "2015-06-21T16:45:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251512",
    "user": "https://github.com/bsalisbury1"
}
```

I've uploaded a first draft... comments?
----
New commits:



---

archive/issue_comments_251513.json:
```json
{
    "body": "On a quick look-over, what you currently have looks good (one typo `an hyperbolic`). However I would add how the elementary crystals are useful in relation to `B(\\infty)`, specifically the path model.",
    "created_at": "2015-06-21T17:13:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251513",
    "user": "https://github.com/tscrim"
}
```

On a quick look-over, what you currently have looks good (one typo `an hyperbolic`). However I would add how the elementary crystals are useful in relation to `B(\infty)`, specifically the path model.



---

archive/issue_comments_251514.json:
```json
{
    "body": "Hi Ben,\n\nCould you please also post a link to the compiled documentation (since this is a tutorial). Then it would be easier to comment.\n\nThanks!\n\nAnne",
    "created_at": "2015-06-21T22:15:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251514",
    "user": "https://github.com/anneschilling"
}
```

Hi Ben,

Could you please also post a link to the compiled documentation (since this is a tutorial). Then it would be easier to comment.

Thanks!

Anne



---

archive/issue_comments_251515.json:
```json
{
    "body": "Hi,\n\nThanks, Anne and Travis, for reading this ticket already!\n\n----\n\nReplying to [comment:3 tscrim]:\n> On a quick look-over, what you currently have looks good (one typo `an hyperbolic`). \n\nSince grade school, I had been under the impression that you always use \"an\" before a word that starts with \"h\", since the \"h\" is supposed to be silent.  However, I did some reading about it, and I now agree that it should be \"a hyperbolic\" rather than \"an hyperbolic\".  Thanks for catching that!\n\n----\n\nReplying to [comment:4 aschilling]:\n> Could you please also post a link to the compiled documentation (since this is a tutorial). Then it would be easier to comment.\n\nI've posted a temporary link here:  http://people.cst.cmich.edu/salis1bt/sage/lie.html.  I'll continue to maintain this page as the ticket is updated, but I will take it down once (if?) the ticket receives a positive review.\n\n-------\n\nOne problem I noticed already (and don't know how to immediately fix) is that the `Next topic` links are not working as expected.  For example, while on the `Affine Highest Weight Crystals` page, the `Next topic` listed is `Iwahori Hecke Algebras`, but it should be `Elementary Crystals`.  I've already added the new sections the TOC, so I'm not sure what I'm missing.  Any suggestions are greatly appreciated!\n\nBest,\nBen",
    "created_at": "2015-06-21T22:41:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251515",
    "user": "https://github.com/bsalisbury1"
}
```

Hi,

Thanks, Anne and Travis, for reading this ticket already!

----

Replying to [comment:3 tscrim]:
> On a quick look-over, what you currently have looks good (one typo `an hyperbolic`). 

Since grade school, I had been under the impression that you always use "an" before a word that starts with "h", since the "h" is supposed to be silent.  However, I did some reading about it, and I now agree that it should be "a hyperbolic" rather than "an hyperbolic".  Thanks for catching that!

----

Replying to [comment:4 aschilling]:
> Could you please also post a link to the compiled documentation (since this is a tutorial). Then it would be easier to comment.

I've posted a temporary link here:  http://people.cst.cmich.edu/salis1bt/sage/lie.html.  I'll continue to maintain this page as the ticket is updated, but I will take it down once (if?) the ticket receives a positive review.

-------

One problem I noticed already (and don't know how to immediately fix) is that the `Next topic` links are not working as expected.  For example, while on the `Affine Highest Weight Crystals` page, the `Next topic` listed is `Iwahori Hecke Algebras`, but it should be `Elementary Crystals`.  I've already added the new sections the TOC, so I'm not sure what I'm missing.  Any suggestions are greatly appreciated!

Best,
Ben



---

archive/issue_comments_251516.json:
```json
{
    "body": "[Kashiwara1995] can also be used as a reference for T_lambda. (Example 7.3.) Also for the B_i.\n\nIn some cases left tensoring with T_lambda is different from right tensoring with T_lambda. For example left tensoring B_i with T_lambda is the same as right tensoring with T_{s_i lambda}.\n\nThere is potential for confusion since Sage's convention for tensoring is the opposite of Kashiwara's. Kashiwara usually considers B tensor T_lambda if he just wants to shift the dimension. So I guess we do the reverse, which is what you do in the tutorial. The issue comes up again with R_lambda. It might be worth mentioning something about this issue.\n\nThe patch should add Ben Salisbury as an author.",
    "created_at": "2015-06-22T18:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251516",
    "user": "https://github.com/dwbump"
}
```

[Kashiwara1995] can also be used as a reference for T_lambda. (Example 7.3.) Also for the B_i.

In some cases left tensoring with T_lambda is different from right tensoring with T_lambda. For example left tensoring B_i with T_lambda is the same as right tensoring with T_{s_i lambda}.

There is potential for confusion since Sage's convention for tensoring is the opposite of Kashiwara's. Kashiwara usually considers B tensor T_lambda if he just wants to shift the dimension. So I guess we do the reverse, which is what you do in the tutorial. The issue comes up again with R_lambda. It might be worth mentioning something about this issue.

The patch should add Ben Salisbury as an author.



---

archive/issue_comments_251517.json:
```json
{
    "body": "Hi Dan,\n\nThanks for reading the updates!  The changes you suggested have been made, but maybe I've gone a little overkill in how many times the reader has been reminded about the tensor product convention.  Do you think a warning at the top of the page would be better than the way it is now?\n\nBest,\nBen",
    "created_at": "2015-06-22T19:52:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251517",
    "user": "https://github.com/bsalisbury1"
}
```

Hi Dan,

Thanks for reading the updates!  The changes you suggested have been made, but maybe I've gone a little overkill in how many times the reader has been reminded about the tensor product convention.  Do you think a warning at the top of the page would be better than the way it is now?

Best,
Ben



---

archive/issue_comments_251518.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-22T19:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251518",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_251519.json:
```json
{
    "body": "Replying to [comment:7 bsalisbury1]:\n\n\n> Thanks for reading the updates!  The changes you suggested have been made, but maybe I've gone a little overkill in how many times the reader has been reminded about the tensor product convention.  Do you think a warning at the top of the page would be better than the way it is now?\n\nMy feeling is the overkill is OK.",
    "created_at": "2015-06-22T20:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251519",
    "user": "https://github.com/dwbump"
}
```

Replying to [comment:7 bsalisbury1]:


> Thanks for reading the updates!  The changes you suggested have been made, but maybe I've gone a little overkill in how many times the reader has been reminded about the tensor product convention.  Do you think a warning at the top of the page would be better than the way it is now?

My feeling is the overkill is OK.



---

archive/issue_comments_251520.json:
```json
{
    "body": "> One problem I noticed already (and don't know how to immediately fix) is that the `Next topic` links are not working as expected.  For example, while on the `Affine Highest Weight Crystals` page, the `Next topic` listed is `Iwahori Hecke Algebras`, but it should be `Elementary Crystals`.  I've already added the new sections the TOC, so I'm not sure what I'm missing.  Any suggestions are greatly appreciated!\n\nHave you tried make doc-clean and then make doc again? It might be remembering the old links.\n\nAnne",
    "created_at": "2015-06-22T21:17:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251520",
    "user": "https://github.com/anneschilling"
}
```

> One problem I noticed already (and don't know how to immediately fix) is that the `Next topic` links are not working as expected.  For example, while on the `Affine Highest Weight Crystals` page, the `Next topic` listed is `Iwahori Hecke Algebras`, but it should be `Elementary Crystals`.  I've already added the new sections the TOC, so I'm not sure what I'm missing.  Any suggestions are greatly appreciated!

Have you tried make doc-clean and then make doc again? It might be remembering the old links.

Anne



---

archive/issue_comments_251521.json:
```json
{
    "body": "Hi Ben,\n\nIt looks pretty good! One small comment I have is to add Sage examples for the C crystals perhaps (there are currently none).\n\nBest,\n\nAnne",
    "created_at": "2015-06-22T21:18:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251521",
    "user": "https://github.com/anneschilling"
}
```

Hi Ben,

It looks pretty good! One small comment I have is to add Sage examples for the C crystals perhaps (there are currently none).

Best,

Anne



---

archive/issue_comments_251522.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-22T21:53:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251522",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_251523.json:
```json
{
    "body": "Hi Anne,\n\nAn example has been added now to the C crystal section.  Hopefully this example will give some good motivation for using the R crystal.  Also, `make doc-clean` solved the link problem.  Thanks!\n\nBest,\nBen",
    "created_at": "2015-06-22T21:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251523",
    "user": "https://github.com/bsalisbury1"
}
```

Hi Anne,

An example has been added now to the C crystal section.  Hopefully this example will give some good motivation for using the R crystal.  Also, `make doc-clean` solved the link problem.  Thanks!

Best,
Ben



---

archive/issue_comments_251524.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-06-22T21:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251524",
    "user": "https://github.com/bsalisbury1"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_251525.json:
```json
{
    "body": "Hi Ben,\n\nI get quite a few doc test failures with the current branch\n\n```\nsage -t elementary_crystals.rst\n**********************************************************************\nFile \"elementary_crystals.rst\", line 42, in doc.en.thematic_tutorials.lie.elementary_crystals\nFailed example:\n    for x in B:\n    print x.weight() + T[0].weight()\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 856, in compile_and_execute\n        compiled = compiler(example)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 494, in <lambda>\n        example.source, filename, \"single\", compileflags, 1)\n      File \"<doctest doc.en.thematic_tutorials.lie.elementary_crystals[4]>\", line 2\n        print x.weight() + T[Integer(0)].weight()\n            ^\n    IndentationError: expected an indented block\n**********************************************************************\nFile \"elementary_crystals.rst\", line 96, in doc.en.thematic_tutorials.lie.elementary_crystals\nFailed example:\n    b = BB(C[0],T[0])\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest doc.en.thematic_tutorials.lie.elementary_crystals[5]>\", line 1, in <module>\n        b = BB(C[Integer(0)],T[Integer(0)])\n    NameError: name 'BB' is not defined\n**********************************************************************\nFile \"elementary_crystals.rst\", line 97, in doc.en.thematic_tutorials.lie.elementary_crystals\nFailed example:\n    for i in B.index_set(): print b.epsilon(i)\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest doc.en.thematic_tutorials.lie.elementary_crystals[6]>\", line 1, in <module>\n        for i in B.index_set(): print b.epsilon(i)\n    NameError: name 'b' is not defined\n**********************************************************************\nFile \"elementary_crystals.rst\", line 100, in doc.en.thematic_tutorials.lie.elementary_crystals\nFailed example:\n    for i in B.index_set(): print b.phi(i)\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest doc.en.thematic_tutorials.lie.elementary_crystals[7]>\", line 1, in <module>\n        for i in B.index_set(): print b.phi(i)\n    NameError: name 'b' is not defined\n**********************************************************************\nFile \"elementary_crystals.rst\", line 103, in doc.en.thematic_tutorials.lie.elementary_crystals\nFailed example:\n    for i in B.index_set(): print b.f(i)\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest doc.en.thematic_tutorials.lie.elementary_crystals[8]>\", line 1, in <module>\n        for i in B.index_set(): print b.f(i)\n    NameError: name 'b' is not defined\n**********************************************************************\nFile \"elementary_crystals.rst\", line 106, in doc.en.thematic_tutorials.lie.elementary_crystals\nFailed example:\n    for i in B.index_set(): print b.e(i)\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest doc.en.thematic_tutorials.lie.elementary_crystals[9]>\", line 1, in <module>\n        for i in B.index_set(): print b.e(i)\n    NameError: name 'b' is not defined\n```\n\n\nAnne",
    "created_at": "2015-06-22T22:02:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251525",
    "user": "https://github.com/anneschilling"
}
```

Hi Ben,

I get quite a few doc test failures with the current branch

```
sage -t elementary_crystals.rst
**********************************************************************
File "elementary_crystals.rst", line 42, in doc.en.thematic_tutorials.lie.elementary_crystals
Failed example:
    for x in B:
    print x.weight() + T[0].weight()
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 856, in compile_and_execute
        compiled = compiler(example)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 494, in <lambda>
        example.source, filename, "single", compileflags, 1)
      File "<doctest doc.en.thematic_tutorials.lie.elementary_crystals[4]>", line 2
        print x.weight() + T[Integer(0)].weight()
            ^
    IndentationError: expected an indented block
**********************************************************************
File "elementary_crystals.rst", line 96, in doc.en.thematic_tutorials.lie.elementary_crystals
Failed example:
    b = BB(C[0],T[0])
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest doc.en.thematic_tutorials.lie.elementary_crystals[5]>", line 1, in <module>
        b = BB(C[Integer(0)],T[Integer(0)])
    NameError: name 'BB' is not defined
**********************************************************************
File "elementary_crystals.rst", line 97, in doc.en.thematic_tutorials.lie.elementary_crystals
Failed example:
    for i in B.index_set(): print b.epsilon(i)
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest doc.en.thematic_tutorials.lie.elementary_crystals[6]>", line 1, in <module>
        for i in B.index_set(): print b.epsilon(i)
    NameError: name 'b' is not defined
**********************************************************************
File "elementary_crystals.rst", line 100, in doc.en.thematic_tutorials.lie.elementary_crystals
Failed example:
    for i in B.index_set(): print b.phi(i)
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest doc.en.thematic_tutorials.lie.elementary_crystals[7]>", line 1, in <module>
        for i in B.index_set(): print b.phi(i)
    NameError: name 'b' is not defined
**********************************************************************
File "elementary_crystals.rst", line 103, in doc.en.thematic_tutorials.lie.elementary_crystals
Failed example:
    for i in B.index_set(): print b.f(i)
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest doc.en.thematic_tutorials.lie.elementary_crystals[8]>", line 1, in <module>
        for i in B.index_set(): print b.f(i)
    NameError: name 'b' is not defined
**********************************************************************
File "elementary_crystals.rst", line 106, in doc.en.thematic_tutorials.lie.elementary_crystals
Failed example:
    for i in B.index_set(): print b.e(i)
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest doc.en.thematic_tutorials.lie.elementary_crystals[9]>", line 1, in <module>
        for i in B.index_set(): print b.e(i)
    NameError: name 'b' is not defined
```


Anne



---

archive/issue_comments_251526.json:
```json
{
    "body": "You also don't need the print statements, but if you want to include them, you should make it Python 3 compatible by `print(x)` (just add the [trivial wrt Python 2.x] parenthesis).",
    "created_at": "2015-06-22T22:30:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251526",
    "user": "https://github.com/tscrim"
}
```

You also don't need the print statements, but if you want to include them, you should make it Python 3 compatible by `print(x)` (just add the [trivial wrt Python 2.x] parenthesis).



---

archive/issue_comments_251527.json:
```json
{
    "body": "Ahhh!  I'm sorry about that.  For some reason, I didn't realize tutorials were doctested.  In retrospect, that wasn't too bright.  Sorry for wasting your time!\n\nIn the course of doctesting, I'm noticing some unexpected results.  Some examples I could compute before upgrading to `beta5` are now failing (including the example from the R crystal section of the tutorial).  I'll keep at it and let everyone know when it is fixed.  In the meantime, I'll post the other changes.  In particular, the `infinity_crystals.rst` file is passing its tests.\n\nBest,\nBen",
    "created_at": "2015-06-22T23:14:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251527",
    "user": "https://github.com/bsalisbury1"
}
```

Ahhh!  I'm sorry about that.  For some reason, I didn't realize tutorials were doctested.  In retrospect, that wasn't too bright.  Sorry for wasting your time!

In the course of doctesting, I'm noticing some unexpected results.  Some examples I could compute before upgrading to `beta5` are now failing (including the example from the R crystal section of the tutorial).  I'll keep at it and let everyone know when it is fixed.  In the meantime, I'll post the other changes.  In particular, the `infinity_crystals.rst` file is passing its tests.

Best,
Ben



---

archive/issue_comments_251528.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-06-22T23:14:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251528",
    "user": "https://github.com/bsalisbury1"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_251529.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-22T23:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251529",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_251530.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-23T00:10:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251530",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_251531.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-06-23T00:12:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251531",
    "user": "https://github.com/bsalisbury1"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_251532.json:
```json
{
    "body": "Now I think it's ready to go!\n\n\n```\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 10.9 seconds\n    cpu time: 37.1 seconds\n    cumulative wall time: 46.2 seconds\n```\n",
    "created_at": "2015-06-23T00:12:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251532",
    "user": "https://github.com/bsalisbury1"
}
```

Now I think it's ready to go!


```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 10.9 seconds
    cpu time: 37.1 seconds
    cumulative wall time: 46.2 seconds
```




---

archive/issue_comments_251533.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-23T00:18:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251533",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_251534.json:
```json
{
    "body": "Positive review from me. Dan and Anne, any objections?",
    "created_at": "2015-06-23T00:38:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251534",
    "user": "https://github.com/tscrim"
}
```

Positive review from me. Dan and Anne, any objections?



---

archive/issue_comments_251535.json:
```json
{
    "body": "Replying to [comment:21 tscrim]:\n> Positive review from me. Dan and Anne, any objections?\n\nUnfortunately, I still get doctest failures\n\n```\nsage -t infinity_crystals.rst\n**********************************************************************\nFile \"infinity_crystals.rst\", line 98, in doc.en.thematic_tutorials.lie.infinity_crystals\nFailed example:\n    Psi = Brho.crystal_morphism({brho : binf})\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest doc.en.thematic_tutorials.lie.infinity_crystals[4]>\", line 1, in <module>\n        Psi = Brho.crystal_morphism({brho : binf})\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/crystals.py\", line 623, in crystal_morphism\n        automorphism, virtualization, scaling_factors, check)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/crystals.py\", line 2290, in __call__\n        generators, check)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/highest_weight_crystals.py\", line 570, in __init__\n        gens, check)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/crystals.py\", line 1792, in __init__\n        self._check()\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/crystals.py\", line 1845, in _check\n        raise ValueError(\"invalid crystal morphism: weights do not match\")\n    ValueError: invalid crystal morphism: weights do not match\n**********************************************************************\nFile \"infinity_crystals.rst\", line 99, in doc.en.thematic_tutorials.lie.infinity_crystals\nFailed example:\n    BG = B.digraph(subset=[Psi(x) for x in Brho])\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest doc.en.thematic_tutorials.lie.infinity_crystals[5]>\", line 1, in <module>\n        BG = B.digraph(subset=[Psi(x) for x in Brho])\n    NameError: name 'Psi' is not defined\n**********************************************************************\n1 item had failures:\n   2 of  91 in doc.en.thematic_tutorials.lie.infinity_crystals\n    [75 tests, 2 failures, 0.49 s]\n```\n",
    "created_at": "2015-06-23T02:32:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251535",
    "user": "https://github.com/anneschilling"
}
```

Replying to [comment:21 tscrim]:
> Positive review from me. Dan and Anne, any objections?

Unfortunately, I still get doctest failures

```
sage -t infinity_crystals.rst
**********************************************************************
File "infinity_crystals.rst", line 98, in doc.en.thematic_tutorials.lie.infinity_crystals
Failed example:
    Psi = Brho.crystal_morphism({brho : binf})
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest doc.en.thematic_tutorials.lie.infinity_crystals[4]>", line 1, in <module>
        Psi = Brho.crystal_morphism({brho : binf})
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/crystals.py", line 623, in crystal_morphism
        automorphism, virtualization, scaling_factors, check)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/crystals.py", line 2290, in __call__
        generators, check)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/highest_weight_crystals.py", line 570, in __init__
        gens, check)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/crystals.py", line 1792, in __init__
        self._check()
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/crystals.py", line 1845, in _check
        raise ValueError("invalid crystal morphism: weights do not match")
    ValueError: invalid crystal morphism: weights do not match
**********************************************************************
File "infinity_crystals.rst", line 99, in doc.en.thematic_tutorials.lie.infinity_crystals
Failed example:
    BG = B.digraph(subset=[Psi(x) for x in Brho])
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest doc.en.thematic_tutorials.lie.infinity_crystals[5]>", line 1, in <module>
        BG = B.digraph(subset=[Psi(x) for x in Brho])
    NameError: name 'Psi' is not defined
**********************************************************************
1 item had failures:
   2 of  91 in doc.en.thematic_tutorials.lie.infinity_crystals
    [75 tests, 2 failures, 0.49 s]
```




---

archive/issue_comments_251536.json:
```json
{
    "body": "I think you have #15463 merged in. However there is a mismatch in the weights as one has weight `\\rho` and the other has weight `0` which should be fixed.",
    "created_at": "2015-06-23T02:51:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251536",
    "user": "https://github.com/tscrim"
}
```

I think you have #15463 merged in. However there is a mismatch in the weights as one has weight `\rho` and the other has weight `0` which should be fixed.



---

archive/issue_comments_251537.json:
```json
{
    "body": "Replying to [comment:23 tscrim]:\n> I think you have #15463 merged in. However there is a mismatch in the weights as one has weight `\\rho` and the other has weight `0` which should be fixed.\n\nIn this case, the relevant tickets should be mentioned as dependencies.",
    "created_at": "2015-06-23T02:55:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251537",
    "user": "https://github.com/anneschilling"
}
```

Replying to [comment:23 tscrim]:
> I think you have #15463 merged in. However there is a mismatch in the weights as one has weight `\rho` and the other has weight `0` which should be fixed.

In this case, the relevant tickets should be mentioned as dependencies.



---

archive/issue_comments_251538.json:
```json
{
    "body": "Replying to [comment:24 aschilling]:\n> Replying to [comment:23 tscrim]:\n> > I think you have #15463 merged in. However there is a mismatch in the weights as one has weight `\\rho` and the other has weight `0` which should be fixed.\n> \n> In this case, the relevant tickets should be mentioned as dependencies.\n\nIt's not included in this branch. I think you forgot to recompile after you were looking at #15463.",
    "created_at": "2015-06-23T05:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251538",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:24 aschilling]:
> Replying to [comment:23 tscrim]:
> > I think you have #15463 merged in. However there is a mismatch in the weights as one has weight `\rho` and the other has weight `0` which should be fixed.
> 
> In this case, the relevant tickets should be mentioned as dependencies.

It's not included in this branch. I think you forgot to recompile after you were looking at #15463.



---

archive/issue_comments_251539.json:
```json
{
    "body": "Replying to [comment:25 tscrim]:\n> Replying to [comment:24 aschilling]:\n> > Replying to [comment:23 tscrim]:\n> > > I think you have #15463 merged in. However there is a mismatch in the weights as one has weight `\\rho` and the other has weight `0` which should be fixed.\n> > \n> > In this case, the relevant tickets should be mentioned as dependencies.\n> \n> It's not included in this branch. I think you forgot to recompile after you were looking at #15463.\n\nOops, yes, all tests pass for me now!",
    "created_at": "2015-06-23T06:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251539",
    "user": "https://github.com/anneschilling"
}
```

Replying to [comment:25 tscrim]:
> Replying to [comment:24 aschilling]:
> > Replying to [comment:23 tscrim]:
> > > I think you have #15463 merged in. However there is a mismatch in the weights as one has weight `\rho` and the other has weight `0` which should be fixed.
> > 
> > In this case, the relevant tickets should be mentioned as dependencies.
> 
> It's not included in this branch. I think you forgot to recompile after you were looking at #15463.

Oops, yes, all tests pass for me now!



---

archive/issue_comments_251540.json:
```json
{
    "body": "Hi Ben,\n\nI found one more typo `R\u03bc\u2212\u03bb\\otimesB(\u03bb)` in the R-crystal section. I think there is a space missing between \\otimes and B. Other than that, it looks good to me.\n\nDo you agree with Travis' comment that the weight `\\rho` versus weight 0 problem should be fixed in the example?\n\nDan, any further comments?\n\nBest,\n\nAnne",
    "created_at": "2015-06-23T18:16:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251540",
    "user": "https://github.com/anneschilling"
}
```

Hi Ben,

I found one more typo `Rμ−λ\otimesB(λ)` in the R-crystal section. I think there is a space missing between \otimes and B. Other than that, it looks good to me.

Do you agree with Travis' comment that the weight `\rho` versus weight 0 problem should be fixed in the example?

Dan, any further comments?

Best,

Anne



---

archive/issue_comments_251541.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-23T22:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251541",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_251542.json:
```json
{
    "body": "Replying to [comment:27 aschilling]:\n> I found one more typo `R\u03bc\u2212\u03bb\\otimesB(\u03bb)` in the R-crystal section. I think there is a space missing between \\otimes and B. Other than that, it looks good to me.\n> \n> Do you agree with Travis' comment that the weight `\\rho` versus weight 0 problem should be fixed in the example?\n\nBoth of these issues are now fixed.\n\nBest,\nBen",
    "created_at": "2015-06-23T22:46:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251542",
    "user": "https://github.com/bsalisbury1"
}
```

Replying to [comment:27 aschilling]:
> I found one more typo `Rμ−λ\otimesB(λ)` in the R-crystal section. I think there is a space missing between \otimes and B. Other than that, it looks good to me.
> 
> Do you agree with Travis' comment that the weight `\rho` versus weight 0 problem should be fixed in the example?

Both of these issues are now fixed.

Best,
Ben



---

archive/issue_comments_251543.json:
```json
{
    "body": "Dan, do you have any more comments?",
    "created_at": "2015-06-24T15:05:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251543",
    "user": "https://github.com/tscrim"
}
```

Dan, do you have any more comments?



---

archive/issue_comments_251544.json:
```json
{
    "body": "Ok, it looks good to me now!",
    "created_at": "2015-06-25T05:18:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251544",
    "user": "https://github.com/anneschilling"
}
```

Ok, it looks good to me now!



---

archive/issue_comments_251545.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-25T05:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251545",
    "user": "https://github.com/anneschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_251546.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-25T19:47:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18518#issuecomment-251546",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_052500.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-25T19:47:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18518",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18518#event-52500"
}
```
