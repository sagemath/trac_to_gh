# Issue 13929: No output from cell after error was expanded

Issue created by migration from https://trac.sagemath.org/ticket/14133

Original creator: ManDay

Original creation time: 2013-02-15 18:18:46

Assignee: jason, mpatel, was

CC:  chapoton

Keywords: error notebook invisible latex typeset

Reproducible (and originally noticed) on the online "alpha" server.

Under the following conditions a cell will not produce any readable ouput in the notebook. However, output produced by html( ) will still appear - but anything typesetted (including tokens inside the html( ) such as

html( "This will still be visible - $But this wont$" )

will no longer be visible and the only solution is to delete the cell alltogether:

Typeset is ON
There occurred an Error
The error was "expanded" into details by clicking left of it
The error was fixed

Reproduce like that:
Enable Typeset. In a cell, type

k+;
5

Press Shift-Enter - an Error will appear. Expand the error by clicking left of it. Delete the "k+;" line, press Shift-Enter again - no output will appear.


---

Comment by kcrisman created at 2013-02-16 23:51:23

Can you try this on a more recent server to see if the instructions still would work to do this?  The server was updated quite a bit since alpha, which is (perhaps ironically) no longer anywhere near cutting edge.  Unfortunately, sagenb.org is also only at Sage 5.4, though we should be at 5.6 and 5.7 is nearly released...


---

Comment by ManDay created at 2013-02-17 09:46:34

I'd try it on the Online server (alpha) right away, if someone manages to update that to... alpha... 5.6 that is ;)


---

Comment by ppurka created at 2013-02-18 16:30:30

Strictly speaking, this is not an error. The output of a cell has three levels of output - let's call them _default_, _verbose_ and _hidden_. The first level is the default. When there is no typeset output, the whole output is present in the default and in the verbose level. The output in the verbose level is what you get when you click on the left to show extra output when some error happens. If you click it once more you will cycle back to the hidden level. So, essentially it is cycle like this:

```
default -> [click] -> verbose -> [click] -> hidden -> [click] -> default
```


When the output is typeset, the whole output is present in only the first level - _this might be a bug,_ since I think the second level is for the verbose output and it should include whatever is in the default first level.

So, if we follow your steps to reproduce this "bug", we will do this
1. Turn on Typeset.
2. Type `k+; 5` in a cell and evaluate
3. Click on left of the output to show verbose output
4. Remove `k+;` and evaluate
5. There is no output since we are in the verbose level and for some reason the verbose output is empty when Typeset is on, so we will click to the left of what should have been the output, but we click twice.
6. We will see the typeset 5 in the output.


---

Comment by ppurka created at 2013-02-19 02:29:00

[Reported upstream](https://github.com/sagemath/sagenb/issues/134)


---

Comment by mkoeppe created at 2020-08-18 00:36:52

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-08-18 00:36:52

Proposing to close all sagenb tickets as outdated, so that all remaining open tickets in the notebook component are about the Jupyter notebook.


---

Comment by chapoton created at 2020-09-10 06:17:26

Resolution: invalid
