# Issue 24401: Fix OpenBLAS build on SPARC

Issue created by migration from https://trac.sagemath.org/ticket/24638

Original creator: jdemeyer

Original creation time: 2018-02-01 12:06:48

*Upstream*: https://github.com/xianyi/OpenBLAS/pull/1443


---

Comment by jdemeyer created at 2018-02-01 12:13:37

New commits:


---

Comment by jdemeyer created at 2018-02-01 12:13:37

Changing status from new to needs_review.


---

Comment by dimpase created at 2018-02-01 13:22:06

looks good to me.


---

Comment by dimpase created at 2018-02-01 13:22:06

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2018-02-01 16:31:30

Still fails to build because of a different error:

```
openblas_get_config.c:58:3: error: expected ',' or ';' before 'CHAR_CORENAME'
   CHAR_CORENAME
   ^
openblas_get_config.c: In function 'openblas_get_corename':
openblas_get_config.c:81:10: error: 'CHAR_CORENAME' undeclared (first use in this function)
   return CHAR_CORENAME;
          ^
openblas_get_config.c:81:10: note: each undeclared identifier is reported only once for each function it appears in
openblas_get_config.c:85:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
make[3]: *** [Makefile:113: openblas_get_config.o] Error 1
```



---

Comment by jdemeyer created at 2018-02-01 16:31:30

Changing status from positive_review to needs_work.


---

Comment by git created at 2018-02-01 19:46:16

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2018-02-01 19:47:40

Changing status from needs_work to needs_review.


---

Comment by git created at 2018-02-01 20:34:01

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2018-02-02 06:14:43

This now actually works.


---

Comment by dimpase created at 2018-02-02 09:15:51

I will test it in due course, I'd proceed with the Atlas build for the time being.


---

Comment by dimpase created at 2018-02-15 14:16:07

This builds with gcc 7.2 on Solaris. Needs testing, still.


---

Comment by dimpase created at 2018-03-31 19:43:54

Looks good to go.


---

Comment by dimpase created at 2018-03-31 19:43:54

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-05-08 17:26:29

Resolution: fixed
