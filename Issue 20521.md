# Issue 20521: Simplicial complexes: keep the __enlarged cache in add_face

archive/issues_020521.json:
```json
{
    "body": "CC:  @tscrim\n\nThe `add_face` method currently deletes the ``__enlarged`` cache, but this is unnecessary.\n\nIssue created by migration from https://trac.sagemath.org/ticket/20758\n\n",
    "created_at": "2016-06-02T10:07:02Z",
    "labels": [
        "component: algebraic topology",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Simplicial complexes: keep the __enlarged cache in add_face",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20521",
    "user": "https://github.com/jhpalmieri"
}
```
CC:  @tscrim

The `add_face` method currently deletes the ``__enlarged`` cache, but this is unnecessary.

Issue created by migration from https://trac.sagemath.org/ticket/20758





---

archive/issue_comments_283069.json:
```json
{
    "body": "The `_faces` cache was also not treated properly, in both `add_face` and `remove_face`. For `add_face`, for example, you can see this if instead of the change here, you just delete the line `self.__enlarged = {`}: a doctest will fail because of an incorrect homology calculation, because of the wrong cached value for `_faces`.\n----\nNew commits:",
    "created_at": "2016-06-02T11:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283069",
    "user": "https://github.com/jhpalmieri"
}
```

The `_faces` cache was also not treated properly, in both `add_face` and `remove_face`. For `add_face`, for example, you can see this if instead of the change here, you just delete the line `self.__enlarged = {`}: a doctest will fail because of an incorrect homology calculation, because of the wrong cached value for `_faces`.
----
New commits:



---

archive/issue_comments_283070.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-06-02T11:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283070",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_283071.json:
```json
{
    "body": "Changing keywords from \"\" to \"days74\".",
    "created_at": "2016-06-02T12:11:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283071",
    "user": "https://github.com/jhpalmieri"
}
```

Changing keywords from "" to "days74".



---

archive/issue_comments_283072.json:
```json
{
    "body": "If you're okay with my changes, then you can set a positive review.\n----\nNew commits:",
    "created_at": "2016-06-02T12:53:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283072",
    "user": "https://github.com/tscrim"
}
```

If you're okay with my changes, then you can set a positive review.
----
New commits:



---

archive/issue_comments_283073.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-06-02T13:16:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283073",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_283074.json:
```json
{
    "body": "Looks good.",
    "created_at": "2016-06-02T13:16:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283074",
    "user": "https://github.com/jhpalmieri"
}
```

Looks good.



---

archive/issue_comments_283075.json:
```json
{
    "body": "\n```\nsage -t --long src/sage/homology/simplicial_complex.py\n**********************************************************************\nFile \"src/sage/homology/simplicial_complex.py\", line 2606, in sage.homology.simplicial_complex.SimplicialComplex.remove_face\nFailed example:\n    T.remove_face((1,2,3))\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 498, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 861, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.homology.simplicial_complex.SimplicialComplex.remove_face[12]>\", line 1, in <module>\n        T.remove_face((Integer(1),Integer(2),Integer(3)))\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/homology/simplicial_complex.py\", line 2659, in remove_face\n        if L is None or Simplex(face) not in L:\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/homology/simplicial_complex.py\", line 1204, in __contains__\n        return x in self.faces()[dim]\n    KeyError: 2\n**********************************************************************\nFile \"src/sage/homology/simplicial_complex.py\", line 2607, in sage.homology.simplicial_complex.SimplicialComplex.remove_face\nFailed example:\n    len(T._faces)\nExpected:\n    2\nGot:\n    1\n**********************************************************************\n1 item had failures:\n   2 of  17 in sage.homology.simplicial_complex.SimplicialComplex.remove_face\n    [581 tests, 2 failures, 10.66 s]\nsage -t --long src/sage/interfaces/interface.py\n```\n",
    "created_at": "2016-06-03T21:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283075",
    "user": "https://github.com/vbraun"
}
```


```
sage -t --long src/sage/homology/simplicial_complex.py
**********************************************************************
File "src/sage/homology/simplicial_complex.py", line 2606, in sage.homology.simplicial_complex.SimplicialComplex.remove_face
Failed example:
    T.remove_face((1,2,3))
Exception raised:
    Traceback (most recent call last):
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 498, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 861, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.homology.simplicial_complex.SimplicialComplex.remove_face[12]>", line 1, in <module>
        T.remove_face((Integer(1),Integer(2),Integer(3)))
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/homology/simplicial_complex.py", line 2659, in remove_face
        if L is None or Simplex(face) not in L:
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/homology/simplicial_complex.py", line 1204, in __contains__
        return x in self.faces()[dim]
    KeyError: 2
**********************************************************************
File "src/sage/homology/simplicial_complex.py", line 2607, in sage.homology.simplicial_complex.SimplicialComplex.remove_face
Failed example:
    len(T._faces)
Expected:
    2
Got:
    1
**********************************************************************
1 item had failures:
   2 of  17 in sage.homology.simplicial_complex.SimplicialComplex.remove_face
    [581 tests, 2 failures, 10.66 s]
sage -t --long src/sage/interfaces/interface.py
```




---

archive/issue_comments_283076.json:
```json
{
    "body": "This is fallout from #20718: in that ticket, we changed from using `self.n_faces(dim)` to using `self.faces()[dim]`, but the former allows values of `dim` greater than the dimension of the complex: it just returns the empty set in that case. So we can continue with the philosophy in #20718, that we want to avoid `n_faces`, or we can restore its use in some cases. The fix is easy either way, we just need to decide what to do. For example, in keeping with the philosophy there:\n\n```diff\ndiff --git a/src/sage/homology/simplicial_complex.py b/src/sage/homology/simplicial_complex.py\nindex fefc90e..1a6cca7 100644\n--- a/src/sage/homology/simplicial_complex.py\n+++ b/src/sage/homology/simplicial_complex.py\n@@ -1199,7 +1199,7 @@ class SimplicialComplex(Parent, GenericCellComplex):\n         if not isinstance(x, Simplex):\n             return False\n         dim = x.dimension()\n-        return x in self.faces()[dim]\n+        return dim in self.faces() and x in self.faces()[dim]\n \n     def __call__(self, simplex):\n         \"\"\"\n@@ -1527,9 +1527,11 @@ class SimplicialComplex(Parent, GenericCellComplex):\n             ...\n             ValueError: this simplex is not in this simplicial complex\n         \"\"\"\n-        if not simplex in self.faces()[simplex.dimension()]:\n+        d = simplex.dimension()\n+        if d in self.faces() and simplex in self.faces()[d]:\n+            return simplex.face(i)\n+        else:\n             raise ValueError('this simplex is not in this simplicial complex')\n-        return simplex.face(i)\n \n     def flip_graph(self):\n         \"\"\"\n@@ -3220,7 +3222,11 @@ class SimplicialComplex(Parent, GenericCellComplex):\n             sage: X.set_immutable()\n             sage: X.n_skeleton(2)\n             Simplicial complex with vertex set (0, 1, 2, 3) and facets {(0, 2, 3), (1, 2, 3), (0, 1)}\n+            sage: X.n_skeleton(4)\n+            Simplicial complex with vertex set (0, 1, 2, 3) and facets {(0, 2, 3), (1, 2, 3), (0, 1)}\n         \"\"\"\n+        if n >= self.dimension():\n+            return self\n         # make sure it's a list (it will be a tuple if immutable)\n         facets = [f for f in self._facets if f.dimension() < n]\n         facets.extend(self.faces()[n])\n```\n",
    "created_at": "2016-06-04T02:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283076",
    "user": "https://github.com/jhpalmieri"
}
```

This is fallout from #20718: in that ticket, we changed from using `self.n_faces(dim)` to using `self.faces()[dim]`, but the former allows values of `dim` greater than the dimension of the complex: it just returns the empty set in that case. So we can continue with the philosophy in #20718, that we want to avoid `n_faces`, or we can restore its use in some cases. The fix is easy either way, we just need to decide what to do. For example, in keeping with the philosophy there:

```diff
diff --git a/src/sage/homology/simplicial_complex.py b/src/sage/homology/simplicial_complex.py
index fefc90e..1a6cca7 100644
--- a/src/sage/homology/simplicial_complex.py
+++ b/src/sage/homology/simplicial_complex.py
@@ -1199,7 +1199,7 @@ class SimplicialComplex(Parent, GenericCellComplex):
         if not isinstance(x, Simplex):
             return False
         dim = x.dimension()
-        return x in self.faces()[dim]
+        return dim in self.faces() and x in self.faces()[dim]
 
     def __call__(self, simplex):
         """
@@ -1527,9 +1527,11 @@ class SimplicialComplex(Parent, GenericCellComplex):
             ...
             ValueError: this simplex is not in this simplicial complex
         """
-        if not simplex in self.faces()[simplex.dimension()]:
+        d = simplex.dimension()
+        if d in self.faces() and simplex in self.faces()[d]:
+            return simplex.face(i)
+        else:
             raise ValueError('this simplex is not in this simplicial complex')
-        return simplex.face(i)
 
     def flip_graph(self):
         """
@@ -3220,7 +3222,11 @@ class SimplicialComplex(Parent, GenericCellComplex):
             sage: X.set_immutable()
             sage: X.n_skeleton(2)
             Simplicial complex with vertex set (0, 1, 2, 3) and facets {(0, 2, 3), (1, 2, 3), (0, 1)}
+            sage: X.n_skeleton(4)
+            Simplicial complex with vertex set (0, 1, 2, 3) and facets {(0, 2, 3), (1, 2, 3), (0, 1)}
         """
+        if n >= self.dimension():
+            return self
         # make sure it's a list (it will be a tuple if immutable)
         facets = [f for f in self._facets if f.dimension() < n]
         facets.extend(self.faces()[n])
```




---

archive/issue_comments_283077.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-06-04T02:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283077",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_283078.json:
```json
{
    "body": "I would say let us use `self.faces()[dim]` to continue to avoid using `n_faces` (the more we scrub it from the code, it is less likely that anyone will use it in the future [in the code]).",
    "created_at": "2016-06-04T06:42:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283078",
    "user": "https://github.com/tscrim"
}
```

I would say let us use `self.faces()[dim]` to continue to avoid using `n_faces` (the more we scrub it from the code, it is less likely that anyone will use it in the future [in the code]).



---

archive/issue_comments_283079.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-06-04T14:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283079",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_283080.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-06-04T14:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283080",
    "user": "https://github.com/jhpalmieri"
}
```

New commits:



---

archive/issue_comments_283081.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-06-04T18:59:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283081",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_283082.json:
```json
{
    "body": "\n```\nsage -t --long src/sage/homology/simplicial_complex.py\n**********************************************************************\nFile \"src/sage/homology/simplicial_complex.py\", line 2606, in sage.homology.simplicial_complex.SimplicialComplex.remove_face\nFailed example:\n    T.remove_face((1,2,3))\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 498, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 861, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.homology.simplicial_complex.SimplicialComplex.remove_face[12]>\", line 1, in <module>\n        T.remove_face((Integer(1),Integer(2),Integer(3)))\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/homology/simplicial_complex.py\", line 2659, in remove_face\n        if L is None or Simplex(face) not in L:\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/homology/simplicial_complex.py\", line 1204, in __contains__\n        return x in self.faces()[dim]\n    KeyError: 2\n**********************************************************************\nFile \"src/sage/homology/simplicial_complex.py\", line 2607, in sage.homology.simplicial_complex.SimplicialComplex.remove_face\nFailed example:\n    len(T._faces)\nExpected:\n    2\nGot:\n    1\n**********************************************************************\n1 item had failures:\n   2 of  17 in sage.homology.simplicial_complex.SimplicialComplex.remove_face\n    [581 tests, 2 failures, 6.66 s]\n```\n",
    "created_at": "2016-06-04T18:59:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283082",
    "user": "https://github.com/vbraun"
}
```


```
sage -t --long src/sage/homology/simplicial_complex.py
**********************************************************************
File "src/sage/homology/simplicial_complex.py", line 2606, in sage.homology.simplicial_complex.SimplicialComplex.remove_face
Failed example:
    T.remove_face((1,2,3))
Exception raised:
    Traceback (most recent call last):
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 498, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 861, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.homology.simplicial_complex.SimplicialComplex.remove_face[12]>", line 1, in <module>
        T.remove_face((Integer(1),Integer(2),Integer(3)))
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/homology/simplicial_complex.py", line 2659, in remove_face
        if L is None or Simplex(face) not in L:
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/homology/simplicial_complex.py", line 1204, in __contains__
        return x in self.faces()[dim]
    KeyError: 2
**********************************************************************
File "src/sage/homology/simplicial_complex.py", line 2607, in sage.homology.simplicial_complex.SimplicialComplex.remove_face
Failed example:
    len(T._faces)
Expected:
    2
Got:
    1
**********************************************************************
1 item had failures:
   2 of  17 in sage.homology.simplicial_complex.SimplicialComplex.remove_face
    [581 tests, 2 failures, 6.66 s]
```




---

archive/issue_comments_283083.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-06-04T20:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283083",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_283084.json:
```json
{
    "body": "I don't understand this error. With my branch, there is no line in the entire Sage source tree matching `return x in self.faces()[dim]`. The most recent changes one line (and I think the relevant line, from the `__contains__` method) to\n\n```\nreturn dim in self.faces() and x in self.faces()[dim]\n```\n\nso this error should not happen.\n\nAll tests pass for me. I started over, checking out the branch all over again, and all tests still pass.",
    "created_at": "2016-06-04T20:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283084",
    "user": "https://github.com/jhpalmieri"
}
```

I don't understand this error. With my branch, there is no line in the entire Sage source tree matching `return x in self.faces()[dim]`. The most recent changes one line (and I think the relevant line, from the `__contains__` method) to

```
return dim in self.faces() and x in self.faces()[dim]
```

so this error should not happen.

All tests pass for me. I started over, checking out the branch all over again, and all tests still pass.



---

archive/issue_comments_283085.json:
```json
{
    "body": "Well you wrote that in #20718 ;-)\n\njust wait for the next beta and merge it in, easy.",
    "created_at": "2016-06-04T20:30:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283085",
    "user": "https://github.com/vbraun"
}
```

Well you wrote that in #20718 ;-)

just wait for the next beta and merge it in, easy.



---

archive/issue_comments_283086.json:
```json
{
    "body": "Replying to [comment:12 vbraun]:\n> Well you wrote that in #20718 ;-)\n\nRight, and then changed it in the most recent commit on this ticket ([c7bdbcf](http://git.sagemath.org/sage.git/commit/?id=c7bdbcf797859670d9bcb0ce29c7692ea0832f2d)).",
    "created_at": "2016-06-04T20:43:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283086",
    "user": "https://github.com/jhpalmieri"
}
```

Replying to [comment:12 vbraun]:
> Well you wrote that in #20718 ;-)

Right, and then changed it in the most recent commit on this ticket ([c7bdbcf](http://git.sagemath.org/sage.git/commit/?id=c7bdbcf797859670d9bcb0ce29c7692ea0832f2d)).



---

archive/issue_comments_283087.json:
```json
{
    "body": "Which is why you shouldn't switch positively reviewed tickets back and forth...",
    "created_at": "2016-06-04T20:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283087",
    "user": "https://github.com/vbraun"
}
```

Which is why you shouldn't switch positively reviewed tickets back and forth...



---

archive/issue_comments_283088.json:
```json
{
    "body": "I'm really confused now. You posted a doctest failure here, so I thought it was basically required to undo the positive review. Should I have left it as a positive review?",
    "created_at": "2016-06-04T21:40:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283088",
    "user": "https://github.com/jhpalmieri"
}
```

I'm really confused now. You posted a doctest failure here, so I thought it was basically required to undo the positive review. Should I have left it as a positive review?



---

archive/issue_comments_283089.json:
```json
{
    "body": "If its fixed then set it back to positive review. \n\nIf you want to avoid the confusion then don't go back after positive review. If it doesn't work then I'll tell you. Now you merged in #20718 but there is no guarantee that that ticket will even be in the next beta. Its likely but it might still get unmerged.",
    "created_at": "2016-06-05T01:05:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283089",
    "user": "https://github.com/vbraun"
}
```

If its fixed then set it back to positive review. 

If you want to avoid the confusion then don't go back after positive review. If it doesn't work then I'll tell you. Now you merged in #20718 but there is no guarantee that that ticket will even be in the next beta. Its likely but it might still get unmerged.



---

archive/issue_comments_283090.json:
```json
{
    "body": "Just to be clear: I tested the branch from back when it was \"positive review\".",
    "created_at": "2016-06-05T01:16:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283090",
    "user": "https://github.com/vbraun"
}
```

Just to be clear: I tested the branch from back when it was "positive review".



---

archive/issue_comments_283091.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-06-05T13:02:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283091",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_019484.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2016-06-08T12:29:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20521#event-19484"
}
```



---

archive/issue_comments_283092.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-06-08T12:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20521",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20521#issuecomment-283092",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
