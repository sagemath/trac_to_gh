# Issue 14624: Slope factorisation of polynomials over padics

Issue created by migration from Trac.

Original creator: caruso

Original creation time: 2013-06-26 12:24:24

Assignee: roed

CC:  defeo

Keywords: polynomials, padics

This patch implements some useful functions (actually, essentialy, slope factorisation) for polynomials over padics.

Note: I don't know what is exactly the current status of ticket #6084 (David, are you still working on it?). Are there a conflit between these two tickets?


---

Comment by caruso created at 2013-06-26 12:27:51

Changing status from new to needs_review.


---

Comment by roed created at 2013-07-08 14:19:44

I've basically abandoned the code at #6084, but I would like to extract pieces of it into other tickets.  I'll try to take a look at this ticket once its prerequisites are fixed and see if I can extract anything useful from #6084 to add here.  You have a different approach to polynomials with unknown degree here.  I think I like it better than what I was doing, but I need to think about it a bit.


---

Attachment

I updated my patch so that it fits with #14826 (many modifications made there).


---

Comment by chapoton created at 2013-08-25 09:57:36

Hello,

maybe it would be a good idea to close first the simpler ticket #6667 ?

I have made there a patch which is rather "local" but also careless about precision issues.

I see that here you are changing the behaviour of the general Newton polygon, which I would prefer to avoid. 

What would you think of trying to use for #6667 a mixture of my patch there and the part of your patch here dealing with that ?


---

Comment by caruso created at 2013-08-25 20:28:24

I agree with all your remarks.

I just do not understand the sense of "you are changing the behaviour of the general Newton polygon". Do you mean that I'm doing some changes in the class `NewtonPolygon`. If so, I still believe that it's better to do this way because it really makes sense to create a Newton polygon by giving the list of all valuations of the underlying polynomial (and these valuations may be infinite). Actually, I should have put this modification in #14826 but this ticket is already closed.


---

Comment by chapoton created at 2013-08-26 07:42:24

It seems that the NewtonPolygon class is not doing what I would have expected. It gives

```
sage: NP = NewtonPolygon([ (0,0), (1,45), (3,6) ]); NP
Finite Newton polygon with 2 vertices: (0, 0), (3, 6)
```

So it is implicitely assuming that the polytope is rather a kind of "lower envelope". In my opinion, the doc needs to be enhanced, with more explanations and a link to the newton_polytope method below.

Compare to

```
sage: x,y=polygen(QQ,'x, y')
sage: p = 1 + x*y**45 + x**3*y**6
sage: p.newton_polytope()
A 2-dimensional polyhedron in ZZ^2 defined as the convex hull of 3 vertices
sage: p.newton_polytope().vertices()
(A vertex at (0, 0), A vertex at (1, 45), A vertex at (3, 6))
```

which is for me the expected behavior.

Anyway, I still think that this has rather to be solved in #6667.


---

Comment by caruso created at 2013-08-27 08:09:23

Replying to [comment:6 chapoton]:
> Anyway, I still think that this has rather to be solved in #6667.

I agree. I nevertheless prefer my patch than yours because it basically deals with precision issues.
Hence, I've extracted the relevant parts of my patch and submitted them to ticket #6667 (and I've also taken into account your remarks). If you are happy with this solution, please give a positive review to #6667 so that we can close this ticket.


---

Comment by saraedum created at 2013-09-02 13:03:04

Changing keywords from "polynomials, padics" to "polynomials, padics, sd52".


---

Comment by defeo created at 2013-09-04 17:49:39

The mercurial patch conflicted with 5.12-beta4.

I manually solved the conflicts. It seems it passes doctests, but I'll feel much more confident if Xavier reviews the new branch.


---

Comment by defeo created at 2013-09-04 21:27:34

I spoke too fast. I have the following failures


```
sage -t src/sage/schemes/hyperelliptic_curves/hyperelliptic_padic_field.py  # 3 doctests failed
sage -t src/sage/schemes/elliptic_curves/padic_lseries.py  # 1 doctest failed
sage -t src/sage/misc/classgraph.py  # 3 doctests failed
sage -t src/sage/rings/padics/pow_computer_ext.pyx  # 1 doctest failed
```


(plus others that look unrelated).


---

Comment by chapoton created at 2013-09-05 15:51:42

It would be better to have #6667 as a dependency, in my humble opinion. The patch in #6667 looks good, but the patchbot has not checked it yet.


---

Comment by git created at 2014-05-11 20:04:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2014-06-23 05:21:18

I had a quick lock at this. It seems that many methods/classes lack doctests or docstrings at all. I hope you don't mind that I set this back to needs_work.


---

Comment by saraedum created at 2014-06-23 05:21:18

Changing status from needs_review to needs_work.


---

Comment by git created at 2014-06-30 19:44:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-06-30 20:09:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2014-07-19 18:24:51

Several things are needed :

* add doc to `quo_rem` and `factor_mod`
* add one-line description at the beginning of several functions


---

Comment by git created at 2014-10-26 17:24:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-02-08 19:20:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2015-02-13 09:48:08

This branch is doing too many things unrelated to the topic of the ticket. I think the changes involving categories and the doctest clean-up should be separated in new tickets.


---

Comment by git created at 2015-08-31 18:50:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-09-01 09:16:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-11-06 13:15:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-03-22 14:44:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-03-23 17:06:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-03-23 17:25:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2016-03-23 17:34:34

I remind you of [comment:28]. Doing three unrelated things in one branch is not good practice.


---

Comment by caruso created at 2016-03-23 17:43:43

Yes, thanks for the remainder. I'll try to split my ticket.


---

Comment by saraedum created at 2016-03-23 17:57:52

I believe that if the authors can find a reviewer then it stay in one ticket. It is not pretty. But it is probably not worth splitting it just for the sake of it.


---

Comment by jdemeyer created at 2016-03-23 18:01:11

Replying to [comment:39 saraedum]:
> I believe that if the authors can find a reviewer then it stay in one ticket.

True, but you might find it easier to find reviewers if you split it up.

> But it is probably not worth splitting it just for the sake of it.

That's certainly true, but I don't think it is splitting "just for the sake of it". Besides potentially easier reviewing, there is also less chances of conflicts or breakage with smaller tickets.


---

Comment by saraedum created at 2016-03-23 23:54:51

Xavier, I volunteer to review this if you want to set it back to needs review.


---

Comment by saraedum created at 2016-03-24 02:22:58

Changing keywords from "polynomials, padics, sd52" to "polynomials, padics, sd52, days71".


---

Comment by maurimo created at 2016-03-24 17:35:21

Replying to [comment:41 saraedum]:
> Xavier, I volunteer to review this if you want to set it back to needs review.

Already reviewed during Sage Days 71, I communicated directly with Xavier about all issues that needed to be fixed.


---

Comment by maurimo created at 2016-03-24 17:39:11

All required wark has been done, so I will mark it as positive_review.


---

Comment by maurimo created at 2016-03-24 17:39:50

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2016-03-24 23:37:49

Merge conflict, please fix


---

Comment by vbraun created at 2016-03-24 23:37:49

Changing status from positive_review to needs_work.


---

Comment by git created at 2016-03-25 05:12:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by caruso created at 2016-03-25 05:14:41

Changing status from needs_work to needs_review.


---

Comment by caruso created at 2016-03-25 05:14:41

This should be fixed (hopefully).


---

Comment by chapoton created at 2016-03-26 19:45:37

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2016-03-26 19:45:37

several failing doctests, see patchbot report


---

Comment by git created at 2016-03-27 21:34:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by caruso created at 2016-03-27 21:35:34

This should be fixed.


---

Comment by caruso created at 2016-03-27 21:35:34

Changing status from needs_work to needs_review.


---

Comment by saraedum created at 2016-04-01 00:02:29

It seems your last change remove the implementation of `content()`.


---

Comment by saraedum created at 2016-04-01 00:02:29

Changing status from needs_review to needs_work.


---

Comment by caruso created at 2016-04-01 22:46:45

Well, I removed it from `sage.rings.polynomial.padic.polynomial_padic_capped_relative_dense` but the generic implementation in `sage.rings.polynomial.padic.polynomial_padic` is still there. And it works!


---

Comment by saraedum created at 2016-04-01 22:57:03

Changing status from needs_work to positive_review.


---

Comment by saraedum created at 2016-04-01 22:57:03

Fine then :)


---

Comment by vbraun created at 2016-04-02 20:56:04

Resolution: fixed
