# Issue 30613: No Future

archive/issues_030613.json:
```json
{
    "body": "CC:  @fchapoton @mkoeppe @slel\n\nThe `__future__` import statements were part of the Python2-to-Python3 migration scaffolding. Since it is unlikely we will move back to supporting Python 2, we should remove those.\n\nIn order not to interfere with #30627, the `__future__` import statements of `SAGE_ROOT/build/` are not removed.\n\nIssue created by migration from https://trac.sagemath.org/ticket/30850\n\n",
    "created_at": "2020-11-02T10:30:30Z",
    "labels": [
        "python3",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "No Future",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30613",
    "user": "tmonteil"
}
```
CC:  @fchapoton @mkoeppe @slel

The `__future__` import statements were part of the Python2-to-Python3 migration scaffolding. Since it is unlikely we will move back to supporting Python 2, we should remove those.

In order not to interfere with #30627, the `__future__` import statements of `SAGE_ROOT/build/` are not removed.

Issue created by migration from https://trac.sagemath.org/ticket/30850





---

archive/issue_comments_437600.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-11-02T12:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437600",
    "user": "tmonteil"
}
```

New commits:



---

archive/issue_comments_437601.json:
```json
{
    "body": "Doctests pass on my computer, let us see if patchbots can handle it without rebuilding `psutil` and `sympy`.",
    "created_at": "2020-11-02T15:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437601",
    "user": "tmonteil"
}
```

Doctests pass on my computer, let us see if patchbots can handle it without rebuilding `psutil` and `sympy`.



---

archive/issue_comments_437602.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-11-02T15:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437602",
    "user": "tmonteil"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_437603.json:
```json
{
    "body": "patchbot will not run, because this is \"unsafe\" (changes outside of src/sage)",
    "created_at": "2020-11-02T17:07:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437603",
    "user": "@fchapoton"
}
```

patchbot will not run, because this is "unsafe" (changes outside of src/sage)



---

archive/issue_comments_437604.json:
```json
{
    "body": "OK i see.",
    "created_at": "2020-11-02T17:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437604",
    "user": "tmonteil"
}
```

OK i see.



---

archive/issue_comments_437605.json:
```json
{
    "body": "maybe there is a way to use github actions to test this ticket ?",
    "created_at": "2020-11-02T18:57:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437605",
    "user": "@fchapoton"
}
```

maybe there is a way to use github actions to test this ticket ?



---

archive/issue_comments_437606.json:
```json
{
    "body": "Yes, you set a tag and push the tag to a [GitHub](GitHub) repository.",
    "created_at": "2020-11-02T19:10:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437606",
    "user": "@mkoeppe"
}
```

Yes, you set a tag and push the tag to a [GitHub](GitHub) repository.



---

archive/issue_comments_437607.json:
```json
{
    "body": "All tests pass for me on OS X 10.15.7, using a system installation of Python 3.8.6.",
    "created_at": "2020-11-02T21:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437607",
    "user": "@jhpalmieri"
}
```

All tests pass for me on OS X 10.15.7, using a system installation of Python 3.8.6.



---

archive/issue_comments_437608.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-11-10T14:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437608",
    "user": "@fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_437609.json:
```json
{
    "body": "does not apply on the latest beta => needs work",
    "created_at": "2020-11-10T14:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437609",
    "user": "@fchapoton"
}
```

does not apply on the latest beta => needs work



---

archive/issue_comments_437610.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-10T15:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437610",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437611.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-11-10T15:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437611",
    "user": "tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_437612.json:
```json
{
    "body": "Merge done.",
    "created_at": "2020-11-10T15:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437612",
    "user": "tmonteil"
}
```

Merge done.



---

archive/issue_comments_437613.json:
```json
{
    "body": "I would suggest to make here only the changes in src/sage/ and keep the rest for another ticket. This would allow the patchbots to run.",
    "created_at": "2020-11-10T15:55:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437613",
    "user": "@fchapoton"
}
```

I would suggest to make here only the changes in src/sage/ and keep the rest for another ticket. This would allow the patchbots to run.



---

archive/issue_comments_437614.json:
```json
{
    "body": "Running all the doctests with `-p 4` takes less than an hour on a laptop. I just did it.",
    "created_at": "2020-11-11T15:38:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437614",
    "user": "tmonteil"
}
```

Running all the doctests with `-p 4` takes less than an hour on a laptop. I just did it.



---

archive/issue_comments_437615.json:
```json
{
    "body": "I suggest not changing `src/bin/sage-preparse`, in case users have files with `from future import ...` in them: we should still handle such lines correctly.",
    "created_at": "2020-11-12T00:29:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437615",
    "user": "@jhpalmieri"
}
```

I suggest not changing `src/bin/sage-preparse`, in case users have files with `from future import ...` in them: we should still handle such lines correctly.



---

archive/issue_comments_437616.json:
```json
{
    "body": "#29355 removes `src/bin/sage-pypkg-location` and #30867 removes `src/mac-app`. By merging now you can avoid later merge conflicts",
    "created_at": "2020-11-12T00:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437616",
    "user": "@mkoeppe"
}
```

#29355 removes `src/bin/sage-pypkg-location` and #30867 removes `src/mac-app`. By merging now you can avoid later merge conflicts



---

archive/issue_comments_437617.json:
```json
{
    "body": "Likewise, #30846 moves `src/bin/sage-list-packages`",
    "created_at": "2020-11-12T00:41:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437617",
    "user": "@mkoeppe"
}
```

Likewise, #30846 moves `src/bin/sage-list-packages`



---

archive/issue_comments_437618.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-11-17T19:22:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437618",
    "user": "@mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_437619.json:
```json
{
    "body": "Replying to [comment:15 jhpalmieri]:\n> I suggest not changing `src/bin/sage-preparse`, in case users have files with `from future import ...` in them: we should still handle such lines correctly.\n\nIndeed, and moreover also the 3.x series is introducing more `__future__` features, for example `from __future__ import annotations`: https://docs.python.org/3/library/__future__.html",
    "created_at": "2020-11-17T19:22:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437619",
    "user": "@mkoeppe"
}
```

Replying to [comment:15 jhpalmieri]:
> I suggest not changing `src/bin/sage-preparse`, in case users have files with `from future import ...` in them: we should still handle such lines correctly.

Indeed, and moreover also the 3.x series is introducing more `__future__` features, for example `from __future__ import annotations`: https://docs.python.org/3/library/__future__.html



---

archive/issue_comments_437620.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-11-20T12:08:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437620",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_437621.json:
```json
{
    "body": "The current branch only touches files within `SAGE_ROOT/src/sage/`.",
    "created_at": "2020-11-20T12:09:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437621",
    "user": "tmonteil"
}
```

The current branch only touches files within `SAGE_ROOT/src/sage/`.



---

archive/issue_comments_437622.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-11-20T12:09:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437622",
    "user": "tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_437623.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-11-20T18:12:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437623",
    "user": "@mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_437624.json:
```json
{
    "body": "Merge conflict",
    "created_at": "2020-11-24T23:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437624",
    "user": "@vbraun"
}
```

Merge conflict



---

archive/issue_comments_437625.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-11-24T23:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437625",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_437626.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-11-24T23:45:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437626",
    "user": "@mkoeppe"
}
```

New commits:



---

archive/issue_comments_437627.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2020-11-24T23:45:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437627",
    "user": "@mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_437628.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-12-05T22:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30613#issuecomment-437628",
    "user": "@vbraun"
}
```

Resolution: fixed
