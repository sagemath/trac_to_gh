# Issue 24349: packges whose type is "script" must have executable spkg-install

archive/issues_024349.json:
```json
{
    "body": "CC:  embray\n\nIt is all in the title. Fixed for `r_jupyter` in #24585, `pyopenssl` is OK, `texlive` remains:\n\n\n```\nsage -i texlive\n\n[...]\n\ncd '/opt/sagemath/sage-source' && \\\n    source '/opt/sagemath/sage-source/src/bin/sage-env' && \\\n    sage-logger -p '/opt/sagemath/sage-source/build/pkgs/texlive/spkg-install' /opt/sagemath/sage-source/logs/pkgs/texlive.log\n[texlive] /opt/sagemath/sage-source/build/bin/sage-logger: line 89: /opt/sagemath/sage-source/build/pkgs/texlive/spkg-install: Permission denied\nMakefile:2984: recipe for target 'texlive' failed\n```\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/24586\n\n",
    "created_at": "2018-01-22T23:24:20Z",
    "labels": [
        "packages: optional",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "packges whose type is \"script\" must have executable spkg-install",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24349",
    "user": "tmonteil"
}
```
CC:  embray

It is all in the title. Fixed for `r_jupyter` in #24585, `pyopenssl` is OK, `texlive` remains:


```
sage -i texlive

[...]

cd '/opt/sagemath/sage-source' && \
    source '/opt/sagemath/sage-source/src/bin/sage-env' && \
    sage-logger -p '/opt/sagemath/sage-source/build/pkgs/texlive/spkg-install' /opt/sagemath/sage-source/logs/pkgs/texlive.log
[texlive] /opt/sagemath/sage-source/build/bin/sage-logger: line 89: /opt/sagemath/sage-source/build/pkgs/texlive/spkg-install: Permission denied
Makefile:2984: recipe for target 'texlive' failed
```



Issue created by migration from https://trac.sagemath.org/ticket/24586





---

archive/issue_comments_341062.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-01-22T23:40:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24349#issuecomment-341062",
    "user": "tmonteil"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_341063.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-01-22T23:40:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24349#issuecomment-341063",
    "user": "tmonteil"
}
```

New commits:



---

archive/issue_comments_341064.json:
```json
{
    "body": "Apparently, `texlive` script is broken anyway, see also #21922.",
    "created_at": "2018-01-22T23:46:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24349#issuecomment-341064",
    "user": "tmonteil"
}
```

Apparently, `texlive` script is broken anyway, see also #21922.



---

archive/issue_comments_341065.json:
```json
{
    "body": "I'm thinking we should just get rid of \"script\" type.  It only applies to three packages and there's no good reason for it.  It's a misuse of \"package type\" anyways, which we'd like to get away from being a reflection of how a package is installed and more a reflection of under what circumstances the package should be installed (i.e. standard vs. optional).\n\nI would propose that we convert these packages' types to \"optional\", treat \"script\" as an alias for \"optional\", and write a deprecation warning in the off chance that someone tries to use \"script\" type again.",
    "created_at": "2018-01-23T11:39:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24349#issuecomment-341065",
    "user": "embray"
}
```

I'm thinking we should just get rid of "script" type.  It only applies to three packages and there's no good reason for it.  It's a misuse of "package type" anyways, which we'd like to get away from being a reflection of how a package is installed and more a reflection of under what circumstances the package should be installed (i.e. standard vs. optional).

I would propose that we convert these packages' types to "optional", treat "script" as an alias for "optional", and write a deprecation warning in the off chance that someone tries to use "script" type again.



---

archive/issue_comments_341066.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-01-23T11:39:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24349#issuecomment-341066",
    "user": "embray"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_341067.json:
```json
{
    "body": "Additionally if wanted to add some explicit marker that there is no \"source tarball\" for the package that would be fine too.",
    "created_at": "2018-01-23T11:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24349#issuecomment-341067",
    "user": "embray"
}
```

Additionally if wanted to add some explicit marker that there is no "source tarball" for the package that would be fine too.



---

archive/issue_comments_341068.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2018-01-25T18:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24349#issuecomment-341068",
    "user": "jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_341069.json:
```json
{
    "body": "At least this fixes something, why not merge it?",
    "created_at": "2018-01-25T18:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24349#issuecomment-341069",
    "user": "jdemeyer"
}
```

At least this fixes something, why not merge it?



---

archive/issue_comments_341070.json:
```json
{
    "body": "I guess. I can open an issue for my further suggestions.",
    "created_at": "2018-01-26T16:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24349#issuecomment-341070",
    "user": "embray"
}
```

I guess. I can open an issue for my further suggestions.



---

archive/issue_comments_341071.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-01-27T15:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24349#issuecomment-341071",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_341072.json:
```json
{
    "body": "Replying to [comment:4 embray]:\n> I'm thinking we should just get rid of \"script\" type.  It only applies to three packages and there's no good reason for it.  It's a misuse of \"package type\" anyways, which we'd like to get away from being a reflection of how a package is installed and more a reflection of under what circumstances the package should be installed (i.e. standard vs. optional).\n> \n> I would propose that we convert these packages' types to \"optional\", treat \"script\" as an alias for \"optional\", and write a deprecation warning in the off chance that someone tries to use \"script\" type again.\n\n#29287 makes roughly these proposed changes (but without the soft transition using deprecation).",
    "created_at": "2020-03-15T02:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24349#issuecomment-341072",
    "user": "mkoeppe"
}
```

Replying to [comment:4 embray]:
> I'm thinking we should just get rid of "script" type.  It only applies to three packages and there's no good reason for it.  It's a misuse of "package type" anyways, which we'd like to get away from being a reflection of how a package is installed and more a reflection of under what circumstances the package should be installed (i.e. standard vs. optional).
> 
> I would propose that we convert these packages' types to "optional", treat "script" as an alias for "optional", and write a deprecation warning in the off chance that someone tries to use "script" type again.

#29287 makes roughly these proposed changes (but without the soft transition using deprecation).
