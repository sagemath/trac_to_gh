# Issue 24043: experimental package for the 3D printing of Cayley graphs.

archive/issues_024043.json:
```json
{
    "body": "CC:  @jplab @tscrim @bsalisbury1 @elizabethjd\n\nOn the website reflections.swarthmore.edu, we have implemented a model builder for Cayley graphs of low-rank reflection groups in a series of SageCells. We would like to use this code to create an experimental package.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24280\n\n",
    "created_at": "2017-11-25T21:40:51Z",
    "labels": [
        "component: packages: experimental"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "experimental package for the 3D printing of Cayley graphs.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24043",
    "user": "https://trac.sagemath.org/admin/accounts/users/kjcollins"
}
```
CC:  @jplab @tscrim @bsalisbury1 @elizabethjd

On the website reflections.swarthmore.edu, we have implemented a model builder for Cayley graphs of low-rank reflection groups in a series of SageCells. We would like to use this code to create an experimental package.

Issue created by migration from https://trac.sagemath.org/ticket/24280





---

archive/issue_comments_336647.json:
```json
{
    "body": "Package code currently at this link: https://github.com/kjcollins/3d_cayley_graphs. Model class is in cayley_model.sage.\n\n\n\nWe would like to include this as an addition to sage/plot/plot3d, if it's appropriate.",
    "created_at": "2018-03-16T16:24:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336647",
    "user": "https://trac.sagemath.org/admin/accounts/users/kjcollins"
}
```

Package code currently at this link: https://github.com/kjcollins/3d_cayley_graphs. Model class is in cayley_model.sage.



We would like to include this as an addition to sage/plot/plot3d, if it's appropriate.



---

archive/issue_comments_336648.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2018-05-24T15:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336648",
    "user": "https://trac.sagemath.org/admin/accounts/users/kjcollins"
}
```

Changing status from new to needs_info.



---

archive/issue_events_061466.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/kjcollins",
    "created_at": "2018-05-24T15:19:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24043#event-61466"
}
```



---

archive/issue_comments_336649.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-05-24T15:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336649",
    "user": "https://trac.sagemath.org/admin/accounts/users/kjcollins"
}
```

New commits:



---

archive/issue_comments_336650.json:
```json
{
    "body": "In order for the bot to test your ticket, it is required to have the field \"Authors\" filled with the full names of the authors",
    "created_at": "2018-07-11T10:21:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336650",
    "user": "https://github.com/jplab"
}
```

In order for the bot to test your ticket, it is required to have the field "Authors" filled with the full names of the authors



---

archive/issue_comments_336651.json:
```json
{
    "body": "Hi,\n\nI had a look at the code, here are already some things to have a look at:\n\n- The module should follow the general coding convention of sage, for example the indentation:\n\n\n```\nEXAMPLES:\n\nBasic plot of a reflection group::     <---- double colon here.\n             <------ line break here\n    sage: ReflectionGroup(['A',3])                             # optional - gap3\n    Irreducible real reflection group of rank 3 and type A3\n    sage: w = ReflectionGroup(['A',3])                         # optional - gap3\n    sage: ReflectionGroup3d(w)\n    Rigid graphical representation of Irreducible real reflection group of rank 3 and type A3\n    sage: g = ReflectionGroup3d(w)\n    sage: g.plot3d()\n    Graphics3d Object\n```\n\n\nfor more details, see here https://doc.sagemath.org/html/en/developer/#writing-code-for-sage . Further, the first line of test above is not needed.\n\n- The code should also try to follow pep8 conventions: https://www.python.org/dev/peps/pep-0008/\n\n- The examples given in the documentation should work out-of-the-box, that is, running `sage -t sage/src/sage/plot/plot3d/reflection_group3d.py` should not return failures (currently has 120, for example, you should not forget to import the relevant function like `ReflectionGroup` in the preamble of the file.)\n\n- The name of the class is perhaps not so well-chosen, perhaps `cayley_graph3d`? Which leads to a potential follow-up question: could this work eventually for general groups?\n\n- General question: do you really need `gap3`? You can require `gap3`, but then should be nice to the user and say it at in the docstring of the module.\n\n- Sage does not usually privilege the usage of user warnings. It should be explained in the docstring of the function what is done, with an example.\n\n- About the Jmol bug, could you give a minimal working instance of the bug?\n\nThat's what I can see for now. If you could work on the above list, then I can continue to give feedback once new versions come along!\n\nBest,\nJP",
    "created_at": "2018-07-11T12:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336651",
    "user": "https://github.com/jplab"
}
```

Hi,

I had a look at the code, here are already some things to have a look at:

- The module should follow the general coding convention of sage, for example the indentation:


```
EXAMPLES:

Basic plot of a reflection group::     <---- double colon here.
             <------ line break here
    sage: ReflectionGroup(['A',3])                             # optional - gap3
    Irreducible real reflection group of rank 3 and type A3
    sage: w = ReflectionGroup(['A',3])                         # optional - gap3
    sage: ReflectionGroup3d(w)
    Rigid graphical representation of Irreducible real reflection group of rank 3 and type A3
    sage: g = ReflectionGroup3d(w)
    sage: g.plot3d()
    Graphics3d Object
```


for more details, see here https://doc.sagemath.org/html/en/developer/#writing-code-for-sage . Further, the first line of test above is not needed.

- The code should also try to follow pep8 conventions: https://www.python.org/dev/peps/pep-0008/

- The examples given in the documentation should work out-of-the-box, that is, running `sage -t sage/src/sage/plot/plot3d/reflection_group3d.py` should not return failures (currently has 120, for example, you should not forget to import the relevant function like `ReflectionGroup` in the preamble of the file.)

- The name of the class is perhaps not so well-chosen, perhaps `cayley_graph3d`? Which leads to a potential follow-up question: could this work eventually for general groups?

- General question: do you really need `gap3`? You can require `gap3`, but then should be nice to the user and say it at in the docstring of the module.

- Sage does not usually privilege the usage of user warnings. It should be explained in the docstring of the function what is done, with an example.

- About the Jmol bug, could you give a minimal working instance of the bug?

That's what I can see for now. If you could work on the above list, then I can continue to give feedback once new versions come along!

Best,
JP



---

archive/issue_comments_336652.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2018-07-11T12:13:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336652",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_336653.json:
```json
{
    "body": "Changing component from packages: experimental to graphics.",
    "created_at": "2018-07-11T15:35:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336653",
    "user": "https://github.com/tscrim"
}
```

Changing component from packages: experimental to graphics.



---

archive/issue_comments_336654.json:
```json
{
    "body": "Is there something specific about `ReflectionGroup` that you need to use? Why not `WeylGroup` or `CoxeterGroup` (when the Cartan/Coxeter type is a finite type)?",
    "created_at": "2018-07-11T15:35:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336654",
    "user": "https://github.com/tscrim"
}
```

Is there something specific about `ReflectionGroup` that you need to use? Why not `WeylGroup` or `CoxeterGroup` (when the Cartan/Coxeter type is a finite type)?



---

archive/issue_events_061467.json:
```json
{
    "actor": "https://github.com/bsalisbury1",
    "created_at": "2018-07-25T19:59:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24043#event-61467"
}
```



---

archive/issue_events_061468.json:
```json
{
    "actor": "https://github.com/bsalisbury1",
    "created_at": "2018-07-25T19:59:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24043#event-61468"
}
```



---

archive/issue_comments_336655.json:
```json
{
    "body": "Changing keywords from \"\" to \"sagedays@icerm\".",
    "created_at": "2018-07-25T19:59:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336655",
    "user": "https://github.com/bsalisbury1"
}
```

Changing keywords from "" to "sagedays@icerm".



---

archive/issue_comments_336656.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-07-26T23:50:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336656",
    "user": "https://github.com/kevindilks"
}
```

New commits:



---

archive/issue_comments_336657.json:
```json
{
    "body": "The problem is that having\n\n`warnings.simplefilter(\"always\")`\n\nwhich is meant to bring up warnings for 3 specific doc-tests is causing a normal doc-test to throw hundreds of warnings. Removing that import just causes those 3 specific doc-tests to return a blank line instead of a warning, so that 3 doc-tests will just be modified/removed.",
    "created_at": "2018-07-27T00:20:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336657",
    "user": "https://github.com/kevindilks"
}
```

The problem is that having

`warnings.simplefilter("always")`

which is meant to bring up warnings for 3 specific doc-tests is causing a normal doc-test to throw hundreds of warnings. Removing that import just causes those 3 specific doc-tests to return a blank line instead of a warning, so that 3 doc-tests will just be modified/removed.



---

archive/issue_comments_336658.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-27T19:20:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336658",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_336659.json:
```json
{
    "body": "Hi,\n\nwithout the `gap3` optional package, I still get 3 doctest failures:\n\n\n```\nFile \"reflection_group3d.py\", line 63, in sage.plot.plot3d.reflection_group3d\nFailed example:\n    g_plot = cayley_graph_3d(A1A1, point=(21,11,31))\nExpected nothing\nGot:\n    doctest:warning\n\n\nFile \"reflection_group3d.py\", line 212, in sage.plot.plot3d.reflection_group3d.cayley_graph_3d._real_dimension\nFailed example:\n    A = cayley_graph_3d(W)\n\nFile \"reflection_group3d.py\", line 213, in sage.plot.plot3d.reflection_group3d.cayley_graph_3d._real_dimension\nFailed example:\n    A.real_dimension\nException raised:\n```\n\n\nThe last two are caused by a missing flag `# optional - gap3`.\n\nQuestion: are those warnings _really_ important? This is not typical to have warnings issued to the user like this in Sage.\n\nInstead, perhaps writing a warning block inside of the class to tell the user what the hidden behavior is might be a good idea, as suggested by the Sage Developer's manual: \n\nhttps://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings",
    "created_at": "2018-07-30T12:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336659",
    "user": "https://github.com/jplab"
}
```

Hi,

without the `gap3` optional package, I still get 3 doctest failures:


```
File "reflection_group3d.py", line 63, in sage.plot.plot3d.reflection_group3d
Failed example:
    g_plot = cayley_graph_3d(A1A1, point=(21,11,31))
Expected nothing
Got:
    doctest:warning


File "reflection_group3d.py", line 212, in sage.plot.plot3d.reflection_group3d.cayley_graph_3d._real_dimension
Failed example:
    A = cayley_graph_3d(W)

File "reflection_group3d.py", line 213, in sage.plot.plot3d.reflection_group3d.cayley_graph_3d._real_dimension
Failed example:
    A.real_dimension
Exception raised:
```


The last two are caused by a missing flag `# optional - gap3`.

Question: are those warnings _really_ important? This is not typical to have warnings issued to the user like this in Sage.

Instead, perhaps writing a warning block inside of the class to tell the user what the hidden behavior is might be a good idea, as suggested by the Sage Developer's manual: 

https://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings



---

archive/issue_comments_336660.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-31T15:40:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24043#issuecomment-336660",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:
