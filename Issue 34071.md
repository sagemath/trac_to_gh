# Issue 34071: use libgap for abelian subgroups

Issue created by migration from https://trac.sagemath.org/ticket/34308

Original creator: chapoton

Original creation time: 2022-08-08 16:02:53

CC:  tscrim klee slelievre

instead of gap pexpect


---

Comment by chapoton created at 2022-08-08 16:03:26

Changing status from new to needs_review.


---

Comment by chapoton created at 2022-08-08 16:03:26

New commits:


---

Comment by chapoton created at 2022-08-09 06:18:30

green bot, so please review


---

Comment by tscrim created at 2022-08-09 07:44:14

I recall that `len([1 for g in gen])` is faster than `sum(1 for g in gen)`, but it is not as efficient in memory. Is this why you went this route? Do we expect these lists to all be small? I vaguely recall there is a Python `count` function/method; could that be faster?


---

Comment by chapoton created at 2022-08-09 07:58:43

hello Travis,

I am just trying to get rid of the gap pexpect interface here. I am surprised that I finally managed to do that (it must be my third or fourth tentative).

I am not sure it is worth optimising further. The whole abelian group setup is IMHO a complete mess, that would deserve a complete rewriting.


---

Comment by tscrim created at 2022-08-09 09:31:46

Of course. I was just wondering if there was something specific behind this choice.


---

Comment by tscrim created at 2022-08-09 09:31:46

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-08-30 06:51:32

Resolution: fixed
