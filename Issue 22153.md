# Issue 22153: Support for unary plus in sage_input expressions

archive/issues_022153.json:
```json
{
    "body": "CC:  vdelecroix vbraun tscrim\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/22390\n\n",
    "created_at": "2017-02-18T19:16:18Z",
    "labels": [
        "symbolics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Support for unary plus in sage_input expressions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22153",
    "user": "mkoeppe"
}
```
CC:  vdelecroix vbraun tscrim



Issue created by migration from https://trac.sagemath.org/ticket/22390





---

archive/issue_comments_307768.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-02-18T19:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307768",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_307769.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-02-18T19:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307769",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_307770.json:
```json
{
    "body": "\n```\n+        elif op == '+':\n+            prec = _prec_negate\n```\n\nShouldn't there be instead a\n\n```diff\n_prec_negate = 28\n+_prec_positive = 29\n_prec_bitnot = 30\n```\n\n(BTW the section 5.14 of the Python reference manual is now 6.16 \"Operator precedence\")",
    "created_at": "2020-02-22T15:27:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307770",
    "user": "vdelecroix"
}
```


```
+        elif op == '+':
+            prec = _prec_negate
```

Shouldn't there be instead a

```diff
_prec_negate = 28
+_prec_positive = 29
_prec_bitnot = 30
```

(BTW the section 5.14 of the Python reference manual is now 6.16 "Operator precedence")



---

archive/issue_comments_307771.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2020-02-22T15:27:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307771",
    "user": "vdelecroix"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_307772.json:
```json
{
    "body": "Sorry, I lost track of this ticket. Also, minor point but since this is considered formal writing `don't` -> `do not`, and also `unary +.::` -> `unary +::` as the `.::` will become `.:` in the compiled documentation. If you really want the period, then use `unary +. ::` will get rid of the colon in the compiled doc.",
    "created_at": "2020-02-23T00:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307772",
    "user": "tscrim"
}
```

Sorry, I lost track of this ticket. Also, minor point but since this is considered formal writing `don't` -> `do not`, and also `unary +.::` -> `unary +::` as the `.::` will become `.:` in the compiled documentation. If you really want the period, then use `unary +. ::` will get rid of the colon in the compiled doc.



---

archive/issue_comments_307773.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-02-24T16:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307773",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_307774.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-24T17:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307774",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_307775.json:
```json
{
    "body": "Replying to [comment:5 vdelecroix]:\n> {{{\n> +        elif op == '+':\n> +            prec = _prec_negate\n> }}}\n> Shouldn't there be instead a\n> {{{#!diff\n> _prec_negate = 28\n> +_prec_positive = 29\n> _prec_bitnot = 30\n> }}}\n\nNo, both in Python 2 and Python 3 unary + and - have the same precedence. (Also ~ (bitnot) has the same precedence as these two, but I consider it outside the scope of this ticket to fix this.)",
    "created_at": "2020-02-24T17:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307775",
    "user": "mkoeppe"
}
```

Replying to [comment:5 vdelecroix]:
> {{{
> +        elif op == '+':
> +            prec = _prec_negate
> }}}
> Shouldn't there be instead a
> {{{#!diff
> _prec_negate = 28
> +_prec_positive = 29
> _prec_bitnot = 30
> }}}

No, both in Python 2 and Python 3 unary + and - have the same precedence. (Also ~ (bitnot) has the same precedence as these two, but I consider it outside the scope of this ticket to fix this.)



---

archive/issue_comments_307776.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-24T17:08:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307776",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_307777.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-02-24T17:08:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307777",
    "user": "mkoeppe"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_307778.json:
```json
{
    "body": "Ready for review",
    "created_at": "2020-03-01T00:05:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307778",
    "user": "mkoeppe"
}
```

Ready for review



---

archive/issue_comments_307779.json:
```json
{
    "body": "Is there still an interest in this ticket?",
    "created_at": "2020-03-15T18:44:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307779",
    "user": "mkoeppe"
}
```

Is there still an interest in this ticket?



---

archive/issue_comments_307780.json:
```json
{
    "body": "Sure, but I am confused about the priorities.",
    "created_at": "2020-03-15T19:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307780",
    "user": "vdelecroix"
}
```

Sure, but I am confused about the priorities.



---

archive/issue_comments_307781.json:
```json
{
    "body": "(I meant operator precedence)",
    "created_at": "2020-03-15T19:08:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307781",
    "user": "vdelecroix"
}
```

(I meant operator precedence)



---

archive/issue_comments_307782.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-15T19:11:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307782",
    "user": "vdelecroix"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_307783.json:
```json
{
    "body": "Thank you!",
    "created_at": "2020-03-15T19:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307783",
    "user": "mkoeppe"
}
```

Thank you!



---

archive/issue_comments_307784.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-18T22:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22153#issuecomment-307784",
    "user": "vbraun"
}
```

Resolution: fixed
