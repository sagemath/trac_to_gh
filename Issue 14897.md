# Issue 14897: HyperbolicFunction can't handle Python complex input

Issue created by migration from Trac.

Original creator: eviatarbach

Original creation time: 2013-08-31 17:36:22

CC:  burcin paulmasson

For example,


```
sage: coth(complex(1, 2))
AttributeError: 'complex' object has no attribute 'coth'
```



---

Comment by eviatarbach created at 2013-08-31 17:56:42

See the changes to `hyperbolic.py` in http://trac.sagemath.org/attachment/ticket/15071/trac15071.patch for a fix.


---

Comment by eviatarbach created at 2016-02-15 08:23:13

This has been fixed by #15071. It can be closed after adding some tests.


---

Comment by git created at 2016-07-01 16:13:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by eviatarbach created at 2016-07-01 16:15:41

Changing status from new to needs_review.


---

Comment by tscrim created at 2016-07-01 16:26:56

Changing keywords from "" to "days78".


---

Comment by tscrim created at 2016-07-01 16:26:56

LGTM.


---

Comment by tscrim created at 2016-07-01 16:26:56

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-07-01 20:29:42

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2016-07-01 20:29:42

There is some numerical noise on some buildbots:

```
sage -t --long src/sage/functions/hyperbolic.py
**********************************************************************
File "src/sage/functions/hyperbolic.py", line 238, in sage.functions.hyperbolic.Function_coth.__init__
Failed example:
    coth(complex(1, 2))
Expected:
    (0.8213297974938518+0.17138361290918508j)
Got:
    (0.8213297974938518+0.17138361290918505j)
**********************************************************************
File "src/sage/functions/hyperbolic.py", line 442, in sage.functions.hyperbolic.Function_arccosh.__init__
Failed example:
    arccosh(complex(1, 2))
Expected:
    (1.5285709194809982+1.1437177404024204j)
Got:
    (1.528570919480998+1.1437177404024206j)
**********************************************************************
2 items had failures:
   1 of  23 in sage.functions.hyperbolic.Function_arccosh.__init__
   1 of  15 in sage.functions.hyperbolic.Function_coth.__init__
    [181 tests, 2 failures, 1.23 s]
```



---

Comment by git created at 2016-07-02 01:15:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by eviatarbach created at 2016-07-02 01:16:59

Changing status from needs_work to needs_review.


---

Comment by eviatarbach created at 2016-07-02 01:16:59

Added tolerance to doctests


---

Comment by paulmasson created at 2016-07-20 02:08:58

The branch currently shows the entire `hyperbolic.py` file being deleted. Unless this is a Trac error, the branch needs to be reassembled from commits.


---

Comment by paulmasson created at 2016-07-20 02:08:58

Changing status from needs_review to needs_work.


---

Comment by tscrim created at 2016-07-20 02:59:17

Completely missed this. Sorry Eviatar. LGTM.

`@`paulmasson It's a trac error (although I don't get it); it happens sometimes.


---

Comment by tscrim created at 2016-07-20 02:59:17

Changing status from needs_work to positive_review.


---

Comment by rws created at 2016-07-21 06:12:18

Yes, when I `git trac checkout 15134` the file exists. BTW the whole class `HyperbolicFunction` is no longer needed, as these are all `GinacFunction`s now.


---

Comment by vbraun created at 2016-07-21 16:51:59

Resolution: fixed
