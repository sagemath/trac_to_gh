# Issue 15633: typesetting of multi-character variables wrong

Issue created by migration from https://trac.sagemath.org/ticket/15870

Original creator: dkrenn

Original creation time: 2014-02-27 08:39:40

We have

```
sage: abc = var('abc')
sage: latex((abc/(abc+1)+42)/(abc-1))
\frac{\frac{\mbox{abc}}{\mbox{abc} + 1} + 42}{\mbox{abc} - 1}
```

The \mbox here is wrong because of the following two reasons:
- In the example above `\mbox{abc}` has normal size, whereas the `+1` is typeset in subscriptsize (or so). You can see this by `view((abc/(abc+1)+42)/(abc-1))`.
- Variables are written in italic.

Therefore `\mbox` should be replaced by `\mathit` (which solves both problems mentioned above).

See also #13543 (Multi-character variables not supported in legend_labels).



---

Comment by dkrenn created at 2014-02-27 08:40:51

Changing type from PLEASE CHANGE to defect.


---

Comment by dkrenn created at 2014-02-27 08:40:51

Changing keywords from "" to "latex, variable".


---

Comment by dkrenn created at 2014-02-27 08:40:51

Changing component from PLEASE CHANGE to user interface.


---

Comment by dkrenn created at 2014-02-27 08:45:16

See also [http://tex.stackexchange.com/questions/6087/two-letter-variable-names](http://tex.stackexchange.com/questions/6087/two-letter-variable-names).


---

Comment by ppurka created at 2014-02-27 14:18:09

The whole point of not writing it directly as `abc` is probably to avoid italics. So, a proper fix would be to use `\text` instead of `\mbox`. You can compare the output as follows

```
view(LatexExpr(r'\frac{\frac{\text{abc}}{\text{abc} + 1} + 42}{\text{abc} - 1}'))
view(LatexExpr(r'\frac{\frac{\mathit{abc}}{\mathit{abc} + 1} + 42}{\mathit{abc} - 1}'))
```



---

Comment by dkrenn created at 2014-03-18 17:29:53

Replying to [comment:3 ppurka]:
> The whole point of not writing it directly as `abc` is probably to avoid italics. So, a proper fix would be to use `\text` instead of `\mbox`. 

`\text` is not correct for variables. They have to be written italic.


---

Comment by dkrenn created at 2014-03-24 13:16:21

Changing status from new to needs_review.


---

Comment by dkrenn created at 2014-03-24 13:16:21

I've changed the source so that multi-character variables are printed correctly. 

The LaTeX-output of infinite polynomial ring variables was also adapted to support multi-character variables correctly. Thereby, this output is now generated using the standard tools of `latex.py`.
----
New commits:


---

Comment by novoselt created at 2014-03-31 21:37:17

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-04-01 16:54:09

Resolution: fixed
