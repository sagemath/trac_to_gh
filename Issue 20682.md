# Issue 20682: Apparent bug in incomplete orthogonal arrays

Issue created by migration from Trac.

Original creator: eviatarbach

Original creation time: 2016-07-01 23:16:40

CC:  vdelecroix

Keywords: days78

The docstring for `designs.incomplete_orthogocal_array` claims that if `existence=True`, the function will return a boolean or `Unknown`. However, for certain values, it returns the array.

For example,


```
sage: type(designs.incomplete_orthogonal_array(9,82,[9],existence=True))
<type 'list'>
```


I encountered this while working on something else, and I have no idea of the math behind this, but it seems to be incorrect. The problem seems to be in the block starting at line 1371 in `orthogonal_arrays.py` ("From a quasi-difference matrix"); all other branches in the function take into account whether `existence` is set, but this one does not.


---

Comment by eviatarbach created at 2016-07-01 23:57:31

Similar problem with `designs.difference_family(3, 2, 1, existence=True)`
