# Issue 28545: Better interface to Galois groups

archive/issues_028545.json:
```json
{
    "body": "You currently have to decide explicitly whether you want a fully functional Galois group (`type=None`) or a fast Galois group (`type=\"pari\"`).  We should instead create an object that lazily computes any relevant attributes so that we can have a unified interface.\n\nIssue created by migration from https://trac.sagemath.org/ticket/28782\n\n",
    "created_at": "2019-11-20T22:24:34Z",
    "labels": [
        "component: number fields"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Better interface to Galois groups",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28545",
    "user": "https://github.com/roed314"
}
```
You currently have to decide explicitly whether you want a fully functional Galois group (`type=None`) or a fast Galois group (`type="pari"`).  We should instead create an object that lazily computes any relevant attributes so that we can have a unified interface.

Issue created by migration from https://trac.sagemath.org/ticket/28782





---

archive/issue_comments_402567.json:
```json
{
    "body": "Ticket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402567",
    "user": "https://github.com/embray"
}
```

Ticket retargeted after milestone closed



---

archive/issue_comments_402568.json:
```json
{
    "body": "Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402568",
    "user": "https://github.com/mkoeppe"
}
```

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_402569.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402569",
    "user": "https://github.com/mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_402570.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-03-02T17:40:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402570",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_402571.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-02T18:50:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402571",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402572.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-03T21:45:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402572",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402573.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-03T22:40:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402573",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402574.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-03T23:00:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402574",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402575.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-03T23:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402575",
    "user": "https://github.com/roed314"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_402576.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-04T06:10:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402576",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402577.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-04T06:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402577",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402578.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-04T17:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402578",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402579.json:
```json
{
    "body": "I think you can replace\n\n```diff\n-@cached_method(key=lambda self, algorithm: self._get_algorithm(algorithm))\n+@cached_method(key=GaloisGroup._get_algorithm)\n```\n\nbut I haven't tested it yet. Otherwise I would be okay setting this to a positive review (although I am not someone who uses this code).",
    "created_at": "2021-03-05T01:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402579",
    "user": "https://github.com/tscrim"
}
```

I think you can replace

```diff
-@cached_method(key=lambda self, algorithm: self._get_algorithm(algorithm))
+@cached_method(key=GaloisGroup._get_algorithm)
```

but I haven't tested it yet. Otherwise I would be okay setting this to a positive review (although I am not someone who uses this code).



---

archive/issue_comments_402580.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-06T18:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402580",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402581.json:
```json
{
    "body": "Thanks Travis.  I also fixed a couple issues Xavier Caruso pointed out.  I'm happy with the current state of this ticket (and am also planning on working on followups soon).\n----\nNew commits:",
    "created_at": "2021-03-06T18:06:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402581",
    "user": "https://github.com/roed314"
}
```

Thanks Travis.  I also fixed a couple issues Xavier Caruso pointed out.  I'm happy with the current state of this ticket (and am also planning on working on followups soon).
----
New commits:



---

archive/issue_comments_402582.json:
```json
{
    "body": "One trivially failing test:\n\n```\n        Check that it works for relative number fields.  This behavior will change in the future::\n\n            sage: K.<a> = NumberField(x^3 - 2)\n            sage: L.<b> = NumberField(x^2 - x + 17*a)\n            sage: G = L.galois_group()\n            ...DeprecationWarning: Use .absolute_field().galois_group() if you want the Galois group of the absolute field\n            See https://trac.sagemath.org/28782 for details.\n            sage: G                   <----------------------------------\n            sage: M, emb = G._gcdata\n```\n\nI think you meant to remove this line. Once this is fixed, you can set a positive review.",
    "created_at": "2021-03-08T01:15:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402582",
    "user": "https://github.com/tscrim"
}
```

One trivially failing test:

```
        Check that it works for relative number fields.  This behavior will change in the future::

            sage: K.<a> = NumberField(x^3 - 2)
            sage: L.<b> = NumberField(x^2 - x + 17*a)
            sage: G = L.galois_group()
            ...DeprecationWarning: Use .absolute_field().galois_group() if you want the Galois group of the absolute field
            See https://trac.sagemath.org/28782 for details.
            sage: G                   <----------------------------------
            sage: M, emb = G._gcdata
```

I think you meant to remove this line. Once this is fixed, you can set a positive review.



---

archive/issue_comments_402583.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-08T01:33:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402583",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402584.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-03-08T01:34:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402584",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_402585.json:
```json
{
    "body": "Fixed.  Thanks, both of you!",
    "created_at": "2021-03-08T01:34:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402585",
    "user": "https://github.com/roed314"
}
```

Fixed.  Thanks, both of you!



---

archive/issue_comments_402586.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-03-08T09:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402586",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_402587.json:
```json
{
    "body": "PDF docs fail to build",
    "created_at": "2021-03-08T09:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402587",
    "user": "https://github.com/vbraun"
}
```

PDF docs fail to build



---

archive/issue_comments_402588.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-08T18:43:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402588",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_402589.json:
```json
{
    "body": "Sorry about that.  I fixed the error and tested the docbuild for both html and pdf.",
    "created_at": "2021-03-08T21:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402589",
    "user": "https://github.com/roed314"
}
```

Sorry about that.  I fixed the error and tested the docbuild for both html and pdf.



---

archive/issue_comments_402590.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2021-03-08T21:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402590",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_402591.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-03-14T15:03:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28545#issuecomment-402591",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
